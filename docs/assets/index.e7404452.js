var it=Object.defineProperty,rt=Object.defineProperties;var at=Object.getOwnPropertyDescriptors;var tt=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable;var nt=(t,e,r)=>e in t?it(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ye=(t,e)=>{for(var r in e||(e={}))st.call(e,r)&&nt(t,r,e[r]);if(tt)for(var r of tt(e))ot.call(e,r)&&nt(t,r,e[r]);return t},Je=(t,e)=>rt(t,at(e));const p$1=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function r(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerpolicy&&(h.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?h.credentials="include":l.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=r(l);fetch(l.href,h)}};p$1();function noop$2(){}const identity=t=>t;function assign$1(t,e){for(const r in e)t[r]=e[r];return t}function is_promise(t){return t&&typeof t=="object"&&typeof t.then=="function"}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return typeof t=="function"}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let src_url_equal_anchor;function src_url_equal(t,e){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,t===src_url_equal_anchor.href}function is_empty(t){return Object.keys(t).length===0}function subscribe(t,...e){if(t==null)return noop$2;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function get_store_value(t){let e;return subscribe(t,r=>e=r)(),e}function component_subscribe(t,e,r){t.$$.on_destroy.push(subscribe(e,r))}function create_slot(t,e,r,o){if(t){const l=get_slot_context(t,e,r,o);return t[0](l)}}function get_slot_context(t,e,r,o){return t[1]&&o?assign$1(r.ctx.slice(),t[1](o(e))):r.ctx}function get_slot_changes(t,e,r,o){if(t[2]&&o){const l=t[2](o(r));if(e.dirty===void 0)return l;if(typeof l=="object"){const h=[],y=Math.max(e.dirty.length,l.length);for(let D=0;D<y;D+=1)h[D]=e.dirty[D]|l[D];return h}return e.dirty|l}return e.dirty}function update_slot_base(t,e,r,o,l,h){if(l){const y=get_slot_context(e,r,o,h);t.p(y,l)}}function get_all_dirty_from_scope(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let o=0;o<r;o++)e[o]=-1;return e}return-1}function exclude_internal_props(t){const e={};for(const r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function compute_rest_props(t,e){const r={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(r[o]=t[o]);return r}function null_to_empty(t){return t==null?"":t}function set_store_value(t,e,r){return t.set(r),e}function action_destroyer(t){return t&&is_function(t.destroy)?t.destroy:noop$2}const is_client=typeof window!="undefined";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?t=>requestAnimationFrame(t):noop$2;const tasks=new Set;function run_tasks(t){tasks.forEach(e=>{e.c(t)||(tasks.delete(e),e.f())}),tasks.size!==0&&raf(run_tasks)}function loop(t){let e;return tasks.size===0&&raf(run_tasks),{promise:new Promise(r=>{tasks.add(e={c:t,f:r})}),abort(){tasks.delete(e)}}}function append(t,e){t.appendChild(e)}function get_root_for_style(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function append_empty_stylesheet(t){const e=element("style");return append_stylesheet(get_root_for_style(t),e),e.sheet}function append_stylesheet(t,e){append(t.head||t,e)}function insert(t,e,r){t.insertBefore(e,r||null)}function detach(t){t.parentNode.removeChild(t)}function destroy_each(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function element(t){return document.createElement(t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,r,o){return t.addEventListener(e,r,o),()=>t.removeEventListener(e,r,o)}function stop_propagation(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function attr(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function to_number(t){return t===""?null:+t}function children(t){return Array.from(t.childNodes)}function set_data(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function set_input_value(t,e){t.value=e==null?"":e}function set_style(t,e,r,o){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,o?"important":"")}function select_option(t,e){for(let r=0;r<t.options.length;r+=1){const o=t.options[r];if(o.__value===e){o.selected=!0;return}}t.selectedIndex=-1}function select_value(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function custom_event(t,e,{bubbles:r=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,r,o,e),l}const managed_styles=new Map;let active=0;function hash(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function create_style_information(t,e){const r={stylesheet:append_empty_stylesheet(e),rules:{}};return managed_styles.set(t,r),r}function create_rule(t,e,r,o,l,h,y,D=0){const O=16.666/o;let F=`{
`;for(let G=0;G<=1;G+=O){const Y=e+(r-e)*h(G);F+=G*100+`%{${y(Y,1-Y)}}
`}const R=F+`100% {${y(r,1-r)}}
}`,B=`__svelte_${hash(R)}_${D}`,j=get_root_for_style(t),{stylesheet:U,rules:q}=managed_styles.get(j)||create_style_information(j,t);q[B]||(q[B]=!0,U.insertRule(`@keyframes ${B} ${R}`,U.cssRules.length));const W=t.style.animation||"";return t.style.animation=`${W?`${W}, `:""}${B} ${o}ms linear ${l}ms 1 both`,active+=1,B}function delete_rule(t,e){const r=(t.style.animation||"").split(", "),o=r.filter(e?h=>h.indexOf(e)<0:h=>h.indexOf("__svelte")===-1),l=r.length-o.length;l&&(t.style.animation=o.join(", "),active-=l,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}}),managed_styles.clear())})}function create_animation(t,e,r,o){if(!e)return noop$2;const l=t.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return noop$2;const{delay:h=0,duration:y=300,easing:D=identity,start:O=now()+h,end:F=O+y,tick:R=noop$2,css:B}=r(t,{from:e,to:l},o);let j=!0,U=!1,q;function W(){B&&(q=create_rule(t,0,1,y,h,D,B)),h||(U=!0)}function G(){B&&delete_rule(t,q),j=!1}return loop(Y=>{if(!U&&Y>=O&&(U=!0),U&&Y>=F&&(R(1,0),G()),!j)return!1;if(U){const K=Y-O,X=0+1*D(K/y);R(X,1-X)}return!0}),W(),R(0,1),G}function fix_position(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:r,height:o}=e,l=t.getBoundingClientRect();t.style.position="absolute",t.style.width=r,t.style.height=o,add_transform(t,l)}}function add_transform(t,e){const r=t.getBoundingClientRect();if(e.left!==r.left||e.top!==r.top){const o=getComputedStyle(t),l=o.transform==="none"?"":o.transform;t.style.transform=`${l} translate(${e.left-r.left}px, ${e.top-r.top}px)`}}let current_component;function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(t){get_current_component().$$.on_mount.push(t)}function onDestroy(t){get_current_component().$$.on_destroy.push(t)}function setContext(t,e){return get_current_component().$$.context.set(t,e),e}function getContext(t){return get_current_component().$$.context.get(t)}function bubble(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach(o=>o.call(this,e))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(t){render_callbacks.push(t)}function add_flush_callback(t){flush_callbacks.push(t)}const seen_callbacks=new Set;let flushidx=0;function flush(){const t=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const r=render_callbacks[e];seen_callbacks.has(r)||(seen_callbacks.add(r),r())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(t)}function update(t){if(t.fragment!==null){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch$2(t,e,r){t.dispatchEvent(custom_event(`${e?"intro":"outro"}${r}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,r,o){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push(()=>{outroing.delete(t),o&&(r&&t.d(1),o())}),t.o(e)}else o&&o()}const null_transition={duration:0};function create_in_transition(t,e,r){let o=e(t,r),l=!1,h,y,D=0;function O(){h&&delete_rule(t,h)}function F(){const{delay:B=0,duration:j=300,easing:U=identity,tick:q=noop$2,css:W}=o||null_transition;W&&(h=create_rule(t,0,1,j,B,U,W,D++)),q(0,1);const G=now()+B,Y=G+j;y&&y.abort(),l=!0,add_render_callback(()=>dispatch$2(t,!0,"start")),y=loop(K=>{if(l){if(K>=Y)return q(1,0),dispatch$2(t,!0,"end"),O(),l=!1;if(K>=G){const X=U((K-G)/j);q(X,1-X)}}return l})}let R=!1;return{start(){R||(R=!0,delete_rule(t),is_function(o)?(o=o(),wait().then(F)):F())},invalidate(){R=!1},end(){l&&(O(),l=!1)}}}function create_out_transition(t,e,r){let o=e(t,r),l=!0,h;const y=outros;y.r+=1;function D(){const{delay:O=0,duration:F=300,easing:R=identity,tick:B=noop$2,css:j}=o||null_transition;j&&(h=create_rule(t,1,0,F,O,R,j));const U=now()+O,q=U+F;add_render_callback(()=>dispatch$2(t,!1,"start")),loop(W=>{if(l){if(W>=q)return B(0,1),dispatch$2(t,!1,"end"),--y.r||run_all(y.c),!1;if(W>=U){const G=R((W-U)/F);B(1-G,G)}}return l})}return is_function(o)?wait().then(()=>{o=o(),D()}):D(),{end(O){O&&o.tick&&o.tick(1,0),l&&(h&&delete_rule(t,h),l=!1)}}}function create_bidirectional_transition(t,e,r,o){let l=e(t,r),h=o?0:1,y=null,D=null,O=null;function F(){O&&delete_rule(t,O)}function R(j,U){const q=j.b-h;return U*=Math.abs(q),{a:h,b:j.b,d:q,duration:U,start:j.start,end:j.start+U,group:j.group}}function B(j){const{delay:U=0,duration:q=300,easing:W=identity,tick:G=noop$2,css:Y}=l||null_transition,K={start:now()+U,b:j};j||(K.group=outros,outros.r+=1),y||D?D=K:(Y&&(F(),O=create_rule(t,h,j,q,U,W,Y)),j&&G(0,1),y=R(K,q),add_render_callback(()=>dispatch$2(t,j,"start")),loop(X=>{if(D&&X>D.start&&(y=R(D,q),D=null,dispatch$2(t,y.b,"start"),Y&&(F(),O=create_rule(t,h,y.b,y.duration,0,W,l.css))),y){if(X>=y.end)G(h=y.b,1-h),dispatch$2(t,y.b,"end"),D||(y.b?F():--y.group.r||run_all(y.group.c)),y=null;else if(X>=y.start){const J=X-y.start;h=y.a+y.d*W(J/y.duration),G(h,1-h)}}return!!(y||D)}))}return{run(j){is_function(l)?wait().then(()=>{l=l(),B(j)}):B(j)},end(){F(),y=D=null}}}function handle_promise(t,e){const r=e.token={};function o(l,h,y,D){if(e.token!==r)return;e.resolved=D;let O=e.ctx;y!==void 0&&(O=O.slice(),O[y]=D);const F=l&&(e.current=l)(O);let R=!1;e.block&&(e.blocks?e.blocks.forEach((B,j)=>{j!==h&&B&&(group_outros(),transition_out(B,1,1,()=>{e.blocks[j]===B&&(e.blocks[j]=null)}),check_outros())}):e.block.d(1),F.c(),transition_in(F,1),F.m(e.mount(),e.anchor),R=!0),e.block=F,e.blocks&&(e.blocks[h]=F),R&&flush()}if(is_promise(t)){const l=get_current_component();if(t.then(h=>{set_current_component(l),o(e.then,1,e.value,h),set_current_component(null)},h=>{if(set_current_component(l),o(e.catch,2,e.error,h),set_current_component(null),!e.hasCatch)throw h}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function update_await_block_branch(t,e,r){const o=e.slice(),{resolved:l}=t;t.current===t.then&&(o[t.value]=l),t.current===t.catch&&(o[t.error]=l),t.block.p(o,r)}const globals=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function destroy_block(t,e){t.d(1),e.delete(t.key)}function outro_and_destroy_block(t,e){transition_out(t,1,1,()=>{e.delete(t.key)})}function fix_and_outro_and_destroy_block(t,e){t.f(),outro_and_destroy_block(t,e)}function update_keyed_each(t,e,r,o,l,h,y,D,O,F,R,B){let j=t.length,U=h.length,q=j;const W={};for(;q--;)W[t[q].key]=q;const G=[],Y=new Map,K=new Map;for(q=U;q--;){const Z=B(l,h,q),ee=r(Z);let ne=y.get(ee);ne?o&&ne.p(Z,e):(ne=F(ee,Z),ne.c()),Y.set(ee,G[q]=ne),ee in W&&K.set(ee,Math.abs(q-W[ee]))}const X=new Set,J=new Set;function Q(Z){transition_in(Z,1),Z.m(D,R),y.set(Z.key,Z),R=Z.first,U--}for(;j&&U;){const Z=G[U-1],ee=t[j-1],ne=Z.key,ie=ee.key;Z===ee?(R=Z.first,j--,U--):Y.has(ie)?!y.has(ne)||X.has(ne)?Q(Z):J.has(ie)?j--:K.get(ne)>K.get(ie)?(J.add(ne),Q(Z)):(X.add(ie),j--):(O(ee,y),j--)}for(;j--;){const Z=t[j];Y.has(Z.key)||O(Z,y)}for(;U;)Q(G[U-1]);return G}function get_spread_update(t,e){const r={},o={},l={$$scope:1};let h=t.length;for(;h--;){const y=t[h],D=e[h];if(D){for(const O in y)O in D||(o[O]=1);for(const O in D)l[O]||(r[O]=D[O],l[O]=1);t[h]=D}else for(const O in y)l[O]=1}for(const y in o)y in r||(r[y]=void 0);return r}function get_spread_object(t){return typeof t=="object"&&t!==null?t:{}}function bind(t,e,r){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=r,r(t.$$.ctx[o]))}function create_component(t){t&&t.c()}function mount_component(t,e,r,o){const{fragment:l,on_mount:h,on_destroy:y,after_update:D}=t.$$;l&&l.m(e,r),o||add_render_callback(()=>{const O=h.map(run).filter(is_function);y?y.push(...O):run_all(O),t.$$.on_mount=[]}),D.forEach(add_render_callback)}function destroy_component(t,e){const r=t.$$;r.fragment!==null&&(run_all(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(t,e){t.$$.dirty[0]===-1&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,r,o,l,h,y,D=[-1]){const O=current_component;set_current_component(t);const F=t.$$={fragment:null,ctx:null,props:h,update:noop$2,not_equal:l,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(O?O.$$.context:[])),callbacks:blank_object(),dirty:D,skip_bound:!1,root:e.target||O.$$.root};y&&y(F.root);let R=!1;if(F.ctx=r?r(t,e.props||{},(B,j,...U)=>{const q=U.length?U[0]:j;return F.ctx&&l(F.ctx[B],F.ctx[B]=q)&&(!F.skip_bound&&F.bound[B]&&F.bound[B](q),R&&make_dirty(t,B)),j}):[],F.update(),R=!0,run_all(F.before_update),F.fragment=o?o(F.ctx):!1,e.target){if(e.hydrate){const B=children(e.target);F.fragment&&F.fragment.l(B),B.forEach(detach)}else F.fragment&&F.fragment.c();e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor,e.customElement),flush()}set_current_component(O)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$2}$on(e,r){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(r),()=>{const l=o.indexOf(r);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function cubicInOut(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function cubicOut(t){const e=t-1;return e*e*e+1}function quadIn(t){return t*t}function blur(t,{delay:e=0,duration:r=400,easing:o=cubicInOut,amount:l=5,opacity:h=0}={}){const y=getComputedStyle(t),D=+y.opacity,O=y.filter==="none"?"":y.filter,F=D*(1-h);return{delay:e,duration:r,easing:o,css:(R,B)=>`opacity: ${D-F*B}; filter: ${O} blur(${B*l}px);`}}function fade(t,{delay:e=0,duration:r=400,easing:o=identity}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:o,css:h=>`opacity: ${h*l}`}}function fly(t,{delay:e=0,duration:r=400,easing:o=cubicOut,x:l=0,y:h=0,opacity:y=0}={}){const D=getComputedStyle(t),O=+D.opacity,F=D.transform==="none"?"":D.transform,R=O*(1-y);return{delay:e,duration:r,easing:o,css:(B,j)=>`
			transform: ${F} translate(${(1-B)*l}px, ${(1-B)*h}px);
			opacity: ${O-R*j}`}}function scale(t,{delay:e=0,duration:r=400,easing:o=cubicOut,start:l=0,opacity:h=0}={}){const y=getComputedStyle(t),D=+y.opacity,O=y.transform==="none"?"":y.transform,F=1-l,R=D*(1-h);return{delay:e,duration:r,easing:o,css:(B,j)=>`
			transform: ${O} scale(${1-F*j});
			opacity: ${D-R*j}
		`}}var Confetti_svelte_svelte_type_style_lang="";const subscriber_queue=[];function readable(t,e){return{subscribe:writable(t,e).subscribe}}function writable(t,e=noop$2){let r;const o=new Set;function l(D){if(safe_not_equal(t,D)&&(t=D,r)){const O=!subscriber_queue.length;for(const F of o)F[1](),subscriber_queue.push(F,t);if(O){for(let F=0;F<subscriber_queue.length;F+=2)subscriber_queue[F][0](subscriber_queue[F+1]);subscriber_queue.length=0}}}function h(D){l(D(t))}function y(D,O=noop$2){const F=[D,O];return o.add(F),o.size===1&&(r=e(l)||noop$2),D(t),()=>{o.delete(F),o.size===0&&(r(),r=null)}}return{set:l,update:h,subscribe:y}}function derived(t,e,r){const o=!Array.isArray(t),l=o?[t]:t,h=e.length<2;return readable(r,y=>{let D=!1;const O=[];let F=0,R=noop$2;const B=()=>{if(F)return;R();const U=e(o?O[0]:O,y);h?y(U):R=is_function(U)?U:noop$2},j=l.map((U,q)=>subscribe(U,W=>{O[q]=W,F&=~(1<<q),D&&B()},()=>{F|=1<<q}));return D=!0,B(),function(){run_all(j),R()}})}let url="https://retinereq.jetevois.fr/";const rtnUrl=url,vSondage=1;let activePageStore=writable("summary");function xxsc(t,e,r){var o="";if(r){var l=new Date;l.setTime(l.getTime()+r*24*60*60*1e3),o="; expires="+l.toUTCString()}document.cookie=t+"="+(e||"")+o+"; path=/"}function xxgc(t){for(var e=t+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var l=r[o];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(e)==0)return l.substring(e.length,l.length)}return null}function xxec(t){document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}const isUndefined=t=>typeof t=="undefined",isFunction$1=t=>typeof t=="function",isNumber$1=t=>typeof t=="number";function createCounter(){let t=0;return()=>t++}function createGlobalId(){return Math.random().toString(36).substring(2)}const isSSR=typeof window=="undefined";function addListener$1(t,e,r){return t.addEventListener(e,r),()=>t.removeEventListener(e,r)}const createKey=t=>`@@svnav-ctx__${t}`,LOCATION=createKey("LOCATION"),ROUTER=createKey("ROUTER"),ROUTE=createKey("ROUTE"),ROUTE_PARAMS=createKey("ROUTE_PARAMS"),FOCUS_ELEM=createKey("FOCUS_ELEM"),paramRegex=/^:(.+)/,startsWith=(t,e)=>t.substr(0,e.length)===e,isRootSegment=t=>t==="",isDynamic=t=>paramRegex.test(t),isSplat=t=>t[0]==="*",stripSplat=t=>t.replace(/\*.*$/,""),stripSlashes=t=>t.replace(/(^\/+|\/+$)/g,"");function segmentize(t,e=!1){const r=stripSlashes(t).split("/");return e?r.filter(Boolean):r}const addQuery=(t,e)=>t+(e?`?${e}`:""),normalizePath=t=>`/${stripSlashes(t)}`;function join(...t){const e=o=>segmentize(o,!0).join("/"),r=t.map(e).join("/");return normalizePath(r)}const LINK_ID=1,ROUTE_ID=2,ROUTER_ID=3,USE_FOCUS_ID=4,USE_LOCATION_ID=5,USE_MATCH_ID=6,USE_NAVIGATE_ID=7,USE_PARAMS_ID=8,USE_RESOLVABLE_ID=9,USE_RESOLVE_ID=10,NAVIGATE_ID=11,labels={[LINK_ID]:"Link",[ROUTE_ID]:"Route",[ROUTER_ID]:"Router",[USE_FOCUS_ID]:"useFocus",[USE_LOCATION_ID]:"useLocation",[USE_MATCH_ID]:"useMatch",[USE_NAVIGATE_ID]:"useNavigate",[USE_PARAMS_ID]:"useParams",[USE_RESOLVABLE_ID]:"useResolvable",[USE_RESOLVE_ID]:"useResolve",[NAVIGATE_ID]:"navigate"},createLabel=t=>labels[t];function createIdentifier(t,e){let r;return t===ROUTE_ID?r=e.path?`path="${e.path}"`:"default":t===LINK_ID?r=`to="${e.to}"`:t===ROUTER_ID&&(r=`basepath="${e.basepath||""}"`),`<${createLabel(t)} ${r||""} />`}function createMessage(t,e,r,o){const l=r&&createIdentifier(o||t,r),h=l?`

Occurred in: ${l}`:"",y=createLabel(t),D=isFunction$1(e)?e(y):e;return`<${y}> ${D}${h}`}const createMessageHandler=t=>(...e)=>t(createMessage(...e)),fail=createMessageHandler(t=>{throw new Error(t)}),warn=createMessageHandler(console.warn),SEGMENT_POINTS=4,STATIC_POINTS=3,DYNAMIC_POINTS=2,SPLAT_PENALTY=1,ROOT_POINTS=1;function rankRoute(t,e){const r=t.default?0:segmentize(t.fullPath).reduce((o,l)=>{let h=o;return h+=SEGMENT_POINTS,isRootSegment(l)?h+=ROOT_POINTS:isDynamic(l)?h+=DYNAMIC_POINTS:isSplat(l)?h-=SEGMENT_POINTS+SPLAT_PENALTY:h+=STATIC_POINTS,h},0);return{route:t,score:r,index:e}}function rankRoutes(t){return t.map(rankRoute).sort((e,r)=>e.score<r.score?1:e.score>r.score?-1:e.index-r.index)}function pick(t,e){let r,o;const[l]=e.split("?"),h=segmentize(l),y=h[0]==="",D=rankRoutes(t);for(let O=0,F=D.length;O<F;O++){const{route:R}=D[O];let B=!1;const j={},U=Y=>Je(Ye({},R),{params:j,uri:Y});if(R.default){o=U(e);continue}const q=segmentize(R.fullPath),W=Math.max(h.length,q.length);let G=0;for(;G<W;G++){const Y=q[G],K=h[G];if(!isUndefined(Y)&&isSplat(Y)){const J=Y==="*"?"*":Y.slice(1);j[J]=h.slice(G).map(decodeURIComponent).join("/");break}if(isUndefined(K)){B=!0;break}const X=paramRegex.exec(Y);if(X&&!y){const J=decodeURIComponent(K);j[X[1]]=J}else if(Y!==K){B=!0;break}}if(!B){r=U(join(...h.slice(0,G)));break}}return r||o||null}function match$2(t,e){return pick([t],e)}function resolve$1(t,e){if(startsWith(t,"/"))return t;const[r,o]=t.split("?"),[l]=e.split("?"),h=segmentize(r),y=segmentize(l);if(h[0]==="")return addQuery(l,o);if(!startsWith(h[0],".")){const F=y.concat(h).join("/");return addQuery((l==="/"?"":"/")+F,o)}const D=y.concat(h),O=[];return D.forEach(F=>{F===".."?O.pop():F!=="."&&O.push(F)}),addQuery(`/${O.join("/")}`,o)}function normalizeLocation(t,e){const{pathname:r,hash:o="",search:l="",state:h}=t,y=segmentize(e,!0),D=segmentize(r,!0);for(;y.length;)y[0]!==D[0]&&fail(ROUTER_ID,`Invalid state: All locations must begin with the basepath "${e}", found "${r}"`),y.shift(),D.shift();return{pathname:join(...D),hash:o,search:l,state:h}}const normalizeUrlFragment=t=>t.length===1?"":t;function createLocation(t){const e=t.indexOf("?"),r=t.indexOf("#"),o=e!==-1,l=r!==-1,h=l?normalizeUrlFragment(t.substr(r)):"",y=l?t.substr(0,r):t,D=o?normalizeUrlFragment(y.substr(e)):"";return{pathname:o?y.substr(0,e):y,search:D,hash:h}}function resolveLink(t,e,r){return join(r,resolve$1(t,e))}function extractBaseUri(t,e){const r=normalizePath(stripSplat(t)),o=segmentize(r,!0),l=segmentize(e,!0).slice(0,o.length),h=match$2({fullPath:r},join(...l));return h&&h.uri}const POP="POP",PUSH="PUSH",REPLACE="REPLACE";function getLocation(t){return Je(Ye({},t.location),{pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"})}function createHistory(t){let e=[],r=getLocation(t),o=POP;const l=(h=e)=>h.forEach(y=>y({location:r,action:o}));return{get location(){return r},listen(h){e.push(h);const y=()=>{r=getLocation(t),o=POP,l([h])};l([h]);const D=addListener$1(t,"popstate",y);return()=>{D(),e=e.filter(O=>O!==h)}},navigate(h,y){const{state:D={},replace:O=!1}=y||{};if(o=O?REPLACE:PUSH,isNumber$1(h))y&&warn(NAVIGATE_ID,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),o=POP,t.history.go(h);else{const F=Je(Ye({},D),{_key:createGlobalId()});try{t.history[O?"replaceState":"pushState"](F,"",h)}catch{t.location[O?"replace":"assign"](h)}}r=getLocation(t),l()}}}function createStackFrame(t,e){return Je(Ye({},createLocation(e)),{state:t})}function createMemorySource(t="/"){let e=0,r=[createStackFrame(null,t)];return{get entries(){return r},get location(){return r[e]},addEventListener(){},removeEventListener(){},history:{get state(){return r[e].state},pushState(o,l,h){e++,r=r.slice(0,e),r.push(createStackFrame(o,h))},replaceState(o,l,h){r[e]=createStackFrame(o,h)},go(o){const l=e+o;l<0||l>r.length-1||(e=l)}}}}const canUseDOM=!!(!isSSR&&window.document&&window.document.createElement),isEmbeddedPage=!isSSR&&window.location.origin==="null",globalHistory=createHistory(canUseDOM&&!isEmbeddedPage?window:createMemorySource()),{navigate}=globalHistory;let focusCandidate=null,initialNavigation=!0;function isAbove(t,e){const r=document.querySelectorAll("[data-svnav-router]");for(let o=0;o<r.length;o++){const l=r[o],h=Number(l.dataset.svnavRouter);if(h===t)return!0;if(h===e)return!1}return!1}function pushFocusCandidate(t){(!focusCandidate||t.level>focusCandidate.level||t.level===focusCandidate.level&&isAbove(t.routerId,focusCandidate.routerId))&&(focusCandidate=t)}function clearFocusCandidate(){focusCandidate=null}function initialNavigationOccurred(){initialNavigation=!1}function focus(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let r;r=addListener$1(t,"blur",()=>{t.removeAttribute(e),r()})}return t.focus(),document.activeElement===t}catch{return!1}}function isEndMarker(t,e){return Number(t.dataset.svnavRouteEnd)===e}function isHeading(t){return/^H[1-6]$/i.test(t.tagName)}function query(t,e=document){return e.querySelector(t)}function queryHeading(t){let r=query(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!isEndMarker(r,t);){if(isHeading(r))return r;const o=query("h1,h2,h3,h4,h5,h6",r);if(o)return o;r=r.nextElementSibling}return null}function handleFocus(t){Promise.resolve(get_store_value(t.focusElement)).then(e=>{const r=e||queryHeading(t.id);r||warn(ROUTER_ID,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,ROUTE_ID),!focus(r)&&focus(document.documentElement)})}const createTriggerFocus=(t,e,r)=>(o,l)=>tick().then(()=>{if(!focusCandidate||initialNavigation){initialNavigationOccurred();return}if(o&&handleFocus(focusCandidate.route),t.announcements&&l){const{path:h,fullPath:y,meta:D,params:O,uri:F}=focusCandidate.route,R=t.createAnnouncement({path:h,fullPath:y,meta:D,params:O,uri:F},get_store_value(r));Promise.resolve(R).then(B=>{e.set(B)})}clearFocusCandidate()}),visuallyHiddenStyle="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function create_if_block$k(t){let e,r;return{c(){e=element("div"),r=text(t[0]),attr(e,"role","status"),attr(e,"aria-atomic","true"),attr(e,"aria-live","polite"),attr(e,"style",visuallyHiddenStyle)},m(o,l){insert(o,e,l),append(e,r)},p(o,l){l[0]&1&&set_data(r,o[0])},d(o){o&&detach(e)}}}function create_fragment$t(t){let e,r,o,l,h;const y=t[20].default,D=create_slot(y,t,t[19],null);let O=t[2]&&t[4]&&t[1].announcements&&create_if_block$k(t);return{c(){e=element("div"),r=space(),D&&D.c(),o=space(),O&&O.c(),l=empty(),set_style(e,"display","none"),attr(e,"aria-hidden","true"),attr(e,"data-svnav-router",t[3])},m(F,R){insert(F,e,R),insert(F,r,R),D&&D.m(F,R),insert(F,o,R),O&&O.m(F,R),insert(F,l,R),h=!0},p(F,R){D&&D.p&&(!h||R[0]&524288)&&update_slot_base(D,y,F,F[19],h?get_slot_changes(y,F[19],R,null):get_all_dirty_from_scope(F[19]),null),F[2]&&F[4]&&F[1].announcements&&O.p(F,R)},i(F){h||(transition_in(D,F),h=!0)},o(F){transition_out(D,F),h=!1},d(F){F&&detach(e),F&&detach(r),D&&D.d(F),F&&detach(o),O&&O.d(F),F&&detach(l)}}}const createId$1=createCounter(),defaultBasepath="/";function instance$r(t,e,r){let o,l,h,y,D,{$$slots:O={},$$scope:F}=e,{basepath:R=defaultBasepath}=e,{url:B=null}=e,{history:j=globalHistory}=e,{primary:U=!0}=e,{a11y:q={}}=e;const W=Ye({createAnnouncement:le=>`Navigated to ${le.uri}`,announcements:!0},q),G=R,Y=normalizePath(R),K=getContext(LOCATION),X=getContext(ROUTER),J=!K,Q=createId$1(),Z=U&&!(X&&!X.manageFocus),ee=writable("");component_subscribe(t,ee,le=>r(0,D=le));const ne=writable([]);component_subscribe(t,ne,le=>r(18,y=le));const ie=writable(null);component_subscribe(t,ie,le=>r(16,l=le));let re=!1;const te=J?0:X.level+1,ce=J?writable((()=>normalizeLocation(isSSR?createLocation(B):j.location,Y))()):K;component_subscribe(t,ce,le=>r(15,o=le));const de=writable(o);component_subscribe(t,de,le=>r(17,h=le));const ue=createTriggerFocus(W,ee,ce),he=le=>fe=>fe.filter(we=>we.id!==le);function oe(le){if(isSSR){if(re)return;const fe=match$2(le,o.pathname);if(fe)return re=!0,fe}else ne.update(fe=>{const we=he(le.id)(fe);return we.push(le),we})}function ae(le){ne.update(he(le))}return!J&&R!==defaultBasepath&&warn(ROUTER_ID,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:R}),J&&(onMount(()=>j.listen(fe=>{const we=normalizeLocation(fe.location,Y);de.set(o),ce.set(we)})),setContext(LOCATION,ce)),setContext(ROUTER,{activeRoute:ie,registerRoute:oe,unregisterRoute:ae,manageFocus:Z,level:te,id:Q,history:J?j:X.history,basepath:J?Y:X.basepath}),t.$$set=le=>{"basepath"in le&&r(10,R=le.basepath),"url"in le&&r(11,B=le.url),"history"in le&&r(12,j=le.history),"primary"in le&&r(13,U=le.primary),"a11y"in le&&r(14,q=le.a11y),"$$scope"in le&&r(19,F=le.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&1024&&R!==G&&warn(ROUTER_ID,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&294912){const le=pick(y,o.pathname);ie.set(le)}if(t.$$.dirty[0]&163840&&J){const le=!!o.hash,fe=!le&&Z,we=!le||o.pathname!==h.pathname;ue(fe,we)}t.$$.dirty[0]&65536&&Z&&l&&l.primary&&pushFocusCandidate({level:te,routerId:Q,route:l})},[D,W,J,Q,Z,ee,ne,ie,ce,de,R,B,j,U,q,o,l,h,y,F,O]}class Router extends SvelteComponent{constructor(e){super(),init(this,e,instance$r,create_fragment$t,safe_not_equal,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}}function usePreflightCheck(t,e,r=ROUTER,o=ROUTER_ID){getContext(r)||fail(t,h=>`You cannot use ${h} outside of a ${createLabel(o)}.`,e)}const toReadonly=t=>{const{subscribe:e}=getContext(t);return{subscribe:e}};function useLocation(){return usePreflightCheck(USE_LOCATION_ID),toReadonly(LOCATION)}function useHistory(){const{history:t}=getContext(ROUTER);return t}function useRouteBase(){const t=getContext(ROUTE);return t?derived(t,e=>e.base):writable("/")}function useResolve(){usePreflightCheck(USE_RESOLVE_ID);const t=useRouteBase(),{basepath:e}=getContext(ROUTER);return o=>resolveLink(o,get_store_value(t),e)}function useNavigate(){usePreflightCheck(USE_NAVIGATE_ID);const t=useResolve(),{navigate:e}=useHistory();return(o,l)=>{const h=isNumber$1(o)?o:t(o);return e(h,l)}}const get_default_slot_changes=t=>({params:t&16,location:t&8}),get_default_slot_context=t=>({params:isSSR?get_store_value(t[9]):t[4],location:t[3],navigate:t[10]});function create_if_block$j(t){let e,r;return e=new Router({props:{primary:t[1],$$slots:{default:[create_default_slot$8]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p(o,l){const h={};l&2&&(h.primary=o[1]),l&264217&&(h.$$scope={dirty:l,ctx:o}),e.$set(h)},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_else_block$c(t){let e;const r=t[17].default,o=create_slot(r,t,t[18],get_default_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),e=!0},p(l,h){o&&o.p&&(!e||h&262168)&&update_slot_base(o,r,l,l[18],e?get_slot_changes(r,l[18],h,get_default_slot_changes):get_all_dirty_from_scope(l[18]),get_default_slot_context)},i(l){e||(transition_in(o,l),e=!0)},o(l){transition_out(o,l),e=!1},d(l){o&&o.d(l)}}}function create_if_block_1$f(t){let e,r,o;const l=[{location:t[3]},{navigate:t[10]},isSSR?get_store_value(t[9]):t[4],t[11]];var h=t[0];function y(D){let O={};for(let F=0;F<l.length;F+=1)O=assign$1(O,l[F]);return{props:O}}return h&&(e=new h(y())),{c(){e&&create_component(e.$$.fragment),r=empty()},m(D,O){e&&mount_component(e,D,O),insert(D,r,O),o=!0},p(D,O){const F=O&3608?get_spread_update(l,[O&8&&{location:D[3]},O&1024&&{navigate:D[10]},O&528&&get_spread_object(isSSR?get_store_value(D[9]):D[4]),O&2048&&get_spread_object(D[11])]):{};if(h!==(h=D[0])){if(e){group_outros();const R=e;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}h?(e=new h(y()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else h&&e.$set(F)},i(D){o||(e&&transition_in(e.$$.fragment,D),o=!0)},o(D){e&&transition_out(e.$$.fragment,D),o=!1},d(D){D&&detach(r),e&&destroy_component(e,D)}}}function create_default_slot$8(t){let e,r,o,l;const h=[create_if_block_1$f,create_else_block$c],y=[];function D(O,F){return O[0]!==null?0:1}return e=D(t),r=y[e]=h[e](t),{c(){r.c(),o=empty()},m(O,F){y[e].m(O,F),insert(O,o,F),l=!0},p(O,F){let R=e;e=D(O),e===R?y[e].p(O,F):(group_outros(),transition_out(y[R],1,1,()=>{y[R]=null}),check_outros(),r=y[e],r?r.p(O,F):(r=y[e]=h[e](O),r.c()),transition_in(r,1),r.m(o.parentNode,o))},i(O){l||(transition_in(r),l=!0)},o(O){transition_out(r),l=!1},d(O){y[e].d(O),O&&detach(o)}}}function create_fragment$s(t){let e,r,o,l,h,y=t[2]&&create_if_block$j(t);return{c(){e=element("div"),r=space(),y&&y.c(),o=space(),l=element("div"),set_style(e,"display","none"),attr(e,"aria-hidden","true"),attr(e,"data-svnav-route-start",t[5]),set_style(l,"display","none"),attr(l,"aria-hidden","true"),attr(l,"data-svnav-route-end",t[5])},m(D,O){insert(D,e,O),insert(D,r,O),y&&y.m(D,O),insert(D,o,O),insert(D,l,O),h=!0},p(D,[O]){D[2]?y?(y.p(D,O),O&4&&transition_in(y,1)):(y=create_if_block$j(D),y.c(),transition_in(y,1),y.m(o.parentNode,o)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(D){h||(transition_in(y),h=!0)},o(D){transition_out(y),h=!1},d(D){D&&detach(e),D&&detach(r),y&&y.d(D),D&&detach(o),D&&detach(l)}}}const createId=createCounter();function instance$q(t,e,r){let o;const l=["path","component","meta","primary"];let h=compute_rest_props(e,l),y,D,O,F,{$$slots:R={},$$scope:B}=e,{path:j=""}=e,{component:U=null}=e,{meta:q={}}=e,{primary:W=!0}=e;usePreflightCheck(ROUTE_ID,e);const G=createId(),{registerRoute:Y,unregisterRoute:K,activeRoute:X}=getContext(ROUTER);component_subscribe(t,X,te=>r(15,y=te));const J=useRouteBase();component_subscribe(t,J,te=>r(16,O=te));const Q=useLocation();component_subscribe(t,Q,te=>r(3,D=te));const Z=writable(null);let ee;const ne=writable(),ie=writable({});component_subscribe(t,ie,te=>r(4,F=te)),setContext(ROUTE,ne),setContext(ROUTE_PARAMS,ie),setContext(FOCUS_ELEM,Z);const re=useNavigate();return isSSR||onDestroy(()=>K(G)),t.$$set=te=>{r(23,e=assign$1(assign$1({},e),exclude_internal_props(te))),r(11,h=compute_rest_props(e,l)),"path"in te&&r(12,j=te.path),"component"in te&&r(0,U=te.component),"meta"in te&&r(13,q=te.meta),"primary"in te&&r(1,W=te.primary),"$$scope"in te&&r(18,B=te.$$scope)},t.$$.update=()=>{if(t.$$.dirty&77834){const te=j==="",se=join(O,j),ce={id:G,path:j,meta:q,default:te,fullPath:te?"":se,base:te?O:extractBaseUri(se,D.pathname),primary:W,focusElement:Z};ne.set(ce),r(14,ee=Y(ce))}if(t.$$.dirty&49152&&r(2,o=!!(ee||y&&y.id===G)),t.$$.dirty&49156&&o){const{params:te}=ee||y;ie.set(te)}},e=exclude_internal_props(e),[U,W,o,D,F,G,X,J,Q,ie,re,h,j,q,ee,y,O,R,B]}class Route extends SvelteComponent{constructor(e){super(),init(this,e,instance$q,create_fragment$s,safe_not_equal,{path:12,component:0,meta:13,primary:1})}}const exitBeforeEnter=writable(!1),transitioning=writable(null),modals=writable([]),action=writable(null);function closeModals(t=1){if(get_store_value(transitioning))return;const e=get_store_value(modals).length;get_store_value(exitBeforeEnter)&&e>0&&transitioning.set(!0),exitBeforeEnter.set(!1),action.set("pop"),pop(t)}function closeModal(){return closeModals(1)}function openModal(t,e,r){get_store_value(transitioning)||(action.set("push"),get_store_value(exitBeforeEnter)&&get_store_value(modals).length&&transitioning.set(!0),exitBeforeEnter.set(!1),r!=null&&r.replace?modals.update(o=>[...o.slice(0,o.length-1),{component:t,props:e}]):modals.update(o=>[...o,{component:t,props:e}]))}function pop(t=1){modals.update(e=>e.slice(0,Math.max(0,e.length-t)))}function get_each_context$9(t,e,r){const o=t.slice();return o[9]=e[r],o[11]=r,o}const get_loading_slot_changes=t=>({}),get_loading_slot_context=t=>({}),get_backdrop_slot_changes=t=>({}),get_backdrop_slot_context=t=>({});function create_if_block_1$e(t){let e;const r=t[4].backdrop,o=create_slot(r,t,t[3],get_backdrop_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),e=!0},p(l,h){o&&o.p&&(!e||h&8)&&update_slot_base(o,r,l,l[3],e?get_slot_changes(r,l[3],h,get_backdrop_slot_changes):get_all_dirty_from_scope(l[3]),get_backdrop_slot_context)},i(l){e||(transition_in(o,l),e=!0)},o(l){transition_out(o,l),e=!1},d(l){o&&o.d(l)}}}function create_else_block$b(t){let e,r,o;const l=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var h=t[9].component;function y(D){let O={};for(let F=0;F<l.length;F+=1)O=assign$1(O,l[F]);return{props:O}}return h&&(e=new h(y()),e.$on("introstart",t[7]),e.$on("outroend",t[8])),{c(){e&&create_component(e.$$.fragment),r=empty()},m(D,O){e&&mount_component(e,D,O),insert(D,r,O),o=!0},p(D,O){const F=O&3?get_spread_update(l,[{isOpen:D[11]===D[0].length-1&&!D[1]},O&1&&get_spread_object(D[9].props)]):{};if(h!==(h=D[9].component)){if(e){group_outros();const R=e;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}h?(e=new h(y()),e.$on("introstart",D[7]),e.$on("outroend",D[8]),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else h&&e.$set(F)},i(D){o||(e&&transition_in(e.$$.fragment,D),o=!0)},o(D){e&&transition_out(e.$$.fragment,D),o=!1},d(D){D&&detach(r),e&&destroy_component(e,D)}}}function create_if_block$i(t){let e,r,o,l={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block$b,then:create_then_block$b,catch:create_catch_block$b,value:12,blocks:[,,,]};return handle_promise(r=getComponent(t[9].component),l),{c(){e=empty(),l.block.c()},m(h,y){insert(h,e,y),l.block.m(h,l.anchor=y),l.mount=()=>e.parentNode,l.anchor=e,o=!0},p(h,y){t=h,l.ctx=t,y&1&&r!==(r=getComponent(t[9].component))&&handle_promise(r,l)||update_await_block_branch(l,t,y)},i(h){o||(transition_in(l.block),o=!0)},o(h){for(let y=0;y<3;y+=1){const D=l.blocks[y];transition_out(D)}o=!1},d(h){h&&detach(e),l.block.d(h),l.token=null,l=null}}}function create_catch_block$b(t){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block$b(t){let e,r,o;const l=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var h=t[12];function y(D){let O={};for(let F=0;F<l.length;F+=1)O=assign$1(O,l[F]);return{props:O}}return h&&(e=new h(y()),e.$on("introstart",t[5]),e.$on("outroend",t[6])),{c(){e&&create_component(e.$$.fragment),r=space()},m(D,O){e&&mount_component(e,D,O),insert(D,r,O),o=!0},p(D,O){const F=O&3?get_spread_update(l,[{isOpen:D[11]===D[0].length-1&&!D[1]},O&1&&get_spread_object(D[9].props)]):{};if(h!==(h=D[12])){if(e){group_outros();const R=e;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}h?(e=new h(y()),e.$on("introstart",D[5]),e.$on("outroend",D[6]),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else h&&e.$set(F)},i(D){o||(e&&transition_in(e.$$.fragment,D),o=!0)},o(D){e&&transition_out(e.$$.fragment,D),o=!1},d(D){e&&destroy_component(e,D),D&&detach(r)}}}function create_pending_block$b(t){let e,r;const o=t[4].loading,l=create_slot(o,t,t[3],get_loading_slot_context);return{c(){l&&l.c(),e=space()},m(h,y){l&&l.m(h,y),insert(h,e,y),r=!0},p(h,y){l&&l.p&&(!r||y&8)&&update_slot_base(l,o,h,h[3],r?get_slot_changes(o,h[3],y,get_loading_slot_changes):get_all_dirty_from_scope(h[3]),get_loading_slot_context)},i(h){r||(transition_in(l,h),r=!0)},o(h){transition_out(l,h),r=!1},d(h){l&&l.d(h),h&&detach(e)}}}function create_each_block$9(t,e){let r,o,l,h,y,D;const O=[create_if_block$i,create_else_block$b],F=[];function R(B,j){return j&1&&(o=null),o==null&&(o=!!isLazyModal(B[9].component)),o?0:1}return l=R(e,-1),h=F[l]=O[l](e),{key:t,first:null,c(){r=empty(),h.c(),y=empty(),this.first=r},m(B,j){insert(B,r,j),F[l].m(B,j),insert(B,y,j),D=!0},p(B,j){e=B;let U=l;l=R(e,j),l===U?F[l].p(e,j):(group_outros(),transition_out(F[U],1,1,()=>{F[U]=null}),check_outros(),h=F[l],h?h.p(e,j):(h=F[l]=O[l](e),h.c()),transition_in(h,1),h.m(y.parentNode,y))},i(B){D||(transition_in(h),D=!0)},o(B){transition_out(h),D=!1},d(B){B&&detach(r),F[l].d(B),B&&detach(y)}}}function fallback_block(t){let e=[],r=new Map,o,l,h=t[0];const y=D=>D[11];for(let D=0;D<h.length;D+=1){let O=get_each_context$9(t,h,D),F=y(O);r.set(F,e[D]=create_each_block$9(F,O))}return{c(){for(let D=0;D<e.length;D+=1)e[D].c();o=empty()},m(D,O){for(let F=0;F<e.length;F+=1)e[F].m(D,O);insert(D,o,O),l=!0},p(D,O){O&15&&(h=D[0],group_outros(),e=update_keyed_each(e,O,y,1,D,h,r,o.parentNode,outro_and_destroy_block,create_each_block$9,o,get_each_context$9),check_outros())},i(D){if(!l){for(let O=0;O<h.length;O+=1)transition_in(e[O]);l=!0}},o(D){for(let O=0;O<e.length;O+=1)transition_out(e[O]);l=!1},d(D){for(let O=0;O<e.length;O+=1)e[O].d(D);D&&detach(o)}}}function create_fragment$r(t){let e,r,o=t[0].length>0&&create_if_block_1$e(t);const l=t[4].default,h=create_slot(l,t,t[3],null),y=h||fallback_block(t);return{c(){o&&o.c(),e=space(),y&&y.c()},m(D,O){o&&o.m(D,O),insert(D,e,O),y&&y.m(D,O),r=!0},p(D,[O]){D[0].length>0?o?(o.p(D,O),O&1&&transition_in(o,1)):(o=create_if_block_1$e(D),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros()),h?h.p&&(!r||O&8)&&update_slot_base(h,l,D,D[3],r?get_slot_changes(l,D[3],O,null):get_all_dirty_from_scope(D[3]),null):y&&y.p&&(!r||O&15)&&y.p(D,r?O:-1)},i(D){r||(transition_in(o),transition_in(y,D),r=!0)},o(D){transition_out(o),transition_out(y,D),r=!1},d(D){o&&o.d(D),D&&detach(e),y&&y.d(D)}}}function isLazyModal(t){return typeof t.prototype=="undefined"}async function getComponent(t){return t().then(e=>e.default)}function instance$p(t,e,r){let o,l,h;component_subscribe(t,modals,j=>r(0,o=j)),component_subscribe(t,transitioning,j=>r(1,l=j)),component_subscribe(t,exitBeforeEnter,j=>r(2,h=j));let{$$slots:y={},$$scope:D}=e;const O=()=>{set_store_value(exitBeforeEnter,h=!0,h)},F=()=>{set_store_value(transitioning,l=!1,l)},R=()=>{set_store_value(exitBeforeEnter,h=!0,h)},B=()=>{set_store_value(transitioning,l=!1,l)};return t.$$set=j=>{"$$scope"in j&&r(3,D=j.$$scope)},[o,l,h,D,y,O,F,R,B]}class Modals extends SvelteComponent{constructor(e){super(),init(this,e,instance$p,create_fragment$r,safe_not_equal,{})}}var authModule_svelte_svelte_type_style_lang="";function create_if_block_3$9(t){let e;return{c(){e=element("div"),e.innerHTML=`<lottie-player src="https://assets6.lottiefiles.com/packages/lf20_kwefwdy6.json" background="transparent" speed="1" style="height:150px; max-width:200px; margin:auto;" autoplay=""></lottie-player> 
            <div style="color:#6219d8; text-align:center; margin-top:16px;">Un e-mail de v\xE9rification vous a \xE9t\xE9 envoy\xE9 pour finaliser votre inscription.</div>`},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_1$d(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te,se=t[1]!=""&&create_if_block_2$c(t);return{c(){e=element("h3"),e.textContent="Cr\xE9ez votre compte R\xE9tine",r=space(),se&&se.c(),o=space(),l=element("label"),h=text("Identifiant :"),y=element("br"),D=element("input"),O=space(),F=element("label"),R=text("Mot de passe :"),B=element("br"),j=element("input"),U=space(),q=element("label"),W=text("Confirmation mot de passe :"),G=element("br"),Y=element("input"),K=space(),X=element("div"),J=text(t[5]),Q=space(),Z=element("div"),ee=element("div"),ee.textContent="D\xE9j\xE0 un compte ?",ne=space(),ie=element("button"),ie.textContent="Inscription",attr(e,"class","mb-4"),set_style(e,"color","#6219d8"),set_style(e,"text-align","center"),set_style(e,"margin-bottom","16px"),attr(D,"type","text"),attr(D,"placeholder","bruce@wayne.com"),attr(D,"class","svelte-1yoxi9y"),attr(l,"class","svelte-1yoxi9y"),attr(j,"type","password"),attr(j,"class","svelte-1yoxi9y"),attr(F,"for","mdp"),attr(F,"class","svelte-1yoxi9y"),attr(Y,"type","password"),attr(Y,"class","svelte-1yoxi9y"),attr(q,"for","mdp"),attr(q,"class","svelte-1yoxi9y"),attr(X,"class","errorMsg svelte-1yoxi9y"),attr(ee,"class","optionTwo svelte-1yoxi9y"),attr(ie,"class","svelte-1yoxi9y"),set_style(Z,"display","flex"),set_style(Z,"flex-direction","row"),set_style(Z,"align-items","center")},m(ce,de){insert(ce,e,de),insert(ce,r,de),se&&se.m(ce,de),insert(ce,o,de),insert(ce,l,de),append(l,h),append(l,y),append(l,D),set_input_value(D,t[2]),insert(ce,O,de),insert(ce,F,de),append(F,R),append(F,B),append(F,j),set_input_value(j,t[3]),insert(ce,U,de),insert(ce,q,de),append(q,W),append(q,G),append(q,Y),set_input_value(Y,t[4]),insert(ce,K,de),insert(ce,X,de),append(X,J),insert(ce,Q,de),insert(ce,Z,de),append(Z,ee),append(Z,ne),append(Z,ie),re||(te=[listen(D,"input",t[13]),listen(j,"input",t[14]),listen(Y,"input",t[15]),listen(ee,"click",t[6]),listen(ie,"click",t[8])],re=!0)},p(ce,de){ce[1]!=""?se?se.p(ce,de):(se=create_if_block_2$c(ce),se.c(),se.m(o.parentNode,o)):se&&(se.d(1),se=null),de&4&&D.value!==ce[2]&&set_input_value(D,ce[2]),de&8&&j.value!==ce[3]&&set_input_value(j,ce[3]),de&16&&Y.value!==ce[4]&&set_input_value(Y,ce[4]),de&32&&set_data(J,ce[5])},d(ce){ce&&detach(e),ce&&detach(r),se&&se.d(ce),ce&&detach(o),ce&&detach(l),ce&&detach(O),ce&&detach(F),ce&&detach(U),ce&&detach(q),ce&&detach(K),ce&&detach(X),ce&&detach(Q),ce&&detach(Z),re=!1,run_all(te)}}}function create_if_block$h(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q;return{c(){e=element("h3"),e.textContent="Connexion",r=space(),o=element("label"),l=text("Identifiant :"),h=element("br"),y=element("input"),D=space(),O=element("label"),F=text("Mot de passe :"),R=element("br"),B=element("input"),j=space(),U=element("div"),q=text(t[5]),W=space(),G=element("div"),Y=element("div"),Y.textContent="Pas encore de compte ?",K=space(),X=element("button"),X.textContent="Connexion",attr(e,"class","mb-4"),set_style(e,"color","#6219d8"),set_style(e,"text-align","center"),set_style(e,"margin-bottom","16px"),attr(y,"placeholder","bruce@wayne.com"),attr(y,"type","text"),attr(y,"class","svelte-1yoxi9y"),attr(o,"for","id"),attr(o,"class","svelte-1yoxi9y"),attr(B,"type","password"),attr(B,"class","svelte-1yoxi9y"),attr(O,"for","mdp"),attr(O,"class","svelte-1yoxi9y"),attr(U,"class","errorMsg svelte-1yoxi9y"),attr(Y,"class","optionTwo svelte-1yoxi9y"),attr(X,"class","svelte-1yoxi9y"),set_style(G,"display","flex"),set_style(G,"flex-direction","row"),set_style(G,"align-items","center")},m(Z,ee){insert(Z,e,ee),insert(Z,r,ee),insert(Z,o,ee),append(o,l),append(o,h),append(o,y),set_input_value(y,t[2]),insert(Z,D,ee),insert(Z,O,ee),append(O,F),append(O,R),append(O,B),set_input_value(B,t[3]),insert(Z,j,ee),insert(Z,U,ee),append(U,q),insert(Z,W,ee),insert(Z,G,ee),append(G,Y),append(G,K),append(G,X),J||(Q=[listen(y,"input",t[11]),listen(B,"input",t[12]),listen(Y,"click",t[6]),listen(X,"click",t[7])],J=!0)},p(Z,ee){ee&4&&y.value!==Z[2]&&set_input_value(y,Z[2]),ee&8&&B.value!==Z[3]&&set_input_value(B,Z[3]),ee&32&&set_data(q,Z[5])},d(Z){Z&&detach(e),Z&&detach(r),Z&&detach(o),Z&&detach(D),Z&&detach(O),Z&&detach(j),Z&&detach(U),Z&&detach(W),Z&&detach(G),J=!1,run_all(Q)}}}function create_if_block_2$c(t){let e,r;return{c(){e=element("div"),r=text(t[1]),attr(e,"class","infoMsg svelte-1yoxi9y")},m(o,l){insert(o,e,l),append(e,r)},p(o,l){l&2&&set_data(r,o[1])},d(o){o&&detach(e)}}}function create_key_block$1(t){let e,r,o,l;function h(O,F){if(O[0]=="connex")return create_if_block$h;if(O[0]=="inscr")return create_if_block_1$d;if(O[0]=="success")return create_if_block_3$9}let y=h(t),D=y&&y(t);return{c(){e=element("div"),D&&D.c(),attr(e,"class","svelte-1yoxi9y")},m(O,F){insert(O,e,F),D&&D.m(e,null),l=!0},p(O,F){y===(y=h(O))&&D?D.p(O,F):(D&&D.d(1),D=y&&y(O),D&&(D.c(),D.m(e,null)))},i(O){l||(add_render_callback(()=>{o&&o.end(1),r=create_in_transition(e,fly,{x:30}),r.start()}),l=!0)},o(O){r&&r.invalidate(),o=create_out_transition(e,fly,{x:-30}),l=!1},d(O){O&&detach(e),D&&D.d(),O&&o&&o.end()}}}function create_fragment$q(t){let e,r,o=t[0],l,h,y,D,O=create_key_block$1(t);return{c(){e=element("div"),r=element("div"),O.c(),attr(r,"class","floatingLogin svelte-1yoxi9y"),attr(e,"role","dialog"),attr(e,"class","modal svelte-1yoxi9y")},m(F,R){insert(F,e,R),append(e,r),O.m(r,null),h=!0,y||(D=[listen(e,"introstart",t[9]),listen(e,"outroend",t[10])],y=!0)},p(F,[R]){R&1&&safe_not_equal(o,o=F[0])?(group_outros(),transition_out(O,1,1,noop$2),check_outros(),O=create_key_block$1(F),O.c(),transition_in(O,1),O.m(r,null)):O.p(F,R)},i(F){h||(transition_in(O),add_render_callback(()=>{l||(l=create_bidirectional_transition(e,fly,{y:50},!0)),l.run(1)}),h=!0)},o(F){transition_out(O),l||(l=create_bidirectional_transition(e,fly,{y:50},!1)),l.run(0),h=!1},d(F){F&&detach(e),O.d(F),F&&l&&l.end(),y=!1,run_all(D)}}}function instance$o(t,e,r){const o=useNavigate();let{msg:l=""}=e,{page2:h="inscr"}=e;const y=()=>{h=="inscr"?r(0,h="connex"):r(0,h="inscr")};let D="",O="",F="",R="";const B=()=>{D==""||O==""?r(5,R="Veuillez remplir tous les champs ci-dessus."):(r(5,R=""),q(D.toLowerCase(),O).then(Z=>{r(5,R=Z)}))},j=()=>{D==""||O==""||F==""?r(5,R="Veuillez remplir tous les champs ci-dessus."):(r(5,R=""),U(D.toLowerCase(),O,F).then(Z=>{r(5,R=Z)}))};function U(Z,ee,ne){let ie=new Headers;ie.append("Content-Type","application/json");let re=JSON.stringify({email:Z,password1:ee,password2:ne}),te={method:"POST",headers:ie,body:re,redirect:"follow"};return new Promise((se,ce)=>{fetch(rtnUrl+"auth/registration/",te).then(de=>de.text()).then(de=>{Object.keys(JSON.parse(de))[0]=="non_field_errors"?se("Les mots de passe ne sont pas identiques."):Object.keys(JSON.parse(de))[0]=="email"?se("Adresse mail non-valide ou d\xE9j\xE0 utilis\xE9e."):Object.keys(JSON.parse(de))[0]=="password1"?se("Le mot de passe doit contenir au moins 8 caract\xE8res."):JSON.parse(de)[Object.keys(JSON.parse(de))[0]]=="Verification e-mail sent."&&(r(0,h="success"),se("Un e-mail de verification vous a \xE9t\xE9 envoy\xE9."))}).catch(de=>se(de))})}function q(Z,ee){let ne=new Headers;ne.append("Content-Type","application/json");let ie=JSON.stringify({username:Z,password:ee}),re={method:"POST",headers:ne,body:ie,redirect:"follow"};return new Promise((te,se)=>{fetch(rtnUrl+"authenticate/",re).then(ce=>ce.text()).then(ce=>{Object.keys(JSON.parse(ce))[0]=="non_field_errors"?te("Identifiants incorrects."):(xxsc("rtnt",JSON.parse(ce).token,30),xxsc("rtnu",JSON.parse(ce).id,30),closeModal(),o("/dashboard"),te("Connexion effectu\xE9e. Bienvenue sur R\xE9tine."))}).catch(ce=>console.log(ce))})}function W(Z){bubble.call(this,t,Z)}function G(Z){bubble.call(this,t,Z)}function Y(){D=this.value,r(2,D)}function K(){O=this.value,r(3,O)}function X(){D=this.value,r(2,D)}function J(){O=this.value,r(3,O)}function Q(){F=this.value,r(4,F)}return t.$$set=Z=>{"msg"in Z&&r(1,l=Z.msg),"page2"in Z&&r(0,h=Z.page2)},[h,l,D,O,F,R,y,B,j,W,G,Y,K,X,J,Q]}class AuthModule extends SvelteComponent{constructor(e){super(),init(this,e,instance$o,create_fragment$q,safe_not_equal,{msg:1,page2:0})}}var switch_svelte_svelte_type_style_lang="";function create_fragment$p(t){let e,r,o,l,h,y;return{c(){e=element("label"),r=element("input"),o=space(),l=element("span"),attr(r,"type","checkbox"),attr(r,"class","svelte-1awcgxz"),attr(l,"class","slider svelte-1awcgxz"),attr(e,"class","switch svelte-1awcgxz")},m(D,O){insert(D,e,O),append(e,r),r.checked=t[0],append(e,o),append(e,l),h||(y=listen(r,"change",t[1]),h=!0)},p(D,[O]){O&1&&(r.checked=D[0])},i:noop$2,o:noop$2,d(D){D&&detach(e),h=!1,y()}}}function instance$n(t,e,r){let{checked:o=!1}=e;function l(){o=this.checked,r(0,o)}return t.$$set=h=>{"checked"in h&&r(0,o=h.checked)},[o,l]}class Switch extends SvelteComponent{constructor(e){super(),init(this,e,instance$n,create_fragment$p,safe_not_equal,{checked:0})}}var index_svelte_svelte_type_style_lang="";function create_if_block_1$c(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee;function ne(te,se){return xxgc("rtnt")!=null&&xxgc("rtnt")!=null?create_if_block_2$b:create_else_block$a}let re=ne()(t);return{c(){re.c(),e=space(),r=element("img"),l=space(),h=element("div"),y=element("div"),D=element("span"),O=element("div"),F=element("div"),F.textContent="R\xE9tine",B=space(),j=element("h2"),j.innerHTML="La nouvelle \xE8re <br/>de l&#39;opinion",q=space(),W=element("button"),W.textContent="\u26A1 Cr\xE9er un sondage 2.0",Y=space(),K=element("div"),X=element("div"),J=element("div"),J.innerHTML='<div class="w-100 h-100 d-flex align-items-center justify-content-center svelte-7dv7nw" style="border-radius: 15px;"><iframe class="integratedSondage svelte-7dv7nw" id="sondageRetine" title="Mon sondage R\xE9tine" src="https://retine.io/sondage#843a213"></iframe></div>',attr(r,"class","logoJtvBig svelte-7dv7nw"),src_url_equal(r.src,o="assets/LOGO_JTV_ALT.svg")||attr(r,"src",o),attr(r,"alt","logo de Jetevois"),set_style(r,"width","90vw"),set_style(r,"max-width","800px"),set_style(r,"left","50%"),set_style(r,"top","50%"),set_style(r,"transform","translate(-50%,-50%)"),set_style(r,"animation","float 2s ease-in-out infinite"),attr(F,"class","retineTitle svelte-7dv7nw"),attr(j,"class","retineSlogan svelte-7dv7nw"),attr(W,"class","neuBtnClear mt-4 svelte-7dv7nw"),attr(O,"class","centerTitle h-100 text-center text-md-start d-flex align-items-center align-items-md-start justify-content-center svelte-7dv7nw"),attr(y,"class","col-12 col-md-6"),attr(J,"class","iphone-x mx-auto my-4 h-100 svelte-7dv7nw"),attr(X,"class","d-flex align-items-center justify-content-center"),set_style(X,"height","100%"),attr(K,"class","col-12 col-md-6 p-4 p-md-0"),attr(h,"class","row h-100 w-100 p-1 p-md-4")},m(te,se){re.m(te,se),insert(te,e,se),insert(te,r,se),insert(te,l,se),insert(te,h,se),append(h,y),append(y,D),append(D,O),append(O,F),append(O,B),append(O,j),append(O,q),append(O,W),append(h,Y),append(h,K),append(K,X),append(X,J),Z||(ee=listen(W,"click",t[6]),Z=!0)},p(te,se){re.p(te,se)},i(te){R||add_render_callback(()=>{R=create_in_transition(F,fly,{y:50,duration:500,delay:100}),R.start()}),U||add_render_callback(()=>{U=create_in_transition(j,fly,{y:50,duration:500,delay:200}),U.start()}),G||add_render_callback(()=>{G=create_in_transition(W,fly,{y:50,duration:500,delay:300}),G.start()}),Q||add_render_callback(()=>{Q=create_in_transition(J,fly,{y:50,duration:700,delay:400}),Q.start()})},o:noop$2,d(te){re.d(te),te&&detach(e),te&&detach(r),te&&detach(l),te&&detach(h),Z=!1,ee()}}}function create_else_block$a(t){let e,r,o,l;return{c(){e=element("div"),r=element("button"),r.innerHTML=`<i class="bx bx-log-in" width="1.4em" color="white" style="padding-right:5px"></i> 
            <div>Connexion | Inscription</div>`,attr(r,"class","purpleBtn svelte-7dv7nw"),attr(e,"class","connexBtn svelte-7dv7nw")},m(h,y){insert(h,e,y),append(e,r),o||(l=listen(r,"click",t[5]),o=!0)},p:noop$2,d(h){h&&detach(e),o=!1,l()}}}function create_if_block_2$b(t){let e,r,o,l;return{c(){e=element("div"),r=element("button"),r.innerHTML=`<i class="bx bx-log-in" width="1.4em" color="white" style="padding-right:5px"></i> 
            <div>Mon tableau de bord</div>`,attr(r,"class","purpleBtn svelte-7dv7nw"),attr(e,"class","connexBtn svelte-7dv7nw")},m(h,y){insert(h,e,y),append(e,r),o||(l=listen(r,"click",t[4]),o=!0)},p:noop$2,d(h){h&&detach(e),o=!1,l()}}}function create_if_block$g(t){let e,r,o,l,h,y,D;const O=[t[2].props||{}];var F=t[2].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(e=new F(R())),{c(){e&&create_component(e.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-7dv7nw")},m(B,j){e&&mount_component(e,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",t[10]),y=!0)},p(B,j){const U=j&4?get_spread_update(O,[get_spread_object(B[2].props||{})]):{};if(F!==(F=B[2].component)){if(e){group_outros();const q=e;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(e=new F(R()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else F&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$7(t){let e,r,o=t[2]&&create_if_block$g(t);return{c(){o&&o.c(),e=empty()},m(l,h){o&&o.m(l,h),insert(l,e,h),r=!0},p(l,h){l[2]?o?(o.p(l,h),h&4&&transition_in(o,1)):(o=create_if_block$g(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$o(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te,se,ce,de,ue,he,oe,ae,le,fe,we,me,ge,Se,ke,_e,xe,Ce,pe,ye,be,Pe,ve=t[1]?"62\u20AC":"69\u20AC",Te,Ie,Fe,Me,De,Be,ze,Ue,Re,$e,He,Le,Oe,Ae,Ee,Ne,Ge,We,je,Ve=t[0]&&create_if_block_1$c(t);function Xe(qe){t[7](qe)}let Qe={};return t[1]!==void 0&&(Qe.checked=t[1]),re=new Switch({props:Qe}),binding_callbacks.push(()=>bind(re,"checked",Xe)),Ne=new Modals({props:{$$slots:{default:[create_default_slot$7]},$$scope:{ctx:t}}}),{c(){e=element("link"),r=space(),o=element("div"),l=element("div"),Ve&&Ve.c(),h=space(),y=element("div"),D=space(),O=element("div"),O.innerHTML=`<div class="purpleRect svelte-7dv7nw"><img class="logoJtvBig svelte-7dv7nw" style="top:0px; opacity:.1;" src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois"/> 
      <h2 class="lTwoTitle svelte-7dv7nw">Vos clients vont adorer r\xE9pondre,<br/>Vous allez adorer sonder</h2> 
      <div class="row w-100" style="max-width:950px;"><div class="col-12 col-md-4 mb-3"><div class="lTwoCard hvr-float svelte-7dv7nw"><div><div class="numberFact svelte-7dv7nw">30%</div> 
              <div class="textFact svelte-7dv7nw">plus rapide de r\xE9pondre \xE0 un sondage R\xE9tine qu\u2019\xE0 tout autre sondage en ligne</div></div> 
            <div class="footerFact svelte-7dv7nw">\u{1F3C6} Interface chat innovante</div></div></div> 
        <div class="col-12 col-md-4 mb-3"><div class="lTwoCard hvr-float svelte-7dv7nw"><div><div class="numberFact svelte-7dv7nw">87%</div> 
              <div class="textFact svelte-7dv7nw">des r\xE9pondants pr\xE9f\xE8rent r\xE9pondre \xE0 des sondages R\xE9tine</div></div> 
            <div class="footerFact svelte-7dv7nw">\u{1F3C6} Sondages ludiques et modernes</div></div></div> 
        <div class="col-12 col-md-4 mb-3"><div class="lTwoCard hvr-float svelte-7dv7nw"><div><div class="numberFact svelte-7dv7nw">2 <span style="font-size:3rem">clics</span></div> 
              <div class="textFact svelte-7dv7nw">pour analyser les correlations, tendances, r\xE9ponses filtr\xE9es...</div></div> 
            <div class="footerFact svelte-7dv7nw">\u{1F3C6} Interface chat innovante</div></div></div></div></div>`,F=space(),R=element("div"),B=space(),j=element("div"),j.innerHTML=`<img class="logoJtvBig svelte-7dv7nw" style="top:0px; opacity:.05; width:20%!important; min-width:300px;" src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois"/> 
    <h1 class="mb-5 mx-auto">10 bonnes raisons de choisir R\xE9tine</h1> 
    <div class="parent-gridRet svelte-7dv7nw"><div class="div1-gridRet hvr-float svelte-7dv7nw"><img src="assets/LOGO_JTV_ALT_white.svg" alt="logo de Jetevois" style="position: ;absolute; opacity: .2; transform:translateY(-15px)" class="svelte-7dv7nw"/> 
        <p style="position:absolute; color:white; font-size:2.4rem" class="svelte-7dv7nw">R\xE9tine</p></div> 
      <div class="div2-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/icone-dashboards-retine.svg" alt="Tableau de bord interactif" class="svelte-7dv7nw"/> 
        <p class="svelte-7dv7nw">Tableau de bord interactif</p></div> 
      <div class="div3-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/illus-retine-templates.svg" alt="Templates professionnels" class="svelte-7dv7nw"/> 
        <p class="svelte-7dv7nw">Templates professionnels</p></div> 
      <div class="div4-gridRet hvr-float svelte-7dv7nw"><p class="svelte-7dv7nw">IA d\xE9di\xE9e \xE0 l&#39;analyse des r\xE9ponses</p> 
        <img src="assets/landing/illus-retine-analyse-quali.png" alt="Analyse du sentiment des r\xE9pondants" class="svelte-7dv7nw"/></div> 
      <div class="div5-gridRet hvr-float svelte-7dv7nw">\u{1F534} R\xE9sultats en temps r\xE9el</div> 
      <div class="div6-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/illus-retine-max-taux-reponse.svg" alt="Taux de reponse maximis\xE9" class="svelte-7dv7nw"/> 
        <p class="pl-md-3 svelte-7dv7nw">Maximisation du taux de r\xE9ponse</p></div> 
      <div class="div7-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/illus-retine-personalisation.svg" alt="Personnalisation du design des questionnaires" class="svelte-7dv7nw"/> 
        <p class="pl-md-3 svelte-7dv7nw">Personnalisation du design des questionnaires</p></div> 
      <div class="div8-gridRet hvr-float svelte-7dv7nw"><p class="pl-md-4 svelte-7dv7nw">Export des r\xE9sultats</p> 
        <img class="py-3 svelte-7dv7nw" src="assets/landing/grid(3).png" alt="export en csv"/></div> 
      <div class="div9-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/grid(6).png" alt="filtre" class="svelte-7dv7nw"/> 
        <p class="svelte-7dv7nw">Filtrage intelligent des r\xE9ponses</p></div> 
      <div class="div10-gridRet hvr-float svelte-7dv7nw"><p class="pl-md-3 svelte-7dv7nw">Donn\xE9es s\xE9curis\xE9es et h\xE9berg\xE9es en France</p> 
        <img class="pr-md-4 svelte-7dv7nw" src="assets/landing/grid(4).png" alt="nuage s\xE9curis\xE9"/></div> 
      <div class="div11-gridRet hvr-float svelte-7dv7nw"><img class="p-0 svelte-7dv7nw" src="assets/landing/grid(5).png" alt="export en csv"/> 
        <p class="svelte-7dv7nw">Accompagnement au ciblage des r\xE9pondants</p></div></div>`,U=space(),q=element("div"),W=space(),G=element("div"),Y=element("img"),X=space(),J=element("h2"),J.textContent="Il y a forc\xE9ment une offre pour vous",Q=space(),Z=element("div"),ee=element("div"),ee.textContent="Mensuel",ne=space(),ie=element("div"),create_component(re.$$.fragment),se=space(),ce=element("div"),ce.textContent="Annuel (-10%)",de=space(),ue=element("div"),he=element("div"),oe=element("div"),ae=element("div"),ae.textContent="D\xE9couverte",le=space(),fe=element("h1"),fe.textContent="Gratuit",we=space(),me=element("p"),me.textContent="La formule id\xE9ale pour d\xE9couvrir et tester R\xE9tine",ge=space(),Se=element("ul"),Se.innerHTML=`<li>Fonctionnalit\xE9s basiques de R\xE9tine (cr\xE9ation des sondages, lien de partage et analyse des r\xE9sultats)</li> 
            <li>Acc\xE8s \xE0 10 templates de sondages</li> 
            <li>Nombre de r\xE9pondants limit\xE9 \xE0 30 par sondage</li>`,ke=space(),_e=element("div"),_e.textContent="Je d\xE9couvre \u{1F440}",xe=space(),Ce=element("div"),pe=element("div"),ye=element("div"),ye.textContent="R\xE9tine Pro",be=space(),Pe=element("h1"),Te=text(ve),Ie=element("span"),Ie.textContent="/mois",Fe=space(),Me=element("span"),Me.textContent="(TTC)",De=space(),Be=element("p"),Be.textContent="La pleine puissance de R\xE9tine, calibr\xE9e pour les profesionnels",ze=space(),Ue=element("ul"),Ue.innerHTML=`<li>Fonctionnalit\xE9s compl\xE8tes de R\xE9tine (cr\xE9ation des sondages, envoi massif et analyse)</li> 
            <li>Acc\xE8s \xE0 l\u2019ensemble des templates de sondages (50+)</li> 
            <li>Nombre de r\xE9pondants illimit\xE9s</li> 
            <li>Nombre de contacts illimit\xE9s</li> 
            <li>Support 7/7</li>`,Re=space(),$e=element("div"),$e.textContent="C'est parti \u{1F680}",He=space(),Le=element("div"),Le.innerHTML=`<div class="priceCard hvr-float mb-4 svelte-7dv7nw" style="height:fit-content; background-color:white;"><div class="tickk svelte-7dv7nw" style="font-size:1.1rem;">\u23F1\uFE0F Prochaines fonctionnalit\xE9s</div> 
          <ul class="mb-0 svelte-7dv7nw" style="font-size:.9rem;"><li>De nouveaux modules de sondages innovants</li> 
            <li>L\u2019export des r\xE9sultats au format slides (PDF &amp; PPT)</li> 
            <li>De nouvelles options de diffusion de sondages</li></ul></div> 
        <div class="priceCard neuPriceCard hvr-float flex-grow-1 svelte-7dv7nw" style="height:fit-content; background-color:#F5E4D5 "><div class="tickk svelte-7dv7nw">Un besoin particulier ?</div> 
          <p class="svelte-7dv7nw">R\xE9tine vous accompagne sur-mesure</p> 
          <ul class="svelte-7dv7nw"><li>Ciblage des r\xE9pondants</li> 
            <li>Cr\xE9ation de questionnaires</li> 
            <li>Optimisation des campagnes</li></ul> 
          <a style="color:black; text-decoration:none;" href="mailto:bonjour@retine.io"><div class="priceActionButton svelte-7dv7nw">Contactez nous \u{1F680}</div></a></div>`,Oe=space(),Ae=element("footer"),Ae.innerHTML=`<div class="footerPill svelte-7dv7nw" href="https://jetevois.fr">R\xE9tine est un produit cr\xE9\xE9 <br class="d-inline d-md-none"/>par le studio <img src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois" class="svelte-7dv7nw"/> 
      <strong>Je te vois</strong></div> 
    <div class="footerLegal svelte-7dv7nw">\xA9 2020-2022 / <a href="#" class="mx-2 svelte-7dv7nw">Mentions l\xE9gales</a> 

      <div class="socialIcon svelte-7dv7nw"><a href="https://www.linkedin.com/company/je-te-vois" rel="noopener" target="_blank" class="icon-17 linkedin svelte-7dv7nw" title="LinkedIn"><svg viewBox="0 0 512 512"><path d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z"></path></svg></a></div> 
      <div class="socialIcon svelte-7dv7nw"><a href="https://twitter.com/JeTeVoisFR" rel="noopener" target="_blank" class="icon-26 twitter svelte-7dv7nw" title="Twitter"><svg viewBox="0 0 512 512"><path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"></path></svg></a></div> 
      <div class="socialIcon svelte-7dv7nw"><a href="https://instagram.com/jetevoisfr" rel="noopener" target="_blank" class="icon-15 instagram svelte-7dv7nw" title="Instagram"><svg viewBox="0 0 512 512"><g><path d="M256 109.3c47.8 0 53.4 0.2 72.3 1 17.4 0.8 26.9 3.7 33.2 6.2 8.4 3.2 14.3 7.1 20.6 13.4 6.3 6.3 10.1 12.2 13.4 20.6 2.5 6.3 5.4 15.8 6.2 33.2 0.9 18.9 1 24.5 1 72.3s-0.2 53.4-1 72.3c-0.8 17.4-3.7 26.9-6.2 33.2 -3.2 8.4-7.1 14.3-13.4 20.6 -6.3 6.3-12.2 10.1-20.6 13.4 -6.3 2.5-15.8 5.4-33.2 6.2 -18.9 0.9-24.5 1-72.3 1s-53.4-0.2-72.3-1c-17.4-0.8-26.9-3.7-33.2-6.2 -8.4-3.2-14.3-7.1-20.6-13.4 -6.3-6.3-10.1-12.2-13.4-20.6 -2.5-6.3-5.4-15.8-6.2-33.2 -0.9-18.9-1-24.5-1-72.3s0.2-53.4 1-72.3c0.8-17.4 3.7-26.9 6.2-33.2 3.2-8.4 7.1-14.3 13.4-20.6 6.3-6.3 12.2-10.1 20.6-13.4 6.3-2.5 15.8-5.4 33.2-6.2C202.6 109.5 208.2 109.3 256 109.3M256 77.1c-48.6 0-54.7 0.2-73.8 1.1 -19 0.9-32.1 3.9-43.4 8.3 -11.8 4.6-21.7 10.7-31.7 20.6 -9.9 9.9-16.1 19.9-20.6 31.7 -4.4 11.4-7.4 24.4-8.3 43.4 -0.9 19.1-1.1 25.2-1.1 73.8 0 48.6 0.2 54.7 1.1 73.8 0.9 19 3.9 32.1 8.3 43.4 4.6 11.8 10.7 21.7 20.6 31.7 9.9 9.9 19.9 16.1 31.7 20.6 11.4 4.4 24.4 7.4 43.4 8.3 19.1 0.9 25.2 1.1 73.8 1.1s54.7-0.2 73.8-1.1c19-0.9 32.1-3.9 43.4-8.3 11.8-4.6 21.7-10.7 31.7-20.6 9.9-9.9 16.1-19.9 20.6-31.7 4.4-11.4 7.4-24.4 8.3-43.4 0.9-19.1 1.1-25.2 1.1-73.8s-0.2-54.7-1.1-73.8c-0.9-19-3.9-32.1-8.3-43.4 -4.6-11.8-10.7-21.7-20.6-31.7 -9.9-9.9-19.9-16.1-31.7-20.6 -11.4-4.4-24.4-7.4-43.4-8.3C310.7 77.3 304.6 77.1 256 77.1L256 77.1z"></path><path d="M256 164.1c-50.7 0-91.9 41.1-91.9 91.9s41.1 91.9 91.9 91.9 91.9-41.1 91.9-91.9S306.7 164.1 256 164.1zM256 315.6c-32.9 0-59.6-26.7-59.6-59.6s26.7-59.6 59.6-59.6 59.6 26.7 59.6 59.6S288.9 315.6 256 315.6z"></path><circle cx="351.5" cy="160.5" r="21.5"></circle></g></svg></a></div></div>`,Ee=space(),create_component(Ne.$$.fragment),attr(e,"rel","stylesheet"),attr(e,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),attr(l,"class","landingHead pt-5 svelte-7dv7nw"),attr(y,"class","p-5 d-md-none"),set_style(y,"background-color","#FAF7FF"),attr(O,"class","landingTwo pt-5 pt-md-0 svelte-7dv7nw"),attr(R,"class","p-5 d-md-none"),set_style(R,"background-color","#FAF7FF"),attr(j,"class","landingThree pt-5 pt-md-0 svelte-7dv7nw"),attr(q,"class","p-5 d-md-none"),set_style(q,"background-color","#FAF7FF"),attr(Y,"class","logoJtvBig svelte-7dv7nw"),set_style(Y,"top","0px"),set_style(Y,"opacity",".05"),set_style(Y,"width","20%",1),set_style(Y,"min-width","300px"),src_url_equal(Y.src,K="assets/LOGO_JTV_ALT.svg")||attr(Y,"src",K),attr(Y,"alt","logo de Jetevois"),attr(J,"class","mb-4 mx-auto"),attr(ie,"class","mx-3"),attr(Z,"class","d-flex align-items-center justify-content-center mb-4"),attr(ae,"class","tickk svelte-7dv7nw"),attr(fe,"class","svelte-7dv7nw"),attr(me,"class","svelte-7dv7nw"),attr(Se,"class","svelte-7dv7nw"),attr(_e,"class","priceActionButton svelte-7dv7nw"),attr(oe,"class","priceCard hvr-float svelte-7dv7nw"),set_style(oe,"background-color","white"),set_style(oe,"color","black"),set_style(oe,"border","3px #E3E3E3 solid"),attr(he,"class","col-12 col-md-4 p-3"),attr(ye,"class","tickk svelte-7dv7nw"),set_style(Ie,"font-size","1.8rem"),set_style(Me,"font-size","1rem"),attr(Pe,"class","svelte-7dv7nw"),attr(Be,"class","svelte-7dv7nw"),attr(Ue,"class","svelte-7dv7nw"),attr($e,"class","priceActionButton svelte-7dv7nw"),attr(pe,"class","priceCard hvr-float svelte-7dv7nw"),set_style(pe,"color","white"),set_style(pe,"background-color","#6219D8"),attr(Ce,"class","col-12 col-md-4 p-3"),attr(Le,"class","col-12 col-md-4 p-3 d-flex flex-column"),attr(ue,"class","row w-100"),set_style(ue,"max-width","1200px"),attr(G,"class","landingFour pt-5 pt-md-0 svelte-7dv7nw"),attr(Ae,"class","footer svelte-7dv7nw"),attr(o,"class","main svelte-7dv7nw")},m(qe,Ke){append(document.head,e),insert(qe,r,Ke),insert(qe,o,Ke),append(o,l),Ve&&Ve.m(l,null),append(o,h),append(o,y),append(o,D),append(o,O),append(o,F),append(o,R),append(o,B),append(o,j),append(o,U),append(o,q),append(o,W),append(o,G),append(G,Y),append(G,X),append(G,J),append(G,Q),append(G,Z),append(Z,ee),append(Z,ne),append(Z,ie),mount_component(re,ie,null),append(Z,se),append(Z,ce),append(G,de),append(G,ue),append(ue,he),append(he,oe),append(oe,ae),append(oe,le),append(oe,fe),append(oe,we),append(oe,me),append(oe,ge),append(oe,Se),append(oe,ke),append(oe,_e),append(ue,xe),append(ue,Ce),append(Ce,pe),append(pe,ye),append(pe,be),append(pe,Pe),append(Pe,Te),append(Pe,Ie),append(Pe,Fe),append(Pe,Me),append(pe,De),append(pe,Be),append(pe,ze),append(pe,Ue),append(pe,Re),append(pe,$e),append(ue,He),append(ue,Le),append(o,Oe),append(o,Ae),insert(qe,Ee,Ke),mount_component(Ne,qe,Ke),Ge=!0,We||(je=[listen(_e,"click",t[8]),listen($e,"click",t[9])],We=!0)},p(qe,[Ke]){qe[0]?Ve?(Ve.p(qe,Ke),Ke&1&&transition_in(Ve,1)):(Ve=create_if_block_1$c(qe),Ve.c(),transition_in(Ve,1),Ve.m(l,null)):Ve&&(Ve.d(1),Ve=null);const Ze={};!te&&Ke&2&&(te=!0,Ze.checked=qe[1],add_flush_callback(()=>te=!1)),re.$set(Ze),(!Ge||Ke&2)&&ve!==(ve=qe[1]?"62\u20AC":"69\u20AC")&&set_data(Te,ve);const et={};Ke&16388&&(et.$$scope={dirty:Ke,ctx:qe}),Ne.$set(et)},i(qe){Ge||(transition_in(Ve),transition_in(re.$$.fragment,qe),transition_in(Ne.$$.fragment,qe),Ge=!0)},o(qe){transition_out(re.$$.fragment,qe),transition_out(Ne.$$.fragment,qe),Ge=!1},d(qe){detach(e),qe&&detach(r),qe&&detach(o),Ve&&Ve.d(),destroy_component(re),qe&&detach(Ee),destroy_component(Ne,qe),We=!1,run_all(je)}}}function instance$m(t,e,r){let o,l;component_subscribe(t,modals,q=>r(3,l=q));let h=!1;onMount(()=>r(0,h=!0));let y=!1;const D=()=>window.location.href="/dashboard",O=()=>openModal(AuthModule,{}),F=()=>navigate("demo");function R(q){y=q,r(1,y)}const B=()=>openModal(AuthModule,{msg:"Vous cr\xE9ez un compte R\xE9tine D\xE9couverte. Passez \xE0 R\xE9tine Pro pour d\xE9bloquer toutes les fonctionnalit\xE9s de R\xE9tine."}),j=()=>openModal(AuthModule,{msg:"Vous cr\xE9ez un compte R\xE9tine qui vous permettra d'utiliser tout le potentiel de R\xE9tine."}),U=()=>{closeModal()};return t.$$.update=()=>{t.$$.dirty&8&&r(2,o=l[l.length-1])},[h,y,o,l,D,O,F,R,B,j,U]}class Home extends SvelteComponent{constructor(e){super(),init(this,e,instance$m,create_fragment$o,safe_not_equal,{})}}const countOccurrences=(t,e)=>t.reduce((r,o)=>o===e?r+1:r,0),getDaysArray=function(t,e){for(var r=[],o=new Date(t);o<=new Date(e);o.setDate(o.getDate()+1))r.push(new Date(o));return r};function uuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}let scaleParam={x:{grid:{display:!1},ticks:{stepSize:1,maxTicksLimit:20,beginAtZero:!0}},y:{grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0,maxTicksLimit:5}}},deferredConfig={xOffset:150,yOffset:"30%",delay:100},chartColors=["#23BE6E4D","#7798AB4D","#6219D84D","#DB54614D","#42BFDD4D","#E7BB734D","#F08CAE4D","#A297154D","#4C4C474D","#F588514D"];async function dlData(t){var e=new Headers;return e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json"),fetch(`${rtnUrl}sondage/edit/x/${t}/`,{method:"GET",headers:e,redirect:"follow"}).then(r=>r.blob()).then(r=>{var o=window.URL.createObjectURL(r);window.location.assign(o)})}async function delSondRtn(t,e){Swal.fire({title:"Supprimer le sondage?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#6219D8",cancelButtonColor:"#2FCC72",confirmButtonText:"Supprimer le sondage",cancelButtonText:"Annuler"}).then(r=>{if(r.isConfirmed){var o=new Headers;return o.append("Authorization","Token "+xxgc("rtnt")),fetch(`${rtnUrl}sondages/edit/${t}/`,{method:"DELETE",headers:o,redirect:"follow"}).then(l=>l.text()).then(l=>(Swal.fire("Sondage supprim\xE9","Votre sondage ainsi que les r\xE9ponses ont \xE9t\xE9 supprim\xE9s.","success"),e("projects"),l)).catch(l=>l)}})}async function shareQueryGET(t){var e=new Headers;return e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/edit/share/${t}/`,{method:"GET",headers:e,redirect:"follow"}).then(r=>r.text()).then(r=>JSON.parse(r)).catch(r=>r)}async function shareQueryCREATE(t){var e=new Headers;return e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/edit/share/${t}/`,{method:"PUT",headers:e,redirect:"follow",body:JSON.stringify({share_id:uuidv4().toString(),share_pw:uuidv4().toString()})}).then(r=>r.text()).then(r=>JSON.parse(r)).catch(r=>r)}async function shareQueryDELETE(t){var e=new Headers;return e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/edit/share/${t}/`,{method:"PUT",headers:e,redirect:"follow",body:JSON.stringify({share_id:"no",share_pw:"no"})}).then(r=>r.text()).then(r=>JSON.parse(r)).catch(r=>r)}var projetCard_svelte_svelte_type_style_lang="";function create_fragment$n(t){let e,r,o,l,h,y,D,O=t[0].nom_proj+"",F,R,B,j,U=t[0].crea_date.split("T")[0]+"",q,W,G,Y=t[1]?"Brouillon":t[0].reponse.length.toString()+" r\xE9ponses",K,X,J;return{c(){e=element("div"),r=element("div"),o=element("img"),h=space(),y=element("div"),D=element("div"),F=text(O),R=space(),B=element("div"),j=element("div"),q=text(U),W=space(),G=element("div"),K=text(Y),attr(o,"class","w-100"),src_url_equal(o.src,l=t[1]?"/assets/icons/delete.svg":"/assets/icons/share.svg")||attr(o,"src",l),attr(o,"alt","bouton partger"),attr(r,"class","threeDot hvr-bounce-in svelte-33rzr5"),set_style(D,"font-size",t[4]+"rem"),attr(y,"class","cardTop w-100 h-75 m-0 svelte-33rzr5"),set_style(y,"background-color",t[1]?"grey":t[0].color),attr(j,"class","d-fk"),attr(B,"class","px-3 flex-fill d-flex justify-content-between align-items-center w-100"),attr(e,"class","neuProjet d-flex align-items-center justify-content-stretch flex-column hvr-float svelte-33rzr5")},m(Q,Z){insert(Q,e,Z),append(e,r),append(r,o),append(e,h),append(e,y),append(y,D),append(D,F),append(e,R),append(e,B),append(B,j),append(j,q),append(B,W),append(B,G),append(G,K),X||(J=[listen(r,"click",stop_propagation(t[2])),listen(e,"click",t[3])],X=!0)},p(Q,[Z]){Z&1&&O!==(O=Q[0].nom_proj+"")&&set_data(F,O),Z&1&&set_style(y,"background-color",Q[1]?"grey":Q[0].color),Z&1&&U!==(U=Q[0].crea_date.split("T")[0]+"")&&set_data(q,U),Z&1&&Y!==(Y=Q[1]?"Brouillon":Q[0].reponse.length.toString()+" r\xE9ponses")&&set_data(K,Y)},i:noop$2,o:noop$2,d(Q){Q&&detach(e),X=!1,run_all(J)}}}function instance$l(t,e,r){function o(U){activePageStore.set(U)}let{sondage:l}=e,{loadSondage:h}=e,{updateFun:y}=e,{loadSView:D}=e,{shareFunction:O}=e,F=l.reponse.length==0&&l.priv==!0;const R=()=>{F?delSondRtn(l.id,y):O(),window.event.stopPropagation()},B=()=>{F?(r(0,l.jsonContent=JSON.parse(l.jsonContent),l),h(l,l.id)):(D(l),o("projectView"))};let j=l.nom_proj.length<35?"1.8":"1.1";return t.$$set=U=>{"sondage"in U&&r(0,l=U.sondage),"loadSondage"in U&&r(5,h=U.loadSondage),"updateFun"in U&&r(6,y=U.updateFun),"loadSView"in U&&r(7,D=U.loadSView),"shareFunction"in U&&r(8,O=U.shareFunction)},[l,F,R,B,j,h,y,D,O]}class ProjetCard extends SvelteComponent{constructor(e){super(),init(this,e,instance$l,create_fragment$n,safe_not_equal,{sondage:0,loadSondage:5,updateFun:6,loadSView:7,shareFunction:8})}}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),e}var browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},utils$2={};let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$2.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};utils$2.getSymbolTotalCodewords=function(e){return CODEWORDS_COUNT[e]};utils$2.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};utils$2.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=e};utils$2.isKanjiModeEnabled=function(){return typeof toSJISFunction!="undefined"};utils$2.toSJIS=function(e){return toSJISFunction(e)};var errorCorrectionLevel={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},t.from=function(o,l){if(t.isValid(o))return o;try{return e(o)}catch{return l}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1;function BitMatrix$1(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}BitMatrix$1.prototype.set=function(t,e,r,o){const l=t*this.size+e;this.data[l]=r,o&&(this.reservedBit[l]=!0)};BitMatrix$1.prototype.get=function(t,e){return this.data[t*this.size+e]};BitMatrix$1.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};BitMatrix$1.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(t){const e=utils$2.getSymbolSize;t.getRowColCoords=function(o){if(o===1)return[];const l=Math.floor(o/7)+2,h=e(o),y=h===145?26:Math.ceil((h-13)/(2*l-2))*2,D=[h-7];for(let O=1;O<l-1;O++)D[O]=D[O-1]-y;return D.push(6),D.reverse()},t.getPositions=function(o){const l=[],h=t.getRowColCoords(o),y=h.length;for(let D=0;D<y;D++)for(let O=0;O<y;O++)D===0&&O===0||D===0&&O===y-1||D===y-1&&O===0||l.push([h[D],h[O]]);return l}})(alignmentPattern);var finderPattern={};const getSymbolSize=utils$2.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function(e){const r=getSymbolSize(e);return[[0,0],[r-FINDER_PATTERN_SIZE,0],[0,r-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(l){return l!=null&&l!==""&&!isNaN(l)&&l>=0&&l<=7},t.from=function(l){return t.isValid(l)?parseInt(l,10):void 0},t.getPenaltyN1=function(l){const h=l.size;let y=0,D=0,O=0,F=null,R=null;for(let B=0;B<h;B++){D=O=0,F=R=null;for(let j=0;j<h;j++){let U=l.get(B,j);U===F?D++:(D>=5&&(y+=e.N1+(D-5)),F=U,D=1),U=l.get(j,B),U===R?O++:(O>=5&&(y+=e.N1+(O-5)),R=U,O=1)}D>=5&&(y+=e.N1+(D-5)),O>=5&&(y+=e.N1+(O-5))}return y},t.getPenaltyN2=function(l){const h=l.size;let y=0;for(let D=0;D<h-1;D++)for(let O=0;O<h-1;O++){const F=l.get(D,O)+l.get(D,O+1)+l.get(D+1,O)+l.get(D+1,O+1);(F===4||F===0)&&y++}return y*e.N2},t.getPenaltyN3=function(l){const h=l.size;let y=0,D=0,O=0;for(let F=0;F<h;F++){D=O=0;for(let R=0;R<h;R++)D=D<<1&2047|l.get(F,R),R>=10&&(D===1488||D===93)&&y++,O=O<<1&2047|l.get(R,F),R>=10&&(O===1488||O===93)&&y++}return y*e.N3},t.getPenaltyN4=function(l){let h=0;const y=l.data.length;for(let O=0;O<y;O++)h+=l.data[O];return Math.abs(Math.ceil(h*100/y/5)-10)*e.N4};function r(o,l,h){switch(o){case t.Patterns.PATTERN000:return(l+h)%2===0;case t.Patterns.PATTERN001:return l%2===0;case t.Patterns.PATTERN010:return h%3===0;case t.Patterns.PATTERN011:return(l+h)%3===0;case t.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(h/3))%2===0;case t.Patterns.PATTERN101:return l*h%2+l*h%3===0;case t.Patterns.PATTERN110:return(l*h%2+l*h%3)%2===0;case t.Patterns.PATTERN111:return(l*h%3+(l+h)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}t.applyMask=function(l,h){const y=h.size;for(let D=0;D<y;D++)for(let O=0;O<y;O++)h.isReserved(O,D)||h.xor(O,D,r(l,O,D))},t.getBestMask=function(l,h){const y=Object.keys(t.Patterns).length;let D=0,O=1/0;for(let F=0;F<y;F++){h(F),t.applyMask(F,l);const R=t.getPenaltyN1(l)+t.getPenaltyN2(l)+t.getPenaltyN3(l)+t.getPenaltyN4(l);t.applyMask(F,l),R<O&&(O=R,D=F)}return D}})(maskPattern);var errorCorrectionCode={};const ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function(e,r){switch(r){case ECLevel$1.L:return EC_BLOCKS_TABLE[(e-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(e-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(e-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(e-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function(e,r){switch(r){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(e-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(e-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(e-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(e-1)*4+3];default:return}};var polynomial={},galoisField={};const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)EXP_TABLE[r]=e,LOG_TABLE[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)EXP_TABLE[r]=EXP_TABLE[r-255]})();galoisField.log=function(e){if(e<1)throw new Error("log("+e+")");return LOG_TABLE[e]};galoisField.exp=function(e){return EXP_TABLE[e]};galoisField.mul=function(e,r){return e===0||r===0?0:EXP_TABLE[LOG_TABLE[e]+LOG_TABLE[r]]};(function(t){const e=galoisField;t.mul=function(o,l){const h=new Uint8Array(o.length+l.length-1);for(let y=0;y<o.length;y++)for(let D=0;D<l.length;D++)h[y+D]^=e.mul(o[y],l[D]);return h},t.mod=function(o,l){let h=new Uint8Array(o);for(;h.length-l.length>=0;){const y=h[0];for(let O=0;O<l.length;O++)h[O]^=e.mul(l[O],y);let D=0;for(;D<h.length&&h[D]===0;)D++;h=h.slice(D)}return h},t.generateECPolynomial=function(o){let l=new Uint8Array([1]);for(let h=0;h<o;h++)l=t.mul(l,new Uint8Array([1,e.exp(h)]));return l}})(polynomial);const Polynomial=polynomial;function ReedSolomonEncoder$1(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function(e){this.degree=e,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const o=Polynomial.mod(r,this.genPoly),l=this.degree-o.length;if(l>0){const h=new Uint8Array(this.degree);return h.set(o,l),h}return o};var reedSolomonEncoder=ReedSolomonEncoder$1,version$1={},mode={},versionCheck={};versionCheck.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var regex={};const numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+";let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function(e){return TEST_KANJI.test(e)};regex.testNumeric=function(e){return TEST_NUMERIC.test(e)};regex.testAlphanumeric=function(e){return TEST_ALPHANUMERIC.test(e)};(function(t){const e=versionCheck,r=regex;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(h,y){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!e.isValid(y))throw new Error("Invalid version: "+y);return y>=1&&y<10?h.ccBits[0]:y<27?h.ccBits[1]:h.ccBits[2]},t.getBestModeForData=function(h){return r.testNumeric(h)?t.NUMERIC:r.testAlphanumeric(h)?t.ALPHANUMERIC:r.testKanji(h)?t.KANJI:t.BYTE},t.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},t.isValid=function(h){return h&&h.bit&&h.ccBits};function o(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+l)}}t.from=function(h,y){if(t.isValid(h))return h;try{return o(h)}catch{return y}}})(mode);(function(t){const e=utils$2,r=errorCorrectionCode,o=errorCorrectionLevel,l=mode,h=versionCheck,y=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,D=e.getBCHDigit(y);function O(j,U,q){for(let W=1;W<=40;W++)if(U<=t.getCapacity(W,q,j))return W}function F(j,U){return l.getCharCountIndicator(j,U)+4}function R(j,U){let q=0;return j.forEach(function(W){q+=F(W.mode,U)+W.getBitsLength()}),q}function B(j,U){for(let q=1;q<=40;q++)if(R(j,q)<=t.getCapacity(q,U,l.MIXED))return q}t.from=function(U,q){return h.isValid(U)?parseInt(U,10):q},t.getCapacity=function(U,q,W){if(!h.isValid(U))throw new Error("Invalid QR Code version");typeof W=="undefined"&&(W=l.BYTE);const G=e.getSymbolTotalCodewords(U),Y=r.getTotalCodewordsCount(U,q),K=(G-Y)*8;if(W===l.MIXED)return K;const X=K-F(W,U);switch(W){case l.NUMERIC:return Math.floor(X/10*3);case l.ALPHANUMERIC:return Math.floor(X/11*2);case l.KANJI:return Math.floor(X/13);case l.BYTE:default:return Math.floor(X/8)}},t.getBestVersionForData=function(U,q){let W;const G=o.from(q,o.M);if(Array.isArray(U)){if(U.length>1)return B(U,G);if(U.length===0)return 1;W=U[0]}else W=U;return O(W.mode,W.getLength(),G)},t.getEncodedBits=function(U){if(!h.isValid(U)||U<7)throw new Error("Invalid QR Code version");let q=U<<12;for(;e.getBCHDigit(q)-D>=0;)q^=y<<e.getBCHDigit(q)-D;return U<<12|q}})(version$1);var formatInfo={};const Utils$3=utils$2,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function(e,r){const o=e.bit<<3|r;let l=o<<10;for(;Utils$3.getBCHDigit(l)-G15_BCH>=0;)l^=G15<<Utils$3.getBCHDigit(l)-G15_BCH;return(o<<10|l)^G15_MASK};var segments={};const Mode$4=mode;function NumericData(t){this.mode=Mode$4.NUMERIC,this.data=t.toString()}NumericData.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};NumericData.prototype.getLength=function(){return this.data.length};NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function(e){let r,o,l;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),l=parseInt(o,10),e.put(l,10);const h=this.data.length-r;h>0&&(o=this.data.substr(r),l=parseInt(o,10),e.put(l,h*3+1))};var numericData=NumericData;const Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(t){this.mode=Mode$3.ALPHANUMERIC,this.data=t}AlphanumericData.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};AlphanumericData.prototype.getLength=function(){return this.data.length};AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let o=ALPHA_NUM_CHARS.indexOf(this.data[r])*45;o+=ALPHA_NUM_CHARS.indexOf(this.data[r+1]),e.put(o,11)}this.data.length%2&&e.put(ALPHA_NUM_CHARS.indexOf(this.data[r]),6)};var alphanumericData=AlphanumericData,encodeUtf8$1=function(e){for(var r=[],o=e.length,l=0;l<o;l++){var h=e.charCodeAt(l);if(h>=55296&&h<=56319&&o>l+1){var y=e.charCodeAt(l+1);y>=56320&&y<=57343&&(h=(h-55296)*1024+y-56320+65536,l+=1)}if(h<128){r.push(h);continue}if(h<2048){r.push(h>>6|192),r.push(h&63|128);continue}if(h<55296||h>=57344&&h<65536){r.push(h>>12|224),r.push(h>>6&63|128),r.push(h&63|128);continue}if(h>=65536&&h<=1114111){r.push(h>>18|240),r.push(h>>12&63|128),r.push(h>>6&63|128),r.push(h&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const encodeUtf8=encodeUtf8$1,Mode$2=mode;function ByteData(t){this.mode=Mode$2.BYTE,this.data=new Uint8Array(encodeUtf8(t))}ByteData.getBitsLength=function(e){return e*8};ByteData.prototype.getLength=function(){return this.data.length};ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var byteData=ByteData;const Mode$1=mode,Utils$2=utils$2;function KanjiData(t){this.mode=Mode$1.KANJI,this.data=t}KanjiData.getBitsLength=function(e){return e*13};KanjiData.prototype.getLength=function(){return this.data.length};KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Utils$2.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,o,l){var h={},y={};y[o]=0;var D=e.PriorityQueue.make();D.push(o,0);for(var O,F,R,B,j,U,q,W,G;!D.empty();){O=D.pop(),F=O.value,B=O.cost,j=r[F]||{};for(R in j)j.hasOwnProperty(R)&&(U=j[R],q=B+U,W=y[R],G=typeof y[R]=="undefined",(G||W>q)&&(y[R]=q,D.push(R,q),h[R]=F))}if(typeof l!="undefined"&&typeof y[l]=="undefined"){var Y=["Could not find a path from ",o," to ",l,"."].join("");throw new Error(Y)}return h},extract_shortest_path_from_predecessor_list:function(r,o){for(var l=[],h=o;h;)l.push(h),h=r[h];return l.reverse(),l},find_path:function(r,o,l){var h=e.single_source_shortest_paths(r,o,l);return e.extract_shortest_path_from_predecessor_list(h,l)},PriorityQueue:{make:function(r){var o=e.PriorityQueue,l={},h;r=r||{};for(h in o)o.hasOwnProperty(h)&&(l[h]=o[h]);return l.queue=[],l.sorter=r.sorter||o.default_sorter,l},default_sorter:function(r,o){return r.cost-o.cost},push:function(r,o){var l={value:r,cost:o};this.queue.push(l),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(dijkstra);(function(t){const e=mode,r=numericData,o=alphanumericData,l=byteData,h=kanjiData,y=regex,D=utils$2,O=dijkstra.exports;function F(Y){return unescape(encodeURIComponent(Y)).length}function R(Y,K,X){const J=[];let Q;for(;(Q=Y.exec(X))!==null;)J.push({data:Q[0],index:Q.index,mode:K,length:Q[0].length});return J}function B(Y){const K=R(y.NUMERIC,e.NUMERIC,Y),X=R(y.ALPHANUMERIC,e.ALPHANUMERIC,Y);let J,Q;return D.isKanjiModeEnabled()?(J=R(y.BYTE,e.BYTE,Y),Q=R(y.KANJI,e.KANJI,Y)):(J=R(y.BYTE_KANJI,e.BYTE,Y),Q=[]),K.concat(X,J,Q).sort(function(ee,ne){return ee.index-ne.index}).map(function(ee){return{data:ee.data,mode:ee.mode,length:ee.length}})}function j(Y,K){switch(K){case e.NUMERIC:return r.getBitsLength(Y);case e.ALPHANUMERIC:return o.getBitsLength(Y);case e.KANJI:return h.getBitsLength(Y);case e.BYTE:return l.getBitsLength(Y)}}function U(Y){return Y.reduce(function(K,X){const J=K.length-1>=0?K[K.length-1]:null;return J&&J.mode===X.mode?(K[K.length-1].data+=X.data,K):(K.push(X),K)},[])}function q(Y){const K=[];for(let X=0;X<Y.length;X++){const J=Y[X];switch(J.mode){case e.NUMERIC:K.push([J,{data:J.data,mode:e.ALPHANUMERIC,length:J.length},{data:J.data,mode:e.BYTE,length:J.length}]);break;case e.ALPHANUMERIC:K.push([J,{data:J.data,mode:e.BYTE,length:J.length}]);break;case e.KANJI:K.push([J,{data:J.data,mode:e.BYTE,length:F(J.data)}]);break;case e.BYTE:K.push([{data:J.data,mode:e.BYTE,length:F(J.data)}])}}return K}function W(Y,K){const X={},J={start:{}};let Q=["start"];for(let Z=0;Z<Y.length;Z++){const ee=Y[Z],ne=[];for(let ie=0;ie<ee.length;ie++){const re=ee[ie],te=""+Z+ie;ne.push(te),X[te]={node:re,lastCount:0},J[te]={};for(let se=0;se<Q.length;se++){const ce=Q[se];X[ce]&&X[ce].node.mode===re.mode?(J[ce][te]=j(X[ce].lastCount+re.length,re.mode)-j(X[ce].lastCount,re.mode),X[ce].lastCount+=re.length):(X[ce]&&(X[ce].lastCount=re.length),J[ce][te]=j(re.length,re.mode)+4+e.getCharCountIndicator(re.mode,K))}}Q=ne}for(let Z=0;Z<Q.length;Z++)J[Q[Z]].end=0;return{map:J,table:X}}function G(Y,K){let X;const J=e.getBestModeForData(Y);if(X=e.from(K,J),X!==e.BYTE&&X.bit<J.bit)throw new Error('"'+Y+'" cannot be encoded with mode '+e.toString(X)+`.
 Suggested mode is: `+e.toString(J));switch(X===e.KANJI&&!D.isKanjiModeEnabled()&&(X=e.BYTE),X){case e.NUMERIC:return new r(Y);case e.ALPHANUMERIC:return new o(Y);case e.KANJI:return new h(Y);case e.BYTE:return new l(Y)}}t.fromArray=function(K){return K.reduce(function(X,J){return typeof J=="string"?X.push(G(J,null)):J.data&&X.push(G(J.data,J.mode)),X},[])},t.fromString=function(K,X){const J=B(K,D.isKanjiModeEnabled()),Q=q(J),Z=W(Q,X),ee=O.find_path(Z.map,"start","end"),ne=[];for(let ie=1;ie<ee.length-1;ie++)ne.push(Z.table[ee[ie]].node);return t.fromArray(U(ne))},t.rawSplit=function(K){return t.fromArray(B(K,D.isKanjiModeEnabled()))}})(segments);const Utils$1=utils$2,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version$1,FormatInfo=formatInfo,Mode=mode,Segments=segments;function setupFinderPattern(t,e){const r=t.size,o=FinderPattern.getPositions(e);for(let l=0;l<o.length;l++){const h=o[l][0],y=o[l][1];for(let D=-1;D<=7;D++)if(!(h+D<=-1||r<=h+D))for(let O=-1;O<=7;O++)y+O<=-1||r<=y+O||(D>=0&&D<=6&&(O===0||O===6)||O>=0&&O<=6&&(D===0||D===6)||D>=2&&D<=4&&O>=2&&O<=4?t.set(h+D,y+O,!0,!0):t.set(h+D,y+O,!1,!0))}}function setupTimingPattern(t){const e=t.size;for(let r=8;r<e-8;r++){const o=r%2===0;t.set(r,6,o,!0),t.set(6,r,o,!0)}}function setupAlignmentPattern(t,e){const r=AlignmentPattern.getPositions(e);for(let o=0;o<r.length;o++){const l=r[o][0],h=r[o][1];for(let y=-2;y<=2;y++)for(let D=-2;D<=2;D++)y===-2||y===2||D===-2||D===2||y===0&&D===0?t.set(l+y,h+D,!0,!0):t.set(l+y,h+D,!1,!0)}}function setupVersionInfo(t,e){const r=t.size,o=Version.getEncodedBits(e);let l,h,y;for(let D=0;D<18;D++)l=Math.floor(D/3),h=D%3+r-8-3,y=(o>>D&1)===1,t.set(l,h,y,!0),t.set(h,l,y,!0)}function setupFormatInfo(t,e,r){const o=t.size,l=FormatInfo.getEncodedBits(e,r);let h,y;for(h=0;h<15;h++)y=(l>>h&1)===1,h<6?t.set(h,8,y,!0):h<8?t.set(h+1,8,y,!0):t.set(o-15+h,8,y,!0),h<8?t.set(8,o-h-1,y,!0):h<9?t.set(8,15-h-1+1,y,!0):t.set(8,15-h-1,y,!0);t.set(o-8,8,1,!0)}function setupData(t,e){const r=t.size;let o=-1,l=r-1,h=7,y=0;for(let D=r-1;D>0;D-=2)for(D===6&&D--;;){for(let O=0;O<2;O++)if(!t.isReserved(l,D-O)){let F=!1;y<e.length&&(F=(e[y]>>>h&1)===1),t.set(l,D-O,F),h--,h===-1&&(y++,h=7)}if(l+=o,l<0||r<=l){l-=o,o=-o;break}}}function createData(t,e,r){const o=new BitBuffer;r.forEach(function(O){o.put(O.mode.bit,4),o.put(O.getLength(),Mode.getCharCountIndicator(O.mode,t)),O.write(o)});const l=Utils$1.getSymbolTotalCodewords(t),h=ECCode.getTotalCodewordsCount(t,e),y=(l-h)*8;for(o.getLengthInBits()+4<=y&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const D=(y-o.getLengthInBits())/8;for(let O=0;O<D;O++)o.put(O%2?17:236,8);return createCodewords(o,t,e)}function createCodewords(t,e,r){const o=Utils$1.getSymbolTotalCodewords(e),l=ECCode.getTotalCodewordsCount(e,r),h=o-l,y=ECCode.getBlocksCount(e,r),D=o%y,O=y-D,F=Math.floor(o/y),R=Math.floor(h/y),B=R+1,j=F-R,U=new ReedSolomonEncoder(j);let q=0;const W=new Array(y),G=new Array(y);let Y=0;const K=new Uint8Array(t.buffer);for(let ee=0;ee<y;ee++){const ne=ee<O?R:B;W[ee]=K.slice(q,q+ne),G[ee]=U.encode(W[ee]),q+=ne,Y=Math.max(Y,ne)}const X=new Uint8Array(o);let J=0,Q,Z;for(Q=0;Q<Y;Q++)for(Z=0;Z<y;Z++)Q<W[Z].length&&(X[J++]=W[Z][Q]);for(Q=0;Q<j;Q++)for(Z=0;Z<y;Z++)X[J++]=G[Z][Q];return X}function createSymbol(t,e,r,o){let l;if(Array.isArray(t))l=Segments.fromArray(t);else if(typeof t=="string"){let F=e;if(!F){const R=Segments.rawSplit(t);F=Version.getBestVersionForData(R,r)}l=Segments.fromString(t,F||40)}else throw new Error("Invalid data");const h=Version.getBestVersionForData(l,r);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=h;else if(e<h)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+h+`.
`);const y=createData(e,r,l),D=Utils$1.getSymbolSize(e),O=new BitMatrix(D);return setupFinderPattern(O,e),setupTimingPattern(O),setupAlignmentPattern(O,e),setupFormatInfo(O,r,0),e>=7&&setupVersionInfo(O,e),setupData(O,y),isNaN(o)&&(o=MaskPattern.getBestMask(O,setupFormatInfo.bind(null,O,r))),MaskPattern.applyMask(o,O),setupFormatInfo(O,r,o),{modules:O,version:e,errorCorrectionLevel:r,maskPattern:o,segments:l}}qrcode.create=function(e,r){if(typeof e=="undefined"||e==="")throw new Error("No input text");let o=ECLevel.M,l,h;return typeof r!="undefined"&&(o=ECLevel.from(r.errorCorrectionLevel,ECLevel.M),l=Version.from(r.version),h=MaskPattern.from(r.maskPattern),r.toSJISFunc&&Utils$1.setToSJISFunction(r.toSJISFunc)),createSymbol(e,l,o,h)};var canvas={},utils$1={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+r);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(h){return[h,h]}))),o.length===6&&o.push("F","F");const l=parseInt(o.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+o.slice(0,6).join("")}}t.getOptions=function(o){o||(o={}),o.color||(o.color={});const l=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,h=o.width&&o.width>=21?o.width:void 0,y=o.scale||4;return{width:h,scale:h?4:y,margin:l,color:{dark:e(o.color.dark||"#000000ff"),light:e(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},t.getScale=function(o,l){return l.width&&l.width>=o+l.margin*2?l.width/(o+l.margin*2):l.scale},t.getImageWidth=function(o,l){const h=t.getScale(o,l);return Math.floor((o+l.margin*2)*h)},t.qrToImageData=function(o,l,h){const y=l.modules.size,D=l.modules.data,O=t.getScale(y,h),F=Math.floor((y+h.margin*2)*O),R=h.margin*O,B=[h.color.light,h.color.dark];for(let j=0;j<F;j++)for(let U=0;U<F;U++){let q=(j*F+U)*4,W=h.color.light;if(j>=R&&U>=R&&j<F-R&&U<F-R){const G=Math.floor((j-R)/O),Y=Math.floor((U-R)/O);W=B[D[G*y+Y]?1:0]}o[q++]=W.r,o[q++]=W.g,o[q++]=W.b,o[q]=W.a}}})(utils$1);(function(t){const e=utils$1;function r(l,h,y){l.clearRect(0,0,h.width,h.height),h.style||(h.style={}),h.height=y,h.width=y,h.style.height=y+"px",h.style.width=y+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(h,y,D){let O=D,F=y;typeof O=="undefined"&&(!y||!y.getContext)&&(O=y,y=void 0),y||(F=o()),O=e.getOptions(O);const R=e.getImageWidth(h.modules.size,O),B=F.getContext("2d"),j=B.createImageData(R,R);return e.qrToImageData(j.data,h,O),r(B,F,R),B.putImageData(j,0,0),F},t.renderToDataURL=function(h,y,D){let O=D;typeof O=="undefined"&&(!y||!y.getContext)&&(O=y,y=void 0),O||(O={});const F=t.render(h,y,O),R=O.type||"image/png",B=O.rendererOpts||{};return F.toDataURL(R,B.quality)}})(canvas);var svgTag={};const Utils=utils$1;function getColorAttrib(t,e){const r=t.a/255,o=e+'="'+t.hex+'"';return r<1?o+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':o}function svgCmd(t,e,r){let o=t+e;return typeof r!="undefined"&&(o+=" "+r),o}function qrToPath(t,e,r){let o="",l=0,h=!1,y=0;for(let D=0;D<t.length;D++){const O=Math.floor(D%e),F=Math.floor(D/e);!O&&!h&&(h=!0),t[D]?(y++,D>0&&O>0&&t[D-1]||(o+=h?svgCmd("M",O+r,.5+F+r):svgCmd("m",l,0),l=0,h=!1),O+1<e&&t[D+1]||(o+=svgCmd("h",y),y=0)):l++}return o}svgTag.render=function(e,r,o){const l=Utils.getOptions(r),h=e.modules.size,y=e.modules.data,D=h+l.margin*2,O=l.color.light.a?"<path "+getColorAttrib(l.color.light,"fill")+' d="M0 0h'+D+"v"+D+'H0z"/>':"",F="<path "+getColorAttrib(l.color.dark,"stroke")+' d="'+qrToPath(y,h,l.margin)+'"/>',R='viewBox="0 0 '+D+" "+D+'"',B=l.width?'width="'+l.width+'" height="'+l.width+'" ':"",j='<svg xmlns="http://www.w3.org/2000/svg" '+B+R+' shape-rendering="crispEdges">'+O+F+`</svg>
`;return typeof o=="function"&&o(null,j),j};const canPromise=canPromise$1,QRCode=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(t,e,r,o,l){const h=[].slice.call(arguments,1),y=h.length,D=typeof h[y-1]=="function";if(!D&&!canPromise())throw new Error("Callback required as last argument");if(D){if(y<2)throw new Error("Too few arguments provided");y===2?(l=r,r=e,e=o=void 0):y===3&&(e.getContext&&typeof l=="undefined"?(l=o,o=void 0):(l=o,o=r,r=e,e=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(r=e,e=o=void 0):y===2&&!e.getContext&&(o=r,r=e,e=void 0),new Promise(function(O,F){try{const R=QRCode.create(r,o);O(t(R,e,o))}catch(R){F(R)}})}try{const O=QRCode.create(r,o);l(null,t(O,e,o))}catch(O){l(O)}}browser.create=QRCode.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(t,e,r){return SvgRenderer.render(t,r)});var modalDiffuse_svelte_svelte_type_style_lang="";function get_each_context_1$5(t,e,r){const o=t.slice();return o[40]=e[r],o[39]=r,o}function get_each_context$8(t,e,r){const o=t.slice();return o[37]=e[r],o[39]=r,o}function create_else_block$9(t){let e,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block_2$1,then:create_then_block_2$1,catch:create_catch_block_2$1,value:36};return handle_promise(r=t[4],o),{c(){e=empty(),o.block.c()},m(l,h){insert(l,e,h),o.block.m(l,o.anchor=h),o.mount=()=>e.parentNode,o.anchor=e},p(l,h){t=l,o.ctx=t,h[0]&16&&r!==(r=t[4])&&handle_promise(r,o)||update_await_block_branch(o,t,h)},i:noop$2,o:noop$2,d(l){l&&detach(e),o.block.d(l),o.token=null,o=null}}}function create_if_block_2$a(t){let e,r=t[0].nom_proj+"",o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te,se,ce;function de(oe,ae){if(oe[1]=="lien")return create_if_block_3$8;if(oe[1]=="qr")return create_if_block_4$8;if(oe[1]=="html")return create_if_block_5$6;if(oe[1]=="mail")return create_if_block_6$3;if(oe[1]=="targ")return create_if_block_7$3}let ue=de(t),he=ue&&ue(t);return{c(){e=element("h4"),o=text(r),l=element("br"),h=space(),y=element("div"),D=element("div"),O=text("Lien"),R=space(),B=element("div"),j=text("QR"),q=space(),W=element("div"),G=text("HTML"),K=space(),X=element("div"),J=text("Mail"),Z=space(),ee=element("div"),ne=text("Ciblage"),re=space(),te=element("div"),he&&he.c(),attr(e,"class","mb-2 text-center"),attr(D,"class",F="tab "+(t[1]=="lien"?"active":"")+" svelte-64e0lt"),attr(B,"class",U="tab "+(t[1]=="qr"?"active":"")+" svelte-64e0lt"),attr(W,"class",Y="tab "+(t[1]=="html"?"active":"")+" svelte-64e0lt"),attr(X,"class",Q="tab "+(t[1]=="mail"?"active":"")+" svelte-64e0lt"),attr(ee,"class",ie="tab "+(t[1]=="targ"?"active":"")+" svelte-64e0lt"),attr(y,"class","tabs my-2 svelte-64e0lt"),attr(te,"class","container p-2 text-center d-flex justify-content-center flex-column"),set_style(te,"min-height","220px")},m(oe,ae){insert(oe,e,ae),append(e,o),append(e,l),insert(oe,h,ae),insert(oe,y,ae),append(y,D),append(D,O),append(y,R),append(y,B),append(B,j),append(y,q),append(y,W),append(W,G),append(y,K),append(y,X),append(X,J),append(y,Z),append(y,ee),append(ee,ne),insert(oe,re,ae),insert(oe,te,ae),he&&he.m(te,null),se||(ce=[listen(D,"click",t[14]),listen(B,"click",t[15]),listen(W,"click",t[16]),listen(X,"click",t[17]),listen(ee,"click",t[18])],se=!0)},p(oe,ae){ae[0]&1&&r!==(r=oe[0].nom_proj+"")&&set_data(o,r),ae[0]&2&&F!==(F="tab "+(oe[1]=="lien"?"active":"")+" svelte-64e0lt")&&attr(D,"class",F),ae[0]&2&&U!==(U="tab "+(oe[1]=="qr"?"active":"")+" svelte-64e0lt")&&attr(B,"class",U),ae[0]&2&&Y!==(Y="tab "+(oe[1]=="html"?"active":"")+" svelte-64e0lt")&&attr(W,"class",Y),ae[0]&2&&Q!==(Q="tab "+(oe[1]=="mail"?"active":"")+" svelte-64e0lt")&&attr(X,"class",Q),ae[0]&2&&ie!==(ie="tab "+(oe[1]=="targ"?"active":"")+" svelte-64e0lt")&&attr(ee,"class",ie),ue===(ue=de(oe))&&he?he.p(oe,ae):(he&&he.d(1),he=ue&&ue(oe),he&&(he.c(),transition_in(he,1),he.m(te,null)))},i(oe){transition_in(he)},o:noop$2,d(oe){oe&&detach(e),oe&&detach(h),oe&&detach(y),oe&&detach(re),oe&&detach(te),he&&he.d(),se=!1,run_all(ce)}}}function create_catch_block_2$1(t){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block_2$1(t){let e,r,o,l,h,y=[],D=new Map,O,F,R=t[36].filter(func$4);const B=U=>U[39];for(let U=0;U<R.length;U+=1){let q=get_each_context_1$5(t,R,U),W=B(q);D.set(W,y[U]=create_each_block_1$5(W,q))}function j(...U){return t[27](t[36],...U)}return{c(){e=element("div"),r=element("div"),r.textContent="\u{1F50E} Choisissez un projet",o=space(),l=element("select"),h=element("option"),h.textContent="...";for(let U=0;U<y.length;U+=1)y[U].c();attr(r,"class","mb-1"),set_style(r,"font-size","1.5rem"),h.selected=!0,h.disabled=!0,h.__value="...",h.value=h.__value,attr(l,"class","selectProj svelte-64e0lt"),attr(l,"name",""),attr(l,"id",""),attr(e,"class","container p-3")},m(U,q){insert(U,e,q),append(e,r),append(e,o),append(e,l),append(l,h);for(let W=0;W<y.length;W+=1)y[W].m(l,null);O||(F=listen(l,"change",j),O=!0)},p(U,q){t=U,q[0]&16&&(R=t[36].filter(func$4),y=update_keyed_each(y,q,B,1,t,R,D,l,destroy_block,create_each_block_1$5,null,get_each_context_1$5))},d(U){U&&detach(e);for(let q=0;q<y.length;q+=1)y[q].d();O=!1,F()}}}function create_each_block_1$5(t,e){let r,o=e[40].nom_proj+"",l,h;return{key:t,first:null,c(){r=element("option"),l=text(o),r.__value=h=e[39],r.value=r.__value,this.first=r},m(y,D){insert(y,r,D),append(r,l)},p(y,D){e=y,D[0]&16&&o!==(o=e[40].nom_proj+"")&&set_data(l,o),D[0]&16&&h!==(h=e[39])&&(r.__value=h,r.value=r.__value)},d(y){y&&detach(r)}}}function create_pending_block_2$1(t){let e;return{c(){e=text("Chargement...")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_7$3(t){let e,r,o,l,h,y,D,O;return{c(){e=element("div"),r=element("div"),o=element("div"),o.textContent="Travaillez avec R\xE9tine pour cibler pr\xE9cisemment des populations parmis 4,2 milliards d'utilisateurs sur les r\xE9seaux sociaux.",l=space(),h=element("div"),h.textContent="Contactez nous \u{1F4E8}",attr(o,"class","targBubble my-2 svelte-64e0lt"),attr(h,"class","targButton hvr-grow svelte-64e0lt"),attr(r,"class","text-start")},m(F,R){insert(F,e,R),append(e,r),append(r,o),append(r,l),append(r,h),D||(O=listen(h,"click",t[26]),D=!0)},p:noop$2,i(F){y||add_render_callback(()=>{y=create_in_transition(e,fly,{x:20,duration:200}),y.start()})},o:noop$2,d(F){F&&detach(e),D=!1,O()}}}function create_if_block_6$3(t){let e,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block$a,then:create_then_block$a,catch:create_catch_block_1$4,value:35};return handle_promise(t[9],o),{c(){e=element("div"),o.block.c()},m(l,h){insert(l,e,h),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null},p(l,h){t=l,update_await_block_branch(o,t,h)},i(l){r||add_render_callback(()=>{r=create_in_transition(e,fly,{x:20,duration:200}),r.start()})},o:noop$2,d(l){l&&detach(e),o.block.d(),o.token=null,o=null}}}function create_if_block_5$6(t){let e,r,o,l,h,y=`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${t[0].id_rtn}"></iframe>`,D,O,F,R,B,j;return{c(){e=element("div"),r=element("div"),r.innerHTML=`Collez ce code l\xE0 o\xF9 vous le souhaitez dans la balise <i>body</i> de votre page pour permettre \xE0 vos visiteurs de r\xE9pondre au sondage sans changer
              de page.`,o=space(),l=element("div"),h=element("div"),D=text(y),O=space(),F=element("i"),attr(r,"class","text-start"),attr(F,"class","copyBtn bx bxs-copy svelte-64e0lt"),attr(l,"class","htmlCode my-3 svelte-64e0lt")},m(U,q){insert(U,e,q),append(e,r),append(e,o),append(e,l),append(l,h),append(h,D),append(l,O),append(l,F),B||(j=listen(F,"click",t[21]),B=!0)},p(U,q){q[0]&1&&y!==(y=`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${U[0].id_rtn}"></iframe>`)&&set_data(D,y)},i(U){R||add_render_callback(()=>{R=create_in_transition(e,fly,{x:20,duration:200}),R.start()})},o:noop$2,d(U){U&&detach(e),B=!1,j()}}}function create_if_block_4$8(t){let e,r,o,l,h,y,D,O,F,R,B,j;return{c(){e=element("div"),r=element("div"),r.textContent="Un sond\xE9 n'aura plus qu'\xE0 scanner ce code avec son smartphone ou tablette pour r\xE9pondre au sondage.",o=space(),l=element("div"),h=element("i"),y=space(),D=element("canvas"),O=space(),F=element("span"),attr(r,"class","text-start mb-3"),set_style(h,"position","absolute"),set_style(h,"top","0px"),set_style(h,"right","0px"),attr(h,"class","copyBtn bx bxs-copy svelte-64e0lt"),attr(D,"id","qrcode"),attr(l,"class","qrCode svelte-64e0lt"),set_style(l,"position","relative")},m(U,q){insert(U,e,q),append(e,r),append(e,o),append(e,l),append(l,h),append(l,y),append(l,D),append(l,O),append(l,F),B||(j=[listen(h,"click",t[20]),action_destroyer(t[6].call(null,F))],B=!0)},p:noop$2,i(U){R||add_render_callback(()=>{R=create_in_transition(e,fly,{x:20,duration:200}),R.start()})},o:noop$2,d(U){U&&detach(e),B=!1,run_all(j)}}}function create_if_block_3$8(t){let e,r,o,l,h,y=`retine.io/sondage#${t[0].id_rtn}`,D,O,F,R,B,j;return{c(){e=element("div"),r=element("div"),r.textContent="Toute personne poss\xE9dant ce lien pourra r\xE9pondre au sondage depuis un t\xE9l\xE9phone, tablette ou ordinateur.",o=space(),l=element("div"),h=element("div"),D=text(y),O=space(),F=element("i"),attr(r,"class","text-start"),attr(F,"class","copyBtn bx bxs-copy svelte-64e0lt"),attr(l,"class","linkTile my-3 svelte-64e0lt")},m(U,q){insert(U,e,q),append(e,r),append(e,o),append(e,l),append(l,h),append(h,D),append(l,O),append(l,F),B||(j=listen(F,"click",t[19]),B=!0)},p(U,q){q[0]&1&&y!==(y=`retine.io/sondage#${U[0].id_rtn}`)&&set_data(D,y)},i(U){R||add_render_callback(()=>{R=create_in_transition(e,fly,{x:20,duration:200}),R.start()})},o:noop$2,d(U){U&&detach(e),B=!1,j()}}}function create_catch_block_1$4(t){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block$a(t){let e,r,o,l,h=[],y=new Map,D,O,F,R,B,j=t[35];const U=W=>W[39];for(let W=0;W<j.length;W+=1){let G=get_each_context$8(t,j,W),Y=U(G);y.set(Y,h[W]=create_each_block$8(Y,G))}let q={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block_1$4,then:create_then_block_1$4,catch:create_catch_block$a,value:36};return handle_promise(t[8],q),{c(){e=element("div"),r=element("div"),r.textContent="\u{1F4C7} Liste d\xE9stinataire pour l'envoi du sondage :",o=space(),l=element("select");for(let W=0;W<h.length;W+=1)h[W].c();D=space(),O=element("hr"),F=space(),q.block.c(),attr(r,"class","p-1"),attr(l,"class","selectList svelte-64e0lt"),attr(l,"name","contactlist"),t[3].to===void 0&&add_render_callback(()=>t[22].call(l)),attr(O,"class","w-75 mx-auto my-3"),attr(e,"class","text-start")},m(W,G){insert(W,e,G),append(e,r),append(e,o),append(e,l);for(let Y=0;Y<h.length;Y+=1)h[Y].m(l,null);select_option(l,t[3].to),append(e,D),append(e,O),append(e,F),q.block.m(e,q.anchor=null),q.mount=()=>e,q.anchor=null,R||(B=listen(l,"change",t[22]),R=!0)},p(W,G){t=W,G[0]&512&&(j=t[35],h=update_keyed_each(h,G,U,1,t,j,y,l,destroy_block,create_each_block$8,null,get_each_context$8)),G[0]&520&&select_option(l,t[3].to),update_await_block_branch(q,t,G)},d(W){W&&detach(e);for(let G=0;G<h.length;G+=1)h[G].d();q.block.d(),q.token=null,q=null,R=!1,B()}}}function create_each_block$8(t,e){let r,o=e[37].nom+"",l,h;return{key:t,first:null,c(){r=element("option"),l=text(o),r.__value=h=e[37].id,r.value=r.__value,this.first=r},m(y,D){insert(y,r,D),append(r,l)},p(y,D){e=y},d(y){y&&detach(r)}}}function create_catch_block$a(t){let e,r,o,l,h;return{c(){e=element("div"),e.textContent="Vous devez avoir R\xE9tine pro pour lancer des campagnes de mail \u{1F440}",r=space(),o=element("div"),o.textContent="\u2728 S'abonner \xE0 R\xE9tine Pro \u2728",attr(o,"class","btnSubscribe hvr-grow svelte-64e0lt")},m(y,D){insert(y,e,D),insert(y,r,D),insert(y,o,D),l||(h=listen(o,"click",t[25]),l=!0)},p:noop$2,d(y){y&&detach(e),y&&detach(r),y&&detach(o),l=!1,h()}}}function create_then_block_1$4(t){let e,r,o,l,h,y;return{c(){e=element("div"),r=element("input"),o=space(),l=element("textarea"),attr(r,"class","mailObj svelte-64e0lt"),attr(r,"type","text"),attr(r,"placeholder","Objet du mail..."),attr(l,"class","mailObj svelte-64e0lt"),attr(l,"placeholder","Message personnalis\xE9 inclu dans le mail..."),attr(l,"rows","3"),attr(l,"maxlength","240")},m(D,O){insert(D,e,O),append(e,r),set_input_value(r,t[3].subject),append(e,o),append(e,l),set_input_value(l,t[3].text),h||(y=[listen(r,"input",t[23]),listen(l,"input",t[24])],h=!0)},p(D,O){O[0]&520&&r.value!==D[3].subject&&set_input_value(r,D[3].subject),O[0]&520&&set_input_value(l,D[3].text)},d(D){D&&detach(e),h=!1,run_all(y)}}}function create_pending_block_1$4(t){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_pending_block$a(t){let e;return{c(){e=text("Chargement...")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_1$b(t){let e,r,o,l,h;return{c(){e=element("div"),r=text(t[2])},m(y,D){insert(y,e,D),append(e,r),h=!0},p(y,D){(!h||D[0]&4)&&set_data(r,y[2])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(e,fade,{duration:200}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(e,fade,{duration:600}),h=!1},d(y){y&&detach(e),y&&l&&l.end()}}}function create_if_block$f(t){let e,r,o;return{c(){e=element("button"),e.textContent="Envoyer",set_style(e,"background-color","#6219d8"),set_style(e,"color","white"),attr(e,"class","svelte-64e0lt")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[28]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_fragment$m(t){let e,r,o,l,h,y,D,O,F,R,B,j;function U(K,X){return K[0]!=null?create_if_block_2$a:create_else_block$9}let q=U(t),W=q(t),G=t[2]!=""&&create_if_block_1$b(t),Y=t[1]=="mail"&&t[0]!=null&&create_if_block$f(t);return{c(){e=element("div"),r=element("div"),W.c(),o=space(),l=element("div"),G&&G.c(),h=space(),y=element("div"),D=element("button"),D.textContent="Fermer",O=space(),Y&&Y.c(),attr(l,"class","reactMsg svelte-64e0lt"),attr(D,"class","svelte-64e0lt"),attr(y,"class","actions svelte-64e0lt"),attr(r,"class","contents svelte-64e0lt"),attr(e,"role","dialog"),attr(e,"class","modal svelte-64e0lt")},m(K,X){insert(K,e,X),append(e,r),W.m(r,null),append(r,o),append(r,l),G&&G.m(l,null),append(r,h),append(r,y),append(y,D),append(y,O),Y&&Y.m(y,null),R=!0,B||(j=[listen(D,"click",closeModal),listen(e,"introstart",t[12]),listen(e,"outroend",t[13])],B=!0)},p(K,X){q===(q=U(K))&&W?W.p(K,X):(W.d(1),W=q(K),W&&(W.c(),transition_in(W,1),W.m(r,o))),K[2]!=""?G?(G.p(K,X),X[0]&4&&transition_in(G,1)):(G=create_if_block_1$b(K),G.c(),transition_in(G,1),G.m(l,null)):G&&(group_outros(),transition_out(G,1,1,()=>{G=null}),check_outros()),K[1]=="mail"&&K[0]!=null?Y?Y.p(K,X):(Y=create_if_block$f(K),Y.c(),Y.m(y,null)):Y&&(Y.d(1),Y=null)},i(K){R||(transition_in(W),transition_in(G),add_render_callback(()=>{F||(F=create_bidirectional_transition(e,fly,{y:50},!0)),F.run(1)}),R=!0)},o(K){transition_out(G),F||(F=create_bidirectional_transition(e,fly,{y:50},!1)),F.run(0),R=!1},d(K){K&&detach(e),W.d(),G&&G.d(),Y&&Y.d(),K&&F&&F.end(),B=!1,run_all(j)}}}const func$4=t=>!t.priv;function instance$k(t,e,r){function o(me){activePageStore.set(me)}let{proj:l=null}=e,{mean:h="lien"}=e,{updatePrev:y=()=>{}}=e;function D(me){browser.toCanvas(document.getElementById("qrcode"),`https://retine.io/sondage#${l.id_rtn}`,{width:200,height:200})}let O="";function F(me){r(2,O=me),setTimeout(()=>{r(2,O="")},2e3)}let R={relance:!1,sond:l==null?"":`https://retine.io/sondage#${l.id_rtn}`,to:"",subject:"",text:""};var B=new Headers;B.append("Authorization","Token "+xxgc("rtnt")),B.append("Content-Type","application/json");var j={method:"GET",headers:B,redirect:"follow"};async function U(){return fetch(rtnUrl+"sondages/edit/",j).then(me=>me.text()).then(me=>JSON.parse(me)).catch(me=>me)}let q;l==null&&(q=U());async function W(){return fetch(rtnUrl+"myplan/",j).then(me=>{if(me.ok)return me.text();throw new Error("Something went wrong")}).then(me=>JSON.parse(me)).catch(me=>{throw new Error("Something went wrong")})}let G=W();async function Y(){return fetch(rtnUrl+"contactlist/",j).then(me=>me.text()).then(me=>(r(3,R.to=JSON.parse(me)[0].id,R),JSON.parse(me))).catch(me=>me)}let K=Y(),X=!1;async function J(){if(!X){var me={method:"POST",headers:B,redirect:"follow",body:JSON.stringify(R)};return X=!0,fetch(rtnUrl+"sondagesend/",me).then(ge=>{if(ge.ok){F("Campagne mail lanc\xE9e avec succ\xE8s !"),y(),setTimeout(()=>{closeModal()},2e3);return}else throw X=!1,new Error("Une erreur s'est produite...")}).catch(ge=>(F("Une erreur s'est produite..."),ge))}}function Q(me){bubble.call(this,t,me)}function Z(me){bubble.call(this,t,me)}const ee=()=>r(1,h="lien"),ne=()=>r(1,h="qr"),ie=()=>r(1,h="html"),re=()=>r(1,h="mail"),te=()=>r(1,h="targ"),se=()=>{navigator.clipboard.writeText("retine.io/sondage#"+l.id_rtn),F("Lien copi\xE9 dans le presse-papier !")},ce=me=>{document.getElementById("qrcode").toBlob(ge=>navigator.clipboard.write([new ClipboardItem({"image/png":ge})])),F("Image copi\xE9e dans le presse-papier !")},de=()=>{navigator.clipboard.writeText(`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${l.id_rtn}"></iframe>`),F("Code copi\xE9 dans le presse-papier !")};function ue(){R.to=select_value(this),r(3,R),r(9,K)}function he(){R.subject=this.value,r(3,R),r(9,K)}function oe(){R.text=this.value,r(3,R),r(9,K)}const ae=()=>{closeModal(),o("account")},le=()=>window.open("mailto:bonjour@retine.io?subject=Contact"),fe=(me,ge)=>{r(0,l=me.filter(Se=>!Se.priv)[ge.target.value]),r(3,R.sond=`https://retine.io/sondage#${l.id_rtn}`,R)},we=()=>{R.subject==""||R.text==""?F("Veuillez remplir tous les champs !"):J()};return t.$$set=me=>{"proj"in me&&r(0,l=me.proj),"mean"in me&&r(1,h=me.mean),"updatePrev"in me&&r(11,y=me.updatePrev)},[l,h,O,R,q,o,D,F,G,K,J,y,Q,Z,ee,ne,ie,re,te,se,ce,de,ue,he,oe,ae,le,fe,we]}class ModalDiffuse extends SvelteComponent{constructor(e){super(),init(this,e,instance$k,create_fragment$m,safe_not_equal,{proj:0,mean:1,updatePrev:11},null,[-1,-1])}}var projectsList_svelte_svelte_type_style_lang="";function get_each_context$7(t,e,r){const o=t.slice();return o[11]=e[r],o[13]=r,o}function create_catch_block$9(t){let e,r=t[14]+"",o;return{c(){e=element("div"),o=text(r)},m(l,h){insert(l,e,h),append(e,o)},p(l,h){h&4&&r!==(r=l[14]+"")&&set_data(o,r)},i:noop$2,o:noop$2,d(l){l&&detach(e)}}}function create_then_block$9(t){let e=[],r=new Map,o,l,h=t[10].reverse();const y=D=>D[11].id;for(let D=0;D<h.length;D+=1){let O=get_each_context$7(t,h,D),F=y(O);r.set(F,e[D]=create_each_block$7(F,O))}return{c(){for(let D=0;D<e.length;D+=1)e[D].c();o=empty()},m(D,O){for(let F=0;F<e.length;F+=1)e[F].m(D,O);insert(D,o,O),l=!0},p(D,O){O&23&&(h=D[10].reverse(),group_outros(),e=update_keyed_each(e,O,y,1,D,h,r,o.parentNode,outro_and_destroy_block,create_each_block$7,o,get_each_context$7),check_outros())},i(D){if(!l){for(let O=0;O<h.length;O+=1)transition_in(e[O]);l=!0}},o(D){for(let O=0;O<e.length;O+=1)transition_out(e[O]);l=!1},d(D){for(let O=0;O<e.length;O+=1)e[O].d(D);D&&detach(o)}}}function create_each_block$7(t,e){let r,o,l,h,y;function D(){return e[7](e[11])}return o=new ProjetCard({props:{loadSondage:e[0],sondage:e[11],loadSView:e[1],shareFunction:D,updateFun:e[4]}}),{key:t,first:null,c(){r=element("div"),create_component(o.$$.fragment),l=space(),attr(r,"class","col-12 col-sm-6 col-lg-4 mb-5"),this.first=r},m(O,F){insert(O,r,F),mount_component(o,r,null),append(r,l),y=!0},p(O,F){e=O;const R={};F&1&&(R.loadSondage=e[0]),F&4&&(R.sondage=e[11]),F&2&&(R.loadSView=e[1]),F&4&&(R.shareFunction=D),o.$set(R)},i(O){y||(transition_in(o.$$.fragment,O),h||add_render_callback(()=>{h=create_in_transition(r,fly,{x:-20,delay:e[13]*60}),h.start()}),y=!0)},o(O){transition_out(o.$$.fragment,O),y=!1},d(O){O&&detach(r),destroy_component(o)}}}function create_pending_block$9(t){let e;return{c(){e=element("div")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_if_block$e(t){let e,r,o,l,h,y,D;const O=[t[3].props||{}];var F=t[3].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(e=new F(R())),{c(){e&&create_component(e.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-ie5mt5")},m(B,j){e&&mount_component(e,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",t[8]),y=!0)},p(B,j){const U=j&8?get_spread_update(O,[get_spread_object(B[3].props||{})]):{};if(F!==(F=B[3].component)){if(e){group_outros();const q=e;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(e=new F(R()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else F&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$6(t){let e,r,o=t[3]&&create_if_block$e(t);return{c(){o&&o.c(),e=empty()},m(l,h){o&&o.m(l,h),insert(l,e,h),r=!0},p(l,h){l[3]?o?(o.p(l,h),h&8&&transition_in(o,1)):(o=create_if_block$e(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$l(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block$9,then:create_then_block$9,catch:create_catch_block$9,value:10,error:14,blocks:[,,,]};return handle_promise(U=t[2],X),W=new Modals({props:{$$slots:{default:[create_default_slot$6]},$$scope:{ctx:t}}}),{c(){e=element("div"),r=element("h1"),r.textContent="Vos sondages",o=space(),l=element("h6"),l.textContent="Retrouvez l\u2019ensemble de vos sondages, qu\u2019ils soient en brouillon (gris) ou publi\xE9s (en couleur)",h=space(),y=element("div"),D=space(),O=element("div"),F=element("div"),R=element("div"),B=element("div"),B.innerHTML=`Cr\xE9er un<br/>
          nouveau projet`,j=space(),X.block.c(),q=space(),create_component(W.$$.fragment),attr(r,"class","py-2 mb-1 text-left"),attr(l,"class","ps-1 opacity-75"),attr(y,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),attr(B,"class","neuProjet d-flex align-items-center justify-content-center text-center svelte-ie5mt5"),set_style(B,"height","200px"),attr(R,"class","col-12 col-sm-6 col-lg-4 mb-4"),attr(F,"class","row"),set_style(O,"min-height","100vh"),attr(e,"id","mesSondages"),attr(e,"class","p-3 w-100 mx-auto"),set_style(e,"max-width","1100px")},m(J,Q){insert(J,e,Q),append(e,r),append(e,o),append(e,l),append(e,h),append(e,y),append(e,D),append(e,O),append(O,F),append(F,R),append(R,B),append(F,j),X.block.m(F,X.anchor=null),X.mount=()=>F,X.anchor=null,insert(J,q,Q),mount_component(W,J,Q),G=!0,Y||(K=listen(B,"click",t[6]),Y=!0)},p(J,[Q]){t=J,X.ctx=t,Q&4&&U!==(U=t[2])&&handle_promise(U,X)||update_await_block_branch(X,t,Q);const Z={};Q&32776&&(Z.$$scope={dirty:Q,ctx:t}),W.$set(Z)},i(J){G||(transition_in(X.block),transition_in(W.$$.fragment,J),G=!0)},o(J){for(let Q=0;Q<3;Q+=1){const Z=X.blocks[Q];transition_out(Z)}transition_out(W.$$.fragment,J),G=!1},d(J){J&&detach(e),X.block.d(),X.token=null,X=null,J&&detach(q),destroy_component(W,J),Y=!1,K()}}}function instance$j(t,e,r){let o,l;component_subscribe(t,modals,U=>r(5,l=U));let{loadSondage:h}=e,{loadSView:y}=e;async function D(){var U=new Headers;U.append("Authorization","Token "+xxgc("rtnt")),U.append("Content-Type","application/json");var q={method:"GET",headers:U,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",q).then(W=>W.text()).then(W=>JSON.parse(W)).catch(W=>W)}let O=D();const F=()=>{r(2,O=D())},R=()=>h("new"),B=U=>{openModal(ModalDiffuse,{proj:U})},j=()=>{closeModal()};return t.$$set=U=>{"loadSondage"in U&&r(0,h=U.loadSondage),"loadSView"in U&&r(1,y=U.loadSView)},t.$$.update=()=>{t.$$.dirty&32&&r(3,o=l[l.length-1])},[h,y,O,o,F,l,R,B,j]}class ProjectsList extends SvelteComponent{constructor(e){super(),init(this,e,instance$j,create_fragment$l,safe_not_equal,{loadSondage:0,loadSView:1})}}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const requestAnimFrame=function(){return typeof window=="undefined"?function(t){return t()}:window.requestAnimationFrame}();function throttled(t,e,r){const o=r||(y=>Array.prototype.slice.call(y));let l=!1,h=[];return function(...y){h=o(y),l||(l=!0,requestAnimFrame.call(window,()=>{l=!1,t.apply(e,h)}))}}function debounce(t,e){let r;return function(...o){return e?(clearTimeout(r),r=setTimeout(t,e,o)):t.apply(this,o),e}}const _toLeftRightCenter=t=>t==="start"?"left":t==="end"?"right":"center",_alignStartEnd=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,_textX=(t,e,r,o)=>t===(o?"left":"right")?r:t==="center"?(e+r)/2:e;function noop$1(){}const uid=function(){let t=0;return function(){return t++}}();function isNullOrUndef(t){return t===null||typeof t=="undefined"}function isArray(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const isNumberFinite=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function finiteOrDefault(t,e){return isNumberFinite(t)?t:e}function valueOrDefault(t,e){return typeof t=="undefined"?e:t}const toPercentage=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,toDimension=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function callback(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function each(t,e,r,o){let l,h,y;if(isArray(t))if(h=t.length,o)for(l=h-1;l>=0;l--)e.call(r,t[l],l);else for(l=0;l<h;l++)e.call(r,t[l],l);else if(isObject(t))for(y=Object.keys(t),h=y.length,l=0;l<h;l++)e.call(r,t[y[l]],y[l])}function _elementsEqual(t,e){let r,o,l,h;if(!t||!e||t.length!==e.length)return!1;for(r=0,o=t.length;r<o;++r)if(l=t[r],h=e[r],l.datasetIndex!==h.datasetIndex||l.index!==h.index)return!1;return!0}function clone$1(t){if(isArray(t))return t.map(clone$1);if(isObject(t)){const e=Object.create(null),r=Object.keys(t),o=r.length;let l=0;for(;l<o;++l)e[r[l]]=clone$1(t[r[l]]);return e}return t}function isValidKey(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _merger(t,e,r,o){if(!isValidKey(t))return;const l=e[t],h=r[t];isObject(l)&&isObject(h)?merge(l,h,o):e[t]=clone$1(h)}function merge(t,e,r){const o=isArray(e)?e:[e],l=o.length;if(!isObject(t))return t;r=r||{};const h=r.merger||_merger;for(let y=0;y<l;++y){if(e=o[y],!isObject(e))continue;const D=Object.keys(e);for(let O=0,F=D.length;O<F;++O)h(D[O],t,e,r)}return t}function mergeIf(t,e){return merge(t,e,{merger:_mergerIf})}function _mergerIf(t,e,r){if(!isValidKey(t))return;const o=e[t],l=r[t];isObject(o)&&isObject(l)?mergeIf(o,l):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=clone$1(l))}const emptyString="",dot=".";function indexOfDotOrLength(t,e){const r=t.indexOf(dot,e);return r===-1?t.length:r}function resolveObjectKey(t,e){if(e===emptyString)return t;let r=0,o=indexOfDotOrLength(e,r);for(;t&&o>r;)t=t[e.slice(r,o)],r=o+1,o=indexOfDotOrLength(e,r);return t}function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}const defined=t=>typeof t!="undefined",isFunction=t=>typeof t=="function",setsEqual=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function _isClickEvent(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function niceNum(t){const e=Math.round(t);t=almostEquals(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(log10(t))),o=t/r;return(o<=1?1:o<=2?2:o<=5?5:10)*r}function _factorize(t){const e=[],r=Math.sqrt(t);let o;for(o=1;o<r;o++)t%o===0&&(e.push(o),e.push(t/o));return r===(r|0)&&e.push(r),e.sort((l,h)=>l-h).pop(),e}function isNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)}function almostEquals(t,e,r){return Math.abs(t-e)<r}function almostWhole(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function _setMinAndMaxByKey(t,e,r){let o,l,h;for(o=0,l=t.length;o<l;o++)h=t[o][r],isNaN(h)||(e.min=Math.min(e.min,h),e.max=Math.max(e.max,h))}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function _decimalPlaces(t){if(!isNumberFinite(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function getAngleFromPoint(t,e){const r=e.x-t.x,o=e.y-t.y,l=Math.sqrt(r*r+o*o);let h=Math.atan2(o,r);return h<-.5*PI&&(h+=TAU),{angle:h,distance:l}}function distanceBetweenPoints(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _angleDiff(t,e){return(t-e+PITAU)%TAU-PI}function _normalizeAngle(t){return(t%TAU+TAU)%TAU}function _angleBetween(t,e,r,o){const l=_normalizeAngle(t),h=_normalizeAngle(e),y=_normalizeAngle(r),D=_normalizeAngle(h-l),O=_normalizeAngle(y-l),F=_normalizeAngle(l-h),R=_normalizeAngle(l-y);return l===h||l===y||o&&h===y||D>O&&F<R}function _limitValue(t,e,r){return Math.max(e,Math.min(r,t))}function _int16Range(t){return _limitValue(t,-32768,32767)}function _isBetween(t,e,r,o=1e-6){return t>=Math.min(e,r)-o&&t<=Math.max(e,r)+o}const atEdge=t=>t===0||t===1,elasticIn=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*TAU/r)),elasticOut=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*TAU/r)+1,effects={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*HALF_PI)+1,easeOutSine:t=>Math.sin(t*HALF_PI),easeInOutSine:t=>-.5*(Math.cos(PI*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>atEdge(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,.075,.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,.075,.3),easeInOutElastic(t){return atEdge(t)?t:t<.5?.5*elasticIn(t*2,.1125,.45):.5+.5*elasticOut(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-effects.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?effects.easeInBounce(t*2)*.5:effects.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function round(t){return t+.5|0}const lim=(t,e,r)=>Math.max(Math.min(t,r),e);function p2b(t){return lim(round(t*2.55),0,255)}function n2b(t){return lim(round(t*255),0,255)}function b2n(t){return lim(round(t/2.55)/100,0,1)}function n2p(t){return lim(round(t*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=t=>hex[t&15],h2=t=>hex[(t&240)>>4]+hex[t&15],eq=t=>(t&240)>>4===(t&15),isShort=t=>eq(t.r)&&eq(t.g)&&eq(t.b)&&eq(t.a);function hexParse(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&map$1[t[1]]*17,g:255&map$1[t[2]]*17,b:255&map$1[t[3]]*17,a:e===5?map$1[t[4]]*17:255}:(e===7||e===9)&&(r={r:map$1[t[1]]<<4|map$1[t[2]],g:map$1[t[3]]<<4|map$1[t[4]],b:map$1[t[5]]<<4|map$1[t[6]],a:e===9?map$1[t[7]]<<4|map$1[t[8]]:255})),r}const alpha=(t,e)=>t<255?e(t):"";function hexString(t){var e=isShort(t)?h1:h2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+alpha(t.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(t,e,r){const o=e*Math.min(r,1-r),l=(h,y=(h+t/30)%12)=>r-o*Math.max(Math.min(y-3,9-y,1),-1);return[l(0),l(8),l(4)]}function hsv2rgbn(t,e,r){const o=(l,h=(l+t/60)%6)=>r-r*e*Math.max(Math.min(h,4-h,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(t,e,r){const o=hsl2rgbn(t,1,.5);let l;for(e+r>1&&(l=1/(e+r),e*=l,r*=l),l=0;l<3;l++)o[l]*=1-e-r,o[l]+=e;return o}function hueValue(t,e,r,o,l){return t===l?(e-r)/o+(e<r?6:0):e===l?(r-t)/o+2:(t-e)/o+4}function rgb2hsl(t){const r=t.r/255,o=t.g/255,l=t.b/255,h=Math.max(r,o,l),y=Math.min(r,o,l),D=(h+y)/2;let O,F,R;return h!==y&&(R=h-y,F=D>.5?R/(2-h-y):R/(h+y),O=hueValue(r,o,l,R,h),O=O*60+.5),[O|0,F||0,D]}function calln(t,e,r,o){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,o)).map(n2b)}function hsl2rgb(t,e,r){return calln(hsl2rgbn,t,e,r)}function hwb2rgb(t,e,r){return calln(hwb2rgbn,t,e,r)}function hsv2rgb(t,e,r){return calln(hsv2rgbn,t,e,r)}function hue(t){return(t%360+360)%360}function hueParse(t){const e=HUE_RE.exec(t);let r=255,o;if(!e)return;e[5]!==o&&(r=e[6]?p2b(+e[5]):n2b(+e[5]));const l=hue(+e[2]),h=+e[3]/100,y=+e[4]/100;return e[1]==="hwb"?o=hwb2rgb(l,h,y):e[1]==="hsv"?o=hsv2rgb(l,h,y):o=hsl2rgb(l,h,y),{r:o[0],g:o[1],b:o[2],a:r}}function rotate(t,e){var r=rgb2hsl(t);r[0]=hue(r[0]+e),r=hsl2rgb(r),t.r=r[0],t.g=r[1],t.b=r[2]}function hslString(t){if(!t)return;const e=rgb2hsl(t),r=e[0],o=n2p(e[1]),l=n2p(e[2]);return t.a<255?`hsla(${r}, ${o}%, ${l}%, ${b2n(t.a)})`:`hsl(${r}, ${o}%, ${l}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const t={},e=Object.keys(names$1),r=Object.keys(map$2);let o,l,h,y,D;for(o=0;o<e.length;o++){for(y=D=e[o],l=0;l<r.length;l++)h=r[l],D=D.replace(h,map$2[h]);h=parseInt(names$1[y],16),t[D]=[h>>16&255,h>>8&255,h&255]}return t}let names;function nameParse(t){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(t){const e=RGB_RE.exec(t);let r=255,o,l,h;if(!!e){if(e[7]!==o){const y=+e[7];r=e[8]?p2b(y):lim(y*255,0,255)}return o=+e[1],l=+e[3],h=+e[5],o=255&(e[2]?p2b(o):lim(o,0,255)),l=255&(e[4]?p2b(l):lim(l,0,255)),h=255&(e[6]?p2b(h):lim(h,0,255)),{r:o,g:l,b:h,a:r}}}function rgbString(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b2n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const to=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,from=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function interpolate$1(t,e,r){const o=from(b2n(t.r)),l=from(b2n(t.g)),h=from(b2n(t.b));return{r:n2b(to(o+r*(from(b2n(e.r))-o))),g:n2b(to(l+r*(from(b2n(e.g))-l))),b:n2b(to(h+r*(from(b2n(e.b))-h))),a:t.a+r*(e.a-t.a)}}function modHSL(t,e,r){if(t){let o=rgb2hsl(t);o[e]=Math.max(0,Math.min(o[e]+o[e]*r,e===0?360:1)),o=hsl2rgb(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function clone(t,e){return t&&Object.assign(e||{},t)}function fromObject(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=n2b(t[3]))):(e=clone(t,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(t){return t.charAt(0)==="r"?rgbParse(t):hueParse(t)}class Color{constructor(e){if(e instanceof Color)return e;const r=typeof e;let o;r==="object"?o=fromObject(e):r==="string"&&(o=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=clone(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,r){if(e){const o=this.rgb,l=e.rgb;let h;const y=r===h?.5:r,D=2*y-1,O=o.a-l.a,F=((D*O===-1?D:(D+O)/(1+D*O))+1)/2;h=1-F,o.r=255&F*o.r+h*l.r+.5,o.g=255&F*o.g+h*l.g+.5,o.b=255&F*o.b+h*l.b+.5,o.a=y*o.a+(1-y)*l.a,this.rgb=o}return this}interpolate(e,r){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,r)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=round(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}function index_esm(t){return new Color(t)}function isPatternOrGradient(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(t){return isPatternOrGradient(t)?t:index_esm(t)}function getHoverColor(t){return isPatternOrGradient(t)?t:index_esm(t).saturate(.5).darken(.1).hexString()}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(t,e){if(!e)return t;const r=e.split(".");for(let o=0,l=r.length;o<l;++o){const h=r[o];t=t[h]||(t[h]=Object.create(null))}return t}function set$1(t,e,r){return typeof e=="string"?merge(getScope$1(t,e),r):merge(getScope$1(t,""),e)}class Defaults{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>getHoverColor(o.backgroundColor),this.hoverBorderColor=(r,o)=>getHoverColor(o.borderColor),this.hoverColor=(r,o)=>getHoverColor(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,r){return set$1(this,e,r)}get(e){return getScope$1(this,e)}describe(e,r){return set$1(descriptors,e,r)}override(e,r){return set$1(overrides,e,r)}route(e,r,o,l){const h=getScope$1(this,e),y=getScope$1(this,o),D="_"+r;Object.defineProperties(h,{[D]:{value:h[r],writable:!0},[r]:{enumerable:!0,get(){const O=this[D],F=y[l];return isObject(O)?Object.assign({},F,O):valueOrDefault(O,F)},set(O){this[D]=O}}})}}var defaults$1=new Defaults({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function toFontString(t){return!t||isNullOrUndef(t.size)||isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _measureText(t,e,r,o,l){let h=e[l];return h||(h=e[l]=t.measureText(l).width,r.push(l)),h>o&&(o=h),o}function _longestText(t,e,r,o){o=o||{};let l=o.data=o.data||{},h=o.garbageCollect=o.garbageCollect||[];o.font!==e&&(l=o.data={},h=o.garbageCollect=[],o.font=e),t.save(),t.font=e;let y=0;const D=r.length;let O,F,R,B,j;for(O=0;O<D;O++)if(B=r[O],B!=null&&isArray(B)!==!0)y=_measureText(t,l,h,y,B);else if(isArray(B))for(F=0,R=B.length;F<R;F++)j=B[F],j!=null&&!isArray(j)&&(y=_measureText(t,l,h,y,j));t.restore();const U=h.length/2;if(U>r.length){for(O=0;O<U;O++)delete l[h[O]];h.splice(0,U)}return y}function _alignPixel(t,e,r){const o=t.currentDevicePixelRatio,l=r!==0?Math.max(r/2,.5):0;return Math.round((e-l)*o)/o+l}function clearCanvas(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function drawPoint(t,e,r,o){let l,h,y,D,O;const F=e.pointStyle,R=e.rotation,B=e.radius;let j=(R||0)*RAD_PER_DEG;if(F&&typeof F=="object"&&(l=F.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){t.save(),t.translate(r,o),t.rotate(j),t.drawImage(F,-F.width/2,-F.height/2,F.width,F.height),t.restore();return}if(!(isNaN(B)||B<=0)){switch(t.beginPath(),F){default:t.arc(r,o,B,0,TAU),t.closePath();break;case"triangle":t.moveTo(r+Math.sin(j)*B,o-Math.cos(j)*B),j+=TWO_THIRDS_PI,t.lineTo(r+Math.sin(j)*B,o-Math.cos(j)*B),j+=TWO_THIRDS_PI,t.lineTo(r+Math.sin(j)*B,o-Math.cos(j)*B),t.closePath();break;case"rectRounded":O=B*.516,D=B-O,h=Math.cos(j+QUARTER_PI)*D,y=Math.sin(j+QUARTER_PI)*D,t.arc(r-h,o-y,O,j-PI,j-HALF_PI),t.arc(r+y,o-h,O,j-HALF_PI,j),t.arc(r+h,o+y,O,j,j+HALF_PI),t.arc(r-y,o+h,O,j+HALF_PI,j+PI),t.closePath();break;case"rect":if(!R){D=Math.SQRT1_2*B,t.rect(r-D,o-D,2*D,2*D);break}j+=QUARTER_PI;case"rectRot":h=Math.cos(j)*B,y=Math.sin(j)*B,t.moveTo(r-h,o-y),t.lineTo(r+y,o-h),t.lineTo(r+h,o+y),t.lineTo(r-y,o+h),t.closePath();break;case"crossRot":j+=QUARTER_PI;case"cross":h=Math.cos(j)*B,y=Math.sin(j)*B,t.moveTo(r-h,o-y),t.lineTo(r+h,o+y),t.moveTo(r+y,o-h),t.lineTo(r-y,o+h);break;case"star":h=Math.cos(j)*B,y=Math.sin(j)*B,t.moveTo(r-h,o-y),t.lineTo(r+h,o+y),t.moveTo(r+y,o-h),t.lineTo(r-y,o+h),j+=QUARTER_PI,h=Math.cos(j)*B,y=Math.sin(j)*B,t.moveTo(r-h,o-y),t.lineTo(r+h,o+y),t.moveTo(r+y,o-h),t.lineTo(r-y,o+h);break;case"line":h=Math.cos(j)*B,y=Math.sin(j)*B,t.moveTo(r-h,o-y),t.lineTo(r+h,o+y);break;case"dash":t.moveTo(r,o),t.lineTo(r+Math.cos(j)*B,o+Math.sin(j)*B);break}t.fill(),e.borderWidth>0&&t.stroke()}}function _isPointInArea(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function unclipArea(t){t.restore()}function _steppedLineTo(t,e,r,o,l){if(!e)return t.lineTo(r.x,r.y);if(l==="middle"){const h=(e.x+r.x)/2;t.lineTo(h,e.y),t.lineTo(h,r.y)}else l==="after"!=!!o?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function _bezierCurveTo(t,e,r,o){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?r.cp2x:r.cp1x,o?r.cp2y:r.cp1y,r.x,r.y)}function renderText(t,e,r,o,l,h={}){const y=isArray(e)?e:[e],D=h.strokeWidth>0&&h.strokeColor!=="";let O,F;for(t.save(),t.font=l.string,setRenderOpts(t,h),O=0;O<y.length;++O)F=y[O],D&&(h.strokeColor&&(t.strokeStyle=h.strokeColor),isNullOrUndef(h.strokeWidth)||(t.lineWidth=h.strokeWidth),t.strokeText(F,r,o,h.maxWidth)),t.fillText(F,r,o,h.maxWidth),decorateText(t,r,o,F,h),o+=l.lineHeight;t.restore()}function setRenderOpts(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function decorateText(t,e,r,o,l){if(l.strikethrough||l.underline){const h=t.measureText(o),y=e-h.actualBoundingBoxLeft,D=e+h.actualBoundingBoxRight,O=r-h.actualBoundingBoxAscent,F=r+h.actualBoundingBoxDescent,R=l.strikethrough?(O+F)/2:F;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=l.decorationWidth||2,t.moveTo(y,R),t.lineTo(D,R),t.stroke()}}function addRoundedRectPath(t,e){const{x:r,y:o,w:l,h,radius:y}=e;t.arc(r+y.topLeft,o+y.topLeft,y.topLeft,-HALF_PI,PI,!0),t.lineTo(r,o+h-y.bottomLeft),t.arc(r+y.bottomLeft,o+h-y.bottomLeft,y.bottomLeft,PI,HALF_PI,!0),t.lineTo(r+l-y.bottomRight,o+h),t.arc(r+l-y.bottomRight,o+h-y.bottomRight,y.bottomRight,HALF_PI,0,!0),t.lineTo(r+l,o+y.topRight),t.arc(r+l-y.topRight,o+y.topRight,y.topRight,0,-HALF_PI,!0),t.lineTo(r+y.topLeft,o)}const LINE_HEIGHT=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),FONT_STYLE=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function toLineHeight(t,e){const r=(""+t).match(LINE_HEIGHT);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const numberOrZero=t=>+t||0;function _readValueToProps(t,e){const r={},o=isObject(e),l=o?Object.keys(e):e,h=isObject(t)?o?y=>valueOrDefault(t[y],t[e[y]]):y=>t[y]:()=>t;for(const y of l)r[y]=numberOrZero(h(y));return r}function toTRBL(t){return _readValueToProps(t,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(t){return _readValueToProps(t,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(t){const e=toTRBL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(t,e){t=t||{},e=e||defaults$1.font;let r=valueOrDefault(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let o=valueOrDefault(t.style,e.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o="");const l={family:valueOrDefault(t.family,e.family),lineHeight:toLineHeight(valueOrDefault(t.lineHeight,e.lineHeight),r),size:r,style:o,weight:valueOrDefault(t.weight,e.weight),string:""};return l.string=toFontString(l),l}function resolve(t,e,r,o){let l=!0,h,y,D;for(h=0,y=t.length;h<y;++h)if(D=t[h],D!==void 0&&(e!==void 0&&typeof D=="function"&&(D=D(e),l=!1),r!==void 0&&isArray(D)&&(D=D[r%D.length],l=!1),D!==void 0))return o&&!l&&(o.cacheable=!1),D}function _addGrace(t,e,r){const{min:o,max:l}=t,h=toDimension(e,(l-o)/2),y=(D,O)=>r&&D===0?0:D+O;return{min:y(o,-Math.abs(h)),max:y(l,h)}}function createContext(t,e){return Object.assign(Object.create(t),e)}function _lookup(t,e,r){r=r||(y=>t[y]<e);let o=t.length-1,l=0,h;for(;o-l>1;)h=l+o>>1,r(h)?l=h:o=h;return{lo:l,hi:o}}const _lookupByKey=(t,e,r)=>_lookup(t,r,o=>t[o][e]<r),_rlookupByKey=(t,e,r)=>_lookup(t,r,o=>t[o][e]>=r);function _filterBetween(t,e,r){let o=0,l=t.length;for(;o<l&&t[o]<e;)o++;for(;l>o&&t[l-1]>r;)l--;return o>0||l<t.length?t.slice(o,l):t}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(r=>{const o="_onData"+_capitalize(r),l=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...h){const y=l.apply(this,h);return t._chartjs.listeners.forEach(D=>{typeof D[o]=="function"&&D[o](...h)}),y}})})}function unlistenArrayEvents(t,e){const r=t._chartjs;if(!r)return;const o=r.listeners,l=o.indexOf(e);l!==-1&&o.splice(l,1),!(o.length>0)&&(arrayEvents.forEach(h=>{delete t[h]}),delete t._chartjs)}function _arrayUnique(t){const e=new Set;let r,o;for(r=0,o=t.length;r<o;++r)e.add(t[r]);return e.size===o?t:Array.from(e)}function _createResolver(t,e=[""],r=t,o,l=()=>t[0]){defined(o)||(o=_resolve("_fallback",t));const h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:o,_getTarget:l,override:y=>_createResolver([y,...t],e,r,o)};return new Proxy(h,{deleteProperty(y,D){return delete y[D],delete y._keys,delete t[0][D],!0},get(y,D){return _cached(y,D,()=>_resolveWithPrefixes(D,e,t,y))},getOwnPropertyDescriptor(y,D){return Reflect.getOwnPropertyDescriptor(y._scopes[0],D)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(y,D){return getKeysFromAllScopes(y).includes(D)},ownKeys(y){return getKeysFromAllScopes(y)},set(y,D,O){const F=y._storage||(y._storage=l());return y[D]=F[D]=O,delete y._keys,!0}})}function _attachContext(t,e,r,o){const l={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:_descriptors(t,o),setContext:h=>_attachContext(t,h,r,o),override:h=>_attachContext(t.override(h),e,r,o)};return new Proxy(l,{deleteProperty(h,y){return delete h[y],delete t[y],!0},get(h,y,D){return _cached(h,y,()=>_resolveWithContext(h,y,D))},getOwnPropertyDescriptor(h,y){return h._descriptors.allKeys?Reflect.has(t,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,y)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(h,y){return Reflect.has(t,y)},ownKeys(){return Reflect.ownKeys(t)},set(h,y,D){return t[y]=D,delete h[y],!0}})}function _descriptors(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:o=e.indexable,_allKeys:l=e.allKeys}=t;return{allKeys:l,scriptable:r,indexable:o,isScriptable:isFunction(r)?r:()=>r,isIndexable:isFunction(o)?o:()=>o}}const readKey=(t,e)=>t?t+_capitalize(e):e,needsSubResolver=(t,e)=>isObject(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const o=r();return t[e]=o,o}function _resolveWithContext(t,e,r){const{_proxy:o,_context:l,_subProxy:h,_descriptors:y}=t;let D=o[e];return isFunction(D)&&y.isScriptable(e)&&(D=_resolveScriptable(e,D,t,r)),isArray(D)&&D.length&&(D=_resolveArray(e,D,t,y.isIndexable)),needsSubResolver(e,D)&&(D=_attachContext(D,l,h&&h[e],y)),D}function _resolveScriptable(t,e,r,o){const{_proxy:l,_context:h,_subProxy:y,_stack:D}=r;if(D.has(t))throw new Error("Recursion detected: "+Array.from(D).join("->")+"->"+t);return D.add(t),e=e(h,y||o),D.delete(t),needsSubResolver(t,e)&&(e=createSubResolver(l._scopes,l,t,e)),e}function _resolveArray(t,e,r,o){const{_proxy:l,_context:h,_subProxy:y,_descriptors:D}=r;if(defined(h.index)&&o(t))e=e[h.index%e.length];else if(isObject(e[0])){const O=e,F=l._scopes.filter(R=>R!==O);e=[];for(const R of O){const B=createSubResolver(F,l,t,R);e.push(_attachContext(B,h,y&&y[t],D))}}return e}function resolveFallback(t,e,r){return isFunction(t)?t(e,r):t}const getScope=(t,e)=>t===!0?e:typeof t=="string"?resolveObjectKey(e,t):void 0;function addScopes(t,e,r,o,l){for(const h of e){const y=getScope(r,h);if(y){t.add(y);const D=resolveFallback(y._fallback,r,l);if(defined(D)&&D!==r&&D!==o)return D}else if(y===!1&&defined(o)&&r!==o)return null}return!1}function createSubResolver(t,e,r,o){const l=e._rootScopes,h=resolveFallback(e._fallback,r,o),y=[...t,...l],D=new Set;D.add(o);let O=addScopesFromKey(D,y,r,h||r,o);return O===null||defined(h)&&h!==r&&(O=addScopesFromKey(D,y,h,O,o),O===null)?!1:_createResolver(Array.from(D),[""],l,h,()=>subGetTarget(e,r,o))}function addScopesFromKey(t,e,r,o,l){for(;r;)r=addScopes(t,e,r,o,l);return r}function subGetTarget(t,e,r){const o=t._getTarget();e in o||(o[e]={});const l=o[e];return isArray(l)&&isObject(r)?r:l}function _resolveWithPrefixes(t,e,r,o){let l;for(const h of e)if(l=_resolve(readKey(h,t),r),defined(l))return needsSubResolver(t,l)?createSubResolver(r,o,t,l):l}function _resolve(t,e){for(const r of e){if(!r)continue;const o=r[t];if(defined(o))return o}}function getKeysFromAllScopes(t){let e=t._keys;return e||(e=t._keys=resolveKeysFromAllScopes(t._scopes)),e}function resolveKeysFromAllScopes(t){const e=new Set;for(const r of t)for(const o of Object.keys(r).filter(l=>!l.startsWith("_")))e.add(o);return Array.from(e)}function _parseObjectDataRadialScale(t,e,r,o){const{iScale:l}=t,{key:h="r"}=this._parsing,y=new Array(o);let D,O,F,R;for(D=0,O=o;D<O;++D)F=D+r,R=e[F],y[D]={r:l.parse(resolveObjectKey(R,h),F)};return y}const EPSILON=Number.EPSILON||1e-14,getPoint=(t,e)=>e<t.length&&!t[e].skip&&t[e],getValueAxis=t=>t==="x"?"y":"x";function splineCurve(t,e,r,o){const l=t.skip?e:t,h=e,y=r.skip?e:r,D=distanceBetweenPoints(h,l),O=distanceBetweenPoints(y,h);let F=D/(D+O),R=O/(D+O);F=isNaN(F)?0:F,R=isNaN(R)?0:R;const B=o*F,j=o*R;return{previous:{x:h.x-B*(y.x-l.x),y:h.y-B*(y.y-l.y)},next:{x:h.x+j*(y.x-l.x),y:h.y+j*(y.y-l.y)}}}function monotoneAdjust(t,e,r){const o=t.length;let l,h,y,D,O,F=getPoint(t,0);for(let R=0;R<o-1;++R)if(O=F,F=getPoint(t,R+1),!(!O||!F)){if(almostEquals(e[R],0,EPSILON)){r[R]=r[R+1]=0;continue}l=r[R]/e[R],h=r[R+1]/e[R],D=Math.pow(l,2)+Math.pow(h,2),!(D<=9)&&(y=3/Math.sqrt(D),r[R]=l*y*e[R],r[R+1]=h*y*e[R])}}function monotoneCompute(t,e,r="x"){const o=getValueAxis(r),l=t.length;let h,y,D,O=getPoint(t,0);for(let F=0;F<l;++F){if(y=D,D=O,O=getPoint(t,F+1),!D)continue;const R=D[r],B=D[o];y&&(h=(R-y[r])/3,D[`cp1${r}`]=R-h,D[`cp1${o}`]=B-h*e[F]),O&&(h=(O[r]-R)/3,D[`cp2${r}`]=R+h,D[`cp2${o}`]=B+h*e[F])}}function splineCurveMonotone(t,e="x"){const r=getValueAxis(e),o=t.length,l=Array(o).fill(0),h=Array(o);let y,D,O,F=getPoint(t,0);for(y=0;y<o;++y)if(D=O,O=F,F=getPoint(t,y+1),!!O){if(F){const R=F[e]-O[e];l[y]=R!==0?(F[r]-O[r])/R:0}h[y]=D?F?sign(l[y-1])!==sign(l[y])?0:(l[y-1]+l[y])/2:l[y-1]:l[y]}monotoneAdjust(t,l,h),monotoneCompute(t,h,e)}function capControlPoint(t,e,r){return Math.max(Math.min(t,r),e)}function capBezierPoints(t,e){let r,o,l,h,y,D=_isPointInArea(t[0],e);for(r=0,o=t.length;r<o;++r)y=h,h=D,D=r<o-1&&_isPointInArea(t[r+1],e),h&&(l=t[r],y&&(l.cp1x=capControlPoint(l.cp1x,e.left,e.right),l.cp1y=capControlPoint(l.cp1y,e.top,e.bottom)),D&&(l.cp2x=capControlPoint(l.cp2x,e.left,e.right),l.cp2y=capControlPoint(l.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(t,e,r,o,l){let h,y,D,O;if(e.spanGaps&&(t=t.filter(F=>!F.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(t,l);else{let F=o?t[t.length-1]:t[0];for(h=0,y=t.length;h<y;++h)D=t[h],O=splineCurve(F,D,t[Math.min(h+1,y-(o?0:1))%y],e.tension),D.cp1x=O.previous.x,D.cp1y=O.previous.y,D.cp2x=O.next.x,D.cp2y=O.next.y,F=D}e.capBezierPoints&&capBezierPoints(t,r)}function _isDomSupported(){return typeof window!="undefined"&&typeof document!="undefined"}function _getParentNode(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(t,e,r){let o;return typeof t=="string"?(o=parseInt(t,10),t.indexOf("%")!==-1&&(o=o/100*e.parentNode[r])):o=t,o}const getComputedStyle$1=t=>window.getComputedStyle(t,null);function getStyle(t,e){return getComputedStyle$1(t).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(t,e,r){const o={};r=r?"-"+r:"";for(let l=0;l<4;l++){const h=positions[l];o[h]=parseFloat(t[e+"-"+h+r])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function getCanvasPosition(t,e){const r=t.touches,o=r&&r.length?r[0]:t,{offsetX:l,offsetY:h}=o;let y=!1,D,O;if(useOffsetPos(l,h,t.target))D=l,O=h;else{const F=e.getBoundingClientRect();D=o.clientX-F.left,O=o.clientY-F.top,y=!0}return{x:D,y:O,box:y}}function getRelativePosition(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:o}=e,l=getComputedStyle$1(r),h=l.boxSizing==="border-box",y=getPositionedStyle(l,"padding"),D=getPositionedStyle(l,"border","width"),{x:O,y:F,box:R}=getCanvasPosition(t,r),B=y.left+(R&&D.left),j=y.top+(R&&D.top);let{width:U,height:q}=e;return h&&(U-=y.width+D.width,q-=y.height+D.height),{x:Math.round((O-B)/U*r.width/o),y:Math.round((F-j)/q*r.height/o)}}function getContainerSize(t,e,r){let o,l;if(e===void 0||r===void 0){const h=_getParentNode(t);if(!h)e=t.clientWidth,r=t.clientHeight;else{const y=h.getBoundingClientRect(),D=getComputedStyle$1(h),O=getPositionedStyle(D,"border","width"),F=getPositionedStyle(D,"padding");e=y.width-F.width-O.width,r=y.height-F.height-O.height,o=parseMaxStyle(D.maxWidth,h,"clientWidth"),l=parseMaxStyle(D.maxHeight,h,"clientHeight")}}return{width:e,height:r,maxWidth:o||INFINITY,maxHeight:l||INFINITY}}const round1=t=>Math.round(t*10)/10;function getMaximumSize(t,e,r,o){const l=getComputedStyle$1(t),h=getPositionedStyle(l,"margin"),y=parseMaxStyle(l.maxWidth,t,"clientWidth")||INFINITY,D=parseMaxStyle(l.maxHeight,t,"clientHeight")||INFINITY,O=getContainerSize(t,e,r);let{width:F,height:R}=O;if(l.boxSizing==="content-box"){const B=getPositionedStyle(l,"border","width"),j=getPositionedStyle(l,"padding");F-=j.width+B.width,R-=j.height+B.height}return F=Math.max(0,F-h.width),R=Math.max(0,o?Math.floor(F/o):R-h.height),F=round1(Math.min(F,y,O.maxWidth)),R=round1(Math.min(R,D,O.maxHeight)),F&&!R&&(R=round1(F/2)),{width:F,height:R}}function retinaScale(t,e,r){const o=e||1,l=Math.floor(t.height*o),h=Math.floor(t.width*o);t.height=l/o,t.width=h/o;const y=t.canvas;return y.style&&(r||!y.style.height&&!y.style.width)&&(y.style.height=`${t.height}px`,y.style.width=`${t.width}px`),t.currentDevicePixelRatio!==o||y.height!==l||y.width!==h?(t.currentDevicePixelRatio=o,y.height=l,y.width=h,t.ctx.setTransform(o,0,0,o,0,0),!0):!1}const supportsEventListenerOptions=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function readUsedSize(t,e){const r=getStyle(t,e),o=r&&r.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(t,e,r,o){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function _steppedInterpolation(t,e,r,o){return{x:t.x+r*(e.x-t.x),y:o==="middle"?r<.5?t.y:e.y:o==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function _bezierInterpolation(t,e,r,o){const l={x:t.cp2x,y:t.cp2y},h={x:e.cp1x,y:e.cp1y},y=_pointInLine(t,l,r),D=_pointInLine(l,h,r),O=_pointInLine(h,e,r),F=_pointInLine(y,D,r),R=_pointInLine(D,O,r);return _pointInLine(F,R,r)}const intlCache=new Map;function getNumberFormat(t,e){e=e||{};const r=t+JSON.stringify(e);let o=intlCache.get(r);return o||(o=new Intl.NumberFormat(t,e),intlCache.set(r,o)),o}function formatNumber(t,e,r){return getNumberFormat(e,r).format(t)}const getRightToLeftAdapter=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,o){return r-o},leftForLtr(r,o){return r-o}}},getLeftToRightAdapter=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function getRtlAdapter(t,e,r){return t?getRightToLeftAdapter(e,r):getLeftToRightAdapter()}function overrideTextDirection(t,e){let r,o;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,o=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=o)}function restoreTextDirection(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(t){return t==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,r)=>e-r,normalize:e=>e}}function normalizeSegment({start:t,end:e,count:r,loop:o,style:l}){return{start:t%r,end:e%r,loop:o&&(e-t+1)%r===0,style:l}}function getSegment(t,e,r){const{property:o,start:l,end:h}=r,{between:y,normalize:D}=propertyFn(o),O=e.length;let{start:F,end:R,loop:B}=t,j,U;if(B){for(F+=O,R+=O,j=0,U=O;j<U&&y(D(e[F%O][o]),l,h);++j)F--,R--;F%=O,R%=O}return R<F&&(R+=O),{start:F,end:R,loop:B,style:t.style}}function _boundSegment(t,e,r){if(!r)return[t];const{property:o,start:l,end:h}=r,y=e.length,{compare:D,between:O,normalize:F}=propertyFn(o),{start:R,end:B,loop:j,style:U}=getSegment(t,e,r),q=[];let W=!1,G=null,Y,K,X;const J=()=>O(l,X,Y)&&D(l,X)!==0,Q=()=>D(h,Y)===0||O(h,X,Y),Z=()=>W||J(),ee=()=>!W||Q();for(let ne=R,ie=R;ne<=B;++ne)K=e[ne%y],!K.skip&&(Y=F(K[o]),Y!==X&&(W=O(Y,l,h),G===null&&Z()&&(G=D(Y,l)===0?ne:ie),G!==null&&ee()&&(q.push(normalizeSegment({start:G,end:ne,loop:j,count:y,style:U})),G=null),ie=ne,X=Y));return G!==null&&q.push(normalizeSegment({start:G,end:B,loop:j,count:y,style:U})),q}function _boundSegments(t,e){const r=[],o=t.segments;for(let l=0;l<o.length;l++){const h=_boundSegment(o[l],t.points,e);h.length&&r.push(...h)}return r}function findStartAndEnd(t,e,r,o){let l=0,h=e-1;if(r&&!o)for(;l<e&&!t[l].skip;)l++;for(;l<e&&t[l].skip;)l++;for(l%=e,r&&(h+=l);h>l&&t[h%e].skip;)h--;return h%=e,{start:l,end:h}}function solidSegments(t,e,r,o){const l=t.length,h=[];let y=e,D=t[e],O;for(O=e+1;O<=r;++O){const F=t[O%l];F.skip||F.stop?D.skip||(o=!1,h.push({start:e%l,end:(O-1)%l,loop:o}),e=y=F.stop?O:null):(y=O,D.skip&&(e=O)),D=F}return y!==null&&h.push({start:e%l,end:y%l,loop:o}),h}function _computeSegments(t,e){const r=t.points,o=t.options.spanGaps,l=r.length;if(!l)return[];const h=!!t._loop,{start:y,end:D}=findStartAndEnd(r,l,h,o);if(o===!0)return splitByStyles(t,[{start:y,end:D,loop:h}],r,e);const O=D<y?D+l:D,F=!!t._fullLoop&&y===0&&D===l-1;return splitByStyles(t,solidSegments(r,y,O,F),r,e)}function splitByStyles(t,e,r,o){return!o||!o.setContext||!r?e:doSplitByStyles(t,e,r,o)}function doSplitByStyles(t,e,r,o){const l=t._chart.getContext(),h=readStyle(t.options),{_datasetIndex:y,options:{spanGaps:D}}=t,O=r.length,F=[];let R=h,B=e[0].start,j=B;function U(q,W,G,Y){const K=D?-1:1;if(q!==W){for(q+=O;r[q%O].skip;)q-=K;for(;r[W%O].skip;)W+=K;q%O!==W%O&&(F.push({start:q%O,end:W%O,loop:G,style:Y}),R=Y,B=W%O)}}for(const q of e){B=D?B:q.start;let W=r[B%O],G;for(j=B+1;j<=q.end;j++){const Y=r[j%O];G=readStyle(o.setContext(createContext(l,{type:"segment",p0:W,p1:Y,p0DataIndex:(j-1)%O,p1DataIndex:j%O,datasetIndex:y}))),styleChanged(G,R)&&U(B,j-1,q.loop,R),W=Y,R=G}B<j-1&&U(B,j-1,q.loop,R)}return F}function readStyle(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function styleChanged(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,o,l){const h=r.listeners[l],y=r.duration;h.forEach(D=>D({chart:e,initial:r.initial,numSteps:y,currentStep:Math.min(o-r.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const h=o.items;let y=h.length-1,D=!1,O;for(;y>=0;--y)O=h[y],O._active?(O._total>o.duration&&(o.duration=O._total),O.tick(e),D=!0):(h[y]=h[h.length-1],h.pop());D&&(l.draw(),this._notify(l,o,e,"progress")),h.length||(o.running=!1,this._notify(l,o,e,"complete"),o.initial=!1),r+=h.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let o=r.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,o)),o}listen(e,r,o){this._getAnims(e).listeners[r].push(o)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);!r||(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const o=r.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const o=color(t||transparent),l=o.valid&&color(e||transparent);return l&&l.valid?l.mix(o,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Animation{constructor(e,r,o,l){const h=r[o];l=resolve([e.to,l,h,e.from]);const y=resolve([e.from,h,l]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof y],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=o,this._from=y,this._to=l,this._promises=void 0}active(){return this._active}update(e,r,o){if(this._active){this._notify(!1);const l=this._target[this._prop],h=o-this._start,y=this._duration-h;this._start=o,this._duration=Math.floor(Math.max(y,e.duration)),this._total+=h,this._loop=!!e.loop,this._to=resolve([e.to,r,l,e.from]),this._from=resolve([e.from,l,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,o=this._duration,l=this._prop,h=this._from,y=this._loop,D=this._to;let O;if(this._active=h!==D&&(y||r<o),!this._active){this._target[l]=D,this._notify(!0);return}if(r<0){this._target[l]=h;return}O=r/o%2,O=y&&O>1?2-O:O,O=this._easing(Math.min(1,Math.max(0,O))),this._target[l]=this._fn(h,D,O)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,o)=>{e.push({res:r,rej:o})})}_notify(e){const r=e?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][r]()}}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];defaults$1.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const animationOptions=Object.keys(defaults$1.animation);defaults$1.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});defaults$1.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}});defaults$1.describe("animations",{_fallback:"animation"});defaults$1.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class Animations{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!isObject(e))return;const r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const l=e[o];if(!isObject(l))return;const h={};for(const y of animationOptions)h[y]=l[y];(isArray(l.properties)&&l.properties||[o]).forEach(y=>{(y===o||!r.has(y))&&r.set(y,h)})})}_animateOptions(e,r){const o=r.options,l=resolveTargetOptions(e,o);if(!l)return[];const h=this._createAnimations(l,o);return o.$shared&&awaitAll(e.options.$animations,o).then(()=>{e.options=o},()=>{}),h}_createAnimations(e,r){const o=this._properties,l=[],h=e.$animations||(e.$animations={}),y=Object.keys(r),D=Date.now();let O;for(O=y.length-1;O>=0;--O){const F=y[O];if(F.charAt(0)==="$")continue;if(F==="options"){l.push(...this._animateOptions(e,r));continue}const R=r[F];let B=h[F];const j=o.get(F);if(B)if(j&&B.active()){B.update(j,R,D);continue}else B.cancel();if(!j||!j.duration){e[F]=R;continue}h[F]=B=new Animation(j,e,F,R),l.push(B)}return l}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const o=this._createAnimations(e,r);if(o.length)return animator.add(this._chart,o),!0}}function awaitAll(t,e){const r=[],o=Object.keys(e);for(let l=0;l<o.length;l++){const h=t[o[l]];h&&h.active()&&r.push(h.wait())}return Promise.all(r)}function resolveTargetOptions(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function scaleClip(t,e){const r=t&&t.options||{},o=r.reverse,l=r.min===void 0?e:0,h=r.max===void 0?e:0;return{start:o?h:l,end:o?l:h}}function defaultClip(t,e,r){if(r===!1)return!1;const o=scaleClip(t,r),l=scaleClip(e,r);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}function toClip(t){let e,r,o,l;return isObject(t)?(e=t.top,r=t.right,o=t.bottom,l=t.left):e=r=o=l=t,{top:e,right:r,bottom:o,left:l,disabled:t===!1}}function getSortedDatasetIndices(t,e){const r=[],o=t._getSortedDatasetMetas(e);let l,h;for(l=0,h=o.length;l<h;++l)r.push(o[l].index);return r}function applyStack(t,e,r,o={}){const l=t.keys,h=o.mode==="single";let y,D,O,F;if(e!==null){for(y=0,D=l.length;y<D;++y){if(O=+l[y],O===r){if(o.all)continue;break}F=t.values[O],isNumberFinite(F)&&(h||e===0||sign(e)===sign(F))&&(e+=F)}return e}}function convertObjectDataToArray(t){const e=Object.keys(t),r=new Array(e.length);let o,l,h;for(o=0,l=e.length;o<l;++o)h=e[o],r[o]={x:h,y:t[h]};return r}function isStacked(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function getStackKey(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function getUserBounds(t){const{min:e,max:r,minDefined:o,maxDefined:l}=t.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:l?r:Number.POSITIVE_INFINITY}}function getOrCreateStack(t,e,r){const o=t[e]||(t[e]={});return o[r]||(o[r]={})}function getLastIndexInStack(t,e,r,o){for(const l of e.getMatchingVisibleMetas(o).reverse()){const h=t[l.index];if(r&&h>0||!r&&h<0)return l.index}return null}function updateStacks(t,e){const{chart:r,_cachedMeta:o}=t,l=r._stacks||(r._stacks={}),{iScale:h,vScale:y,index:D}=o,O=h.axis,F=y.axis,R=getStackKey(h,y,o),B=e.length;let j;for(let U=0;U<B;++U){const q=e[U],{[O]:W,[F]:G}=q,Y=q._stacks||(q._stacks={});j=Y[F]=getOrCreateStack(l,R,W),j[D]=G,j._top=getLastIndexInStack(j,y,!0,o.type),j._bottom=getLastIndexInStack(j,y,!1,o.type)}}function getFirstScaleId(t,e){const r=t.scales;return Object.keys(r).filter(o=>r[o].axis===e).shift()}function createDatasetContext(t,e){return createContext(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(t,e,r){return createContext(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function clearStacks(t,e){const r=t.controller.index,o=t.vScale&&t.vScale.axis;if(!!o){e=e||t._parsed;for(const l of e){const h=l._stacks;if(!h||h[o]===void 0||h[o][r]===void 0)return;delete h[o][r]}}}const isDirectUpdateMode=t=>t==="reset"||t==="none",cloneIfNotShared=(t,e)=>e?t:Object.assign({},t),createStack=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(r,!0),values:null};class DatasetController{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,o=this.getDataset(),l=(B,j,U,q)=>B==="x"?j:B==="r"?q:U,h=r.xAxisID=valueOrDefault(o.xAxisID,getFirstScaleId(e,"x")),y=r.yAxisID=valueOrDefault(o.yAxisID,getFirstScaleId(e,"y")),D=r.rAxisID=valueOrDefault(o.rAxisID,getFirstScaleId(e,"r")),O=r.indexAxis,F=r.iAxisID=l(O,h,y,D),R=r.vAxisID=l(O,y,h,D);r.xScale=this.getScaleForId(h),r.yScale=this.getScaleForId(y),r.rScale=this.getScaleForId(D),r.iScale=this.getScaleForId(F),r.vScale=this.getScaleForId(R)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),o=this._data;if(isObject(r))this._data=convertObjectDataToArray(r);else if(o!==r){if(o){unlistenArrayEvents(o,this);const l=this._cachedMeta;clearStacks(l),l._parsed=[]}r&&Object.isExtensible(r)&&listenArrayEvents(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const h=r._stacked;r._stacked=isStacked(r.vScale,r),r.stack!==o.stack&&(l=!0,clearStacks(r),r.stack=o.stack),this._resyncElements(e),(l||h!==r._stacked)&&updateStacks(this,r._parsed)}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:o,_data:l}=this,{iScale:h,_stacked:y}=o,D=h.axis;let O=e===0&&r===l.length?!0:o._sorted,F=e>0&&o._parsed[e-1],R,B,j;if(this._parsing===!1)o._parsed=l,o._sorted=!0,j=l;else{isArray(l[e])?j=this.parseArrayData(o,l,e,r):isObject(l[e])?j=this.parseObjectData(o,l,e,r):j=this.parsePrimitiveData(o,l,e,r);const U=()=>B[D]===null||F&&B[D]<F[D];for(R=0;R<r;++R)o._parsed[R+e]=B=j[R],O&&(U()&&(O=!1),F=B);o._sorted=O}y&&updateStacks(this,j)}parsePrimitiveData(e,r,o,l){const{iScale:h,vScale:y}=e,D=h.axis,O=y.axis,F=h.getLabels(),R=h===y,B=new Array(l);let j,U,q;for(j=0,U=l;j<U;++j)q=j+o,B[j]={[D]:R||h.parse(F[q],q),[O]:y.parse(r[q],q)};return B}parseArrayData(e,r,o,l){const{xScale:h,yScale:y}=e,D=new Array(l);let O,F,R,B;for(O=0,F=l;O<F;++O)R=O+o,B=r[R],D[O]={x:h.parse(B[0],R),y:y.parse(B[1],R)};return D}parseObjectData(e,r,o,l){const{xScale:h,yScale:y}=e,{xAxisKey:D="x",yAxisKey:O="y"}=this._parsing,F=new Array(l);let R,B,j,U;for(R=0,B=l;R<B;++R)j=R+o,U=r[j],F[R]={x:h.parse(resolveObjectKey(U,D),j),y:y.parse(resolveObjectKey(U,O),j)};return F}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,o){const l=this.chart,h=this._cachedMeta,y=r[e.axis],D={keys:getSortedDatasetIndices(l,!0),values:r._stacks[e.axis]};return applyStack(D,y,h.index,{mode:o})}updateRangeFromParsed(e,r,o,l){const h=o[r.axis];let y=h===null?NaN:h;const D=l&&o._stacks[r.axis];l&&D&&(l.values=D,y=applyStack(l,h,this._cachedMeta.index)),e.min=Math.min(e.min,y),e.max=Math.max(e.max,y)}getMinMax(e,r){const o=this._cachedMeta,l=o._parsed,h=o._sorted&&e===o.iScale,y=l.length,D=this._getOtherScale(e),O=createStack(r,o,this.chart),F={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:R,max:B}=getUserBounds(D);let j,U;function q(){U=l[j];const W=U[D.axis];return!isNumberFinite(U[e.axis])||R>W||B<W}for(j=0;j<y&&!(!q()&&(this.updateRangeFromParsed(F,e,U,O),h));++j);if(h){for(j=y-1;j>=0;--j)if(!q()){this.updateRangeFromParsed(F,e,U,O);break}}return F}getAllParsedValues(e){const r=this._cachedMeta._parsed,o=[];let l,h,y;for(l=0,h=r.length;l<h;++l)y=r[l][e.axis],isNumberFinite(y)&&o.push(y);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,o=r.iScale,l=r.vScale,h=this.getParsed(e);return{label:o?""+o.getLabelForValue(h[o.axis]):"",value:l?""+l.getLabelForValue(h[l.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=toClip(valueOrDefault(this.options.clip,defaultClip(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,o=this._cachedMeta,l=o.data||[],h=r.chartArea,y=[],D=this._drawStart||0,O=this._drawCount||l.length-D,F=this.options.drawActiveElementsOnTop;let R;for(o.dataset&&o.dataset.draw(e,h,D,O),R=D;R<D+O;++R){const B=l[R];B.hidden||(B.active&&F?y.push(B):B.draw(e,h))}for(R=0;R<y.length;++R)y[R].draw(e,h)}getStyle(e,r){const o=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,r,o){const l=this.getDataset();let h;if(e>=0&&e<this._cachedMeta.data.length){const y=this._cachedMeta.data[e];h=y.$context||(y.$context=createDataContext(this.getContext(),e,y)),h.parsed=this.getParsed(e),h.raw=l.data[e],h.index=h.dataIndex=e}else h=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),h.dataset=l,h.index=h.datasetIndex=this.index;return h.active=!!r,h.mode=o,h}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",o){const l=r==="active",h=this._cachedDataOpts,y=e+"-"+r,D=h[y],O=this.enableOptionSharing&&defined(o);if(D)return cloneIfNotShared(D,O);const F=this.chart.config,R=F.datasetElementScopeKeys(this._type,e),B=l?[`${e}Hover`,"hover",e,""]:[e,""],j=F.getOptionScopes(this.getDataset(),R),U=Object.keys(defaults$1.elements[e]),q=()=>this.getContext(o,l),W=F.resolveNamedOptions(j,U,q,B);return W.$shared&&(W.$shared=O,h[y]=Object.freeze(cloneIfNotShared(W,O))),W}_resolveAnimations(e,r,o){const l=this.chart,h=this._cachedDataOpts,y=`animation-${r}`,D=h[y];if(D)return D;let O;if(l.options.animation!==!1){const R=this.chart.config,B=R.datasetAnimationScopeKeys(this._type,r),j=R.getOptionScopes(this.getDataset(),B);O=R.createResolver(j,this.getContext(e,o,r))}const F=new Animations(l,O&&O.animations);return O&&O._cacheable&&(h[y]=Object.freeze(F)),F}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||isDirectUpdateMode(e)||this.chart._animationsDisabled}updateElement(e,r,o,l){isDirectUpdateMode(l)?Object.assign(e,o):this._resolveAnimations(r,l).update(e,o)}updateSharedOptions(e,r,o){e&&!isDirectUpdateMode(r)&&this._resolveAnimations(void 0,r).update(e,o)}_setStyle(e,r,o,l){e.active=l;const h=this.getStyle(r,l);this._resolveAnimations(r,o,l).update(e,{options:!l&&this.getSharedOptions(h)||h})}removeHoverStyle(e,r,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,r,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,o=this._cachedMeta.data;for(const[D,O,F]of this._syncList)this[D](O,F);this._syncList=[];const l=o.length,h=r.length,y=Math.min(h,l);y&&this.parse(0,y),h>l?this._insertElements(l,h-l,e):h<l&&this._removeElements(h,l-h)}_insertElements(e,r,o=!0){const l=this._cachedMeta,h=l.data,y=e+r;let D;const O=F=>{for(F.length+=r,D=F.length-1;D>=y;D--)F[D]=F[D-r]};for(O(h),D=e;D<y;++D)h[D]=new this.dataElementType;this._parsing&&O(l._parsed),this.parse(e,r),o&&this.updateElements(h,e,r,"reset")}updateElements(e,r,o,l){}_removeElements(e,r){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(e,r);o._stacked&&clearStacks(o,l)}o.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,o,l]=e;this[r](o,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}DatasetController.defaults={};DatasetController.prototype.datasetElementType=null;DatasetController.prototype.dataElementType=null;function getAllScaleValues(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let o=[];for(let l=0,h=r.length;l<h;l++)o=o.concat(r[l].controller.getAllParsedValues(t));t._cache.$bar=_arrayUnique(o.sort((l,h)=>l-h))}return t._cache.$bar}function computeMinSampleSize(t){const e=t.iScale,r=getAllScaleValues(e,t.type);let o=e._length,l,h,y,D;const O=()=>{y===32767||y===-32768||(defined(D)&&(o=Math.min(o,Math.abs(y-D)||o)),D=y)};for(l=0,h=r.length;l<h;++l)y=e.getPixelForValue(r[l]),O();for(D=void 0,l=0,h=e.ticks.length;l<h;++l)y=e.getPixelForTick(l),O();return o}function computeFitCategoryTraits(t,e,r,o){const l=r.barThickness;let h,y;return isNullOrUndef(l)?(h=e.min*r.categoryPercentage,y=r.barPercentage):(h=l*o,y=1),{chunk:h/o,ratio:y,start:e.pixels[t]-h/2}}function computeFlexCategoryTraits(t,e,r,o){const l=e.pixels,h=l[t];let y=t>0?l[t-1]:null,D=t<l.length-1?l[t+1]:null;const O=r.categoryPercentage;y===null&&(y=h-(D===null?e.end-e.start:D-h)),D===null&&(D=h+h-y);const F=h-(h-Math.min(y,D))/2*O;return{chunk:Math.abs(D-y)/2*O/o,ratio:r.barPercentage,start:F}}function parseFloatBar(t,e,r,o){const l=r.parse(t[0],o),h=r.parse(t[1],o),y=Math.min(l,h),D=Math.max(l,h);let O=y,F=D;Math.abs(y)>Math.abs(D)&&(O=D,F=y),e[r.axis]=F,e._custom={barStart:O,barEnd:F,start:l,end:h,min:y,max:D}}function parseValue(t,e,r,o){return isArray(t)?parseFloatBar(t,e,r,o):e[r.axis]=r.parse(t,o),e}function parseArrayOrPrimitive(t,e,r,o){const l=t.iScale,h=t.vScale,y=l.getLabels(),D=l===h,O=[];let F,R,B,j;for(F=r,R=r+o;F<R;++F)j=e[F],B={},B[l.axis]=D||l.parse(y[F],F),O.push(parseValue(j,B,h,F));return O}function isFloatBar(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function barSign(t,e,r){return t!==0?sign(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function borderProps(t){let e,r,o,l,h;return t.horizontal?(e=t.base>t.x,r="left",o="right"):(e=t.base<t.y,r="bottom",o="top"),e?(l="end",h="start"):(l="start",h="end"),{start:r,end:o,reverse:e,top:l,bottom:h}}function setBorderSkipped(t,e,r,o){let l=e.borderSkipped;const h={};if(!l){t.borderSkipped=h;return}const{start:y,end:D,reverse:O,top:F,bottom:R}=borderProps(t);l==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===o?l=F:(r._bottom||0)===o?l=R:(h[parseEdge(R,y,D,O)]=!0,l=F)),h[parseEdge(l,y,D,O)]=!0,t.borderSkipped=h}function parseEdge(t,e,r,o){return o?(t=swap(t,e,r),t=startEnd(t,r,e)):t=startEnd(t,e,r),t}function swap(t,e,r){return t===e?r:t===r?e:t}function startEnd(t,e,r){return t==="start"?e:t==="end"?r:t}function setInflateAmount(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class BarController extends DatasetController{parsePrimitiveData(e,r,o,l){return parseArrayOrPrimitive(e,r,o,l)}parseArrayData(e,r,o,l){return parseArrayOrPrimitive(e,r,o,l)}parseObjectData(e,r,o,l){const{iScale:h,vScale:y}=e,{xAxisKey:D="x",yAxisKey:O="y"}=this._parsing,F=h.axis==="x"?D:O,R=y.axis==="x"?D:O,B=[];let j,U,q,W;for(j=o,U=o+l;j<U;++j)W=r[j],q={},q[h.axis]=h.parse(resolveObjectKey(W,F),j),B.push(parseValue(resolveObjectKey(W,R),q,y,j));return B}updateRangeFromParsed(e,r,o,l){super.updateRangeFromParsed(e,r,o,l);const h=o._custom;h&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,h.min),e.max=Math.max(e.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:o,vScale:l}=r,h=this.getParsed(e),y=h._custom,D=isFloatBar(y)?"["+y.start+", "+y.end+"]":""+l.getLabelForValue(h[l.axis]);return{label:""+o.getLabelForValue(h[o.axis]),value:D}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,o,l){const h=l==="reset",{index:y,_cachedMeta:{vScale:D}}=this,O=D.getBasePixel(),F=D.isHorizontal(),R=this._getRuler(),B=this.resolveDataElementOptions(r,l),j=this.getSharedOptions(B),U=this.includeOptions(l,j);this.updateSharedOptions(j,l,B);for(let q=r;q<r+o;q++){const W=this.getParsed(q),G=h||isNullOrUndef(W[D.axis])?{base:O,head:O}:this._calculateBarValuePixels(q),Y=this._calculateBarIndexPixels(q,R),K=(W._stacks||{})[D.axis],X={horizontal:F,base:G.base,enableBorderRadius:!K||isFloatBar(W._custom)||y===K._top||y===K._bottom,x:F?G.head:Y.center,y:F?Y.center:G.head,height:F?Y.size:Math.abs(G.size),width:F?Math.abs(G.size):Y.size};U&&(X.options=j||this.resolveDataElementOptions(q,e[q].active?"active":l));const J=X.options||e[q].options;setBorderSkipped(X,J,K,y),setInflateAmount(X,J,R.ratio),this.updateElement(e[q],q,X,l)}}_getStacks(e,r){const l=this._cachedMeta.iScale,h=l.getMatchingVisibleMetas(this._type),y=l.options.stacked,D=h.length,O=[];let F,R;for(F=0;F<D;++F)if(R=h[F],!!R.controller.options.grouped){if(typeof r!="undefined"){const B=R.controller.getParsed(r)[R.controller._cachedMeta.vScale.axis];if(isNullOrUndef(B)||isNaN(B))continue}if((y===!1||O.indexOf(R.stack)===-1||y===void 0&&R.stack===void 0)&&O.push(R.stack),R.index===e)break}return O.length||O.push(void 0),O}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,o){const l=this._getStacks(e,o),h=r!==void 0?l.indexOf(r):-1;return h===-1?l.length-1:h}_getRuler(){const e=this.options,r=this._cachedMeta,o=r.iScale,l=[];let h,y;for(h=0,y=r.data.length;h<y;++h)l.push(o.getPixelForValue(this.getParsed(h)[o.axis],h));const D=e.barThickness;return{min:D||computeMinSampleSize(r),pixels:l,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:D?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:o},options:{base:l,minBarLength:h}}=this,y=l||0,D=this.getParsed(e),O=D._custom,F=isFloatBar(O);let R=D[r.axis],B=0,j=o?this.applyStack(r,D,o):R,U,q;j!==R&&(B=j-R,j=R),F&&(R=O.barStart,j=O.barEnd-O.barStart,R!==0&&sign(R)!==sign(O.barEnd)&&(B=0),B+=R);const W=!isNullOrUndef(l)&&!F?l:B;let G=r.getPixelForValue(W);if(this.chart.getDataVisibility(e)?U=r.getPixelForValue(B+j):U=G,q=U-G,Math.abs(q)<h){q=barSign(q,r,y)*h,R===y&&(G-=q/2);const Y=r.getPixelForDecimal(0),K=r.getPixelForDecimal(1),X=Math.min(Y,K),J=Math.max(Y,K);G=Math.max(Math.min(G,J),X),U=G+q}if(G===r.getPixelForValue(y)){const Y=sign(q)*r.getLineWidthForValue(y)/2;G+=Y,q-=Y}return{size:q,base:G,head:U,center:U+q/2}}_calculateBarIndexPixels(e,r){const o=r.scale,l=this.options,h=l.skipNull,y=valueOrDefault(l.maxBarThickness,1/0);let D,O;if(r.grouped){const F=h?this._getStackCount(e):r.stackCount,R=l.barThickness==="flex"?computeFlexCategoryTraits(e,r,l,F):computeFitCategoryTraits(e,r,l,F),B=this._getStackIndex(this.index,this._cachedMeta.stack,h?e:void 0);D=R.start+R.chunk*B+R.chunk/2,O=Math.min(y,R.chunk*R.ratio)}else D=o.getPixelForValue(this.getParsed(e)[o.axis],e),O=Math.min(y,r.min*r.ratio);return{base:D-O/2,head:D+O/2,center:D,size:O}}draw(){const e=this._cachedMeta,r=e.vScale,o=e.data,l=o.length;let h=0;for(;h<l;++h)this.getParsed(h)[r.axis]!==null&&o[h].draw(this._ctx)}}BarController.id="bar";BarController.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};BarController.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,o,l){const h=super.parsePrimitiveData(e,r,o,l);for(let y=0;y<h.length;y++)h[y]._custom=this.resolveDataElementOptions(y+o).radius;return h}parseArrayData(e,r,o,l){const h=super.parseArrayData(e,r,o,l);for(let y=0;y<h.length;y++){const D=r[o+y];h[y]._custom=valueOrDefault(D[2],this.resolveDataElementOptions(y+o).radius)}return h}parseObjectData(e,r,o,l){const h=super.parseObjectData(e,r,o,l);for(let y=0;y<h.length;y++){const D=r[o+y];h[y]._custom=valueOrDefault(D&&D.r&&+D.r,this.resolveDataElementOptions(y+o).radius)}return h}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let o=e.length-1;o>=0;--o)r=Math.max(r,e[o].size(this.resolveDataElementOptions(o))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,{xScale:o,yScale:l}=r,h=this.getParsed(e),y=o.getLabelForValue(h.x),D=l.getLabelForValue(h.y),O=h._custom;return{label:r.label,value:"("+y+", "+D+(O?", "+O:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,o,l){const h=l==="reset",{iScale:y,vScale:D}=this._cachedMeta,O=this.resolveDataElementOptions(r,l),F=this.getSharedOptions(O),R=this.includeOptions(l,F),B=y.axis,j=D.axis;for(let U=r;U<r+o;U++){const q=e[U],W=!h&&this.getParsed(U),G={},Y=G[B]=h?y.getPixelForDecimal(.5):y.getPixelForValue(W[B]),K=G[j]=h?D.getBasePixel():D.getPixelForValue(W[j]);G.skip=isNaN(Y)||isNaN(K),R&&(G.options=this.resolveDataElementOptions(U,q.active?"active":l),h&&(G.options.radius=0)),this.updateElement(q,U,G,l)}this.updateSharedOptions(F,l,O)}resolveDataElementOptions(e,r){const o=this.getParsed(e);let l=super.resolveDataElementOptions(e,r);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const h=l.radius;return r!=="active"&&(l.radius=0),l.radius+=valueOrDefault(o&&o._custom,h),l}}BubbleController.id="bubble";BubbleController.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};BubbleController.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function getRatioAndOffset(t,e,r){let o=1,l=1,h=0,y=0;if(e<TAU){const D=t,O=D+e,F=Math.cos(D),R=Math.sin(D),B=Math.cos(O),j=Math.sin(O),U=(X,J,Q)=>_angleBetween(X,D,O,!0)?1:Math.max(J,J*r,Q,Q*r),q=(X,J,Q)=>_angleBetween(X,D,O,!0)?-1:Math.min(J,J*r,Q,Q*r),W=U(0,F,B),G=U(HALF_PI,R,j),Y=q(PI,F,B),K=q(PI+HALF_PI,R,j);o=(W-Y)/2,l=(G-K)/2,h=-(W+Y)/2,y=-(G+K)/2}return{ratioX:o,ratioY:l,offsetX:h,offsetY:y}}class DoughnutController extends DatasetController{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const o=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=o;else{let h=O=>+o[O];if(isObject(o[e])){const{key:O="value"}=this._parsing;h=F=>+resolveObjectKey(o[F],O)}let y,D;for(y=e,D=e+r;y<D;++y)l._parsed[y]=h(y)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,r=-TAU;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){const l=this.chart.getDatasetMeta(o).controller,h=l._getRotation(),y=l._getCircumference();e=Math.min(e,h),r=Math.max(r,h+y)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:o}=r,l=this._cachedMeta,h=l.data,y=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,D=Math.max((Math.min(o.width,o.height)-y)/2,0),O=Math.min(toPercentage(this.options.cutout,D),1),F=this._getRingWeight(this.index),{circumference:R,rotation:B}=this._getRotationExtents(),{ratioX:j,ratioY:U,offsetX:q,offsetY:W}=getRatioAndOffset(B,R,O),G=(o.width-y)/j,Y=(o.height-y)/U,K=Math.max(Math.min(G,Y)/2,0),X=toDimension(this.options.radius,K),J=Math.max(X*O,0),Q=(X-J)/this._getVisibleDatasetWeightTotal();this.offsetX=q*X,this.offsetY=W*X,l.total=this.calculateTotal(),this.outerRadius=X-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*F,0),this.updateElements(h,0,h.length,e)}_circumference(e,r){const o=this.options,l=this._cachedMeta,h=this._getCircumference();return r&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||l._parsed[e]===null||l.data[e].hidden?0:this.calculateCircumference(l._parsed[e]*h/TAU)}updateElements(e,r,o,l){const h=l==="reset",y=this.chart,D=y.chartArea,F=y.options.animation,R=(D.left+D.right)/2,B=(D.top+D.bottom)/2,j=h&&F.animateScale,U=j?0:this.innerRadius,q=j?0:this.outerRadius,W=this.resolveDataElementOptions(r,l),G=this.getSharedOptions(W),Y=this.includeOptions(l,G);let K=this._getRotation(),X;for(X=0;X<r;++X)K+=this._circumference(X,h);for(X=r;X<r+o;++X){const J=this._circumference(X,h),Q=e[X],Z={x:R+this.offsetX,y:B+this.offsetY,startAngle:K,endAngle:K+J,circumference:J,outerRadius:q,innerRadius:U};Y&&(Z.options=G||this.resolveDataElementOptions(X,Q.active?"active":l)),K+=J,this.updateElement(Q,X,Z,l)}this.updateSharedOptions(G,l,W)}calculateTotal(){const e=this._cachedMeta,r=e.data;let o=0,l;for(l=0;l<r.length;l++){const h=e._parsed[l];h!==null&&!isNaN(h)&&this.chart.getDataVisibility(l)&&!r[l].hidden&&(o+=Math.abs(h))}return o}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?TAU*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(r._parsed[e],o.options.locale);return{label:l[e]||"",value:h}}getMaxBorderWidth(e){let r=0;const o=this.chart;let l,h,y,D,O;if(!e){for(l=0,h=o.data.datasets.length;l<h;++l)if(o.isDatasetVisible(l)){y=o.getDatasetMeta(l),e=y.data,D=y.controller;break}}if(!e)return 0;for(l=0,h=e.length;l<h;++l)O=D.resolveDataElementOptions(l),O.borderAlign!=="inner"&&(r=Math.max(r,O.borderWidth||0,O.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let o=0,l=e.length;o<l;++o){const h=this.resolveDataElementOptions(o);r=Math.max(r,h.offset||0,h.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(r+=this._getRingWeight(o));return r}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}DoughnutController.id="doughnut";DoughnutController.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};DoughnutController.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};DoughnutController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:r}}=t.legend.options;return e.labels.map((o,l)=>{const y=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const r=": "+t.formattedValue;return isArray(e)?(e=e.slice(),e[0]+=r):e+=r,e}}}}};class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:o,data:l=[],_dataset:h}=r,y=this.chart._animationsDisabled;let{start:D,count:O}=getStartAndCountOfVisiblePoints(r,l,y);this._drawStart=D,this._drawCount=O,scaleRangesChanged(r)&&(D=0,O=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!h._decimated,o.points=l;const F=this.resolveDatasetElementOptions(e);this.options.showLine||(F.borderWidth=0),F.segment=this.options.segment,this.updateElement(o,void 0,{animated:!y,options:F},e),this.updateElements(l,D,O,e)}updateElements(e,r,o,l){const h=l==="reset",{iScale:y,vScale:D,_stacked:O,_dataset:F}=this._cachedMeta,R=this.resolveDataElementOptions(r,l),B=this.getSharedOptions(R),j=this.includeOptions(l,B),U=y.axis,q=D.axis,{spanGaps:W,segment:G}=this.options,Y=isNumber(W)?W:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||h||l==="none";let X=r>0&&this.getParsed(r-1);for(let J=r;J<r+o;++J){const Q=e[J],Z=this.getParsed(J),ee=K?Q:{},ne=isNullOrUndef(Z[q]),ie=ee[U]=y.getPixelForValue(Z[U],J),re=ee[q]=h||ne?D.getBasePixel():D.getPixelForValue(O?this.applyStack(D,Z,O):Z[q],J);ee.skip=isNaN(ie)||isNaN(re)||ne,ee.stop=J>0&&Math.abs(Z[U]-X[U])>Y,G&&(ee.parsed=Z,ee.raw=F.data[J]),j&&(ee.options=B||this.resolveDataElementOptions(J,Q.active?"active":l)),K||this.updateElement(Q,J,ee,l),X=Z}this.updateSharedOptions(B,l,R)}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,o=r.options&&r.options.borderWidth||0,l=e.data||[];if(!l.length)return o;const h=l[0].size(this.resolveDataElementOptions(0)),y=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,h,y)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}LineController.id="line";LineController.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};LineController.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function getStartAndCountOfVisiblePoints(t,e,r){const o=e.length;let l=0,h=o;if(t._sorted){const{iScale:y,_parsed:D}=t,O=y.axis,{min:F,max:R,minDefined:B,maxDefined:j}=y.getUserBounds();B&&(l=_limitValue(Math.min(_lookupByKey(D,y.axis,F).lo,r?o:_lookupByKey(e,O,y.getPixelForValue(F)).lo),0,o-1)),j?h=_limitValue(Math.max(_lookupByKey(D,y.axis,R).hi+1,r?0:_lookupByKey(e,O,y.getPixelForValue(R)).hi+1),l,o)-l:h=o-l}return{start:l,count:h}}function scaleRangesChanged(t){const{xScale:e,yScale:r,_scaleRanges:o}=t,l={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!o)return t._scaleRanges=l,!0;const h=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==r.min||o.ymax!==r.max;return Object.assign(o,l),h}class PolarAreaController extends DatasetController{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(r._parsed[e].r,o.options.locale);return{label:l[e]||"",value:h}}parseObjectData(e,r,o,l){return _parseObjectDataRadialScale.bind(this)(e,r,o,l)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,l)=>{const h=this.getParsed(l).r;!isNaN(h)&&this.chart.getDataVisibility(l)&&(h<r.min&&(r.min=h),h>r.max&&(r.max=h))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,o=e.options,l=Math.min(r.right-r.left,r.bottom-r.top),h=Math.max(l/2,0),y=Math.max(o.cutoutPercentage?h/100*o.cutoutPercentage:1,0),D=(h-y)/e.getVisibleDatasetCount();this.outerRadius=h-D*this.index,this.innerRadius=this.outerRadius-D}updateElements(e,r,o,l){const h=l==="reset",y=this.chart,O=y.options.animation,F=this._cachedMeta.rScale,R=F.xCenter,B=F.yCenter,j=F.getIndexAngle(0)-.5*PI;let U=j,q;const W=360/this.countVisibleElements();for(q=0;q<r;++q)U+=this._computeAngle(q,l,W);for(q=r;q<r+o;q++){const G=e[q];let Y=U,K=U+this._computeAngle(q,l,W),X=y.getDataVisibility(q)?F.getDistanceFromCenterForValue(this.getParsed(q).r):0;U=K,h&&(O.animateScale&&(X=0),O.animateRotate&&(Y=K=j));const J={x:R,y:B,innerRadius:0,outerRadius:X,startAngle:Y,endAngle:K,options:this.resolveDataElementOptions(q,G.active?"active":l)};this.updateElement(G,q,J,l)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((o,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&r++}),r}_computeAngle(e,r,o){return this.chart.getDataVisibility(e)?toRadians(this.resolveDataElementOptions(e,r).angle||o):0}}PolarAreaController.id="polarArea";PolarAreaController.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};PolarAreaController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:r}}=t.legend.options;return e.labels.map((o,l)=>{const y=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,r){r.chart.toggleDataVisibility(e.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class PieController extends DoughnutController{}PieController.id="pie";PieController.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class RadarController extends DatasetController{getLabelAndValue(e){const r=this._cachedMeta.vScale,o=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(o[r.axis])}}parseObjectData(e,r,o,l){return _parseObjectDataRadialScale.bind(this)(e,r,o,l)}update(e){const r=this._cachedMeta,o=r.dataset,l=r.data||[],h=r.iScale.getLabels();if(o.points=l,e!=="resize"){const y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0);const D={_loop:!0,_fullLoop:h.length===l.length,options:y};this.updateElement(o,void 0,D,e)}this.updateElements(l,0,l.length,e)}updateElements(e,r,o,l){const h=this._cachedMeta.rScale,y=l==="reset";for(let D=r;D<r+o;D++){const O=e[D],F=this.resolveDataElementOptions(D,O.active?"active":l),R=h.getPointPositionForValue(D,this.getParsed(D).r),B=y?h.xCenter:R.x,j=y?h.yCenter:R.y,U={x:B,y:j,angle:R.angle,skip:isNaN(B)||isNaN(j),options:F};this.updateElement(O,D,U,l)}}}RadarController.id="radar";RadarController.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};RadarController.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ScatterController extends LineController{}ScatterController.id="scatter";ScatterController.defaults={showLine:!1,fill:!1};ScatterController.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PolarAreaController,PieController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapter{constructor(e){this.options=e||{}}formats(){return abstract()}parse(e,r){return abstract()}format(e,r){return abstract()}add(e,r,o){return abstract()}diff(e,r,o){return abstract()}startOf(e,r,o){return abstract()}endOf(e,r){return abstract()}}DateAdapter.override=function(t){Object.assign(DateAdapter.prototype,t)};var adapters={_date:DateAdapter};function binarySearch(t,e,r,o){const{controller:l,data:h,_sorted:y}=t,D=l._cachedMeta.iScale;if(D&&e===D.axis&&e!=="r"&&y&&h.length){const O=D._reversePixels?_rlookupByKey:_lookupByKey;if(o){if(l._sharedOptions){const F=h[0],R=typeof F.getRange=="function"&&F.getRange(e);if(R){const B=O(h,e,r-R),j=O(h,e,r+R);return{lo:B.lo,hi:j.hi}}}}else return O(h,e,r)}return{lo:0,hi:h.length-1}}function evaluateInteractionItems(t,e,r,o,l){const h=t.getSortedVisibleDatasetMetas(),y=r[e];for(let D=0,O=h.length;D<O;++D){const{index:F,data:R}=h[D],{lo:B,hi:j}=binarySearch(h[D],e,y,l);for(let U=B;U<=j;++U){const q=R[U];q.skip||o(q,F,U)}}}function getDistanceMetricForAxis(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(o,l){const h=e?Math.abs(o.x-l.x):0,y=r?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(h,2)+Math.pow(y,2))}}function getIntersectItems(t,e,r,o,l){const h=[];return!l&&!t.isPointInArea(e)||evaluateInteractionItems(t,r,e,function(D,O,F){!l&&!_isPointInArea(D,t.chartArea,0)||D.inRange(e.x,e.y,o)&&h.push({element:D,datasetIndex:O,index:F})},!0),h}function getNearestRadialItems(t,e,r,o){let l=[];function h(y,D,O){const{startAngle:F,endAngle:R}=y.getProps(["startAngle","endAngle"],o),{angle:B}=getAngleFromPoint(y,{x:e.x,y:e.y});_angleBetween(B,F,R)&&l.push({element:y,datasetIndex:D,index:O})}return evaluateInteractionItems(t,r,e,h),l}function getNearestCartesianItems(t,e,r,o,l,h){let y=[];const D=getDistanceMetricForAxis(r);let O=Number.POSITIVE_INFINITY;function F(R,B,j){const U=R.inRange(e.x,e.y,l);if(o&&!U)return;const q=R.getCenterPoint(l);if(!(!!h||t.isPointInArea(q))&&!U)return;const G=D(e,q);G<O?(y=[{element:R,datasetIndex:B,index:j}],O=G):G===O&&y.push({element:R,datasetIndex:B,index:j})}return evaluateInteractionItems(t,r,e,F),y}function getNearestItems(t,e,r,o,l,h){return!h&&!t.isPointInArea(e)?[]:r==="r"&&!o?getNearestRadialItems(t,e,r,l):getNearestCartesianItems(t,e,r,o,l,h)}function getAxisItems(t,e,r,o,l){const h=[],y=r==="x"?"inXRange":"inYRange";let D=!1;return evaluateInteractionItems(t,r,e,(O,F,R)=>{O[y](e[r],l)&&(h.push({element:O,datasetIndex:F,index:R}),D=D||O.inRange(e.x,e.y,l))}),o&&!D?[]:h}var Interaction={evaluateInteractionItems,modes:{index(t,e,r,o){const l=getRelativePosition(e,t),h=r.axis||"x",y=r.includeInvisible||!1,D=r.intersect?getIntersectItems(t,l,h,o,y):getNearestItems(t,l,h,!1,o,y),O=[];return D.length?(t.getSortedVisibleDatasetMetas().forEach(F=>{const R=D[0].index,B=F.data[R];B&&!B.skip&&O.push({element:B,datasetIndex:F.index,index:R})}),O):[]},dataset(t,e,r,o){const l=getRelativePosition(e,t),h=r.axis||"xy",y=r.includeInvisible||!1;let D=r.intersect?getIntersectItems(t,l,h,o,y):getNearestItems(t,l,h,!1,o,y);if(D.length>0){const O=D[0].datasetIndex,F=t.getDatasetMeta(O).data;D=[];for(let R=0;R<F.length;++R)D.push({element:F[R],datasetIndex:O,index:R})}return D},point(t,e,r,o){const l=getRelativePosition(e,t),h=r.axis||"xy",y=r.includeInvisible||!1;return getIntersectItems(t,l,h,o,y)},nearest(t,e,r,o){const l=getRelativePosition(e,t),h=r.axis||"xy",y=r.includeInvisible||!1;return getNearestItems(t,l,h,r.intersect,o,y)},x(t,e,r,o){const l=getRelativePosition(e,t);return getAxisItems(t,l,"x",r.intersect,o)},y(t,e,r,o){const l=getRelativePosition(e,t);return getAxisItems(t,l,"y",r.intersect,o)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(t,e){return t.filter(r=>r.pos===e)}function filterDynamicPositionByAxis(t,e){return t.filter(r=>STATIC_POSITIONS.indexOf(r.pos)===-1&&r.box.axis===e)}function sortByWeight(t,e){return t.sort((r,o)=>{const l=e?o:r,h=e?r:o;return l.weight===h.weight?l.index-h.index:l.weight-h.weight})}function wrapBoxes(t){const e=[];let r,o,l,h,y,D;for(r=0,o=(t||[]).length;r<o;++r)l=t[r],{position:h,options:{stack:y,stackWeight:D=1}}=l,e.push({index:r,box:l,pos:h,horizontal:l.isHorizontal(),weight:l.weight,stack:y&&h+y,stackWeight:D});return e}function buildStacks(t){const e={};for(const r of t){const{stack:o,pos:l,stackWeight:h}=r;if(!o||!STATIC_POSITIONS.includes(l))continue;const y=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=h}return e}function setLayoutDims(t,e){const r=buildStacks(t),{vBoxMaxWidth:o,hBoxMaxHeight:l}=e;let h,y,D;for(h=0,y=t.length;h<y;++h){D=t[h];const{fullSize:O}=D.box,F=r[D.stack],R=F&&D.stackWeight/F.weight;D.horizontal?(D.width=R?R*o:O&&e.availableWidth,D.height=l):(D.width=o,D.height=R?R*l:O&&e.availableHeight)}return r}function buildLayoutBoxes(t){const e=wrapBoxes(t),r=sortByWeight(e.filter(F=>F.box.fullSize),!0),o=sortByWeight(filterByPosition(e,"left"),!0),l=sortByWeight(filterByPosition(e,"right")),h=sortByWeight(filterByPosition(e,"top"),!0),y=sortByWeight(filterByPosition(e,"bottom")),D=filterDynamicPositionByAxis(e,"x"),O=filterDynamicPositionByAxis(e,"y");return{fullSize:r,leftAndTop:o.concat(h),rightAndBottom:l.concat(O).concat(y).concat(D),chartArea:filterByPosition(e,"chartArea"),vertical:o.concat(l).concat(O),horizontal:h.concat(y).concat(D)}}function getCombinedMax(t,e,r,o){return Math.max(t[r],e[r])+Math.max(t[o],e[o])}function updateMaxPadding(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function updateDims(t,e,r,o){const{pos:l,box:h}=r,y=t.maxPadding;if(!isObject(l)){r.size&&(t[l]-=r.size);const B=o[r.stack]||{size:0,count:1};B.size=Math.max(B.size,r.horizontal?h.height:h.width),r.size=B.size/B.count,t[l]+=r.size}h.getPadding&&updateMaxPadding(y,h.getPadding());const D=Math.max(0,e.outerWidth-getCombinedMax(y,t,"left","right")),O=Math.max(0,e.outerHeight-getCombinedMax(y,t,"top","bottom")),F=D!==t.w,R=O!==t.h;return t.w=D,t.h=O,r.horizontal?{same:F,other:R}:{same:R,other:F}}function handleMaxPadding(t){const e=t.maxPadding;function r(o){const l=Math.max(e[o]-t[o],0);return t[o]+=l,l}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function getMargins(t,e){const r=e.maxPadding;function o(l){const h={left:0,top:0,right:0,bottom:0};return l.forEach(y=>{h[y]=Math.max(e[y],r[y])}),h}return o(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,r,o){const l=[];let h,y,D,O,F,R;for(h=0,y=t.length,F=0;h<y;++h){D=t[h],O=D.box,O.update(D.width||e.w,D.height||e.h,getMargins(D.horizontal,e));const{same:B,other:j}=updateDims(e,r,D,o);F|=B&&l.length,R=R||j,O.fullSize||l.push(D)}return F&&fitBoxes(l,e,r,o)||R}function setBoxDims(t,e,r,o,l){t.top=r,t.left=e,t.right=e+o,t.bottom=r+l,t.width=o,t.height=l}function placeBoxes(t,e,r,o){const l=r.padding;let{x:h,y}=e;for(const D of t){const O=D.box,F=o[D.stack]||{count:1,placed:0,weight:1},R=D.stackWeight/F.weight||1;if(D.horizontal){const B=e.w*R,j=F.size||O.height;defined(F.start)&&(y=F.start),O.fullSize?setBoxDims(O,l.left,y,r.outerWidth-l.right-l.left,j):setBoxDims(O,e.left+F.placed,y,B,j),F.start=y,F.placed+=B,y=O.bottom}else{const B=e.h*R,j=F.size||O.width;defined(F.start)&&(h=F.start),O.fullSize?setBoxDims(O,h,l.top,j,r.outerHeight-l.bottom-l.top):setBoxDims(O,h,e.top+F.placed,j,B),F.start=h,F.placed+=B,h=O.right}}e.x=h,e.y=y}defaults$1.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var layouts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,o){if(!t)return;const l=toPadding(t.options.layout.padding),h=Math.max(e-l.width,0),y=Math.max(r-l.height,0),D=buildLayoutBoxes(t.boxes),O=D.vertical,F=D.horizontal;each(t.boxes,W=>{typeof W.beforeLayout=="function"&&W.beforeLayout()});const R=O.reduce((W,G)=>G.box.options&&G.box.options.display===!1?W:W+1,0)||1,B=Object.freeze({outerWidth:e,outerHeight:r,padding:l,availableWidth:h,availableHeight:y,vBoxMaxWidth:h/2/R,hBoxMaxHeight:y/2}),j=Object.assign({},l);updateMaxPadding(j,toPadding(o));const U=Object.assign({maxPadding:j,w:h,h:y,x:l.left,y:l.top},l),q=setLayoutDims(O.concat(F),B);fitBoxes(D.fullSize,U,B,q),fitBoxes(O,U,B,q),fitBoxes(F,U,B,q)&&fitBoxes(O,U,B,q),handleMaxPadding(U),placeBoxes(D.leftAndTop,U,B,q),U.x+=U.w,U.y+=U.h,placeBoxes(D.rightAndBottom,U,B,q),t.chartArea={left:U.left,top:U.top,right:U.left+U.w,bottom:U.top+U.h,height:U.h,width:U.w},each(D.chartArea,W=>{const G=W.box;Object.assign(G,t.chartArea),G.update(U.w,U.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,o){}removeEventListener(e,r,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,o,l){return r=Math.max(0,r||e.width),o=o||e.height,{width:r,height:Math.max(0,l?Math.floor(r/l):o)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY$1="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=t=>t===null||t==="";function initCanvas(t,e){const r=t.style,o=t.getAttribute("height"),l=t.getAttribute("width");if(t[EXPANDO_KEY$1]={initial:{height:o,width:l,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",isNullOrEmpty(l)){const h=readUsedSize(t,"width");h!==void 0&&(t.width=h)}if(isNullOrEmpty(o))if(t.style.height==="")t.height=t.width/(e||2);else{const h=readUsedSize(t,"height");h!==void 0&&(t.height=h)}return t}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(t,e,r){t.addEventListener(e,r,eventListenerOptions)}function removeListener(t,e,r){t.canvas.removeEventListener(e,r,eventListenerOptions)}function fromNativeEvent(t,e){const r=EVENT_TYPES[t.type]||t.type,{x:o,y:l}=getRelativePosition(t,e);return{type:r,chart:e,native:t,x:o!==void 0?o:null,y:l!==void 0?l:null}}function nodeListContains(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function createAttachObserver(t,e,r){const o=t.canvas,l=new MutationObserver(h=>{let y=!1;for(const D of h)y=y||nodeListContains(D.addedNodes,o),y=y&&!nodeListContains(D.removedNodes,o);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}function createDetachObserver(t,e,r){const o=t.canvas,l=new MutationObserver(h=>{let y=!1;for(const D of h)y=y||nodeListContains(D.removedNodes,o),y=y&&!nodeListContains(D.addedNodes,o);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const t=window.devicePixelRatio;t!==oldDevicePixelRatio&&(oldDevicePixelRatio=t,drpListeningCharts.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function listenDevicePixelRatioChanges(t,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(t,e)}function unlistenDevicePixelRatioChanges(t){drpListeningCharts.delete(t),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(t,e,r){const o=t.canvas,l=o&&_getParentNode(o);if(!l)return;const h=throttled((D,O)=>{const F=l.clientWidth;r(D,O),F<l.clientWidth&&r()},window),y=new ResizeObserver(D=>{const O=D[0],F=O.contentRect.width,R=O.contentRect.height;F===0&&R===0||h(F,R)});return y.observe(l),listenDevicePixelRatioChanges(t,h),y}function releaseObserver(t,e,r){r&&r.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(t)}function createProxyAndListen(t,e,r){const o=t.canvas,l=throttled(h=>{t.ctx!==null&&r(fromNativeEvent(h,t))},t,h=>{const y=h[0];return[y,y.offsetX,y.offsetY]});return addListener(o,e,l),l}class DomPlatform extends BasePlatform{acquireContext(e,r){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(initCanvas(e,r),o):null}releaseContext(e){const r=e.canvas;if(!r[EXPANDO_KEY$1])return!1;const o=r[EXPANDO_KEY$1].initial;["height","width"].forEach(h=>{const y=o[h];isNullOrUndef(y)?r.removeAttribute(h):r.setAttribute(h,y)});const l=o.style||{};return Object.keys(l).forEach(h=>{r.style[h]=l[h]}),r.width=r.width,delete r[EXPANDO_KEY$1],!0}addEventListener(e,r,o){this.removeEventListener(e,r);const l=e.$proxies||(e.$proxies={}),y={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[r]||createProxyAndListen;l[r]=y(e,r,o)}removeEventListener(e,r){const o=e.$proxies||(e.$proxies={}),l=o[r];if(!l)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[r]||removeListener)(e,r,l),o[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,o,l){return getMaximumSize(e,r,o,l)}isAttached(e){const r=_getParentNode(e);return!!(r&&r.isConnected)}}function _detectPlatform(t){return!_isDomSupported()||typeof OffscreenCanvas!="undefined"&&t instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:r,y:o}=this.getProps(["x","y"],e);return{x:r,y:o}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,r){const o=this.$animations;if(!r||!o)return this;const l={};return e.forEach(h=>{l[h]=o[h]&&o[h].active()?o[h]._to:this[h]}),l}}Element.defaults={};Element.defaultRoutes=void 0;const formatters$4={values(t){return isArray(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const o=this.chart.options.locale;let l,h=t;if(r.length>1){const F=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(F<1e-4||F>1e15)&&(l="scientific"),h=calculateDelta(t,r)}const y=log10(Math.abs(h)),D=Math.max(Math.min(-1*Math.floor(y),20),0),O={notation:l,minimumFractionDigits:D,maximumFractionDigits:D};return Object.assign(O,this.options.ticks.format),formatNumber(t,o,O)},logarithmic(t,e,r){if(t===0)return"0";const o=t/Math.pow(10,Math.floor(log10(t)));return o===1||o===2||o===5?formatters$4.numeric.call(this,t,e,r):""}};function calculateDelta(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var Ticks={formatters:formatters$4};defaults$1.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});defaults$1.route("scale.ticks","color","","color");defaults$1.route("scale.grid","color","","borderColor");defaults$1.route("scale.grid","borderColor","","borderColor");defaults$1.route("scale.title","color","","color");defaults$1.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});defaults$1.describe("scales",{_fallback:"scale"});defaults$1.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function autoSkip(t,e){const r=t.options.ticks,o=r.maxTicksLimit||determineMaxTicks(t),l=r.major.enabled?getMajorIndices(e):[],h=l.length,y=l[0],D=l[h-1],O=[];if(h>o)return skipMajors(e,O,l,h/o),O;const F=calculateSpacing(l,e,o);if(h>0){let R,B;const j=h>1?Math.round((D-y)/(h-1)):null;for(skip(e,O,F,isNullOrUndef(j)?0:y-j,y),R=0,B=h-1;R<B;R++)skip(e,O,F,l[R],l[R+1]);return skip(e,O,F,D,isNullOrUndef(j)?e.length:D+j),O}return skip(e,O,F),O}function determineMaxTicks(t){const e=t.options.offset,r=t._tickSize(),o=t._length/r+(e?0:1),l=t._maxLength/r;return Math.floor(Math.min(o,l))}function calculateSpacing(t,e,r){const o=getEvenSpacing(t),l=e.length/r;if(!o)return Math.max(l,1);const h=_factorize(o);for(let y=0,D=h.length-1;y<D;y++){const O=h[y];if(O>l)return O}return Math.max(l,1)}function getMajorIndices(t){const e=[];let r,o;for(r=0,o=t.length;r<o;r++)t[r].major&&e.push(r);return e}function skipMajors(t,e,r,o){let l=0,h=r[0],y;for(o=Math.ceil(o),y=0;y<t.length;y++)y===h&&(e.push(t[y]),l++,h=r[l*o])}function skip(t,e,r,o,l){const h=valueOrDefault(o,0),y=Math.min(valueOrDefault(l,t.length),t.length);let D=0,O,F,R;for(r=Math.ceil(r),l&&(O=l-o,r=O/Math.floor(O/r)),R=h;R<0;)D++,R=Math.round(h+D*r);for(F=Math.max(h,0);F<y;F++)F===R&&(e.push(t[F]),D++,R=Math.round(h+D*r))}function getEvenSpacing(t){const e=t.length;let r,o;if(e<2)return!1;for(o=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==o)return!1;return o}const reverseAlign=t=>t==="left"?"right":t==="right"?"left":t,offsetFromEdge=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r;function sample(t,e){const r=[],o=t.length/e,l=t.length;let h=0;for(;h<l;h+=o)r.push(t[Math.floor(h)]);return r}function getPixelForGridLine(t,e,r){const o=t.ticks.length,l=Math.min(e,o-1),h=t._startPixel,y=t._endPixel,D=1e-6;let O=t.getPixelForTick(l),F;if(!(r&&(o===1?F=Math.max(O-h,y-O):e===0?F=(t.getPixelForTick(1)-O)/2:F=(O-t.getPixelForTick(l-1))/2,O+=l<e?F:-F,O<h-D||O>y+D)))return O}function garbageCollect(t,e){each(t,r=>{const o=r.gc,l=o.length/2;let h;if(l>e){for(h=0;h<l;++h)delete r.data[o[h]];o.splice(0,l)}})}function getTickMarkLength(t){return t.drawTicks?t.tickLength:0}function getTitleHeight(t,e){if(!t.display)return 0;const r=toFont(t.font,e),o=toPadding(t.padding);return(isArray(t.text)?t.text.length:1)*r.lineHeight+o.height}function createScaleContext(t,e){return createContext(t,{scale:e,type:"scale"})}function createTickContext(t,e,r){return createContext(t,{tick:r,index:e,type:"tick"})}function titleAlign(t,e,r){let o=_toLeftRightCenter(t);return(r&&e!=="right"||!r&&e==="right")&&(o=reverseAlign(o)),o}function titleArgs(t,e,r,o){const{top:l,left:h,bottom:y,right:D,chart:O}=t,{chartArea:F,scales:R}=O;let B=0,j,U,q;const W=y-l,G=D-h;if(t.isHorizontal()){if(U=_alignStartEnd(o,h,D),isObject(r)){const Y=Object.keys(r)[0],K=r[Y];q=R[Y].getPixelForValue(K)+W-e}else r==="center"?q=(F.bottom+F.top)/2+W-e:q=offsetFromEdge(t,r,e);j=D-h}else{if(isObject(r)){const Y=Object.keys(r)[0],K=r[Y];U=R[Y].getPixelForValue(K)-G+e}else r==="center"?U=(F.left+F.right)/2-G+e:U=offsetFromEdge(t,r,e);q=_alignStartEnd(o,y,l),B=r==="left"?-HALF_PI:HALF_PI}return{titleX:U,titleY:q,maxWidth:j,rotation:B}}class Scale extends Element{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:o,_suggestedMax:l}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),r=finiteOrDefault(r,Number.NEGATIVE_INFINITY),o=finiteOrDefault(o,Number.POSITIVE_INFINITY),l=finiteOrDefault(l,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,o),max:finiteOrDefault(r,l),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(r)}}getMinMax(e){let{min:r,max:o,minDefined:l,maxDefined:h}=this.getUserBounds(),y;if(l&&h)return{min:r,max:o};const D=this.getMatchingVisibleMetas();for(let O=0,F=D.length;O<F;++O)y=D[O].controller.getMinMax(this,e),l||(r=Math.min(r,y.min)),h||(o=Math.max(o,y.max));return r=h&&r>o?o:r,o=l&&r>o?r:o,{min:finiteOrDefault(r,finiteOrDefault(o,r)),max:finiteOrDefault(o,finiteOrDefault(r,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,r,o){const{beginAtZero:l,grace:h,ticks:y}=this.options,D=y.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,h,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const O=D<this.ticks.length;this._convertTicksToLabels(O?sample(this.ticks,D):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||y.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),O&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,o;this.isHorizontal()?(r=this.left,o=this.right):(r=this.top,o=this.bottom,e=!e),this._startPixel=r,this._endPixel=o,this._reversePixels=e,this._length=o-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let o,l,h;for(o=0,l=e.length;o<l;o++)h=e[o],h.label=callback(r.callback,[h.value,o,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,o=this.ticks.length,l=r.minRotation||0,h=r.maxRotation;let y=l,D,O,F;if(!this._isVisible()||!r.display||l>=h||o<=1||!this.isHorizontal()){this.labelRotation=l;return}const R=this._getLabelSizes(),B=R.widest.width,j=R.highest.height,U=_limitValue(this.chart.width-B,0,this.maxWidth);D=e.offset?this.maxWidth/o:U/(o-1),B+6>D&&(D=U/(o-(e.offset?.5:1)),O=this.maxHeight-getTickMarkLength(e.grid)-r.padding-getTitleHeight(e.title,this.chart.options.font),F=Math.sqrt(B*B+j*j),y=toDegrees(Math.min(Math.asin(_limitValue((R.highest.height+6)/D,-1,1)),Math.asin(_limitValue(O/F,-1,1))-Math.asin(_limitValue(j/F,-1,1)))),y=Math.max(l,Math.min(h,y))),this.labelRotation=y}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:o,title:l,grid:h}}=this,y=this._isVisible(),D=this.isHorizontal();if(y){const O=getTitleHeight(l,r.options.font);if(D?(e.width=this.maxWidth,e.height=getTickMarkLength(h)+O):(e.height=this.maxHeight,e.width=getTickMarkLength(h)+O),o.display&&this.ticks.length){const{first:F,last:R,widest:B,highest:j}=this._getLabelSizes(),U=o.padding*2,q=toRadians(this.labelRotation),W=Math.cos(q),G=Math.sin(q);if(D){const Y=o.mirror?0:G*B.width+W*j.height;e.height=Math.min(this.maxHeight,e.height+Y+U)}else{const Y=o.mirror?0:W*B.width+G*j.height;e.width=Math.min(this.maxWidth,e.width+Y+U)}this._calculatePadding(F,R,G,W)}}this._handleMargins(),D?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,o,l){const{ticks:{align:h,padding:y},position:D}=this.options,O=this.labelRotation!==0,F=D!=="top"&&this.axis==="x";if(this.isHorizontal()){const R=this.getPixelForTick(0)-this.left,B=this.right-this.getPixelForTick(this.ticks.length-1);let j=0,U=0;O?F?(j=l*e.width,U=o*r.height):(j=o*e.height,U=l*r.width):h==="start"?U=r.width:h==="end"?j=e.width:h!=="inner"&&(j=e.width/2,U=r.width/2),this.paddingLeft=Math.max((j-R+y)*this.width/(this.width-R),0),this.paddingRight=Math.max((U-B+y)*this.width/(this.width-B),0)}else{let R=r.height/2,B=e.height/2;h==="start"?(R=0,B=e.height):h==="end"&&(R=r.height,B=0),this.paddingTop=R+y,this.paddingBottom=B+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,o;for(r=0,o=e.length;r<o;r++)isNullOrUndef(e[r].label)&&(e.splice(r,1),o--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let o=this.ticks;r<o.length&&(o=sample(o,r)),this._labelSizes=e=this._computeLabelSizes(o,o.length)}return e}_computeLabelSizes(e,r){const{ctx:o,_longestTextCache:l}=this,h=[],y=[];let D=0,O=0,F,R,B,j,U,q,W,G,Y,K,X;for(F=0;F<r;++F){if(j=e[F].label,U=this._resolveTickFontOptions(F),o.font=q=U.string,W=l[q]=l[q]||{data:{},gc:[]},G=U.lineHeight,Y=K=0,!isNullOrUndef(j)&&!isArray(j))Y=_measureText(o,W.data,W.gc,Y,j),K=G;else if(isArray(j))for(R=0,B=j.length;R<B;++R)X=j[R],!isNullOrUndef(X)&&!isArray(X)&&(Y=_measureText(o,W.data,W.gc,Y,X),K+=G);h.push(Y),y.push(K),D=Math.max(Y,D),O=Math.max(K,O)}garbageCollect(l,r);const J=h.indexOf(D),Q=y.indexOf(O),Z=ee=>({width:h[ee]||0,height:y[ee]||0});return{first:Z(0),last:Z(r-1),widest:Z(J),highest:Z(Q),widths:h,heights:y}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const o=r[e];return o.$context||(o.$context=createTickContext(this.getContext(),e,o))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=toRadians(this.labelRotation),o=Math.abs(Math.cos(r)),l=Math.abs(Math.sin(r)),h=this._getLabelSizes(),y=e.autoSkipPadding||0,D=h?h.widest.width+y:0,O=h?h.highest.height+y:0;return this.isHorizontal()?O*o>D*l?D/o:O/l:O*l<D*o?O/o:D/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,o=this.chart,l=this.options,{grid:h,position:y}=l,D=h.offset,O=this.isHorizontal(),R=this.ticks.length+(D?1:0),B=getTickMarkLength(h),j=[],U=h.setContext(this.getContext()),q=U.drawBorder?U.borderWidth:0,W=q/2,G=function(ue){return _alignPixel(o,ue,q)};let Y,K,X,J,Q,Z,ee,ne,ie,re,te,se;if(y==="top")Y=G(this.bottom),Z=this.bottom-B,ne=Y-W,re=G(e.top)+W,se=e.bottom;else if(y==="bottom")Y=G(this.top),re=e.top,se=G(e.bottom)-W,Z=Y+W,ne=this.top+B;else if(y==="left")Y=G(this.right),Q=this.right-B,ee=Y-W,ie=G(e.left)+W,te=e.right;else if(y==="right")Y=G(this.left),ie=e.left,te=G(e.right)-W,Q=Y+W,ee=this.left+B;else if(r==="x"){if(y==="center")Y=G((e.top+e.bottom)/2+.5);else if(isObject(y)){const ue=Object.keys(y)[0],he=y[ue];Y=G(this.chart.scales[ue].getPixelForValue(he))}re=e.top,se=e.bottom,Z=Y+W,ne=Z+B}else if(r==="y"){if(y==="center")Y=G((e.left+e.right)/2);else if(isObject(y)){const ue=Object.keys(y)[0],he=y[ue];Y=G(this.chart.scales[ue].getPixelForValue(he))}Q=Y-W,ee=Q-B,ie=e.left,te=e.right}const ce=valueOrDefault(l.ticks.maxTicksLimit,R),de=Math.max(1,Math.ceil(R/ce));for(K=0;K<R;K+=de){const ue=h.setContext(this.getContext(K)),he=ue.lineWidth,oe=ue.color,ae=h.borderDash||[],le=ue.borderDashOffset,fe=ue.tickWidth,we=ue.tickColor,me=ue.tickBorderDash||[],ge=ue.tickBorderDashOffset;X=getPixelForGridLine(this,K,D),X!==void 0&&(J=_alignPixel(o,X,he),O?Q=ee=ie=te=J:Z=ne=re=se=J,j.push({tx1:Q,ty1:Z,tx2:ee,ty2:ne,x1:ie,y1:re,x2:te,y2:se,width:he,color:oe,borderDash:ae,borderDashOffset:le,tickWidth:fe,tickColor:we,tickBorderDash:me,tickBorderDashOffset:ge}))}return this._ticksLength=R,this._borderValue=Y,j}_computeLabelItems(e){const r=this.axis,o=this.options,{position:l,ticks:h}=o,y=this.isHorizontal(),D=this.ticks,{align:O,crossAlign:F,padding:R,mirror:B}=h,j=getTickMarkLength(o.grid),U=j+R,q=B?-R:U,W=-toRadians(this.labelRotation),G=[];let Y,K,X,J,Q,Z,ee,ne,ie,re,te,se,ce="middle";if(l==="top")Z=this.bottom-q,ee=this._getXAxisLabelAlignment();else if(l==="bottom")Z=this.top+q,ee=this._getXAxisLabelAlignment();else if(l==="left"){const ue=this._getYAxisLabelAlignment(j);ee=ue.textAlign,Q=ue.x}else if(l==="right"){const ue=this._getYAxisLabelAlignment(j);ee=ue.textAlign,Q=ue.x}else if(r==="x"){if(l==="center")Z=(e.top+e.bottom)/2+U;else if(isObject(l)){const ue=Object.keys(l)[0],he=l[ue];Z=this.chart.scales[ue].getPixelForValue(he)+U}ee=this._getXAxisLabelAlignment()}else if(r==="y"){if(l==="center")Q=(e.left+e.right)/2-U;else if(isObject(l)){const ue=Object.keys(l)[0],he=l[ue];Q=this.chart.scales[ue].getPixelForValue(he)}ee=this._getYAxisLabelAlignment(j).textAlign}r==="y"&&(O==="start"?ce="top":O==="end"&&(ce="bottom"));const de=this._getLabelSizes();for(Y=0,K=D.length;Y<K;++Y){X=D[Y],J=X.label;const ue=h.setContext(this.getContext(Y));ne=this.getPixelForTick(Y)+h.labelOffset,ie=this._resolveTickFontOptions(Y),re=ie.lineHeight,te=isArray(J)?J.length:1;const he=te/2,oe=ue.color,ae=ue.textStrokeColor,le=ue.textStrokeWidth;let fe=ee;y?(Q=ne,ee==="inner"&&(Y===K-1?fe=this.options.reverse?"left":"right":Y===0?fe=this.options.reverse?"right":"left":fe="center"),l==="top"?F==="near"||W!==0?se=-te*re+re/2:F==="center"?se=-de.highest.height/2-he*re+re:se=-de.highest.height+re/2:F==="near"||W!==0?se=re/2:F==="center"?se=de.highest.height/2-he*re:se=de.highest.height-te*re,B&&(se*=-1)):(Z=ne,se=(1-te)*re/2);let we;if(ue.showLabelBackdrop){const me=toPadding(ue.backdropPadding),ge=de.heights[Y],Se=de.widths[Y];let ke=Z+se-me.top,_e=Q-me.left;switch(ce){case"middle":ke-=ge/2;break;case"bottom":ke-=ge;break}switch(ee){case"center":_e-=Se/2;break;case"right":_e-=Se;break}we={left:_e,top:ke,width:Se+me.width,height:ge+me.height,color:ue.backdropColor}}G.push({rotation:W,label:J,font:ie,color:oe,strokeColor:ae,strokeWidth:le,textOffset:se,textAlign:fe,textBaseline:ce,translation:[Q,Z],backdrop:we})}return G}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let l="center";return r.align==="start"?l="left":r.align==="end"?l="right":r.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:o,mirror:l,padding:h}}=this.options,y=this._getLabelSizes(),D=e+h,O=y.widest.width;let F,R;return r==="left"?l?(R=this.right+h,o==="near"?F="left":o==="center"?(F="center",R+=O/2):(F="right",R+=O)):(R=this.right-D,o==="near"?F="right":o==="center"?(F="center",R-=O/2):(F="left",R=this.left)):r==="right"?l?(R=this.left+h,o==="near"?F="right":o==="center"?(F="center",R-=O/2):(F="left",R-=O)):(R=this.left+D,o==="near"?F="left":o==="center"?(F="center",R+=O/2):(F="right",R=this.right)):F="right",{textAlign:F,x:R}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:o,top:l,width:h,height:y}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(o,l,h,y),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const l=this.ticks.findIndex(h=>h.value===e);return l>=0?r.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const r=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let h,y;const D=(O,F,R)=>{!R.width||!R.color||(o.save(),o.lineWidth=R.width,o.strokeStyle=R.color,o.setLineDash(R.borderDash||[]),o.lineDashOffset=R.borderDashOffset,o.beginPath(),o.moveTo(O.x,O.y),o.lineTo(F.x,F.y),o.stroke(),o.restore())};if(r.display)for(h=0,y=l.length;h<y;++h){const O=l[h];r.drawOnChartArea&&D({x:O.x1,y:O.y1},{x:O.x2,y:O.y2},O),r.drawTicks&&D({x:O.tx1,y:O.ty1},{x:O.tx2,y:O.ty2},{color:O.tickColor,width:O.tickWidth,borderDash:O.tickBorderDash,borderDashOffset:O.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{grid:o}}=this,l=o.setContext(this.getContext()),h=o.drawBorder?l.borderWidth:0;if(!h)return;const y=o.setContext(this.getContext(0)).lineWidth,D=this._borderValue;let O,F,R,B;this.isHorizontal()?(O=_alignPixel(e,this.left,h)-h/2,F=_alignPixel(e,this.right,y)+y/2,R=B=D):(R=_alignPixel(e,this.top,h)-h/2,B=_alignPixel(e,this.bottom,y)+y/2,O=F=D),r.save(),r.lineWidth=l.borderWidth,r.strokeStyle=l.borderColor,r.beginPath(),r.moveTo(O,R),r.lineTo(F,B),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&clipArea(o,l);const h=this._labelItems||(this._labelItems=this._computeLabelItems(e));let y,D;for(y=0,D=h.length;y<D;++y){const O=h[y],F=O.font,R=O.label;O.backdrop&&(o.fillStyle=O.backdrop.color,o.fillRect(O.backdrop.left,O.backdrop.top,O.backdrop.width,O.backdrop.height));let B=O.textOffset;renderText(o,R,0,B,F,O)}l&&unclipArea(o)}drawTitle(){const{ctx:e,options:{position:r,title:o,reverse:l}}=this;if(!o.display)return;const h=toFont(o.font),y=toPadding(o.padding),D=o.align;let O=h.lineHeight/2;r==="bottom"||r==="center"||isObject(r)?(O+=y.bottom,isArray(o.text)&&(O+=h.lineHeight*(o.text.length-1))):O+=y.top;const{titleX:F,titleY:R,maxWidth:B,rotation:j}=titleArgs(this,O,r,D);renderText(e,o.text,0,0,h,{color:o.color,maxWidth:B,rotation:j,textAlign:titleAlign(D,r,l),textBaseline:"middle",translation:[F,R]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,o=valueOrDefault(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:r,draw:l=>{this.draw(l)}}]:[{z:o,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o+1,draw:()=>{this.drawBorder()}},{z:r,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let h,y;for(h=0,y=r.length;h<y;++h){const D=r[h];D[o]===this.id&&(!e||D.type===e)&&l.push(D)}return l}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return toFont(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,r,o){this.type=e,this.scope=r,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let o;isIChartComponent(r)&&(o=this.register(r));const l=this.items,h=e.id,y=this.scope+"."+h;if(!h)throw new Error("class does not have id: "+e);return h in l||(l[h]=e,registerDefaults(e,y,o),this.override&&defaults$1.override(e.id,e.overrides)),y}get(e){return this.items[e]}unregister(e){const r=this.items,o=e.id,l=this.scope;o in r&&delete r[o],l&&o in defaults$1[l]&&(delete defaults$1[l][o],this.override&&delete overrides[o])}}function registerDefaults(t,e,r){const o=merge(Object.create(null),[r?defaults$1.get(r):{},defaults$1.get(e),t.defaults]);defaults$1.set(e,o),t.defaultRoutes&&routeDefaults(e,t.defaultRoutes),t.descriptors&&defaults$1.describe(e,t.descriptors)}function routeDefaults(t,e){Object.keys(e).forEach(r=>{const o=r.split("."),l=o.pop(),h=[t].concat(o).join("."),y=e[r].split("."),D=y.pop(),O=y.join(".");defaults$1.route(h,l,O,D)})}function isIChartComponent(t){return"id"in t&&"defaults"in t}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,o){[...r].forEach(l=>{const h=o||this._getRegistryForType(l);o||h.isForType(l)||h===this.plugins&&l.id?this._exec(e,h,l):each(l,y=>{const D=o||this._getRegistryForType(y);this._exec(e,D,y)})})}_exec(e,r,o){const l=_capitalize(e);callback(o["before"+l],[],o),r[e](o),callback(o["after"+l],[],o)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const o=this._typedRegistries[r];if(o.isForType(e))return o}return this.plugins}_get(e,r,o){const l=r.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return l}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,r,o,l){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const h=l?this._descriptors(e).filter(l):this._descriptors(e),y=this._notify(h,e,r,o);return r==="afterDestroy"&&(this._notify(h,e,"stop"),this._notify(this._init,e,"uninstall")),y}_notify(e,r,o,l){l=l||{};for(const h of e){const y=h.plugin,D=y[o],O=[r,l,h.options];if(callback(D,O,y)===!1&&l.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const o=e&&e.config,l=valueOrDefault(o.options&&o.options.plugins,{}),h=allPlugins(o);return l===!1&&!r?[]:createDescriptors(e,h,l,r)}_notifyStateChanges(e){const r=this._oldCache||[],o=this._cache,l=(h,y)=>h.filter(D=>!y.some(O=>D.plugin.id===O.plugin.id));this._notify(l(r,o),e,"stop"),this._notify(l(o,r),e,"start")}}function allPlugins(t){const e=[],r=Object.keys(registry.plugins.items);for(let l=0;l<r.length;l++)e.push(registry.getPlugin(r[l]));const o=t.plugins||[];for(let l=0;l<o.length;l++){const h=o[l];e.indexOf(h)===-1&&e.push(h)}return e}function getOpts(t,e){return!e&&t===!1?null:t===!0?{}:t}function createDescriptors(t,e,r,o){const l=[],h=t.getContext();for(let y=0;y<e.length;y++){const D=e[y],O=D.id,F=getOpts(r[O],o);F!==null&&l.push({plugin:D,options:pluginOpts(t.config,D,F,h)})}return l}function pluginOpts(t,e,r,o){const l=t.pluginScopeKeys(e),h=t.getOptionScopes(r,l);return t.createResolver(h,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(t,e){const r=defaults$1.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function getAxisFromDefaultScaleID(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function getDefaultScaleIDFromAxis(t,e){return t===e?"_index_":"_value_"}function axisFromPosition(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function determineAxis(t,e){return t==="x"||t==="y"?t:e.axis||axisFromPosition(e.position)||t.charAt(0).toLowerCase()}function mergeScaleConfig(t,e){const r=overrides[t.type]||{scales:{}},o=e.scales||{},l=getIndexAxis(t.type,e),h=Object.create(null),y=Object.create(null);return Object.keys(o).forEach(D=>{const O=o[D];if(!isObject(O))return console.error(`Invalid scale configuration for scale: ${D}`);if(O._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${D}`);const F=determineAxis(D,O),R=getDefaultScaleIDFromAxis(F,l),B=r.scales||{};h[F]=h[F]||D,y[D]=mergeIf(Object.create(null),[{axis:F},O,B[F],B[R]])}),t.data.datasets.forEach(D=>{const O=D.type||t.type,F=D.indexAxis||getIndexAxis(O,e),B=(overrides[O]||{}).scales||{};Object.keys(B).forEach(j=>{const U=getAxisFromDefaultScaleID(j,F),q=D[U+"AxisID"]||h[U]||U;y[q]=y[q]||Object.create(null),mergeIf(y[q],[{axis:U},o[q],B[j]])})}),Object.keys(y).forEach(D=>{const O=y[D];mergeIf(O,[defaults$1.scales[O.type],defaults$1.scale])}),y}function initOptions(t){const e=t.options||(t.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(t,e)}function initData(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function initConfig(t){return t=t||{},t.data=initData(t.data),initOptions(t),t}const keyCache=new Map,keysCached=new Set;function cachedKeys(t,e){let r=keyCache.get(t);return r||(r=e(),keyCache.set(t,r),keysCached.add(r)),r}const addIfFound=(t,e,r)=>{const o=resolveObjectKey(e,r);o!==void 0&&t.add(o)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return cachedKeys(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return cachedKeys(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,o=this.type;return cachedKeys(`${o}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const o=this._scopeCache;let l=o.get(e);return(!l||r)&&(l=new Map,o.set(e,l)),l}getOptionScopes(e,r,o){const{options:l,type:h}=this,y=this._cachedScopes(e,o),D=y.get(r);if(D)return D;const O=new Set;r.forEach(R=>{e&&(O.add(e),R.forEach(B=>addIfFound(O,e,B))),R.forEach(B=>addIfFound(O,l,B)),R.forEach(B=>addIfFound(O,overrides[h]||{},B)),R.forEach(B=>addIfFound(O,defaults$1,B)),R.forEach(B=>addIfFound(O,descriptors,B))});const F=Array.from(O);return F.length===0&&F.push(Object.create(null)),keysCached.has(r)&&y.set(r,F),F}chartOptionScopes(){const{options:e,type:r}=this;return[e,overrides[r]||{},defaults$1.datasets[r]||{},{type:r},defaults$1,descriptors]}resolveNamedOptions(e,r,o,l=[""]){const h={$shared:!0},{resolver:y,subPrefixes:D}=getResolver(this._resolverCache,e,l);let O=y;if(needContext(y,r)){h.$shared=!1,o=isFunction(o)?o():o;const F=this.createResolver(e,o,D);O=_attachContext(y,o,F)}for(const F of r)h[F]=O[F];return h}createResolver(e,r,o=[""],l){const{resolver:h}=getResolver(this._resolverCache,e,o);return isObject(r)?_attachContext(h,r,void 0,l):h}}function getResolver(t,e,r){let o=t.get(e);o||(o=new Map,t.set(e,o));const l=r.join();let h=o.get(l);return h||(h={resolver:_createResolver(e,r),subPrefixes:r.filter(D=>!D.toLowerCase().includes("hover"))},o.set(l,h)),h}const hasFunction=t=>isObject(t)&&Object.getOwnPropertyNames(t).reduce((e,r)=>e||isFunction(t[r]),!1);function needContext(t,e){const{isScriptable:r,isIndexable:o}=_descriptors(t);for(const l of e){const h=r(l),y=o(l),D=(y||h)&&t[l];if(h&&(isFunction(D)||hasFunction(D))||y&&isArray(D))return!0}return!1}var version="3.8.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(t,e){return t==="top"||t==="bottom"||KNOWN_POSITIONS.indexOf(t)===-1&&e==="x"}function compare2Level(t,e){return function(r,o){return r[t]===o[t]?r[e]-o[e]:r[t]-o[t]}}function onAnimationsComplete(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),callback(r&&r.onComplete,[t],e)}function onAnimationProgress(t){const e=t.chart,r=e.options.animation;callback(r&&r.onProgress,[t],e)}function getCanvas(t){return _isDomSupported()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const instances={},getChart=t=>{const e=getCanvas(t);return Object.values(instances).filter(r=>r.canvas===e).pop()};function moveNumericKeys(t,e,r){const o=Object.keys(t);for(const l of o){const h=+l;if(h>=e){const y=t[l];delete t[l],(r>0||h>e)&&(t[h+r]=y)}}}function determineLastEvent(t,e,r,o){return!r||t.type==="mouseout"?null:o?e:t}class Chart{constructor(e,r){const o=this.config=new Config(r),l=getCanvas(e),h=getChart(l);if(h)throw new Error("Canvas is already in use. Chart with ID '"+h.id+"' must be destroyed before the canvas can be reused.");const y=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_detectPlatform(l)),this.platform.updateConfig(o);const D=this.platform.acquireContext(l,y.aspectRatio),O=D&&D.canvas,F=O&&O.height,R=O&&O.width;if(this.id=uid(),this.ctx=D,this.canvas=O,this.width=R,this.height=F,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(B=>this.update(B),y.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!D||!O){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:o,height:l,_aspectRatio:h}=this;return isNullOrUndef(e)?r&&h?h:l?o/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,r){animator.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const o=this.options,l=this.canvas,h=o.maintainAspectRatio&&this.aspectRatio,y=this.platform.getMaximumSize(l,e,r,h),D=o.devicePixelRatio||this.platform.getDevicePixelRatio(),O=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,retinaScale(this,D,!0)&&(this.notifyPlugins("resize",{size:y}),callback(o.onResize,[this,y],this),this.attached&&this._doResize(O)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};each(r,(o,l)=>{o.id=l})}buildOrUpdateScales(){const e=this.options,r=e.scales,o=this.scales,l=Object.keys(o).reduce((y,D)=>(y[D]=!1,y),{});let h=[];r&&(h=h.concat(Object.keys(r).map(y=>{const D=r[y],O=determineAxis(y,D),F=O==="r",R=O==="x";return{options:D,dposition:F?"chartArea":R?"bottom":"left",dtype:F?"radialLinear":R?"category":"linear"}}))),each(h,y=>{const D=y.options,O=D.id,F=determineAxis(O,D),R=valueOrDefault(D.type,y.dtype);(D.position===void 0||positionIsHorizontal(D.position,F)!==positionIsHorizontal(y.dposition))&&(D.position=y.dposition),l[O]=!0;let B=null;if(O in o&&o[O].type===R)B=o[O];else{const j=registry.getScale(R);B=new j({id:O,type:R,ctx:this.ctx,chart:this}),o[B.id]=B}B.init(D,e)}),each(l,(y,D)=>{y||delete o[D]}),each(o,y=>{layouts.configure(this,y,y.options),layouts.addBox(this,y)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,o=e.length;if(e.sort((l,h)=>l.index-h.index),o>r){for(let l=r;l<o;++l)this._destroyDatasetMeta(l);e.splice(r,o-r)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((o,l)=>{r.filter(h=>h===o._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=r.length;o<l;o++){const h=r[o];let y=this.getDatasetMeta(o);const D=h.type||this.config.type;if(y.type&&y.type!==D&&(this._destroyDatasetMeta(o),y=this.getDatasetMeta(o)),y.type=D,y.indexAxis=h.indexAxis||getIndexAxis(D,this.options),y.order=h.order||0,y.index=o,y.label=""+h.label,y.visible=this.isDatasetVisible(o),y.controller)y.controller.updateIndex(o),y.controller.linkScales();else{const O=registry.getController(D),{datasetElementType:F,dataElementType:R}=defaults$1.datasets[D];Object.assign(O.prototype,{dataElementType:registry.getElement(R),datasetElementType:F&&registry.getElement(F)}),y.controller=new O(this,o),e.push(y.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const o=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const h=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let F=0,R=this.data.datasets.length;F<R;F++){const{controller:B}=this.getDatasetMeta(F),j=!l&&h.indexOf(B)===-1;B.buildOrUpdateElements(j),y=Math.max(+B.getMaxOverflow(),y)}y=this._minPadding=o.layout.autoPadding?y:0,this._updateLayout(y),l||each(h,F=>{F.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:D,_lastEvent:O}=this;O?this._eventHandler(O,!0):D.length&&this._updateHoverStyles(D,D,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!setsEqual(r,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:h}of r){const y=o==="_removeElements"?-h:h;moveNumericKeys(e,l,y)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,o=h=>new Set(e.filter(y=>y[0]===h).map((y,D)=>D+","+y.splice(1).join(","))),l=o(0);for(let h=1;h<r;h++)if(!setsEqual(l,o(h)))return;return Array.from(l).map(h=>h.split(",")).map(h=>({method:h[1],start:+h[2],count:+h[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const r=this.chartArea,o=r.width<=0||r.height<=0;this._layers=[],each(this.boxes,l=>{o&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,h)=>{l._idx=h}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,o=this.data.datasets.length;r<o;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,o=this.data.datasets.length;r<o;++r)this._updateDataset(r,isFunction(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const o=this.getDatasetMeta(e),l={meta:o,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(o.controller._update(r),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resize(o,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,o=[];let l,h;for(l=0,h=r.length;l<h;++l){const y=r[l];(!e||y.visible)&&o.push(y)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,o=e._clip,l=!o.disabled,h=this.chartArea,y={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",y)!==!1&&(l&&clipArea(r,{left:o.left===!1?0:h.left-o.left,right:o.right===!1?this.width:h.right+o.right,top:o.top===!1?0:h.top-o.top,bottom:o.bottom===!1?this.height:h.bottom+o.bottom}),e.controller.draw(),l&&unclipArea(r),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,o,l){const h=Interaction.modes[r];return typeof h=="function"?h(this,e,o,l):[]}getDatasetMeta(e){const r=this.data.datasets[e],o=this._metasets;let l=o.filter(h=>h&&h._dataset===r).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!r.hidden}setDatasetVisibility(e,r){const o=this.getDatasetMeta(e);o.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,o){const l=o?"show":"hide",h=this.getDatasetMeta(e),y=h.controller._resolveAnimations(void 0,l);defined(r)?(h.data[r].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),y.update(h,{visible:o}),this.update(D=>D.datasetIndex===e?l:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),animator.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,o=(h,y)=>{r.addEventListener(this,h,y),e[h]=y},l=(h,y,D)=>{h.offsetX=y,h.offsetY=D,this._eventHandler(h)};each(this.options.events,h=>o(h,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,o=(O,F)=>{r.addEventListener(this,O,F),e[O]=F},l=(O,F)=>{e[O]&&(r.removeEventListener(this,O,F),delete e[O])},h=(O,F)=>{this.canvas&&this.resize(O,F)};let y;const D=()=>{l("attach",D),this.attached=!0,this.resize(),o("resize",h),o("detach",y)};y=()=>{this.attached=!1,l("resize",h),this._stop(),this._resize(0,0),o("attach",D)},r.isAttached(this.canvas)?D():y()}unbindEvents(){each(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},each(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,o){const l=o?"set":"remove";let h,y,D,O;for(r==="dataset"&&(h=this.getDatasetMeta(e[0].datasetIndex),h.controller["_"+l+"DatasetHoverStyle"]()),D=0,O=e.length;D<O;++D){y=e[D];const F=y&&this.getDatasetMeta(y.datasetIndex).controller;F&&F[l+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],o=e.map(({datasetIndex:h,index:y})=>{const D=this.getDatasetMeta(h);if(!D)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:D.data[y],index:y}});!_elementsEqual(o,r)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,r))}notifyPlugins(e,r,o){return this._plugins.notify(this,e,r,o)}_updateHoverStyles(e,r,o){const l=this.options.hover,h=(O,F)=>O.filter(R=>!F.some(B=>R.datasetIndex===B.datasetIndex&&R.index===B.index)),y=h(r,e),D=o?e:h(e,r);y.length&&this.updateHoverStyle(y,l.mode,!1),D.length&&l.mode&&this.updateHoverStyle(D,l.mode,!0)}_eventHandler(e,r){const o={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},l=y=>(y.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,l)===!1)return;const h=this._handleEvent(e,r,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(h||o.changed)&&this.render(),this}_handleEvent(e,r,o){const{_active:l=[],options:h}=this,y=r,D=this._getActiveElements(e,l,o,y),O=_isClickEvent(e),F=determineLastEvent(e,this._lastEvent,o,O);o&&(this._lastEvent=null,callback(h.onHover,[e,D,this],this),O&&callback(h.onClick,[e,D,this],this));const R=!_elementsEqual(D,l);return(R||r)&&(this._active=D,this._updateHoverStyles(D,l,r)),this._lastEvent=F,R}_getActiveElements(e,r,o,l){if(e.type==="mouseout")return[];if(!o)return r;const h=this.options.hover;return this.getElementsAtEventForMode(e,h.mode,h,l)}}const invalidatePlugins=()=>each(Chart.instances,t=>t._plugins.invalidate()),enumerable=!0;Object.defineProperties(Chart,{defaults:{enumerable,value:defaults$1},instances:{enumerable,value:instances},overrides:{enumerable,value:overrides},registry:{enumerable,value:registry},version:{enumerable,value:version},getChart:{enumerable,value:getChart},register:{enumerable,value:(...t)=>{registry.add(...t),invalidatePlugins()}},unregister:{enumerable,value:(...t)=>{registry.remove(...t),invalidatePlugins()}}});function clipArc(t,e,r){const{startAngle:o,pixelMargin:l,x:h,y,outerRadius:D,innerRadius:O}=e;let F=l/D;t.beginPath(),t.arc(h,y,D,o-F,r+F),O>l?(F=l/O,t.arc(h,y,O,r+F,o-F,!0)):t.arc(h,y,l,r+HALF_PI,o-HALF_PI),t.closePath(),t.clip()}function toRadiusCorners(t){return _readValueToProps(t,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(t,e,r,o){const l=toRadiusCorners(t.options.borderRadius),h=(r-e)/2,y=Math.min(h,o*e/2),D=O=>{const F=(r-Math.min(h,O))*o/2;return _limitValue(O,0,Math.min(h,F))};return{outerStart:D(l.outerStart),outerEnd:D(l.outerEnd),innerStart:_limitValue(l.innerStart,0,y),innerEnd:_limitValue(l.innerEnd,0,y)}}function rThetaToXY(t,e,r,o){return{x:r+t*Math.cos(e),y:o+t*Math.sin(e)}}function pathArc(t,e,r,o,l){const{x:h,y,startAngle:D,pixelMargin:O,innerRadius:F}=e,R=Math.max(e.outerRadius+o+r-O,0),B=F>0?F+o+r+O:0;let j=0;const U=l-D;if(o){const he=F>0?F-o:0,oe=R>0?R-o:0,ae=(he+oe)/2,le=ae!==0?U*ae/(ae+o):U;j=(U-le)/2}const q=Math.max(.001,U*R-r/PI)/R,W=(U-q)/2,G=D+W+j,Y=l-W-j,{outerStart:K,outerEnd:X,innerStart:J,innerEnd:Q}=parseBorderRadius$1(e,B,R,Y-G),Z=R-K,ee=R-X,ne=G+K/Z,ie=Y-X/ee,re=B+J,te=B+Q,se=G+J/re,ce=Y-Q/te;if(t.beginPath(),t.arc(h,y,R,ne,ie),X>0){const he=rThetaToXY(ee,ie,h,y);t.arc(he.x,he.y,X,ie,Y+HALF_PI)}const de=rThetaToXY(te,Y,h,y);if(t.lineTo(de.x,de.y),Q>0){const he=rThetaToXY(te,ce,h,y);t.arc(he.x,he.y,Q,Y+HALF_PI,ce+Math.PI)}if(t.arc(h,y,B,Y-Q/B,G+J/B,!0),J>0){const he=rThetaToXY(re,se,h,y);t.arc(he.x,he.y,J,se+Math.PI,G-HALF_PI)}const ue=rThetaToXY(Z,G,h,y);if(t.lineTo(ue.x,ue.y),K>0){const he=rThetaToXY(Z,ne,h,y);t.arc(he.x,he.y,K,G-HALF_PI,ne)}t.closePath()}function drawArc(t,e,r,o){const{fullCircles:l,startAngle:h,circumference:y}=e;let D=e.endAngle;if(l){pathArc(t,e,r,o,h+TAU);for(let O=0;O<l;++O)t.fill();isNaN(y)||(D=h+y%TAU,y%TAU===0&&(D+=TAU))}return pathArc(t,e,r,o,D),t.fill(),D}function drawFullCircleBorders(t,e,r){const{x:o,y:l,startAngle:h,pixelMargin:y,fullCircles:D}=e,O=Math.max(e.outerRadius-y,0),F=e.innerRadius+y;let R;for(r&&clipArc(t,e,h+TAU),t.beginPath(),t.arc(o,l,F,h+TAU,h,!0),R=0;R<D;++R)t.stroke();for(t.beginPath(),t.arc(o,l,O,h,h+TAU),R=0;R<D;++R)t.stroke()}function drawBorder(t,e,r,o,l){const{options:h}=e,{borderWidth:y,borderJoinStyle:D}=h,O=h.borderAlign==="inner";!y||(O?(t.lineWidth=y*2,t.lineJoin=D||"round"):(t.lineWidth=y,t.lineJoin=D||"bevel"),e.fullCircles&&drawFullCircleBorders(t,e,O),O&&clipArc(t,e,l),pathArc(t,e,r,o,l),t.stroke())}class ArcElement extends Element{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,o){const l=this.getProps(["x","y"],o),{angle:h,distance:y}=getAngleFromPoint(l,{x:e,y:r}),{startAngle:D,endAngle:O,innerRadius:F,outerRadius:R,circumference:B}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),j=this.options.spacing/2,q=valueOrDefault(B,O-D)>=TAU||_angleBetween(h,D,O),W=_isBetween(y,F+j,R+j);return q&&W}getCenterPoint(e){const{x:r,y:o,startAngle:l,endAngle:h,innerRadius:y,outerRadius:D}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:O,spacing:F}=this.options,R=(l+h)/2,B=(y+D+F+O)/2;return{x:r+Math.cos(R)*B,y:o+Math.sin(R)*B}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:r,circumference:o}=this,l=(r.offset||0)/2,h=(r.spacing||0)/2;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=o>TAU?Math.floor(o/TAU):0,o===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let y=0;if(l){y=l/2;const O=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(O)*y,Math.sin(O)*y),this.circumference>=PI&&(y=l)}e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor;const D=drawArc(e,this,y,h);drawBorder(e,this,y,h,D),e.restore()}}ArcElement.id="arc";ArcElement.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};ArcElement.defaultRoutes={backgroundColor:"backgroundColor"};function setStyle(t,e,r=e){t.lineCap=valueOrDefault(r.borderCapStyle,e.borderCapStyle),t.setLineDash(valueOrDefault(r.borderDash,e.borderDash)),t.lineDashOffset=valueOrDefault(r.borderDashOffset,e.borderDashOffset),t.lineJoin=valueOrDefault(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=valueOrDefault(r.borderWidth,e.borderWidth),t.strokeStyle=valueOrDefault(r.borderColor,e.borderColor)}function lineTo(t,e,r){t.lineTo(r.x,r.y)}function getLineMethod(t){return t.stepped?_steppedLineTo:t.tension||t.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(t,e,r={}){const o=t.length,{start:l=0,end:h=o-1}=r,{start:y,end:D}=e,O=Math.max(l,y),F=Math.min(h,D),R=l<y&&h<y||l>D&&h>D;return{count:o,start:O,loop:e.loop,ilen:F<O&&!R?o+F-O:F-O}}function pathSegment(t,e,r,o){const{points:l,options:h}=e,{count:y,start:D,loop:O,ilen:F}=pathVars(l,r,o),R=getLineMethod(h);let{move:B=!0,reverse:j}=o||{},U,q,W;for(U=0;U<=F;++U)q=l[(D+(j?F-U:U))%y],!q.skip&&(B?(t.moveTo(q.x,q.y),B=!1):R(t,W,q,j,h.stepped),W=q);return O&&(q=l[(D+(j?F:0))%y],R(t,W,q,j,h.stepped)),!!O}function fastPathSegment(t,e,r,o){const l=e.points,{count:h,start:y,ilen:D}=pathVars(l,r,o),{move:O=!0,reverse:F}=o||{};let R=0,B=0,j,U,q,W,G,Y;const K=J=>(y+(F?D-J:J))%h,X=()=>{W!==G&&(t.lineTo(R,G),t.lineTo(R,W),t.lineTo(R,Y))};for(O&&(U=l[K(0)],t.moveTo(U.x,U.y)),j=0;j<=D;++j){if(U=l[K(j)],U.skip)continue;const J=U.x,Q=U.y,Z=J|0;Z===q?(Q<W?W=Q:Q>G&&(G=Q),R=(B*R+J)/++B):(X(),t.lineTo(J,Q),q=Z,B=0,W=G=Q),Y=Q}X()}function _getSegmentMethod(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?fastPathSegment:pathSegment}function _getInterpolationMethod(t){return t.stepped?_steppedInterpolation:t.tension||t.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(t,e,r,o){let l=e._path;l||(l=e._path=new Path2D,e.path(l,r,o)&&l.closePath()),setStyle(t,e.options),t.stroke(l)}function strokePathDirect(t,e,r,o){const{segments:l,options:h}=e,y=_getSegmentMethod(e);for(const D of l)setStyle(t,h,D.style),t.beginPath(),y(t,e,D,{start:r,end:r+o-1})&&t.closePath(),t.stroke()}const usePath2D=typeof Path2D=="function";function draw(t,e,r,o){usePath2D&&!e.options.segment?strokePathWithCache(t,e,r,o):strokePathDirect(t,e,r,o)}class LineElement extends Element{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const l=o.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,o,e,l,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,o=e.length;return o&&r[e[o-1].end]}interpolate(e,r){const o=this.options,l=e[r],h=this.points,y=_boundSegments(this,{property:r,start:l,end:l});if(!y.length)return;const D=[],O=_getInterpolationMethod(o);let F,R;for(F=0,R=y.length;F<R;++F){const{start:B,end:j}=y[F],U=h[B],q=h[j];if(U===q){D.push(U);continue}const W=Math.abs((l-U[r])/(q[r]-U[r])),G=O(U,q,W,o.stepped);G[r]=e[r],D.push(G)}return D.length===1?D[0]:D}pathSegment(e,r,o){return _getSegmentMethod(this)(e,this,r,o)}path(e,r,o){const l=this.segments,h=_getSegmentMethod(this);let y=this._loop;r=r||0,o=o||this.points.length-r;for(const D of l)y&=h(e,this,D,{start:r,end:r+o-1});return!!y}draw(e,r,o,l){const h=this.options||{};(this.points||[]).length&&h.borderWidth&&(e.save(),draw(e,this,o,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}LineElement.id="line";LineElement.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};LineElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};LineElement.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function inRange$1(t,e,r,o){const l=t.options,{[r]:h}=t.getProps([r],o);return Math.abs(e-h)<l.radius+l.hitRadius}class PointElement extends Element{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,o){const l=this.options,{x:h,y}=this.getProps(["x","y"],o);return Math.pow(e-h,2)+Math.pow(r-y,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(e,r){return inRange$1(this,e,"x",r)}inYRange(e,r){return inRange$1(this,e,"y",r)}getCenterPoint(e){const{x:r,y:o}=this.getProps(["x","y"],e);return{x:r,y:o}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const o=r&&e.borderWidth||0;return(r+o)*2}draw(e,r){const o=this.options;this.skip||o.radius<.1||!_isPointInArea(this,r,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,drawPoint(e,o,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}PointElement.id="point";PointElement.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};PointElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function getBarBounds(t,e){const{x:r,y:o,base:l,width:h,height:y}=t.getProps(["x","y","base","width","height"],e);let D,O,F,R,B;return t.horizontal?(B=y/2,D=Math.min(r,l),O=Math.max(r,l),F=o-B,R=o+B):(B=h/2,D=r-B,O=r+B,F=Math.min(o,l),R=Math.max(o,l)),{left:D,top:F,right:O,bottom:R}}function skipOrLimit(t,e,r,o){return t?0:_limitValue(e,r,o)}function parseBorderWidth(t,e,r){const o=t.options.borderWidth,l=t.borderSkipped,h=toTRBL(o);return{t:skipOrLimit(l.top,h.top,0,r),r:skipOrLimit(l.right,h.right,0,e),b:skipOrLimit(l.bottom,h.bottom,0,r),l:skipOrLimit(l.left,h.left,0,e)}}function parseBorderRadius(t,e,r){const{enableBorderRadius:o}=t.getProps(["enableBorderRadius"]),l=t.options.borderRadius,h=toTRBLCorners(l),y=Math.min(e,r),D=t.borderSkipped,O=o||isObject(l);return{topLeft:skipOrLimit(!O||D.top||D.left,h.topLeft,0,y),topRight:skipOrLimit(!O||D.top||D.right,h.topRight,0,y),bottomLeft:skipOrLimit(!O||D.bottom||D.left,h.bottomLeft,0,y),bottomRight:skipOrLimit(!O||D.bottom||D.right,h.bottomRight,0,y)}}function boundingRects$1(t){const e=getBarBounds(t),r=e.right-e.left,o=e.bottom-e.top,l=parseBorderWidth(t,r/2,o/2),h=parseBorderRadius(t,r/2,o/2);return{outer:{x:e.left,y:e.top,w:r,h:o,radius:h},inner:{x:e.left+l.l,y:e.top+l.t,w:r-l.l-l.r,h:o-l.t-l.b,radius:{topLeft:Math.max(0,h.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,h.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,h.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,h.bottomRight-Math.max(l.b,l.r))}}}}function inRange(t,e,r,o){const l=e===null,h=r===null,D=t&&!(l&&h)&&getBarBounds(t,o);return D&&(l||_isBetween(e,D.left,D.right))&&(h||_isBetween(r,D.top,D.bottom))}function hasRadius(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function addNormalRectPath(t,e){t.rect(e.x,e.y,e.w,e.h)}function inflateRect(t,e,r={}){const o=t.x!==r.x?-e:0,l=t.y!==r.y?-e:0,h=(t.x+t.w!==r.x+r.w?e:0)-o,y=(t.y+t.h!==r.y+r.h?e:0)-l;return{x:t.x+o,y:t.y+l,w:t.w+h,h:t.h+y,radius:t.radius}}class BarElement extends Element{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:o,backgroundColor:l}}=this,{inner:h,outer:y}=boundingRects$1(this),D=hasRadius(y.radius)?addRoundedRectPath:addNormalRectPath;e.save(),(y.w!==h.w||y.h!==h.h)&&(e.beginPath(),D(e,inflateRect(y,r,h)),e.clip(),D(e,inflateRect(h,-r,y)),e.fillStyle=o,e.fill("evenodd")),e.beginPath(),D(e,inflateRect(h,r)),e.fillStyle=l,e.fill(),e.restore()}inRange(e,r,o){return inRange(this,e,r,o)}inXRange(e,r){return inRange(this,e,null,r)}inYRange(e,r){return inRange(this,null,e,r)}getCenterPoint(e){const{x:r,y:o,base:l,horizontal:h}=this.getProps(["x","y","base","horizontal"],e);return{x:h?(r+l)/2:r,y:h?o:(o+l)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}BarElement.id="bar";BarElement.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};BarElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var elements=Object.freeze({__proto__:null,ArcElement,LineElement,PointElement,BarElement});function lttbDecimation(t,e,r,o,l){const h=l.samples||o;if(h>=r)return t.slice(e,e+r);const y=[],D=(r-2)/(h-2);let O=0;const F=e+r-1;let R=e,B,j,U,q,W;for(y[O++]=t[R],B=0;B<h-2;B++){let G=0,Y=0,K;const X=Math.floor((B+1)*D)+1+e,J=Math.min(Math.floor((B+2)*D)+1,r)+e,Q=J-X;for(K=X;K<J;K++)G+=t[K].x,Y+=t[K].y;G/=Q,Y/=Q;const Z=Math.floor(B*D)+1+e,ee=Math.min(Math.floor((B+1)*D)+1,r)+e,{x:ne,y:ie}=t[R];for(U=q=-1,K=Z;K<ee;K++)q=.5*Math.abs((ne-G)*(t[K].y-ie)-(ne-t[K].x)*(Y-ie)),q>U&&(U=q,j=t[K],W=K);y[O++]=j,R=W}return y[O++]=t[F],y}function minMaxDecimation(t,e,r,o){let l=0,h=0,y,D,O,F,R,B,j,U,q,W;const G=[],Y=e+r-1,K=t[e].x,J=t[Y].x-K;for(y=e;y<e+r;++y){D=t[y],O=(D.x-K)/J*o,F=D.y;const Q=O|0;if(Q===R)F<q?(q=F,B=y):F>W&&(W=F,j=y),l=(h*l+D.x)/++h;else{const Z=y-1;if(!isNullOrUndef(B)&&!isNullOrUndef(j)){const ee=Math.min(B,j),ne=Math.max(B,j);ee!==U&&ee!==Z&&G.push(Je(Ye({},t[ee]),{x:l})),ne!==U&&ne!==Z&&G.push(Je(Ye({},t[ne]),{x:l}))}y>0&&Z!==U&&G.push(t[Z]),G.push(D),R=Q,h=0,q=W=F,B=j=U=y}}return G}function cleanDecimatedDataset(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function cleanDecimatedData(t){t.data.datasets.forEach(e=>{cleanDecimatedDataset(e)})}function getStartAndCountOfVisiblePointsSimplified(t,e){const r=e.length;let o=0,l;const{iScale:h}=t,{min:y,max:D,minDefined:O,maxDefined:F}=h.getUserBounds();return O&&(o=_limitValue(_lookupByKey(e,h.axis,y).lo,0,r-1)),F?l=_limitValue(_lookupByKey(e,h.axis,D).hi+1,o,r)-o:l=r-o,{start:o,count:l}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){cleanDecimatedData(t);return}const o=t.width;t.data.datasets.forEach((l,h)=>{const{_data:y,indexAxis:D}=l,O=t.getDatasetMeta(h),F=y||l.data;if(resolve([D,t.options.indexAxis])==="y"||!O.controller.supportsDecimation)return;const R=t.scales[O.xAxisID];if(R.type!=="linear"&&R.type!=="time"||t.options.parsing)return;let{start:B,count:j}=getStartAndCountOfVisiblePointsSimplified(O,F);const U=r.threshold||4*o;if(j<=U){cleanDecimatedDataset(l);return}isNullOrUndef(y)&&(l._data=F,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(W){this._data=W}}));let q;switch(r.algorithm){case"lttb":q=lttbDecimation(F,B,j,o,r);break;case"min-max":q=minMaxDecimation(F,B,j,o);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}l._decimated=q})},destroy(t){cleanDecimatedData(t)}};function _segments(t,e,r){const o=t.segments,l=t.points,h=e.points,y=[];for(const D of o){let{start:O,end:F}=D;F=_findSegmentEnd(O,F,l);const R=_getBounds(r,l[O],l[F],D.loop);if(!e.segments){y.push({source:D,target:R,start:l[O],end:l[F]});continue}const B=_boundSegments(e,R);for(const j of B){const U=_getBounds(r,h[j.start],h[j.end],j.loop),q=_boundSegment(D,l,U);for(const W of q)y.push({source:W,target:j,start:{[r]:_getEdge(R,U,"start",Math.max)},end:{[r]:_getEdge(R,U,"end",Math.min)}})}}return y}function _getBounds(t,e,r,o){if(o)return;let l=e[t],h=r[t];return t==="angle"&&(l=_normalizeAngle(l),h=_normalizeAngle(h)),{property:t,start:l,end:h}}function _pointsFromSegments(t,e){const{x:r=null,y:o=null}=t||{},l=e.points,h=[];return e.segments.forEach(({start:y,end:D})=>{D=_findSegmentEnd(y,D,l);const O=l[y],F=l[D];o!==null?(h.push({x:O.x,y:o}),h.push({x:F.x,y:o})):r!==null&&(h.push({x:r,y:O.y}),h.push({x:r,y:F.y}))}),h}function _findSegmentEnd(t,e,r){for(;e>t;e--){const o=r[e];if(!isNaN(o.x)&&!isNaN(o.y))break}return e}function _getEdge(t,e,r,o){return t&&e?o(t[r],e[r]):t?t[r]:e?e[r]:0}function _createBoundaryLine(t,e){let r=[],o=!1;return isArray(t)?(o=!0,r=t):r=_pointsFromSegments(t,e),r.length?new LineElement({points:r,options:{tension:0},_loop:o,_fullLoop:o}):null}function _resolveTarget(t,e,r){let l=t[e].fill;const h=[e];let y;if(!r)return l;for(;l!==!1&&h.indexOf(l)===-1;){if(!isNumberFinite(l))return l;if(y=t[l],!y)return!1;if(y.visible)return l;h.push(l),l=y.fill}return!1}function _decodeFill(t,e,r){const o=parseFillOption(t);if(isObject(o))return isNaN(o.value)?!1:o;let l=parseFloat(o);return isNumberFinite(l)&&Math.floor(l)===l?decodeTargetIndex(o[0],e,l,r):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function decodeTargetIndex(t,e,r,o){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=o?!1:r}function _getTargetPixel(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:isObject(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function _getTargetValue(t,e,r){let o;return t==="start"?o=r:t==="end"?o=e.options.reverse?e.min:e.max:isObject(t)?o=t.value:o=e.getBaseValue(),o}function parseFillOption(t){const e=t.options,r=e.fill;let o=valueOrDefault(r&&r.target,r);return o===void 0&&(o=!!e.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function _buildStackLine(t){const{scale:e,index:r,line:o}=t,l=[],h=o.segments,y=o.points,D=getLinesBelow(e,r);D.push(_createBoundaryLine({x:null,y:e.bottom},o));for(let O=0;O<h.length;O++){const F=h[O];for(let R=F.start;R<=F.end;R++)addPointsBelow(l,y[R],D)}return new LineElement({points:l,options:{}})}function getLinesBelow(t,e){const r=[],o=t.getMatchingVisibleMetas("line");for(let l=0;l<o.length;l++){const h=o[l];if(h.index===e)break;h.hidden||r.unshift(h.dataset)}return r}function addPointsBelow(t,e,r){const o=[];for(let l=0;l<r.length;l++){const h=r[l],{first:y,last:D,point:O}=findPoint(h,e,"x");if(!(!O||y&&D)){if(y)o.unshift(O);else if(t.push(O),!D)break}}t.push(...o)}function findPoint(t,e,r){const o=t.interpolate(e,r);if(!o)return{};const l=o[r],h=t.segments,y=t.points;let D=!1,O=!1;for(let F=0;F<h.length;F++){const R=h[F],B=y[R.start][r],j=y[R.end][r];if(_isBetween(l,B,j)){D=l===B,O=l===j;break}}return{first:D,last:O,point:o}}class simpleArc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,o){const{x:l,y:h,radius:y}=this;return r=r||{start:0,end:TAU},e.arc(l,h,y,r.end,r.start,!0),!o.bounds}interpolate(e){const{x:r,y:o,radius:l}=this,h=e.angle;return{x:r+Math.cos(h)*l,y:o+Math.sin(h)*l,angle:h}}}function _getTarget(t){const{chart:e,fill:r,line:o}=t;if(isNumberFinite(r))return getLineByIndex(e,r);if(r==="stack")return _buildStackLine(t);if(r==="shape")return!0;const l=computeBoundary(t);return l instanceof simpleArc?l:_createBoundaryLine(l,o)}function getLineByIndex(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function computeBoundary(t){return(t.scale||{}).getPointPositionForValue?computeCircularBoundary(t):computeLinearBoundary(t)}function computeLinearBoundary(t){const{scale:e={},fill:r}=t,o=_getTargetPixel(r,e);if(isNumberFinite(o)){const l=e.isHorizontal();return{x:l?o:null,y:l?null:o}}return null}function computeCircularBoundary(t){const{scale:e,fill:r}=t,o=e.options,l=e.getLabels().length,h=o.reverse?e.max:e.min,y=_getTargetValue(r,e,h),D=[];if(o.grid.circular){const O=e.getPointPositionForValue(0,h);return new simpleArc({x:O.x,y:O.y,radius:e.getDistanceFromCenterForValue(y)})}for(let O=0;O<l;++O)D.push(e.getPointPositionForValue(O,y));return D}function _drawfill(t,e,r){const o=_getTarget(e),{line:l,scale:h,axis:y}=e,D=l.options,O=D.fill,F=D.backgroundColor,{above:R=F,below:B=F}=O||{};o&&l.points.length&&(clipArea(t,r),doFill(t,{line:l,target:o,above:R,below:B,area:r,scale:h,axis:y}),unclipArea(t))}function doFill(t,e){const{line:r,target:o,above:l,below:h,area:y,scale:D}=e,O=r._loop?"angle":e.axis;t.save(),O==="x"&&h!==l&&(clipVertical(t,o,y.top),fill(t,{line:r,target:o,color:l,scale:D,property:O}),t.restore(),t.save(),clipVertical(t,o,y.bottom)),fill(t,{line:r,target:o,color:h,scale:D,property:O}),t.restore()}function clipVertical(t,e,r){const{segments:o,points:l}=e;let h=!0,y=!1;t.beginPath();for(const D of o){const{start:O,end:F}=D,R=l[O],B=l[_findSegmentEnd(O,F,l)];h?(t.moveTo(R.x,R.y),h=!1):(t.lineTo(R.x,r),t.lineTo(R.x,R.y)),y=!!e.pathSegment(t,D,{move:y}),y?t.closePath():t.lineTo(B.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function fill(t,e){const{line:r,target:o,property:l,color:h,scale:y}=e,D=_segments(r,o,l);for(const{source:O,target:F,start:R,end:B}of D){const{style:{backgroundColor:j=h}={}}=O,U=o!==!0;t.save(),t.fillStyle=j,clipBounds(t,y,U&&_getBounds(l,R,B)),t.beginPath();const q=!!r.pathSegment(t,O);let W;if(U){q?t.closePath():interpolatedLineTo(t,o,B,l);const G=!!o.pathSegment(t,F,{move:q,reverse:!0});W=q&&G,W||interpolatedLineTo(t,o,R,l)}t.closePath(),t.fill(W?"evenodd":"nonzero"),t.restore()}}function clipBounds(t,e,r){const{top:o,bottom:l}=e.chart.chartArea,{property:h,start:y,end:D}=r||{};h==="x"&&(t.beginPath(),t.rect(y,o,D-y,l-o),t.clip())}function interpolatedLineTo(t,e,r,o){const l=e.interpolate(r,o);l&&t.lineTo(l.x,l.y)}var index={id:"filler",afterDatasetsUpdate(t,e,r){const o=(t.data.datasets||[]).length,l=[];let h,y,D,O;for(y=0;y<o;++y)h=t.getDatasetMeta(y),D=h.dataset,O=null,D&&D.options&&D instanceof LineElement&&(O={visible:t.isDatasetVisible(y),index:y,fill:_decodeFill(D,y,o),chart:t,axis:h.controller.options.indexAxis,scale:h.vScale,line:D}),h.$filler=O,l.push(O);for(y=0;y<o;++y)O=l[y],!(!O||O.fill===!1)&&(O.fill=_resolveTarget(l,y,r.propagate))},beforeDraw(t,e,r){const o=r.drawTime==="beforeDraw",l=t.getSortedVisibleDatasetMetas(),h=t.chartArea;for(let y=l.length-1;y>=0;--y){const D=l[y].$filler;!D||(D.line.updateControlPoints(h,D.axis),o&&_drawfill(t.ctx,D,h))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const o=t.getSortedVisibleDatasetMetas();for(let l=o.length-1;l>=0;--l){const h=o[l].$filler;h&&_drawfill(t.ctx,h,t.chartArea)}},beforeDatasetDraw(t,e,r){const o=e.meta.$filler;!o||o.fill===!1||r.drawTime!=="beforeDatasetDraw"||_drawfill(t.ctx,o,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(t,e)=>{let{boxHeight:r=e,boxWidth:o=e}=t;return t.usePointStyle&&(r=Math.min(r,e),o=Math.min(o,e)),{boxWidth:o,boxHeight:r,itemHeight:Math.max(e,r)}},itemsEqual=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Legend extends Element{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,o){this.maxWidth=e,this.maxHeight=r,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(o=>e.filter(o,this.chart.data))),e.sort&&(r=r.sort((o,l)=>e.sort(o,l,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,l=toFont(o.font),h=l.size,y=this._computeTitleHeight(),{boxWidth:D,itemHeight:O}=getBoxSize(o,h);let F,R;r.font=l.string,this.isHorizontal()?(F=this.maxWidth,R=this._fitRows(y,h,D,O)+10):(R=this.maxHeight,F=this._fitCols(y,h,D,O)+10),this.width=Math.min(F,e.maxWidth||this.maxWidth),this.height=Math.min(R,e.maxHeight||this.maxHeight)}_fitRows(e,r,o,l){const{ctx:h,maxWidth:y,options:{labels:{padding:D}}}=this,O=this.legendHitBoxes=[],F=this.lineWidths=[0],R=l+D;let B=e;h.textAlign="left",h.textBaseline="middle";let j=-1,U=-R;return this.legendItems.forEach((q,W)=>{const G=o+r/2+h.measureText(q.text).width;(W===0||F[F.length-1]+G+2*D>y)&&(B+=R,F[F.length-(W>0?0:1)]=0,U+=R,j++),O[W]={left:0,top:U,row:j,width:G,height:l},F[F.length-1]+=G+D}),B}_fitCols(e,r,o,l){const{ctx:h,maxHeight:y,options:{labels:{padding:D}}}=this,O=this.legendHitBoxes=[],F=this.columnSizes=[],R=y-e;let B=D,j=0,U=0,q=0,W=0;return this.legendItems.forEach((G,Y)=>{const K=o+r/2+h.measureText(G.text).width;Y>0&&U+l+2*D>R&&(B+=j+D,F.push({width:j,height:U}),q+=j+D,W++,j=U=0),O[Y]={left:q,top:U,col:W,width:K,height:l},j=Math.max(j,K),U+=l+D}),B+=j,F.push({width:j,height:U}),B}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:o,labels:{padding:l},rtl:h}}=this,y=getRtlAdapter(h,this.left,this.width);if(this.isHorizontal()){let D=0,O=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[D]);for(const F of r)D!==F.row&&(D=F.row,O=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[D])),F.top+=this.top+e+l,F.left=y.leftForLtr(y.x(O),F.width),O+=F.width+l}else{let D=0,O=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[D].height);for(const F of r)F.col!==D&&(D=F.col,O=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[D].height)),F.top=O,F.left+=this.left+l,F.left=y.leftForLtr(y.x(F.left),F.width),O+=F.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:o,ctx:l}=this,{align:h,labels:y}=e,D=defaults$1.color,O=getRtlAdapter(e.rtl,this.left,this.width),F=toFont(y.font),{color:R,padding:B}=y,j=F.size,U=j/2;let q;this.drawTitle(),l.textAlign=O.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=F.string;const{boxWidth:W,boxHeight:G,itemHeight:Y}=getBoxSize(y,j),K=function(ee,ne,ie){if(isNaN(W)||W<=0||isNaN(G)||G<0)return;l.save();const re=valueOrDefault(ie.lineWidth,1);if(l.fillStyle=valueOrDefault(ie.fillStyle,D),l.lineCap=valueOrDefault(ie.lineCap,"butt"),l.lineDashOffset=valueOrDefault(ie.lineDashOffset,0),l.lineJoin=valueOrDefault(ie.lineJoin,"miter"),l.lineWidth=re,l.strokeStyle=valueOrDefault(ie.strokeStyle,D),l.setLineDash(valueOrDefault(ie.lineDash,[])),y.usePointStyle){const te={radius:W*Math.SQRT2/2,pointStyle:ie.pointStyle,rotation:ie.rotation,borderWidth:re},se=O.xPlus(ee,W/2),ce=ne+U;drawPoint(l,te,se,ce)}else{const te=ne+Math.max((j-G)/2,0),se=O.leftForLtr(ee,W),ce=toTRBLCorners(ie.borderRadius);l.beginPath(),Object.values(ce).some(de=>de!==0)?addRoundedRectPath(l,{x:se,y:te,w:W,h:G,radius:ce}):l.rect(se,te,W,G),l.fill(),re!==0&&l.stroke()}l.restore()},X=function(ee,ne,ie){renderText(l,ie.text,ee,ne+Y/2,F,{strikethrough:ie.hidden,textAlign:O.textAlign(ie.textAlign)})},J=this.isHorizontal(),Q=this._computeTitleHeight();J?q={x:_alignStartEnd(h,this.left+B,this.right-o[0]),y:this.top+B+Q,line:0}:q={x:this.left+B,y:_alignStartEnd(h,this.top+Q+B,this.bottom-r[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const Z=Y+B;this.legendItems.forEach((ee,ne)=>{l.strokeStyle=ee.fontColor||R,l.fillStyle=ee.fontColor||R;const ie=l.measureText(ee.text).width,re=O.textAlign(ee.textAlign||(ee.textAlign=y.textAlign)),te=W+U+ie;let se=q.x,ce=q.y;O.setWidth(this.width),J?ne>0&&se+te+B>this.right&&(ce=q.y+=Z,q.line++,se=q.x=_alignStartEnd(h,this.left+B,this.right-o[q.line])):ne>0&&ce+Z>this.bottom&&(se=q.x=se+r[q.line].width+B,q.line++,ce=q.y=_alignStartEnd(h,this.top+Q+B,this.bottom-r[q.line].height));const de=O.x(se);K(de,ce,ee),se=_textX(re,se+W+U,J?se+te:this.right,e.rtl),X(O.x(se),ce,ee),J?q.x+=te+B:q.y+=Z}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,o=toFont(r.font),l=toPadding(r.padding);if(!r.display)return;const h=getRtlAdapter(e.rtl,this.left,this.width),y=this.ctx,D=r.position,O=o.size/2,F=l.top+O;let R,B=this.left,j=this.width;if(this.isHorizontal())j=Math.max(...this.lineWidths),R=this.top+F,B=_alignStartEnd(e.align,B,this.right-j);else{const q=this.columnSizes.reduce((W,G)=>Math.max(W,G.height),0);R=F+_alignStartEnd(e.align,this.top,this.bottom-q-e.labels.padding-this._computeTitleHeight())}const U=_alignStartEnd(D,B,B+j);y.textAlign=h.textAlign(_toLeftRightCenter(D)),y.textBaseline="middle",y.strokeStyle=r.color,y.fillStyle=r.color,y.font=o.string,renderText(y,r.text,U,R,o)}_computeTitleHeight(){const e=this.options.title,r=toFont(e.font),o=toPadding(e.padding);return e.display?r.lineHeight+o.height:0}_getLegendItemAt(e,r){let o,l,h;if(_isBetween(e,this.left,this.right)&&_isBetween(r,this.top,this.bottom)){for(h=this.legendHitBoxes,o=0;o<h.length;++o)if(l=h[o],_isBetween(e,l.left,l.left+l.width)&&_isBetween(r,l.top,l.top+l.height))return this.legendItems[o]}return null}handleEvent(e){const r=this.options;if(!isListened(e.type,r))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,h=itemsEqual(l,o);l&&!h&&callback(r.onLeave,[e,l,this],this),this._hoveredItem=o,o&&!h&&callback(r.onHover,[e,o,this],this)}else o&&callback(r.onClick,[e,o,this],this)}}function isListened(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(t,e,r){const o=t.legend=new Legend({ctx:t.ctx,options:r,chart:t});layouts.configure(t,o,r),layouts.addBox(t,o)},stop(t){layouts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const o=t.legend;layouts.configure(t,o,r),o.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const o=e.datasetIndex,l=r.chart;l.isDatasetVisible(o)?(l.hide(o),e.hidden=!0):(l.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:o,textAlign:l,color:h}}=t.legend.options;return t._getSortedDatasetMetas().map(y=>{const D=y.controller.getStyle(r?0:void 0),O=toPadding(D.borderWidth);return{text:e[y.index].label,fillStyle:D.backgroundColor,fontColor:h,hidden:!y.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(O.width+O.height)/4,strokeStyle:D.borderColor,pointStyle:o||D.pointStyle,rotation:D.rotation,textAlign:l||D.textAlign,borderRadius:0,datasetIndex:y.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Title extends Element{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const l=isArray(o.text)?o.text.length:1;this._padding=toPadding(o.padding);const h=l*toFont(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=h:this.width=h}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:o,bottom:l,right:h,options:y}=this,D=y.align;let O=0,F,R,B;return this.isHorizontal()?(R=_alignStartEnd(D,o,h),B=r+e,F=h-o):(y.position==="left"?(R=o+e,B=_alignStartEnd(D,l,r),O=PI*-.5):(R=h-e,B=_alignStartEnd(D,r,l),O=PI*.5),F=l-r),{titleX:R,titleY:B,maxWidth:F,rotation:O}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const o=toFont(r.font),h=o.lineHeight/2+this._padding.top,{titleX:y,titleY:D,maxWidth:O,rotation:F}=this._drawArgs(h);renderText(e,r.text,0,0,o,{color:r.color,maxWidth:O,rotation:F,textAlign:_toLeftRightCenter(r.align),textBaseline:"middle",translation:[y,D]})}}function createTitle(t,e){const r=new Title({ctx:t.ctx,options:e,chart:t});layouts.configure(t,r,e),layouts.addBox(t,r),t.titleBlock=r}var plugin_title={id:"title",_element:Title,start(t,e,r){createTitle(t,r)},stop(t){const e=t.titleBlock;layouts.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const o=t.titleBlock;layouts.configure(t,o,r),o.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(t,e,r){const o=new Title({ctx:t.ctx,options:r,chart:t});layouts.configure(t,o,r),layouts.addBox(t,o),map.set(t,o)},stop(t){layouts.removeBox(t,map.get(t)),map.delete(t)},beforeUpdate(t,e,r){const o=map.get(t);layouts.configure(t,o,r),o.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners$1={average(t){if(!t.length)return!1;let e,r,o=0,l=0,h=0;for(e=0,r=t.length;e<r;++e){const y=t[e].element;if(y&&y.hasValue()){const D=y.tooltipPosition();o+=D.x,l+=D.y,++h}}return{x:o/h,y:l/h}},nearest(t,e){if(!t.length)return!1;let r=e.x,o=e.y,l=Number.POSITIVE_INFINITY,h,y,D;for(h=0,y=t.length;h<y;++h){const O=t[h].element;if(O&&O.hasValue()){const F=O.getCenterPoint(),R=distanceBetweenPoints(e,F);R<l&&(l=R,D=O)}}if(D){const O=D.tooltipPosition();r=O.x,o=O.y}return{x:r,y:o}}};function pushOrConcat(t,e){return e&&(isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function createTooltipItem(t,e){const{element:r,datasetIndex:o,index:l}=e,h=t.getDatasetMeta(o).controller,{label:y,value:D}=h.getLabelAndValue(l);return{chart:t,label:y,parsed:h.getParsed(l),raw:t.data.datasets[o].data[l],formattedValue:D,dataset:h.getDataset(),dataIndex:l,datasetIndex:o,element:r}}function getTooltipSize(t,e){const r=t.chart.ctx,{body:o,footer:l,title:h}=t,{boxWidth:y,boxHeight:D}=e,O=toFont(e.bodyFont),F=toFont(e.titleFont),R=toFont(e.footerFont),B=h.length,j=l.length,U=o.length,q=toPadding(e.padding);let W=q.height,G=0,Y=o.reduce((J,Q)=>J+Q.before.length+Q.lines.length+Q.after.length,0);if(Y+=t.beforeBody.length+t.afterBody.length,B&&(W+=B*F.lineHeight+(B-1)*e.titleSpacing+e.titleMarginBottom),Y){const J=e.displayColors?Math.max(D,O.lineHeight):O.lineHeight;W+=U*J+(Y-U)*O.lineHeight+(Y-1)*e.bodySpacing}j&&(W+=e.footerMarginTop+j*R.lineHeight+(j-1)*e.footerSpacing);let K=0;const X=function(J){G=Math.max(G,r.measureText(J).width+K)};return r.save(),r.font=F.string,each(t.title,X),r.font=O.string,each(t.beforeBody.concat(t.afterBody),X),K=e.displayColors?y+2+e.boxPadding:0,each(o,J=>{each(J.before,X),each(J.lines,X),each(J.after,X)}),K=0,r.font=R.string,each(t.footer,X),r.restore(),G+=q.width,{width:G,height:W}}function determineYAlign(t,e){const{y:r,height:o}=e;return r<o/2?"top":r>t.height-o/2?"bottom":"center"}function doesNotFitWithAlign(t,e,r,o){const{x:l,width:h}=o,y=r.caretSize+r.caretPadding;if(t==="left"&&l+h+y>e.width||t==="right"&&l-h-y<0)return!0}function determineXAlign(t,e,r,o){const{x:l,width:h}=r,{width:y,chartArea:{left:D,right:O}}=t;let F="center";return o==="center"?F=l<=(D+O)/2?"left":"right":l<=h/2?F="left":l>=y-h/2&&(F="right"),doesNotFitWithAlign(F,t,e,r)&&(F="center"),F}function determineAlignment(t,e,r){const o=r.yAlign||e.yAlign||determineYAlign(t,r);return{xAlign:r.xAlign||e.xAlign||determineXAlign(t,e,r,o),yAlign:o}}function alignX(t,e){let{x:r,width:o}=t;return e==="right"?r-=o:e==="center"&&(r-=o/2),r}function alignY(t,e,r){let{y:o,height:l}=t;return e==="top"?o+=r:e==="bottom"?o-=l+r:o-=l/2,o}function getBackgroundPoint(t,e,r,o){const{caretSize:l,caretPadding:h,cornerRadius:y}=t,{xAlign:D,yAlign:O}=r,F=l+h,{topLeft:R,topRight:B,bottomLeft:j,bottomRight:U}=toTRBLCorners(y);let q=alignX(e,D);const W=alignY(e,O,F);return O==="center"?D==="left"?q+=F:D==="right"&&(q-=F):D==="left"?q-=Math.max(R,j)+l:D==="right"&&(q+=Math.max(B,U)+l),{x:_limitValue(q,0,o.width-e.width),y:_limitValue(W,0,o.height-e.height)}}function getAlignedX(t,e,r){const o=toPadding(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-o.right:t.x+o.left}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}function createTooltipContext(t,e,r){return createContext(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function overrideCallbacks(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}class Tooltip extends Element{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&r.options.animation&&o.animations,h=new Animations(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:o}=r,l=o.beforeTitle.apply(this,[e]),h=o.title.apply(this,[e]),y=o.afterTitle.apply(this,[e]);let D=[];return D=pushOrConcat(D,splitNewlines(l)),D=pushOrConcat(D,splitNewlines(h)),D=pushOrConcat(D,splitNewlines(y)),D}getBeforeBody(e,r){return getBeforeAfterBodyLines(r.callbacks.beforeBody.apply(this,[e]))}getBody(e,r){const{callbacks:o}=r,l=[];return each(e,h=>{const y={before:[],lines:[],after:[]},D=overrideCallbacks(o,h);pushOrConcat(y.before,splitNewlines(D.beforeLabel.call(this,h))),pushOrConcat(y.lines,D.label.call(this,h)),pushOrConcat(y.after,splitNewlines(D.afterLabel.call(this,h))),l.push(y)}),l}getAfterBody(e,r){return getBeforeAfterBodyLines(r.callbacks.afterBody.apply(this,[e]))}getFooter(e,r){const{callbacks:o}=r,l=o.beforeFooter.apply(this,[e]),h=o.footer.apply(this,[e]),y=o.afterFooter.apply(this,[e]);let D=[];return D=pushOrConcat(D,splitNewlines(l)),D=pushOrConcat(D,splitNewlines(h)),D=pushOrConcat(D,splitNewlines(y)),D}_createItems(e){const r=this._active,o=this.chart.data,l=[],h=[],y=[];let D=[],O,F;for(O=0,F=r.length;O<F;++O)D.push(createTooltipItem(this.chart,r[O]));return e.filter&&(D=D.filter((R,B,j)=>e.filter(R,B,j,o))),e.itemSort&&(D=D.sort((R,B)=>e.itemSort(R,B,o))),each(D,R=>{const B=overrideCallbacks(e.callbacks,R);l.push(B.labelColor.call(this,R)),h.push(B.labelPointStyle.call(this,R)),y.push(B.labelTextColor.call(this,R))}),this.labelColors=l,this.labelPointStyles=h,this.labelTextColors=y,this.dataPoints=D,D}update(e,r){const o=this.options.setContext(this.getContext()),l=this._active;let h,y=[];if(!l.length)this.opacity!==0&&(h={opacity:0});else{const D=positioners$1[o.position].call(this,l,this._eventPosition);y=this._createItems(o),this.title=this.getTitle(y,o),this.beforeBody=this.getBeforeBody(y,o),this.body=this.getBody(y,o),this.afterBody=this.getAfterBody(y,o),this.footer=this.getFooter(y,o);const O=this._size=getTooltipSize(this,o),F=Object.assign({},D,O),R=determineAlignment(this.chart,o,F),B=getBackgroundPoint(o,F,R,this.chart);this.xAlign=R.xAlign,this.yAlign=R.yAlign,h={opacity:1,x:B.x,y:B.y,width:O.width,height:O.height,caretX:D.x,caretY:D.y}}this._tooltipItems=y,this.$context=void 0,h&&this._resolveAnimations().update(this,h),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,o,l){const h=this.getCaretPosition(e,o,l);r.lineTo(h.x1,h.y1),r.lineTo(h.x2,h.y2),r.lineTo(h.x3,h.y3)}getCaretPosition(e,r,o){const{xAlign:l,yAlign:h}=this,{caretSize:y,cornerRadius:D}=o,{topLeft:O,topRight:F,bottomLeft:R,bottomRight:B}=toTRBLCorners(D),{x:j,y:U}=e,{width:q,height:W}=r;let G,Y,K,X,J,Q;return h==="center"?(J=U+W/2,l==="left"?(G=j,Y=G-y,X=J+y,Q=J-y):(G=j+q,Y=G+y,X=J-y,Q=J+y),K=G):(l==="left"?Y=j+Math.max(O,R)+y:l==="right"?Y=j+q-Math.max(F,B)-y:Y=this.caretX,h==="top"?(X=U,J=X-y,G=Y-y,K=Y+y):(X=U+W,J=X+y,G=Y+y,K=Y-y),Q=X),{x1:G,x2:Y,x3:K,y1:X,y2:J,y3:Q}}drawTitle(e,r,o){const l=this.title,h=l.length;let y,D,O;if(h){const F=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.titleAlign,o),r.textAlign=F.textAlign(o.titleAlign),r.textBaseline="middle",y=toFont(o.titleFont),D=o.titleSpacing,r.fillStyle=o.titleColor,r.font=y.string,O=0;O<h;++O)r.fillText(l[O],F.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+D,O+1===h&&(e.y+=o.titleMarginBottom-D)}}_drawColorBox(e,r,o,l,h){const y=this.labelColors[o],D=this.labelPointStyles[o],{boxHeight:O,boxWidth:F,boxPadding:R}=h,B=toFont(h.bodyFont),j=getAlignedX(this,"left",h),U=l.x(j),q=O<B.lineHeight?(B.lineHeight-O)/2:0,W=r.y+q;if(h.usePointStyle){const G={radius:Math.min(F,O)/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:1},Y=l.leftForLtr(U,F)+F/2,K=W+O/2;e.strokeStyle=h.multiKeyBackground,e.fillStyle=h.multiKeyBackground,drawPoint(e,G,Y,K),e.strokeStyle=y.borderColor,e.fillStyle=y.backgroundColor,drawPoint(e,G,Y,K)}else{e.lineWidth=y.borderWidth||1,e.strokeStyle=y.borderColor,e.setLineDash(y.borderDash||[]),e.lineDashOffset=y.borderDashOffset||0;const G=l.leftForLtr(U,F-R),Y=l.leftForLtr(l.xPlus(U,1),F-R-2),K=toTRBLCorners(y.borderRadius);Object.values(K).some(X=>X!==0)?(e.beginPath(),e.fillStyle=h.multiKeyBackground,addRoundedRectPath(e,{x:G,y:W,w:F,h:O,radius:K}),e.fill(),e.stroke(),e.fillStyle=y.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:Y,y:W+1,w:F-2,h:O-2,radius:K}),e.fill()):(e.fillStyle=h.multiKeyBackground,e.fillRect(G,W,F,O),e.strokeRect(G,W,F,O),e.fillStyle=y.backgroundColor,e.fillRect(Y,W+1,F-2,O-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,r,o){const{body:l}=this,{bodySpacing:h,bodyAlign:y,displayColors:D,boxHeight:O,boxWidth:F,boxPadding:R}=o,B=toFont(o.bodyFont);let j=B.lineHeight,U=0;const q=getRtlAdapter(o.rtl,this.x,this.width),W=function(ne){r.fillText(ne,q.x(e.x+U),e.y+j/2),e.y+=j+h},G=q.textAlign(y);let Y,K,X,J,Q,Z,ee;for(r.textAlign=y,r.textBaseline="middle",r.font=B.string,e.x=getAlignedX(this,G,o),r.fillStyle=o.bodyColor,each(this.beforeBody,W),U=D&&G!=="right"?y==="center"?F/2+R:F+2+R:0,J=0,Z=l.length;J<Z;++J){for(Y=l[J],K=this.labelTextColors[J],r.fillStyle=K,each(Y.before,W),X=Y.lines,D&&X.length&&(this._drawColorBox(r,e,J,q,o),j=Math.max(B.lineHeight,O)),Q=0,ee=X.length;Q<ee;++Q)W(X[Q]),j=B.lineHeight;each(Y.after,W)}U=0,j=B.lineHeight,each(this.afterBody,W),e.y-=h}drawFooter(e,r,o){const l=this.footer,h=l.length;let y,D;if(h){const O=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.footerAlign,o),e.y+=o.footerMarginTop,r.textAlign=O.textAlign(o.footerAlign),r.textBaseline="middle",y=toFont(o.footerFont),r.fillStyle=o.footerColor,r.font=y.string,D=0;D<h;++D)r.fillText(l[D],O.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+o.footerSpacing}}drawBackground(e,r,o,l){const{xAlign:h,yAlign:y}=this,{x:D,y:O}=e,{width:F,height:R}=o,{topLeft:B,topRight:j,bottomLeft:U,bottomRight:q}=toTRBLCorners(l.cornerRadius);r.fillStyle=l.backgroundColor,r.strokeStyle=l.borderColor,r.lineWidth=l.borderWidth,r.beginPath(),r.moveTo(D+B,O),y==="top"&&this.drawCaret(e,r,o,l),r.lineTo(D+F-j,O),r.quadraticCurveTo(D+F,O,D+F,O+j),y==="center"&&h==="right"&&this.drawCaret(e,r,o,l),r.lineTo(D+F,O+R-q),r.quadraticCurveTo(D+F,O+R,D+F-q,O+R),y==="bottom"&&this.drawCaret(e,r,o,l),r.lineTo(D+U,O+R),r.quadraticCurveTo(D,O+R,D,O+R-U),y==="center"&&h==="left"&&this.drawCaret(e,r,o,l),r.lineTo(D,O+B),r.quadraticCurveTo(D,O,D+B,O),r.closePath(),r.fill(),l.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,o=this.$animations,l=o&&o.x,h=o&&o.y;if(l||h){const y=positioners$1[e.position].call(this,this._active,this._eventPosition);if(!y)return;const D=this._size=getTooltipSize(this,e),O=Object.assign({},y,this._size),F=determineAlignment(r,e,O),R=getBackgroundPoint(e,O,F,r);(l._to!==R.x||h._to!==R.y)&&(this.xAlign=F.xAlign,this.yAlign=F.yAlign,this.width=D.width,this.height=D.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,R))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(r);const l={width:this.width,height:this.height},h={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const y=toPadding(r.padding),D=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&D&&(e.save(),e.globalAlpha=o,this.drawBackground(h,e,l,r),overrideTextDirection(e,r.textDirection),h.y+=y.top,this.drawTitle(h,e,r),this.drawBody(h,e,r),this.drawFooter(h,e,r),restoreTextDirection(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const o=this._active,l=e.map(({datasetIndex:D,index:O})=>{const F=this.chart.getDatasetMeta(D);if(!F)throw new Error("Cannot find a dataset at index "+D);return{datasetIndex:D,element:F.data[O],index:O}}),h=!_elementsEqual(o,l),y=this._positionChanged(l,r);(h||y)&&(this._active=l,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,o=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,h=this._active||[],y=this._getActiveElements(e,h,r,o),D=this._positionChanged(y,e),O=r||!_elementsEqual(y,h)||D;return O&&(this._active=y,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),O}_getActiveElements(e,r,o,l){const h=this.options;if(e.type==="mouseout")return[];if(!l)return r;const y=this.chart.getElementsAtEventForMode(e,h.mode,h,o);return h.reverse&&y.reverse(),y}_positionChanged(e,r){const{caretX:o,caretY:l,options:h}=this,y=positioners$1[h.position].call(this,e,r);return y!==!1&&(o!==y.x||l!==y.y)}}Tooltip.positioners=positioners$1;var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners:positioners$1,afterInit(t,e,r){r&&(t.tooltip=new Tooltip({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",r)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:noop$1,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,o=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return r[e.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return isNullOrUndef(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(t,e,r,o)=>(typeof e=="string"?(r=t.push(e)-1,o.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function findOrAddLabel(t,e,r,o){const l=t.indexOf(e);if(l===-1)return addIfString(t,e,r,o);const h=t.lastIndexOf(e);return l!==h?r:l}const validIndex=(t,e)=>t===null?null:_limitValue(Math.round(t),0,e);class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const o=this.getLabels();for(const{index:l,label:h}of r)o[l]===h&&o.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(isNullOrUndef(e))return null;const o=this.getLabels();return r=isFinite(r)&&o[r]===e?r:findOrAddLabel(o,e,valueOrDefault(r,e),this._addedLabels),validIndex(r,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),r||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const e=this.min,r=this.max,o=this.options.offset,l=[];let h=this.getLabels();h=e===0&&r===h.length-1?h:h.slice(e,r+1),this._valueRange=Math.max(h.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let y=e;y<=r;y++)l.push({value:y});return l}getLabelForValue(e){const r=this.getLabels();return e>=0&&e<r.length?r[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}CategoryScale.id="category";CategoryScale.defaults={ticks:{callback:CategoryScale.prototype.getLabelForValue}};function generateTicks$1(t,e){const r=[],{bounds:l,step:h,min:y,max:D,precision:O,count:F,maxTicks:R,maxDigits:B,includeBounds:j}=t,U=h||1,q=R-1,{min:W,max:G}=e,Y=!isNullOrUndef(y),K=!isNullOrUndef(D),X=!isNullOrUndef(F),J=(G-W)/(B+1);let Q=niceNum((G-W)/q/U)*U,Z,ee,ne,ie;if(Q<1e-14&&!Y&&!K)return[{value:W},{value:G}];ie=Math.ceil(G/Q)-Math.floor(W/Q),ie>q&&(Q=niceNum(ie*Q/q/U)*U),isNullOrUndef(O)||(Z=Math.pow(10,O),Q=Math.ceil(Q*Z)/Z),l==="ticks"?(ee=Math.floor(W/Q)*Q,ne=Math.ceil(G/Q)*Q):(ee=W,ne=G),Y&&K&&h&&almostWhole((D-y)/h,Q/1e3)?(ie=Math.round(Math.min((D-y)/Q,R)),Q=(D-y)/ie,ee=y,ne=D):X?(ee=Y?y:ee,ne=K?D:ne,ie=F-1,Q=(ne-ee)/ie):(ie=(ne-ee)/Q,almostEquals(ie,Math.round(ie),Q/1e3)?ie=Math.round(ie):ie=Math.ceil(ie));const re=Math.max(_decimalPlaces(Q),_decimalPlaces(ee));Z=Math.pow(10,isNullOrUndef(O)?re:O),ee=Math.round(ee*Z)/Z,ne=Math.round(ne*Z)/Z;let te=0;for(Y&&(j&&ee!==y?(r.push({value:y}),ee<y&&te++,almostEquals(Math.round((ee+te*Q)*Z)/Z,y,relativeLabelSize(y,J,t))&&te++):ee<y&&te++);te<ie;++te)r.push({value:Math.round((ee+te*Q)*Z)/Z});return K&&j&&ne!==D?r.length&&almostEquals(r[r.length-1].value,D,relativeLabelSize(D,J,t))?r[r.length-1].value=D:r.push({value:D}):(!K||ne===D)&&r.push({value:ne}),r}function relativeLabelSize(t,e,{horizontal:r,minRotation:o}){const l=toRadians(o),h=(r?Math.sin(l):Math.cos(l))||.001,y=.75*e*(""+t).length;return Math.min(e/h,y)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:o}=this.getUserBounds();let{min:l,max:h}=this;const y=O=>l=r?l:O,D=O=>h=o?h:O;if(e){const O=sign(l),F=sign(h);O<0&&F<0?D(0):O>0&&F>0&&y(0)}if(l===h){let O=1;(h>=Number.MAX_SAFE_INTEGER||l<=Number.MIN_SAFE_INTEGER)&&(O=Math.abs(h*.05)),D(h+O),e||y(l-O)}this.min=l,this.max=h}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:o}=e,l;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),r=r||11),r&&(l=Math.min(r,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const l={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},h=this._range||this,y=generateTicks$1(l,h);return e.bounds==="ticks"&&_setMinAndMaxByKey(y,this,"value"),e.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const e=this.ticks;let r=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const l=(o-r)/Math.max(e.length-1,1)/2;r-=l,o+=l}this._startValue=r,this._endValue=o,this._valueRange=o-r}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,o=toRadians(this.options.ticks.minRotation),l=(e?Math.sin(o):Math.cos(o))||.001,h=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,h.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}LinearScale.id="linear";LinearScale.defaults={ticks:{callback:Ticks.formatters.numeric}};function isMajor(t){return t/Math.pow(10,Math.floor(log10(t)))===1}function generateTicks(t,e){const r=Math.floor(log10(e.max)),o=Math.ceil(e.max/Math.pow(10,r)),l=[];let h=finiteOrDefault(t.min,Math.pow(10,Math.floor(log10(e.min)))),y=Math.floor(log10(h)),D=Math.floor(h/Math.pow(10,y)),O=y<0?Math.pow(10,Math.abs(y)):1;do l.push({value:h,major:isMajor(h)}),++D,D===10&&(D=1,++y,O=y>=0?1:O),h=Math.round(D*Math.pow(10,y)*O)/O;while(y<r||y===r&&D<o);const F=finiteOrDefault(t.max,h);return l.push({value:F,major:isMajor(h)}),l}class LogarithmicScale extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const o=LinearScaleBase.prototype.parse.apply(this,[e,r]);if(o===0){this._zero=!0;return}return isNumberFinite(o)&&o>0?o:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=isNumberFinite(e)?Math.max(0,e):null,this.max=isNumberFinite(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let o=this.min,l=this.max;const h=O=>o=e?o:O,y=O=>l=r?l:O,D=(O,F)=>Math.pow(10,Math.floor(log10(O))+F);o===l&&(o<=0?(h(1),y(10)):(h(D(o,-1)),y(D(l,1)))),o<=0&&h(D(l,-1)),l<=0&&y(D(o,1)),this._zero&&this.min!==this._suggestedMin&&o===D(this.min,0)&&h(D(o,-1)),this.min=o,this.max=l}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},o=generateTicks(r,this);return e.bounds==="ticks"&&_setMinAndMaxByKey(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(e){return e===void 0?"0":formatNumber(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=log10(e),this._valueRange=log10(this.max)-log10(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(log10(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}LogarithmicScale.id="logarithmic";LogarithmicScale.defaults={ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}};function getTickBackdropHeight(t){const e=t.ticks;if(e.display&&t.display){const r=toPadding(e.backdropPadding);return valueOrDefault(e.font&&e.font.size,defaults$1.font.size)+r.height}return 0}function measureLabelSize(t,e,r){return r=isArray(r)?r:[r],{w:_longestText(t,e.string,r),h:r.length*e.lineHeight}}function determineLimits(t,e,r,o,l){return t===o||t===l?{start:e-r/2,end:e+r/2}:t<o||t>l?{start:e-r,end:e}:{start:e,end:e+r}}function fitWithPointLabels(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),o=[],l=[],h=t._pointLabels.length,y=t.options.pointLabels,D=y.centerPointLabels?PI/h:0;for(let O=0;O<h;O++){const F=y.setContext(t.getPointLabelContext(O));l[O]=F.padding;const R=t.getPointPosition(O,t.drawingArea+l[O],D),B=toFont(F.font),j=measureLabelSize(t.ctx,B,t._pointLabels[O]);o[O]=j;const U=_normalizeAngle(t.getIndexAngle(O)+D),q=Math.round(toDegrees(U)),W=determineLimits(q,R.x,j.w,0,180),G=determineLimits(q,R.y,j.h,90,270);updateLimits(r,e,U,W,G)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=buildPointLabelItems(t,o,l)}function updateLimits(t,e,r,o,l){const h=Math.abs(Math.sin(r)),y=Math.abs(Math.cos(r));let D=0,O=0;o.start<e.l?(D=(e.l-o.start)/h,t.l=Math.min(t.l,e.l-D)):o.end>e.r&&(D=(o.end-e.r)/h,t.r=Math.max(t.r,e.r+D)),l.start<e.t?(O=(e.t-l.start)/y,t.t=Math.min(t.t,e.t-O)):l.end>e.b&&(O=(l.end-e.b)/y,t.b=Math.max(t.b,e.b+O))}function buildPointLabelItems(t,e,r){const o=[],l=t._pointLabels.length,h=t.options,y=getTickBackdropHeight(h)/2,D=t.drawingArea,O=h.pointLabels.centerPointLabels?PI/l:0;for(let F=0;F<l;F++){const R=t.getPointPosition(F,D+y+r[F],O),B=Math.round(toDegrees(_normalizeAngle(R.angle+HALF_PI))),j=e[F],U=yForAngle(R.y,j.h,B),q=getTextAlignForAngle(B),W=leftForTextAlign(R.x,j.w,q);o.push({x:R.x,y:U,textAlign:q,left:W,top:U,right:W+j.w,bottom:U+j.h})}return o}function getTextAlignForAngle(t){return t===0||t===180?"center":t<180?"left":"right"}function leftForTextAlign(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function yForAngle(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function drawPointLabels(t,e){const{ctx:r,options:{pointLabels:o}}=t;for(let l=e-1;l>=0;l--){const h=o.setContext(t.getPointLabelContext(l)),y=toFont(h.font),{x:D,y:O,textAlign:F,left:R,top:B,right:j,bottom:U}=t._pointLabelItems[l],{backdropColor:q}=h;if(!isNullOrUndef(q)){const W=toTRBLCorners(h.borderRadius),G=toPadding(h.backdropPadding);r.fillStyle=q;const Y=R-G.left,K=B-G.top,X=j-R+G.width,J=U-B+G.height;Object.values(W).some(Q=>Q!==0)?(r.beginPath(),addRoundedRectPath(r,{x:Y,y:K,w:X,h:J,radius:W}),r.fill()):r.fillRect(Y,K,X,J)}renderText(r,t._pointLabels[l],D,O+y.lineHeight/2,y,{color:h.color,textAlign:F,textBaseline:"middle"})}}function pathRadiusLine(t,e,r,o){const{ctx:l}=t;if(r)l.arc(t.xCenter,t.yCenter,e,0,TAU);else{let h=t.getPointPosition(0,e);l.moveTo(h.x,h.y);for(let y=1;y<o;y++)h=t.getPointPosition(y,e),l.lineTo(h.x,h.y)}}function drawRadiusLine(t,e,r,o){const l=t.ctx,h=e.circular,{color:y,lineWidth:D}=e;!h&&!o||!y||!D||r<0||(l.save(),l.strokeStyle=y,l.lineWidth=D,l.setLineDash(e.borderDash),l.lineDashOffset=e.borderDashOffset,l.beginPath(),pathRadiusLine(t,r,h,o),l.closePath(),l.stroke(),l.restore())}function createPointLabelContext(t,e,r){return createContext(t,{label:r,index:e,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=toPadding(getTickBackdropHeight(this.options)/2),r=this.width=this.maxWidth-e.width,o=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+o/2+e.top),this.drawingArea=Math.floor(Math.min(r,o)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=isNumberFinite(e)&&!isNaN(e)?e:0,this.max=isNumberFinite(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(e){LinearScaleBase.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,o)=>{const l=callback(this.options.pointLabels.callback,[r,o],this);return l||l===0?l:""}).filter((r,o)=>this.chart.getDataVisibility(o))}fit(){const e=this.options;e.display&&e.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,o,l){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((o-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,o,l))}getIndexAngle(e){const r=TAU/(this._pointLabels.length||1),o=this.options.startAngle||0;return _normalizeAngle(e*r+toRadians(o))}getDistanceFromCenterForValue(e){if(isNullOrUndef(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(isNullOrUndef(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const o=r[e];return createPointLabelContext(this.getContext(),e,o)}}getPointPosition(e,r,o=0){const l=this.getIndexAngle(e)-HALF_PI+o;return{x:Math.cos(l)*r+this.xCenter,y:Math.sin(l)*r+this.yCenter,angle:l}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:o,right:l,bottom:h}=this._pointLabelItems[e];return{left:r,top:o,right:l,bottom:h}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const o=this.ctx;o.save(),o.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),o.closePath(),o.fillStyle=e,o.fill(),o.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:o,grid:l}=r,h=this._pointLabels.length;let y,D,O;if(r.pointLabels.display&&drawPointLabels(this,h),l.display&&this.ticks.forEach((F,R)=>{if(R!==0){D=this.getDistanceFromCenterForValue(F.value);const B=l.setContext(this.getContext(R-1));drawRadiusLine(this,B,D,h)}}),o.display){for(e.save(),y=h-1;y>=0;y--){const F=o.setContext(this.getPointLabelContext(y)),{color:R,lineWidth:B}=F;!B||!R||(e.lineWidth=B,e.strokeStyle=R,e.setLineDash(F.borderDash),e.lineDashOffset=F.borderDashOffset,D=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),O=this.getPointPosition(y,D),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(O.x,O.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,o=r.ticks;if(!o.display)return;const l=this.getIndexAngle(0);let h,y;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(l),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((D,O)=>{if(O===0&&!r.reverse)return;const F=o.setContext(this.getContext(O)),R=toFont(F.font);if(h=this.getDistanceFromCenterForValue(this.ticks[O].value),F.showLabelBackdrop){e.font=R.string,y=e.measureText(D.label).width,e.fillStyle=F.backdropColor;const B=toPadding(F.backdropPadding);e.fillRect(-y/2-B.left,-h-R.size/2-B.top,y+B.width,R.size+B.height)}renderText(e,D.label,0,-h,R,{color:F.color})}),e.restore()}drawTitle(){}}RadialLinearScale.id="radialLinear";RadialLinearScale.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};RadialLinearScale.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};RadialLinearScale.descriptors={angleLines:{_fallback:"grid"}};const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(t,e){return t-e}function parse$1(t,e){if(isNullOrUndef(e))return null;const r=t._adapter,{parser:o,round:l,isoWeekday:h}=t._parseOpts;let y=e;return typeof o=="function"&&(y=o(y)),isNumberFinite(y)||(y=typeof o=="string"?r.parse(y,o):r.parse(y)),y===null?null:(l&&(y=l==="week"&&(isNumber(h)||h===!0)?r.startOf(y,"isoWeek",h):r.startOf(y,l)),+y)}function determineUnitForAutoTicks(t,e,r,o){const l=UNITS.length;for(let h=UNITS.indexOf(t);h<l-1;++h){const y=INTERVALS[UNITS[h]],D=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((r-e)/(D*y.size))<=o)return UNITS[h]}return UNITS[l-1]}function determineUnitForFormatting(t,e,r,o,l){for(let h=UNITS.length-1;h>=UNITS.indexOf(r);h--){const y=UNITS[h];if(INTERVALS[y].common&&t._adapter.diff(l,o,y)>=e-1)return y}return UNITS[r?UNITS.indexOf(r):0]}function determineMajorUnit(t){for(let e=UNITS.indexOf(t)+1,r=UNITS.length;e<r;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:o,hi:l}=_lookup(r,e),h=r[o]>=e?r[o]:r[l];t[h]=!0}}function setMajorTicks(t,e,r,o){const l=t._adapter,h=+l.startOf(e[0].value,o),y=e[e.length-1].value;let D,O;for(D=h;D<=y;D=+l.add(D,1,o))O=r[D],O>=0&&(e[O].major=!0);return e}function ticksFromTimestamps(t,e,r){const o=[],l={},h=e.length;let y,D;for(y=0;y<h;++y)D=e[y],l[D]=y,o.push({value:D,major:!1});return h===0||!r?o:setMajorTicks(t,o,l,r)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r){const o=e.time||(e.time={}),l=this._adapter=new adapters._date(e.adapters.date);mergeIf(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:parse$1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,o=e.time.unit||"day";let{min:l,max:h,minDefined:y,maxDefined:D}=this.getUserBounds();function O(F){!y&&!isNaN(F.min)&&(l=Math.min(l,F.min)),!D&&!isNaN(F.max)&&(h=Math.max(h,F.max))}(!y||!D)&&(O(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&O(this.getMinMax(!1))),l=isNumberFinite(l)&&!isNaN(l)?l:+r.startOf(Date.now(),o),h=isNumberFinite(h)&&!isNaN(h)?h:+r.endOf(Date.now(),o)+1,this.min=Math.min(l,h-1),this.max=Math.max(l+1,h)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],o=e[e.length-1]),{min:r,max:o}}buildTicks(){const e=this.options,r=e.time,o=e.ticks,l=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const h=this.min,y=this.max,D=_filterBetween(l,h,y);return this._unit=r.unit||(o.autoSkip?determineUnitForAutoTicks(r.minUnit,this.min,this.max,this._getLabelCapacity(h)):determineUnitForFormatting(this,D.length,r.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(l),e.reverse&&D.reverse(),ticksFromTimestamps(this,D,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let r=0,o=0,l,h;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?r=1-l:r=(this.getDecimalForValue(e[1])-l)/2,h=this.getDecimalForValue(e[e.length-1]),e.length===1?o=h:o=(h-this.getDecimalForValue(e[e.length-2]))/2);const y=e.length<3?.5:.25;r=_limitValue(r,0,y),o=_limitValue(o,0,y),this._offsets={start:r,end:o,factor:1/(r+1+o)}}_generate(){const e=this._adapter,r=this.min,o=this.max,l=this.options,h=l.time,y=h.unit||determineUnitForAutoTicks(h.minUnit,r,o,this._getLabelCapacity(r)),D=valueOrDefault(h.stepSize,1),O=y==="week"?h.isoWeekday:!1,F=isNumber(O)||O===!0,R={};let B=r,j,U;if(F&&(B=+e.startOf(B,"isoWeek",O)),B=+e.startOf(B,F?"day":y),e.diff(o,r,y)>1e5*D)throw new Error(r+" and "+o+" are too far apart with stepSize of "+D+" "+y);const q=l.ticks.source==="data"&&this.getDataTimestamps();for(j=B,U=0;j<o;j=+e.add(j,D,y),U++)addTick(R,j,q);return(j===o||l.bounds==="ticks"||U===1)&&addTick(R,j,q),Object.keys(R).sort((W,G)=>W-G).map(W=>+W)}getLabelForValue(e){const r=this._adapter,o=this.options.time;return o.tooltipFormat?r.format(e,o.tooltipFormat):r.format(e,o.displayFormats.datetime)}_tickFormatFunction(e,r,o,l){const h=this.options,y=h.time.displayFormats,D=this._unit,O=this._majorUnit,F=D&&y[D],R=O&&y[O],B=o[r],j=O&&R&&B&&B.major,U=this._adapter.format(e,l||(j?R:F)),q=h.ticks.callback;return q?callback(q,[U,r,o],this):U}generateTickLabels(e){let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r],l.label=this._tickFormatFunction(l.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+o)*r.factor)}getValueForPixel(e){const r=this._offsets,o=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,o=this.ctx.measureText(e).width,l=toRadians(this.isHorizontal()?r.maxRotation:r.minRotation),h=Math.cos(l),y=Math.sin(l),D=this._resolveTickFontOptions(0).size;return{w:o*h+D*y,h:o*y+D*h}}_getLabelCapacity(e){const r=this.options.time,o=r.displayFormats,l=o[r.unit]||o.millisecond,h=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),l),y=this._getLabelSize(h),D=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return D>0?D:1}getDataTimestamps(){let e=this._cache.data||[],r,o;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(r=0,o=l.length;r<o;++r)e=e.concat(l[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,o;if(e.length)return e;const l=this.getLabels();for(r=0,o=l.length;r<o;++r)e.push(parse$1(this,l[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}TimeScale.id="time";TimeScale.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function interpolate(t,e,r){let o=0,l=t.length-1,h,y,D,O;r?(e>=t[o].pos&&e<=t[l].pos&&({lo:o,hi:l}=_lookupByKey(t,"pos",e)),{pos:h,time:D}=t[o],{pos:y,time:O}=t[l]):(e>=t[o].time&&e<=t[l].time&&({lo:o,hi:l}=_lookupByKey(t,"time",e)),{time:h,pos:D}=t[o],{time:y,pos:O}=t[l]);const F=y-h;return F?D+(O-D)*(e-h)/F:D}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=interpolate(r,this.min),this._tableRange=interpolate(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:o}=this,l=[],h=[];let y,D,O,F,R;for(y=0,D=e.length;y<D;++y)F=e[y],F>=r&&F<=o&&l.push(F);if(l.length<2)return[{time:r,pos:0},{time:o,pos:1}];for(y=0,D=l.length;y<D;++y)R=l[y+1],O=l[y-1],F=l[y],Math.round((R+O)/2)!==F&&h.push({time:F,pos:y/(D-1)});return h}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),o=this.getLabelTimestamps();return r.length&&o.length?e=this.normalize(r.concat(o)):e=r.length?r:o,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,o=this.getDecimalForPixel(e)/r.factor-r.end;return interpolate(this._table,o*this._tableRange+this._minPos,!0)}}TimeSeriesScale.id="timeseries";TimeSeriesScale.defaults=TimeScale.defaults;var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];Chart.register(...registerables);/*!
 * chartjs-plugin-datalabels v2.0.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2021 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var devicePixelRatio=function(){if(typeof window!="undefined"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),utils={toTextLines:function(t){var e=[],r;for(t=[].concat(t);t.length;)r=t.pop(),typeof r=="string"?e.unshift.apply(e,r.split(`
`)):Array.isArray(r)?t.push.apply(t,r):isNullOrUndef(t)||e.unshift(""+r);return e},textSize:function(t,e,r){var o=[].concat(e),l=o.length,h=t.font,y=0,D;for(t.font=r.string,D=0;D<l;++D)y=Math.max(t.measureText(o[D]).width,y);return t.font=h,{height:l*r.lineHeight,width:y}},bound:function(t,e,r){return Math.max(t,Math.min(e,r))},arrayDiff:function(t,e){var r=t.slice(),o=[],l,h,y,D;for(l=0,y=e.length;l<y;++l)D=e[l],h=r.indexOf(D),h===-1?o.push([D,1]):r.splice(h,1);for(l=0,y=r.length;l<y;++l)o.push([r[l],-1]);return o},rasterize:function(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}};function orient(t,e){var r=e.x,o=e.y;if(r===null)return{x:0,y:-1};if(o===null)return{x:1,y:0};var l=t.x-r,h=t.y-o,y=Math.sqrt(l*l+h*h);return{x:y?l/y:0,y:y?h/y:-1}}function aligned(t,e,r,o,l){switch(l){case"center":r=o=0;break;case"bottom":r=0,o=1;break;case"right":r=1,o=0;break;case"left":r=-1,o=0;break;case"top":r=0,o=-1;break;case"start":r=-r,o=-o;break;case"end":break;default:l*=Math.PI/180,r=Math.cos(l),o=Math.sin(l);break}return{x:t,y:e,vx:r,vy:o}}var R_INSIDE=0,R_LEFT=1,R_RIGHT=2,R_BOTTOM=4,R_TOP=8;function region(t,e,r){var o=R_INSIDE;return t<r.left?o|=R_LEFT:t>r.right&&(o|=R_RIGHT),e<r.top?o|=R_TOP:e>r.bottom&&(o|=R_BOTTOM),o}function clipped(t,e){for(var r=t.x0,o=t.y0,l=t.x1,h=t.y1,y=region(r,o,e),D=region(l,h,e),O,F,R;!(!(y|D)||y&D);)O=y||D,O&R_TOP?(F=r+(l-r)*(e.top-o)/(h-o),R=e.top):O&R_BOTTOM?(F=r+(l-r)*(e.bottom-o)/(h-o),R=e.bottom):O&R_RIGHT?(R=o+(h-o)*(e.right-r)/(l-r),F=e.right):O&R_LEFT&&(R=o+(h-o)*(e.left-r)/(l-r),F=e.left),O===y?(r=F,o=R,y=region(r,o,e)):(l=F,h=R,D=region(l,h,e));return{x0:r,x1:l,y0:o,y1:h}}function compute$1(t,e){var r=e.anchor,o=t,l,h;return e.clamp&&(o=clipped(o,e.area)),r==="start"?(l=o.x0,h=o.y0):r==="end"?(l=o.x1,h=o.y1):(l=(o.x0+o.x1)/2,h=(o.y0+o.y1)/2),aligned(l,h,t.vx,t.vy,e.align)}var positioners={arc:function(t,e){var r=(t.startAngle+t.endAngle)/2,o=Math.cos(r),l=Math.sin(r),h=t.innerRadius,y=t.outerRadius;return compute$1({x0:t.x+o*h,y0:t.y+l*h,x1:t.x+o*y,y1:t.y+l*y,vx:o,vy:l},e)},point:function(t,e){var r=orient(t,e.origin),o=r.x*t.options.radius,l=r.y*t.options.radius;return compute$1({x0:t.x-o,y0:t.y-l,x1:t.x+o,y1:t.y+l,vx:r.x,vy:r.y},e)},bar:function(t,e){var r=orient(t,e.origin),o=t.x,l=t.y,h=0,y=0;return t.horizontal?(o=Math.min(t.x,t.base),h=Math.abs(t.base-t.x)):(l=Math.min(t.y,t.base),y=Math.abs(t.base-t.y)),compute$1({x0:o,y0:l+y,x1:o+h,y1:l,vx:r.x,vy:r.y},e)},fallback:function(t,e){var r=orient(t,e.origin);return compute$1({x0:t.x,y0:t.y,x1:t.x,y1:t.y,vx:r.x,vy:r.y},e)}},rasterize=utils.rasterize;function boundingRects(t){var e=t.borderWidth||0,r=t.padding,o=t.size.height,l=t.size.width,h=-l/2,y=-o/2;return{frame:{x:h-r.left-e,y:y-r.top-e,w:l+r.width+e*2,h:o+r.height+e*2},text:{x:h,y,w:l,h:o}}}function getScaleOrigin(t,e){var r=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!r)return null;if(r.xCenter!==void 0&&r.yCenter!==void 0)return{x:r.xCenter,y:r.yCenter};var o=r.getBasePixel();return t.horizontal?{x:o,y:null}:{x:null,y:o}}function getPositioner(t){return t instanceof ArcElement?positioners.arc:t instanceof PointElement?positioners.point:t instanceof BarElement?positioners.bar:positioners.fallback}function drawRoundedRect(t,e,r,o,l,h){var y=Math.PI/2;if(h){var D=Math.min(h,l/2,o/2),O=e+D,F=r+D,R=e+o-D,B=r+l-D;t.moveTo(e,F),O<R&&F<B?(t.arc(O,F,D,-Math.PI,-y),t.arc(R,F,D,-y,0),t.arc(R,B,D,0,y),t.arc(O,B,D,y,Math.PI)):O<R?(t.moveTo(O,r),t.arc(R,F,D,-y,y),t.arc(O,F,D,y,Math.PI+y)):F<B?(t.arc(O,F,D,-Math.PI,0),t.arc(O,B,D,0,Math.PI)):t.arc(O,F,D,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,r)}else t.rect(e,r,o,l)}function drawFrame(t,e,r){var o=r.backgroundColor,l=r.borderColor,h=r.borderWidth;!o&&(!l||!h)||(t.beginPath(),drawRoundedRect(t,rasterize(e.x)+h/2,rasterize(e.y)+h/2,rasterize(e.w)-h,rasterize(e.h)-h,r.borderRadius),t.closePath(),o&&(t.fillStyle=o,t.fill()),l&&h&&(t.strokeStyle=l,t.lineWidth=h,t.lineJoin="miter",t.stroke()))}function textGeometry(t,e,r){var o=r.lineHeight,l=t.w,h=t.x,y=t.y+o/2;return e==="center"?h+=l/2:(e==="end"||e==="right")&&(h+=l),{h:o,w:l,x:h,y}}function drawTextLine(t,e,r){var o=t.shadowBlur,l=r.stroked,h=rasterize(r.x),y=rasterize(r.y),D=rasterize(r.w);l&&t.strokeText(e,h,y,D),r.filled&&(o&&l&&(t.shadowBlur=0),t.fillText(e,h,y,D),o&&l&&(t.shadowBlur=o))}function drawText(t,e,r,o){var l=o.textAlign,h=o.color,y=!!h,D=o.font,O=e.length,F=o.textStrokeColor,R=o.textStrokeWidth,B=F&&R,j;if(!(!O||!y&&!B))for(r=textGeometry(r,l,D),t.font=D.string,t.textAlign=l,t.textBaseline="middle",t.shadowBlur=o.textShadowBlur,t.shadowColor=o.textShadowColor,y&&(t.fillStyle=h),B&&(t.lineJoin="round",t.lineWidth=R,t.strokeStyle=F),j=0,O=e.length;j<O;++j)drawTextLine(t,e[j],{stroked:B,filled:y,w:r.w,x:r.x,y:r.y+r.h*j})}var Label=function(t,e,r,o){var l=this;l._config=t,l._index=o,l._model=null,l._rects=null,l._ctx=e,l._el=r};merge(Label.prototype,{_modelize:function(t,e,r,o){var l=this,h=l._index,y=toFont(resolve([r.font,{}],o,h)),D=resolve([r.color,defaults$1.color],o,h);return{align:resolve([r.align,"center"],o,h),anchor:resolve([r.anchor,"center"],o,h),area:o.chart.chartArea,backgroundColor:resolve([r.backgroundColor,null],o,h),borderColor:resolve([r.borderColor,null],o,h),borderRadius:resolve([r.borderRadius,0],o,h),borderWidth:resolve([r.borderWidth,0],o,h),clamp:resolve([r.clamp,!1],o,h),clip:resolve([r.clip,!1],o,h),color:D,display:t,font:y,lines:e,offset:resolve([r.offset,0],o,h),opacity:resolve([r.opacity,1],o,h),origin:getScaleOrigin(l._el,o),padding:toPadding(resolve([r.padding,0],o,h)),positioner:getPositioner(l._el),rotation:resolve([r.rotation,0],o,h)*(Math.PI/180),size:utils.textSize(l._ctx,e,y),textAlign:resolve([r.textAlign,"start"],o,h),textShadowBlur:resolve([r.textShadowBlur,0],o,h),textShadowColor:resolve([r.textShadowColor,D],o,h),textStrokeColor:resolve([r.textStrokeColor,D],o,h),textStrokeWidth:resolve([r.textStrokeWidth,0],o,h)}},update:function(t){var e=this,r=null,o=null,l=e._index,h=e._config,y,D,O,F=resolve([h.display,!0],t,l);F&&(y=t.dataset.data[l],D=valueOrDefault(callback(h.formatter,[y,t]),y),O=isNullOrUndef(D)?[]:utils.toTextLines(D),O.length&&(r=e._modelize(F,O,h,t),o=boundingRects(r))),e._model=r,e._rects=o},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var r=this,o=t.ctx,l=r._model,h=r._rects,y;!this.visible()||(o.save(),l.clip&&(y=l.area,o.beginPath(),o.rect(y.left,y.top,y.right-y.left,y.bottom-y.top),o.clip()),o.globalAlpha=utils.bound(0,l.opacity,1),o.translate(rasterize(e.x),rasterize(e.y)),o.rotate(l.rotation),drawFrame(o,h.frame,l),drawText(o,l.lines,h.text,l),o.restore())}});var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated(t,e,r){var o=Math.cos(r),l=Math.sin(r),h=e.x,y=e.y;return{x:h+o*(t.x-h)-l*(t.y-y),y:y+l*(t.x-h)+o*(t.y-y)}}function projected(t,e){var r=MAX_INTEGER,o=MIN_INTEGER,l=e.origin,h,y,D,O,F;for(h=0;h<t.length;++h)y=t[h],D=y.x-l.x,O=y.y-l.y,F=e.vx*D+e.vy*O,r=Math.min(r,F),o=Math.max(o,F);return{min:r,max:o}}function toAxis(t,e){var r=e.x-t.x,o=e.y-t.y,l=Math.sqrt(r*r+o*o);return{vx:(e.x-t.x)/l,vy:(e.y-t.y)/l,origin:t,ln:l}}var HitBox=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};merge(HitBox.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,r){this._rotation=r,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,r=1,o=e._rect;return t=rotated(t,e.center(),-e._rotation),!(t.x<o.x-r||t.y<o.y-r||t.x>o.x+o.w+r*2||t.y>o.y+o.h+r*2)},intersects:function(t){var e=this._points(),r=t._points(),o=[toAxis(e[0],e[1]),toAxis(e[0],e[3])],l,h,y;for(this._rotation!==t._rotation&&o.push(toAxis(r[0],r[1]),toAxis(r[0],r[3])),l=0;l<o.length;++l)if(h=projected(e,o[l]),y=projected(r,o[l]),h.max<y.min||y.max<h.min)return!1;return!0},_points:function(){var t=this,e=t._rect,r=t._rotation,o=t.center();return[rotated({x:e.x,y:e.y},o,r),rotated({x:e.x+e.w,y:e.y},o,r),rotated({x:e.x+e.w,y:e.y+e.h},o,r),rotated({x:e.x,y:e.y+e.h},o,r)]}});function coordinates(t,e,r){var o=e.positioner(t,e),l=o.vx,h=o.vy;if(!l&&!h)return{x:o.x,y:o.y};var y=r.w,D=r.h,O=e.rotation,F=Math.abs(y/2*Math.cos(O))+Math.abs(D/2*Math.sin(O)),R=Math.abs(y/2*Math.sin(O))+Math.abs(D/2*Math.cos(O)),B=1/Math.max(Math.abs(l),Math.abs(h));return F*=l*B,R*=h*B,F+=e.offset*l,R+=e.offset*h,{x:o.x+F,y:o.y+R}}function collide(t,e){var r,o,l,h;for(r=t.length-1;r>=0;--r)for(l=t[r].$layout,o=r-1;o>=0&&l._visible;--o)h=t[o].$layout,h._visible&&l._box.intersects(h._box)&&e(l,h);return t}function compute(t){var e,r,o,l,h,y,D;for(e=0,r=t.length;e<r;++e)o=t[e],l=o.$layout,l._visible&&(D=new Proxy(o._el,{get:(O,F)=>O.getProps([F],!0)[F]}),h=o.geometry(),y=coordinates(D,o.model(),h),l._box.update(y,h,o.rotation()));return collide(t,function(O,F){var R=O._hidable,B=F._hidable;R&&B||B?F._visible=!1:R&&(O._visible=!1)})}var layout={prepare:function(t){var e=[],r,o,l,h,y;for(r=0,l=t.length;r<l;++r)for(o=0,h=t[r].length;o<h;++o)y=t[r][o],e.push(y),y.$layout={_box:new HitBox,_hidable:!1,_visible:!0,_set:r,_idx:o};return e.sort(function(D,O){var F=D.$layout,R=O.$layout;return F._idx===R._idx?R._set-F._set:R._idx-F._idx}),this.update(e),e},update:function(t){var e=!1,r,o,l,h,y;for(r=0,o=t.length;r<o;++r)l=t[r],h=l.model(),y=l.$layout,y._hidable=h&&h.display==="auto",y._visible=l.visible(),e|=y._hidable;e&&compute(t)},lookup:function(t,e){var r,o;for(r=t.length-1;r>=0;--r)if(o=t[r].$layout,o&&o._visible&&o._box.contains(e))return t[r];return null},draw:function(t,e){var r,o,l,h,y,D;for(r=0,o=e.length;r<o;++r)l=e[r],h=l.$layout,h._visible&&(y=l.geometry(),D=coordinates(l._el,l.model(),y),h._box.update(D,y,l.rotation()),l.draw(t,D))}},formatter=function(t){if(isNullOrUndef(t))return null;var e=t,r,o,l;if(isObject(t))if(!isNullOrUndef(t.label))e=t.label;else if(!isNullOrUndef(t.r))e=t.r;else for(e="",r=Object.keys(t),l=0,o=r.length;l<o;++l)e+=(l!==0?", ":"")+r[l]+": "+t[r[l]];return""+e},defaults={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},EXPANDO_KEY="$datalabels",DEFAULT_KEY="$default";function configure(t,e){var r=t.datalabels,o={},l=[],h,y;return r===!1?null:(r===!0&&(r={}),e=merge({},[e,r]),h=e.labels||{},y=Object.keys(h),delete e.labels,y.length?y.forEach(function(D){h[D]&&l.push(merge({},[e,h[D],{_key:D}]))}):l.push(e),o=l.reduce(function(D,O){return each(O.listeners||{},function(F,R){D[R]=D[R]||{},D[R][O._key||DEFAULT_KEY]=F}),delete O.listeners,D},{}),{labels:l,listeners:o})}function dispatchEvent(t,e,r){if(!!e){var o=r.$context,l=r.$groups,h;!e[l._set]||(h=e[l._set][l._key],!!h&&callback(h,[o])===!0&&(t[EXPANDO_KEY]._dirty=!0,r.update(o)))}}function dispatchMoveEvents(t,e,r,o){var l,h;!r&&!o||(r?o?r!==o&&(h=l=!0):h=!0:l=!0,h&&dispatchEvent(t,e.leave,r),l&&dispatchEvent(t,e.enter,o))}function handleMoveEvents(t,e){var r=t[EXPANDO_KEY],o=r._listeners,l,h;if(!(!o.enter&&!o.leave)){if(e.type==="mousemove")h=layout.lookup(r._labels,e);else if(e.type!=="mouseout")return;l=r._hovered,r._hovered=h,dispatchMoveEvents(t,o,l,h)}}function handleClickEvents(t,e){var r=t[EXPANDO_KEY],o=r._listeners.click,l=o&&layout.lookup(r._labels,e);l&&dispatchEvent(t,o,l)}var plugin$1={id:"datalabels",defaults,beforeInit:function(t){t[EXPANDO_KEY]={_actives:[]}},beforeUpdate:function(t){var e=t[EXPANDO_KEY];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,r){var o=e.index,l=t[EXPANDO_KEY],h=l._datasets[o]=[],y=t.isDatasetVisible(o),D=t.data.datasets[o],O=configure(D,r),F=e.meta.data||[],R=t.ctx,B,j,U,q,W,G,Y,K;for(R.save(),B=0,U=F.length;B<U;++B)if(Y=F[B],Y[EXPANDO_KEY]=[],y&&Y&&t.getDataVisibility(B)&&!Y.skip)for(j=0,q=O.labels.length;j<q;++j)W=O.labels[j],G=W._key,K=new Label(W,R,Y,B),K.$groups={_set:o,_key:G||DEFAULT_KEY},K.$context={active:!1,chart:t,dataIndex:B,dataset:D,datasetIndex:o},K.update(K.$context),Y[EXPANDO_KEY].push(K),h.push(K);R.restore(),merge(l._listeners,O.listeners,{merger:function(X,J,Q){J[X]=J[X]||{},J[X][e.index]=Q[X],l._listened=!0}})},afterUpdate:function(t,e){t[EXPANDO_KEY]._labels=layout.prepare(t[EXPANDO_KEY]._datasets,e)},afterDatasetsDraw:function(t){layout.draw(t,t[EXPANDO_KEY]._labels)},beforeEvent:function(t,e){if(t[EXPANDO_KEY]._listened){var r=e.event;switch(r.type){case"mousemove":case"mouseout":handleMoveEvents(t,r);break;case"click":handleClickEvents(t,r);break}}},afterEvent:function(t){var e=t[EXPANDO_KEY],r=e._actives,o=e._actives=t.getActiveElements(),l=utils.arrayDiff(r,o),h,y,D,O,F,R,B;for(h=0,y=l.length;h<y;++h)if(F=l[h],F[1])for(B=F[0].element[EXPANDO_KEY]||[],D=0,O=B.length;D<O;++D)R=B[D],R.$context.active=F[1]===1,R.update(R.$context);(e._dirty||l.length)&&(layout.update(e._labels),t.render()),delete e._dirty}},noop={value:function(){}};function dispatch$1(){for(var t=0,e=arguments.length,r={},o;t<e;++t){if(!(o=arguments[t]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new Dispatch(r)}function Dispatch(t){this._=t}function parseTypenames(t,e){return t.trim().split(/^|\s+/).map(function(r){var o="",l=r.indexOf(".");if(l>=0&&(o=r.slice(l+1),r=r.slice(0,l)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}Dispatch.prototype=dispatch$1.prototype={constructor:Dispatch,on:function(t,e){var r=this._,o=parseTypenames(t+"",r),l,h=-1,y=o.length;if(arguments.length<2){for(;++h<y;)if((l=(t=o[h]).type)&&(l=get(r[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++h<y;)if(l=(t=o[h]).type)r[l]=set(r[l],t.name,e);else if(e==null)for(l in r)r[l]=set(r[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new Dispatch(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var r=new Array(l),o=0,l,h;o<l;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(h=this._[t],o=0,l=h.length;o<l;++o)h[o].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],l=0,h=o.length;l<h;++l)o[l].value.apply(e,r)}};function get(t,e){for(var r=0,o=t.length,l;r<o;++r)if((l=t[r]).name===e)return l.value}function set(t,e,r){for(var o=0,l=t.length;o<l;++o)if(t[o].name===e){t[o]=noop,t=t.slice(0,o).concat(t.slice(o+1));break}return r!=null&&t.push({name:e,value:r}),t}var src=Object.freeze(Object.defineProperty({__proto__:null,dispatch:dispatch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(src),dispatch=require$$0.dispatch,cloudRadians=Math.PI/180,cw=1<<11>>5,ch=1<<11,d3Cloud=function(){var t=[256,256],e=cloudText,r=cloudFont,o=cloudFontSize,l=cloudFontNormal,h=cloudFontNormal,y=cloudRotate,D=cloudPadding,O=archimedeanSpiral,F=[],R=1/0,B=dispatch("word","end"),j=null,U=Math.random,q={},W=cloudCanvas;q.canvas=function(K){return arguments.length?(W=functor(K),q):W},q.start=function(){var K=G(W()),X=zeroArray((t[0]>>5)*t[1]),J=null,Q=F.length,Z=-1,ee=[],ne=F.map(function(re,te){return re.text=e.call(this,re,te),re.font=r.call(this,re,te),re.style=l.call(this,re,te),re.weight=h.call(this,re,te),re.rotate=y.call(this,re,te),re.size=~~o.call(this,re,te),re.padding=D.call(this,re,te),re}).sort(function(re,te){return te.size-re.size});return j&&clearInterval(j),j=setInterval(ie,0),ie(),q;function ie(){for(var re=Date.now();Date.now()-re<R&&++Z<Q&&j;){var te=ne[Z];te.x=t[0]*(U()+.5)>>1,te.y=t[1]*(U()+.5)>>1,cloudSprite(K,te,ne,Z),te.hasText&&Y(X,te,J)&&(ee.push(te),B.call("word",q,te),J?cloudBounds(J,te):J=[{x:te.x+te.x0,y:te.y+te.y0},{x:te.x+te.x1,y:te.y+te.y1}],te.x-=t[0]>>1,te.y-=t[1]>>1)}Z>=Q&&(q.stop(),B.call("end",q,ee,J))}},q.stop=function(){return j&&(clearInterval(j),j=null),q};function G(K){K.width=K.height=1;var X=Math.sqrt(K.getContext("2d").getImageData(0,0,1,1).data.length>>2);K.width=(cw<<5)/X,K.height=ch/X;var J=K.getContext("2d");return J.fillStyle=J.strokeStyle="red",J.textAlign="center",{context:J,ratio:X}}function Y(K,X,J){t[0],t[1];for(var Q=X.x,Z=X.y,ee=Math.sqrt(t[0]*t[0]+t[1]*t[1]),ne=O(t),ie=U()<.5?1:-1,re=-ie,te,se,ce;(te=ne(re+=ie))&&(se=~~te[0],ce=~~te[1],!(Math.min(Math.abs(se),Math.abs(ce))>=ee));)if(X.x=Q+se,X.y=Z+ce,!(X.x+X.x0<0||X.y+X.y0<0||X.x+X.x1>t[0]||X.y+X.y1>t[1])&&(!J||!cloudCollide(X,K,t[0]))&&(!J||collideRects(X,J))){for(var de=X.sprite,ue=X.width>>5,he=t[0]>>5,oe=X.x-(ue<<4),ae=oe&127,le=32-ae,fe=X.y1-X.y0,we=(X.y+X.y0)*he+(oe>>5),me,ge=0;ge<fe;ge++){me=0;for(var Se=0;Se<=ue;Se++)K[we+Se]|=me<<le|(Se<ue?(me=de[ge*ue+Se])>>>ae:0);we+=he}return delete X.sprite,!0}return!1}return q.timeInterval=function(K){return arguments.length?(R=K==null?1/0:K,q):R},q.words=function(K){return arguments.length?(F=K,q):F},q.size=function(K){return arguments.length?(t=[+K[0],+K[1]],q):t},q.font=function(K){return arguments.length?(r=functor(K),q):r},q.fontStyle=function(K){return arguments.length?(l=functor(K),q):l},q.fontWeight=function(K){return arguments.length?(h=functor(K),q):h},q.rotate=function(K){return arguments.length?(y=functor(K),q):y},q.text=function(K){return arguments.length?(e=functor(K),q):e},q.spiral=function(K){return arguments.length?(O=spirals[K]||K,q):O},q.fontSize=function(K){return arguments.length?(o=functor(K),q):o},q.padding=function(K){return arguments.length?(D=functor(K),q):D},q.random=function(K){return arguments.length?(U=K,q):U},q.on=function(){var K=B.on.apply(B,arguments);return K===B?q:K},q};function cloudText(t){return t.text}function cloudFont(){return"serif"}function cloudFontNormal(){return"normal"}function cloudFontSize(t){return Math.sqrt(t.value)}function cloudRotate(){return(~~(Math.random()*6)-3)*30}function cloudPadding(){return 1}function cloudSprite(t,e,r,o){if(!e.sprite){var l=t.context,h=t.ratio;l.clearRect(0,0,(cw<<5)/h,ch/h);var y=0,D=0,O=0,F=r.length;for(--o;++o<F;){e=r[o],l.save(),l.font=e.style+" "+e.weight+" "+~~((e.size+1)/h)+"px "+e.font;var R=l.measureText(e.text+"m").width*h,B=e.size<<1;if(e.rotate){var j=Math.sin(e.rotate*cloudRadians),U=Math.cos(e.rotate*cloudRadians),q=R*U,W=R*j,G=B*U,Y=B*j;R=Math.max(Math.abs(q+Y),Math.abs(q-Y))+31>>5<<5,B=~~Math.max(Math.abs(W+G),Math.abs(W-G))}else R=R+31>>5<<5;if(B>O&&(O=B),y+R>=cw<<5&&(y=0,D+=O,O=0),D+B>=ch)break;l.translate((y+(R>>1))/h,(D+(B>>1))/h),e.rotate&&l.rotate(e.rotate*cloudRadians),l.fillText(e.text,0,0),e.padding&&(l.lineWidth=2*e.padding,l.strokeText(e.text,0,0)),l.restore(),e.width=R,e.height=B,e.xoff=y,e.yoff=D,e.x1=R>>1,e.y1=B>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,y+=R}for(var K=l.getImageData(0,0,(cw<<5)/h,ch/h).data,X=[];--o>=0;)if(e=r[o],!!e.hasText){for(var R=e.width,J=R>>5,B=e.y1-e.y0,Q=0;Q<B*J;Q++)X[Q]=0;if(y=e.xoff,y==null)return;D=e.yoff;for(var Z=0,ee=-1,ne=0;ne<B;ne++){for(var Q=0;Q<R;Q++){var ie=J*ne+(Q>>5),re=K[(D+ne)*(cw<<5)+(y+Q)<<2]?1<<31-Q%32:0;X[ie]|=re,Z|=re}Z?ee=ne:(e.y0++,B--,ne--,D++)}e.y1=e.y0+ee,e.sprite=X.slice(0,(e.y1-e.y0)*J)}}}function cloudCollide(t,e,r){r>>=5;for(var o=t.sprite,l=t.width>>5,h=t.x-(l<<4),y=h&127,D=32-y,O=t.y1-t.y0,F=(t.y+t.y0)*r+(h>>5),R,B=0;B<O;B++){R=0;for(var j=0;j<=l;j++)if((R<<D|(j<l?(R=o[B*l+j])>>>y:0))&e[F+j])return!0;F+=r}return!1}function cloudBounds(t,e){var r=t[0],o=t[1];e.x+e.x0<r.x&&(r.x=e.x+e.x0),e.y+e.y0<r.y&&(r.y=e.y+e.y0),e.x+e.x1>o.x&&(o.x=e.x+e.x1),e.y+e.y1>o.y&&(o.y=e.y+e.y1)}function collideRects(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function archimedeanSpiral(t){var e=t[0]/t[1];return function(r){return[e*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function rectangularSpiral(t){var e=4,r=e*t[0]/t[1],o=0,l=0;return function(h){var y=h<0?-1:1;switch(Math.sqrt(1+4*y*h)-y&3){case 0:o+=r;break;case 1:l+=e;break;case 2:o-=r;break;default:l-=e;break}return[o,l]}}function zeroArray(t){for(var e=[],r=-1;++r<t;)e[r]=0;return e}function cloudCanvas(){return document.createElement("canvas")}function functor(t){return typeof t=="function"?t:function(){return t}}var spirals={archimedean:archimedeanSpiral,rectangular:rectangularSpiral};class WordElement extends Element{static computeRotation(e,r){if(e.rotationSteps<=1)return 0;if(e.minRotation===e.maxRotation)return e.minRotation;const o=Math.min(e.rotationSteps,Math.floor(r()*e.rotationSteps))/(e.rotationSteps-1),l=e.maxRotation-e.minRotation;return e.minRotation+o*l}inRange(e,r){const o=this.getProps(["x","y","width","height","scale"]);if(o.scale<=0)return!1;const l=Number.isNaN(e)?o.x:e,h=Number.isNaN(r)?o.y:r;return l>=o.x-o.width/2&&l<=o.x+o.width/2&&h>=o.y-o.height/2&&h<=o.y+o.height/2}inXRange(e){return this.inRange(e,Number.NaN)}inYRange(e){return this.inRange(Number.NaN,e)}getCenterPoint(){return this.getProps(["x","y"])}tooltipPosition(){return this.getCenterPoint()}draw(e){const{options:r}=this,o=this.getProps(["x","y","width","height","text","scale"]);if(o.scale<=0)return;e.save();const l=toFont(Je(Ye({},r),{size:r.size*o.scale}));e.font=l.string,e.fillStyle=r.color,e.textAlign="center",e.translate(o.x,o.y),e.rotate(r.rotate/180*Math.PI),r.strokeStyle&&(e.strokeStyle=r.strokeStyle,e.strokeText(o.text,0,0)),e.fillText(o.text,0,0),e.restore()}}WordElement.id="word";WordElement.defaults={minRotation:-90,maxRotation:0,rotationSteps:2,padding:1,strokeStyle:void 0,size:t=>t.parsed.y,hoverColor:"#ababab"};WordElement.defaultRoutes={color:"color",family:"font.family",style:"font.style",weight:"font.weight",lineHeight:"font.lineHeight"};function patchController(t,e,r,o=[],l=[]){registry.addControllers(r),Array.isArray(o)?registry.addElements(...o):registry.addElements(o),Array.isArray(l)?registry.addScales(...l):registry.addScales(l);const h=e;return h.type=t,h}function rnd(t=Date.now()){let e=typeof t=="number"?t:Array.from(t).reduce((r,o)=>r+o.charCodeAt(0),0);return()=>(e=(e*9301+49297)%233280,e/233280)}class WordCloudController extends DatasetController{constructor(){super(...arguments),this.wordLayout=d3Cloud().text(e=>e.text).padding(e=>e.options.padding).rotate(e=>e.options.rotate).font(e=>e.options.family).fontSize(e=>e.options.size).fontStyle(e=>e.options.style).fontWeight(e=>{var r;return(r=e.options.weight)!==null&&r!==void 0?r:1}),this.rand=Math.random}update(e){super.update(e),this.rand=rnd(this.chart.id);const o=this._cachedMeta.data||[];this.updateElements(o,0,o.length,e)}updateElements(e,r,o,l){var h,y,D,O;this.wordLayout.stop();const F=this._cachedMeta.xScale,R=this._cachedMeta.yScale,B=F.right-F.left,j=R.bottom-R.top,U=this.chart.data.labels,q=[];for(let G=r;G<r+o;G+=1){const Y=this.resolveDataElementOptions(G,l);Y.rotate==null&&(Y.rotate=WordElement.computeRotation(Y,this.rand));const K={options:Ye(Ye({},toFont(Y)),Y),x:(y=(h=this._cachedMeta.xScale)===null||h===void 0?void 0:h.getPixelForDecimal(.5))!==null&&y!==void 0?y:0,y:(O=(D=this._cachedMeta.yScale)===null||D===void 0?void 0:D.getPixelForDecimal(.5))!==null&&O!==void 0?O:0,width:10,height:10,scale:1,index:G,text:U[G]};q.push(K)}if(l==="reset"){q.forEach(G=>{this.updateElement(e[G.index],G.index,G,l)});return}this.wordLayout.random(this.rand).words(q);const W=(G=1,Y=3)=>{this.wordLayout.size([B*G,j*G]).on("end",(K,X)=>{if(K.length<U.length){if(Y>0){W(G*1.2,Y-1);return}console.warn("cannot fit all text elements in three tries")}const J=X[1].x-X[0].x,Q=X[1].y-X[0].y,ee=this.options.fit?Math.min(B/J,j/Q):1,ne=new Set(U.map((ie,re)=>re));K.forEach(ie=>{ne.delete(ie.index),this.updateElement(e[ie.index],ie.index,{options:ie.options,scale:ee,x:F.left+ee*ie.x+B/2,y:R.top+ee*ie.y+j/2,width:ee*ie.width,height:ee*ie.height,text:ie.text},l)}),ne.forEach(ie=>this.updateElement(e[ie],ie,{scale:0},l))}).start()};W()}draw(){const e=this._cachedMeta.data,{ctx:r}=this.chart;e.forEach(o=>o.draw(r))}getLabelAndValue(e){const r=super.getLabelAndValue(e),o=this.chart.data.labels;return r.label=o[e],r}}WordCloudController.id="wordCloud";WordCloudController.defaults={datasets:{fit:!0,animation:{colors:{properties:["color","strokeStyle"]},numbers:{properties:["x","y","size","rotate"]}}},maintainAspectRatio:!1,dataElementType:WordElement.id};WordCloudController.overrides={scales:{x:{type:"linear",min:-1,max:1,display:!1},y:{type:"linear",min:-1,max:1,display:!1}}};class WordCloudChart extends Chart{constructor(e,r){super(e,patchController("wordCloud",r,WordCloudController,WordElement))}}WordCloudChart.id=WordCloudController.id;function toInteger(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function requiredArgs(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function toDate(t){requiredArgs(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function addDays(t,e){requiredArgs(2,arguments);var r=toDate(t),o=toInteger(e);return isNaN(o)?new Date(NaN):(o&&r.setDate(r.getDate()+o),r)}function addMonths(t,e){requiredArgs(2,arguments);var r=toDate(t),o=toInteger(e);if(isNaN(o))return new Date(NaN);if(!o)return r;var l=r.getDate(),h=new Date(r.getTime());h.setMonth(r.getMonth()+o+1,0);var y=h.getDate();return l>=y?h:(r.setFullYear(h.getFullYear(),h.getMonth(),l),r)}function addMilliseconds(t,e){requiredArgs(2,arguments);var r=toDate(t).getTime(),o=toInteger(e);return new Date(r+o)}var MILLISECONDS_IN_HOUR$1=36e5;function addHours(t,e){requiredArgs(2,arguments);var r=toInteger(e);return addMilliseconds(t,r*MILLISECONDS_IN_HOUR$1)}function startOfWeek(t,e){requiredArgs(1,arguments);var r=e||{},o=r.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=r.weekStartsOn==null?h:toInteger(r.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(t),O=D.getDay(),F=(O<y?7:0)+O-y;return D.setDate(D.getDate()-F),D.setHours(0,0,0,0),D}function getTimezoneOffsetInMilliseconds(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function startOfDay(t){requiredArgs(1,arguments);var e=toDate(t);return e.setHours(0,0,0,0),e}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(t,e){requiredArgs(2,arguments);var r=startOfDay(t),o=startOfDay(e),l=r.getTime()-getTimezoneOffsetInMilliseconds(r),h=o.getTime()-getTimezoneOffsetInMilliseconds(o);return Math.round((l-h)/MILLISECONDS_IN_DAY$1)}var MILLISECONDS_IN_MINUTE$1=6e4;function addMinutes(t,e){requiredArgs(2,arguments);var r=toInteger(e);return addMilliseconds(t,r*MILLISECONDS_IN_MINUTE$1)}function addQuarters(t,e){requiredArgs(2,arguments);var r=toInteger(e),o=r*3;return addMonths(t,o)}function addSeconds(t,e){requiredArgs(2,arguments);var r=toInteger(e);return addMilliseconds(t,r*1e3)}function addWeeks(t,e){requiredArgs(2,arguments);var r=toInteger(e),o=r*7;return addDays(t,o)}function addYears(t,e){requiredArgs(2,arguments);var r=toInteger(e);return addMonths(t,r*12)}function compareAsc(t,e){requiredArgs(2,arguments);var r=toDate(t),o=toDate(e),l=r.getTime()-o.getTime();return l<0?-1:l>0?1:l}var millisecondsInMinute=6e4,millisecondsInHour=36e5;function isDate(t){return requiredArgs(1,arguments),t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function isValid(t){if(requiredArgs(1,arguments),!isDate(t)&&typeof t!="number")return!1;var e=toDate(t);return!isNaN(Number(e))}function differenceInCalendarMonths(t,e){requiredArgs(2,arguments);var r=toDate(t),o=toDate(e),l=r.getFullYear()-o.getFullYear(),h=r.getMonth()-o.getMonth();return l*12+h}function differenceInCalendarYears(t,e){requiredArgs(2,arguments);var r=toDate(t),o=toDate(e);return r.getFullYear()-o.getFullYear()}function compareLocalAsc(t,e){var r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function differenceInDays(t,e){requiredArgs(2,arguments);var r=toDate(t),o=toDate(e),l=compareLocalAsc(r,o),h=Math.abs(differenceInCalendarDays(r,o));r.setDate(r.getDate()-l*h);var y=Number(compareLocalAsc(r,o)===-l),D=l*(h-y);return D===0?0:D}function differenceInMilliseconds(t,e){return requiredArgs(2,arguments),toDate(t).getTime()-toDate(e).getTime()}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},defaultRoundingMethod="trunc";function getRoundingMethod(t){return t?roundingMap[t]:roundingMap[defaultRoundingMethod]}function differenceInHours(t,e,r){requiredArgs(2,arguments);var o=differenceInMilliseconds(t,e)/millisecondsInHour;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInMinutes(t,e,r){requiredArgs(2,arguments);var o=differenceInMilliseconds(t,e)/millisecondsInMinute;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function endOfDay(t){requiredArgs(1,arguments);var e=toDate(t);return e.setHours(23,59,59,999),e}function endOfMonth(t){requiredArgs(1,arguments);var e=toDate(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function isLastDayOfMonth(t){requiredArgs(1,arguments);var e=toDate(t);return endOfDay(e).getTime()===endOfMonth(e).getTime()}function differenceInMonths(t,e){requiredArgs(2,arguments);var r=toDate(t),o=toDate(e),l=compareAsc(r,o),h=Math.abs(differenceInCalendarMonths(r,o)),y;if(h<1)y=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-l*h);var D=compareAsc(r,o)===-l;isLastDayOfMonth(toDate(t))&&h===1&&compareAsc(t,o)===1&&(D=!1),y=l*(h-Number(D))}return y===0?0:y}function differenceInQuarters(t,e,r){requiredArgs(2,arguments);var o=differenceInMonths(t,e)/3;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInSeconds(t,e,r){requiredArgs(2,arguments);var o=differenceInMilliseconds(t,e)/1e3;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInWeeks(t,e,r){requiredArgs(2,arguments);var o=differenceInDays(t,e)/7;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInYears(t,e){requiredArgs(2,arguments);var r=toDate(t),o=toDate(e),l=compareAsc(r,o),h=Math.abs(differenceInCalendarYears(r,o));r.setFullYear(1584),o.setFullYear(1584);var y=compareAsc(r,o)===-l,D=l*(h-Number(y));return D===0?0:D}function startOfMinute(t){requiredArgs(1,arguments);var e=toDate(t);return e.setSeconds(0,0),e}function startOfQuarter(t){requiredArgs(1,arguments);var e=toDate(t),r=e.getMonth(),o=r-r%3;return e.setMonth(o,1),e.setHours(0,0,0,0),e}function startOfMonth(t){requiredArgs(1,arguments);var e=toDate(t);return e.setDate(1),e.setHours(0,0,0,0),e}function startOfYear(t){requiredArgs(1,arguments);var e=toDate(t),r=new Date(0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function endOfYear(t){requiredArgs(1,arguments);var e=toDate(t),r=e.getFullYear();return e.setFullYear(r+1,0,0),e.setHours(23,59,59,999),e}function endOfHour(t){requiredArgs(1,arguments);var e=toDate(t);return e.setMinutes(59,59,999),e}function endOfWeek(t,e){requiredArgs(1,arguments);var r=e||{},o=r.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=r.weekStartsOn==null?h:toInteger(r.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(t),O=D.getDay(),F=(O<y?-7:0)+6-(O-y);return D.setDate(D.getDate()+F),D.setHours(23,59,59,999),D}function endOfMinute(t){requiredArgs(1,arguments);var e=toDate(t);return e.setSeconds(59,999),e}function endOfQuarter(t){requiredArgs(1,arguments);var e=toDate(t),r=e.getMonth(),o=r-r%3+3;return e.setMonth(o,0),e.setHours(23,59,59,999),e}function endOfSecond(t){requiredArgs(1,arguments);var e=toDate(t);return e.setMilliseconds(999),e}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(t,e,r){var o,l=formatDistanceLocale[t];return typeof l=="string"?o=l:e===1?o=l.one:o=l.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o},formatDistance$1=formatDistance;function buildFormatLongFn(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,o=t.formats[r]||t.formats[t.defaultWidth];return o}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(t,e,r,o){return formatRelativeLocale[t]},formatRelative$1=formatRelative;function buildLocalizeFn(t){return function(e,r){var o=r||{},l=o.context?String(o.context):"standalone",h;if(l==="formatting"&&t.formattingValues){var y=t.defaultFormattingWidth||t.defaultWidth,D=o.width?String(o.width):y;h=t.formattingValues[D]||t.formattingValues[y]}else{var O=t.defaultWidth,F=o.width?String(o.width):t.defaultWidth;h=t.values[F]||t.values[O]}var R=t.argumentCallback?t.argumentCallback(e):e;return h[R]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(t,e){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize;function buildMatchFn(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.width,l=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],h=e.match(l);if(!h)return null;var y=h[0],D=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],O=Array.isArray(D)?findIndex(D,function(B){return B.test(y)}):findKey(D,function(B){return B.test(y)}),F;F=t.valueCallback?t.valueCallback(O):O,F=r.valueCallback?r.valueCallback(F):F;var R=e.slice(y.length);return{value:F,rest:R}}}function findKey(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function findIndex(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function buildMatchPatternFn(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.match(t.matchPattern);if(!o)return null;var l=o[0],h=e.match(t.parsePattern);if(!h)return null;var y=t.valueCallback?t.valueCallback(h[0]):h[0];y=r.valueCallback?r.valueCallback(y):y;var D=e.slice(l.length);return{value:y,rest:D}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(t){return parseInt(t,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;function subMilliseconds(t,e){requiredArgs(2,arguments);var r=toInteger(e);return addMilliseconds(t,-r)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(t){requiredArgs(1,arguments);var e=toDate(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var o=e.getTime(),l=r-o;return Math.floor(l/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(t){requiredArgs(1,arguments);var e=1,r=toDate(t),o=r.getUTCDay(),l=(o<e?7:0)+o-e;return r.setUTCDate(r.getUTCDate()-l),r.setUTCHours(0,0,0,0),r}function getUTCISOWeekYear(t){requiredArgs(1,arguments);var e=toDate(t),r=e.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(r+1,0,4),o.setUTCHours(0,0,0,0);var l=startOfUTCISOWeek(o),h=new Date(0);h.setUTCFullYear(r,0,4),h.setUTCHours(0,0,0,0);var y=startOfUTCISOWeek(h);return e.getTime()>=l.getTime()?r+1:e.getTime()>=y.getTime()?r:r-1}function startOfUTCISOWeekYear(t){requiredArgs(1,arguments);var e=getUTCISOWeekYear(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var o=startOfUTCISOWeek(r);return o}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(t){requiredArgs(1,arguments);var e=toDate(t),r=startOfUTCISOWeek(e).getTime()-startOfUTCISOWeekYear(e).getTime();return Math.round(r/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(t,e){requiredArgs(1,arguments);var r=e||{},o=r.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=r.weekStartsOn==null?h:toInteger(r.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(t),O=D.getUTCDay(),F=(O<y?7:0)+O-y;return D.setUTCDate(D.getUTCDate()-F),D.setUTCHours(0,0,0,0),D}function getUTCWeekYear(t,e){requiredArgs(1,arguments);var r=toDate(t),o=r.getUTCFullYear(),l=e||{},h=l.locale,y=h&&h.options&&h.options.firstWeekContainsDate,D=y==null?1:toInteger(y),O=l.firstWeekContainsDate==null?D:toInteger(l.firstWeekContainsDate);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=new Date(0);F.setUTCFullYear(o+1,0,O),F.setUTCHours(0,0,0,0);var R=startOfUTCWeek(F,e),B=new Date(0);B.setUTCFullYear(o,0,O),B.setUTCHours(0,0,0,0);var j=startOfUTCWeek(B,e);return r.getTime()>=R.getTime()?o+1:r.getTime()>=j.getTime()?o:o-1}function startOfUTCWeekYear(t,e){requiredArgs(1,arguments);var r=e||{},o=r.locale,l=o&&o.options&&o.options.firstWeekContainsDate,h=l==null?1:toInteger(l),y=r.firstWeekContainsDate==null?h:toInteger(r.firstWeekContainsDate),D=getUTCWeekYear(t,e),O=new Date(0);O.setUTCFullYear(D,0,y),O.setUTCHours(0,0,0,0);var F=startOfUTCWeek(O,e);return F}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(t,e){requiredArgs(1,arguments);var r=toDate(t),o=startOfUTCWeek(r,e).getTime()-startOfUTCWeekYear(r,e).getTime();return Math.round(o/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(t,e){for(var r=t<0?"-":"",o=Math.abs(t).toString();o.length<e;)o="0"+o;return r+o}var formatters$2={y:function(t,e){var r=t.getUTCFullYear(),o=r>0?r:1-r;return addLeadingZeros(e==="yy"?o%100:o,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):addLeadingZeros(r+1,2)},d:function(t,e){return addLeadingZeros(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return addLeadingZeros(t.getUTCHours()%12||12,e.length)},H:function(t,e){return addLeadingZeros(t.getUTCHours(),e.length)},m:function(t,e){return addLeadingZeros(t.getUTCMinutes(),e.length)},s:function(t,e){return addLeadingZeros(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,o=t.getUTCMilliseconds(),l=Math.floor(o*Math.pow(10,r-3));return addLeadingZeros(l,e.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(t,e,r){var o=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var o=t.getUTCFullYear(),l=o>0?o:1-o;return r.ordinalNumber(l,{unit:"year"})}return formatters$3.y(t,e)},Y:function(t,e,r,o){var l=getUTCWeekYear(t,o),h=l>0?l:1-l;if(e==="YY"){var y=h%100;return addLeadingZeros(y,2)}return e==="Yo"?r.ordinalNumber(h,{unit:"year"}):addLeadingZeros(h,e.length)},R:function(t,e){var r=getUTCISOWeekYear(t);return addLeadingZeros(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return addLeadingZeros(r,e.length)},Q:function(t,e,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(o);case"QQ":return addLeadingZeros(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,e,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(o);case"qq":return addLeadingZeros(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,e,r){var o=t.getUTCMonth();switch(e){case"M":case"MM":return formatters$3.M(t,e);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,e,r){var o=t.getUTCMonth();switch(e){case"L":return String(o+1);case"LL":return addLeadingZeros(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,e,r,o){var l=getUTCWeek(t,o);return e==="wo"?r.ordinalNumber(l,{unit:"week"}):addLeadingZeros(l,e.length)},I:function(t,e,r){var o=getUTCISOWeek(t);return e==="Io"?r.ordinalNumber(o,{unit:"week"}):addLeadingZeros(o,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):formatters$3.d(t,e)},D:function(t,e,r){var o=getUTCDayOfYear(t);return e==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):addLeadingZeros(o,e.length)},E:function(t,e,r){var o=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,e,r,o){var l=t.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(e){case"e":return String(h);case"ee":return addLeadingZeros(h,2);case"eo":return r.ordinalNumber(h,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(t,e,r,o){var l=t.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(e){case"c":return String(h);case"cc":return addLeadingZeros(h,e.length);case"co":return r.ordinalNumber(h,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(t,e,r){var o=t.getUTCDay(),l=o===0?7:o;switch(e){case"i":return String(l);case"ii":return addLeadingZeros(l,e.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,e,r){var o=t.getUTCHours(),l=o/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(t,e,r){var o=t.getUTCHours(),l;switch(o===12?l=dayPeriodEnum.noon:o===0?l=dayPeriodEnum.midnight:l=o/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(t,e,r){var o=t.getUTCHours(),l;switch(o>=17?l=dayPeriodEnum.evening:o>=12?l=dayPeriodEnum.afternoon:o>=4?l=dayPeriodEnum.morning:l=dayPeriodEnum.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return formatters$3.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):formatters$3.H(t,e)},K:function(t,e,r){var o=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,e.length)},k:function(t,e,r){var o=t.getUTCHours();return o===0&&(o=24),e==="ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):formatters$3.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):formatters$3.s(t,e)},S:function(t,e){return formatters$3.S(t,e)},X:function(t,e,r,o){var l=o._originalDate||t,h=l.getTimezoneOffset();if(h===0)return"Z";switch(e){case"X":return formatTimezoneWithOptionalMinutes(h);case"XXXX":case"XX":return formatTimezone(h);case"XXXXX":case"XXX":default:return formatTimezone(h,":")}},x:function(t,e,r,o){var l=o._originalDate||t,h=l.getTimezoneOffset();switch(e){case"x":return formatTimezoneWithOptionalMinutes(h);case"xxxx":case"xx":return formatTimezone(h);case"xxxxx":case"xxx":default:return formatTimezone(h,":")}},O:function(t,e,r,o){var l=o._originalDate||t,h=l.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(h,":");case"OOOO":default:return"GMT"+formatTimezone(h,":")}},z:function(t,e,r,o){var l=o._originalDate||t,h=l.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(h,":");case"zzzz":default:return"GMT"+formatTimezone(h,":")}},t:function(t,e,r,o){var l=o._originalDate||t,h=Math.floor(l.getTime()/1e3);return addLeadingZeros(h,e.length)},T:function(t,e,r,o){var l=o._originalDate||t,h=l.getTime();return addLeadingZeros(h,e.length)}};function formatTimezoneShort(t,e){var r=t>0?"-":"+",o=Math.abs(t),l=Math.floor(o/60),h=o%60;if(h===0)return r+String(l);var y=e||"";return r+String(l)+y+addLeadingZeros(h,2)}function formatTimezoneWithOptionalMinutes(t,e){if(t%60===0){var r=t>0?"-":"+";return r+addLeadingZeros(Math.abs(t)/60,2)}return formatTimezone(t,e)}function formatTimezone(t,e){var r=e||"",o=t>0?"-":"+",l=Math.abs(t),h=addLeadingZeros(Math.floor(l/60),2),y=addLeadingZeros(l%60,2);return o+h+r+y}var formatters$1=formatters;function dateLongFormatter(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function timeLongFormatter(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function dateTimeLongFormatter(t,e){var r=t.match(/(P+)(p+)?/)||[],o=r[1],l=r[2];if(!l)return dateLongFormatter(t,e);var h;switch(o){case"P":h=e.dateTime({width:"short"});break;case"PP":h=e.dateTime({width:"medium"});break;case"PPP":h=e.dateTime({width:"long"});break;case"PPPP":default:h=e.dateTime({width:"full"});break}return h.replace("{{date}}",dateLongFormatter(o,e)).replace("{{time}}",timeLongFormatter(l,e))}var longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(t){return protectedDayOfYearTokens.indexOf(t)!==-1}function isProtectedWeekYearToken(t){return protectedWeekYearTokens.indexOf(t)!==-1}function throwProtectedError(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(t,e,r){requiredArgs(2,arguments);var o=String(e),l=r||{},h=l.locale||defaultLocale,y=h.options&&h.options.firstWeekContainsDate,D=y==null?1:toInteger(y),O=l.firstWeekContainsDate==null?D:toInteger(l.firstWeekContainsDate);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=h.options&&h.options.weekStartsOn,R=F==null?0:toInteger(F),B=l.weekStartsOn==null?R:toInteger(l.weekStartsOn);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!h.localize)throw new RangeError("locale must contain localize property");if(!h.formatLong)throw new RangeError("locale must contain formatLong property");var j=toDate(t);if(!isValid(j))throw new RangeError("Invalid time value");var U=getTimezoneOffsetInMilliseconds(j),q=subMilliseconds(j,U),W={firstWeekContainsDate:O,weekStartsOn:B,locale:h,_originalDate:j},G=o.match(longFormattingTokensRegExp$1).map(function(Y){var K=Y[0];if(K==="p"||K==="P"){var X=longFormatters$1[K];return X(Y,h.formatLong,W)}return Y}).join("").match(formattingTokensRegExp$1).map(function(Y){if(Y==="''")return"'";var K=Y[0];if(K==="'")return cleanEscapedString$1(Y);var X=formatters$1[K];if(X)return!l.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(Y)&&throwProtectedError(Y,e,t),!l.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(Y)&&throwProtectedError(Y,e,t),X(q,Y,h.localize,W);if(K.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return Y}).join("");return G}function cleanEscapedString$1(t){return t.match(escapedStringRegExp$1)[1].replace(doubleQuoteRegExp$1,"'")}function assign(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");e=e||{};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function setUTCDay(t,e,r){requiredArgs(2,arguments);var o=r||{},l=o.locale,h=l&&l.options&&l.options.weekStartsOn,y=h==null?0:toInteger(h),D=o.weekStartsOn==null?y:toInteger(o.weekStartsOn);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=toDate(t),F=toInteger(e),R=O.getUTCDay(),B=F%7,j=(B+7)%7,U=(j<D?7:0)+F-R;return O.setUTCDate(O.getUTCDate()+U),O}function setUTCISODay(t,e){requiredArgs(2,arguments);var r=toInteger(e);r%7===0&&(r=r-7);var o=1,l=toDate(t),h=l.getUTCDay(),y=r%7,D=(y+7)%7,O=(D<o?7:0)+r-h;return l.setUTCDate(l.getUTCDate()+O),l}function setUTCISOWeek(t,e){requiredArgs(2,arguments);var r=toDate(t),o=toInteger(e),l=getUTCISOWeek(r)-o;return r.setUTCDate(r.getUTCDate()-l*7),r}function setUTCWeek(t,e,r){requiredArgs(2,arguments);var o=toDate(t),l=toInteger(e),h=getUTCWeek(o,r)-l;return o.setUTCDate(o.getUTCDate()-h*7),o}var MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_SECOND=1e3,numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function parseNumericPattern(t,e,r){var o=e.match(t);if(!o)return null;var l=parseInt(o[0],10);return{value:r?r(l):l,rest:e.slice(o[0].length)}}function parseTimezonePattern(t,e){var r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};var o=r[1]==="+"?1:-1,l=r[2]?parseInt(r[2],10):0,h=r[3]?parseInt(r[3],10):0,y=r[5]?parseInt(r[5],10):0;return{value:o*(l*MILLISECONDS_IN_HOUR+h*MILLISECONDS_IN_MINUTE+y*MILLISECONDS_IN_SECOND),rest:e.slice(r[0].length)}}function parseAnyDigitsSigned(t,e){return parseNumericPattern(numericPatterns.anyDigitsSigned,t,e)}function parseNDigits(t,e,r){switch(t){case 1:return parseNumericPattern(numericPatterns.singleDigit,e,r);case 2:return parseNumericPattern(numericPatterns.twoDigits,e,r);case 3:return parseNumericPattern(numericPatterns.threeDigits,e,r);case 4:return parseNumericPattern(numericPatterns.fourDigits,e,r);default:return parseNumericPattern(new RegExp("^\\d{1,"+t+"}"),e,r)}}function parseNDigitsSigned(t,e,r){switch(t){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,e,r);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,e,r);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,e,r);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,e,r);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+t+"}"),e,r)}}function dayPeriodEnumToHours(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(t,e){var r=e>0,o=r?e:1-e,l;if(o<=50)l=t||100;else{var h=o+50,y=Math.floor(h/100)*100,D=t>=h%100;l=t+y-(D?100:0)}return r?l:1-l}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex$1(t){return t%400===0||t%4===0&&t%100!==0}var parsers={G:{priority:140,parse:function(t,e,r,o){switch(e){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}},set:function(t,e,r,o){return e.era=r,t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,r,o){var l=function(h){return{year:h,isTwoDigitYear:e==="yy"}};switch(e){case"y":return parseNDigits(4,t,l);case"yo":return r.ordinalNumber(t,{unit:"year",valueCallback:l});default:return parseNDigits(e.length,t,l)}},validate:function(t,e,r){return e.isTwoDigitYear||e.year>0},set:function(t,e,r,o){var l=t.getUTCFullYear();if(r.isTwoDigitYear){var h=normalizeTwoDigitYear(r.year,l);return t.setUTCFullYear(h,0,1),t.setUTCHours(0,0,0,0),t}var y=!("era"in e)||e.era===1?r.year:1-r.year;return t.setUTCFullYear(y,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,r,o){var l=function(h){return{year:h,isTwoDigitYear:e==="YY"}};switch(e){case"Y":return parseNDigits(4,t,l);case"Yo":return r.ordinalNumber(t,{unit:"year",valueCallback:l});default:return parseNDigits(e.length,t,l)}},validate:function(t,e,r){return e.isTwoDigitYear||e.year>0},set:function(t,e,r,o){var l=getUTCWeekYear(t,o);if(r.isTwoDigitYear){var h=normalizeTwoDigitYear(r.year,l);return t.setUTCFullYear(h,0,o.firstWeekContainsDate),t.setUTCHours(0,0,0,0),startOfUTCWeek(t,o)}var y=!("era"in e)||e.era===1?r.year:1-r.year;return t.setUTCFullYear(y,0,o.firstWeekContainsDate),t.setUTCHours(0,0,0,0),startOfUTCWeek(t,o)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,r,o){return parseNDigitsSigned(e==="R"?4:e.length,t)},set:function(t,e,r,o){var l=new Date(0);return l.setUTCFullYear(r,0,4),l.setUTCHours(0,0,0,0),startOfUTCISOWeek(l)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,r,o){return parseNDigitsSigned(e==="u"?4:e.length,t)},set:function(t,e,r,o){return t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,r,o){switch(e){case"Q":case"QQ":return parseNDigits(e.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=1&&e<=4},set:function(t,e,r,o){return t.setUTCMonth((r-1)*3,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,r,o){switch(e){case"q":case"qq":return parseNDigits(e.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,r){return e>=1&&e<=4},set:function(t,e,r,o){return t.setUTCMonth((r-1)*3,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,r,o){var l=function(h){return h-1};switch(e){case"M":return parseNumericPattern(numericPatterns.month,t,l);case"MM":return parseNDigits(2,t,l);case"Mo":return r.ordinalNumber(t,{unit:"month",valueCallback:l});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=0&&e<=11},set:function(t,e,r,o){return t.setUTCMonth(r,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,r,o){var l=function(h){return h-1};switch(e){case"L":return parseNumericPattern(numericPatterns.month,t,l);case"LL":return parseNDigits(2,t,l);case"Lo":return r.ordinalNumber(t,{unit:"month",valueCallback:l});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,r){return e>=0&&e<=11},set:function(t,e,r,o){return t.setUTCMonth(r,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,r,o){switch(e){case"w":return parseNumericPattern(numericPatterns.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=53},set:function(t,e,r,o){return startOfUTCWeek(setUTCWeek(t,r,o),o)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,r,o){switch(e){case"I":return parseNumericPattern(numericPatterns.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=53},set:function(t,e,r,o){return startOfUTCISOWeek(setUTCISOWeek(t,r,o),o)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,r,o){switch(e){case"d":return parseNumericPattern(numericPatterns.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){var o=t.getUTCFullYear(),l=isLeapYearIndex$1(o),h=t.getUTCMonth();return l?e>=1&&e<=DAYS_IN_MONTH_LEAP_YEAR[h]:e>=1&&e<=DAYS_IN_MONTH[h]},set:function(t,e,r,o){return t.setUTCDate(r),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,r,o){switch(e){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){var o=t.getUTCFullYear(),l=isLeapYearIndex$1(o);return l?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,r,o){return t.setUTCMonth(0,r),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,r,o){switch(e){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=0&&e<=6},set:function(t,e,r,o){return t=setUTCDay(t,r,o),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,r,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(e){case"e":case"ee":return parseNDigits(e.length,t,l);case"eo":return r.ordinalNumber(t,{unit:"day",valueCallback:l});case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=0&&e<=6},set:function(t,e,r,o){return t=setUTCDay(t,r,o),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,r,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(e){case"c":case"cc":return parseNDigits(e.length,t,l);case"co":return r.ordinalNumber(t,{unit:"day",valueCallback:l});case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,r){return e>=0&&e<=6},set:function(t,e,r,o){return t=setUTCDay(t,r,o),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,r,o){var l=function(h){return h===0?7:h};switch(e){case"i":case"ii":return parseNDigits(e.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting",valueCallback:l})||r.day(t,{width:"short",context:"formatting",valueCallback:l})||r.day(t,{width:"narrow",context:"formatting",valueCallback:l});case"iiiii":return r.day(t,{width:"narrow",context:"formatting",valueCallback:l});case"iiiiii":return r.day(t,{width:"short",context:"formatting",valueCallback:l})||r.day(t,{width:"narrow",context:"formatting",valueCallback:l});case"iiii":default:return r.day(t,{width:"wide",context:"formatting",valueCallback:l})||r.day(t,{width:"abbreviated",context:"formatting",valueCallback:l})||r.day(t,{width:"short",context:"formatting",valueCallback:l})||r.day(t,{width:"narrow",context:"formatting",valueCallback:l})}},validate:function(t,e,r){return e>=1&&e<=7},set:function(t,e,r,o){return t=setUTCISODay(t,r,o),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,r,o){switch(e){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,r,o){return t.setUTCHours(dayPeriodEnumToHours(r),0,0,0),t},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(t,e,r,o){switch(e){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,r,o){return t.setUTCHours(dayPeriodEnumToHours(r),0,0,0),t},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(t,e,r,o){switch(e){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,r,o){return t.setUTCHours(dayPeriodEnumToHours(r),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,r,o){switch(e){case"h":return parseNumericPattern(numericPatterns.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=12},set:function(t,e,r,o){var l=t.getUTCHours()>=12;return l&&r<12?t.setUTCHours(r+12,0,0,0):!l&&r===12?t.setUTCHours(0,0,0,0):t.setUTCHours(r,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,r,o){switch(e){case"H":return parseNumericPattern(numericPatterns.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=23},set:function(t,e,r,o){return t.setUTCHours(r,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,r,o){switch(e){case"K":return parseNumericPattern(numericPatterns.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=11},set:function(t,e,r,o){var l=t.getUTCHours()>=12;return l&&r<12?t.setUTCHours(r+12,0,0,0):t.setUTCHours(r,0,0,0),t},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(t,e,r,o){switch(e){case"k":return parseNumericPattern(numericPatterns.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=24},set:function(t,e,r,o){var l=r<=24?r%24:r;return t.setUTCHours(l,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,r,o){switch(e){case"m":return parseNumericPattern(numericPatterns.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=59},set:function(t,e,r,o){return t.setUTCMinutes(r,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,r,o){switch(e){case"s":return parseNumericPattern(numericPatterns.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return parseNDigits(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=59},set:function(t,e,r,o){return t.setUTCSeconds(r,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,r,o){var l=function(h){return Math.floor(h*Math.pow(10,-e.length+3))};return parseNDigits(e.length,t,l)},set:function(t,e,r,o){return t.setUTCMilliseconds(r),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,r,o){switch(e){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,t);case"XX":return parseTimezonePattern(timezonePatterns.basic,t);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,t);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,t);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,t)}},set:function(t,e,r,o){return e.timestampIsSet?t:new Date(t.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,r,o){switch(e){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,t);case"xx":return parseTimezonePattern(timezonePatterns.basic,t);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,t);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,t);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,t)}},set:function(t,e,r,o){return e.timestampIsSet?t:new Date(t.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,r,o){return parseAnyDigitsSigned(t)},set:function(t,e,r,o){return[new Date(r*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,r,o){return parseAnyDigitsSigned(t)},set:function(t,e,r,o){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}},parsers$1=parsers,TIMEZONE_UNIT_PRIORITY=10,formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(t,e,r,o){requiredArgs(3,arguments);var l=String(t),h=String(e),y=o||{},D=y.locale||defaultLocale;if(!D.match)throw new RangeError("locale must contain match property");var O=D.options&&D.options.firstWeekContainsDate,F=O==null?1:toInteger(O),R=y.firstWeekContainsDate==null?F:toInteger(y.firstWeekContainsDate);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=D.options&&D.options.weekStartsOn,j=B==null?0:toInteger(B),U=y.weekStartsOn==null?j:toInteger(y.weekStartsOn);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(h==="")return l===""?toDate(r):new Date(NaN);var q={firstWeekContainsDate:R,weekStartsOn:U,locale:D},W=[{priority:TIMEZONE_UNIT_PRIORITY,subPriority:-1,set:dateToSystemTimezone,index:0}],G,Y=h.match(longFormattingTokensRegExp).map(function(oe){var ae=oe[0];if(ae==="p"||ae==="P"){var le=longFormatters$1[ae];return le(oe,D.formatLong,q)}return oe}).join("").match(formattingTokensRegExp),K=[];for(G=0;G<Y.length;G++){var X=Y[G];!y.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(X)&&throwProtectedError(X,h,t),!y.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(X)&&throwProtectedError(X,h,t);var J=X[0],Q=parsers$1[J];if(Q){var Z=Q.incompatibleTokens;if(Array.isArray(Z)){for(var ee=void 0,ne=0;ne<K.length;ne++){var ie=K[ne].token;if(Z.indexOf(ie)!==-1||ie===J){ee=K[ne];break}}if(ee)throw new RangeError("The format string mustn't contain `".concat(ee.fullToken,"` and `").concat(X,"` at the same time"))}else if(Q.incompatibleTokens==="*"&&K.length)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));K.push({token:J,fullToken:X});var re=Q.parse(l,X,D.match,q);if(!re)return new Date(NaN);W.push({priority:Q.priority,subPriority:Q.subPriority||0,set:Q.set,validate:Q.validate,value:re.value,index:W.length}),l=re.rest}else{if(J.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");if(X==="''"?X="'":J==="'"&&(X=cleanEscapedString(X)),l.indexOf(X)===0)l=l.slice(X.length);else return new Date(NaN)}}if(l.length>0&&notWhitespaceRegExp.test(l))return new Date(NaN);var te=W.map(function(oe){return oe.priority}).sort(function(oe,ae){return ae-oe}).filter(function(oe,ae,le){return le.indexOf(oe)===ae}).map(function(oe){return W.filter(function(ae){return ae.priority===oe}).sort(function(ae,le){return le.subPriority-ae.subPriority})}).map(function(oe){return oe[0]}),se=toDate(r);if(isNaN(se))return new Date(NaN);var ce=subMilliseconds(se,getTimezoneOffsetInMilliseconds(se)),de={};for(G=0;G<te.length;G++){var ue=te[G];if(ue.validate&&!ue.validate(ce,ue.value,q))return new Date(NaN);var he=ue.set(ce,de,ue.value,q);he[0]?(ce=he[0],assign(de,he[1])):ce=he}return ce}function dateToSystemTimezone(t,e){if(e.timestampIsSet)return t;var r=new Date(0);return r.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),r.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),r}function cleanEscapedString(t){return t.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function startOfHour(t){requiredArgs(1,arguments);var e=toDate(t);return e.setMinutes(0,0,0),e}function startOfSecond(t){requiredArgs(1,arguments);var e=toDate(t);return e.setMilliseconds(0),e}function parseISO(t,e){requiredArgs(1,arguments);var r=e||{},o=r.additionalDigits==null?2:toInteger(r.additionalDigits);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var l=splitDateString(t),h;if(l.date){var y=parseYear(l.date,o);h=parseDate(y.restDateString,y.year)}if(!h||isNaN(h.getTime()))return new Date(NaN);var D=h.getTime(),O=0,F;if(l.time&&(O=parseTime(l.time),isNaN(O)))return new Date(NaN);if(l.timezone){if(F=parseTimezone(l.timezone),isNaN(F))return new Date(NaN)}else{var R=new Date(D+O),B=new Date(0);return B.setFullYear(R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate()),B.setHours(R.getUTCHours(),R.getUTCMinutes(),R.getUTCSeconds(),R.getUTCMilliseconds()),B}return new Date(D+O+F)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(t){var e={},r=t.split(patterns.dateTimeDelimiter),o;if(r.length>2)return e;if(/:/.test(r[0])?o=r[0]:(e.date=r[0],o=r[1],patterns.timeZoneDelimiter.test(e.date)&&(e.date=t.split(patterns.timeZoneDelimiter)[0],o=t.substr(e.date.length,t.length))),o){var l=patterns.timezone.exec(o);l?(e.time=o.replace(l[1],""),e.timezone=l[1]):e.time=o}return e}function parseYear(t,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),o=t.match(r);if(!o)return{year:NaN,restDateString:""};var l=o[1]?parseInt(o[1]):null,h=o[2]?parseInt(o[2]):null;return{year:h===null?l:h*100,restDateString:t.slice((o[1]||o[2]).length)}}function parseDate(t,e){if(e===null)return new Date(NaN);var r=t.match(dateRegex);if(!r)return new Date(NaN);var o=!!r[4],l=parseDateUnit(r[1]),h=parseDateUnit(r[2])-1,y=parseDateUnit(r[3]),D=parseDateUnit(r[4]),O=parseDateUnit(r[5])-1;if(o)return validateWeekDate(e,D,O)?dayOfISOWeekYear(e,D,O):new Date(NaN);var F=new Date(0);return!validateDate(e,h,y)||!validateDayOfYearDate(e,l)?new Date(NaN):(F.setUTCFullYear(e,h,Math.max(l,y)),F)}function parseDateUnit(t){return t?parseInt(t):1}function parseTime(t){var e=t.match(timeRegex);if(!e)return NaN;var r=parseTimeUnit(e[1]),o=parseTimeUnit(e[2]),l=parseTimeUnit(e[3]);return validateTime(r,o,l)?r*millisecondsInHour+o*millisecondsInMinute+l*1e3:NaN}function parseTimeUnit(t){return t&&parseFloat(t.replace(",","."))||0}function parseTimezone(t){if(t==="Z")return 0;var e=t.match(timezoneRegex);if(!e)return 0;var r=e[1]==="+"?-1:1,o=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return validateTimezone(o,l)?r*(o*millisecondsInHour+l*millisecondsInMinute):NaN}function dayOfISOWeekYear(t,e,r){var o=new Date(0);o.setUTCFullYear(t,0,4);var l=o.getUTCDay()||7,h=(e-1)*7+r+1-l;return o.setUTCDate(o.getUTCDate()+h),o}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(t){return t%400===0||t%4===0&&t%100!==0}function validateDate(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(daysInMonths[e]||(isLeapYearIndex(t)?29:28))}function validateDayOfYearDate(t,e){return e>=1&&e<=(isLeapYearIndex(t)?366:365)}function validateWeekDate(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function validateTime(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function validateTimezone(t,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v1.1.0-beta.1
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const FORMATS={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};adapters._date.override({_id:"date-fns",formats:function(){return FORMATS},parse:function(t,e){if(t===null||typeof t=="undefined")return null;const r=typeof t;return r==="number"||t instanceof Date?t=toDate(t):r==="string"&&(typeof e=="string"?t=parse(t,e,new Date,this.options):t=parseISO(t,this.options)),isValid(t)?t.getTime():null},format:function(t,e){return format(t,e,this.options)},add:function(t,e,r){switch(r){case"millisecond":return addMilliseconds(t,e);case"second":return addSeconds(t,e);case"minute":return addMinutes(t,e);case"hour":return addHours(t,e);case"day":return addDays(t,e);case"week":return addWeeks(t,e);case"month":return addMonths(t,e);case"quarter":return addQuarters(t,e);case"year":return addYears(t,e);default:return t}},diff:function(t,e,r){switch(r){case"millisecond":return differenceInMilliseconds(t,e);case"second":return differenceInSeconds(t,e);case"minute":return differenceInMinutes(t,e);case"hour":return differenceInHours(t,e);case"day":return differenceInDays(t,e);case"week":return differenceInWeeks(t,e);case"month":return differenceInMonths(t,e);case"quarter":return differenceInQuarters(t,e);case"year":return differenceInYears(t,e);default:return 0}},startOf:function(t,e,r){switch(e){case"second":return startOfSecond(t);case"minute":return startOfMinute(t);case"hour":return startOfHour(t);case"day":return startOfDay(t);case"week":return startOfWeek(t);case"isoWeek":return startOfWeek(t,{weekStartsOn:+r});case"month":return startOfMonth(t);case"quarter":return startOfQuarter(t);case"year":return startOfYear(t);default:return t}},endOf:function(t,e){switch(e){case"second":return endOfSecond(t);case"minute":return endOfMinute(t);case"hour":return endOfHour(t);case"day":return endOfDay(t);case"week":return endOfWeek(t);case"month":return endOfMonth(t);case"quarter":return endOfQuarter(t);case"year":return endOfYear(t);default:return t}}});/*!
 * chartjs-plugin-deferred v2.0.0
 * https://chartjs-plugin-deferred.netlify.app
 * (c) 2016-2022 chartjs-plugin-deferred contributors
 * Released under the MIT license
 */var STUB_KEY="$chartjs_deferred",MODEL_KEY="$deferred";function defer(t,e){e?window.setTimeout(t,e):requestAnimFrame.call(window,t)}function computeOffset(t,e){var r=parseInt(t,10);return isNaN(r)?0:typeof t=="string"&&t.indexOf("%")!==-1?r/100*e:r}function chartInViewport(t){var e=t[MODEL_KEY].options,r=t.canvas;if(!r||r.offsetParent===null)return!1;var o=r.getBoundingClientRect(),l=computeOffset(e.yOffset||0,o.height),h=computeOffset(e.xOffset||0,o.width);return o.right-h>=0&&o.bottom-l>=0&&o.left+h<=window.innerWidth&&o.top+l<=window.innerHeight}function onScroll(t){var e=t.target,r=e[STUB_KEY];r.ticking||(r.ticking=!0,defer(function(){var o=r.charts.slice(),l=o.length,h,y;for(y=0;y<l;++y)h=o[y],chartInViewport(h)&&(unwatch(h),h[MODEL_KEY].appeared=!0,h.update());r.ticking=!1}))}function isScrollable(t){var e=t.nodeType;if(e===Node.ELEMENT_NODE){var r=getStyle(t,"overflow-x"),o=getStyle(t,"overflow-y");return r==="auto"||r==="scroll"||o==="auto"||o==="scroll"}return t.nodeType===Node.DOCUMENT_NODE}function watch(t){for(var e=t.canvas,r=e.parentElement,o,l;r;)isScrollable(r)&&(o=r[STUB_KEY]||(r[STUB_KEY]={}),l=o.charts||(o.charts=[]),l.length===0&&r.addEventListener("scroll",onScroll),l.push(t),t[MODEL_KEY].elements.push(r)),r=r.parentElement||r.ownerDocument}function unwatch(t){t[MODEL_KEY].elements.forEach(function(e){var r=e[STUB_KEY].charts;r.splice(r.indexOf(t),1),r.length||(e.removeEventListener("scroll",onScroll),delete e[STUB_KEY])}),t[MODEL_KEY].elements=[]}var plugin={id:"deferred",defaults:{xOffset:0,yOffset:0,delay:0},beforeInit:function(t,e,r){t[MODEL_KEY]={options:r,appeared:!1,delayed:!1,loaded:!1,elements:[]},watch(t)},beforeDatasetsUpdate:function(t,e,r){var o=t[MODEL_KEY];if(!o.loaded){if(!o.appeared&&!chartInViewport(t))return!1;if(o.appeared=!0,o.loaded=!0,unwatch(t),r.delay>0)return o.delayed=!0,defer(function(){t.ctx&&(o.delayed=!1,t.update())},r.delay),!1}if(o.delayed)return!1},destroy:function(t){unwatch(t)}},aos$1={exports:{}};(function(t,e){(function(r,o){t.exports=o()})(commonjsGlobal,function(){return function(r){function o(h){if(l[h])return l[h].exports;var y=l[h]={exports:{},id:h,loaded:!1};return r[h].call(y.exports,y,y.exports,o),y.loaded=!0,y.exports}var l={};return o.m=r,o.c=l,o.p="dist/",o(0)}([function(r,o,l){function h(de){return de&&de.__esModule?de:{default:de}}var y=Object.assign||function(de){for(var ue=1;ue<arguments.length;ue++){var he=arguments[ue];for(var oe in he)Object.prototype.hasOwnProperty.call(he,oe)&&(de[oe]=he[oe])}return de},D=l(1),O=(h(D),l(6)),F=h(O),R=l(7),B=h(R),j=l(8),U=h(j),q=l(9),W=h(q),G=l(10),Y=h(G),K=l(11),X=h(K),J=l(14),Q=h(J),Z=[],ee=!1,ne={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ie=function(){var de=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(de&&(ee=!0),ee)return Z=(0,X.default)(Z,ne),(0,Y.default)(Z,ne.once),Z},re=function(){Z=(0,Q.default)(),ie()},te=function(){Z.forEach(function(de,ue){de.node.removeAttribute("data-aos"),de.node.removeAttribute("data-aos-easing"),de.node.removeAttribute("data-aos-duration"),de.node.removeAttribute("data-aos-delay")})},se=function(de){return de===!0||de==="mobile"&&W.default.mobile()||de==="phone"&&W.default.phone()||de==="tablet"&&W.default.tablet()||typeof de=="function"&&de()===!0},ce=function(de){ne=y(ne,de),Z=(0,Q.default)();var ue=document.all&&!window.atob;return se(ne.disable)||ue?te():(ne.disableMutationObserver||U.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),ne.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",ne.easing),document.querySelector("body").setAttribute("data-aos-duration",ne.duration),document.querySelector("body").setAttribute("data-aos-delay",ne.delay),ne.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?ie(!0):ne.startEvent==="load"?window.addEventListener(ne.startEvent,function(){ie(!0)}):document.addEventListener(ne.startEvent,function(){ie(!0)}),window.addEventListener("resize",(0,B.default)(ie,ne.debounceDelay,!0)),window.addEventListener("orientationchange",(0,B.default)(ie,ne.debounceDelay,!0)),window.addEventListener("scroll",(0,F.default)(function(){(0,Y.default)(Z,ne.once)},ne.throttleDelay)),ne.disableMutationObserver||U.default.ready("[data-aos]",re),Z)};r.exports={init:ce,refresh:ie,refreshHard:re}},function(r,o){},,,,,function(r,o){(function(l){function h(se,ce,de){function ue(Te){var Ie=Se,Fe=ke;return Se=ke=void 0,ye=Te,xe=se.apply(Fe,Ie)}function he(Te){return ye=Te,Ce=setTimeout(le,ce),be?ue(Te):xe}function oe(Te){var Ie=Te-pe,Fe=Te-ye,Me=ce-Ie;return Pe?re(Me,_e-Fe):Me}function ae(Te){var Ie=Te-pe,Fe=Te-ye;return pe===void 0||Ie>=ce||Ie<0||Pe&&Fe>=_e}function le(){var Te=te();return ae(Te)?fe(Te):void(Ce=setTimeout(le,oe(Te)))}function fe(Te){return Ce=void 0,ve&&Se?ue(Te):(Se=ke=void 0,xe)}function we(){Ce!==void 0&&clearTimeout(Ce),ye=0,Se=pe=ke=Ce=void 0}function me(){return Ce===void 0?xe:fe(te())}function ge(){var Te=te(),Ie=ae(Te);if(Se=arguments,ke=this,pe=Te,Ie){if(Ce===void 0)return he(pe);if(Pe)return Ce=setTimeout(le,ce),ue(pe)}return Ce===void 0&&(Ce=setTimeout(le,ce)),xe}var Se,ke,_e,xe,Ce,pe,ye=0,be=!1,Pe=!1,ve=!0;if(typeof se!="function")throw new TypeError(j);return ce=R(ce)||0,D(de)&&(be=!!de.leading,Pe="maxWait"in de,_e=Pe?ie(R(de.maxWait)||0,ce):_e,ve="trailing"in de?!!de.trailing:ve),ge.cancel=we,ge.flush=me,ge}function y(se,ce,de){var ue=!0,he=!0;if(typeof se!="function")throw new TypeError(j);return D(de)&&(ue="leading"in de?!!de.leading:ue,he="trailing"in de?!!de.trailing:he),h(se,ce,{leading:ue,maxWait:ce,trailing:he})}function D(se){var ce=typeof se=="undefined"?"undefined":B(se);return!!se&&(ce=="object"||ce=="function")}function O(se){return!!se&&(typeof se=="undefined"?"undefined":B(se))=="object"}function F(se){return(typeof se=="undefined"?"undefined":B(se))=="symbol"||O(se)&&ne.call(se)==q}function R(se){if(typeof se=="number")return se;if(F(se))return U;if(D(se)){var ce=typeof se.valueOf=="function"?se.valueOf():se;se=D(ce)?ce+"":ce}if(typeof se!="string")return se===0?se:+se;se=se.replace(W,"");var de=Y.test(se);return de||K.test(se)?X(se.slice(2),de?2:8):G.test(se)?U:+se}var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},j="Expected a function",U=NaN,q="[object Symbol]",W=/^\s+|\s+$/g,G=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,K=/^0o[0-7]+$/i,X=parseInt,J=(typeof l=="undefined"?"undefined":B(l))=="object"&&l&&l.Object===Object&&l,Q=(typeof self=="undefined"?"undefined":B(self))=="object"&&self&&self.Object===Object&&self,Z=J||Q||Function("return this")(),ee=Object.prototype,ne=ee.toString,ie=Math.max,re=Math.min,te=function(){return Z.Date.now()};r.exports=y}).call(o,function(){return this}())},function(r,o){(function(l){function h(te,se,ce){function de(ve){var Te=ge,Ie=Se;return ge=Se=void 0,pe=ve,_e=te.apply(Ie,Te)}function ue(ve){return pe=ve,xe=setTimeout(ae,se),ye?de(ve):_e}function he(ve){var Te=ve-Ce,Ie=ve-pe,Fe=se-Te;return be?ie(Fe,ke-Ie):Fe}function oe(ve){var Te=ve-Ce,Ie=ve-pe;return Ce===void 0||Te>=se||Te<0||be&&Ie>=ke}function ae(){var ve=re();return oe(ve)?le(ve):void(xe=setTimeout(ae,he(ve)))}function le(ve){return xe=void 0,Pe&&ge?de(ve):(ge=Se=void 0,_e)}function fe(){xe!==void 0&&clearTimeout(xe),pe=0,ge=Ce=Se=xe=void 0}function we(){return xe===void 0?_e:le(re())}function me(){var ve=re(),Te=oe(ve);if(ge=arguments,Se=this,Ce=ve,Te){if(xe===void 0)return ue(Ce);if(be)return xe=setTimeout(ae,se),de(Ce)}return xe===void 0&&(xe=setTimeout(ae,se)),_e}var ge,Se,ke,_e,xe,Ce,pe=0,ye=!1,be=!1,Pe=!0;if(typeof te!="function")throw new TypeError(B);return se=F(se)||0,y(ce)&&(ye=!!ce.leading,be="maxWait"in ce,ke=be?ne(F(ce.maxWait)||0,se):ke,Pe="trailing"in ce?!!ce.trailing:Pe),me.cancel=fe,me.flush=we,me}function y(te){var se=typeof te=="undefined"?"undefined":R(te);return!!te&&(se=="object"||se=="function")}function D(te){return!!te&&(typeof te=="undefined"?"undefined":R(te))=="object"}function O(te){return(typeof te=="undefined"?"undefined":R(te))=="symbol"||D(te)&&ee.call(te)==U}function F(te){if(typeof te=="number")return te;if(O(te))return j;if(y(te)){var se=typeof te.valueOf=="function"?te.valueOf():te;te=y(se)?se+"":se}if(typeof te!="string")return te===0?te:+te;te=te.replace(q,"");var ce=G.test(te);return ce||Y.test(te)?K(te.slice(2),ce?2:8):W.test(te)?j:+te}var R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},B="Expected a function",j=NaN,U="[object Symbol]",q=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,K=parseInt,X=(typeof l=="undefined"?"undefined":R(l))=="object"&&l&&l.Object===Object&&l,J=(typeof self=="undefined"?"undefined":R(self))=="object"&&self&&self.Object===Object&&self,Q=X||J||Function("return this")(),Z=Object.prototype,ee=Z.toString,ne=Math.max,ie=Math.min,re=function(){return Q.Date.now()};r.exports=h}).call(o,function(){return this}())},function(r,o){function l(R){var B=void 0,j=void 0;for(B=0;B<R.length;B+=1)if(j=R[B],j.dataset&&j.dataset.aos||j.children&&l(j.children))return!0;return!1}function h(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function y(){return!!h()}function D(R,B){var j=window.document,U=h(),q=new U(O);F=B,q.observe(j.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function O(R){R&&R.forEach(function(B){var j=Array.prototype.slice.call(B.addedNodes),U=Array.prototype.slice.call(B.removedNodes),q=j.concat(U);if(l(q))return F()})}Object.defineProperty(o,"__esModule",{value:!0});var F=function(){};o.default={isSupported:y,ready:D}},function(r,o){function l(j,U){if(!(j instanceof U))throw new TypeError("Cannot call a class as a function")}function h(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function j(U,q){for(var W=0;W<q.length;W++){var G=q[W];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(U,G.key,G)}}return function(U,q,W){return q&&j(U.prototype,q),W&&j(U,W),U}}(),D=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,O=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,F=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,R=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,B=function(){function j(){l(this,j)}return y(j,[{key:"phone",value:function(){var U=h();return!(!D.test(U)&&!O.test(U.substr(0,4)))}},{key:"mobile",value:function(){var U=h();return!(!F.test(U)&&!R.test(U.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),j}();o.default=new B},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(y,D,O){var F=y.node.getAttribute("data-aos-once");D>y.position?y.node.classList.add("aos-animate"):typeof F!="undefined"&&(F==="false"||!O&&F!=="true")&&y.node.classList.remove("aos-animate")},h=function(y,D){var O=window.pageYOffset,F=window.innerHeight;y.forEach(function(R,B){l(R,F+O,D)})};o.default=h},function(r,o,l){function h(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(12),D=h(y),O=function(F,R){return F.forEach(function(B,j){B.node.classList.add("aos-init"),B.position=(0,D.default)(B.node,R.offset)}),F};o.default=O},function(r,o,l){function h(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(13),D=h(y),O=function(F,R){var B=0,j=0,U=window.innerHeight,q={offset:F.getAttribute("data-aos-offset"),anchor:F.getAttribute("data-aos-anchor"),anchorPlacement:F.getAttribute("data-aos-anchor-placement")};switch(q.offset&&!isNaN(q.offset)&&(j=parseInt(q.offset)),q.anchor&&document.querySelectorAll(q.anchor)&&(F=document.querySelectorAll(q.anchor)[0]),B=(0,D.default)(F).top,q.anchorPlacement){case"top-bottom":break;case"center-bottom":B+=F.offsetHeight/2;break;case"bottom-bottom":B+=F.offsetHeight;break;case"top-center":B+=U/2;break;case"bottom-center":B+=U/2+F.offsetHeight;break;case"center-center":B+=U/2+F.offsetHeight/2;break;case"top-top":B+=U;break;case"bottom-top":B+=F.offsetHeight+U;break;case"center-top":B+=F.offsetHeight/2+U}return q.anchorPlacement||q.offset||isNaN(R)||(j=R),B+j};o.default=O},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){for(var y=0,D=0;h&&!isNaN(h.offsetLeft)&&!isNaN(h.offsetTop);)y+=h.offsetLeft-(h.tagName!="BODY"?h.scrollLeft:0),D+=h.offsetTop-(h.tagName!="BODY"?h.scrollTop:0),h=h.offsetParent;return{top:D,left:y}};o.default=l},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){return h=h||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(h,function(y){return{node:y}})};o.default=l}])})})(aos$1);var AOS=getDefaultExportFromCjs(aos$1.exports),aos="",projectView_svelte_svelte_type_style_lang="";const{document:document_1$1}=globals;function create_if_block_5$5(t){let e,r,o;return{c(){e=element("div"),e.innerHTML='<i class="bx bx-arrow-back"></i>',attr(e,"class","backArrow hvr-forward svelte-cpyggs")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[11]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_catch_block_1$3(t){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block$8(t){let e;function r(h,y){return h[31].time.length>0?create_if_block_1$a:create_else_block_1$4}let l=r(t)(t);return{c(){l.c(),e=empty()},m(h,y){l.m(h,y),insert(h,e,y)},p(h,y){l.p(h,y)},d(h){l.d(h),h&&detach(e)}}}function create_else_block_1$4(t){let e,r,o,l,h,y,D,O,F,R,B,j,U;return{c(){e=element("div"),r=element("div"),r.innerHTML='<lottie-player src="https://assets1.lottiefiles.com/private_files/lf30_oqpbtola.json" background="transparent" speed="1" style="width:200px; margin:auto;" autoplay="" loop=""></lottie-player>',o=space(),l=element("div"),h=element("h3"),h.textContent="Pas encore de r\xE9ponses \u{1F622}",y=space(),D=element("p"),D.textContent="Vos graphiques s'afficheront automatiquement ici d\xE8s la premi\xE8re r\xE9ponse \xE0 ce sondage.",O=space(),F=element("div"),F.textContent="Partager le sondage \u{1F680}",R=space(),B=element("div"),B.textContent="Supprimer \u274C",attr(r,"class","pr-0 pr-md-4"),attr(D,"class","pr-3 mb-4"),attr(F,"class","shareBtn mr-4 svelte-cpyggs"),attr(B,"class","shareBtn svelte-cpyggs"),attr(l,"class","margin:auto;"),attr(e,"class","noData d-flex flex-column flex-md-row justify-content-around align-items-center svelte-cpyggs")},m(q,W){insert(q,e,W),append(e,r),append(e,o),append(e,l),append(l,h),append(l,y),append(l,D),append(l,O),append(l,F),append(l,R),append(l,B),j||(U=[listen(F,"click",t[21]),listen(B,"click",t[22])],j=!0)},p:noop$2,d(q){q&&detach(e),j=!1,run_all(U)}}}function create_if_block_1$a(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te,se,ce,de,ue,he,oe,ae,le,fe,we,me,ge,Se,ke,_e,xe,Ce,pe,ye=t[1].length==0&&create_if_block_3$7(t),be=t[1].length==0&&create_if_block_2$9(t);return{c(){e=element("div"),ye&&ye.c(),r=space(),o=element("div"),l=element("div"),h=element("h4"),h.textContent="Filtrer les donn\xE9es",y=space(),D=element("div"),O=element("div"),O.textContent="1.",F=space(),R=element("select"),B=element("option"),B.textContent="D\xE9sactiv\xE9",j=space(),U=element("select"),q=element("option"),q.textContent="\xE9gal \xE0",W=element("option"),W.textContent="sup\xE9rieur ou \xE9gal \xE0",G=element("option"),G.textContent="inf\xE9rieur ou \xE9gal \xE0",Y=space(),K=element("span"),K.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',X=space(),J=element("div"),Q=element("div"),Q.textContent="2.",Z=space(),ee=element("select"),ne=element("option"),ne.textContent="D\xE9sactiv\xE9",ie=space(),re=element("select"),te=element("option"),te.textContent="\xE9gal \xE0",se=element("option"),se.textContent="sup\xE9rieur ou \xE9gal \xE0",ce=element("option"),ce.textContent="inf\xE9rieur ou \xE9gal \xE0",de=space(),ue=element("span"),ue.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',he=space(),oe=element("div"),ae=element("button"),ae.innerHTML='<i class="bx bx-filter-alt pr-1"></i>Filtrer',le=space(),fe=element("div"),we=element("div"),me=element("button"),me.innerHTML='<i class="bx bx-export pr-1"></i>Exporter les donn\xE9es',ge=space(),be&&be.c(),Se=space(),ke=element("div"),_e=space(),xe=element("span"),attr(h,"class","mb-3"),set_style(O,"font-size","1.2rem"),attr(O,"class","mr-3"),B.__value="dis",B.value=B.__value,attr(R,"class","rtnFilterSelect"),q.__value="==",q.value=q.__value,W.__value=">=",W.value=W.__value,G.__value="<=",G.value=G.__value,attr(U,"class","rtnFilterSelect"),U.disabled=!0,attr(D,"class","align-items-center d-flex justify-content-center p-2"),set_style(Q,"font-size","1.2rem"),attr(Q,"class","mr-3"),ne.__value="dis",ne.value=ne.__value,attr(ee,"class","rtnFilterSelect"),te.__value="==",te.value=te.__value,se.__value=">=",se.value=se.__value,ce.__value="<=",ce.value=ce.__value,attr(re,"class","rtnFilterSelect"),re.disabled=!0,attr(J,"class","align-items-center d-flex justify-content-center p-2"),set_style(ae,"min-width","100px"),set_style(ae,"border-radius","10px"),set_style(ae,"border-width","0px"),set_style(ae,"padding","8px 15px"),attr(oe,"class","mt-3"),attr(l,"class","neuProjetSimple p-4 text-center h-100 m-0 svelte-cpyggs"),set_style(l,"color","white"),set_style(l,"background-color","#6219d8"),attr(l,"data-aos","fade-up"),attr(l,"data-aos-delay","100"),attr(o,"id","filtreZone"),attr(o,"class","col-12 col-lg-8 p-3 m-0"),set_style(me,"background-color","#23be6e4d"),attr(me,"class","btnDash hvr-float"),attr(me,"data-aos","fade-up"),attr(me,"data-aos-delay","200"),attr(we,"class","align-items-stretch d-flex flex-lg-column flex-row h-100 justify-content-lg-between justify-content-around"),attr(fe,"class","col-12 col-lg-4 p-3 m-0"),attr(ke,"class","mb-4"),attr(e,"id","mesResultats"),attr(e,"class","row p-0 p-md-1 mx-auto w-100"),set_style(e,"max-width","1100px")},m(Pe,ve){insert(Pe,e,ve),ye&&ye.m(e,null),append(e,r),append(e,o),append(o,l),append(l,h),append(l,y),append(l,D),append(D,O),append(D,F),append(D,R),append(R,B),append(D,j),append(D,U),append(U,q),append(U,W),append(U,G),append(D,Y),append(D,K),append(l,X),append(l,J),append(J,Q),append(J,Z),append(J,ee),append(ee,ne),append(J,ie),append(J,re),append(re,te),append(re,se),append(re,ce),append(J,de),append(J,ue),append(l,he),append(l,oe),append(oe,ae),append(e,le),append(e,fe),append(fe,we),append(we,me),append(we,ge),be&&be.m(we,null),append(e,Se),append(e,ke),insert(Pe,_e,ve),insert(Pe,xe,ve),Ce||(pe=[listen(ae,"click",t[18]),listen(me,"click",t[19]),action_destroyer(t[9].call(null,xe,t[31]))],Ce=!0)},p(Pe,ve){t=Pe,t[1].length==0?ye?ye.p(t,ve):(ye=create_if_block_3$7(t),ye.c(),ye.m(e,r)):ye&&(ye.d(1),ye=null),t[1].length==0?be?be.p(t,ve):(be=create_if_block_2$9(t),be.c(),be.m(we,null)):be&&(be.d(1),be=null)},d(Pe){Pe&&detach(e),ye&&ye.d(),be&&be.d(),Pe&&detach(_e),Pe&&detach(xe),Ce=!1,run_all(pe)}}}function create_if_block_3$7(t){let e,r,o,l,h,y,D,O={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$3,then:create_then_block_1$3,catch:create_catch_block$8,value:32};return handle_promise(D=t[2],O),{c(){e=element("div"),r=element("div"),o=element("h4"),o.textContent="\u{1F517} Partager les donn\xE9es",l=space(),h=element("p"),h.textContent="R\xE9tine vous permet de partager les r\xE9sultats de ce sondage avec n'importe qui de mani\xE8re s\xE9curis\xE9e.",y=space(),O.block.c(),attr(o,"class","mb-3"),attr(r,"class","neuProjetSimple p-4 h-100 m-0 svelte-cpyggs"),attr(r,"data-aos","fade-up"),attr(r,"data-aos-delay","100"),attr(e,"class","col-12 p-4")},m(F,R){insert(F,e,R),append(e,r),append(r,o),append(r,l),append(r,h),append(r,y),O.block.m(r,O.anchor=null),O.mount=()=>r,O.anchor=null},p(F,R){t=F,O.ctx=t,R[0]&4&&D!==(D=t[2])&&handle_promise(D,O)||update_await_block_branch(O,t,R)},d(F){F&&detach(e),O.block.d(),O.token=null,O=null}}}function create_catch_block$8(t){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block_1$3(t){let e;function r(h,y){return h[32].share_id=="no"?create_if_block_4$7:create_else_block$8}let o=r(t),l=o(t);return{c(){e=element("div"),l.c(),attr(e,"class","p-3")},m(h,y){insert(h,e,y),l.m(e,null)},p(h,y){o===(o=r(h))&&l?l.p(h,y):(l.d(1),l=o(h),l&&(l.c(),l.m(e,null)))},d(h){h&&detach(e),l.d()}}}function create_else_block$8(t){let e,r,o,l,h,y=t[32].share_id+"",D,O,F,R,B=t[32].share_pw+"",j,U,q,W,G,Y,K,X,J,Q;function Z(){return t[15](t[32])}function ee(){return t[16](t[32])}return{c(){e=element("p"),e.textContent=`Seules les personnes disposant du lien et du mot de passe pourront visualiser les r\xE9sultats de ce sondage. Vous pouvez supprimer le\r
                      partage \xE0 tout moment pour r\xE9streindre \xE0 nouveau la vue des r\xE9sultats \xE0 ce compte uniquement.`,r=space(),o=element("div"),l=element("p"),h=text("\u{1F517} retine.io/res#"),D=text(y),O=space(),F=element("p"),R=text("\u{1F512} "),j=text(B),U=space(),q=element("br"),W=space(),G=element("div"),G.textContent="\u274C Supprimer le partage",Y=space(),K=element("div"),X=text(t[3]),attr(e,"class","text-justify"),set_style(e,"opacity",".8"),attr(l,"class","svelte-cpyggs"),attr(F,"class","svelte-cpyggs"),attr(G,"class","screenBtn hvr-grow mr-auto d-inline-block"),set_style(G,"font-size","1rem"),attr(K,"class","d-inline-block ml-4"),attr(o,"class","shareIds svelte-cpyggs")},m(ne,ie){insert(ne,e,ie),insert(ne,r,ie),insert(ne,o,ie),append(o,l),append(l,h),append(l,D),append(o,O),append(o,F),append(F,R),append(F,j),append(o,U),append(o,q),append(o,W),append(o,G),append(o,Y),append(o,K),append(K,X),J||(Q=[listen(l,"click",Z),listen(F,"click",ee),listen(G,"click",t[17])],J=!0)},p(ne,ie){t=ne,ie[0]&4&&y!==(y=t[32].share_id+"")&&set_data(D,y),ie[0]&4&&B!==(B=t[32].share_pw+"")&&set_data(j,B),ie[0]&8&&set_data(X,t[3])},d(ne){ne&&detach(e),ne&&detach(r),ne&&detach(o),J=!1,run_all(Q)}}}function create_if_block_4$7(t){let e,r,o;return{c(){e=element("div"),e.textContent="\u{1F512} G\xE9n\xE9rer un lien de partage s\xE9curis\xE9",attr(e,"class","screenBtn hvr-grow m-auto"),set_style(e,"font-size","1.1rem")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[14]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_pending_block_1$3(t){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_if_block_2$9(t){let e,r,o;return{c(){e=element("button"),e.innerHTML='<i class="bx bx-trash pr-1"></i>Supprimer le sondage',set_style(e,"background-color","#db54614d"),attr(e,"class","btnDash hvr-float"),attr(e,"data-aos","fade-up"),attr(e,"data-aos-delay","300")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[20]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_pending_block$8(t){let e;return{c(){e=element("div"),e.textContent="Chargement..."},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block$d(t){let e,r,o,l,h,y,D;const O=[t[4].props||{}];var F=t[4].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(e=new F(R())),{c(){e&&create_component(e.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-cpyggs")},m(B,j){e&&mount_component(e,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",t[23]),y=!0)},p(B,j){const U=j[0]&16?get_spread_update(O,[get_spread_object(B[4].props||{})]):{};if(F!==(F=B[4].component)){if(e){group_outros();const q=e;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(e=new F(R()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else F&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$5(t){let e,r,o=t[4]&&create_if_block$d(t);return{c(){o&&o.c(),e=empty()},m(l,h){o&&o.m(l,h),insert(l,e,h),r=!0},p(l,h){l[4]?o?(o.p(l,h),h[0]&16&&transition_in(o,1)):(o=create_if_block$d(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$k(t){let e,r,o,l,h,y,D,O,F,R=t[0].nom_proj+"",B,j,U,q,W,G,Y,K,X,J,Q,Z=t[1].length==0&&create_if_block_5$5(t),ee={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block$8,then:create_then_block$8,catch:create_catch_block_1$3,value:31};return handle_promise(t[6],ee),K=new Modals({props:{$$slots:{default:[create_default_slot$5]},$$scope:{ctx:t}}}),{c(){e=element("link"),r=element("script"),l=space(),h=element("div"),Z&&Z.c(),y=space(),D=element("div"),D.textContent="Rafra\xEEchir \u{1F4A6}",O=space(),F=element("h1"),B=text(R),j=space(),U=element("div"),U.textContent="Partager le sondage \u{1F680}",q=space(),W=element("div"),G=space(),ee.block.c(),Y=space(),create_component(K.$$.fragment),attr(e,"rel","stylesheet"),attr(e,"href","assets/graphs.css"),src_url_equal(r.src,o="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js")||attr(r,"src",o),attr(r,"integrity","sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="),attr(r,"crossorigin","anonymous"),attr(r,"referrerpolicy","no-referrer"),attr(D,"class","refreshBtn hvr-grow svelte-cpyggs"),attr(F,"class","py-2 mb-3 text-center"),attr(U,"class","shareBtnTitle svelte-cpyggs"),attr(W,"id","headerBar"),attr(W,"class","text-center w-100 py-2 mb-3 mt-3"),set_style(h,"min-height","100vh")},m(ne,ie){append(document_1$1.head,e),append(document_1$1.head,r),insert(ne,l,ie),insert(ne,h,ie),Z&&Z.m(h,null),append(h,y),append(h,D),append(h,O),append(h,F),append(F,B),append(h,j),append(h,U),append(h,q),append(h,W),append(h,G),ee.block.m(h,ee.anchor=null),ee.mount=()=>h,ee.anchor=null,insert(ne,Y,ie),mount_component(K,ne,ie),X=!0,J||(Q=[listen(D,"click",t[12]),listen(U,"click",t[13])],J=!0)},p(ne,ie){t=ne,t[1].length==0?Z?Z.p(t,ie):(Z=create_if_block_5$5(t),Z.c(),Z.m(h,y)):Z&&(Z.d(1),Z=null),(!X||ie[0]&1)&&R!==(R=t[0].nom_proj+"")&&set_data(B,R),update_await_block_branch(ee,t,ie);const re={};ie[0]&16|ie[1]&4&&(re.$$scope={dirty:ie,ctx:t}),K.$set(re)},i(ne){X||(transition_in(K.$$.fragment,ne),X=!0)},o(ne){transition_out(K.$$.fragment,ne),X=!1},d(ne){detach(e),detach(r),ne&&detach(l),ne&&detach(h),Z&&Z.d(),ee.block.d(),ee.token=null,ee=null,ne&&detach(Y),destroy_component(K,ne),J=!1,run_all(Q)}}}function instance$i(t,e,r){let o,l;component_subscribe(t,modals,oe=>r(10,l=oe));function h(oe){activePageStore.set(oe)}let{projData:y}=e,{invit:D=[]}=e,O,F,R;var B=[];let j=`<div class="neuProjetSimple p-4 text-center" data-aos="fade-up" data-aos-delay="100">
      <div>
          <h5>##TTRQUEST##</h5>
          <div class="nbRepGraph">\u{1F9CD} ##REPS## r\xE9pondants</div>
          <div class="filtrWatermark nbRepGraph"></div>
          <div class="canvContain"></div>
      </div>
      <div class="d-flex align-items-center justify-content-between">
        <button class="screenBtn" onclick="copyGraph(this.parentElement.previousSibling.previousSibling)">\u{1F4C4} Copier le graphique</button>
      </div>
    </div>`,U;D.length==0&&(U=shareQueryGET(y.id));async function q(oe={fltr1:"",fltr2:""}){if(D.length==0){var ae=new Headers;ae.append("Authorization","Token "+xxgc("rtnt")),ae.append("Content-Type","application/json");var le={method:"POST",headers:ae,redirect:"follow",body:JSON.stringify(oe)};return fetch(`${rtnUrl}reps/${y.id}/`,le).then(fe=>fe.text()).then(fe=>JSON.parse(fe)).catch(fe=>fe)}else{var ae=new Headers;ae.append("Content-Type","application/json");let we=oe;we.sid=D[0],we.spw=D[1];var le={method:"POST",headers:ae,redirect:"follow",body:JSON.stringify(oe)};return fetch(`${rtnUrl}repspub/`,le).then(ge=>ge.text()).then(ge=>JSON.parse(ge)).catch(ge=>ge)}}let W=q();const G=async(oe={fltr1:"",fltr2:""})=>{let ae=await q(oe);ae.data=Object.values(ae.data);let le=Object.keys(B);if(ae.time.length==0)alert("Aucune donn\xE9es \xE0 afficher.");else{O(ae.time),F(ae.client),R(ae);for(var fe=0;fe<le.length;fe++)B[le[fe]](ae.data[le[fe]]);let me=document.getElementsByClassName("filtrWatermark");for(var we=0;we<me.length;we++)if(oe.fltr1!=""||oe.fltr2!=""){let ge="",Se="";oe.fltr1!=""&&(ge=`Q${oe.fltr1[0]} ${oe.fltr1[1]} ${oe.fltr1[2]}`),oe.fltr2!=""&&(Se=`& ${oe.fltr2[0]} ${oe.fltr2[1]} ${oe.fltr2[2]}`),me[we].innerHTML=`- R\xE9sultats filtr\xE9s : r\xE9p. ${ge} ${Se}`}else me[we].innerHTML=""}},Y=()=>{let oe,ae;document.querySelectorAll(".rtnFilterSelect")[0].value!="dis"?oe=[document.querySelectorAll(".rtnFilterSelect")[0].value,document.querySelectorAll(".rtnFilterSelect")[1].value,document.querySelectorAll(".rtnFilterSelect")[2].value]:oe="",document.querySelectorAll(".rtnFilterSelect")[3].value!="dis"?ae=[document.querySelectorAll(".rtnFilterSelect")[3].value,document.querySelectorAll(".rtnFilterSelect")[4].value,document.querySelectorAll(".rtnFilterSelect")[5].value]:ae="",G({fltr1:oe,fltr2:ae})};function K(oe,ae){if(console.log(ae),ae.time.length==0)return;let le=y,fe=JSON.parse(le.jsonContent),we=document.querySelector("#mesResultats");ae.data=Object.values(ae.data);let me=document.createElement("div"),ge;me.id="timeRepGraph",me.classList.add("col-12","col-lg-12","p-3"),me.innerHTML=j,me.querySelector(".canvContain").innerHTML="<canvas></canvas>",we.insertAdjacentElement("afterbegin",me),O=pe=>{let ye=document.querySelector("#timeRepGraph");ye.querySelector("h5").innerHTML="Evolution du nombre de r\xE9ponses",ye.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+pe.length.toString()+" r\xE9pondants",pe=pe.map(Pe=>new Date(Date.parse(Pe.replaceAll("-","/").split(" ")[0])).toISOString().split("T")[0]);let be=getDaysArray(pe[0],pe[pe.length-1]).map(Pe=>Pe.toISOString().slice(0,10));typeof ge=="undefined"?ge=new Chart(ye.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:be,datasets:[{data:be.map(Pe=>countOccurrences(pe,Pe)),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}}):(ge.data.labels=be,ge.data.datasets[0].data=be.map(Pe=>countOccurrences(pe,Pe)),ge.update())},O(ae.time);let Se=document.createElement("div"),ke;Se.id="deviceRepGraph",Se.classList.add("col-12","col-lg-6","p-3"),Se.innerHTML=j,Se.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>"),we.insertAdjacentElement("beforeend",Se),F=pe=>{let ye=document.querySelector("#deviceRepGraph");ye.querySelector("h5").innerHTML="Appareils utilis\xE9s par les r\xE9pondants",ye.querySelector(".nbRepGraph").innerHTML=`\u{1F9CD} ${Object.values(pe).reduce((be,Pe)=>be+Pe).toString()} r\xE9pondants`,typeof ke=="undefined"?ke=new Chart(ye.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"doughnut",data:{labels:Object.keys(pe),datasets:[{data:Object.values(pe),backgroundColor:chartColors}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(be,Pe)=>{let ve=0;return Pe.chart.data.datasets[0].data.map(Fe=>{ve+=Fe}),Pe.chart.data.labels[Pe.dataIndex]+`
`+(be*100/ve).toFixed(1)+"%"},textAlign:"center"},deferred:deferredConfig}}}):(ke.data.labels=Object.keys(pe),ke.data.datasets[0].data=Object.values(pe),ke.update())},F(ae.client);let _e=document.createElement("div"),xe;_e.id="dureeRepGraph",_e.classList.add("col-12","col-lg-6","p-3"),_e.innerHTML=j,_e.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>"),we.insertAdjacentElement("beforeend",_e),R=pe=>{let ye=document.querySelector("#dureeRepGraph");ye.querySelector("h5").innerHTML="Temps de r\xE9ponse au sondage",ye.querySelector(".nbRepGraph").innerHTML=`\u{1F9CD} ${pe.time.length} r\xE9pondants`,typeof xe=="undefined"?xe=new Chart(ye.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:["Minimum","Moyenne","Maximum"],datasets:[{data:Object.values(pe.ans_time),backgroundColor:["#23BE6E4D","#7798AB4D","#DB54614D"]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:scaleParam,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(be,Pe)=>(Pe.chart.data.datasets[0].data.map(Ie=>{}),be+"s"),textAlign:"center"},deferred:deferredConfig}}}):(xe.data.datasets[0].data=Object.values(pe.ans_time),xe.update())},R(ae);const Ce=pe=>{pe.srcElement.value=="dis"?(pe.srcElement.nextElementSibling.disabled=!0,pe.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0):(pe.srcElement.nextElementSibling.disabled=!1,pe.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!1,["num"].includes(ae.data[pe.srcElement.value].t)?(pe.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',pe.srcElement.nextElementSibling.nextElementSibling.innerHTML='<input class="rtnFilterSelect" type="number" style="width:100px;">'):["mc","1c"].includes(ae.data[pe.srcElement.value].t)?(pe.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=" disabled>sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=" disabled>inf\xE9rieur ou \xE9gal \xE0</option>',pe.srcElement.nextElementSibling.nextElementSibling.innerHTML=`<select class="rtnFilterSelect" >
        ${Object.keys(ae.data[pe.srcElement.value].d).map(ye=>`<option value="${ye}">${ye}</option>`).join("")}</select>`):["5s"].includes(ae.data[pe.srcElement.value].t)?(pe.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',pe.srcElement.nextElementSibling.nextElementSibling.innerHTML='<select class="rtnFilterSelect"><option value="1">\u2B50</option><option value="2">\u2B50\u2B50</option><option value="3">\u2B50\u2B50\u2B50</option><option value="4">\u2B50\u2B50\u2B50\u2B50</option><option value="5">\u2B50\u2B50\u2B50\u2B50\u2B50</option></select>'):(pe.srcElement.nextElementSibling.disabled=!0,pe.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0))};document.querySelectorAll(".rtnFilterSelect")[0].addEventListener("change",Ce),document.querySelectorAll(".rtnFilterSelect")[3].addEventListener("change",Ce);for(let pe in ae.data)if(!(fe[pe].a.type=="1c"&&fe[pe].a.a.length==1)){document.querySelectorAll(".rtnFilterSelect")[0].insertAdjacentHTML("beforeend",`<option value='${pe}'>Question ${pe}</option`),document.querySelectorAll(".rtnFilterSelect")[3].insertAdjacentHTML("beforeend",`<option value='${pe}'>Question ${pe}</option`);let ye=document.createElement("div");switch(ye.classList.add("col-12","col-lg-6","p-3"),ye.innerHTML=j.replace("##TTRQUEST##",pe.toString()+". "+fe[pe].q),ye.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+ae.data[pe].nbrep.toString()+" r\xE9pondants",ae.data[pe].t){case"mc":case"1c":let be=ae.data[pe];ye.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>");let Pe=new Chart(ye.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"doughnut",data:{labels:Object.keys(be.d),datasets:[{data:Object.values(be.d),backgroundColor:chartColors}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(Ee,Ne)=>{let Ge=0;return Ne.chart.data.datasets[0].data.map(Ve=>{Ge+=Ve}),Ne.chart.data.labels[Ne.dataIndex]+`
`+(Ee*100/Ge).toFixed(1)+"%"},textAlign:"center"},deferred:deferredConfig}}});B[pe.toString()]=Ee=>{Pe.data.labels=Object.keys(Ee.d),Pe.data.datasets[0].data=Object.values(Ee.d),Pe.update(),ye.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Ee.nbrep.toString()+" r\xE9pondants"};break;case"cl":let ve=pe,Te=`<canvas id="realCanvCont"></canvas>
            <div id="realScoreCont">
                <div id="gauge2" class="mx-auto w-100 gauge-container three" style="max-width: 200px;"><span class="label"></span></div>
                <div class="starContain py-2 px-3 text-start m-auto" style="font-size: 0.8rem; opacity: 0.9; border-radius: 10px;">
                    \u{1F4A1} Score de sentiment moyen calcul\xE9 par R\xE9tine \xE0 l'aide d'intelligences artificielles. (0 = tr\xE8s n\xE9gatif, 100 = tr\xE8s positif).
                </div>
            </div>`;ye.querySelector(".canvContain").insertAdjacentHTML("afterbegin",Te);let Ie=ae.data[pe];setTimeout(()=>{let Ee=Gauge(ye.querySelector("#gauge2"),{max:100,value:0,color(je){return je<60?"#6219D8":je<25?"#E74C3C":"#2FCC72"},label(je){if(je<10)return`\u{1F621}
`+Math.round(je);if(je<25)return`\u{1F615}
`+Math.round(je);if(je<50)return`\u{1F610}
`+Math.round(je);if(je<75)return`\u{1F642}
`+Math.round(je);if(je<=100)return`\u{1F603}
`+Math.round(je)}});setTimeout(()=>{Ee.setValueAnimated(Ie.d.sentMoy*100,1.5)},100);let Ne=new WordCloudChart(ye.querySelector("canvas").getContext("2d"),{type:"wordCloud",data:{labels:Object.keys(Ie.d.nuage),datasets:[{label:"",color:"#6219D8",data:Object.values(Ie.d.nuage).map(je=>15+je*Math.min(125/Object.values(Ie.d.nuage).length,8))}]},options:{plugins:{legend:{display:!1},tooltips:{mode:"label",callbacks:{label(je,Ve){var Xe=je.index;return Ve.labels[Xe]+": "+Ve.datasets[0].data[Xe]}}},deferred:deferredConfig}}});B[ve.toString()]=je=>{Ee.setValueAnimated(je.d.sentMoy*100,1.5),Ne.data.labels=Object.keys(je.d.nuage),Ne.data.datasets[0].data=Object.values(je.d.nuage).map(Ve=>15+Ve*Math.min(125/Object.values(je.d.nuage).length,8)),ye.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+je.nbrep.toString()+" r\xE9pondants",Ne.update()};const Ge=je=>{if(je.target.dataset.state=="simple"){ye.querySelector("#realScoreCont").style.display="",ye.querySelector("#realCanvCont").style.display="none";let Ve=Ee.getValue();Ee.setValue(0),Ee.setValueAnimated(Ve),je.target.dataset.state="detail"}else ye.querySelector("#realScoreCont").style.display="none",ye.querySelector("#realCanvCont").style.display="",Ne.reset(),Ne.update(),je.target.dataset.state="simple"};let We=document.createElement("button");We.innerHTML="\u2795 D\xE9tails",We.className="screenBtn",We.dataset.state="simple",We.addEventListener("click",Ge,!1),ye.querySelector(".screenBtn").insertAdjacentElement("afterend",We),We.click()},1);break;case"5s":let Fe=["\u2B50\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50","\u2B50\u2B50","\u2B50"],Me=ae.data[pe],De='<canvas id ="realCanvCont" style="display:none;"></canvas><div class="starContain py-5"></div>',Be=`<div class="mb-3">Note moyenne de ##STARS##</div>
            <div class="stars">
              <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg>
              <div class="cover" style="width: ##PERCENT##%;"></div>
            </div>`;ye.querySelector(".canvContain").innerHTML=De,ye.querySelector(".starContain").innerHTML=Be.replace("##PERCENT##",(100-Me.d.main*100/5).toString()).replace("##STARS##",Me.d.main);let ze=new Chart(ye.querySelector("#realCanvCont"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Fe,datasets:[{data:[Me.d.detail[5],Me.d.detail[4],Me.d.detail[3],Me.d.detail[2],Me.d.detail[1]],backgroundColor:"#6219D8",borderRadius:5}]},options:{indexAxis:"y",scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,reversed:!0},datalabels:{color:"white"}}}});B[pe.toString()]=Ee=>{ye.querySelector(".starContain").innerHTML=Be.replace("##PERCENT##",(100-Ee.d.main*100/5).toString()).replace("##STARS##",Ee.d.main),ze.data.datasets[0].data=[Ee.d.detail[5],Ee.d.detail[4],Ee.d.detail[3],Ee.d.detail[2],Ee.d.detail[1]],ze.update(),ye.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Ee.nbrep.toString()+" r\xE9pondants"};const Ue=Ee=>{Ee.target.dataset.state=="simple"?(ye.querySelector(".starContain").style.display="",ye.querySelector("canvas").style.display="none",Ee.target.dataset.state="detail"):(ye.querySelector(".starContain").style.display="none",ye.querySelector("canvas").style.display="",ze.reset(),ze.update(),Ee.target.dataset.state="simple")};let Re=document.createElement("button");Re.innerHTML="\u2795 D\xE9tails",Re.className="screenBtn",Re.dataset.state="yes",Re.addEventListener("click",Ue,!1),ye.querySelector(".screenBtn").insertAdjacentElement("afterend",Re);break;case"num":let $e=ae.data[pe].d;ye.querySelector(".canvContain").innerHTML="<canvas></canvas>";let He=fe[pe].a.a[2].replaceAll(" ","")!=""?`(en ${fe[pe].a.a[2]})`:"";ye.querySelector("h5").insertAdjacentHTML("beforeend",`<span style='font-size:1rem;opacity:.6;'>${He}</span>`);let Le=new Chart(ye.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Object.keys($e.detail).map(Ee=>Ee.replaceAll(".0","")),datasets:[{label:"R\xE9partition",data:Object.values($e.detail),backgroundColor:"#6219D8",borderRadius:5,datalabels:{display:!0,color:"white",formatter(Ee,Ne){return Ee==0?"":Ee}}},{label:"Moyenne",data:[{x:$e.main,y:Math.max.apply(Math,Object.values($e.detail))+1}],backgroundColor:"#2FCC72",type:"bar",xAxisID:"x1",maxBarThickness:8,datalabels:{display:!0,color:"black",textAlign:"center",formatter(Ee,Ne){return`Moyenne
`+Ne.dataset.data[0].x.toString()}}}]},options:{scales:{y:{display:!1,grid:{drawOnChartArea:!1}},x:{display:!0,position:"bottom",grid:{drawOnChartArea:!1}},x1:{type:"linear",display:!1,position:"bottom",min:parseInt(Object.keys($e.detail)[0].split(",")[0].replace(".0","").replace(/\D/g,"")),max:parseInt(Object.keys($e.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),grid:{drawOnChartArea:!1}}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{padding:10}},tooltip:{filter(Ee){return Ee.datasetIndex===0}},datalabels:{display:!1},deferred:deferredConfig}}});B[pe.toString()]=Ee=>{Le.data.labels=Object.keys(Ee.d.detail).map(Ne=>Ne.replaceAll(".0","")),Le.data.datasets[0].data=Object.values(Ee.d.detail),Le.data.datasets[1].data=[{x:Ee.d.main,y:Math.max.apply(Math,Object.values(Ee.d.detail))+1}],Le.options.scales.x1.min=parseInt(Object.keys(Ee.d.detail).at(0).split(",").at(0).replace(".0","").replace(/\D/g,"")),Le.options.scales.x1.max=parseInt(Object.keys(Ee.d.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),Le.update(),ye.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Ee.nbrep.toString()+" r\xE9pondants"};break;case"cal":let Oe=ae.data[pe].d;ye.querySelector(".canvContain").innerHTML="<canvas></canvas>";let Ae=new Chart(ye.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Object.keys(Oe.dates).map(Ee=>new Date(Date.parse(Ee))),datasets:[{data:Object.values(Oe.dates),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm"}},grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0}},y:{display:!1}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}});B[pe.toString()]=Ee=>{Ae.data.labels=Object.keys(Ee.d.dates).map(Ne=>new Date(Date.parse(Ne)).toString()),Ae.data.datasets[0].data=Object.values(Ee.d.dates),Ae.update(),ye.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Ee.nbrep.toString()+" r\xE9pondants"};break}we.insertAdjacentElement("beforeend",ye)}}AOS.init();let X="";const J=()=>h("projects"),Q=()=>G(),Z=()=>openModal(ModalDiffuse,{proj:y}),ee=()=>{r(2,U=shareQueryCREATE(y.id))},ne=oe=>{navigator.clipboard.writeText(`retine.io/res#${oe.share_id}`),r(3,X="Lien copi\xE9!")},ie=oe=>{navigator.clipboard.writeText(oe.share_pw),r(3,X="Mot de passe copi\xE9!")},re=()=>{r(2,U=shareQueryDELETE(y.id))},te=()=>Y(),se=()=>dlData(y.id),ce=()=>delSondRtn(y.id,h),de=()=>openModal(ModalDiffuse,{proj:y}),ue=()=>delSondRtn(y.id,h),he=()=>{closeModal()};return t.$$set=oe=>{"projData"in oe&&r(0,y=oe.projData),"invit"in oe&&r(1,D=oe.invit)},t.$$.update=()=>{t.$$.dirty[0]&1024&&r(4,o=l[l.length-1])},[y,D,U,X,o,h,W,G,Y,K,l,J,Q,Z,ee,ne,ie,re,te,se,ce,de,ue,he]}class ProjectView extends SvelteComponent{constructor(e){super(),init(this,e,instance$i,create_fragment$k,safe_not_equal,{projData:0,invit:1},null,[-1,-1])}}function firstSave(t){var e=new Headers;let r=JSON.stringify(t.jsonContent);e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json");var o=JSON.stringify({nom_proj:t.nom_proj,color:t.color,jsonContent:r,priv:!0});return new Promise((l,h)=>{fetch(rtnUrl+"sondages/edit/",{method:"POST",headers:e,body:o,redirect:"follow"}).then(y=>y.text()).then(y=>{let D=JSON.parse(y).id;t.logo=JSON.parse(y).logo,l(D)}).catch(y=>h(y))})}function updateSave(t,e){var r=new Headers;let o=JSON.stringify(t.jsonContent);r.append("Authorization","Token "+xxgc("rtnt"));let l=new FormData;return l.append("nom_proj",t.nom_proj),l.append("color",t.color),l.append("jsonContent",o),l.append("priv","true"),t.logo instanceof File&&l.append("logo",t.logo),new Promise((h,y)=>{fetch(`${rtnUrl}sondages/edit/${e}/`,{method:"PUT",headers:r,body:l,redirect:"follow"}).then(D=>D.text()).then(D=>{console.log(JSON.parse(D)),JSON.parse(D).logo.includes("https")?t.logo=JSON.parse(D).logo:t.logo=`${rtnUrl}static/sond_images/rtnlogo.png`,new Date().toLocaleString(),h("saved")}).catch(D=>{y(D)})})}const validateSondage=(t,e,r)=>{Swal.fire({title:"Publier le sondage ?",text:"Vous ne pourrez plus effectuer de modifications.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2FCC72",cancelButtonColor:"grey",confirmButtonText:"Publier le sondage",cancelButtonText:"Annuler"}).then(o=>{if(o.isConfirmed){var l=new Headers;let y=JSON.stringify(t.jsonContent);l.append("Authorization","Token "+xxgc("rtnt")),l.append("Content-Type","application/json");var h=JSON.stringify({nom_proj:t.nom_proj,color:t.color==null?"#6219D8":t.color,jsonContent:y,priv:!1});return fetch(`${rtnUrl}sondages/edit/${e}/`,{method:"PUT",headers:l,body:h,redirect:"follow"}).then(D=>D.text()).then(D=>{console.log(D);let O=JSON.parse(D);Swal.fire({title:"Le sondage est publi\xE9!",icon:"success",html:`<div class="p-2 mb-2 font-weight-bold">retine.io/sondage#${O.id_rtn}</div>
              <div>Souhaitez vous \xEAtre dirig\xE9 vers l'onglet "Campagnes" pour partager votre sondage ?</div>`,showCloseButton:!0,showCancelButton:!0,focusConfirm:!0,confirmButtonText:"Oui",confirmButtonAriaLabel:"Oui",cancelButtonText:"Non",cancelButtonAriaLabel:"Non"}).then(F=>{F.isConfirmed&&r("contacts")}),r("projects")}).catch(D=>console.log("error",D))}})};function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,o)}return r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(o){_defineProperty(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function asyncGeneratorStep(t,e,r,o,l,h,y){try{var D=t[h](y),O=D.value}catch(F){return void r(F)}D.done?e(O):Promise.resolve(O).then(o,l)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(o,l){var h=t.apply(e,r);function y(O){asyncGeneratorStep(h,o,l,y,D,"next",O)}function D(O){asyncGeneratorStep(h,o,l,y,D,"throw",O)}y(void 0)})}}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _taggedTemplateLiteral(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function __decorate(t,e,r,o){var l,h=arguments.length,y=h<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,r):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(t,e,r,o);else for(var D=t.length-1;D>=0;D--)(l=t[D])&&(y=(h<3?l(y):h>3?l(e,r,y):l(e,r))||y);return h>3&&y&&Object.defineProperty(e,r,y),y}var t$3=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$8=Symbol(),n$5=new Map;class s$3{constructor(e,r){if(this._$cssResult$=!0,r!==e$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){var e=n$5.get(this.cssText);return t$3&&e===void 0&&(n$5.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}var o$5=t=>new s$3(typeof t=="string"?t:t+"",e$8),r$3=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];var l=t.length===1?t[0]:r.reduce((h,y,D)=>h+(O=>{if(O._$cssResult$===!0)return O.cssText;if(typeof O=="number")return O;throw Error("Value passed to 'css' function must be a 'css' function result: "+O+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(y)+t[D+1],t[0]);return new s$3(l,e$8)},i$3=(t,e)=>{t$3?t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):e.forEach(r=>{var o=document.createElement("style"),l=window.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=r.cssText,t.appendChild(o)})},S$1=t$3?t=>t:t=>t instanceof CSSStyleSheet?(e=>{var r="";for(var o of e.cssRules)r+=o.cssText;return o$5(r)})(t):t,s$2,e$7=window.trustedTypes,r$2=e$7?e$7.emptyScript:"",h$2=window.reactiveElementPolyfillSupport,o$4={toAttribute(t,e){switch(e){case Boolean:t=t?r$2:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){var r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},n$4=(t,e)=>e!==t&&(e==e||t==t),l$3={attribute:!0,type:String,converter:o$4,reflect:!1,hasChanged:n$4},t$2;class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){var r;(r=this.l)!==null&&r!==void 0||(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();var e=[];return this.elementProperties.forEach((r,o)=>{var l=this._$Eh(o,r);l!==void 0&&(this._$Eu.set(l,o),e.push(l))}),e}static createProperty(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l$3;if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(e,r),!r.noAccessor&&!this.prototype.hasOwnProperty(e)){var o=typeof e=="symbol"?Symbol():"__"+e,l=this.getPropertyDescriptor(e,o,r);l!==void 0&&Object.defineProperty(this.prototype,e,l)}}static getPropertyDescriptor(e,r,o){return{get(){return this[r]},set(l){var h=this[e];this[r]=l,this.requestUpdate(e,h,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var r=this.properties,o=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(var l of o)this.createProperty(l,r[l])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){var r=[];if(Array.isArray(e)){var o=new Set(e.flat(1/0).reverse());for(var l of o)r.unshift(S$1(l))}else e!==void 0&&r.push(S$1(e));return r}static _$Eh(e,r){var o=r.attribute;return o===!1?void 0:typeof o=="string"?o:typeof e=="string"?e.toLowerCase():void 0}o(){var e;this._$Ep=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Em(),this.requestUpdate(),(e=this.constructor.l)===null||e===void 0||e.forEach(r=>r(this))}addController(e){var r,o;((r=this._$Eg)!==null&&r!==void 0?r:this._$Eg=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((o=e.hostConnected)===null||o===void 0||o.call(e))}removeController(e){var r;(r=this._$Eg)===null||r===void 0||r.splice(this._$Eg.indexOf(e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((e,r)=>{this.hasOwnProperty(r)&&(this._$Et.set(r,this[r]),delete this[r])})}createRenderRoot(){var e,r=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return i$3(r,this.constructor.elementStyles),r}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$Eg)===null||e===void 0||e.forEach(r=>{var o;return(o=r.hostConnected)===null||o===void 0?void 0:o.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$Eg)===null||e===void 0||e.forEach(r=>{var o;return(o=r.hostDisconnected)===null||o===void 0?void 0:o.call(r)})}attributeChangedCallback(e,r,o){this._$AK(e,o)}_$ES(e,r){var o,l,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l$3,y=this.constructor._$Eh(e,h);if(y!==void 0&&h.reflect===!0){var D=((l=(o=h.converter)===null||o===void 0?void 0:o.toAttribute)!==null&&l!==void 0?l:o$4.toAttribute)(r,h.type);this._$Ei=e,D==null?this.removeAttribute(y):this.setAttribute(y,D),this._$Ei=null}}_$AK(e,r){var o,l,h,y=this.constructor,D=y._$Eu.get(e);if(D!==void 0&&this._$Ei!==D){var O=y.getPropertyOptions(D),F=O.converter,R=(h=(l=(o=F)===null||o===void 0?void 0:o.fromAttribute)!==null&&l!==void 0?l:typeof F=="function"?F:null)!==null&&h!==void 0?h:o$4.fromAttribute;this._$Ei=D,this[D]=R(r,O.type),this._$Ei=null}}requestUpdate(e,r,o){var l=!0;e!==void 0&&(((o=o||this.constructor.getPropertyOptions(e)).hasChanged||n$4)(this[e],r)?(this._$AL.has(e)||this._$AL.set(e,r),o.reflect===!0&&this._$Ei!==e&&(this._$E_===void 0&&(this._$E_=new Map),this._$E_.set(e,o))):l=!1),!this.isUpdatePending&&l&&(this._$Ep=this._$EC())}_$EC(){var e=this;return _asyncToGenerator(function*(){e.isUpdatePending=!0;try{yield e._$Ep}catch(o){Promise.reject(o)}var r=e.scheduleUpdate();return r!=null&&(yield r),!e.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((l,h)=>this[h]=l),this._$Et=void 0);var r=!1,o=this._$AL;try{(r=this.shouldUpdate(o))?(this.willUpdate(o),(e=this._$Eg)===null||e===void 0||e.forEach(l=>{var h;return(h=l.hostUpdate)===null||h===void 0?void 0:h.call(l)}),this.update(o)):this._$EU()}catch(l){throw r=!1,this._$EU(),l}r&&this._$AE(o)}}willUpdate(e){}_$AE(e){var r;(r=this._$Eg)===null||r===void 0||r.forEach(o=>{var l;return(l=o.hostUpdated)===null||l===void 0?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(e){return!0}update(e){this._$E_!==void 0&&(this._$E_.forEach((r,o)=>this._$ES(o,this[o],r)),this._$E_=void 0),this._$EU()}updated(e){}firstUpdated(e){}}a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},h$2==null||h$2({ReactiveElement:a$1}),((s$2=globalThis.reactiveElementVersions)!==null&&s$2!==void 0?s$2:globalThis.reactiveElementVersions=[]).push("1.2.1");var i$2=globalThis.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:t=>t}):void 0,e$6="lit$".concat((Math.random()+"").slice(9),"$"),o$3="?"+e$6,n$3="<".concat(o$3,">"),l$2=document,h$1=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return l$2.createComment(t)},r$1=t=>t===null||typeof t!="object"&&typeof t!="function",d=Array.isArray,u=t=>{var e;return d(t)||typeof((e=t)===null||e===void 0?void 0:e[Symbol.iterator])=="function"},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea)$/i,p=t=>function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return{_$litType$:t,strings:e,values:o}},$=p(1),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=(t,e,r)=>{var o,l,h=(o=r==null?void 0:r.renderBefore)!==null&&o!==void 0?o:e,y=h._$litPart$;if(y===void 0){var D=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;h._$litPart$=y=new N(e.insertBefore(h$1(),D),D,void 0,r!=null?r:{})}return y._$AI(t),y},A=l$2.createTreeWalker(l$2,129,null,!1),C=(t,e)=>{for(var r,o=t.length-1,l=[],h=e===2?"<svg>":"",y=c,D=0;D<o;D++){for(var O=t[D],F=void 0,R=void 0,B=-1,j=0;j<O.length&&(y.lastIndex=j,(R=y.exec(O))!==null);)j=y.lastIndex,y===c?R[1]==="!--"?y=v:R[1]!==void 0?y=a:R[2]!==void 0?(g.test(R[2])&&(r=RegExp("</"+R[2],"g")),y=f):R[3]!==void 0&&(y=f):y===f?R[0]===">"?(y=r!=null?r:c,B=-1):R[1]===void 0?B=-2:(B=y.lastIndex-R[2].length,F=R[1],y=R[3]===void 0?f:R[3]==='"'?m:_):y===m||y===_?y=f:y===v||y===a?y=c:(y=f,r=void 0);var U=y===f&&t[D+1].startsWith("/>")?" ":"";h+=y===c?O+n$3:B>=0?(l.push(F),O.slice(0,B)+"$lit$"+O.slice(B)+e$6+U):O+e$6+(B===-2?(l.push(void 0),D):U)}var q=h+(t[o]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[s$1!==void 0?s$1.createHTML(q):q,l]};class E{constructor(e,r){var o,{strings:l,_$litType$:h}=e;this.parts=[];var y=0,D=0,O=l.length-1,F=this.parts,[R,B]=C(l,h);if(this.el=E.createElement(R,r),A.currentNode=this.el.content,h===2){var j=this.el.content,U=j.firstChild;U.remove(),j.append(...U.childNodes)}for(;(o=A.nextNode())!==null&&F.length<O;){if(o.nodeType===1){if(o.hasAttributes()){var q=[];for(var W of o.getAttributeNames())if(W.endsWith("$lit$")||W.startsWith(e$6)){var G=B[D++];if(q.push(W),G!==void 0){var Y=o.getAttribute(G.toLowerCase()+"$lit$").split(e$6),K=/([.?@])?(.*)/.exec(G);F.push({type:1,index:y,name:K[2],strings:Y,ctor:K[1]==="."?M:K[1]==="?"?H:K[1]==="@"?I:S})}else F.push({type:6,index:y})}for(var X of q)o.removeAttribute(X)}if(g.test(o.tagName)){var J=o.textContent.split(e$6),Q=J.length-1;if(Q>0){o.textContent=i$2?i$2.emptyScript:"";for(var Z=0;Z<Q;Z++)o.append(J[Z],h$1()),A.nextNode(),F.push({type:2,index:++y});o.append(J[Q],h$1())}}}else if(o.nodeType===8)if(o.data===o$3)F.push({type:2,index:y});else for(var ee=-1;(ee=o.data.indexOf(e$6,ee+1))!==-1;)F.push({type:7,index:y}),ee+=e$6.length-1;y++}}static createElement(e,r){var o=l$2.createElement("template");return o.innerHTML=e,o}}function P(t,e){var r,o,l,h,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,D=arguments.length>3?arguments[3]:void 0;if(e===b)return e;var O=D!==void 0?(r=y._$Cl)===null||r===void 0?void 0:r[D]:y._$Cu,F=r$1(e)?void 0:e._$litDirective$;return(O==null?void 0:O.constructor)!==F&&((o=O==null?void 0:O._$AO)===null||o===void 0||o.call(O,!1),F===void 0?O=void 0:(O=new F(t))._$AT(t,y,D),D!==void 0?((l=(h=y)._$Cl)!==null&&l!==void 0?l:h._$Cl=[])[D]=O:y._$Cu=O),O!==void 0&&(e=P(t,O._$AS(t,e.values),O,D)),e}class V{constructor(e,r){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(e){var r,{el:{content:o},parts:l}=this._$AD,h=((r=e==null?void 0:e.creationScope)!==null&&r!==void 0?r:l$2).importNode(o,!0);A.currentNode=h;for(var y=A.nextNode(),D=0,O=0,F=l[0];F!==void 0;){if(D===F.index){var R=void 0;F.type===2?R=new N(y,y.nextSibling,this,e):F.type===1?R=new F.ctor(y,F.name,F.strings,this,e):F.type===6&&(R=new L(y,this,e)),this.v.push(R),F=l[++O]}D!==(F==null?void 0:F.index)&&(y=A.nextNode(),D++)}return h}m(e){var r=0;for(var o of this.v)o!==void 0&&(o.strings!==void 0?(o._$AI(e,o,r),r+=o.strings.length-2):o._$AI(e[r])),r++}}class N{constructor(e,r,o,l){var h;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=o,this.options=l,this._$Cg=(h=l==null?void 0:l.isConnected)===null||h===void 0||h}get _$AU(){var e,r;return(r=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&r!==void 0?r:this._$Cg}get parentNode(){var e=this._$AA.parentNode,r=this._$AM;return r!==void 0&&e.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e){e=P(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),r$1(e)?e===w||e==null||e===""?(this._$AH!==w&&this._$AR(),this._$AH=w):e!==this._$AH&&e!==b&&this.$(e):e._$litType$!==void 0?this.T(e):e.nodeType!==void 0?this.S(e):u(e)?this.A(e):this.$(e)}M(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,r)}S(e){this._$AH!==e&&(this._$AR(),this._$AH=this.M(e))}$(e){this._$AH!==w&&r$1(this._$AH)?this._$AA.nextSibling.data=e:this.S(l$2.createTextNode(e)),this._$AH=e}T(e){var r,{values:o,_$litType$:l}=e,h=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=E.createElement(l.h,this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===h)this._$AH.m(o);else{var y=new V(h,this),D=y.p(this.options);y.m(o),this.S(D),this._$AH=y}}_$AC(e){var r=T.get(e.strings);return r===void 0&&T.set(e.strings,r=new E(e)),r}A(e){d(this._$AH)||(this._$AH=[],this._$AR());var r,o=this._$AH,l=0;for(var h of e)l===o.length?o.push(r=new N(this.M(h$1()),this.M(h$1()),this,this.options)):r=o[l],r._$AI(h),l++;l<o.length&&(this._$AR(r&&r._$AB.nextSibling,l),o.length=l)}_$AR(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0;for((e=this._$AP)===null||e===void 0||e.call(this,!1,!0,o);r&&r!==this._$AB;){var l=r.nextSibling;r.remove(),r=l}}setConnected(e){var r;this._$AM===void 0&&(this._$Cg=e,(r=this._$AP)===null||r===void 0||r.call(this,e))}}class S{constructor(e,r,o,l,h){this.type=1,this._$AH=w,this._$AN=void 0,this.element=e,this.name=r,this._$AM=l,this.options=h,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,h=this.strings,y=!1;if(h===void 0)e=P(this,e,r,0),(y=!r$1(e)||e!==this._$AH&&e!==b)&&(this._$AH=e);else{var D,O,F=e;for(e=h[0],D=0;D<h.length-1;D++)(O=P(this,F[o+D],r,D))===b&&(O=this._$AH[D]),y||(y=!r$1(O)||O!==this._$AH[D]),O===w?e=w:e!==w&&(e+=(O!=null?O:"")+h[D+1]),this._$AH[D]=O}y&&!l&&this.k(e)}k(e){e===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}class M extends S{constructor(){super(...arguments),this.type=3}k(e){this.element[this.name]=e===w?void 0:e}}var k=i$2?i$2.emptyScript:"";class H extends S{constructor(){super(...arguments),this.type=4}k(e){e&&e!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(e,r,o,l,h){super(e,r,o,l,h),this.type=5}_$AI(e){var r;if((e=(r=P(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&r!==void 0?r:w)!==b){var o=this._$AH,l=e===w&&o!==w||e.capture!==o.capture||e.once!==o.once||e.passive!==o.passive,h=e!==w&&(o===w||l);l&&this.element.removeEventListener(this.name,this,o),h&&this.element.addEventListener(this.name,this,e),this._$AH=e}}handleEvent(e){var r,o;typeof this._$AH=="function"?this._$AH.call((o=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&o!==void 0?o:this.element,e):this._$AH.handleEvent(e)}}class L{constructor(e,r,o){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(e){P(this,e)}}var z=window.litHtmlPolyfillSupport,l$1,o$2;z==null||z(E,N),((t$2=globalThis.litHtmlVersions)!==null&&t$2!==void 0?t$2:globalThis.litHtmlVersions=[]).push("2.1.2");class s extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,r,o=super.createRenderRoot();return(e=(r=this.renderOptions).renderBefore)!==null&&e!==void 0||(r.renderBefore=o.firstChild),o}update(e){var r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=x(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,(l$1=globalThis.litElementHydrateSupport)===null||l$1===void 0||l$1.call(globalThis,{LitElement:s});var n$2=globalThis.litElementPolyfillSupport;n$2==null||n$2({LitElement:s});((o$2=globalThis.litElementVersions)!==null&&o$2!==void 0?o$2:globalThis.litElementVersions=[]).push("3.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n$1=t=>e=>typeof e=="function"?((r,o)=>(window.customElements.define(r,o),o))(t,e):((r,o)=>{var{kind:l,elements:h}=o;return{kind:l,elements:h,finisher(y){window.customElements.define(r,y)}}})(t,e),i$1=(t,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?_objectSpread2(_objectSpread2({},e),{},{finisher(r){r.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}};function e$5(t){return(e,r)=>r!==void 0?((o,l,h)=>{l.constructor.createProperty(h,o)})(t,e,r):i$1(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$1=t=>{var{finisher:e,descriptor:r}=t;return(o,l)=>{var h;if(l===void 0){var y=(h=o.originalKey)!==null&&h!==void 0?h:o.key,D=r!=null?{kind:"method",placement:"prototype",key:y,descriptor:r(o.key)}:_objectSpread2(_objectSpread2({},o),{},{key:y});return e!=null&&(D.finisher=function(F){e(F,y)}),D}var O=o.constructor;r!==void 0&&Object.defineProperty(o,l,r(l)),e==null||e(O,l)}},n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function i(t,e){return o$1({descriptor:r=>{var o={get(){var h,y;return(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(t))!==null&&y!==void 0?y:null},enumerable:!0,configurable:!0};if(e){var l=typeof r=="symbol"?Symbol():"__"+r;o.get=function(){var h,y;return this[l]===void 0&&(this[l]=(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(t))!==null&&y!==void 0?y:null),this[l]}}return o}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */((n=window.HTMLSlotElement)===null||n===void 0?void 0:n.prototype.assignedElements)!=null;var lottie$1={exports:{}};(function(module){var root,factory;typeof navigator!="undefined"&&(root=window||{},factory=function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}(function(){var t,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=e.length;for(t=0;t<r;t+=1)BMMath[e[t]]=Math[e[t]]})(),BMMath.random=Math.random,BMMath.abs=function(t){if(typeof t=="object"&&t.length){var e,r=createSizedArray(t.length),o=t.length;for(e=0;e<o;e+=1)r[e]=Math.abs(t[e]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,r,o){this.type=t,this.currentTime=e,this.totalTime=r,this.direction=o<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,r,o){this.type=t,this.currentLoop=r,this.totalLoops=e,this.direction=o<0?-1:1}function BMSegmentStartEvent(t,e,r){this.type=t,this.firstFrame=e,this.totalFrames=r}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=(_count=0,function(){return idPrefix+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(t,e,r){var o,l,h,y,D,O,F,R;switch(O=r*(1-e),F=r*(1-(D=6*t-(y=Math.floor(6*t)))*e),R=r*(1-(1-D)*e),y%6){case 0:o=r,l=R,h=O;break;case 1:o=F,l=r,h=O;break;case 2:o=O,l=r,h=R;break;case 3:o=O,l=F,h=r;break;case 4:o=R,l=O,h=r;break;case 5:o=r,l=O,h=F}return[o,l,h]}function RGBtoHSV(t,e,r){var o,l=Math.max(t,e,r),h=Math.min(t,e,r),y=l-h,D=l===0?0:y/l,O=l/255;switch(l){case h:o=0;break;case t:o=e-r+y*(e<r?6:0),o/=6*y;break;case e:o=r-t+2*y,o/=6*y;break;case r:o=t-e+4*y,o/=6*y}return[o,D,O]}function addSaturationToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=e,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=e,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,e){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=e/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,e,r=[];for(t=0;t<256;t+=1)e=t.toString(16),r[t]=e.length===1?"0"+e:e;return function(o,l,h){return o<0&&(o=0),l<0&&(l=0),h<0&&(h=0),"#"+r[o]+r[l]+r[h]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var r=this._cbs[t],o=0;o<r.length;o+=1)r[o](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var r=0,o=this._cbs[t].length;r<o;)this._cbs[t][r]===e&&(this._cbs[t].splice(r,1),r-=1,o-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray=function(){function t(e,r){var o,l=0,h=[];switch(e){case"int16":case"uint8c":o=1;break;default:o=1.1}for(l=0;l<r;l+=1)h.push(o);return h}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(e,r){return e==="float32"?new Float32Array(r):e==="int16"?new Int16Array(r):e==="uint8c"?new Uint8ClampedArray(r):t(e,r)}:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var t;this._mdf=!1;var e=this.dynamicProperties.length;for(t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return blendModeEnums[t]||""}),blendModeEnums,lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"},Matrix=function(){var t=Math.cos,e=Math.sin,r=Math.tan,o=Math.round;function l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function h(oe){if(oe===0)return this;var ae=t(oe),le=e(oe);return this._t(ae,-le,0,0,le,ae,0,0,0,0,1,0,0,0,0,1)}function y(oe){if(oe===0)return this;var ae=t(oe),le=e(oe);return this._t(1,0,0,0,0,ae,-le,0,0,le,ae,0,0,0,0,1)}function D(oe){if(oe===0)return this;var ae=t(oe),le=e(oe);return this._t(ae,0,le,0,0,1,0,0,-le,0,ae,0,0,0,0,1)}function O(oe){if(oe===0)return this;var ae=t(oe),le=e(oe);return this._t(ae,-le,0,0,le,ae,0,0,0,0,1,0,0,0,0,1)}function F(oe,ae){return this._t(1,ae,oe,1,0,0)}function R(oe,ae){return this.shear(r(oe),r(ae))}function B(oe,ae){var le=t(ae),fe=e(ae);return this._t(le,fe,0,0,-fe,le,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(oe),1,0,0,0,0,1,0,0,0,0,1)._t(le,-fe,0,0,fe,le,0,0,0,0,1,0,0,0,0,1)}function j(oe,ae,le){return le||le===0||(le=1),oe===1&&ae===1&&le===1?this:this._t(oe,0,0,0,0,ae,0,0,0,0,le,0,0,0,0,1)}function U(oe,ae,le,fe,we,me,ge,Se,ke,_e,xe,Ce,pe,ye,be,Pe){return this.props[0]=oe,this.props[1]=ae,this.props[2]=le,this.props[3]=fe,this.props[4]=we,this.props[5]=me,this.props[6]=ge,this.props[7]=Se,this.props[8]=ke,this.props[9]=_e,this.props[10]=xe,this.props[11]=Ce,this.props[12]=pe,this.props[13]=ye,this.props[14]=be,this.props[15]=Pe,this}function q(oe,ae,le){return le=le||0,oe!==0||ae!==0||le!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,oe,ae,le,1):this}function W(oe,ae,le,fe,we,me,ge,Se,ke,_e,xe,Ce,pe,ye,be,Pe){var ve=this.props;if(oe===1&&ae===0&&le===0&&fe===0&&we===0&&me===1&&ge===0&&Se===0&&ke===0&&_e===0&&xe===1&&Ce===0)return ve[12]=ve[12]*oe+ve[15]*pe,ve[13]=ve[13]*me+ve[15]*ye,ve[14]=ve[14]*xe+ve[15]*be,ve[15]*=Pe,this._identityCalculated=!1,this;var Te=ve[0],Ie=ve[1],Fe=ve[2],Me=ve[3],De=ve[4],Be=ve[5],ze=ve[6],Ue=ve[7],Re=ve[8],$e=ve[9],He=ve[10],Le=ve[11],Oe=ve[12],Ae=ve[13],Ee=ve[14],Ne=ve[15];return ve[0]=Te*oe+Ie*we+Fe*ke+Me*pe,ve[1]=Te*ae+Ie*me+Fe*_e+Me*ye,ve[2]=Te*le+Ie*ge+Fe*xe+Me*be,ve[3]=Te*fe+Ie*Se+Fe*Ce+Me*Pe,ve[4]=De*oe+Be*we+ze*ke+Ue*pe,ve[5]=De*ae+Be*me+ze*_e+Ue*ye,ve[6]=De*le+Be*ge+ze*xe+Ue*be,ve[7]=De*fe+Be*Se+ze*Ce+Ue*Pe,ve[8]=Re*oe+$e*we+He*ke+Le*pe,ve[9]=Re*ae+$e*me+He*_e+Le*ye,ve[10]=Re*le+$e*ge+He*xe+Le*be,ve[11]=Re*fe+$e*Se+He*Ce+Le*Pe,ve[12]=Oe*oe+Ae*we+Ee*ke+Ne*pe,ve[13]=Oe*ae+Ae*me+Ee*_e+Ne*ye,ve[14]=Oe*le+Ae*ge+Ee*xe+Ne*be,ve[15]=Oe*fe+Ae*Se+Ee*Ce+Ne*Pe,this._identityCalculated=!1,this}function G(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Y(oe){for(var ae=0;ae<16;){if(oe.props[ae]!==this.props[ae])return!1;ae+=1}return!0}function K(oe){var ae;for(ae=0;ae<16;ae+=1)oe.props[ae]=this.props[ae];return oe}function X(oe){var ae;for(ae=0;ae<16;ae+=1)this.props[ae]=oe[ae]}function J(oe,ae,le){return{x:oe*this.props[0]+ae*this.props[4]+le*this.props[8]+this.props[12],y:oe*this.props[1]+ae*this.props[5]+le*this.props[9]+this.props[13],z:oe*this.props[2]+ae*this.props[6]+le*this.props[10]+this.props[14]}}function Q(oe,ae,le){return oe*this.props[0]+ae*this.props[4]+le*this.props[8]+this.props[12]}function Z(oe,ae,le){return oe*this.props[1]+ae*this.props[5]+le*this.props[9]+this.props[13]}function ee(oe,ae,le){return oe*this.props[2]+ae*this.props[6]+le*this.props[10]+this.props[14]}function ne(){var oe=this.props[0]*this.props[5]-this.props[1]*this.props[4],ae=this.props[5]/oe,le=-this.props[1]/oe,fe=-this.props[4]/oe,we=this.props[0]/oe,me=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/oe,ge=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/oe,Se=new Matrix;return Se.props[0]=ae,Se.props[1]=le,Se.props[4]=fe,Se.props[5]=we,Se.props[12]=me,Se.props[13]=ge,Se}function ie(oe){return this.getInverseMatrix().applyToPointArray(oe[0],oe[1],oe[2]||0)}function re(oe){var ae,le=oe.length,fe=[];for(ae=0;ae<le;ae+=1)fe[ae]=ie(oe[ae]);return fe}function te(oe,ae,le){var fe=createTypedArray("float32",6);if(this.isIdentity())fe[0]=oe[0],fe[1]=oe[1],fe[2]=ae[0],fe[3]=ae[1],fe[4]=le[0],fe[5]=le[1];else{var we=this.props[0],me=this.props[1],ge=this.props[4],Se=this.props[5],ke=this.props[12],_e=this.props[13];fe[0]=oe[0]*we+oe[1]*ge+ke,fe[1]=oe[0]*me+oe[1]*Se+_e,fe[2]=ae[0]*we+ae[1]*ge+ke,fe[3]=ae[0]*me+ae[1]*Se+_e,fe[4]=le[0]*we+le[1]*ge+ke,fe[5]=le[0]*me+le[1]*Se+_e}return fe}function se(oe,ae,le){return this.isIdentity()?[oe,ae,le]:[oe*this.props[0]+ae*this.props[4]+le*this.props[8]+this.props[12],oe*this.props[1]+ae*this.props[5]+le*this.props[9]+this.props[13],oe*this.props[2]+ae*this.props[6]+le*this.props[10]+this.props[14]]}function ce(oe,ae){if(this.isIdentity())return oe+","+ae;var le=this.props;return Math.round(100*(oe*le[0]+ae*le[4]+le[12]))/100+","+Math.round(100*(oe*le[1]+ae*le[5]+le[13]))/100}function de(){for(var oe=0,ae=this.props,le="matrix3d(";oe<16;)le+=o(1e4*ae[oe])/1e4,le+=oe===15?")":",",oe+=1;return le}function ue(oe){return oe<1e-6&&oe>0||oe>-1e-6&&oe<0?o(1e4*oe)/1e4:oe}function he(){var oe=this.props;return"matrix("+ue(oe[0])+","+ue(oe[1])+","+ue(oe[4])+","+ue(oe[5])+","+ue(oe[12])+","+ue(oe[13])+")"}return function(){this.reset=l,this.rotate=h,this.rotateX=y,this.rotateY=D,this.rotateZ=O,this.skew=R,this.skewFromAxis=B,this.shear=F,this.scale=j,this.setTransform=U,this.translate=q,this.transform=W,this.applyToPoint=J,this.applyToX=Q,this.applyToY=Z,this.applyToZ=ee,this.applyToPointArray=se,this.applyToTriplePoints=te,this.applyToPointStringified=ce,this.toCSS=de,this.to2dCSS=he,this.clone=K,this.cloneFromProps=X,this.equals=Y,this.inversePoints=re,this.inversePoint=ie,this.getInverseMatrix=ne,this._t=this.transform,this.isIdentity=G,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();(function(t,e){var r=this,o=256,l=e.pow(o,6),h=e.pow(2,52),y=2*h,D=255;function O(U){var q,W=U.length,G=this,Y=0,K=G.i=G.j=0,X=G.S=[];for(W||(U=[W++]);Y<o;)X[Y]=Y++;for(Y=0;Y<o;Y++)X[Y]=X[K=D&K+U[Y%W]+(q=X[Y])],X[K]=q;G.g=function(J){for(var Q,Z=0,ee=G.i,ne=G.j,ie=G.S;J--;)Q=ie[ee=D&ee+1],Z=Z*o+ie[D&(ie[ee]=ie[ne=D&ne+Q])+(ie[ne]=Q)];return G.i=ee,G.j=ne,Z}}function F(U,q){return q.i=U.i,q.j=U.j,q.S=U.S.slice(),q}function R(U,q){var W,G=[],Y=typeof U;if(q&&Y=="object")for(W in U)try{G.push(R(U[W],q-1))}catch{}return G.length?G:Y=="string"?U:U+"\0"}function B(U,q){for(var W,G=U+"",Y=0;Y<G.length;)q[D&Y]=D&(W^=19*q[D&Y])+G.charCodeAt(Y++);return j(q)}function j(U){return String.fromCharCode.apply(0,U)}e.seedrandom=function(U,q,W){var G=[],Y=B(R((q=q===!0?{entropy:!0}:q||{}).entropy?[U,j(t)]:U===null?function(){try{var J=new Uint8Array(o);return(r.crypto||r.msCrypto).getRandomValues(J),j(J)}catch{var Q=r.navigator,Z=Q&&Q.plugins;return[+new Date,r,Z,r.screen,j(t)]}}():U,3),G),K=new O(G),X=function(){for(var J=K.g(6),Q=l,Z=0;J<h;)J=(J+Z)*o,Q*=o,Z=K.g(1);for(;J>=y;)J/=2,Q/=2,Z>>>=1;return(J+Z)/Q};return X.int32=function(){return 0|K.g(4)},X.quick=function(){return K.g(4)/4294967296},X.double=X,B(j(K.S),t),(q.pass||W||function(J,Q,Z,ee){return ee&&(ee.S&&F(ee,K),J.state=function(){return F(K,{})}),Z?(e.random=J,Q):J})(X,Y,"global"in q?q.global:this==e,q.state)},B(e.random(),t)})([],BMMath);var BezierFactory=function(){var t={getBezierEasing:function(R,B,j,U,q){var W=q||("bez_"+R+"_"+B+"_"+j+"_"+U).replace(/\./g,"p");if(e[W])return e[W];var G=new F([R,B,j,U]);return e[W]=G,G}},e={},r=.1,o=typeof Float32Array=="function";function l(R,B){return 1-3*B+3*R}function h(R,B){return 3*B-6*R}function y(R){return 3*R}function D(R,B,j){return((l(B,j)*R+h(B,j))*R+y(B))*R}function O(R,B,j){return 3*l(B,j)*R*R+2*h(B,j)*R+y(B)}function F(R){this._p=R,this._mSampleValues=o?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return F.prototype={get:function(R){var B=this._p[0],j=this._p[1],U=this._p[2],q=this._p[3];return this._precomputed||this._precompute(),B===j&&U===q?R:R===0?0:R===1?1:D(this._getTForX(R),j,q)},_precompute:function(){var R=this._p[0],B=this._p[1],j=this._p[2],U=this._p[3];this._precomputed=!0,R===B&&j===U||this._calcSampleValues()},_calcSampleValues:function(){for(var R=this._p[0],B=this._p[2],j=0;j<11;++j)this._mSampleValues[j]=D(j*r,R,B)},_getTForX:function(R){for(var B=this._p[0],j=this._p[2],U=this._mSampleValues,q=0,W=1;W!==10&&U[W]<=R;++W)q+=r;var G=q+(R-U[--W])/(U[W+1]-U[W])*r,Y=O(G,B,j);return Y>=.001?function(K,X,J,Q){for(var Z=0;Z<4;++Z){var ee=O(X,J,Q);if(ee===0)return X;X-=(D(X,J,Q)-K)/ee}return X}(R,G,B,j):Y===0?G:function(K,X,J,Q,Z){var ee,ne,ie=0;do(ee=D(ne=X+(J-X)/2,Q,Z)-K)>0?J=ne:X=ne;while(Math.abs(ee)>1e-7&&++ie<10);return ne}(R,q,q+r,B,j)}},t}();function extendPrototype(t,e){var r,o,l=t.length;for(r=0;r<l;r+=1)for(var h in o=t[r].prototype)Object.prototype.hasOwnProperty.call(o,h)&&(e.prototype[h]=o[h])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){var t=Math;function e(F,R,B,j,U,q){var W=F*j+R*U+B*q-U*j-q*F-B*R;return W>-.001&&W<.001}var r=function(F,R,B,j){var U,q,W,G,Y,K,X=defaultCurveSegments,J=0,Q=[],Z=[],ee=bezierLengthPool.newElement();for(W=B.length,U=0;U<X;U+=1){for(Y=U/(X-1),K=0,q=0;q<W;q+=1)G=bmPow(1-Y,3)*F[q]+3*bmPow(1-Y,2)*Y*B[q]+3*(1-Y)*bmPow(Y,2)*j[q]+bmPow(Y,3)*R[q],Q[q]=G,Z[q]!==null&&(K+=bmPow(Q[q]-Z[q],2)),Z[q]=Q[q];K&&(J+=K=bmSqrt(K)),ee.percents[U]=Y,ee.lengths[U]=J}return ee.addedLength=J,ee};function o(F){this.segmentLength=0,this.points=new Array(F)}function l(F,R){this.partialLength=F,this.point=R}var h,y=(h={},function(F,R,B,j){var U=(F[0]+"_"+F[1]+"_"+R[0]+"_"+R[1]+"_"+B[0]+"_"+B[1]+"_"+j[0]+"_"+j[1]).replace(/\./g,"p");if(!h[U]){var q,W,G,Y,K,X,J,Q=defaultCurveSegments,Z=0,ee=null;F.length===2&&(F[0]!==R[0]||F[1]!==R[1])&&e(F[0],F[1],R[0],R[1],F[0]+B[0],F[1]+B[1])&&e(F[0],F[1],R[0],R[1],R[0]+j[0],R[1]+j[1])&&(Q=2);var ne=new o(Q);for(G=B.length,q=0;q<Q;q+=1){for(J=createSizedArray(G),K=q/(Q-1),X=0,W=0;W<G;W+=1)Y=bmPow(1-K,3)*F[W]+3*bmPow(1-K,2)*K*(F[W]+B[W])+3*(1-K)*bmPow(K,2)*(R[W]+j[W])+bmPow(K,3)*R[W],J[W]=Y,ee!==null&&(X+=bmPow(J[W]-ee[W],2));Z+=X=bmSqrt(X),ne.points[q]=new l(X,J),ee=J}ne.segmentLength=Z,h[U]=ne}return h[U]});function D(F,R){var B=R.percents,j=R.lengths,U=B.length,q=bmFloor((U-1)*F),W=F*R.addedLength,G=0;if(q===U-1||q===0||W===j[q])return B[q];for(var Y=j[q]>W?-1:1,K=!0;K;)if(j[q]<=W&&j[q+1]>W?(G=(W-j[q])/(j[q+1]-j[q]),K=!1):q+=Y,q<0||q>=U-1){if(q===U-1)return B[q];K=!1}return B[q]+(B[q+1]-B[q])*G}var O=createTypedArray("float32",8);return{getSegmentsLength:function(F){var R,B=segmentsLengthPool.newElement(),j=F.c,U=F.v,q=F.o,W=F.i,G=F._length,Y=B.lengths,K=0;for(R=0;R<G-1;R+=1)Y[R]=r(U[R],U[R+1],q[R],W[R+1]),K+=Y[R].addedLength;return j&&G&&(Y[R]=r(U[R],U[0],q[R],W[0]),K+=Y[R].addedLength),B.totalLength=K,B},getNewSegment:function(F,R,B,j,U,q,W){U<0?U=0:U>1&&(U=1);var G,Y=D(U,W),K=D(q=q>1?1:q,W),X=F.length,J=1-Y,Q=1-K,Z=J*J*J,ee=Y*J*J*3,ne=Y*Y*J*3,ie=Y*Y*Y,re=J*J*Q,te=Y*J*Q+J*Y*Q+J*J*K,se=Y*Y*Q+J*Y*K+Y*J*K,ce=Y*Y*K,de=J*Q*Q,ue=Y*Q*Q+J*K*Q+J*Q*K,he=Y*K*Q+J*K*K+Y*Q*K,oe=Y*K*K,ae=Q*Q*Q,le=K*Q*Q+Q*K*Q+Q*Q*K,fe=K*K*Q+Q*K*K+K*Q*K,we=K*K*K;for(G=0;G<X;G+=1)O[4*G]=t.round(1e3*(Z*F[G]+ee*B[G]+ne*j[G]+ie*R[G]))/1e3,O[4*G+1]=t.round(1e3*(re*F[G]+te*B[G]+se*j[G]+ce*R[G]))/1e3,O[4*G+2]=t.round(1e3*(de*F[G]+ue*B[G]+he*j[G]+oe*R[G]))/1e3,O[4*G+3]=t.round(1e3*(ae*F[G]+le*B[G]+fe*j[G]+we*R[G]))/1e3;return O},getPointInSegment:function(F,R,B,j,U,q){var W=D(U,q),G=1-W;return[t.round(1e3*(G*G*G*F[0]+(W*G*G+G*W*G+G*G*W)*B[0]+(W*W*G+G*W*W+W*G*W)*j[0]+W*W*W*R[0]))/1e3,t.round(1e3*(G*G*G*F[1]+(W*G*G+G*W*G+G*G*W)*B[1]+(W*W*G+G*W*W+W*G*W)*j[1]+W*W*W*R[1]))/1e3]},buildBezierData:y,pointOnLine2D:e,pointOnLine3D:function(F,R,B,j,U,q,W,G,Y){if(B===0&&q===0&&Y===0)return e(F,R,j,U,W,G);var K,X=t.sqrt(t.pow(j-F,2)+t.pow(U-R,2)+t.pow(q-B,2)),J=t.sqrt(t.pow(W-F,2)+t.pow(G-R,2)+t.pow(Y-B,2)),Q=t.sqrt(t.pow(W-j,2)+t.pow(G-U,2)+t.pow(Y-q,2));return(K=X>J?X>Q?X-J-Q:Q-J-X:Q>J?Q-J-X:J-X-Q)>-1e-4&&K<1e-4}}}(function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(o){var l=new Date().getTime(),h=Math.max(0,16-(l-t)),y=setTimeout(function(){o(l+h)},h);return t=l+h,y}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)})})();var bez=bezFunction(),dataManager=function(){var t,e,r=1,o=[],l={onmessage:function(){},postMessage:function(O){t({data:O})}},h={postMessage:function(O){l.onmessage({data:O})}};function y(){e||(e=function(O){if(window.Worker&&window.Blob&&_useWebWorker){var F=new Blob(["var _workerSelf = self; self.onmessage = ",O.toString()],{type:"text/javascript"}),R=URL.createObjectURL(F);return new Worker(R)}return t=O,l}(function(O){if(h.dataManager||(h.dataManager=function(){function R(ee,ne){var ie,re,te,se,ce,de,ue=ee.length;for(re=0;re<ue;re+=1)if("ks"in(ie=ee[re])&&!ie.completed){if(ie.completed=!0,ie.tt&&(ee[re-1].td=ie.tt),ie.hasMask){var he=ie.masksProperties;for(se=he.length,te=0;te<se;te+=1)if(he[te].pt.k.i)U(he[te].pt.k);else for(de=he[te].pt.k.length,ce=0;ce<de;ce+=1)he[te].pt.k[ce].s&&U(he[te].pt.k[ce].s[0]),he[te].pt.k[ce].e&&U(he[te].pt.k[ce].e[0])}ie.ty===0?(ie.layers=B(ie.refId,ne),R(ie.layers,ne)):ie.ty===4?j(ie.shapes):ie.ty===5&&Q(ie)}}function B(ee,ne){for(var ie=0,re=ne.length;ie<re;){if(ne[ie].id===ee)return ne[ie].layers.__used?JSON.parse(JSON.stringify(ne[ie].layers)):(ne[ie].layers.__used=!0,ne[ie].layers);ie+=1}return null}function j(ee){var ne,ie,re;for(ne=ee.length-1;ne>=0;ne-=1)if(ee[ne].ty==="sh")if(ee[ne].ks.k.i)U(ee[ne].ks.k);else for(re=ee[ne].ks.k.length,ie=0;ie<re;ie+=1)ee[ne].ks.k[ie].s&&U(ee[ne].ks.k[ie].s[0]),ee[ne].ks.k[ie].e&&U(ee[ne].ks.k[ie].e[0]);else ee[ne].ty==="gr"&&j(ee[ne].it)}function U(ee){var ne,ie=ee.i.length;for(ne=0;ne<ie;ne+=1)ee.i[ne][0]+=ee.v[ne][0],ee.i[ne][1]+=ee.v[ne][1],ee.o[ne][0]+=ee.v[ne][0],ee.o[ne][1]+=ee.v[ne][1]}function q(ee,ne){var ie=ne?ne.split("."):[100,100,100];return ee[0]>ie[0]||!(ie[0]>ee[0])&&(ee[1]>ie[1]||!(ie[1]>ee[1])&&(ee[2]>ie[2]||!(ie[2]>ee[2])&&null))}var W,G=function(){var ee=[4,4,14];function ne(ie){var re,te,se,ce=ie.length;for(re=0;re<ce;re+=1)ie[re].ty===5&&(se=void 0,se=(te=ie[re]).t.d,te.t.d={k:[{s:se,t:0}]})}return function(ie){if(q(ee,ie.v)&&(ne(ie.layers),ie.assets)){var re,te=ie.assets.length;for(re=0;re<te;re+=1)ie.assets[re].layers&&ne(ie.assets[re].layers)}}}(),Y=(W=[4,7,99],function(ee){if(ee.chars&&!q(W,ee.v)){var ne,ie,re,te,se,ce=ee.chars.length;for(ne=0;ne<ce;ne+=1)if(ee.chars[ne].data&&ee.chars[ne].data.shapes)for(re=(se=ee.chars[ne].data.shapes[0].it).length,ie=0;ie<re;ie+=1)(te=se[ie].ks.k).__converted||(U(se[ie].ks.k),te.__converted=!0)}}),K=function(){var ee=[5,7,15];function ne(ie){var re,te,se=ie.length;for(re=0;re<se;re+=1)ie[re].ty===5&&(te=void 0,typeof(te=ie[re].t.p).a=="number"&&(te.a={a:0,k:te.a}),typeof te.p=="number"&&(te.p={a:0,k:te.p}),typeof te.r=="number"&&(te.r={a:0,k:te.r}))}return function(ie){if(q(ee,ie.v)&&(ne(ie.layers),ie.assets)){var re,te=ie.assets.length;for(re=0;re<te;re+=1)ie.assets[re].layers&&ne(ie.assets[re].layers)}}}(),X=function(){var ee=[4,1,9];function ne(re){var te,se,ce,de=re.length;for(te=0;te<de;te+=1)if(re[te].ty==="gr")ne(re[te].it);else if(re[te].ty==="fl"||re[te].ty==="st")if(re[te].c.k&&re[te].c.k[0].i)for(ce=re[te].c.k.length,se=0;se<ce;se+=1)re[te].c.k[se].s&&(re[te].c.k[se].s[0]/=255,re[te].c.k[se].s[1]/=255,re[te].c.k[se].s[2]/=255,re[te].c.k[se].s[3]/=255),re[te].c.k[se].e&&(re[te].c.k[se].e[0]/=255,re[te].c.k[se].e[1]/=255,re[te].c.k[se].e[2]/=255,re[te].c.k[se].e[3]/=255);else re[te].c.k[0]/=255,re[te].c.k[1]/=255,re[te].c.k[2]/=255,re[te].c.k[3]/=255}function ie(re){var te,se=re.length;for(te=0;te<se;te+=1)re[te].ty===4&&ne(re[te].shapes)}return function(re){if(q(ee,re.v)&&(ie(re.layers),re.assets)){var te,se=re.assets.length;for(te=0;te<se;te+=1)re.assets[te].layers&&ie(re.assets[te].layers)}}}(),J=function(){var ee=[4,4,18];function ne(re){var te,se,ce;for(te=re.length-1;te>=0;te-=1)if(re[te].ty==="sh")if(re[te].ks.k.i)re[te].ks.k.c=re[te].closed;else for(ce=re[te].ks.k.length,se=0;se<ce;se+=1)re[te].ks.k[se].s&&(re[te].ks.k[se].s[0].c=re[te].closed),re[te].ks.k[se].e&&(re[te].ks.k[se].e[0].c=re[te].closed);else re[te].ty==="gr"&&ne(re[te].it)}function ie(re){var te,se,ce,de,ue,he,oe=re.length;for(se=0;se<oe;se+=1){if((te=re[se]).hasMask){var ae=te.masksProperties;for(de=ae.length,ce=0;ce<de;ce+=1)if(ae[ce].pt.k.i)ae[ce].pt.k.c=ae[ce].cl;else for(he=ae[ce].pt.k.length,ue=0;ue<he;ue+=1)ae[ce].pt.k[ue].s&&(ae[ce].pt.k[ue].s[0].c=ae[ce].cl),ae[ce].pt.k[ue].e&&(ae[ce].pt.k[ue].e[0].c=ae[ce].cl)}te.ty===4&&ne(te.shapes)}}return function(re){if(q(ee,re.v)&&(ie(re.layers),re.assets)){var te,se=re.assets.length;for(te=0;te<se;te+=1)re.assets[te].layers&&ie(re.assets[te].layers)}}}();function Q(ee){ee.t.a.length!==0||"m"in ee.t.p||(ee.singleShape=!0)}var Z={completeData:function(ee){ee.__complete||(X(ee),G(ee),Y(ee),K(ee),J(ee),R(ee.layers,ee.assets),ee.__complete=!0)}};return Z.checkColors=X,Z.checkChars=Y,Z.checkPathProperties=K,Z.checkShapes=J,Z.completeLayers=R,Z}()),h.assetLoader||(h.assetLoader=function(){function R(B){var j=B.getResponseHeader("content-type");return j&&B.responseType==="json"&&j.indexOf("json")!==-1||B.response&&typeof B.response=="object"?B.response:B.response&&typeof B.response=="string"?JSON.parse(B.response):B.responseText?JSON.parse(B.responseText):null}return{load:function(B,j,U,q){var W,G=new XMLHttpRequest;try{G.responseType="json"}catch{}G.onreadystatechange=function(){if(G.readyState===4)if(G.status===200)W=R(G),U(W);else try{W=R(G),U(W)}catch(Y){q&&q(Y)}};try{G.open("GET",B,!0)}catch{G.open("GET",j+"/"+B,!0)}G.send()}}}()),O.data.type==="loadAnimation")h.assetLoader.load(O.data.path,O.data.fullPath,function(R){h.dataManager.completeData(R),h.postMessage({id:O.data.id,payload:R,status:"success"})},function(){h.postMessage({id:O.data.id,status:"error"})});else if(O.data.type==="complete"){var F=O.data.animation;h.dataManager.completeData(F),h.postMessage({id:O.data.id,payload:F,status:"success"})}else O.data.type==="loadData"&&h.assetLoader.load(O.data.path,O.data.fullPath,function(R){h.postMessage({id:O.data.id,payload:R,status:"success"})},function(){h.postMessage({id:O.data.id,status:"error"})})}),e.onmessage=function(O){var F=O.data,R=F.id,B=o[R];o[R]=null,F.status==="success"?B.onComplete(F.payload):B.onError&&B.onError()})}function D(O,F){var R="processId_"+(r+=1);return o[R]={onComplete:O,onError:F},R}return{loadAnimation:function(O,F,R){y();var B=D(F,R);e.postMessage({type:"loadAnimation",path:O,fullPath:window.location.origin+window.location.pathname,id:B})},loadData:function(O,F,R){y();var B=D(F,R);e.postMessage({type:"loadData",path:O,fullPath:window.location.origin+window.location.pathname,id:B})},completeAnimation:function(O,F,R){y();var B=D(F,R);e.postMessage({type:"complete",animation:O,id:B})}}}();function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],r="normal",o="normal",l=e.length,h=0;h<l;h+=1)switch(e[h].toLowerCase()){case"italic":o="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:o,weight:t.fWeight||r}}var FontManager=function(){var t={w:0,size:0,shapes:[]},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],o=[65039,8205];function l(O,F){var R=createTag("span");R.setAttribute("aria-hidden",!0),R.style.fontFamily=F;var B=createTag("span");B.innerText="giItT1WQy@!-/#",R.style.position="absolute",R.style.left="-10000px",R.style.top="-10000px",R.style.fontSize="300px",R.style.fontVariant="normal",R.style.fontStyle="normal",R.style.fontWeight="normal",R.style.letterSpacing="0",R.appendChild(B),document.body.appendChild(R);var j=B.offsetWidth;return B.style.fontFamily=function(U){var q,W=U.split(","),G=W.length,Y=[];for(q=0;q<G;q+=1)W[q]!=="sans-serif"&&W[q]!=="monospace"&&Y.push(W[q]);return Y.join(",")}(O)+", "+F,{node:B,w:j,parent:R}}function h(O,F){var R=createNS("text");R.style.fontSize="100px";var B=getFontProperties(F);return R.setAttribute("font-family",F.fFamily),R.setAttribute("font-style",B.style),R.setAttribute("font-weight",B.weight),R.textContent="1",F.fClass?(R.style.fontFamily="inherit",R.setAttribute("class",F.fClass)):R.style.fontFamily=F.fFamily,O.appendChild(R),createTag("canvas").getContext("2d").font=F.fWeight+" "+F.fStyle+" 100px "+F.fFamily,R}var y=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};y.isModifier=function(O,F){var R=O.toString(16)+F.toString(16);return r.indexOf(R)!==-1},y.isZeroWidthJoiner=function(O,F){return F?O===o[0]&&F===o[1]:O===o[1]},y.isCombinedCharacter=function(O){return e.indexOf(O)!==-1};var D={addChars:function(O){if(O){var F;this.chars||(this.chars=[]);var R,B,j=O.length,U=this.chars.length;for(F=0;F<j;F+=1){for(R=0,B=!1;R<U;)this.chars[R].style===O[F].style&&this.chars[R].fFamily===O[F].fFamily&&this.chars[R].ch===O[F].ch&&(B=!0),R+=1;B||(this.chars.push(O[F]),U+=1)}}},addFonts:function(O,F){if(O){if(this.chars)return this.isLoaded=!0,void(this.fonts=O.list);var R,B=O.list,j=B.length,U=j;for(R=0;R<j;R+=1){var q,W,G=!0;if(B[R].loaded=!1,B[R].monoCase=l(B[R].fFamily,"monospace"),B[R].sansCase=l(B[R].fFamily,"sans-serif"),B[R].fPath){if(B[R].fOrigin==="p"||B[R].origin===3){if((q=document.querySelectorAll('style[f-forigin="p"][f-family="'+B[R].fFamily+'"], style[f-origin="3"][f-family="'+B[R].fFamily+'"]')).length>0&&(G=!1),G){var Y=createTag("style");Y.setAttribute("f-forigin",B[R].fOrigin),Y.setAttribute("f-origin",B[R].origin),Y.setAttribute("f-family",B[R].fFamily),Y.type="text/css",Y.innerText="@font-face {font-family: "+B[R].fFamily+"; font-style: normal; src: url('"+B[R].fPath+"');}",F.appendChild(Y)}}else if(B[R].fOrigin==="g"||B[R].origin===1){for(q=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),W=0;W<q.length;W+=1)q[W].href.indexOf(B[R].fPath)!==-1&&(G=!1);if(G){var K=createTag("link");K.setAttribute("f-forigin",B[R].fOrigin),K.setAttribute("f-origin",B[R].origin),K.type="text/css",K.rel="stylesheet",K.href=B[R].fPath,document.body.appendChild(K)}}else if(B[R].fOrigin==="t"||B[R].origin===2){for(q=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),W=0;W<q.length;W+=1)B[R].fPath===q[W].src&&(G=!1);if(G){var X=createTag("link");X.setAttribute("f-forigin",B[R].fOrigin),X.setAttribute("f-origin",B[R].origin),X.setAttribute("rel","stylesheet"),X.setAttribute("href",B[R].fPath),F.appendChild(X)}}}else B[R].loaded=!0,U-=1;B[R].helper=h(F,B[R]),B[R].cache={},this.fonts.push(B[R])}U===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(O,F,R){for(var B=0,j=this.chars.length;B<j;){if(this.chars[B].ch===O&&this.chars[B].style===F&&this.chars[B].fFamily===R)return this.chars[B];B+=1}return(typeof O=="string"&&O.charCodeAt(0)!==13||!O)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",O,F,R)),t},getFontByName:function(O){for(var F=0,R=this.fonts.length;F<R;){if(this.fonts[F].fName===O)return this.fonts[F];F+=1}return this.fonts[0]},measureText:function(O,F,R){var B=this.getFontByName(F),j=O.charCodeAt(0);if(!B.cache[j+1]){var U=B.helper;if(O===" "){U.textContent="|"+O+"|";var q=U.getComputedTextLength();U.textContent="||";var W=U.getComputedTextLength();B.cache[j+1]=(q-W)/100}else U.textContent=O,B.cache[j+1]=U.getComputedTextLength()/100}return B.cache[j+1]*R},checkLoadedFonts:function(){var O,F,R,B=this.fonts.length,j=B;for(O=0;O<B;O+=1)this.fonts[O].loaded?j-=1:this.fonts[O].fOrigin==="n"||this.fonts[O].origin===0?this.fonts[O].loaded=!0:(F=this.fonts[O].monoCase.node,R=this.fonts[O].monoCase.w,F.offsetWidth!==R?(j-=1,this.fonts[O].loaded=!0):(F=this.fonts[O].sansCase.node,R=this.fonts[O].sansCase.w,F.offsetWidth!==R&&(j-=1,this.fonts[O].loaded=!0)),this.fonts[O].loaded&&(this.fonts[O].sansCase.parent.parentNode.removeChild(this.fonts[O].sansCase.parent),this.fonts[O].monoCase.parent.parentNode.removeChild(this.fonts[O].monoCase.parent)));j!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return y.prototype=D,y}(),PropertyFactory=function(){var t=initialDefaultFrame,e=Math.abs;function r(U,q){var W,G=this.offsetTime;this.propType==="multidimensional"&&(W=createTypedArray("float32",this.pv.length));for(var Y,K,X,J,Q,Z,ee,ne,ie,re=q.lastIndex,te=re,se=this.keyframes.length-1,ce=!0;ce;){if(Y=this.keyframes[te],K=this.keyframes[te+1],te===se-1&&U>=K.t-G){Y.h&&(Y=K),re=0;break}if(K.t-G>U){re=te;break}te<se-1?te+=1:(re=0,ce=!1)}X=this.keyframesMetadata[te]||{};var de,ue,he,oe,ae,le,fe,we,me,ge,Se=K.t-G,ke=Y.t-G;if(Y.to){X.bezierData||(X.bezierData=bez.buildBezierData(Y.s,K.s||Y.e,Y.to,Y.ti));var _e=X.bezierData;if(U>=Se||U<ke){var xe=U>=Se?_e.points.length-1:0;for(Q=_e.points[xe].point.length,J=0;J<Q;J+=1)W[J]=_e.points[xe].point[J]}else{X.__fnct?ie=X.__fnct:(ie=BezierFactory.getBezierEasing(Y.o.x,Y.o.y,Y.i.x,Y.i.y,Y.n).get,X.__fnct=ie),Z=ie((U-ke)/(Se-ke));var Ce,pe=_e.segmentLength*Z,ye=q.lastFrame<U&&q._lastKeyframeIndex===te?q._lastAddedLength:0;for(ne=q.lastFrame<U&&q._lastKeyframeIndex===te?q._lastPoint:0,ce=!0,ee=_e.points.length;ce;){if(ye+=_e.points[ne].partialLength,pe===0||Z===0||ne===_e.points.length-1){for(Q=_e.points[ne].point.length,J=0;J<Q;J+=1)W[J]=_e.points[ne].point[J];break}if(pe>=ye&&pe<ye+_e.points[ne+1].partialLength){for(Ce=(pe-ye)/_e.points[ne+1].partialLength,Q=_e.points[ne].point.length,J=0;J<Q;J+=1)W[J]=_e.points[ne].point[J]+(_e.points[ne+1].point[J]-_e.points[ne].point[J])*Ce;break}ne<ee-1?ne+=1:ce=!1}q._lastPoint=ne,q._lastAddedLength=ye-_e.points[ne].partialLength,q._lastKeyframeIndex=te}}else{var be,Pe,ve,Te,Ie;if(se=Y.s.length,de=K.s||Y.e,this.sh&&Y.h!==1)if(U>=Se)W[0]=de[0],W[1]=de[1],W[2]=de[2];else if(U<=ke)W[0]=Y.s[0],W[1]=Y.s[1],W[2]=Y.s[2];else{var Fe=o(Y.s),Me=o(de);ue=W,he=function(De,Be,ze){var Ue,Re,$e,He,Le,Oe=[],Ae=De[0],Ee=De[1],Ne=De[2],Ge=De[3],We=Be[0],je=Be[1],Ve=Be[2],Xe=Be[3];return(Re=Ae*We+Ee*je+Ne*Ve+Ge*Xe)<0&&(Re=-Re,We=-We,je=-je,Ve=-Ve,Xe=-Xe),1-Re>1e-6?(Ue=Math.acos(Re),$e=Math.sin(Ue),He=Math.sin((1-ze)*Ue)/$e,Le=Math.sin(ze*Ue)/$e):(He=1-ze,Le=ze),Oe[0]=He*Ae+Le*We,Oe[1]=He*Ee+Le*je,Oe[2]=He*Ne+Le*Ve,Oe[3]=He*Ge+Le*Xe,Oe}(Fe,Me,(U-ke)/(Se-ke)),oe=he[0],ae=he[1],le=he[2],fe=he[3],we=Math.atan2(2*ae*fe-2*oe*le,1-2*ae*ae-2*le*le),me=Math.asin(2*oe*ae+2*le*fe),ge=Math.atan2(2*oe*fe-2*ae*le,1-2*oe*oe-2*le*le),ue[0]=we/degToRads,ue[1]=me/degToRads,ue[2]=ge/degToRads}else for(te=0;te<se;te+=1)Y.h!==1&&(U>=Se?Z=1:U<ke?Z=0:(Y.o.x.constructor===Array?(X.__fnct||(X.__fnct=[]),X.__fnct[te]?ie=X.__fnct[te]:(be=Y.o.x[te]===void 0?Y.o.x[0]:Y.o.x[te],Pe=Y.o.y[te]===void 0?Y.o.y[0]:Y.o.y[te],ve=Y.i.x[te]===void 0?Y.i.x[0]:Y.i.x[te],Te=Y.i.y[te]===void 0?Y.i.y[0]:Y.i.y[te],ie=BezierFactory.getBezierEasing(be,Pe,ve,Te).get,X.__fnct[te]=ie)):X.__fnct?ie=X.__fnct:(be=Y.o.x,Pe=Y.o.y,ve=Y.i.x,Te=Y.i.y,ie=BezierFactory.getBezierEasing(be,Pe,ve,Te).get,Y.keyframeMetadata=ie),Z=ie((U-ke)/(Se-ke)))),de=K.s||Y.e,Ie=Y.h===1?Y.s[te]:Y.s[te]+(de[te]-Y.s[te])*Z,this.propType==="multidimensional"?W[te]=Ie:W=Ie}return q.lastIndex=re,W}function o(U){var q=U[0]*degToRads,W=U[1]*degToRads,G=U[2]*degToRads,Y=Math.cos(q/2),K=Math.cos(W/2),X=Math.cos(G/2),J=Math.sin(q/2),Q=Math.sin(W/2),Z=Math.sin(G/2);return[J*Q*X+Y*K*Z,J*K*X+Y*Q*Z,Y*Q*X-J*K*Z,Y*K*X-J*Q*Z]}function l(){var U=this.comp.renderedFrame-this.offsetTime,q=this.keyframes[0].t-this.offsetTime,W=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(U===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=W&&U>=W||this._caching.lastFrame<q&&U<q))){this._caching.lastFrame>=U&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var G=this.interpolateValue(U,this._caching);this.pv=G}return this._caching.lastFrame=U,this.pv}function h(U){var q;if(this.propType==="unidimensional")q=U*this.mult,e(this.v-q)>1e-5&&(this.v=q,this._mdf=!0);else for(var W=0,G=this.v.length;W<G;)q=U[W]*this.mult,e(this.v[W]-q)>1e-5&&(this.v[W]=q,this._mdf=!0),W+=1}function y(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var U;this.lock=!0,this._mdf=this._isFirstFrame;var q=this.effectsSequence.length,W=this.kf?this.pv:this.data.k;for(U=0;U<q;U+=1)W=this.effectsSequence[U](W);this.setVValue(W),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function D(U){this.effectsSequence.push(U),this.container.addDynamicProperty(this)}function O(U,q,W,G){this.propType="unidimensional",this.mult=W||1,this.data=q,this.v=W?q.k*W:q.k,this.pv=q.k,this._mdf=!1,this.elem=U,this.container=G,this.comp=U.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.addEffect=D}function F(U,q,W,G){var Y;this.propType="multidimensional",this.mult=W||1,this.data=q,this._mdf=!1,this.elem=U,this.container=G,this.comp=U.comp,this.k=!1,this.kf=!1,this.frameId=-1;var K=q.k.length;for(this.v=createTypedArray("float32",K),this.pv=createTypedArray("float32",K),this.vel=createTypedArray("float32",K),Y=0;Y<K;Y+=1)this.v[Y]=q.k[Y]*this.mult,this.pv[Y]=q.k[Y];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=y,this.setVValue=h,this.addEffect=D}function R(U,q,W,G){this.propType="unidimensional",this.keyframes=q.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=q,this.mult=W||1,this.elem=U,this.container=G,this.comp=U.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.interpolateValue=r,this.effectsSequence=[l.bind(this)],this.addEffect=D}function B(U,q,W,G){var Y;this.propType="multidimensional";var K,X,J,Q,Z=q.k.length;for(Y=0;Y<Z-1;Y+=1)q.k[Y].to&&q.k[Y].s&&q.k[Y+1]&&q.k[Y+1].s&&(K=q.k[Y].s,X=q.k[Y+1].s,J=q.k[Y].to,Q=q.k[Y].ti,(K.length===2&&(K[0]!==X[0]||K[1]!==X[1])&&bez.pointOnLine2D(K[0],K[1],X[0],X[1],K[0]+J[0],K[1]+J[1])&&bez.pointOnLine2D(K[0],K[1],X[0],X[1],X[0]+Q[0],X[1]+Q[1])||K.length===3&&(K[0]!==X[0]||K[1]!==X[1]||K[2]!==X[2])&&bez.pointOnLine3D(K[0],K[1],K[2],X[0],X[1],X[2],K[0]+J[0],K[1]+J[1],K[2]+J[2])&&bez.pointOnLine3D(K[0],K[1],K[2],X[0],X[1],X[2],X[0]+Q[0],X[1]+Q[1],X[2]+Q[2]))&&(q.k[Y].to=null,q.k[Y].ti=null),K[0]===X[0]&&K[1]===X[1]&&J[0]===0&&J[1]===0&&Q[0]===0&&Q[1]===0&&(K.length===2||K[2]===X[2]&&J[2]===0&&Q[2]===0)&&(q.k[Y].to=null,q.k[Y].ti=null));this.effectsSequence=[l.bind(this)],this.data=q,this.keyframes=q.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=W||1,this.elem=U,this.container=G,this.comp=U.comp,this.getValue=y,this.setVValue=h,this.interpolateValue=r,this.frameId=-1;var ee=q.k[0].s.length;for(this.v=createTypedArray("float32",ee),this.pv=createTypedArray("float32",ee),Y=0;Y<ee;Y+=1)this.v[Y]=t,this.pv[Y]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",ee)},this.addEffect=D}var j={getProp:function(U,q,W,G,Y){var K;if(q.k.length)if(typeof q.k[0]=="number")K=new F(U,q,G,Y);else switch(W){case 0:K=new R(U,q,G,Y);break;case 1:K=new B(U,q,G,Y)}else K=new O(U,q,G,Y);return K.effectsSequence.length&&Y.addDynamicProperty(K),K}};return j}(),TransformPropertyFactory=function(){var t=[0,0];function e(r,o,l){if(this.elem=r,this.frameId=-1,this.propType="transform",this.data=o,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(l||r),o.p&&o.p.s?(this.px=PropertyFactory.getProp(r,o.p.x,0,0,this),this.py=PropertyFactory.getProp(r,o.p.y,0,0,this),o.p.z&&(this.pz=PropertyFactory.getProp(r,o.p.z,0,0,this))):this.p=PropertyFactory.getProp(r,o.p||{k:[0,0,0]},1,0,this),o.rx){if(this.rx=PropertyFactory.getProp(r,o.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(r,o.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(r,o.rz,0,degToRads,this),o.or.k[0].ti){var h,y=o.or.k.length;for(h=0;h<y;h+=1)o.or.k[h].to=null,o.or.k[h].ti=null}this.or=PropertyFactory.getProp(r,o.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(r,o.r||{k:0},0,degToRads,this);o.sk&&(this.sk=PropertyFactory.getProp(r,o.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(r,o.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(r,o.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(r,o.s||{k:[100,100,100]},1,.01,this),o.o?this.o=PropertyFactory.getProp(r,o.o,0,.01,r):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(r){var o=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||o,this.a&&r.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&r.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&r.skewFromAxis(-this.sk.v,this.sa.v),this.r?r.rotate(-this.r.v):r.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?r.translate(this.px.v,this.py.v,-this.pz.v):r.translate(this.px.v,this.py.v,0):r.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(r){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||r){var o;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var l,h;if(o=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(l=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/o,0),h=this.p.getValueAtTime(this.p.keyframes[0].t/o,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(l=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/o,0),h=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/o,0)):(l=this.p.pv,h=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/o,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){l=[],h=[];var y=this.px,D=this.py;y._caching.lastFrame+y.offsetTime<=y.keyframes[0].t?(l[0]=y.getValueAtTime((y.keyframes[0].t+.01)/o,0),l[1]=D.getValueAtTime((D.keyframes[0].t+.01)/o,0),h[0]=y.getValueAtTime(y.keyframes[0].t/o,0),h[1]=D.getValueAtTime(D.keyframes[0].t/o,0)):y._caching.lastFrame+y.offsetTime>=y.keyframes[y.keyframes.length-1].t?(l[0]=y.getValueAtTime(y.keyframes[y.keyframes.length-1].t/o,0),l[1]=D.getValueAtTime(D.keyframes[D.keyframes.length-1].t/o,0),h[0]=y.getValueAtTime((y.keyframes[y.keyframes.length-1].t-.01)/o,0),h[1]=D.getValueAtTime((D.keyframes[D.keyframes.length-1].t-.01)/o,0)):(l=[y.pv,D.pv],h[0]=y.getValueAtTime((y._caching.lastFrame+y.offsetTime-.01)/o,y.offsetTime),h[1]=D.getValueAtTime((D._caching.lastFrame+D.offsetTime-.01)/o,D.offsetTime))}else l=h=t;this.v.rotate(-Math.atan2(l[1]-h[1],l[0]-h[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(r){this._addDynamicProperty(r),this.elem.addDynamicProperty(r),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(r,o,l){return new e(r,o,l)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var r=0;r<e;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,r,o,l){var h;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":h=this.v;break;case"i":h=this.i;break;case"o":h=this.o;break;default:h=[]}(!h[o]||h[o]&&!l)&&(h[o]=pointPool.newElement()),h[o][0]=t,h[o][1]=e},ShapePath.prototype.setTripleAt=function(t,e,r,o,l,h,y,D){this.setXYAt(t,e,"v",y,D),this.setXYAt(r,o,"o",y,D),this.setXYAt(l,h,"i",y,D)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,r=this.o,o=this.i,l=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],o[0][0],o[0][1],r[0][0],r[0][1],0,!1),l=1);var h,y=this._length-1,D=this._length;for(h=l;h<D;h+=1)t.setTripleAt(e[y][0],e[y][1],o[y][0],o[y][1],r[y][0],r[y][1],h,!1),y-=1;return t};var ShapePropertyFactory=function(){var t=-999999;function e(U,q,W){var G,Y,K,X,J,Q,Z,ee,ne,ie=W.lastIndex,re=this.keyframes;if(U<re[0].t-this.offsetTime)G=re[0].s[0],K=!0,ie=0;else if(U>=re[re.length-1].t-this.offsetTime)G=re[re.length-1].s?re[re.length-1].s[0]:re[re.length-2].e[0],K=!0;else{for(var te,se,ce,de=ie,ue=re.length-1,he=!0;he&&(te=re[de],!((se=re[de+1]).t-this.offsetTime>U));)de<ue-1?de+=1:he=!1;if(ce=this.keyframesMetadata[de]||{},ie=de,!(K=te.h===1)){if(U>=se.t-this.offsetTime)ee=1;else if(U<te.t-this.offsetTime)ee=0;else{var oe;ce.__fnct?oe=ce.__fnct:(oe=BezierFactory.getBezierEasing(te.o.x,te.o.y,te.i.x,te.i.y).get,ce.__fnct=oe),ee=oe((U-(te.t-this.offsetTime))/(se.t-this.offsetTime-(te.t-this.offsetTime)))}Y=se.s?se.s[0]:te.e[0]}G=te.s[0]}for(Q=q._length,Z=G.i[0].length,W.lastIndex=ie,X=0;X<Q;X+=1)for(J=0;J<Z;J+=1)ne=K?G.i[X][J]:G.i[X][J]+(Y.i[X][J]-G.i[X][J])*ee,q.i[X][J]=ne,ne=K?G.o[X][J]:G.o[X][J]+(Y.o[X][J]-G.o[X][J])*ee,q.o[X][J]=ne,ne=K?G.v[X][J]:G.v[X][J]+(Y.v[X][J]-G.v[X][J])*ee,q.v[X][J]=ne}function r(){var U=this.comp.renderedFrame-this.offsetTime,q=this.keyframes[0].t-this.offsetTime,W=this.keyframes[this.keyframes.length-1].t-this.offsetTime,G=this._caching.lastFrame;return G!==t&&(G<q&&U<q||G>W&&U>W)||(this._caching.lastIndex=G<U?this._caching.lastIndex:0,this.interpolateShape(U,this.pv,this._caching)),this._caching.lastFrame=U,this.pv}function o(){this.paths=this.localShapeCollection}function l(U){(function(q,W){if(q._length!==W._length||q.c!==W.c)return!1;var G,Y=q._length;for(G=0;G<Y;G+=1)if(q.v[G][0]!==W.v[G][0]||q.v[G][1]!==W.v[G][1]||q.o[G][0]!==W.o[G][0]||q.o[G][1]!==W.o[G][1]||q.i[G][0]!==W.i[G][0]||q.i[G][1]!==W.i[G][1])return!1;return!0})(this.v,U)||(this.v=shapePool.clone(U),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function h(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var U,q;this.lock=!0,this._mdf=!1,U=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var W=this.effectsSequence.length;for(q=0;q<W;q+=1)U=this.effectsSequence[q](U);this.setVValue(U),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function y(U,q,W){this.propType="shape",this.comp=U.comp,this.container=U,this.elem=U,this.data=q,this.k=!1,this.kf=!1,this._mdf=!1;var G=W===3?q.pt.k:q.ks.k;this.v=shapePool.clone(G),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=o,this.effectsSequence=[]}function D(U){this.effectsSequence.push(U),this.container.addDynamicProperty(this)}function O(U,q,W){this.propType="shape",this.comp=U.comp,this.elem=U,this.container=U,this.offsetTime=U.data.st,this.keyframes=W===3?q.pt.k:q.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var G=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,G),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=o,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}y.prototype.interpolateShape=e,y.prototype.getValue=h,y.prototype.setVValue=l,y.prototype.addEffect=D,O.prototype.getValue=h,O.prototype.interpolateShape=e,O.prototype.setVValue=l,O.prototype.addEffect=D;var F=function(){var U=roundCorner;function q(W,G){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=G.d,this.elem=W,this.comp=W.comp,this.frameId=-1,this.initDynamicPropertyContainer(W),this.p=PropertyFactory.getProp(W,G.p,1,0,this),this.s=PropertyFactory.getProp(W,G.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return q.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var W=this.p.v[0],G=this.p.v[1],Y=this.s.v[0]/2,K=this.s.v[1]/2,X=this.d!==3,J=this.v;J.v[0][0]=W,J.v[0][1]=G-K,J.v[1][0]=X?W+Y:W-Y,J.v[1][1]=G,J.v[2][0]=W,J.v[2][1]=G+K,J.v[3][0]=X?W-Y:W+Y,J.v[3][1]=G,J.i[0][0]=X?W-Y*U:W+Y*U,J.i[0][1]=G-K,J.i[1][0]=X?W+Y:W-Y,J.i[1][1]=G-K*U,J.i[2][0]=X?W+Y*U:W-Y*U,J.i[2][1]=G+K,J.i[3][0]=X?W-Y:W+Y,J.i[3][1]=G+K*U,J.o[0][0]=X?W+Y*U:W-Y*U,J.o[0][1]=G-K,J.o[1][0]=X?W+Y:W-Y,J.o[1][1]=G+K*U,J.o[2][0]=X?W-Y*U:W+Y*U,J.o[2][1]=G+K,J.o[3][0]=X?W-Y:W+Y,J.o[3][1]=G-K*U}},extendPrototype([DynamicPropertyContainer],q),q}(),R=function(){function U(q,W){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=q,this.comp=q.comp,this.data=W,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(q),W.sy===1?(this.ir=PropertyFactory.getProp(q,W.ir,0,0,this),this.is=PropertyFactory.getProp(q,W.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(q,W.pt,0,0,this),this.p=PropertyFactory.getProp(q,W.p,1,0,this),this.r=PropertyFactory.getProp(q,W.r,0,degToRads,this),this.or=PropertyFactory.getProp(q,W.or,0,0,this),this.os=PropertyFactory.getProp(q,W.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return U.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var q,W,G,Y,K=2*Math.floor(this.pt.v),X=2*Math.PI/K,J=!0,Q=this.or.v,Z=this.ir.v,ee=this.os.v,ne=this.is.v,ie=2*Math.PI*Q/(2*K),re=2*Math.PI*Z/(2*K),te=-Math.PI/2;te+=this.r.v;var se=this.data.d===3?-1:1;for(this.v._length=0,q=0;q<K;q+=1){G=J?ee:ne,Y=J?ie:re;var ce=(W=J?Q:Z)*Math.cos(te),de=W*Math.sin(te),ue=ce===0&&de===0?0:de/Math.sqrt(ce*ce+de*de),he=ce===0&&de===0?0:-ce/Math.sqrt(ce*ce+de*de);ce+=+this.p.v[0],de+=+this.p.v[1],this.v.setTripleAt(ce,de,ce-ue*Y*G*se,de-he*Y*G*se,ce+ue*Y*G*se,de+he*Y*G*se,q,!0),J=!J,te+=X*se}},convertPolygonToPath:function(){var q,W=Math.floor(this.pt.v),G=2*Math.PI/W,Y=this.or.v,K=this.os.v,X=2*Math.PI*Y/(4*W),J=.5*-Math.PI,Q=this.data.d===3?-1:1;for(J+=this.r.v,this.v._length=0,q=0;q<W;q+=1){var Z=Y*Math.cos(J),ee=Y*Math.sin(J),ne=Z===0&&ee===0?0:ee/Math.sqrt(Z*Z+ee*ee),ie=Z===0&&ee===0?0:-Z/Math.sqrt(Z*Z+ee*ee);Z+=+this.p.v[0],ee+=+this.p.v[1],this.v.setTripleAt(Z,ee,Z-ne*X*K*Q,ee-ie*X*K*Q,Z+ne*X*K*Q,ee+ie*X*K*Q,q,!0),J+=G*Q}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],U),U}(),B=function(){function U(q,W){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=q,this.comp=q.comp,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(q),this.p=PropertyFactory.getProp(q,W.p,1,0,this),this.s=PropertyFactory.getProp(q,W.s,1,0,this),this.r=PropertyFactory.getProp(q,W.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return U.prototype={convertRectToPath:function(){var q=this.p.v[0],W=this.p.v[1],G=this.s.v[0]/2,Y=this.s.v[1]/2,K=bmMin(G,Y,this.r.v),X=K*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(q+G,W-Y+K,q+G,W-Y+K,q+G,W-Y+X,0,!0),this.v.setTripleAt(q+G,W+Y-K,q+G,W+Y-X,q+G,W+Y-K,1,!0),K!==0?(this.v.setTripleAt(q+G-K,W+Y,q+G-K,W+Y,q+G-X,W+Y,2,!0),this.v.setTripleAt(q-G+K,W+Y,q-G+X,W+Y,q-G+K,W+Y,3,!0),this.v.setTripleAt(q-G,W+Y-K,q-G,W+Y-K,q-G,W+Y-X,4,!0),this.v.setTripleAt(q-G,W-Y+K,q-G,W-Y+X,q-G,W-Y+K,5,!0),this.v.setTripleAt(q-G+K,W-Y,q-G+K,W-Y,q-G+X,W-Y,6,!0),this.v.setTripleAt(q+G-K,W-Y,q+G-X,W-Y,q+G-K,W-Y,7,!0)):(this.v.setTripleAt(q-G,W+Y,q-G+X,W+Y,q-G,W+Y,2),this.v.setTripleAt(q-G,W-Y,q-G,W-Y+X,q-G,W-Y,3))):(this.v.setTripleAt(q+G,W-Y+K,q+G,W-Y+X,q+G,W-Y+K,0,!0),K!==0?(this.v.setTripleAt(q+G-K,W-Y,q+G-K,W-Y,q+G-X,W-Y,1,!0),this.v.setTripleAt(q-G+K,W-Y,q-G+X,W-Y,q-G+K,W-Y,2,!0),this.v.setTripleAt(q-G,W-Y+K,q-G,W-Y+K,q-G,W-Y+X,3,!0),this.v.setTripleAt(q-G,W+Y-K,q-G,W+Y-X,q-G,W+Y-K,4,!0),this.v.setTripleAt(q-G+K,W+Y,q-G+K,W+Y,q-G+X,W+Y,5,!0),this.v.setTripleAt(q+G-K,W+Y,q+G-X,W+Y,q+G-K,W+Y,6,!0),this.v.setTripleAt(q+G,W+Y-K,q+G,W+Y-K,q+G,W+Y-X,7,!0)):(this.v.setTripleAt(q-G,W-Y,q-G+X,W-Y,q-G,W-Y,1,!0),this.v.setTripleAt(q-G,W+Y,q-G,W+Y-X,q-G,W+Y,2,!0),this.v.setTripleAt(q+G,W+Y,q+G-X,W+Y,q+G,W+Y,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:o},extendPrototype([DynamicPropertyContainer],U),U}(),j={getShapeProp:function(U,q,W){var G;return W===3||W===4?G=(W===3?q.pt:q.ks).k.length?new O(U,q,W):new y(U,q,W):W===5?G=new B(U,q):W===6?G=new F(U,q):W===7&&(G=new R(U,q)),G.k&&U.addDynamicProperty(G),G},getConstructorFunction:function(){return y},getKeyframedConstructorFunction:function(){return O}};return j}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(t,e){modifiers[t]||(modifiers[t]=e)},ob.getModifier=function(t,e,r){return new modifiers[t](e,r)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,r,o){var l;this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var h,y=e.length||0;for(l=0;l<y;l+=1)h=PropertyFactory.getProp(t,e[l].v,0,0,this),this.k=h.k||this.k,this.dataProps[l]={n:e[l].n,p:h};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,r){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var o=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,r,o,l){var h=[];e<=1?h.push({s:t,e}):t>=1?h.push({s:t-1,e:e-1}):(h.push({s:t,e:1}),h.push({s:0,e:e-1}));var y,D,O=[],F=h.length;for(y=0;y<F;y+=1){var R,B;(D=h[y]).e*l<o||D.s*l>o+r||(R=D.s*l<=o?0:(D.s*l-o)/r,B=D.e*l>=o+r?1:(D.e*l-o)/r,O.push([R,B]))}return O.length||O.push([0,0]),O},TrimModifier.prototype.releasePathsData=function(t){var e,r=t.length;for(e=0;e<r;e+=1)segmentsLengthPool.release(t[e]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,r,o,l;if(this._mdf||t){var h=this.o.v%360/360;if(h<0&&(h+=1),(e=this.s.v>1?1+h:this.s.v<0?0+h:this.s.v+h)>(r=this.e.v>1?1+h:this.e.v<0?0+h:this.e.v+h)){var y=e;e=r,r=y}e=1e-4*Math.round(1e4*e),r=1e-4*Math.round(1e4*r),this.sValue=e,this.eValue=r}else e=this.sValue,r=this.eValue;var D,O,F,R,B,j=this.shapes.length,U=0;if(r===e)for(l=0;l<j;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(r===1&&e===0||r===0&&e===1){if(this._mdf)for(l=0;l<j;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var q,W,G=[];for(l=0;l<j;l+=1)if((q=this.shapes[l]).shape._mdf||this._mdf||t||this.m===2){if(O=(o=q.shape.paths)._length,B=0,!q.shape._mdf&&q.pathsData.length)B=q.totalShapeLength;else{for(F=this.releasePathsData(q.pathsData),D=0;D<O;D+=1)R=bez.getSegmentsLength(o.shapes[D]),F.push(R),B+=R.totalLength;q.totalShapeLength=B,q.pathsData=F}U+=B,q.shape._mdf=!0}else q.shape.paths=q.localShapeCollection;var Y,K=e,X=r,J=0;for(l=j-1;l>=0;l-=1)if((q=this.shapes[l]).shape._mdf){for((W=q.localShapeCollection).releaseShapes(),this.m===2&&j>1?(Y=this.calculateShapeEdges(e,r,q.totalShapeLength,J,U),J+=q.totalShapeLength):Y=[[K,X]],O=Y.length,D=0;D<O;D+=1){K=Y[D][0],X=Y[D][1],G.length=0,X<=1?G.push({s:q.totalShapeLength*K,e:q.totalShapeLength*X}):K>=1?G.push({s:q.totalShapeLength*(K-1),e:q.totalShapeLength*(X-1)}):(G.push({s:q.totalShapeLength*K,e:q.totalShapeLength}),G.push({s:0,e:q.totalShapeLength*(X-1)}));var Q=this.addShapes(q,G[0]);if(G[0].s!==G[0].e){if(G.length>1)if(q.shape.paths.shapes[q.shape.paths._length-1].c){var Z=Q.pop();this.addPaths(Q,W),Q=this.addShapes(q,G[1],Z)}else this.addPaths(Q,W),Q=this.addShapes(q,G[1]);this.addPaths(Q,W)}}q.shape.paths=W}}},TrimModifier.prototype.addPaths=function(t,e){var r,o=t.length;for(r=0;r<o;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,r,o,l,h,y){l.setXYAt(e[0],e[1],"o",h),l.setXYAt(r[0],r[1],"i",h+1),y&&l.setXYAt(t[0],t[1],"v",h),l.setXYAt(o[0],o[1],"v",h+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,r,o){e.setXYAt(t[1],t[5],"o",r),e.setXYAt(t[2],t[6],"i",r+1),o&&e.setXYAt(t[0],t[4],"v",r),e.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,e,r){var o,l,h,y,D,O,F,R,B=t.pathsData,j=t.shape.paths.shapes,U=t.shape.paths._length,q=0,W=[],G=!0;for(r?(D=r._length,R=r._length):(r=shapePool.newElement(),D=0,R=0),W.push(r),o=0;o<U;o+=1){for(O=B[o].lengths,r.c=j[o].c,h=j[o].c?O.length:O.length+1,l=1;l<h;l+=1)if(q+(y=O[l-1]).addedLength<e.s)q+=y.addedLength,r.c=!1;else{if(q>e.e){r.c=!1;break}e.s<=q&&e.e>=q+y.addedLength?(this.addSegment(j[o].v[l-1],j[o].o[l-1],j[o].i[l],j[o].v[l],r,D,G),G=!1):(F=bez.getNewSegment(j[o].v[l-1],j[o].v[l],j[o].o[l-1],j[o].i[l],(e.s-q)/y.addedLength,(e.e-q)/y.addedLength,O[l-1]),this.addSegmentFromArray(F,r,D,G),G=!1,r.c=!1),q+=y.addedLength,D+=1}if(j[o].c&&O.length){if(y=O[l-1],q<=e.e){var Y=O[l-1].addedLength;e.s<=q&&e.e>=q+Y?(this.addSegment(j[o].v[l-1],j[o].o[l-1],j[o].i[0],j[o].v[0],r,D,G),G=!1):(F=bez.getNewSegment(j[o].v[l-1],j[o].v[0],j[o].o[l-1],j[o].i[0],(e.s-q)/Y,(e.e-q)/Y,O[l-1]),this.addSegmentFromArray(F,r,D,G),G=!1,r.c=!1)}else r.c=!1;q+=y.addedLength,D+=1}if(r._length&&(r.setXYAt(r.v[R][0],r.v[R][1],"i",R),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),q>e.e)break;o<U-1&&(r=shapePool.newElement(),G=!0,W.push(r),D=0)}return W},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var r,o=shapePool.newElement();o.c=t.c;var l,h,y,D,O,F,R,B,j,U,q,W,G=t._length,Y=0;for(r=0;r<G;r+=1)l=t.v[r],y=t.o[r],h=t.i[r],l[0]===y[0]&&l[1]===y[1]&&l[0]===h[0]&&l[1]===h[1]?r!==0&&r!==G-1||t.c?(D=r===0?t.v[G-1]:t.v[r-1],F=(O=Math.sqrt(Math.pow(l[0]-D[0],2)+Math.pow(l[1]-D[1],2)))?Math.min(O/2,e)/O:0,R=q=l[0]+(D[0]-l[0])*F,B=W=l[1]-(l[1]-D[1])*F,j=R-(R-l[0])*roundCorner,U=B-(B-l[1])*roundCorner,o.setTripleAt(R,B,j,U,q,W,Y),Y+=1,D=r===G-1?t.v[0]:t.v[r+1],F=(O=Math.sqrt(Math.pow(l[0]-D[0],2)+Math.pow(l[1]-D[1],2)))?Math.min(O/2,e)/O:0,R=j=l[0]+(D[0]-l[0])*F,B=U=l[1]+(D[1]-l[1])*F,q=R-(R-l[0])*roundCorner,W=B-(B-l[1])*roundCorner,o.setTripleAt(R,B,j,U,q,W,Y),Y+=1):(o.setTripleAt(l[0],l[1],y[0],y[1],h[0],h[1],Y),Y+=1):(o.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],Y),Y+=1);return o},RoundCornersModifier.prototype.processShapes=function(t){var e,r,o,l,h,y,D=this.shapes.length,O=this.rd.v;if(O!==0)for(r=0;r<D;r+=1){if(y=(h=this.shapes[r]).localShapeCollection,h.shape._mdf||this._mdf||t)for(y.releaseShapes(),h.shape._mdf=!0,e=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(e[o],O));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){var r=e/100,o=[0,0],l=t._length,h=0;for(h=0;h<l;h+=1)o[0]+=t.v[h][0],o[1]+=t.v[h][1];o[0]/=l,o[1]/=l;var y,D,O,F,R,B,j=shapePool.newElement();for(j.c=t.c,h=0;h<l;h+=1)y=t.v[h][0]+(o[0]-t.v[h][0])*r,D=t.v[h][1]+(o[1]-t.v[h][1])*r,O=t.o[h][0]+(o[0]-t.o[h][0])*-r,F=t.o[h][1]+(o[1]-t.o[h][1])*-r,R=t.i[h][0]+(o[0]-t.i[h][0])*-r,B=t.i[h][1]+(o[1]-t.i[h][1])*-r,j.setTripleAt(y,D,O,F,R,B,h);return j},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,r,o,l,h,y,D=this.shapes.length,O=this.amount.v;if(O!==0)for(r=0;r<D;r+=1){if(y=(h=this.shapes[r]).localShapeCollection,h.shape._mdf||this._mdf||t)for(y.releaseShapes(),h.shape._mdf=!0,e=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(e[o],O));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,r,o,l,h){var y=h?-1:1,D=o.s.v[0]+(1-o.s.v[0])*(1-l),O=o.s.v[1]+(1-o.s.v[1])*(1-l);t.translate(o.p.v[0]*y*l,o.p.v[1]*y*l,o.p.v[2]),e.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),e.rotate(-o.r.v*y*l),e.translate(o.a.v[0],o.a.v[1],o.a.v[2]),r.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),r.scale(h?1/D:D,h?1/O:O),r.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(t,e,r,o){for(this.elem=t,this.arr=e,this.pos=r,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[r]);r>0;)r-=1,this._elements.unshift(e[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e]._processed=!1,t[e].ty==="gr"&&this.resetElements(t[e].it)},RepeaterModifier.prototype.cloneElements=function(t){var e=JSON.parse(JSON.stringify(t));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(t,e){var r,o=t.length;for(r=0;r<o;r+=1)t[r]._render=e,t[r].ty==="gr"&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,r,o,l,h,y=!1;if(this._mdf||t){var D,O=Math.ceil(this.c.v);if(this._groups.length<O){for(;this._groups.length<O;){var F={it:this.cloneElements(this._elements),ty:"gr"};F.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,F),this._groups.splice(0,0,F),this._currentCopies+=1}this.elem.reloadShapes(),y=!0}for(h=0,o=0;o<=this._groups.length-1;o+=1){if(D=h<O,this._groups[o]._render=D,this.changeGroupRender(this._groups[o].it,D),!D){var R=this.elemsData[o].it,B=R[R.length-1];B.transform.op.v!==0?(B.transform.op._mdf=!0,B.transform.op.v=0):B.transform.op._mdf=!1}h+=1}this._currentCopies=O;var j=this.o.v,U=j%1,q=j>0?Math.floor(j):Math.ceil(j),W=this.pMatrix.props,G=this.rMatrix.props,Y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var K,X,J=0;if(j>0){for(;J<q;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),J+=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,U,!1),J+=U)}else if(j<0){for(;J>q;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),J-=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-U,!0),J-=U)}for(o=this.data.m===1?0:this._currentCopies-1,l=this.data.m===1?1:-1,h=this._currentCopies;h;){if(X=(r=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),J!==0){for((o!==0&&l===1||o!==this._currentCopies-1&&l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],G[8],G[9],G[10],G[11],G[12],G[13],G[14],G[15]),this.matrix.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],Y[8],Y[9],Y[10],Y[11],Y[12],Y[13],Y[14],Y[15]),this.matrix.transform(W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14],W[15]),K=0;K<X;K+=1)r[K]=this.matrix.props[K];this.matrix.reset()}else for(this.matrix.reset(),K=0;K<X;K+=1)r[K]=this.matrix.props[K];J+=1,h-=1,o+=l}}else for(h=this._currentCopies,o=0,l=1;h;)r=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,h-=1,o+=l;return y},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<r;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var r=0,o=this.o.length/2;r<o;){if(Math.abs(t[4*r]-t[4*e+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var e,r,o,l=4*this.data.p;for(e=0;e<l;e+=1)r=e%4==0?100:255,o=Math.round(this.prop.v[e]*r),this.c[e]!==o&&(this.c[e]=o,this._cmdf=!t);if(this.o.length)for(l=this.prop.v.length,e=4*this.data.p;e<l;e+=1)r=e%2==0?100:1,o=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==o&&(this.o[e-4*this.data.p]=o,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,r,o){if(e===0)return"";var l,h=t.o,y=t.i,D=t.v,O=" M"+o.applyToPointStringified(D[0][0],D[0][1]);for(l=1;l<e;l+=1)O+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[l][0],y[l][1])+" "+o.applyToPointStringified(D[l][0],D[l][1]);return r&&e&&(O+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[0][0],y[0][1])+" "+o.applyToPointStringified(D[0][0],D[0][1]),O+="z"),O},audioControllerFactory=function(){function t(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].pause()},resume:function(){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].resume()},setRate:function(e){var r,o=this.audios.length;for(r=0;r<o;r+=1)this.audios[r].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):Howl?new Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,r=this.audios.length;for(e=0;e<r;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),ImagePreloader=function(){var t=function(){var D=createTag("canvas");D.width=1,D.height=1;var O=D.getContext("2d");return O.fillStyle="rgba(0,0,0,0)",O.fillRect(0,0,1,1),D}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(D,O,F){var R="";if(D.e)R=D.p;else if(O){var B=D.p;B.indexOf("images/")!==-1&&(B=B.split("/")[1]),R=O+B}else R=F,R+=D.u?D.u:"",R+=D.p;return R}function l(D){var O=0,F=setInterval(function(){(D.getBBox().width||O>500)&&(this._imageLoaded(),clearInterval(F)),O+=1}.bind(this),50)}function h(D){var O={assetData:D},F=o(D,this.assetsPath,this.path);return dataManager.loadData(F,function(R){O.img=R,this._footageLoaded()}.bind(this),function(){O.img={},this._footageLoaded()}.bind(this)),O}function y(){this._imageLoaded=e.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=l.bind(this),this.createFootageData=h.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return y.prototype={loadAssets:function(D,O){var F;this.imagesLoadedCb=O;var R=D.length;for(F=0;F<R;F+=1)D[F].layers||(D[F].t&&D[F].t!=="seq"?D[F].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(D[F]))):(this.totalImages+=1,this.images.push(this._createImageData(D[F]))))},setAssetsPath:function(D){this.assetsPath=D||""},setPath:function(D){this.path=D||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(D){for(var O=0,F=this.images.length;O<F;){if(this.images[O].assetData===D)return this.images[O].img;O+=1}return null},createImgData:function(D){var O=o(D,this.assetsPath,this.path),F=createTag("img");F.crossOrigin="anonymous",F.addEventListener("load",this._imageLoaded,!1),F.addEventListener("error",function(){R.img=t,this._imageLoaded()}.bind(this),!1),F.src=O;var R={img:F,assetData:D};return R},createImageData:function(D){var O=o(D,this.assetsPath,this.path),F=createNS("image");isSafari?this.testImageLoaded(F):F.addEventListener("load",this._imageLoaded,!1),F.addEventListener("error",function(){R.img=t,this._imageLoaded()}.bind(this),!1),F.setAttributeNS("http://www.w3.org/1999/xlink","href",O),this._elementHelper.append?this._elementHelper.append(F):this._elementHelper.appendChild(F);var R={img:F,assetData:D};return R},imageLoaded:e,footageLoaded:r,setCacheType:function(D,O){D==="svg"?(this._elementHelper=O,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},y}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}(),filtersFactory=function(){var t={createFilter:function(e,r){var o=createNS("filter");return o.setAttribute("id",e),r!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return t}();function TextAnimatorProperty(t,e,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(t,e,r){var o={propType:!1},l=PropertyFactory.getProp,h=e.a;this.a={r:h.r?l(t,h.r,0,degToRads,r):o,rx:h.rx?l(t,h.rx,0,degToRads,r):o,ry:h.ry?l(t,h.ry,0,degToRads,r):o,sk:h.sk?l(t,h.sk,0,degToRads,r):o,sa:h.sa?l(t,h.sa,0,degToRads,r):o,s:h.s?l(t,h.s,1,.01,r):o,a:h.a?l(t,h.a,1,0,r):o,o:h.o?l(t,h.o,0,.01,r):o,p:h.p?l(t,h.p,1,0,r):o,sw:h.sw?l(t,h.sw,0,0,r):o,sc:h.sc?l(t,h.sc,1,0,r):o,fc:h.fc?l(t,h.fc,1,0,r):o,fh:h.fh?l(t,h.fh,0,0,r):o,fs:h.fs?l(t,h.fs,0,.01,r):o,fb:h.fb?l(t,h.fb,0,.01,r):o,t:h.t?l(t,h.t,0,0,r):o},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,r),this.s.t=e.s.t}function LetterProps(t,e,r,o,l,h){this.o=t,this.sw=e,this.sc=r,this.fc=o,this.m=l,this.p=h,this._mdf={o:!0,sw:!!e,sc:!!r,fc:!!o,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var t,e,r=this._textData.a.length,o=PropertyFactory.getProp;for(t=0;t<r;t+=1)e=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q=this._moreOptions.alignment.v,Z=this._animatorsData,ee=this._textData,ne=this.mHelper,ie=this._renderType,re=this.renderedLetters.length,te=t.l;if(this._hasMaskedPath){if(J=this._pathData.m,!this._pathData.n||this._pathData._mdf){var se,ce=J.v;for(this._pathData.r.v&&(ce=ce.reverse()),y={tLength:0,segments:[]},h=ce._length-1,Y=0,l=0;l<h;l+=1)se=bez.buildBezierData(ce.v[l],ce.v[l+1],[ce.o[l][0]-ce.v[l][0],ce.o[l][1]-ce.v[l][1]],[ce.i[l+1][0]-ce.v[l+1][0],ce.i[l+1][1]-ce.v[l+1][1]]),y.tLength+=se.segmentLength,y.segments.push(se),Y+=se.segmentLength;l=h,J.v.c&&(se=bez.buildBezierData(ce.v[l],ce.v[0],[ce.o[l][0]-ce.v[l][0],ce.o[l][1]-ce.v[l][1]],[ce.i[0][0]-ce.v[0][0],ce.i[0][1]-ce.v[0][1]]),y.tLength+=se.segmentLength,y.segments.push(se),Y+=se.segmentLength),this._pathData.pi=y}if(y=this._pathData.pi,D=this._pathData.f.v,j=0,B=1,F=0,R=!0,W=y.segments,D<0&&J.v.c)for(y.tLength<Math.abs(D)&&(D=-Math.abs(D)%y.tLength),B=(q=W[j=W.length-1].points).length-1;D<0;)D+=q[B].partialLength,(B-=1)<0&&(B=(q=W[j-=1].points).length-1);U=(q=W[j].points)[B-1],G=(O=q[B]).partialLength}h=te.length,r=0,o=0;var de,ue,he,oe,ae,le=1.2*t.finalSize*.714,fe=!0;he=Z.length;var we,me,ge,Se,ke,_e,xe,Ce,pe,ye,be,Pe,ve=-1,Te=D,Ie=j,Fe=B,Me=-1,De="",Be=this.defaultPropsArray;if(t.j===2||t.j===1){var ze=0,Ue=0,Re=t.j===2?-.5:-1,$e=0,He=!0;for(l=0;l<h;l+=1)if(te[l].n){for(ze&&(ze+=Ue);$e<l;)te[$e].animatorJustifyOffset=ze,$e+=1;ze=0,He=!0}else{for(ue=0;ue<he;ue+=1)(de=Z[ue].a).t.propType&&(He&&t.j===2&&(Ue+=de.t.v*Re),(ae=Z[ue].s.getMult(te[l].anIndexes[ue],ee.a[ue].s.totalChars)).length?ze+=de.t.v*ae[0]*Re:ze+=de.t.v*ae*Re);He=!1}for(ze&&(ze+=Ue);$e<l;)te[$e].animatorJustifyOffset=ze,$e+=1}for(l=0;l<h;l+=1){if(ne.reset(),Se=1,te[l].n)r=0,o+=t.yOffset,o+=fe?1:0,D=Te,fe=!1,this._hasMaskedPath&&(B=Fe,U=(q=W[j=Ie].points)[B-1],G=(O=q[B]).partialLength,F=0),De="",be="",pe="",Pe="",Be=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Me!==te[l].line){switch(t.j){case 1:D+=Y-t.lineWidths[te[l].line];break;case 2:D+=(Y-t.lineWidths[te[l].line])/2}Me=te[l].line}ve!==te[l].ind&&(te[ve]&&(D+=te[ve].extra),D+=te[l].an/2,ve=te[l].ind),D+=Q[0]*te[l].an*.005;var Le=0;for(ue=0;ue<he;ue+=1)(de=Z[ue].a).p.propType&&((ae=Z[ue].s.getMult(te[l].anIndexes[ue],ee.a[ue].s.totalChars)).length?Le+=de.p.v[0]*ae[0]:Le+=de.p.v[0]*ae),de.a.propType&&((ae=Z[ue].s.getMult(te[l].anIndexes[ue],ee.a[ue].s.totalChars)).length?Le+=de.a.v[0]*ae[0]:Le+=de.a.v[0]*ae);for(R=!0,this._pathData.a.v&&(D=.5*te[0].an+(Y-this._pathData.f.v-.5*te[0].an-.5*te[te.length-1].an)*ve/(h-1),D+=this._pathData.f.v);R;)F+G>=D+Le||!q?(K=(D+Le-F)/O.partialLength,me=U.point[0]+(O.point[0]-U.point[0])*K,ge=U.point[1]+(O.point[1]-U.point[1])*K,ne.translate(-Q[0]*te[l].an*.005,-Q[1]*le*.01),R=!1):q&&(F+=O.partialLength,(B+=1)>=q.length&&(B=0,W[j+=1]?q=W[j].points:J.v.c?(B=0,q=W[j=0].points):(F-=O.partialLength,q=null)),q&&(U=O,G=(O=q[B]).partialLength));we=te[l].an/2-te[l].add,ne.translate(-we,0,0)}else we=te[l].an/2-te[l].add,ne.translate(-we,0,0),ne.translate(-Q[0]*te[l].an*.005,-Q[1]*le*.01,0);for(ue=0;ue<he;ue+=1)(de=Z[ue].a).t.propType&&(ae=Z[ue].s.getMult(te[l].anIndexes[ue],ee.a[ue].s.totalChars),r===0&&t.j===0||(this._hasMaskedPath?ae.length?D+=de.t.v*ae[0]:D+=de.t.v*ae:ae.length?r+=de.t.v*ae[0]:r+=de.t.v*ae));for(t.strokeWidthAnim&&(_e=t.sw||0),t.strokeColorAnim&&(ke=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(xe=[t.fc[0],t.fc[1],t.fc[2]]),ue=0;ue<he;ue+=1)(de=Z[ue].a).a.propType&&((ae=Z[ue].s.getMult(te[l].anIndexes[ue],ee.a[ue].s.totalChars)).length?ne.translate(-de.a.v[0]*ae[0],-de.a.v[1]*ae[1],de.a.v[2]*ae[2]):ne.translate(-de.a.v[0]*ae,-de.a.v[1]*ae,de.a.v[2]*ae));for(ue=0;ue<he;ue+=1)(de=Z[ue].a).s.propType&&((ae=Z[ue].s.getMult(te[l].anIndexes[ue],ee.a[ue].s.totalChars)).length?ne.scale(1+(de.s.v[0]-1)*ae[0],1+(de.s.v[1]-1)*ae[1],1):ne.scale(1+(de.s.v[0]-1)*ae,1+(de.s.v[1]-1)*ae,1));for(ue=0;ue<he;ue+=1){if(de=Z[ue].a,ae=Z[ue].s.getMult(te[l].anIndexes[ue],ee.a[ue].s.totalChars),de.sk.propType&&(ae.length?ne.skewFromAxis(-de.sk.v*ae[0],de.sa.v*ae[1]):ne.skewFromAxis(-de.sk.v*ae,de.sa.v*ae)),de.r.propType&&(ae.length?ne.rotateZ(-de.r.v*ae[2]):ne.rotateZ(-de.r.v*ae)),de.ry.propType&&(ae.length?ne.rotateY(de.ry.v*ae[1]):ne.rotateY(de.ry.v*ae)),de.rx.propType&&(ae.length?ne.rotateX(de.rx.v*ae[0]):ne.rotateX(de.rx.v*ae)),de.o.propType&&(ae.length?Se+=(de.o.v*ae[0]-Se)*ae[0]:Se+=(de.o.v*ae-Se)*ae),t.strokeWidthAnim&&de.sw.propType&&(ae.length?_e+=de.sw.v*ae[0]:_e+=de.sw.v*ae),t.strokeColorAnim&&de.sc.propType)for(Ce=0;Ce<3;Ce+=1)ae.length?ke[Ce]+=(de.sc.v[Ce]-ke[Ce])*ae[0]:ke[Ce]+=(de.sc.v[Ce]-ke[Ce])*ae;if(t.fillColorAnim&&t.fc){if(de.fc.propType)for(Ce=0;Ce<3;Ce+=1)ae.length?xe[Ce]+=(de.fc.v[Ce]-xe[Ce])*ae[0]:xe[Ce]+=(de.fc.v[Ce]-xe[Ce])*ae;de.fh.propType&&(xe=ae.length?addHueToRGB(xe,de.fh.v*ae[0]):addHueToRGB(xe,de.fh.v*ae)),de.fs.propType&&(xe=ae.length?addSaturationToRGB(xe,de.fs.v*ae[0]):addSaturationToRGB(xe,de.fs.v*ae)),de.fb.propType&&(xe=ae.length?addBrightnessToRGB(xe,de.fb.v*ae[0]):addBrightnessToRGB(xe,de.fb.v*ae))}}for(ue=0;ue<he;ue+=1)(de=Z[ue].a).p.propType&&(ae=Z[ue].s.getMult(te[l].anIndexes[ue],ee.a[ue].s.totalChars),this._hasMaskedPath?ae.length?ne.translate(0,de.p.v[1]*ae[0],-de.p.v[2]*ae[1]):ne.translate(0,de.p.v[1]*ae,-de.p.v[2]*ae):ae.length?ne.translate(de.p.v[0]*ae[0],de.p.v[1]*ae[1],-de.p.v[2]*ae[2]):ne.translate(de.p.v[0]*ae,de.p.v[1]*ae,-de.p.v[2]*ae));if(t.strokeWidthAnim&&(pe=_e<0?0:_e),t.strokeColorAnim&&(ye="rgb("+Math.round(255*ke[0])+","+Math.round(255*ke[1])+","+Math.round(255*ke[2])+")"),t.fillColorAnim&&t.fc&&(be="rgb("+Math.round(255*xe[0])+","+Math.round(255*xe[1])+","+Math.round(255*xe[2])+")"),this._hasMaskedPath){if(ne.translate(0,-t.ls),ne.translate(0,Q[1]*le*.01+o,0),this._pathData.p.v){X=(O.point[1]-U.point[1])/(O.point[0]-U.point[0]);var Oe=180*Math.atan(X)/Math.PI;O.point[0]<U.point[0]&&(Oe+=180),ne.rotate(-Oe*Math.PI/180)}ne.translate(me,ge,0),D-=Q[0]*te[l].an*.005,te[l+1]&&ve!==te[l+1].ind&&(D+=te[l].an/2,D+=.001*t.tr*t.finalSize)}else{switch(ne.translate(r,o,0),t.ps&&ne.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:ne.translate(te[l].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[te[l].line]),0,0);break;case 2:ne.translate(te[l].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[te[l].line])/2,0,0)}ne.translate(0,-t.ls),ne.translate(we,0,0),ne.translate(Q[0]*te[l].an*.005,Q[1]*le*.01,0),r+=te[l].l+.001*t.tr*t.finalSize}ie==="html"?De=ne.toCSS():ie==="svg"?De=ne.to2dCSS():Be=[ne.props[0],ne.props[1],ne.props[2],ne.props[3],ne.props[4],ne.props[5],ne.props[6],ne.props[7],ne.props[8],ne.props[9],ne.props[10],ne.props[11],ne.props[12],ne.props[13],ne.props[14],ne.props[15]],Pe=Se}re<=l?(oe=new LetterProps(Pe,pe,ye,be,De,Be),this.renderedLetters.push(oe),re+=1,this.lettersChangedFlag=!0):(oe=this.renderedLetters[l],this.lettersChangedFlag=oe.update(Pe,pe,ye,be,De,Be)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,r,o,l,h){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var y=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,y=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,y=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,y=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,y=!0),this.m!==l&&(this.m=l,this._mdf.m=!0,y=!0),!h.length||this.p[0]===h[0]&&this.p[1]===h[1]&&this.p[4]===h[4]&&this.p[5]===h[5]&&this.p[12]===h[12]&&this.p[13]===h[13]||(this.p=h,this._mdf.p=!0,y=!0),y},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var o;this.lock=!0,this._mdf=!1;var l=this.effectsSequence.length,h=t||this.data.d.k[this.keysIndex].s;for(o=0;o<l;o+=1)h=r!==this.keysIndex?this.effectsSequence[o](h,h.t):this.effectsSequence[o](this.currentData,h.t);e!==h&&this.setCurrentData(h),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,r=0,o=t.length;r<=o-1&&!(r===o-1||t[r+1].t>e);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,r,o=[],l=0,h=t.length,y=!1;l<h;)e=t.charCodeAt(l),FontManager.isCombinedCharacter(e)?o[o.length-1]+=t.charAt(l):e>=55296&&e<=56319?(r=t.charCodeAt(l+1))>=56320&&r<=57343?(y||FontManager.isModifier(e,r)?(o[o.length-1]+=t.substr(l,2),y=!1):o.push(t.substr(l,2)),l+=1):o.push(t.charAt(l)):e>56319?(r=t.charCodeAt(l+1),FontManager.isZeroWidthJoiner(e,r)?(y=!0,o[o.length-1]+=t.substr(l,2),l+=1):o.push(t.charAt(l))):FontManager.isZeroWidthJoiner(e)?(o[o.length-1]+=t.charAt(l),y=!0):o.push(t.charAt(l)),l+=1;return o},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,r,o,l,h,y,D,O=this.elem.globalData.fontManager,F=this.data,R=[],B=0,j=F.m.g,U=0,q=0,W=0,G=[],Y=0,K=0,X=O.getFontByName(t.f),J=0,Q=getFontProperties(X);t.fWeight=Q.weight,t.fStyle=Q.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),r=t.finalText.length,t.finalLineHeight=t.lh;var Z,ee=t.tr/1e3*t.finalSize;if(t.sz)for(var ne,ie,re=!0,te=t.sz[0],se=t.sz[1];re;){ne=0,Y=0,r=(ie=this.buildFinalText(t.t)).length,ee=t.tr/1e3*t.finalSize;var ce=-1;for(e=0;e<r;e+=1)Z=ie[e].charCodeAt(0),o=!1,ie[e]===" "?ce=e:Z!==13&&Z!==3||(Y=0,o=!0,ne+=t.finalLineHeight||1.2*t.finalSize),O.chars?(D=O.getCharData(ie[e],X.fStyle,X.fFamily),J=o?0:D.w*t.finalSize/100):J=O.measureText(ie[e],t.f,t.finalSize),Y+J>te&&ie[e]!==" "?(ce===-1?r+=1:e=ce,ne+=t.finalLineHeight||1.2*t.finalSize,ie.splice(e,ce===e?1:0,"\r"),ce=-1,Y=0):(Y+=J,Y+=ee);ne+=X.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&se<ne?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=ie,r=t.finalText.length,re=!1)}Y=-ee,J=0;var de,ue=0;for(e=0;e<r;e+=1)if(o=!1,(Z=(de=t.finalText[e]).charCodeAt(0))===13||Z===3?(ue=0,G.push(Y),K=Y>K?Y:K,Y=-2*ee,l="",o=!0,W+=1):l=de,O.chars?(D=O.getCharData(de,X.fStyle,O.getFontByName(t.f).fFamily),J=o?0:D.w*t.finalSize/100):J=O.measureText(l,t.f,t.finalSize),de===" "?ue+=J+ee:(Y+=J+ee+ue,ue=0),R.push({l:J,an:J,add:U,n:o,anIndexes:[],val:l,line:W,animatorJustifyOffset:0}),j==2){if(U+=J,l===""||l===" "||e===r-1){for(l!==""&&l!==" "||(U-=J);q<=e;)R[q].an=U,R[q].ind=B,R[q].extra=J,q+=1;B+=1,U=0}}else if(j==3){if(U+=J,l===""||e===r-1){for(l===""&&(U-=J);q<=e;)R[q].an=U,R[q].ind=B,R[q].extra=J,q+=1;U=0,B+=1}}else R[B].ind=B,R[B].extra=0,B+=1;if(t.l=R,K=Y>K?Y:K,G.push(Y),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=K,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=G;var he,oe,ae,le,fe=F.a;y=fe.length;var we=[];for(h=0;h<y;h+=1){for((he=fe[h]).a.sc&&(t.strokeColorAnim=!0),he.a.sw&&(t.strokeWidthAnim=!0),(he.a.fc||he.a.fh||he.a.fs||he.a.fb)&&(t.fillColorAnim=!0),le=0,ae=he.s.b,e=0;e<r;e+=1)(oe=R[e]).anIndexes[h]=le,(ae==1&&oe.val!==""||ae==2&&oe.val!==""&&oe.val!==" "||ae==3&&(oe.n||oe.val==" "||e==r-1)||ae==4&&(oe.n||e==r-1))&&(he.s.rn===1&&we.push(le),le+=1);F.a[h].s.totalChars=le;var me,ge=-1;if(he.s.rn===1)for(e=0;e<r;e+=1)ge!=(oe=R[e]).anIndexes[h]&&(ge=oe.anIndexes[h],me=we.splice(Math.floor(Math.random()*we.length),1)[0]),oe.anIndexes[h]=me}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=X.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=e===void 0?this.keysIndex:e;var r=this.copyData({},this.data.d.k[e].s);r=this.copyData(r,t),this.data.d.k[e].s=r,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var e=this.data.d.k[t].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,e=Math.min,r=Math.floor;function o(l,h){this._currentTextLength=-1,this.k=!1,this.data=h,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,h.s||{k:0},0,0,this),this.e="e"in h?PropertyFactory.getProp(l,h.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(l,h.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,h.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,h.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,h.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,h.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return o.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var h=0,y=0,D=1,O=1;this.ne.v>0?h=this.ne.v/100:y=-this.ne.v/100,this.xe.v>0?D=1-this.xe.v/100:O=1+this.xe.v/100;var F=BezierFactory.getBezierEasing(h,y,D,O).get,R=0,B=this.finalS,j=this.finalE,U=this.data.sh;if(U===2)R=F(R=j===B?l>=j?1:0:t(0,e(.5/(j-B)+(l-B)/(j-B),1)));else if(U===3)R=F(R=j===B?l>=j?0:1:1-t(0,e(.5/(j-B)+(l-B)/(j-B),1)));else if(U===4)j===B?R=0:(R=t(0,e(.5/(j-B)+(l-B)/(j-B),1)))<.5?R*=2:R=1-2*(R-.5),R=F(R);else if(U===5){if(j===B)R=0;else{var q=j-B,W=-q/2+(l=e(t(0,l+.5-B),j-B)),G=q/2;R=Math.sqrt(1-W*W/(G*G))}R=F(R)}else U===6?(j===B?R=0:(l=e(t(0,l+.5-B),j-B),R=(1+Math.cos(Math.PI+2*Math.PI*l/(j-B)))/2),R=F(R)):(l>=r(B)&&(R=t(0,e(l-B<0?e(j,1)-(B-l):j-l,1))),R=F(R));if(this.sm.v!==100){var Y=.01*this.sm.v;Y===0&&(Y=1e-8);var K=.5-.5*Y;R<K?R=0:(R=(R-K)/Y)>1&&(R=1)}return R*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var h=this.data.r===2?1:100/this.data.totalChars,y=this.o.v/h,D=this.s.v/h+y,O=this.e.v/h+y;if(D>O){var F=D;D=O,O=F}this.finalS=D,this.finalE=O}},extendPrototype([DynamicPropertyContainer],o),{getTextSelectorProp:function(l,h,y){return new o(l,h)}}}(),poolFactory=function(t,e,r){var o=0,l=t,h=createSizedArray(l);return{newElement:function(){return o?h[o-=1]:e()},release:function(y){o===l&&(h=pooling.double(h),l*=2),r&&r(y),h[o]=y,o+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},pointPool=poolFactory(8,function(){return createTypedArray("float32",2)}),shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(t){var e,r=t._length;for(e=0;e<r;e+=1)pointPool.release(t.v[e]),pointPool.release(t.i[e]),pointPool.release(t.o[e]),t.v[e]=null,t.i[e]=null,t.o[e]=null;t._length=0,t.c=!1}),factory.clone=function(t){var e,r=factory.newElement(),o=t._length===void 0?t.v.length:t._length;for(r.setLength(o),r.c=t.c,e=0;e<o;e+=1)r.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return r},factory),factory,shapeCollectionPool=function(){var t={newShapeCollection:function(){return e?o[e-=1]:new ShapeCollection},release:function(l){var h,y=l._length;for(h=0;h<y;h+=1)shapePool.release(l.shapes[h]);l._length=0,e===r&&(o=pooling.double(o),r*=2),o[e]=l,e+=1}},e=0,r=4,o=createSizedArray(r);return t}(),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(t){var e,r=t.lengths.length;for(e=0;e<r;e+=1)bezierLengthPool.release(t.lengths[e]);t.lengths.length=0}),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),markerParser=function(){function t(e){for(var r,o=e.split(`\r
`),l={},h=0,y=0;y<o.length;y+=1)(r=o[y].split(":")).length===2&&(l[r[0]]=r[1].trim(),h+=1);if(h===0)throw new Error;return l}return function(e){for(var r=[],o=0;o<e.length;o+=1){var l=e[o],h={time:l.tm,duration:l.dr};try{h.payload=JSON.parse(e[o].cm)}catch{try{h.payload=t(e[o].cm)}catch{h.payload={name:e[o]}}}r.push(h)}return r}}();function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(e&&e.title){var o=createNS("title"),l=createElementID();o.setAttribute("id",l),o.textContent=e.title,this.svgElement.appendChild(o),r+=l}if(e&&e.description){var h=createNS("desc"),y=createElementID();h.setAttribute("id",y),h.textContent=e.description,this.svgElement.appendChild(h),r+=" "+y}r&&this.svgElement.setAttribute("aria-labelledby",r);var D=createNS("defs");this.svgElement.appendChild(D);var O=createNS("g");this.svgElement.appendChild(O),this.layerElement=O,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:D,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||e.clearCanvas===void 0||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,r){this.data=t,this.element=e,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o,l,h=this.globalData.defs,y=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(y),this.solidPath="";var D,O,F,R,B,j,U=this.masksProperties,q=0,W=[],G=createElementID(),Y="clipPath",K="clip-path";for(o=0;o<y;o+=1)if((U[o].mode!=="a"&&U[o].mode!=="n"||U[o].inv||U[o].o.k!==100||U[o].o.x)&&(Y="mask",K="mask"),U[o].mode!=="s"&&U[o].mode!=="i"||q!==0?F=null:((F=createNS("rect")).setAttribute("fill","#ffffff"),F.setAttribute("width",this.element.comp.data.w||0),F.setAttribute("height",this.element.comp.data.h||0),W.push(F)),l=createNS("path"),U[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,U[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,U[o],3),elem:l,lastPath:""},h.appendChild(l);else{var X;if(q+=1,l.setAttribute("fill",U[o].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero"),U[o].x.k!==0?(Y="mask",K="mask",j=PropertyFactory.getProp(this.element,U[o].x,0,null,this.element),X=createElementID(),(R=createNS("filter")).setAttribute("id",X),(B=createNS("feMorphology")).setAttribute("operator","erode"),B.setAttribute("in","SourceGraphic"),B.setAttribute("radius","0"),R.appendChild(B),h.appendChild(R),l.setAttribute("stroke",U[o].mode==="s"?"#000000":"#ffffff")):(B=null,j=null),this.storedData[o]={elem:l,x:j,expan:B,lastPath:"",lastOperator:"",filterId:X,lastRadius:0},U[o].mode==="i"){O=W.length;var J=createNS("g");for(D=0;D<O;D+=1)J.appendChild(W[D]);var Q=createNS("mask");Q.setAttribute("mask-type","alpha"),Q.setAttribute("id",G+"_"+q),Q.appendChild(l),h.appendChild(Q),J.setAttribute("mask","url("+locationHref+"#"+G+"_"+q+")"),W.length=0,W.push(J)}else W.push(l);U[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,U[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,U[o],3),invRect:F},this.viewData[o].prop.k||this.drawPath(U[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(Y),y=W.length,o=0;o<y;o+=1)this.maskElement.appendChild(W[o]);q>0&&(this.maskElement.setAttribute("id",G),this.element.maskedElement.setAttribute(K,"url("+locationHref+"#"+G+")"),h.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=e,this._isAnimated=!!r.k;for(var o=0,l=t.length;o<l;){if(t[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}function SVGTransformData(t,e,r){this.transform={mProps:t,op:e,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=r}function SVGGradientFillStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,r)}function SVGGradientStrokeStyleData(t,e,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,r,o=this.layers.length;for(this.completeLayers=!0,e=o-1;e>=0;e-=1)this.elements[e]||(r=this.layers[e]).ip-r.st<=t-this.layers[e].st&&r.op-r.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){var e;this.completeLayers=!1;var r,o=t.length,l=this.layers.length;for(e=0;e<o;e+=1)for(r=0;r<l;){if(this.layers[r].id===t[e].id){this.layers[r]=t[e];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,r){for(var o=this.elements,l=this.layers,h=0,y=l.length;h<y;)l[h].ind==e&&(o[h]&&o[h]!==!0?(r.push(o[h]),o[h].setAsParent(),l[h].parent!==void 0?this.buildElementParenting(t,l[h].parent,r):t.setHierarchy(r)):(this.buildItem(h),this.addPendingElement(t))),h+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length;for(e=0;e<r;e+=1)if(t[e].xt){var o=this.createComp(t[e]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",t.w),o.setAttribute("height",t.h),o.setAttribute("x",0),o.setAttribute("y",0);var l=createElementID();r.setAttribute("id",l),r.appendChild(o),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+l+")"),e.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&this.layers[t].ty!==99){e[t]=!0;var r=this.createItem(this.layers[t]);e[t]=r,expressionsPlugin&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt&&(this.elements[t-1]&&this.elements[t-1]!==!0?r.setMatte(e[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,r=this.elements.length;e<r;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=r-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){for(var o,l=0;l<e;)this.elements[l]&&this.elements[l]!==!0&&this.elements[l].getBaseElement()&&(o=this.elements[l].getBaseElement()),l+=1;o?this.layerElement.insertBefore(r,o):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){if(t[0]!==1||t[1]!==0||t[4]!==0||t[5]!==1||t[12]!==0||t[13]!==0)if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(t);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e,r=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var o=this.contextData.saved[this.contextData.cArrPos];for(e=0;e<16;e+=1)o[e]=r[e];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,r=this.contextData.saved[this.contextData.cArrPos],o=this.contextData.cTr.props;for(e=0;e<16;e+=1)o[e]=r[e];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var r="0px 0px 0px";e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,e["-webkit-transform"]=r,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,r,o;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var l=this.renderConfig.preserveAspectRatio.split(" "),h=l[1]||"meet",y=l[0]||"xMidYMid",D=y.substr(0,4),O=y.substr(4);r=t/e,(o=this.transformCanvas.w/this.transformCanvas.h)>r&&h==="meet"||o<r&&h==="slice"?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=D==="xMid"&&(o<r&&h==="meet"||o>r&&h==="slice")?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:D==="xMax"&&(o<r&&h==="meet"||o>r&&h==="slice")?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=O==="YMid"&&(o>r&&h==="meet"||o<r&&h==="slice")?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:O==="YMax"&&(o>r&&h==="meet"||o<r&&h==="slice")?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||this.renderConfig.clearCanvas!==!0||e)&&!this.destroyed&&t!==-1){var r;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var o=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=0;r<o;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=o-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e=this.elements;if(!e[t]&&this.layers[t].ty!==99){var r=this.createItem(this.layers[t],this,this.globalData);e[t]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var r=t.getBaseElement();if(r){var o=this.layers[e];if(o.ddd&&this.supports3d)this.addTo3dContainer(r,e);else if(this.threeDElements)this.addTo3dContainer(r,e);else{for(var l,h,y=0;y<e;)this.elements[y]&&this.elements[y]!==!0&&this.elements[y].getBaseElement&&(h=this.elements[y],l=(this.layers[y].ddd?this.getThreeDContainerByPos(y):h.getBaseElement())||l),y+=1;l?o.ddd&&this.supports3d||this.layerElement.insertBefore(r,l):o.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,r=this.threeDElements.length;e<r;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(t,e){var r,o,l=createTag("div");styleDiv(l);var h=createTag("div");if(styleDiv(h),e==="3d"){(r=l.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var y="50% 50%";r.webkitTransformOrigin=y,r.mozTransformOrigin=y,r.transformOrigin=y;var D="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(o=h.style).transform=D,o.webkitTransform=D}l.appendChild(h);var O={container:h,perspectiveElem:l,startPos:t,endPos:t,type:e};return this.threeDElements.push(O),O},HybridRenderer.prototype.build3dContainers=function(){var t,e,r=this.layers.length,o="";for(t=0;t<r;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(o!=="3d"&&(o="3d",e=this.createThreeDContainer(t,"3d")),e.endPos=Math.max(e.endPos,t)):(o!=="2d"&&(o="2d",e=this.createThreeDContainer(t,"2d")),e.endPos=Math.max(e.endPos,t));for(t=(r=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var r=0,o=this.threeDElements.length;r<o;){if(e<=this.threeDElements[r].endPos){for(var l,h=this.threeDElements[r].startPos;h<e;)this.elements[h]&&this.elements[h].getBaseElement&&(l=this.elements[h].getBaseElement()),h+=1;l?this.threeDElements[r].container.insertBefore(t,l):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),r=this.animationItem.wrapper,o=e.style;o.width=t.w+"px",o.height=t.h+"px",this.resizerElem=e,styleDiv(e),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),r.appendChild(e),o.overflow="hidden";var l=createNS("svg");l.setAttribute("width","1"),l.setAttribute("height","1"),styleDiv(l),this.resizerElem.appendChild(l);var h=createNS("defs");l.appendChild(h),this.data=t,this.setupGlobalData(t,l),this.globalData.defs=h,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var t;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(t=0;t<e;t+=1)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,r,o,l=this.animationItem.wrapper.offsetWidth,h=this.animationItem.wrapper.offsetHeight,y=l/h;this.globalData.compSize.w/this.globalData.compSize.h>y?(t=l/this.globalData.compSize.w,e=l/this.globalData.compSize.w,r=0,o=(h-this.globalData.compSize.h*(l/this.globalData.compSize.w))/2):(t=h/this.globalData.compSize.h,e=h/this.globalData.compSize.h,r=(l-this.globalData.compSize.w*(h/this.globalData.compSize.h))/2,o=0);var D=this.resizerElem.style;D.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+r+","+o+",0,1)",D.transform=D.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,e=this.globalData.compSize.w,r=this.globalData.compSize.h,o=this.threeDElements.length;for(t=0;t<o;t+=1){var l=this.threeDElements[t].perspectiveElem.style;l.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px",l.perspective=l.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(t){var e,r=t.length,o=createTag("div");for(e=0;e<r;e+=1)if(t[e].xt){var l=this.createComp(t[e],o,this.globalData.comp,null);l.initExpressions(),this.globalData.projectInterface.registerComposition(l)}},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var e,r=this.element.finalTransform.mat,o=this.masksProperties.length;for(e=0;e<o;e+=1)if((this.viewData[e].prop._mdf||t)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||t)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),this.masksProperties[e].mode!=="n"&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[e].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||t))){var l=this.storedData[e].expan;this.storedData[e].x.v<0?(this.storedData[e].lastOperator!=="erode"&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),l.setAttribute("radius",-this.storedData[e].x.v)):(this.storedData[e].lastOperator!=="dilate"&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,r){var o,l,h=" M"+e.v[0][0]+","+e.v[0][1];for(l=e._length,o=1;o<l;o+=1)h+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[o][0]+","+e.i[o][1]+" "+e.v[o][0]+","+e.v[o][1];if(e.c&&l>1&&(h+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),r.lastPath!==h){var y="";r.elem&&(e.c&&(y=t.inv?this.solidPath+h:h),r.elem.setAttribute("d",y)),r.lastPath=h}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){var r,o=this.dynamicProperties.length;for(r=0;r<o;r+=1)(e||this._isParent&&this.dynamicProperties[r].propType==="transform")&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,r=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<o;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),r=0;r<o;r+=1)t=this.hierarchy[r].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var r,o=!0,l=this.comp;o;)l.finalTransform?(l.data.hasMask&&e.splice(0,0,l.finalTransform),l=l.comp):o=!1;var h,y=e.length;for(r=0;r<y;r+=1)h=e[r].mat.applyToPointArray(0,0,0),t=[t[0]-h[0],t[1]-h[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,e=this.renderableComponents.length;for(t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,r){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,e),this.setGradientOpacity(e,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var r=createElementID(),o=createNS(e.t===1?"linearGradient":"radialGradient");o.setAttribute("id",r),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l,h,y,D=[];for(y=4*e.g.p,h=0;h<y;h+=4)l=createNS("stop"),o.appendChild(l),D.push(l);t.setAttribute(e.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+r+")"),this.gf=o,this.cst=D},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var r,o,l,h=createNS("mask"),y=createNS("path");h.appendChild(y);var D=createElementID(),O=createElementID();h.setAttribute("id",O);var F=createNS(t.t===1?"linearGradient":"radialGradient");F.setAttribute("id",D),F.setAttribute("spreadMethod","pad"),F.setAttribute("gradientUnits","userSpaceOnUse"),l=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var R=this.stops;for(o=4*t.g.p;o<l;o+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),F.appendChild(r),R.push(r);y.setAttribute(t.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+D+")"),t.ty==="gs"&&(y.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),y.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&y.setAttribute("stroke-miterlimit",t.ml)),this.of=F,this.ms=h,this.ost=R,this.maskId=O,e.msElem=y}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var t=new Matrix,e=new Matrix;function r(O,F,R){(R||F.transform.op._mdf)&&F.transform.container.setAttribute("opacity",F.transform.op.v),(R||F.transform.mProps._mdf)&&F.transform.container.setAttribute("transform",F.transform.mProps.v.to2dCSS())}function o(O,F,R){var B,j,U,q,W,G,Y,K,X,J,Q,Z=F.styles.length,ee=F.lvl;for(G=0;G<Z;G+=1){if(q=F.sh._mdf||R,F.styles[G].lvl<ee){for(K=e.reset(),J=ee-F.styles[G].lvl,Q=F.transformers.length-1;!q&&J>0;)q=F.transformers[Q].mProps._mdf||q,J-=1,Q-=1;if(q)for(J=ee-F.styles[G].lvl,Q=F.transformers.length-1;J>0;)X=F.transformers[Q].mProps.v.props,K.transform(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14],X[15]),J-=1,Q-=1}else K=t;if(j=(Y=F.sh.paths)._length,q){for(U="",B=0;B<j;B+=1)(W=Y.shapes[B])&&W._length&&(U+=buildShapeString(W,W._length,W.c,K));F.caches[G]=U}else U=F.caches[G];F.styles[G].d+=O.hd===!0?"":U,F.styles[G]._mdf=q||F.styles[G]._mdf}}function l(O,F,R){var B=F.style;(F.c._mdf||R)&&B.pElem.setAttribute("fill","rgb("+bmFloor(F.c.v[0])+","+bmFloor(F.c.v[1])+","+bmFloor(F.c.v[2])+")"),(F.o._mdf||R)&&B.pElem.setAttribute("fill-opacity",F.o.v)}function h(O,F,R){y(O,F,R),D(0,F,R)}function y(O,F,R){var B,j,U,q,W,G=F.gf,Y=F.g._hasOpacity,K=F.s.v,X=F.e.v;if(F.o._mdf||R){var J=O.ty==="gf"?"fill-opacity":"stroke-opacity";F.style.pElem.setAttribute(J,F.o.v)}if(F.s._mdf||R){var Q=O.t===1?"x1":"cx",Z=Q==="x1"?"y1":"cy";G.setAttribute(Q,K[0]),G.setAttribute(Z,K[1]),Y&&!F.g._collapsable&&(F.of.setAttribute(Q,K[0]),F.of.setAttribute(Z,K[1]))}if(F.g._cmdf||R){B=F.cst;var ee=F.g.c;for(U=B.length,j=0;j<U;j+=1)(q=B[j]).setAttribute("offset",ee[4*j]+"%"),q.setAttribute("stop-color","rgb("+ee[4*j+1]+","+ee[4*j+2]+","+ee[4*j+3]+")")}if(Y&&(F.g._omdf||R)){var ne=F.g.o;for(U=(B=F.g._collapsable?F.cst:F.ost).length,j=0;j<U;j+=1)q=B[j],F.g._collapsable||q.setAttribute("offset",ne[2*j]+"%"),q.setAttribute("stop-opacity",ne[2*j+1])}if(O.t===1)(F.e._mdf||R)&&(G.setAttribute("x2",X[0]),G.setAttribute("y2",X[1]),Y&&!F.g._collapsable&&(F.of.setAttribute("x2",X[0]),F.of.setAttribute("y2",X[1])));else if((F.s._mdf||F.e._mdf||R)&&(W=Math.sqrt(Math.pow(K[0]-X[0],2)+Math.pow(K[1]-X[1],2)),G.setAttribute("r",W),Y&&!F.g._collapsable&&F.of.setAttribute("r",W)),F.e._mdf||F.h._mdf||F.a._mdf||R){W||(W=Math.sqrt(Math.pow(K[0]-X[0],2)+Math.pow(K[1]-X[1],2)));var ie=Math.atan2(X[1]-K[1],X[0]-K[0]),re=F.h.v;re>=1?re=.99:re<=-1&&(re=-.99);var te=W*re,se=Math.cos(ie+F.a.v)*te+K[0],ce=Math.sin(ie+F.a.v)*te+K[1];G.setAttribute("fx",se),G.setAttribute("fy",ce),Y&&!F.g._collapsable&&(F.of.setAttribute("fx",se),F.of.setAttribute("fy",ce))}}function D(O,F,R){var B=F.style,j=F.d;j&&(j._mdf||R)&&j.dashStr&&(B.pElem.setAttribute("stroke-dasharray",j.dashStr),B.pElem.setAttribute("stroke-dashoffset",j.dashoffset[0])),F.c&&(F.c._mdf||R)&&B.pElem.setAttribute("stroke","rgb("+bmFloor(F.c.v[0])+","+bmFloor(F.c.v[1])+","+bmFloor(F.c.v[2])+")"),(F.o._mdf||R)&&B.pElem.setAttribute("stroke-opacity",F.o.v),(F.w._mdf||R)&&(B.pElem.setAttribute("stroke-width",F.w.v),B.msElem&&B.msElem.setAttribute("stroke-width",F.w.v))}return{createRenderFunction:function(O){switch(O.ty){case"fl":return l;case"gf":return y;case"gs":return h;case"st":return D;case"sh":case"el":case"rc":case"sr":return o;case"tr":return r;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,r,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var l,h=4;e.ty==="rc"?h=5:e.ty==="el"?h=6:e.ty==="sr"&&(h=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,h,t);var y,D=r.length;for(l=0;l<D;l+=1)r[l].closed||(y={transforms:o.addTransformSequence(r[l].transforms),trNodes:[]},this.styledShapes.push(y),r[l].elements.push(y))}function BaseElement(){}function NullElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initFrame(),this.initTransform(t,e,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,r){this.initElement(t,e,r)}function AudioElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,r),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function FootageElement(t,e,r){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,r)}function SVGCompElement(t,e,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(t,e,r){this.textSpans=[],this.renderType="svg",this.initElement(t,e,r)}function SVGShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,r),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r),(r=createNS("feColorMatrix")).setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),t.appendChild(r),this.matrixFilter=r,e.effectElements[2].p.v!==100||e.effectElements[2].p.k){var o,l=createNS("feMerge");t.appendChild(l),(o=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),l.appendChild(o),(o=createNS("feMergeNode")).setAttribute("in","f2"),l.appendChild(o)}}function SVGFillFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(r),this.matrixFilter=r}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;var r=createNS("feGaussianBlur");t.appendChild(r),this.feGaussianBlur=r}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),t.appendChild(r);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(o),this.matrixFilter=o;var l=createNS("feFuncR");l.setAttribute("type","table"),o.appendChild(l),this.feFuncR=l;var h=createNS("feFuncG");h.setAttribute("type","table"),o.appendChild(h),this.feFuncG=h;var y=createNS("feFuncB");y.setAttribute("type","table"),o.appendChild(y),this.feFuncB=y}function SVGProLevelsFilter(t,e){this.filterManager=e;var r=this.filterManager.effectElements,o=createNS("feComponentTransfer");(r[10].p.k||r[10].p.v!==0||r[11].p.k||r[11].p.v!==1||r[12].p.k||r[12].p.v!==1||r[13].p.k||r[13].p.v!==0||r[14].p.k||r[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(r[17].p.k||r[17].p.v!==0||r[18].p.k||r[18].p.v!==1||r[19].p.k||r[19].p.v!==1||r[20].p.k||r[20].p.v!==0||r[21].p.k||r[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(r[24].p.k||r[24].p.v!==0||r[25].p.k||r[25].p.v!==1||r[26].p.k||r[26].p.v!==1||r[27].p.k||r[27].p.v!==0||r[28].p.k||r[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(r[31].p.k||r[31].p.v!==0||r[32].p.k||r[32].p.v!==1||r[33].p.k||r[33].p.v!==1||r[34].p.k||r[34].p.v!==0||r[35].p.k||r[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(o),o=createNS("feComponentTransfer")),(r[3].p.k||r[3].p.v!==0||r[4].p.k||r[4].p.v!==1||r[5].p.k||r[5].p.v!==1||r[6].p.k||r[6].p.v!==0||r[7].p.k||r[7].p.v!==1)&&(o.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}function SVGDropShadowEffect(t,e){var r=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",r.x),t.setAttribute("y",r.y),t.setAttribute("width",r.width),t.setAttribute("height",r.height),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result","drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,t.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in","drop_shadow_1"),l.setAttribute("result","drop_shadow_2"),this.feOffset=l,t.appendChild(l);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result","drop_shadow_3"),this.feFlood=h,t.appendChild(h);var y=createNS("feComposite");y.setAttribute("in","drop_shadow_3"),y.setAttribute("in2","drop_shadow_2"),y.setAttribute("operator","in"),y.setAttribute("result","drop_shadow_4"),t.appendChild(y);var D,O=createNS("feMerge");t.appendChild(O),D=createNS("feMergeNode"),O.appendChild(D),(D=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=D,this.feMerge=O,this.originalNodeAdded=!1,O.appendChild(D)}ShapeTransformManager.prototype={addTransformSequence:function(t){var e,r=t.length,o="_";for(e=0;e<r;e+=1)o+=t[e].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(t,e){for(var r,o=0,l=t.transforms.length,h=e;o<l&&!e;){if(t.transforms[o].transform.mProps._mdf){h=!0;break}o+=1}if(h)for(t.finalTransform.reset(),o=l-1;o>=0;o-=1)r=t.transforms[o].transform.mProps.v.props,t.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);t._mdf=h},processSequences:function(t){var e,r=this.sequenceList.length;for(e=0;e<r;e+=1)this.processSequence(this.sequenceList[e],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,r){this.globalData=e,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,r,o=null;if(this.data.td){if(this.data.td==3||this.data.td==1){var l=createNS("mask");l.setAttribute("id",this.layerId),l.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),l.appendChild(this.layerElement),o=l,this.globalData.defs.appendChild(l),featureSupport.maskType||this.data.td!=1||(l.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),o=r,l.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+t+")"))}else if(this.data.td==2){var h=createNS("mask");h.setAttribute("id",this.layerId),h.setAttribute("mask-type","alpha");var y=createNS("g");h.appendChild(y),t=createElementID(),e=filtersFactory.createFilter(t);var D=createNS("feComponentTransfer");D.setAttribute("in","SourceGraphic"),e.appendChild(D);var O=createNS("feFuncA");O.setAttribute("type","table"),O.setAttribute("tableValues","1.0 0.0"),D.appendChild(O),this.globalData.defs.appendChild(e);var F=createNS("rect");F.setAttribute("width",this.comp.data.w),F.setAttribute("height",this.comp.data.h),F.setAttribute("x","0"),F.setAttribute("y","0"),F.setAttribute("fill","#ffffff"),F.setAttribute("opacity","0"),y.setAttribute("filter","url("+locationHref+"#"+t+")"),y.appendChild(F),y.appendChild(this.layerElement),o=y,featureSupport.maskType||(h.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),y.appendChild(F),r.appendChild(this.layerElement),o=r,y.appendChild(r)),this.globalData.defs.appendChild(h)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),o=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var R=createNS("clipPath"),B=createNS("path");B.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var j=createElementID();if(R.setAttribute("id",j),R.appendChild(B),this.globalData.defs.appendChild(R),this.checkMasks()){var U=createNS("g");U.setAttribute("clip-path","url("+locationHref+"#"+j+")"),U.appendChild(this.layerElement),this.transformedElement=U,o?o.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+j+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){var e,r=this.shapeModifiers.length;for(e=0;e<r;e+=1)this.shapeModifiers[e].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,e=this.shapes.length;for(t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var e=this.processedElements,r=0,o=e.length;r<o;){if(e[r].elem===t)return e[r].pos;r+=1}return 0},addProcessedElement:function(t,e){for(var r=this.processedElements,o=r.length;o;)if(r[o-=1].elem===t)return void(r[o].pos=e);r.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){var r,o,l=e.length,h="";for(r=0;r<l;r+=1)o=e[r].ks.k,h+=buildShapeString(o,o.i.length,!0,t);return h},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,r,o,l){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}e.translate(o,l,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initTransform(t,e,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var r,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=o-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,e=this.layers.length;for(t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var e=this.tm.v;this._currentTime=e}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,r=t.length,o=[],l="";e<r;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(o.push(l),l=""):l+=t[e],e+=1;return o.push(l),o},SVGTextLottieElement.prototype.buildNewText=function(){var t,e,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var o=this.globalData.fontManager.getFontByName(r.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var l=r.fWeight,h=r.fStyle;this.layerElement.setAttribute("font-style",h),this.layerElement.setAttribute("font-weight",l)}this.layerElement.setAttribute("aria-label",r.t);var y,D=r.l||[],O=!!this.globalData.fontManager.chars;e=D.length;var F,R=this.mHelper,B="",j=this.data.singleShape,U=0,q=0,W=!0,G=.001*r.tr*r.finalSize;if(!j||O||r.sz){var Y,K,X=this.textSpans.length;for(t=0;t<e;t+=1)O&&j&&t!==0||(y=X>t?this.textSpans[t]:createNS(O?"path":"text"),X<=t&&(y.setAttribute("stroke-linecap","butt"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit","4"),this.textSpans[t]=y,this.layerElement.appendChild(y)),y.style.display="inherit"),R.reset(),R.scale(r.finalSize/100,r.finalSize/100),j&&(D[t].n&&(U=-G,q+=r.yOffset,q+=W?1:0,W=!1),this.applyTextPropertiesToMatrix(r,R,D[t].line,U,q),U+=D[t].l||0,U+=G),O?(F=(Y=(K=this.globalData.fontManager.getCharData(r.finalText[t],o.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&K.data||{}).shapes?Y.shapes[0].it:[],j?B+=this.createPathShape(R,F):y.setAttribute("d",this.createPathShape(R,F))):(j&&y.setAttribute("transform","translate("+R.props[12]+","+R.props[13]+")"),y.textContent=D[t].val,y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));j&&y&&y.setAttribute("d",B)}else{var J=this.textContainer,Q="start";switch(r.j){case 1:Q="end";break;case 2:Q="middle";break;default:Q="start"}J.setAttribute("text-anchor",Q),J.setAttribute("letter-spacing",G);var Z=this.buildTextContents(r.finalText);for(e=Z.length,q=r.ps?r.ps[1]+r.ascent:0,t=0;t<e;t+=1)(y=this.textSpans[t]||createNS("tspan")).textContent=Z[t],y.setAttribute("x",0),y.setAttribute("y",q),y.style.display="inherit",J.appendChild(y),this.textSpans[t]=y,q+=r.finalLineHeight;this.layerElement.appendChild(J)}for(;t<this.textSpans.length;)this.textSpans[t].style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var t,e;this._sizeChanged=!0;var r,o,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(e=h.length,t=0;t<e;t+=1)h[t].n||(r=l[t],o=this.textSpans[t],r._mdf.m&&o.setAttribute("transform",r.m),r._mdf.o&&o.setAttribute("opacity",r.o),r._mdf.sw&&o.setAttribute("stroke-width",r.sw),r._mdf.sc&&o.setAttribute("stroke",r.sc),r._mdf.fc&&o.setAttribute("fill",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,e,r,o,l=this.shapes.length,h=this.stylesList.length,y=[],D=!1;for(r=0;r<h;r+=1){for(o=this.stylesList[r],D=!1,y.length=0,t=0;t<l;t+=1)(e=this.shapes[t]).styles.indexOf(o)!==-1&&(y.push(e),D=e._isAnimated||D);y.length>1&&D&&this.setShapesAsAnimated(y)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var r,o=new SVGStyleData(t,e),l=o.pElem;return t.ty==="st"?r=new SVGStrokeStyleData(this,t,o):t.ty==="fl"?r=new SVGFillStyleData(this,t,o):t.ty!=="gf"&&t.ty!=="gs"||(r=new(t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,o),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),l.setAttribute("mask","url("+locationHref+"#"+r.maskId+")"))),t.ty!=="st"&&t.ty!=="gs"||(l.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),l.setAttribute("fill-opacity","0"),t.lj===1&&l.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&l.setAttribute("fill-rule","evenodd"),t.ln&&l.setAttribute("id",t.ln),t.cl&&l.setAttribute("class",t.cl),t.bm&&(l.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(o),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var r=TransformPropertyFactory.getTransformProperty(this,t,this),o=new SVGTransformData(r,r.o,e);return this.addToAnimatedContents(t,o),o},SVGShapeElement.prototype.createShapeElement=function(t,e,r){var o=4;t.ty==="rc"?o=5:t.ty==="el"?o=6:t.ty==="sr"&&(o=7);var l=new SVGShapeData(e,r,ShapePropertyFactory.getShapeProp(this,t,o,this));return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(t,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var r=0,o=this.animatedContents.length;r<o;){if(this.animatedContents[r].element===e)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var e,r=t.styles,o=this.stylesList.length;for(e=0;e<o;e+=1)this.stylesList[e].closed||r.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,r,o,l,h,y){var D,O,F,R,B,j,U=[].concat(h),q=t.length-1,W=[],G=[];for(D=q;D>=0;D-=1){if((j=this.searchProcessedElement(t[D]))?e[D]=r[j-1]:t[D]._render=y,t[D].ty==="fl"||t[D].ty==="st"||t[D].ty==="gf"||t[D].ty==="gs")j?e[D].style.closed=!1:e[D]=this.createStyleElement(t[D],l),t[D]._render&&e[D].style.pElem.parentNode!==o&&o.appendChild(e[D].style.pElem),W.push(e[D].style);else if(t[D].ty==="gr"){if(j)for(F=e[D].it.length,O=0;O<F;O+=1)e[D].prevViewData[O]=e[D].it[O];else e[D]=this.createGroupElement(t[D]);this.searchShapes(t[D].it,e[D].it,e[D].prevViewData,e[D].gr,l+1,U,y),t[D]._render&&e[D].gr.parentNode!==o&&o.appendChild(e[D].gr)}else t[D].ty==="tr"?(j||(e[D]=this.createTransformElement(t[D],o)),R=e[D].transform,U.push(R)):t[D].ty==="sh"||t[D].ty==="rc"||t[D].ty==="el"||t[D].ty==="sr"?(j||(e[D]=this.createShapeElement(t[D],U,l)),this.setElementStyles(e[D])):t[D].ty==="tm"||t[D].ty==="rd"||t[D].ty==="ms"||t[D].ty==="pb"?(j?(B=e[D]).closed=!1:((B=ShapeModifiers.getModifier(t[D].ty)).init(this,t[D]),e[D]=B,this.shapeModifiers.push(B)),G.push(B)):t[D].ty==="rp"&&(j?(B=e[D]).closed=!0:(B=ShapeModifiers.getModifier(t[D].ty),e[D]=B,B.init(this,t,D,e),this.shapeModifiers.push(B),y=!1),G.push(B));this.addProcessedElement(t[D],D+1)}for(q=W.length,D=0;D<q;D+=1)W[D].closed=!0;for(q=G.length,D=0;D<q;D+=1)G[D].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var t;this.renderModifiers();var e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,e,r=this.animatedContents.length;for(t=0;t<r;t+=1)e=this.animatedContents[t],(this._isFirstFrame||e.element._isAnimated)&&e.data!==!0&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-e[0]+" 0 0 0 "+e[0]+" "+(r[1]-e[1])+" 0 0 0 "+e[1]+" "+(r[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+o+" 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+r+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,o=r==3?0:e,l=r==2?0:e;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var h=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",h)}},SVGStrokeEffect.prototype.initialize=function(){var t,e,r,o,l=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,r=0):o=1+(r=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);r<o;r+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:r});if(this.filterManager.effectElements[10].p.v===3){var h=createNS("mask"),y=createElementID();h.setAttribute("id",y),h.setAttribute("mask-type","alpha"),h.appendChild(e),this.elem.globalData.defs.appendChild(h);var D=createNS("g");for(D.setAttribute("mask","url("+locationHref+"#"+y+")");l[0];)D.appendChild(l[0]);this.elem.layerElement.appendChild(D),this.masker=h,e.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(l=this.elem.layerElement.children||this.elem.layerElement.childNodes;l.length;)this.elem.layerElement.removeChild(l[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){var e;this.initialized||this.initialize();var r,o,l=this.paths.length;for(e=0;e<l;e+=1)if(this.paths[e].m!==-1&&(r=this.elem.maskManager.viewData[this.paths[e].m],o=this.paths[e].p,(t||this.filterManager._mdf||r.prop._mdf)&&o.setAttribute("d",r.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var h;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var y=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),D=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),O=o.getTotalLength();h="0 0 0 "+O*y+" ";var F,R=O*(D-y),B=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,j=Math.floor(R/B);for(F=0;F<j;F+=1)h+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";h+="0 "+10*O+" 0 0"}else h="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",h)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var U=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*U[0])+","+bmFloor(255*U[1])+","+bmFloor(255*U[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,l=o[0]+" "+r[0]+" "+e[0],h=o[1]+" "+r[1]+" "+e[1],y=o[2]+" "+r[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",l),this.feFuncG.setAttribute("tableValues",h),this.feFuncB.setAttribute("tableValues",y)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){var r=createNS(t);return r.setAttribute("type","table"),e.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,e,r,o,l){for(var h,y,D=0,O=Math.min(t,e),F=Math.max(t,e),R=Array.call(null,{length:256}),B=0,j=l-o,U=e-t;D<=256;)y=(h=D/256)<=O?U<0?l:o:h>=F?U<0?o:l:o+j*Math.pow((h-t)/U,1/r),R[B]=y,B+=1,D+=256/255;return R.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var e,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(e=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(e=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(e=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(e=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(e=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,l=r*Math.cos(o),h=r*Math.sin(o);this.feOffset.setAttribute("dx",l),this.feOffset.setAttribute("dy",h)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,r){this.initialized=!1,this.filterManager=e,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(t){var e,r,o=t.data.ef?t.data.ef.length:0,l=createElementID(),h=filtersFactory.createFilter(l,!0),y=0;for(this.filters=[],e=0;e<o;e+=1)r=null,t.data.ef[e].ty===20?(y+=1,r=new SVGTintFilter(h,t.effectsManager.effectElements[e])):t.data.ef[e].ty===21?(y+=1,r=new SVGFillFilter(h,t.effectsManager.effectElements[e])):t.data.ef[e].ty===22?r=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):t.data.ef[e].ty===23?(y+=1,r=new SVGTritoneFilter(h,t.effectsManager.effectElements[e])):t.data.ef[e].ty===24?(y+=1,r=new SVGProLevelsFilter(h,t.effectsManager.effectElements[e])):t.data.ef[e].ty===25?(y+=1,r=new SVGDropShadowEffect(h,t.effectsManager.effectElements[e])):t.data.ef[e].ty===28?r=new SVGMatte3Effect(h,t.effectsManager.effectElements[e],t):t.data.ef[e].ty===29&&(y+=1,r=new SVGGaussianBlurEffect(h,t.effectsManager.effectElements[e])),r&&this.filters.push(r);y&&(t.globalData.defs.appendChild(h),t.layerElement.setAttribute("filter","url("+locationHref+"#"+l+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,r)}function CVCompElement(t,e,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){var r;this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var o=this.masksProperties.length,l=!1;for(r=0;r<o;r+=1)this.masksProperties[r].mode!=="n"&&(l=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=l,l&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,r)}function CVSolidElement(t,e,r){this.initElement(t,e,r)}function CVTextElement(t,e,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,r)}function CVEffects(){}function HBaseElement(){}function HSolidElement(t,e,r){this.initElement(t,e,r)}function HCompElement(t,e,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,r)}function HImageElement(t,e,r){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,r)}function HCameraElement(t,e,r){this.initFrame(),this.initBaseData(t,e,r),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,t.pe,0,0,this),t.ks.p.s?(this.px=o(this,t.ks.p.x,1,0,this),this.py=o(this,t.ks.p.y,1,0,this),this.pz=o(this,t.ks.p.z,1,0,this)):this.p=o(this,t.ks.p,1,0,this),t.ks.a&&(this.a=o(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var l,h=t.ks.or.k.length;for(l=0;l<h;l+=1)t.ks.or.k[l].to=null,t.ks.or.k[l].ti=null}this.or=o(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,t.ks.rx,0,degToRads,this),this.ry=o(this,t.ks.ry,0,degToRads,this),this.rz=o(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,r=_svgMatteSymbols.length;e<r;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var r=t.layerElement.parentNode;if(r){for(var o,l=r.children,h=0,y=l.length;h<y&&l[h]!==t.layerElement;)h+=1;h<=y-2&&(o=l[h+1]);var D=createNS("use");D.setAttribute("href","#"+e),o?r.insertBefore(D,o):r.appendChild(D)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){if(!this.findSymbol(e)){var r=createElementID(),o=createNS("mask");o.setAttribute("id",e.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var l=t.globalData.defs;l.appendChild(o);var h=createNS("symbol");h.setAttribute("id",r),this.replaceInParent(e,r),h.appendChild(e.layerElement),l.appendChild(h);var y=createNS("use");y.setAttribute("href","#"+r),o.appendChild(y),e.data.hd=!1,e.show()}t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,r=0,o=e.length;r<o;)e[r]&&e[r].data.ind===t&&this.setElementAsMask(this.elem,e[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){var e,r=this.filters.length;for(e=0;e<r;e+=1)this.filters[e].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);var r=0;for(r=this._length;r<t;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var t=this.data.ty===0;this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var e,r,o=t.getContext("2d"),l=this.img.width,h=this.img.height,y=l/h,D=this.assetData.w/this.assetData.h,O=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;y>D&&O==="xMidYMid slice"||y<D&&O!=="xMidYMid slice"?e=(r=h)*D:r=(e=l)/D,o.drawImage(this.img,(l-e)/2,(h-r)/2,e,r,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,r,o,l=this.element.finalTransform.mat,h=this.element.canvasContext,y=this.masksProperties.length;for(h.beginPath(),t=0;t<y;t+=1)if(this.masksProperties[t].mode!=="n"){var D;this.masksProperties[t].inv&&(h.moveTo(0,0),h.lineTo(this.element.globalData.compSize.w,0),h.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),h.lineTo(0,this.element.globalData.compSize.h),h.lineTo(0,0)),o=this.viewData[t].v,e=l.applyToPointArray(o.v[0][0],o.v[0][1],0),h.moveTo(e[0],e[1]);var O=o._length;for(D=1;D<O;D+=1)r=l.applyToTriplePoints(o.o[D-1],o.i[D],o.v[D]),h.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=l.applyToTriplePoints(o.o[D-1],o.i[0],o.v[0]),h.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),h.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:t.hd===!0},o={};if(t.ty==="fl"||t.ty==="st"?(o.c=PropertyFactory.getProp(this,t.c,1,255,this),o.c.k||(r.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):t.ty!=="gf"&&t.ty!=="gs"||(o.s=PropertyFactory.getProp(this,t.s,1,null,this),o.e=PropertyFactory.getProp(this,t.e,1,null,this),o.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,t.g,this)),o.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],t.lj==1&&(r.ml=t.ml),o.w=PropertyFactory.getProp(this,t.w,0,null,this),o.w.k||(r.wi=o.w.v),t.d){var l=new DashProperty(this,t.d,"canvas",this);o.d=l,o.d.k||(r.da=o.d.dashArray,r.do=o.d.dashoffset[0])}}else r.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(r),o.style=r,o},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var e=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var t;this._isFirstFrame=!0;var e=this.itemsData.length;for(t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var e,r=t.length;for(e=0;e<r;e+=1)t[e].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,r,o,l){var h,y,D,O,F,R,B=t.length-1,j=[],U=[],q=[].concat(l);for(h=B;h>=0;h-=1){if((O=this.searchProcessedElement(t[h]))?e[h]=r[O-1]:t[h]._shouldRender=o,t[h].ty==="fl"||t[h].ty==="st"||t[h].ty==="gf"||t[h].ty==="gs")O?e[h].style.closed=!1:e[h]=this.createStyleElement(t[h],q),j.push(e[h].style);else if(t[h].ty==="gr"){if(O)for(D=e[h].it.length,y=0;y<D;y+=1)e[h].prevViewData[y]=e[h].it[y];else e[h]=this.createGroupElement(t[h]);this.searchShapes(t[h].it,e[h].it,e[h].prevViewData,o,q)}else t[h].ty==="tr"?(O||(R=this.createTransformElement(t[h]),e[h]=R),q.push(e[h]),this.addTransformToStyleList(e[h])):t[h].ty==="sh"||t[h].ty==="rc"||t[h].ty==="el"||t[h].ty==="sr"?O||(e[h]=this.createShapeElement(t[h])):t[h].ty==="tm"||t[h].ty==="rd"||t[h].ty==="pb"?(O?(F=e[h]).closed=!1:((F=ShapeModifiers.getModifier(t[h].ty)).init(this,t[h]),e[h]=F,this.shapeModifiers.push(F)),U.push(F)):t[h].ty==="rp"&&(O?(F=e[h]).closed=!0:(F=ShapeModifiers.getModifier(t[h].ty),e[h]=F,F.init(this,t,h,e),this.shapeModifiers.push(F),o=!1),U.push(F));this.addProcessedElement(t[h],h+1)}for(this.removeTransformFromStyleList(),this.closeStyles(j),B=U.length,h=0;h<B;h+=1)U[h].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,e,r,o,l,h,y,D,O,F=this.stylesList.length,R=this.globalData.renderer,B=this.globalData.canvasContext;for(t=0;t<F;t+=1)if(((D=(O=this.stylesList[t]).type)!=="st"&&D!=="gs"||O.wi!==0)&&O.data._shouldRender&&O.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(R.save(),h=O.elements,D==="st"||D==="gs"?(B.strokeStyle=D==="st"?O.co:O.grd,B.lineWidth=O.wi,B.lineCap=O.lc,B.lineJoin=O.lj,B.miterLimit=O.ml||0):B.fillStyle=D==="fl"?O.co:O.grd,R.ctxOpacity(O.coOp),D!=="st"&&D!=="gs"&&B.beginPath(),R.ctxTransform(O.preTransforms.finalTransform.props),r=h.length,e=0;e<r;e+=1){for(D!=="st"&&D!=="gs"||(B.beginPath(),O.da&&(B.setLineDash(O.da),B.lineDashOffset=O.do)),l=(y=h[e].trNodes).length,o=0;o<l;o+=1)y[o].t==="m"?B.moveTo(y[o].p[0],y[o].p[1]):y[o].t==="c"?B.bezierCurveTo(y[o].pts[0],y[o].pts[1],y[o].pts[2],y[o].pts[3],y[o].pts[4],y[o].pts[5]):B.closePath();D!=="st"&&D!=="gs"||(B.stroke(),O.da&&B.setLineDash(this.dashResetter))}D!=="st"&&D!=="gs"&&B.fill(O.r),R.restore()}},CVShapeElement.prototype.renderShape=function(t,e,r,o){var l,h;for(h=t,l=e.length-1;l>=0;l-=1)e[l].ty==="tr"?(h=r[l].transform,this.renderShapeTransform(t,h)):e[l].ty==="sh"||e[l].ty==="el"||e[l].ty==="rc"||e[l].ty==="sr"?this.renderPath(e[l],r[l]):e[l].ty==="fl"?this.renderFill(e[l],r[l],h):e[l].ty==="st"?this.renderStroke(e[l],r[l],h):e[l].ty==="gf"||e[l].ty==="gs"?this.renderGradientFill(e[l],r[l],h):e[l].ty==="gr"?this.renderShape(h,e[l].it,r[l].it):e[l].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var r,o,l,h=t.trNodes,y=e.paths,D=y._length;h.length=0;var O=t.transforms.finalTransform;for(l=0;l<D;l+=1){var F=y.shapes[l];if(F&&F.v){for(o=F._length,r=1;r<o;r+=1)r===1&&h.push({t:"m",p:O.applyToPointArray(F.v[0][0],F.v[0][1],0)}),h.push({t:"c",pts:O.applyToTriplePoints(F.o[r-1],F.i[r],F.v[r])});o===1&&h.push({t:"m",p:O.applyToPointArray(F.v[0][0],F.v[0][1],0)}),F.c&&o&&(h.push({t:"c",pts:O.applyToTriplePoints(F.o[r-1],F.i[0],F.v[0])}),h.push({t:"z"}))}}t.trNodes=h}},CVShapeElement.prototype.renderPath=function(t,e){if(t.hd!==!0&&t._shouldRender){var r,o=e.styledShapes.length;for(r=0;r<o;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)}},CVShapeElement.prototype.renderFill=function(t,e,r){var o=e.style;(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,r){var o,l=e.style;if(!l.grd||e.g._mdf||e.s._mdf||e.e._mdf||t.t!==1&&(e.h._mdf||e.a._mdf)){var h,y=this.globalData.canvasContext,D=e.s.v,O=e.e.v;if(t.t===1)o=y.createLinearGradient(D[0],D[1],O[0],O[1]);else{var F=Math.sqrt(Math.pow(D[0]-O[0],2)+Math.pow(D[1]-O[1],2)),R=Math.atan2(O[1]-D[1],O[0]-D[0]),B=e.h.v;B>=1?B=.99:B<=-1&&(B=-.99);var j=F*B,U=Math.cos(R+e.a.v)*j+D[0],q=Math.sin(R+e.a.v)*j+D[1];o=y.createRadialGradient(U,q,0,D[0],D[1],F)}var W=t.g.p,G=e.g.c,Y=1;for(h=0;h<W;h+=1)e.g._hasOpacity&&e.g._collapsable&&(Y=e.g.o[2*h+1]),o.addColorStop(G[4*h]/100,"rgba("+G[4*h+1]+","+G[4*h+2]+","+G[4*h+3]+","+Y+")");l.grd=o}l.coOp=e.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,e,r){var o=e.style,l=e.d;l&&(l._mdf||this._isFirstFrame)&&(o.da=l.dashArray,o.do=l.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||r._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*r.opacity),(e.w._mdf||this._isFirstFrame)&&(o.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var r=!1;t.sc&&(r=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var o,l,h,y,D,O,F,R,B,j,U,q,W=this.globalData.fontManager.getFontByName(t.f),G=t.l,Y=this.mHelper;this.stroke=r,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,l=t.finalText.length;var K=this.data.singleShape,X=.001*t.tr*t.finalSize,J=0,Q=0,Z=!0,ee=0;for(o=0;o<l;o+=1){for(y=(h=this.globalData.fontManager.getCharData(t.finalText[o],W.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&h.data||{},Y.reset(),K&&G[o].n&&(J=-X,Q+=t.yOffset,Q+=Z?1:0,Z=!1),B=(F=y.shapes?y.shapes[0].it:[]).length,Y.scale(t.finalSize/100,t.finalSize/100),K&&this.applyTextPropertiesToMatrix(t,Y,G[o].line,J,Q),U=createSizedArray(B),R=0;R<B;R+=1){for(O=F[R].ks.k.i.length,j=F[R].ks.k,q=[],D=1;D<O;D+=1)D===1&&q.push(Y.applyToX(j.v[0][0],j.v[0][1],0),Y.applyToY(j.v[0][0],j.v[0][1],0)),q.push(Y.applyToX(j.o[D-1][0],j.o[D-1][1],0),Y.applyToY(j.o[D-1][0],j.o[D-1][1],0),Y.applyToX(j.i[D][0],j.i[D][1],0),Y.applyToY(j.i[D][0],j.i[D][1],0),Y.applyToX(j.v[D][0],j.v[D][1],0),Y.applyToY(j.v[D][0],j.v[D][1],0));q.push(Y.applyToX(j.o[D-1][0],j.o[D-1][1],0),Y.applyToY(j.o[D-1][0],j.o[D-1][1],0),Y.applyToX(j.i[0][0],j.i[0][1],0),Y.applyToY(j.i[0][0],j.i[0][1],0),Y.applyToX(j.v[0][0],j.v[0][1],0),Y.applyToY(j.v[0][0],j.v[0][1],0)),U[R]=q}K&&(J+=G[o].l,J+=X),this.textSpans[ee]?this.textSpans[ee].elem=U:this.textSpans[ee]={elem:U},ee+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,r,o,l,h,y=this.canvasContext;y.font=this.values.fValue,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var D,O=this.textAnimator.renderedLetters,F=this.textProperty.currentData.l;e=F.length;var R,B,j=null,U=null,q=null;for(t=0;t<e;t+=1)if(!F[t].n){if((D=O[t])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(D.p),this.globalData.renderer.ctxOpacity(D.o)),this.fill){for(D&&D.fc?j!==D.fc&&(j=D.fc,y.fillStyle=D.fc):j!==this.values.fill&&(j=this.values.fill,y.fillStyle=this.values.fill),o=(R=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<o;r+=1)for(h=(B=R[r]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(B[l],B[l+1],B[l+2],B[l+3],B[l+4],B[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(D&&D.sw?q!==D.sw&&(q=D.sw,y.lineWidth=D.sw):q!==this.values.sWidth&&(q=this.values.sWidth,y.lineWidth=this.values.sWidth),D&&D.sc?U!==D.sc&&(U=D.sc,y.strokeStyle=D.sc):U!==this.values.stroke&&(U=this.values.stroke,y.strokeStyle=this.values.stroke),o=(R=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<o;r+=1)for(h=(B=R[r]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(B[l],B[l+1],B[l+2],B[l+3],B[l+4],B[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}D&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();t.transform=e,t.webkitTransform=e}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var r,o=0;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(r=this.elements[o].getBaseElement()),o+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){var r,o=t.length;for(r=0;r<o;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var r,o,l,h,y,D=t.sh.v,O=t.transformers,F=D._length;if(!(F<=1)){for(r=0;r<F-1;r+=1)o=this.getTransformedPoint(O,D.v[r]),l=this.getTransformedPoint(O,D.o[r]),h=this.getTransformedPoint(O,D.i[r+1]),y=this.getTransformedPoint(O,D.v[r+1]),this.checkBounds(o,l,h,y,e);D.c&&(o=this.getTransformedPoint(O,D.v[r]),l=this.getTransformedPoint(O,D.o[r]),h=this.getTransformedPoint(O,D.i[0]),y=this.getTransformedPoint(O,D.v[0]),this.checkBounds(o,l,h,y,e))}},HShapeElement.prototype.checkBounds=function(t,e,r,o,l){this.getBoundsOfCurve(t,e,r,o);var h=this.shapeBoundingBox;l.x=bmMin(h.left,l.x),l.xMax=bmMax(h.right,l.xMax),l.y=bmMin(h.top,l.y),l.yMax=bmMax(h.bottom,l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,r,o){for(var l,h,y,D,O,F,R,B=[[t[0],o[0]],[t[1],o[1]]],j=0;j<2;++j)h=6*t[j]-12*e[j]+6*r[j],l=-3*t[j]+9*e[j]-9*r[j]+3*o[j],y=3*e[j]-3*t[j],h|=0,y|=0,(l|=0)==0&&h===0||(l===0?(D=-y/h)>0&&D<1&&B[j].push(this.calculateF(D,t,e,r,o,j)):(O=h*h-4*y*l)>=0&&((F=(-h+bmSqrt(O))/(2*l))>0&&F<1&&B[j].push(this.calculateF(F,t,e,r,o,j)),(R=(-h-bmSqrt(O))/(2*l))>0&&R<1&&B[j].push(this.calculateF(R,t,e,r,o,j))));this.shapeBoundingBox.left=bmMin.apply(null,B[0]),this.shapeBoundingBox.top=bmMin.apply(null,B[1]),this.shapeBoundingBox.right=bmMax.apply(null,B[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,B[1])},HShapeElement.prototype.calculateF=function(t,e,r,o,l,h){return bmPow(1-t,3)*e[h]+3*bmPow(1-t,2)*t*r[h]+3*(1-t)*bmPow(t,2)*o[h]+bmPow(t,3)*l[h]},HShapeElement.prototype.calculateBoundingBox=function(t,e){var r,o=t.length;for(r=0;r<o;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it&&this.calculateBoundingBox(t[r].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,e=999999;if(t.x=e,t.xMax=-e,t.y=e,t.yMax=-e,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=l,o.webkitTransform=l}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=r,e.color=r,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var o,l,h=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",h.fClass)this.innerElem.className=h.fClass;else{e.fontFamily=h.fFamily;var y=t.fWeight,D=t.fStyle;e.fontStyle=D,e.fontWeight=y}var O,F,R,B=t.l;l=B.length;var j,U=this.mHelper,q="",W=0;for(o=0;o<l;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[W]?O=this.textPaths[W]:((O=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),O.setAttribute("stroke-linejoin",lineJoinEnum[2]),O.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[W]?R=(F=this.textSpans[W]).children[0]:((F=createTag("div")).style.lineHeight=0,(R=createNS("svg")).appendChild(O),styleDiv(F)))):this.isMasked?O=this.textPaths[W]?this.textPaths[W]:createNS("text"):this.textSpans[W]?(F=this.textSpans[W],O=this.textPaths[W]):(styleDiv(F=createTag("span")),styleDiv(O=createTag("span")),F.appendChild(O)),this.globalData.fontManager.chars){var G,Y=this.globalData.fontManager.getCharData(t.finalText[o],h.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(G=Y?Y.data:null,U.reset(),G&&G.shapes&&(j=G.shapes[0].it,U.scale(t.finalSize/100,t.finalSize/100),q=this.createPathShape(U,j),O.setAttribute("d",q)),this.isMasked)this.innerElem.appendChild(O);else{if(this.innerElem.appendChild(F),G&&G.shapes){document.body.appendChild(R);var K=R.getBBox();R.setAttribute("width",K.width+2),R.setAttribute("height",K.height+2),R.setAttribute("viewBox",K.x-1+" "+(K.y-1)+" "+(K.width+2)+" "+(K.height+2));var X=R.style,J="translate("+(K.x-1)+"px,"+(K.y-1)+"px)";X.transform=J,X.webkitTransform=J,B[o].yOffset=K.y-1}else R.setAttribute("width",1),R.setAttribute("height",1);F.appendChild(R)}}else if(O.textContent=B[o].val,O.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(O);else{this.innerElem.appendChild(F);var Q=O.style,Z="translate3d(0,"+-t.finalSize/1.2+"px,0)";Q.transform=Z,Q.webkitTransform=Z}this.isMasked?this.textSpans[W]=O:this.textSpans[W]=F,this.textSpans[W].style.display="block",this.textPaths[W]=O,W+=1}for(;W<this.textSpans.length;)this.textSpans[W].style.display="none",W+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=e,t.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,o,l,h,y,D=0,O=this.textAnimator.renderedLetters,F=this.textProperty.currentData.l;for(o=F.length,r=0;r<o;r+=1)F[r].n?D+=1:(h=this.textSpans[r],y=this.textPaths[r],l=O[D],D+=1,l._mdf.m&&(this.isMasked?h.setAttribute("transform",l.m):(h.style.webkitTransform=l.m,h.style.transform=l.m)),h.style.opacity=l.o,l.sw&&l._mdf.sw&&y.setAttribute("stroke-width",l.sw),l.sc&&l._mdf.sc&&y.setAttribute("stroke",l.sc),l.fc&&l._mdf.fc&&(y.setAttribute("fill",l.fc),y.style.color=l.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var R=this.innerElem.getBBox();if(this.currentBBox.w!==R.width&&(this.currentBBox.w=R.width,this.svgElement.setAttribute("width",R.width)),this.currentBBox.h!==R.height&&(this.currentBBox.h=R.height,this.svgElement.setAttribute("height",R.height)),this.currentBBox.w!==R.width+2||this.currentBBox.h!==R.height+2||this.currentBBox.x!==R.x-1||this.currentBBox.y!==R.y-1){this.currentBBox.w=R.width+2,this.currentBBox.h=R.height+2,this.currentBBox.x=R.x-1,this.currentBBox.y=R.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var B="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=B,t.webkitTransform=B}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,e,r,o,l=this.comp.threeDElements.length;for(t=0;t<l;t+=1)if((e=this.comp.threeDElements[t]).type==="3d"){r=e.perspectiveElem.style,o=e.container.style;var h=this.pe.v+"px",y="0px 0px 0px",D="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=h,r.webkitPerspective=h,o.transformOrigin=y,o.mozTransformOrigin=y,o.webkitTransformOrigin=y,r.transform=D,r.webkitTransform=D}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,r=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,t=0;t<e;t+=1)r=this.hierarchy[t].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(t=e=this.hierarchy.length-1;t>=0;t-=1){var o=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var l;l=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var h=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)),y=[l[0]/h,l[1]/h,l[2]/h],D=Math.sqrt(y[2]*y[2]+y[0]*y[0]),O=Math.atan2(y[1],D),F=Math.atan2(y[0],-y[2]);this.mat.rotateY(F).rotateX(-O)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var R=!this._prevMat.equals(this.mat);if((R||this.pe._mdf)&&this.comp.threeDElements){var B,j,U;for(e=this.comp.threeDElements.length,t=0;t<e;t+=1)if((B=this.comp.threeDElements[t]).type==="3d"){if(R){var q=this.mat.toCSS();(U=B.container.style).transform=q,U.webkitTransform=q}this.pe._mdf&&((j=B.perspectiveElem.style).perspective=this.pe.v+"px",j.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};var animationManager=function(){var t={},e=[],r=0,o=0,l=0,h=!0,y=!1;function D(W){for(var G=0,Y=W.target;G<o;)e[G].animation===Y&&(e.splice(G,1),G-=1,o-=1,Y.isPaused||R()),G+=1}function O(W,G){if(!W)return null;for(var Y=0;Y<o;){if(e[Y].elem===W&&e[Y].elem!==null)return e[Y].animation;Y+=1}var K=new AnimationItem;return B(K,W),K.setData(W,G),K}function F(){l+=1,q()}function R(){l-=1}function B(W,G){W.addEventListener("destroy",D),W.addEventListener("_active",F),W.addEventListener("_idle",R),e.push({elem:G,animation:W}),o+=1}function j(W){var G,Y=W-r;for(G=0;G<o;G+=1)e[G].animation.advanceTime(Y);r=W,l&&!y?window.requestAnimationFrame(j):h=!0}function U(W){r=W,window.requestAnimationFrame(j)}function q(){!y&&l&&h&&(window.requestAnimationFrame(U),h=!1)}return t.registerAnimation=O,t.loadAnimation=function(W){var G=new AnimationItem;return B(G,null),G.setParams(W),G},t.setSpeed=function(W,G){var Y;for(Y=0;Y<o;Y+=1)e[Y].animation.setSpeed(W,G)},t.setDirection=function(W,G){var Y;for(Y=0;Y<o;Y+=1)e[Y].animation.setDirection(W,G)},t.play=function(W){var G;for(G=0;G<o;G+=1)e[G].animation.play(W)},t.pause=function(W){var G;for(G=0;G<o;G+=1)e[G].animation.pause(W)},t.stop=function(W){var G;for(G=0;G<o;G+=1)e[G].animation.stop(W)},t.togglePause=function(W){var G;for(G=0;G<o;G+=1)e[G].animation.togglePause(W)},t.searchAnimations=function(W,G,Y){var K,X=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),J=X.length;for(K=0;K<J;K+=1)Y&&X[K].setAttribute("data-bm-type",Y),O(X[K],W);if(G&&J===0){Y||(Y="svg");var Q=document.getElementsByTagName("body")[0];Q.innerText="";var Z=createTag("div");Z.style.width="100%",Z.style.height="100%",Z.setAttribute("data-bm-type",Y),Q.appendChild(Z),O(Z,W)}},t.resize=function(){var W;for(W=0;W<o;W+=1)e[W].animation.resize()},t.goToAndStop=function(W,G,Y){var K;for(K=0;K<o;K+=1)e[K].animation.goToAndStop(W,G,Y)},t.destroy=function(W){var G;for(G=o-1;G>=0;G-=1)e[G].animation.destroy(W)},t.freeze=function(){y=!0},t.unfreeze=function(){y=!1,q()},t.setVolume=function(W,G){var Y;for(Y=0;Y<o;Y+=1)e[Y].animation.setVolume(W,G)},t.mute=function(W){var G;for(G=0;G<o;G+=1)e[G].animation.mute(W)},t.unmute=function(W){var G;for(G=0;G<o;G+=1)e[G].animation.unmute(W)},t.getRegisteredAnimations=function(){var W,G=e.length,Y=[];for(W=0;W<G;W+=1)Y.push(e[W].animation);return Y},t}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";switch(t.animType?e=t.animType:t.renderer&&(e=t.renderer),e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){e&&typeof e!="object"&&(e=JSON.parse(e));var r={wrapper:t,animationData:e},o=t.attributes;r.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",r.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:"canvas";var l=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";l==="false"?r.loop=!1:l==="true"?r.loop=!0:l!==""&&(r.loop=parseInt(l,10));var h=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:!o.getNamedItem("bm-autoplay")||o.getNamedItem("bm-autoplay").value;r.autoplay=h!=="false",r.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"",(o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"")==="false"&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var e,r,o=this.animationData.layers,l=o.length,h=t.layers,y=h.length;for(r=0;r<y;r+=1)for(e=0;e<l;){if(o[e].id===h[r].id){o[e]=h[r];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(l=t.assets.length,e=0;e<l;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=t.shift();this.timeCompleted=e.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,r=0;r<this.markers.length;r+=1)if((e=this.markers[r]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,r){if(!r||this.name===r){var o=Number(t);if(isNaN(o)){var l=this.getMarkerData(t);l&&this.goToAndStop(l.time,!0)}else e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,e,r){if(!r||this.name===r){var o=Number(t);if(isNaN(o)){var l=this.getMarkerData(t);l&&(l.duration?this.playSegments([l.time,l.time+l.duration],!0):this.goToAndStop(l.time,!0))}else this.goToAndStop(o,e,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(this.isPaused!==!0&&this.isLoaded!==!1){var e=this.currentRawFrame+t*this.frameModifier,r=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(r=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(r=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),r&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>e&&(r=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),typeof t[0]=="object"){var r,o=t.length;for(r=0;r<o;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e="";if(t.e)e=t.p;else if(this.assetsPath){var r=t.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),e=this.assetsPath+r}else e=this.path,e+=t.u?t.u:"",e+=t.p;return e},AnimationItem.prototype.getAssetData=function(t){for(var e=0,r=this.assets.length;e<r;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":case"drawnFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var e=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(t){var e=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions=function(){var t={initExpressions:function(e){var r=0,o=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){r+=1},e.renderer.globalData.popExpression=function(){(r-=1)==0&&function(){var l,h=o.length;for(l=0;l<h;l+=1)o[l].release();o.length=0}()},e.renderer.globalData.registerExpressionProperty=function(l){o.indexOf(l)===-1&&o.push(l)}}};return t}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath;BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0,elem.data.ip/elem.comp.globalData.frameRate,elem.data.op/elem.comp.globalData.frameRate,elem.data.sw&&elem.data.sw,elem.data.sh&&elem.data.sh,elem.data.nm;var loopIn,loopOut,fromComp,thisLayer,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0];property.kf&&data.k.length,!this.data||this.data.hd,function(t,e){var r,o,l=this.pv.length?this.pv.length:1,h=createTypedArray("float32",l),y=Math.floor(5*time);for(r=0,o=0;r<y;){for(o=0;o<l;o+=1)h[o]+=-e+2*e*BMMath.random();r+=1}var D=5*time,O=D-Math.floor(D),F=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)F[o]=this.pv[o]+h[o]+(-e+2*e*BMMath.random())*O;return F}return this.pv+h[0]+(-e+2*e*BMMath.random())*O}.bind(this),thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty)),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty)),thisProperty.smooth&&thisProperty.smooth.bind(thisProperty),this.getValueAtTime&&this.getValueAtTime.bind(this),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this)),elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);var time,value;function seedRandom(t){BMMath.seedrandom(randSeed+t)}elem.data.ind,!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random());elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&this.selectorValue,thisLayer||(elem.layerInterface.text,thisLayer=elem.layerInterface,elem.comp.compInterface,thisLayer.toWorld.bind(thisLayer),thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),thisLayer.toComp.bind(thisLayer),thisLayer.mask&&thisLayer.mask.bind(thisLayer)),transform||(transform=elem.layerInterface("ADBE Transform Group"),transform&&transform.anchorPoint),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&velocityAtTime(time),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt.propType,scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,r){e.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,e,r).bind(r)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),r=this.getValueAtTime(t+-.01),o=0;if(e.length){var l;for(l=0;l<e.length;l+=1)o+=Math.pow(r[l]-e[l],2);o=100*Math.sqrt(o)}else o=0;return o},getVelocityAtTime:function(t){if(this.vel!==void 0)return this.vel;var e,r,o=-.001,l=this.getValueAtTime(t),h=this.getValueAtTime(t+o);if(l.length)for(e=createTypedArray("float32",l.length),r=0;r<l.length;r+=1)e[r]=(h[r]-l[r])/o;else e=(h-l)/o;return e},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};(function(){function t(B,j,U){if(!this.k||!this.keyframes)return this.pv;B=B?B.toLowerCase():"";var q,W,G,Y,K,X=this.comp.renderedFrame,J=this.keyframes,Q=J[J.length-1].t;if(X<=Q)return this.pv;if(U?W=Q-(q=j?Math.abs(Q-this.elem.comp.globalData.frameRate*j):Math.max(0,Q-this.elem.data.ip)):((!j||j>J.length-1)&&(j=J.length-1),q=Q-(W=J[J.length-1-j].t)),B==="pingpong"){if(Math.floor((X-W)/q)%2!=0)return this.getValueAtTime((q-(X-W)%q+W)/this.comp.globalData.frameRate,0)}else{if(B==="offset"){var Z=this.getValueAtTime(W/this.comp.globalData.frameRate,0),ee=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),ne=this.getValueAtTime(((X-W)%q+W)/this.comp.globalData.frameRate,0),ie=Math.floor((X-W)/q);if(this.pv.length){for(Y=(K=new Array(Z.length)).length,G=0;G<Y;G+=1)K[G]=(ee[G]-Z[G])*ie+ne[G];return K}return(ee-Z)*ie+ne}if(B==="continue"){var re=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),te=this.getValueAtTime((Q-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=(K=new Array(re.length)).length,G=0;G<Y;G+=1)K[G]=re[G]+(re[G]-te[G])*((X-Q)/this.comp.globalData.frameRate)/5e-4;return K}return re+(X-Q)/.001*(re-te)}}return this.getValueAtTime(((X-W)%q+W)/this.comp.globalData.frameRate,0)}function e(B,j,U){if(!this.k)return this.pv;B=B?B.toLowerCase():"";var q,W,G,Y,K,X=this.comp.renderedFrame,J=this.keyframes,Q=J[0].t;if(X>=Q)return this.pv;if(U?W=Q+(q=j?Math.abs(this.elem.comp.globalData.frameRate*j):Math.max(0,this.elem.data.op-Q)):((!j||j>J.length-1)&&(j=J.length-1),q=(W=J[j].t)-Q),B==="pingpong"){if(Math.floor((Q-X)/q)%2==0)return this.getValueAtTime(((Q-X)%q+Q)/this.comp.globalData.frameRate,0)}else{if(B==="offset"){var Z=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),ee=this.getValueAtTime(W/this.comp.globalData.frameRate,0),ne=this.getValueAtTime((q-(Q-X)%q+Q)/this.comp.globalData.frameRate,0),ie=Math.floor((Q-X)/q)+1;if(this.pv.length){for(Y=(K=new Array(Z.length)).length,G=0;G<Y;G+=1)K[G]=ne[G]-(ee[G]-Z[G])*ie;return K}return ne-(ee-Z)*ie}if(B==="continue"){var re=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),te=this.getValueAtTime((Q+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=(K=new Array(re.length)).length,G=0;G<Y;G+=1)K[G]=re[G]+(re[G]-te[G])*(Q-X)/.001;return K}return re+(re-te)*(Q-X)/.001}}return this.getValueAtTime((q-((Q-X)%q+Q))/this.comp.globalData.frameRate,0)}function r(B,j){if(!this.k)return this.pv;if(B=.5*(B||.4),(j=Math.floor(j||5))<=1)return this.pv;var U,q,W=this.comp.renderedFrame/this.comp.globalData.frameRate,G=W-B,Y=j>1?(W+B-G)/(j-1):1,K=0,X=0;for(U=this.pv.length?createTypedArray("float32",this.pv.length):0;K<j;){if(q=this.getValueAtTime(G+K*Y),this.pv.length)for(X=0;X<this.pv.length;X+=1)U[X]+=q[X];else U+=q;K+=1}if(this.pv.length)for(X=0;X<this.pv.length;X+=1)U[X]/=j;else U/=j;return U}function o(B){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var j=this._transformCachingAtTime.v;if(j.cloneFromProps(this.pre.props),this.appliedTransformations<1){var U=this.a.getValueAtTime(B);j.translate(-U[0]*this.a.mult,-U[1]*this.a.mult,U[2]*this.a.mult)}if(this.appliedTransformations<2){var q=this.s.getValueAtTime(B);j.scale(q[0]*this.s.mult,q[1]*this.s.mult,q[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var W=this.sk.getValueAtTime(B),G=this.sa.getValueAtTime(B);j.skewFromAxis(-W*this.sk.mult,G*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Y=this.r.getValueAtTime(B);j.rotate(-Y*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var K=this.rz.getValueAtTime(B),X=this.ry.getValueAtTime(B),J=this.rx.getValueAtTime(B),Q=this.or.getValueAtTime(B);j.rotateZ(-K*this.rz.mult).rotateY(X*this.ry.mult).rotateX(J*this.rx.mult).rotateZ(-Q[2]*this.or.mult).rotateY(Q[1]*this.or.mult).rotateX(Q[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Z=this.px.getValueAtTime(B),ee=this.py.getValueAtTime(B);if(this.data.p.z){var ne=this.pz.getValueAtTime(B);j.translate(Z*this.px.mult,ee*this.py.mult,-ne*this.pz.mult)}else j.translate(Z*this.px.mult,ee*this.py.mult,0)}else{var ie=this.p.getValueAtTime(B);j.translate(ie[0]*this.p.mult,ie[1]*this.p.mult,-ie[2]*this.p.mult)}return j}function l(){return this.v.clone(new Matrix)}var h=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(B,j,U){var q=h(B,j,U);return q.dynamicProperties.length?q.getValueAtTime=o.bind(q):q.getValueAtTime=l.bind(q),q.setGroupProperty=expressionHelpers.setGroupProperty,q};var y=PropertyFactory.getProp;PropertyFactory.getProp=function(B,j,U,q,W){var G=y(B,j,U,q,W);G.kf?G.getValueAtTime=expressionHelpers.getValueAtTime.bind(G):G.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(G),G.setGroupProperty=expressionHelpers.setGroupProperty,G.loopOut=t,G.loopIn=e,G.smooth=r,G.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(G),G.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(G),G.numKeys=j.a===1?j.k.length:0,G.propertyIndex=j.ix;var Y=0;return U!==0&&(Y=createTypedArray("float32",j.a===1?j.k[0].s.length:j.k.length)),G._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Y},expressionHelpers.searchExpressions(B,j,G),G.k&&W.addDynamicProperty(G),G};var D=ShapePropertyFactory.getConstructorFunction(),O=ShapePropertyFactory.getKeyframedConstructorFunction();function F(){}F.prototype={vertices:function(B,j){this.k&&this.getValue();var U,q=this.v;j!==void 0&&(q=this.getValueAtTime(j,0));var W=q._length,G=q[B],Y=q.v,K=createSizedArray(W);for(U=0;U<W;U+=1)K[U]=B==="i"||B==="o"?[G[U][0]-Y[U][0],G[U][1]-Y[U][1]]:[G[U][0],G[U][1]];return K},points:function(B){return this.vertices("v",B)},inTangents:function(B){return this.vertices("i",B)},outTangents:function(B){return this.vertices("o",B)},isClosed:function(){return this.v.c},pointOnPath:function(B,j){var U=this.v;j!==void 0&&(U=this.getValueAtTime(j,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(U));for(var q,W=this._segmentsLength,G=W.lengths,Y=W.totalLength*B,K=0,X=G.length,J=0;K<X;){if(J+G[K].addedLength>Y){var Q=K,Z=U.c&&K===X-1?0:K+1,ee=(Y-J)/G[K].addedLength;q=bez.getPointInSegment(U.v[Q],U.v[Z],U.o[Q],U.i[Z],ee,G[K]);break}J+=G[K].addedLength,K+=1}return q||(q=U.c?[U.v[0][0],U.v[0][1]]:[U.v[U._length-1][0],U.v[U._length-1][1]]),q},vectorOnPath:function(B,j,U){B==1?B=this.v.c:B==0&&(B=.999);var q=this.pointOnPath(B,j),W=this.pointOnPath(B+.001,j),G=W[0]-q[0],Y=W[1]-q[1],K=Math.sqrt(Math.pow(G,2)+Math.pow(Y,2));return K===0?[0,0]:U==="tangent"?[G/K,Y/K]:[-Y/K,G/K]},tangentOnPath:function(B,j){return this.vectorOnPath(B,j,"tangent")},normalOnPath:function(B,j){return this.vectorOnPath(B,j,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([F],D),extendPrototype([F],O),O.prototype.getValueAtTime=function(B){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),B*=this.elem.globalData.frameRate,(B-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<B?this._caching.lastIndex:0,this._cachingAtTime.lastTime=B,this.interpolateShape(B,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},O.prototype.initiateExpression=ExpressionManager.initiateExpression;var R=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(B,j,U,q,W){var G=R(B,j,U,q,W);return G.propertyIndex=j.ix,G.lock=!1,U===3?expressionHelpers.searchExpressions(B,j.pt,G):U===4&&expressionHelpers.searchExpressions(B,j.ks,G),G.k&&B.addDynamicProperty(G),G}})(),TextProperty.prototype.getExpressionValue=function(t,e){var r=this.calculateExpression(e);if(t.t!==r){var o={};return this.copyData(o,t),o.t=r.toString(),o.__complete=!1,o}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(t,e,r){var o=e.sh;function l(y){return y==="Shape"||y==="shape"||y==="Path"||y==="path"||y==="ADBE Vector Shape"||y===2?l.path:null}var h=propertyGroupFactory(l,r);return o.setGroupProperty(PropertyInterface("Path",h)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),l},propertyGroupFactory=function(t,e){return function(r){return(r=r===void 0?1:r)<=0?t:e(r-1)}},PropertyInterface=function(t,e){var r={_name:t};return function(o){return(o=o===void 0?1:o)<=0?r:e(o-1)}},ShapeExpressionInterface=function(){function t(j,U,q){var W,G=[],Y=j?j.length:0;for(W=0;W<Y;W+=1)j[W].ty==="gr"?G.push(e(j[W],U[W],q)):j[W].ty==="fl"?G.push(r(j[W],U[W],q)):j[W].ty==="st"?G.push(l(j[W],U[W],q)):j[W].ty==="tm"?G.push(h(j[W],U[W],q)):j[W].ty==="tr"||(j[W].ty==="el"?G.push(D(j[W],U[W],q)):j[W].ty==="sr"?G.push(O(j[W],U[W],q)):j[W].ty==="sh"?G.push(ShapePathInterface(j[W],U[W],q)):j[W].ty==="rc"?G.push(F(j[W],U[W],q)):j[W].ty==="rd"?G.push(R(j[W],U[W],q)):j[W].ty==="rp"?G.push(B(j[W],U[W],q)):j[W].ty==="gf"?G.push(o(j[W],U[W],q)):G.push((j[W],U[W],function(){return null})));return G}function e(j,U,q){var W=function(K){switch(K){case"ADBE Vectors Group":case"Contents":case 2:return W.content;default:return W.transform}};W.propertyGroup=propertyGroupFactory(W,q);var G=function(K,X,J){var Q,Z=function(ne){for(var ie=0,re=Q.length;ie<re;){if(Q[ie]._name===ne||Q[ie].mn===ne||Q[ie].propertyIndex===ne||Q[ie].ix===ne||Q[ie].ind===ne)return Q[ie];ie+=1}return typeof ne=="number"?Q[ne-1]:null};Z.propertyGroup=propertyGroupFactory(Z,J),Q=t(K.it,X.it,Z.propertyGroup),Z.numProperties=Q.length;var ee=y(K.it[K.it.length-1],X.it[X.it.length-1],Z.propertyGroup);return Z.transform=ee,Z.propertyIndex=K.cix,Z._name=K.nm,Z}(j,U,W.propertyGroup),Y=y(j.it[j.it.length-1],U.it[U.it.length-1],W.propertyGroup);return W.content=G,W.transform=Y,Object.defineProperty(W,"_name",{get:function(){return j.nm}}),W.numProperties=j.np,W.propertyIndex=j.ix,W.nm=j.nm,W.mn=j.mn,W}function r(j,U,q){function W(G){return G==="Color"||G==="color"?W.color:G==="Opacity"||G==="opacity"?W.opacity:null}return Object.defineProperties(W,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},_name:{value:j.nm},mn:{value:j.mn}}),U.c.setGroupProperty(PropertyInterface("Color",q)),U.o.setGroupProperty(PropertyInterface("Opacity",q)),W}function o(j,U,q){function W(G){return G==="Start Point"||G==="start point"?W.startPoint:G==="End Point"||G==="end point"?W.endPoint:G==="Opacity"||G==="opacity"?W.opacity:null}return Object.defineProperties(W,{startPoint:{get:ExpressionPropertyInterface(U.s)},endPoint:{get:ExpressionPropertyInterface(U.e)},opacity:{get:ExpressionPropertyInterface(U.o)},type:{get:function(){return"a"}},_name:{value:j.nm},mn:{value:j.mn}}),U.s.setGroupProperty(PropertyInterface("Start Point",q)),U.e.setGroupProperty(PropertyInterface("End Point",q)),U.o.setGroupProperty(PropertyInterface("Opacity",q)),W}function l(j,U,q){var W,G=propertyGroupFactory(Q,q),Y=propertyGroupFactory(J,G);function K(Z){Object.defineProperty(J,j.d[Z].nm,{get:ExpressionPropertyInterface(U.d.dataProps[Z].p)})}var X=j.d?j.d.length:0,J={};for(W=0;W<X;W+=1)K(W),U.d.dataProps[W].p.setGroupProperty(Y);function Q(Z){return Z==="Color"||Z==="color"?Q.color:Z==="Opacity"||Z==="opacity"?Q.opacity:Z==="Stroke Width"||Z==="stroke width"?Q.strokeWidth:null}return Object.defineProperties(Q,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},strokeWidth:{get:ExpressionPropertyInterface(U.w)},dash:{get:function(){return J}},_name:{value:j.nm},mn:{value:j.mn}}),U.c.setGroupProperty(PropertyInterface("Color",G)),U.o.setGroupProperty(PropertyInterface("Opacity",G)),U.w.setGroupProperty(PropertyInterface("Stroke Width",G)),Q}function h(j,U,q){function W(Y){return Y===j.e.ix||Y==="End"||Y==="end"?W.end:Y===j.s.ix?W.start:Y===j.o.ix?W.offset:null}var G=propertyGroupFactory(W,q);return W.propertyIndex=j.ix,U.s.setGroupProperty(PropertyInterface("Start",G)),U.e.setGroupProperty(PropertyInterface("End",G)),U.o.setGroupProperty(PropertyInterface("Offset",G)),W.propertyIndex=j.ix,W.propertyGroup=q,Object.defineProperties(W,{start:{get:ExpressionPropertyInterface(U.s)},end:{get:ExpressionPropertyInterface(U.e)},offset:{get:ExpressionPropertyInterface(U.o)},_name:{value:j.nm}}),W.mn=j.mn,W}function y(j,U,q){function W(Y){return j.a.ix===Y||Y==="Anchor Point"?W.anchorPoint:j.o.ix===Y||Y==="Opacity"?W.opacity:j.p.ix===Y||Y==="Position"?W.position:j.r.ix===Y||Y==="Rotation"||Y==="ADBE Vector Rotation"?W.rotation:j.s.ix===Y||Y==="Scale"?W.scale:j.sk&&j.sk.ix===Y||Y==="Skew"?W.skew:j.sa&&j.sa.ix===Y||Y==="Skew Axis"?W.skewAxis:null}var G=propertyGroupFactory(W,q);return U.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",G)),U.transform.mProps.p.setGroupProperty(PropertyInterface("Position",G)),U.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",G)),U.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",G)),U.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",G)),U.transform.mProps.sk&&(U.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",G)),U.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",G))),U.transform.op.setGroupProperty(PropertyInterface("Opacity",G)),Object.defineProperties(W,{opacity:{get:ExpressionPropertyInterface(U.transform.mProps.o)},position:{get:ExpressionPropertyInterface(U.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(U.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(U.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(U.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(U.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(U.transform.mProps.sa)},_name:{value:j.nm}}),W.ty="tr",W.mn=j.mn,W.propertyGroup=q,W}function D(j,U,q){function W(K){return j.p.ix===K?W.position:j.s.ix===K?W.size:null}var G=propertyGroupFactory(W,q);W.propertyIndex=j.ix;var Y=U.sh.ty==="tm"?U.sh.prop:U.sh;return Y.s.setGroupProperty(PropertyInterface("Size",G)),Y.p.setGroupProperty(PropertyInterface("Position",G)),Object.defineProperties(W,{size:{get:ExpressionPropertyInterface(Y.s)},position:{get:ExpressionPropertyInterface(Y.p)},_name:{value:j.nm}}),W.mn=j.mn,W}function O(j,U,q){function W(K){return j.p.ix===K?W.position:j.r.ix===K?W.rotation:j.pt.ix===K?W.points:j.or.ix===K||K==="ADBE Vector Star Outer Radius"?W.outerRadius:j.os.ix===K?W.outerRoundness:!j.ir||j.ir.ix!==K&&K!=="ADBE Vector Star Inner Radius"?j.is&&j.is.ix===K?W.innerRoundness:null:W.innerRadius}var G=propertyGroupFactory(W,q),Y=U.sh.ty==="tm"?U.sh.prop:U.sh;return W.propertyIndex=j.ix,Y.or.setGroupProperty(PropertyInterface("Outer Radius",G)),Y.os.setGroupProperty(PropertyInterface("Outer Roundness",G)),Y.pt.setGroupProperty(PropertyInterface("Points",G)),Y.p.setGroupProperty(PropertyInterface("Position",G)),Y.r.setGroupProperty(PropertyInterface("Rotation",G)),j.ir&&(Y.ir.setGroupProperty(PropertyInterface("Inner Radius",G)),Y.is.setGroupProperty(PropertyInterface("Inner Roundness",G))),Object.defineProperties(W,{position:{get:ExpressionPropertyInterface(Y.p)},rotation:{get:ExpressionPropertyInterface(Y.r)},points:{get:ExpressionPropertyInterface(Y.pt)},outerRadius:{get:ExpressionPropertyInterface(Y.or)},outerRoundness:{get:ExpressionPropertyInterface(Y.os)},innerRadius:{get:ExpressionPropertyInterface(Y.ir)},innerRoundness:{get:ExpressionPropertyInterface(Y.is)},_name:{value:j.nm}}),W.mn=j.mn,W}function F(j,U,q){function W(K){return j.p.ix===K?W.position:j.r.ix===K?W.roundness:j.s.ix===K||K==="Size"||K==="ADBE Vector Rect Size"?W.size:null}var G=propertyGroupFactory(W,q),Y=U.sh.ty==="tm"?U.sh.prop:U.sh;return W.propertyIndex=j.ix,Y.p.setGroupProperty(PropertyInterface("Position",G)),Y.s.setGroupProperty(PropertyInterface("Size",G)),Y.r.setGroupProperty(PropertyInterface("Rotation",G)),Object.defineProperties(W,{position:{get:ExpressionPropertyInterface(Y.p)},roundness:{get:ExpressionPropertyInterface(Y.r)},size:{get:ExpressionPropertyInterface(Y.s)},_name:{value:j.nm}}),W.mn=j.mn,W}function R(j,U,q){function W(K){return j.r.ix===K||K==="Round Corners 1"?W.radius:null}var G=propertyGroupFactory(W,q),Y=U;return W.propertyIndex=j.ix,Y.rd.setGroupProperty(PropertyInterface("Radius",G)),Object.defineProperties(W,{radius:{get:ExpressionPropertyInterface(Y.rd)},_name:{value:j.nm}}),W.mn=j.mn,W}function B(j,U,q){function W(K){return j.c.ix===K||K==="Copies"?W.copies:j.o.ix===K||K==="Offset"?W.offset:null}var G=propertyGroupFactory(W,q),Y=U;return W.propertyIndex=j.ix,Y.c.setGroupProperty(PropertyInterface("Copies",G)),Y.o.setGroupProperty(PropertyInterface("Offset",G)),Object.defineProperties(W,{copies:{get:ExpressionPropertyInterface(Y.c)},offset:{get:ExpressionPropertyInterface(Y.o)},_name:{value:j.nm}}),W.mn=j.mn,W}return function(j,U,q){var W;function G(Y){if(typeof Y=="number")return(Y=Y===void 0?1:Y)===0?q:W[Y-1];for(var K=0,X=W.length;K<X;){if(W[K]._name===Y)return W[K];K+=1}return null}return G.propertyGroup=propertyGroupFactory(G,function(){return q}),W=t(j,U,G.propertyGroup),G.numProperties=W.length,G._name="Contents",G}}(),TextExpressionInterface=function(t){var e,r;function o(l){return l==="ADBE Text Document"?o.sourceText:null}return Object.defineProperty(o,"sourceText",{get:function(){t.textProperty.getValue();var l=t.textProperty.currentData.t;return l!==e&&(t.textProperty.currentData.t=e,(r=new String(l)).value=l||new String(l)),r}}),o},LayerExpressionInterface=function(){function t(F){var R=new Matrix;return F!==void 0?this._elem.finalTransform.mProp.getValueAtTime(F).clone(R):this._elem.finalTransform.mProp.applyToMatrix(R),R}function e(F,R){var B=this.getMatrix(R);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.applyPoint(B,F)}function r(F,R){var B=this.getMatrix(R);return this.applyPoint(B,F)}function o(F,R){var B=this.getMatrix(R);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.invertPoint(B,F)}function l(F,R){var B=this.getMatrix(R);return this.invertPoint(B,F)}function h(F,R){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(F)}return F.applyToPointArray(R[0],R[1],R[2]||0)}function y(F,R){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(F)}return F.inversePoint(R)}function D(F){var R=new Matrix;if(R.reset(),this._elem.finalTransform.mProp.applyToMatrix(R),this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(R);return R.inversePoint(F)}return R.inversePoint(F)}function O(){return[1,1,1,1]}return function(F){var R;function B(U){switch(U){case"ADBE Root Vectors Group":case"Contents":case 2:return B.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return R;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return B.effect;case"ADBE Text Properties":return B.textInterface;default:return null}}B.getMatrix=t,B.invertPoint=y,B.applyPoint=h,B.toWorld=r,B.toWorldVec=e,B.fromWorld=l,B.fromWorldVec=o,B.toComp=r,B.fromComp=D,B.sampleImage=O,B.sourceRectAtTime=F.sourceRectAtTime.bind(F),B._elem=F;var j=getDescriptor(R=TransformExpressionInterface(F.finalTransform.mProp),"anchorPoint");return Object.defineProperties(B,{hasParent:{get:function(){return F.hierarchy.length}},parent:{get:function(){return F.hierarchy[0].layerInterface}},rotation:getDescriptor(R,"rotation"),scale:getDescriptor(R,"scale"),position:getDescriptor(R,"position"),opacity:getDescriptor(R,"opacity"),anchorPoint:j,anchor_point:j,transform:{get:function(){return R}},active:{get:function(){return F.isInRange}}}),B.startTime=F.data.st,B.index=F.data.ind,B.source=F.data.refId,B.height=F.data.ty===0?F.data.h:100,B.width=F.data.ty===0?F.data.w:100,B.inPoint=F.data.ip/F.comp.globalData.frameRate,B.outPoint=F.data.op/F.comp.globalData.frameRate,B._name=F.data.nm,B.registerMaskInterface=function(U){B.mask=new MaskManagerInterface(U,F)},B.registerEffectsInterface=function(U){B.effect=U},B}}(),FootageInterface=(dataInterfaceFactory=function(t){function e(r){return r==="Outline"?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(r){var o="",l=r.getFootageData();function h(y){if(l[y])return o=y,typeof(l=l[y])=="object"?h:l;var D=y.indexOf(o);if(D!==-1){var O=parseInt(y.substr(D+o.length),10);return typeof(l=l[O])=="object"?h:l}return""}return function(){return o="",l=r.getFootageData(),h}}(t),e},function(t){function e(r){return r==="Data"?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(t),e}),dataInterfaceFactory,CompExpressionInterface=function(t){function e(r){for(var o=0,l=t.layers.length;o<l;){if(t.layers[o].nm===r||t.layers[o].ind===r)return t.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(e,"_name",{value:t.data.nm}),e.layer=e,e.pixelAspect=1,e.height=t.data.h||t.globalData.compSize.h,e.width=t.data.w||t.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/t.globalData.frameRate,e.displayStartTime=0,e.numLayers=t.layers.length,e},TransformExpressionInterface=function(t){function e(y){switch(y){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var r,o,l,h;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?h=ExpressionPropertyInterface(t.p):(r=ExpressionPropertyInterface(t.px),o=ExpressionPropertyInterface(t.py),t.pz&&(l=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?h():[r(),o(),l?l():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(e){this.compositions.push(e)}return function(){function e(r){for(var o=0,l=this.compositions.length;o<l;){if(this.compositions[o].data&&this.compositions[o].data.nm===r)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=t,e}}(),EffectsExpressionInterface=function(){var t={createEffectsInterface:function(o,l){if(o.effectsManager){var h,y=[],D=o.data.ef,O=o.effectsManager.effectElements.length;for(h=0;h<O;h+=1)y.push(e(D[h],o.effectsManager.effectElements[h],l,o));var F=o.data.ef||[],R=function(B){for(h=0,O=F.length;h<O;){if(B===F[h].nm||B===F[h].mn||B===F[h].ix)return y[h];h+=1}return null};return Object.defineProperty(R,"numProperties",{get:function(){return F.length}}),R}return null}};function e(o,l,h,y){function D(j){for(var U=o.ef,q=0,W=U.length;q<W;){if(j===U[q].nm||j===U[q].mn||j===U[q].ix)return U[q].ty===5?R[q]:R[q]();q+=1}throw new Error}var O,F=propertyGroupFactory(D,h),R=[],B=o.ef.length;for(O=0;O<B;O+=1)o.ef[O].ty===5?R.push(e(o.ef[O],l.effectElements[O],l.effectElements[O].propertyGroup,y)):R.push(r(l.effectElements[O],o.ef[O].ty,y,F));return o.mn==="ADBE Color Control"&&Object.defineProperty(D,"color",{get:function(){return R[0]()}}),Object.defineProperties(D,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:F}}),D.enabled=o.en!==0,D.active=D.enabled,D}function r(o,l,h,y){var D=ExpressionPropertyInterface(o.p);return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",y)),function(){return l===10?h.comp.compInterface(o.p.v):D()}}return t}(),MaskManagerInterface=function(){function t(e,r){this._mask=e,this._data=r}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var r,o=createSizedArray(e.viewData.length),l=e.viewData.length;for(r=0;r<l;r+=1)o[r]=new t(e.viewData[r],e.masksProperties[r]);return function(h){for(r=0;r<l;){if(e.masksProperties[r].nm===h)return o[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function r(l,h,y){Object.defineProperty(l,"velocity",{get:function(){return h.getVelocityAtTime(h.comp.currentFrame)}}),l.numKeys=h.keyframes?h.keyframes.length:0,l.key=function(D){if(!l.numKeys)return 0;var O="";O="s"in h.keyframes[D-1]?h.keyframes[D-1].s:"e"in h.keyframes[D-2]?h.keyframes[D-2].e:h.keyframes[D-2].s;var F=y==="unidimensional"?new Number(O):Object.assign({},O);return F.time=h.keyframes[D-1].t/h.elem.comp.globalData.frameRate,F.value=y==="unidimensional"?O[0]:O,F},l.valueAtTime=h.getValueAtTime,l.speedAtTime=h.getSpeedAtTime,l.velocityAtTime=h.getVelocityAtTime,l.propertyGroup=h.propertyGroup}function o(){return t}return function(l){return l?l.propType==="unidimensional"?function(h){h&&"pv"in h||(h=t);var y=1/h.mult,D=h.pv*y,O=new Number(D);return O.value=D,r(O,h,"unidimensional"),function(){return h.k&&h.getValue(),D=h.v*y,O.value!==D&&((O=new Number(D)).value=D,r(O,h,"unidimensional")),O}}(l):function(h){h&&"pv"in h||(h=e);var y=1/h.mult,D=h.data&&h.data.l||h.pv.length,O=createTypedArray("float32",D),F=createTypedArray("float32",D);return O.value=F,r(O,h,"multidimensional"),function(){h.k&&h.getValue();for(var R=0;R<D;R+=1)F[R]=h.v[R]*y,O[R]=F[R];return O}}(l):o}}(),TextExpressionSelectorPropFactory=function(){function t(e,r){return this.textIndex=e+1,this.textTotal=r,this.v=this.getValue()*this.mult,this.v}return function(e,r){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=r.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,r,this),this.getMult=t,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp;function SliderEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function AngleEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function ColorEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function PointEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,1,0,r)}function LayerIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function MaskIndexEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function CheckboxEffect(t,e,r){this.p=PropertyFactory.getProp(e,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var r,o=t.ef||[];this.effectElements=[];var l,h=o.length;for(r=0;r<h;r+=1)l=new GroupEffect(o[r],e),this.effectElements.push(l)}function GroupEffect(t,e){this.init(t,e)}TextSelectorProp.getTextSelectorProp=function(t,e,r){return e.t===1?new TextExpressionSelectorPropFactory(t,e,r):propertyGetTextProp(t,e,r)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){var r;this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);var o,l=this.data.ef.length,h=this.data.ef;for(r=0;r<l;r+=1){switch(o=null,h[r].ty){case 0:o=new SliderEffect(h[r],e,this);break;case 1:o=new AngleEffect(h[r],e,this);break;case 2:o=new ColorEffect(h[r],e,this);break;case 3:o=new PointEffect(h[r],e,this);break;case 4:case 7:o=new CheckboxEffect(h[r],e,this);break;case 10:o=new LayerIndexEffect(h[r],e,this);break;case 11:o=new MaskIndexEffect(h[r],e,this);break;case 5:o=new EffectsManager(h[r],e);break;default:o=new NoValueEffect(h[r])}o&&this.effectElements.push(o)}};var lottie={};function setLocationHref(t){locationHref=t}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function setIDPrefix(t){idPrefix=t}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&t>1&&(defaultCurveSegments=t)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(t,e){t==="expressions"&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),r=0;r<e.length;r+=1){var o=e[r].split("=");if(decodeURIComponent(o[0])==t)return decodeURIComponent(o[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(t){_useWebWorker=t},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.1";var queryString;{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},module.exports?module.exports=factory(root):(root.lottie=factory(root),root.bodymovin=root.lottie))})(lottie$1);lottie$1.exports;var _templateObject$1,styles=r$3(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral([`
  * {
    box-sizing: border-box;
  }

  :host {
    --lottie-player-toolbar-height: 35px;
    --lottie-player-toolbar-background-color: transparent;
    --lottie-player-toolbar-icon-color: #999;
    --lottie-player-toolbar-icon-hover-color: #222;
    --lottie-player-toolbar-icon-active-color: #555;
    --lottie-player-seeker-track-color: #ccc;
    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);
    --lottie-player-seeker-display: block;

    display: block;
    width: 100%;
    height: 100%;
  }

  .main {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  .animation {
    width: 100%;
    height: 100%;
    display: flex;
  }
  .animation.controls {
    height: calc(100% - 35px);
  }

  .toolbar {
    display: flex;
    align-items: center;
    justify-items: center;
    background-color: var(--lottie-player-toolbar-background-color);
    margin: 0 5px;
    height: 35px;
  }

  .toolbar button {
    cursor: pointer;
    fill: var(--lottie-player-toolbar-icon-color);
    display: flex;
    background: none;
    border: 0;
    padding: 0;
    outline: none;
    height: 100%;
  }

  .toolbar button:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button.active {
    fill: var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button.active:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button:focus {
    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button svg {
  }

  .toolbar button.disabled svg {
    display: none;
  }

  .seeker {
    -webkit-appearance: none;
    width: 95%;
    outline: none;
    background-color: var(--lottie-player-toolbar-background-color);
    display: var(--lottie-player-seeker-display);
  }

  .seeker::-webkit-slider-runnable-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-webkit-slider-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
    -webkit-appearance: none;
    margin-top: -5px;
  }
  .seeker:focus::-webkit-slider-runnable-track {
    background: #999;
  }
  .seeker::-moz-range-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-moz-range-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker::-ms-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }
  .seeker::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-thumb {
    border: 0;
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker:focus::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
  }
  .seeker:focus::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
  }

  .error {
    display: flex;
    justify-content: center;
    height: 100%;
    align-items: center;
  }
`]))),_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,PlayerState,PlayMode,PlayerEvents;function parseSrc(t){if(typeof t=="object")return t;try{return JSON.parse(t)}catch{return new URL(t,window.location.href).toString()}}function isLottie(t){return["v","ip","op","layers","fr","w","h"].every(e=>Object.prototype.hasOwnProperty.call(t,e))}function fromURL(t){return _fromURL.apply(this,arguments)}function _fromURL(){return(_fromURL=_asyncToGenerator(function*(t){if(typeof t!="string")throw new Error("The url value must be a string");var e;try{var r=new URL(t),o=yield fetch(r.toString());e=yield o.json()}catch{throw new Error("An error occurred while trying to load the Lottie file from URL")}return e})).apply(this,arguments)}(function(t){t.Destroyed="destroyed",t.Error="error",t.Frozen="frozen",t.Loading="loading",t.Paused="paused",t.Playing="playing",t.Stopped="stopped"})(PlayerState||(PlayerState={})),function(t){t.Bounce="bounce",t.Normal="normal"}(PlayMode||(PlayMode={})),function(t){t.Complete="complete",t.Destroyed="destroyed",t.Error="error",t.Frame="frame",t.Freeze="freeze",t.Load="load",t.Loop="loop",t.Pause="pause",t.Play="play",t.Ready="ready",t.Rendered="rendered",t.Stop="stop"}(PlayerEvents||(PlayerEvents={}));var LottiePlayer=class extends s{constructor(){super(...arguments),this.autoplay=!1,this.background="transparent",this.controls=!1,this.currentState=PlayerState.Loading,this.description="Lottie animation",this.direction=1,this.hover=!1,this.intermission=1,this.loop=!1,this.mode=PlayMode.Normal,this.preserveAspectRatio="xMidYMid meet",this.renderer="svg",this.speed=1,this._io=void 0,this._counter=1}load(t){var e=this;return _asyncToGenerator(function*(){if(e.shadowRoot){var r={container:e.container,loop:!1,autoplay:!1,renderer:e.renderer,rendererSettings:{preserveAspectRatio:e.preserveAspectRatio,clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0}};try{var o=parseSrc(t),l={},h=typeof o=="string"?"path":"animationData";e._lottie&&e._lottie.destroy(),e.webworkers&&lottie$1.exports.useWebWorker(!0),e._lottie=lottie$1.exports.loadAnimation(Object.assign(Object.assign({},r),{[h]:o})),e._attachEventListeners(),h==="path"?(l=yield fromURL(o),h="animationData"):l=o,isLottie(l)||(e.currentState=PlayerState.Error,e.dispatchEvent(new CustomEvent(PlayerEvents.Error)))}catch{e.currentState=PlayerState.Error,e.dispatchEvent(new CustomEvent(PlayerEvents.Error))}}})()}getLottie(){return this._lottie}play(){this._lottie&&(this._lottie.play(),this.currentState=PlayerState.Playing,this.dispatchEvent(new CustomEvent(PlayerEvents.Play)))}pause(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Paused,this.dispatchEvent(new CustomEvent(PlayerEvents.Pause)))}stop(){this._lottie&&(this._counter=1,this._lottie.stop(),this.currentState=PlayerState.Stopped,this.dispatchEvent(new CustomEvent(PlayerEvents.Stop)))}destroy(){this._lottie&&(this._lottie.destroy(),this._lottie=null,this.currentState=PlayerState.Destroyed,this.dispatchEvent(new CustomEvent(PlayerEvents.Destroyed)),this.remove())}seek(t){if(this._lottie){var e=/^(\d+)(%?)$/.exec(t.toString());if(e){var r=e[2]==="%"?this._lottie.totalFrames*Number(e[1])/100:Number(e[1]);this.seeker=r,this.currentState===PlayerState.Playing?this._lottie.goToAndPlay(r,!0):(this._lottie.goToAndStop(r,!0),this._lottie.pause())}}}snapshot(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.shadowRoot){var e=this.shadowRoot.querySelector(".animation svg"),r=new XMLSerializer().serializeToString(e);if(t){var o=document.createElement("a");o.href="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(r)),o.download="download_".concat(this.seeker,".svg"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}return r}}setSpeed(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._lottie&&this._lottie.setSpeed(t)}setDirection(t){this._lottie&&this._lottie.setDirection(t)}setLooping(t){this._lottie&&(this.loop=t,this._lottie.loop=t)}togglePlay(){return this.currentState===PlayerState.Playing?this.pause():this.play()}toggleLooping(){this.setLooping(!this.loop)}resize(){this._lottie&&this._lottie.resize()}static get styles(){return styles}disconnectedCallback(){this.isConnected||(this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",()=>this._onVisibilityChange()),this.destroy())}render(){var t=this.controls?"main controls":"main",e=this.controls?"animation controls":"animation";return $(_templateObject||(_templateObject=_taggedTemplateLiteral([` <div
      id="animation-container"
      class=`,`
      lang="en"
      aria-label=`,`
      role="img"
    >
      <div
        id="animation"
        class=`,`
        style="background:`,`;"
      >
        `,`
      </div>
      `,`
    </div>`])),t,this.description,e,this.background,this.currentState===PlayerState.Error?$(_templateObject2||(_templateObject2=_taggedTemplateLiteral(['<div class="error">\u26A0\uFE0F</div>']))):void 0,this.controls?this.renderControls():void 0)}firstUpdated(){"IntersectionObserver"in window&&(this._io=new IntersectionObserver(t=>{t[0].isIntersecting?this.currentState===PlayerState.Frozen&&this.play():this.currentState===PlayerState.Playing&&this.freeze()}),this._io.observe(this.container)),document.hidden!==void 0&&document.addEventListener("visibilitychange",()=>this._onVisibilityChange()),this.src&&this.load(this.src),this.dispatchEvent(new CustomEvent(PlayerEvents.Rendered))}renderControls(){var t=this.currentState===PlayerState.Playing,e=this.currentState===PlayerState.Paused,r=this.currentState===PlayerState.Stopped;return $(_templateObject3||(_templateObject3=_taggedTemplateLiteral([`
      <div
        id="lottie-controls"
        aria-label="lottie-animation-controls"
        class="toolbar"
      >
        <button
          id="lottie-play-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="play-pause"
        >
          `,`
        </button>
        <button
          id="lottie-stop-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="stop"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path d="M6 6h12v12H6V6z" />
          </svg>
        </button>
        <input
          id="lottie-seeker-input"
          class="seeker"
          type="range"
          min="0"
          step="1"
          max="100"
          .value=`,`
          @input=`,`
          @mousedown=`,`
          @mouseup=`,`
          aria-valuemin="1"
          aria-valuemax="100"
          role="slider"
          aria-valuenow=`,`
          tabindex="0"
          aria-label="lottie-seek-input"
        />
        <button
          id="lottie-loop-toggle"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="loop-toggle"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path
              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"
            />
          </svg>
        </button>
      </div>
    `])),this.togglePlay,t||e?"active":"",$(t?_templateObject4||(_templateObject4=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path
                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"
                />
              </svg>`])):_templateObject5||(_templateObject5=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />
              </svg>`]))),this.stop,r?"active":"",this.seeker,this._handleSeekChange,()=>{this._prevState=this.currentState,this.freeze()},()=>{this._prevState===PlayerState.Playing&&this.play()},this.seeker,this.toggleLooping,this.loop?"active":"")}_onVisibilityChange(){document.hidden===!0&&this.currentState===PlayerState.Playing?this.freeze():this.currentState===PlayerState.Frozen&&this.play()}_handleSeekChange(t){if(this._lottie&&!isNaN(t.target.value)){var e=t.target.value/100*this._lottie.totalFrames;this.seek(e)}}_attachEventListeners(){this._lottie.addEventListener("enterFrame",()=>{this.seeker=this._lottie.currentFrame/this._lottie.totalFrames*100,this.dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:this._lottie.currentFrame,seeker:this.seeker}}))}),this._lottie.addEventListener("complete",()=>{if(this.currentState===PlayerState.Playing){if((!this.loop||this.count&&this._counter>=this.count)&&(this.dispatchEvent(new CustomEvent(PlayerEvents.Complete)),this.mode!==PlayMode.Bounce||this._lottie.currentFrame===0))return;this.mode===PlayMode.Bounce?(this.count&&(this._counter+=.5),setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this._lottie.setDirection(-1*this._lottie.playDirection),this._lottie.play())},this.intermission)):(this.count&&(this._counter+=1),window.setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this.direction===-1?(this.seek("99%"),this.play()):(this._lottie.stop(),this._lottie.play()))},this.intermission))}else this.dispatchEvent(new CustomEvent(PlayerEvents.Complete))}),this._lottie.addEventListener("DOMLoaded",()=>{this.setSpeed(this.speed),this.setDirection(this.direction),this.autoplay&&(this.direction===-1&&this.seek("100%"),this.play()),this.dispatchEvent(new CustomEvent(PlayerEvents.Ready))}),this._lottie.addEventListener("data_ready",()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Load))}),this._lottie.addEventListener("data_failed",()=>{this.currentState=PlayerState.Error,this.dispatchEvent(new CustomEvent(PlayerEvents.Error))}),this.container.addEventListener("mouseenter",()=>{this.hover&&this.currentState!==PlayerState.Playing&&this.play()}),this.container.addEventListener("mouseleave",()=>{this.hover&&this.currentState===PlayerState.Playing&&this.stop()})}freeze(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Frozen,this.dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))}};__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"autoplay",void 0),__decorate([e$5({type:String,reflect:!0})],LottiePlayer.prototype,"background",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"controls",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"count",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"currentState",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"description",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"direction",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"hover",void 0),__decorate([e$5()],LottiePlayer.prototype,"intermission",void 0),__decorate([e$5({type:Boolean,reflect:!0})],LottiePlayer.prototype,"loop",void 0),__decorate([e$5()],LottiePlayer.prototype,"mode",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"preserveAspectRatio",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"renderer",void 0),__decorate([e$5()],LottiePlayer.prototype,"seeker",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"speed",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"src",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"webworkers",void 0),__decorate([i(".animation")],LottiePlayer.prototype,"container",void 0),LottiePlayer=__decorate([n$1("lottie-player")],LottiePlayer);var chat_svelte_svelte_type_style_lang="";function get_each_context_1$4(t,e,r){const o=t.slice();return o[44]=e[r],o[48]=r,o}function get_each_context$6(t,e,r){const o=t.slice();return o[44]=e[r],o}function get_each_context_2$1(t,e,r){const o=t.slice();return o[49]=e[r],o[48]=r,o}function create_each_block_2$1(t,e){let r,o=e[49][0]+"",l,h,y,D;return{key:t,first:null,c(){r=element("div"),l=text(o),h=space(),attr(r,"class",y=null_to_empty(e[49][1]=="question"?"msgBot":"msgUser")+" svelte-w49pdy"),set_style(r,"background-color",e[49][1]!="question"?e[8]:"#e4e4e4"),this.first=r},m(O,F){insert(O,r,F),append(r,l),append(r,h)},p(O,F){e=O,F[0]&2&&o!==(o=e[49][0]+"")&&set_data(l,o),F[0]&2&&y!==(y=null_to_empty(e[49][1]=="question"?"msgBot":"msgUser")+" svelte-w49pdy")&&attr(r,"class",y),F[0]&258&&set_style(r,"background-color",e[49][1]!="question"?e[8]:"#e4e4e4")},i(O){D||add_render_callback(()=>{D=create_in_transition(r,scale,{duration:200,start:.8,easing:quadIn}),D.start()})},o:noop$2,d(O){O&&detach(r)}}}function create_if_block_1$9(t){let e,r,o,l,h,y,D;const O=[create_if_block_2$8,create_if_block_5$4,create_if_block_7$2,create_if_block_8$1,create_if_block_10,create_if_block_12],F=[];function R(B,j){return B[5].a.type=="1c"?0:B[5].a.type=="mc"?1:B[5].a.type=="num"?2:B[5].a.type=="cl"?3:B[5].a.type=="cal"?4:B[5].a.type=="5s"?5:-1}return~(o=R(t))&&(l=F[o]=O[o](t)),{c(){e=element("div"),r=element("div"),l&&l.c(),attr(e,"id","inputZone"),attr(e,"class","m-auto svelte-w49pdy"),set_style(e,"background-color",t[8]+"1A")},m(B,j){insert(B,e,j),append(e,r),~o&&F[o].m(r,null),D=!0},p(B,j){let U=o;o=R(B),o===U?~o&&F[o].p(B,j):(l&&(group_outros(),transition_out(F[U],1,1,()=>{F[U]=null}),check_outros()),~o?(l=F[o],l?l.p(B,j):(l=F[o]=O[o](B),l.c()),transition_in(l,1),l.m(r,null)):l=null),(!D||j[0]&256)&&set_style(e,"background-color",B[8]+"1A")},i(B){D||(transition_in(l),add_render_callback(()=>{y&&y.end(1),h=create_in_transition(e,fly,{y:20,duration:800}),h.start()}),D=!0)},o(B){transition_out(l),h&&h.invalidate(),y=create_out_transition(e,fade,{duration:200}),D=!1},d(B){B&&detach(e),~o&&F[o].d(),B&&y&&y.end()}}}function create_if_block_12(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee;return{c(){e=element("div"),r=element("div"),o=element("input"),l=space(),h=element("label"),h.textContent="5 stars",y=space(),D=element("input"),O=space(),F=element("label"),F.textContent="4 stars",R=space(),B=element("input"),j=space(),U=element("label"),U.textContent="3 stars",q=space(),W=element("input"),G=space(),Y=element("label"),Y.textContent="2 stars",K=space(),X=element("input"),J=space(),Q=element("label"),Q.textContent="1 star",attr(o,"type","radio"),attr(o,"id","star5"),attr(o,"name","rate"),o.value="5",attr(o,"class","svelte-w49pdy"),attr(h,"for","star5"),attr(h,"title","text"),attr(h,"class","svelte-w49pdy"),attr(D,"type","radio"),attr(D,"id","star4"),attr(D,"name","rate"),D.value="4",attr(D,"class","svelte-w49pdy"),attr(F,"for","star4"),attr(F,"title","text"),attr(F,"class","svelte-w49pdy"),attr(B,"type","radio"),attr(B,"id","star3"),attr(B,"name","rate"),B.value="3",attr(B,"class","svelte-w49pdy"),attr(U,"for","star3"),attr(U,"title","text"),attr(U,"class","svelte-w49pdy"),attr(W,"type","radio"),attr(W,"id","star2"),attr(W,"name","rate"),W.value="2",attr(W,"class","svelte-w49pdy"),attr(Y,"for","star2"),attr(Y,"title","text"),attr(Y,"class","svelte-w49pdy"),attr(X,"type","radio"),attr(X,"id","star1"),attr(X,"name","rate"),X.value="1",attr(X,"class","svelte-w49pdy"),attr(Q,"for","star1"),attr(Q,"title","text"),attr(Q,"class","svelte-w49pdy"),attr(r,"class","rate input svelte-w49pdy"),attr(e,"class","d-flex align-items-center justify-content-center")},m(ne,ie){insert(ne,e,ie),append(e,r),append(r,o),append(r,l),append(r,h),append(r,y),append(r,D),append(r,O),append(r,F),append(r,R),append(r,B),append(r,j),append(r,U),append(r,q),append(r,W),append(r,G),append(r,Y),append(r,K),append(r,X),append(r,J),append(r,Q),Z||(ee=[listen(o,"click",t[27]),listen(D,"click",t[28]),listen(B,"click",t[29]),listen(W,"click",t[30]),listen(X,"click",t[31])],Z=!0)},p:noop$2,i:noop$2,o:noop$2,d(ne){ne&&detach(e),Z=!1,run_all(ee)}}}function create_if_block_10(t){let e,r,o,l,h,y,D,O,F,R=t[6].length>0&&create_if_block_11(t);return{c(){e=element("div"),r=element("input"),l=space(),h=element("div"),y=element("div"),R&&R.c(),attr(r,"class","dateField svelte-w49pdy"),attr(r,"id","dateTime"),attr(r,"type",o=t[5].a.a[0]&&t[5].a.a[1]?"datetime-local":t[5].a.a[0]&&!t[5].a.a[1]?"date":"time"),set_style(y,"width","20px"),attr(h,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(e,"class","userBtnInput py-3 m-auto d-flex flex-row justify-content-around align-items-center svelte-w49pdy")},m(B,j){insert(B,e,j),append(e,r),append(e,l),append(e,h),append(h,y),R&&R.m(y,null),D=!0,O||(F=[listen(r,"input",t[25]),listen(h,"click",t[26])],O=!0)},p(B,j){(!D||j[0]&32&&o!==(o=B[5].a.a[0]&&B[5].a.a[1]?"datetime-local":B[5].a.a[0]&&!B[5].a.a[1]?"date":"time"))&&attr(r,"type",o),B[6].length>0?R?(R.p(B,j),j[0]&64&&transition_in(R,1)):(R=create_if_block_11(B),R.c(),transition_in(R,1),R.m(y,null)):R&&(group_outros(),transition_out(R,1,1,()=>{R=null}),check_outros())},i(B){D||(transition_in(R),D=!0)},o(B){transition_out(R),D=!1},d(B){B&&detach(e),R&&R.d(),O=!1,run_all(F)}}}function create_if_block_8$1(t){let e,r,o,l,h,y,D,O,F,R=t[6].length>0&&create_if_block_9(t);return{c(){e=element("div"),r=element("textarea"),l=space(),h=element("div"),y=element("div"),R&&R.c(),attr(r,"rows","3"),attr(r,"id","inputUser"),attr(r,"maxlength",o=t[5].a.a[0]),attr(r,"class","userFieldInput svelte-w49pdy"),attr(r,"type","text"),attr(r,"autocomplete","off"),attr(r,"placeholder","Dites nous tout..."),set_style(y,"width","100%"),attr(h,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(e,"class","userBtnInput d-flex flex-row justify-content-around align-items-center p-2 mx-auto svelte-w49pdy")},m(B,j){insert(B,e,j),append(e,r),set_input_value(r,t[6]),append(e,l),append(e,h),append(h,y),R&&R.m(y,null),D=!0,O||(F=[listen(r,"keydown",t[22]),listen(r,"input",t[23]),listen(h,"click",t[24])],O=!0)},p(B,j){(!D||j[0]&32&&o!==(o=B[5].a.a[0]))&&attr(r,"maxlength",o),j[0]&64&&set_input_value(r,B[6]),B[6].length>0?R?(R.p(B,j),j[0]&64&&transition_in(R,1)):(R=create_if_block_9(B),R.c(),transition_in(R,1),R.m(y,null)):R&&(group_outros(),transition_out(R,1,1,()=>{R=null}),check_outros())},i(B){D||(transition_in(R),D=!0)},o(B){transition_out(R),D=!1},d(B){B&&detach(e),R&&R.d(),O=!1,run_all(F)}}}function create_if_block_7$2(t){let e,r,o,l,h,y,D=t[5].a.a[2]+"",O,F,R,B,j,U,q,W,G,Y;return{c(){e=element("div"),r=element("input"),h=space(),y=element("div"),O=text(D),F=space(),R=element("input"),U=space(),q=element("div"),W=element("div"),attr(r,"id","numRan"),attr(r,"class","userFieldInput svelte-w49pdy"),set_style(r,"max-width","50%"),attr(r,"min",o=t[5].a.a[0]),attr(r,"max",l=t[5].a.a[1]),attr(r,"type","number"),attr(y,"class","ml-1 mr-2 text-start flex-grow-1"),attr(R,"id","inputUser"),attr(R,"class","mx-1 flex-grow-1 userFieldInput form-range svelte-w49pdy"),set_style(R,"background-color","transparent"),attr(R,"type","range"),attr(R,"min",B=t[5].a.a[0]),attr(R,"max",j=t[5].a.a[1]),attr(W,"class","sendCircle svelte-w49pdy"),set_style(W,"background-color",t[8]),attr(e,"class","userBtnInput py-3 m-auto d-flex flex-wrap flex-row justify-content-around align-items-center svelte-w49pdy")},m(K,X){insert(K,e,X),append(e,r),set_input_value(r,t[6]),append(e,h),append(e,y),append(y,O),append(e,F),append(e,R),set_input_value(R,t[6]),append(e,U),append(e,q),append(q,W),G||(Y=[listen(r,"input",t[19]),listen(R,"change",t[20]),listen(R,"input",t[20]),listen(q,"click",t[21])],G=!0)},p(K,X){X[0]&32&&o!==(o=K[5].a.a[0])&&attr(r,"min",o),X[0]&32&&l!==(l=K[5].a.a[1])&&attr(r,"max",l),X[0]&64&&to_number(r.value)!==K[6]&&set_input_value(r,K[6]),X[0]&32&&D!==(D=K[5].a.a[2]+"")&&set_data(O,D),X[0]&32&&B!==(B=K[5].a.a[0])&&attr(R,"min",B),X[0]&32&&j!==(j=K[5].a.a[1])&&attr(R,"max",j),X[0]&64&&set_input_value(R,K[6]),X[0]&256&&set_style(W,"background-color",K[8])},i:noop$2,o:noop$2,d(K){K&&detach(e),G=!1,run_all(Y)}}}function create_if_block_5$4(t){let e=[],r=new Map,o,l,h,y,D,O,F,R=t[5].a.a;const B=U=>U[48];for(let U=0;U<R.length;U+=1){let q=get_each_context_1$4(t,R,U),W=B(q);r.set(W,e[U]=create_each_block_1$4(W,q))}let j=t[5].a.o==!0&&create_if_block_6$2(t);return{c(){for(let U=0;U<e.length;U+=1)e[U].c();o=space(),j&&j.c(),l=space(),h=element("div"),y=element("div"),D=text("Envoyer"),attr(y,"class","userBtnInput svelte-w49pdy"),set_style(y,"background-color",t[8]),set_style(y,"color","white"),attr(h,"class","p-2")},m(U,q){for(let W=0;W<e.length;W+=1)e[W].m(U,q);insert(U,o,q),j&&j.m(U,q),insert(U,l,q),insert(U,h,q),append(h,y),append(y,D),O||(F=listen(y,"click",t[18]),O=!0)},p(U,q){q[0]&352&&(R=U[5].a.a,e=update_keyed_each(e,q,B,1,U,R,r,o.parentNode,destroy_block,create_each_block_1$4,o,get_each_context_1$4)),U[5].a.o==!0?j?j.p(U,q):(j=create_if_block_6$2(U),j.c(),j.m(l.parentNode,l)):j&&(j.d(1),j=null),q[0]&256&&set_style(y,"background-color",U[8])},i:noop$2,o:noop$2,d(U){for(let q=0;q<e.length;q+=1)e[q].d(U);U&&detach(o),j&&j.d(U),U&&detach(l),U&&detach(h),O=!1,F()}}}function create_if_block_2$8(t){let e,r,o,l=t[5].a.a,h=[];for(let D=0;D<l.length;D+=1)h[D]=create_each_block$6(get_each_context$6(t,l,D));let y=t[5].a.o==!0&&create_if_block_3$6(t);return{c(){for(let D=0;D<h.length;D+=1)h[D].c();e=space(),y&&y.c(),r=empty()},m(D,O){for(let F=0;F<h.length;F+=1)h[F].m(D,O);insert(D,e,O),y&&y.m(D,O),insert(D,r,O),o=!0},p(D,O){if(O[0]&1056){l=D[5].a.a;let F;for(F=0;F<l.length;F+=1){const R=get_each_context$6(D,l,F);h[F]?h[F].p(R,O):(h[F]=create_each_block$6(R),h[F].c(),h[F].m(e.parentNode,e))}for(;F<h.length;F+=1)h[F].d(1);h.length=l.length}D[5].a.o==!0?y?(y.p(D,O),O[0]&32&&transition_in(y,1)):(y=create_if_block_3$6(D),y.c(),transition_in(y,1),y.m(r.parentNode,r)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(D){o||(transition_in(y),o=!0)},o(D){transition_out(y),o=!1},d(D){destroy_each(h,D),D&&detach(e),y&&y.d(D),D&&detach(r)}}}function create_if_block_11(t){let e,r,o,l;return{c(){e=element("div"),attr(e,"class","sendCircle svelte-w49pdy"),set_style(e,"background-color",t[8])},m(h,y){insert(h,e,y),l=!0},p(h,y){(!l||y[0]&256)&&set_style(e,"background-color",h[8])},i(h){l||(add_render_callback(()=>{o&&o.end(1),r=create_in_transition(e,fly,{x:10,duration:400}),r.start()}),l=!0)},o(h){r&&r.invalidate(),o=create_out_transition(e,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(e),h&&o&&o.end()}}}function create_if_block_9(t){let e,r,o,l;return{c(){e=element("div"),attr(e,"class","sendCircle svelte-w49pdy"),set_style(e,"background-color",t[8])},m(h,y){insert(h,e,y),l=!0},p(h,y){(!l||y[0]&256)&&set_style(e,"background-color",h[8])},i(h){l||(add_render_callback(()=>{o&&o.end(1),r=create_in_transition(e,fly,{x:10,duration:400}),r.start()}),l=!0)},o(h){r&&r.invalidate(),o=create_out_transition(e,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(e),h&&o&&o.end()}}}function create_each_block_1$4(t,e){let r,o,l=e[44]+"",h,y,D,O;function F(){return e[15](e[44],e[48])}return{key:t,first:null,c(){r=element("div"),o=element("div"),h=text(l),attr(o,"id",y="choix"+e[48].toString()),attr(o,"class","userBtnInput svelte-w49pdy"),attr(r,"class","p-2"),this.first=r},m(R,B){insert(R,r,B),append(r,o),append(o,h),D||(O=listen(o,"click",F),D=!0)},p(R,B){e=R,B[0]&32&&l!==(l=e[44]+"")&&set_data(h,l),B[0]&32&&y!==(y="choix"+e[48].toString())&&attr(o,"id",y)},d(R){R&&detach(r),D=!1,O()}}}function create_if_block_6$2(t){let e,r,o,l,h;return{c(){e=element("div"),r=element("div"),o=element("input"),attr(o,"class","w-100 border-0"),attr(o,"placeholder","Autre..."),attr(o,"maxlength","20"),attr(r,"id","optChoiceInput"),attr(r,"class","userBtnInput d-flex align-items-center justify-content-around svelte-w49pdy"),attr(e,"class","p-2")},m(y,D){insert(y,e,D),append(e,r),append(r,o),set_input_value(o,t[7]),l||(h=[listen(o,"input",t[16]),listen(o,"keypress",keypress_handler),listen(o,"keyup",t[17])],l=!0)},p(y,D){D[0]&128&&o.value!==y[7]&&set_input_value(o,y[7])},d(y){y&&detach(e),l=!1,run_all(h)}}}function create_each_block$6(t){let e,r,o=t[44]+"",l,h,y;function D(){return t[12](t[44])}return{c(){e=element("div"),r=element("div"),l=text(o),attr(r,"class","userBtnInput svelte-w49pdy"),attr(e,"class","p-2")},m(O,F){insert(O,e,F),append(e,r),append(r,l),h||(y=listen(r,"click",D),h=!0)},p(O,F){t=O,F[0]&32&&o!==(o=t[44]+"")&&set_data(l,o)},d(O){O&&detach(e),h=!1,y()}}}function create_if_block_3$6(t){let e,r,o,l,h,y,D,O,F,R=t[6].length>0&&create_if_block_4$6(t);return{c(){e=element("div"),r=element("div"),o=element("input"),l=space(),h=element("div"),y=element("div"),R&&R.c(),attr(o,"class","userFieldInput svelte-w49pdy"),attr(o,"placeholder","Autre..."),attr(o,"maxlength","20"),set_style(y,"width","100%"),attr(r,"class","userBtnInput d-flex align-items-center justify-content-around svelte-w49pdy"),attr(e,"class","p-2")},m(B,j){insert(B,e,j),append(e,r),append(r,o),set_input_value(o,t[6]),append(r,l),append(r,h),append(h,y),R&&R.m(y,null),D=!0,O||(F=[listen(o,"input",t[13]),listen(h,"click",t[14])],O=!0)},p(B,j){j[0]&64&&o.value!==B[6]&&set_input_value(o,B[6]),B[6].length>0?R?(R.p(B,j),j[0]&64&&transition_in(R,1)):(R=create_if_block_4$6(B),R.c(),transition_in(R,1),R.m(y,null)):R&&(group_outros(),transition_out(R,1,1,()=>{R=null}),check_outros())},i(B){D||(transition_in(R),D=!0)},o(B){transition_out(R),D=!1},d(B){B&&detach(e),R&&R.d(),O=!1,run_all(F)}}}function create_if_block_4$6(t){let e,r,o,l;return{c(){e=element("div"),attr(e,"class","sendCircle svelte-w49pdy"),set_style(e,"background-color",t[8])},m(h,y){insert(h,e,y),l=!0},p(h,y){(!l||y[0]&256)&&set_style(e,"background-color",h[8])},i(h){l||(add_render_callback(()=>{o&&o.end(1),r=create_in_transition(e,fly,{x:10,duration:400}),r.start()}),l=!0)},o(h){r&&r.invalidate(),o=create_out_transition(e,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(e),h&&o&&o.end()}}}function create_if_block$c(t){let e;return{c(){e=element("div"),e.innerHTML='<lottie-player src="https://assets3.lottiefiles.com/packages/lf20_gn1xm5dh.json" background="transparent" speed="1" style="height:150px; max-width:200px; margin:auto;" autoplay=""></lottie-player>',set_style(e,"min-height","100px"),set_style(e,"margin","auto")},m(r,o){insert(r,e,o)},d(r){r&&detach(e)}}}function create_fragment$j(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W=[],G=new Map,Y,K,X,J,Q=t[1];const Z=ie=>ie[48];for(let ie=0;ie<Q.length;ie+=1){let re=get_each_context_2$1(t,Q,ie),te=Z(re);G.set(te,W[ie]=create_each_block_2$1(te,re))}let ee=t[3]&&!t[4]&&create_if_block_1$9(t),ne=t[4]&&create_if_block$c();return{c(){e=element("div"),r=element("div"),o=element("div"),l=element("div"),h=element("img"),D=space(),O=element("div"),F=text(t[2]),R=text("%"),B=space(),j=element("div"),U=element("div"),q=element("div");for(let ie=0;ie<W.length;ie+=1)W[ie].c();Y=space(),K=element("div"),ee&&ee.c(),X=space(),ne&&ne.c(),src_url_equal(h.src,y=t[0].logo!=null&&t[0].logo.toString().includes("https")?t[0].logo:"/assets/favicon.ico")||attr(h,"src",y),set_style(h,"height","30px"),attr(h,"alt","logo r\xE9tine"),attr(l,"class","p-3"),set_style(l,"font-family","Lexend"),set_style(l,"font-size","1.2rem"),set_style(l,"font-weight","600"),attr(O,"id","pourcentageAdv"),attr(O,"class","svelte-w49pdy"),attr(o,"class","w-100 d-flex align-items-center justify-content-between"),set_style(o,"background-color","transparent"),attr(q,"id","messageFeed"),attr(q,"class","h-100 p-2 d-flex flex-column justify-content-start"),set_style(U,"background-color","transparent"),attr(K,"class","w-100"),set_style(K,"min-height","100px"),attr(j,"class","h-100 d-flex flex-column justify-content-between scrollbehavior svelte-w49pdy"),set_style(j,"overflow-y","scroll"),set_style(j,"scroll-behavior","smooth"),attr(r,"class","h-100 w-100 d-flex flex-column justify-content-between m-auto"),attr(e,"class","d-flex align-content-center flex-column h-100 w-100"),set_style(e,"height","-webkit-fill-available")},m(ie,re){insert(ie,e,re),append(e,r),append(r,o),append(o,l),append(l,h),append(o,D),append(o,O),append(O,F),append(O,R),append(r,B),append(r,j),append(j,U),append(U,q);for(let te=0;te<W.length;te+=1)W[te].m(q,null);append(j,Y),append(j,K),ee&&ee.m(K,null),append(K,X),ne&&ne.m(K,null),t[32](j),J=!0},p(ie,re){(!J||re[0]&1&&!src_url_equal(h.src,y=ie[0].logo!=null&&ie[0].logo.toString().includes("https")?ie[0].logo:"/assets/favicon.ico"))&&attr(h,"src",y),(!J||re[0]&4)&&set_data(F,ie[2]),re[0]&258&&(Q=ie[1],W=update_keyed_each(W,re,Z,1,ie,Q,G,q,destroy_block,create_each_block_2$1,null,get_each_context_2$1)),ie[3]&&!ie[4]?ee?(ee.p(ie,re),re[0]&24&&transition_in(ee,1)):(ee=create_if_block_1$9(ie),ee.c(),transition_in(ee,1),ee.m(K,X)):ee&&(group_outros(),transition_out(ee,1,1,()=>{ee=null}),check_outros()),ie[4]?ne||(ne=create_if_block$c(),ne.c(),ne.m(K,null)):ne&&(ne.d(1),ne=null)},i(ie){if(!J){for(let re=0;re<Q.length;re+=1)transition_in(W[re]);transition_in(ee),J=!0}},o(ie){transition_out(ee),J=!1},d(ie){ie&&detach(e);for(let re=0;re<W.length;re+=1)W[re].d();ee&&ee.d(),ne&&ne.d(),t[32](null)}}}const keypress_handler=t=>{t.key==";"&&t.preventDefault()};function instance$h(t,e,r){let{chatContent:o}=e,{scode:l=["demo"]}=e,h=[],y=0,D=[],O=!1,F=!1,R,B="",j="",U,q=0;const W=()=>q++;let G;onMount(()=>{G=setInterval(W,1e3)});const Y=()=>{const be=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(be)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(be)?"mobile":"desktop"};let K;function X(){setTimeout(()=>{r(9,K.scrollTop=K.scrollHeight,K)},400)}function J(be){r(6,B=""),r(7,j=""),r(5,R=o.jsonContent[be]),r(1,h=[...h,[R.q,"question"]]),r(3,O=!0),X()}J(0);function Q(be,Pe){r(3,O=!1);let ve=be;Pe.a.type=="num"&&(ve=be.toString()+Pe.a.a[2]),r(1,h=[...h,[ve,"reponse"]]);let Te=Math.round((parseInt(o.jsonContent.indexOf(Pe))+1)/(o.jsonContent.length-1)*100);ie(y,Te),D.push({n:Pe.idr,t:Pe.a.type,a:be});let Ie=o.jsonContent.indexOf(Pe)+1;setTimeout(()=>{o.jsonContent[Ie].idr=="end"&&(r(4,F=!0),Z()),J(Ie),K.scrollTo(0,K.scrollHeight)},500)}async function Z(){if(clearInterval(G),l[0]!="demo"){var be=JSON.stringify({client_info:Y(),ans_time:q,jsonContent:JSON.stringify(D),follow:l.length<=2?"no":l[2]}),Pe=new Headers;return Pe.append("Content-Type","application/json"),fetch(`${rtnUrl}rep/${l[1]}/`,{method:"POST",headers:Pe,body:be,redirect:"follow"}).then(ve=>ve.text()).then(ve=>{console.log(ve),setTimeout(()=>{r(4,F=!0),X()},100)}).catch(ve=>{throw new Error(ve)})}r(4,F=!0),X()}const ee=Math.round(2e3/17),ne=be=>be*(2-be),ie=(be,Pe)=>{let ve=be;const Te=Pe,Ie=setInterval(()=>{ve++;const Fe=ne(ve/ee),Me=Math.round(Te*Fe);Pe+1!==Me&&Me>be&&r(2,y=Me),ve===ee&&clearInterval(Ie)},17)},re=be=>{Q(be,R)};function te(){B=this.value,r(6,B)}const se=()=>{B!=""&&Q(B,R)},ce=(be,Pe)=>{B.split(" ; ").includes(be)?(document.getElementById("choix"+Pe.toString()).style.border="0px solid transparent",r(6,B=B.replace(be+" ; ",""))):(document.getElementById("choix"+Pe.toString()).style.border=`3px solid ${U}`,r(6,B+=be+" ; "))};function de(){j=this.value,r(7,j)}const ue=be=>{j!=""?document.getElementById("optChoiceInput").style.border=`3px solid ${U}`:document.getElementById("optChoiceInput").style.border="0px solid transparent"},he=be=>{j!=""&&r(6,B+=j+" ; "),B!=""&&Q(B.slice(0,B.length-3),R)};function oe(){B=to_number(this.value),r(6,B)}function ae(){B=to_number(this.value),r(6,B)}const le=()=>{B.toString()!=""&&B>=R.a.a[0]&&B<=R.a.a[1]&&Q(B.toString(),R)},fe=be=>{be.key==="Enter"&&(B!=""?Q(B,R):be.preventDefault())};function we(){B=this.value,r(6,B)}const me=()=>{B!=""&&Q(B,R)},ge=be=>{r(6,B=be.target.value)},Se=()=>{B!=""&&Q(B,R)},ke=()=>Q("\u2B50\u2B50\u2B50\u2B50\u2B50",R),_e=()=>Q("\u2B50\u2B50\u2B50\u2B50",R),xe=()=>Q("\u2B50\u2B50\u2B50",R),Ce=()=>Q("\u2B50\u2B50",R),pe=()=>Q("\u2B50",R);function ye(be){binding_callbacks[be?"unshift":"push"](()=>{K=be,r(9,K)})}return t.$$set=be=>{"chatContent"in be&&r(0,o=be.chatContent),"scode"in be&&r(11,l=be.scode)},t.$$.update=()=>{t.$$.dirty[0]&1&&r(8,U=o.color==null?"#6219D8":o.color)},[o,h,y,O,F,R,B,j,U,K,Q,l,re,te,se,ce,de,ue,he,oe,ae,le,fe,we,me,ge,Se,ke,_e,xe,Ce,pe,ye]}class Chat extends SvelteComponent{constructor(e){super(),init(this,e,instance$h,create_fragment$j,safe_not_equal,{chatContent:0,scode:11},null,[-1,-1])}}var modalTemplateLoad_svelte_svelte_type_style_lang="";function get_each_context$5(t,e,r){const o=t.slice();return o[14]=e[r],o[16]=r,o}function get_each_context_1$3(t,e,r){const o=t.slice();return o[17]=e[r],o[19]=r,o}function create_catch_block$7(t){let e,r=t[20]+"",o;return{c(){e=element("div"),o=text(r)},m(l,h){insert(l,e,h),append(e,o)},p(l,h){h&1&&r!==(r=l[20]+"")&&set_data(o,r)},i:noop$2,o:noop$2,d(l){l&&detach(e)}}}function create_then_block$7(t){let e,r=[...new Set(t[13].map(func$3))],o=[];for(let l=0;l<r.length;l+=1)o[l]=create_each_block$5(get_each_context$5(t,r,l));return{c(){e=element("div");for(let l=0;l<o.length;l+=1)o[l].c();attr(e,"class","templateZone svelte-1hnhtfw")},m(l,h){insert(l,e,h);for(let y=0;y<o.length;y+=1)o[y].m(e,null)},p(l,h){if(h&5){r=[...new Set(l[13].map(func$3))];let y;for(y=0;y<r.length;y+=1){const D=get_each_context$5(l,r,y);o[y]?(o[y].p(D,h),transition_in(o[y],1)):(o[y]=create_each_block$5(D),o[y].c(),transition_in(o[y],1),o[y].m(e,null))}for(;y<o.length;y+=1)o[y].d(1);o.length=r.length}},i(l){for(let h=0;h<r.length;h+=1)transition_in(o[h])},o:noop$2,d(l){l&&detach(e),destroy_each(o,l)}}}function create_if_block$b(t){let e,r,o=t[14]+"",l;return{c(){e=element("div"),r=element("h5"),l=text(o),attr(e,"class","mb-1 mt-2 border-bottom")},m(h,y){insert(h,e,y),append(e,r),append(r,l)},p(h,y){y&1&&o!==(o=h[14]+"")&&set_data(l,o)},d(h){h&&detach(e)}}}function create_each_block_1$3(t){let e,r,o,l=t[17].nom_proj+"",h,y,D,O,F;function R(){return t[8](t[17])}return{c(){e=element("div"),r=element("div"),o=text("\u27A1\uFE0F "),h=text(l),y=space(),attr(r,"class","templateBtn svelte-1hnhtfw")},m(B,j){insert(B,e,j),append(e,r),append(r,o),append(r,h),append(e,y),O||(F=listen(r,"click",R),O=!0)},p(B,j){t=B,j&1&&l!==(l=t[17].nom_proj+"")&&set_data(h,l)},i(B){D||add_render_callback(()=>{D=create_in_transition(e,fly,{x:-20,delay:t[19]*100}),D.start()})},o:noop$2,d(B){B&&detach(e),O=!1,F()}}}function create_each_block$5(t){let e,r,o=t[14]!=null&&create_if_block$b(t);function l(...D){return t[7](t[14],...D)}let h=t[13].filter(l),y=[];for(let D=0;D<h.length;D+=1)y[D]=create_each_block_1$3(get_each_context_1$3(t,h,D));return{c(){o&&o.c(),e=space();for(let D=0;D<y.length;D+=1)y[D].c();r=empty()},m(D,O){o&&o.m(D,O),insert(D,e,O);for(let F=0;F<y.length;F+=1)y[F].m(D,O);insert(D,r,O)},p(D,O){if(t=D,t[14]!=null?o?o.p(t,O):(o=create_if_block$b(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),O&5){h=t[13].filter(l);let F;for(F=0;F<h.length;F+=1){const R=get_each_context_1$3(t,h,F);y[F]?(y[F].p(R,O),transition_in(y[F],1)):(y[F]=create_each_block_1$3(R),y[F].c(),transition_in(y[F],1),y[F].m(r.parentNode,r))}for(;F<y.length;F+=1)y[F].d(1);y.length=h.length}},i(D){for(let O=0;O<h.length;O+=1)transition_in(y[O])},o:noop$2,d(D){o&&o.d(D),D&&detach(e),destroy_each(y,D),D&&detach(r)}}}function create_pending_block$7(t){let e;return{c(){e=element("div"),e.textContent="Chargement des mod\xE8les...",attr(e,"class","d-flex justify-content-center align-items-center"),set_style(e,"min-height","400px")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_fragment$i(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block$7,then:create_then_block$7,catch:create_catch_block$7,value:13,error:20};return handle_promise(q=t[0],Z),{c(){e=element("div"),r=element("div"),o=element("h2"),o.textContent="\u{1F4DA} Mod\xE8les de sondage",l=space(),h=element("div"),y=element("div"),y.textContent="Mes sondages",D=space(),O=element("div"),O.textContent="Mod\xE8les",F=space(),R=element("div"),B=element("div"),B.innerHTML=`<div class="lightbulb svelte-1hnhtfw">\u{1F4A1}</div> 
        <div>Cliquer sur un de vos sondages ci-dessous g\xE9n\xE8re une <u>copie</u> de celui-ci.</div>`,U=space(),Z.block.c(),W=space(),G=element("div"),Y=element("button"),Y.textContent="Close",attr(o,"class","mb-4 svelte-1hnhtfw"),attr(y,"id","sondagesBtn"),attr(y,"class","headerBtn active svelte-1hnhtfw"),attr(O,"id","modelsBtn"),attr(O,"class","headerBtn svelte-1hnhtfw"),attr(h,"class","headerBtns svelte-1hnhtfw"),attr(B,"class","infoTile svelte-1hnhtfw"),attr(R,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 my-2"),attr(Y,"class","svelte-1hnhtfw"),attr(G,"class","actions svelte-1hnhtfw"),attr(r,"class","contents svelte-1hnhtfw"),attr(e,"role","dialog"),attr(e,"class","modal svelte-1hnhtfw")},m(ee,ne){insert(ee,e,ne),append(e,r),append(r,o),append(r,l),append(r,h),append(h,y),append(h,D),append(h,O),append(r,F),append(r,R),append(R,B),append(r,U),Z.block.m(r,Z.anchor=null),Z.mount=()=>r,Z.anchor=W,append(r,W),append(r,G),append(G,Y),X=!0,J||(Q=[listen(y,"click",t[1]),listen(O,"click",t[1]),listen(Y,"click",closeModal),listen(e,"introstart",t[5]),listen(e,"outroend",t[6])],J=!0)},p(ee,[ne]){t=ee,Z.ctx=t,ne&1&&q!==(q=t[0])&&handle_promise(q,Z)||update_await_block_branch(Z,t,ne)},i(ee){X||(j||add_render_callback(()=>{j=create_in_transition(B,fly,{y:30,delay:400}),j.start()}),transition_in(Z.block),add_render_callback(()=>{K||(K=create_bidirectional_transition(e,fly,{y:50},!0)),K.run(1)}),X=!0)},o(ee){K||(K=create_bidirectional_transition(e,fly,{y:50},!1)),K.run(0),X=!1},d(ee){ee&&detach(e),Z.block.d(),Z.token=null,Z=null,ee&&K&&K.end(),J=!1,run_all(Q)}}}const func$3=t=>t.category;function instance$g(t,e,r){let{sondageEnCreation:o}=e,{updateFun:l}=e,h=!1,y;async function D(){var G=new Headers;G.append("Authorization","Token "+xxgc("rtnt")),G.append("Content-Type","application/json");var Y={method:"GET",headers:G,redirect:"follow"};return fetch(rtnUrl+"templates/",Y).then(K=>K.text()).then(K=>JSON.parse(K)).catch(K=>K)}async function O(){var G=new Headers;G.append("Authorization","Token "+xxgc("rtnt")),G.append("Content-Type","application/json");var Y={method:"GET",headers:G,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",Y).then(K=>K.text()).then(K=>JSON.parse(K)).catch(K=>K)}let F=O();F.then(G=>{y=G});function R(G){G.target.classList.contains("active")||(document.querySelectorAll(".headerBtn").forEach(function(Y){Y.classList.remove("active")}),G.target.classList.add("active"),G.target.id=="modelsBtn"?(r(0,F=D()),h=!0):G.target.id=="sondagesBtn"&&(r(0,F=O()),F.then(Y=>{y=Y}),h=!1))}const B=async G=>{if(h){async function Y(){var X=new Headers;return X.append("Authorization","Token "+xxgc("rtnt")),X.append("Content-Type","application/json"),fetch(`${rtnUrl}templates/${G}/`,{method:"GET",headers:X,redirect:"follow"}).then(J=>J.text()).then(J=>JSON.parse(J)).catch(J=>J)}let K=await Y();K.jsonContent=JSON.parse(K.jsonContent),r(3,o=K)}else{let Y=y.find(K=>K.id==G);console.log(Y),Y.jsonContent=JSON.parse(Y.jsonContent),r(3,o=Y)}closeModal(),l()};function j(G){bubble.call(this,t,G)}function U(G){bubble.call(this,t,G)}const q=(G,Y)=>Y.category==G,W=G=>B(G.id);return t.$$set=G=>{"sondageEnCreation"in G&&r(3,o=G.sondageEnCreation),"updateFun"in G&&r(4,l=G.updateFun)},[F,R,B,o,l,j,U,q,W]}class ModalTemplateLoad extends SvelteComponent{constructor(e){super(),init(this,e,instance$g,create_fragment$i,safe_not_equal,{sondageEnCreation:3,updateFun:4})}}var modalDesignSond_svelte_svelte_type_style_lang="";function create_if_block$a(t){let e,r,o;return{c(){e=element("div"),e.textContent="\u274C",attr(e,"class","delImg svelte-1sl0u45")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[2]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_fragment$h(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te=t[0].logo!=""&&create_if_block$a(t);return{c(){e=element("div"),r=element("div"),o=element("h4"),o.textContent="\u{1F3A8} Design du sondage",l=space(),h=element("div"),y=element("div"),D=element("div"),D.textContent="Couleur primaire :",O=space(),F=element("input"),R=space(),B=element("div"),j=element("div"),j.textContent="Logo du sondage :",U=space(),q=element("div"),W=element("label"),G=element("div"),Y=space(),te&&te.c(),K=space(),X=element("input"),J=space(),Q=element("div"),Z=element("button"),Z.textContent="Fermer",attr(o,"class","mb-4 text-center"),attr(D,"class","mr-3"),attr(F,"class","colorIO svelte-1sl0u45"),attr(F,"type","color"),attr(y,"class","designcomp p-3 m-2 d-flex align-items-center justify-content-around svelte-1sl0u45"),attr(j,"class","mr-3"),attr(G,"class","imgLoader svelte-1sl0u45"),set_style(G,"background-image","url("+(t[0].logo==""?"assets/icons/placeholder.png":t[0].logo)+")"),attr(W,"class","m-0"),attr(W,"for","logosond"),set_style(X,"display","none"),attr(X,"id","logosond"),attr(X,"type","file"),attr(X,"enctype","multipart/form-data"),attr(B,"class","designcomp p-3 m-2 d-flex align-items-center justify-content-around svelte-1sl0u45"),attr(h,"class","container py-2 px-3 text-center"),attr(Z,"class","svelte-1sl0u45"),attr(Q,"class","actions svelte-1sl0u45"),attr(r,"class","contents svelte-1sl0u45"),attr(e,"role","dialog"),attr(e,"class","modal svelte-1sl0u45")},m(se,ce){insert(se,e,ce),append(e,r),append(r,o),append(r,l),append(r,h),append(h,y),append(y,D),append(y,O),append(y,F),set_input_value(F,t[0].color),append(h,R),append(h,B),append(B,j),append(B,U),append(B,q),append(q,W),append(W,G),append(q,Y),te&&te.m(q,null),append(q,K),append(q,X),append(r,J),append(r,Q),append(Q,Z),ne=!0,ie||(re=[listen(F,"input",t[6]),listen(X,"change",t[1]),listen(Z,"click",closeModal),listen(e,"introstart",t[4]),listen(e,"outroend",t[5])],ie=!0)},p(se,[ce]){ce&1&&set_input_value(F,se[0].color),(!ne||ce&1)&&set_style(G,"background-image","url("+(se[0].logo==""?"assets/icons/placeholder.png":se[0].logo)+")"),se[0].logo!=""?te?te.p(se,ce):(te=create_if_block$a(se),te.c(),te.m(q,K)):te&&(te.d(1),te=null)},i(se){ne||(add_render_callback(()=>{ee||(ee=create_bidirectional_transition(e,fly,{y:50},!0)),ee.run(1)}),ne=!0)},o(se){ee||(ee=create_bidirectional_transition(e,fly,{y:50},!1)),ee.run(0),ne=!1},d(se){se&&detach(e),te&&te.d(),se&&ee&&ee.end(),ie=!1,run_all(re)}}}function instance$f(t,e,r){let{sondageEnCreation:o}=e,{updateFun:l}=e;const h=R=>{if(R.target.files[0].size>1048576){alert("Fichier trop volumineux! Veuillez s\xE9l\xE9ctionner une image de moins de 1Mo."),R.target.value="";return}r(0,o.logo=R.target.files[0],o),l()},y=()=>{r(0,o.logo="",o),l()};function D(R){bubble.call(this,t,R)}function O(R){bubble.call(this,t,R)}function F(){o.color=this.value,r(0,o)}return t.$$set=R=>{"sondageEnCreation"in R&&r(0,o=R.sondageEnCreation),"updateFun"in R&&r(3,l=R.updateFun)},[o,h,y,l,D,O,F]}class ModalDesignSond extends SvelteComponent{constructor(e){super(),init(this,e,instance$f,create_fragment$h,safe_not_equal,{sondageEnCreation:0,updateFun:3})}}function flip(t,{from:e,to:r},o={}){const l=getComputedStyle(t),h=l.transform==="none"?"":l.transform,[y,D]=l.transformOrigin.split(" ").map(parseFloat),O=e.left+e.width*y/r.width-(r.left+y),F=e.top+e.height*D/r.height-(r.top+D),{delay:R=0,duration:B=U=>Math.sqrt(U)*120,easing:j=cubicOut}=o;return{delay:R,duration:is_function(B)?B(Math.sqrt(O*O+F*F)):B,easing:j,css:(U,q)=>{const W=q*O,G=q*F,Y=U+q*e.width/r.width,K=U+q*e.height/r.height;return`transform: ${h} translate(${W}px, ${G}px) scale(${Y}, ${K});`}}}var shortUniqueId={exports:{}};(function(t){var e=(()=>{var r=Object.defineProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,y=(G,Y,K)=>Y in G?r(G,Y,{enumerable:!0,configurable:!0,writable:!0,value:K}):G[Y]=K,D=(G,Y)=>{for(var K in Y||(Y={}))l.call(Y,K)&&y(G,K,Y[K]);if(o)for(var K of o(Y))h.call(Y,K)&&y(G,K,Y[K]);return G},O=G=>r(G,"__esModule",{value:!0}),F=(G,Y)=>{O(G);for(var K in Y)r(G,K,{get:Y[K],enumerable:!0})},R={};F(R,{DEFAULT_UUID_LENGTH:()=>j,default:()=>W});var B="4.4.4",j=6,U={dictionary:"alphanum",shuffle:!0,debug:!1,length:j},q=class extends Function{constructor(G={}){super(),this.dictIndex=0,this.dictRange=[],this.lowerBound=0,this.upperBound=0,this.dictLength=0,this._digit_first_ascii=48,this._digit_last_ascii=58,this._alpha_lower_first_ascii=97,this._alpha_lower_last_ascii=123,this._hex_last_ascii=103,this._alpha_upper_first_ascii=65,this._alpha_upper_last_ascii=91,this._number_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii]},this._alpha_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alpha_lower_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alpha_upper_dict_ranges={upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_lower_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alphanum_upper_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._hex_dict_ranges={decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]},this.log=(...Q)=>{const Z=[...Q];if(Z[0]=`[short-unique-id] ${Q[0]}`,this.debug===!0&&typeof console!="undefined"&&console!==null)return console.log(...Z)},this.setDictionary=(Q,Z)=>{let ee;if(Q&&Array.isArray(Q)&&Q.length>1)ee=Q;else{ee=[];let ne;this.dictIndex=ne=0;const ie=`_${Q}_dict_ranges`,re=this[ie];Object.keys(re).forEach(te=>{const se=te;for(this.dictRange=re[se],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=ne=this.lowerBound;this.lowerBound<=this.upperBound?ne<this.upperBound:ne>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?ne+=1:ne-=1)ee.push(String.fromCharCode(this.dictIndex))})}Z&&(ee=ee.sort(()=>Math.random()-.5)),this.dict=ee,this.dictLength=this.dict.length,this.counter=0},this.seq=()=>this.sequentialUUID(),this.sequentialUUID=()=>{let Q,Z,ee="";Q=this.counter;do Z=Q%this.dictLength,Q=Math.trunc(Q/this.dictLength),ee+=this.dict[Z];while(Q!==0);return this.counter+=1,ee},this.randomUUID=(Q=this.uuidLength||j)=>{let Z,ee,ne;if(Q===null||typeof Q=="undefined"||Q<1)throw new Error("Invalid UUID Length Provided");for(Z="",ne=0;ne<Q;ne+=1)ee=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,Z+=this.dict[ee];return Z},this.availableUUIDs=(Q=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,Q).toFixed(0)),this.approxMaxBeforeCollision=(Q=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*Q).toFixed(20)),this.collisionProbability=(Q=this.availableUUIDs(this.uuidLength),Z=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(Q)/this.availableUUIDs(Z)).toFixed(20)),this.uniqueness=(Q=this.availableUUIDs(this.uuidLength))=>{const Z=parseFloat((1-this.approxMaxBeforeCollision(Q)/Q).toFixed(20));return Z>1?1:Z<0?0:Z},this.getVersion=()=>this.version,this.stamp=Q=>{if(typeof Q!="number"||Q<10)throw new Error("Param finalLength must be number greater than 10");const Z=Math.floor(+new Date/1e3).toString(16),ee=Q-9,ne=Math.round(Math.random()*(ee>15?15:ee)),ie=this.randomUUID(ee);return`${ie.substr(0,ne)}${Z}${ie.substr(ne)}${ne.toString(16)}`},this.parseStamp=Q=>{if(Q.length<10)throw new Error("Stamp length invalid");const Z=parseInt(Q.substr(Q.length-1,1),16);return new Date(parseInt(Q.substr(Z,8),16)*1e3)};const Y=D(D({},U),G);this.counter=0,this.debug=!1,this.dict=[],this.version=B;const{dictionary:K,shuffle:X,length:J}=Y;return this.uuidLength=J,this.setDictionary(K,X),this.debug=Y.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength}`),new Proxy(this,{apply:(Q,Z,ee)=>this.randomUUID(...ee)})}},W=q;return W.default=q,R})();t.exports=e.default,typeof window!="undefined"&&(e=e.default)})(shortUniqueId);var ShortUniqueId=getDefaultExportFromCjs(shortUniqueId.exports),modalCellEdit_svelte_svelte_type_style_lang="";function get_each_context$4(t,e,r){const o=t.slice();return o[32]=e[r],o}function create_if_block_8(t){let e,r,o,l,h,y,D,O,F,R,B;return{c(){e=element("div"),r=element("select"),o=element("option"),o.textContent="Choisir un type de r\xE9ponse",l=element("option"),l.textContent="Choix Unique",h=element("option"),h.textContent="Choix Multiple",y=element("option"),y.textContent="Champs libre",D=element("option"),D.textContent="Num\xE9ro",O=element("option"),O.textContent="Date & heure",F=element("option"),F.textContent="Notation",o.__value="",o.value=o.__value,o.selected=!0,o.disabled=!0,l.__value="1c",l.value=l.__value,h.__value="mc",h.value=h.__value,y.__value="cl",y.value=y.__value,D.__value="num",D.value=D.__value,O.__value="cal",O.value=O.__value,F.__value="5s",F.value=F.__value,attr(r,"class","fieldQ svelte-1yay8md"),attr(r,"name","qtype"),attr(r,"id","qtypefield"),r.disabled=t[5],t[0].a.type===void 0&&add_render_callback(()=>t[17].call(r))},m(j,U){insert(j,e,U),append(e,r),append(r,o),append(r,l),append(r,h),append(r,y),append(r,D),append(r,O),append(r,F),select_option(r,t[0].a.type),R||(B=[listen(r,"change",t[17]),listen(r,"change",t[18])],R=!0)},p(j,U){U[0]&1&&select_option(r,j[0].a.type)},d(j){j&&detach(e),R=!1,run_all(B)}}}function create_if_block_2$7(t){let e,r,o,l,h;const y=[create_if_block_3$5,create_if_block_4$5,create_if_block_5$3,create_if_block_6$1,create_if_block_7$1,create_else_block$7],D=[];function O(F,R){return F[0].a.type=="1c"||F[0].a.type=="mc"?0:F[0].a.type=="cl"?1:F[0].a.type=="num"?2:F[0].a.type=="cal"?3:F[0].a.type=="5s"?4:5}return r=O(t),o=D[r]=y[r](t),{c(){e=element("div"),o.c(),attr(e,"id","ansWriteZone"),attr(e,"class","pt-2 svelte-1yay8md")},m(F,R){insert(F,e,R),D[r].m(e,null),h=!0},p(F,R){let B=r;r=O(F),r===B?D[r].p(F,R):(group_outros(),transition_out(D[B],1,1,()=>{D[B]=null}),check_outros(),o=D[r],o?o.p(F,R):(o=D[r]=y[r](F),o.c()),transition_in(o,1),o.m(e,null))},i(F){h||(transition_in(o),l||add_render_callback(()=>{l=create_in_transition(e,fly,{y:20}),l.start()}),h=!0)},o(F){transition_out(o),h=!1},d(F){F&&detach(e),D[r].d()}}}function create_else_block$7(t){let e;return{c(){e=text("Error")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_if_block_7$1(t){let e,r,o,l,h,y;return{c(){e=element("span"),o=space(),l=element("div"),l.textContent="\u2B50 L'utilisateur pourra donner une note de 1 \xE0 5 \xE9toiles."},m(D,O){insert(D,e,O),insert(D,o,O),insert(D,l,O),h||(y=action_destroyer(r=t[7].call(null,e,t[0].a.type)),h=!0)},p(D,O){r&&is_function(r.update)&&O[0]&1&&r.update.call(null,D[0].a.type)},i:noop$2,o:noop$2,d(D){D&&detach(e),D&&detach(o),D&&detach(l),h=!1,y()}}}function create_if_block_6$1(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q;return{c(){e=element("span"),o=space(),l=element("div"),l.textContent="L'utilisateur devra saisir :",h=space(),y=element("input"),D=space(),O=element("label"),O.textContent="une date (format JJ/MM/AAAA)",F=element("br"),R=element("input"),B=space(),j=element("label"),j.textContent="une heure (format HH:MM)",attr(l,"class","my-2"),attr(y,"type","checkbox"),attr(y,"id","datee"),attr(O,"for","datee"),attr(R,"type","checkbox"),attr(R,"id","heuree"),attr(j,"for","heuree")},m(W,G){insert(W,e,G),insert(W,o,G),insert(W,l,G),insert(W,h,G),insert(W,y,G),y.checked=t[0].a.a[0],insert(W,D,G),insert(W,O,G),insert(W,F,G),insert(W,R,G),R.checked=t[0].a.a[1],insert(W,B,G),insert(W,j,G),U||(q=[action_destroyer(r=t[7].call(null,e,t[0].a.type)),listen(y,"change",t[27]),listen(R,"change",t[28])],U=!0)},p(W,G){r&&is_function(r.update)&&G[0]&1&&r.update.call(null,W[0].a.type),G[0]&1&&(y.checked=W[0].a.a[0]),G[0]&1&&(R.checked=W[0].a.a[1])},i:noop$2,o:noop$2,d(W){W&&detach(e),W&&detach(o),W&&detach(l),W&&detach(h),W&&detach(y),W&&detach(D),W&&detach(O),W&&detach(F),W&&detach(R),W&&detach(B),W&&detach(j),U=!1,run_all(q)}}}function create_if_block_5$3(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K;return{c(){e=element("span"),o=space(),l=element("label"),l.textContent="Minimum ",h=element("input"),y=element("br"),D=element("label"),D.textContent=`Maximum\r
            `,O=element("input"),F=element("br"),R=element("label"),R.textContent=`Unit\xE9e\r
            `,B=element("input"),j=element("datalist"),U=element("option"),q=element("option"),W=element("option"),G=element("option"),attr(l,"for","nbMin"),attr(h,"class","fieldQlilnum svelte-1yay8md"),attr(h,"type","number"),attr(h,"id","nbMin"),attr(h,"name","nbMin"),attr(D,"for","nbMax"),attr(O,"class","fieldQlilnum svelte-1yay8md"),attr(O,"type","number"),attr(O,"id","nbMax"),attr(O,"name","nbMax"),attr(R,"for","unitee"),attr(B,"class","fieldQlilnum svelte-1yay8md"),attr(B,"list","unitees"),attr(B,"id","uniteeChoice"),attr(B,"name","choixUnitee"),attr(B,"maxlength","6"),U.__value="$",U.value=U.__value,q.__value="\u20AC",q.value=q.__value,W.__value="kg",W.value=W.__value,G.__value="g",G.value=G.__value,attr(j,"id","unitees")},m(X,J){insert(X,e,J),insert(X,o,J),insert(X,l,J),insert(X,h,J),set_input_value(h,t[0].a.a[0]),insert(X,y,J),insert(X,D,J),insert(X,O,J),set_input_value(O,t[0].a.a[1]),insert(X,F,J),insert(X,R,J),insert(X,B,J),set_input_value(B,t[0].a.a[2]),insert(X,j,J),append(j,U),append(j,q),append(j,W),append(j,G),Y||(K=[action_destroyer(r=t[7].call(null,e,t[0].a.type)),listen(h,"input",t[24]),listen(O,"input",t[25]),listen(B,"input",t[26])],Y=!0)},p(X,J){r&&is_function(r.update)&&J[0]&1&&r.update.call(null,X[0].a.type),J[0]&1&&to_number(h.value)!==X[0].a.a[0]&&set_input_value(h,X[0].a.a[0]),J[0]&1&&to_number(O.value)!==X[0].a.a[1]&&set_input_value(O,X[0].a.a[1]),J[0]&1&&B.value!==X[0].a.a[2]&&set_input_value(B,X[0].a.a[2])},i:noop$2,o:noop$2,d(X){X&&detach(e),X&&detach(o),X&&detach(l),X&&detach(h),X&&detach(y),X&&detach(D),X&&detach(O),X&&detach(F),X&&detach(R),X&&detach(B),X&&detach(j),Y=!1,run_all(K)}}}function create_if_block_4$5(t){let e,r,o,l,h,y,D,O,F,R,B;return{c(){e=element("span"),o=space(),l=element("div"),h=element("label"),h.textContent="Limite de caract\xE8res",y=space(),D=element("input"),O=space(),F=element("div"),F.innerHTML=`<p style="text-align: left; font-size:.9rem" class="svelte-1yay8md">\u{1F4A1} Une IA analysera automatiquement le sentiment d\xE9gag\xE9 par chacune des r\xE9ponses pour \xE9tablir des statistiques visibles sur votre dashboard des
                r\xE9sultats.</p>`,attr(h,"for","nbCaracLimit"),attr(D,"class","fieldQlilnum svelte-1yay8md"),attr(D,"type","number"),attr(D,"id","nbCaracLimit"),attr(D,"name","nbCaracLimit"),attr(D,"min","1"),attr(D,"max","140")},m(j,U){insert(j,e,U),insert(j,o,U),insert(j,l,U),append(l,h),append(l,y),append(l,D),set_input_value(D,t[0].a.a[0]),insert(j,O,U),insert(j,F,U),R||(B=[action_destroyer(r=t[7].call(null,e,t[0].a.type)),listen(D,"input",t[23])],R=!0)},p(j,U){r&&is_function(r.update)&&U[0]&1&&r.update.call(null,j[0].a.type),U[0]&1&&to_number(D.value)!==j[0].a.a[0]&&set_input_value(D,j[0].a.a[0])},i:noop$2,o:noop$2,d(j){j&&detach(e),j&&detach(o),j&&detach(l),j&&detach(O),j&&detach(F),R=!1,run_all(B)}}}function create_if_block_3$5(t){let e,r,o,l,h=[],y=new Map,D,O,F,R,B,j,U,q,W=t[0].a.a;const G=Y=>Y[32];for(let Y=0;Y<W.length;Y+=1){let K=get_each_context$4(t,W,Y),X=G(K);y.set(X,h[Y]=create_each_block$4(X,K))}return{c(){e=element("input"),r=space(),o=element("span"),o.textContent="\u2795",l=space();for(let Y=0;Y<h.length;Y+=1)h[Y].c();D=space(),O=element("div"),F=element("input"),R=space(),B=element("label"),B.textContent='Ajouter une case "autre"',attr(e,"class","fieldQlil svelte-1yay8md"),attr(e,"type","text"),attr(e,"placeholder","Choix..."),attr(e,"maxlength","30"),attr(o,"class","miniBtn svelte-1yay8md"),attr(F,"class","mr-2"),attr(F,"type","checkbox"),attr(F,"id","checkCaseAutre"),attr(B,"for","checkCaseAutre"),attr(O,"class","my-1 p-1")},m(Y,K){insert(Y,e,K),set_input_value(e,t[2]),insert(Y,r,K),insert(Y,o,K),insert(Y,l,K);for(let X=0;X<h.length;X+=1)h[X].m(Y,K);insert(Y,D,K),insert(Y,O,K),append(O,F),F.checked=t[0].a.o,append(O,R),append(O,B),j=!0,U||(q=[listen(e,"input",t[19]),listen(e,"keydown",t[20]),listen(o,"click",t[9]),listen(F,"change",t[22])],U=!0)},p(Y,K){if(K[0]&4&&e.value!==Y[2]&&set_input_value(e,Y[2]),K[0]&1){W=Y[0].a.a,group_outros();for(let X=0;X<h.length;X+=1)h[X].r();h=update_keyed_each(h,K,G,1,Y,W,y,D.parentNode,fix_and_outro_and_destroy_block,create_each_block$4,D,get_each_context$4);for(let X=0;X<h.length;X+=1)h[X].a();check_outros()}K[0]&1&&(F.checked=Y[0].a.o)},i(Y){if(!j){for(let K=0;K<W.length;K+=1)transition_in(h[K]);j=!0}},o(Y){for(let K=0;K<h.length;K+=1)transition_out(h[K]);j=!1},d(Y){Y&&detach(e),Y&&detach(r),Y&&detach(o),Y&&detach(l);for(let K=0;K<h.length;K+=1)h[K].d(Y);Y&&detach(D),Y&&detach(O),U=!1,run_all(q)}}}function create_each_block$4(t,e){let r,o=e[32]+"",l,h,y,D,O,F,R=noop$2,B,j,U;function q(){return e[21](e[32])}return{key:t,first:null,c(){r=element("div"),l=text(o),h=space(),y=element("span"),y.textContent="\u274C",attr(y,"class","miniBtn svelte-1yay8md"),attr(r,"class","textChoice svelte-1yay8md"),this.first=r},m(W,G){insert(W,r,G),append(r,l),append(r,h),append(r,y),B=!0,j||(U=listen(y,"click",q),j=!0)},p(W,G){e=W,(!B||G[0]&1)&&o!==(o=e[32]+"")&&set_data(l,o)},r(){F=r.getBoundingClientRect()},f(){fix_position(r),R(),add_transform(r,F)},a(){R(),R=create_animation(r,F,flip,{duration:500})},i(W){B||(add_render_callback(()=>{O&&O.end(1),D=create_in_transition(r,fly,{x:20}),D.start()}),B=!0)},o(W){D&&D.invalidate(),O=create_out_transition(r,fly,{x:20}),B=!1},d(W){W&&detach(r),W&&O&&O.end(),j=!1,U()}}}function create_if_block_1$8(t){let e,r,o,l,h;return{c(){e=element("div"),r=text(t[1]),attr(e,"class","infoTile svelte-1yay8md")},m(y,D){insert(y,e,D),append(e,r),h=!0},p(y,D){(!h||D[0]&2)&&set_data(r,y[1])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(e,fly,{x:20,duration:500}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(e,fly,{x:20,duration:250}),h=!1},d(y){y&&detach(e),y&&l&&l.end()}}}function create_if_block$9(t){let e,r,o;return{c(){e=element("button"),e.textContent="Supprimer",attr(e,"class","svelte-1yay8md")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[10]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_fragment$g(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q=!t[5]&&create_if_block_8(t),Z=t[0].a.type!=""&&!t[5]&&create_if_block_2$7(t),ee=t[1]!=""&&create_if_block_1$8(t),ne=!t[4]&&!t[5]&&!t[6]&&create_if_block$9(t);return{c(){e=element("div"),r=element("div"),o=element("h2"),o.textContent=`${t[6]?"\u{1F4AB} Nouvelle question":"\u270F\uFE0F Modification"}`,l=space(),h=element("div"),y=element("textarea"),D=space(),O=element("h"),Q&&Q.c(),F=space(),Z&&Z.c(),R=space(),ee&&ee.c(),B=space(),j=element("div"),U=element("button"),U.textContent="Fermer",q=space(),ne&&ne.c(),W=space(),G=element("button"),G.textContent=`${t[6]?"Ajouter":"Modifier"}`,attr(o,"class","mb-4 svelte-1yay8md"),attr(y,"id","outQuestion"),attr(y,"class","fieldQ svelte-1yay8md"),attr(y,"placeholder","Comment est votre blanquette ?"),attr(y,"maxlength","600"),attr(U,"class","svelte-1yay8md"),set_style(G,"background-color","#6219D8"),set_style(G,"color","#fff"),attr(G,"class","svelte-1yay8md"),attr(j,"class","actions svelte-1yay8md"),attr(r,"class","contents svelte-1yay8md"),attr(e,"role","dialog"),attr(e,"class","modal svelte-1yay8md")},m(ie,re){insert(ie,e,re),append(e,r),append(r,o),append(r,l),append(r,h),append(h,y),set_input_value(y,t[0].q),append(r,D),append(r,O),Q&&Q.m(O,null),append(O,F),Z&&Z.m(O,null),append(O,R),ee&&ee.m(O,null),append(O,B),append(O,j),append(j,U),append(j,q),ne&&ne.m(j,null),append(j,W),append(j,G),K=!0,X||(J=[listen(y,"input",t[16]),listen(U,"click",t[29]),listen(G,"click",t[8]),listen(e,"introstart",t[14]),listen(e,"outroend",t[15])],X=!0)},p(ie,re){re[0]&1&&set_input_value(y,ie[0].q),ie[5]||Q.p(ie,re),ie[0].a.type!=""&&!ie[5]?Z?(Z.p(ie,re),re[0]&1&&transition_in(Z,1)):(Z=create_if_block_2$7(ie),Z.c(),transition_in(Z,1),Z.m(O,R)):Z&&(group_outros(),transition_out(Z,1,1,()=>{Z=null}),check_outros()),ie[1]!=""?ee?(ee.p(ie,re),re[0]&2&&transition_in(ee,1)):(ee=create_if_block_1$8(ie),ee.c(),transition_in(ee,1),ee.m(O,B)):ee&&(group_outros(),transition_out(ee,1,1,()=>{ee=null}),check_outros()),!ie[4]&&!ie[5]&&!ie[6]&&ne.p(ie,re)},i(ie){K||(transition_in(Z),transition_in(ee),add_render_callback(()=>{Y||(Y=create_bidirectional_transition(e,fly,{y:50},!0)),Y.run(1)}),K=!0)},o(ie){transition_out(Z),transition_out(ee),Y||(Y=create_bidirectional_transition(e,fly,{y:50},!1)),Y.run(0),K=!1},d(ie){ie&&detach(e),Q&&Q.d(),Z&&Z.d(),ee&&ee.d(),ne&&ne.d(),ie&&Y&&Y.end(),X=!1,run_all(J)}}}function instance$e(t,e,r){let{sondageEnCreation:o}=e,{id:l}=e,{majTree:h}=e,y="",D=l=="start",O=l=="end",F=l=="new",R=o.jsonContent.indexOf(o.jsonContent.find(le=>le.idr==l)),B;const j=new ShortUniqueId({length:8});let{questionData:U={idr:F?"q-"+j().toString():l,q:"",a:{a:[],o:null,type:""}}}=e,q=!1;function W(le,fe){if(F||q){let we={"1c":[],mc:[],cl:[140],num:[0,100," "],cal:[!0,!1],"5s":[]};U.a.a.splice(0,U.a.a.length),r(0,U.a.a=we[fe],U)}}const G=()=>{if(U.q==""){alert("Veuillez saisir une question");return}else if(U.a.type==""){alert("Veuillez saisir un type de question");return}else if(U.a.type=="1c"||U.a.type=="mc"){if(U.a.a.length==0){alert("Veuillez saisir au moins un choix");return}}else if(U.a.type=="num"){if(U.a.a.length<3){alert("Veuillez saisir des valeurs");return}else if(U.a.a[0]>U.a.a[1]){alert("La valeur minimum doit \xEAtre inf\xE9rieure \xE0 la valeur maximum");return}}else if(U.a.type=="cal"){if(console.log(U.a.a),U.a.a.length<2){alert("Veuillez saisir des valeurs");return}else if(U.a.a[0]==!1&&U.a.a[1]==!1){alert("Veuillez s\xE9l\xE9ctionner au moins une option");return}}F?o.jsonContent.splice(o.jsonContent.length-1,0,U):o.jsonContent.splice(R,1,U),h(),closeModal()},Y=()=>{!U.a.a.includes(B)&&B!=null&&B!=""&&(r(0,U.a.a=[...U.a.a,B],U),r(2,B=""))};function K(){o.jsonContent.splice(R,1),h(),closeModal()}function X(le){bubble.call(this,t,le)}function J(le){bubble.call(this,t,le)}function Q(){U.q=this.value,r(0,U)}function Z(){U.a.type=select_value(this),r(0,U)}const ee=()=>{U.a.a.splice(0,U.a.a.length),r(3,q=!0)};function ne(){B=this.value,r(2,B)}const ie=le=>{le.key==";"&&le.preventDefault(),le.key==="Enter"&&Y()},re=le=>{r(0,U.a.a=U.a.a.filter(fe=>fe!=le),U)};function te(){U.a.o=this.checked,r(0,U)}function se(){U.a.a[0]=to_number(this.value),r(0,U)}function ce(){U.a.a[0]=to_number(this.value),r(0,U)}function de(){U.a.a[1]=to_number(this.value),r(0,U)}function ue(){U.a.a[2]=this.value,r(0,U)}function he(){U.a.a[0]=this.checked,r(0,U)}function oe(){U.a.a[1]=this.checked,r(0,U)}const ae=()=>{closeModal()};return t.$$set=le=>{"sondageEnCreation"in le&&r(11,o=le.sondageEnCreation),"id"in le&&r(12,l=le.id),"majTree"in le&&r(13,h=le.majTree),"questionData"in le&&r(0,U=le.questionData)},t.$$.update=()=>{t.$$.dirty[0]&1&&(U.q.length>300?r(1,y="\u{1F4A1} Astuce : Essayez de limiter vos questions \xE0 300 caract\xE8res pour optimiser la lecture et le taux de r\xE9ponse."):r(1,y=""))},[U,y,B,q,D,O,F,W,G,Y,K,o,l,h,X,J,Q,Z,ee,ne,ie,re,te,se,ce,de,ue,he,oe,ae]}class ModalCellEdit extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$g,safe_not_equal,{sondageEnCreation:11,id:12,majTree:13,questionData:0},null,[-1,-1])}}var editor_svelte_svelte_type_style_lang="";const{document:document_1}=globals;function create_if_block_5$2(t){let e,r,o,l,h;return{c(){e=element("div"),r=text("Enregistr\xE9 \xE0 "),o=text(t[5]),l=text(" \u2705"),set_style(e,"position","absolute"),set_style(e,"top","10px"),set_style(e,"right","20px"),set_style(e,"opacity",".5"),set_style(e,"width","fit-content")},m(y,D){insert(y,e,D),append(e,r),append(e,o),append(e,l)},p(y,D){D[0]&32&&set_data(o,y[5])},i(y){h||add_render_callback(()=>{h=create_in_transition(e,fly,{x:50}),h.start()})},o:noop$2,d(y){y&&detach(e)}}}function create_else_block_3(t){let e;return{c(){e=element("div"),e.innerHTML=`<div class="p-3 py-md-1 position-absolute" style="font-size:2rem;"><img src="assets/LOGO_JTV_ALT.svg" alt="logo jetevois" style="height:120px; opacity:.05"/></div> 
        <h2>Bienvenue dans le cr\xE9ateur de sondage de R\xE9tine \u{1F917}</h2> 
        <p class="mb-0 opacity-75" style="font-family:Lexend Deca">Cette interface vous permet de cr\xE9er votre premier questionnaire et pr\xE9visualiser vos modifications en direct.<br/>
          Inscrivez-vous gratuitement \xE0 R\xE9tine afin d\u2019enregistrer vos modifications et pr\xE9parer la diffusion de votre sondage !</p>`,attr(e,"class","mx-auto mb-2 mt-4 mt-md-0 px-md-4 text-start")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_4$4(t){let e,r,o;return{c(){e=element("input"),attr(e,"class","mx-auto svelte-35t0o0"),attr(e,"type","text"),attr(e,"id","titreSond"),attr(e,"placeholder","Nom du projet"),attr(e,"maxlength","100")},m(l,h){insert(l,e,h),set_input_value(e,t[1].nom_proj),r||(o=[listen(e,"input",t[15]),listen(e,"change",t[13])],r=!0)},p(l,h){h[0]&2&&e.value!==l[1].nom_proj&&set_input_value(e,l[1].nom_proj)},d(l){l&&detach(e),r=!1,run_all(o)}}}function create_else_block_2(t){let e;return{c(){e=element("i"),attr(e,"class","bx bx-collapse")},m(r,o){insert(r,e,o)},d(r){r&&detach(e)}}}function create_if_block_3$4(t){let e;return{c(){e=element("i"),attr(e,"class","bx bx-expand")},m(r,o){insert(r,e,o)},d(r){r&&detach(e)}}}function create_else_block_1$3(t){let e;return{c(){e=element("div"),e.innerHTML='<div class="h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-35t0o0" style="background-color: #dbd6e37d; border-radius: 10px; color: #3c3c3c; font-family: Lexend;">Connectez vous pour charger un mod\xE8le de notre base de donn\xE9es, et personnaliser votre sondage.</div>',attr(e,"class","col-12 col-md-8 py-2 pr-1 pl-0 hvr-float"),set_style(e,"height","100px")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_2$6(t){let e,r,o,l,h,y,D;return{c(){e=element("div"),r=element("div"),r.textContent="\u{1F4DA} Charger",o=space(),l=element("div"),h=element("div"),h.textContent="\u{1F3A8} Design",attr(r,"class","h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-35t0o0"),set_style(r,"background-color","#dbd6e37d"),set_style(r,"border-radius","10px"),set_style(r,"color","#3c3c3c"),set_style(r,"font-family","Lexend"),attr(e,"class","col-12 col-md-4 py-2 pr-1 pl-0 hvr-float"),set_style(e,"height","100px"),attr(h,"class","h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-35t0o0"),set_style(h,"background-color","#dbd6e37d"),set_style(h,"border-radius","10px"),set_style(h,"color","#3c3c3c"),set_style(h,"font-family","Lexend"),attr(l,"class","col-12 col-md-4 py-2 pr-1 pl-0 hvr-float"),set_style(l,"height","100px")},m(O,F){insert(O,e,F),append(e,r),insert(O,o,F),insert(O,l,F),append(l,h),y||(D=[listen(r,"click",t[17]),listen(h,"click",t[18])],y=!0)},p:noop$2,d(O){O&&detach(e),O&&detach(o),O&&detach(l),y=!1,run_all(D)}}}function create_else_block$6(t){let e,r,o;return{c(){e=element("div"),e.innerHTML='<h3 class="m-0" style="line-height: 0.6;">Inscription</h3>',attr(e,"class","h-100 d-flex align-items-center justify-content-center"),set_style(e,"background-color","#6219d8"),set_style(e,"border-radius","10px"),set_style(e,"color","white"),set_style(e,"cursor","pointer")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[20]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_if_block_1$7(t){let e,r,o;return{c(){e=element("div"),e.innerHTML=`<h3 class="m-0" style="line-height: 0.6;">Lancer<br/> 
              <span style="font-size: 0.9rem;">le sondage !</span></h3>`,attr(e,"class","h-100 d-flex align-items-center justify-content-center"),set_style(e,"background-color","#6219d8"),set_style(e,"border-radius","10px"),set_style(e,"color","white"),set_style(e,"cursor","pointer")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[19]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_catch_block$6(t){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block$6(t){let e,r,o,l,h;return r=new Chat({props:{chatContent:t[1]}}),{c(){e=element("div"),create_component(r.$$.fragment),attr(e,"class","w-100 h-100 d-flex align-items-center justify-content-center svelte-35t0o0"),set_style(e,"border-radius","15px")},m(y,D){insert(y,e,D),mount_component(r,e,null),h=!0},p(y,D){const O={};D[0]&2&&(O.chatContent=y[1]),r.$set(O)},i(y){h||(transition_in(r.$$.fragment,y),add_render_callback(()=>{l&&l.end(1),o=create_in_transition(e,blur,{duration:1e3}),o.start()}),h=!0)},o(y){transition_out(r.$$.fragment,y),o&&o.invalidate(),l=create_out_transition(e,blur,{duration:1e3}),h=!1},d(y){y&&detach(e),destroy_component(r),y&&l&&l.end()}}}function create_pending_block$6(t){let e;return{c(){e=element("div"),attr(e,"class","svelte-35t0o0")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_if_block$8(t){let e,r,o,l,h,y,D,O;const F=[t[8].props||{}];function R(U){t[22](U)}var B=t[8].component;function j(U){let q={};for(let W=0;W<F.length;W+=1)q=assign$1(q,F[W]);return U[1]!==void 0&&(q.sondageEnCreation=U[1]),{props:q}}return B&&(e=new B(j(t)),binding_callbacks.push(()=>bind(e,"sondageEnCreation",R))),{c(){e&&create_component(e.$$.fragment),o=space(),l=element("div"),attr(l,"class","backdrop svelte-35t0o0")},m(U,q){e&&mount_component(e,U,q),insert(U,o,q),insert(U,l,q),y=!0,D||(O=listen(l,"click",t[23]),D=!0)},p(U,q){const W=q[0]&256?get_spread_update(F,[get_spread_object(U[8].props||{})]):{};if(!r&&q[0]&2&&(r=!0,W.sondageEnCreation=U[1],add_flush_callback(()=>r=!1)),B!==(B=U[8].component)){if(e){group_outros();const G=e;transition_out(G.$$.fragment,1,0,()=>{destroy_component(G,1)}),check_outros()}B?(e=new B(j(U)),binding_callbacks.push(()=>bind(e,"sondageEnCreation",R)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,o.parentNode,o)):e=null}else B&&e.$set(W)},i(U){y||(e&&transition_in(e.$$.fragment,U),add_render_callback(()=>{h||(h=create_bidirectional_transition(l,fade,{},!0)),h.run(1)}),y=!0)},o(U){e&&transition_out(e.$$.fragment,U),h||(h=create_bidirectional_transition(l,fade,{},!1)),h.run(0),y=!1},d(U){e&&destroy_component(e,U),U&&detach(o),U&&detach(l),U&&h&&h.end(),D=!1,O()}}}function create_default_slot$4(t){let e,r,o=t[8]&&create_if_block$8(t);return{c(){o&&o.c(),e=empty()},m(l,h){o&&o.m(l,h),insert(l,e,h),r=!0},p(l,h){l[8]?o?(o.p(l,h),h[0]&256&&transition_in(o,1)):(o=create_if_block$8(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$f(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te,se,ce,de,ue,he,oe,ae,le,fe,we,me,ge=t[5]!=""&&!t[2]&&create_if_block_5$2(t);function Se(Me,De){return Me[2]?create_else_block_3:create_if_block_4$4}let ke=Se(t),_e=ke(t);function xe(Me,De){return Me[4]?create_else_block_2:create_if_block_3$4}let Ce=xe(t),pe=Ce(t);function ye(Me,De){return Me[2]?create_else_block_1$3:create_if_block_2$6}let be=ye(t),Pe=be(t);function ve(Me,De){return Me[2]?create_else_block$6:create_if_block_1$7}let Te=ve(t),Ie=Te(t),Fe={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block$6,then:create_then_block$6,catch:create_catch_block$6,blocks:[,,,]};return handle_promise(ce=t[10](t[3]),Fe),le=new Modals({props:{$$slots:{default:[create_default_slot$4]},$$scope:{ctx:t}}}),{c(){e=element("link"),r=space(),o=element("div"),ge&&ge.c(),l=space(),h=element("div"),_e.c(),y=space(),D=element("div"),O=element("div"),F=element("div"),R=text("\u23F2\uFE0F Dur\xE9e estim\xE9e : "),B=text(t[6]),j=space(),U=element("div"),pe.c(),q=space(),W=element("figure"),G=element("ul"),K=space(),X=element("hr"),J=space(),Q=element("div"),Pe.c(),Z=space(),ee=element("div"),Ie.c(),ie=space(),re=element("div"),te=element("div"),se=element("div"),Fe.block.c(),ue=space(),he=element("div"),oe=element("button"),oe.textContent="\u267B\uFE0F R\xE9initialiser",ae=space(),create_component(le.$$.fragment),attr(e,"rel","stylesheet"),attr(e,"href","assets/tree.css"),attr(h,"class","col-12 w-100 text-center py-3"),attr(F,"class","dureeEstim svelte-35t0o0"),attr(U,"class","expandBtn hvr-bounce-in svelte-35t0o0"),attr(G,"class","tree mx-auto p-3"),attr(O,"class","cellZone w-100 pt-3 svelte-35t0o0"),attr(O,"style",Y=t[4]?"max-height:80vh; min-height:60vh;":""),attr(X,"class","w-75 mt-4 mx-auto"),attr(ee,"class","col-12 col-md-4 py-1 pl-1 pr-0 hvr-float"),set_style(ee,"height","100px"),attr(Q,"class","row"),attr(D,"class",ne=t[4]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"),attr(se,"class","gridForAnimation svelte-35t0o0"),attr(te,"class","iphone-x mx-auto my-4 svelte-35t0o0"),attr(oe,"class","screenBtn px-4 py-2 svelte-35t0o0"),attr(he,"class","mt-4 text-center"),attr(re,"id","creaUserView"),attr(re,"class","col-12 col-lg-4 p-3 text-center"),attr(o,"id","studio"),attr(o,"class","row p-1 svelte-35t0o0")},m(Me,De){append(document_1.head,e),insert(Me,r,De),insert(Me,o,De),ge&&ge.m(o,null),append(o,l),append(o,h),_e.m(h,null),append(o,y),append(o,D),append(D,O),append(O,F),append(F,R),append(F,B),append(O,j),append(O,U),pe.m(U,null),append(O,q),append(O,W),append(W,G),t[16](G),append(D,K),append(D,X),append(D,J),append(D,Q),Pe.m(Q,null),append(Q,Z),append(Q,ee),Ie.m(ee,null),append(o,ie),append(o,re),append(re,te),append(te,se),Fe.block.m(se,Fe.anchor=null),Fe.mount=()=>se,Fe.anchor=null,append(re,ue),append(re,he),append(he,oe),insert(Me,ae,De),mount_component(le,Me,De),fe=!0,we||(me=[listen(U,"click",t[11]),listen(oe,"click",t[21])],we=!0)},p(Me,De){t=Me,t[5]!=""&&!t[2]?ge?(ge.p(t,De),De[0]&36&&transition_in(ge,1)):(ge=create_if_block_5$2(t),ge.c(),transition_in(ge,1),ge.m(o,l)):ge&&(ge.d(1),ge=null),ke===(ke=Se(t))&&_e?_e.p(t,De):(_e.d(1),_e=ke(t),_e&&(_e.c(),_e.m(h,null))),(!fe||De[0]&64)&&set_data(B,t[6]),Ce!==(Ce=xe(t))&&(pe.d(1),pe=Ce(t),pe&&(pe.c(),pe.m(U,null))),(!fe||De[0]&16&&Y!==(Y=t[4]?"max-height:80vh; min-height:60vh;":""))&&attr(O,"style",Y),be===(be=ye(t))&&Pe?Pe.p(t,De):(Pe.d(1),Pe=be(t),Pe&&(Pe.c(),Pe.m(Q,Z))),Te===(Te=ve(t))&&Ie?Ie.p(t,De):(Ie.d(1),Ie=Te(t),Ie&&(Ie.c(),Ie.m(ee,null))),(!fe||De[0]&16&&ne!==(ne=t[4]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"))&&attr(D,"class",ne),Fe.ctx=t,De[0]&8&&ce!==(ce=t[10](t[3]))&&handle_promise(ce,Fe)||update_await_block_branch(Fe,t,De);const Be={};De[0]&258|De[1]&4&&(Be.$$scope={dirty:De,ctx:t}),le.$set(Be)},i(Me){fe||(transition_in(ge),transition_in(Fe.block),de||add_render_callback(()=>{de=create_in_transition(te,fly,{y:50,duration:600,delay:100}),de.start()}),transition_in(le.$$.fragment,Me),fe=!0)},o(Me){for(let De=0;De<3;De+=1){const Be=Fe.blocks[De];transition_out(Be)}transition_out(le.$$.fragment,Me),fe=!1},d(Me){detach(e),Me&&detach(r),Me&&detach(o),ge&&ge.d(),_e.d(),pe.d(),t[16](null),Pe.d(),Ie.d(),Fe.block.d(),Fe.token=null,Fe=null,Me&&detach(ae),destroy_component(le,Me),we=!1,run_all(me)}}}function allowDrop(t){t.preventDefault(),t.target.style.backgroundColor="#DEDBE1"}function dragLeave(t){t.preventDefault(),t.target.style.backgroundColor=""}function drag(t){t.dataTransfer.setData("text",t.target.dataset.qorder)}function arraymove(t,e,r){var o=t[e];t.splice(e,1),t.splice(r,0,o)}function instance$d(t,e,r){let o,l;component_subscribe(t,modals,le=>r(14,l=le));let{demoMode:h=!1}=e;function y(le){activePageStore.set(le)}const D=async le=>{};let O=0,F=!1;function R(){F?r(4,F=!1):r(4,F=!0)}let B=["#6219D8","#AD5C6C","#5260BC","#734AE4"],j={"1c":"#8792FD80",mc:"#6219D880",cl:"#7aad8980",num:"#FF596480","5s":"#FBB13C80",cal:"#B0EAFF80"},{idSondage:U=null}=e,{sondageEnCreation:q={v:1,nom_proj:"Brouillon",color:B[Math.floor(Math.random()*B.length)],logo:"",jsonContent:[{idr:"start",q:"Bienvenue dans ce sondage ! \u{1F917} ",a:{type:"1c",a:["D\xE9marrer \u{1F680}"]}},{idr:"end",q:"Merci pour votre participation ! \u{1F389}",a:{type:"fin"}}]}}=e,W="";function G(){h==!0&&Y!=JSON.stringify(q)&&localStorage.setItem("currentSondage",JSON.stringify(q)),Y!=JSON.stringify(q)&&h==!1&&(U!=null?updateSave(q,U).then(le=>{r(5,W=new Date().toLocaleString().split(" ")[1])}).catch(le=>{alert(le)}):firstSave(q).then(le=>{r(0,U=le),r(5,W=new Date().toLocaleString().split(" ")[1])}).catch(le=>{alert(le)}))}localStorage.getItem("currentSondage")!=null&&(q=JSON.parse(localStorage.getItem("currentSondage")),h||(G(),localStorage.removeItem("currentSondage")));let Y=JSON.stringify(q),K;function X(){let le=q.jsonContent.length*8-10;le>60?r(6,K=Math.floor(le/60).toString()+" min, "+(le%60).toString()+" sec"):r(6,K=le.toString()+" secondes")}let J;const Q=()=>{for(console.log(q.jsonContent),G();J.firstChild;)J.removeChild(J.firstChild);for(let le=0;le<q.jsonContent.length;le++){const fe=document.createElement("li");let we=document.createElement("code");we.innerText=q.jsonContent[le].q,we.onclick=()=>ne(q.jsonContent[le].idr),fe.appendChild(we);let me=J.querySelectorAll("ul");if(le===0){fe.querySelector("code").classList.add("firstQ");let ge=document.createElement("ul");fe.appendChild(ge),J.insertAdjacentElement("beforeend",fe)}else if(le===q.jsonContent.length-1){fe.querySelector("code").classList.add("lastQ");let ge=document.createElement("code");ge.classList.add("outlineQ"),q.jsonContent.length<30?(ge.innerText="\u2795 Nouvelle question",ge.onclick=()=>ne("new")):(ge.innerText="\u26A0\uFE0F max 30 questions",ge.onclick=()=>{});let Se=document.createElement("li");Se.appendChild(ge);let ke=document.createElement("ul");ke.appendChild(fe),Se.appendChild(ke),me[me.length-1].appendChild(Se)}else{let ge=fe.querySelector("code");ge.ondrop=ke=>ie(ke),ge.ondragover=ke=>allowDrop(ke),ge.ondragstart=ke=>drag(ke),ge.ondragleave=ke=>dragLeave(ke),ge.dataset.qorder=le.toString(),ge.draggable=!0,ge.style.borderColor=j[q.jsonContent[le].a.type];let Se=document.createElement("ul");fe.appendChild(Se),me[me.length-1].appendChild(fe)}}X(),r(3,O++,O)};var Z=null;const ee=()=>{clearInterval(Z),Z=setInterval(function(){G(),clearInterval(Z)},1e3)};onMount(()=>{Q()});const ne=le=>{let fe={id:le,sondageEnCreation:q,majTree:Q};le!="new"&&(fe.questionData=structuredClone(q.jsonContent.find(we=>we.idr==le))),openModal(ModalCellEdit,fe)};function ie(le){le.preventDefault(),arraymove(q.jsonContent,parseInt(le.dataTransfer.getData("text")),parseInt(le.target.dataset.qorder)),Q()}function re(){q.nom_proj=this.value,r(1,q)}function te(le){binding_callbacks[le?"unshift":"push"](()=>{J=le,r(7,J)})}const se=()=>openModal(ModalTemplateLoad,{sondageEnCreation:q,updateFun:Q}),ce=()=>openModal(ModalDesignSond,{sondageEnCreation:q,updateFun:Q}),de=()=>{U!=null?validateSondage(q,U,y):alert("Veuillez d'abord enregistrer votre sondage en modifiant une question ou le titre.")},ue=()=>openModal(AuthModule,{}),he=()=>{r(3,O++,O),console.log(q)};function oe(le){q=le,r(1,q)}const ae=()=>{closeModal()};return t.$$set=le=>{"demoMode"in le&&r(2,h=le.demoMode),"idSondage"in le&&r(0,U=le.idSondage),"sondageEnCreation"in le&&r(1,q=le.sondageEnCreation)},t.$$.update=()=>{t.$$.dirty[0]&16384&&r(8,o=l[l.length-1])},[U,q,h,O,F,W,K,J,o,y,D,R,Q,ee,l,re,te,se,ce,de,ue,he,oe,ae]}class Editor extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$f,safe_not_equal,{demoMode:2,idSondage:0,sondageEnCreation:1},null,[-1,-1])}}var templateCard_svelte_svelte_type_style_lang="";function create_fragment$e(t){let e,r,o,l,h,y,D,O=t[0].cible+"",F,R,B,j=t[0].duree+"",U,q,W,G=t[0].desc+"",Y,K,X,J,Q;return{c(){e=element("div"),r=element("div"),o=text(t[1]),l=space(),h=element("div"),y=element("ul"),D=element("li"),F=text(O),R=space(),B=element("li"),U=text(j),q=space(),W=element("li"),Y=text(G),K=space(),X=element("div"),X.textContent="Utiliser",attr(r,"class","header svelte-mmj6da"),attr(D,"class","svelte-mmj6da"),attr(B,"class","svelte-mmj6da"),attr(W,"class","svelte-mmj6da"),attr(y,"class","listDesc svelte-mmj6da"),attr(h,"class","body ml-3 my-2 svelte-mmj6da"),attr(X,"class","button hvr-grow svelte-mmj6da"),attr(e,"class","neuProjet text-center hvr-float svelte-mmj6da")},m(Z,ee){insert(Z,e,ee),append(e,r),append(r,o),append(e,l),append(e,h),append(h,y),append(y,D),append(D,F),append(y,R),append(y,B),append(B,U),append(y,q),append(y,W),append(W,Y),append(e,K),append(e,X),J||(Q=listen(X,"click",t[2]),J=!0)},p(Z,[ee]){ee&2&&set_data(o,Z[1]),ee&1&&O!==(O=Z[0].cible+"")&&set_data(F,O),ee&1&&j!==(j=Z[0].duree+"")&&set_data(U,j),ee&1&&G!==(G=Z[0].desc+"")&&set_data(Y,G)},i:noop$2,o:noop$2,d(Z){Z&&detach(e),J=!1,Q()}}}function instance$c(t,e,r){let{loadSondage:o}=e,{nom_proj:l}=e,{category:h}=e,{id:y}=e,{description:D}=e;D=JSON.parse(D);async function O(){var R=new Headers;return R.append("Authorization","Token "+xxgc("rtnt")),R.append("Content-Type","application/json"),fetch(`${rtnUrl}templates/${y}/`,{method:"GET",headers:R,redirect:"follow"}).then(B=>B.text()).then(B=>JSON.parse(B)).catch(B=>B)}const F=async()=>{let R=await O();R.jsonContent=JSON.parse(R.jsonContent),o(R,null)};return t.$$set=R=>{"loadSondage"in R&&r(3,o=R.loadSondage),"nom_proj"in R&&r(1,l=R.nom_proj),"category"in R&&r(4,h=R.category),"id"in R&&r(5,y=R.id),"description"in R&&r(0,D=R.description)},[D,l,F,o,h,y]}class TemplateCard extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$e,safe_not_equal,{loadSondage:3,nom_proj:1,category:4,id:5,description:0})}}function get_each_context$3(t,e,r){const o=t.slice();return o[5]=e[r],o[7]=r,o}function get_each_context_1$2(t,e,r){const o=t.slice();return o[8]=e[r],o[10]=r,o}function create_catch_block$5(t){let e,r=t[11]+"",o;return{c(){e=element("div"),o=text(r)},m(l,h){insert(l,e,h),append(e,o)},p:noop$2,i:noop$2,o:noop$2,d(l){l&&detach(e)}}}function create_then_block$5(t){let e,r,o=[...new Set(t[4].map(func$2))],l=[];for(let y=0;y<o.length;y+=1)l[y]=create_each_block$3(get_each_context$3(t,o,y));const h=y=>transition_out(l[y],1,1,()=>{l[y]=null});return{c(){for(let y=0;y<l.length;y+=1)l[y].c();e=empty()},m(y,D){for(let O=0;O<l.length;O+=1)l[O].m(y,D);insert(y,e,D),r=!0},p(y,D){if(D&3){o=[...new Set(y[4].map(func$2))];let O;for(O=0;O<o.length;O+=1){const F=get_each_context$3(y,o,O);l[O]?(l[O].p(F,D),transition_in(l[O],1)):(l[O]=create_each_block$3(F),l[O].c(),transition_in(l[O],1),l[O].m(e.parentNode,e))}for(group_outros(),O=o.length;O<l.length;O+=1)h(O);check_outros()}},i(y){if(!r){for(let D=0;D<o.length;D+=1)transition_in(l[D]);r=!0}},o(y){l=l.filter(Boolean);for(let D=0;D<l.length;D+=1)transition_out(l[D]);r=!1},d(y){destroy_each(l,y),y&&detach(e)}}}function create_each_block_1$2(t){let e,r,o,l,h;const y=[t[8],{loadSondage:t[0]}];let D={};for(let O=0;O<y.length;O+=1)D=assign$1(D,y[O]);return r=new TemplateCard({props:D}),{c(){e=element("div"),create_component(r.$$.fragment),o=space(),attr(e,"class","col-12 col-sm-6 col-lg-4 mb-5")},m(O,F){insert(O,e,F),mount_component(r,e,null),append(e,o),h=!0},p(O,F){const R=F&3?get_spread_update(y,[F&2&&get_spread_object(O[8]),F&1&&{loadSondage:O[0]}]):{};r.$set(R)},i(O){h||(transition_in(r.$$.fragment,O),l||add_render_callback(()=>{l=create_in_transition(e,fly,{x:-20,delay:t[10]*200*t[7]}),l.start()}),h=!0)},o(O){transition_out(r.$$.fragment,O),h=!1},d(O){O&&detach(e),destroy_component(r)}}}function create_each_block$3(t){let e,r,o=t[5]+"",l,h,y,D;function O(...j){return t[2](t[5],...j)}let F=t[4].filter(O),R=[];for(let j=0;j<F.length;j+=1)R[j]=create_each_block_1$2(get_each_context_1$2(t,F,j));const B=j=>transition_out(R[j],1,1,()=>{R[j]=null});return{c(){e=element("div"),r=element("h2"),l=text(o),h=space();for(let j=0;j<R.length;j+=1)R[j].c();y=empty(),attr(e,"class","col-12 mb-4 border-bottom")},m(j,U){insert(j,e,U),append(e,r),append(r,l),insert(j,h,U);for(let q=0;q<R.length;q+=1)R[q].m(j,U);insert(j,y,U),D=!0},p(j,U){if(t=j,U&3){F=t[4].filter(O);let q;for(q=0;q<F.length;q+=1){const W=get_each_context_1$2(t,F,q);R[q]?(R[q].p(W,U),transition_in(R[q],1)):(R[q]=create_each_block_1$2(W),R[q].c(),transition_in(R[q],1),R[q].m(y.parentNode,y))}for(group_outros(),q=F.length;q<R.length;q+=1)B(q);check_outros()}},i(j){if(!D){for(let U=0;U<F.length;U+=1)transition_in(R[U]);D=!0}},o(j){R=R.filter(Boolean);for(let U=0;U<R.length;U+=1)transition_out(R[U]);D=!1},d(j){j&&detach(e),j&&detach(h),destroy_each(R,j),j&&detach(y)}}}function create_pending_block$5(t){let e;return{c(){e=element("div")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_fragment$d(t){let e,r,o,l,h,y,D,O,F,R={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block$5,then:create_then_block$5,catch:create_catch_block$5,value:4,error:11,blocks:[,,,]};return handle_promise(t[1],R),{c(){e=element("div"),r=element("h1"),r.textContent="Galerie de mod\xE8les",o=space(),l=element("h6"),l.textContent=`R\xE9tine vous propose des mod\xE8les de sondages pr\xEAts \xE0 l'emploi (modifiables),\r
    bas\xE9s sur les meilleures pratiques \xE0 adopter afin de maximiser les taux de r\xE9ponse et obtenir des donn\xE9es qualitatives`,h=space(),y=element("div"),D=space(),O=element("div"),R.block.c(),attr(r,"class","py-2 mb-1 text-left"),attr(l,"class","ps-3 opacity-75"),attr(y,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),set_style(O,"min-height","100vh"),attr(e,"id","lesTemplates"),attr(e,"class","row p-3 w-100 mx-auto"),set_style(e,"max-width","1100px")},m(B,j){insert(B,e,j),append(e,r),append(e,o),append(e,l),append(e,h),append(e,y),append(e,D),append(e,O),R.block.m(O,R.anchor=null),R.mount=()=>O,R.anchor=null,F=!0},p(B,[j]){t=B,update_await_block_branch(R,t,j)},i(B){F||(transition_in(R.block),F=!0)},o(B){for(let j=0;j<3;j+=1){const U=R.blocks[j];transition_out(U)}F=!1},d(B){B&&detach(e),R.block.d(),R.token=null,R=null}}}const func$2=t=>t.category;function instance$b(t,e,r){let{loadSondage:o}=e;async function l(){var D=new Headers;D.append("Authorization","Token "+xxgc("rtnt")),D.append("Content-Type","application/json");var O={method:"GET",headers:D,redirect:"follow"};return fetch(rtnUrl+"templates/",O).then(F=>F.text()).then(F=>JSON.parse(F)).catch(F=>F)}let h=l();const y=(D,O)=>O.category==D;return t.$$set=D=>{"loadSondage"in D&&r(0,o=D.loadSondage)},[o,h,y]}class Templates extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$d,safe_not_equal,{loadSondage:0})}}var modalContactList_svelte_svelte_type_style_lang="";function create_if_block_1$6(t){let e,r;return{c(){e=element("div"),r=text(t[2]),attr(e,"class","w-100 text-center"),set_style(e,"color","red")},m(o,l){insert(o,e,l),append(e,r)},p(o,l){l&4&&set_data(r,o[2])},d(o){o&&detach(e)}}}function create_if_block$7(t){let e,r,o;return{c(){e=element("button"),e.textContent="Supprimer",attr(e,"class","svelte-w7tdsg")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[6]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_fragment$c(t){let e,r,o,l,h,y,D,O,F,R=t[3].split(`
`).length+"",B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne=t[2]!=""&&create_if_block_1$6(t),ie=t[1]!="new"&&create_if_block$7(t);return{c(){e=element("div"),r=element("div"),o=element("h4"),l=element("input"),h=space(),y=element("div"),D=element("textarea"),O=space(),F=element("div"),B=text(R),j=text(" lignes"),U=space(),ne&&ne.c(),q=space(),W=element("div"),G=element("button"),G.textContent="Fermer",Y=space(),ie&&ie.c(),K=space(),X=element("button"),X.textContent="Sauvegarder",attr(l,"class","titleInput svelte-w7tdsg"),attr(l,"maxlength","30"),attr(l,"placeholder","Liste de contacts..."),attr(o,"class","mb-4 text-center"),attr(D,"id","emailZone"),attr(D,"class","textareartn svelte-w7tdsg"),attr(D,"rows","10"),attr(D,"placeholder","Copiez/collez vos adresses ici, on se charge du reste..."),set_style(F,"opacity",".6"),attr(y,"class","container p-2 text-center"),attr(G,"class","svelte-w7tdsg"),set_style(X,"background-color","#6219d8"),set_style(X,"color","white"),attr(X,"class","svelte-w7tdsg"),attr(W,"class","actions svelte-w7tdsg"),attr(r,"class","contents svelte-w7tdsg"),attr(e,"role","dialog"),attr(e,"class","modal svelte-w7tdsg")},m(re,te){insert(re,e,te),append(e,r),append(r,o),append(o,l),set_input_value(l,t[0]),append(r,h),append(r,y),append(y,D),set_input_value(D,t[3]),append(y,O),append(y,F),append(F,B),append(F,j),append(r,U),ne&&ne.m(r,null),append(r,q),append(r,W),append(W,G),append(W,Y),ie&&ie.m(W,null),append(W,K),append(W,X),Q=!0,Z||(ee=[listen(l,"input",t[11]),listen(D,"input",t[12]),listen(G,"click",closeModal),listen(X,"click",t[13]),listen(e,"introstart",t[9]),listen(e,"outroend",t[10])],Z=!0)},p(re,[te]){te&1&&l.value!==re[0]&&set_input_value(l,re[0]),te&8&&set_input_value(D,re[3]),(!Q||te&8)&&R!==(R=re[3].split(`
`).length+"")&&set_data(B,R),re[2]!=""?ne?ne.p(re,te):(ne=create_if_block_1$6(re),ne.c(),ne.m(r,q)):ne&&(ne.d(1),ne=null),re[1]!="new"?ie?ie.p(re,te):(ie=create_if_block$7(re),ie.c(),ie.m(W,K)):ie&&(ie.d(1),ie=null)},i(re){Q||(add_render_callback(()=>{J||(J=create_bidirectional_transition(e,fly,{y:50},!0)),J.run(1)}),Q=!0)},o(re){J||(J=create_bidirectional_transition(e,fly,{y:50},!1)),J.run(0),Q=!1},d(re){re&&detach(e),ne&&ne.d(),ie&&ie.d(),re&&J&&J.end(),Z=!1,run_all(ee)}}}function extractEmails(t){return t.match(/([a-zA-Z0-9._+-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi).join(`
`)}function instance$a(t,e,r){let{id:o}=e,{nom:l}=e,{jsonContent:h}=e,{updateBack:y}=e;onMount(()=>{document.querySelector("#emailZone").addEventListener("paste",J=>{B()})});let D="";function O(X){r(2,D=X),setTimeout(()=>{r(2,D="")},3e3)}let F;o!="new"?F=JSON.parse(h).toString().replaceAll(",",`
`):F="";var R=null;const B=()=>{clearInterval(R),R=setInterval(function(){r(3,F=extractEmails(F)),clearInterval(R)},750)};function j(){let X=F.replaceAll(",","").replaceAll(";","").replaceAll(" ","").split(`
`).filter(function(ee){return ee!=""});if(X.length>100){O("Le nombre de contacts doit \xEAtre inf\xE9rieur \xE0 100 par liste.");return}else if(X.length==0){O("Aucun contact n'a \xE9t\xE9 saisi.");return}var J=new Headers;J.append("Authorization","Token "+xxgc("rtnt")),J.append("Content-Type","application/json");var Q={method:o!="new"?"PUT":"POST",headers:J,redirect:"follow",body:JSON.stringify({nom:l,jsonContent:JSON.stringify(X)})};let Z=o!="new"?`${rtnUrl}contactlist/${o}/`:`${rtnUrl}contactlist/`;return fetch(Z,Q).then(ee=>ee.text()).then(ee=>(y(),closeModal(),JSON.parse(ee))).catch(ee=>ee)}function U(){var X=new Headers;X.append("Authorization","Token "+xxgc("rtnt")),X.append("Content-Type","application/json");var J={method:"DELETE",headers:X,redirect:"follow"};let Q=`${rtnUrl}contactlist/${o}/`;return fetch(Q,J).then(Z=>Z.text()).then(Z=>(y(),closeModal(),JSON.parse(Z))).catch(Z=>Z)}function q(X){bubble.call(this,t,X)}function W(X){bubble.call(this,t,X)}function G(){l=this.value,r(0,l)}function Y(){F=this.value,r(3,F)}const K=()=>{l!=""&&F!=""?(r(3,F=extractEmails(F)),setTimeout(()=>{j()},500)):O("Veuillez saisir un titre et une liste de contacts.")};return t.$$set=X=>{"id"in X&&r(1,o=X.id),"nom"in X&&r(0,l=X.nom),"jsonContent"in X&&r(7,h=X.jsonContent),"updateBack"in X&&r(8,y=X.updateBack)},[l,o,D,F,O,j,U,h,y,q,W,G,Y,K]}class ModalContactList extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$c,safe_not_equal,{id:1,nom:0,jsonContent:7,updateBack:8})}}var modalCampagneFollow_svelte_svelte_type_style_lang="";function get_each_context$2(t,e,r){const o=t.slice();return o[16]=e[r],o[18]=r,o}function create_else_block_1$2(t){let e;return{c(){e=element("div")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_4$3(t){let e,r,o;return{c(){e=element("button"),e.textContent="Relance g\xE9n\xE9rale",attr(e,"class","btnRelance border-0 px-2 hvr-grow svelte-or0i6a"),set_style(e,"background-color","#EEECFE")},m(l,h){insert(l,e,h),r||(o=listen(e,"click",t[11]),r=!0)},p:noop$2,d(l){l&&detach(e),r=!1,o()}}}function create_else_block$5(t){let e;return{c(){e=element("div"),e.textContent="Relanc\xE9",set_style(e,"font-size",".9rem"),set_style(e,"opacity",".6"),set_style(e,"padding","5px")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_3$3(t){let e,r,o;function l(...h){return t[12](t[16],...h)}return{c(){e=element("div"),e.textContent="Relancer",attr(e,"class","btnRelance hvr-grow svelte-or0i6a")},m(h,y){insert(h,e,y),r||(o=listen(e,"click",l),r=!0)},p(h,y){t=h},d(h){h&&detach(e),r=!1,o()}}}function create_if_block_2$5(t){let e;return{c(){e=element("div"),e.textContent="Relanc\xE9",set_style(e,"font-size",".9rem"),set_style(e,"opacity",".6"),set_style(e,"padding","5px")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_1$5(t){let e;return{c(){e=element("div"),e.textContent="\u2705"},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_each_block$2(t,e){let r,o,l=e[16]+"",h,y,D,O,F,R,B,j;function U(G,Y){return Y&6&&(O=null),Y&12&&(F=null),Y&20&&(R=null),O==null&&(O=!!G[1].includes(G[16])),O?create_if_block_1$5:(F==null&&(F=!!G[3].includes(G[16])),F?create_if_block_2$5:(R==null&&(R=!!G[4].includes(G[16])),R?create_if_block_3$3:create_else_block$5))}let q=U(e,-1),W=q(e);return{key:t,first:null,c(){r=element("tr"),o=element("td"),h=text(l),y=space(),D=element("td"),W.c(),B=space(),set_style(o,"text-align","left",1),this.first=r},m(G,Y){insert(G,r,Y),append(r,o),append(o,h),append(r,y),append(r,D),W.m(D,null),append(D,B)},p(G,Y){e=G,Y&4&&l!==(l=e[16]+"")&&set_data(h,l),q===(q=U(e,Y))&&W?W.p(e,Y):(W.d(1),W=q(e),W&&(W.c(),W.m(D,B)))},i(G){j||add_render_callback(()=>{j=create_in_transition(r,fly,{x:-20,delay:e[18]*60}),j.start()})},o:noop$2,d(G){G&&detach(r),W.d()}}}function create_if_block$6(t){let e,r,o,l,h;return{c(){e=element("div"),r=text(t[5])},m(y,D){insert(y,e,D),append(e,r),h=!0},p(y,D){(!h||D&32)&&set_data(r,y[5])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(e,fade,{duration:200}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(e,fade,{duration:600}),h=!1},d(y){y&&detach(e),y&&l&&l.end()}}}function create_fragment$b(t){let e,r,o,l,h,y=t[0].nom+"",D,O,F,R,B,j,U=Math.round(t[1].length/t[2].length*100)+"",q,W,G=t[1].length+"",Y,K,X=t[2].length+"",J,Q,Z,ee,ne,ie=t[0].sondage_name+"",re,te,se,ce,de=t[0].crea_date.split("T")[0]+"",ue,he,oe,ae,le,fe,we,me,ge,Se,ke,_e=[],xe=new Map,Ce,pe,ye,be,Pe,ve,Te,Ie,Fe,Me,De,Be,ze;function Ue(Ae,Ee){return Ae[4].length>0?create_if_block_4$3:create_else_block_1$2}let Re=Ue(t),$e=Re(t),He=t[2];const Le=Ae=>Ae[18];for(let Ae=0;Ae<He.length;Ae+=1){let Ee=get_each_context$2(t,He,Ae),Ne=Le(Ee);xe.set(Ne,_e[Ae]=create_each_block$2(Ne,Ee))}let Oe=t[5]!=""&&create_if_block$6(t);return{c(){e=element("div"),r=element("div"),o=element("div"),o.textContent="Suivi de campagne",l=space(),h=element("h2"),D=text(y),O=space(),F=element("div"),R=element("div"),B=element("div"),j=text("\u{1F50E} "),q=text(U),W=text("% r\xE9ponses ("),Y=text(G),K=text("/"),J=text(X),Q=text(")"),Z=space(),ee=element("div"),ne=text("\u{1F4DD} "),re=text(ie),te=space(),se=element("div"),ce=text("\u{1F5D3}\uFE0F Lanc\xE9e le "),ue=text(de),he=space(),oe=element("br"),ae=space(),le=element("div"),fe=element("h4"),fe.textContent="D\xE9stinataires",we=space(),$e.c(),me=space(),ge=element("div"),Se=element("table"),ke=element("tbody");for(let Ae=0;Ae<_e.length;Ae+=1)_e[Ae].c();Ce=space(),pe=element("div"),Oe&&Oe.c(),ye=space(),be=element("div"),Pe=element("button"),Pe.textContent="Fermer",ve=space(),Te=element("button"),Te.textContent="Exporter liste",Ie=space(),Fe=element("button"),Fe.textContent="Supprimer le suivi",attr(o,"class","text-center"),set_style(o,"font-family","Lexend"),set_style(o,"opacity",".7"),attr(h,"class","mb-4 text-center fw-bold"),attr(B,"class","mb-1"),attr(ee,"class","mb-1"),attr(R,"class","infoCamp mb-1 p-3 px-md-4 svelte-or0i6a"),attr(F,"class","container"),attr(le,"class","container d-flex align-items-center justify-content-between"),attr(Se,"id","contactTable"),attr(Se,"class","table mb-2"),attr(ge,"class","container p-2 text-center"),set_style(ge,"max-height","300px"),set_style(ge,"overflow-y","auto"),attr(pe,"class","reactMsg svelte-or0i6a"),attr(Pe,"class","svelte-or0i6a"),set_style(Te,"background-color","#BAE5D3"),attr(Te,"class","svelte-or0i6a"),set_style(Fe,"background-color","#F1C5CF"),attr(Fe,"class","svelte-or0i6a"),attr(be,"class","actions svelte-or0i6a"),attr(r,"class","contents p-4 svelte-or0i6a"),attr(e,"role","dialog"),attr(e,"class","modal svelte-or0i6a")},m(Ae,Ee){insert(Ae,e,Ee),append(e,r),append(r,o),append(r,l),append(r,h),append(h,D),append(r,O),append(r,F),append(F,R),append(R,B),append(B,j),append(B,q),append(B,W),append(B,Y),append(B,K),append(B,J),append(B,Q),append(R,Z),append(R,ee),append(ee,ne),append(ee,re),append(R,te),append(R,se),append(se,ce),append(se,ue),append(r,he),append(r,oe),append(r,ae),append(r,le),append(le,fe),append(le,we),$e.m(le,null),append(r,me),append(r,ge),append(ge,Se),append(Se,ke);for(let Ne=0;Ne<_e.length;Ne+=1)_e[Ne].m(ke,null);append(r,Ce),append(r,pe),Oe&&Oe.m(pe,null),append(r,ye),append(r,be),append(be,Pe),append(be,ve),append(be,Te),append(be,Ie),append(be,Fe),De=!0,Be||(ze=[listen(Pe,"click",closeModal),listen(Te,"click",t[13]),listen(Fe,"click",t[7]),listen(e,"introstart",t[9]),listen(e,"outroend",t[10])],Be=!0)},p(Ae,[Ee]){(!De||Ee&1)&&y!==(y=Ae[0].nom+"")&&set_data(D,y),(!De||Ee&6)&&U!==(U=Math.round(Ae[1].length/Ae[2].length*100)+"")&&set_data(q,U),(!De||Ee&2)&&G!==(G=Ae[1].length+"")&&set_data(Y,G),(!De||Ee&4)&&X!==(X=Ae[2].length+"")&&set_data(J,X),(!De||Ee&1)&&ie!==(ie=Ae[0].sondage_name+"")&&set_data(re,ie),(!De||Ee&1)&&de!==(de=Ae[0].crea_date.split("T")[0]+"")&&set_data(ue,de),Re===(Re=Ue(Ae))&&$e?$e.p(Ae,Ee):($e.d(1),$e=Re(Ae),$e&&($e.c(),$e.m(le,null))),Ee&94&&(He=Ae[2],_e=update_keyed_each(_e,Ee,Le,1,Ae,He,xe,ke,destroy_block,create_each_block$2,null,get_each_context$2)),Ae[5]!=""?Oe?(Oe.p(Ae,Ee),Ee&32&&transition_in(Oe,1)):(Oe=create_if_block$6(Ae),Oe.c(),transition_in(Oe,1),Oe.m(pe,null)):Oe&&(group_outros(),transition_out(Oe,1,1,()=>{Oe=null}),check_outros())},i(Ae){if(!De){for(let Ee=0;Ee<He.length;Ee+=1)transition_in(_e[Ee]);transition_in(Oe),add_render_callback(()=>{Me||(Me=create_bidirectional_transition(e,fly,{y:50},!0)),Me.run(1)}),De=!0}},o(Ae){transition_out(Oe),Me||(Me=create_bidirectional_transition(e,fly,{y:50},!1)),Me.run(0),De=!1},d(Ae){Ae&&detach(e),$e.d();for(let Ee=0;Ee<_e.length;Ee+=1)_e[Ee].d();Oe&&Oe.d(),Ae&&Me&&Me.end(),Be=!1,run_all(ze)}}}function download_table_as_csv(t,e=","){for(var r=document.querySelectorAll("table#"+t+" tr"),o=[],l=0;l<r.length;l++){for(var h=[],y=r[l].querySelectorAll("td, th"),D=0;D<y.length;D++){var O=y[D].innerText.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ").replace("Relancer","Pas de reponse").replace("\u2705","A repondu").replace("Relanc\xE9","Relance effectuee sans reponse");O=O.replace(/"/g,'""'),h.push('"'+O+'"')}o.push(h.join(e))}var F=o.join(`
`),R="export_"+t+"_"+new Date().toLocaleDateString()+".csv",B=document.createElement("a");B.style.display="none",B.setAttribute("target","_blank"),B.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(F)),B.setAttribute("download",R),document.body.appendChild(B),B.click(),document.body.removeChild(B)}function instance$9(t,e,r){let{campagne:o}=e,{listeRep:l}=e,{listeEnvoi:h}=e,y=JSON.parse(o.contact_rel).map(X=>X.mail),D=h.filter(X=>!l.includes(X)&&!y.includes(X)),{updatePrev:O}=e,F="";function R(X){r(5,F=X),setTimeout(()=>{r(5,F="")},2e3)}var B=new Headers;B.append("Authorization","Token "+xxgc("rtnt")),B.append("Content-Type","application/json");async function j(X){let J={relance:!0,sond:`https://retine.io/sondage#${o.sondage_idrtn}`,to:X,subject:`Relance :  ${o.nom}`,text:o.text};var Q={method:"POST",headers:B,redirect:"follow",body:JSON.stringify(J)};return fetch(rtnUrl+"sondagesend/",Q).then(Z=>{if(Z.ok){R(`Relance envoy\xE9e \xE0 ${X}`);return}else throw new Error("Une erreur s'est produite...")}).catch(Z=>(R("Une erreur s'est produite..."),Z))}function U(){Swal.fire({title:"Supprimer le suivi de campagne ?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#6219D8",cancelButtonColor:"#2FCC72",confirmButtonText:"Supprimer la campagne",cancelButtonText:"Annuler"}).then(X=>{if(X.isConfirmed)return fetch(rtnUrl+"viewcampagnes/",{method:"DELETE",headers:B,redirect:"follow",body:JSON.stringify({id:o.id})}).then(J=>{if(J.ok){R("Campagne supprim\xE9e."),closeModal();return}else throw new Error("Une erreur s'est produite...")}).catch(J=>(R("Une erreur s'est produite..."),J))})}function q(X){bubble.call(this,t,X)}function W(X){bubble.call(this,t,X)}const G=()=>{j(D),r(3,y=y.concat(D))},Y=(X,J)=>{j([X]),r(3,y=[...y,X])},K=()=>download_table_as_csv("contactTable",";");return t.$$set=X=>{"campagne"in X&&r(0,o=X.campagne),"listeRep"in X&&r(1,l=X.listeRep),"listeEnvoi"in X&&r(2,h=X.listeEnvoi),"updatePrev"in X&&r(8,O=X.updatePrev)},t.$$.update=()=>{t.$$.dirty&14&&r(4,D=h.filter(X=>!l.includes(X)&&!y.includes(X)))},[o,l,h,y,D,F,j,U,O,q,W,G,Y,K]}class ModalCampagneFollow extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$b,safe_not_equal,{campagne:0,listeRep:1,listeEnvoi:2,updatePrev:8})}}var campagnes_svelte_svelte_type_style_lang="";function get_each_context$1(t,e,r){const o=t.slice();return o[18]=e[r],o[20]=r,o}function get_each_context_1$1(t,e,r){const o=t.slice();return o[21]=e[r],o[20]=r,o}function get_each_context_2(t,e,r){const o=t.slice();return o[18]=e[r],o[20]=r,o}function create_catch_block_2(t){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block_2(t){let e;function r(h,y){return h[17].data.length>0?create_if_block_2$4:create_else_block_1$1}let o=r(t),l=o(t);return{c(){l.c(),e=empty()},m(h,y){l.m(h,y),insert(h,e,y)},p(h,y){o===(o=r(h))&&l?l.p(h,y):(l.d(1),l=o(h),l&&(l.c(),transition_in(l,1),l.m(e.parentNode,e)))},i(h){transition_in(l)},o:noop$2,d(h){l.d(h),h&&detach(e)}}}function create_else_block_1$1(t){let e;return{c(){e=element("div"),e.textContent="Pas de campagnes mail en cours \u{1F440}",attr(e,"class","text-center w-100 mb-4")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_if_block_2$4(t){let e,r,o,l,h,y=[],D=new Map,O=t[17].data.reverse();const F=R=>R[20];for(let R=0;R<O.length;R+=1){let B=get_each_context_2(t,O,R),j=F(B);D.set(j,y[R]=create_each_block_2(j,B))}return{c(){e=element("div"),r=element("table"),o=element("thead"),o.innerHTML=`<tr><th scope="col">Nom</th> 
                  <th scope="col">Sondage</th> 
                  <th scope="col">% r\xE9ponses</th> 
                  <th scope="col">Date</th></tr>`,l=space(),h=element("tbody");for(let R=0;R<y.length;R+=1)y[R].c();attr(r,"class","table mb-3 table-hover svelte-1mh17uk"),attr(e,"class","table-responsive")},m(R,B){insert(R,e,B),append(e,r),append(r,o),append(r,l),append(r,h);for(let j=0;j<y.length;j+=1)y[j].m(h,null)},p(R,B){B&20&&(O=R[17].data.reverse(),y=update_keyed_each(y,B,F,1,R,O,D,h,destroy_block,create_each_block_2,null,get_each_context_2))},i(R){for(let B=0;B<O.length;B+=1)transition_in(y[B])},o:noop$2,d(R){R&&detach(e);for(let B=0;B<y.length;B+=1)y[B].d()}}}function create_each_block_2(t,e){let r,o,l=e[18].camp.nom+"",h,y,D,O=e[18].camp.sondage_name+"",F,R,B,j=Math.round(JSON.parse(e[18].camp.contact_follow).length/JSON.parse(e[18].contacts.jsonContent).length*100)+"",U,q,W,G,Y=e[18].camp.crea_date.split("T")[0]+"",K,X,J,Q,Z;function ee(){return e[6](e[18])}return{key:t,first:null,c(){r=element("tr"),o=element("th"),h=text(l),y=space(),D=element("td"),F=text(O),R=space(),B=element("td"),U=text(j),q=text("%"),W=space(),G=element("td"),K=text(Y),X=space(),set_style(r,"cursor","pointer"),this.first=r},m(ne,ie){insert(ne,r,ie),append(r,o),append(o,h),append(r,y),append(r,D),append(D,F),append(r,R),append(r,B),append(B,U),append(B,q),append(r,W),append(r,G),append(G,K),append(r,X),Q||(Z=listen(r,"click",ee),Q=!0)},p(ne,ie){e=ne,ie&4&&l!==(l=e[18].camp.nom+"")&&set_data(h,l),ie&4&&O!==(O=e[18].camp.sondage_name+"")&&set_data(F,O),ie&4&&j!==(j=Math.round(JSON.parse(e[18].camp.contact_follow).length/JSON.parse(e[18].contacts.jsonContent).length*100)+"")&&set_data(U,j),ie&4&&Y!==(Y=e[18].camp.crea_date.split("T")[0]+"")&&set_data(K,Y)},i(ne){J||add_render_callback(()=>{J=create_in_transition(r,fly,{x:-20,delay:e[20]*60}),J.start()})},o:noop$2,d(ne){ne&&detach(r),Q=!1,Z()}}}function create_pending_block_2(t){let e;return{c(){e=text("Chargement...")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_catch_block_1$2(t){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block_1$2(t){let e,r,o,l,h=[],y=new Map,D,O,F=t[17].reverse();const R=B=>B[20];for(let B=0;B<F.length;B+=1){let j=get_each_context_1$1(t,F,B),U=R(j);y.set(U,h[B]=create_each_block_1$1(U,j))}return{c(){e=element("div"),r=element("div"),o=element("div"),o.textContent="+",l=space();for(let B=0;B<h.length;B+=1)h[B].c();attr(o,"class","addBtn hvr-float svelte-1mh17uk"),attr(r,"class","col-12 col-sm-4 col-md-3 mb-3"),attr(e,"class","row mt-4")},m(B,j){insert(B,e,j),append(e,r),append(r,o),append(e,l);for(let U=0;U<h.length;U+=1)h[U].m(e,null);D||(O=listen(o,"click",t[8]),D=!0)},p(B,j){j&17&&(F=B[17].reverse(),h=update_keyed_each(h,j,R,1,B,F,y,e,destroy_block,create_each_block_1$1,null,get_each_context_1$1))},d(B){B&&detach(e);for(let j=0;j<h.length;j+=1)h[j].d();D=!1,O()}}}function create_each_block_1$1(t,e){let r,o,l,h=e[21].nom+"",y,D,O,F=JSON.parse(e[21].jsonContent).length+"",R,B,j,U=e[21].crea_date.split("T")[0]+"",q,W,G,Y;function K(){return e[9](e[21])}return{key:t,first:null,c(){r=element("div"),o=element("div"),l=element("div"),y=text(h),D=space(),O=element("div"),R=text(F),B=space(),j=element("div"),q=text(U),W=space(),attr(l,"class","contacttitlecont svelte-1mh17uk"),attr(O,"class","contactnumcont svelte-1mh17uk"),attr(o,"class","listCard hvr-float svelte-1mh17uk"),attr(r,"class","col-6 col-sm-4 col-md-3 mb-3"),this.first=r},m(X,J){insert(X,r,J),append(r,o),append(o,l),append(l,y),append(o,D),append(o,O),append(O,R),append(o,B),append(o,j),append(j,q),append(r,W),G||(Y=listen(o,"click",K),G=!0)},p(X,J){e=X,J&1&&h!==(h=e[21].nom+"")&&set_data(y,h),J&1&&F!==(F=JSON.parse(e[21].jsonContent).length+"")&&set_data(R,F),J&1&&U!==(U=e[21].crea_date.split("T")[0]+"")&&set_data(q,U)},d(X){X&&detach(r),G=!1,Y()}}}function create_pending_block_1$2(t){let e;return{c(){e=element("div"),e.textContent="Chargement..."},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_catch_block$4(t){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block$4(t){let e,r;function o(y,D){return D&2&&(e=null),e==null&&(e=y[17].filter(func$1).length>0),e?create_if_block_1$4:create_else_block$4}let l=o(t,-1),h=l(t);return{c(){h.c(),r=empty()},m(y,D){h.m(y,D),insert(y,r,D)},p(y,D){l===(l=o(y,D))&&h?h.p(y,D):(h.d(1),h=l(y),h&&(h.c(),transition_in(h,1),h.m(r.parentNode,r)))},i(y){transition_in(h)},o:noop$2,d(y){h.d(y),y&&detach(r)}}}function create_else_block$4(t){let e;return{c(){e=element("div"),e.textContent="Pas encore de sondage \xE0 diffuser \u{1F440}",attr(e,"class","text-center w-100")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_if_block_1$4(t){let e=[],r=new Map,o,l=t[17].reverse().filter(func_1$1);const h=y=>y[20];for(let y=0;y<l.length;y+=1){let D=get_each_context$1(t,l,y),O=h(D);r.set(O,e[y]=create_each_block$1(O,D))}return{c(){for(let y=0;y<e.length;y+=1)e[y].c();o=empty()},m(y,D){for(let O=0;O<e.length;O+=1)e[O].m(y,D);insert(y,o,D)},p(y,D){D&18&&(l=y[17].reverse().filter(func_1$1),e=update_keyed_each(e,D,h,1,y,l,r,o.parentNode,destroy_block,create_each_block$1,o,get_each_context$1))},i(y){for(let D=0;D<l.length;D+=1)transition_in(e[D])},o:noop$2,d(y){for(let D=0;D<e.length;D+=1)e[D].d(y);y&&detach(o)}}}function create_each_block$1(t,e){let r,o,l=e[18].nom_proj+"",h,y,D,O,F;function R(){return e[10](e[18])}return{key:t,first:null,c(){r=element("div"),o=element("div"),h=text(l),y=space(),attr(o,"class","projComCard hvr-float svelte-1mh17uk"),set_style(o,"background-color",e[18].color),attr(r,"class","col-12 col-md-4 mb-2"),this.first=r},m(B,j){insert(B,r,j),append(r,o),append(o,h),append(r,y),O||(F=listen(o,"click",R),O=!0)},p(B,j){e=B,j&2&&l!==(l=e[18].nom_proj+"")&&set_data(h,l),j&2&&set_style(o,"background-color",e[18].color)},i(B){D||add_render_callback(()=>{D=create_in_transition(r,fly,{x:-20,delay:e[20]*60}),D.start()})},o:noop$2,d(B){B&&detach(r),O=!1,F()}}}function create_pending_block$4(t){let e;return{c(){e=text("Chargement...")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_if_block$5(t){let e,r,o,l,h,y,D;const O=[t[3].props||{}];var F=t[3].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(e=new F(R())),{c(){e&&create_component(e.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-1mh17uk")},m(B,j){e&&mount_component(e,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",t[11]),y=!0)},p(B,j){const U=j&8?get_spread_update(O,[get_spread_object(B[3].props||{})]):{};if(F!==(F=B[3].component)){if(e){group_outros();const q=e;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(e=new F(R()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else F&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$3(t){let e,r,o=t[3]&&create_if_block$5(t);return{c(){o&&o.c(),e=empty()},m(l,h){o&&o.m(l,h),insert(l,e,h),r=!0},p(l,h){l[3]?o?(o.p(l,h),h&8&&transition_in(o,1)):(o=create_if_block$5(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$a(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te,se,ce,de,ue,he,oe,ae,le,fe,we,me,ge,Se,ke={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block_2,then:create_then_block_2,catch:create_catch_block_2,value:17};handle_promise(q=t[2],ke);let _e={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$2,then:create_then_block_1$2,catch:create_catch_block_1$2,value:17};handle_promise(ie=t[0],_e);let xe={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block$4,then:create_then_block$4,catch:create_catch_block$4,value:17};return handle_promise(ae=t[1],xe),we=new Modals({props:{$$slots:{default:[create_default_slot$3]},$$scope:{ctx:t}}}),{c(){e=element("div"),r=element("h1"),r.textContent="Vos campagnes de diffusion",o=space(),l=element("h6"),l.textContent="Diffusez vos sondages via un ou plusieurs canaux, constituez des listes d\u2019envoi et organisez votre campagnes d\u2019e-mailing",h=space(),y=element("div"),D=space(),O=element("div"),F=element("h4"),F.textContent="\u{1F4E8} Campagnes mail",R=space(),B=element("p"),B.textContent="Cr\xE9ez une campagne email pour partager votre sondage aupr\xE8s de vos cibles, en suivre la diffusion et relancer les non-r\xE9pondants.",j=space(),U=element("div"),ke.block.c(),W=space(),G=element("div"),G.textContent="\u{1F680} Nouvelle campagne",X=space(),J=element("div"),Q=element("h4"),Q.textContent="\u{1F465} Listes d'envoi",Z=space(),ee=element("p"),ee.textContent="Ces listes d'envois pourront \xEAtre utilis\xE9es pour diffuser vos sondages.",ne=space(),_e.block.c(),te=space(),se=element("div"),ce=element("h4"),ce.textContent="\u{1F4E2} Diffuser un sondage",de=space(),ue=element("p"),ue.textContent="Cliquez sur un de vos sondages pour l'envoyer par par les moyens de votre choix \xE0 votre audience.",he=space(),oe=element("div"),xe.block.c(),fe=space(),create_component(we.$$.fragment),attr(r,"class","py-2 mb-1 text-left"),attr(l,"class","ps-3 opacity-75"),attr(y,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),set_style(B,"opacity",".7"),attr(G,"class","newCamp hvr-grow svelte-1mh17uk"),attr(U,"class","mt-4"),attr(O,"class","neuProjet p-4 mb-5 svelte-1mh17uk"),set_style(ee,"opacity",".7"),attr(J,"class","neuProjet p-4 mb-5 svelte-1mh17uk"),set_style(ue,"opacity",".7"),attr(oe,"class","row text-center mt-4"),attr(se,"class","neuProjet p-4 mb-5 svelte-1mh17uk"),attr(e,"class","row p-3 w-100 mx-auto mb-5"),set_style(e,"max-width","1100px")},m(Ce,pe){insert(Ce,e,pe),append(e,r),append(e,o),append(e,l),append(e,h),append(e,y),append(e,D),append(e,O),append(O,F),append(O,R),append(O,B),append(O,j),append(O,U),ke.block.m(U,ke.anchor=null),ke.mount=()=>U,ke.anchor=W,append(U,W),append(U,G),append(e,X),append(e,J),append(J,Q),append(J,Z),append(J,ee),append(J,ne),_e.block.m(J,_e.anchor=null),_e.mount=()=>J,_e.anchor=null,append(e,te),append(e,se),append(se,ce),append(se,de),append(se,ue),append(se,he),append(se,oe),xe.block.m(oe,xe.anchor=null),xe.mount=()=>oe,xe.anchor=null,insert(Ce,fe,pe),mount_component(we,Ce,pe),me=!0,ge||(Se=listen(G,"click",t[7]),ge=!0)},p(Ce,[pe]){t=Ce,ke.ctx=t,pe&4&&q!==(q=t[2])&&handle_promise(q,ke)||update_await_block_branch(ke,t,pe),_e.ctx=t,pe&1&&ie!==(ie=t[0])&&handle_promise(ie,_e)||update_await_block_branch(_e,t,pe),xe.ctx=t,pe&2&&ae!==(ae=t[1])&&handle_promise(ae,xe)||update_await_block_branch(xe,t,pe);const ye={};pe&16777224&&(ye.$$scope={dirty:pe,ctx:t}),we.$set(ye)},i(Ce){me||(transition_in(ke.block),Y||add_render_callback(()=>{Y=create_in_transition(G,fly,{x:-20,delay:50}),Y.start()}),K||add_render_callback(()=>{K=create_in_transition(O,fly,{x:-20,duration:600,delay:150}),K.start()}),re||add_render_callback(()=>{re=create_in_transition(J,fly,{x:-20,duration:600,delay:300}),re.start()}),transition_in(xe.block),le||add_render_callback(()=>{le=create_in_transition(se,fly,{x:-20,duration:600,delay:150}),le.start()}),transition_in(we.$$.fragment,Ce),me=!0)},o(Ce){transition_out(we.$$.fragment,Ce),me=!1},d(Ce){Ce&&detach(e),ke.block.d(),ke.token=null,ke=null,_e.block.d(),_e.token=null,_e=null,xe.block.d(),xe.token=null,xe=null,Ce&&detach(fe),destroy_component(we,Ce),ge=!1,Se()}}}const func$1=t=>!t.priv,func_1$1=t=>!t.priv;function instance$8(t,e,r){let o,l;component_subscribe(t,modals,J=>r(5,l=J));var h=new Headers;h.append("Authorization","Token "+xxgc("rtnt")),h.append("Content-Type","application/json");var y={method:"GET",headers:h,redirect:"follow"};async function D(){return fetch(rtnUrl+"contactlist/",y).then(J=>J.text()).then(J=>JSON.parse(J)).catch(J=>J)}let O=D();async function F(){return fetch(rtnUrl+"sondages/edit/",y).then(J=>J.text()).then(J=>JSON.parse(J)).catch(J=>J)}let R=F();async function B(){return fetch(rtnUrl+"viewcampagnes/",y).then(J=>J.text()).then(J=>JSON.parse(J)).catch(J=>J)}let j=B();const U=()=>{r(0,O=D()),r(2,j=B()),r(1,R=F())},q=J=>openModal(ModalCampagneFollow,{campagne:J.camp,listeRep:JSON.parse(J.camp.contact_follow),listeEnvoi:JSON.parse(J.contacts.jsonContent),updatePrev:U}),W=()=>{openModal(ModalDiffuse,{mean:"mail"})},G=()=>openModal(ModalContactList,{id:"new",nom:"",jsonContent:"",updateBack:U}),Y=J=>openModal(ModalContactList,Je(Ye({},J),{updateBack:U})),K=J=>{openModal(ModalDiffuse,{proj:J,updatePrev:U})},X=()=>{closeModal()};return t.$$.update=()=>{t.$$.dirty&32&&r(3,o=l[l.length-1])},[O,R,j,o,U,l,q,W,G,Y,K,X]}class Campagnes extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$a,safe_not_equal,{})}}var modalSubscribe_svelte_svelte_type_style_lang="";function create_else_block$3(t){let e;return{c(){e=element("a"),e.textContent="\u2709\uFE0F Contactez nous pour d\xE9bloquer R\xE9tine Pro.",attr(e,"href","mailto:bonjour@jetevois.fr")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_fragment$9(t){let e,r,o,l,h,y,D,O,F,R,B,j;function U(G,Y){return create_else_block$3}let W=U()(t);return{c(){e=element("div"),r=element("div"),o=element("h2"),o.textContent="R\xE9tine Pro",l=space(),h=element("div"),W.c(),y=space(),D=element("div"),O=element("button"),O.textContent="Close",attr(o,"class","mb-4 text-center"),attr(h,"class","container p-2 text-center"),attr(O,"class","svelte-rzy123"),attr(D,"class","actions svelte-rzy123"),attr(r,"class","contents svelte-rzy123"),attr(e,"role","dialog"),attr(e,"class","modal svelte-rzy123")},m(G,Y){insert(G,e,Y),append(e,r),append(r,o),append(r,l),append(r,h),W.m(h,null),append(r,y),append(r,D),append(D,O),R=!0,B||(j=[listen(O,"click",closeModal),listen(e,"introstart",t[1]),listen(e,"outroend",t[2])],B=!0)},p(G,[Y]){W.p(G,Y)},i(G){R||(add_render_callback(()=>{F||(F=create_bidirectional_transition(e,fly,{y:50},!0)),F.run(1)}),R=!0)},o(G){F||(F=create_bidirectional_transition(e,fly,{y:50},!1)),F.run(0),R=!1},d(G){G&&detach(e),W.d(),G&&F&&F.end(),B=!1,run_all(j)}}}function showMessage(t){const e=document.querySelector("#payment-message");e.classList.remove("hidden"),e.textContent=t,setTimeout(function(){e.classList.add("hidden"),t.textContent=""},4e3)}function setLoading(t){t?(document.querySelector("#submit").disabled=!0,document.querySelector("#spinner").classList.remove("hidden"),document.querySelector("#button-text").classList.add("hidden")):(document.querySelector("#submit").disabled=!1,document.querySelector("#spinner").classList.add("hidden"),document.querySelector("#button-text").classList.remove("hidden"))}function instance$7(t){const e=Stripe("pk_test_51LMG1QLrdrho62m2BYRK9XFbBw6mVeXz1dmMpTlGQU6HAJcqT5u9ZkDFuCIQ9cyjXrEvMm2C14C2qus6E9Di350L00WPqAfdpX"),r=[{id:"xl-tshirt"}];let o;onMount(()=>{l(),y()});async function l(){const F=await fetch("/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:r})}),{clientSecret:R}=await F.json(),B={theme:"stripe"};o=e.elements({appearance:B,clientSecret:R}),o.create("payment").mount("#payment-element")}async function h(F){F.preventDefault(),setLoading(!0);const{error:R}=await e.confirmPayment({elements:o,confirmParams:{return_url:"http://localhost:4242/checkout.html"}});R.type==="card_error"||R.type==="validation_error"?showMessage(R.message):showMessage("An unexpected error occurred."),setLoading(!1)}async function y(){const F=new URLSearchParams(window.location.search).get("payment_intent_client_secret");if(!F)return;const{paymentIntent:R}=await e.retrievePaymentIntent(F);switch(R.status){case"succeeded":showMessage("Payment succeeded!");break;case"processing":showMessage("Your payment is processing.");break;case"requires_payment_method":showMessage("Your payment was not successful, please try again.");break;default:showMessage("Something went wrong.");break}}function D(F){bubble.call(this,t,F)}function O(F){bubble.call(this,t,F)}return[h,D,O]}class ModalSubscribe extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$9,safe_not_equal,{})}}var account_svelte_svelte_type_style_lang="";function create_catch_block_1$1(t){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block_1$1(t){let e,r=t[18].email+"",o,l,h,y=t[18].sondage.length+"",D,O,F,R,B,j=t[18].created_at.split("T")[0]+"",U;return{c(){e=element("div"),o=text(r),l=space(),h=element("div"),D=text(y),O=text(" sondage(s) cr\xE9\xE9(s)."),F=space(),R=element("div"),B=text("Profil cr\xE9\xE9 le "),U=text(j),attr(e,"class","profileInfo svelte-47n95o"),attr(h,"class","profileInfo svelte-47n95o"),attr(R,"class","profileInfo svelte-47n95o")},m(q,W){insert(q,e,W),append(e,o),insert(q,l,W),insert(q,h,W),append(h,D),append(h,O),insert(q,F,W),insert(q,R,W),append(R,B),append(R,U)},p(q,W){W&2&&r!==(r=q[18].email+"")&&set_data(o,r),W&2&&y!==(y=q[18].sondage.length+"")&&set_data(D,y),W&2&&j!==(j=q[18].created_at.split("T")[0]+"")&&set_data(U,j)},d(q){q&&detach(e),q&&detach(l),q&&detach(h),q&&detach(F),q&&detach(R)}}}function create_pending_block_1$1(t){let e;return{c(){e=text("Chargement...")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_4$2(t){let e,r;return{c(){e=element("div"),e.textContent="Votre nouveau mot de passe n'est pas valable.",set_style(e,"color","red")},m(o,l){insert(o,e,l)},i(o){r||add_render_callback(()=>{r=create_in_transition(e,fly,{x:-100}),r.start()})},o:noop$2,d(o){o&&detach(e)}}}function create_if_block_3$2(t){let e,r;return{c(){e=element("div"),e.textContent="Votre mot de passe a \xE9t\xE9 modifi\xE9.",set_style(e,"color","green")},m(o,l){insert(o,e,l)},i(o){r||add_render_callback(()=>{r=create_in_transition(e,fly,{x:-100}),r.start()})},o:noop$2,d(o){o&&detach(e)}}}function create_catch_block$3(t){let e,r,o,l,h;return{c(){e=element("div"),e.textContent="Vous avez l'offre gratuite. Cliquez ci-dessous pour b\xE9n\xE9ficier de l'exp\xE9rience compl\xE8te R\xE9tine.",r=space(),o=element("div"),o.textContent="S'abonner \u{1F680}",attr(e,"class","planInfo svelte-47n95o"),attr(o,"class","btnAbonnement svelte-47n95o")},m(y,D){insert(y,e,D),insert(y,r,D),insert(y,o,D),l||(h=listen(o,"click",t[12]),l=!0)},p:noop$2,d(y){y&&detach(e),y&&detach(r),y&&detach(o),l=!1,h()}}}function create_then_block$3(t){let e;function r(h,y){if(h[18].plan==2)return create_if_block_1$3;if(h[18].plan==3)return create_if_block_2$3}let o=r(t),l=o&&o(t);return{c(){l&&l.c(),e=empty()},m(h,y){l&&l.m(h,y),insert(h,e,y)},p(h,y){o!==(o=r(h))&&(l&&l.d(1),l=o&&o(h),l&&(l.c(),l.m(e.parentNode,e)))},d(h){l&&l.d(h),h&&detach(e)}}}function create_if_block_2$3(t){let e;return{c(){e=element("div"),e.textContent="Vous avez l'offre corpo"},m(r,o){insert(r,e,o)},d(r){r&&detach(e)}}}function create_if_block_1$3(t){let e;return{c(){e=element("div"),e.textContent="Vous avez l'offre R\xE9tine Pro."},m(r,o){insert(r,e,o)},d(r){r&&detach(e)}}}function create_pending_block$3(t){let e;return{c(){e=element("div"),e.textContent="Chargement..."},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block$4(t){let e,r,o,l,h,y,D;const O=[t[6].props||{}];var F=t[6].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(e=new F(R())),{c(){e&&create_component(e.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-47n95o")},m(B,j){e&&mount_component(e,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",t[13]),y=!0)},p(B,j){const U=j&64?get_spread_update(O,[get_spread_object(B[6].props||{})]):{};if(F!==(F=B[6].component)){if(e){group_outros();const q=e;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(e=new F(R()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else F&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$2(t){let e,r,o=t[6]&&create_if_block$4(t);return{c(){o&&o.c(),e=empty()},m(l,h){o&&o.m(l,h),insert(l,e,h),r=!0},p(l,h){l[6]?o?(o.p(l,h),h&64&&transition_in(o,1)):(o=create_if_block$4(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$8(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te,se,ce,de,ue,he,oe,ae,le,fe,we,me={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$1,then:create_then_block_1$1,catch:create_catch_block_1$1,value:18};handle_promise(F=t[1],me);function ge(xe,Ce){if(xe[5]=="success")return create_if_block_3$2;if(xe[5]=="error")return create_if_block_4$2}let Se=ge(t),ke=Se&&Se(t),_e={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block$3,then:create_then_block$3,catch:create_catch_block$3,value:18};return handle_promise(ue=t[0],_e),ae=new Modals({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:t}}}),{c(){e=element("h1"),e.textContent="Mon compte",r=space(),o=element("div"),l=element("div"),h=element("div"),y=element("h5"),y.textContent="\u{1F464} Mon profil",D=space(),O=element("div"),me.block.c(),B=space(),j=element("div"),U=element("div"),q=element("h5"),q.textContent="\u{1F511} Changement de mot de passe",W=space(),G=element("div"),Y=element("input"),K=space(),X=element("input"),J=space(),Q=element("input"),Z=space(),ke&&ke.c(),ee=space(),ne=element("button"),ne.textContent="Valider",re=space(),te=element("div"),se=element("div"),ce=element("h5"),ce.textContent="\u2728 Mon abonnement",de=space(),_e.block.c(),oe=space(),create_component(ae.$$.fragment),attr(e,"class","py-2 mb-3 text-center"),attr(O,"class","d-flex justify-content-center flex-column"),attr(h,"class","neuContainer p-4 svelte-47n95o"),attr(l,"class","col-12 col-md-6 p-3"),attr(Y,"class","input svelte-47n95o"),attr(Y,"type","password"),attr(Y,"placeholder","Ancien mot de passe"),attr(X,"class","input svelte-47n95o"),attr(X,"type","password"),attr(X,"placeholder","Nouveau mot de passe"),attr(Q,"class","input svelte-47n95o"),attr(Q,"type","password"),attr(Q,"placeholder","Confirmation du nouveau mot de passe"),attr(ne,"class","validateBtn svelte-47n95o"),attr(G,"class","mdpFields d-flex justify-content-center flex-column"),attr(U,"class","neuContainer p-4 svelte-47n95o"),attr(j,"class","col-12 col-md-6 p-3"),attr(se,"class","neuContainer p-4 svelte-47n95o"),attr(te,"class","col-12 p-3"),attr(o,"id","myAccount"),attr(o,"class","row p-3 mx-auto"),set_style(o,"max-width","1100px"),set_style(o,"width","85vw")},m(xe,Ce){insert(xe,e,Ce),insert(xe,r,Ce),insert(xe,o,Ce),append(o,l),append(l,h),append(h,y),append(h,D),append(h,O),me.block.m(O,me.anchor=null),me.mount=()=>O,me.anchor=null,append(o,B),append(o,j),append(j,U),append(U,q),append(U,W),append(U,G),append(G,Y),set_input_value(Y,t[2]),append(G,K),append(G,X),set_input_value(X,t[3]),append(G,J),append(G,Q),set_input_value(Q,t[4]),append(G,Z),ke&&ke.m(G,null),append(G,ee),append(G,ne),append(o,re),append(o,te),append(te,se),append(se,ce),append(se,de),_e.block.m(se,_e.anchor=null),_e.mount=()=>se,_e.anchor=null,insert(xe,oe,Ce),mount_component(ae,xe,Ce),le=!0,fe||(we=[listen(Y,"input",t[9]),listen(X,"input",t[10]),listen(Q,"input",t[11]),listen(ne,"click",t[7])],fe=!0)},p(xe,[Ce]){t=xe,me.ctx=t,Ce&2&&F!==(F=t[1])&&handle_promise(F,me)||update_await_block_branch(me,t,Ce),Ce&4&&Y.value!==t[2]&&set_input_value(Y,t[2]),Ce&8&&X.value!==t[3]&&set_input_value(X,t[3]),Ce&16&&Q.value!==t[4]&&set_input_value(Q,t[4]),Se!==(Se=ge(t))&&(ke&&ke.d(1),ke=Se&&Se(t),ke&&(ke.c(),transition_in(ke,1),ke.m(G,ee))),_e.ctx=t,Ce&1&&ue!==(ue=t[0])&&handle_promise(ue,_e)||update_await_block_branch(_e,t,Ce);const pe={};Ce&524352&&(pe.$$scope={dirty:Ce,ctx:t}),ae.$set(pe)},i(xe){le||(R||add_render_callback(()=>{R=create_in_transition(h,fly,{x:-80,delay:50}),R.start()}),transition_in(ke),ie||add_render_callback(()=>{ie=create_in_transition(U,fly,{x:-80,delay:150}),ie.start()}),he||add_render_callback(()=>{he=create_in_transition(se,fly,{x:-80,delay:250}),he.start()}),transition_in(ae.$$.fragment,xe),le=!0)},o(xe){transition_out(ae.$$.fragment,xe),le=!1},d(xe){xe&&detach(e),xe&&detach(r),xe&&detach(o),me.block.d(),me.token=null,me=null,ke&&ke.d(),_e.block.d(),_e.token=null,_e=null,xe&&detach(oe),destroy_component(ae,xe),fe=!1,run_all(we)}}}function instance$6(t,e,r){let o,l;component_subscribe(t,modals,J=>r(8,l=J));var h=new Headers;h.append("Authorization","Token "+xxgc("rtnt")),h.append("Content-Type","application/json");async function y(){var J={method:"GET",headers:h,redirect:"follow"};return fetch(rtnUrl+"myplan/",J).then(Q=>{if(Q.ok)return Q.text();throw new Error("Something went wrong")}).then(Q=>JSON.parse(Q)).catch(Q=>{throw new Error("Something went wrong")})}async function D(){var J={method:"GET",headers:h,redirect:"follow"};return fetch(rtnUrl+"auth/user/",J).then(Q=>Q.text()).then(Q=>JSON.parse(Q)).catch(Q=>Q)}let O=y(),F=D(),R,B,j,U;function q(){var J={method:"POST",headers:h,redirect:"follow",body:JSON.stringify({new_password1:B,new_password2:j,old_password:R})};return fetch(rtnUrl+"auth/password/change/",J).then(Q=>Q.text()).then(Q=>{let Z=JSON.parse(Q);Object.values(Z)[0]=="New password has been saved."?r(5,U="success"):r(5,U="error")}).catch(Q=>Q)}function W(){R=this.value,r(2,R)}function G(){B=this.value,r(3,B)}function Y(){j=this.value,r(4,j)}const K=()=>openModal(ModalSubscribe),X=()=>{closeModal()};return t.$$.update=()=>{t.$$.dirty&256&&r(6,o=l[l.length-1])},[O,F,R,B,j,U,o,q,l,W,G,Y,K,X]}class Account extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$8,safe_not_equal,{})}}var projetLine_svelte_svelte_type_style_lang="";function create_if_block$3(t){let e,r=t[0].reponse.length.toString()+" r\xE9p.",o;return{c(){e=element("div"),o=text(r)},m(l,h){insert(l,e,h),append(e,o)},p(l,h){h&1&&r!==(r=l[0].reponse.length.toString()+" r\xE9p.")&&set_data(o,r)},d(l){l&&detach(e)}}}function create_fragment$7(t){let e,r,o,l=t[0].nom_proj+"",h,y,D,O,F=t[0].crea_date.split("T")[0]+"",R,B,j,U,q,W,G,Y,K=!t[1]&&create_if_block$3(t);return{c(){e=element("div"),r=element("div"),o=element("div"),h=text(l),y=space(),D=element("div"),O=element("div"),R=text(F),B=space(),K&&K.c(),j=space(),U=element("div"),q=element("img"),attr(r,"class","p-1 pr-1 w-100 h-75 m-0"),attr(O,"class","d-fk"),attr(D,"class","px-3 flex-fill d-flex justify-content-between align-items-center w-100 text-center"),attr(q,"class","w-100"),src_url_equal(q.src,W=t[1]?"/assets/icons/delete.svg":"/assets/icons/share.svg")||attr(q,"src",W),attr(q,"alt","bouton partger"),attr(U,"class","threeDot hvr-bounce-in svelte-11fxtas"),attr(U,"style",t[1]?"background-color: #E74C3C;":"background-color: #6219d8;"),attr(e,"class","neuProjet d-flex align-items-center justify-content-around hvr-forward svelte-11fxtas")},m(X,J){insert(X,e,J),append(e,r),append(r,o),append(o,h),append(e,y),append(e,D),append(D,O),append(O,R),append(D,B),K&&K.m(D,null),append(e,j),append(e,U),append(U,q),G||(Y=[listen(U,"click",stop_propagation(t[2])),listen(e,"click",t[3])],G=!0)},p(X,[J]){J&1&&l!==(l=X[0].nom_proj+"")&&set_data(h,l),J&1&&F!==(F=X[0].crea_date.split("T")[0]+"")&&set_data(R,F),X[1]||K.p(X,J)},i:noop$2,o:noop$2,d(X){X&&detach(e),K&&K.d(),G=!1,run_all(Y)}}}function instance$5(t,e,r){let{sondage:o}=e,{loadSondage:l}=e,{updateFun:h}=e,{loadSView:y}=e,{shareFunction:D}=e,O=o.reponse.length==0&&o.priv==!0;const F=()=>{O?delSondRtn(o.id,h):D(),window.event.stopPropagation()},R=()=>{O?(r(0,o.jsonContent=JSON.parse(o.jsonContent),o),l(o,o.id)):y(o)};return t.$$set=B=>{"sondage"in B&&r(0,o=B.sondage),"loadSondage"in B&&r(4,l=B.loadSondage),"updateFun"in B&&r(5,h=B.updateFun),"loadSView"in B&&r(6,y=B.loadSView),"shareFunction"in B&&r(7,D=B.shareFunction)},[o,O,F,R,l,h,y,D]}class ProjetLine extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$7,safe_not_equal,{sondage:0,loadSondage:4,updateFun:5,loadSView:6,shareFunction:7})}}var summary_svelte_svelte_type_style_lang="";function get_each_context(t,e,r){const o=t.slice();return o[19]=e[r],o[21]=r,o}function get_each_context_1(t,e,r){const o=t.slice();return o[19]=e[r],o[21]=r,o}function create_catch_block_1(t){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block_1(t){let e;function r(h,y){return h[2].length>0?create_if_block_5$1:create_else_block$2}let o=r(t),l=o(t);return{c(){l.c(),e=empty()},m(h,y){l.m(h,y),insert(h,e,y)},p(h,y){o===(o=r(h))&&l?l.p(h,y):(l.d(1),l=o(h),l&&(l.c(),transition_in(l,1),l.m(e.parentNode,e)))},i(h){transition_in(l)},o:noop$2,d(h){l.d(h),h&&detach(e)}}}function create_else_block$2(t){let e,r,o;return{c(){e=element("div"),r=element("div"),r.innerHTML=`<div class="d-flex flex-column flex-md-row justify-content-around align-items-center"><div class="pr-0 pr-md-4"><lottie-player src="https://assets1.lottiefiles.com/packages/lf20_e8zq5gga.json" background="transparent" speed="1" style="width:250px; margin:auto;" autoplay=""></lottie-player></div> 
              <div class="margin:auto;"><h4>Bienvenue sur R\xE9tine \u{1F680}</h4> 
                <p>Voici votre tableau de bord, qui vous donnera une vue d&#39;ensemble de vos projets les plus r\xE9cents.</p> 
                <p>Cr\xE9ez d\xE8s \xE0 pr\xE9sent votre premier sondage, \xE0 partir de 0 ou en chargeant un de nos mod\xE8les adapt\xE9 \xE0 votre situation !</p></div></div>`,attr(r,"class","neuProjet p-4 svelte-7o2nba"),attr(e,"class","col-12 col-sm-12 col-lg-12")},m(l,h){insert(l,e,h),append(e,r)},p:noop$2,i(l){o||add_render_callback(()=>{o=create_in_transition(r,fly,{y:50,duration:600,delay:50}),o.start()})},o:noop$2,d(l){l&&detach(e)}}}function create_if_block_5$1(t){let e,r,o,l,h,y,D,O,F,R,B,j;return{c(){e=element("div"),r=element("div"),o=element("h4"),o.textContent="Derni\xE8res r\xE9ponses \xE0 vos sondages",l=space(),h=element("div"),y=element("canvas"),D=space(),O=element("div"),F=element("button"),F.textContent="\u{1F4C4} Copier le graphique",attr(y,"id","repChart"),attr(h,"class","flex-fill p-3"),attr(F,"class","screenBtn hvr-grow svelte-7o2nba"),attr(O,"class","d-flex align-items-center justify-content-between"),attr(r,"class","neuProjet p-4 d-flex flex-column justify-content-between svelte-7o2nba"),set_style(r,"height","420px"),attr(e,"class","col-12 mb-3")},m(U,q){insert(U,e,q),append(e,r),append(r,o),append(r,l),append(r,h),append(h,y),append(r,D),append(r,O),append(O,F),B||(j=[action_destroyer(t[7].call(null,y)),listen(F,"click",t[10])],B=!0)},p:noop$2,i(U){R||add_render_callback(()=>{R=create_in_transition(r,fly,{y:50,duration:600,delay:50}),R.start()})},o:noop$2,d(U){U&&detach(e),B=!1,run_all(j)}}}function create_pending_block_1(t){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_catch_block$2(t){let e,r=t[23]+"",o;return{c(){e=element("div"),o=text(r)},m(l,h){insert(l,e,h),append(e,o)},p(l,h){h&16&&r!==(r=l[23]+"")&&set_data(o,r)},i:noop$2,o:noop$2,d(l){l&&detach(e)}}}function create_then_block$2(t){let e=t[18].filter(func_1).length>0,r,o=t[18].filter(func).length>0,l,h,y=e&&create_if_block_3$1(t),D=o&&create_if_block_1$2(t);return{c(){y&&y.c(),r=space(),D&&D.c(),l=empty()},m(O,F){y&&y.m(O,F),insert(O,r,F),D&&D.m(O,F),insert(O,l,F),h=!0},p(O,F){F&16&&(e=O[18].filter(func_1).length>0),e?y?(y.p(O,F),F&16&&transition_in(y,1)):(y=create_if_block_3$1(O),y.c(),transition_in(y,1),y.m(r.parentNode,r)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros()),F&16&&(o=O[18].filter(func).length>0),o?D?(D.p(O,F),F&16&&transition_in(D,1)):(D=create_if_block_1$2(O),D.c(),transition_in(D,1),D.m(l.parentNode,l)):D&&(group_outros(),transition_out(D,1,1,()=>{D=null}),check_outros())},i(O){h||(transition_in(y),transition_in(D),h=!0)},o(O){transition_out(y),transition_out(D),h=!1},d(O){y&&y.d(O),O&&detach(r),D&&D.d(O),O&&detach(l)}}}function create_if_block_3$1(t){let e,r,o,l,h=[],y=new Map,D,O,F=t[18].reverse().filter(func_2);const R=B=>B[19].id;for(let B=0;B<F.length;B+=1){let j=get_each_context_1(t,F,B),U=R(j);y.set(U,h[B]=create_each_block_1(U,j))}return{c(){e=element("div"),r=element("div"),o=element("h4"),o.textContent="Vos sondages r\xE9cents",l=space();for(let B=0;B<h.length;B+=1)h[B].c();attr(o,"class","mb-4"),attr(r,"class","neuProjet px-3 py-4 svelte-7o2nba"),attr(e,"class","col-12 col-sm-6 col-lg-6 mb-4")},m(B,j){insert(B,e,j),append(e,r),append(r,o),append(r,l);for(let U=0;U<h.length;U+=1)h[U].m(r,null);O=!0},p(B,j){j&275&&(F=B[18].reverse().filter(func_2),group_outros(),h=update_keyed_each(h,j,R,1,B,F,y,r,outro_and_destroy_block,create_each_block_1,null,get_each_context_1),check_outros())},i(B){if(!O){for(let j=0;j<F.length;j+=1)transition_in(h[j]);D||add_render_callback(()=>{D=create_in_transition(r,fly,{y:50,duration:600,delay:200}),D.start()}),O=!0}},o(B){for(let j=0;j<h.length;j+=1)transition_out(h[j]);O=!1},d(B){B&&detach(e);for(let j=0;j<h.length;j+=1)h[j].d()}}}function create_if_block_4$1(t){let e,r,o,l,h,y;function D(){return t[13](t[19])}return r=new ProjetLine({props:{loadSondage:t[0],sondage:t[19],loadSView:t[1],shareFunction:D,updateFun:t[8]}}),{c(){e=element("div"),create_component(r.$$.fragment),o=space(),l=element("hr"),h=space(),attr(l,"class","projectSep svelte-7o2nba")},m(O,F){insert(O,e,F),mount_component(r,e,null),append(e,o),append(e,l),append(e,h),y=!0},p(O,F){t=O;const R={};F&1&&(R.loadSondage=t[0]),F&16&&(R.sondage=t[19]),F&2&&(R.loadSView=t[1]),F&16&&(R.shareFunction=D),r.$set(R)},i(O){y||(transition_in(r.$$.fragment,O),y=!0)},o(O){transition_out(r.$$.fragment,O),y=!1},d(O){O&&detach(e),destroy_component(r)}}}function create_each_block_1(t,e){let r,o,l,h=e[21]<7&&create_if_block_4$1(e);return{key:t,first:null,c(){r=empty(),h&&h.c(),o=empty(),this.first=r},m(y,D){insert(y,r,D),h&&h.m(y,D),insert(y,o,D),l=!0},p(y,D){e=y,e[21]<7?h?(h.p(e,D),D&16&&transition_in(h,1)):(h=create_if_block_4$1(e),h.c(),transition_in(h,1),h.m(o.parentNode,o)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros())},i(y){l||(transition_in(h),l=!0)},o(y){transition_out(h),l=!1},d(y){y&&detach(r),h&&h.d(y),y&&detach(o)}}}function create_if_block_1$2(t){let e,r,o,l,h=[],y=new Map,D,O,F=t[18].reverse().filter(func_4);const R=B=>B[19].id;for(let B=0;B<F.length;B+=1){let j=get_each_context(t,F,B),U=R(j);y.set(U,h[B]=create_each_block(U,j))}return{c(){e=element("div"),r=element("div"),o=element("h4"),o.textContent="Reprenez vos brouillons",l=space();for(let B=0;B<h.length;B+=1)h[B].c();attr(o,"class","mb-4"),attr(r,"class","neuProjet px-3 py-4 svelte-7o2nba"),attr(e,"class","col-12 col-sm-6 col-lg-6 mb-4")},m(B,j){insert(B,e,j),append(e,r),append(r,o),append(r,l);for(let U=0;U<h.length;U+=1)h[U].m(r,null);O=!0},p(B,j){j&275&&(F=B[18].reverse().filter(func_4),group_outros(),h=update_keyed_each(h,j,R,1,B,F,y,r,outro_and_destroy_block,create_each_block,null,get_each_context),check_outros())},i(B){if(!O){for(let j=0;j<F.length;j+=1)transition_in(h[j]);D||add_render_callback(()=>{D=create_in_transition(r,fly,{y:50,duration:600,delay:300}),D.start()}),O=!0}},o(B){for(let j=0;j<h.length;j+=1)transition_out(h[j]);O=!1},d(B){B&&detach(e);for(let j=0;j<h.length;j+=1)h[j].d()}}}function create_if_block_2$2(t){let e,r,o,l,h,y;function D(){return t[14](t[19])}return r=new ProjetLine({props:{loadSondage:t[0],sondage:t[19],loadSView:t[1],shareFunction:D,updateFun:t[8]}}),{c(){e=element("div"),create_component(r.$$.fragment),o=space(),l=element("hr"),h=space(),attr(l,"class","projectSep svelte-7o2nba")},m(O,F){insert(O,e,F),mount_component(r,e,null),append(e,o),append(e,l),append(e,h),y=!0},p(O,F){t=O;const R={};F&1&&(R.loadSondage=t[0]),F&16&&(R.sondage=t[19]),F&2&&(R.loadSView=t[1]),F&16&&(R.shareFunction=D),r.$set(R)},i(O){y||(transition_in(r.$$.fragment,O),y=!0)},o(O){transition_out(r.$$.fragment,O),y=!1},d(O){O&&detach(e),destroy_component(r)}}}function create_each_block(t,e){let r,o,l,h=e[21]<7&&create_if_block_2$2(e);return{key:t,first:null,c(){r=empty(),h&&h.c(),o=empty(),this.first=r},m(y,D){insert(y,r,D),h&&h.m(y,D),insert(y,o,D),l=!0},p(y,D){e=y,e[21]<7?h?(h.p(e,D),D&16&&transition_in(h,1)):(h=create_if_block_2$2(e),h.c(),transition_in(h,1),h.m(o.parentNode,o)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros())},i(y){l||(transition_in(h),l=!0)},o(y){transition_out(h),l=!1},d(y){y&&detach(r),h&&h.d(y),y&&detach(o)}}}function create_pending_block$2(t){let e;return{c(){e=element("div"),attr(e,"class","col-12")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_if_block$2(t){let e,r,o,l,h,y,D;const O=[t[5].props||{}];var F=t[5].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(e=new F(R())),{c(){e&&create_component(e.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-7o2nba")},m(B,j){e&&mount_component(e,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",t[15]),y=!0)},p(B,j){const U=j&32?get_spread_update(O,[get_spread_object(B[5].props||{})]):{};if(F!==(F=B[5].component)){if(e){group_outros();const q=e;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(e=new F(R()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,r.parentNode,r)):e=null}else F&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$1(t){let e,r,o=t[5]&&create_if_block$2(t);return{c(){o&&o.c(),e=empty()},m(l,h){o&&o.m(l,h),insert(l,e,h),r=!0},p(l,h){l[5]?o?(o.p(l,h),h&32&&transition_in(o,1)):(o=create_if_block$2(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$6(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te,se,ce,de,ue={ctx:t,current:null,token:null,hasCatch:!1,pending:create_pending_block_1,then:create_then_block_1,catch:create_catch_block_1,value:24};handle_promise(U=t[3],ue);let he={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block$2,then:create_then_block$2,catch:create_catch_block$2,value:18,error:23,blocks:[,,,]};return handle_promise(ie=t[4],he),te=new Modals({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:t}}}),{c(){e=element("script"),o=space(),l=element("div"),h=element("h1"),h.textContent="Tableau de bord",y=space(),D=element("h6"),D.textContent="Vue d\u2019ensemble de votre activit\xE9 sur R\xE9tine",O=space(),F=element("div"),R=space(),B=element("div"),j=element("div"),ue.block.c(),q=space(),W=element("div"),G=element("div"),Y=element("div"),K=element("div"),K.textContent="\u{1F58C}\uFE0F Cr\xE9er un nouveau projet",J=space(),Q=element("div"),Z=element("div"),Z.textContent="\u{1F4DA} Charger un mod\xE8le",ne=space(),he.block.c(),re=space(),create_component(te.$$.fragment),src_url_equal(e.src,r="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js")||attr(e,"src",r),attr(e,"integrity","sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="),attr(e,"crossorigin","anonymous"),attr(e,"referrerpolicy","no-referrer"),attr(h,"class","py-2 mb-1 text-left"),attr(D,"class","ps-3 opacity-75"),attr(F,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),attr(K,"class","btnCreate hvr-float d-flex align-items-center justify-content-center text-center svelte-7o2nba"),attr(Y,"class","col-6 my-2"),attr(Z,"class","btnCreate hvr-float d-flex align-items-center justify-content-center text-center svelte-7o2nba"),set_style(Z,"background-color","#E7BB734D"),set_style(Z,"color","black"),attr(Q,"class","col-6 my-2"),attr(G,"class","row"),attr(W,"class","col-12 col-sm-12 col-lg-12 my-4"),attr(j,"class","row"),set_style(B,"min-height","100vh"),attr(l,"id","monDashboard"),attr(l,"class","row p-3 w-100 mx-auto mb-5"),set_style(l,"max-width","1100px")},m(oe,ae){append(document.head,e),insert(oe,o,ae),insert(oe,l,ae),append(l,h),append(l,y),append(l,D),append(l,O),append(l,F),append(l,R),append(l,B),append(B,j),ue.block.m(j,ue.anchor=null),ue.mount=()=>j,ue.anchor=q,append(j,q),append(j,W),append(W,G),append(G,Y),append(Y,K),append(G,J),append(G,Q),append(Q,Z),append(j,ne),he.block.m(j,he.anchor=null),he.mount=()=>j,he.anchor=null,insert(oe,re,ae),mount_component(te,oe,ae),se=!0,ce||(de=[listen(K,"click",t[11]),listen(Z,"click",t[12])],ce=!0)},p(oe,[ae]){t=oe,ue.ctx=t,ae&8&&U!==(U=t[3])&&handle_promise(U,ue)||update_await_block_branch(ue,t,ae),he.ctx=t,ae&16&&ie!==(ie=t[4])&&handle_promise(ie,he)||update_await_block_branch(he,t,ae);const le={};ae&33554464&&(le.$$scope={dirty:ae,ctx:t}),te.$set(le)},i(oe){se||(transition_in(ue.block),X||add_render_callback(()=>{X=create_in_transition(K,fly,{y:50,duration:600,delay:200}),X.start()}),ee||add_render_callback(()=>{ee=create_in_transition(Z,fly,{y:50,duration:600,delay:200}),ee.start()}),transition_in(he.block),transition_in(te.$$.fragment,oe),se=!0)},o(oe){for(let ae=0;ae<3;ae+=1){const le=he.blocks[ae];transition_out(le)}transition_out(te.$$.fragment,oe),se=!1},d(oe){detach(e),oe&&detach(o),oe&&detach(l),ue.block.d(),ue.token=null,ue=null,he.block.d(),he.token=null,he=null,oe&&detach(re),destroy_component(te,oe),ce=!1,run_all(de)}}}const func=t=>t.priv,func_1=t=>!t.priv,func_2=t=>!t.priv,func_4=t=>t.reponse.length==0&&t.priv;function instance$4(t,e,r){let o,l;component_subscribe(t,modals,Q=>r(9,l=Q));function h(Q){activePageStore.set(Q)}(xxgc("rtnt")==null||xxgc("rtnu")==null)&&(window.location.href="/");let{loadSondage:y}=e,{loadSView:D}=e,O=[];async function F(){var Q=new Headers;Q.append("Authorization","Token "+xxgc("rtnt")),Q.append("Content-Type","application/json");var Z={method:"GET",headers:Q,redirect:"follow"};return fetch(rtnUrl+"summaryreps/",Z).then(ee=>ee.text()).then(async ee=>{r(2,O=JSON.parse(ee))}).catch(ee=>ee)}let R=F();function B(Q){if(O.length>0){let Z=getDaysArray(new Date().setDate(new Date().getDate()-30),new Date().setDate(new Date().getDate())).map(ee=>ee.toISOString().slice(0,10)).map(ee=>ee.replaceAll("-","/"));r(2,O=O.map((ee,ne)=>({label:ee.label,data:Z.map(ie=>countOccurrences(ee.data.map(re=>re.replaceAll("-","/").split(" ")[0].split("T")[0]),ie)),tension:.2,borderColor:ee.color,backgroundColor:ee.color,borderRadius:5}))),new Chart(Q,{type:"line",data:{labels:Z,datasets:O},options:{scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},datalabels:{color:"white"}}}})}}async function j(){var Q=new Headers;Q.append("Authorization","Token "+xxgc("rtnt")),Q.append("Content-Type","application/json");var Z={method:"GET",headers:Q,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",Z).then(ee=>ee.text()).then(ee=>JSON.parse(ee)).catch(ee=>ee)}let U=j();const q=()=>{r(4,U=j()),r(3,R=F())},W=Q=>copyGraph(Q.target.parentElement.previousSibling.previousSibling),G=()=>y("new"),Y=()=>h("templates"),K=Q=>{openModal(ModalDiffuse,{proj:Q})},X=Q=>{openModal(ModalDiffuse,{proj:Q})},J=()=>{closeModal()};return t.$$set=Q=>{"loadSondage"in Q&&r(0,y=Q.loadSondage),"loadSView"in Q&&r(1,D=Q.loadSView)},t.$$.update=()=>{t.$$.dirty&512&&r(5,o=l[l.length-1])},[y,D,O,R,U,o,h,B,q,l,W,G,Y,K,X,J]}class Summary extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$6,safe_not_equal,{loadSondage:0,loadSView:1})}}var cooltipz_min="",_dash_svelte_svelte_type_style_lang="";function create_if_block_7(t){let e,r;return e=new Account({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p:noop$2,i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_if_block_6(t){let e,r;return e=new Campagnes({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p:noop$2,i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_if_block_5(t){let e,r;return e=new Templates({props:{loadSondage:t[3]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p:noop$2,i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_if_block_4(t){let e,r;return e=new ProjectView({props:{projData:t[2]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p(o,l){const h={};l&4&&(h.projData=o[2]),e.$set(h)},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_if_block_3(t){let e,r;return e=new ProjectsList({props:{loadSondage:t[3],loadSView:t[4]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p:noop$2,i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_if_block_1$1(t){let e,r,o,l;const h=[create_if_block_2$1,create_else_block$1],y=[];function D(O,F){return O[1].proj.jsonContent.length!=0?0:1}return e=D(t),r=y[e]=h[e](t),{c(){r.c(),o=empty()},m(O,F){y[e].m(O,F),insert(O,o,F),l=!0},p(O,F){let R=e;e=D(O),e===R?y[e].p(O,F):(group_outros(),transition_out(y[R],1,1,()=>{y[R]=null}),check_outros(),r=y[e],r?r.p(O,F):(r=y[e]=h[e](O),r.c()),transition_in(r,1),r.m(o.parentNode,o))},i(O){l||(transition_in(r),l=!0)},o(O){transition_out(r),l=!1},d(O){y[e].d(O),O&&detach(o)}}}function create_if_block$1(t){let e,r;return e=new Summary({props:{loadSondage:t[3],loadSView:t[4]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p:noop$2,i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_else_block$1(t){let e,r;return e=new Editor({props:{loadSondage:t[3]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p:noop$2,i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_if_block_2$1(t){let e,r;return e=new Editor({props:{sondageEnCreation:t[1].proj,idSondage:t[1].id,loadSondage:t[3]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p(o,l){const h={};l&2&&(h.sondageEnCreation=o[1].proj),l&2&&(h.idSondage=o[1].id),e.$set(h)},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_key_block(t){let e,r,o,l,h,y;const D=[create_if_block$1,create_if_block_1$1,create_if_block_3,create_if_block_4,create_if_block_5,create_if_block_6,create_if_block_7],O=[];function F(R,B){return R[0]==="summary"?0:R[0]==="editor"?1:R[0]==="projects"?2:R[0]==="projectView"?3:R[0]==="templates"?4:R[0]==="contacts"?5:R[0]==="account"?6:-1}return~(r=F(t))&&(o=O[r]=D[r](t)),{c(){e=element("div"),o&&o.c(),attr(e,"class","svelte-1icmhhc")},m(R,B){insert(R,e,B),~r&&O[r].m(e,null),y=!0},p(R,B){let j=r;r=F(R),r===j?~r&&O[r].p(R,B):(o&&(group_outros(),transition_out(O[j],1,1,()=>{O[j]=null}),check_outros()),~r?(o=O[r],o?o.p(R,B):(o=O[r]=D[r](R),o.c()),transition_in(o,1),o.m(e,null)):o=null)},i(R){y||(transition_in(o),add_render_callback(()=>{h&&h.end(1),l=create_in_transition(e,fly,{x:-100}),l.start()}),y=!0)},o(R){transition_out(o),l&&l.invalidate(),h=create_out_transition(e,fly,{x:-50}),y=!1},d(R){R&&detach(e),~r&&O[r].d(),R&&h&&h.end()}}}function create_fragment$5(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,Z,ee,ne,ie,re,te,se,ce,de,ue,he,oe,ae,le,fe,we,me,ge,Se,ke,_e,xe,Ce,pe,ye,be,Pe,ve,Te,Ie,Fe,Me,De,Be,ze,Ue=t[0],Re,$e,He,Le=create_key_block(t);return{c(){e=element("link"),r=element("script"),l=element("script"),y=space(),D=element("div"),O=element("div"),F=element("nav"),R=element("div"),B=element("div"),j=element("div"),j.innerHTML='<img src="assets/faviconBlanc.ico" style="height:24px;" alt="Logo de r\xE9tine" class="svelte-1icmhhc"/>',U=space(),q=element("div"),W=element("a"),G=element("i"),Y=space(),K=element("span"),K.textContent="Dashboard",J=space(),Q=element("a"),Z=element("i"),ee=space(),ne=element("span"),ne.textContent="Cr\xE9er",re=space(),te=element("a"),se=element("i"),ce=space(),de=element("span"),de.textContent="Projets",he=space(),oe=element("a"),ae=element("i"),le=space(),fe=element("span"),fe.textContent="Mod\xE8les",me=space(),ge=element("a"),Se=element("i"),ke=space(),_e=element("span"),_e.textContent="Contacts",Ce=space(),pe=element("div"),ye=element("a"),be=element("i"),Pe=space(),ve=element("span"),ve.textContent="Mon compte",Ie=space(),Fe=element("a"),Fe.innerHTML='<i class="bx bx-log-out nav_icon svelte-1icmhhc"></i>  <span class="nav_name svelte-1icmhhc">D\xE9connexion</span>',Me=space(),De=element("div"),Be=element("main"),ze=element("div"),Le.c(),attr(e,"rel","stylesheet"),attr(e,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),attr(e,"class","svelte-1icmhhc"),src_url_equal(r.src,o="/assets/scripts/svg-gauge.min.js")||attr(r,"src",o),attr(r,"class","svelte-1icmhhc"),src_url_equal(l.src,h="/assets/scripts/graphFunctions.js")||attr(l,"src",h),attr(l,"class","svelte-1icmhhc"),attr(j,"class","p-0 mb-2 svelte-1icmhhc"),set_style(j,"font-family","Lexend"),set_style(j,"color","white"),set_style(j,"font-size","1.2rem"),set_style(j,"font-weight","600"),set_style(j,"cursor","pointer"),attr(B,"class","nav_link navbar-brand svelte-1icmhhc"),attr(G,"class","bx bxs-home nav_icon svelte-1icmhhc"),attr(K,"class","nav_name svelte-1icmhhc"),attr(W,"href","#"),attr(W,"class",X=null_to_empty(t[0]=="summary"?"nav_link active":"nav_link ")+" svelte-1icmhhc"),attr(Z,"class","bx bx-paint nav_icon svelte-1icmhhc"),attr(ne,"class","nav_name svelte-1icmhhc"),attr(Q,"href","#"),attr(Q,"id","creatorTabBtn"),attr(Q,"class",ie=null_to_empty(t[0]=="editor"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(se,"class","bx bx-grid-alt nav_icon svelte-1icmhhc"),attr(de,"class","nav_name svelte-1icmhhc"),attr(te,"href","#"),attr(te,"class",ue=null_to_empty(t[0]=="projects"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(ae,"class","bx bx-library nav_icon svelte-1icmhhc"),attr(fe,"class","nav_name svelte-1icmhhc"),attr(oe,"href","#"),attr(oe,"class",we=null_to_empty(t[0]=="templates"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(Se,"class","bx bxs-megaphone nav_icon svelte-1icmhhc"),attr(_e,"class","nav_name svelte-1icmhhc"),attr(ge,"href","#"),attr(ge,"class",xe=null_to_empty(t[0]=="contacts"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(q,"class","nav_list svelte-1icmhhc"),attr(R,"class","svelte-1icmhhc"),attr(be,"class","bx bxs-user-account nav_icon svelte-1icmhhc"),attr(ve,"class","nav_name svelte-1icmhhc"),attr(ye,"href","#"),attr(ye,"class",Te=null_to_empty(t[0]=="account"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(Fe,"href","#"),attr(Fe,"class","nav_link svelte-1icmhhc"),attr(pe,"class","svelte-1icmhhc"),attr(F,"class","nav svelte-1icmhhc"),attr(O,"class","l-navbar svelte-1icmhhc"),attr(ze,"class","gridForAnimation svelte-1icmhhc"),attr(Be,"class","pt-3 px-1 pb-5 d-flex flex-column align-items-center justify-content-center svelte-1icmhhc"),set_style(Be,"min-height","100vh"),attr(De,"class","container-fluid px-0 px-md-1 svelte-1icmhhc"),attr(D,"class","body-pd svelte-1icmhhc")},m(Oe,Ae){append(document.head,e),append(document.head,r),append(document.head,l),insert(Oe,y,Ae),insert(Oe,D,Ae),append(D,O),append(O,F),append(F,R),append(R,B),append(B,j),append(R,U),append(R,q),append(q,W),append(W,G),append(W,Y),append(W,K),append(q,J),append(q,Q),append(Q,Z),append(Q,ee),append(Q,ne),append(q,re),append(q,te),append(te,se),append(te,ce),append(te,de),append(q,he),append(q,oe),append(oe,ae),append(oe,le),append(oe,fe),append(q,me),append(q,ge),append(ge,Se),append(ge,ke),append(ge,_e),append(F,Ce),append(F,pe),append(pe,ye),append(ye,be),append(ye,Pe),append(ye,ve),append(pe,Ie),append(pe,Fe),append(D,Me),append(D,De),append(De,Be),append(Be,ze),Le.m(ze,null),Re=!0,$e||(He=[listen(j,"click",t[5]),listen(W,"click",t[6]),listen(Q,"click",t[7]),listen(te,"click",t[8]),listen(oe,"click",t[9]),listen(ge,"click",t[10]),listen(ye,"click",t[11]),listen(Fe,"click",t[12])],$e=!0)},p(Oe,[Ae]){(!Re||Ae&1&&X!==(X=null_to_empty(Oe[0]=="summary"?"nav_link active":"nav_link ")+" svelte-1icmhhc"))&&attr(W,"class",X),(!Re||Ae&1&&ie!==(ie=null_to_empty(Oe[0]=="editor"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(Q,"class",ie),(!Re||Ae&1&&ue!==(ue=null_to_empty(Oe[0]=="projects"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(te,"class",ue),(!Re||Ae&1&&we!==(we=null_to_empty(Oe[0]=="templates"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(oe,"class",we),(!Re||Ae&1&&xe!==(xe=null_to_empty(Oe[0]=="contacts"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(ge,"class",xe),(!Re||Ae&1&&Te!==(Te=null_to_empty(Oe[0]=="account"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(ye,"class",Te),Ae&1&&safe_not_equal(Ue,Ue=Oe[0])?(group_outros(),transition_out(Le,1,1,noop$2),check_outros(),Le=create_key_block(Oe),Le.c(),transition_in(Le,1),Le.m(ze,null)):Le.p(Oe,Ae)},i(Oe){Re||(transition_in(Le),Re=!0)},o(Oe){transition_out(Le),Re=!1},d(Oe){detach(e),detach(r),detach(l),Oe&&detach(y),Oe&&detach(D),Le.d(Oe),$e=!1,run_all(He)}}}function instance$3(t,e,r){let o;activePageStore.subscribe(G=>{r(0,o=G)});let l={proj:{v:vSondage,nom_proj:"",color:"",logo:"",jsonContent:[]},id:null};const h=(G,Y=null)=>{G=="new"?r(1,l={proj:{v:vSondage,nom_proj:"",color:"",logo:"",jsonContent:[]},id:Y}):r(1,l={v:vSondage,proj:G,id:Y}),r(0,o="editor")};let y;return[o,l,y,h,G=>{r(2,y=G),r(0,o="projectView")},()=>r(0,o="summary"),()=>r(0,o="summary"),()=>{h("new")},()=>r(0,o="projects"),()=>r(0,o="templates"),()=>r(0,o="contacts"),()=>r(0,o="account"),()=>{xxec("rtnt"),xxec("rtnu"),window.location.href="/"}]}class Dash extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$5,safe_not_equal,{})}}var sondage_svelte_svelte_type_style_lang="";function create_catch_block$1(t){let e=t[5]+"",r;return{c(){r=text(e)},m(o,l){insert(o,r,l)},p:noop$2,i:noop$2,o:noop$2,d(o){o&&detach(r)}}}function create_then_block$1(t){let e,r,o,l,h,y;return l=new Chat({props:{chatContent:t[4],scode:t[0]}}),{c(){e=element("div"),r=element("div"),o=element("div"),create_component(l.$$.fragment),attr(o,"class","w-100 h-100"),attr(r,"class","containerR svelte-lpd35z"),attr(e,"class","body svelte-lpd35z"),set_style(e,"background-color",t[4].color)},m(D,O){insert(D,e,O),append(e,r),append(r,o),mount_component(l,o,null),y=!0},p:noop$2,i(D){y||(transition_in(l.$$.fragment,D),h||add_render_callback(()=>{h=create_in_transition(o,blur,{duration:200}),h.start()}),y=!0)},o(D){transition_out(l.$$.fragment,D),y=!1},d(D){D&&detach(e),destroy_component(l)}}}function create_pending_block$1(t){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_fragment$4(t){let e,r,o={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block$1,then:create_then_block$1,catch:create_catch_block$1,value:4,error:5,blocks:[,,,]};return handle_promise(t[1],o),{c(){e=empty(),o.block.c()},m(l,h){insert(l,e,h),o.block.m(l,o.anchor=h),o.mount=()=>e.parentNode,o.anchor=e,r=!0},p(l,[h]){t=l,update_await_block_branch(o,t,h)},i(l){r||(transition_in(o.block),r=!0)},o(l){for(let h=0;h<3;h+=1){const y=o.blocks[h];transition_out(y)}r=!1},d(l){l&&detach(e),o.block.d(l),o.token=null,o=null}}}function instance$2(t){let e=window.location.href.split("#");async function r(){var l=new Headers;return l.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/pub/${e[1]}/`,{method:"GET",headers:l,redirect:"follow"}).then(h=>h.text()).then(h=>{let y=JSON.parse(h);return y.jsonContent=JSON.parse(y.jsonContent),console.log(y),y}).catch(h=>{throw new Error(h)})}let o=r();return[e,o]}class Sondage extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$4,safe_not_equal,{})}}var publicEditor_svelte_svelte_type_style_lang="";function create_fragment$3(t){let e,r,o;return r=new Editor({props:{demoMode:!0}}),{c(){e=element("div"),create_component(r.$$.fragment),attr(e,"class","editorContainer svelte-laokcu")},m(l,h){insert(l,e,h),mount_component(r,e,null),o=!0},p:noop$2,i(l){o||(transition_in(r.$$.fragment,l),o=!0)},o(l){transition_out(r.$$.fragment,l),o=!1},d(l){l&&detach(e),destroy_component(r)}}}class PublicEditor extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$3,safe_not_equal,{})}}var tuto_svelte_svelte_type_style_lang="";function create_fragment$2(t){let e,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y;return{c(){e=element("div"),r=element("h1"),r.textContent="\u{1F4D6} Documentation",o=space(),l=element("div"),h=space(),y=element("div"),D=element("div"),O=element("div"),O.innerHTML=`<div class="d-flex flex-column flex-md-row justify-content-around align-items-center"><div class="pr-0 pr-md-4"><lottie-player src="https://assets1.lottiefiles.com/packages/lf20_e8zq5gga.json" background="transparent" speed="1" style="width:250px; margin:auto;" autoplay=""></lottie-player></div> 
          <div class="m-auto h-100"><h5>Bienvenue dans ce tutoriel d\u2019utilisation de la plateforme R\xE9tine !</h5> 
            <p>Si jamais une zone d\u2019ombre subsiste ou que vous rencontrez un probl\xE8me technique, \xE9crivez-nous \xE0 bonjour@retine.io</p></div></div>`,R=space(),B=element("div"),j=element("div"),j.innerHTML=`<h5>1. Se connecter</h5> 
        <p>Pour vous connecter \xE0 votre espace R\xE9tine, rendez-vous sur retine.io puis cliquez sur le bouton \u201CMon compte\u201D. Cliquez sur \u201CD\xE9j\xE0 un compte ?\u201D si vous
          poss\xE9dez d\xE9j\xE0 vos identifiants.</p> 
        <div class="pr-0 pr-md-4">vid\xE9o</div>`,q=space(),W=element("div"),G=element("div"),G.innerHTML=`<h5>2. Naviguer sur la plateforme</h5> 
        <p>Une fois connect\xE9, vous arrivez sur votre tableau de bord. Cette page r\xE9sume votre activit\xE9, en pr\xE9sentant le nombre de r\xE9ponses que vos sondages ont
          obtenus r\xE9cemment. Elle vous permet \xE9galement de cr\xE9er un nouveau sondage, charger un template ou encore acc\xE9der \xE0 vos sondages (publi\xE9s ou encore au
          statut de brouillon).</p> 
        <p>La navigation se fait librement gr\xE2ce \xE0 la barre lat\xE9rale, sur la gauche, qui vous permet d\u2019acc\xE9der aux onglets suivants :</p> 
        <ul><li>\u{1F3E0} : votre tableau de bord</li> 
          <li>\u{1F58C}\uFE0F : l\u2019**interface de cr\xE9ation** de sondages</li> 
          <li>\u{1F522} : l\u2019**ensemble de vos sondages** (publi\xE9s &amp; brouillons) ainsi que l\u2019acc\xE8s aux **r\xE9sultats**</li> 
          <li>\u{1F4DA} : la **galerie de templates** (des mod\xE8les de sondages pr\xE9con\xE7us par notre \xE9quipe)</li> 
          <li>\u{1F508} : l\u2019onglet de gestion des **campagnes**, vous permettant de cr\xE9er des listes de diffusion et de partager vos sondages</li></ul> 
        <div class="pr-0 pr-md-4">vid\xE9o</div>`,attr(r,"class","py-2 mb-3 text-center"),attr(l,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3"),attr(O,"class","neuProjet p-2 p-md-4 svelte-15aqkil"),attr(D,"class","col-12 col-sm-12 col-lg-12 mb-4"),attr(j,"class","neuProjet p-2 p-md-4 svelte-15aqkil"),attr(B,"class","col-12 col-sm-12 col-lg-12 mb-4"),attr(G,"class","neuProjet p-2 p-md-4 svelte-15aqkil"),attr(W,"class","col-12 col-sm-12 col-lg-12 mb-4"),attr(y,"id","monDashboard"),attr(y,"class","row p-3 w-100 mx-auto mb-5"),set_style(y,"max-width","1100px"),attr(e,"class","body p-1 p-md-5 svelte-15aqkil")},m(K,X){insert(K,e,X),append(e,r),append(e,o),append(e,l),append(e,h),append(e,y),append(y,D),append(D,O),append(y,R),append(y,B),append(B,j),append(y,q),append(y,W),append(W,G)},p:noop$2,i(K){F||add_render_callback(()=>{F=create_in_transition(O,fly,{y:50,duration:600,delay:50}),F.start()}),U||add_render_callback(()=>{U=create_in_transition(j,fly,{y:50,duration:600,delay:50}),U.start()}),Y||add_render_callback(()=>{Y=create_in_transition(G,fly,{y:50,duration:600,delay:50}),Y.start()})},o:noop$2,d(K){K&&detach(e)}}}function instance$1(t){return window.location.href="https://pierrebaptiste.notion.site/R-tine-Tutoriel-d5bafafecca840feb9c40f6e6d05c6b3",[]}class Tuto extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$2,safe_not_equal,{})}}var publicProjectView_svelte_svelte_type_style_lang="";function create_catch_block(t){let e;return{c(){e=text("Erreur")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_then_block(t){let e,r,o,l;const h=[create_if_block,create_else_block],y=[];function D(O,F){return O[2]?0:1}return e=D(t),r=y[e]=h[e](t),{c(){r.c(),o=empty()},m(O,F){y[e].m(O,F),insert(O,o,F),l=!0},p(O,F){let R=e;e=D(O),e===R?y[e].p(O,F):(group_outros(),transition_out(y[R],1,1,()=>{y[R]=null}),check_outros(),r=y[e],r?r.p(O,F):(r=y[e]=h[e](O),r.c()),transition_in(r,1),r.m(o.parentNode,o))},i(O){l||(transition_in(r),l=!0)},o(O){transition_out(r),l=!1},d(O){y[e].d(O),O&&detach(o)}}}function create_else_block(t){let e,r,o,l;function h(O,F){return O[8].nom_proj!=null?create_if_block_1:create_else_block_1}let D=h(t)(t);return{c(){e=element("div"),r=element("div"),D.c(),attr(r,"class","cardConnex p-4 p-md-5 svelte-1h3xw5e"),attr(e,"class","lockScreen container-fluid d-flex align-items-center justify-content-center svelte-1h3xw5e"),set_style(e,"background-color",t[8].color)},m(O,F){insert(O,e,F),append(e,r),D.m(r,null),l=!0},p(O,F){D.p(O,F)},i(O){l||(o&&o.end(1),l=!0)},o(O){o=create_out_transition(e,fly,{y:-20,duration:500}),l=!1},d(O){O&&detach(e),D.d(),O&&o&&o.end()}}}function create_if_block(t){let e,r;return e=new ProjectView({props:{projData:t[8],invit:[t[3],t[0]]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},p(o,l){const h={};l&1&&(h.invit=[o[3],o[0]]),e.$set(h)},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_else_block_1(t){let e;return{c(){e=element("div"),e.textContent="Lien incorrect.",attr(e,"class","text-center")},m(r,o){insert(r,e,o)},p:noop$2,d(r){r&&detach(e)}}}function create_if_block_1(t){let e,r,o,l,h,y=t[8].nom_proj+"",D,O,F,R,B,j,U,q,W,G,Y,K,X,J=t[1]!=""&&create_if_block_2(t);return{c(){e=element("h2"),e.textContent="Connexion aux r\xE9sultats",r=space(),o=element("p"),l=text("Saissez votre code pour acc\xE9der aux r\xE9sultats de "),h=element("span"),D=text(y),O=text("."),F=space(),R=element("div"),B=element("div"),j=element("input"),U=space(),q=element("div"),W=element("div"),W.innerHTML='<i class="bx bx-right-arrow-alt"></i>',G=space(),Y=element("div"),J&&J.c(),set_style(h,"color",t[8].color),attr(j,"class","inputCode svelte-1h3xw5e"),attr(j,"type","text"),attr(j,"maxlength","50"),attr(j,"placeholder","Code d'acc\xE8s..."),attr(B,"class","col-9"),attr(W,"class","unlockBtn hvr-grow svelte-1h3xw5e"),attr(q,"class","col-3"),attr(R,"class","py-3 row")},m(Q,Z){insert(Q,e,Z),insert(Q,r,Z),insert(Q,o,Z),append(o,l),append(o,h),append(h,D),append(o,O),insert(Q,F,Z),insert(Q,R,Z),append(R,B),append(B,j),set_input_value(j,t[0]),append(R,U),append(R,q),append(q,W),insert(Q,G,Z),insert(Q,Y,Z),J&&J.m(Y,null),K||(X=[listen(j,"input",t[6]),listen(W,"click",t[4])],K=!0)},p(Q,Z){Z&1&&j.value!==Q[0]&&set_input_value(j,Q[0]),Q[1]!=""?J?J.p(Q,Z):(J=create_if_block_2(Q),J.c(),J.m(Y,null)):J&&(J.d(1),J=null)},d(Q){Q&&detach(e),Q&&detach(r),Q&&detach(o),Q&&detach(F),Q&&detach(R),Q&&detach(G),Q&&detach(Y),J&&J.d(),K=!1,run_all(X)}}}function create_if_block_2(t){let e;return{c(){e=text(t[1])},m(r,o){insert(r,e,o)},p(r,o){o&2&&set_data(e,r[1])},d(r){r&&detach(e)}}}function create_pending_block(t){let e;return{c(){e=text("Chargement...")},m(r,o){insert(r,e,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(e)}}}function create_fragment$1(t){let e,r,o,l,h,y,D,O,F={ctx:t,current:null,token:null,hasCatch:!0,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:8,error:9,blocks:[,,,]};return handle_promise(t[5],F),{c(){e=element("link"),r=element("script"),l=element("script"),y=space(),D=element("div"),F.block.c(),attr(e,"rel","stylesheet"),attr(e,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),src_url_equal(r.src,o="/assets/scripts/svg-gauge.min.js")||attr(r,"src",o),src_url_equal(l.src,h="/assets/scripts/graphFunctions.js")||attr(l,"src",h),attr(D,"class","body svelte-1h3xw5e")},m(R,B){append(document.head,e),append(document.head,r),append(document.head,l),insert(R,y,B),insert(R,D,B),F.block.m(D,F.anchor=null),F.mount=()=>D,F.anchor=null,O=!0},p(R,[B]){t=R,update_await_block_branch(F,t,B)},i(R){O||(transition_in(F.block),O=!0)},o(R){for(let B=0;B<3;B+=1){const j=F.blocks[B];transition_out(j)}O=!1},d(R){detach(e),detach(r),detach(l),R&&detach(y),R&&detach(D),F.block.d(),F.token=null,F=null}}}function instance(t,e,r){let o=window.location.href.split("#")[1],l="",h="",y=!1;function D(){var B=new Headers;B.append("Content-Type","application/json");var j={method:"POST",headers:B,redirect:"follow",body:JSON.stringify({sid:o,spw:l,fltr1:"",fltr2:""})};return fetch(`${rtnUrl}repspub/`,j).then(U=>{if(U.ok){r(2,y=!0);return}else throw r(1,h="Mot de passe incorrect."),new Error("Something went wrong")}).catch(U=>U)}async function O(){var B=new Headers;B.append("Content-Type","application/json");var j={method:"GET",headers:B,redirect:"follow"};return fetch(`${rtnUrl}sondpub/${o}`,j).then(U=>U.text()).then(U=>JSON.parse(U)).catch(U=>U)}let F=O();function R(){l=this.value,r(0,l)}return[l,h,y,o,D,F,R]}class PublicProjectView extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment$1,safe_not_equal,{})}}function create_default_slot_6(t){let e,r;return e=new Home({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_default_slot_5(t){let e,r;return e=new Dash({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_default_slot_4(t){let e,r;return e=new Sondage({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_default_slot_3(t){let e,r;return e=new PublicEditor({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_default_slot_2(t){let e,r;return e=new Tuto({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_default_slot_1(t){let e,r;return e=new PublicProjectView({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),r=!0},i(o){r||(transition_in(e.$$.fragment,o),r=!0)},o(o){transition_out(e.$$.fragment,o),r=!1},d(o){destroy_component(e,o)}}}function create_default_slot(t){let e,r,o,l,h,y,D,O,F,R,B,j;return e=new Route({props:{path:"/",$$slots:{default:[create_default_slot_6]},$$scope:{ctx:t}}}),o=new Route({props:{path:"dashboard",$$slots:{default:[create_default_slot_5]},$$scope:{ctx:t}}}),h=new Route({props:{path:"sondage",$$slots:{default:[create_default_slot_4]},$$scope:{ctx:t}}}),D=new Route({props:{path:"demo",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:t}}}),F=new Route({props:{path:"tuto",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:t}}}),B=new Route({props:{path:"res",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment),r=space(),create_component(o.$$.fragment),l=space(),create_component(h.$$.fragment),y=space(),create_component(D.$$.fragment),O=space(),create_component(F.$$.fragment),R=space(),create_component(B.$$.fragment)},m(U,q){mount_component(e,U,q),insert(U,r,q),mount_component(o,U,q),insert(U,l,q),mount_component(h,U,q),insert(U,y,q),mount_component(D,U,q),insert(U,O,q),mount_component(F,U,q),insert(U,R,q),mount_component(B,U,q),j=!0},p(U,q){const W={};q&1&&(W.$$scope={dirty:q,ctx:U}),e.$set(W);const G={};q&1&&(G.$$scope={dirty:q,ctx:U}),o.$set(G);const Y={};q&1&&(Y.$$scope={dirty:q,ctx:U}),h.$set(Y);const K={};q&1&&(K.$$scope={dirty:q,ctx:U}),D.$set(K);const X={};q&1&&(X.$$scope={dirty:q,ctx:U}),F.$set(X);const J={};q&1&&(J.$$scope={dirty:q,ctx:U}),B.$set(J)},i(U){j||(transition_in(e.$$.fragment,U),transition_in(o.$$.fragment,U),transition_in(h.$$.fragment,U),transition_in(D.$$.fragment,U),transition_in(F.$$.fragment,U),transition_in(B.$$.fragment,U),j=!0)},o(U){transition_out(e.$$.fragment,U),transition_out(o.$$.fragment,U),transition_out(h.$$.fragment,U),transition_out(D.$$.fragment,U),transition_out(F.$$.fragment,U),transition_out(B.$$.fragment,U),j=!1},d(U){destroy_component(e,U),U&&detach(r),destroy_component(o,U),U&&detach(l),destroy_component(h,U),U&&detach(y),destroy_component(D,U),U&&detach(O),destroy_component(F,U),U&&detach(R),destroy_component(B,U)}}}function create_fragment(t){let e,r,o,l,h,y,D,O,F,R,B,j,U;return j=new Router({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:t}}}),{c(){e=element("link"),r=element("link"),o=element("link"),l=element("link"),h=element("script"),D=element("link"),O=element("script"),R=space(),B=element("main"),create_component(j.$$.fragment),attr(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"),attr(e,"rel","stylesheet"),attr(e,"integrity","sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"),attr(e,"crossorigin","anonymous"),attr(r,"href","https://fonts.googleapis.com/css2?family=Raleway:wght@500&display=swap"),attr(r,"rel","stylesheet"),attr(o,"href","https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@400&display=swap"),attr(o,"rel","stylesheet"),attr(l,"href","https://fonts.googleapis.com/css2?family=Lexend&display=swap"),attr(l,"rel","stylesheet"),src_url_equal(h.src,y="https://cdn.jsdelivr.net/npm/sweetalert2@11")||attr(h,"src",y),attr(D,"rel","stylesheet"),attr(D,"href","assets/generalStyle.css"),src_url_equal(O.src,F="https://js.stripe.com/v3/")||attr(O,"src",F)},m(q,W){append(document.head,e),append(document.head,r),append(document.head,o),append(document.head,l),append(document.head,h),append(document.head,D),append(document.head,O),insert(q,R,W),insert(q,B,W),mount_component(j,B,null),U=!0},p(q,[W]){const G={};W&1&&(G.$$scope={dirty:W,ctx:q}),j.$set(G)},i(q){U||(transition_in(j.$$.fragment,q),U=!0)},o(q){transition_out(j.$$.fragment,q),U=!1},d(q){detach(e),detach(r),detach(o),detach(l),detach(h),detach(D),detach(O),q&&detach(R),q&&detach(B),destroy_component(j)}}}class App extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment,safe_not_equal,{})}}new App({target:document.getElementById("app")});
