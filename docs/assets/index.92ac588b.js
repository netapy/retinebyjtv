var at=Object.defineProperty,ot=Object.defineProperties;var st=Object.getOwnPropertyDescriptors;var rt=Object.getOwnPropertySymbols;var lt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable;var nt=(r,e,t)=>e in r?at(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ye=(r,e)=>{for(var t in e||(e={}))lt.call(e,t)&&nt(r,t,e[t]);if(rt)for(var t of rt(e))ct.call(e,t)&&nt(r,t,e[t]);return r},Qe=(r,e)=>ot(r,st(e));const p$1=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function t(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerpolicy&&(h.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?h.credentials="include":l.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=t(l);fetch(l.href,h)}};p$1();function noop$4(){}const identity=r=>r;function assign$8(r,e){for(const t in e)r[t]=e[t];return r}function is_promise(r){return r&&typeof r=="object"&&typeof r.then=="function"}function run(r){return r()}function blank_object(){return Object.create(null)}function run_all(r){r.forEach(run)}function is_function(r){return typeof r=="function"}function safe_not_equal(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let src_url_equal_anchor;function src_url_equal(r,e){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=e,r===src_url_equal_anchor.href}function is_empty(r){return Object.keys(r).length===0}function subscribe(r,...e){if(r==null)return noop$4;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function get_store_value(r){let e;return subscribe(r,t=>e=t)(),e}function component_subscribe(r,e,t){r.$$.on_destroy.push(subscribe(e,t))}function create_slot(r,e,t,o){if(r){const l=get_slot_context(r,e,t,o);return r[0](l)}}function get_slot_context(r,e,t,o){return r[1]&&o?assign$8(t.ctx.slice(),r[1](o(e))):t.ctx}function get_slot_changes(r,e,t,o){if(r[2]&&o){const l=r[2](o(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const h=[],y=Math.max(e.dirty.length,l.length);for(let O=0;O<y;O+=1)h[O]=e.dirty[O]|l[O];return h}return e.dirty|l}return e.dirty}function update_slot_base(r,e,t,o,l,h){if(l){const y=get_slot_context(e,t,o,h);r.p(y,l)}}function get_all_dirty_from_scope(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}function exclude_internal_props(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function compute_rest_props(r,e){const t={};e=new Set(e);for(const o in r)!e.has(o)&&o[0]!=="$"&&(t[o]=r[o]);return t}function null_to_empty(r){return r==null?"":r}function set_store_value(r,e,t){return r.set(t),e}function action_destroyer(r){return r&&is_function(r.destroy)?r.destroy:noop$4}const is_client=typeof window!="undefined";let now$5=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?r=>requestAnimationFrame(r):noop$4;const tasks=new Set;function run_tasks(r){tasks.forEach(e=>{e.c(r)||(tasks.delete(e),e.f())}),tasks.size!==0&&raf(run_tasks)}function loop(r){let e;return tasks.size===0&&raf(run_tasks),{promise:new Promise(t=>{tasks.add(e={c:r,f:t})}),abort(){tasks.delete(e)}}}function append(r,e){r.appendChild(e)}function get_root_for_style(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function append_empty_stylesheet(r){const e=element("style");return append_stylesheet(get_root_for_style(r),e),e.sheet}function append_stylesheet(r,e){append(r.head||r,e)}function insert(r,e,t){r.insertBefore(e,t||null)}function detach(r){r.parentNode.removeChild(r)}function destroy_each(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function element(r){return document.createElement(r)}function text(r){return document.createTextNode(r)}function space(){return text(" ")}function empty$2(){return text("")}function listen(r,e,t,o){return r.addEventListener(e,t,o),()=>r.removeEventListener(e,t,o)}function stop_propagation(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function attr(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function to_number(r){return r===""?null:+r}function children(r){return Array.from(r.childNodes)}function set_data(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function set_input_value(r,e){r.value=e==null?"":e}function set_style(r,e,t,o){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,o?"important":"")}function select_option(r,e){for(let t=0;t<r.options.length;t+=1){const o=r.options[t];if(o.__value===e){o.selected=!0;return}}r.selectedIndex=-1}function select_value(r){const e=r.querySelector(":checked")||r.options[0];return e&&e.__value}function custom_event(r,e,{bubbles:t=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(r,t,o,e),l}const managed_styles=new Map;let active=0;function hash(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function create_style_information(r,e){const t={stylesheet:append_empty_stylesheet(e),rules:{}};return managed_styles.set(r,t),t}function create_rule(r,e,t,o,l,h,y,O=0){const D=16.666/o;let R=`{
`;for(let q=0;q<=1;q+=D){const K=e+(t-e)*h(q);R+=q*100+`%{${y(K,1-K)}}
`}const F=R+`100% {${y(t,1-t)}}
}`,B=`__svelte_${hash(F)}_${O}`,j=get_root_for_style(r),{stylesheet:U,rules:W}=managed_styles.get(j)||create_style_information(j,r);W[B]||(W[B]=!0,U.insertRule(`@keyframes ${B} ${F}`,U.cssRules.length));const G=r.style.animation||"";return r.style.animation=`${G?`${G}, `:""}${B} ${o}ms linear ${l}ms 1 both`,active+=1,B}function delete_rule(r,e){const t=(r.style.animation||"").split(", "),o=t.filter(e?h=>h.indexOf(e)<0:h=>h.indexOf("__svelte")===-1),l=t.length-o.length;l&&(r.style.animation=o.join(", "),active-=l,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(r=>{const{stylesheet:e}=r;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);r.rules={}}),managed_styles.clear())})}function create_animation(r,e,t,o){if(!e)return noop$4;const l=r.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return noop$4;const{delay:h=0,duration:y=300,easing:O=identity,start:D=now$5()+h,end:R=D+y,tick:F=noop$4,css:B}=t(r,{from:e,to:l},o);let j=!0,U=!1,W;function G(){B&&(W=create_rule(r,0,1,y,h,O,B)),h||(U=!0)}function q(){B&&delete_rule(r,W),j=!1}return loop(K=>{if(!U&&K>=D&&(U=!0),U&&K>=R&&(F(1,0),q()),!j)return!1;if(U){const Y=K-D,X=0+1*O(Y/y);F(X,1-X)}return!0}),G(),F(0,1),q}function fix_position(r){const e=getComputedStyle(r);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:o}=e,l=r.getBoundingClientRect();r.style.position="absolute",r.style.width=t,r.style.height=o,add_transform(r,l)}}function add_transform(r,e){const t=r.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const o=getComputedStyle(r),l=o.transform==="none"?"":o.transform;r.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let current_component;function set_current_component(r){current_component=r}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(r){get_current_component().$$.on_mount.push(r)}function onDestroy(r){get_current_component().$$.on_destroy.push(r)}function setContext(r,e){return get_current_component().$$.context.set(r,e),e}function getContext(r){return get_current_component().$$.context.get(r)}function bubble(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(o=>o.call(this,e))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(r){render_callbacks.push(r)}function add_flush_callback(r){flush_callbacks.push(r)}const seen_callbacks=new Set;let flushidx=0;function flush(){const r=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(r)}function update(r){if(r.fragment!==null){r.update(),run_all(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch$2(r,e,t){r.dispatchEvent(custom_event(`${e?"intro":"outro"}${t}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(r,e){r&&r.i&&(outroing.delete(r),r.i(e))}function transition_out(r,e,t,o){if(r&&r.o){if(outroing.has(r))return;outroing.add(r),outros.c.push(()=>{outroing.delete(r),o&&(t&&r.d(1),o())}),r.o(e)}else o&&o()}const null_transition={duration:0};function create_in_transition(r,e,t){let o=e(r,t),l=!1,h,y,O=0;function D(){h&&delete_rule(r,h)}function R(){const{delay:B=0,duration:j=300,easing:U=identity,tick:W=noop$4,css:G}=o||null_transition;G&&(h=create_rule(r,0,1,j,B,U,G,O++)),W(0,1);const q=now$5()+B,K=q+j;y&&y.abort(),l=!0,add_render_callback(()=>dispatch$2(r,!0,"start")),y=loop(Y=>{if(l){if(Y>=K)return W(1,0),dispatch$2(r,!0,"end"),D(),l=!1;if(Y>=q){const X=U((Y-q)/j);W(X,1-X)}}return l})}let F=!1;return{start(){F||(F=!0,delete_rule(r),is_function(o)?(o=o(),wait().then(R)):R())},invalidate(){F=!1},end(){l&&(D(),l=!1)}}}function create_out_transition(r,e,t){let o=e(r,t),l=!0,h;const y=outros;y.r+=1;function O(){const{delay:D=0,duration:R=300,easing:F=identity,tick:B=noop$4,css:j}=o||null_transition;j&&(h=create_rule(r,1,0,R,D,F,j));const U=now$5()+D,W=U+R;add_render_callback(()=>dispatch$2(r,!1,"start")),loop(G=>{if(l){if(G>=W)return B(0,1),dispatch$2(r,!1,"end"),--y.r||run_all(y.c),!1;if(G>=U){const q=F((G-U)/R);B(1-q,q)}}return l})}return is_function(o)?wait().then(()=>{o=o(),O()}):O(),{end(D){D&&o.tick&&o.tick(1,0),l&&(h&&delete_rule(r,h),l=!1)}}}function create_bidirectional_transition(r,e,t,o){let l=e(r,t),h=o?0:1,y=null,O=null,D=null;function R(){D&&delete_rule(r,D)}function F(j,U){const W=j.b-h;return U*=Math.abs(W),{a:h,b:j.b,d:W,duration:U,start:j.start,end:j.start+U,group:j.group}}function B(j){const{delay:U=0,duration:W=300,easing:G=identity,tick:q=noop$4,css:K}=l||null_transition,Y={start:now$5()+U,b:j};j||(Y.group=outros,outros.r+=1),y||O?O=Y:(K&&(R(),D=create_rule(r,h,j,W,U,G,K)),j&&q(0,1),y=F(Y,W),add_render_callback(()=>dispatch$2(r,j,"start")),loop(X=>{if(O&&X>O.start&&(y=F(O,W),O=null,dispatch$2(r,y.b,"start"),K&&(R(),D=create_rule(r,h,y.b,y.duration,0,G,l.css))),y){if(X>=y.end)q(h=y.b,1-h),dispatch$2(r,y.b,"end"),O||(y.b?R():--y.group.r||run_all(y.group.c)),y=null;else if(X>=y.start){const J=X-y.start;h=y.a+y.d*G(J/y.duration),q(h,1-h)}}return!!(y||O)}))}return{run(j){is_function(l)?wait().then(()=>{l=l(),B(j)}):B(j)},end(){R(),y=O=null}}}function handle_promise(r,e){const t=e.token={};function o(l,h,y,O){if(e.token!==t)return;e.resolved=O;let D=e.ctx;y!==void 0&&(D=D.slice(),D[y]=O);const R=l&&(e.current=l)(D);let F=!1;e.block&&(e.blocks?e.blocks.forEach((B,j)=>{j!==h&&B&&(group_outros(),transition_out(B,1,1,()=>{e.blocks[j]===B&&(e.blocks[j]=null)}),check_outros())}):e.block.d(1),R.c(),transition_in(R,1),R.m(e.mount(),e.anchor),F=!0),e.block=R,e.blocks&&(e.blocks[h]=R),F&&flush()}if(is_promise(r)){const l=get_current_component();if(r.then(h=>{set_current_component(l),o(e.then,1,e.value,h),set_current_component(null)},h=>{if(set_current_component(l),o(e.catch,2,e.error,h),set_current_component(null),!e.hasCatch)throw h}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,r),!0;e.resolved=r}}function update_await_block_branch(r,e,t){const o=e.slice(),{resolved:l}=r;r.current===r.then&&(o[r.value]=l),r.current===r.catch&&(o[r.error]=l),r.block.p(o,t)}const globals=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function destroy_block(r,e){r.d(1),e.delete(r.key)}function outro_and_destroy_block(r,e){transition_out(r,1,1,()=>{e.delete(r.key)})}function fix_and_outro_and_destroy_block(r,e){r.f(),outro_and_destroy_block(r,e)}function update_keyed_each(r,e,t,o,l,h,y,O,D,R,F,B){let j=r.length,U=h.length,W=j;const G={};for(;W--;)G[r[W].key]=W;const q=[],K=new Map,Y=new Map;for(W=U;W--;){const Z=B(l,h,W),ee=t(Z);let te=y.get(ee);te?o&&te.p(Z,e):(te=R(ee,Z),te.c()),K.set(ee,q[W]=te),ee in G&&Y.set(ee,Math.abs(W-G[ee]))}const X=new Set,J=new Set;function Q(Z){transition_in(Z,1),Z.m(O,F),y.set(Z.key,Z),F=Z.first,U--}for(;j&&U;){const Z=q[U-1],ee=r[j-1],te=Z.key,re=ee.key;Z===ee?(F=Z.first,j--,U--):K.has(re)?!y.has(te)||X.has(te)?Q(Z):J.has(re)?j--:Y.get(te)>Y.get(re)?(J.add(te),Q(Z)):(X.add(re),j--):(D(ee,y),j--)}for(;j--;){const Z=r[j];K.has(Z.key)||D(Z,y)}for(;U;)Q(q[U-1]);return q}function get_spread_update(r,e){const t={},o={},l={$$scope:1};let h=r.length;for(;h--;){const y=r[h],O=e[h];if(O){for(const D in y)D in O||(o[D]=1);for(const D in O)l[D]||(t[D]=O[D],l[D]=1);r[h]=O}else for(const D in y)l[D]=1}for(const y in o)y in t||(t[y]=void 0);return t}function get_spread_object(r){return typeof r=="object"&&r!==null?r:{}}function bind$f(r,e,t){const o=r.$$.props[e];o!==void 0&&(r.$$.bound[o]=t,t(r.$$.ctx[o]))}function create_component(r){r&&r.c()}function mount_component(r,e,t,o){const{fragment:l,on_mount:h,on_destroy:y,after_update:O}=r.$$;l&&l.m(e,t),o||add_render_callback(()=>{const D=h.map(run).filter(is_function);y?y.push(...D):run_all(D),r.$$.on_mount=[]}),O.forEach(add_render_callback)}function destroy_component(r,e){const t=r.$$;t.fragment!==null&&(run_all(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function make_dirty(r,e){r.$$.dirty[0]===-1&&(dirty_components.push(r),schedule_update(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function init(r,e,t,o,l,h,y,O=[-1]){const D=current_component;set_current_component(r);const R=r.$$={fragment:null,ctx:null,props:h,update:noop$4,not_equal:l,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(D?D.$$.context:[])),callbacks:blank_object(),dirty:O,skip_bound:!1,root:e.target||D.$$.root};y&&y(R.root);let F=!1;if(R.ctx=t?t(r,e.props||{},(B,j,...U)=>{const W=U.length?U[0]:j;return R.ctx&&l(R.ctx[B],R.ctx[B]=W)&&(!R.skip_bound&&R.bound[B]&&R.bound[B](W),F&&make_dirty(r,B)),j}):[],R.update(),F=!0,run_all(R.before_update),R.fragment=o?o(R.ctx):!1,e.target){if(e.hydrate){const B=children(e.target);R.fragment&&R.fragment.l(B),B.forEach(detach)}else R.fragment&&R.fragment.c();e.intro&&transition_in(r.$$.fragment),mount_component(r,e.target,e.anchor,e.customElement),flush()}set_current_component(D)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$4}$on(e,t){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function cubicInOut(r){return r<.5?4*r*r*r:.5*Math.pow(2*r-2,3)+1}function cubicOut(r){const e=r-1;return e*e*e+1}function quadIn(r){return r*r}function blur(r,{delay:e=0,duration:t=400,easing:o=cubicInOut,amount:l=5,opacity:h=0}={}){const y=getComputedStyle(r),O=+y.opacity,D=y.filter==="none"?"":y.filter,R=O*(1-h);return{delay:e,duration:t,easing:o,css:(F,B)=>`opacity: ${O-R*B}; filter: ${D} blur(${B*l}px);`}}function fade(r,{delay:e=0,duration:t=400,easing:o=identity}={}){const l=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:o,css:h=>`opacity: ${h*l}`}}function fly(r,{delay:e=0,duration:t=400,easing:o=cubicOut,x:l=0,y:h=0,opacity:y=0}={}){const O=getComputedStyle(r),D=+O.opacity,R=O.transform==="none"?"":O.transform,F=D*(1-y);return{delay:e,duration:t,easing:o,css:(B,j)=>`
			transform: ${R} translate(${(1-B)*l}px, ${(1-B)*h}px);
			opacity: ${D-F*j}`}}function scale(r,{delay:e=0,duration:t=400,easing:o=cubicOut,start:l=0,opacity:h=0}={}){const y=getComputedStyle(r),O=+y.opacity,D=y.transform==="none"?"":y.transform,R=1-l,F=O*(1-h);return{delay:e,duration:t,easing:o,css:(B,j)=>`
			transform: ${D} scale(${1-R*j});
			opacity: ${O-F*j}
		`}}var Confetti_svelte_svelte_type_style_lang="";const subscriber_queue=[];function readable(r,e){return{subscribe:writable(r,e).subscribe}}function writable(r,e=noop$4){let t;const o=new Set;function l(O){if(safe_not_equal(r,O)&&(r=O,t)){const D=!subscriber_queue.length;for(const R of o)R[1](),subscriber_queue.push(R,r);if(D){for(let R=0;R<subscriber_queue.length;R+=2)subscriber_queue[R][0](subscriber_queue[R+1]);subscriber_queue.length=0}}}function h(O){l(O(r))}function y(O,D=noop$4){const R=[O,D];return o.add(R),o.size===1&&(t=e(l)||noop$4),O(r),()=>{o.delete(R),o.size===0&&(t(),t=null)}}return{set:l,update:h,subscribe:y}}function derived(r,e,t){const o=!Array.isArray(r),l=o?[r]:r,h=e.length<2;return readable(t,y=>{let O=!1;const D=[];let R=0,F=noop$4;const B=()=>{if(R)return;F();const U=e(o?D[0]:D,y);h?y(U):F=is_function(U)?U:noop$4},j=l.map((U,W)=>subscribe(U,G=>{D[W]=G,R&=~(1<<W),O&&B()},()=>{R|=1<<W}));return O=!0,B(),function(){run_all(j),F()}})}let url="https://retinereq.jetevois.fr/";const rtnUrl=url,vSondage=1;let activePageStore=writable("summary");function xxsc(r,e,t){var o="";if(t){var l=new Date;l.setTime(l.getTime()+t*24*60*60*1e3),o="; expires="+l.toUTCString()}document.cookie=r+"="+(e||"")+o+"; path=/"}function xxgc(r){for(var e=r+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var l=t[o];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(e)==0)return l.substring(e.length,l.length)}return null}function xxec(r){document.cookie=r+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}const isUndefined=r=>typeof r=="undefined",isFunction$1=r=>typeof r=="function",isNumber$1=r=>typeof r=="number";function createCounter(){let r=0;return()=>r++}function createGlobalId(){return Math.random().toString(36).substring(2)}const isSSR=typeof window=="undefined";function addListener$1(r,e,t){return r.addEventListener(e,t),()=>r.removeEventListener(e,t)}const createKey=r=>`@@svnav-ctx__${r}`,LOCATION=createKey("LOCATION"),ROUTER=createKey("ROUTER"),ROUTE=createKey("ROUTE"),ROUTE_PARAMS=createKey("ROUTE_PARAMS"),FOCUS_ELEM=createKey("FOCUS_ELEM"),paramRegex=/^:(.+)/,startsWith=(r,e)=>r.substr(0,e.length)===e,isRootSegment=r=>r==="",isDynamic=r=>paramRegex.test(r),isSplat=r=>r[0]==="*",stripSplat=r=>r.replace(/\*.*$/,""),stripSlashes=r=>r.replace(/(^\/+|\/+$)/g,"");function segmentize(r,e=!1){const t=stripSlashes(r).split("/");return e?t.filter(Boolean):t}const addQuery=(r,e)=>r+(e?`?${e}`:""),normalizePath=r=>`/${stripSlashes(r)}`;function join$2(...r){const e=o=>segmentize(o,!0).join("/"),t=r.map(e).join("/");return normalizePath(t)}const LINK_ID=1,ROUTE_ID=2,ROUTER_ID=3,USE_FOCUS_ID=4,USE_LOCATION_ID=5,USE_MATCH_ID=6,USE_NAVIGATE_ID=7,USE_PARAMS_ID=8,USE_RESOLVABLE_ID=9,USE_RESOLVE_ID=10,NAVIGATE_ID=11,labels={[LINK_ID]:"Link",[ROUTE_ID]:"Route",[ROUTER_ID]:"Router",[USE_FOCUS_ID]:"useFocus",[USE_LOCATION_ID]:"useLocation",[USE_MATCH_ID]:"useMatch",[USE_NAVIGATE_ID]:"useNavigate",[USE_PARAMS_ID]:"useParams",[USE_RESOLVABLE_ID]:"useResolvable",[USE_RESOLVE_ID]:"useResolve",[NAVIGATE_ID]:"navigate"},createLabel=r=>labels[r];function createIdentifier(r,e){let t;return r===ROUTE_ID?t=e.path?`path="${e.path}"`:"default":r===LINK_ID?t=`to="${e.to}"`:r===ROUTER_ID&&(t=`basepath="${e.basepath||""}"`),`<${createLabel(r)} ${t||""} />`}function createMessage(r,e,t,o){const l=t&&createIdentifier(o||r,t),h=l?`

Occurred in: ${l}`:"",y=createLabel(r),O=isFunction$1(e)?e(y):e;return`<${y}> ${O}${h}`}const createMessageHandler=r=>(...e)=>r(createMessage(...e)),fail=createMessageHandler(r=>{throw new Error(r)}),warn=createMessageHandler(console.warn),SEGMENT_POINTS=4,STATIC_POINTS=3,DYNAMIC_POINTS=2,SPLAT_PENALTY=1,ROOT_POINTS=1;function rankRoute(r,e){const t=r.default?0:segmentize(r.fullPath).reduce((o,l)=>{let h=o;return h+=SEGMENT_POINTS,isRootSegment(l)?h+=ROOT_POINTS:isDynamic(l)?h+=DYNAMIC_POINTS:isSplat(l)?h-=SEGMENT_POINTS+SPLAT_PENALTY:h+=STATIC_POINTS,h},0);return{route:r,score:t,index:e}}function rankRoutes(r){return r.map(rankRoute).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}function pick(r,e){let t,o;const[l]=e.split("?"),h=segmentize(l),y=h[0]==="",O=rankRoutes(r);for(let D=0,R=O.length;D<R;D++){const{route:F}=O[D];let B=!1;const j={},U=K=>Qe(Ye({},F),{params:j,uri:K});if(F.default){o=U(e);continue}const W=segmentize(F.fullPath),G=Math.max(h.length,W.length);let q=0;for(;q<G;q++){const K=W[q],Y=h[q];if(!isUndefined(K)&&isSplat(K)){const J=K==="*"?"*":K.slice(1);j[J]=h.slice(q).map(decodeURIComponent).join("/");break}if(isUndefined(Y)){B=!0;break}const X=paramRegex.exec(K);if(X&&!y){const J=decodeURIComponent(Y);j[X[1]]=J}else if(K!==Y){B=!0;break}}if(!B){t=U(join$2(...h.slice(0,q)));break}}return t||o||null}function match$4(r,e){return pick([r],e)}function resolve$1(r,e){if(startsWith(r,"/"))return r;const[t,o]=r.split("?"),[l]=e.split("?"),h=segmentize(t),y=segmentize(l);if(h[0]==="")return addQuery(l,o);if(!startsWith(h[0],".")){const R=y.concat(h).join("/");return addQuery((l==="/"?"":"/")+R,o)}const O=y.concat(h),D=[];return O.forEach(R=>{R===".."?D.pop():R!=="."&&D.push(R)}),addQuery(`/${D.join("/")}`,o)}function normalizeLocation(r,e){const{pathname:t,hash:o="",search:l="",state:h}=r,y=segmentize(e,!0),O=segmentize(t,!0);for(;y.length;)y[0]!==O[0]&&fail(ROUTER_ID,`Invalid state: All locations must begin with the basepath "${e}", found "${t}"`),y.shift(),O.shift();return{pathname:join$2(...O),hash:o,search:l,state:h}}const normalizeUrlFragment=r=>r.length===1?"":r;function createLocation(r){const e=r.indexOf("?"),t=r.indexOf("#"),o=e!==-1,l=t!==-1,h=l?normalizeUrlFragment(r.substr(t)):"",y=l?r.substr(0,t):r,O=o?normalizeUrlFragment(y.substr(e)):"";return{pathname:o?y.substr(0,e):y,search:O,hash:h}}function resolveLink(r,e,t){return join$2(t,resolve$1(r,e))}function extractBaseUri(r,e){const t=normalizePath(stripSplat(r)),o=segmentize(t,!0),l=segmentize(e,!0).slice(0,o.length),h=match$4({fullPath:t},join$2(...l));return h&&h.uri}const POP="POP",PUSH="PUSH",REPLACE="REPLACE";function getLocation(r){return Qe(Ye({},r.location),{pathname:encodeURI(decodeURI(r.location.pathname)),state:r.history.state,_key:r.history.state&&r.history.state._key||"initial"})}function createHistory(r){let e=[],t=getLocation(r),o=POP;const l=(h=e)=>h.forEach(y=>y({location:t,action:o}));return{get location(){return t},listen(h){e.push(h);const y=()=>{t=getLocation(r),o=POP,l([h])};l([h]);const O=addListener$1(r,"popstate",y);return()=>{O(),e=e.filter(D=>D!==h)}},navigate(h,y){const{state:O={},replace:D=!1}=y||{};if(o=D?REPLACE:PUSH,isNumber$1(h))y&&warn(NAVIGATE_ID,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),o=POP,r.history.go(h);else{const R=Qe(Ye({},O),{_key:createGlobalId()});try{r.history[D?"replaceState":"pushState"](R,"",h)}catch{r.location[D?"replace":"assign"](h)}}t=getLocation(r),l()}}}function createStackFrame(r,e){return Qe(Ye({},createLocation(e)),{state:r})}function createMemorySource(r="/"){let e=0,t=[createStackFrame(null,r)];return{get entries(){return t},get location(){return t[e]},addEventListener(){},removeEventListener(){},history:{get state(){return t[e].state},pushState(o,l,h){e++,t=t.slice(0,e),t.push(createStackFrame(o,h))},replaceState(o,l,h){t[e]=createStackFrame(o,h)},go(o){const l=e+o;l<0||l>t.length-1||(e=l)}}}}const canUseDOM=!!(!isSSR&&window.document&&window.document.createElement),isEmbeddedPage=!isSSR&&window.location.origin==="null",globalHistory=createHistory(canUseDOM&&!isEmbeddedPage?window:createMemorySource()),{navigate}=globalHistory;let focusCandidate=null,initialNavigation=!0;function isAbove(r,e){const t=document.querySelectorAll("[data-svnav-router]");for(let o=0;o<t.length;o++){const l=t[o],h=Number(l.dataset.svnavRouter);if(h===r)return!0;if(h===e)return!1}return!1}function pushFocusCandidate(r){(!focusCandidate||r.level>focusCandidate.level||r.level===focusCandidate.level&&isAbove(r.routerId,focusCandidate.routerId))&&(focusCandidate=r)}function clearFocusCandidate(){focusCandidate=null}function initialNavigationOccurred(){initialNavigation=!1}function focus(r){if(!r)return!1;const e="tabindex";try{if(!r.hasAttribute(e)){r.setAttribute(e,"-1");let t;t=addListener$1(r,"blur",()=>{r.removeAttribute(e),t()})}return r.focus(),document.activeElement===r}catch{return!1}}function isEndMarker(r,e){return Number(r.dataset.svnavRouteEnd)===e}function isHeading(r){return/^H[1-6]$/i.test(r.tagName)}function query(r,e=document){return e.querySelector(r)}function queryHeading(r){let t=query(`[data-svnav-route-start="${r}"]`).nextElementSibling;for(;!isEndMarker(t,r);){if(isHeading(t))return t;const o=query("h1,h2,h3,h4,h5,h6",t);if(o)return o;t=t.nextElementSibling}return null}function handleFocus(r){Promise.resolve(get_store_value(r.focusElement)).then(e=>{const t=e||queryHeading(r.id);t||warn(ROUTER_ID,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,r,ROUTE_ID),!focus(t)&&focus(document.documentElement)})}const createTriggerFocus=(r,e,t)=>(o,l)=>tick().then(()=>{if(!focusCandidate||initialNavigation){initialNavigationOccurred();return}if(o&&handleFocus(focusCandidate.route),r.announcements&&l){const{path:h,fullPath:y,meta:O,params:D,uri:R}=focusCandidate.route,F=r.createAnnouncement({path:h,fullPath:y,meta:O,params:D,uri:R},get_store_value(t));Promise.resolve(F).then(B=>{e.set(B)})}clearFocusCandidate()}),visuallyHiddenStyle="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function create_if_block$k(r){let e,t;return{c(){e=element("div"),t=text(r[0]),attr(e,"role","status"),attr(e,"aria-atomic","true"),attr(e,"aria-live","polite"),attr(e,"style",visuallyHiddenStyle)},m(o,l){insert(o,e,l),append(e,t)},p(o,l){l[0]&1&&set_data(t,o[0])},d(o){o&&detach(e)}}}function create_fragment$t(r){let e,t,o,l,h;const y=r[20].default,O=create_slot(y,r,r[19],null);let D=r[2]&&r[4]&&r[1].announcements&&create_if_block$k(r);return{c(){e=element("div"),t=space(),O&&O.c(),o=space(),D&&D.c(),l=empty$2(),set_style(e,"display","none"),attr(e,"aria-hidden","true"),attr(e,"data-svnav-router",r[3])},m(R,F){insert(R,e,F),insert(R,t,F),O&&O.m(R,F),insert(R,o,F),D&&D.m(R,F),insert(R,l,F),h=!0},p(R,F){O&&O.p&&(!h||F[0]&524288)&&update_slot_base(O,y,R,R[19],h?get_slot_changes(y,R[19],F,null):get_all_dirty_from_scope(R[19]),null),R[2]&&R[4]&&R[1].announcements&&D.p(R,F)},i(R){h||(transition_in(O,R),h=!0)},o(R){transition_out(O,R),h=!1},d(R){R&&detach(e),R&&detach(t),O&&O.d(R),R&&detach(o),D&&D.d(R),R&&detach(l)}}}const createId$1=createCounter(),defaultBasepath="/";function instance$r(r,e,t){let o,l,h,y,O,{$$slots:D={},$$scope:R}=e,{basepath:F=defaultBasepath}=e,{url:B=null}=e,{history:j=globalHistory}=e,{primary:U=!0}=e,{a11y:W={}}=e;const G=Ye({createAnnouncement:le=>`Navigated to ${le.uri}`,announcements:!0},W),q=F,K=normalizePath(F),Y=getContext(LOCATION),X=getContext(ROUTER),J=!Y,Q=createId$1(),Z=U&&!(X&&!X.manageFocus),ee=writable("");component_subscribe(r,ee,le=>t(0,O=le));const te=writable([]);component_subscribe(r,te,le=>t(18,y=le));const re=writable(null);component_subscribe(r,re,le=>t(16,l=le));let ie=!1;const ne=J?0:X.level+1,ce=J?writable((()=>normalizeLocation(isSSR?createLocation(B):j.location,K))()):Y;component_subscribe(r,ce,le=>t(15,o=le));const ue=writable(o);component_subscribe(r,ue,le=>t(17,h=le));const he=createTriggerFocus(G,ee,ce),pe=le=>me=>me.filter(ge=>ge.id!==le);function oe(le){if(isSSR){if(ie)return;const me=match$4(le,o.pathname);if(me)return ie=!0,me}else te.update(me=>{const ge=pe(le.id)(me);return ge.push(le),ge})}function ae(le){te.update(pe(le))}return!J&&F!==defaultBasepath&&warn(ROUTER_ID,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:F}),J&&(onMount(()=>j.listen(me=>{const ge=normalizeLocation(me.location,K);ue.set(o),ce.set(ge)})),setContext(LOCATION,ce)),setContext(ROUTER,{activeRoute:re,registerRoute:oe,unregisterRoute:ae,manageFocus:Z,level:ne,id:Q,history:J?j:X.history,basepath:J?K:X.basepath}),r.$$set=le=>{"basepath"in le&&t(10,F=le.basepath),"url"in le&&t(11,B=le.url),"history"in le&&t(12,j=le.history),"primary"in le&&t(13,U=le.primary),"a11y"in le&&t(14,W=le.a11y),"$$scope"in le&&t(19,R=le.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&1024&&F!==q&&warn(ROUTER_ID,'You cannot change the "basepath" prop. It is ignored.'),r.$$.dirty[0]&294912){const le=pick(y,o.pathname);re.set(le)}if(r.$$.dirty[0]&163840&&J){const le=!!o.hash,me=!le&&Z,ge=!le||o.pathname!==h.pathname;he(me,ge)}r.$$.dirty[0]&65536&&Z&&l&&l.primary&&pushFocusCandidate({level:ne,routerId:Q,route:l})},[O,G,J,Q,Z,ee,te,re,ce,ue,F,B,j,U,W,o,l,h,y,R,D]}class Router extends SvelteComponent{constructor(e){super(),init(this,e,instance$r,create_fragment$t,safe_not_equal,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}}function usePreflightCheck(r,e,t=ROUTER,o=ROUTER_ID){getContext(t)||fail(r,h=>`You cannot use ${h} outside of a ${createLabel(o)}.`,e)}const toReadonly=r=>{const{subscribe:e}=getContext(r);return{subscribe:e}};function useLocation(){return usePreflightCheck(USE_LOCATION_ID),toReadonly(LOCATION)}function useHistory(){const{history:r}=getContext(ROUTER);return r}function useRouteBase(){const r=getContext(ROUTE);return r?derived(r,e=>e.base):writable("/")}function useResolve(){usePreflightCheck(USE_RESOLVE_ID);const r=useRouteBase(),{basepath:e}=getContext(ROUTER);return o=>resolveLink(o,get_store_value(r),e)}function useNavigate(){usePreflightCheck(USE_NAVIGATE_ID);const r=useResolve(),{navigate:e}=useHistory();return(o,l)=>{const h=isNumber$1(o)?o:r(o);return e(h,l)}}const get_default_slot_changes=r=>({params:r&16,location:r&8}),get_default_slot_context=r=>({params:isSSR?get_store_value(r[9]):r[4],location:r[3],navigate:r[10]});function create_if_block$j(r){let e,t;return e=new Router({props:{primary:r[1],$$slots:{default:[create_default_slot$8]},$$scope:{ctx:r}}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p(o,l){const h={};l&2&&(h.primary=o[1]),l&264217&&(h.$$scope={dirty:l,ctx:o}),e.$set(h)},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_else_block$c(r){let e;const t=r[17].default,o=create_slot(t,r,r[18],get_default_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),e=!0},p(l,h){o&&o.p&&(!e||h&262168)&&update_slot_base(o,t,l,l[18],e?get_slot_changes(t,l[18],h,get_default_slot_changes):get_all_dirty_from_scope(l[18]),get_default_slot_context)},i(l){e||(transition_in(o,l),e=!0)},o(l){transition_out(o,l),e=!1},d(l){o&&o.d(l)}}}function create_if_block_1$f(r){let e,t,o;const l=[{location:r[3]},{navigate:r[10]},isSSR?get_store_value(r[9]):r[4],r[11]];var h=r[0];function y(O){let D={};for(let R=0;R<l.length;R+=1)D=assign$8(D,l[R]);return{props:D}}return h&&(e=new h(y())),{c(){e&&create_component(e.$$.fragment),t=empty$2()},m(O,D){e&&mount_component(e,O,D),insert(O,t,D),o=!0},p(O,D){const R=D&3608?get_spread_update(l,[D&8&&{location:O[3]},D&1024&&{navigate:O[10]},D&528&&get_spread_object(isSSR?get_store_value(O[9]):O[4]),D&2048&&get_spread_object(O[11])]):{};if(h!==(h=O[0])){if(e){group_outros();const F=e;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}h?(e=new h(y()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else h&&e.$set(R)},i(O){o||(e&&transition_in(e.$$.fragment,O),o=!0)},o(O){e&&transition_out(e.$$.fragment,O),o=!1},d(O){O&&detach(t),e&&destroy_component(e,O)}}}function create_default_slot$8(r){let e,t,o,l;const h=[create_if_block_1$f,create_else_block$c],y=[];function O(D,R){return D[0]!==null?0:1}return e=O(r),t=y[e]=h[e](r),{c(){t.c(),o=empty$2()},m(D,R){y[e].m(D,R),insert(D,o,R),l=!0},p(D,R){let F=e;e=O(D),e===F?y[e].p(D,R):(group_outros(),transition_out(y[F],1,1,()=>{y[F]=null}),check_outros(),t=y[e],t?t.p(D,R):(t=y[e]=h[e](D),t.c()),transition_in(t,1),t.m(o.parentNode,o))},i(D){l||(transition_in(t),l=!0)},o(D){transition_out(t),l=!1},d(D){y[e].d(D),D&&detach(o)}}}function create_fragment$s(r){let e,t,o,l,h,y=r[2]&&create_if_block$j(r);return{c(){e=element("div"),t=space(),y&&y.c(),o=space(),l=element("div"),set_style(e,"display","none"),attr(e,"aria-hidden","true"),attr(e,"data-svnav-route-start",r[5]),set_style(l,"display","none"),attr(l,"aria-hidden","true"),attr(l,"data-svnav-route-end",r[5])},m(O,D){insert(O,e,D),insert(O,t,D),y&&y.m(O,D),insert(O,o,D),insert(O,l,D),h=!0},p(O,[D]){O[2]?y?(y.p(O,D),D&4&&transition_in(y,1)):(y=create_if_block$j(O),y.c(),transition_in(y,1),y.m(o.parentNode,o)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(O){h||(transition_in(y),h=!0)},o(O){transition_out(y),h=!1},d(O){O&&detach(e),O&&detach(t),y&&y.d(O),O&&detach(o),O&&detach(l)}}}const createId=createCounter();function instance$q(r,e,t){let o;const l=["path","component","meta","primary"];let h=compute_rest_props(e,l),y,O,D,R,{$$slots:F={},$$scope:B}=e,{path:j=""}=e,{component:U=null}=e,{meta:W={}}=e,{primary:G=!0}=e;usePreflightCheck(ROUTE_ID,e);const q=createId(),{registerRoute:K,unregisterRoute:Y,activeRoute:X}=getContext(ROUTER);component_subscribe(r,X,ne=>t(15,y=ne));const J=useRouteBase();component_subscribe(r,J,ne=>t(16,D=ne));const Q=useLocation();component_subscribe(r,Q,ne=>t(3,O=ne));const Z=writable(null);let ee;const te=writable(),re=writable({});component_subscribe(r,re,ne=>t(4,R=ne)),setContext(ROUTE,te),setContext(ROUTE_PARAMS,re),setContext(FOCUS_ELEM,Z);const ie=useNavigate();return isSSR||onDestroy(()=>Y(q)),r.$$set=ne=>{t(23,e=assign$8(assign$8({},e),exclude_internal_props(ne))),t(11,h=compute_rest_props(e,l)),"path"in ne&&t(12,j=ne.path),"component"in ne&&t(0,U=ne.component),"meta"in ne&&t(13,W=ne.meta),"primary"in ne&&t(1,G=ne.primary),"$$scope"in ne&&t(18,B=ne.$$scope)},r.$$.update=()=>{if(r.$$.dirty&77834){const ne=j==="",se=join$2(D,j),ce={id:q,path:j,meta:W,default:ne,fullPath:ne?"":se,base:ne?D:extractBaseUri(se,O.pathname),primary:G,focusElement:Z};te.set(ce),t(14,ee=K(ce))}if(r.$$.dirty&49152&&t(2,o=!!(ee||y&&y.id===q)),r.$$.dirty&49156&&o){const{params:ne}=ee||y;re.set(ne)}},e=exclude_internal_props(e),[U,G,o,O,R,q,X,J,Q,re,ie,h,j,W,ee,y,D,F,B]}class Route extends SvelteComponent{constructor(e){super(),init(this,e,instance$q,create_fragment$s,safe_not_equal,{path:12,component:0,meta:13,primary:1})}}const exitBeforeEnter=writable(!1),transitioning=writable(null),modals=writable([]),action=writable(null);function closeModals(r=1){if(get_store_value(transitioning))return;const e=get_store_value(modals).length;get_store_value(exitBeforeEnter)&&e>0&&transitioning.set(!0),exitBeforeEnter.set(!1),action.set("pop"),pop(r)}function closeModal(){return closeModals(1)}function openModal(r,e,t){get_store_value(transitioning)||(action.set("push"),get_store_value(exitBeforeEnter)&&get_store_value(modals).length&&transitioning.set(!0),exitBeforeEnter.set(!1),t!=null&&t.replace?modals.update(o=>[...o.slice(0,o.length-1),{component:r,props:e}]):modals.update(o=>[...o,{component:r,props:e}]))}function pop(r=1){modals.update(e=>e.slice(0,Math.max(0,e.length-r)))}function get_each_context$9(r,e,t){const o=r.slice();return o[9]=e[t],o[11]=t,o}const get_loading_slot_changes=r=>({}),get_loading_slot_context=r=>({}),get_backdrop_slot_changes=r=>({}),get_backdrop_slot_context=r=>({});function create_if_block_1$e(r){let e;const t=r[4].backdrop,o=create_slot(t,r,r[3],get_backdrop_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),e=!0},p(l,h){o&&o.p&&(!e||h&8)&&update_slot_base(o,t,l,l[3],e?get_slot_changes(t,l[3],h,get_backdrop_slot_changes):get_all_dirty_from_scope(l[3]),get_backdrop_slot_context)},i(l){e||(transition_in(o,l),e=!0)},o(l){transition_out(o,l),e=!1},d(l){o&&o.d(l)}}}function create_else_block$b(r){let e,t,o;const l=[{isOpen:r[11]===r[0].length-1&&!r[1]},r[9].props];var h=r[9].component;function y(O){let D={};for(let R=0;R<l.length;R+=1)D=assign$8(D,l[R]);return{props:D}}return h&&(e=new h(y()),e.$on("introstart",r[7]),e.$on("outroend",r[8])),{c(){e&&create_component(e.$$.fragment),t=empty$2()},m(O,D){e&&mount_component(e,O,D),insert(O,t,D),o=!0},p(O,D){const R=D&3?get_spread_update(l,[{isOpen:O[11]===O[0].length-1&&!O[1]},D&1&&get_spread_object(O[9].props)]):{};if(h!==(h=O[9].component)){if(e){group_outros();const F=e;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}h?(e=new h(y()),e.$on("introstart",O[7]),e.$on("outroend",O[8]),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else h&&e.$set(R)},i(O){o||(e&&transition_in(e.$$.fragment,O),o=!0)},o(O){e&&transition_out(e.$$.fragment,O),o=!1},d(O){O&&detach(t),e&&destroy_component(e,O)}}}function create_if_block$i(r){let e,t,o,l={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$b,then:create_then_block$b,catch:create_catch_block$b,value:12,blocks:[,,,]};return handle_promise(t=getComponent(r[9].component),l),{c(){e=empty$2(),l.block.c()},m(h,y){insert(h,e,y),l.block.m(h,l.anchor=y),l.mount=()=>e.parentNode,l.anchor=e,o=!0},p(h,y){r=h,l.ctx=r,y&1&&t!==(t=getComponent(r[9].component))&&handle_promise(t,l)||update_await_block_branch(l,r,y)},i(h){o||(transition_in(l.block),o=!0)},o(h){for(let y=0;y<3;y+=1){const O=l.blocks[y];transition_out(O)}o=!1},d(h){h&&detach(e),l.block.d(h),l.token=null,l=null}}}function create_catch_block$b(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block$b(r){let e,t,o;const l=[{isOpen:r[11]===r[0].length-1&&!r[1]},r[9].props];var h=r[12];function y(O){let D={};for(let R=0;R<l.length;R+=1)D=assign$8(D,l[R]);return{props:D}}return h&&(e=new h(y()),e.$on("introstart",r[5]),e.$on("outroend",r[6])),{c(){e&&create_component(e.$$.fragment),t=space()},m(O,D){e&&mount_component(e,O,D),insert(O,t,D),o=!0},p(O,D){const R=D&3?get_spread_update(l,[{isOpen:O[11]===O[0].length-1&&!O[1]},D&1&&get_spread_object(O[9].props)]):{};if(h!==(h=O[12])){if(e){group_outros();const F=e;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}h?(e=new h(y()),e.$on("introstart",O[5]),e.$on("outroend",O[6]),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else h&&e.$set(R)},i(O){o||(e&&transition_in(e.$$.fragment,O),o=!0)},o(O){e&&transition_out(e.$$.fragment,O),o=!1},d(O){e&&destroy_component(e,O),O&&detach(t)}}}function create_pending_block$b(r){let e,t;const o=r[4].loading,l=create_slot(o,r,r[3],get_loading_slot_context);return{c(){l&&l.c(),e=space()},m(h,y){l&&l.m(h,y),insert(h,e,y),t=!0},p(h,y){l&&l.p&&(!t||y&8)&&update_slot_base(l,o,h,h[3],t?get_slot_changes(o,h[3],y,get_loading_slot_changes):get_all_dirty_from_scope(h[3]),get_loading_slot_context)},i(h){t||(transition_in(l,h),t=!0)},o(h){transition_out(l,h),t=!1},d(h){l&&l.d(h),h&&detach(e)}}}function create_each_block$9(r,e){let t,o,l,h,y,O;const D=[create_if_block$i,create_else_block$b],R=[];function F(B,j){return j&1&&(o=null),o==null&&(o=!!isLazyModal(B[9].component)),o?0:1}return l=F(e,-1),h=R[l]=D[l](e),{key:r,first:null,c(){t=empty$2(),h.c(),y=empty$2(),this.first=t},m(B,j){insert(B,t,j),R[l].m(B,j),insert(B,y,j),O=!0},p(B,j){e=B;let U=l;l=F(e,j),l===U?R[l].p(e,j):(group_outros(),transition_out(R[U],1,1,()=>{R[U]=null}),check_outros(),h=R[l],h?h.p(e,j):(h=R[l]=D[l](e),h.c()),transition_in(h,1),h.m(y.parentNode,y))},i(B){O||(transition_in(h),O=!0)},o(B){transition_out(h),O=!1},d(B){B&&detach(t),R[l].d(B),B&&detach(y)}}}function fallback_block(r){let e=[],t=new Map,o,l,h=r[0];const y=O=>O[11];for(let O=0;O<h.length;O+=1){let D=get_each_context$9(r,h,O),R=y(D);t.set(R,e[O]=create_each_block$9(R,D))}return{c(){for(let O=0;O<e.length;O+=1)e[O].c();o=empty$2()},m(O,D){for(let R=0;R<e.length;R+=1)e[R].m(O,D);insert(O,o,D),l=!0},p(O,D){D&15&&(h=O[0],group_outros(),e=update_keyed_each(e,D,y,1,O,h,t,o.parentNode,outro_and_destroy_block,create_each_block$9,o,get_each_context$9),check_outros())},i(O){if(!l){for(let D=0;D<h.length;D+=1)transition_in(e[D]);l=!0}},o(O){for(let D=0;D<e.length;D+=1)transition_out(e[D]);l=!1},d(O){for(let D=0;D<e.length;D+=1)e[D].d(O);O&&detach(o)}}}function create_fragment$r(r){let e,t,o=r[0].length>0&&create_if_block_1$e(r);const l=r[4].default,h=create_slot(l,r,r[3],null),y=h||fallback_block(r);return{c(){o&&o.c(),e=space(),y&&y.c()},m(O,D){o&&o.m(O,D),insert(O,e,D),y&&y.m(O,D),t=!0},p(O,[D]){O[0].length>0?o?(o.p(O,D),D&1&&transition_in(o,1)):(o=create_if_block_1$e(O),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros()),h?h.p&&(!t||D&8)&&update_slot_base(h,l,O,O[3],t?get_slot_changes(l,O[3],D,null):get_all_dirty_from_scope(O[3]),null):y&&y.p&&(!t||D&15)&&y.p(O,t?D:-1)},i(O){t||(transition_in(o),transition_in(y,O),t=!0)},o(O){transition_out(o),transition_out(y,O),t=!1},d(O){o&&o.d(O),O&&detach(e),y&&y.d(O)}}}function isLazyModal(r){return typeof r.prototype=="undefined"}async function getComponent(r){return r().then(e=>e.default)}function instance$p(r,e,t){let o,l,h;component_subscribe(r,modals,j=>t(0,o=j)),component_subscribe(r,transitioning,j=>t(1,l=j)),component_subscribe(r,exitBeforeEnter,j=>t(2,h=j));let{$$slots:y={},$$scope:O}=e;const D=()=>{set_store_value(exitBeforeEnter,h=!0,h)},R=()=>{set_store_value(transitioning,l=!1,l)},F=()=>{set_store_value(exitBeforeEnter,h=!0,h)},B=()=>{set_store_value(transitioning,l=!1,l)};return r.$$set=j=>{"$$scope"in j&&t(3,O=j.$$scope)},[o,l,h,O,y,D,R,F,B]}class Modals extends SvelteComponent{constructor(e){super(),init(this,e,instance$p,create_fragment$r,safe_not_equal,{})}}var authModule_svelte_svelte_type_style_lang="";function create_if_block_3$9(r){let e;return{c(){e=element("div"),e.innerHTML=`<lottie-player src="https://assets6.lottiefiles.com/packages/lf20_kwefwdy6.json" background="transparent" speed="1" style="height:150px; max-width:200px; margin:auto;" autoplay=""></lottie-player> 
            <div style="color:#6219d8; text-align:center; margin-top:16px;">Un e-mail de v\xE9rification vous a \xE9t\xE9 envoy\xE9 pour finaliser votre inscription.</div>`},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_1$d(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne,se=r[1]!=""&&create_if_block_2$c(r);return{c(){e=element("h3"),e.textContent="Cr\xE9ez votre compte R\xE9tine",t=space(),se&&se.c(),o=space(),l=element("label"),h=text("Identifiant :"),y=element("br"),O=element("input"),D=space(),R=element("label"),F=text("Mot de passe :"),B=element("br"),j=element("input"),U=space(),W=element("label"),G=text("Confirmation mot de passe :"),q=element("br"),K=element("input"),Y=space(),X=element("div"),J=text(r[5]),Q=space(),Z=element("div"),ee=element("div"),ee.textContent="D\xE9j\xE0 un compte ?",te=space(),re=element("button"),re.textContent="Inscription",attr(e,"class","mb-4"),set_style(e,"color","#6219d8"),set_style(e,"text-align","center"),set_style(e,"margin-bottom","16px"),attr(O,"type","text"),attr(O,"placeholder","bruce@wayne.com"),attr(O,"class","svelte-1yoxi9y"),attr(l,"class","svelte-1yoxi9y"),attr(j,"type","password"),attr(j,"class","svelte-1yoxi9y"),attr(R,"for","mdp"),attr(R,"class","svelte-1yoxi9y"),attr(K,"type","password"),attr(K,"class","svelte-1yoxi9y"),attr(W,"for","mdp"),attr(W,"class","svelte-1yoxi9y"),attr(X,"class","errorMsg svelte-1yoxi9y"),attr(ee,"class","optionTwo svelte-1yoxi9y"),attr(re,"class","svelte-1yoxi9y"),set_style(Z,"display","flex"),set_style(Z,"flex-direction","row"),set_style(Z,"align-items","center")},m(ce,ue){insert(ce,e,ue),insert(ce,t,ue),se&&se.m(ce,ue),insert(ce,o,ue),insert(ce,l,ue),append(l,h),append(l,y),append(l,O),set_input_value(O,r[2]),insert(ce,D,ue),insert(ce,R,ue),append(R,F),append(R,B),append(R,j),set_input_value(j,r[3]),insert(ce,U,ue),insert(ce,W,ue),append(W,G),append(W,q),append(W,K),set_input_value(K,r[4]),insert(ce,Y,ue),insert(ce,X,ue),append(X,J),insert(ce,Q,ue),insert(ce,Z,ue),append(Z,ee),append(Z,te),append(Z,re),ie||(ne=[listen(O,"input",r[13]),listen(j,"input",r[14]),listen(K,"input",r[15]),listen(ee,"click",r[6]),listen(re,"click",r[8])],ie=!0)},p(ce,ue){ce[1]!=""?se?se.p(ce,ue):(se=create_if_block_2$c(ce),se.c(),se.m(o.parentNode,o)):se&&(se.d(1),se=null),ue&4&&O.value!==ce[2]&&set_input_value(O,ce[2]),ue&8&&j.value!==ce[3]&&set_input_value(j,ce[3]),ue&16&&K.value!==ce[4]&&set_input_value(K,ce[4]),ue&32&&set_data(J,ce[5])},d(ce){ce&&detach(e),ce&&detach(t),se&&se.d(ce),ce&&detach(o),ce&&detach(l),ce&&detach(D),ce&&detach(R),ce&&detach(U),ce&&detach(W),ce&&detach(Y),ce&&detach(X),ce&&detach(Q),ce&&detach(Z),ie=!1,run_all(ne)}}}function create_if_block$h(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q;return{c(){e=element("h3"),e.textContent="Connexion",t=space(),o=element("label"),l=text("Identifiant :"),h=element("br"),y=element("input"),O=space(),D=element("label"),R=text("Mot de passe :"),F=element("br"),B=element("input"),j=space(),U=element("div"),W=text(r[5]),G=space(),q=element("div"),K=element("div"),K.textContent="Pas encore de compte ?",Y=space(),X=element("button"),X.textContent="Connexion",attr(e,"class","mb-4"),set_style(e,"color","#6219d8"),set_style(e,"text-align","center"),set_style(e,"margin-bottom","16px"),attr(y,"placeholder","bruce@wayne.com"),attr(y,"type","text"),attr(y,"class","svelte-1yoxi9y"),attr(o,"for","id"),attr(o,"class","svelte-1yoxi9y"),attr(B,"type","password"),attr(B,"class","svelte-1yoxi9y"),attr(D,"for","mdp"),attr(D,"class","svelte-1yoxi9y"),attr(U,"class","errorMsg svelte-1yoxi9y"),attr(K,"class","optionTwo svelte-1yoxi9y"),attr(X,"class","svelte-1yoxi9y"),set_style(q,"display","flex"),set_style(q,"flex-direction","row"),set_style(q,"align-items","center")},m(Z,ee){insert(Z,e,ee),insert(Z,t,ee),insert(Z,o,ee),append(o,l),append(o,h),append(o,y),set_input_value(y,r[2]),insert(Z,O,ee),insert(Z,D,ee),append(D,R),append(D,F),append(D,B),set_input_value(B,r[3]),insert(Z,j,ee),insert(Z,U,ee),append(U,W),insert(Z,G,ee),insert(Z,q,ee),append(q,K),append(q,Y),append(q,X),J||(Q=[listen(y,"input",r[11]),listen(B,"input",r[12]),listen(K,"click",r[6]),listen(X,"click",r[7])],J=!0)},p(Z,ee){ee&4&&y.value!==Z[2]&&set_input_value(y,Z[2]),ee&8&&B.value!==Z[3]&&set_input_value(B,Z[3]),ee&32&&set_data(W,Z[5])},d(Z){Z&&detach(e),Z&&detach(t),Z&&detach(o),Z&&detach(O),Z&&detach(D),Z&&detach(j),Z&&detach(U),Z&&detach(G),Z&&detach(q),J=!1,run_all(Q)}}}function create_if_block_2$c(r){let e,t;return{c(){e=element("div"),t=text(r[1]),attr(e,"class","infoMsg svelte-1yoxi9y")},m(o,l){insert(o,e,l),append(e,t)},p(o,l){l&2&&set_data(t,o[1])},d(o){o&&detach(e)}}}function create_key_block$2(r){let e,t,o,l;function h(D,R){if(D[0]=="connex")return create_if_block$h;if(D[0]=="inscr")return create_if_block_1$d;if(D[0]=="success")return create_if_block_3$9}let y=h(r),O=y&&y(r);return{c(){e=element("div"),O&&O.c(),attr(e,"class","svelte-1yoxi9y")},m(D,R){insert(D,e,R),O&&O.m(e,null),l=!0},p(D,R){y===(y=h(D))&&O?O.p(D,R):(O&&O.d(1),O=y&&y(D),O&&(O.c(),O.m(e,null)))},i(D){l||(add_render_callback(()=>{o&&o.end(1),t=create_in_transition(e,fly,{x:30}),t.start()}),l=!0)},o(D){t&&t.invalidate(),o=create_out_transition(e,fly,{x:-30}),l=!1},d(D){D&&detach(e),O&&O.d(),D&&o&&o.end()}}}function create_fragment$q(r){let e,t,o=r[0],l,h,y,O,D=create_key_block$2(r);return{c(){e=element("div"),t=element("div"),D.c(),attr(t,"class","floatingLogin svelte-1yoxi9y"),attr(e,"role","dialog"),attr(e,"class","modal svelte-1yoxi9y")},m(R,F){insert(R,e,F),append(e,t),D.m(t,null),h=!0,y||(O=[listen(e,"introstart",r[9]),listen(e,"outroend",r[10])],y=!0)},p(R,[F]){F&1&&safe_not_equal(o,o=R[0])?(group_outros(),transition_out(D,1,1,noop$4),check_outros(),D=create_key_block$2(R),D.c(),transition_in(D,1),D.m(t,null)):D.p(R,F)},i(R){h||(transition_in(D),add_render_callback(()=>{l||(l=create_bidirectional_transition(e,fly,{y:50},!0)),l.run(1)}),h=!0)},o(R){transition_out(D),l||(l=create_bidirectional_transition(e,fly,{y:50},!1)),l.run(0),h=!1},d(R){R&&detach(e),D.d(R),R&&l&&l.end(),y=!1,run_all(O)}}}function instance$o(r,e,t){const o=useNavigate();let{msg:l=""}=e,{page2:h="inscr"}=e;const y=()=>{h=="inscr"?t(0,h="connex"):t(0,h="inscr")};let O="",D="",R="",F="";const B=()=>{O==""||D==""?t(5,F="Veuillez remplir tous les champs ci-dessus."):(t(5,F=""),W(O.toLowerCase(),D).then(Z=>{t(5,F=Z)}))},j=()=>{O==""||D==""||R==""?t(5,F="Veuillez remplir tous les champs ci-dessus."):(t(5,F=""),U(O.toLowerCase(),D,R).then(Z=>{t(5,F=Z)}))};function U(Z,ee,te){let re=new Headers;re.append("Content-Type","application/json");let ie=JSON.stringify({email:Z,password1:ee,password2:te}),ne={method:"POST",headers:re,body:ie,redirect:"follow"};return new Promise((se,ce)=>{fetch(rtnUrl+"auth/registration/",ne).then(ue=>ue.text()).then(ue=>{Object.keys(JSON.parse(ue))[0]=="non_field_errors"?se("Les mots de passe ne sont pas identiques."):Object.keys(JSON.parse(ue))[0]=="email"?se("Adresse mail non-valide ou d\xE9j\xE0 utilis\xE9e."):Object.keys(JSON.parse(ue))[0]=="password1"?se("Le mot de passe doit contenir au moins 8 caract\xE8res."):JSON.parse(ue)[Object.keys(JSON.parse(ue))[0]]=="Verification e-mail sent."&&(t(0,h="success"),se("Un e-mail de verification vous a \xE9t\xE9 envoy\xE9."))}).catch(ue=>se(ue))})}function W(Z,ee){let te=new Headers;te.append("Content-Type","application/json");let re=JSON.stringify({username:Z,password:ee}),ie={method:"POST",headers:te,body:re,redirect:"follow"};return new Promise((ne,se)=>{fetch(rtnUrl+"authenticate/",ie).then(ce=>ce.text()).then(ce=>{Object.keys(JSON.parse(ce))[0]=="non_field_errors"?ne("Identifiants incorrects."):(xxsc("rtnt",JSON.parse(ce).token,30),xxsc("rtnu",JSON.parse(ce).id,30),closeModal(),o("/dashboard"),ne("Connexion effectu\xE9e. Bienvenue sur R\xE9tine."))}).catch(ce=>console.log(ce))})}function G(Z){bubble.call(this,r,Z)}function q(Z){bubble.call(this,r,Z)}function K(){O=this.value,t(2,O)}function Y(){D=this.value,t(3,D)}function X(){O=this.value,t(2,O)}function J(){D=this.value,t(3,D)}function Q(){R=this.value,t(4,R)}return r.$$set=Z=>{"msg"in Z&&t(1,l=Z.msg),"page2"in Z&&t(0,h=Z.page2)},[h,l,O,D,R,F,y,B,j,G,q,K,Y,X,J,Q]}class AuthModule extends SvelteComponent{constructor(e){super(),init(this,e,instance$o,create_fragment$q,safe_not_equal,{msg:1,page2:0})}}var switch_svelte_svelte_type_style_lang="";function create_fragment$p(r){let e,t,o,l,h,y;return{c(){e=element("label"),t=element("input"),o=space(),l=element("span"),attr(t,"type","checkbox"),attr(t,"class","svelte-1awcgxz"),attr(l,"class","slider svelte-1awcgxz"),attr(e,"class","switch svelte-1awcgxz")},m(O,D){insert(O,e,D),append(e,t),t.checked=r[0],append(e,o),append(e,l),h||(y=listen(t,"change",r[1]),h=!0)},p(O,[D]){D&1&&(t.checked=O[0])},i:noop$4,o:noop$4,d(O){O&&detach(e),h=!1,y()}}}function instance$n(r,e,t){let{checked:o=!1}=e;function l(){o=this.checked,t(0,o)}return r.$$set=h=>{"checked"in h&&t(0,o=h.checked)},[o,l]}class Switch extends SvelteComponent{constructor(e){super(),init(this,e,instance$n,create_fragment$p,safe_not_equal,{checked:0})}}var index_svelte_svelte_type_style_lang="";function create_if_block_1$c(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee;function te(ne,se){return xxgc("rtnt")!=null&&xxgc("rtnt")!=null?create_if_block_2$b:create_else_block$a}let ie=te()(r);return{c(){ie.c(),e=space(),t=element("img"),l=space(),h=element("div"),y=element("div"),O=element("span"),D=element("div"),R=element("div"),R.textContent="R\xE9tine",B=space(),j=element("h2"),j.innerHTML="La nouvelle \xE8re <br/>de l&#39;opinion",W=space(),G=element("button"),G.textContent="\u26A1 Cr\xE9er un sondage 2.0",K=space(),Y=element("div"),X=element("div"),J=element("div"),J.innerHTML='<div class="w-100 h-100 d-flex align-items-center justify-content-center svelte-7dv7nw" style="border-radius: 15px;"><iframe class="integratedSondage svelte-7dv7nw" id="sondageRetine" title="Mon sondage R\xE9tine" src="https://retine.io/sondage#843a213"></iframe></div>',attr(t,"class","logoJtvBig svelte-7dv7nw"),src_url_equal(t.src,o="assets/LOGO_JTV_ALT.svg")||attr(t,"src",o),attr(t,"alt","logo de Jetevois"),set_style(t,"width","90vw"),set_style(t,"max-width","800px"),set_style(t,"left","50%"),set_style(t,"top","50%"),set_style(t,"transform","translate(-50%,-50%)"),set_style(t,"animation","float 2s ease-in-out infinite"),attr(R,"class","retineTitle svelte-7dv7nw"),attr(j,"class","retineSlogan svelte-7dv7nw"),attr(G,"class","neuBtnClear mt-4 svelte-7dv7nw"),attr(D,"class","centerTitle h-100 text-center text-md-start d-flex align-items-center align-items-md-start justify-content-center svelte-7dv7nw"),attr(y,"class","col-12 col-md-6"),attr(J,"class","iphone-x mx-auto my-4 h-100 svelte-7dv7nw"),attr(X,"class","d-flex align-items-center justify-content-center"),set_style(X,"height","100%"),attr(Y,"class","col-12 col-md-6 p-4 p-md-0"),attr(h,"class","row h-100 w-100 p-1 p-md-4")},m(ne,se){ie.m(ne,se),insert(ne,e,se),insert(ne,t,se),insert(ne,l,se),insert(ne,h,se),append(h,y),append(y,O),append(O,D),append(D,R),append(D,B),append(D,j),append(D,W),append(D,G),append(h,K),append(h,Y),append(Y,X),append(X,J),Z||(ee=listen(G,"click",r[6]),Z=!0)},p(ne,se){ie.p(ne,se)},i(ne){F||add_render_callback(()=>{F=create_in_transition(R,fly,{y:50,duration:500,delay:100}),F.start()}),U||add_render_callback(()=>{U=create_in_transition(j,fly,{y:50,duration:500,delay:200}),U.start()}),q||add_render_callback(()=>{q=create_in_transition(G,fly,{y:50,duration:500,delay:300}),q.start()}),Q||add_render_callback(()=>{Q=create_in_transition(J,fly,{y:50,duration:700,delay:400}),Q.start()})},o:noop$4,d(ne){ie.d(ne),ne&&detach(e),ne&&detach(t),ne&&detach(l),ne&&detach(h),Z=!1,ee()}}}function create_else_block$a(r){let e,t,o,l;return{c(){e=element("div"),t=element("button"),t.innerHTML=`<i class="bx bx-log-in" width="1.4em" color="white" style="padding-right:5px"></i> 
            <div>Connexion | Inscription</div>`,attr(t,"class","purpleBtn svelte-7dv7nw"),attr(e,"class","connexBtn svelte-7dv7nw")},m(h,y){insert(h,e,y),append(e,t),o||(l=listen(t,"click",r[5]),o=!0)},p:noop$4,d(h){h&&detach(e),o=!1,l()}}}function create_if_block_2$b(r){let e,t,o,l;return{c(){e=element("div"),t=element("button"),t.innerHTML=`<i class="bx bx-log-in" width="1.4em" color="white" style="padding-right:5px"></i> 
            <div>Mon tableau de bord</div>`,attr(t,"class","purpleBtn svelte-7dv7nw"),attr(e,"class","connexBtn svelte-7dv7nw")},m(h,y){insert(h,e,y),append(e,t),o||(l=listen(t,"click",r[4]),o=!0)},p:noop$4,d(h){h&&detach(e),o=!1,l()}}}function create_if_block$g(r){let e,t,o,l,h,y,O;const D=[r[2].props||{}];var R=r[2].component;function F(B){let j={};for(let U=0;U<D.length;U+=1)j=assign$8(j,D[U]);return{props:j}}return R&&(e=new R(F())),{c(){e&&create_component(e.$$.fragment),t=space(),o=element("div"),attr(o,"class","backdrop svelte-7dv7nw")},m(B,j){e&&mount_component(e,B,j),insert(B,t,j),insert(B,o,j),h=!0,y||(O=listen(o,"click",r[10]),y=!0)},p(B,j){const U=j&4?get_spread_update(D,[get_spread_object(B[2].props||{})]):{};if(R!==(R=B[2].component)){if(e){group_outros();const W=e;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(e=new R(F()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else R&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(t),B&&detach(o),B&&l&&l.end(),y=!1,O()}}}function create_default_slot$7(r){let e,t,o=r[2]&&create_if_block$g(r);return{c(){o&&o.c(),e=empty$2()},m(l,h){o&&o.m(l,h),insert(l,e,h),t=!0},p(l,h){l[2]?o?(o.p(l,h),h&4&&transition_in(o,1)):(o=create_if_block$g(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){t||(transition_in(o),t=!0)},o(l){transition_out(o),t=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$o(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne,se,ce,ue,he,pe,oe,ae,le,me,ge,fe,_e,we,ve,Se,$e,be,ye,Oe,Te,ke,Ee=r[1]?"62\u20AC":"69\u20AC",Ie,xe,Me,Ae,Re,Ce,Ne,Be,Ve,Le,ze,He,je,De,Pe,Fe,Ke,qe,Ue,We=r[0]&&create_if_block_1$c(r);function Je(Ge){r[7](Ge)}let Ze={};return r[1]!==void 0&&(Ze.checked=r[1]),ie=new Switch({props:Ze}),binding_callbacks.push(()=>bind$f(ie,"checked",Je)),Fe=new Modals({props:{$$slots:{default:[create_default_slot$7]},$$scope:{ctx:r}}}),{c(){e=element("link"),t=space(),o=element("div"),l=element("div"),We&&We.c(),h=space(),y=element("div"),O=space(),D=element("div"),D.innerHTML=`<div class="purpleRect svelte-7dv7nw"><img class="logoJtvBig svelte-7dv7nw" style="top:0px; opacity:.1;" src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois"/> 
      <h2 class="lTwoTitle svelte-7dv7nw">Vos employ\xE9s &amp; clients vont adorer r\xE9pondre,<br/>Vous allez adorer sonder</h2> 
      <div class="row w-100" style="max-width:950px;"><div class="col-12 col-md-4 mb-3"><div class="lTwoCard hvr-float svelte-7dv7nw"><div><div class="numberFact svelte-7dv7nw">30%</div> 
              <div class="textFact svelte-7dv7nw">plus rapide de r\xE9pondre \xE0 un sondage R\xE9tine qu\u2019\xE0 tout autre sondage en ligne</div></div> 
            <div class="footerFact svelte-7dv7nw">\u{1F3C6} Interface chat innovante</div></div></div> 
        <div class="col-12 col-md-4 mb-3"><div class="lTwoCard hvr-float svelte-7dv7nw"><div><div class="numberFact svelte-7dv7nw">87%</div> 
              <div class="textFact svelte-7dv7nw">des r\xE9pondants pr\xE9f\xE8rent r\xE9pondre \xE0 des sondages R\xE9tine</div></div> 
            <div class="footerFact svelte-7dv7nw">\u{1F3C6} Sondages ludiques et modernes</div></div></div> 
        <div class="col-12 col-md-4 mb-3"><div class="lTwoCard hvr-float svelte-7dv7nw"><div><div class="numberFact svelte-7dv7nw">2 <span style="font-size:3rem">clics</span></div> 
              <div class="textFact svelte-7dv7nw">pour analyser les correlations, tendances, r\xE9ponses filtr\xE9es...</div></div> 
            <div class="footerFact svelte-7dv7nw">\u{1F3C6} Interface chat innovante</div></div></div></div></div>`,R=space(),F=element("div"),B=space(),j=element("div"),j.innerHTML=`<img class="logoJtvBig svelte-7dv7nw" style="top:0px; opacity:.05; width:20%!important; min-width:300px;" src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois"/> 
    <h1 class="mb-5 mx-auto">10 bonnes raisons de choisir R\xE9tine</h1> 
    <div class="parent-gridRet svelte-7dv7nw"><div class="div1-gridRet hvr-float svelte-7dv7nw"><img src="assets/LOGO_JTV_ALT_white.svg" alt="logo de Jetevois" style="position: ;absolute; opacity: .2; transform:translateY(-15px)" class="svelte-7dv7nw"/> 
        <p style="position:absolute; color:white; font-size:2.4rem" class="svelte-7dv7nw">R\xE9tine</p></div> 
      <div class="div2-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/icone-dashboards-retine.svg" alt="Tableau de bord interactif" class="svelte-7dv7nw"/> 
        <p class="svelte-7dv7nw">Tableau de bord interactif</p></div> 
      <div class="div3-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/illus-retine-templates.svg" alt="Templates professionnels" class="svelte-7dv7nw"/> 
        <p class="svelte-7dv7nw">Templates professionnels</p></div> 
      <div class="div4-gridRet hvr-float svelte-7dv7nw"><p class="svelte-7dv7nw">IA d\xE9di\xE9e \xE0 l&#39;analyse des r\xE9ponses</p> 
        <img src="assets/landing/illus-retine-analyse-quali.png" alt="Analyse du sentiment des r\xE9pondants" class="svelte-7dv7nw"/></div> 
      <div class="div5-gridRet hvr-float svelte-7dv7nw">\u{1F534} R\xE9sultats en temps r\xE9el</div> 
      <div class="div6-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/illus-retine-max-taux-reponse.svg" alt="Taux de reponse maximis\xE9" class="svelte-7dv7nw"/> 
        <p class="pl-md-3 svelte-7dv7nw">Maximisation du taux de r\xE9ponse</p></div> 
      <div class="div7-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/illus-retine-personalisation.svg" alt="Personnalisation du design des questionnaires" class="svelte-7dv7nw"/> 
        <p class="pl-md-3 svelte-7dv7nw">Personnalisation du design des questionnaires</p></div> 
      <div class="div8-gridRet hvr-float svelte-7dv7nw"><p class="pl-md-4 svelte-7dv7nw">Export des r\xE9sultats</p> 
        <img class="py-3 svelte-7dv7nw" src="assets/landing/grid(3).png" alt="export en csv"/></div> 
      <div class="div9-gridRet hvr-float svelte-7dv7nw"><img src="assets/landing/grid(6).png" alt="filtre" class="svelte-7dv7nw"/> 
        <p class="svelte-7dv7nw">Filtrage intelligent des r\xE9ponses</p></div> 
      <div class="div10-gridRet hvr-float svelte-7dv7nw"><p class="pl-md-3 svelte-7dv7nw">Donn\xE9es s\xE9curis\xE9es et h\xE9berg\xE9es en France</p> 
        <img class="pr-md-4 svelte-7dv7nw" src="assets/landing/grid(4).png" alt="nuage s\xE9curis\xE9"/></div> 
      <div class="div11-gridRet hvr-float svelte-7dv7nw"><img class="p-0 svelte-7dv7nw" src="assets/landing/grid(5).png" alt="export en csv"/> 
        <p class="svelte-7dv7nw">Accompagnement au ciblage des r\xE9pondants</p></div></div>`,U=space(),W=element("div"),G=space(),q=element("div"),K=element("img"),X=space(),J=element("h2"),J.textContent="Il y a forc\xE9ment une offre pour vous",Q=space(),Z=element("div"),ee=element("div"),ee.textContent="Mensuel",te=space(),re=element("div"),create_component(ie.$$.fragment),se=space(),ce=element("div"),ce.textContent="Annuel (-10%)",ue=space(),he=element("div"),pe=element("div"),oe=element("div"),ae=element("div"),ae.textContent="D\xE9couverte",le=space(),me=element("h1"),me.textContent="Gratuit",ge=space(),fe=element("p"),fe.textContent="La formule id\xE9ale pour d\xE9couvrir et tester R\xE9tine",_e=space(),we=element("ul"),we.innerHTML=`<li>Fonctionnalit\xE9s basiques de R\xE9tine (cr\xE9ation des sondages, lien de partage et analyse des r\xE9sultats)</li> 
            <li>Acc\xE8s \xE0 10 templates de sondages</li> 
            <li>Nombre de r\xE9pondants limit\xE9 \xE0 30 par sondage</li>`,ve=space(),Se=element("div"),Se.textContent="Je d\xE9couvre \u{1F440}",$e=space(),be=element("div"),ye=element("div"),Oe=element("div"),Oe.textContent="R\xE9tine Pro",Te=space(),ke=element("h1"),Ie=text(Ee),xe=element("span"),xe.textContent="/mois",Me=space(),Ae=element("span"),Ae.textContent="(TTC)",Re=space(),Ce=element("p"),Ce.textContent="La pleine puissance de R\xE9tine, calibr\xE9e pour les professionnels",Ne=space(),Be=element("ul"),Be.innerHTML=`<li>Fonctionnalit\xE9s compl\xE8tes de R\xE9tine (cr\xE9ation des sondages, envoi massif et analyse)</li> 
            <li>Acc\xE8s \xE0 l\u2019ensemble des templates de sondages (50+)</li> 
            <li>Nombre de r\xE9pondants illimit\xE9s</li> 
            <li>Nombre de contacts illimit\xE9s</li> 
            <li>Support 7/7</li>`,Ve=space(),Le=element("div"),Le.textContent="C'est parti \u{1F680}",ze=space(),He=element("div"),He.innerHTML=`<div class="priceCard hvr-float mb-4 svelte-7dv7nw" style="height:fit-content; background-color:white;"><div class="tickk svelte-7dv7nw" style="font-size:1.1rem;">\u23F1\uFE0F Prochaines fonctionnalit\xE9s</div> 
          <ul class="mb-0 svelte-7dv7nw" style="font-size:.9rem;"><li>De nouveaux modules de sondages innovants</li> 
            <li>L\u2019export des r\xE9sultats au format slides (PDF &amp; PPT)</li> 
            <li>De nouvelles options de diffusion de sondages</li></ul></div> 
        <div class="priceCard neuPriceCard hvr-float flex-grow-1 svelte-7dv7nw" style="height:fit-content; background-color:#F5E4D5 "><div class="tickk svelte-7dv7nw">Un besoin particulier ?</div> 
          <p class="svelte-7dv7nw">R\xE9tine vous accompagne sur-mesure</p> 
          <ul class="svelte-7dv7nw"><li>Ciblage des r\xE9pondants</li> 
            <li>Cr\xE9ation de questionnaires</li> 
            <li>Optimisation des campagnes</li></ul> 
          <a style="color:black; text-decoration:none;" href="mailto:bonjour@retine.io"><div class="priceActionButton svelte-7dv7nw">Contactez nous \u{1F680}</div></a></div>`,je=space(),De=element("footer"),De.innerHTML=`<a class="footerPill svelte-7dv7nw" style="text-decoration:none;" href="https://jetevois.fr/" target="_noref">R\xE9tine est un produit cr\xE9\xE9 <br class="d-inline d-md-none"/>par le studio <img src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois" class="svelte-7dv7nw"/> 
      <strong>Je te vois</strong></a> 
    <div class="footerLegal svelte-7dv7nw">\xA9 2020-2022 / <a href="https://retine.io/ml.pdf" class="mx-2 svelte-7dv7nw">Mentions l\xE9gales</a> 

      <div class="socialIcon svelte-7dv7nw"><a href="https://www.linkedin.com/company/je-te-vois" rel="noopener" target="_blank" class="icon-17 linkedin svelte-7dv7nw" title="LinkedIn"><svg viewBox="0 0 512 512"><path d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z"></path></svg></a></div> 
      <div class="socialIcon svelte-7dv7nw"><a href="https://twitter.com/JeTeVoisFR" rel="noopener" target="_blank" class="icon-26 twitter svelte-7dv7nw" title="Twitter"><svg viewBox="0 0 512 512"><path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"></path></svg></a></div> 
      <div class="socialIcon svelte-7dv7nw"><a href="https://instagram.com/jetevoisfr" rel="noopener" target="_blank" class="icon-15 instagram svelte-7dv7nw" title="Instagram"><svg viewBox="0 0 512 512"><g><path d="M256 109.3c47.8 0 53.4 0.2 72.3 1 17.4 0.8 26.9 3.7 33.2 6.2 8.4 3.2 14.3 7.1 20.6 13.4 6.3 6.3 10.1 12.2 13.4 20.6 2.5 6.3 5.4 15.8 6.2 33.2 0.9 18.9 1 24.5 1 72.3s-0.2 53.4-1 72.3c-0.8 17.4-3.7 26.9-6.2 33.2 -3.2 8.4-7.1 14.3-13.4 20.6 -6.3 6.3-12.2 10.1-20.6 13.4 -6.3 2.5-15.8 5.4-33.2 6.2 -18.9 0.9-24.5 1-72.3 1s-53.4-0.2-72.3-1c-17.4-0.8-26.9-3.7-33.2-6.2 -8.4-3.2-14.3-7.1-20.6-13.4 -6.3-6.3-10.1-12.2-13.4-20.6 -2.5-6.3-5.4-15.8-6.2-33.2 -0.9-18.9-1-24.5-1-72.3s0.2-53.4 1-72.3c0.8-17.4 3.7-26.9 6.2-33.2 3.2-8.4 7.1-14.3 13.4-20.6 6.3-6.3 12.2-10.1 20.6-13.4 6.3-2.5 15.8-5.4 33.2-6.2C202.6 109.5 208.2 109.3 256 109.3M256 77.1c-48.6 0-54.7 0.2-73.8 1.1 -19 0.9-32.1 3.9-43.4 8.3 -11.8 4.6-21.7 10.7-31.7 20.6 -9.9 9.9-16.1 19.9-20.6 31.7 -4.4 11.4-7.4 24.4-8.3 43.4 -0.9 19.1-1.1 25.2-1.1 73.8 0 48.6 0.2 54.7 1.1 73.8 0.9 19 3.9 32.1 8.3 43.4 4.6 11.8 10.7 21.7 20.6 31.7 9.9 9.9 19.9 16.1 31.7 20.6 11.4 4.4 24.4 7.4 43.4 8.3 19.1 0.9 25.2 1.1 73.8 1.1s54.7-0.2 73.8-1.1c19-0.9 32.1-3.9 43.4-8.3 11.8-4.6 21.7-10.7 31.7-20.6 9.9-9.9 16.1-19.9 20.6-31.7 4.4-11.4 7.4-24.4 8.3-43.4 0.9-19.1 1.1-25.2 1.1-73.8s-0.2-54.7-1.1-73.8c-0.9-19-3.9-32.1-8.3-43.4 -4.6-11.8-10.7-21.7-20.6-31.7 -9.9-9.9-19.9-16.1-31.7-20.6 -11.4-4.4-24.4-7.4-43.4-8.3C310.7 77.3 304.6 77.1 256 77.1L256 77.1z"></path><path d="M256 164.1c-50.7 0-91.9 41.1-91.9 91.9s41.1 91.9 91.9 91.9 91.9-41.1 91.9-91.9S306.7 164.1 256 164.1zM256 315.6c-32.9 0-59.6-26.7-59.6-59.6s26.7-59.6 59.6-59.6 59.6 26.7 59.6 59.6S288.9 315.6 256 315.6z"></path><circle cx="351.5" cy="160.5" r="21.5"></circle></g></svg></a></div></div>`,Pe=space(),create_component(Fe.$$.fragment),attr(e,"rel","stylesheet"),attr(e,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),attr(l,"class","landingHead pt-5 svelte-7dv7nw"),attr(y,"class","p-5 d-md-none"),set_style(y,"background-color","#FAF7FF"),attr(D,"class","landingTwo pt-5 pt-md-0 svelte-7dv7nw"),attr(F,"class","p-5 d-md-none"),set_style(F,"background-color","#FAF7FF"),attr(j,"class","landingThree pt-5 pt-md-0 svelte-7dv7nw"),attr(W,"class","p-5 d-md-none"),set_style(W,"background-color","#FAF7FF"),attr(K,"class","logoJtvBig svelte-7dv7nw"),set_style(K,"top","0px"),set_style(K,"opacity",".05"),set_style(K,"width","20%",1),set_style(K,"min-width","300px"),src_url_equal(K.src,Y="assets/LOGO_JTV_ALT.svg")||attr(K,"src",Y),attr(K,"alt","logo de Jetevois"),attr(J,"class","mb-4 mx-auto"),attr(re,"class","mx-3"),attr(Z,"class","d-flex align-items-center justify-content-center mb-4"),attr(ae,"class","tickk svelte-7dv7nw"),attr(me,"class","svelte-7dv7nw"),attr(fe,"class","svelte-7dv7nw"),attr(we,"class","svelte-7dv7nw"),attr(Se,"class","priceActionButton svelte-7dv7nw"),attr(oe,"class","priceCard hvr-float svelte-7dv7nw"),set_style(oe,"background-color","white"),set_style(oe,"color","black"),set_style(oe,"border","3px #E3E3E3 solid"),attr(pe,"class","col-12 col-md-4 p-3"),attr(Oe,"class","tickk svelte-7dv7nw"),set_style(xe,"font-size","1.8rem"),set_style(Ae,"font-size","1rem"),attr(ke,"class","svelte-7dv7nw"),attr(Ce,"class","svelte-7dv7nw"),attr(Be,"class","svelte-7dv7nw"),attr(Le,"class","priceActionButton svelte-7dv7nw"),attr(ye,"class","priceCard hvr-float svelte-7dv7nw"),set_style(ye,"color","white"),set_style(ye,"background-color","#6219D8"),attr(be,"class","col-12 col-md-4 p-3"),attr(He,"class","col-12 col-md-4 p-3 d-flex flex-column"),attr(he,"class","row w-100"),set_style(he,"max-width","1200px"),attr(q,"class","landingFour pt-5 pt-md-0 svelte-7dv7nw"),attr(De,"class","footer svelte-7dv7nw"),attr(o,"class","main svelte-7dv7nw")},m(Ge,Xe){append(document.head,e),insert(Ge,t,Xe),insert(Ge,o,Xe),append(o,l),We&&We.m(l,null),append(o,h),append(o,y),append(o,O),append(o,D),append(o,R),append(o,F),append(o,B),append(o,j),append(o,U),append(o,W),append(o,G),append(o,q),append(q,K),append(q,X),append(q,J),append(q,Q),append(q,Z),append(Z,ee),append(Z,te),append(Z,re),mount_component(ie,re,null),append(Z,se),append(Z,ce),append(q,ue),append(q,he),append(he,pe),append(pe,oe),append(oe,ae),append(oe,le),append(oe,me),append(oe,ge),append(oe,fe),append(oe,_e),append(oe,we),append(oe,ve),append(oe,Se),append(he,$e),append(he,be),append(be,ye),append(ye,Oe),append(ye,Te),append(ye,ke),append(ke,Ie),append(ke,xe),append(ke,Me),append(ke,Ae),append(ye,Re),append(ye,Ce),append(ye,Ne),append(ye,Be),append(ye,Ve),append(ye,Le),append(he,ze),append(he,He),append(o,je),append(o,De),insert(Ge,Pe,Xe),mount_component(Fe,Ge,Xe),Ke=!0,qe||(Ue=[listen(Se,"click",r[8]),listen(Le,"click",r[9])],qe=!0)},p(Ge,[Xe]){Ge[0]?We?(We.p(Ge,Xe),Xe&1&&transition_in(We,1)):(We=create_if_block_1$c(Ge),We.c(),transition_in(We,1),We.m(l,null)):We&&(We.d(1),We=null);const et={};!ne&&Xe&2&&(ne=!0,et.checked=Ge[1],add_flush_callback(()=>ne=!1)),ie.$set(et),(!Ke||Xe&2)&&Ee!==(Ee=Ge[1]?"62\u20AC":"69\u20AC")&&set_data(Ie,Ee);const tt={};Xe&16388&&(tt.$$scope={dirty:Xe,ctx:Ge}),Fe.$set(tt)},i(Ge){Ke||(transition_in(We),transition_in(ie.$$.fragment,Ge),transition_in(Fe.$$.fragment,Ge),Ke=!0)},o(Ge){transition_out(ie.$$.fragment,Ge),transition_out(Fe.$$.fragment,Ge),Ke=!1},d(Ge){detach(e),Ge&&detach(t),Ge&&detach(o),We&&We.d(),destroy_component(ie),Ge&&detach(Pe),destroy_component(Fe,Ge),qe=!1,run_all(Ue)}}}function instance$m(r,e,t){let o,l;component_subscribe(r,modals,W=>t(3,l=W));let h=!1;onMount(()=>t(0,h=!0));let y=!1;const O=()=>window.location.href="/dashboard",D=()=>openModal(AuthModule,{}),R=()=>navigate("demo");function F(W){y=W,t(1,y)}const B=()=>openModal(AuthModule,{msg:"Vous cr\xE9ez un compte R\xE9tine D\xE9couverte. Passez \xE0 R\xE9tine Pro pour d\xE9bloquer toutes les fonctionnalit\xE9s de R\xE9tine."}),j=()=>openModal(AuthModule,{msg:"Vous cr\xE9ez un compte R\xE9tine qui vous permettra d'utiliser tout le potentiel de R\xE9tine."}),U=()=>{closeModal()};return r.$$.update=()=>{r.$$.dirty&8&&t(2,o=l[l.length-1])},[h,y,o,l,O,D,R,F,B,j,U]}class Home extends SvelteComponent{constructor(e){super(),init(this,e,instance$m,create_fragment$o,safe_not_equal,{})}}const countOccurrences=(r,e)=>r.reduce((t,o)=>o===e?t+1:t,0),getDaysArray=function(r,e){for(var t=[],o=new Date(r);o<=new Date(e);o.setDate(o.getDate()+1))t.push(new Date(o));return t};function uuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r=>(r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>r/4).toString(16))}let scaleParam={x:{grid:{display:!1},ticks:{stepSize:1,maxTicksLimit:20,beginAtZero:!0}},y:{grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0,maxTicksLimit:5}}},deferredConfig={xOffset:150,yOffset:"30%",delay:100},chartColors=["#23BE6E4D","#7798AB4D","#6219D84D","#DB54614D","#42BFDD4D","#E7BB734D","#F08CAE4D","#A297154D","#4C4C474D","#F588514D"];async function dlData(r){var e=new Headers;return e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json"),fetch(`${rtnUrl}sondage/edit/x/${r}/`,{method:"GET",headers:e,redirect:"follow"}).then(t=>t.blob()).then(t=>{var o=window.URL.createObjectURL(t);window.location.assign(o)})}async function delSondRtn(r,e){Swal.fire({title:"Supprimer le sondage?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#6219D8",cancelButtonColor:"#2FCC72",confirmButtonText:"Supprimer le sondage",cancelButtonText:"Annuler"}).then(t=>{if(t.isConfirmed){var o=new Headers;return o.append("Authorization","Token "+xxgc("rtnt")),fetch(`${rtnUrl}sondages/edit/${r}/`,{method:"DELETE",headers:o,redirect:"follow"}).then(l=>l.text()).then(l=>(Swal.fire("Sondage supprim\xE9","Votre sondage ainsi que les r\xE9ponses ont \xE9t\xE9 supprim\xE9s.","success"),e("projects"),l)).catch(l=>l)}})}async function shareQueryGET(r){var e=new Headers;return e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/edit/share/${r}/`,{method:"GET",headers:e,redirect:"follow"}).then(t=>t.text()).then(t=>JSON.parse(t)).catch(t=>t)}async function shareQueryCREATE(r){var e=new Headers;return e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/edit/share/${r}/`,{method:"PUT",headers:e,redirect:"follow",body:JSON.stringify({share_id:uuidv4().toString(),share_pw:uuidv4().toString()})}).then(t=>t.text()).then(t=>JSON.parse(t)).catch(t=>t)}async function shareQueryDELETE(r){var e=new Headers;return e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/edit/share/${r}/`,{method:"PUT",headers:e,redirect:"follow",body:JSON.stringify({share_id:"no",share_pw:"no"})}).then(t=>t.text()).then(t=>JSON.parse(t)).catch(t=>t)}var projetCard_svelte_svelte_type_style_lang="";function create_fragment$n(r){let e,t,o,l,h,y,O,D=r[0].nom_proj+"",R,F,B,j,U=r[0].crea_date.split("T")[0]+"",W,G,q,K=r[1]?"Brouillon":r[0].reponse.length.toString()+" r\xE9ponses",Y,X,J;return{c(){e=element("div"),t=element("div"),o=element("img"),h=space(),y=element("div"),O=element("div"),R=text(D),F=space(),B=element("div"),j=element("div"),W=text(U),G=space(),q=element("div"),Y=text(K),attr(o,"class","w-100"),src_url_equal(o.src,l=r[1]?"/assets/icons/delete.svg":"/assets/icons/share.svg")||attr(o,"src",l),attr(o,"alt","bouton partger"),attr(t,"class","threeDot hvr-bounce-in svelte-33rzr5"),set_style(O,"font-size",r[4]+"rem"),attr(y,"class","cardTop w-100 h-75 m-0 svelte-33rzr5"),set_style(y,"background-color",r[1]?"grey":r[0].color),attr(j,"class","d-fk"),attr(B,"class","px-3 flex-fill d-flex justify-content-between align-items-center w-100"),attr(e,"class","neuProjet d-flex align-items-center justify-content-stretch flex-column hvr-float svelte-33rzr5")},m(Q,Z){insert(Q,e,Z),append(e,t),append(t,o),append(e,h),append(e,y),append(y,O),append(O,R),append(e,F),append(e,B),append(B,j),append(j,W),append(B,G),append(B,q),append(q,Y),X||(J=[listen(t,"click",stop_propagation(r[2])),listen(e,"click",r[3])],X=!0)},p(Q,[Z]){Z&1&&D!==(D=Q[0].nom_proj+"")&&set_data(R,D),Z&1&&set_style(y,"background-color",Q[1]?"grey":Q[0].color),Z&1&&U!==(U=Q[0].crea_date.split("T")[0]+"")&&set_data(W,U),Z&1&&K!==(K=Q[1]?"Brouillon":Q[0].reponse.length.toString()+" r\xE9ponses")&&set_data(Y,K)},i:noop$4,o:noop$4,d(Q){Q&&detach(e),X=!1,run_all(J)}}}function instance$l(r,e,t){function o(U){activePageStore.set(U)}let{sondage:l}=e,{loadSondage:h}=e,{updateFun:y}=e,{loadSView:O}=e,{shareFunction:D}=e,R=l.reponse.length==0&&l.priv==!0;const F=()=>{R?delSondRtn(l.id,y):D(),window.event.stopPropagation()},B=()=>{R?(t(0,l.jsonContent=JSON.parse(l.jsonContent),l),h(l,l.id)):(O(l),o("projectView"))};let j=l.nom_proj.length<35?"1.8":"1.1";return r.$$set=U=>{"sondage"in U&&t(0,l=U.sondage),"loadSondage"in U&&t(5,h=U.loadSondage),"updateFun"in U&&t(6,y=U.updateFun),"loadSView"in U&&t(7,O=U.loadSView),"shareFunction"in U&&t(8,D=U.shareFunction)},[l,R,F,B,j,h,y,O,D]}class ProjetCard extends SvelteComponent{constructor(e){super(),init(this,e,instance$l,create_fragment$n,safe_not_equal,{sondage:0,loadSondage:5,updateFun:6,loadSView:7,shareFunction:8})}}var commonjsGlobal$2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(r.__esModule)return r;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(t){var o=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,o.get?o:{enumerable:!0,get:function(){return r[t]}})}),e}var browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},utils$2={};let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$2.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};utils$2.getSymbolTotalCodewords=function(e){return CODEWORDS_COUNT[e]};utils$2.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};utils$2.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=e};utils$2.isKanjiModeEnabled=function(){return typeof toSJISFunction!="undefined"};utils$2.toSJIS=function(e){return toSJISFunction(e)};var errorCorrectionLevel={};(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},r.from=function(o,l){if(r.isValid(o))return o;try{return e(o)}catch{return l}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(r){const e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1;function BitMatrix$1(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}BitMatrix$1.prototype.set=function(r,e,t,o){const l=r*this.size+e;this.data[l]=t,o&&(this.reservedBit[l]=!0)};BitMatrix$1.prototype.get=function(r,e){return this.data[r*this.size+e]};BitMatrix$1.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};BitMatrix$1.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(r){const e=utils$2.getSymbolSize;r.getRowColCoords=function(o){if(o===1)return[];const l=Math.floor(o/7)+2,h=e(o),y=h===145?26:Math.ceil((h-13)/(2*l-2))*2,O=[h-7];for(let D=1;D<l-1;D++)O[D]=O[D-1]-y;return O.push(6),O.reverse()},r.getPositions=function(o){const l=[],h=r.getRowColCoords(o),y=h.length;for(let O=0;O<y;O++)for(let D=0;D<y;D++)O===0&&D===0||O===0&&D===y-1||O===y-1&&D===0||l.push([h[O],h[D]]);return l}})(alignmentPattern);var finderPattern={};const getSymbolSize=utils$2.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function(e){const t=getSymbolSize(e);return[[0,0],[t-FINDER_PATTERN_SIZE,0],[0,t-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(l){return l!=null&&l!==""&&!isNaN(l)&&l>=0&&l<=7},r.from=function(l){return r.isValid(l)?parseInt(l,10):void 0},r.getPenaltyN1=function(l){const h=l.size;let y=0,O=0,D=0,R=null,F=null;for(let B=0;B<h;B++){O=D=0,R=F=null;for(let j=0;j<h;j++){let U=l.get(B,j);U===R?O++:(O>=5&&(y+=e.N1+(O-5)),R=U,O=1),U=l.get(j,B),U===F?D++:(D>=5&&(y+=e.N1+(D-5)),F=U,D=1)}O>=5&&(y+=e.N1+(O-5)),D>=5&&(y+=e.N1+(D-5))}return y},r.getPenaltyN2=function(l){const h=l.size;let y=0;for(let O=0;O<h-1;O++)for(let D=0;D<h-1;D++){const R=l.get(O,D)+l.get(O,D+1)+l.get(O+1,D)+l.get(O+1,D+1);(R===4||R===0)&&y++}return y*e.N2},r.getPenaltyN3=function(l){const h=l.size;let y=0,O=0,D=0;for(let R=0;R<h;R++){O=D=0;for(let F=0;F<h;F++)O=O<<1&2047|l.get(R,F),F>=10&&(O===1488||O===93)&&y++,D=D<<1&2047|l.get(F,R),F>=10&&(D===1488||D===93)&&y++}return y*e.N3},r.getPenaltyN4=function(l){let h=0;const y=l.data.length;for(let D=0;D<y;D++)h+=l.data[D];return Math.abs(Math.ceil(h*100/y/5)-10)*e.N4};function t(o,l,h){switch(o){case r.Patterns.PATTERN000:return(l+h)%2===0;case r.Patterns.PATTERN001:return l%2===0;case r.Patterns.PATTERN010:return h%3===0;case r.Patterns.PATTERN011:return(l+h)%3===0;case r.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(h/3))%2===0;case r.Patterns.PATTERN101:return l*h%2+l*h%3===0;case r.Patterns.PATTERN110:return(l*h%2+l*h%3)%2===0;case r.Patterns.PATTERN111:return(l*h%3+(l+h)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}r.applyMask=function(l,h){const y=h.size;for(let O=0;O<y;O++)for(let D=0;D<y;D++)h.isReserved(D,O)||h.xor(D,O,t(l,D,O))},r.getBestMask=function(l,h){const y=Object.keys(r.Patterns).length;let O=0,D=1/0;for(let R=0;R<y;R++){h(R),r.applyMask(R,l);const F=r.getPenaltyN1(l)+r.getPenaltyN2(l)+r.getPenaltyN3(l)+r.getPenaltyN4(l);r.applyMask(R,l),F<D&&(D=F,O=R)}return O}})(maskPattern);var errorCorrectionCode={};const ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function(e,t){switch(t){case ECLevel$1.L:return EC_BLOCKS_TABLE[(e-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(e-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(e-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(e-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function(e,t){switch(t){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(e-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(e-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(e-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(e-1)*4+3];default:return}};var polynomial={},galoisField={};const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)EXP_TABLE[t]=e,LOG_TABLE[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)EXP_TABLE[t]=EXP_TABLE[t-255]})();galoisField.log=function(e){if(e<1)throw new Error("log("+e+")");return LOG_TABLE[e]};galoisField.exp=function(e){return EXP_TABLE[e]};galoisField.mul=function(e,t){return e===0||t===0?0:EXP_TABLE[LOG_TABLE[e]+LOG_TABLE[t]]};(function(r){const e=galoisField;r.mul=function(o,l){const h=new Uint8Array(o.length+l.length-1);for(let y=0;y<o.length;y++)for(let O=0;O<l.length;O++)h[y+O]^=e.mul(o[y],l[O]);return h},r.mod=function(o,l){let h=new Uint8Array(o);for(;h.length-l.length>=0;){const y=h[0];for(let D=0;D<l.length;D++)h[D]^=e.mul(l[D],y);let O=0;for(;O<h.length&&h[O]===0;)O++;h=h.slice(O)}return h},r.generateECPolynomial=function(o){let l=new Uint8Array([1]);for(let h=0;h<o;h++)l=r.mul(l,new Uint8Array([1,e.exp(h)]));return l}})(polynomial);const Polynomial=polynomial;function ReedSolomonEncoder$1(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function(e){this.degree=e,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const o=Polynomial.mod(t,this.genPoly),l=this.degree-o.length;if(l>0){const h=new Uint8Array(this.degree);return h.set(o,l),h}return o};var reedSolomonEncoder=ReedSolomonEncoder$1,version$3={},mode={},versionCheck={};versionCheck.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var regex={};const numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+";let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function(e){return TEST_KANJI.test(e)};regex.testNumeric=function(e){return TEST_NUMERIC.test(e)};regex.testAlphanumeric=function(e){return TEST_ALPHANUMERIC.test(e)};(function(r){const e=versionCheck,t=regex;r.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(h,y){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!e.isValid(y))throw new Error("Invalid version: "+y);return y>=1&&y<10?h.ccBits[0]:y<27?h.ccBits[1]:h.ccBits[2]},r.getBestModeForData=function(h){return t.testNumeric(h)?r.NUMERIC:t.testAlphanumeric(h)?r.ALPHANUMERIC:t.testKanji(h)?r.KANJI:r.BYTE},r.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},r.isValid=function(h){return h&&h.bit&&h.ccBits};function o(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+l)}}r.from=function(h,y){if(r.isValid(h))return h;try{return o(h)}catch{return y}}})(mode);(function(r){const e=utils$2,t=errorCorrectionCode,o=errorCorrectionLevel,l=mode,h=versionCheck,y=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,O=e.getBCHDigit(y);function D(j,U,W){for(let G=1;G<=40;G++)if(U<=r.getCapacity(G,W,j))return G}function R(j,U){return l.getCharCountIndicator(j,U)+4}function F(j,U){let W=0;return j.forEach(function(G){W+=R(G.mode,U)+G.getBitsLength()}),W}function B(j,U){for(let W=1;W<=40;W++)if(F(j,W)<=r.getCapacity(W,U,l.MIXED))return W}r.from=function(U,W){return h.isValid(U)?parseInt(U,10):W},r.getCapacity=function(U,W,G){if(!h.isValid(U))throw new Error("Invalid QR Code version");typeof G=="undefined"&&(G=l.BYTE);const q=e.getSymbolTotalCodewords(U),K=t.getTotalCodewordsCount(U,W),Y=(q-K)*8;if(G===l.MIXED)return Y;const X=Y-R(G,U);switch(G){case l.NUMERIC:return Math.floor(X/10*3);case l.ALPHANUMERIC:return Math.floor(X/11*2);case l.KANJI:return Math.floor(X/13);case l.BYTE:default:return Math.floor(X/8)}},r.getBestVersionForData=function(U,W){let G;const q=o.from(W,o.M);if(Array.isArray(U)){if(U.length>1)return B(U,q);if(U.length===0)return 1;G=U[0]}else G=U;return D(G.mode,G.getLength(),q)},r.getEncodedBits=function(U){if(!h.isValid(U)||U<7)throw new Error("Invalid QR Code version");let W=U<<12;for(;e.getBCHDigit(W)-O>=0;)W^=y<<e.getBCHDigit(W)-O;return U<<12|W}})(version$3);var formatInfo={};const Utils$3=utils$2,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function(e,t){const o=e.bit<<3|t;let l=o<<10;for(;Utils$3.getBCHDigit(l)-G15_BCH>=0;)l^=G15<<Utils$3.getBCHDigit(l)-G15_BCH;return(o<<10|l)^G15_MASK};var segments={};const Mode$4=mode;function NumericData(r){this.mode=Mode$4.NUMERIC,this.data=r.toString()}NumericData.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};NumericData.prototype.getLength=function(){return this.data.length};NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function(e){let t,o,l;for(t=0;t+3<=this.data.length;t+=3)o=this.data.substr(t,3),l=parseInt(o,10),e.put(l,10);const h=this.data.length-t;h>0&&(o=this.data.substr(t),l=parseInt(o,10),e.put(l,h*3+1))};var numericData=NumericData;const Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(r){this.mode=Mode$3.ALPHANUMERIC,this.data=r}AlphanumericData.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};AlphanumericData.prototype.getLength=function(){return this.data.length};AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let o=ALPHA_NUM_CHARS.indexOf(this.data[t])*45;o+=ALPHA_NUM_CHARS.indexOf(this.data[t+1]),e.put(o,11)}this.data.length%2&&e.put(ALPHA_NUM_CHARS.indexOf(this.data[t]),6)};var alphanumericData=AlphanumericData,encodeUtf8$1=function(e){for(var t=[],o=e.length,l=0;l<o;l++){var h=e.charCodeAt(l);if(h>=55296&&h<=56319&&o>l+1){var y=e.charCodeAt(l+1);y>=56320&&y<=57343&&(h=(h-55296)*1024+y-56320+65536,l+=1)}if(h<128){t.push(h);continue}if(h<2048){t.push(h>>6|192),t.push(h&63|128);continue}if(h<55296||h>=57344&&h<65536){t.push(h>>12|224),t.push(h>>6&63|128),t.push(h&63|128);continue}if(h>=65536&&h<=1114111){t.push(h>>18|240),t.push(h>>12&63|128),t.push(h>>6&63|128),t.push(h&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer};const encodeUtf8=encodeUtf8$1,Mode$2=mode;function ByteData(r){this.mode=Mode$2.BYTE,this.data=new Uint8Array(encodeUtf8(r))}ByteData.getBitsLength=function(e){return e*8};ByteData.prototype.getLength=function(){return this.data.length};ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};var byteData=ByteData;const Mode$1=mode,Utils$2=utils$2;function KanjiData(r){this.mode=Mode$1.KANJI,this.data=r}KanjiData.getBitsLength=function(e){return e*13};KanjiData.prototype.getLength=function(){return this.data.length};KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=Utils$2.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(r){var e={single_source_shortest_paths:function(t,o,l){var h={},y={};y[o]=0;var O=e.PriorityQueue.make();O.push(o,0);for(var D,R,F,B,j,U,W,G,q;!O.empty();){D=O.pop(),R=D.value,B=D.cost,j=t[R]||{};for(F in j)j.hasOwnProperty(F)&&(U=j[F],W=B+U,G=y[F],q=typeof y[F]=="undefined",(q||G>W)&&(y[F]=W,O.push(F,W),h[F]=R))}if(typeof l!="undefined"&&typeof y[l]=="undefined"){var K=["Could not find a path from ",o," to ",l,"."].join("");throw new Error(K)}return h},extract_shortest_path_from_predecessor_list:function(t,o){for(var l=[],h=o;h;)l.push(h),h=t[h];return l.reverse(),l},find_path:function(t,o,l){var h=e.single_source_shortest_paths(t,o,l);return e.extract_shortest_path_from_predecessor_list(h,l)},PriorityQueue:{make:function(t){var o=e.PriorityQueue,l={},h;t=t||{};for(h in o)o.hasOwnProperty(h)&&(l[h]=o[h]);return l.queue=[],l.sorter=t.sorter||o.default_sorter,l},default_sorter:function(t,o){return t.cost-o.cost},push:function(t,o){var l={value:t,cost:o};this.queue.push(l),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(dijkstra);(function(r){const e=mode,t=numericData,o=alphanumericData,l=byteData,h=kanjiData,y=regex,O=utils$2,D=dijkstra.exports;function R(K){return unescape(encodeURIComponent(K)).length}function F(K,Y,X){const J=[];let Q;for(;(Q=K.exec(X))!==null;)J.push({data:Q[0],index:Q.index,mode:Y,length:Q[0].length});return J}function B(K){const Y=F(y.NUMERIC,e.NUMERIC,K),X=F(y.ALPHANUMERIC,e.ALPHANUMERIC,K);let J,Q;return O.isKanjiModeEnabled()?(J=F(y.BYTE,e.BYTE,K),Q=F(y.KANJI,e.KANJI,K)):(J=F(y.BYTE_KANJI,e.BYTE,K),Q=[]),Y.concat(X,J,Q).sort(function(ee,te){return ee.index-te.index}).map(function(ee){return{data:ee.data,mode:ee.mode,length:ee.length}})}function j(K,Y){switch(Y){case e.NUMERIC:return t.getBitsLength(K);case e.ALPHANUMERIC:return o.getBitsLength(K);case e.KANJI:return h.getBitsLength(K);case e.BYTE:return l.getBitsLength(K)}}function U(K){return K.reduce(function(Y,X){const J=Y.length-1>=0?Y[Y.length-1]:null;return J&&J.mode===X.mode?(Y[Y.length-1].data+=X.data,Y):(Y.push(X),Y)},[])}function W(K){const Y=[];for(let X=0;X<K.length;X++){const J=K[X];switch(J.mode){case e.NUMERIC:Y.push([J,{data:J.data,mode:e.ALPHANUMERIC,length:J.length},{data:J.data,mode:e.BYTE,length:J.length}]);break;case e.ALPHANUMERIC:Y.push([J,{data:J.data,mode:e.BYTE,length:J.length}]);break;case e.KANJI:Y.push([J,{data:J.data,mode:e.BYTE,length:R(J.data)}]);break;case e.BYTE:Y.push([{data:J.data,mode:e.BYTE,length:R(J.data)}])}}return Y}function G(K,Y){const X={},J={start:{}};let Q=["start"];for(let Z=0;Z<K.length;Z++){const ee=K[Z],te=[];for(let re=0;re<ee.length;re++){const ie=ee[re],ne=""+Z+re;te.push(ne),X[ne]={node:ie,lastCount:0},J[ne]={};for(let se=0;se<Q.length;se++){const ce=Q[se];X[ce]&&X[ce].node.mode===ie.mode?(J[ce][ne]=j(X[ce].lastCount+ie.length,ie.mode)-j(X[ce].lastCount,ie.mode),X[ce].lastCount+=ie.length):(X[ce]&&(X[ce].lastCount=ie.length),J[ce][ne]=j(ie.length,ie.mode)+4+e.getCharCountIndicator(ie.mode,Y))}}Q=te}for(let Z=0;Z<Q.length;Z++)J[Q[Z]].end=0;return{map:J,table:X}}function q(K,Y){let X;const J=e.getBestModeForData(K);if(X=e.from(Y,J),X!==e.BYTE&&X.bit<J.bit)throw new Error('"'+K+'" cannot be encoded with mode '+e.toString(X)+`.
 Suggested mode is: `+e.toString(J));switch(X===e.KANJI&&!O.isKanjiModeEnabled()&&(X=e.BYTE),X){case e.NUMERIC:return new t(K);case e.ALPHANUMERIC:return new o(K);case e.KANJI:return new h(K);case e.BYTE:return new l(K)}}r.fromArray=function(Y){return Y.reduce(function(X,J){return typeof J=="string"?X.push(q(J,null)):J.data&&X.push(q(J.data,J.mode)),X},[])},r.fromString=function(Y,X){const J=B(Y,O.isKanjiModeEnabled()),Q=W(J),Z=G(Q,X),ee=D.find_path(Z.map,"start","end"),te=[];for(let re=1;re<ee.length-1;re++)te.push(Z.table[ee[re]].node);return r.fromArray(U(te))},r.rawSplit=function(Y){return r.fromArray(B(Y,O.isKanjiModeEnabled()))}})(segments);const Utils$1=utils$2,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version$3,FormatInfo=formatInfo,Mode=mode,Segments=segments;function setupFinderPattern(r,e){const t=r.size,o=FinderPattern.getPositions(e);for(let l=0;l<o.length;l++){const h=o[l][0],y=o[l][1];for(let O=-1;O<=7;O++)if(!(h+O<=-1||t<=h+O))for(let D=-1;D<=7;D++)y+D<=-1||t<=y+D||(O>=0&&O<=6&&(D===0||D===6)||D>=0&&D<=6&&(O===0||O===6)||O>=2&&O<=4&&D>=2&&D<=4?r.set(h+O,y+D,!0,!0):r.set(h+O,y+D,!1,!0))}}function setupTimingPattern(r){const e=r.size;for(let t=8;t<e-8;t++){const o=t%2===0;r.set(t,6,o,!0),r.set(6,t,o,!0)}}function setupAlignmentPattern(r,e){const t=AlignmentPattern.getPositions(e);for(let o=0;o<t.length;o++){const l=t[o][0],h=t[o][1];for(let y=-2;y<=2;y++)for(let O=-2;O<=2;O++)y===-2||y===2||O===-2||O===2||y===0&&O===0?r.set(l+y,h+O,!0,!0):r.set(l+y,h+O,!1,!0)}}function setupVersionInfo(r,e){const t=r.size,o=Version.getEncodedBits(e);let l,h,y;for(let O=0;O<18;O++)l=Math.floor(O/3),h=O%3+t-8-3,y=(o>>O&1)===1,r.set(l,h,y,!0),r.set(h,l,y,!0)}function setupFormatInfo(r,e,t){const o=r.size,l=FormatInfo.getEncodedBits(e,t);let h,y;for(h=0;h<15;h++)y=(l>>h&1)===1,h<6?r.set(h,8,y,!0):h<8?r.set(h+1,8,y,!0):r.set(o-15+h,8,y,!0),h<8?r.set(8,o-h-1,y,!0):h<9?r.set(8,15-h-1+1,y,!0):r.set(8,15-h-1,y,!0);r.set(o-8,8,1,!0)}function setupData(r,e){const t=r.size;let o=-1,l=t-1,h=7,y=0;for(let O=t-1;O>0;O-=2)for(O===6&&O--;;){for(let D=0;D<2;D++)if(!r.isReserved(l,O-D)){let R=!1;y<e.length&&(R=(e[y]>>>h&1)===1),r.set(l,O-D,R),h--,h===-1&&(y++,h=7)}if(l+=o,l<0||t<=l){l-=o,o=-o;break}}}function createData(r,e,t){const o=new BitBuffer;t.forEach(function(D){o.put(D.mode.bit,4),o.put(D.getLength(),Mode.getCharCountIndicator(D.mode,r)),D.write(o)});const l=Utils$1.getSymbolTotalCodewords(r),h=ECCode.getTotalCodewordsCount(r,e),y=(l-h)*8;for(o.getLengthInBits()+4<=y&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const O=(y-o.getLengthInBits())/8;for(let D=0;D<O;D++)o.put(D%2?17:236,8);return createCodewords(o,r,e)}function createCodewords(r,e,t){const o=Utils$1.getSymbolTotalCodewords(e),l=ECCode.getTotalCodewordsCount(e,t),h=o-l,y=ECCode.getBlocksCount(e,t),O=o%y,D=y-O,R=Math.floor(o/y),F=Math.floor(h/y),B=F+1,j=R-F,U=new ReedSolomonEncoder(j);let W=0;const G=new Array(y),q=new Array(y);let K=0;const Y=new Uint8Array(r.buffer);for(let ee=0;ee<y;ee++){const te=ee<D?F:B;G[ee]=Y.slice(W,W+te),q[ee]=U.encode(G[ee]),W+=te,K=Math.max(K,te)}const X=new Uint8Array(o);let J=0,Q,Z;for(Q=0;Q<K;Q++)for(Z=0;Z<y;Z++)Q<G[Z].length&&(X[J++]=G[Z][Q]);for(Q=0;Q<j;Q++)for(Z=0;Z<y;Z++)X[J++]=q[Z][Q];return X}function createSymbol(r,e,t,o){let l;if(Array.isArray(r))l=Segments.fromArray(r);else if(typeof r=="string"){let R=e;if(!R){const F=Segments.rawSplit(r);R=Version.getBestVersionForData(F,t)}l=Segments.fromString(r,R||40)}else throw new Error("Invalid data");const h=Version.getBestVersionForData(l,t);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=h;else if(e<h)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+h+`.
`);const y=createData(e,t,l),O=Utils$1.getSymbolSize(e),D=new BitMatrix(O);return setupFinderPattern(D,e),setupTimingPattern(D),setupAlignmentPattern(D,e),setupFormatInfo(D,t,0),e>=7&&setupVersionInfo(D,e),setupData(D,y),isNaN(o)&&(o=MaskPattern.getBestMask(D,setupFormatInfo.bind(null,D,t))),MaskPattern.applyMask(o,D),setupFormatInfo(D,t,o),{modules:D,version:e,errorCorrectionLevel:t,maskPattern:o,segments:l}}qrcode.create=function(e,t){if(typeof e=="undefined"||e==="")throw new Error("No input text");let o=ECLevel.M,l,h;return typeof t!="undefined"&&(o=ECLevel.from(t.errorCorrectionLevel,ECLevel.M),l=Version.from(t.version),h=MaskPattern.from(t.maskPattern),t.toSJISFunc&&Utils$1.setToSJISFunction(t.toSJISFunc)),createSymbol(e,l,o,h)};var canvas={},utils$1={};(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let o=t.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+t);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(h){return[h,h]}))),o.length===6&&o.push("F","F");const l=parseInt(o.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+o.slice(0,6).join("")}}r.getOptions=function(o){o||(o={}),o.color||(o.color={});const l=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,h=o.width&&o.width>=21?o.width:void 0,y=o.scale||4;return{width:h,scale:h?4:y,margin:l,color:{dark:e(o.color.dark||"#000000ff"),light:e(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},r.getScale=function(o,l){return l.width&&l.width>=o+l.margin*2?l.width/(o+l.margin*2):l.scale},r.getImageWidth=function(o,l){const h=r.getScale(o,l);return Math.floor((o+l.margin*2)*h)},r.qrToImageData=function(o,l,h){const y=l.modules.size,O=l.modules.data,D=r.getScale(y,h),R=Math.floor((y+h.margin*2)*D),F=h.margin*D,B=[h.color.light,h.color.dark];for(let j=0;j<R;j++)for(let U=0;U<R;U++){let W=(j*R+U)*4,G=h.color.light;if(j>=F&&U>=F&&j<R-F&&U<R-F){const q=Math.floor((j-F)/D),K=Math.floor((U-F)/D);G=B[O[q*y+K]?1:0]}o[W++]=G.r,o[W++]=G.g,o[W++]=G.b,o[W]=G.a}}})(utils$1);(function(r){const e=utils$1;function t(l,h,y){l.clearRect(0,0,h.width,h.height),h.style||(h.style={}),h.height=y,h.width=y,h.style.height=y+"px",h.style.width=y+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(h,y,O){let D=O,R=y;typeof D=="undefined"&&(!y||!y.getContext)&&(D=y,y=void 0),y||(R=o()),D=e.getOptions(D);const F=e.getImageWidth(h.modules.size,D),B=R.getContext("2d"),j=B.createImageData(F,F);return e.qrToImageData(j.data,h,D),t(B,R,F),B.putImageData(j,0,0),R},r.renderToDataURL=function(h,y,O){let D=O;typeof D=="undefined"&&(!y||!y.getContext)&&(D=y,y=void 0),D||(D={});const R=r.render(h,y,D),F=D.type||"image/png",B=D.rendererOpts||{};return R.toDataURL(F,B.quality)}})(canvas);var svgTag={};const Utils=utils$1;function getColorAttrib(r,e){const t=r.a/255,o=e+'="'+r.hex+'"';return t<1?o+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':o}function svgCmd(r,e,t){let o=r+e;return typeof t!="undefined"&&(o+=" "+t),o}function qrToPath(r,e,t){let o="",l=0,h=!1,y=0;for(let O=0;O<r.length;O++){const D=Math.floor(O%e),R=Math.floor(O/e);!D&&!h&&(h=!0),r[O]?(y++,O>0&&D>0&&r[O-1]||(o+=h?svgCmd("M",D+t,.5+R+t):svgCmd("m",l,0),l=0,h=!1),D+1<e&&r[O+1]||(o+=svgCmd("h",y),y=0)):l++}return o}svgTag.render=function(e,t,o){const l=Utils.getOptions(t),h=e.modules.size,y=e.modules.data,O=h+l.margin*2,D=l.color.light.a?"<path "+getColorAttrib(l.color.light,"fill")+' d="M0 0h'+O+"v"+O+'H0z"/>':"",R="<path "+getColorAttrib(l.color.dark,"stroke")+' d="'+qrToPath(y,h,l.margin)+'"/>',F='viewBox="0 0 '+O+" "+O+'"',B=l.width?'width="'+l.width+'" height="'+l.width+'" ':"",j='<svg xmlns="http://www.w3.org/2000/svg" '+B+F+' shape-rendering="crispEdges">'+D+R+`</svg>
`;return typeof o=="function"&&o(null,j),j};const canPromise=canPromise$1,QRCode=qrcode,CanvasRenderer$1=canvas,SvgRenderer=svgTag;function renderCanvas(r,e,t,o,l){const h=[].slice.call(arguments,1),y=h.length,O=typeof h[y-1]=="function";if(!O&&!canPromise())throw new Error("Callback required as last argument");if(O){if(y<2)throw new Error("Too few arguments provided");y===2?(l=t,t=e,e=o=void 0):y===3&&(e.getContext&&typeof l=="undefined"?(l=o,o=void 0):(l=o,o=t,t=e,e=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(t=e,e=o=void 0):y===2&&!e.getContext&&(o=t,t=e,e=void 0),new Promise(function(D,R){try{const F=QRCode.create(t,o);D(r(F,e,o))}catch(F){R(F)}})}try{const D=QRCode.create(t,o);l(null,r(D,e,o))}catch(D){l(D)}}browser.create=QRCode.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer$1.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer$1.renderToDataURL);browser.toString=renderCanvas.bind(null,function(r,e,t){return SvgRenderer.render(r,t)});var modalDiffuse_svelte_svelte_type_style_lang="";function get_each_context_1$6(r,e,t){const o=r.slice();return o[40]=e[t],o[39]=t,o}function get_each_context$8(r,e,t){const o=r.slice();return o[37]=e[t],o[39]=t,o}function create_else_block$9(r){let e,t,o={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_2$1,then:create_then_block_2$1,catch:create_catch_block_2$1,value:36};return handle_promise(t=r[4],o),{c(){e=empty$2(),o.block.c()},m(l,h){insert(l,e,h),o.block.m(l,o.anchor=h),o.mount=()=>e.parentNode,o.anchor=e},p(l,h){r=l,o.ctx=r,h[0]&16&&t!==(t=r[4])&&handle_promise(t,o)||update_await_block_branch(o,r,h)},i:noop$4,o:noop$4,d(l){l&&detach(e),o.block.d(l),o.token=null,o=null}}}function create_if_block_2$a(r){let e,t=r[0].nom_proj+"",o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne,se,ce;function ue(oe,ae){if(oe[1]=="lien")return create_if_block_3$8;if(oe[1]=="qr")return create_if_block_4$8;if(oe[1]=="html")return create_if_block_5$6;if(oe[1]=="mail")return create_if_block_6$3;if(oe[1]=="targ")return create_if_block_7$3}let he=ue(r),pe=he&&he(r);return{c(){e=element("h4"),o=text(t),l=element("br"),h=space(),y=element("div"),O=element("div"),D=text("Lien"),F=space(),B=element("div"),j=text("QR"),W=space(),G=element("div"),q=text("HTML"),Y=space(),X=element("div"),J=text("Mail"),Z=space(),ee=element("div"),te=text("Ciblage"),ie=space(),ne=element("div"),pe&&pe.c(),attr(e,"class","mb-2 text-center"),attr(O,"class",R="tab "+(r[1]=="lien"?"active":"")+" svelte-64e0lt"),attr(B,"class",U="tab "+(r[1]=="qr"?"active":"")+" svelte-64e0lt"),attr(G,"class",K="tab "+(r[1]=="html"?"active":"")+" svelte-64e0lt"),attr(X,"class",Q="tab "+(r[1]=="mail"?"active":"")+" svelte-64e0lt"),attr(ee,"class",re="tab "+(r[1]=="targ"?"active":"")+" svelte-64e0lt"),attr(y,"class","tabs my-2 svelte-64e0lt"),attr(ne,"class","container p-2 text-center d-flex justify-content-center flex-column"),set_style(ne,"min-height","220px")},m(oe,ae){insert(oe,e,ae),append(e,o),append(e,l),insert(oe,h,ae),insert(oe,y,ae),append(y,O),append(O,D),append(y,F),append(y,B),append(B,j),append(y,W),append(y,G),append(G,q),append(y,Y),append(y,X),append(X,J),append(y,Z),append(y,ee),append(ee,te),insert(oe,ie,ae),insert(oe,ne,ae),pe&&pe.m(ne,null),se||(ce=[listen(O,"click",r[14]),listen(B,"click",r[15]),listen(G,"click",r[16]),listen(X,"click",r[17]),listen(ee,"click",r[18])],se=!0)},p(oe,ae){ae[0]&1&&t!==(t=oe[0].nom_proj+"")&&set_data(o,t),ae[0]&2&&R!==(R="tab "+(oe[1]=="lien"?"active":"")+" svelte-64e0lt")&&attr(O,"class",R),ae[0]&2&&U!==(U="tab "+(oe[1]=="qr"?"active":"")+" svelte-64e0lt")&&attr(B,"class",U),ae[0]&2&&K!==(K="tab "+(oe[1]=="html"?"active":"")+" svelte-64e0lt")&&attr(G,"class",K),ae[0]&2&&Q!==(Q="tab "+(oe[1]=="mail"?"active":"")+" svelte-64e0lt")&&attr(X,"class",Q),ae[0]&2&&re!==(re="tab "+(oe[1]=="targ"?"active":"")+" svelte-64e0lt")&&attr(ee,"class",re),he===(he=ue(oe))&&pe?pe.p(oe,ae):(pe&&pe.d(1),pe=he&&he(oe),pe&&(pe.c(),transition_in(pe,1),pe.m(ne,null)))},i(oe){transition_in(pe)},o:noop$4,d(oe){oe&&detach(e),oe&&detach(h),oe&&detach(y),oe&&detach(ie),oe&&detach(ne),pe&&pe.d(),se=!1,run_all(ce)}}}function create_catch_block_2$1(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block_2$1(r){let e,t,o,l,h,y=[],O=new Map,D,R,F=r[36].filter(func$5);const B=U=>U[39];for(let U=0;U<F.length;U+=1){let W=get_each_context_1$6(r,F,U),G=B(W);O.set(G,y[U]=create_each_block_1$6(G,W))}function j(...U){return r[27](r[36],...U)}return{c(){e=element("div"),t=element("div"),t.textContent="\u{1F50E} Choisissez un projet",o=space(),l=element("select"),h=element("option"),h.textContent="...";for(let U=0;U<y.length;U+=1)y[U].c();attr(t,"class","mb-1"),set_style(t,"font-size","1.5rem"),h.selected=!0,h.disabled=!0,h.__value="...",h.value=h.__value,attr(l,"class","selectProj svelte-64e0lt"),attr(l,"name",""),attr(l,"id",""),attr(e,"class","container p-3")},m(U,W){insert(U,e,W),append(e,t),append(e,o),append(e,l),append(l,h);for(let G=0;G<y.length;G+=1)y[G].m(l,null);D||(R=listen(l,"change",j),D=!0)},p(U,W){r=U,W[0]&16&&(F=r[36].filter(func$5),y=update_keyed_each(y,W,B,1,r,F,O,l,destroy_block,create_each_block_1$6,null,get_each_context_1$6))},d(U){U&&detach(e);for(let W=0;W<y.length;W+=1)y[W].d();D=!1,R()}}}function create_each_block_1$6(r,e){let t,o=e[40].nom_proj+"",l,h;return{key:r,first:null,c(){t=element("option"),l=text(o),t.__value=h=e[39],t.value=t.__value,this.first=t},m(y,O){insert(y,t,O),append(t,l)},p(y,O){e=y,O[0]&16&&o!==(o=e[40].nom_proj+"")&&set_data(l,o),O[0]&16&&h!==(h=e[39])&&(t.__value=h,t.value=t.__value)},d(y){y&&detach(t)}}}function create_pending_block_2$1(r){let e;return{c(){e=text("Chargement...")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_7$3(r){let e,t,o,l,h,y,O,D;return{c(){e=element("div"),t=element("div"),o=element("div"),o.textContent="Travaillez avec R\xE9tine pour cibler pr\xE9cisemment des populations parmis 4,2 milliards d'utilisateurs sur les r\xE9seaux sociaux.",l=space(),h=element("div"),h.textContent="Contactez nous \u{1F4E8}",attr(o,"class","targBubble my-2 svelte-64e0lt"),attr(h,"class","targButton hvr-grow svelte-64e0lt"),attr(t,"class","text-start")},m(R,F){insert(R,e,F),append(e,t),append(t,o),append(t,l),append(t,h),O||(D=listen(h,"click",r[26]),O=!0)},p:noop$4,i(R){y||add_render_callback(()=>{y=create_in_transition(e,fly,{x:20,duration:200}),y.start()})},o:noop$4,d(R){R&&detach(e),O=!1,D()}}}function create_if_block_6$3(r){let e,t,o={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$a,then:create_then_block$a,catch:create_catch_block_1$4,value:35};return handle_promise(r[9],o),{c(){e=element("div"),o.block.c()},m(l,h){insert(l,e,h),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null},p(l,h){r=l,update_await_block_branch(o,r,h)},i(l){t||add_render_callback(()=>{t=create_in_transition(e,fly,{x:20,duration:200}),t.start()})},o:noop$4,d(l){l&&detach(e),o.block.d(),o.token=null,o=null}}}function create_if_block_5$6(r){let e,t,o,l,h,y=`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${r[0].id_rtn}"></iframe>`,O,D,R,F,B,j;return{c(){e=element("div"),t=element("div"),t.innerHTML=`Collez ce code l\xE0 o\xF9 vous le souhaitez dans la balise <i>body</i> de votre page pour permettre \xE0 vos visiteurs de r\xE9pondre au sondage sans changer
              de page.`,o=space(),l=element("div"),h=element("div"),O=text(y),D=space(),R=element("i"),attr(t,"class","text-start"),attr(R,"class","copyBtn bx bxs-copy svelte-64e0lt"),attr(l,"class","htmlCode my-3 svelte-64e0lt")},m(U,W){insert(U,e,W),append(e,t),append(e,o),append(e,l),append(l,h),append(h,O),append(l,D),append(l,R),B||(j=listen(R,"click",r[21]),B=!0)},p(U,W){W[0]&1&&y!==(y=`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${U[0].id_rtn}"></iframe>`)&&set_data(O,y)},i(U){F||add_render_callback(()=>{F=create_in_transition(e,fly,{x:20,duration:200}),F.start()})},o:noop$4,d(U){U&&detach(e),B=!1,j()}}}function create_if_block_4$8(r){let e,t,o,l,h,y,O,D,R,F,B,j;return{c(){e=element("div"),t=element("div"),t.textContent="Un sond\xE9 n'aura plus qu'\xE0 scanner ce code avec son smartphone ou tablette pour r\xE9pondre au sondage.",o=space(),l=element("div"),h=element("i"),y=space(),O=element("canvas"),D=space(),R=element("span"),attr(t,"class","text-start mb-3"),set_style(h,"position","absolute"),set_style(h,"top","0px"),set_style(h,"right","0px"),attr(h,"class","copyBtn bx bxs-copy svelte-64e0lt"),attr(O,"id","qrcode"),attr(l,"class","qrCode svelte-64e0lt"),set_style(l,"position","relative")},m(U,W){insert(U,e,W),append(e,t),append(e,o),append(e,l),append(l,h),append(l,y),append(l,O),append(l,D),append(l,R),B||(j=[listen(h,"click",r[20]),action_destroyer(r[6].call(null,R))],B=!0)},p:noop$4,i(U){F||add_render_callback(()=>{F=create_in_transition(e,fly,{x:20,duration:200}),F.start()})},o:noop$4,d(U){U&&detach(e),B=!1,run_all(j)}}}function create_if_block_3$8(r){let e,t,o,l,h,y=`retine.io/sondage#${r[0].id_rtn}`,O,D,R,F,B,j;return{c(){e=element("div"),t=element("div"),t.textContent="Toute personne poss\xE9dant ce lien pourra r\xE9pondre au sondage depuis un t\xE9l\xE9phone, tablette ou ordinateur.",o=space(),l=element("div"),h=element("div"),O=text(y),D=space(),R=element("i"),attr(t,"class","text-start"),attr(R,"class","copyBtn bx bxs-copy svelte-64e0lt"),attr(l,"class","linkTile my-3 svelte-64e0lt")},m(U,W){insert(U,e,W),append(e,t),append(e,o),append(e,l),append(l,h),append(h,O),append(l,D),append(l,R),B||(j=listen(R,"click",r[19]),B=!0)},p(U,W){W[0]&1&&y!==(y=`retine.io/sondage#${U[0].id_rtn}`)&&set_data(O,y)},i(U){F||add_render_callback(()=>{F=create_in_transition(e,fly,{x:20,duration:200}),F.start()})},o:noop$4,d(U){U&&detach(e),B=!1,j()}}}function create_catch_block_1$4(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block$a(r){let e,t,o,l,h=[],y=new Map,O,D,R,F,B,j=r[35];const U=G=>G[39];for(let G=0;G<j.length;G+=1){let q=get_each_context$8(r,j,G),K=U(q);y.set(K,h[G]=create_each_block$8(K,q))}let W={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block_1$4,then:create_then_block_1$4,catch:create_catch_block$a,value:36};return handle_promise(r[8],W),{c(){e=element("div"),t=element("div"),t.textContent="\u{1F4C7} Liste d\xE9stinataire pour l'envoi du sondage :",o=space(),l=element("select");for(let G=0;G<h.length;G+=1)h[G].c();O=space(),D=element("hr"),R=space(),W.block.c(),attr(t,"class","p-1"),attr(l,"class","selectList svelte-64e0lt"),attr(l,"name","contactlist"),r[3].to===void 0&&add_render_callback(()=>r[22].call(l)),attr(D,"class","w-75 mx-auto my-3"),attr(e,"class","text-start")},m(G,q){insert(G,e,q),append(e,t),append(e,o),append(e,l);for(let K=0;K<h.length;K+=1)h[K].m(l,null);select_option(l,r[3].to),append(e,O),append(e,D),append(e,R),W.block.m(e,W.anchor=null),W.mount=()=>e,W.anchor=null,F||(B=listen(l,"change",r[22]),F=!0)},p(G,q){r=G,q[0]&512&&(j=r[35],h=update_keyed_each(h,q,U,1,r,j,y,l,destroy_block,create_each_block$8,null,get_each_context$8)),q[0]&520&&select_option(l,r[3].to),update_await_block_branch(W,r,q)},d(G){G&&detach(e);for(let q=0;q<h.length;q+=1)h[q].d();W.block.d(),W.token=null,W=null,F=!1,B()}}}function create_each_block$8(r,e){let t,o=e[37].nom+"",l,h;return{key:r,first:null,c(){t=element("option"),l=text(o),t.__value=h=e[37].id,t.value=t.__value,this.first=t},m(y,O){insert(y,t,O),append(t,l)},p(y,O){e=y},d(y){y&&detach(t)}}}function create_catch_block$a(r){let e,t,o,l,h;return{c(){e=element("div"),e.textContent="Vous devez avoir R\xE9tine pro pour lancer des campagnes de mail \u{1F440}",t=space(),o=element("div"),o.textContent="\u2728 S'abonner \xE0 R\xE9tine Pro \u2728",attr(o,"class","btnSubscribe hvr-grow svelte-64e0lt")},m(y,O){insert(y,e,O),insert(y,t,O),insert(y,o,O),l||(h=listen(o,"click",r[25]),l=!0)},p:noop$4,d(y){y&&detach(e),y&&detach(t),y&&detach(o),l=!1,h()}}}function create_then_block_1$4(r){let e,t,o,l,h,y;return{c(){e=element("div"),t=element("input"),o=space(),l=element("textarea"),attr(t,"class","mailObj svelte-64e0lt"),attr(t,"type","text"),attr(t,"placeholder","Objet du mail..."),attr(l,"class","mailObj svelte-64e0lt"),attr(l,"placeholder","Message personnalis\xE9 inclu dans le mail..."),attr(l,"rows","3"),attr(l,"maxlength","240")},m(O,D){insert(O,e,D),append(e,t),set_input_value(t,r[3].subject),append(e,o),append(e,l),set_input_value(l,r[3].text),h||(y=[listen(t,"input",r[23]),listen(l,"input",r[24])],h=!0)},p(O,D){D[0]&520&&t.value!==O[3].subject&&set_input_value(t,O[3].subject),D[0]&520&&set_input_value(l,O[3].text)},d(O){O&&detach(e),h=!1,run_all(y)}}}function create_pending_block_1$4(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_pending_block$a(r){let e;return{c(){e=text("Chargement...")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_1$b(r){let e,t,o,l,h;return{c(){e=element("div"),t=text(r[2])},m(y,O){insert(y,e,O),append(e,t),h=!0},p(y,O){(!h||O[0]&4)&&set_data(t,y[2])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(e,fade,{duration:200}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(e,fade,{duration:600}),h=!1},d(y){y&&detach(e),y&&l&&l.end()}}}function create_if_block$f(r){let e,t,o;return{c(){e=element("button"),e.textContent="Envoyer",set_style(e,"background-color","#6219d8"),set_style(e,"color","white"),attr(e,"class","svelte-64e0lt")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[28]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_fragment$m(r){let e,t,o,l,h,y,O,D,R,F,B,j;function U(Y,X){return Y[0]!=null?create_if_block_2$a:create_else_block$9}let W=U(r),G=W(r),q=r[2]!=""&&create_if_block_1$b(r),K=r[1]=="mail"&&r[0]!=null&&create_if_block$f(r);return{c(){e=element("div"),t=element("div"),G.c(),o=space(),l=element("div"),q&&q.c(),h=space(),y=element("div"),O=element("button"),O.textContent="Fermer",D=space(),K&&K.c(),attr(l,"class","reactMsg svelte-64e0lt"),attr(O,"class","svelte-64e0lt"),attr(y,"class","actions svelte-64e0lt"),attr(t,"class","contents svelte-64e0lt"),attr(e,"role","dialog"),attr(e,"class","modal svelte-64e0lt")},m(Y,X){insert(Y,e,X),append(e,t),G.m(t,null),append(t,o),append(t,l),q&&q.m(l,null),append(t,h),append(t,y),append(y,O),append(y,D),K&&K.m(y,null),F=!0,B||(j=[listen(O,"click",closeModal),listen(e,"introstart",r[12]),listen(e,"outroend",r[13])],B=!0)},p(Y,X){W===(W=U(Y))&&G?G.p(Y,X):(G.d(1),G=W(Y),G&&(G.c(),transition_in(G,1),G.m(t,o))),Y[2]!=""?q?(q.p(Y,X),X[0]&4&&transition_in(q,1)):(q=create_if_block_1$b(Y),q.c(),transition_in(q,1),q.m(l,null)):q&&(group_outros(),transition_out(q,1,1,()=>{q=null}),check_outros()),Y[1]=="mail"&&Y[0]!=null?K?K.p(Y,X):(K=create_if_block$f(Y),K.c(),K.m(y,null)):K&&(K.d(1),K=null)},i(Y){F||(transition_in(G),transition_in(q),add_render_callback(()=>{R||(R=create_bidirectional_transition(e,fly,{y:50},!0)),R.run(1)}),F=!0)},o(Y){transition_out(q),R||(R=create_bidirectional_transition(e,fly,{y:50},!1)),R.run(0),F=!1},d(Y){Y&&detach(e),G.d(),q&&q.d(),K&&K.d(),Y&&R&&R.end(),B=!1,run_all(j)}}}const func$5=r=>!r.priv;function instance$k(r,e,t){function o(fe){activePageStore.set(fe)}let{proj:l=null}=e,{mean:h="lien"}=e,{updatePrev:y=()=>{}}=e;function O(fe){browser.toCanvas(document.getElementById("qrcode"),`https://retine.io/sondage#${l.id_rtn}`,{width:200,height:200})}let D="";function R(fe){t(2,D=fe),setTimeout(()=>{t(2,D="")},2e3)}let F={relance:!1,sond:l==null?"":`https://retine.io/sondage#${l.id_rtn}`,to:"",subject:"",text:""};var B=new Headers;B.append("Authorization","Token "+xxgc("rtnt")),B.append("Content-Type","application/json");var j={method:"GET",headers:B,redirect:"follow"};async function U(){return fetch(rtnUrl+"sondages/edit/",j).then(fe=>fe.text()).then(fe=>JSON.parse(fe)).catch(fe=>fe)}let W;l==null&&(W=U());async function G(){return fetch(rtnUrl+"myplan/",j).then(fe=>{if(fe.ok)return fe.text();throw new Error("Something went wrong")}).then(fe=>JSON.parse(fe)).catch(fe=>{throw new Error("Something went wrong")})}let q=G();async function K(){return fetch(rtnUrl+"contactlist/",j).then(fe=>fe.text()).then(fe=>(t(3,F.to=JSON.parse(fe)[0].id,F),JSON.parse(fe))).catch(fe=>fe)}let Y=K(),X=!1;async function J(){if(!X){var fe={method:"POST",headers:B,redirect:"follow",body:JSON.stringify(F)};return X=!0,fetch(rtnUrl+"sondagesend/",fe).then(_e=>{if(_e.ok){R("Campagne mail lanc\xE9e avec succ\xE8s !"),y(),setTimeout(()=>{closeModal()},2e3);return}else throw X=!1,new Error("Une erreur s'est produite...")}).catch(_e=>(R("Une erreur s'est produite..."),_e))}}function Q(fe){bubble.call(this,r,fe)}function Z(fe){bubble.call(this,r,fe)}const ee=()=>t(1,h="lien"),te=()=>t(1,h="qr"),re=()=>t(1,h="html"),ie=()=>t(1,h="mail"),ne=()=>t(1,h="targ"),se=()=>{navigator.clipboard.writeText("retine.io/sondage#"+l.id_rtn),R("Lien copi\xE9 dans le presse-papier !")},ce=fe=>{document.getElementById("qrcode").toBlob(_e=>navigator.clipboard.write([new ClipboardItem({"image/png":_e})])),R("Image copi\xE9e dans le presse-papier !")},ue=()=>{navigator.clipboard.writeText(`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${l.id_rtn}"></iframe>`),R("Code copi\xE9 dans le presse-papier !")};function he(){F.to=select_value(this),t(3,F),t(9,Y)}function pe(){F.subject=this.value,t(3,F),t(9,Y)}function oe(){F.text=this.value,t(3,F),t(9,Y)}const ae=()=>{closeModal(),o("account")},le=()=>window.open("mailto:bonjour@retine.io?subject=Contact"),me=(fe,_e)=>{t(0,l=fe.filter(we=>!we.priv)[_e.target.value]),t(3,F.sond=`https://retine.io/sondage#${l.id_rtn}`,F)},ge=()=>{F.subject==""||F.text==""?R("Veuillez remplir tous les champs !"):J()};return r.$$set=fe=>{"proj"in fe&&t(0,l=fe.proj),"mean"in fe&&t(1,h=fe.mean),"updatePrev"in fe&&t(11,y=fe.updatePrev)},[l,h,D,F,W,o,O,R,q,Y,J,y,Q,Z,ee,te,re,ie,ne,se,ce,ue,he,pe,oe,ae,le,me,ge]}class ModalDiffuse extends SvelteComponent{constructor(e){super(),init(this,e,instance$k,create_fragment$m,safe_not_equal,{proj:0,mean:1,updatePrev:11},null,[-1,-1])}}var projectsList_svelte_svelte_type_style_lang="";function get_each_context$7(r,e,t){const o=r.slice();return o[11]=e[t],o[13]=t,o}function create_catch_block$9(r){let e,t=r[14]+"",o;return{c(){e=element("div"),o=text(t)},m(l,h){insert(l,e,h),append(e,o)},p(l,h){h&4&&t!==(t=l[14]+"")&&set_data(o,t)},i:noop$4,o:noop$4,d(l){l&&detach(e)}}}function create_then_block$9(r){let e=[],t=new Map,o,l,h=r[10].reverse();const y=O=>O[11].id;for(let O=0;O<h.length;O+=1){let D=get_each_context$7(r,h,O),R=y(D);t.set(R,e[O]=create_each_block$7(R,D))}return{c(){for(let O=0;O<e.length;O+=1)e[O].c();o=empty$2()},m(O,D){for(let R=0;R<e.length;R+=1)e[R].m(O,D);insert(O,o,D),l=!0},p(O,D){D&23&&(h=O[10].reverse(),group_outros(),e=update_keyed_each(e,D,y,1,O,h,t,o.parentNode,outro_and_destroy_block,create_each_block$7,o,get_each_context$7),check_outros())},i(O){if(!l){for(let D=0;D<h.length;D+=1)transition_in(e[D]);l=!0}},o(O){for(let D=0;D<e.length;D+=1)transition_out(e[D]);l=!1},d(O){for(let D=0;D<e.length;D+=1)e[D].d(O);O&&detach(o)}}}function create_each_block$7(r,e){let t,o,l,h,y;function O(){return e[7](e[11])}return o=new ProjetCard({props:{loadSondage:e[0],sondage:e[11],loadSView:e[1],shareFunction:O,updateFun:e[4]}}),{key:r,first:null,c(){t=element("div"),create_component(o.$$.fragment),l=space(),attr(t,"class","col-12 col-sm-6 col-lg-4 mb-5"),this.first=t},m(D,R){insert(D,t,R),mount_component(o,t,null),append(t,l),y=!0},p(D,R){e=D;const F={};R&1&&(F.loadSondage=e[0]),R&4&&(F.sondage=e[11]),R&2&&(F.loadSView=e[1]),R&4&&(F.shareFunction=O),o.$set(F)},i(D){y||(transition_in(o.$$.fragment,D),h||add_render_callback(()=>{h=create_in_transition(t,fly,{x:-20,delay:e[13]*60}),h.start()}),y=!0)},o(D){transition_out(o.$$.fragment,D),y=!1},d(D){D&&detach(t),destroy_component(o)}}}function create_pending_block$9(r){let e;return{c(){e=element("div")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_if_block$e(r){let e,t,o,l,h,y,O;const D=[r[3].props||{}];var R=r[3].component;function F(B){let j={};for(let U=0;U<D.length;U+=1)j=assign$8(j,D[U]);return{props:j}}return R&&(e=new R(F())),{c(){e&&create_component(e.$$.fragment),t=space(),o=element("div"),attr(o,"class","backdrop svelte-ie5mt5")},m(B,j){e&&mount_component(e,B,j),insert(B,t,j),insert(B,o,j),h=!0,y||(O=listen(o,"click",r[8]),y=!0)},p(B,j){const U=j&8?get_spread_update(D,[get_spread_object(B[3].props||{})]):{};if(R!==(R=B[3].component)){if(e){group_outros();const W=e;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(e=new R(F()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else R&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(t),B&&detach(o),B&&l&&l.end(),y=!1,O()}}}function create_default_slot$6(r){let e,t,o=r[3]&&create_if_block$e(r);return{c(){o&&o.c(),e=empty$2()},m(l,h){o&&o.m(l,h),insert(l,e,h),t=!0},p(l,h){l[3]?o?(o.p(l,h),h&8&&transition_in(o,1)):(o=create_if_block$e(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){t||(transition_in(o),t=!0)},o(l){transition_out(o),t=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$l(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$9,then:create_then_block$9,catch:create_catch_block$9,value:10,error:14,blocks:[,,,]};return handle_promise(U=r[2],X),G=new Modals({props:{$$slots:{default:[create_default_slot$6]},$$scope:{ctx:r}}}),{c(){e=element("div"),t=element("h1"),t.textContent="Vos sondages",o=space(),l=element("h6"),l.textContent="Retrouvez l\u2019ensemble de vos sondages, qu\u2019ils soient en brouillon (gris) ou publi\xE9s (en couleur)",h=space(),y=element("div"),O=space(),D=element("div"),R=element("div"),F=element("div"),B=element("div"),B.innerHTML=`Cr\xE9er un<br/>
          nouveau projet`,j=space(),X.block.c(),W=space(),create_component(G.$$.fragment),attr(t,"class","py-2 mb-1 text-left"),attr(l,"class","ps-1 opacity-75"),attr(y,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),attr(B,"class","neuProjet d-flex align-items-center justify-content-center text-center svelte-ie5mt5"),set_style(B,"height","200px"),attr(F,"class","col-12 col-sm-6 col-lg-4 mb-4"),attr(R,"class","row"),set_style(D,"min-height","100vh"),attr(e,"id","mesSondages"),attr(e,"class","p-3 w-100 mx-auto"),set_style(e,"max-width","1100px")},m(J,Q){insert(J,e,Q),append(e,t),append(e,o),append(e,l),append(e,h),append(e,y),append(e,O),append(e,D),append(D,R),append(R,F),append(F,B),append(R,j),X.block.m(R,X.anchor=null),X.mount=()=>R,X.anchor=null,insert(J,W,Q),mount_component(G,J,Q),q=!0,K||(Y=listen(B,"click",r[6]),K=!0)},p(J,[Q]){r=J,X.ctx=r,Q&4&&U!==(U=r[2])&&handle_promise(U,X)||update_await_block_branch(X,r,Q);const Z={};Q&32776&&(Z.$$scope={dirty:Q,ctx:r}),G.$set(Z)},i(J){q||(transition_in(X.block),transition_in(G.$$.fragment,J),q=!0)},o(J){for(let Q=0;Q<3;Q+=1){const Z=X.blocks[Q];transition_out(Z)}transition_out(G.$$.fragment,J),q=!1},d(J){J&&detach(e),X.block.d(),X.token=null,X=null,J&&detach(W),destroy_component(G,J),K=!1,Y()}}}function instance$j(r,e,t){let o,l;component_subscribe(r,modals,U=>t(5,l=U));let{loadSondage:h}=e,{loadSView:y}=e;async function O(){var U=new Headers;U.append("Authorization","Token "+xxgc("rtnt")),U.append("Content-Type","application/json");var W={method:"GET",headers:U,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",W).then(G=>G.text()).then(G=>JSON.parse(G)).catch(G=>G)}let D=O();const R=()=>{t(2,D=O())},F=()=>h("new"),B=U=>{openModal(ModalDiffuse,{proj:U})},j=()=>{closeModal()};return r.$$set=U=>{"loadSondage"in U&&t(0,h=U.loadSondage),"loadSView"in U&&t(1,y=U.loadSView)},r.$$.update=()=>{r.$$.dirty&32&&t(3,o=l[l.length-1])},[h,y,D,o,R,l,F,B,j]}class ProjectsList extends SvelteComponent{constructor(e){super(),init(this,e,instance$j,create_fragment$l,safe_not_equal,{loadSondage:0,loadSView:1})}}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const requestAnimFrame=function(){return typeof window=="undefined"?function(r){return r()}:window.requestAnimationFrame}();function throttled(r,e,t){const o=t||(y=>Array.prototype.slice.call(y));let l=!1,h=[];return function(...y){h=o(y),l||(l=!0,requestAnimFrame.call(window,()=>{l=!1,r.apply(e,h)}))}}function debounce(r,e){let t;return function(...o){return e?(clearTimeout(t),t=setTimeout(r,e,o)):r.apply(this,o),e}}const _toLeftRightCenter=r=>r==="start"?"left":r==="end"?"right":"center",_alignStartEnd=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2,_textX=(r,e,t,o)=>r===(o?"left":"right")?t:r==="center"?(e+t)/2:e;function noop$3(){}const uid$6=function(){let r=0;return function(){return r++}}();function isNullOrUndef(r){return r===null||typeof r=="undefined"}function isArray$f(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject$l(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}const isNumberFinite=r=>(typeof r=="number"||r instanceof Number)&&isFinite(+r);function finiteOrDefault(r,e){return isNumberFinite(r)?r:e}function valueOrDefault(r,e){return typeof r=="undefined"?e:r}const toPercentage=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:r/e,toDimension=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function callback(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function each$2(r,e,t,o){let l,h,y;if(isArray$f(r))if(h=r.length,o)for(l=h-1;l>=0;l--)e.call(t,r[l],l);else for(l=0;l<h;l++)e.call(t,r[l],l);else if(isObject$l(r))for(y=Object.keys(r),h=y.length,l=0;l<h;l++)e.call(t,r[y[l]],y[l])}function _elementsEqual(r,e){let t,o,l,h;if(!r||!e||r.length!==e.length)return!1;for(t=0,o=r.length;t<o;++t)if(l=r[t],h=e[t],l.datasetIndex!==h.datasetIndex||l.index!==h.index)return!1;return!0}function clone$1(r){if(isArray$f(r))return r.map(clone$1);if(isObject$l(r)){const e=Object.create(null),t=Object.keys(r),o=t.length;let l=0;for(;l<o;++l)e[t[l]]=clone$1(r[t[l]]);return e}return r}function isValidKey(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function _merger(r,e,t,o){if(!isValidKey(r))return;const l=e[r],h=t[r];isObject$l(l)&&isObject$l(h)?merge$4(l,h,o):e[r]=clone$1(h)}function merge$4(r,e,t){const o=isArray$f(e)?e:[e],l=o.length;if(!isObject$l(r))return r;t=t||{};const h=t.merger||_merger;for(let y=0;y<l;++y){if(e=o[y],!isObject$l(e))continue;const O=Object.keys(e);for(let D=0,R=O.length;D<R;++D)h(O[D],r,e,t)}return r}function mergeIf(r,e){return merge$4(r,e,{merger:_mergerIf})}function _mergerIf(r,e,t){if(!isValidKey(r))return;const o=e[r],l=t[r];isObject$l(o)&&isObject$l(l)?mergeIf(o,l):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=clone$1(l))}const emptyString="",dot$1=".";function indexOfDotOrLength(r,e){const t=r.indexOf(dot$1,e);return t===-1?r.length:t}function resolveObjectKey(r,e){if(e===emptyString)return r;let t=0,o=indexOfDotOrLength(e,t);for(;r&&o>t;)r=r[e.slice(t,o)],t=o+1,o=indexOfDotOrLength(e,t);return r}function _capitalize(r){return r.charAt(0).toUpperCase()+r.slice(1)}const defined=r=>typeof r!="undefined",isFunction=r=>typeof r=="function",setsEqual=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function _isClickEvent(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function niceNum(r){const e=Math.round(r);r=almostEquals(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(log10(r))),o=r/t;return(o<=1?1:o<=2?2:o<=5?5:10)*t}function _factorize(r){const e=[],t=Math.sqrt(r);let o;for(o=1;o<t;o++)r%o===0&&(e.push(o),e.push(r/o));return t===(t|0)&&e.push(t),e.sort((l,h)=>l-h).pop(),e}function isNumber(r){return!isNaN(parseFloat(r))&&isFinite(r)}function almostEquals(r,e,t){return Math.abs(r-e)<t}function almostWhole(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function _setMinAndMaxByKey(r,e,t){let o,l,h;for(o=0,l=r.length;o<l;o++)h=r[o][t],isNaN(h)||(e.min=Math.min(e.min,h),e.max=Math.max(e.max,h))}function toRadians(r){return r*(PI/180)}function toDegrees(r){return r*(180/PI)}function _decimalPlaces(r){if(!isNumberFinite(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function getAngleFromPoint(r,e){const t=e.x-r.x,o=e.y-r.y,l=Math.sqrt(t*t+o*o);let h=Math.atan2(o,t);return h<-.5*PI&&(h+=TAU),{angle:h,distance:l}}function distanceBetweenPoints(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function _angleDiff(r,e){return(r-e+PITAU)%TAU-PI}function _normalizeAngle(r){return(r%TAU+TAU)%TAU}function _angleBetween(r,e,t,o){const l=_normalizeAngle(r),h=_normalizeAngle(e),y=_normalizeAngle(t),O=_normalizeAngle(h-l),D=_normalizeAngle(y-l),R=_normalizeAngle(l-h),F=_normalizeAngle(l-y);return l===h||l===y||o&&h===y||O>D&&R<F}function _limitValue(r,e,t){return Math.max(e,Math.min(t,r))}function _int16Range(r){return _limitValue(r,-32768,32767)}function _isBetween(r,e,t,o=1e-6){return r>=Math.min(e,t)-o&&r<=Math.max(e,t)+o}const atEdge=r=>r===0||r===1,elasticIn=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*TAU/t)),elasticOut=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*TAU/t)+1,effects={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*HALF_PI)+1,easeOutSine:r=>Math.sin(r*HALF_PI),easeInOutSine:r=>-.5*(Math.cos(PI*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>atEdge(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>atEdge(r)?r:elasticIn(r,.075,.3),easeOutElastic:r=>atEdge(r)?r:elasticOut(r,.075,.3),easeInOutElastic(r){return atEdge(r)?r:r<.5?.5*elasticIn(r*2,.1125,.45):.5+.5*elasticOut(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-effects.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?effects.easeInBounce(r*2)*.5:effects.easeOutBounce(r*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function round$2(r){return r+.5|0}const lim=(r,e,t)=>Math.max(Math.min(r,t),e);function p2b(r){return lim(round$2(r*2.55),0,255)}function n2b(r){return lim(round$2(r*255),0,255)}function b2n(r){return lim(round$2(r/2.55)/100,0,1)}function n2p(r){return lim(round$2(r*100),0,100)}const map$1$2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$2=[..."0123456789ABCDEF"],h1=r=>hex$2[r&15],h2=r=>hex$2[(r&240)>>4]+hex$2[r&15],eq=r=>(r&240)>>4===(r&15),isShort=r=>eq(r.r)&&eq(r.g)&&eq(r.b)&&eq(r.a);function hexParse(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&map$1$2[r[1]]*17,g:255&map$1$2[r[2]]*17,b:255&map$1$2[r[3]]*17,a:e===5?map$1$2[r[4]]*17:255}:(e===7||e===9)&&(t={r:map$1$2[r[1]]<<4|map$1$2[r[2]],g:map$1$2[r[3]]<<4|map$1$2[r[4]],b:map$1$2[r[5]]<<4|map$1$2[r[6]],a:e===9?map$1$2[r[7]]<<4|map$1$2[r[8]]:255})),t}const alpha=(r,e)=>r<255?e(r):"";function hexString(r){var e=isShort(r)?h1:h2;return r?"#"+e(r.r)+e(r.g)+e(r.b)+alpha(r.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(r,e,t){const o=e*Math.min(t,1-t),l=(h,y=(h+r/30)%12)=>t-o*Math.max(Math.min(y-3,9-y,1),-1);return[l(0),l(8),l(4)]}function hsv2rgbn(r,e,t){const o=(l,h=(l+r/60)%6)=>t-t*e*Math.max(Math.min(h,4-h,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(r,e,t){const o=hsl2rgbn(r,1,.5);let l;for(e+t>1&&(l=1/(e+t),e*=l,t*=l),l=0;l<3;l++)o[l]*=1-e-t,o[l]+=e;return o}function hueValue(r,e,t,o,l){return r===l?(e-t)/o+(e<t?6:0):e===l?(t-r)/o+2:(r-e)/o+4}function rgb2hsl(r){const t=r.r/255,o=r.g/255,l=r.b/255,h=Math.max(t,o,l),y=Math.min(t,o,l),O=(h+y)/2;let D,R,F;return h!==y&&(F=h-y,R=O>.5?F/(2-h-y):F/(h+y),D=hueValue(t,o,l,F,h),D=D*60+.5),[D|0,R||0,O]}function calln(r,e,t,o){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,o)).map(n2b)}function hsl2rgb(r,e,t){return calln(hsl2rgbn,r,e,t)}function hwb2rgb(r,e,t){return calln(hwb2rgbn,r,e,t)}function hsv2rgb(r,e,t){return calln(hsv2rgbn,r,e,t)}function hue(r){return(r%360+360)%360}function hueParse(r){const e=HUE_RE.exec(r);let t=255,o;if(!e)return;e[5]!==o&&(t=e[6]?p2b(+e[5]):n2b(+e[5]));const l=hue(+e[2]),h=+e[3]/100,y=+e[4]/100;return e[1]==="hwb"?o=hwb2rgb(l,h,y):e[1]==="hsv"?o=hsv2rgb(l,h,y):o=hsl2rgb(l,h,y),{r:o[0],g:o[1],b:o[2],a:t}}function rotate(r,e){var t=rgb2hsl(r);t[0]=hue(t[0]+e),t=hsl2rgb(t),r.r=t[0],r.g=t[1],r.b=t[2]}function hslString(r){if(!r)return;const e=rgb2hsl(r),t=e[0],o=n2p(e[1]),l=n2p(e[2]);return r.a<255?`hsla(${t}, ${o}%, ${l}%, ${b2n(r.a)})`:`hsl(${t}, ${o}%, ${l}%)`}const map$9={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const r={},e=Object.keys(names$1),t=Object.keys(map$9);let o,l,h,y,O;for(o=0;o<e.length;o++){for(y=O=e[o],l=0;l<t.length;l++)h=t[l],O=O.replace(h,map$9[h]);h=parseInt(names$1[y],16),r[O]=[h>>16&255,h>>8&255,h&255]}return r}let names;function nameParse(r){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(r){const e=RGB_RE.exec(r);let t=255,o,l,h;if(!!e){if(e[7]!==o){const y=+e[7];t=e[8]?p2b(y):lim(y*255,0,255)}return o=+e[1],l=+e[3],h=+e[5],o=255&(e[2]?p2b(o):lim(o,0,255)),l=255&(e[4]?p2b(l):lim(l,0,255)),h=255&(e[6]?p2b(h):lim(h,0,255)),{r:o,g:l,b:h,a:t}}}function rgbString(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${b2n(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const to=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,from$8=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function interpolate$1(r,e,t){const o=from$8(b2n(r.r)),l=from$8(b2n(r.g)),h=from$8(b2n(r.b));return{r:n2b(to(o+t*(from$8(b2n(e.r))-o))),g:n2b(to(l+t*(from$8(b2n(e.g))-l))),b:n2b(to(h+t*(from$8(b2n(e.b))-h))),a:r.a+t*(e.a-r.a)}}function modHSL(r,e,t){if(r){let o=rgb2hsl(r);o[e]=Math.max(0,Math.min(o[e]+o[e]*t,e===0?360:1)),o=hsl2rgb(o),r.r=o[0],r.g=o[1],r.b=o[2]}}function clone$2(r,e){return r&&Object.assign(e||{},r)}function fromObject(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=n2b(r[3]))):(e=clone$2(r,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(r){return r.charAt(0)==="r"?rgbParse(r):hueParse(r)}class Color{constructor(e){if(e instanceof Color)return e;const t=typeof e;let o;t==="object"?o=fromObject(e):t==="string"&&(o=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=clone$2(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,t){if(e){const o=this.rgb,l=e.rgb;let h;const y=t===h?.5:t,O=2*y-1,D=o.a-l.a,R=((O*D===-1?O:(O+D)/(1+O*D))+1)/2;h=1-R,o.r=255&R*o.r+h*l.r+.5,o.g=255&R*o.g+h*l.g+.5,o.b=255&R*o.b+h*l.b+.5,o.a=y*o.a+(1-y)*l.a,this.rgb=o}return this}interpolate(e,t){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,t)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=round$2(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}function index_esm(r){return new Color(r)}function isPatternOrGradient(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(r){return isPatternOrGradient(r)?r:index_esm(r)}function getHoverColor(r){return isPatternOrGradient(r)?r:index_esm(r).saturate(.5).darken(.1).hexString()}const overrides=Object.create(null),descriptors$2=Object.create(null);function getScope$1(r,e){if(!e)return r;const t=e.split(".");for(let o=0,l=t.length;o<l;++o){const h=t[o];r=r[h]||(r[h]=Object.create(null))}return r}function set$6(r,e,t){return typeof e=="string"?merge$4(getScope$1(r,e),t):merge$4(getScope$1(r,""),e)}class Defaults{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,o)=>getHoverColor(o.backgroundColor),this.hoverBorderColor=(t,o)=>getHoverColor(o.borderColor),this.hoverColor=(t,o)=>getHoverColor(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return set$6(this,e,t)}get(e){return getScope$1(this,e)}describe(e,t){return set$6(descriptors$2,e,t)}override(e,t){return set$6(overrides,e,t)}route(e,t,o,l){const h=getScope$1(this,e),y=getScope$1(this,o),O="_"+t;Object.defineProperties(h,{[O]:{value:h[t],writable:!0},[t]:{enumerable:!0,get(){const D=this[O],R=y[l];return isObject$l(D)?Object.assign({},R,D):valueOrDefault(D,R)},set(D){this[O]=D}}})}}var defaults$3=new Defaults({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function toFontString(r){return!r||isNullOrUndef(r.size)||isNullOrUndef(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function _measureText(r,e,t,o,l){let h=e[l];return h||(h=e[l]=r.measureText(l).width,t.push(l)),h>o&&(o=h),o}function _longestText(r,e,t,o){o=o||{};let l=o.data=o.data||{},h=o.garbageCollect=o.garbageCollect||[];o.font!==e&&(l=o.data={},h=o.garbageCollect=[],o.font=e),r.save(),r.font=e;let y=0;const O=t.length;let D,R,F,B,j;for(D=0;D<O;D++)if(B=t[D],B!=null&&isArray$f(B)!==!0)y=_measureText(r,l,h,y,B);else if(isArray$f(B))for(R=0,F=B.length;R<F;R++)j=B[R],j!=null&&!isArray$f(j)&&(y=_measureText(r,l,h,y,j));r.restore();const U=h.length/2;if(U>t.length){for(D=0;D<U;D++)delete l[h[D]];h.splice(0,U)}return y}function _alignPixel(r,e,t){const o=r.currentDevicePixelRatio,l=t!==0?Math.max(t/2,.5):0;return Math.round((e-l)*o)/o+l}function clearCanvas(r,e){e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore()}function drawPoint(r,e,t,o){let l,h,y,O,D;const R=e.pointStyle,F=e.rotation,B=e.radius;let j=(F||0)*RAD_PER_DEG;if(R&&typeof R=="object"&&(l=R.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){r.save(),r.translate(t,o),r.rotate(j),r.drawImage(R,-R.width/2,-R.height/2,R.width,R.height),r.restore();return}if(!(isNaN(B)||B<=0)){switch(r.beginPath(),R){default:r.arc(t,o,B,0,TAU),r.closePath();break;case"triangle":r.moveTo(t+Math.sin(j)*B,o-Math.cos(j)*B),j+=TWO_THIRDS_PI,r.lineTo(t+Math.sin(j)*B,o-Math.cos(j)*B),j+=TWO_THIRDS_PI,r.lineTo(t+Math.sin(j)*B,o-Math.cos(j)*B),r.closePath();break;case"rectRounded":D=B*.516,O=B-D,h=Math.cos(j+QUARTER_PI)*O,y=Math.sin(j+QUARTER_PI)*O,r.arc(t-h,o-y,D,j-PI,j-HALF_PI),r.arc(t+y,o-h,D,j-HALF_PI,j),r.arc(t+h,o+y,D,j,j+HALF_PI),r.arc(t-y,o+h,D,j+HALF_PI,j+PI),r.closePath();break;case"rect":if(!F){O=Math.SQRT1_2*B,r.rect(t-O,o-O,2*O,2*O);break}j+=QUARTER_PI;case"rectRot":h=Math.cos(j)*B,y=Math.sin(j)*B,r.moveTo(t-h,o-y),r.lineTo(t+y,o-h),r.lineTo(t+h,o+y),r.lineTo(t-y,o+h),r.closePath();break;case"crossRot":j+=QUARTER_PI;case"cross":h=Math.cos(j)*B,y=Math.sin(j)*B,r.moveTo(t-h,o-y),r.lineTo(t+h,o+y),r.moveTo(t+y,o-h),r.lineTo(t-y,o+h);break;case"star":h=Math.cos(j)*B,y=Math.sin(j)*B,r.moveTo(t-h,o-y),r.lineTo(t+h,o+y),r.moveTo(t+y,o-h),r.lineTo(t-y,o+h),j+=QUARTER_PI,h=Math.cos(j)*B,y=Math.sin(j)*B,r.moveTo(t-h,o-y),r.lineTo(t+h,o+y),r.moveTo(t+y,o-h),r.lineTo(t-y,o+h);break;case"line":h=Math.cos(j)*B,y=Math.sin(j)*B,r.moveTo(t-h,o-y),r.lineTo(t+h,o+y);break;case"dash":r.moveTo(t,o),r.lineTo(t+Math.cos(j)*B,o+Math.sin(j)*B);break}r.fill(),e.borderWidth>0&&r.stroke()}}function _isPointInArea(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function clipArea(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function unclipArea(r){r.restore()}function _steppedLineTo(r,e,t,o,l){if(!e)return r.lineTo(t.x,t.y);if(l==="middle"){const h=(e.x+t.x)/2;r.lineTo(h,e.y),r.lineTo(h,t.y)}else l==="after"!=!!o?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function _bezierCurveTo(r,e,t,o){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?t.cp2x:t.cp1x,o?t.cp2y:t.cp1y,t.x,t.y)}function renderText(r,e,t,o,l,h={}){const y=isArray$f(e)?e:[e],O=h.strokeWidth>0&&h.strokeColor!=="";let D,R;for(r.save(),r.font=l.string,setRenderOpts(r,h),D=0;D<y.length;++D)R=y[D],O&&(h.strokeColor&&(r.strokeStyle=h.strokeColor),isNullOrUndef(h.strokeWidth)||(r.lineWidth=h.strokeWidth),r.strokeText(R,t,o,h.maxWidth)),r.fillText(R,t,o,h.maxWidth),decorateText(r,t,o,R,h),o+=l.lineHeight;r.restore()}function setRenderOpts(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function decorateText(r,e,t,o,l){if(l.strikethrough||l.underline){const h=r.measureText(o),y=e-h.actualBoundingBoxLeft,O=e+h.actualBoundingBoxRight,D=t-h.actualBoundingBoxAscent,R=t+h.actualBoundingBoxDescent,F=l.strikethrough?(D+R)/2:R;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=l.decorationWidth||2,r.moveTo(y,F),r.lineTo(O,F),r.stroke()}}function addRoundedRectPath(r,e){const{x:t,y:o,w:l,h,radius:y}=e;r.arc(t+y.topLeft,o+y.topLeft,y.topLeft,-HALF_PI,PI,!0),r.lineTo(t,o+h-y.bottomLeft),r.arc(t+y.bottomLeft,o+h-y.bottomLeft,y.bottomLeft,PI,HALF_PI,!0),r.lineTo(t+l-y.bottomRight,o+h),r.arc(t+l-y.bottomRight,o+h-y.bottomRight,y.bottomRight,HALF_PI,0,!0),r.lineTo(t+l,o+y.topRight),r.arc(t+l-y.topRight,o+y.topRight,y.topRight,0,-HALF_PI,!0),r.lineTo(t+y.topLeft,o)}const LINE_HEIGHT=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),FONT_STYLE=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function toLineHeight(r,e){const t=(""+r).match(LINE_HEIGHT);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const numberOrZero=r=>+r||0;function _readValueToProps(r,e){const t={},o=isObject$l(e),l=o?Object.keys(e):e,h=isObject$l(r)?o?y=>valueOrDefault(r[y],r[e[y]]):y=>r[y]:()=>r;for(const y of l)t[y]=numberOrZero(h(y));return t}function toTRBL(r){return _readValueToProps(r,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(r){return _readValueToProps(r,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(r){const e=toTRBL(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(r,e){r=r||{},e=e||defaults$3.font;let t=valueOrDefault(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let o=valueOrDefault(r.style,e.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o="");const l={family:valueOrDefault(r.family,e.family),lineHeight:toLineHeight(valueOrDefault(r.lineHeight,e.lineHeight),t),size:t,style:o,weight:valueOrDefault(r.weight,e.weight),string:""};return l.string=toFontString(l),l}function resolve(r,e,t,o){let l=!0,h,y,O;for(h=0,y=r.length;h<y;++h)if(O=r[h],O!==void 0&&(e!==void 0&&typeof O=="function"&&(O=O(e),l=!1),t!==void 0&&isArray$f(O)&&(O=O[t%O.length],l=!1),O!==void 0))return o&&!l&&(o.cacheable=!1),O}function _addGrace(r,e,t){const{min:o,max:l}=r,h=toDimension(e,(l-o)/2),y=(O,D)=>t&&O===0?0:O+D;return{min:y(o,-Math.abs(h)),max:y(l,h)}}function createContext(r,e){return Object.assign(Object.create(r),e)}function _lookup(r,e,t){t=t||(y=>r[y]<e);let o=r.length-1,l=0,h;for(;o-l>1;)h=l+o>>1,t(h)?l=h:o=h;return{lo:l,hi:o}}const _lookupByKey=(r,e,t)=>_lookup(r,t,o=>r[o][e]<t),_rlookupByKey=(r,e,t)=>_lookup(r,t,o=>r[o][e]>=t);function _filterBetween(r,e,t){let o=0,l=r.length;for(;o<l&&r[o]<e;)o++;for(;l>o&&r[l-1]>t;)l--;return o>0||l<r.length?r.slice(o,l):r}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(t=>{const o="_onData"+_capitalize(t),l=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...h){const y=l.apply(this,h);return r._chartjs.listeners.forEach(O=>{typeof O[o]=="function"&&O[o](...h)}),y}})})}function unlistenArrayEvents(r,e){const t=r._chartjs;if(!t)return;const o=t.listeners,l=o.indexOf(e);l!==-1&&o.splice(l,1),!(o.length>0)&&(arrayEvents.forEach(h=>{delete r[h]}),delete r._chartjs)}function _arrayUnique(r){const e=new Set;let t,o;for(t=0,o=r.length;t<o;++t)e.add(r[t]);return e.size===o?r:Array.from(e)}function _createResolver(r,e=[""],t=r,o,l=()=>r[0]){defined(o)||(o=_resolve("_fallback",r));const h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:t,_fallback:o,_getTarget:l,override:y=>_createResolver([y,...r],e,t,o)};return new Proxy(h,{deleteProperty(y,O){return delete y[O],delete y._keys,delete r[0][O],!0},get(y,O){return _cached(y,O,()=>_resolveWithPrefixes(O,e,r,y))},getOwnPropertyDescriptor(y,O){return Reflect.getOwnPropertyDescriptor(y._scopes[0],O)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(y,O){return getKeysFromAllScopes(y).includes(O)},ownKeys(y){return getKeysFromAllScopes(y)},set(y,O,D){const R=y._storage||(y._storage=l());return y[O]=R[O]=D,delete y._keys,!0}})}function _attachContext(r,e,t,o){const l={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:_descriptors(r,o),setContext:h=>_attachContext(r,h,t,o),override:h=>_attachContext(r.override(h),e,t,o)};return new Proxy(l,{deleteProperty(h,y){return delete h[y],delete r[y],!0},get(h,y,O){return _cached(h,y,()=>_resolveWithContext(h,y,O))},getOwnPropertyDescriptor(h,y){return h._descriptors.allKeys?Reflect.has(r,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,y)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(h,y){return Reflect.has(r,y)},ownKeys(){return Reflect.ownKeys(r)},set(h,y,O){return r[y]=O,delete h[y],!0}})}function _descriptors(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:o=e.indexable,_allKeys:l=e.allKeys}=r;return{allKeys:l,scriptable:t,indexable:o,isScriptable:isFunction(t)?t:()=>t,isIndexable:isFunction(o)?o:()=>o}}const readKey=(r,e)=>r?r+_capitalize(e):e,needsSubResolver=(r,e)=>isObject$l(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e))return r[e];const o=t();return r[e]=o,o}function _resolveWithContext(r,e,t){const{_proxy:o,_context:l,_subProxy:h,_descriptors:y}=r;let O=o[e];return isFunction(O)&&y.isScriptable(e)&&(O=_resolveScriptable(e,O,r,t)),isArray$f(O)&&O.length&&(O=_resolveArray(e,O,r,y.isIndexable)),needsSubResolver(e,O)&&(O=_attachContext(O,l,h&&h[e],y)),O}function _resolveScriptable(r,e,t,o){const{_proxy:l,_context:h,_subProxy:y,_stack:O}=t;if(O.has(r))throw new Error("Recursion detected: "+Array.from(O).join("->")+"->"+r);return O.add(r),e=e(h,y||o),O.delete(r),needsSubResolver(r,e)&&(e=createSubResolver(l._scopes,l,r,e)),e}function _resolveArray(r,e,t,o){const{_proxy:l,_context:h,_subProxy:y,_descriptors:O}=t;if(defined(h.index)&&o(r))e=e[h.index%e.length];else if(isObject$l(e[0])){const D=e,R=l._scopes.filter(F=>F!==D);e=[];for(const F of D){const B=createSubResolver(R,l,r,F);e.push(_attachContext(B,h,y&&y[r],O))}}return e}function resolveFallback(r,e,t){return isFunction(r)?r(e,t):r}const getScope=(r,e)=>r===!0?e:typeof r=="string"?resolveObjectKey(e,r):void 0;function addScopes(r,e,t,o,l){for(const h of e){const y=getScope(t,h);if(y){r.add(y);const O=resolveFallback(y._fallback,t,l);if(defined(O)&&O!==t&&O!==o)return O}else if(y===!1&&defined(o)&&t!==o)return null}return!1}function createSubResolver(r,e,t,o){const l=e._rootScopes,h=resolveFallback(e._fallback,t,o),y=[...r,...l],O=new Set;O.add(o);let D=addScopesFromKey(O,y,t,h||t,o);return D===null||defined(h)&&h!==t&&(D=addScopesFromKey(O,y,h,D,o),D===null)?!1:_createResolver(Array.from(O),[""],l,h,()=>subGetTarget(e,t,o))}function addScopesFromKey(r,e,t,o,l){for(;t;)t=addScopes(r,e,t,o,l);return t}function subGetTarget(r,e,t){const o=r._getTarget();e in o||(o[e]={});const l=o[e];return isArray$f(l)&&isObject$l(t)?t:l}function _resolveWithPrefixes(r,e,t,o){let l;for(const h of e)if(l=_resolve(readKey(h,r),t),defined(l))return needsSubResolver(r,l)?createSubResolver(t,o,r,l):l}function _resolve(r,e){for(const t of e){if(!t)continue;const o=t[r];if(defined(o))return o}}function getKeysFromAllScopes(r){let e=r._keys;return e||(e=r._keys=resolveKeysFromAllScopes(r._scopes)),e}function resolveKeysFromAllScopes(r){const e=new Set;for(const t of r)for(const o of Object.keys(t).filter(l=>!l.startsWith("_")))e.add(o);return Array.from(e)}function _parseObjectDataRadialScale(r,e,t,o){const{iScale:l}=r,{key:h="r"}=this._parsing,y=new Array(o);let O,D,R,F;for(O=0,D=o;O<D;++O)R=O+t,F=e[R],y[O]={r:l.parse(resolveObjectKey(F,h),R)};return y}const EPSILON=Number.EPSILON||1e-14,getPoint=(r,e)=>e<r.length&&!r[e].skip&&r[e],getValueAxis=r=>r==="x"?"y":"x";function splineCurve(r,e,t,o){const l=r.skip?e:r,h=e,y=t.skip?e:t,O=distanceBetweenPoints(h,l),D=distanceBetweenPoints(y,h);let R=O/(O+D),F=D/(O+D);R=isNaN(R)?0:R,F=isNaN(F)?0:F;const B=o*R,j=o*F;return{previous:{x:h.x-B*(y.x-l.x),y:h.y-B*(y.y-l.y)},next:{x:h.x+j*(y.x-l.x),y:h.y+j*(y.y-l.y)}}}function monotoneAdjust(r,e,t){const o=r.length;let l,h,y,O,D,R=getPoint(r,0);for(let F=0;F<o-1;++F)if(D=R,R=getPoint(r,F+1),!(!D||!R)){if(almostEquals(e[F],0,EPSILON)){t[F]=t[F+1]=0;continue}l=t[F]/e[F],h=t[F+1]/e[F],O=Math.pow(l,2)+Math.pow(h,2),!(O<=9)&&(y=3/Math.sqrt(O),t[F]=l*y*e[F],t[F+1]=h*y*e[F])}}function monotoneCompute(r,e,t="x"){const o=getValueAxis(t),l=r.length;let h,y,O,D=getPoint(r,0);for(let R=0;R<l;++R){if(y=O,O=D,D=getPoint(r,R+1),!O)continue;const F=O[t],B=O[o];y&&(h=(F-y[t])/3,O[`cp1${t}`]=F-h,O[`cp1${o}`]=B-h*e[R]),D&&(h=(D[t]-F)/3,O[`cp2${t}`]=F+h,O[`cp2${o}`]=B+h*e[R])}}function splineCurveMonotone(r,e="x"){const t=getValueAxis(e),o=r.length,l=Array(o).fill(0),h=Array(o);let y,O,D,R=getPoint(r,0);for(y=0;y<o;++y)if(O=D,D=R,R=getPoint(r,y+1),!!D){if(R){const F=R[e]-D[e];l[y]=F!==0?(R[t]-D[t])/F:0}h[y]=O?R?sign(l[y-1])!==sign(l[y])?0:(l[y-1]+l[y])/2:l[y-1]:l[y]}monotoneAdjust(r,l,h),monotoneCompute(r,h,e)}function capControlPoint(r,e,t){return Math.max(Math.min(r,t),e)}function capBezierPoints(r,e){let t,o,l,h,y,O=_isPointInArea(r[0],e);for(t=0,o=r.length;t<o;++t)y=h,h=O,O=t<o-1&&_isPointInArea(r[t+1],e),h&&(l=r[t],y&&(l.cp1x=capControlPoint(l.cp1x,e.left,e.right),l.cp1y=capControlPoint(l.cp1y,e.top,e.bottom)),O&&(l.cp2x=capControlPoint(l.cp2x,e.left,e.right),l.cp2y=capControlPoint(l.cp2y,e.top,e.bottom)))}function _updateBezierControlPoints(r,e,t,o,l){let h,y,O,D;if(e.spanGaps&&(r=r.filter(R=>!R.skip)),e.cubicInterpolationMode==="monotone")splineCurveMonotone(r,l);else{let R=o?r[r.length-1]:r[0];for(h=0,y=r.length;h<y;++h)O=r[h],D=splineCurve(R,O,r[Math.min(h+1,y-(o?0:1))%y],e.tension),O.cp1x=D.previous.x,O.cp1y=D.previous.y,O.cp2x=D.next.x,O.cp2y=D.next.y,R=O}e.capBezierPoints&&capBezierPoints(r,t)}function _isDomSupported(){return typeof window!="undefined"&&typeof document!="undefined"}function _getParentNode(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(r,e,t){let o;return typeof r=="string"?(o=parseInt(r,10),r.indexOf("%")!==-1&&(o=o/100*e.parentNode[t])):o=r,o}const getComputedStyle$1=r=>window.getComputedStyle(r,null);function getStyle(r,e){return getComputedStyle$1(r).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(r,e,t){const o={};t=t?"-"+t:"";for(let l=0;l<4;l++){const h=positions[l];o[h]=parseFloat(r[e+"-"+h+t])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function getCanvasPosition(r,e){const t=r.touches,o=t&&t.length?t[0]:r,{offsetX:l,offsetY:h}=o;let y=!1,O,D;if(useOffsetPos(l,h,r.target))O=l,D=h;else{const R=e.getBoundingClientRect();O=o.clientX-R.left,D=o.clientY-R.top,y=!0}return{x:O,y:D,box:y}}function getRelativePosition(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:o}=e,l=getComputedStyle$1(t),h=l.boxSizing==="border-box",y=getPositionedStyle(l,"padding"),O=getPositionedStyle(l,"border","width"),{x:D,y:R,box:F}=getCanvasPosition(r,t),B=y.left+(F&&O.left),j=y.top+(F&&O.top);let{width:U,height:W}=e;return h&&(U-=y.width+O.width,W-=y.height+O.height),{x:Math.round((D-B)/U*t.width/o),y:Math.round((R-j)/W*t.height/o)}}function getContainerSize(r,e,t){let o,l;if(e===void 0||t===void 0){const h=_getParentNode(r);if(!h)e=r.clientWidth,t=r.clientHeight;else{const y=h.getBoundingClientRect(),O=getComputedStyle$1(h),D=getPositionedStyle(O,"border","width"),R=getPositionedStyle(O,"padding");e=y.width-R.width-D.width,t=y.height-R.height-D.height,o=parseMaxStyle(O.maxWidth,h,"clientWidth"),l=parseMaxStyle(O.maxHeight,h,"clientHeight")}}return{width:e,height:t,maxWidth:o||INFINITY,maxHeight:l||INFINITY}}const round1=r=>Math.round(r*10)/10;function getMaximumSize(r,e,t,o){const l=getComputedStyle$1(r),h=getPositionedStyle(l,"margin"),y=parseMaxStyle(l.maxWidth,r,"clientWidth")||INFINITY,O=parseMaxStyle(l.maxHeight,r,"clientHeight")||INFINITY,D=getContainerSize(r,e,t);let{width:R,height:F}=D;if(l.boxSizing==="content-box"){const B=getPositionedStyle(l,"border","width"),j=getPositionedStyle(l,"padding");R-=j.width+B.width,F-=j.height+B.height}return R=Math.max(0,R-h.width),F=Math.max(0,o?Math.floor(R/o):F-h.height),R=round1(Math.min(R,y,D.maxWidth)),F=round1(Math.min(F,O,D.maxHeight)),R&&!F&&(F=round1(R/2)),{width:R,height:F}}function retinaScale(r,e,t){const o=e||1,l=Math.floor(r.height*o),h=Math.floor(r.width*o);r.height=l/o,r.width=h/o;const y=r.canvas;return y.style&&(t||!y.style.height&&!y.style.width)&&(y.style.height=`${r.height}px`,y.style.width=`${r.width}px`),r.currentDevicePixelRatio!==o||y.height!==l||y.width!==h?(r.currentDevicePixelRatio=o,y.height=l,y.width=h,r.ctx.setTransform(o,0,0,o,0,0),!0):!1}const supportsEventListenerOptions=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return r}();function readUsedSize(r,e){const t=getStyle(r,e),o=t&&t.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(r,e,t,o){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function _steppedInterpolation(r,e,t,o){return{x:r.x+t*(e.x-r.x),y:o==="middle"?t<.5?r.y:e.y:o==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function _bezierInterpolation(r,e,t,o){const l={x:r.cp2x,y:r.cp2y},h={x:e.cp1x,y:e.cp1y},y=_pointInLine(r,l,t),O=_pointInLine(l,h,t),D=_pointInLine(h,e,t),R=_pointInLine(y,O,t),F=_pointInLine(O,D,t);return _pointInLine(R,F,t)}const intlCache=new Map;function getNumberFormat(r,e){e=e||{};const t=r+JSON.stringify(e);let o=intlCache.get(t);return o||(o=new Intl.NumberFormat(r,e),intlCache.set(t,o)),o}function formatNumber(r,e,t){return getNumberFormat(e,t).format(r)}const getRightToLeftAdapter=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,o){return t-o},leftForLtr(t,o){return t-o}}},getLeftToRightAdapter=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function getRtlAdapter(r,e,t){return r?getRightToLeftAdapter(e,t):getLeftToRightAdapter()}function overrideTextDirection(r,e){let t,o;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,o=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=o)}function restoreTextDirection(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(r){return r==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(e,t)=>e-t,normalize:e=>e}}function normalizeSegment({start:r,end:e,count:t,loop:o,style:l}){return{start:r%t,end:e%t,loop:o&&(e-r+1)%t===0,style:l}}function getSegment(r,e,t){const{property:o,start:l,end:h}=t,{between:y,normalize:O}=propertyFn(o),D=e.length;let{start:R,end:F,loop:B}=r,j,U;if(B){for(R+=D,F+=D,j=0,U=D;j<U&&y(O(e[R%D][o]),l,h);++j)R--,F--;R%=D,F%=D}return F<R&&(F+=D),{start:R,end:F,loop:B,style:r.style}}function _boundSegment(r,e,t){if(!t)return[r];const{property:o,start:l,end:h}=t,y=e.length,{compare:O,between:D,normalize:R}=propertyFn(o),{start:F,end:B,loop:j,style:U}=getSegment(r,e,t),W=[];let G=!1,q=null,K,Y,X;const J=()=>D(l,X,K)&&O(l,X)!==0,Q=()=>O(h,K)===0||D(h,X,K),Z=()=>G||J(),ee=()=>!G||Q();for(let te=F,re=F;te<=B;++te)Y=e[te%y],!Y.skip&&(K=R(Y[o]),K!==X&&(G=D(K,l,h),q===null&&Z()&&(q=O(K,l)===0?te:re),q!==null&&ee()&&(W.push(normalizeSegment({start:q,end:te,loop:j,count:y,style:U})),q=null),re=te,X=K));return q!==null&&W.push(normalizeSegment({start:q,end:B,loop:j,count:y,style:U})),W}function _boundSegments(r,e){const t=[],o=r.segments;for(let l=0;l<o.length;l++){const h=_boundSegment(o[l],r.points,e);h.length&&t.push(...h)}return t}function findStartAndEnd(r,e,t,o){let l=0,h=e-1;if(t&&!o)for(;l<e&&!r[l].skip;)l++;for(;l<e&&r[l].skip;)l++;for(l%=e,t&&(h+=l);h>l&&r[h%e].skip;)h--;return h%=e,{start:l,end:h}}function solidSegments(r,e,t,o){const l=r.length,h=[];let y=e,O=r[e],D;for(D=e+1;D<=t;++D){const R=r[D%l];R.skip||R.stop?O.skip||(o=!1,h.push({start:e%l,end:(D-1)%l,loop:o}),e=y=R.stop?D:null):(y=D,O.skip&&(e=D)),O=R}return y!==null&&h.push({start:e%l,end:y%l,loop:o}),h}function _computeSegments(r,e){const t=r.points,o=r.options.spanGaps,l=t.length;if(!l)return[];const h=!!r._loop,{start:y,end:O}=findStartAndEnd(t,l,h,o);if(o===!0)return splitByStyles(r,[{start:y,end:O,loop:h}],t,e);const D=O<y?O+l:O,R=!!r._fullLoop&&y===0&&O===l-1;return splitByStyles(r,solidSegments(t,y,D,R),t,e)}function splitByStyles(r,e,t,o){return!o||!o.setContext||!t?e:doSplitByStyles(r,e,t,o)}function doSplitByStyles(r,e,t,o){const l=r._chart.getContext(),h=readStyle(r.options),{_datasetIndex:y,options:{spanGaps:O}}=r,D=t.length,R=[];let F=h,B=e[0].start,j=B;function U(W,G,q,K){const Y=O?-1:1;if(W!==G){for(W+=D;t[W%D].skip;)W-=Y;for(;t[G%D].skip;)G+=Y;W%D!==G%D&&(R.push({start:W%D,end:G%D,loop:q,style:K}),F=K,B=G%D)}}for(const W of e){B=O?B:W.start;let G=t[B%D],q;for(j=B+1;j<=W.end;j++){const K=t[j%D];q=readStyle(o.setContext(createContext(l,{type:"segment",p0:G,p1:K,p0DataIndex:(j-1)%D,p1DataIndex:j%D,datasetIndex:y}))),styleChanged(q,F)&&U(B,j-1,W.loop,F),G=K,F=q}B<j-1&&U(B,j-1,W.loop,F)}return R}function readStyle(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function styleChanged(r,e){return e&&JSON.stringify(r)!==JSON.stringify(e)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,o,l){const h=t.listeners[l],y=t.duration;h.forEach(O=>O({chart:e,initial:t.initial,numSteps:y,currentStep:Math.min(o-t.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const h=o.items;let y=h.length-1,O=!1,D;for(;y>=0;--y)D=h[y],D._active?(D._total>o.duration&&(o.duration=D._total),D.tick(e),O=!0):(h[y]=h[h.length-1],h.pop());O&&(l.draw(),this._notify(l,o,e,"progress")),h.length||(o.running=!1,this._notify(l,o,e,"complete"),o.initial=!1),t+=h.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let o=t.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,o)),o}listen(e,t,o){this._getAnims(e).listeners[t].push(o)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const o=t.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const o=color(r||transparent),l=o.valid&&color(e||transparent);return l&&l.valid?l.mix(o,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class Animation{constructor(e,t,o,l){const h=t[o];l=resolve([e.to,l,h,e.from]);const y=resolve([e.from,h,l]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof y],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=o,this._from=y,this._to=l,this._promises=void 0}active(){return this._active}update(e,t,o){if(this._active){this._notify(!1);const l=this._target[this._prop],h=o-this._start,y=this._duration-h;this._start=o,this._duration=Math.floor(Math.max(y,e.duration)),this._total+=h,this._loop=!!e.loop,this._to=resolve([e.to,t,l,e.from]),this._from=resolve([e.from,l,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,o=this._duration,l=this._prop,h=this._from,y=this._loop,O=this._to;let D;if(this._active=h!==O&&(y||t<o),!this._active){this._target[l]=O,this._notify(!0);return}if(t<0){this._target[l]=h;return}D=t/o%2,D=y&&D>1?2-D:D,D=this._easing(Math.min(1,Math.max(0,D))),this._target[l]=this._fn(h,O,D)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,o)=>{e.push({res:t,rej:o})})}_notify(e){const t=e?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][t]()}}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];defaults$3.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const animationOptions=Object.keys(defaults$3.animation);defaults$3.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>r!=="onProgress"&&r!=="onComplete"&&r!=="fn"});defaults$3.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}});defaults$3.describe("animations",{_fallback:"animation"});defaults$3.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>r|0}}}});class Animations{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!isObject$l(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const l=e[o];if(!isObject$l(l))return;const h={};for(const y of animationOptions)h[y]=l[y];(isArray$f(l.properties)&&l.properties||[o]).forEach(y=>{(y===o||!t.has(y))&&t.set(y,h)})})}_animateOptions(e,t){const o=t.options,l=resolveTargetOptions(e,o);if(!l)return[];const h=this._createAnimations(l,o);return o.$shared&&awaitAll(e.options.$animations,o).then(()=>{e.options=o},()=>{}),h}_createAnimations(e,t){const o=this._properties,l=[],h=e.$animations||(e.$animations={}),y=Object.keys(t),O=Date.now();let D;for(D=y.length-1;D>=0;--D){const R=y[D];if(R.charAt(0)==="$")continue;if(R==="options"){l.push(...this._animateOptions(e,t));continue}const F=t[R];let B=h[R];const j=o.get(R);if(B)if(j&&B.active()){B.update(j,F,O);continue}else B.cancel();if(!j||!j.duration){e[R]=F;continue}h[R]=B=new Animation(j,e,R,F),l.push(B)}return l}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const o=this._createAnimations(e,t);if(o.length)return animator.add(this._chart,o),!0}}function awaitAll(r,e){const t=[],o=Object.keys(e);for(let l=0;l<o.length;l++){const h=r[o[l]];h&&h.active()&&t.push(h.wait())}return Promise.all(t)}function resolveTargetOptions(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function scaleClip(r,e){const t=r&&r.options||{},o=t.reverse,l=t.min===void 0?e:0,h=t.max===void 0?e:0;return{start:o?h:l,end:o?l:h}}function defaultClip(r,e,t){if(t===!1)return!1;const o=scaleClip(r,t),l=scaleClip(e,t);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}function toClip(r){let e,t,o,l;return isObject$l(r)?(e=r.top,t=r.right,o=r.bottom,l=r.left):e=t=o=l=r,{top:e,right:t,bottom:o,left:l,disabled:r===!1}}function getSortedDatasetIndices(r,e){const t=[],o=r._getSortedDatasetMetas(e);let l,h;for(l=0,h=o.length;l<h;++l)t.push(o[l].index);return t}function applyStack(r,e,t,o={}){const l=r.keys,h=o.mode==="single";let y,O,D,R;if(e!==null){for(y=0,O=l.length;y<O;++y){if(D=+l[y],D===t){if(o.all)continue;break}R=r.values[D],isNumberFinite(R)&&(h||e===0||sign(e)===sign(R))&&(e+=R)}return e}}function convertObjectDataToArray(r){const e=Object.keys(r),t=new Array(e.length);let o,l,h;for(o=0,l=e.length;o<l;++o)h=e[o],t[o]={x:h,y:r[h]};return t}function isStacked(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function getStackKey(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function getUserBounds(r){const{min:e,max:t,minDefined:o,maxDefined:l}=r.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:l?t:Number.POSITIVE_INFINITY}}function getOrCreateStack(r,e,t){const o=r[e]||(r[e]={});return o[t]||(o[t]={})}function getLastIndexInStack(r,e,t,o){for(const l of e.getMatchingVisibleMetas(o).reverse()){const h=r[l.index];if(t&&h>0||!t&&h<0)return l.index}return null}function updateStacks(r,e){const{chart:t,_cachedMeta:o}=r,l=t._stacks||(t._stacks={}),{iScale:h,vScale:y,index:O}=o,D=h.axis,R=y.axis,F=getStackKey(h,y,o),B=e.length;let j;for(let U=0;U<B;++U){const W=e[U],{[D]:G,[R]:q}=W,K=W._stacks||(W._stacks={});j=K[R]=getOrCreateStack(l,F,G),j[O]=q,j._top=getLastIndexInStack(j,y,!0,o.type),j._bottom=getLastIndexInStack(j,y,!1,o.type)}}function getFirstScaleId(r,e){const t=r.scales;return Object.keys(t).filter(o=>t[o].axis===e).shift()}function createDatasetContext(r,e){return createContext(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(r,e,t){return createContext(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function clearStacks(r,e){const t=r.controller.index,o=r.vScale&&r.vScale.axis;if(!!o){e=e||r._parsed;for(const l of e){const h=l._stacks;if(!h||h[o]===void 0||h[o][t]===void 0)return;delete h[o][t]}}}const isDirectUpdateMode=r=>r==="reset"||r==="none",cloneIfNotShared=(r,e)=>e?r:Object.assign({},r),createStack=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(t,!0),values:null};class DatasetController{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,o=this.getDataset(),l=(B,j,U,W)=>B==="x"?j:B==="r"?W:U,h=t.xAxisID=valueOrDefault(o.xAxisID,getFirstScaleId(e,"x")),y=t.yAxisID=valueOrDefault(o.yAxisID,getFirstScaleId(e,"y")),O=t.rAxisID=valueOrDefault(o.rAxisID,getFirstScaleId(e,"r")),D=t.indexAxis,R=t.iAxisID=l(D,h,y,O),F=t.vAxisID=l(D,y,h,O);t.xScale=this.getScaleForId(h),t.yScale=this.getScaleForId(y),t.rScale=this.getScaleForId(O),t.iScale=this.getScaleForId(R),t.vScale=this.getScaleForId(F)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),o=this._data;if(isObject$l(t))this._data=convertObjectDataToArray(t);else if(o!==t){if(o){unlistenArrayEvents(o,this);const l=this._cachedMeta;clearStacks(l),l._parsed=[]}t&&Object.isExtensible(t)&&listenArrayEvents(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const h=t._stacked;t._stacked=isStacked(t.vScale,t),t.stack!==o.stack&&(l=!0,clearStacks(t),t.stack=o.stack),this._resyncElements(e),(l||h!==t._stacked)&&updateStacks(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:o,_data:l}=this,{iScale:h,_stacked:y}=o,O=h.axis;let D=e===0&&t===l.length?!0:o._sorted,R=e>0&&o._parsed[e-1],F,B,j;if(this._parsing===!1)o._parsed=l,o._sorted=!0,j=l;else{isArray$f(l[e])?j=this.parseArrayData(o,l,e,t):isObject$l(l[e])?j=this.parseObjectData(o,l,e,t):j=this.parsePrimitiveData(o,l,e,t);const U=()=>B[O]===null||R&&B[O]<R[O];for(F=0;F<t;++F)o._parsed[F+e]=B=j[F],D&&(U()&&(D=!1),R=B);o._sorted=D}y&&updateStacks(this,j)}parsePrimitiveData(e,t,o,l){const{iScale:h,vScale:y}=e,O=h.axis,D=y.axis,R=h.getLabels(),F=h===y,B=new Array(l);let j,U,W;for(j=0,U=l;j<U;++j)W=j+o,B[j]={[O]:F||h.parse(R[W],W),[D]:y.parse(t[W],W)};return B}parseArrayData(e,t,o,l){const{xScale:h,yScale:y}=e,O=new Array(l);let D,R,F,B;for(D=0,R=l;D<R;++D)F=D+o,B=t[F],O[D]={x:h.parse(B[0],F),y:y.parse(B[1],F)};return O}parseObjectData(e,t,o,l){const{xScale:h,yScale:y}=e,{xAxisKey:O="x",yAxisKey:D="y"}=this._parsing,R=new Array(l);let F,B,j,U;for(F=0,B=l;F<B;++F)j=F+o,U=t[j],R[F]={x:h.parse(resolveObjectKey(U,O),j),y:y.parse(resolveObjectKey(U,D),j)};return R}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,o){const l=this.chart,h=this._cachedMeta,y=t[e.axis],O={keys:getSortedDatasetIndices(l,!0),values:t._stacks[e.axis]};return applyStack(O,y,h.index,{mode:o})}updateRangeFromParsed(e,t,o,l){const h=o[t.axis];let y=h===null?NaN:h;const O=l&&o._stacks[t.axis];l&&O&&(l.values=O,y=applyStack(l,h,this._cachedMeta.index)),e.min=Math.min(e.min,y),e.max=Math.max(e.max,y)}getMinMax(e,t){const o=this._cachedMeta,l=o._parsed,h=o._sorted&&e===o.iScale,y=l.length,O=this._getOtherScale(e),D=createStack(t,o,this.chart),R={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:F,max:B}=getUserBounds(O);let j,U;function W(){U=l[j];const G=U[O.axis];return!isNumberFinite(U[e.axis])||F>G||B<G}for(j=0;j<y&&!(!W()&&(this.updateRangeFromParsed(R,e,U,D),h));++j);if(h){for(j=y-1;j>=0;--j)if(!W()){this.updateRangeFromParsed(R,e,U,D);break}}return R}getAllParsedValues(e){const t=this._cachedMeta._parsed,o=[];let l,h,y;for(l=0,h=t.length;l<h;++l)y=t[l][e.axis],isNumberFinite(y)&&o.push(y);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,o=t.iScale,l=t.vScale,h=this.getParsed(e);return{label:o?""+o.getLabelForValue(h[o.axis]):"",value:l?""+l.getLabelForValue(h[l.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=toClip(valueOrDefault(this.options.clip,defaultClip(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,o=this._cachedMeta,l=o.data||[],h=t.chartArea,y=[],O=this._drawStart||0,D=this._drawCount||l.length-O,R=this.options.drawActiveElementsOnTop;let F;for(o.dataset&&o.dataset.draw(e,h,O,D),F=O;F<O+D;++F){const B=l[F];B.hidden||(B.active&&R?y.push(B):B.draw(e,h))}for(F=0;F<y.length;++F)y[F].draw(e,h)}getStyle(e,t){const o=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,t,o){const l=this.getDataset();let h;if(e>=0&&e<this._cachedMeta.data.length){const y=this._cachedMeta.data[e];h=y.$context||(y.$context=createDataContext(this.getContext(),e,y)),h.parsed=this.getParsed(e),h.raw=l.data[e],h.index=h.dataIndex=e}else h=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),h.dataset=l,h.index=h.datasetIndex=this.index;return h.active=!!t,h.mode=o,h}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",o){const l=t==="active",h=this._cachedDataOpts,y=e+"-"+t,O=h[y],D=this.enableOptionSharing&&defined(o);if(O)return cloneIfNotShared(O,D);const R=this.chart.config,F=R.datasetElementScopeKeys(this._type,e),B=l?[`${e}Hover`,"hover",e,""]:[e,""],j=R.getOptionScopes(this.getDataset(),F),U=Object.keys(defaults$3.elements[e]),W=()=>this.getContext(o,l),G=R.resolveNamedOptions(j,U,W,B);return G.$shared&&(G.$shared=D,h[y]=Object.freeze(cloneIfNotShared(G,D))),G}_resolveAnimations(e,t,o){const l=this.chart,h=this._cachedDataOpts,y=`animation-${t}`,O=h[y];if(O)return O;let D;if(l.options.animation!==!1){const F=this.chart.config,B=F.datasetAnimationScopeKeys(this._type,t),j=F.getOptionScopes(this.getDataset(),B);D=F.createResolver(j,this.getContext(e,o,t))}const R=new Animations(l,D&&D.animations);return D&&D._cacheable&&(h[y]=Object.freeze(R)),R}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||isDirectUpdateMode(e)||this.chart._animationsDisabled}updateElement(e,t,o,l){isDirectUpdateMode(l)?Object.assign(e,o):this._resolveAnimations(t,l).update(e,o)}updateSharedOptions(e,t,o){e&&!isDirectUpdateMode(t)&&this._resolveAnimations(void 0,t).update(e,o)}_setStyle(e,t,o,l){e.active=l;const h=this.getStyle(t,l);this._resolveAnimations(t,o,l).update(e,{options:!l&&this.getSharedOptions(h)||h})}removeHoverStyle(e,t,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,t,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,o=this._cachedMeta.data;for(const[O,D,R]of this._syncList)this[O](D,R);this._syncList=[];const l=o.length,h=t.length,y=Math.min(h,l);y&&this.parse(0,y),h>l?this._insertElements(l,h-l,e):h<l&&this._removeElements(h,l-h)}_insertElements(e,t,o=!0){const l=this._cachedMeta,h=l.data,y=e+t;let O;const D=R=>{for(R.length+=t,O=R.length-1;O>=y;O--)R[O]=R[O-t]};for(D(h),O=e;O<y;++O)h[O]=new this.dataElementType;this._parsing&&D(l._parsed),this.parse(e,t),o&&this.updateElements(h,e,t,"reset")}updateElements(e,t,o,l){}_removeElements(e,t){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(e,t);o._stacked&&clearStacks(o,l)}o.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,o,l]=e;this[t](o,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}DatasetController.defaults={};DatasetController.prototype.datasetElementType=null;DatasetController.prototype.dataElementType=null;function getAllScaleValues(r,e){if(!r._cache.$bar){const t=r.getMatchingVisibleMetas(e);let o=[];for(let l=0,h=t.length;l<h;l++)o=o.concat(t[l].controller.getAllParsedValues(r));r._cache.$bar=_arrayUnique(o.sort((l,h)=>l-h))}return r._cache.$bar}function computeMinSampleSize(r){const e=r.iScale,t=getAllScaleValues(e,r.type);let o=e._length,l,h,y,O;const D=()=>{y===32767||y===-32768||(defined(O)&&(o=Math.min(o,Math.abs(y-O)||o)),O=y)};for(l=0,h=t.length;l<h;++l)y=e.getPixelForValue(t[l]),D();for(O=void 0,l=0,h=e.ticks.length;l<h;++l)y=e.getPixelForTick(l),D();return o}function computeFitCategoryTraits(r,e,t,o){const l=t.barThickness;let h,y;return isNullOrUndef(l)?(h=e.min*t.categoryPercentage,y=t.barPercentage):(h=l*o,y=1),{chunk:h/o,ratio:y,start:e.pixels[r]-h/2}}function computeFlexCategoryTraits(r,e,t,o){const l=e.pixels,h=l[r];let y=r>0?l[r-1]:null,O=r<l.length-1?l[r+1]:null;const D=t.categoryPercentage;y===null&&(y=h-(O===null?e.end-e.start:O-h)),O===null&&(O=h+h-y);const R=h-(h-Math.min(y,O))/2*D;return{chunk:Math.abs(O-y)/2*D/o,ratio:t.barPercentage,start:R}}function parseFloatBar(r,e,t,o){const l=t.parse(r[0],o),h=t.parse(r[1],o),y=Math.min(l,h),O=Math.max(l,h);let D=y,R=O;Math.abs(y)>Math.abs(O)&&(D=O,R=y),e[t.axis]=R,e._custom={barStart:D,barEnd:R,start:l,end:h,min:y,max:O}}function parseValue(r,e,t,o){return isArray$f(r)?parseFloatBar(r,e,t,o):e[t.axis]=t.parse(r,o),e}function parseArrayOrPrimitive(r,e,t,o){const l=r.iScale,h=r.vScale,y=l.getLabels(),O=l===h,D=[];let R,F,B,j;for(R=t,F=t+o;R<F;++R)j=e[R],B={},B[l.axis]=O||l.parse(y[R],R),D.push(parseValue(j,B,h,R));return D}function isFloatBar(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function barSign(r,e,t){return r!==0?sign(r):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function borderProps(r){let e,t,o,l,h;return r.horizontal?(e=r.base>r.x,t="left",o="right"):(e=r.base<r.y,t="bottom",o="top"),e?(l="end",h="start"):(l="start",h="end"),{start:t,end:o,reverse:e,top:l,bottom:h}}function setBorderSkipped(r,e,t,o){let l=e.borderSkipped;const h={};if(!l){r.borderSkipped=h;return}const{start:y,end:O,reverse:D,top:R,bottom:F}=borderProps(r);l==="middle"&&t&&(r.enableBorderRadius=!0,(t._top||0)===o?l=R:(t._bottom||0)===o?l=F:(h[parseEdge$1(F,y,O,D)]=!0,l=R)),h[parseEdge$1(l,y,O,D)]=!0,r.borderSkipped=h}function parseEdge$1(r,e,t,o){return o?(r=swap(r,e,t),r=startEnd(r,t,e)):r=startEnd(r,e,t),r}function swap(r,e,t){return r===e?t:r===t?e:r}function startEnd(r,e,t){return r==="start"?e:r==="end"?t:r}function setInflateAmount(r,{inflateAmount:e},t){r.inflateAmount=e==="auto"?t===1?.33:0:e}class BarController extends DatasetController{parsePrimitiveData(e,t,o,l){return parseArrayOrPrimitive(e,t,o,l)}parseArrayData(e,t,o,l){return parseArrayOrPrimitive(e,t,o,l)}parseObjectData(e,t,o,l){const{iScale:h,vScale:y}=e,{xAxisKey:O="x",yAxisKey:D="y"}=this._parsing,R=h.axis==="x"?O:D,F=y.axis==="x"?O:D,B=[];let j,U,W,G;for(j=o,U=o+l;j<U;++j)G=t[j],W={},W[h.axis]=h.parse(resolveObjectKey(G,R),j),B.push(parseValue(resolveObjectKey(G,F),W,y,j));return B}updateRangeFromParsed(e,t,o,l){super.updateRangeFromParsed(e,t,o,l);const h=o._custom;h&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,h.min),e.max=Math.max(e.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:o,vScale:l}=t,h=this.getParsed(e),y=h._custom,O=isFloatBar(y)?"["+y.start+", "+y.end+"]":""+l.getLabelForValue(h[l.axis]);return{label:""+o.getLabelForValue(h[o.axis]),value:O}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,o,l){const h=l==="reset",{index:y,_cachedMeta:{vScale:O}}=this,D=O.getBasePixel(),R=O.isHorizontal(),F=this._getRuler(),B=this.resolveDataElementOptions(t,l),j=this.getSharedOptions(B),U=this.includeOptions(l,j);this.updateSharedOptions(j,l,B);for(let W=t;W<t+o;W++){const G=this.getParsed(W),q=h||isNullOrUndef(G[O.axis])?{base:D,head:D}:this._calculateBarValuePixels(W),K=this._calculateBarIndexPixels(W,F),Y=(G._stacks||{})[O.axis],X={horizontal:R,base:q.base,enableBorderRadius:!Y||isFloatBar(G._custom)||y===Y._top||y===Y._bottom,x:R?q.head:K.center,y:R?K.center:q.head,height:R?K.size:Math.abs(q.size),width:R?Math.abs(q.size):K.size};U&&(X.options=j||this.resolveDataElementOptions(W,e[W].active?"active":l));const J=X.options||e[W].options;setBorderSkipped(X,J,Y,y),setInflateAmount(X,J,F.ratio),this.updateElement(e[W],W,X,l)}}_getStacks(e,t){const l=this._cachedMeta.iScale,h=l.getMatchingVisibleMetas(this._type),y=l.options.stacked,O=h.length,D=[];let R,F;for(R=0;R<O;++R)if(F=h[R],!!F.controller.options.grouped){if(typeof t!="undefined"){const B=F.controller.getParsed(t)[F.controller._cachedMeta.vScale.axis];if(isNullOrUndef(B)||isNaN(B))continue}if((y===!1||D.indexOf(F.stack)===-1||y===void 0&&F.stack===void 0)&&D.push(F.stack),F.index===e)break}return D.length||D.push(void 0),D}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,o){const l=this._getStacks(e,o),h=t!==void 0?l.indexOf(t):-1;return h===-1?l.length-1:h}_getRuler(){const e=this.options,t=this._cachedMeta,o=t.iScale,l=[];let h,y;for(h=0,y=t.data.length;h<y;++h)l.push(o.getPixelForValue(this.getParsed(h)[o.axis],h));const O=e.barThickness;return{min:O||computeMinSampleSize(t),pixels:l,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:O?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:o},options:{base:l,minBarLength:h}}=this,y=l||0,O=this.getParsed(e),D=O._custom,R=isFloatBar(D);let F=O[t.axis],B=0,j=o?this.applyStack(t,O,o):F,U,W;j!==F&&(B=j-F,j=F),R&&(F=D.barStart,j=D.barEnd-D.barStart,F!==0&&sign(F)!==sign(D.barEnd)&&(B=0),B+=F);const G=!isNullOrUndef(l)&&!R?l:B;let q=t.getPixelForValue(G);if(this.chart.getDataVisibility(e)?U=t.getPixelForValue(B+j):U=q,W=U-q,Math.abs(W)<h){W=barSign(W,t,y)*h,F===y&&(q-=W/2);const K=t.getPixelForDecimal(0),Y=t.getPixelForDecimal(1),X=Math.min(K,Y),J=Math.max(K,Y);q=Math.max(Math.min(q,J),X),U=q+W}if(q===t.getPixelForValue(y)){const K=sign(W)*t.getLineWidthForValue(y)/2;q+=K,W-=K}return{size:W,base:q,head:U,center:U+W/2}}_calculateBarIndexPixels(e,t){const o=t.scale,l=this.options,h=l.skipNull,y=valueOrDefault(l.maxBarThickness,1/0);let O,D;if(t.grouped){const R=h?this._getStackCount(e):t.stackCount,F=l.barThickness==="flex"?computeFlexCategoryTraits(e,t,l,R):computeFitCategoryTraits(e,t,l,R),B=this._getStackIndex(this.index,this._cachedMeta.stack,h?e:void 0);O=F.start+F.chunk*B+F.chunk/2,D=Math.min(y,F.chunk*F.ratio)}else O=o.getPixelForValue(this.getParsed(e)[o.axis],e),D=Math.min(y,t.min*t.ratio);return{base:O-D/2,head:O+D/2,center:O,size:D}}draw(){const e=this._cachedMeta,t=e.vScale,o=e.data,l=o.length;let h=0;for(;h<l;++h)this.getParsed(h)[t.axis]!==null&&o[h].draw(this._ctx)}}BarController.id="bar";BarController.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};BarController.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,o,l){const h=super.parsePrimitiveData(e,t,o,l);for(let y=0;y<h.length;y++)h[y]._custom=this.resolveDataElementOptions(y+o).radius;return h}parseArrayData(e,t,o,l){const h=super.parseArrayData(e,t,o,l);for(let y=0;y<h.length;y++){const O=t[o+y];h[y]._custom=valueOrDefault(O[2],this.resolveDataElementOptions(y+o).radius)}return h}parseObjectData(e,t,o,l){const h=super.parseObjectData(e,t,o,l);for(let y=0;y<h.length;y++){const O=t[o+y];h[y]._custom=valueOrDefault(O&&O.r&&+O.r,this.resolveDataElementOptions(y+o).radius)}return h}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let o=e.length-1;o>=0;--o)t=Math.max(t,e[o].size(this.resolveDataElementOptions(o))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:o,yScale:l}=t,h=this.getParsed(e),y=o.getLabelForValue(h.x),O=l.getLabelForValue(h.y),D=h._custom;return{label:t.label,value:"("+y+", "+O+(D?", "+D:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,o,l){const h=l==="reset",{iScale:y,vScale:O}=this._cachedMeta,D=this.resolveDataElementOptions(t,l),R=this.getSharedOptions(D),F=this.includeOptions(l,R),B=y.axis,j=O.axis;for(let U=t;U<t+o;U++){const W=e[U],G=!h&&this.getParsed(U),q={},K=q[B]=h?y.getPixelForDecimal(.5):y.getPixelForValue(G[B]),Y=q[j]=h?O.getBasePixel():O.getPixelForValue(G[j]);q.skip=isNaN(K)||isNaN(Y),F&&(q.options=this.resolveDataElementOptions(U,W.active?"active":l),h&&(q.options.radius=0)),this.updateElement(W,U,q,l)}this.updateSharedOptions(R,l,D)}resolveDataElementOptions(e,t){const o=this.getParsed(e);let l=super.resolveDataElementOptions(e,t);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const h=l.radius;return t!=="active"&&(l.radius=0),l.radius+=valueOrDefault(o&&o._custom,h),l}}BubbleController.id="bubble";BubbleController.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};BubbleController.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function getRatioAndOffset(r,e,t){let o=1,l=1,h=0,y=0;if(e<TAU){const O=r,D=O+e,R=Math.cos(O),F=Math.sin(O),B=Math.cos(D),j=Math.sin(D),U=(X,J,Q)=>_angleBetween(X,O,D,!0)?1:Math.max(J,J*t,Q,Q*t),W=(X,J,Q)=>_angleBetween(X,O,D,!0)?-1:Math.min(J,J*t,Q,Q*t),G=U(0,R,B),q=U(HALF_PI,F,j),K=W(PI,R,B),Y=W(PI+HALF_PI,F,j);o=(G-K)/2,l=(q-Y)/2,h=-(G+K)/2,y=-(q+Y)/2}return{ratioX:o,ratioY:l,offsetX:h,offsetY:y}}class DoughnutController extends DatasetController{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const o=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=o;else{let h=D=>+o[D];if(isObject$l(o[e])){const{key:D="value"}=this._parsing;h=R=>+resolveObjectKey(o[R],D)}let y,O;for(y=e,O=e+t;y<O;++y)l._parsed[y]=h(y)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,t=-TAU;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){const l=this.chart.getDatasetMeta(o).controller,h=l._getRotation(),y=l._getCircumference();e=Math.min(e,h),t=Math.max(t,h+y)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:o}=t,l=this._cachedMeta,h=l.data,y=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,O=Math.max((Math.min(o.width,o.height)-y)/2,0),D=Math.min(toPercentage(this.options.cutout,O),1),R=this._getRingWeight(this.index),{circumference:F,rotation:B}=this._getRotationExtents(),{ratioX:j,ratioY:U,offsetX:W,offsetY:G}=getRatioAndOffset(B,F,D),q=(o.width-y)/j,K=(o.height-y)/U,Y=Math.max(Math.min(q,K)/2,0),X=toDimension(this.options.radius,Y),J=Math.max(X*D,0),Q=(X-J)/this._getVisibleDatasetWeightTotal();this.offsetX=W*X,this.offsetY=G*X,l.total=this.calculateTotal(),this.outerRadius=X-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*R,0),this.updateElements(h,0,h.length,e)}_circumference(e,t){const o=this.options,l=this._cachedMeta,h=this._getCircumference();return t&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||l._parsed[e]===null||l.data[e].hidden?0:this.calculateCircumference(l._parsed[e]*h/TAU)}updateElements(e,t,o,l){const h=l==="reset",y=this.chart,O=y.chartArea,R=y.options.animation,F=(O.left+O.right)/2,B=(O.top+O.bottom)/2,j=h&&R.animateScale,U=j?0:this.innerRadius,W=j?0:this.outerRadius,G=this.resolveDataElementOptions(t,l),q=this.getSharedOptions(G),K=this.includeOptions(l,q);let Y=this._getRotation(),X;for(X=0;X<t;++X)Y+=this._circumference(X,h);for(X=t;X<t+o;++X){const J=this._circumference(X,h),Q=e[X],Z={x:F+this.offsetX,y:B+this.offsetY,startAngle:Y,endAngle:Y+J,circumference:J,outerRadius:W,innerRadius:U};K&&(Z.options=q||this.resolveDataElementOptions(X,Q.active?"active":l)),Y+=J,this.updateElement(Q,X,Z,l)}this.updateSharedOptions(q,l,G)}calculateTotal(){const e=this._cachedMeta,t=e.data;let o=0,l;for(l=0;l<t.length;l++){const h=e._parsed[l];h!==null&&!isNaN(h)&&this.chart.getDataVisibility(l)&&!t[l].hidden&&(o+=Math.abs(h))}return o}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?TAU*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(t._parsed[e],o.options.locale);return{label:l[e]||"",value:h}}getMaxBorderWidth(e){let t=0;const o=this.chart;let l,h,y,O,D;if(!e){for(l=0,h=o.data.datasets.length;l<h;++l)if(o.isDatasetVisible(l)){y=o.getDatasetMeta(l),e=y.data,O=y.controller;break}}if(!e)return 0;for(l=0,h=e.length;l<h;++l)D=O.resolveDataElementOptions(l),D.borderAlign!=="inner"&&(t=Math.max(t,D.borderWidth||0,D.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let o=0,l=e.length;o<l;++o){const h=this.resolveDataElementOptions(o);t=Math.max(t,h.offset||0,h.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(t+=this._getRingWeight(o));return t}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}DoughnutController.id="doughnut";DoughnutController.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};DoughnutController.descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"};DoughnutController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const e=r.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=r.legend.options;return e.labels.map((o,l)=>{const y=r.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(l),index:l}})}return[]}},onClick(r,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){let e=r.label;const t=": "+r.formattedValue;return isArray$f(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}};class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:o,data:l=[],_dataset:h}=t,y=this.chart._animationsDisabled;let{start:O,count:D}=getStartAndCountOfVisiblePoints(t,l,y);this._drawStart=O,this._drawCount=D,scaleRangesChanged(t)&&(O=0,D=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!h._decimated,o.points=l;const R=this.resolveDatasetElementOptions(e);this.options.showLine||(R.borderWidth=0),R.segment=this.options.segment,this.updateElement(o,void 0,{animated:!y,options:R},e),this.updateElements(l,O,D,e)}updateElements(e,t,o,l){const h=l==="reset",{iScale:y,vScale:O,_stacked:D,_dataset:R}=this._cachedMeta,F=this.resolveDataElementOptions(t,l),B=this.getSharedOptions(F),j=this.includeOptions(l,B),U=y.axis,W=O.axis,{spanGaps:G,segment:q}=this.options,K=isNumber(G)?G:Number.POSITIVE_INFINITY,Y=this.chart._animationsDisabled||h||l==="none";let X=t>0&&this.getParsed(t-1);for(let J=t;J<t+o;++J){const Q=e[J],Z=this.getParsed(J),ee=Y?Q:{},te=isNullOrUndef(Z[W]),re=ee[U]=y.getPixelForValue(Z[U],J),ie=ee[W]=h||te?O.getBasePixel():O.getPixelForValue(D?this.applyStack(O,Z,D):Z[W],J);ee.skip=isNaN(re)||isNaN(ie)||te,ee.stop=J>0&&Math.abs(Z[U]-X[U])>K,q&&(ee.parsed=Z,ee.raw=R.data[J]),j&&(ee.options=B||this.resolveDataElementOptions(J,Q.active?"active":l)),Y||this.updateElement(Q,J,ee,l),X=Z}this.updateSharedOptions(B,l,F)}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,o=t.options&&t.options.borderWidth||0,l=e.data||[];if(!l.length)return o;const h=l[0].size(this.resolveDataElementOptions(0)),y=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,h,y)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}LineController.id="line";LineController.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};LineController.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function getStartAndCountOfVisiblePoints(r,e,t){const o=e.length;let l=0,h=o;if(r._sorted){const{iScale:y,_parsed:O}=r,D=y.axis,{min:R,max:F,minDefined:B,maxDefined:j}=y.getUserBounds();B&&(l=_limitValue(Math.min(_lookupByKey(O,y.axis,R).lo,t?o:_lookupByKey(e,D,y.getPixelForValue(R)).lo),0,o-1)),j?h=_limitValue(Math.max(_lookupByKey(O,y.axis,F).hi+1,t?0:_lookupByKey(e,D,y.getPixelForValue(F)).hi+1),l,o)-l:h=o-l}return{start:l,count:h}}function scaleRangesChanged(r){const{xScale:e,yScale:t,_scaleRanges:o}=r,l={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!o)return r._scaleRanges=l,!0;const h=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==t.min||o.ymax!==t.max;return Object.assign(o,l),h}class PolarAreaController extends DatasetController{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(t._parsed[e].r,o.options.locale);return{label:l[e]||"",value:h}}parseObjectData(e,t,o,l){return _parseObjectDataRadialScale.bind(this)(e,t,o,l)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,l)=>{const h=this.getParsed(l).r;!isNaN(h)&&this.chart.getDataVisibility(l)&&(h<t.min&&(t.min=h),h>t.max&&(t.max=h))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,o=e.options,l=Math.min(t.right-t.left,t.bottom-t.top),h=Math.max(l/2,0),y=Math.max(o.cutoutPercentage?h/100*o.cutoutPercentage:1,0),O=(h-y)/e.getVisibleDatasetCount();this.outerRadius=h-O*this.index,this.innerRadius=this.outerRadius-O}updateElements(e,t,o,l){const h=l==="reset",y=this.chart,D=y.options.animation,R=this._cachedMeta.rScale,F=R.xCenter,B=R.yCenter,j=R.getIndexAngle(0)-.5*PI;let U=j,W;const G=360/this.countVisibleElements();for(W=0;W<t;++W)U+=this._computeAngle(W,l,G);for(W=t;W<t+o;W++){const q=e[W];let K=U,Y=U+this._computeAngle(W,l,G),X=y.getDataVisibility(W)?R.getDistanceFromCenterForValue(this.getParsed(W).r):0;U=Y,h&&(D.animateScale&&(X=0),D.animateRotate&&(K=Y=j));const J={x:F,y:B,innerRadius:0,outerRadius:X,startAngle:K,endAngle:Y,options:this.resolveDataElementOptions(W,q.active?"active":l)};this.updateElement(q,W,J,l)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((o,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&t++}),t}_computeAngle(e,t,o){return this.chart.getDataVisibility(e)?toRadians(this.resolveDataElementOptions(e,t).angle||o):0}}PolarAreaController.id="polarArea";PolarAreaController.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};PolarAreaController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const e=r.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=r.legend.options;return e.labels.map((o,l)=>{const y=r.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:t,hidden:!r.getDataVisibility(l),index:l}})}return[]}},onClick(r,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){return r.chart.data.labels[r.dataIndex]+": "+r.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class PieController extends DoughnutController{}PieController.id="pie";PieController.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class RadarController extends DatasetController{getLabelAndValue(e){const t=this._cachedMeta.vScale,o=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(o[t.axis])}}parseObjectData(e,t,o,l){return _parseObjectDataRadialScale.bind(this)(e,t,o,l)}update(e){const t=this._cachedMeta,o=t.dataset,l=t.data||[],h=t.iScale.getLabels();if(o.points=l,e!=="resize"){const y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0);const O={_loop:!0,_fullLoop:h.length===l.length,options:y};this.updateElement(o,void 0,O,e)}this.updateElements(l,0,l.length,e)}updateElements(e,t,o,l){const h=this._cachedMeta.rScale,y=l==="reset";for(let O=t;O<t+o;O++){const D=e[O],R=this.resolveDataElementOptions(O,D.active?"active":l),F=h.getPointPositionForValue(O,this.getParsed(O).r),B=y?h.xCenter:F.x,j=y?h.yCenter:F.y,U={x:B,y:j,angle:F.angle,skip:isNaN(B)||isNaN(j),options:R};this.updateElement(D,O,U,l)}}}RadarController.id="radar";RadarController.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};RadarController.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ScatterController extends LineController{}ScatterController.id="scatter";ScatterController.defaults={showLine:!1,fill:!1};ScatterController.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(r){return"("+r.label+", "+r.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PolarAreaController,PieController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapter{constructor(e){this.options=e||{}}formats(){return abstract()}parse(e,t){return abstract()}format(e,t){return abstract()}add(e,t,o){return abstract()}diff(e,t,o){return abstract()}startOf(e,t,o){return abstract()}endOf(e,t){return abstract()}}DateAdapter.override=function(r){Object.assign(DateAdapter.prototype,r)};var adapters={_date:DateAdapter};function binarySearch(r,e,t,o){const{controller:l,data:h,_sorted:y}=r,O=l._cachedMeta.iScale;if(O&&e===O.axis&&e!=="r"&&y&&h.length){const D=O._reversePixels?_rlookupByKey:_lookupByKey;if(o){if(l._sharedOptions){const R=h[0],F=typeof R.getRange=="function"&&R.getRange(e);if(F){const B=D(h,e,t-F),j=D(h,e,t+F);return{lo:B.lo,hi:j.hi}}}}else return D(h,e,t)}return{lo:0,hi:h.length-1}}function evaluateInteractionItems(r,e,t,o,l){const h=r.getSortedVisibleDatasetMetas(),y=t[e];for(let O=0,D=h.length;O<D;++O){const{index:R,data:F}=h[O],{lo:B,hi:j}=binarySearch(h[O],e,y,l);for(let U=B;U<=j;++U){const W=F[U];W.skip||o(W,R,U)}}}function getDistanceMetricForAxis(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(o,l){const h=e?Math.abs(o.x-l.x):0,y=t?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(h,2)+Math.pow(y,2))}}function getIntersectItems(r,e,t,o,l){const h=[];return!l&&!r.isPointInArea(e)||evaluateInteractionItems(r,t,e,function(O,D,R){!l&&!_isPointInArea(O,r.chartArea,0)||O.inRange(e.x,e.y,o)&&h.push({element:O,datasetIndex:D,index:R})},!0),h}function getNearestRadialItems(r,e,t,o){let l=[];function h(y,O,D){const{startAngle:R,endAngle:F}=y.getProps(["startAngle","endAngle"],o),{angle:B}=getAngleFromPoint(y,{x:e.x,y:e.y});_angleBetween(B,R,F)&&l.push({element:y,datasetIndex:O,index:D})}return evaluateInteractionItems(r,t,e,h),l}function getNearestCartesianItems(r,e,t,o,l,h){let y=[];const O=getDistanceMetricForAxis(t);let D=Number.POSITIVE_INFINITY;function R(F,B,j){const U=F.inRange(e.x,e.y,l);if(o&&!U)return;const W=F.getCenterPoint(l);if(!(!!h||r.isPointInArea(W))&&!U)return;const q=O(e,W);q<D?(y=[{element:F,datasetIndex:B,index:j}],D=q):q===D&&y.push({element:F,datasetIndex:B,index:j})}return evaluateInteractionItems(r,t,e,R),y}function getNearestItems(r,e,t,o,l,h){return!h&&!r.isPointInArea(e)?[]:t==="r"&&!o?getNearestRadialItems(r,e,t,l):getNearestCartesianItems(r,e,t,o,l,h)}function getAxisItems(r,e,t,o,l){const h=[],y=t==="x"?"inXRange":"inYRange";let O=!1;return evaluateInteractionItems(r,t,e,(D,R,F)=>{D[y](e[t],l)&&(h.push({element:D,datasetIndex:R,index:F}),O=O||D.inRange(e.x,e.y,l))}),o&&!O?[]:h}var Interaction={evaluateInteractionItems,modes:{index(r,e,t,o){const l=getRelativePosition(e,r),h=t.axis||"x",y=t.includeInvisible||!1,O=t.intersect?getIntersectItems(r,l,h,o,y):getNearestItems(r,l,h,!1,o,y),D=[];return O.length?(r.getSortedVisibleDatasetMetas().forEach(R=>{const F=O[0].index,B=R.data[F];B&&!B.skip&&D.push({element:B,datasetIndex:R.index,index:F})}),D):[]},dataset(r,e,t,o){const l=getRelativePosition(e,r),h=t.axis||"xy",y=t.includeInvisible||!1;let O=t.intersect?getIntersectItems(r,l,h,o,y):getNearestItems(r,l,h,!1,o,y);if(O.length>0){const D=O[0].datasetIndex,R=r.getDatasetMeta(D).data;O=[];for(let F=0;F<R.length;++F)O.push({element:R[F],datasetIndex:D,index:F})}return O},point(r,e,t,o){const l=getRelativePosition(e,r),h=t.axis||"xy",y=t.includeInvisible||!1;return getIntersectItems(r,l,h,o,y)},nearest(r,e,t,o){const l=getRelativePosition(e,r),h=t.axis||"xy",y=t.includeInvisible||!1;return getNearestItems(r,l,h,t.intersect,o,y)},x(r,e,t,o){const l=getRelativePosition(e,r);return getAxisItems(r,l,"x",t.intersect,o)},y(r,e,t,o){const l=getRelativePosition(e,r);return getAxisItems(r,l,"y",t.intersect,o)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(r,e){return r.filter(t=>t.pos===e)}function filterDynamicPositionByAxis(r,e){return r.filter(t=>STATIC_POSITIONS.indexOf(t.pos)===-1&&t.box.axis===e)}function sortByWeight(r,e){return r.sort((t,o)=>{const l=e?o:t,h=e?t:o;return l.weight===h.weight?l.index-h.index:l.weight-h.weight})}function wrapBoxes(r){const e=[];let t,o,l,h,y,O;for(t=0,o=(r||[]).length;t<o;++t)l=r[t],{position:h,options:{stack:y,stackWeight:O=1}}=l,e.push({index:t,box:l,pos:h,horizontal:l.isHorizontal(),weight:l.weight,stack:y&&h+y,stackWeight:O});return e}function buildStacks(r){const e={};for(const t of r){const{stack:o,pos:l,stackWeight:h}=t;if(!o||!STATIC_POSITIONS.includes(l))continue;const y=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=h}return e}function setLayoutDims(r,e){const t=buildStacks(r),{vBoxMaxWidth:o,hBoxMaxHeight:l}=e;let h,y,O;for(h=0,y=r.length;h<y;++h){O=r[h];const{fullSize:D}=O.box,R=t[O.stack],F=R&&O.stackWeight/R.weight;O.horizontal?(O.width=F?F*o:D&&e.availableWidth,O.height=l):(O.width=o,O.height=F?F*l:D&&e.availableHeight)}return t}function buildLayoutBoxes(r){const e=wrapBoxes(r),t=sortByWeight(e.filter(R=>R.box.fullSize),!0),o=sortByWeight(filterByPosition(e,"left"),!0),l=sortByWeight(filterByPosition(e,"right")),h=sortByWeight(filterByPosition(e,"top"),!0),y=sortByWeight(filterByPosition(e,"bottom")),O=filterDynamicPositionByAxis(e,"x"),D=filterDynamicPositionByAxis(e,"y");return{fullSize:t,leftAndTop:o.concat(h),rightAndBottom:l.concat(D).concat(y).concat(O),chartArea:filterByPosition(e,"chartArea"),vertical:o.concat(l).concat(D),horizontal:h.concat(y).concat(O)}}function getCombinedMax(r,e,t,o){return Math.max(r[t],e[t])+Math.max(r[o],e[o])}function updateMaxPadding(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function updateDims(r,e,t,o){const{pos:l,box:h}=t,y=r.maxPadding;if(!isObject$l(l)){t.size&&(r[l]-=t.size);const B=o[t.stack]||{size:0,count:1};B.size=Math.max(B.size,t.horizontal?h.height:h.width),t.size=B.size/B.count,r[l]+=t.size}h.getPadding&&updateMaxPadding(y,h.getPadding());const O=Math.max(0,e.outerWidth-getCombinedMax(y,r,"left","right")),D=Math.max(0,e.outerHeight-getCombinedMax(y,r,"top","bottom")),R=O!==r.w,F=D!==r.h;return r.w=O,r.h=D,t.horizontal?{same:R,other:F}:{same:F,other:R}}function handleMaxPadding(r){const e=r.maxPadding;function t(o){const l=Math.max(e[o]-r[o],0);return r[o]+=l,l}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function getMargins(r,e){const t=e.maxPadding;function o(l){const h={left:0,top:0,right:0,bottom:0};return l.forEach(y=>{h[y]=Math.max(e[y],t[y])}),h}return o(r?["left","right"]:["top","bottom"])}function fitBoxes(r,e,t,o){const l=[];let h,y,O,D,R,F;for(h=0,y=r.length,R=0;h<y;++h){O=r[h],D=O.box,D.update(O.width||e.w,O.height||e.h,getMargins(O.horizontal,e));const{same:B,other:j}=updateDims(e,t,O,o);R|=B&&l.length,F=F||j,D.fullSize||l.push(O)}return R&&fitBoxes(l,e,t,o)||F}function setBoxDims(r,e,t,o,l){r.top=t,r.left=e,r.right=e+o,r.bottom=t+l,r.width=o,r.height=l}function placeBoxes(r,e,t,o){const l=t.padding;let{x:h,y}=e;for(const O of r){const D=O.box,R=o[O.stack]||{count:1,placed:0,weight:1},F=O.stackWeight/R.weight||1;if(O.horizontal){const B=e.w*F,j=R.size||D.height;defined(R.start)&&(y=R.start),D.fullSize?setBoxDims(D,l.left,y,t.outerWidth-l.right-l.left,j):setBoxDims(D,e.left+R.placed,y,B,j),R.start=y,R.placed+=B,y=D.bottom}else{const B=e.h*F,j=R.size||D.width;defined(R.start)&&(h=R.start),D.fullSize?setBoxDims(D,h,l.top,j,t.outerHeight-l.bottom-l.top):setBoxDims(D,h,e.top+R.placed,j,B),R.start=h,R.placed+=B,h=D.right}}e.x=h,e.y=y}defaults$3.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var layouts={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,o){if(!r)return;const l=toPadding(r.options.layout.padding),h=Math.max(e-l.width,0),y=Math.max(t-l.height,0),O=buildLayoutBoxes(r.boxes),D=O.vertical,R=O.horizontal;each$2(r.boxes,G=>{typeof G.beforeLayout=="function"&&G.beforeLayout()});const F=D.reduce((G,q)=>q.box.options&&q.box.options.display===!1?G:G+1,0)||1,B=Object.freeze({outerWidth:e,outerHeight:t,padding:l,availableWidth:h,availableHeight:y,vBoxMaxWidth:h/2/F,hBoxMaxHeight:y/2}),j=Object.assign({},l);updateMaxPadding(j,toPadding(o));const U=Object.assign({maxPadding:j,w:h,h:y,x:l.left,y:l.top},l),W=setLayoutDims(D.concat(R),B);fitBoxes(O.fullSize,U,B,W),fitBoxes(D,U,B,W),fitBoxes(R,U,B,W)&&fitBoxes(D,U,B,W),handleMaxPadding(U),placeBoxes(O.leftAndTop,U,B,W),U.x+=U.w,U.y+=U.h,placeBoxes(O.rightAndBottom,U,B,W),r.chartArea={left:U.left,top:U.top,right:U.left+U.w,bottom:U.top+U.h,height:U.h,width:U.w},each$2(O.chartArea,G=>{const q=G.box;Object.assign(q,r.chartArea),q.update(U.w,U.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,o){}removeEventListener(e,t,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,o,l){return t=Math.max(0,t||e.width),o=o||e.height,{width:t,height:Math.max(0,l?Math.floor(t/l):o)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY$1="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=r=>r===null||r==="";function initCanvas(r,e){const t=r.style,o=r.getAttribute("height"),l=r.getAttribute("width");if(r[EXPANDO_KEY$1]={initial:{height:o,width:l,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",isNullOrEmpty(l)){const h=readUsedSize(r,"width");h!==void 0&&(r.width=h)}if(isNullOrEmpty(o))if(r.style.height==="")r.height=r.width/(e||2);else{const h=readUsedSize(r,"height");h!==void 0&&(r.height=h)}return r}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(r,e,t){r.addEventListener(e,t,eventListenerOptions)}function removeListener(r,e,t){r.canvas.removeEventListener(e,t,eventListenerOptions)}function fromNativeEvent(r,e){const t=EVENT_TYPES[r.type]||r.type,{x:o,y:l}=getRelativePosition(r,e);return{type:t,chart:e,native:r,x:o!==void 0?o:null,y:l!==void 0?l:null}}function nodeListContains(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function createAttachObserver(r,e,t){const o=r.canvas,l=new MutationObserver(h=>{let y=!1;for(const O of h)y=y||nodeListContains(O.addedNodes,o),y=y&&!nodeListContains(O.removedNodes,o);y&&t()});return l.observe(document,{childList:!0,subtree:!0}),l}function createDetachObserver(r,e,t){const o=r.canvas,l=new MutationObserver(h=>{let y=!1;for(const O of h)y=y||nodeListContains(O.removedNodes,o),y=y&&!nodeListContains(O.addedNodes,o);y&&t()});return l.observe(document,{childList:!0,subtree:!0}),l}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const r=window.devicePixelRatio;r!==oldDevicePixelRatio&&(oldDevicePixelRatio=r,drpListeningCharts.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function listenDevicePixelRatioChanges(r,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(r,e)}function unlistenDevicePixelRatioChanges(r){drpListeningCharts.delete(r),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(r,e,t){const o=r.canvas,l=o&&_getParentNode(o);if(!l)return;const h=throttled((O,D)=>{const R=l.clientWidth;t(O,D),R<l.clientWidth&&t()},window),y=new ResizeObserver(O=>{const D=O[0],R=D.contentRect.width,F=D.contentRect.height;R===0&&F===0||h(R,F)});return y.observe(l),listenDevicePixelRatioChanges(r,h),y}function releaseObserver(r,e,t){t&&t.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(r)}function createProxyAndListen(r,e,t){const o=r.canvas,l=throttled(h=>{r.ctx!==null&&t(fromNativeEvent(h,r))},r,h=>{const y=h[0];return[y,y.offsetX,y.offsetY]});return addListener(o,e,l),l}class DomPlatform extends BasePlatform{acquireContext(e,t){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(initCanvas(e,t),o):null}releaseContext(e){const t=e.canvas;if(!t[EXPANDO_KEY$1])return!1;const o=t[EXPANDO_KEY$1].initial;["height","width"].forEach(h=>{const y=o[h];isNullOrUndef(y)?t.removeAttribute(h):t.setAttribute(h,y)});const l=o.style||{};return Object.keys(l).forEach(h=>{t.style[h]=l[h]}),t.width=t.width,delete t[EXPANDO_KEY$1],!0}addEventListener(e,t,o){this.removeEventListener(e,t);const l=e.$proxies||(e.$proxies={}),y={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[t]||createProxyAndListen;l[t]=y(e,t,o)}removeEventListener(e,t){const o=e.$proxies||(e.$proxies={}),l=o[t];if(!l)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[t]||removeListener)(e,t,l),o[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,o,l){return getMaximumSize(e,t,o,l)}isAttached(e){const t=_getParentNode(e);return!!(t&&t.isConnected)}}function _detectPlatform(r){return!_isDomSupported()||typeof OffscreenCanvas!="undefined"&&r instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element$1{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:o}=this.getProps(["x","y"],e);return{x:t,y:o}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,t){const o=this.$animations;if(!t||!o)return this;const l={};return e.forEach(h=>{l[h]=o[h]&&o[h].active()?o[h]._to:this[h]}),l}}Element$1.defaults={};Element$1.defaultRoutes=void 0;const formatters$4={values(r){return isArray$f(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const o=this.chart.options.locale;let l,h=r;if(t.length>1){const R=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(R<1e-4||R>1e15)&&(l="scientific"),h=calculateDelta(r,t)}const y=log10(Math.abs(h)),O=Math.max(Math.min(-1*Math.floor(y),20),0),D={notation:l,minimumFractionDigits:O,maximumFractionDigits:O};return Object.assign(D,this.options.ticks.format),formatNumber(r,o,D)},logarithmic(r,e,t){if(r===0)return"0";const o=r/Math.pow(10,Math.floor(log10(r)));return o===1||o===2||o===5?formatters$4.numeric.call(this,r,e,t):""}};function calculateDelta(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var Ticks={formatters:formatters$4};defaults$3.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,e)=>e.lineWidth,tickColor:(r,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});defaults$3.route("scale.ticks","color","","color");defaults$3.route("scale.grid","color","","borderColor");defaults$3.route("scale.grid","borderColor","","borderColor");defaults$3.route("scale.title","color","","color");defaults$3.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&r!=="callback"&&r!=="parser",_indexable:r=>r!=="borderDash"&&r!=="tickBorderDash"});defaults$3.describe("scales",{_fallback:"scale"});defaults$3.describe("scale.ticks",{_scriptable:r=>r!=="backdropPadding"&&r!=="callback",_indexable:r=>r!=="backdropPadding"});function autoSkip(r,e){const t=r.options.ticks,o=t.maxTicksLimit||determineMaxTicks(r),l=t.major.enabled?getMajorIndices(e):[],h=l.length,y=l[0],O=l[h-1],D=[];if(h>o)return skipMajors(e,D,l,h/o),D;const R=calculateSpacing(l,e,o);if(h>0){let F,B;const j=h>1?Math.round((O-y)/(h-1)):null;for(skip(e,D,R,isNullOrUndef(j)?0:y-j,y),F=0,B=h-1;F<B;F++)skip(e,D,R,l[F],l[F+1]);return skip(e,D,R,O,isNullOrUndef(j)?e.length:O+j),D}return skip(e,D,R),D}function determineMaxTicks(r){const e=r.options.offset,t=r._tickSize(),o=r._length/t+(e?0:1),l=r._maxLength/t;return Math.floor(Math.min(o,l))}function calculateSpacing(r,e,t){const o=getEvenSpacing(r),l=e.length/t;if(!o)return Math.max(l,1);const h=_factorize(o);for(let y=0,O=h.length-1;y<O;y++){const D=h[y];if(D>l)return D}return Math.max(l,1)}function getMajorIndices(r){const e=[];let t,o;for(t=0,o=r.length;t<o;t++)r[t].major&&e.push(t);return e}function skipMajors(r,e,t,o){let l=0,h=t[0],y;for(o=Math.ceil(o),y=0;y<r.length;y++)y===h&&(e.push(r[y]),l++,h=t[l*o])}function skip(r,e,t,o,l){const h=valueOrDefault(o,0),y=Math.min(valueOrDefault(l,r.length),r.length);let O=0,D,R,F;for(t=Math.ceil(t),l&&(D=l-o,t=D/Math.floor(D/t)),F=h;F<0;)O++,F=Math.round(h+O*t);for(R=Math.max(h,0);R<y;R++)R===F&&(e.push(r[R]),O++,F=Math.round(h+O*t))}function getEvenSpacing(r){const e=r.length;let t,o;if(e<2)return!1;for(o=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==o)return!1;return o}const reverseAlign=r=>r==="left"?"right":r==="right"?"left":r,offsetFromEdge=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t;function sample(r,e){const t=[],o=r.length/e,l=r.length;let h=0;for(;h<l;h+=o)t.push(r[Math.floor(h)]);return t}function getPixelForGridLine(r,e,t){const o=r.ticks.length,l=Math.min(e,o-1),h=r._startPixel,y=r._endPixel,O=1e-6;let D=r.getPixelForTick(l),R;if(!(t&&(o===1?R=Math.max(D-h,y-D):e===0?R=(r.getPixelForTick(1)-D)/2:R=(D-r.getPixelForTick(l-1))/2,D+=l<e?R:-R,D<h-O||D>y+O)))return D}function garbageCollect(r,e){each$2(r,t=>{const o=t.gc,l=o.length/2;let h;if(l>e){for(h=0;h<l;++h)delete t.data[o[h]];o.splice(0,l)}})}function getTickMarkLength(r){return r.drawTicks?r.tickLength:0}function getTitleHeight(r,e){if(!r.display)return 0;const t=toFont(r.font,e),o=toPadding(r.padding);return(isArray$f(r.text)?r.text.length:1)*t.lineHeight+o.height}function createScaleContext(r,e){return createContext(r,{scale:e,type:"scale"})}function createTickContext(r,e,t){return createContext(r,{tick:t,index:e,type:"tick"})}function titleAlign(r,e,t){let o=_toLeftRightCenter(r);return(t&&e!=="right"||!t&&e==="right")&&(o=reverseAlign(o)),o}function titleArgs(r,e,t,o){const{top:l,left:h,bottom:y,right:O,chart:D}=r,{chartArea:R,scales:F}=D;let B=0,j,U,W;const G=y-l,q=O-h;if(r.isHorizontal()){if(U=_alignStartEnd(o,h,O),isObject$l(t)){const K=Object.keys(t)[0],Y=t[K];W=F[K].getPixelForValue(Y)+G-e}else t==="center"?W=(R.bottom+R.top)/2+G-e:W=offsetFromEdge(r,t,e);j=O-h}else{if(isObject$l(t)){const K=Object.keys(t)[0],Y=t[K];U=F[K].getPixelForValue(Y)-q+e}else t==="center"?U=(R.left+R.right)/2-q+e:U=offsetFromEdge(r,t,e);W=_alignStartEnd(o,y,l),B=t==="left"?-HALF_PI:HALF_PI}return{titleX:U,titleY:W,maxWidth:j,rotation:B}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:o,_suggestedMax:l}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),t=finiteOrDefault(t,Number.NEGATIVE_INFINITY),o=finiteOrDefault(o,Number.POSITIVE_INFINITY),l=finiteOrDefault(l,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,o),max:finiteOrDefault(t,l),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(t)}}getMinMax(e){let{min:t,max:o,minDefined:l,maxDefined:h}=this.getUserBounds(),y;if(l&&h)return{min:t,max:o};const O=this.getMatchingVisibleMetas();for(let D=0,R=O.length;D<R;++D)y=O[D].controller.getMinMax(this,e),l||(t=Math.min(t,y.min)),h||(o=Math.max(o,y.max));return t=h&&t>o?o:t,o=l&&t>o?t:o,{min:finiteOrDefault(t,finiteOrDefault(o,t)),max:finiteOrDefault(o,finiteOrDefault(t,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,t,o){const{beginAtZero:l,grace:h,ticks:y}=this.options,O=y.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,h,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const D=O<this.ticks.length;this._convertTicksToLabels(D?sample(this.ticks,O):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||y.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),D&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,o;this.isHorizontal()?(t=this.left,o=this.right):(t=this.top,o=this.bottom,e=!e),this._startPixel=t,this._endPixel=o,this._reversePixels=e,this._length=o-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let o,l,h;for(o=0,l=e.length;o<l;o++)h=e[o],h.label=callback(t.callback,[h.value,o,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,o=this.ticks.length,l=t.minRotation||0,h=t.maxRotation;let y=l,O,D,R;if(!this._isVisible()||!t.display||l>=h||o<=1||!this.isHorizontal()){this.labelRotation=l;return}const F=this._getLabelSizes(),B=F.widest.width,j=F.highest.height,U=_limitValue(this.chart.width-B,0,this.maxWidth);O=e.offset?this.maxWidth/o:U/(o-1),B+6>O&&(O=U/(o-(e.offset?.5:1)),D=this.maxHeight-getTickMarkLength(e.grid)-t.padding-getTitleHeight(e.title,this.chart.options.font),R=Math.sqrt(B*B+j*j),y=toDegrees(Math.min(Math.asin(_limitValue((F.highest.height+6)/O,-1,1)),Math.asin(_limitValue(D/R,-1,1))-Math.asin(_limitValue(j/R,-1,1)))),y=Math.max(l,Math.min(h,y))),this.labelRotation=y}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:o,title:l,grid:h}}=this,y=this._isVisible(),O=this.isHorizontal();if(y){const D=getTitleHeight(l,t.options.font);if(O?(e.width=this.maxWidth,e.height=getTickMarkLength(h)+D):(e.height=this.maxHeight,e.width=getTickMarkLength(h)+D),o.display&&this.ticks.length){const{first:R,last:F,widest:B,highest:j}=this._getLabelSizes(),U=o.padding*2,W=toRadians(this.labelRotation),G=Math.cos(W),q=Math.sin(W);if(O){const K=o.mirror?0:q*B.width+G*j.height;e.height=Math.min(this.maxHeight,e.height+K+U)}else{const K=o.mirror?0:G*B.width+q*j.height;e.width=Math.min(this.maxWidth,e.width+K+U)}this._calculatePadding(R,F,q,G)}}this._handleMargins(),O?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,o,l){const{ticks:{align:h,padding:y},position:O}=this.options,D=this.labelRotation!==0,R=O!=="top"&&this.axis==="x";if(this.isHorizontal()){const F=this.getPixelForTick(0)-this.left,B=this.right-this.getPixelForTick(this.ticks.length-1);let j=0,U=0;D?R?(j=l*e.width,U=o*t.height):(j=o*e.height,U=l*t.width):h==="start"?U=t.width:h==="end"?j=e.width:h!=="inner"&&(j=e.width/2,U=t.width/2),this.paddingLeft=Math.max((j-F+y)*this.width/(this.width-F),0),this.paddingRight=Math.max((U-B+y)*this.width/(this.width-B),0)}else{let F=t.height/2,B=e.height/2;h==="start"?(F=0,B=e.height):h==="end"&&(F=t.height,B=0),this.paddingTop=F+y,this.paddingBottom=B+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,o;for(t=0,o=e.length;t<o;t++)isNullOrUndef(e[t].label)&&(e.splice(t,1),o--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let o=this.ticks;t<o.length&&(o=sample(o,t)),this._labelSizes=e=this._computeLabelSizes(o,o.length)}return e}_computeLabelSizes(e,t){const{ctx:o,_longestTextCache:l}=this,h=[],y=[];let O=0,D=0,R,F,B,j,U,W,G,q,K,Y,X;for(R=0;R<t;++R){if(j=e[R].label,U=this._resolveTickFontOptions(R),o.font=W=U.string,G=l[W]=l[W]||{data:{},gc:[]},q=U.lineHeight,K=Y=0,!isNullOrUndef(j)&&!isArray$f(j))K=_measureText(o,G.data,G.gc,K,j),Y=q;else if(isArray$f(j))for(F=0,B=j.length;F<B;++F)X=j[F],!isNullOrUndef(X)&&!isArray$f(X)&&(K=_measureText(o,G.data,G.gc,K,X),Y+=q);h.push(K),y.push(Y),O=Math.max(K,O),D=Math.max(Y,D)}garbageCollect(l,t);const J=h.indexOf(O),Q=y.indexOf(D),Z=ee=>({width:h[ee]||0,height:y[ee]||0});return{first:Z(0),last:Z(t-1),widest:Z(J),highest:Z(Q),widths:h,heights:y}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const o=t[e];return o.$context||(o.$context=createTickContext(this.getContext(),e,o))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=toRadians(this.labelRotation),o=Math.abs(Math.cos(t)),l=Math.abs(Math.sin(t)),h=this._getLabelSizes(),y=e.autoSkipPadding||0,O=h?h.widest.width+y:0,D=h?h.highest.height+y:0;return this.isHorizontal()?D*o>O*l?O/o:D/l:D*l<O*o?D/o:O/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,o=this.chart,l=this.options,{grid:h,position:y}=l,O=h.offset,D=this.isHorizontal(),F=this.ticks.length+(O?1:0),B=getTickMarkLength(h),j=[],U=h.setContext(this.getContext()),W=U.drawBorder?U.borderWidth:0,G=W/2,q=function(he){return _alignPixel(o,he,W)};let K,Y,X,J,Q,Z,ee,te,re,ie,ne,se;if(y==="top")K=q(this.bottom),Z=this.bottom-B,te=K-G,ie=q(e.top)+G,se=e.bottom;else if(y==="bottom")K=q(this.top),ie=e.top,se=q(e.bottom)-G,Z=K+G,te=this.top+B;else if(y==="left")K=q(this.right),Q=this.right-B,ee=K-G,re=q(e.left)+G,ne=e.right;else if(y==="right")K=q(this.left),re=e.left,ne=q(e.right)-G,Q=K+G,ee=this.left+B;else if(t==="x"){if(y==="center")K=q((e.top+e.bottom)/2+.5);else if(isObject$l(y)){const he=Object.keys(y)[0],pe=y[he];K=q(this.chart.scales[he].getPixelForValue(pe))}ie=e.top,se=e.bottom,Z=K+G,te=Z+B}else if(t==="y"){if(y==="center")K=q((e.left+e.right)/2);else if(isObject$l(y)){const he=Object.keys(y)[0],pe=y[he];K=q(this.chart.scales[he].getPixelForValue(pe))}Q=K-G,ee=Q-B,re=e.left,ne=e.right}const ce=valueOrDefault(l.ticks.maxTicksLimit,F),ue=Math.max(1,Math.ceil(F/ce));for(Y=0;Y<F;Y+=ue){const he=h.setContext(this.getContext(Y)),pe=he.lineWidth,oe=he.color,ae=h.borderDash||[],le=he.borderDashOffset,me=he.tickWidth,ge=he.tickColor,fe=he.tickBorderDash||[],_e=he.tickBorderDashOffset;X=getPixelForGridLine(this,Y,O),X!==void 0&&(J=_alignPixel(o,X,pe),D?Q=ee=re=ne=J:Z=te=ie=se=J,j.push({tx1:Q,ty1:Z,tx2:ee,ty2:te,x1:re,y1:ie,x2:ne,y2:se,width:pe,color:oe,borderDash:ae,borderDashOffset:le,tickWidth:me,tickColor:ge,tickBorderDash:fe,tickBorderDashOffset:_e}))}return this._ticksLength=F,this._borderValue=K,j}_computeLabelItems(e){const t=this.axis,o=this.options,{position:l,ticks:h}=o,y=this.isHorizontal(),O=this.ticks,{align:D,crossAlign:R,padding:F,mirror:B}=h,j=getTickMarkLength(o.grid),U=j+F,W=B?-F:U,G=-toRadians(this.labelRotation),q=[];let K,Y,X,J,Q,Z,ee,te,re,ie,ne,se,ce="middle";if(l==="top")Z=this.bottom-W,ee=this._getXAxisLabelAlignment();else if(l==="bottom")Z=this.top+W,ee=this._getXAxisLabelAlignment();else if(l==="left"){const he=this._getYAxisLabelAlignment(j);ee=he.textAlign,Q=he.x}else if(l==="right"){const he=this._getYAxisLabelAlignment(j);ee=he.textAlign,Q=he.x}else if(t==="x"){if(l==="center")Z=(e.top+e.bottom)/2+U;else if(isObject$l(l)){const he=Object.keys(l)[0],pe=l[he];Z=this.chart.scales[he].getPixelForValue(pe)+U}ee=this._getXAxisLabelAlignment()}else if(t==="y"){if(l==="center")Q=(e.left+e.right)/2-U;else if(isObject$l(l)){const he=Object.keys(l)[0],pe=l[he];Q=this.chart.scales[he].getPixelForValue(pe)}ee=this._getYAxisLabelAlignment(j).textAlign}t==="y"&&(D==="start"?ce="top":D==="end"&&(ce="bottom"));const ue=this._getLabelSizes();for(K=0,Y=O.length;K<Y;++K){X=O[K],J=X.label;const he=h.setContext(this.getContext(K));te=this.getPixelForTick(K)+h.labelOffset,re=this._resolveTickFontOptions(K),ie=re.lineHeight,ne=isArray$f(J)?J.length:1;const pe=ne/2,oe=he.color,ae=he.textStrokeColor,le=he.textStrokeWidth;let me=ee;y?(Q=te,ee==="inner"&&(K===Y-1?me=this.options.reverse?"left":"right":K===0?me=this.options.reverse?"right":"left":me="center"),l==="top"?R==="near"||G!==0?se=-ne*ie+ie/2:R==="center"?se=-ue.highest.height/2-pe*ie+ie:se=-ue.highest.height+ie/2:R==="near"||G!==0?se=ie/2:R==="center"?se=ue.highest.height/2-pe*ie:se=ue.highest.height-ne*ie,B&&(se*=-1)):(Z=te,se=(1-ne)*ie/2);let ge;if(he.showLabelBackdrop){const fe=toPadding(he.backdropPadding),_e=ue.heights[K],we=ue.widths[K];let ve=Z+se-fe.top,Se=Q-fe.left;switch(ce){case"middle":ve-=_e/2;break;case"bottom":ve-=_e;break}switch(ee){case"center":Se-=we/2;break;case"right":Se-=we;break}ge={left:Se,top:ve,width:we+fe.width,height:_e+fe.height,color:he.backdropColor}}q.push({rotation:G,label:J,font:re,color:oe,strokeColor:ae,strokeWidth:le,textOffset:se,textAlign:me,textBaseline:ce,translation:[Q,Z],backdrop:ge})}return q}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let l="center";return t.align==="start"?l="left":t.align==="end"?l="right":t.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:o,mirror:l,padding:h}}=this.options,y=this._getLabelSizes(),O=e+h,D=y.widest.width;let R,F;return t==="left"?l?(F=this.right+h,o==="near"?R="left":o==="center"?(R="center",F+=D/2):(R="right",F+=D)):(F=this.right-O,o==="near"?R="right":o==="center"?(R="center",F-=D/2):(R="left",F=this.left)):t==="right"?l?(F=this.left+h,o==="near"?R="right":o==="center"?(R="center",F-=D/2):(R="left",F-=D)):(F=this.left+O,o==="near"?R="left":o==="center"?(R="center",F+=D/2):(R="right",F=this.right)):R="right",{textAlign:R,x:F}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:o,top:l,width:h,height:y}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(o,l,h,y),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const l=this.ticks.findIndex(h=>h.value===e);return l>=0?t.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const t=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let h,y;const O=(D,R,F)=>{!F.width||!F.color||(o.save(),o.lineWidth=F.width,o.strokeStyle=F.color,o.setLineDash(F.borderDash||[]),o.lineDashOffset=F.borderDashOffset,o.beginPath(),o.moveTo(D.x,D.y),o.lineTo(R.x,R.y),o.stroke(),o.restore())};if(t.display)for(h=0,y=l.length;h<y;++h){const D=l[h];t.drawOnChartArea&&O({x:D.x1,y:D.y1},{x:D.x2,y:D.y2},D),t.drawTicks&&O({x:D.tx1,y:D.ty1},{x:D.tx2,y:D.ty2},{color:D.tickColor,width:D.tickWidth,borderDash:D.tickBorderDash,borderDashOffset:D.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:o}}=this,l=o.setContext(this.getContext()),h=o.drawBorder?l.borderWidth:0;if(!h)return;const y=o.setContext(this.getContext(0)).lineWidth,O=this._borderValue;let D,R,F,B;this.isHorizontal()?(D=_alignPixel(e,this.left,h)-h/2,R=_alignPixel(e,this.right,y)+y/2,F=B=O):(F=_alignPixel(e,this.top,h)-h/2,B=_alignPixel(e,this.bottom,y)+y/2,D=R=O),t.save(),t.lineWidth=l.borderWidth,t.strokeStyle=l.borderColor,t.beginPath(),t.moveTo(D,F),t.lineTo(R,B),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&clipArea(o,l);const h=this._labelItems||(this._labelItems=this._computeLabelItems(e));let y,O;for(y=0,O=h.length;y<O;++y){const D=h[y],R=D.font,F=D.label;D.backdrop&&(o.fillStyle=D.backdrop.color,o.fillRect(D.backdrop.left,D.backdrop.top,D.backdrop.width,D.backdrop.height));let B=D.textOffset;renderText(o,F,0,B,R,D)}l&&unclipArea(o)}drawTitle(){const{ctx:e,options:{position:t,title:o,reverse:l}}=this;if(!o.display)return;const h=toFont(o.font),y=toPadding(o.padding),O=o.align;let D=h.lineHeight/2;t==="bottom"||t==="center"||isObject$l(t)?(D+=y.bottom,isArray$f(o.text)&&(D+=h.lineHeight*(o.text.length-1))):D+=y.top;const{titleX:R,titleY:F,maxWidth:B,rotation:j}=titleArgs(this,D,t,O);renderText(e,o.text,0,0,h,{color:o.color,maxWidth:B,rotation:j,textAlign:titleAlign(O,t,l),textBaseline:"middle",translation:[R,F]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,o=valueOrDefault(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:t,draw:l=>{this.draw(l)}}]:[{z:o,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o+1,draw:()=>{this.drawBorder()}},{z:t,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let h,y;for(h=0,y=t.length;h<y;++h){const O=t[h];O[o]===this.id&&(!e||O.type===e)&&l.push(O)}return l}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return toFont(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,t,o){this.type=e,this.scope=t,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let o;isIChartComponent(t)&&(o=this.register(t));const l=this.items,h=e.id,y=this.scope+"."+h;if(!h)throw new Error("class does not have id: "+e);return h in l||(l[h]=e,registerDefaults(e,y,o),this.override&&defaults$3.override(e.id,e.overrides)),y}get(e){return this.items[e]}unregister(e){const t=this.items,o=e.id,l=this.scope;o in t&&delete t[o],l&&o in defaults$3[l]&&(delete defaults$3[l][o],this.override&&delete overrides[o])}}function registerDefaults(r,e,t){const o=merge$4(Object.create(null),[t?defaults$3.get(t):{},defaults$3.get(e),r.defaults]);defaults$3.set(e,o),r.defaultRoutes&&routeDefaults(e,r.defaultRoutes),r.descriptors&&defaults$3.describe(e,r.descriptors)}function routeDefaults(r,e){Object.keys(e).forEach(t=>{const o=t.split("."),l=o.pop(),h=[r].concat(o).join("."),y=e[t].split("."),O=y.pop(),D=y.join(".");defaults$3.route(h,l,D,O)})}function isIChartComponent(r){return"id"in r&&"defaults"in r}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,o){[...t].forEach(l=>{const h=o||this._getRegistryForType(l);o||h.isForType(l)||h===this.plugins&&l.id?this._exec(e,h,l):each$2(l,y=>{const O=o||this._getRegistryForType(y);this._exec(e,O,y)})})}_exec(e,t,o){const l=_capitalize(e);callback(o["before"+l],[],o),t[e](o),callback(o["after"+l],[],o)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const o=this._typedRegistries[t];if(o.isForType(e))return o}return this.plugins}_get(e,t,o){const l=t.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return l}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,t,o,l){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const h=l?this._descriptors(e).filter(l):this._descriptors(e),y=this._notify(h,e,t,o);return t==="afterDestroy"&&(this._notify(h,e,"stop"),this._notify(this._init,e,"uninstall")),y}_notify(e,t,o,l){l=l||{};for(const h of e){const y=h.plugin,O=y[o],D=[t,l,h.options];if(callback(O,D,y)===!1&&l.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const o=e&&e.config,l=valueOrDefault(o.options&&o.options.plugins,{}),h=allPlugins(o);return l===!1&&!t?[]:createDescriptors(e,h,l,t)}_notifyStateChanges(e){const t=this._oldCache||[],o=this._cache,l=(h,y)=>h.filter(O=>!y.some(D=>O.plugin.id===D.plugin.id));this._notify(l(t,o),e,"stop"),this._notify(l(o,t),e,"start")}}function allPlugins(r){const e=[],t=Object.keys(registry.plugins.items);for(let l=0;l<t.length;l++)e.push(registry.getPlugin(t[l]));const o=r.plugins||[];for(let l=0;l<o.length;l++){const h=o[l];e.indexOf(h)===-1&&e.push(h)}return e}function getOpts(r,e){return!e&&r===!1?null:r===!0?{}:r}function createDescriptors(r,e,t,o){const l=[],h=r.getContext();for(let y=0;y<e.length;y++){const O=e[y],D=O.id,R=getOpts(t[D],o);R!==null&&l.push({plugin:O,options:pluginOpts(r.config,O,R,h)})}return l}function pluginOpts(r,e,t,o){const l=r.pluginScopeKeys(e),h=r.getOptionScopes(t,l);return r.createResolver(h,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(r,e){const t=defaults$3.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function getAxisFromDefaultScaleID(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function getDefaultScaleIDFromAxis(r,e){return r===e?"_index_":"_value_"}function axisFromPosition(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function determineAxis(r,e){return r==="x"||r==="y"?r:e.axis||axisFromPosition(e.position)||r.charAt(0).toLowerCase()}function mergeScaleConfig(r,e){const t=overrides[r.type]||{scales:{}},o=e.scales||{},l=getIndexAxis(r.type,e),h=Object.create(null),y=Object.create(null);return Object.keys(o).forEach(O=>{const D=o[O];if(!isObject$l(D))return console.error(`Invalid scale configuration for scale: ${O}`);if(D._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${O}`);const R=determineAxis(O,D),F=getDefaultScaleIDFromAxis(R,l),B=t.scales||{};h[R]=h[R]||O,y[O]=mergeIf(Object.create(null),[{axis:R},D,B[R],B[F]])}),r.data.datasets.forEach(O=>{const D=O.type||r.type,R=O.indexAxis||getIndexAxis(D,e),B=(overrides[D]||{}).scales||{};Object.keys(B).forEach(j=>{const U=getAxisFromDefaultScaleID(j,R),W=O[U+"AxisID"]||h[U]||U;y[W]=y[W]||Object.create(null),mergeIf(y[W],[{axis:U},o[W],B[j]])})}),Object.keys(y).forEach(O=>{const D=y[O];mergeIf(D,[defaults$3.scales[D.type],defaults$3.scale])}),y}function initOptions(r){const e=r.options||(r.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(r,e)}function initData(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function initConfig(r){return r=r||{},r.data=initData(r.data),initOptions(r),r}const keyCache=new Map,keysCached=new Set;function cachedKeys(r,e){let t=keyCache.get(r);return t||(t=e(),keyCache.set(r,t),keysCached.add(t)),t}const addIfFound=(r,e,t)=>{const o=resolveObjectKey(e,t);o!==void 0&&r.add(o)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return cachedKeys(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return cachedKeys(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,o=this.type;return cachedKeys(`${o}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const o=this._scopeCache;let l=o.get(e);return(!l||t)&&(l=new Map,o.set(e,l)),l}getOptionScopes(e,t,o){const{options:l,type:h}=this,y=this._cachedScopes(e,o),O=y.get(t);if(O)return O;const D=new Set;t.forEach(F=>{e&&(D.add(e),F.forEach(B=>addIfFound(D,e,B))),F.forEach(B=>addIfFound(D,l,B)),F.forEach(B=>addIfFound(D,overrides[h]||{},B)),F.forEach(B=>addIfFound(D,defaults$3,B)),F.forEach(B=>addIfFound(D,descriptors$2,B))});const R=Array.from(D);return R.length===0&&R.push(Object.create(null)),keysCached.has(t)&&y.set(t,R),R}chartOptionScopes(){const{options:e,type:t}=this;return[e,overrides[t]||{},defaults$3.datasets[t]||{},{type:t},defaults$3,descriptors$2]}resolveNamedOptions(e,t,o,l=[""]){const h={$shared:!0},{resolver:y,subPrefixes:O}=getResolver(this._resolverCache,e,l);let D=y;if(needContext(y,t)){h.$shared=!1,o=isFunction(o)?o():o;const R=this.createResolver(e,o,O);D=_attachContext(y,o,R)}for(const R of t)h[R]=D[R];return h}createResolver(e,t,o=[""],l){const{resolver:h}=getResolver(this._resolverCache,e,o);return isObject$l(t)?_attachContext(h,t,void 0,l):h}}function getResolver(r,e,t){let o=r.get(e);o||(o=new Map,r.set(e,o));const l=t.join();let h=o.get(l);return h||(h={resolver:_createResolver(e,t),subPrefixes:t.filter(O=>!O.toLowerCase().includes("hover"))},o.set(l,h)),h}const hasFunction=r=>isObject$l(r)&&Object.getOwnPropertyNames(r).reduce((e,t)=>e||isFunction(r[t]),!1);function needContext(r,e){const{isScriptable:t,isIndexable:o}=_descriptors(r);for(const l of e){const h=t(l),y=o(l),O=(y||h)&&r[l];if(h&&(isFunction(O)||hasFunction(O))||y&&isArray$f(O))return!0}return!1}var version$2="3.8.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(r,e){return r==="top"||r==="bottom"||KNOWN_POSITIONS.indexOf(r)===-1&&e==="x"}function compare2Level(r,e){return function(t,o){return t[r]===o[r]?t[e]-o[e]:t[r]-o[r]}}function onAnimationsComplete(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),callback(t&&t.onComplete,[r],e)}function onAnimationProgress(r){const e=r.chart,t=e.options.animation;callback(t&&t.onProgress,[r],e)}function getCanvas(r){return _isDomSupported()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const instances={},getChart=r=>{const e=getCanvas(r);return Object.values(instances).filter(t=>t.canvas===e).pop()};function moveNumericKeys(r,e,t){const o=Object.keys(r);for(const l of o){const h=+l;if(h>=e){const y=r[l];delete r[l],(t>0||h>e)&&(r[h+t]=y)}}}function determineLastEvent(r,e,t,o){return!t||r.type==="mouseout"?null:o?e:r}class Chart{constructor(e,t){const o=this.config=new Config(t),l=getCanvas(e),h=getChart(l);if(h)throw new Error("Canvas is already in use. Chart with ID '"+h.id+"' must be destroyed before the canvas can be reused.");const y=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_detectPlatform(l)),this.platform.updateConfig(o);const O=this.platform.acquireContext(l,y.aspectRatio),D=O&&O.canvas,R=D&&D.height,F=D&&D.width;if(this.id=uid$6(),this.ctx=O,this.canvas=D,this.width=F,this.height=R,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(B=>this.update(B),y.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!O||!D){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:o,height:l,_aspectRatio:h}=this;return isNullOrUndef(e)?t&&h?h:l?o/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,t){animator.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const o=this.options,l=this.canvas,h=o.maintainAspectRatio&&this.aspectRatio,y=this.platform.getMaximumSize(l,e,t,h),O=o.devicePixelRatio||this.platform.getDevicePixelRatio(),D=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,retinaScale(this,O,!0)&&(this.notifyPlugins("resize",{size:y}),callback(o.onResize,[this,y],this),this.attached&&this._doResize(D)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};each$2(t,(o,l)=>{o.id=l})}buildOrUpdateScales(){const e=this.options,t=e.scales,o=this.scales,l=Object.keys(o).reduce((y,O)=>(y[O]=!1,y),{});let h=[];t&&(h=h.concat(Object.keys(t).map(y=>{const O=t[y],D=determineAxis(y,O),R=D==="r",F=D==="x";return{options:O,dposition:R?"chartArea":F?"bottom":"left",dtype:R?"radialLinear":F?"category":"linear"}}))),each$2(h,y=>{const O=y.options,D=O.id,R=determineAxis(D,O),F=valueOrDefault(O.type,y.dtype);(O.position===void 0||positionIsHorizontal(O.position,R)!==positionIsHorizontal(y.dposition))&&(O.position=y.dposition),l[D]=!0;let B=null;if(D in o&&o[D].type===F)B=o[D];else{const j=registry.getScale(F);B=new j({id:D,type:F,ctx:this.ctx,chart:this}),o[B.id]=B}B.init(O,e)}),each$2(l,(y,O)=>{y||delete o[O]}),each$2(o,y=>{layouts.configure(this,y,y.options),layouts.addBox(this,y)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,o=e.length;if(e.sort((l,h)=>l.index-h.index),o>t){for(let l=t;l<o;++l)this._destroyDatasetMeta(l);e.splice(t,o-t)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((o,l)=>{t.filter(h=>h===o._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=t.length;o<l;o++){const h=t[o];let y=this.getDatasetMeta(o);const O=h.type||this.config.type;if(y.type&&y.type!==O&&(this._destroyDatasetMeta(o),y=this.getDatasetMeta(o)),y.type=O,y.indexAxis=h.indexAxis||getIndexAxis(O,this.options),y.order=h.order||0,y.index=o,y.label=""+h.label,y.visible=this.isDatasetVisible(o),y.controller)y.controller.updateIndex(o),y.controller.linkScales();else{const D=registry.getController(O),{datasetElementType:R,dataElementType:F}=defaults$3.datasets[O];Object.assign(D.prototype,{dataElementType:registry.getElement(F),datasetElementType:R&&registry.getElement(R)}),y.controller=new D(this,o),e.push(y.controller)}}return this._updateMetasets(),e}_resetElements(){each$2(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const o=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const h=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let R=0,F=this.data.datasets.length;R<F;R++){const{controller:B}=this.getDatasetMeta(R),j=!l&&h.indexOf(B)===-1;B.buildOrUpdateElements(j),y=Math.max(+B.getMaxOverflow(),y)}y=this._minPadding=o.layout.autoPadding?y:0,this._updateLayout(y),l||each$2(h,R=>{R.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:O,_lastEvent:D}=this;D?this._eventHandler(D,!0):O.length&&this._updateHoverStyles(O,O,!0),this.render()}_updateScales(){each$2(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!setsEqual(t,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:h}of t){const y=o==="_removeElements"?-h:h;moveNumericKeys(e,l,y)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,o=h=>new Set(e.filter(y=>y[0]===h).map((y,O)=>O+","+y.splice(1).join(","))),l=o(0);for(let h=1;h<t;h++)if(!setsEqual(l,o(h)))return;return Array.from(l).map(h=>h.split(",")).map(h=>({method:h[1],start:+h[2],count:+h[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const t=this.chartArea,o=t.width<=0||t.height<=0;this._layers=[],each$2(this.boxes,l=>{o&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,h)=>{l._idx=h}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,o=this.data.datasets.length;t<o;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,o=this.data.datasets.length;t<o;++t)this._updateDataset(t,isFunction(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const o=this.getDatasetMeta(e),l={meta:o,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(o.controller._update(t),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resize(o,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,o=[];let l,h;for(l=0,h=t.length;l<h;++l){const y=t[l];(!e||y.visible)&&o.push(y)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,o=e._clip,l=!o.disabled,h=this.chartArea,y={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",y)!==!1&&(l&&clipArea(t,{left:o.left===!1?0:h.left-o.left,right:o.right===!1?this.width:h.right+o.right,top:o.top===!1?0:h.top-o.top,bottom:o.bottom===!1?this.height:h.bottom+o.bottom}),e.controller.draw(),l&&unclipArea(t),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,o,l){const h=Interaction.modes[t];return typeof h=="function"?h(this,e,o,l):[]}getDatasetMeta(e){const t=this.data.datasets[e],o=this._metasets;let l=o.filter(h=>h&&h._dataset===t).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!t.hidden}setDatasetVisibility(e,t){const o=this.getDatasetMeta(e);o.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,o){const l=o?"show":"hide",h=this.getDatasetMeta(e),y=h.controller._resolveAnimations(void 0,l);defined(t)?(h.data[t].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),y.update(h,{visible:o}),this.update(O=>O.datasetIndex===e?l:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),animator.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,o=(h,y)=>{t.addEventListener(this,h,y),e[h]=y},l=(h,y,O)=>{h.offsetX=y,h.offsetY=O,this._eventHandler(h)};each$2(this.options.events,h=>o(h,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,o=(D,R)=>{t.addEventListener(this,D,R),e[D]=R},l=(D,R)=>{e[D]&&(t.removeEventListener(this,D,R),delete e[D])},h=(D,R)=>{this.canvas&&this.resize(D,R)};let y;const O=()=>{l("attach",O),this.attached=!0,this.resize(),o("resize",h),o("detach",y)};y=()=>{this.attached=!1,l("resize",h),this._stop(),this._resize(0,0),o("attach",O)},t.isAttached(this.canvas)?O():y()}unbindEvents(){each$2(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},each$2(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,o){const l=o?"set":"remove";let h,y,O,D;for(t==="dataset"&&(h=this.getDatasetMeta(e[0].datasetIndex),h.controller["_"+l+"DatasetHoverStyle"]()),O=0,D=e.length;O<D;++O){y=e[O];const R=y&&this.getDatasetMeta(y.datasetIndex).controller;R&&R[l+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],o=e.map(({datasetIndex:h,index:y})=>{const O=this.getDatasetMeta(h);if(!O)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:O.data[y],index:y}});!_elementsEqual(o,t)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,t))}notifyPlugins(e,t,o){return this._plugins.notify(this,e,t,o)}_updateHoverStyles(e,t,o){const l=this.options.hover,h=(D,R)=>D.filter(F=>!R.some(B=>F.datasetIndex===B.datasetIndex&&F.index===B.index)),y=h(t,e),O=o?e:h(e,t);y.length&&this.updateHoverStyle(y,l.mode,!1),O.length&&l.mode&&this.updateHoverStyle(O,l.mode,!0)}_eventHandler(e,t){const o={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},l=y=>(y.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,l)===!1)return;const h=this._handleEvent(e,t,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(h||o.changed)&&this.render(),this}_handleEvent(e,t,o){const{_active:l=[],options:h}=this,y=t,O=this._getActiveElements(e,l,o,y),D=_isClickEvent(e),R=determineLastEvent(e,this._lastEvent,o,D);o&&(this._lastEvent=null,callback(h.onHover,[e,O,this],this),D&&callback(h.onClick,[e,O,this],this));const F=!_elementsEqual(O,l);return(F||t)&&(this._active=O,this._updateHoverStyles(O,l,t)),this._lastEvent=R,F}_getActiveElements(e,t,o,l){if(e.type==="mouseout")return[];if(!o)return t;const h=this.options.hover;return this.getElementsAtEventForMode(e,h.mode,h,l)}}const invalidatePlugins=()=>each$2(Chart.instances,r=>r._plugins.invalidate()),enumerable=!0;Object.defineProperties(Chart,{defaults:{enumerable,value:defaults$3},instances:{enumerable,value:instances},overrides:{enumerable,value:overrides},registry:{enumerable,value:registry},version:{enumerable,value:version$2},getChart:{enumerable,value:getChart},register:{enumerable,value:(...r)=>{registry.add(...r),invalidatePlugins()}},unregister:{enumerable,value:(...r)=>{registry.remove(...r),invalidatePlugins()}}});function clipArc(r,e,t){const{startAngle:o,pixelMargin:l,x:h,y,outerRadius:O,innerRadius:D}=e;let R=l/O;r.beginPath(),r.arc(h,y,O,o-R,t+R),D>l?(R=l/D,r.arc(h,y,D,t+R,o-R,!0)):r.arc(h,y,l,t+HALF_PI,o-HALF_PI),r.closePath(),r.clip()}function toRadiusCorners(r){return _readValueToProps(r,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(r,e,t,o){const l=toRadiusCorners(r.options.borderRadius),h=(t-e)/2,y=Math.min(h,o*e/2),O=D=>{const R=(t-Math.min(h,D))*o/2;return _limitValue(D,0,Math.min(h,R))};return{outerStart:O(l.outerStart),outerEnd:O(l.outerEnd),innerStart:_limitValue(l.innerStart,0,y),innerEnd:_limitValue(l.innerEnd,0,y)}}function rThetaToXY(r,e,t,o){return{x:t+r*Math.cos(e),y:o+r*Math.sin(e)}}function pathArc(r,e,t,o,l){const{x:h,y,startAngle:O,pixelMargin:D,innerRadius:R}=e,F=Math.max(e.outerRadius+o+t-D,0),B=R>0?R+o+t+D:0;let j=0;const U=l-O;if(o){const pe=R>0?R-o:0,oe=F>0?F-o:0,ae=(pe+oe)/2,le=ae!==0?U*ae/(ae+o):U;j=(U-le)/2}const W=Math.max(.001,U*F-t/PI)/F,G=(U-W)/2,q=O+G+j,K=l-G-j,{outerStart:Y,outerEnd:X,innerStart:J,innerEnd:Q}=parseBorderRadius$1(e,B,F,K-q),Z=F-Y,ee=F-X,te=q+Y/Z,re=K-X/ee,ie=B+J,ne=B+Q,se=q+J/ie,ce=K-Q/ne;if(r.beginPath(),r.arc(h,y,F,te,re),X>0){const pe=rThetaToXY(ee,re,h,y);r.arc(pe.x,pe.y,X,re,K+HALF_PI)}const ue=rThetaToXY(ne,K,h,y);if(r.lineTo(ue.x,ue.y),Q>0){const pe=rThetaToXY(ne,ce,h,y);r.arc(pe.x,pe.y,Q,K+HALF_PI,ce+Math.PI)}if(r.arc(h,y,B,K-Q/B,q+J/B,!0),J>0){const pe=rThetaToXY(ie,se,h,y);r.arc(pe.x,pe.y,J,se+Math.PI,q-HALF_PI)}const he=rThetaToXY(Z,q,h,y);if(r.lineTo(he.x,he.y),Y>0){const pe=rThetaToXY(Z,te,h,y);r.arc(pe.x,pe.y,Y,q-HALF_PI,te)}r.closePath()}function drawArc(r,e,t,o){const{fullCircles:l,startAngle:h,circumference:y}=e;let O=e.endAngle;if(l){pathArc(r,e,t,o,h+TAU);for(let D=0;D<l;++D)r.fill();isNaN(y)||(O=h+y%TAU,y%TAU===0&&(O+=TAU))}return pathArc(r,e,t,o,O),r.fill(),O}function drawFullCircleBorders(r,e,t){const{x:o,y:l,startAngle:h,pixelMargin:y,fullCircles:O}=e,D=Math.max(e.outerRadius-y,0),R=e.innerRadius+y;let F;for(t&&clipArc(r,e,h+TAU),r.beginPath(),r.arc(o,l,R,h+TAU,h,!0),F=0;F<O;++F)r.stroke();for(r.beginPath(),r.arc(o,l,D,h,h+TAU),F=0;F<O;++F)r.stroke()}function drawBorder(r,e,t,o,l){const{options:h}=e,{borderWidth:y,borderJoinStyle:O}=h,D=h.borderAlign==="inner";!y||(D?(r.lineWidth=y*2,r.lineJoin=O||"round"):(r.lineWidth=y,r.lineJoin=O||"bevel"),e.fullCircles&&drawFullCircleBorders(r,e,D),D&&clipArc(r,e,l),pathArc(r,e,t,o,l),r.stroke())}class ArcElement extends Element$1{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,o){const l=this.getProps(["x","y"],o),{angle:h,distance:y}=getAngleFromPoint(l,{x:e,y:t}),{startAngle:O,endAngle:D,innerRadius:R,outerRadius:F,circumference:B}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),j=this.options.spacing/2,W=valueOrDefault(B,D-O)>=TAU||_angleBetween(h,O,D),G=_isBetween(y,R+j,F+j);return W&&G}getCenterPoint(e){const{x:t,y:o,startAngle:l,endAngle:h,innerRadius:y,outerRadius:O}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:D,spacing:R}=this.options,F=(l+h)/2,B=(y+O+R+D)/2;return{x:t+Math.cos(F)*B,y:o+Math.sin(F)*B}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:o}=this,l=(t.offset||0)/2,h=(t.spacing||0)/2;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=o>TAU?Math.floor(o/TAU):0,o===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let y=0;if(l){y=l/2;const D=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(D)*y,Math.sin(D)*y),this.circumference>=PI&&(y=l)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const O=drawArc(e,this,y,h);drawBorder(e,this,y,h,O),e.restore()}}ArcElement.id="arc";ArcElement.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};ArcElement.defaultRoutes={backgroundColor:"backgroundColor"};function setStyle(r,e,t=e){r.lineCap=valueOrDefault(t.borderCapStyle,e.borderCapStyle),r.setLineDash(valueOrDefault(t.borderDash,e.borderDash)),r.lineDashOffset=valueOrDefault(t.borderDashOffset,e.borderDashOffset),r.lineJoin=valueOrDefault(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=valueOrDefault(t.borderWidth,e.borderWidth),r.strokeStyle=valueOrDefault(t.borderColor,e.borderColor)}function lineTo(r,e,t){r.lineTo(t.x,t.y)}function getLineMethod(r){return r.stepped?_steppedLineTo:r.tension||r.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(r,e,t={}){const o=r.length,{start:l=0,end:h=o-1}=t,{start:y,end:O}=e,D=Math.max(l,y),R=Math.min(h,O),F=l<y&&h<y||l>O&&h>O;return{count:o,start:D,loop:e.loop,ilen:R<D&&!F?o+R-D:R-D}}function pathSegment(r,e,t,o){const{points:l,options:h}=e,{count:y,start:O,loop:D,ilen:R}=pathVars(l,t,o),F=getLineMethod(h);let{move:B=!0,reverse:j}=o||{},U,W,G;for(U=0;U<=R;++U)W=l[(O+(j?R-U:U))%y],!W.skip&&(B?(r.moveTo(W.x,W.y),B=!1):F(r,G,W,j,h.stepped),G=W);return D&&(W=l[(O+(j?R:0))%y],F(r,G,W,j,h.stepped)),!!D}function fastPathSegment(r,e,t,o){const l=e.points,{count:h,start:y,ilen:O}=pathVars(l,t,o),{move:D=!0,reverse:R}=o||{};let F=0,B=0,j,U,W,G,q,K;const Y=J=>(y+(R?O-J:J))%h,X=()=>{G!==q&&(r.lineTo(F,q),r.lineTo(F,G),r.lineTo(F,K))};for(D&&(U=l[Y(0)],r.moveTo(U.x,U.y)),j=0;j<=O;++j){if(U=l[Y(j)],U.skip)continue;const J=U.x,Q=U.y,Z=J|0;Z===W?(Q<G?G=Q:Q>q&&(q=Q),F=(B*F+J)/++B):(X(),r.lineTo(J,Q),W=Z,B=0,G=q=Q),K=Q}X()}function _getSegmentMethod(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?fastPathSegment:pathSegment}function _getInterpolationMethod(r){return r.stepped?_steppedInterpolation:r.tension||r.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(r,e,t,o){let l=e._path;l||(l=e._path=new Path2D,e.path(l,t,o)&&l.closePath()),setStyle(r,e.options),r.stroke(l)}function strokePathDirect(r,e,t,o){const{segments:l,options:h}=e,y=_getSegmentMethod(e);for(const O of l)setStyle(r,h,O.style),r.beginPath(),y(r,e,O,{start:t,end:t+o-1})&&r.closePath(),r.stroke()}const usePath2D=typeof Path2D=="function";function draw(r,e,t,o){usePath2D&&!e.options.segment?strokePathWithCache(r,e,t,o):strokePathDirect(r,e,t,o)}class LineElement extends Element$1{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const l=o.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,o,e,l,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,o=e.length;return o&&t[e[o-1].end]}interpolate(e,t){const o=this.options,l=e[t],h=this.points,y=_boundSegments(this,{property:t,start:l,end:l});if(!y.length)return;const O=[],D=_getInterpolationMethod(o);let R,F;for(R=0,F=y.length;R<F;++R){const{start:B,end:j}=y[R],U=h[B],W=h[j];if(U===W){O.push(U);continue}const G=Math.abs((l-U[t])/(W[t]-U[t])),q=D(U,W,G,o.stepped);q[t]=e[t],O.push(q)}return O.length===1?O[0]:O}pathSegment(e,t,o){return _getSegmentMethod(this)(e,this,t,o)}path(e,t,o){const l=this.segments,h=_getSegmentMethod(this);let y=this._loop;t=t||0,o=o||this.points.length-t;for(const O of l)y&=h(e,this,O,{start:t,end:t+o-1});return!!y}draw(e,t,o,l){const h=this.options||{};(this.points||[]).length&&h.borderWidth&&(e.save(),draw(e,this,o,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}LineElement.id="line";LineElement.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};LineElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};LineElement.descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};function inRange$1(r,e,t,o){const l=r.options,{[t]:h}=r.getProps([t],o);return Math.abs(e-h)<l.radius+l.hitRadius}class PointElement extends Element$1{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,o){const l=this.options,{x:h,y}=this.getProps(["x","y"],o);return Math.pow(e-h,2)+Math.pow(t-y,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(e,t){return inRange$1(this,e,"x",t)}inYRange(e,t){return inRange$1(this,e,"y",t)}getCenterPoint(e){const{x:t,y:o}=this.getProps(["x","y"],e);return{x:t,y:o}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const o=t&&e.borderWidth||0;return(t+o)*2}draw(e,t){const o=this.options;this.skip||o.radius<.1||!_isPointInArea(this,t,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,drawPoint(e,o,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}PointElement.id="point";PointElement.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};PointElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function getBarBounds(r,e){const{x:t,y:o,base:l,width:h,height:y}=r.getProps(["x","y","base","width","height"],e);let O,D,R,F,B;return r.horizontal?(B=y/2,O=Math.min(t,l),D=Math.max(t,l),R=o-B,F=o+B):(B=h/2,O=t-B,D=t+B,R=Math.min(o,l),F=Math.max(o,l)),{left:O,top:R,right:D,bottom:F}}function skipOrLimit(r,e,t,o){return r?0:_limitValue(e,t,o)}function parseBorderWidth(r,e,t){const o=r.options.borderWidth,l=r.borderSkipped,h=toTRBL(o);return{t:skipOrLimit(l.top,h.top,0,t),r:skipOrLimit(l.right,h.right,0,e),b:skipOrLimit(l.bottom,h.bottom,0,t),l:skipOrLimit(l.left,h.left,0,e)}}function parseBorderRadius(r,e,t){const{enableBorderRadius:o}=r.getProps(["enableBorderRadius"]),l=r.options.borderRadius,h=toTRBLCorners(l),y=Math.min(e,t),O=r.borderSkipped,D=o||isObject$l(l);return{topLeft:skipOrLimit(!D||O.top||O.left,h.topLeft,0,y),topRight:skipOrLimit(!D||O.top||O.right,h.topRight,0,y),bottomLeft:skipOrLimit(!D||O.bottom||O.left,h.bottomLeft,0,y),bottomRight:skipOrLimit(!D||O.bottom||O.right,h.bottomRight,0,y)}}function boundingRects$1(r){const e=getBarBounds(r),t=e.right-e.left,o=e.bottom-e.top,l=parseBorderWidth(r,t/2,o/2),h=parseBorderRadius(r,t/2,o/2);return{outer:{x:e.left,y:e.top,w:t,h:o,radius:h},inner:{x:e.left+l.l,y:e.top+l.t,w:t-l.l-l.r,h:o-l.t-l.b,radius:{topLeft:Math.max(0,h.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,h.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,h.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,h.bottomRight-Math.max(l.b,l.r))}}}}function inRange(r,e,t,o){const l=e===null,h=t===null,O=r&&!(l&&h)&&getBarBounds(r,o);return O&&(l||_isBetween(e,O.left,O.right))&&(h||_isBetween(t,O.top,O.bottom))}function hasRadius(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function addNormalRectPath(r,e){r.rect(e.x,e.y,e.w,e.h)}function inflateRect(r,e,t={}){const o=r.x!==t.x?-e:0,l=r.y!==t.y?-e:0,h=(r.x+r.w!==t.x+t.w?e:0)-o,y=(r.y+r.h!==t.y+t.h?e:0)-l;return{x:r.x+o,y:r.y+l,w:r.w+h,h:r.h+y,radius:r.radius}}class BarElement extends Element$1{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:o,backgroundColor:l}}=this,{inner:h,outer:y}=boundingRects$1(this),O=hasRadius(y.radius)?addRoundedRectPath:addNormalRectPath;e.save(),(y.w!==h.w||y.h!==h.h)&&(e.beginPath(),O(e,inflateRect(y,t,h)),e.clip(),O(e,inflateRect(h,-t,y)),e.fillStyle=o,e.fill("evenodd")),e.beginPath(),O(e,inflateRect(h,t)),e.fillStyle=l,e.fill(),e.restore()}inRange(e,t,o){return inRange(this,e,t,o)}inXRange(e,t){return inRange(this,e,null,t)}inYRange(e,t){return inRange(this,null,e,t)}getCenterPoint(e){const{x:t,y:o,base:l,horizontal:h}=this.getProps(["x","y","base","horizontal"],e);return{x:h?(t+l)/2:t,y:h?o:(o+l)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}BarElement.id="bar";BarElement.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};BarElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var elements=Object.freeze({__proto__:null,ArcElement,LineElement,PointElement,BarElement});function lttbDecimation(r,e,t,o,l){const h=l.samples||o;if(h>=t)return r.slice(e,e+t);const y=[],O=(t-2)/(h-2);let D=0;const R=e+t-1;let F=e,B,j,U,W,G;for(y[D++]=r[F],B=0;B<h-2;B++){let q=0,K=0,Y;const X=Math.floor((B+1)*O)+1+e,J=Math.min(Math.floor((B+2)*O)+1,t)+e,Q=J-X;for(Y=X;Y<J;Y++)q+=r[Y].x,K+=r[Y].y;q/=Q,K/=Q;const Z=Math.floor(B*O)+1+e,ee=Math.min(Math.floor((B+1)*O)+1,t)+e,{x:te,y:re}=r[F];for(U=W=-1,Y=Z;Y<ee;Y++)W=.5*Math.abs((te-q)*(r[Y].y-re)-(te-r[Y].x)*(K-re)),W>U&&(U=W,j=r[Y],G=Y);y[D++]=j,F=G}return y[D++]=r[R],y}function minMaxDecimation(r,e,t,o){let l=0,h=0,y,O,D,R,F,B,j,U,W,G;const q=[],K=e+t-1,Y=r[e].x,J=r[K].x-Y;for(y=e;y<e+t;++y){O=r[y],D=(O.x-Y)/J*o,R=O.y;const Q=D|0;if(Q===F)R<W?(W=R,B=y):R>G&&(G=R,j=y),l=(h*l+O.x)/++h;else{const Z=y-1;if(!isNullOrUndef(B)&&!isNullOrUndef(j)){const ee=Math.min(B,j),te=Math.max(B,j);ee!==U&&ee!==Z&&q.push(Qe(Ye({},r[ee]),{x:l})),te!==U&&te!==Z&&q.push(Qe(Ye({},r[te]),{x:l}))}y>0&&Z!==U&&q.push(r[Z]),q.push(O),F=Q,h=0,W=G=R,B=j=U=y}}return q}function cleanDecimatedDataset(r){if(r._decimated){const e=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{value:e})}}function cleanDecimatedData(r){r.data.datasets.forEach(e=>{cleanDecimatedDataset(e)})}function getStartAndCountOfVisiblePointsSimplified(r,e){const t=e.length;let o=0,l;const{iScale:h}=r,{min:y,max:O,minDefined:D,maxDefined:R}=h.getUserBounds();return D&&(o=_limitValue(_lookupByKey(e,h.axis,y).lo,0,t-1)),R?l=_limitValue(_lookupByKey(e,h.axis,O).hi+1,o,t)-o:l=t-o,{start:o,count:l}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,e,t)=>{if(!t.enabled){cleanDecimatedData(r);return}const o=r.width;r.data.datasets.forEach((l,h)=>{const{_data:y,indexAxis:O}=l,D=r.getDatasetMeta(h),R=y||l.data;if(resolve([O,r.options.indexAxis])==="y"||!D.controller.supportsDecimation)return;const F=r.scales[D.xAxisID];if(F.type!=="linear"&&F.type!=="time"||r.options.parsing)return;let{start:B,count:j}=getStartAndCountOfVisiblePointsSimplified(D,R);const U=t.threshold||4*o;if(j<=U){cleanDecimatedDataset(l);return}isNullOrUndef(y)&&(l._data=R,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(G){this._data=G}}));let W;switch(t.algorithm){case"lttb":W=lttbDecimation(R,B,j,o,t);break;case"min-max":W=minMaxDecimation(R,B,j,o);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}l._decimated=W})},destroy(r){cleanDecimatedData(r)}};function _segments(r,e,t){const o=r.segments,l=r.points,h=e.points,y=[];for(const O of o){let{start:D,end:R}=O;R=_findSegmentEnd(D,R,l);const F=_getBounds(t,l[D],l[R],O.loop);if(!e.segments){y.push({source:O,target:F,start:l[D],end:l[R]});continue}const B=_boundSegments(e,F);for(const j of B){const U=_getBounds(t,h[j.start],h[j.end],j.loop),W=_boundSegment(O,l,U);for(const G of W)y.push({source:G,target:j,start:{[t]:_getEdge(F,U,"start",Math.max)},end:{[t]:_getEdge(F,U,"end",Math.min)}})}}return y}function _getBounds(r,e,t,o){if(o)return;let l=e[r],h=t[r];return r==="angle"&&(l=_normalizeAngle(l),h=_normalizeAngle(h)),{property:r,start:l,end:h}}function _pointsFromSegments(r,e){const{x:t=null,y:o=null}=r||{},l=e.points,h=[];return e.segments.forEach(({start:y,end:O})=>{O=_findSegmentEnd(y,O,l);const D=l[y],R=l[O];o!==null?(h.push({x:D.x,y:o}),h.push({x:R.x,y:o})):t!==null&&(h.push({x:t,y:D.y}),h.push({x:t,y:R.y}))}),h}function _findSegmentEnd(r,e,t){for(;e>r;e--){const o=t[e];if(!isNaN(o.x)&&!isNaN(o.y))break}return e}function _getEdge(r,e,t,o){return r&&e?o(r[t],e[t]):r?r[t]:e?e[t]:0}function _createBoundaryLine(r,e){let t=[],o=!1;return isArray$f(r)?(o=!0,t=r):t=_pointsFromSegments(r,e),t.length?new LineElement({points:t,options:{tension:0},_loop:o,_fullLoop:o}):null}function _resolveTarget(r,e,t){let l=r[e].fill;const h=[e];let y;if(!t)return l;for(;l!==!1&&h.indexOf(l)===-1;){if(!isNumberFinite(l))return l;if(y=r[l],!y)return!1;if(y.visible)return l;h.push(l),l=y.fill}return!1}function _decodeFill(r,e,t){const o=parseFillOption(r);if(isObject$l(o))return isNaN(o.value)?!1:o;let l=parseFloat(o);return isNumberFinite(l)&&Math.floor(l)===l?decodeTargetIndex(o[0],e,l,t):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function decodeTargetIndex(r,e,t,o){return(r==="-"||r==="+")&&(t=e+t),t===e||t<0||t>=o?!1:t}function _getTargetPixel(r,e){let t=null;return r==="start"?t=e.bottom:r==="end"?t=e.top:isObject$l(r)?t=e.getPixelForValue(r.value):e.getBasePixel&&(t=e.getBasePixel()),t}function _getTargetValue(r,e,t){let o;return r==="start"?o=t:r==="end"?o=e.options.reverse?e.min:e.max:isObject$l(r)?o=r.value:o=e.getBaseValue(),o}function parseFillOption(r){const e=r.options,t=e.fill;let o=valueOrDefault(t&&t.target,t);return o===void 0&&(o=!!e.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function _buildStackLine(r){const{scale:e,index:t,line:o}=r,l=[],h=o.segments,y=o.points,O=getLinesBelow(e,t);O.push(_createBoundaryLine({x:null,y:e.bottom},o));for(let D=0;D<h.length;D++){const R=h[D];for(let F=R.start;F<=R.end;F++)addPointsBelow(l,y[F],O)}return new LineElement({points:l,options:{}})}function getLinesBelow(r,e){const t=[],o=r.getMatchingVisibleMetas("line");for(let l=0;l<o.length;l++){const h=o[l];if(h.index===e)break;h.hidden||t.unshift(h.dataset)}return t}function addPointsBelow(r,e,t){const o=[];for(let l=0;l<t.length;l++){const h=t[l],{first:y,last:O,point:D}=findPoint(h,e,"x");if(!(!D||y&&O)){if(y)o.unshift(D);else if(r.push(D),!O)break}}r.push(...o)}function findPoint(r,e,t){const o=r.interpolate(e,t);if(!o)return{};const l=o[t],h=r.segments,y=r.points;let O=!1,D=!1;for(let R=0;R<h.length;R++){const F=h[R],B=y[F.start][t],j=y[F.end][t];if(_isBetween(l,B,j)){O=l===B,D=l===j;break}}return{first:O,last:D,point:o}}class simpleArc{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,o){const{x:l,y:h,radius:y}=this;return t=t||{start:0,end:TAU},e.arc(l,h,y,t.end,t.start,!0),!o.bounds}interpolate(e){const{x:t,y:o,radius:l}=this,h=e.angle;return{x:t+Math.cos(h)*l,y:o+Math.sin(h)*l,angle:h}}}function _getTarget(r){const{chart:e,fill:t,line:o}=r;if(isNumberFinite(t))return getLineByIndex(e,t);if(t==="stack")return _buildStackLine(r);if(t==="shape")return!0;const l=computeBoundary(r);return l instanceof simpleArc?l:_createBoundaryLine(l,o)}function getLineByIndex(r,e){const t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function computeBoundary(r){return(r.scale||{}).getPointPositionForValue?computeCircularBoundary(r):computeLinearBoundary(r)}function computeLinearBoundary(r){const{scale:e={},fill:t}=r,o=_getTargetPixel(t,e);if(isNumberFinite(o)){const l=e.isHorizontal();return{x:l?o:null,y:l?null:o}}return null}function computeCircularBoundary(r){const{scale:e,fill:t}=r,o=e.options,l=e.getLabels().length,h=o.reverse?e.max:e.min,y=_getTargetValue(t,e,h),O=[];if(o.grid.circular){const D=e.getPointPositionForValue(0,h);return new simpleArc({x:D.x,y:D.y,radius:e.getDistanceFromCenterForValue(y)})}for(let D=0;D<l;++D)O.push(e.getPointPositionForValue(D,y));return O}function _drawfill(r,e,t){const o=_getTarget(e),{line:l,scale:h,axis:y}=e,O=l.options,D=O.fill,R=O.backgroundColor,{above:F=R,below:B=R}=D||{};o&&l.points.length&&(clipArea(r,t),doFill(r,{line:l,target:o,above:F,below:B,area:t,scale:h,axis:y}),unclipArea(r))}function doFill(r,e){const{line:t,target:o,above:l,below:h,area:y,scale:O}=e,D=t._loop?"angle":e.axis;r.save(),D==="x"&&h!==l&&(clipVertical(r,o,y.top),fill$6(r,{line:t,target:o,color:l,scale:O,property:D}),r.restore(),r.save(),clipVertical(r,o,y.bottom)),fill$6(r,{line:t,target:o,color:h,scale:O,property:D}),r.restore()}function clipVertical(r,e,t){const{segments:o,points:l}=e;let h=!0,y=!1;r.beginPath();for(const O of o){const{start:D,end:R}=O,F=l[D],B=l[_findSegmentEnd(D,R,l)];h?(r.moveTo(F.x,F.y),h=!1):(r.lineTo(F.x,t),r.lineTo(F.x,F.y)),y=!!e.pathSegment(r,O,{move:y}),y?r.closePath():r.lineTo(B.x,t)}r.lineTo(e.first().x,t),r.closePath(),r.clip()}function fill$6(r,e){const{line:t,target:o,property:l,color:h,scale:y}=e,O=_segments(t,o,l);for(const{source:D,target:R,start:F,end:B}of O){const{style:{backgroundColor:j=h}={}}=D,U=o!==!0;r.save(),r.fillStyle=j,clipBounds(r,y,U&&_getBounds(l,F,B)),r.beginPath();const W=!!t.pathSegment(r,D);let G;if(U){W?r.closePath():interpolatedLineTo(r,o,B,l);const q=!!o.pathSegment(r,R,{move:W,reverse:!0});G=W&&q,G||interpolatedLineTo(r,o,F,l)}r.closePath(),r.fill(G?"evenodd":"nonzero"),r.restore()}}function clipBounds(r,e,t){const{top:o,bottom:l}=e.chart.chartArea,{property:h,start:y,end:O}=t||{};h==="x"&&(r.beginPath(),r.rect(y,o,O-y,l-o),r.clip())}function interpolatedLineTo(r,e,t,o){const l=e.interpolate(t,o);l&&r.lineTo(l.x,l.y)}var index$1={id:"filler",afterDatasetsUpdate(r,e,t){const o=(r.data.datasets||[]).length,l=[];let h,y,O,D;for(y=0;y<o;++y)h=r.getDatasetMeta(y),O=h.dataset,D=null,O&&O.options&&O instanceof LineElement&&(D={visible:r.isDatasetVisible(y),index:y,fill:_decodeFill(O,y,o),chart:r,axis:h.controller.options.indexAxis,scale:h.vScale,line:O}),h.$filler=D,l.push(D);for(y=0;y<o;++y)D=l[y],!(!D||D.fill===!1)&&(D.fill=_resolveTarget(l,y,t.propagate))},beforeDraw(r,e,t){const o=t.drawTime==="beforeDraw",l=r.getSortedVisibleDatasetMetas(),h=r.chartArea;for(let y=l.length-1;y>=0;--y){const O=l[y].$filler;!O||(O.line.updateControlPoints(h,O.axis),o&&_drawfill(r.ctx,O,h))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const o=r.getSortedVisibleDatasetMetas();for(let l=o.length-1;l>=0;--l){const h=o[l].$filler;h&&_drawfill(r.ctx,h,r.chartArea)}},beforeDatasetDraw(r,e,t){const o=e.meta.$filler;!o||o.fill===!1||t.drawTime!=="beforeDatasetDraw"||_drawfill(r.ctx,o,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(r,e)=>{let{boxHeight:t=e,boxWidth:o=e}=r;return r.usePointStyle&&(t=Math.min(t,e),o=Math.min(o,e)),{boxWidth:o,boxHeight:t,itemHeight:Math.max(e,t)}},itemsEqual=(r,e)=>r!==null&&e!==null&&r.datasetIndex===e.datasetIndex&&r.index===e.index;class Legend extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,o){this.maxWidth=e,this.maxHeight=t,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(o=>e.filter(o,this.chart.data))),e.sort&&(t=t.sort((o,l)=>e.sort(o,l,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,l=toFont(o.font),h=l.size,y=this._computeTitleHeight(),{boxWidth:O,itemHeight:D}=getBoxSize(o,h);let R,F;t.font=l.string,this.isHorizontal()?(R=this.maxWidth,F=this._fitRows(y,h,O,D)+10):(F=this.maxHeight,R=this._fitCols(y,h,O,D)+10),this.width=Math.min(R,e.maxWidth||this.maxWidth),this.height=Math.min(F,e.maxHeight||this.maxHeight)}_fitRows(e,t,o,l){const{ctx:h,maxWidth:y,options:{labels:{padding:O}}}=this,D=this.legendHitBoxes=[],R=this.lineWidths=[0],F=l+O;let B=e;h.textAlign="left",h.textBaseline="middle";let j=-1,U=-F;return this.legendItems.forEach((W,G)=>{const q=o+t/2+h.measureText(W.text).width;(G===0||R[R.length-1]+q+2*O>y)&&(B+=F,R[R.length-(G>0?0:1)]=0,U+=F,j++),D[G]={left:0,top:U,row:j,width:q,height:l},R[R.length-1]+=q+O}),B}_fitCols(e,t,o,l){const{ctx:h,maxHeight:y,options:{labels:{padding:O}}}=this,D=this.legendHitBoxes=[],R=this.columnSizes=[],F=y-e;let B=O,j=0,U=0,W=0,G=0;return this.legendItems.forEach((q,K)=>{const Y=o+t/2+h.measureText(q.text).width;K>0&&U+l+2*O>F&&(B+=j+O,R.push({width:j,height:U}),W+=j+O,G++,j=U=0),D[K]={left:W,top:U,col:G,width:Y,height:l},j=Math.max(j,Y),U+=l+O}),B+=j,R.push({width:j,height:U}),B}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:o,labels:{padding:l},rtl:h}}=this,y=getRtlAdapter(h,this.left,this.width);if(this.isHorizontal()){let O=0,D=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[O]);for(const R of t)O!==R.row&&(O=R.row,D=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[O])),R.top+=this.top+e+l,R.left=y.leftForLtr(y.x(D),R.width),D+=R.width+l}else{let O=0,D=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[O].height);for(const R of t)R.col!==O&&(O=R.col,D=_alignStartEnd(o,this.top+e+l,this.bottom-this.columnSizes[O].height)),R.top=D,R.left+=this.left+l,R.left=y.leftForLtr(y.x(R.left),R.width),D+=R.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:o,ctx:l}=this,{align:h,labels:y}=e,O=defaults$3.color,D=getRtlAdapter(e.rtl,this.left,this.width),R=toFont(y.font),{color:F,padding:B}=y,j=R.size,U=j/2;let W;this.drawTitle(),l.textAlign=D.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=R.string;const{boxWidth:G,boxHeight:q,itemHeight:K}=getBoxSize(y,j),Y=function(ee,te,re){if(isNaN(G)||G<=0||isNaN(q)||q<0)return;l.save();const ie=valueOrDefault(re.lineWidth,1);if(l.fillStyle=valueOrDefault(re.fillStyle,O),l.lineCap=valueOrDefault(re.lineCap,"butt"),l.lineDashOffset=valueOrDefault(re.lineDashOffset,0),l.lineJoin=valueOrDefault(re.lineJoin,"miter"),l.lineWidth=ie,l.strokeStyle=valueOrDefault(re.strokeStyle,O),l.setLineDash(valueOrDefault(re.lineDash,[])),y.usePointStyle){const ne={radius:G*Math.SQRT2/2,pointStyle:re.pointStyle,rotation:re.rotation,borderWidth:ie},se=D.xPlus(ee,G/2),ce=te+U;drawPoint(l,ne,se,ce)}else{const ne=te+Math.max((j-q)/2,0),se=D.leftForLtr(ee,G),ce=toTRBLCorners(re.borderRadius);l.beginPath(),Object.values(ce).some(ue=>ue!==0)?addRoundedRectPath(l,{x:se,y:ne,w:G,h:q,radius:ce}):l.rect(se,ne,G,q),l.fill(),ie!==0&&l.stroke()}l.restore()},X=function(ee,te,re){renderText(l,re.text,ee,te+K/2,R,{strikethrough:re.hidden,textAlign:D.textAlign(re.textAlign)})},J=this.isHorizontal(),Q=this._computeTitleHeight();J?W={x:_alignStartEnd(h,this.left+B,this.right-o[0]),y:this.top+B+Q,line:0}:W={x:this.left+B,y:_alignStartEnd(h,this.top+Q+B,this.bottom-t[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const Z=K+B;this.legendItems.forEach((ee,te)=>{l.strokeStyle=ee.fontColor||F,l.fillStyle=ee.fontColor||F;const re=l.measureText(ee.text).width,ie=D.textAlign(ee.textAlign||(ee.textAlign=y.textAlign)),ne=G+U+re;let se=W.x,ce=W.y;D.setWidth(this.width),J?te>0&&se+ne+B>this.right&&(ce=W.y+=Z,W.line++,se=W.x=_alignStartEnd(h,this.left+B,this.right-o[W.line])):te>0&&ce+Z>this.bottom&&(se=W.x=se+t[W.line].width+B,W.line++,ce=W.y=_alignStartEnd(h,this.top+Q+B,this.bottom-t[W.line].height));const ue=D.x(se);Y(ue,ce,ee),se=_textX(ie,se+G+U,J?se+ne:this.right,e.rtl),X(D.x(se),ce,ee),J?W.x+=ne+B:W.y+=Z}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,o=toFont(t.font),l=toPadding(t.padding);if(!t.display)return;const h=getRtlAdapter(e.rtl,this.left,this.width),y=this.ctx,O=t.position,D=o.size/2,R=l.top+D;let F,B=this.left,j=this.width;if(this.isHorizontal())j=Math.max(...this.lineWidths),F=this.top+R,B=_alignStartEnd(e.align,B,this.right-j);else{const W=this.columnSizes.reduce((G,q)=>Math.max(G,q.height),0);F=R+_alignStartEnd(e.align,this.top,this.bottom-W-e.labels.padding-this._computeTitleHeight())}const U=_alignStartEnd(O,B,B+j);y.textAlign=h.textAlign(_toLeftRightCenter(O)),y.textBaseline="middle",y.strokeStyle=t.color,y.fillStyle=t.color,y.font=o.string,renderText(y,t.text,U,F,o)}_computeTitleHeight(){const e=this.options.title,t=toFont(e.font),o=toPadding(e.padding);return e.display?t.lineHeight+o.height:0}_getLegendItemAt(e,t){let o,l,h;if(_isBetween(e,this.left,this.right)&&_isBetween(t,this.top,this.bottom)){for(h=this.legendHitBoxes,o=0;o<h.length;++o)if(l=h[o],_isBetween(e,l.left,l.left+l.width)&&_isBetween(t,l.top,l.top+l.height))return this.legendItems[o]}return null}handleEvent(e){const t=this.options;if(!isListened(e.type,t))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,h=itemsEqual(l,o);l&&!h&&callback(t.onLeave,[e,l,this],this),this._hoveredItem=o,o&&!h&&callback(t.onHover,[e,o,this],this)}else o&&callback(t.onClick,[e,o,this],this)}}function isListened(r,e){return!!((r==="mousemove"||r==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(r==="click"||r==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(r,e,t){const o=r.legend=new Legend({ctx:r.ctx,options:t,chart:r});layouts.configure(r,o,t),layouts.addBox(r,o)},stop(r){layouts.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,e,t){const o=r.legend;layouts.configure(r,o,t),o.options=t},afterUpdate(r){const e=r.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(r,e){e.replay||r.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,e,t){const o=e.datasetIndex,l=t.chart;l.isDatasetVisible(o)?(l.hide(o),e.hidden=!0):(l.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const e=r.data.datasets,{labels:{usePointStyle:t,pointStyle:o,textAlign:l,color:h}}=r.legend.options;return r._getSortedDatasetMetas().map(y=>{const O=y.controller.getStyle(t?0:void 0),D=toPadding(O.borderWidth);return{text:e[y.index].label,fillStyle:O.backgroundColor,fontColor:h,hidden:!y.visible,lineCap:O.borderCapStyle,lineDash:O.borderDash,lineDashOffset:O.borderDashOffset,lineJoin:O.borderJoinStyle,lineWidth:(D.width+D.height)/4,strokeStyle:O.borderColor,pointStyle:o||O.pointStyle,rotation:O.rotation,textAlign:l||O.textAlign,borderRadius:0,datasetIndex:y.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const l=isArray$f(o.text)?o.text.length:1;this._padding=toPadding(o.padding);const h=l*toFont(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=h:this.width=h}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:o,bottom:l,right:h,options:y}=this,O=y.align;let D=0,R,F,B;return this.isHorizontal()?(F=_alignStartEnd(O,o,h),B=t+e,R=h-o):(y.position==="left"?(F=o+e,B=_alignStartEnd(O,l,t),D=PI*-.5):(F=h-e,B=_alignStartEnd(O,t,l),D=PI*.5),R=l-t),{titleX:F,titleY:B,maxWidth:R,rotation:D}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const o=toFont(t.font),h=o.lineHeight/2+this._padding.top,{titleX:y,titleY:O,maxWidth:D,rotation:R}=this._drawArgs(h);renderText(e,t.text,0,0,o,{color:t.color,maxWidth:D,rotation:R,textAlign:_toLeftRightCenter(t.align),textBaseline:"middle",translation:[y,O]})}}function createTitle(r,e){const t=new Title({ctx:r.ctx,options:e,chart:r});layouts.configure(r,t,e),layouts.addBox(r,t),r.titleBlock=t}var plugin_title={id:"title",_element:Title,start(r,e,t){createTitle(r,t)},stop(r){const e=r.titleBlock;layouts.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const o=r.titleBlock;layouts.configure(r,o,t),o.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map$8=new WeakMap;var plugin_subtitle={id:"subtitle",start(r,e,t){const o=new Title({ctx:r.ctx,options:t,chart:r});layouts.configure(r,o,t),layouts.addBox(r,o),map$8.set(r,o)},stop(r){layouts.removeBox(r,map$8.get(r)),map$8.delete(r)},beforeUpdate(r,e,t){const o=map$8.get(r);layouts.configure(r,o,t),o.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners$1={average(r){if(!r.length)return!1;let e,t,o=0,l=0,h=0;for(e=0,t=r.length;e<t;++e){const y=r[e].element;if(y&&y.hasValue()){const O=y.tooltipPosition();o+=O.x,l+=O.y,++h}}return{x:o/h,y:l/h}},nearest(r,e){if(!r.length)return!1;let t=e.x,o=e.y,l=Number.POSITIVE_INFINITY,h,y,O;for(h=0,y=r.length;h<y;++h){const D=r[h].element;if(D&&D.hasValue()){const R=D.getCenterPoint(),F=distanceBetweenPoints(e,R);F<l&&(l=F,O=D)}}if(O){const D=O.tooltipPosition();t=D.x,o=D.y}return{x:t,y:o}}};function pushOrConcat(r,e){return e&&(isArray$f(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function splitNewlines(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function createTooltipItem(r,e){const{element:t,datasetIndex:o,index:l}=e,h=r.getDatasetMeta(o).controller,{label:y,value:O}=h.getLabelAndValue(l);return{chart:r,label:y,parsed:h.getParsed(l),raw:r.data.datasets[o].data[l],formattedValue:O,dataset:h.getDataset(),dataIndex:l,datasetIndex:o,element:t}}function getTooltipSize(r,e){const t=r.chart.ctx,{body:o,footer:l,title:h}=r,{boxWidth:y,boxHeight:O}=e,D=toFont(e.bodyFont),R=toFont(e.titleFont),F=toFont(e.footerFont),B=h.length,j=l.length,U=o.length,W=toPadding(e.padding);let G=W.height,q=0,K=o.reduce((J,Q)=>J+Q.before.length+Q.lines.length+Q.after.length,0);if(K+=r.beforeBody.length+r.afterBody.length,B&&(G+=B*R.lineHeight+(B-1)*e.titleSpacing+e.titleMarginBottom),K){const J=e.displayColors?Math.max(O,D.lineHeight):D.lineHeight;G+=U*J+(K-U)*D.lineHeight+(K-1)*e.bodySpacing}j&&(G+=e.footerMarginTop+j*F.lineHeight+(j-1)*e.footerSpacing);let Y=0;const X=function(J){q=Math.max(q,t.measureText(J).width+Y)};return t.save(),t.font=R.string,each$2(r.title,X),t.font=D.string,each$2(r.beforeBody.concat(r.afterBody),X),Y=e.displayColors?y+2+e.boxPadding:0,each$2(o,J=>{each$2(J.before,X),each$2(J.lines,X),each$2(J.after,X)}),Y=0,t.font=F.string,each$2(r.footer,X),t.restore(),q+=W.width,{width:q,height:G}}function determineYAlign(r,e){const{y:t,height:o}=e;return t<o/2?"top":t>r.height-o/2?"bottom":"center"}function doesNotFitWithAlign(r,e,t,o){const{x:l,width:h}=o,y=t.caretSize+t.caretPadding;if(r==="left"&&l+h+y>e.width||r==="right"&&l-h-y<0)return!0}function determineXAlign(r,e,t,o){const{x:l,width:h}=t,{width:y,chartArea:{left:O,right:D}}=r;let R="center";return o==="center"?R=l<=(O+D)/2?"left":"right":l<=h/2?R="left":l>=y-h/2&&(R="right"),doesNotFitWithAlign(R,r,e,t)&&(R="center"),R}function determineAlignment(r,e,t){const o=t.yAlign||e.yAlign||determineYAlign(r,t);return{xAlign:t.xAlign||e.xAlign||determineXAlign(r,e,t,o),yAlign:o}}function alignX(r,e){let{x:t,width:o}=r;return e==="right"?t-=o:e==="center"&&(t-=o/2),t}function alignY(r,e,t){let{y:o,height:l}=r;return e==="top"?o+=t:e==="bottom"?o-=l+t:o-=l/2,o}function getBackgroundPoint(r,e,t,o){const{caretSize:l,caretPadding:h,cornerRadius:y}=r,{xAlign:O,yAlign:D}=t,R=l+h,{topLeft:F,topRight:B,bottomLeft:j,bottomRight:U}=toTRBLCorners(y);let W=alignX(e,O);const G=alignY(e,D,R);return D==="center"?O==="left"?W+=R:O==="right"&&(W-=R):O==="left"?W-=Math.max(F,j)+l:O==="right"&&(W+=Math.max(B,U)+l),{x:_limitValue(W,0,o.width-e.width),y:_limitValue(G,0,o.height-e.height)}}function getAlignedX(r,e,t){const o=toPadding(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-o.right:r.x+o.left}function getBeforeAfterBodyLines(r){return pushOrConcat([],splitNewlines(r))}function createTooltipContext(r,e,t){return createContext(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function overrideCallbacks(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}class Tooltip extends Element$1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&t.options.animation&&o.animations,h=new Animations(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:o}=t,l=o.beforeTitle.apply(this,[e]),h=o.title.apply(this,[e]),y=o.afterTitle.apply(this,[e]);let O=[];return O=pushOrConcat(O,splitNewlines(l)),O=pushOrConcat(O,splitNewlines(h)),O=pushOrConcat(O,splitNewlines(y)),O}getBeforeBody(e,t){return getBeforeAfterBodyLines(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:o}=t,l=[];return each$2(e,h=>{const y={before:[],lines:[],after:[]},O=overrideCallbacks(o,h);pushOrConcat(y.before,splitNewlines(O.beforeLabel.call(this,h))),pushOrConcat(y.lines,O.label.call(this,h)),pushOrConcat(y.after,splitNewlines(O.afterLabel.call(this,h))),l.push(y)}),l}getAfterBody(e,t){return getBeforeAfterBodyLines(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:o}=t,l=o.beforeFooter.apply(this,[e]),h=o.footer.apply(this,[e]),y=o.afterFooter.apply(this,[e]);let O=[];return O=pushOrConcat(O,splitNewlines(l)),O=pushOrConcat(O,splitNewlines(h)),O=pushOrConcat(O,splitNewlines(y)),O}_createItems(e){const t=this._active,o=this.chart.data,l=[],h=[],y=[];let O=[],D,R;for(D=0,R=t.length;D<R;++D)O.push(createTooltipItem(this.chart,t[D]));return e.filter&&(O=O.filter((F,B,j)=>e.filter(F,B,j,o))),e.itemSort&&(O=O.sort((F,B)=>e.itemSort(F,B,o))),each$2(O,F=>{const B=overrideCallbacks(e.callbacks,F);l.push(B.labelColor.call(this,F)),h.push(B.labelPointStyle.call(this,F)),y.push(B.labelTextColor.call(this,F))}),this.labelColors=l,this.labelPointStyles=h,this.labelTextColors=y,this.dataPoints=O,O}update(e,t){const o=this.options.setContext(this.getContext()),l=this._active;let h,y=[];if(!l.length)this.opacity!==0&&(h={opacity:0});else{const O=positioners$1[o.position].call(this,l,this._eventPosition);y=this._createItems(o),this.title=this.getTitle(y,o),this.beforeBody=this.getBeforeBody(y,o),this.body=this.getBody(y,o),this.afterBody=this.getAfterBody(y,o),this.footer=this.getFooter(y,o);const D=this._size=getTooltipSize(this,o),R=Object.assign({},O,D),F=determineAlignment(this.chart,o,R),B=getBackgroundPoint(o,R,F,this.chart);this.xAlign=F.xAlign,this.yAlign=F.yAlign,h={opacity:1,x:B.x,y:B.y,width:D.width,height:D.height,caretX:O.x,caretY:O.y}}this._tooltipItems=y,this.$context=void 0,h&&this._resolveAnimations().update(this,h),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,o,l){const h=this.getCaretPosition(e,o,l);t.lineTo(h.x1,h.y1),t.lineTo(h.x2,h.y2),t.lineTo(h.x3,h.y3)}getCaretPosition(e,t,o){const{xAlign:l,yAlign:h}=this,{caretSize:y,cornerRadius:O}=o,{topLeft:D,topRight:R,bottomLeft:F,bottomRight:B}=toTRBLCorners(O),{x:j,y:U}=e,{width:W,height:G}=t;let q,K,Y,X,J,Q;return h==="center"?(J=U+G/2,l==="left"?(q=j,K=q-y,X=J+y,Q=J-y):(q=j+W,K=q+y,X=J-y,Q=J+y),Y=q):(l==="left"?K=j+Math.max(D,F)+y:l==="right"?K=j+W-Math.max(R,B)-y:K=this.caretX,h==="top"?(X=U,J=X-y,q=K-y,Y=K+y):(X=U+G,J=X+y,q=K+y,Y=K-y),Q=X),{x1:q,x2:K,x3:Y,y1:X,y2:J,y3:Q}}drawTitle(e,t,o){const l=this.title,h=l.length;let y,O,D;if(h){const R=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.titleAlign,o),t.textAlign=R.textAlign(o.titleAlign),t.textBaseline="middle",y=toFont(o.titleFont),O=o.titleSpacing,t.fillStyle=o.titleColor,t.font=y.string,D=0;D<h;++D)t.fillText(l[D],R.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+O,D+1===h&&(e.y+=o.titleMarginBottom-O)}}_drawColorBox(e,t,o,l,h){const y=this.labelColors[o],O=this.labelPointStyles[o],{boxHeight:D,boxWidth:R,boxPadding:F}=h,B=toFont(h.bodyFont),j=getAlignedX(this,"left",h),U=l.x(j),W=D<B.lineHeight?(B.lineHeight-D)/2:0,G=t.y+W;if(h.usePointStyle){const q={radius:Math.min(R,D)/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:1},K=l.leftForLtr(U,R)+R/2,Y=G+D/2;e.strokeStyle=h.multiKeyBackground,e.fillStyle=h.multiKeyBackground,drawPoint(e,q,K,Y),e.strokeStyle=y.borderColor,e.fillStyle=y.backgroundColor,drawPoint(e,q,K,Y)}else{e.lineWidth=y.borderWidth||1,e.strokeStyle=y.borderColor,e.setLineDash(y.borderDash||[]),e.lineDashOffset=y.borderDashOffset||0;const q=l.leftForLtr(U,R-F),K=l.leftForLtr(l.xPlus(U,1),R-F-2),Y=toTRBLCorners(y.borderRadius);Object.values(Y).some(X=>X!==0)?(e.beginPath(),e.fillStyle=h.multiKeyBackground,addRoundedRectPath(e,{x:q,y:G,w:R,h:D,radius:Y}),e.fill(),e.stroke(),e.fillStyle=y.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:K,y:G+1,w:R-2,h:D-2,radius:Y}),e.fill()):(e.fillStyle=h.multiKeyBackground,e.fillRect(q,G,R,D),e.strokeRect(q,G,R,D),e.fillStyle=y.backgroundColor,e.fillRect(K,G+1,R-2,D-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,t,o){const{body:l}=this,{bodySpacing:h,bodyAlign:y,displayColors:O,boxHeight:D,boxWidth:R,boxPadding:F}=o,B=toFont(o.bodyFont);let j=B.lineHeight,U=0;const W=getRtlAdapter(o.rtl,this.x,this.width),G=function(te){t.fillText(te,W.x(e.x+U),e.y+j/2),e.y+=j+h},q=W.textAlign(y);let K,Y,X,J,Q,Z,ee;for(t.textAlign=y,t.textBaseline="middle",t.font=B.string,e.x=getAlignedX(this,q,o),t.fillStyle=o.bodyColor,each$2(this.beforeBody,G),U=O&&q!=="right"?y==="center"?R/2+F:R+2+F:0,J=0,Z=l.length;J<Z;++J){for(K=l[J],Y=this.labelTextColors[J],t.fillStyle=Y,each$2(K.before,G),X=K.lines,O&&X.length&&(this._drawColorBox(t,e,J,W,o),j=Math.max(B.lineHeight,D)),Q=0,ee=X.length;Q<ee;++Q)G(X[Q]),j=B.lineHeight;each$2(K.after,G)}U=0,j=B.lineHeight,each$2(this.afterBody,G),e.y-=h}drawFooter(e,t,o){const l=this.footer,h=l.length;let y,O;if(h){const D=getRtlAdapter(o.rtl,this.x,this.width);for(e.x=getAlignedX(this,o.footerAlign,o),e.y+=o.footerMarginTop,t.textAlign=D.textAlign(o.footerAlign),t.textBaseline="middle",y=toFont(o.footerFont),t.fillStyle=o.footerColor,t.font=y.string,O=0;O<h;++O)t.fillText(l[O],D.x(e.x),e.y+y.lineHeight/2),e.y+=y.lineHeight+o.footerSpacing}}drawBackground(e,t,o,l){const{xAlign:h,yAlign:y}=this,{x:O,y:D}=e,{width:R,height:F}=o,{topLeft:B,topRight:j,bottomLeft:U,bottomRight:W}=toTRBLCorners(l.cornerRadius);t.fillStyle=l.backgroundColor,t.strokeStyle=l.borderColor,t.lineWidth=l.borderWidth,t.beginPath(),t.moveTo(O+B,D),y==="top"&&this.drawCaret(e,t,o,l),t.lineTo(O+R-j,D),t.quadraticCurveTo(O+R,D,O+R,D+j),y==="center"&&h==="right"&&this.drawCaret(e,t,o,l),t.lineTo(O+R,D+F-W),t.quadraticCurveTo(O+R,D+F,O+R-W,D+F),y==="bottom"&&this.drawCaret(e,t,o,l),t.lineTo(O+U,D+F),t.quadraticCurveTo(O,D+F,O,D+F-U),y==="center"&&h==="left"&&this.drawCaret(e,t,o,l),t.lineTo(O,D+B),t.quadraticCurveTo(O,D,O+B,D),t.closePath(),t.fill(),l.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,o=this.$animations,l=o&&o.x,h=o&&o.y;if(l||h){const y=positioners$1[e.position].call(this,this._active,this._eventPosition);if(!y)return;const O=this._size=getTooltipSize(this,e),D=Object.assign({},y,this._size),R=determineAlignment(t,e,D),F=getBackgroundPoint(e,D,R,t);(l._to!==F.x||h._to!==F.y)&&(this.xAlign=R.xAlign,this.yAlign=R.yAlign,this.width=O.width,this.height=O.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,F))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(t);const l={width:this.width,height:this.height},h={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const y=toPadding(t.padding),O=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&O&&(e.save(),e.globalAlpha=o,this.drawBackground(h,e,l,t),overrideTextDirection(e,t.textDirection),h.y+=y.top,this.drawTitle(h,e,t),this.drawBody(h,e,t),this.drawFooter(h,e,t),restoreTextDirection(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const o=this._active,l=e.map(({datasetIndex:O,index:D})=>{const R=this.chart.getDatasetMeta(O);if(!R)throw new Error("Cannot find a dataset at index "+O);return{datasetIndex:O,element:R.data[D],index:D}}),h=!_elementsEqual(o,l),y=this._positionChanged(l,t);(h||y)&&(this._active=l,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,o=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,h=this._active||[],y=this._getActiveElements(e,h,t,o),O=this._positionChanged(y,e),D=t||!_elementsEqual(y,h)||O;return D&&(this._active=y,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),D}_getActiveElements(e,t,o,l){const h=this.options;if(e.type==="mouseout")return[];if(!l)return t;const y=this.chart.getElementsAtEventForMode(e,h.mode,h,o);return h.reverse&&y.reverse(),y}_positionChanged(e,t){const{caretX:o,caretY:l,options:h}=this,y=positioners$1[h.position].call(this,e,t);return y!==!1&&(o!==y.x||l!==y.y)}}Tooltip.positioners=positioners$1;var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners:positioners$1,afterInit(r,e,t){t&&(r.tooltip=new Tooltip({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",t)===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:noop$3,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,o=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return t[e.dataIndex]}return""},afterTitle:noop$3,beforeBody:noop$3,beforeLabel:noop$3,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return isNullOrUndef(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:noop$3,afterBody:noop$3,beforeFooter:noop$3,footer:noop$3,afterFooter:noop$3}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Decimation:plugin_decimation,Filler:index$1,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(r,e,t,o)=>(typeof e=="string"?(t=r.push(e)-1,o.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function findOrAddLabel(r,e,t,o){const l=r.indexOf(e);if(l===-1)return addIfString(r,e,t,o);const h=r.lastIndexOf(e);return l!==h?t:l}const validIndex=(r,e)=>r===null?null:_limitValue(Math.round(r),0,e);class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const o=this.getLabels();for(const{index:l,label:h}of t)o[l]===h&&o.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(isNullOrUndef(e))return null;const o=this.getLabels();return t=isFinite(t)&&o[t]===e?t:findOrAddLabel(o,e,valueOrDefault(t,e),this._addedLabels),validIndex(t,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),t||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const e=this.min,t=this.max,o=this.options.offset,l=[];let h=this.getLabels();h=e===0&&t===h.length-1?h:h.slice(e,t+1),this._valueRange=Math.max(h.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let y=e;y<=t;y++)l.push({value:y});return l}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}CategoryScale.id="category";CategoryScale.defaults={ticks:{callback:CategoryScale.prototype.getLabelForValue}};function generateTicks$1(r,e){const t=[],{bounds:l,step:h,min:y,max:O,precision:D,count:R,maxTicks:F,maxDigits:B,includeBounds:j}=r,U=h||1,W=F-1,{min:G,max:q}=e,K=!isNullOrUndef(y),Y=!isNullOrUndef(O),X=!isNullOrUndef(R),J=(q-G)/(B+1);let Q=niceNum((q-G)/W/U)*U,Z,ee,te,re;if(Q<1e-14&&!K&&!Y)return[{value:G},{value:q}];re=Math.ceil(q/Q)-Math.floor(G/Q),re>W&&(Q=niceNum(re*Q/W/U)*U),isNullOrUndef(D)||(Z=Math.pow(10,D),Q=Math.ceil(Q*Z)/Z),l==="ticks"?(ee=Math.floor(G/Q)*Q,te=Math.ceil(q/Q)*Q):(ee=G,te=q),K&&Y&&h&&almostWhole((O-y)/h,Q/1e3)?(re=Math.round(Math.min((O-y)/Q,F)),Q=(O-y)/re,ee=y,te=O):X?(ee=K?y:ee,te=Y?O:te,re=R-1,Q=(te-ee)/re):(re=(te-ee)/Q,almostEquals(re,Math.round(re),Q/1e3)?re=Math.round(re):re=Math.ceil(re));const ie=Math.max(_decimalPlaces(Q),_decimalPlaces(ee));Z=Math.pow(10,isNullOrUndef(D)?ie:D),ee=Math.round(ee*Z)/Z,te=Math.round(te*Z)/Z;let ne=0;for(K&&(j&&ee!==y?(t.push({value:y}),ee<y&&ne++,almostEquals(Math.round((ee+ne*Q)*Z)/Z,y,relativeLabelSize(y,J,r))&&ne++):ee<y&&ne++);ne<re;++ne)t.push({value:Math.round((ee+ne*Q)*Z)/Z});return Y&&j&&te!==O?t.length&&almostEquals(t[t.length-1].value,O,relativeLabelSize(O,J,r))?t[t.length-1].value=O:t.push({value:O}):(!Y||te===O)&&t.push({value:te}),t}function relativeLabelSize(r,e,{horizontal:t,minRotation:o}){const l=toRadians(o),h=(t?Math.sin(l):Math.cos(l))||.001,y=.75*e*(""+r).length;return Math.min(e/h,y)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:o}=this.getUserBounds();let{min:l,max:h}=this;const y=D=>l=t?l:D,O=D=>h=o?h:D;if(e){const D=sign(l),R=sign(h);D<0&&R<0?O(0):D>0&&R>0&&y(0)}if(l===h){let D=1;(h>=Number.MAX_SAFE_INTEGER||l<=Number.MIN_SAFE_INTEGER)&&(D=Math.abs(h*.05)),O(h+D),e||y(l-D)}this.min=l,this.max=h}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:o}=e,l;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),t=t||11),t&&(l=Math.min(t,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const l={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},h=this._range||this,y=generateTicks$1(l,h);return e.bounds==="ticks"&&_setMinAndMaxByKey(y,this,"value"),e.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const e=this.ticks;let t=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const l=(o-t)/Math.max(e.length-1,1)/2;t-=l,o+=l}this._startValue=t,this._endValue=o,this._valueRange=o-t}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,o=toRadians(this.options.ticks.minRotation),l=(e?Math.sin(o):Math.cos(o))||.001,h=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,h.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}LinearScale.id="linear";LinearScale.defaults={ticks:{callback:Ticks.formatters.numeric}};function isMajor(r){return r/Math.pow(10,Math.floor(log10(r)))===1}function generateTicks(r,e){const t=Math.floor(log10(e.max)),o=Math.ceil(e.max/Math.pow(10,t)),l=[];let h=finiteOrDefault(r.min,Math.pow(10,Math.floor(log10(e.min)))),y=Math.floor(log10(h)),O=Math.floor(h/Math.pow(10,y)),D=y<0?Math.pow(10,Math.abs(y)):1;do l.push({value:h,major:isMajor(h)}),++O,O===10&&(O=1,++y,D=y>=0?1:D),h=Math.round(O*Math.pow(10,y)*D)/D;while(y<t||y===t&&O<o);const R=finiteOrDefault(r.max,h);return l.push({value:R,major:isMajor(h)}),l}class LogarithmicScale extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const o=LinearScaleBase.prototype.parse.apply(this,[e,t]);if(o===0){this._zero=!0;return}return isNumberFinite(o)&&o>0?o:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=isNumberFinite(e)?Math.max(0,e):null,this.max=isNumberFinite(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let o=this.min,l=this.max;const h=D=>o=e?o:D,y=D=>l=t?l:D,O=(D,R)=>Math.pow(10,Math.floor(log10(D))+R);o===l&&(o<=0?(h(1),y(10)):(h(O(o,-1)),y(O(l,1)))),o<=0&&h(O(l,-1)),l<=0&&y(O(o,1)),this._zero&&this.min!==this._suggestedMin&&o===O(this.min,0)&&h(O(o,-1)),this.min=o,this.max=l}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},o=generateTicks(t,this);return e.bounds==="ticks"&&_setMinAndMaxByKey(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(e){return e===void 0?"0":formatNumber(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=log10(e),this._valueRange=log10(this.max)-log10(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(log10(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}LogarithmicScale.id="logarithmic";LogarithmicScale.defaults={ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}};function getTickBackdropHeight(r){const e=r.ticks;if(e.display&&r.display){const t=toPadding(e.backdropPadding);return valueOrDefault(e.font&&e.font.size,defaults$3.font.size)+t.height}return 0}function measureLabelSize(r,e,t){return t=isArray$f(t)?t:[t],{w:_longestText(r,e.string,t),h:t.length*e.lineHeight}}function determineLimits(r,e,t,o,l){return r===o||r===l?{start:e-t/2,end:e+t/2}:r<o||r>l?{start:e-t,end:e}:{start:e,end:e+t}}function fitWithPointLabels(r){const e={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},t=Object.assign({},e),o=[],l=[],h=r._pointLabels.length,y=r.options.pointLabels,O=y.centerPointLabels?PI/h:0;for(let D=0;D<h;D++){const R=y.setContext(r.getPointLabelContext(D));l[D]=R.padding;const F=r.getPointPosition(D,r.drawingArea+l[D],O),B=toFont(R.font),j=measureLabelSize(r.ctx,B,r._pointLabels[D]);o[D]=j;const U=_normalizeAngle(r.getIndexAngle(D)+O),W=Math.round(toDegrees(U)),G=determineLimits(W,F.x,j.w,0,180),q=determineLimits(W,F.y,j.h,90,270);updateLimits(t,e,U,G,q)}r.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),r._pointLabelItems=buildPointLabelItems(r,o,l)}function updateLimits(r,e,t,o,l){const h=Math.abs(Math.sin(t)),y=Math.abs(Math.cos(t));let O=0,D=0;o.start<e.l?(O=(e.l-o.start)/h,r.l=Math.min(r.l,e.l-O)):o.end>e.r&&(O=(o.end-e.r)/h,r.r=Math.max(r.r,e.r+O)),l.start<e.t?(D=(e.t-l.start)/y,r.t=Math.min(r.t,e.t-D)):l.end>e.b&&(D=(l.end-e.b)/y,r.b=Math.max(r.b,e.b+D))}function buildPointLabelItems(r,e,t){const o=[],l=r._pointLabels.length,h=r.options,y=getTickBackdropHeight(h)/2,O=r.drawingArea,D=h.pointLabels.centerPointLabels?PI/l:0;for(let R=0;R<l;R++){const F=r.getPointPosition(R,O+y+t[R],D),B=Math.round(toDegrees(_normalizeAngle(F.angle+HALF_PI))),j=e[R],U=yForAngle(F.y,j.h,B),W=getTextAlignForAngle(B),G=leftForTextAlign(F.x,j.w,W);o.push({x:F.x,y:U,textAlign:W,left:G,top:U,right:G+j.w,bottom:U+j.h})}return o}function getTextAlignForAngle(r){return r===0||r===180?"center":r<180?"left":"right"}function leftForTextAlign(r,e,t){return t==="right"?r-=e:t==="center"&&(r-=e/2),r}function yForAngle(r,e,t){return t===90||t===270?r-=e/2:(t>270||t<90)&&(r-=e),r}function drawPointLabels(r,e){const{ctx:t,options:{pointLabels:o}}=r;for(let l=e-1;l>=0;l--){const h=o.setContext(r.getPointLabelContext(l)),y=toFont(h.font),{x:O,y:D,textAlign:R,left:F,top:B,right:j,bottom:U}=r._pointLabelItems[l],{backdropColor:W}=h;if(!isNullOrUndef(W)){const G=toTRBLCorners(h.borderRadius),q=toPadding(h.backdropPadding);t.fillStyle=W;const K=F-q.left,Y=B-q.top,X=j-F+q.width,J=U-B+q.height;Object.values(G).some(Q=>Q!==0)?(t.beginPath(),addRoundedRectPath(t,{x:K,y:Y,w:X,h:J,radius:G}),t.fill()):t.fillRect(K,Y,X,J)}renderText(t,r._pointLabels[l],O,D+y.lineHeight/2,y,{color:h.color,textAlign:R,textBaseline:"middle"})}}function pathRadiusLine(r,e,t,o){const{ctx:l}=r;if(t)l.arc(r.xCenter,r.yCenter,e,0,TAU);else{let h=r.getPointPosition(0,e);l.moveTo(h.x,h.y);for(let y=1;y<o;y++)h=r.getPointPosition(y,e),l.lineTo(h.x,h.y)}}function drawRadiusLine(r,e,t,o){const l=r.ctx,h=e.circular,{color:y,lineWidth:O}=e;!h&&!o||!y||!O||t<0||(l.save(),l.strokeStyle=y,l.lineWidth=O,l.setLineDash(e.borderDash),l.lineDashOffset=e.borderDashOffset,l.beginPath(),pathRadiusLine(r,t,h,o),l.closePath(),l.stroke(),l.restore())}function createPointLabelContext(r,e,t){return createContext(r,{label:t,index:e,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=toPadding(getTickBackdropHeight(this.options)/2),t=this.width=this.maxWidth-e.width,o=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+o/2+e.top),this.drawingArea=Math.floor(Math.min(t,o)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=isNumberFinite(e)&&!isNaN(e)?e:0,this.max=isNumberFinite(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(e){LinearScaleBase.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,o)=>{const l=callback(this.options.pointLabels.callback,[t,o],this);return l||l===0?l:""}).filter((t,o)=>this.chart.getDataVisibility(o))}fit(){const e=this.options;e.display&&e.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,o,l){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((o-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,o,l))}getIndexAngle(e){const t=TAU/(this._pointLabels.length||1),o=this.options.startAngle||0;return _normalizeAngle(e*t+toRadians(o))}getDistanceFromCenterForValue(e){if(isNullOrUndef(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(isNullOrUndef(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const o=t[e];return createPointLabelContext(this.getContext(),e,o)}}getPointPosition(e,t,o=0){const l=this.getIndexAngle(e)-HALF_PI+o;return{x:Math.cos(l)*t+this.xCenter,y:Math.sin(l)*t+this.yCenter,angle:l}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:o,right:l,bottom:h}=this._pointLabelItems[e];return{left:t,top:o,right:l,bottom:h}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const o=this.ctx;o.save(),o.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),o.closePath(),o.fillStyle=e,o.fill(),o.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:o,grid:l}=t,h=this._pointLabels.length;let y,O,D;if(t.pointLabels.display&&drawPointLabels(this,h),l.display&&this.ticks.forEach((R,F)=>{if(F!==0){O=this.getDistanceFromCenterForValue(R.value);const B=l.setContext(this.getContext(F-1));drawRadiusLine(this,B,O,h)}}),o.display){for(e.save(),y=h-1;y>=0;y--){const R=o.setContext(this.getPointLabelContext(y)),{color:F,lineWidth:B}=R;!B||!F||(e.lineWidth=B,e.strokeStyle=F,e.setLineDash(R.borderDash),e.lineDashOffset=R.borderDashOffset,O=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),D=this.getPointPosition(y,O),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(D.x,D.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,o=t.ticks;if(!o.display)return;const l=this.getIndexAngle(0);let h,y;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(l),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((O,D)=>{if(D===0&&!t.reverse)return;const R=o.setContext(this.getContext(D)),F=toFont(R.font);if(h=this.getDistanceFromCenterForValue(this.ticks[D].value),R.showLabelBackdrop){e.font=F.string,y=e.measureText(O.label).width,e.fillStyle=R.backdropColor;const B=toPadding(R.backdropPadding);e.fillRect(-y/2-B.left,-h-F.size/2-B.top,y+B.width,F.size+B.height)}renderText(e,O.label,0,-h,F,{color:R.color})}),e.restore()}drawTitle(){}}RadialLinearScale.id="radialLinear";RadialLinearScale.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(r){return r},padding:5,centerPointLabels:!1}};RadialLinearScale.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};RadialLinearScale.descriptors={angleLines:{_fallback:"grid"}};const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(r,e){return r-e}function parse$1(r,e){if(isNullOrUndef(e))return null;const t=r._adapter,{parser:o,round:l,isoWeekday:h}=r._parseOpts;let y=e;return typeof o=="function"&&(y=o(y)),isNumberFinite(y)||(y=typeof o=="string"?t.parse(y,o):t.parse(y)),y===null?null:(l&&(y=l==="week"&&(isNumber(h)||h===!0)?t.startOf(y,"isoWeek",h):t.startOf(y,l)),+y)}function determineUnitForAutoTicks(r,e,t,o){const l=UNITS.length;for(let h=UNITS.indexOf(r);h<l-1;++h){const y=INTERVALS[UNITS[h]],O=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((t-e)/(O*y.size))<=o)return UNITS[h]}return UNITS[l-1]}function determineUnitForFormatting(r,e,t,o,l){for(let h=UNITS.length-1;h>=UNITS.indexOf(t);h--){const y=UNITS[h];if(INTERVALS[y].common&&r._adapter.diff(l,o,y)>=e-1)return y}return UNITS[t?UNITS.indexOf(t):0]}function determineMajorUnit(r){for(let e=UNITS.indexOf(r)+1,t=UNITS.length;e<t;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:o,hi:l}=_lookup(t,e),h=t[o]>=e?t[o]:t[l];r[h]=!0}}function setMajorTicks(r,e,t,o){const l=r._adapter,h=+l.startOf(e[0].value,o),y=e[e.length-1].value;let O,D;for(O=h;O<=y;O=+l.add(O,1,o))D=t[O],D>=0&&(e[D].major=!0);return e}function ticksFromTimestamps(r,e,t){const o=[],l={},h=e.length;let y,O;for(y=0;y<h;++y)O=e[y],l[O]=y,o.push({value:O,major:!1});return h===0||!t?o:setMajorTicks(r,o,l,t)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const o=e.time||(e.time={}),l=this._adapter=new adapters._date(e.adapters.date);mergeIf(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:parse$1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,o=e.time.unit||"day";let{min:l,max:h,minDefined:y,maxDefined:O}=this.getUserBounds();function D(R){!y&&!isNaN(R.min)&&(l=Math.min(l,R.min)),!O&&!isNaN(R.max)&&(h=Math.max(h,R.max))}(!y||!O)&&(D(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&D(this.getMinMax(!1))),l=isNumberFinite(l)&&!isNaN(l)?l:+t.startOf(Date.now(),o),h=isNumberFinite(h)&&!isNaN(h)?h:+t.endOf(Date.now(),o)+1,this.min=Math.min(l,h-1),this.max=Math.max(l+1,h)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],o=e[e.length-1]),{min:t,max:o}}buildTicks(){const e=this.options,t=e.time,o=e.ticks,l=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const h=this.min,y=this.max,O=_filterBetween(l,h,y);return this._unit=t.unit||(o.autoSkip?determineUnitForAutoTicks(t.minUnit,this.min,this.max,this._getLabelCapacity(h)):determineUnitForFormatting(this,O.length,t.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(l),e.reverse&&O.reverse(),ticksFromTimestamps(this,O,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t=0,o=0,l,h;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?t=1-l:t=(this.getDecimalForValue(e[1])-l)/2,h=this.getDecimalForValue(e[e.length-1]),e.length===1?o=h:o=(h-this.getDecimalForValue(e[e.length-2]))/2);const y=e.length<3?.5:.25;t=_limitValue(t,0,y),o=_limitValue(o,0,y),this._offsets={start:t,end:o,factor:1/(t+1+o)}}_generate(){const e=this._adapter,t=this.min,o=this.max,l=this.options,h=l.time,y=h.unit||determineUnitForAutoTicks(h.minUnit,t,o,this._getLabelCapacity(t)),O=valueOrDefault(h.stepSize,1),D=y==="week"?h.isoWeekday:!1,R=isNumber(D)||D===!0,F={};let B=t,j,U;if(R&&(B=+e.startOf(B,"isoWeek",D)),B=+e.startOf(B,R?"day":y),e.diff(o,t,y)>1e5*O)throw new Error(t+" and "+o+" are too far apart with stepSize of "+O+" "+y);const W=l.ticks.source==="data"&&this.getDataTimestamps();for(j=B,U=0;j<o;j=+e.add(j,O,y),U++)addTick(F,j,W);return(j===o||l.bounds==="ticks"||U===1)&&addTick(F,j,W),Object.keys(F).sort((G,q)=>G-q).map(G=>+G)}getLabelForValue(e){const t=this._adapter,o=this.options.time;return o.tooltipFormat?t.format(e,o.tooltipFormat):t.format(e,o.displayFormats.datetime)}_tickFormatFunction(e,t,o,l){const h=this.options,y=h.time.displayFormats,O=this._unit,D=this._majorUnit,R=O&&y[O],F=D&&y[D],B=o[t],j=D&&F&&B&&B.major,U=this._adapter.format(e,l||(j?F:R)),W=h.ticks.callback;return W?callback(W,[U,t,o],this):U}generateTickLabels(e){let t,o,l;for(t=0,o=e.length;t<o;++t)l=e[t],l.label=this._tickFormatFunction(l.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+o)*t.factor)}getValueForPixel(e){const t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,o=this.ctx.measureText(e).width,l=toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),h=Math.cos(l),y=Math.sin(l),O=this._resolveTickFontOptions(0).size;return{w:o*h+O*y,h:o*y+O*h}}_getLabelCapacity(e){const t=this.options.time,o=t.displayFormats,l=o[t.unit]||o.millisecond,h=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),l),y=this._getLabelSize(h),O=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return O>0?O:1}getDataTimestamps(){let e=this._cache.data||[],t,o;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(t=0,o=l.length;t<o;++t)e=e.concat(l[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,o;if(e.length)return e;const l=this.getLabels();for(t=0,o=l.length;t<o;++t)e.push(parse$1(this,l[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}TimeScale.id="time";TimeScale.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function interpolate(r,e,t){let o=0,l=r.length-1,h,y,O,D;t?(e>=r[o].pos&&e<=r[l].pos&&({lo:o,hi:l}=_lookupByKey(r,"pos",e)),{pos:h,time:O}=r[o],{pos:y,time:D}=r[l]):(e>=r[o].time&&e<=r[l].time&&({lo:o,hi:l}=_lookupByKey(r,"time",e)),{time:h,pos:O}=r[o],{time:y,pos:D}=r[l]);const R=y-h;return R?O+(D-O)*(e-h)/R:O}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=interpolate(t,this.min),this._tableRange=interpolate(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:o}=this,l=[],h=[];let y,O,D,R,F;for(y=0,O=e.length;y<O;++y)R=e[y],R>=t&&R<=o&&l.push(R);if(l.length<2)return[{time:t,pos:0},{time:o,pos:1}];for(y=0,O=l.length;y<O;++y)F=l[y+1],D=l[y-1],R=l[y],Math.round((F+D)/2)!==R&&h.push({time:R,pos:y/(O-1)});return h}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),o=this.getLabelTimestamps();return t.length&&o.length?e=this.normalize(t.concat(o)):e=t.length?t:o,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return interpolate(this._table,o*this._tableRange+this._minPos,!0)}}TimeSeriesScale.id="timeseries";TimeSeriesScale.defaults=TimeScale.defaults;var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];Chart.register(...registerables);/*!
 * chartjs-plugin-datalabels v2.0.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2021 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var devicePixelRatio=function(){if(typeof window!="undefined"){if(window.devicePixelRatio)return window.devicePixelRatio;var r=window.screen;if(r)return(r.deviceXDPI||1)/(r.logicalXDPI||1)}return 1}(),utils={toTextLines:function(r){var e=[],t;for(r=[].concat(r);r.length;)t=r.pop(),typeof t=="string"?e.unshift.apply(e,t.split(`
`)):Array.isArray(t)?r.push.apply(r,t):isNullOrUndef(r)||e.unshift(""+t);return e},textSize:function(r,e,t){var o=[].concat(e),l=o.length,h=r.font,y=0,O;for(r.font=t.string,O=0;O<l;++O)y=Math.max(r.measureText(o[O]).width,y);return r.font=h,{height:l*t.lineHeight,width:y}},bound:function(r,e,t){return Math.max(r,Math.min(e,t))},arrayDiff:function(r,e){var t=r.slice(),o=[],l,h,y,O;for(l=0,y=e.length;l<y;++l)O=e[l],h=t.indexOf(O),h===-1?o.push([O,1]):t.splice(h,1);for(l=0,y=t.length;l<y;++l)o.push([t[l],-1]);return o},rasterize:function(r){return Math.round(r*devicePixelRatio)/devicePixelRatio}};function orient(r,e){var t=e.x,o=e.y;if(t===null)return{x:0,y:-1};if(o===null)return{x:1,y:0};var l=r.x-t,h=r.y-o,y=Math.sqrt(l*l+h*h);return{x:y?l/y:0,y:y?h/y:-1}}function aligned(r,e,t,o,l){switch(l){case"center":t=o=0;break;case"bottom":t=0,o=1;break;case"right":t=1,o=0;break;case"left":t=-1,o=0;break;case"top":t=0,o=-1;break;case"start":t=-t,o=-o;break;case"end":break;default:l*=Math.PI/180,t=Math.cos(l),o=Math.sin(l);break}return{x:r,y:e,vx:t,vy:o}}var R_INSIDE=0,R_LEFT=1,R_RIGHT=2,R_BOTTOM=4,R_TOP=8;function region(r,e,t){var o=R_INSIDE;return r<t.left?o|=R_LEFT:r>t.right&&(o|=R_RIGHT),e<t.top?o|=R_TOP:e>t.bottom&&(o|=R_BOTTOM),o}function clipped(r,e){for(var t=r.x0,o=r.y0,l=r.x1,h=r.y1,y=region(t,o,e),O=region(l,h,e),D,R,F;!(!(y|O)||y&O);)D=y||O,D&R_TOP?(R=t+(l-t)*(e.top-o)/(h-o),F=e.top):D&R_BOTTOM?(R=t+(l-t)*(e.bottom-o)/(h-o),F=e.bottom):D&R_RIGHT?(F=o+(h-o)*(e.right-t)/(l-t),R=e.right):D&R_LEFT&&(F=o+(h-o)*(e.left-t)/(l-t),R=e.left),D===y?(t=R,o=F,y=region(t,o,e)):(l=R,h=F,O=region(l,h,e));return{x0:t,x1:l,y0:o,y1:h}}function compute$1(r,e){var t=e.anchor,o=r,l,h;return e.clamp&&(o=clipped(o,e.area)),t==="start"?(l=o.x0,h=o.y0):t==="end"?(l=o.x1,h=o.y1):(l=(o.x0+o.x1)/2,h=(o.y0+o.y1)/2),aligned(l,h,r.vx,r.vy,e.align)}var positioners={arc:function(r,e){var t=(r.startAngle+r.endAngle)/2,o=Math.cos(t),l=Math.sin(t),h=r.innerRadius,y=r.outerRadius;return compute$1({x0:r.x+o*h,y0:r.y+l*h,x1:r.x+o*y,y1:r.y+l*y,vx:o,vy:l},e)},point:function(r,e){var t=orient(r,e.origin),o=t.x*r.options.radius,l=t.y*r.options.radius;return compute$1({x0:r.x-o,y0:r.y-l,x1:r.x+o,y1:r.y+l,vx:t.x,vy:t.y},e)},bar:function(r,e){var t=orient(r,e.origin),o=r.x,l=r.y,h=0,y=0;return r.horizontal?(o=Math.min(r.x,r.base),h=Math.abs(r.base-r.x)):(l=Math.min(r.y,r.base),y=Math.abs(r.base-r.y)),compute$1({x0:o,y0:l+y,x1:o+h,y1:l,vx:t.x,vy:t.y},e)},fallback:function(r,e){var t=orient(r,e.origin);return compute$1({x0:r.x,y0:r.y,x1:r.x,y1:r.y,vx:t.x,vy:t.y},e)}},rasterize=utils.rasterize;function boundingRects(r){var e=r.borderWidth||0,t=r.padding,o=r.size.height,l=r.size.width,h=-l/2,y=-o/2;return{frame:{x:h-t.left-e,y:y-t.top-e,w:l+t.width+e*2,h:o+t.height+e*2},text:{x:h,y,w:l,h:o}}}function getScaleOrigin(r,e){var t=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!t)return null;if(t.xCenter!==void 0&&t.yCenter!==void 0)return{x:t.xCenter,y:t.yCenter};var o=t.getBasePixel();return r.horizontal?{x:o,y:null}:{x:null,y:o}}function getPositioner(r){return r instanceof ArcElement?positioners.arc:r instanceof PointElement?positioners.point:r instanceof BarElement?positioners.bar:positioners.fallback}function drawRoundedRect(r,e,t,o,l,h){var y=Math.PI/2;if(h){var O=Math.min(h,l/2,o/2),D=e+O,R=t+O,F=e+o-O,B=t+l-O;r.moveTo(e,R),D<F&&R<B?(r.arc(D,R,O,-Math.PI,-y),r.arc(F,R,O,-y,0),r.arc(F,B,O,0,y),r.arc(D,B,O,y,Math.PI)):D<F?(r.moveTo(D,t),r.arc(F,R,O,-y,y),r.arc(D,R,O,y,Math.PI+y)):R<B?(r.arc(D,R,O,-Math.PI,0),r.arc(D,B,O,0,Math.PI)):r.arc(D,R,O,-Math.PI,Math.PI),r.closePath(),r.moveTo(e,t)}else r.rect(e,t,o,l)}function drawFrame(r,e,t){var o=t.backgroundColor,l=t.borderColor,h=t.borderWidth;!o&&(!l||!h)||(r.beginPath(),drawRoundedRect(r,rasterize(e.x)+h/2,rasterize(e.y)+h/2,rasterize(e.w)-h,rasterize(e.h)-h,t.borderRadius),r.closePath(),o&&(r.fillStyle=o,r.fill()),l&&h&&(r.strokeStyle=l,r.lineWidth=h,r.lineJoin="miter",r.stroke()))}function textGeometry(r,e,t){var o=t.lineHeight,l=r.w,h=r.x,y=r.y+o/2;return e==="center"?h+=l/2:(e==="end"||e==="right")&&(h+=l),{h:o,w:l,x:h,y}}function drawTextLine(r,e,t){var o=r.shadowBlur,l=t.stroked,h=rasterize(t.x),y=rasterize(t.y),O=rasterize(t.w);l&&r.strokeText(e,h,y,O),t.filled&&(o&&l&&(r.shadowBlur=0),r.fillText(e,h,y,O),o&&l&&(r.shadowBlur=o))}function drawText(r,e,t,o){var l=o.textAlign,h=o.color,y=!!h,O=o.font,D=e.length,R=o.textStrokeColor,F=o.textStrokeWidth,B=R&&F,j;if(!(!D||!y&&!B))for(t=textGeometry(t,l,O),r.font=O.string,r.textAlign=l,r.textBaseline="middle",r.shadowBlur=o.textShadowBlur,r.shadowColor=o.textShadowColor,y&&(r.fillStyle=h),B&&(r.lineJoin="round",r.lineWidth=F,r.strokeStyle=R),j=0,D=e.length;j<D;++j)drawTextLine(r,e[j],{stroked:B,filled:y,w:t.w,x:t.x,y:t.y+t.h*j})}var Label$1=function(r,e,t,o){var l=this;l._config=r,l._index=o,l._model=null,l._rects=null,l._ctx=e,l._el=t};merge$4(Label$1.prototype,{_modelize:function(r,e,t,o){var l=this,h=l._index,y=toFont(resolve([t.font,{}],o,h)),O=resolve([t.color,defaults$3.color],o,h);return{align:resolve([t.align,"center"],o,h),anchor:resolve([t.anchor,"center"],o,h),area:o.chart.chartArea,backgroundColor:resolve([t.backgroundColor,null],o,h),borderColor:resolve([t.borderColor,null],o,h),borderRadius:resolve([t.borderRadius,0],o,h),borderWidth:resolve([t.borderWidth,0],o,h),clamp:resolve([t.clamp,!1],o,h),clip:resolve([t.clip,!1],o,h),color:O,display:r,font:y,lines:e,offset:resolve([t.offset,0],o,h),opacity:resolve([t.opacity,1],o,h),origin:getScaleOrigin(l._el,o),padding:toPadding(resolve([t.padding,0],o,h)),positioner:getPositioner(l._el),rotation:resolve([t.rotation,0],o,h)*(Math.PI/180),size:utils.textSize(l._ctx,e,y),textAlign:resolve([t.textAlign,"start"],o,h),textShadowBlur:resolve([t.textShadowBlur,0],o,h),textShadowColor:resolve([t.textShadowColor,O],o,h),textStrokeColor:resolve([t.textStrokeColor,O],o,h),textStrokeWidth:resolve([t.textStrokeWidth,0],o,h)}},update:function(r){var e=this,t=null,o=null,l=e._index,h=e._config,y,O,D,R=resolve([h.display,!0],r,l);R&&(y=r.dataset.data[l],O=valueOrDefault(callback(h.formatter,[y,r]),y),D=isNullOrUndef(O)?[]:utils.toTextLines(O),D.length&&(t=e._modelize(R,D,h,r),o=boundingRects(t))),e._model=t,e._rects=o},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(r,e){var t=this,o=r.ctx,l=t._model,h=t._rects,y;!this.visible()||(o.save(),l.clip&&(y=l.area,o.beginPath(),o.rect(y.left,y.top,y.right-y.left,y.bottom-y.top),o.clip()),o.globalAlpha=utils.bound(0,l.opacity,1),o.translate(rasterize(e.x),rasterize(e.y)),o.rotate(l.rotation),drawFrame(o,h.frame,l),drawText(o,l.lines,h.text,l),o.restore())}});var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated(r,e,t){var o=Math.cos(t),l=Math.sin(t),h=e.x,y=e.y;return{x:h+o*(r.x-h)-l*(r.y-y),y:y+l*(r.x-h)+o*(r.y-y)}}function projected(r,e){var t=MAX_INTEGER,o=MIN_INTEGER,l=e.origin,h,y,O,D,R;for(h=0;h<r.length;++h)y=r[h],O=y.x-l.x,D=y.y-l.y,R=e.vx*O+e.vy*D,t=Math.min(t,R),o=Math.max(o,R);return{min:t,max:o}}function toAxis(r,e){var t=e.x-r.x,o=e.y-r.y,l=Math.sqrt(t*t+o*o);return{vx:(e.x-r.x)/l,vy:(e.y-r.y)/l,origin:r,ln:l}}var HitBox=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};merge$4(HitBox.prototype,{center:function(){var r=this._rect;return{x:r.x+r.w/2,y:r.y+r.h/2}},update:function(r,e,t){this._rotation=t,this._rect={x:e.x+r.x,y:e.y+r.y,w:e.w,h:e.h}},contains:function(r){var e=this,t=1,o=e._rect;return r=rotated(r,e.center(),-e._rotation),!(r.x<o.x-t||r.y<o.y-t||r.x>o.x+o.w+t*2||r.y>o.y+o.h+t*2)},intersects:function(r){var e=this._points(),t=r._points(),o=[toAxis(e[0],e[1]),toAxis(e[0],e[3])],l,h,y;for(this._rotation!==r._rotation&&o.push(toAxis(t[0],t[1]),toAxis(t[0],t[3])),l=0;l<o.length;++l)if(h=projected(e,o[l]),y=projected(t,o[l]),h.max<y.min||y.max<h.min)return!1;return!0},_points:function(){var r=this,e=r._rect,t=r._rotation,o=r.center();return[rotated({x:e.x,y:e.y},o,t),rotated({x:e.x+e.w,y:e.y},o,t),rotated({x:e.x+e.w,y:e.y+e.h},o,t),rotated({x:e.x,y:e.y+e.h},o,t)]}});function coordinates(r,e,t){var o=e.positioner(r,e),l=o.vx,h=o.vy;if(!l&&!h)return{x:o.x,y:o.y};var y=t.w,O=t.h,D=e.rotation,R=Math.abs(y/2*Math.cos(D))+Math.abs(O/2*Math.sin(D)),F=Math.abs(y/2*Math.sin(D))+Math.abs(O/2*Math.cos(D)),B=1/Math.max(Math.abs(l),Math.abs(h));return R*=l*B,F*=h*B,R+=e.offset*l,F+=e.offset*h,{x:o.x+R,y:o.y+F}}function collide(r,e){var t,o,l,h;for(t=r.length-1;t>=0;--t)for(l=r[t].$layout,o=t-1;o>=0&&l._visible;--o)h=r[o].$layout,h._visible&&l._box.intersects(h._box)&&e(l,h);return r}function compute(r){var e,t,o,l,h,y,O;for(e=0,t=r.length;e<t;++e)o=r[e],l=o.$layout,l._visible&&(O=new Proxy(o._el,{get:(D,R)=>D.getProps([R],!0)[R]}),h=o.geometry(),y=coordinates(O,o.model(),h),l._box.update(y,h,o.rotation()));return collide(r,function(D,R){var F=D._hidable,B=R._hidable;F&&B||B?R._visible=!1:F&&(D._visible=!1)})}var layout={prepare:function(r){var e=[],t,o,l,h,y;for(t=0,l=r.length;t<l;++t)for(o=0,h=r[t].length;o<h;++o)y=r[t][o],e.push(y),y.$layout={_box:new HitBox,_hidable:!1,_visible:!0,_set:t,_idx:o};return e.sort(function(O,D){var R=O.$layout,F=D.$layout;return R._idx===F._idx?F._set-R._set:F._idx-R._idx}),this.update(e),e},update:function(r){var e=!1,t,o,l,h,y;for(t=0,o=r.length;t<o;++t)l=r[t],h=l.model(),y=l.$layout,y._hidable=h&&h.display==="auto",y._visible=l.visible(),e|=y._hidable;e&&compute(r)},lookup:function(r,e){var t,o;for(t=r.length-1;t>=0;--t)if(o=r[t].$layout,o&&o._visible&&o._box.contains(e))return r[t];return null},draw:function(r,e){var t,o,l,h,y,O;for(t=0,o=e.length;t<o;++t)l=e[t],h=l.$layout,h._visible&&(y=l.geometry(),O=coordinates(l._el,l.model(),y),h._box.update(O,y,l.rotation()),l.draw(r,O))}},formatter=function(r){if(isNullOrUndef(r))return null;var e=r,t,o,l;if(isObject$l(r))if(!isNullOrUndef(r.label))e=r.label;else if(!isNullOrUndef(r.r))e=r.r;else for(e="",t=Object.keys(r),l=0,o=t.length;l<o;++l)e+=(l!==0?", ":"")+t[l]+": "+r[t[l]];return""+e},defaults$2={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},EXPANDO_KEY="$datalabels",DEFAULT_KEY="$default";function configure(r,e){var t=r.datalabels,o={},l=[],h,y;return t===!1?null:(t===!0&&(t={}),e=merge$4({},[e,t]),h=e.labels||{},y=Object.keys(h),delete e.labels,y.length?y.forEach(function(O){h[O]&&l.push(merge$4({},[e,h[O],{_key:O}]))}):l.push(e),o=l.reduce(function(O,D){return each$2(D.listeners||{},function(R,F){O[F]=O[F]||{},O[F][D._key||DEFAULT_KEY]=R}),delete D.listeners,O},{}),{labels:l,listeners:o})}function dispatchEvent(r,e,t){if(!!e){var o=t.$context,l=t.$groups,h;!e[l._set]||(h=e[l._set][l._key],!!h&&callback(h,[o])===!0&&(r[EXPANDO_KEY]._dirty=!0,t.update(o)))}}function dispatchMoveEvents(r,e,t,o){var l,h;!t&&!o||(t?o?t!==o&&(h=l=!0):h=!0:l=!0,h&&dispatchEvent(r,e.leave,t),l&&dispatchEvent(r,e.enter,o))}function handleMoveEvents(r,e){var t=r[EXPANDO_KEY],o=t._listeners,l,h;if(!(!o.enter&&!o.leave)){if(e.type==="mousemove")h=layout.lookup(t._labels,e);else if(e.type!=="mouseout")return;l=t._hovered,t._hovered=h,dispatchMoveEvents(r,o,l,h)}}function handleClickEvents(r,e){var t=r[EXPANDO_KEY],o=t._listeners.click,l=o&&layout.lookup(t._labels,e);l&&dispatchEvent(r,o,l)}var plugin$1={id:"datalabels",defaults:defaults$2,beforeInit:function(r){r[EXPANDO_KEY]={_actives:[]}},beforeUpdate:function(r){var e=r[EXPANDO_KEY];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(r,e,t){var o=e.index,l=r[EXPANDO_KEY],h=l._datasets[o]=[],y=r.isDatasetVisible(o),O=r.data.datasets[o],D=configure(O,t),R=e.meta.data||[],F=r.ctx,B,j,U,W,G,q,K,Y;for(F.save(),B=0,U=R.length;B<U;++B)if(K=R[B],K[EXPANDO_KEY]=[],y&&K&&r.getDataVisibility(B)&&!K.skip)for(j=0,W=D.labels.length;j<W;++j)G=D.labels[j],q=G._key,Y=new Label$1(G,F,K,B),Y.$groups={_set:o,_key:q||DEFAULT_KEY},Y.$context={active:!1,chart:r,dataIndex:B,dataset:O,datasetIndex:o},Y.update(Y.$context),K[EXPANDO_KEY].push(Y),h.push(Y);F.restore(),merge$4(l._listeners,D.listeners,{merger:function(X,J,Q){J[X]=J[X]||{},J[X][e.index]=Q[X],l._listened=!0}})},afterUpdate:function(r,e){r[EXPANDO_KEY]._labels=layout.prepare(r[EXPANDO_KEY]._datasets,e)},afterDatasetsDraw:function(r){layout.draw(r,r[EXPANDO_KEY]._labels)},beforeEvent:function(r,e){if(r[EXPANDO_KEY]._listened){var t=e.event;switch(t.type){case"mousemove":case"mouseout":handleMoveEvents(r,t);break;case"click":handleClickEvents(r,t);break}}},afterEvent:function(r){var e=r[EXPANDO_KEY],t=e._actives,o=e._actives=r.getActiveElements(),l=utils.arrayDiff(t,o),h,y,O,D,R,F,B;for(h=0,y=l.length;h<y;++h)if(R=l[h],R[1])for(B=R[0].element[EXPANDO_KEY]||[],O=0,D=B.length;O<D;++O)F=B[O],F.$context.active=R[1]===1,F.update(F.$context);(e._dirty||l.length)&&(layout.update(e._labels),r.render()),delete e._dirty}},noop$2={value:function(){}};function dispatch$1(){for(var r=0,e=arguments.length,t={},o;r<e;++r){if(!(o=arguments[r]+"")||o in t||/[\s.]/.test(o))throw new Error("illegal type: "+o);t[o]=[]}return new Dispatch(t)}function Dispatch(r){this._=r}function parseTypenames(r,e){return r.trim().split(/^|\s+/).map(function(t){var o="",l=t.indexOf(".");if(l>=0&&(o=t.slice(l+1),t=t.slice(0,l)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:o}})}Dispatch.prototype=dispatch$1.prototype={constructor:Dispatch,on:function(r,e){var t=this._,o=parseTypenames(r+"",t),l,h=-1,y=o.length;if(arguments.length<2){for(;++h<y;)if((l=(r=o[h]).type)&&(l=get$8(t[l],r.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++h<y;)if(l=(r=o[h]).type)t[l]=set$5(t[l],r.name,e);else if(e==null)for(l in t)t[l]=set$5(t[l],r.name,null);return this},copy:function(){var r={},e=this._;for(var t in e)r[t]=e[t].slice();return new Dispatch(r)},call:function(r,e){if((l=arguments.length-2)>0)for(var t=new Array(l),o=0,l,h;o<l;++o)t[o]=arguments[o+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(h=this._[r],o=0,l=h.length;o<l;++o)h[o].value.apply(e,t)},apply:function(r,e,t){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var o=this._[r],l=0,h=o.length;l<h;++l)o[l].value.apply(e,t)}};function get$8(r,e){for(var t=0,o=r.length,l;t<o;++t)if((l=r[t]).name===e)return l.value}function set$5(r,e,t){for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r[o]=noop$2,r=r.slice(0,o).concat(r.slice(o+1));break}return t!=null&&r.push({name:e,value:t}),r}var src=Object.freeze(Object.defineProperty({__proto__:null,dispatch:dispatch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(src),dispatch=require$$0.dispatch,cloudRadians=Math.PI/180,cw=1<<11>>5,ch=1<<11,d3Cloud=function(){var r=[256,256],e=cloudText,t=cloudFont,o=cloudFontSize,l=cloudFontNormal,h=cloudFontNormal,y=cloudRotate,O=cloudPadding,D=archimedeanSpiral,R=[],F=1/0,B=dispatch("word","end"),j=null,U=Math.random,W={},G=cloudCanvas;W.canvas=function(Y){return arguments.length?(G=functor(Y),W):G},W.start=function(){var Y=q(G()),X=zeroArray((r[0]>>5)*r[1]),J=null,Q=R.length,Z=-1,ee=[],te=R.map(function(ie,ne){return ie.text=e.call(this,ie,ne),ie.font=t.call(this,ie,ne),ie.style=l.call(this,ie,ne),ie.weight=h.call(this,ie,ne),ie.rotate=y.call(this,ie,ne),ie.size=~~o.call(this,ie,ne),ie.padding=O.call(this,ie,ne),ie}).sort(function(ie,ne){return ne.size-ie.size});return j&&clearInterval(j),j=setInterval(re,0),re(),W;function re(){for(var ie=Date.now();Date.now()-ie<F&&++Z<Q&&j;){var ne=te[Z];ne.x=r[0]*(U()+.5)>>1,ne.y=r[1]*(U()+.5)>>1,cloudSprite(Y,ne,te,Z),ne.hasText&&K(X,ne,J)&&(ee.push(ne),B.call("word",W,ne),J?cloudBounds(J,ne):J=[{x:ne.x+ne.x0,y:ne.y+ne.y0},{x:ne.x+ne.x1,y:ne.y+ne.y1}],ne.x-=r[0]>>1,ne.y-=r[1]>>1)}Z>=Q&&(W.stop(),B.call("end",W,ee,J))}},W.stop=function(){return j&&(clearInterval(j),j=null),W};function q(Y){Y.width=Y.height=1;var X=Math.sqrt(Y.getContext("2d").getImageData(0,0,1,1).data.length>>2);Y.width=(cw<<5)/X,Y.height=ch/X;var J=Y.getContext("2d");return J.fillStyle=J.strokeStyle="red",J.textAlign="center",{context:J,ratio:X}}function K(Y,X,J){r[0],r[1];for(var Q=X.x,Z=X.y,ee=Math.sqrt(r[0]*r[0]+r[1]*r[1]),te=D(r),re=U()<.5?1:-1,ie=-re,ne,se,ce;(ne=te(ie+=re))&&(se=~~ne[0],ce=~~ne[1],!(Math.min(Math.abs(se),Math.abs(ce))>=ee));)if(X.x=Q+se,X.y=Z+ce,!(X.x+X.x0<0||X.y+X.y0<0||X.x+X.x1>r[0]||X.y+X.y1>r[1])&&(!J||!cloudCollide(X,Y,r[0]))&&(!J||collideRects(X,J))){for(var ue=X.sprite,he=X.width>>5,pe=r[0]>>5,oe=X.x-(he<<4),ae=oe&127,le=32-ae,me=X.y1-X.y0,ge=(X.y+X.y0)*pe+(oe>>5),fe,_e=0;_e<me;_e++){fe=0;for(var we=0;we<=he;we++)Y[ge+we]|=fe<<le|(we<he?(fe=ue[_e*he+we])>>>ae:0);ge+=pe}return delete X.sprite,!0}return!1}return W.timeInterval=function(Y){return arguments.length?(F=Y==null?1/0:Y,W):F},W.words=function(Y){return arguments.length?(R=Y,W):R},W.size=function(Y){return arguments.length?(r=[+Y[0],+Y[1]],W):r},W.font=function(Y){return arguments.length?(t=functor(Y),W):t},W.fontStyle=function(Y){return arguments.length?(l=functor(Y),W):l},W.fontWeight=function(Y){return arguments.length?(h=functor(Y),W):h},W.rotate=function(Y){return arguments.length?(y=functor(Y),W):y},W.text=function(Y){return arguments.length?(e=functor(Y),W):e},W.spiral=function(Y){return arguments.length?(D=spirals[Y]||Y,W):D},W.fontSize=function(Y){return arguments.length?(o=functor(Y),W):o},W.padding=function(Y){return arguments.length?(O=functor(Y),W):O},W.random=function(Y){return arguments.length?(U=Y,W):U},W.on=function(){var Y=B.on.apply(B,arguments);return Y===B?W:Y},W};function cloudText(r){return r.text}function cloudFont(){return"serif"}function cloudFontNormal(){return"normal"}function cloudFontSize(r){return Math.sqrt(r.value)}function cloudRotate(){return(~~(Math.random()*6)-3)*30}function cloudPadding(){return 1}function cloudSprite(r,e,t,o){if(!e.sprite){var l=r.context,h=r.ratio;l.clearRect(0,0,(cw<<5)/h,ch/h);var y=0,O=0,D=0,R=t.length;for(--o;++o<R;){e=t[o],l.save(),l.font=e.style+" "+e.weight+" "+~~((e.size+1)/h)+"px "+e.font;var F=l.measureText(e.text+"m").width*h,B=e.size<<1;if(e.rotate){var j=Math.sin(e.rotate*cloudRadians),U=Math.cos(e.rotate*cloudRadians),W=F*U,G=F*j,q=B*U,K=B*j;F=Math.max(Math.abs(W+K),Math.abs(W-K))+31>>5<<5,B=~~Math.max(Math.abs(G+q),Math.abs(G-q))}else F=F+31>>5<<5;if(B>D&&(D=B),y+F>=cw<<5&&(y=0,O+=D,D=0),O+B>=ch)break;l.translate((y+(F>>1))/h,(O+(B>>1))/h),e.rotate&&l.rotate(e.rotate*cloudRadians),l.fillText(e.text,0,0),e.padding&&(l.lineWidth=2*e.padding,l.strokeText(e.text,0,0)),l.restore(),e.width=F,e.height=B,e.xoff=y,e.yoff=O,e.x1=F>>1,e.y1=B>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,y+=F}for(var Y=l.getImageData(0,0,(cw<<5)/h,ch/h).data,X=[];--o>=0;)if(e=t[o],!!e.hasText){for(var F=e.width,J=F>>5,B=e.y1-e.y0,Q=0;Q<B*J;Q++)X[Q]=0;if(y=e.xoff,y==null)return;O=e.yoff;for(var Z=0,ee=-1,te=0;te<B;te++){for(var Q=0;Q<F;Q++){var re=J*te+(Q>>5),ie=Y[(O+te)*(cw<<5)+(y+Q)<<2]?1<<31-Q%32:0;X[re]|=ie,Z|=ie}Z?ee=te:(e.y0++,B--,te--,O++)}e.y1=e.y0+ee,e.sprite=X.slice(0,(e.y1-e.y0)*J)}}}function cloudCollide(r,e,t){t>>=5;for(var o=r.sprite,l=r.width>>5,h=r.x-(l<<4),y=h&127,O=32-y,D=r.y1-r.y0,R=(r.y+r.y0)*t+(h>>5),F,B=0;B<D;B++){F=0;for(var j=0;j<=l;j++)if((F<<O|(j<l?(F=o[B*l+j])>>>y:0))&e[R+j])return!0;R+=t}return!1}function cloudBounds(r,e){var t=r[0],o=r[1];e.x+e.x0<t.x&&(t.x=e.x+e.x0),e.y+e.y0<t.y&&(t.y=e.y+e.y0),e.x+e.x1>o.x&&(o.x=e.x+e.x1),e.y+e.y1>o.y&&(o.y=e.y+e.y1)}function collideRects(r,e){return r.x+r.x1>e[0].x&&r.x+r.x0<e[1].x&&r.y+r.y1>e[0].y&&r.y+r.y0<e[1].y}function archimedeanSpiral(r){var e=r[0]/r[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function rectangularSpiral(r){var e=4,t=e*r[0]/r[1],o=0,l=0;return function(h){var y=h<0?-1:1;switch(Math.sqrt(1+4*y*h)-y&3){case 0:o+=t;break;case 1:l+=e;break;case 2:o-=t;break;default:l-=e;break}return[o,l]}}function zeroArray(r){for(var e=[],t=-1;++t<r;)e[t]=0;return e}function cloudCanvas(){return document.createElement("canvas")}function functor(r){return typeof r=="function"?r:function(){return r}}var spirals={archimedean:archimedeanSpiral,rectangular:rectangularSpiral};class WordElement extends Element$1{static computeRotation(e,t){if(e.rotationSteps<=1)return 0;if(e.minRotation===e.maxRotation)return e.minRotation;const o=Math.min(e.rotationSteps,Math.floor(t()*e.rotationSteps))/(e.rotationSteps-1),l=e.maxRotation-e.minRotation;return e.minRotation+o*l}inRange(e,t){const o=this.getProps(["x","y","width","height","scale"]);if(o.scale<=0)return!1;const l=Number.isNaN(e)?o.x:e,h=Number.isNaN(t)?o.y:t;return l>=o.x-o.width/2&&l<=o.x+o.width/2&&h>=o.y-o.height/2&&h<=o.y+o.height/2}inXRange(e){return this.inRange(e,Number.NaN)}inYRange(e){return this.inRange(Number.NaN,e)}getCenterPoint(){return this.getProps(["x","y"])}tooltipPosition(){return this.getCenterPoint()}draw(e){const{options:t}=this,o=this.getProps(["x","y","width","height","text","scale"]);if(o.scale<=0)return;e.save();const l=toFont(Qe(Ye({},t),{size:t.size*o.scale}));e.font=l.string,e.fillStyle=t.color,e.textAlign="center",e.translate(o.x,o.y),e.rotate(t.rotate/180*Math.PI),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.strokeText(o.text,0,0)),e.fillText(o.text,0,0),e.restore()}}WordElement.id="word";WordElement.defaults={minRotation:-90,maxRotation:0,rotationSteps:2,padding:1,strokeStyle:void 0,size:r=>r.parsed.y,hoverColor:"#ababab"};WordElement.defaultRoutes={color:"color",family:"font.family",style:"font.style",weight:"font.weight",lineHeight:"font.lineHeight"};function patchController(r,e,t,o=[],l=[]){registry.addControllers(t),Array.isArray(o)?registry.addElements(...o):registry.addElements(o),Array.isArray(l)?registry.addScales(...l):registry.addScales(l);const h=e;return h.type=r,h}function rnd(r=Date.now()){let e=typeof r=="number"?r:Array.from(r).reduce((t,o)=>t+o.charCodeAt(0),0);return()=>(e=(e*9301+49297)%233280,e/233280)}class WordCloudController extends DatasetController{constructor(){super(...arguments),this.wordLayout=d3Cloud().text(e=>e.text).padding(e=>e.options.padding).rotate(e=>e.options.rotate).font(e=>e.options.family).fontSize(e=>e.options.size).fontStyle(e=>e.options.style).fontWeight(e=>{var t;return(t=e.options.weight)!==null&&t!==void 0?t:1}),this.rand=Math.random}update(e){super.update(e),this.rand=rnd(this.chart.id);const o=this._cachedMeta.data||[];this.updateElements(o,0,o.length,e)}updateElements(e,t,o,l){var h,y,O,D;this.wordLayout.stop();const R=this._cachedMeta.xScale,F=this._cachedMeta.yScale,B=R.right-R.left,j=F.bottom-F.top,U=this.chart.data.labels,W=[];for(let q=t;q<t+o;q+=1){const K=this.resolveDataElementOptions(q,l);K.rotate==null&&(K.rotate=WordElement.computeRotation(K,this.rand));const Y={options:Ye(Ye({},toFont(K)),K),x:(y=(h=this._cachedMeta.xScale)===null||h===void 0?void 0:h.getPixelForDecimal(.5))!==null&&y!==void 0?y:0,y:(D=(O=this._cachedMeta.yScale)===null||O===void 0?void 0:O.getPixelForDecimal(.5))!==null&&D!==void 0?D:0,width:10,height:10,scale:1,index:q,text:U[q]};W.push(Y)}if(l==="reset"){W.forEach(q=>{this.updateElement(e[q.index],q.index,q,l)});return}this.wordLayout.random(this.rand).words(W);const G=(q=1,K=3)=>{this.wordLayout.size([B*q,j*q]).on("end",(Y,X)=>{if(Y.length<U.length){if(K>0){G(q*1.2,K-1);return}console.warn("cannot fit all text elements in three tries")}const J=X[1].x-X[0].x,Q=X[1].y-X[0].y,ee=this.options.fit?Math.min(B/J,j/Q):1,te=new Set(U.map((re,ie)=>ie));Y.forEach(re=>{te.delete(re.index),this.updateElement(e[re.index],re.index,{options:re.options,scale:ee,x:R.left+ee*re.x+B/2,y:F.top+ee*re.y+j/2,width:ee*re.width,height:ee*re.height,text:re.text},l)}),te.forEach(re=>this.updateElement(e[re],re,{scale:0},l))}).start()};G()}draw(){const e=this._cachedMeta.data,{ctx:t}=this.chart;e.forEach(o=>o.draw(t))}getLabelAndValue(e){const t=super.getLabelAndValue(e),o=this.chart.data.labels;return t.label=o[e],t}}WordCloudController.id="wordCloud";WordCloudController.defaults={datasets:{fit:!0,animation:{colors:{properties:["color","strokeStyle"]},numbers:{properties:["x","y","size","rotate"]}}},maintainAspectRatio:!1,dataElementType:WordElement.id};WordCloudController.overrides={scales:{x:{type:"linear",min:-1,max:1,display:!1},y:{type:"linear",min:-1,max:1,display:!1}}};class WordCloudChart extends Chart{constructor(e,t){super(e,patchController("wordCloud",t,WordCloudController,WordElement))}}WordCloudChart.id=WordCloudController.id;function toInteger(r){if(r===null||r===!0||r===!1)return NaN;var e=Number(r);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function requiredArgs(r,e){if(e.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+e.length+" present")}function toDate(r){requiredArgs(1,arguments);var e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new Date(r.getTime()):typeof r=="number"||e==="[object Number]"?new Date(r):((typeof r=="string"||e==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function addDays(r,e){requiredArgs(2,arguments);var t=toDate(r),o=toInteger(e);return isNaN(o)?new Date(NaN):(o&&t.setDate(t.getDate()+o),t)}function addMonths(r,e){requiredArgs(2,arguments);var t=toDate(r),o=toInteger(e);if(isNaN(o))return new Date(NaN);if(!o)return t;var l=t.getDate(),h=new Date(t.getTime());h.setMonth(t.getMonth()+o+1,0);var y=h.getDate();return l>=y?h:(t.setFullYear(h.getFullYear(),h.getMonth(),l),t)}function addMilliseconds(r,e){requiredArgs(2,arguments);var t=toDate(r).getTime(),o=toInteger(e);return new Date(t+o)}var MILLISECONDS_IN_HOUR$1=36e5;function addHours(r,e){requiredArgs(2,arguments);var t=toInteger(e);return addMilliseconds(r,t*MILLISECONDS_IN_HOUR$1)}function startOfWeek(r,e){requiredArgs(1,arguments);var t=e||{},o=t.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=t.weekStartsOn==null?h:toInteger(t.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=toDate(r),D=O.getDay(),R=(D<y?7:0)+D-y;return O.setDate(O.getDate()-R),O.setHours(0,0,0,0),O}function getTimezoneOffsetInMilliseconds(r){var e=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return e.setUTCFullYear(r.getFullYear()),r.getTime()-e.getTime()}function startOfDay(r){requiredArgs(1,arguments);var e=toDate(r);return e.setHours(0,0,0,0),e}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(r,e){requiredArgs(2,arguments);var t=startOfDay(r),o=startOfDay(e),l=t.getTime()-getTimezoneOffsetInMilliseconds(t),h=o.getTime()-getTimezoneOffsetInMilliseconds(o);return Math.round((l-h)/MILLISECONDS_IN_DAY$1)}var MILLISECONDS_IN_MINUTE$1=6e4;function addMinutes(r,e){requiredArgs(2,arguments);var t=toInteger(e);return addMilliseconds(r,t*MILLISECONDS_IN_MINUTE$1)}function addQuarters(r,e){requiredArgs(2,arguments);var t=toInteger(e),o=t*3;return addMonths(r,o)}function addSeconds(r,e){requiredArgs(2,arguments);var t=toInteger(e);return addMilliseconds(r,t*1e3)}function addWeeks(r,e){requiredArgs(2,arguments);var t=toInteger(e),o=t*7;return addDays(r,o)}function addYears(r,e){requiredArgs(2,arguments);var t=toInteger(e);return addMonths(r,t*12)}function compareAsc(r,e){requiredArgs(2,arguments);var t=toDate(r),o=toDate(e),l=t.getTime()-o.getTime();return l<0?-1:l>0?1:l}var millisecondsInMinute=6e4,millisecondsInHour=36e5;function isDate(r){return requiredArgs(1,arguments),r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function isValid(r){if(requiredArgs(1,arguments),!isDate(r)&&typeof r!="number")return!1;var e=toDate(r);return!isNaN(Number(e))}function differenceInCalendarMonths(r,e){requiredArgs(2,arguments);var t=toDate(r),o=toDate(e),l=t.getFullYear()-o.getFullYear(),h=t.getMonth()-o.getMonth();return l*12+h}function differenceInCalendarYears(r,e){requiredArgs(2,arguments);var t=toDate(r),o=toDate(e);return t.getFullYear()-o.getFullYear()}function compareLocalAsc(r,e){var t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function differenceInDays(r,e){requiredArgs(2,arguments);var t=toDate(r),o=toDate(e),l=compareLocalAsc(t,o),h=Math.abs(differenceInCalendarDays(t,o));t.setDate(t.getDate()-l*h);var y=Number(compareLocalAsc(t,o)===-l),O=l*(h-y);return O===0?0:O}function differenceInMilliseconds(r,e){return requiredArgs(2,arguments),toDate(r).getTime()-toDate(e).getTime()}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},defaultRoundingMethod="trunc";function getRoundingMethod(r){return r?roundingMap[r]:roundingMap[defaultRoundingMethod]}function differenceInHours(r,e,t){requiredArgs(2,arguments);var o=differenceInMilliseconds(r,e)/millisecondsInHour;return getRoundingMethod(t==null?void 0:t.roundingMethod)(o)}function differenceInMinutes(r,e,t){requiredArgs(2,arguments);var o=differenceInMilliseconds(r,e)/millisecondsInMinute;return getRoundingMethod(t==null?void 0:t.roundingMethod)(o)}function endOfDay(r){requiredArgs(1,arguments);var e=toDate(r);return e.setHours(23,59,59,999),e}function endOfMonth(r){requiredArgs(1,arguments);var e=toDate(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function isLastDayOfMonth(r){requiredArgs(1,arguments);var e=toDate(r);return endOfDay(e).getTime()===endOfMonth(e).getTime()}function differenceInMonths(r,e){requiredArgs(2,arguments);var t=toDate(r),o=toDate(e),l=compareAsc(t,o),h=Math.abs(differenceInCalendarMonths(t,o)),y;if(h<1)y=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-l*h);var O=compareAsc(t,o)===-l;isLastDayOfMonth(toDate(r))&&h===1&&compareAsc(r,o)===1&&(O=!1),y=l*(h-Number(O))}return y===0?0:y}function differenceInQuarters(r,e,t){requiredArgs(2,arguments);var o=differenceInMonths(r,e)/3;return getRoundingMethod(t==null?void 0:t.roundingMethod)(o)}function differenceInSeconds(r,e,t){requiredArgs(2,arguments);var o=differenceInMilliseconds(r,e)/1e3;return getRoundingMethod(t==null?void 0:t.roundingMethod)(o)}function differenceInWeeks(r,e,t){requiredArgs(2,arguments);var o=differenceInDays(r,e)/7;return getRoundingMethod(t==null?void 0:t.roundingMethod)(o)}function differenceInYears(r,e){requiredArgs(2,arguments);var t=toDate(r),o=toDate(e),l=compareAsc(t,o),h=Math.abs(differenceInCalendarYears(t,o));t.setFullYear(1584),o.setFullYear(1584);var y=compareAsc(t,o)===-l,O=l*(h-Number(y));return O===0?0:O}function startOfMinute(r){requiredArgs(1,arguments);var e=toDate(r);return e.setSeconds(0,0),e}function startOfQuarter(r){requiredArgs(1,arguments);var e=toDate(r),t=e.getMonth(),o=t-t%3;return e.setMonth(o,1),e.setHours(0,0,0,0),e}function startOfMonth(r){requiredArgs(1,arguments);var e=toDate(r);return e.setDate(1),e.setHours(0,0,0,0),e}function startOfYear(r){requiredArgs(1,arguments);var e=toDate(r),t=new Date(0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function endOfYear(r){requiredArgs(1,arguments);var e=toDate(r),t=e.getFullYear();return e.setFullYear(t+1,0,0),e.setHours(23,59,59,999),e}function endOfHour(r){requiredArgs(1,arguments);var e=toDate(r);return e.setMinutes(59,59,999),e}function endOfWeek(r,e){requiredArgs(1,arguments);var t=e||{},o=t.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=t.weekStartsOn==null?h:toInteger(t.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=toDate(r),D=O.getDay(),R=(D<y?-7:0)+6-(D-y);return O.setDate(O.getDate()+R),O.setHours(23,59,59,999),O}function endOfMinute(r){requiredArgs(1,arguments);var e=toDate(r);return e.setSeconds(59,999),e}function endOfQuarter(r){requiredArgs(1,arguments);var e=toDate(r),t=e.getMonth(),o=t-t%3+3;return e.setMonth(o,0),e.setHours(23,59,59,999),e}function endOfSecond(r){requiredArgs(1,arguments);var e=toDate(r);return e.setMilliseconds(999),e}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(r,e,t){var o,l=formatDistanceLocale[r];return typeof l=="string"?o=l:e===1?o=l.one:o=l.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+o:o+" ago":o},formatDistance$1=formatDistance;function buildFormatLongFn(r){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):r.defaultWidth,o=r.formats[t]||r.formats[r.defaultWidth];return o}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(r,e,t,o){return formatRelativeLocale[r]},formatRelative$1=formatRelative;function buildLocalizeFn(r){return function(e,t){var o=t||{},l=o.context?String(o.context):"standalone",h;if(l==="formatting"&&r.formattingValues){var y=r.defaultFormattingWidth||r.defaultWidth,O=o.width?String(o.width):y;h=r.formattingValues[O]||r.formattingValues[y]}else{var D=r.defaultWidth,R=o.width?String(o.width):r.defaultWidth;h=r.values[R]||r.values[D]}var F=r.argumentCallback?r.argumentCallback(e):e;return h[F]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(r,e){var t=Number(r),o=t%100;if(o>20||o<10)switch(o%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize;function buildMatchFn(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.width,l=o&&r.matchPatterns[o]||r.matchPatterns[r.defaultMatchWidth],h=e.match(l);if(!h)return null;var y=h[0],O=o&&r.parsePatterns[o]||r.parsePatterns[r.defaultParseWidth],D=Array.isArray(O)?findIndex$1(O,function(B){return B.test(y)}):findKey(O,function(B){return B.test(y)}),R;R=r.valueCallback?r.valueCallback(D):D,R=t.valueCallback?t.valueCallback(R):R;var F=e.slice(y.length);return{value:R,rest:F}}}function findKey(r,e){for(var t in r)if(r.hasOwnProperty(t)&&e(r[t]))return t}function findIndex$1(r,e){for(var t=0;t<r.length;t++)if(e(r[t]))return t}function buildMatchPatternFn(r){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.match(r.matchPattern);if(!o)return null;var l=o[0],h=e.match(r.parsePattern);if(!h)return null;var y=r.valueCallback?r.valueCallback(h[0]):h[0];y=t.valueCallback?t.valueCallback(y):y;var O=e.slice(l.length);return{value:y,rest:O}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$2={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(r){return parseInt(r,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$3=match$2,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$3,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;function subMilliseconds(r,e){requiredArgs(2,arguments);var t=toInteger(e);return addMilliseconds(r,-t)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(r){requiredArgs(1,arguments);var e=toDate(r),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var o=e.getTime(),l=t-o;return Math.floor(l/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(r){requiredArgs(1,arguments);var e=1,t=toDate(r),o=t.getUTCDay(),l=(o<e?7:0)+o-e;return t.setUTCDate(t.getUTCDate()-l),t.setUTCHours(0,0,0,0),t}function getUTCISOWeekYear(r){requiredArgs(1,arguments);var e=toDate(r),t=e.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(t+1,0,4),o.setUTCHours(0,0,0,0);var l=startOfUTCISOWeek(o),h=new Date(0);h.setUTCFullYear(t,0,4),h.setUTCHours(0,0,0,0);var y=startOfUTCISOWeek(h);return e.getTime()>=l.getTime()?t+1:e.getTime()>=y.getTime()?t:t-1}function startOfUTCISOWeekYear(r){requiredArgs(1,arguments);var e=getUTCISOWeekYear(r),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var o=startOfUTCISOWeek(t);return o}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(r){requiredArgs(1,arguments);var e=toDate(r),t=startOfUTCISOWeek(e).getTime()-startOfUTCISOWeekYear(e).getTime();return Math.round(t/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(r,e){requiredArgs(1,arguments);var t=e||{},o=t.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=t.weekStartsOn==null?h:toInteger(t.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=toDate(r),D=O.getUTCDay(),R=(D<y?7:0)+D-y;return O.setUTCDate(O.getUTCDate()-R),O.setUTCHours(0,0,0,0),O}function getUTCWeekYear(r,e){requiredArgs(1,arguments);var t=toDate(r),o=t.getUTCFullYear(),l=e||{},h=l.locale,y=h&&h.options&&h.options.firstWeekContainsDate,O=y==null?1:toInteger(y),D=l.firstWeekContainsDate==null?O:toInteger(l.firstWeekContainsDate);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=new Date(0);R.setUTCFullYear(o+1,0,D),R.setUTCHours(0,0,0,0);var F=startOfUTCWeek(R,e),B=new Date(0);B.setUTCFullYear(o,0,D),B.setUTCHours(0,0,0,0);var j=startOfUTCWeek(B,e);return t.getTime()>=F.getTime()?o+1:t.getTime()>=j.getTime()?o:o-1}function startOfUTCWeekYear(r,e){requiredArgs(1,arguments);var t=e||{},o=t.locale,l=o&&o.options&&o.options.firstWeekContainsDate,h=l==null?1:toInteger(l),y=t.firstWeekContainsDate==null?h:toInteger(t.firstWeekContainsDate),O=getUTCWeekYear(r,e),D=new Date(0);D.setUTCFullYear(O,0,y),D.setUTCHours(0,0,0,0);var R=startOfUTCWeek(D,e);return R}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(r,e){requiredArgs(1,arguments);var t=toDate(r),o=startOfUTCWeek(t,e).getTime()-startOfUTCWeekYear(t,e).getTime();return Math.round(o/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(r,e){for(var t=r<0?"-":"",o=Math.abs(r).toString();o.length<e;)o="0"+o;return t+o}var formatters$2={y:function(r,e){var t=r.getUTCFullYear(),o=t>0?t:1-t;return addLeadingZeros(e==="yy"?o%100:o,e.length)},M:function(r,e){var t=r.getUTCMonth();return e==="M"?String(t+1):addLeadingZeros(t+1,2)},d:function(r,e){return addLeadingZeros(r.getUTCDate(),e.length)},a:function(r,e){var t=r.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h:function(r,e){return addLeadingZeros(r.getUTCHours()%12||12,e.length)},H:function(r,e){return addLeadingZeros(r.getUTCHours(),e.length)},m:function(r,e){return addLeadingZeros(r.getUTCMinutes(),e.length)},s:function(r,e){return addLeadingZeros(r.getUTCSeconds(),e.length)},S:function(r,e){var t=e.length,o=r.getUTCMilliseconds(),l=Math.floor(o*Math.pow(10,t-3));return addLeadingZeros(l,e.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(r,e,t){var o=r.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(o,{width:"abbreviated"});case"GGGGG":return t.era(o,{width:"narrow"});case"GGGG":default:return t.era(o,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){var o=r.getUTCFullYear(),l=o>0?o:1-o;return t.ordinalNumber(l,{unit:"year"})}return formatters$3.y(r,e)},Y:function(r,e,t,o){var l=getUTCWeekYear(r,o),h=l>0?l:1-l;if(e==="YY"){var y=h%100;return addLeadingZeros(y,2)}return e==="Yo"?t.ordinalNumber(h,{unit:"year"}):addLeadingZeros(h,e.length)},R:function(r,e){var t=getUTCISOWeekYear(r);return addLeadingZeros(t,e.length)},u:function(r,e){var t=r.getUTCFullYear();return addLeadingZeros(t,e.length)},Q:function(r,e,t){var o=Math.ceil((r.getUTCMonth()+1)/3);switch(e){case"Q":return String(o);case"QQ":return addLeadingZeros(o,2);case"Qo":return t.ordinalNumber(o,{unit:"quarter"});case"QQQ":return t.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(o,{width:"wide",context:"formatting"})}},q:function(r,e,t){var o=Math.ceil((r.getUTCMonth()+1)/3);switch(e){case"q":return String(o);case"qq":return addLeadingZeros(o,2);case"qo":return t.ordinalNumber(o,{unit:"quarter"});case"qqq":return t.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(o,{width:"wide",context:"standalone"})}},M:function(r,e,t){var o=r.getUTCMonth();switch(e){case"M":case"MM":return formatters$3.M(r,e);case"Mo":return t.ordinalNumber(o+1,{unit:"month"});case"MMM":return t.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(o,{width:"wide",context:"formatting"})}},L:function(r,e,t){var o=r.getUTCMonth();switch(e){case"L":return String(o+1);case"LL":return addLeadingZeros(o+1,2);case"Lo":return t.ordinalNumber(o+1,{unit:"month"});case"LLL":return t.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(o,{width:"wide",context:"standalone"})}},w:function(r,e,t,o){var l=getUTCWeek(r,o);return e==="wo"?t.ordinalNumber(l,{unit:"week"}):addLeadingZeros(l,e.length)},I:function(r,e,t){var o=getUTCISOWeek(r);return e==="Io"?t.ordinalNumber(o,{unit:"week"}):addLeadingZeros(o,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getUTCDate(),{unit:"date"}):formatters$3.d(r,e)},D:function(r,e,t){var o=getUTCDayOfYear(r);return e==="Do"?t.ordinalNumber(o,{unit:"dayOfYear"}):addLeadingZeros(o,e.length)},E:function(r,e,t){var o=r.getUTCDay();switch(e){case"E":case"EE":case"EEE":return t.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(o,{width:"short",context:"formatting"});case"EEEE":default:return t.day(o,{width:"wide",context:"formatting"})}},e:function(r,e,t,o){var l=r.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(e){case"e":return String(h);case"ee":return addLeadingZeros(h,2);case"eo":return t.ordinalNumber(h,{unit:"day"});case"eee":return t.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(l,{width:"short",context:"formatting"});case"eeee":default:return t.day(l,{width:"wide",context:"formatting"})}},c:function(r,e,t,o){var l=r.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(e){case"c":return String(h);case"cc":return addLeadingZeros(h,e.length);case"co":return t.ordinalNumber(h,{unit:"day"});case"ccc":return t.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(l,{width:"narrow",context:"standalone"});case"cccccc":return t.day(l,{width:"short",context:"standalone"});case"cccc":default:return t.day(l,{width:"wide",context:"standalone"})}},i:function(r,e,t){var o=r.getUTCDay(),l=o===0?7:o;switch(e){case"i":return String(l);case"ii":return addLeadingZeros(l,e.length);case"io":return t.ordinalNumber(l,{unit:"day"});case"iii":return t.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(o,{width:"short",context:"formatting"});case"iiii":default:return t.day(o,{width:"wide",context:"formatting"})}},a:function(r,e,t){var o=r.getUTCHours(),l=o/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(r,e,t){var o=r.getUTCHours(),l;switch(o===12?l=dayPeriodEnum.noon:o===0?l=dayPeriodEnum.midnight:l=o/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(r,e,t){var o=r.getUTCHours(),l;switch(o>=17?l=dayPeriodEnum.evening:o>=12?l=dayPeriodEnum.afternoon:o>=4?l=dayPeriodEnum.morning:l=dayPeriodEnum.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){var o=r.getUTCHours()%12;return o===0&&(o=12),t.ordinalNumber(o,{unit:"hour"})}return formatters$3.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getUTCHours(),{unit:"hour"}):formatters$3.H(r,e)},K:function(r,e,t){var o=r.getUTCHours()%12;return e==="Ko"?t.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,e.length)},k:function(r,e,t){var o=r.getUTCHours();return o===0&&(o=24),e==="ko"?t.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):formatters$3.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):formatters$3.s(r,e)},S:function(r,e){return formatters$3.S(r,e)},X:function(r,e,t,o){var l=o._originalDate||r,h=l.getTimezoneOffset();if(h===0)return"Z";switch(e){case"X":return formatTimezoneWithOptionalMinutes(h);case"XXXX":case"XX":return formatTimezone(h);case"XXXXX":case"XXX":default:return formatTimezone(h,":")}},x:function(r,e,t,o){var l=o._originalDate||r,h=l.getTimezoneOffset();switch(e){case"x":return formatTimezoneWithOptionalMinutes(h);case"xxxx":case"xx":return formatTimezone(h);case"xxxxx":case"xxx":default:return formatTimezone(h,":")}},O:function(r,e,t,o){var l=o._originalDate||r,h=l.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(h,":");case"OOOO":default:return"GMT"+formatTimezone(h,":")}},z:function(r,e,t,o){var l=o._originalDate||r,h=l.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(h,":");case"zzzz":default:return"GMT"+formatTimezone(h,":")}},t:function(r,e,t,o){var l=o._originalDate||r,h=Math.floor(l.getTime()/1e3);return addLeadingZeros(h,e.length)},T:function(r,e,t,o){var l=o._originalDate||r,h=l.getTime();return addLeadingZeros(h,e.length)}};function formatTimezoneShort(r,e){var t=r>0?"-":"+",o=Math.abs(r),l=Math.floor(o/60),h=o%60;if(h===0)return t+String(l);var y=e||"";return t+String(l)+y+addLeadingZeros(h,2)}function formatTimezoneWithOptionalMinutes(r,e){if(r%60===0){var t=r>0?"-":"+";return t+addLeadingZeros(Math.abs(r)/60,2)}return formatTimezone(r,e)}function formatTimezone(r,e){var t=e||"",o=r>0?"-":"+",l=Math.abs(r),h=addLeadingZeros(Math.floor(l/60),2),y=addLeadingZeros(l%60,2);return o+h+t+y}var formatters$1=formatters;function dateLongFormatter(r,e){switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function timeLongFormatter(r,e){switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}function dateTimeLongFormatter(r,e){var t=r.match(/(P+)(p+)?/)||[],o=t[1],l=t[2];if(!l)return dateLongFormatter(r,e);var h;switch(o){case"P":h=e.dateTime({width:"short"});break;case"PP":h=e.dateTime({width:"medium"});break;case"PPP":h=e.dateTime({width:"long"});break;case"PPPP":default:h=e.dateTime({width:"full"});break}return h.replace("{{date}}",dateLongFormatter(o,e)).replace("{{time}}",timeLongFormatter(l,e))}var longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(r){return protectedDayOfYearTokens.indexOf(r)!==-1}function isProtectedWeekYearToken(r){return protectedWeekYearTokens.indexOf(r)!==-1}function throwProtectedError(r,e,t){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://git.io/fxCyr"))}var formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(r,e,t){requiredArgs(2,arguments);var o=String(e),l=t||{},h=l.locale||defaultLocale,y=h.options&&h.options.firstWeekContainsDate,O=y==null?1:toInteger(y),D=l.firstWeekContainsDate==null?O:toInteger(l.firstWeekContainsDate);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=h.options&&h.options.weekStartsOn,F=R==null?0:toInteger(R),B=l.weekStartsOn==null?F:toInteger(l.weekStartsOn);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!h.localize)throw new RangeError("locale must contain localize property");if(!h.formatLong)throw new RangeError("locale must contain formatLong property");var j=toDate(r);if(!isValid(j))throw new RangeError("Invalid time value");var U=getTimezoneOffsetInMilliseconds(j),W=subMilliseconds(j,U),G={firstWeekContainsDate:D,weekStartsOn:B,locale:h,_originalDate:j},q=o.match(longFormattingTokensRegExp$1).map(function(K){var Y=K[0];if(Y==="p"||Y==="P"){var X=longFormatters$1[Y];return X(K,h.formatLong,G)}return K}).join("").match(formattingTokensRegExp$1).map(function(K){if(K==="''")return"'";var Y=K[0];if(Y==="'")return cleanEscapedString$1(K);var X=formatters$1[Y];if(X)return!l.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(K)&&throwProtectedError(K,e,r),!l.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(K)&&throwProtectedError(K,e,r),X(W,K,h.localize,G);if(Y.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return K}).join("");return q}function cleanEscapedString$1(r){return r.match(escapedStringRegExp$1)[1].replace(doubleQuoteRegExp$1,"'")}function assign$7(r,e){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");e=e||{};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}function setUTCDay(r,e,t){requiredArgs(2,arguments);var o=t||{},l=o.locale,h=l&&l.options&&l.options.weekStartsOn,y=h==null?0:toInteger(h),O=o.weekStartsOn==null?y:toInteger(o.weekStartsOn);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(r),R=toInteger(e),F=D.getUTCDay(),B=R%7,j=(B+7)%7,U=(j<O?7:0)+R-F;return D.setUTCDate(D.getUTCDate()+U),D}function setUTCISODay(r,e){requiredArgs(2,arguments);var t=toInteger(e);t%7===0&&(t=t-7);var o=1,l=toDate(r),h=l.getUTCDay(),y=t%7,O=(y+7)%7,D=(O<o?7:0)+t-h;return l.setUTCDate(l.getUTCDate()+D),l}function setUTCISOWeek(r,e){requiredArgs(2,arguments);var t=toDate(r),o=toInteger(e),l=getUTCISOWeek(t)-o;return t.setUTCDate(t.getUTCDate()-l*7),t}function setUTCWeek(r,e,t){requiredArgs(2,arguments);var o=toDate(r),l=toInteger(e),h=getUTCWeek(o,t)-l;return o.setUTCDate(o.getUTCDate()-h*7),o}var MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_SECOND=1e3,numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function parseNumericPattern(r,e,t){var o=e.match(r);if(!o)return null;var l=parseInt(o[0],10);return{value:t?t(l):l,rest:e.slice(o[0].length)}}function parseTimezonePattern(r,e){var t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};var o=t[1]==="+"?1:-1,l=t[2]?parseInt(t[2],10):0,h=t[3]?parseInt(t[3],10):0,y=t[5]?parseInt(t[5],10):0;return{value:o*(l*MILLISECONDS_IN_HOUR+h*MILLISECONDS_IN_MINUTE+y*MILLISECONDS_IN_SECOND),rest:e.slice(t[0].length)}}function parseAnyDigitsSigned(r,e){return parseNumericPattern(numericPatterns.anyDigitsSigned,r,e)}function parseNDigits(r,e,t){switch(r){case 1:return parseNumericPattern(numericPatterns.singleDigit,e,t);case 2:return parseNumericPattern(numericPatterns.twoDigits,e,t);case 3:return parseNumericPattern(numericPatterns.threeDigits,e,t);case 4:return parseNumericPattern(numericPatterns.fourDigits,e,t);default:return parseNumericPattern(new RegExp("^\\d{1,"+r+"}"),e,t)}}function parseNDigitsSigned(r,e,t){switch(r){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,e,t);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,e,t);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,e,t);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,e,t);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+r+"}"),e,t)}}function dayPeriodEnumToHours(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(r,e){var t=e>0,o=t?e:1-e,l;if(o<=50)l=r||100;else{var h=o+50,y=Math.floor(h/100)*100,O=r>=h%100;l=r+y-(O?100:0)}return t?l:1-l}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex$1(r){return r%400===0||r%4===0&&r%100!==0}var parsers={G:{priority:140,parse:function(r,e,t,o){switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"})||t.era(r,{width:"narrow"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})||t.era(r,{width:"abbreviated"})||t.era(r,{width:"narrow"})}},set:function(r,e,t,o){return e.era=t,r.setUTCFullYear(t,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(r,e,t,o){var l=function(h){return{year:h,isTwoDigitYear:e==="yy"}};switch(e){case"y":return parseNDigits(4,r,l);case"yo":return t.ordinalNumber(r,{unit:"year",valueCallback:l});default:return parseNDigits(e.length,r,l)}},validate:function(r,e,t){return e.isTwoDigitYear||e.year>0},set:function(r,e,t,o){var l=r.getUTCFullYear();if(t.isTwoDigitYear){var h=normalizeTwoDigitYear(t.year,l);return r.setUTCFullYear(h,0,1),r.setUTCHours(0,0,0,0),r}var y=!("era"in e)||e.era===1?t.year:1-t.year;return r.setUTCFullYear(y,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(r,e,t,o){var l=function(h){return{year:h,isTwoDigitYear:e==="YY"}};switch(e){case"Y":return parseNDigits(4,r,l);case"Yo":return t.ordinalNumber(r,{unit:"year",valueCallback:l});default:return parseNDigits(e.length,r,l)}},validate:function(r,e,t){return e.isTwoDigitYear||e.year>0},set:function(r,e,t,o){var l=getUTCWeekYear(r,o);if(t.isTwoDigitYear){var h=normalizeTwoDigitYear(t.year,l);return r.setUTCFullYear(h,0,o.firstWeekContainsDate),r.setUTCHours(0,0,0,0),startOfUTCWeek(r,o)}var y=!("era"in e)||e.era===1?t.year:1-t.year;return r.setUTCFullYear(y,0,o.firstWeekContainsDate),r.setUTCHours(0,0,0,0),startOfUTCWeek(r,o)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(r,e,t,o){return parseNDigitsSigned(e==="R"?4:e.length,r)},set:function(r,e,t,o){var l=new Date(0);return l.setUTCFullYear(t,0,4),l.setUTCHours(0,0,0,0),startOfUTCISOWeek(l)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(r,e,t,o){return parseNDigitsSigned(e==="u"?4:e.length,r)},set:function(r,e,t,o){return r.setUTCFullYear(t,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(r,e,t,o){switch(e){case"Q":case"QQ":return parseNDigits(e.length,r);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"})||t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})||t.quarter(r,{width:"abbreviated",context:"formatting"})||t.quarter(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=1&&e<=4},set:function(r,e,t,o){return r.setUTCMonth((t-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(r,e,t,o){switch(e){case"q":case"qq":return parseNDigits(e.length,r);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"})||t.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})||t.quarter(r,{width:"abbreviated",context:"standalone"})||t.quarter(r,{width:"narrow",context:"standalone"})}},validate:function(r,e,t){return e>=1&&e<=4},set:function(r,e,t,o){return r.setUTCMonth((t-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(r,e,t,o){var l=function(h){return h-1};switch(e){case"M":return parseNumericPattern(numericPatterns.month,r,l);case"MM":return parseNDigits(2,r,l);case"Mo":return t.ordinalNumber(r,{unit:"month",valueCallback:l});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"})||t.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})||t.month(r,{width:"abbreviated",context:"formatting"})||t.month(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=0&&e<=11},set:function(r,e,t,o){return r.setUTCMonth(t,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(r,e,t,o){var l=function(h){return h-1};switch(e){case"L":return parseNumericPattern(numericPatterns.month,r,l);case"LL":return parseNDigits(2,r,l);case"Lo":return t.ordinalNumber(r,{unit:"month",valueCallback:l});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"})||t.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})||t.month(r,{width:"abbreviated",context:"standalone"})||t.month(r,{width:"narrow",context:"standalone"})}},validate:function(r,e,t){return e>=0&&e<=11},set:function(r,e,t,o){return r.setUTCMonth(t,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(r,e,t,o){switch(e){case"w":return parseNumericPattern(numericPatterns.week,r);case"wo":return t.ordinalNumber(r,{unit:"week"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=53},set:function(r,e,t,o){return startOfUTCWeek(setUTCWeek(r,t,o),o)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(r,e,t,o){switch(e){case"I":return parseNumericPattern(numericPatterns.week,r);case"Io":return t.ordinalNumber(r,{unit:"week"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=53},set:function(r,e,t,o){return startOfUTCISOWeek(setUTCISOWeek(r,t,o),o)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(r,e,t,o){switch(e){case"d":return parseNumericPattern(numericPatterns.date,r);case"do":return t.ordinalNumber(r,{unit:"date"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){var o=r.getUTCFullYear(),l=isLeapYearIndex$1(o),h=r.getUTCMonth();return l?e>=1&&e<=DAYS_IN_MONTH_LEAP_YEAR[h]:e>=1&&e<=DAYS_IN_MONTH[h]},set:function(r,e,t,o){return r.setUTCDate(t),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(r,e,t,o){switch(e){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,r);case"Do":return t.ordinalNumber(r,{unit:"date"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){var o=r.getUTCFullYear(),l=isLeapYearIndex$1(o);return l?e>=1&&e<=366:e>=1&&e<=365},set:function(r,e,t,o){return r.setUTCMonth(0,t),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(r,e,t,o){switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})||t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=0&&e<=6},set:function(r,e,t,o){return r=setUTCDay(r,t,o),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(r,e,t,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(e){case"e":case"ee":return parseNDigits(e.length,r,l);case"eo":return t.ordinalNumber(r,{unit:"day",valueCallback:l});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})||t.day(r,{width:"abbreviated",context:"formatting"})||t.day(r,{width:"short",context:"formatting"})||t.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,e,t){return e>=0&&e<=6},set:function(r,e,t,o){return r=setUTCDay(r,t,o),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(r,e,t,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(e){case"c":case"cc":return parseNDigits(e.length,r,l);case"co":return t.ordinalNumber(r,{unit:"day",valueCallback:l});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"})||t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})||t.day(r,{width:"abbreviated",context:"standalone"})||t.day(r,{width:"short",context:"standalone"})||t.day(r,{width:"narrow",context:"standalone"})}},validate:function(r,e,t){return e>=0&&e<=6},set:function(r,e,t,o){return r=setUTCDay(r,t,o),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(r,e,t,o){var l=function(h){return h===0?7:h};switch(e){case"i":case"ii":return parseNDigits(e.length,r);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting",valueCallback:l})||t.day(r,{width:"short",context:"formatting",valueCallback:l})||t.day(r,{width:"narrow",context:"formatting",valueCallback:l});case"iiiii":return t.day(r,{width:"narrow",context:"formatting",valueCallback:l});case"iiiiii":return t.day(r,{width:"short",context:"formatting",valueCallback:l})||t.day(r,{width:"narrow",context:"formatting",valueCallback:l});case"iiii":default:return t.day(r,{width:"wide",context:"formatting",valueCallback:l})||t.day(r,{width:"abbreviated",context:"formatting",valueCallback:l})||t.day(r,{width:"short",context:"formatting",valueCallback:l})||t.day(r,{width:"narrow",context:"formatting",valueCallback:l})}},validate:function(r,e,t){return e>=1&&e<=7},set:function(r,e,t,o){return r=setUTCISODay(r,t,o),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(r,e,t,o){switch(e){case"a":case"aa":case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,e,t,o){return r.setUTCHours(dayPeriodEnumToHours(t),0,0,0),r},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(r,e,t,o){switch(e){case"b":case"bb":case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,e,t,o){return r.setUTCHours(dayPeriodEnumToHours(t),0,0,0),r},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(r,e,t,o){switch(e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})||t.dayPeriod(r,{width:"abbreviated",context:"formatting"})||t.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,e,t,o){return r.setUTCHours(dayPeriodEnumToHours(t),0,0,0),r},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(r,e,t,o){switch(e){case"h":return parseNumericPattern(numericPatterns.hour12h,r);case"ho":return t.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=12},set:function(r,e,t,o){var l=r.getUTCHours()>=12;return l&&t<12?r.setUTCHours(t+12,0,0,0):!l&&t===12?r.setUTCHours(0,0,0,0):r.setUTCHours(t,0,0,0),r},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(r,e,t,o){switch(e){case"H":return parseNumericPattern(numericPatterns.hour23h,r);case"Ho":return t.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=23},set:function(r,e,t,o){return r.setUTCHours(t,0,0,0),r},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(r,e,t,o){switch(e){case"K":return parseNumericPattern(numericPatterns.hour11h,r);case"Ko":return t.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=11},set:function(r,e,t,o){var l=r.getUTCHours()>=12;return l&&t<12?r.setUTCHours(t+12,0,0,0):r.setUTCHours(t,0,0,0),r},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(r,e,t,o){switch(e){case"k":return parseNumericPattern(numericPatterns.hour24h,r);case"ko":return t.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){return e>=1&&e<=24},set:function(r,e,t,o){var l=t<=24?t%24:t;return r.setUTCHours(l,0,0,0),r},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(r,e,t,o){switch(e){case"m":return parseNumericPattern(numericPatterns.minute,r);case"mo":return t.ordinalNumber(r,{unit:"minute"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=59},set:function(r,e,t,o){return r.setUTCMinutes(t,0,0),r},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(r,e,t,o){switch(e){case"s":return parseNumericPattern(numericPatterns.second,r);case"so":return t.ordinalNumber(r,{unit:"second"});default:return parseNDigits(e.length,r)}},validate:function(r,e,t){return e>=0&&e<=59},set:function(r,e,t,o){return r.setUTCSeconds(t,0),r},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(r,e,t,o){var l=function(h){return Math.floor(h*Math.pow(10,-e.length+3))};return parseNDigits(e.length,r,l)},set:function(r,e,t,o){return r.setUTCMilliseconds(t),r},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(r,e,t,o){switch(e){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,r);case"XX":return parseTimezonePattern(timezonePatterns.basic,r);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,r);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,r);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,r)}},set:function(r,e,t,o){return e.timestampIsSet?r:new Date(r.getTime()-t)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(r,e,t,o){switch(e){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,r);case"xx":return parseTimezonePattern(timezonePatterns.basic,r);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,r);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,r);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,r)}},set:function(r,e,t,o){return e.timestampIsSet?r:new Date(r.getTime()-t)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(r,e,t,o){return parseAnyDigitsSigned(r)},set:function(r,e,t,o){return[new Date(t*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(r,e,t,o){return parseAnyDigitsSigned(r)},set:function(r,e,t,o){return[new Date(t),{timestampIsSet:!0}]},incompatibleTokens:"*"}},parsers$1=parsers,TIMEZONE_UNIT_PRIORITY=10,formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(r,e,t,o){requiredArgs(3,arguments);var l=String(r),h=String(e),y=o||{},O=y.locale||defaultLocale;if(!O.match)throw new RangeError("locale must contain match property");var D=O.options&&O.options.firstWeekContainsDate,R=D==null?1:toInteger(D),F=y.firstWeekContainsDate==null?R:toInteger(y.firstWeekContainsDate);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=O.options&&O.options.weekStartsOn,j=B==null?0:toInteger(B),U=y.weekStartsOn==null?j:toInteger(y.weekStartsOn);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(h==="")return l===""?toDate(t):new Date(NaN);var W={firstWeekContainsDate:F,weekStartsOn:U,locale:O},G=[{priority:TIMEZONE_UNIT_PRIORITY,subPriority:-1,set:dateToSystemTimezone,index:0}],q,K=h.match(longFormattingTokensRegExp).map(function(oe){var ae=oe[0];if(ae==="p"||ae==="P"){var le=longFormatters$1[ae];return le(oe,O.formatLong,W)}return oe}).join("").match(formattingTokensRegExp),Y=[];for(q=0;q<K.length;q++){var X=K[q];!y.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(X)&&throwProtectedError(X,h,r),!y.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(X)&&throwProtectedError(X,h,r);var J=X[0],Q=parsers$1[J];if(Q){var Z=Q.incompatibleTokens;if(Array.isArray(Z)){for(var ee=void 0,te=0;te<Y.length;te++){var re=Y[te].token;if(Z.indexOf(re)!==-1||re===J){ee=Y[te];break}}if(ee)throw new RangeError("The format string mustn't contain `".concat(ee.fullToken,"` and `").concat(X,"` at the same time"))}else if(Q.incompatibleTokens==="*"&&Y.length)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));Y.push({token:J,fullToken:X});var ie=Q.parse(l,X,O.match,W);if(!ie)return new Date(NaN);G.push({priority:Q.priority,subPriority:Q.subPriority||0,set:Q.set,validate:Q.validate,value:ie.value,index:G.length}),l=ie.rest}else{if(J.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");if(X==="''"?X="'":J==="'"&&(X=cleanEscapedString(X)),l.indexOf(X)===0)l=l.slice(X.length);else return new Date(NaN)}}if(l.length>0&&notWhitespaceRegExp.test(l))return new Date(NaN);var ne=G.map(function(oe){return oe.priority}).sort(function(oe,ae){return ae-oe}).filter(function(oe,ae,le){return le.indexOf(oe)===ae}).map(function(oe){return G.filter(function(ae){return ae.priority===oe}).sort(function(ae,le){return le.subPriority-ae.subPriority})}).map(function(oe){return oe[0]}),se=toDate(t);if(isNaN(se))return new Date(NaN);var ce=subMilliseconds(se,getTimezoneOffsetInMilliseconds(se)),ue={};for(q=0;q<ne.length;q++){var he=ne[q];if(he.validate&&!he.validate(ce,he.value,W))return new Date(NaN);var pe=he.set(ce,ue,he.value,W);pe[0]?(ce=pe[0],assign$7(ue,pe[1])):ce=pe}return ce}function dateToSystemTimezone(r,e){if(e.timestampIsSet)return r;var t=new Date(0);return t.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),t.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),t}function cleanEscapedString(r){return r.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function startOfHour(r){requiredArgs(1,arguments);var e=toDate(r);return e.setMinutes(0,0,0),e}function startOfSecond(r){requiredArgs(1,arguments);var e=toDate(r);return e.setMilliseconds(0),e}function parseISO(r,e){requiredArgs(1,arguments);var t=e||{},o=t.additionalDigits==null?2:toInteger(t.additionalDigits);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var l=splitDateString(r),h;if(l.date){var y=parseYear(l.date,o);h=parseDate(y.restDateString,y.year)}if(!h||isNaN(h.getTime()))return new Date(NaN);var O=h.getTime(),D=0,R;if(l.time&&(D=parseTime(l.time),isNaN(D)))return new Date(NaN);if(l.timezone){if(R=parseTimezone(l.timezone),isNaN(R))return new Date(NaN)}else{var F=new Date(O+D),B=new Date(0);return B.setFullYear(F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate()),B.setHours(F.getUTCHours(),F.getUTCMinutes(),F.getUTCSeconds(),F.getUTCMilliseconds()),B}return new Date(O+D+R)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(r){var e={},t=r.split(patterns.dateTimeDelimiter),o;if(t.length>2)return e;if(/:/.test(t[0])?o=t[0]:(e.date=t[0],o=t[1],patterns.timeZoneDelimiter.test(e.date)&&(e.date=r.split(patterns.timeZoneDelimiter)[0],o=r.substr(e.date.length,r.length))),o){var l=patterns.timezone.exec(o);l?(e.time=o.replace(l[1],""),e.timezone=l[1]):e.time=o}return e}function parseYear(r,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),o=r.match(t);if(!o)return{year:NaN,restDateString:""};var l=o[1]?parseInt(o[1]):null,h=o[2]?parseInt(o[2]):null;return{year:h===null?l:h*100,restDateString:r.slice((o[1]||o[2]).length)}}function parseDate(r,e){if(e===null)return new Date(NaN);var t=r.match(dateRegex);if(!t)return new Date(NaN);var o=!!t[4],l=parseDateUnit(t[1]),h=parseDateUnit(t[2])-1,y=parseDateUnit(t[3]),O=parseDateUnit(t[4]),D=parseDateUnit(t[5])-1;if(o)return validateWeekDate(e,O,D)?dayOfISOWeekYear(e,O,D):new Date(NaN);var R=new Date(0);return!validateDate(e,h,y)||!validateDayOfYearDate(e,l)?new Date(NaN):(R.setUTCFullYear(e,h,Math.max(l,y)),R)}function parseDateUnit(r){return r?parseInt(r):1}function parseTime(r){var e=r.match(timeRegex);if(!e)return NaN;var t=parseTimeUnit(e[1]),o=parseTimeUnit(e[2]),l=parseTimeUnit(e[3]);return validateTime(t,o,l)?t*millisecondsInHour+o*millisecondsInMinute+l*1e3:NaN}function parseTimeUnit(r){return r&&parseFloat(r.replace(",","."))||0}function parseTimezone(r){if(r==="Z")return 0;var e=r.match(timezoneRegex);if(!e)return 0;var t=e[1]==="+"?-1:1,o=parseInt(e[2]),l=e[3]&&parseInt(e[3])||0;return validateTimezone(o,l)?t*(o*millisecondsInHour+l*millisecondsInMinute):NaN}function dayOfISOWeekYear(r,e,t){var o=new Date(0);o.setUTCFullYear(r,0,4);var l=o.getUTCDay()||7,h=(e-1)*7+t+1-l;return o.setUTCDate(o.getUTCDate()+h),o}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(r){return r%400===0||r%4===0&&r%100!==0}function validateDate(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(daysInMonths[e]||(isLeapYearIndex(r)?29:28))}function validateDayOfYearDate(r,e){return e>=1&&e<=(isLeapYearIndex(r)?366:365)}function validateWeekDate(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function validateTime(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function validateTimezone(r,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v1.1.0-beta.1
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const FORMATS={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};adapters._date.override({_id:"date-fns",formats:function(){return FORMATS},parse:function(r,e){if(r===null||typeof r=="undefined")return null;const t=typeof r;return t==="number"||r instanceof Date?r=toDate(r):t==="string"&&(typeof e=="string"?r=parse(r,e,new Date,this.options):r=parseISO(r,this.options)),isValid(r)?r.getTime():null},format:function(r,e){return format(r,e,this.options)},add:function(r,e,t){switch(t){case"millisecond":return addMilliseconds(r,e);case"second":return addSeconds(r,e);case"minute":return addMinutes(r,e);case"hour":return addHours(r,e);case"day":return addDays(r,e);case"week":return addWeeks(r,e);case"month":return addMonths(r,e);case"quarter":return addQuarters(r,e);case"year":return addYears(r,e);default:return r}},diff:function(r,e,t){switch(t){case"millisecond":return differenceInMilliseconds(r,e);case"second":return differenceInSeconds(r,e);case"minute":return differenceInMinutes(r,e);case"hour":return differenceInHours(r,e);case"day":return differenceInDays(r,e);case"week":return differenceInWeeks(r,e);case"month":return differenceInMonths(r,e);case"quarter":return differenceInQuarters(r,e);case"year":return differenceInYears(r,e);default:return 0}},startOf:function(r,e,t){switch(e){case"second":return startOfSecond(r);case"minute":return startOfMinute(r);case"hour":return startOfHour(r);case"day":return startOfDay(r);case"week":return startOfWeek(r);case"isoWeek":return startOfWeek(r,{weekStartsOn:+t});case"month":return startOfMonth(r);case"quarter":return startOfQuarter(r);case"year":return startOfYear(r);default:return r}},endOf:function(r,e){switch(e){case"second":return endOfSecond(r);case"minute":return endOfMinute(r);case"hour":return endOfHour(r);case"day":return endOfDay(r);case"week":return endOfWeek(r);case"month":return endOfMonth(r);case"quarter":return endOfQuarter(r);case"year":return endOfYear(r);default:return r}}});/*!
 * chartjs-plugin-deferred v2.0.0
 * https://chartjs-plugin-deferred.netlify.app
 * (c) 2016-2022 chartjs-plugin-deferred contributors
 * Released under the MIT license
 */var STUB_KEY="$chartjs_deferred",MODEL_KEY="$deferred";function defer(r,e){e?window.setTimeout(r,e):requestAnimFrame.call(window,r)}function computeOffset(r,e){var t=parseInt(r,10);return isNaN(t)?0:typeof r=="string"&&r.indexOf("%")!==-1?t/100*e:t}function chartInViewport(r){var e=r[MODEL_KEY].options,t=r.canvas;if(!t||t.offsetParent===null)return!1;var o=t.getBoundingClientRect(),l=computeOffset(e.yOffset||0,o.height),h=computeOffset(e.xOffset||0,o.width);return o.right-h>=0&&o.bottom-l>=0&&o.left+h<=window.innerWidth&&o.top+l<=window.innerHeight}function onScroll(r){var e=r.target,t=e[STUB_KEY];t.ticking||(t.ticking=!0,defer(function(){var o=t.charts.slice(),l=o.length,h,y;for(y=0;y<l;++y)h=o[y],chartInViewport(h)&&(unwatch(h),h[MODEL_KEY].appeared=!0,h.update());t.ticking=!1}))}function isScrollable(r){var e=r.nodeType;if(e===Node.ELEMENT_NODE){var t=getStyle(r,"overflow-x"),o=getStyle(r,"overflow-y");return t==="auto"||t==="scroll"||o==="auto"||o==="scroll"}return r.nodeType===Node.DOCUMENT_NODE}function watch(r){for(var e=r.canvas,t=e.parentElement,o,l;t;)isScrollable(t)&&(o=t[STUB_KEY]||(t[STUB_KEY]={}),l=o.charts||(o.charts=[]),l.length===0&&t.addEventListener("scroll",onScroll),l.push(r),r[MODEL_KEY].elements.push(t)),t=t.parentElement||t.ownerDocument}function unwatch(r){r[MODEL_KEY].elements.forEach(function(e){var t=e[STUB_KEY].charts;t.splice(t.indexOf(r),1),t.length||(e.removeEventListener("scroll",onScroll),delete e[STUB_KEY])}),r[MODEL_KEY].elements=[]}var plugin={id:"deferred",defaults:{xOffset:0,yOffset:0,delay:0},beforeInit:function(r,e,t){r[MODEL_KEY]={options:t,appeared:!1,delayed:!1,loaded:!1,elements:[]},watch(r)},beforeDatasetsUpdate:function(r,e,t){var o=r[MODEL_KEY];if(!o.loaded){if(!o.appeared&&!chartInViewport(r))return!1;if(o.appeared=!0,o.loaded=!0,unwatch(r),t.delay>0)return o.delayed=!0,defer(function(){r.ctx&&(o.delayed=!1,r.update())},t.delay),!1}if(o.delayed)return!1},destroy:function(r){unwatch(r)}},aos$1={exports:{}};(function(r,e){(function(t,o){r.exports=o()})(commonjsGlobal$2,function(){return function(t){function o(h){if(l[h])return l[h].exports;var y=l[h]={exports:{},id:h,loaded:!1};return t[h].call(y.exports,y,y.exports,o),y.loaded=!0,y.exports}var l={};return o.m=t,o.c=l,o.p="dist/",o(0)}([function(t,o,l){function h(ue){return ue&&ue.__esModule?ue:{default:ue}}var y=Object.assign||function(ue){for(var he=1;he<arguments.length;he++){var pe=arguments[he];for(var oe in pe)Object.prototype.hasOwnProperty.call(pe,oe)&&(ue[oe]=pe[oe])}return ue},O=l(1),D=(h(O),l(6)),R=h(D),F=l(7),B=h(F),j=l(8),U=h(j),W=l(9),G=h(W),q=l(10),K=h(q),Y=l(11),X=h(Y),J=l(14),Q=h(J),Z=[],ee=!1,te={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},re=function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ue&&(ee=!0),ee)return Z=(0,X.default)(Z,te),(0,K.default)(Z,te.once),Z},ie=function(){Z=(0,Q.default)(),re()},ne=function(){Z.forEach(function(ue,he){ue.node.removeAttribute("data-aos"),ue.node.removeAttribute("data-aos-easing"),ue.node.removeAttribute("data-aos-duration"),ue.node.removeAttribute("data-aos-delay")})},se=function(ue){return ue===!0||ue==="mobile"&&G.default.mobile()||ue==="phone"&&G.default.phone()||ue==="tablet"&&G.default.tablet()||typeof ue=="function"&&ue()===!0},ce=function(ue){te=y(te,ue),Z=(0,Q.default)();var he=document.all&&!window.atob;return se(te.disable)||he?ne():(te.disableMutationObserver||U.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),te.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",te.easing),document.querySelector("body").setAttribute("data-aos-duration",te.duration),document.querySelector("body").setAttribute("data-aos-delay",te.delay),te.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?re(!0):te.startEvent==="load"?window.addEventListener(te.startEvent,function(){re(!0)}):document.addEventListener(te.startEvent,function(){re(!0)}),window.addEventListener("resize",(0,B.default)(re,te.debounceDelay,!0)),window.addEventListener("orientationchange",(0,B.default)(re,te.debounceDelay,!0)),window.addEventListener("scroll",(0,R.default)(function(){(0,K.default)(Z,te.once)},te.throttleDelay)),te.disableMutationObserver||U.default.ready("[data-aos]",ie),Z)};t.exports={init:ce,refresh:re,refreshHard:ie}},function(t,o){},,,,,function(t,o){(function(l){function h(se,ce,ue){function he(Ie){var xe=we,Me=ve;return we=ve=void 0,Oe=Ie,$e=se.apply(Me,xe)}function pe(Ie){return Oe=Ie,be=setTimeout(le,ce),Te?he(Ie):$e}function oe(Ie){var xe=Ie-ye,Me=Ie-Oe,Ae=ce-xe;return ke?ie(Ae,Se-Me):Ae}function ae(Ie){var xe=Ie-ye,Me=Ie-Oe;return ye===void 0||xe>=ce||xe<0||ke&&Me>=Se}function le(){var Ie=ne();return ae(Ie)?me(Ie):void(be=setTimeout(le,oe(Ie)))}function me(Ie){return be=void 0,Ee&&we?he(Ie):(we=ve=void 0,$e)}function ge(){be!==void 0&&clearTimeout(be),Oe=0,we=ye=ve=be=void 0}function fe(){return be===void 0?$e:me(ne())}function _e(){var Ie=ne(),xe=ae(Ie);if(we=arguments,ve=this,ye=Ie,xe){if(be===void 0)return pe(ye);if(ke)return be=setTimeout(le,ce),he(ye)}return be===void 0&&(be=setTimeout(le,ce)),$e}var we,ve,Se,$e,be,ye,Oe=0,Te=!1,ke=!1,Ee=!0;if(typeof se!="function")throw new TypeError(j);return ce=F(ce)||0,O(ue)&&(Te=!!ue.leading,ke="maxWait"in ue,Se=ke?re(F(ue.maxWait)||0,ce):Se,Ee="trailing"in ue?!!ue.trailing:Ee),_e.cancel=ge,_e.flush=fe,_e}function y(se,ce,ue){var he=!0,pe=!0;if(typeof se!="function")throw new TypeError(j);return O(ue)&&(he="leading"in ue?!!ue.leading:he,pe="trailing"in ue?!!ue.trailing:pe),h(se,ce,{leading:he,maxWait:ce,trailing:pe})}function O(se){var ce=typeof se=="undefined"?"undefined":B(se);return!!se&&(ce=="object"||ce=="function")}function D(se){return!!se&&(typeof se=="undefined"?"undefined":B(se))=="object"}function R(se){return(typeof se=="undefined"?"undefined":B(se))=="symbol"||D(se)&&te.call(se)==W}function F(se){if(typeof se=="number")return se;if(R(se))return U;if(O(se)){var ce=typeof se.valueOf=="function"?se.valueOf():se;se=O(ce)?ce+"":ce}if(typeof se!="string")return se===0?se:+se;se=se.replace(G,"");var ue=K.test(se);return ue||Y.test(se)?X(se.slice(2),ue?2:8):q.test(se)?U:+se}var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},j="Expected a function",U=NaN,W="[object Symbol]",G=/^\s+|\s+$/g,q=/^[-+]0x[0-9a-f]+$/i,K=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,X=parseInt,J=(typeof l=="undefined"?"undefined":B(l))=="object"&&l&&l.Object===Object&&l,Q=(typeof self=="undefined"?"undefined":B(self))=="object"&&self&&self.Object===Object&&self,Z=J||Q||Function("return this")(),ee=Object.prototype,te=ee.toString,re=Math.max,ie=Math.min,ne=function(){return Z.Date.now()};t.exports=y}).call(o,function(){return this}())},function(t,o){(function(l){function h(ne,se,ce){function ue(Ee){var Ie=_e,xe=we;return _e=we=void 0,ye=Ee,Se=ne.apply(xe,Ie)}function he(Ee){return ye=Ee,$e=setTimeout(ae,se),Oe?ue(Ee):Se}function pe(Ee){var Ie=Ee-be,xe=Ee-ye,Me=se-Ie;return Te?re(Me,ve-xe):Me}function oe(Ee){var Ie=Ee-be,xe=Ee-ye;return be===void 0||Ie>=se||Ie<0||Te&&xe>=ve}function ae(){var Ee=ie();return oe(Ee)?le(Ee):void($e=setTimeout(ae,pe(Ee)))}function le(Ee){return $e=void 0,ke&&_e?ue(Ee):(_e=we=void 0,Se)}function me(){$e!==void 0&&clearTimeout($e),ye=0,_e=be=we=$e=void 0}function ge(){return $e===void 0?Se:le(ie())}function fe(){var Ee=ie(),Ie=oe(Ee);if(_e=arguments,we=this,be=Ee,Ie){if($e===void 0)return he(be);if(Te)return $e=setTimeout(ae,se),ue(be)}return $e===void 0&&($e=setTimeout(ae,se)),Se}var _e,we,ve,Se,$e,be,ye=0,Oe=!1,Te=!1,ke=!0;if(typeof ne!="function")throw new TypeError(B);return se=R(se)||0,y(ce)&&(Oe=!!ce.leading,Te="maxWait"in ce,ve=Te?te(R(ce.maxWait)||0,se):ve,ke="trailing"in ce?!!ce.trailing:ke),fe.cancel=me,fe.flush=ge,fe}function y(ne){var se=typeof ne=="undefined"?"undefined":F(ne);return!!ne&&(se=="object"||se=="function")}function O(ne){return!!ne&&(typeof ne=="undefined"?"undefined":F(ne))=="object"}function D(ne){return(typeof ne=="undefined"?"undefined":F(ne))=="symbol"||O(ne)&&ee.call(ne)==U}function R(ne){if(typeof ne=="number")return ne;if(D(ne))return j;if(y(ne)){var se=typeof ne.valueOf=="function"?ne.valueOf():ne;ne=y(se)?se+"":se}if(typeof ne!="string")return ne===0?ne:+ne;ne=ne.replace(W,"");var ce=q.test(ne);return ce||K.test(ne)?Y(ne.slice(2),ce?2:8):G.test(ne)?j:+ne}var F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},B="Expected a function",j=NaN,U="[object Symbol]",W=/^\s+|\s+$/g,G=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,K=/^0o[0-7]+$/i,Y=parseInt,X=(typeof l=="undefined"?"undefined":F(l))=="object"&&l&&l.Object===Object&&l,J=(typeof self=="undefined"?"undefined":F(self))=="object"&&self&&self.Object===Object&&self,Q=X||J||Function("return this")(),Z=Object.prototype,ee=Z.toString,te=Math.max,re=Math.min,ie=function(){return Q.Date.now()};t.exports=h}).call(o,function(){return this}())},function(t,o){function l(F){var B=void 0,j=void 0;for(B=0;B<F.length;B+=1)if(j=F[B],j.dataset&&j.dataset.aos||j.children&&l(j.children))return!0;return!1}function h(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function y(){return!!h()}function O(F,B){var j=window.document,U=h(),W=new U(D);R=B,W.observe(j.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function D(F){F&&F.forEach(function(B){var j=Array.prototype.slice.call(B.addedNodes),U=Array.prototype.slice.call(B.removedNodes),W=j.concat(U);if(l(W))return R()})}Object.defineProperty(o,"__esModule",{value:!0});var R=function(){};o.default={isSupported:y,ready:O}},function(t,o){function l(j,U){if(!(j instanceof U))throw new TypeError("Cannot call a class as a function")}function h(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function j(U,W){for(var G=0;G<W.length;G++){var q=W[G];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,q.key,q)}}return function(U,W,G){return W&&j(U.prototype,W),G&&j(U,G),U}}(),O=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,D=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,R=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,F=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,B=function(){function j(){l(this,j)}return y(j,[{key:"phone",value:function(){var U=h();return!(!O.test(U)&&!D.test(U.substr(0,4)))}},{key:"mobile",value:function(){var U=h();return!(!R.test(U)&&!F.test(U.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),j}();o.default=new B},function(t,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(y,O,D){var R=y.node.getAttribute("data-aos-once");O>y.position?y.node.classList.add("aos-animate"):typeof R!="undefined"&&(R==="false"||!D&&R!=="true")&&y.node.classList.remove("aos-animate")},h=function(y,O){var D=window.pageYOffset,R=window.innerHeight;y.forEach(function(F,B){l(F,R+D,O)})};o.default=h},function(t,o,l){function h(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(12),O=h(y),D=function(R,F){return R.forEach(function(B,j){B.node.classList.add("aos-init"),B.position=(0,O.default)(B.node,F.offset)}),R};o.default=D},function(t,o,l){function h(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(13),O=h(y),D=function(R,F){var B=0,j=0,U=window.innerHeight,W={offset:R.getAttribute("data-aos-offset"),anchor:R.getAttribute("data-aos-anchor"),anchorPlacement:R.getAttribute("data-aos-anchor-placement")};switch(W.offset&&!isNaN(W.offset)&&(j=parseInt(W.offset)),W.anchor&&document.querySelectorAll(W.anchor)&&(R=document.querySelectorAll(W.anchor)[0]),B=(0,O.default)(R).top,W.anchorPlacement){case"top-bottom":break;case"center-bottom":B+=R.offsetHeight/2;break;case"bottom-bottom":B+=R.offsetHeight;break;case"top-center":B+=U/2;break;case"bottom-center":B+=U/2+R.offsetHeight;break;case"center-center":B+=U/2+R.offsetHeight/2;break;case"top-top":B+=U;break;case"bottom-top":B+=R.offsetHeight+U;break;case"center-top":B+=R.offsetHeight/2+U}return W.anchorPlacement||W.offset||isNaN(F)||(j=F),B+j};o.default=D},function(t,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){for(var y=0,O=0;h&&!isNaN(h.offsetLeft)&&!isNaN(h.offsetTop);)y+=h.offsetLeft-(h.tagName!="BODY"?h.scrollLeft:0),O+=h.offsetTop-(h.tagName!="BODY"?h.scrollTop:0),h=h.offsetParent;return{top:O,left:y}};o.default=l},function(t,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){return h=h||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(h,function(y){return{node:y}})};o.default=l}])})})(aos$1);var AOS=getDefaultExportFromCjs(aos$1.exports),aos="",projectView_svelte_svelte_type_style_lang="";const{document:document_1}=globals;function create_if_block_5$5(r){let e,t,o;return{c(){e=element("div"),e.innerHTML='<i class="bx bx-arrow-back"></i>',attr(e,"class","backArrow hvr-forward svelte-cpyggs")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[11]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_catch_block_1$3(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block$8(r){let e;function t(h,y){return h[31].time.length>0?create_if_block_1$a:create_else_block_1$5}let l=t(r)(r);return{c(){l.c(),e=empty$2()},m(h,y){l.m(h,y),insert(h,e,y)},p(h,y){l.p(h,y)},d(h){l.d(h),h&&detach(e)}}}function create_else_block_1$5(r){let e,t,o,l,h,y,O,D,R,F,B,j,U;return{c(){e=element("div"),t=element("div"),t.innerHTML='<lottie-player src="https://assets1.lottiefiles.com/private_files/lf30_oqpbtola.json" background="transparent" speed="1" style="width:200px; margin:auto;" autoplay="" loop=""></lottie-player>',o=space(),l=element("div"),h=element("h3"),h.textContent="Pas encore de r\xE9ponses \u{1F622}",y=space(),O=element("p"),O.textContent="Vos graphiques s'afficheront automatiquement ici d\xE8s la premi\xE8re r\xE9ponse \xE0 ce sondage.",D=space(),R=element("div"),R.textContent="Partager le sondage \u{1F680}",F=space(),B=element("div"),B.textContent="Supprimer \u274C",attr(t,"class","pr-0 pr-md-4"),attr(O,"class","pr-3 mb-4"),attr(R,"class","shareBtn mr-4 svelte-cpyggs"),attr(B,"class","shareBtn svelte-cpyggs"),attr(l,"class","margin:auto;"),attr(e,"class","noData d-flex flex-column flex-md-row justify-content-around align-items-center svelte-cpyggs")},m(W,G){insert(W,e,G),append(e,t),append(e,o),append(e,l),append(l,h),append(l,y),append(l,O),append(l,D),append(l,R),append(l,F),append(l,B),j||(U=[listen(R,"click",r[21]),listen(B,"click",r[22])],j=!0)},p:noop$4,d(W){W&&detach(e),j=!1,run_all(U)}}}function create_if_block_1$a(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne,se,ce,ue,he,pe,oe,ae,le,me,ge,fe,_e,we,ve,Se,$e,be,ye,Oe=r[1].length==0&&create_if_block_3$7(r),Te=r[1].length==0&&create_if_block_2$9(r);return{c(){e=element("div"),Oe&&Oe.c(),t=space(),o=element("div"),l=element("div"),h=element("h4"),h.textContent="Filtrer les donn\xE9es",y=space(),O=element("div"),D=element("div"),D.textContent="1.",R=space(),F=element("select"),B=element("option"),B.textContent="D\xE9sactiv\xE9",j=space(),U=element("select"),W=element("option"),W.textContent="\xE9gal \xE0",G=element("option"),G.textContent="sup\xE9rieur ou \xE9gal \xE0",q=element("option"),q.textContent="inf\xE9rieur ou \xE9gal \xE0",K=space(),Y=element("span"),Y.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',X=space(),J=element("div"),Q=element("div"),Q.textContent="2.",Z=space(),ee=element("select"),te=element("option"),te.textContent="D\xE9sactiv\xE9",re=space(),ie=element("select"),ne=element("option"),ne.textContent="\xE9gal \xE0",se=element("option"),se.textContent="sup\xE9rieur ou \xE9gal \xE0",ce=element("option"),ce.textContent="inf\xE9rieur ou \xE9gal \xE0",ue=space(),he=element("span"),he.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',pe=space(),oe=element("div"),ae=element("button"),ae.innerHTML='<i class="bx bx-filter-alt pr-1"></i>Filtrer',le=space(),me=element("div"),ge=element("div"),fe=element("button"),fe.innerHTML='<i class="bx bx-export pr-1"></i>Exporter les donn\xE9es',_e=space(),Te&&Te.c(),we=space(),ve=element("div"),Se=space(),$e=element("span"),attr(h,"class","mb-3"),set_style(D,"font-size","1.2rem"),attr(D,"class","mr-3"),B.__value="dis",B.value=B.__value,attr(F,"class","rtnFilterSelect"),W.__value="==",W.value=W.__value,G.__value=">=",G.value=G.__value,q.__value="<=",q.value=q.__value,attr(U,"class","rtnFilterSelect"),U.disabled=!0,attr(O,"class","align-items-center d-flex justify-content-center p-2"),set_style(Q,"font-size","1.2rem"),attr(Q,"class","mr-3"),te.__value="dis",te.value=te.__value,attr(ee,"class","rtnFilterSelect"),ne.__value="==",ne.value=ne.__value,se.__value=">=",se.value=se.__value,ce.__value="<=",ce.value=ce.__value,attr(ie,"class","rtnFilterSelect"),ie.disabled=!0,attr(J,"class","align-items-center d-flex justify-content-center p-2"),set_style(ae,"min-width","100px"),set_style(ae,"border-radius","10px"),set_style(ae,"border-width","0px"),set_style(ae,"padding","8px 15px"),attr(oe,"class","mt-3"),attr(l,"class","neuProjetSimple p-4 text-center h-100 m-0 svelte-cpyggs"),set_style(l,"color","white"),set_style(l,"background-color","#6219d8"),attr(l,"data-aos","fade-up"),attr(l,"data-aos-delay","100"),attr(o,"id","filtreZone"),attr(o,"class","col-12 col-lg-8 p-3 m-0"),set_style(fe,"background-color","#23be6e4d"),attr(fe,"class","btnDash hvr-float"),attr(fe,"data-aos","fade-up"),attr(fe,"data-aos-delay","200"),attr(ge,"class","align-items-stretch d-flex flex-lg-column flex-row h-100 justify-content-lg-between justify-content-around"),attr(me,"class","col-12 col-lg-4 p-3 m-0"),attr(ve,"class","mb-4"),attr(e,"id","mesResultats"),attr(e,"class","row p-0 p-md-1 mx-auto w-100"),set_style(e,"max-width","1100px")},m(ke,Ee){insert(ke,e,Ee),Oe&&Oe.m(e,null),append(e,t),append(e,o),append(o,l),append(l,h),append(l,y),append(l,O),append(O,D),append(O,R),append(O,F),append(F,B),append(O,j),append(O,U),append(U,W),append(U,G),append(U,q),append(O,K),append(O,Y),append(l,X),append(l,J),append(J,Q),append(J,Z),append(J,ee),append(ee,te),append(J,re),append(J,ie),append(ie,ne),append(ie,se),append(ie,ce),append(J,ue),append(J,he),append(l,pe),append(l,oe),append(oe,ae),append(e,le),append(e,me),append(me,ge),append(ge,fe),append(ge,_e),Te&&Te.m(ge,null),append(e,we),append(e,ve),insert(ke,Se,Ee),insert(ke,$e,Ee),be||(ye=[listen(ae,"click",r[18]),listen(fe,"click",r[19]),action_destroyer(r[9].call(null,$e,r[31]))],be=!0)},p(ke,Ee){r=ke,r[1].length==0?Oe?Oe.p(r,Ee):(Oe=create_if_block_3$7(r),Oe.c(),Oe.m(e,t)):Oe&&(Oe.d(1),Oe=null),r[1].length==0?Te?Te.p(r,Ee):(Te=create_if_block_2$9(r),Te.c(),Te.m(ge,null)):Te&&(Te.d(1),Te=null)},d(ke){ke&&detach(e),Oe&&Oe.d(),Te&&Te.d(),ke&&detach(Se),ke&&detach($e),be=!1,run_all(ye)}}}function create_if_block_3$7(r){let e,t,o,l,h,y,O,D={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$3,then:create_then_block_1$3,catch:create_catch_block$8,value:32};return handle_promise(O=r[2],D),{c(){e=element("div"),t=element("div"),o=element("h4"),o.textContent="\u{1F517} Partager les donn\xE9es",l=space(),h=element("p"),h.textContent="R\xE9tine vous permet de partager les r\xE9sultats de ce sondage avec n'importe qui de mani\xE8re s\xE9curis\xE9e.",y=space(),D.block.c(),attr(o,"class","mb-3"),attr(t,"class","neuProjetSimple p-4 h-100 m-0 svelte-cpyggs"),attr(t,"data-aos","fade-up"),attr(t,"data-aos-delay","100"),attr(e,"class","col-12 p-4")},m(R,F){insert(R,e,F),append(e,t),append(t,o),append(t,l),append(t,h),append(t,y),D.block.m(t,D.anchor=null),D.mount=()=>t,D.anchor=null},p(R,F){r=R,D.ctx=r,F[0]&4&&O!==(O=r[2])&&handle_promise(O,D)||update_await_block_branch(D,r,F)},d(R){R&&detach(e),D.block.d(),D.token=null,D=null}}}function create_catch_block$8(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block_1$3(r){let e;function t(h,y){return h[32].share_id=="no"?create_if_block_4$7:create_else_block$8}let o=t(r),l=o(r);return{c(){e=element("div"),l.c(),attr(e,"class","p-3")},m(h,y){insert(h,e,y),l.m(e,null)},p(h,y){o===(o=t(h))&&l?l.p(h,y):(l.d(1),l=o(h),l&&(l.c(),l.m(e,null)))},d(h){h&&detach(e),l.d()}}}function create_else_block$8(r){let e,t,o,l,h,y=r[32].share_id+"",O,D,R,F,B=r[32].share_pw+"",j,U,W,G,q,K,Y,X,J,Q;function Z(){return r[15](r[32])}function ee(){return r[16](r[32])}return{c(){e=element("p"),e.textContent=`Seules les personnes disposant du lien et du mot de passe pourront visualiser les r\xE9sultats de ce sondage. Vous pouvez supprimer le\r
                      partage \xE0 tout moment pour r\xE9streindre \xE0 nouveau la vue des r\xE9sultats \xE0 ce compte uniquement.`,t=space(),o=element("div"),l=element("p"),h=text("\u{1F517} retine.io/res#"),O=text(y),D=space(),R=element("p"),F=text("\u{1F512} "),j=text(B),U=space(),W=element("br"),G=space(),q=element("div"),q.textContent="\u274C Supprimer le partage",K=space(),Y=element("div"),X=text(r[3]),attr(e,"class","text-justify"),set_style(e,"opacity",".8"),attr(l,"class","svelte-cpyggs"),attr(R,"class","svelte-cpyggs"),attr(q,"class","screenBtn hvr-grow mr-auto d-inline-block"),set_style(q,"font-size","1rem"),attr(Y,"class","d-inline-block ml-4"),attr(o,"class","shareIds svelte-cpyggs")},m(te,re){insert(te,e,re),insert(te,t,re),insert(te,o,re),append(o,l),append(l,h),append(l,O),append(o,D),append(o,R),append(R,F),append(R,j),append(o,U),append(o,W),append(o,G),append(o,q),append(o,K),append(o,Y),append(Y,X),J||(Q=[listen(l,"click",Z),listen(R,"click",ee),listen(q,"click",r[17])],J=!0)},p(te,re){r=te,re[0]&4&&y!==(y=r[32].share_id+"")&&set_data(O,y),re[0]&4&&B!==(B=r[32].share_pw+"")&&set_data(j,B),re[0]&8&&set_data(X,r[3])},d(te){te&&detach(e),te&&detach(t),te&&detach(o),J=!1,run_all(Q)}}}function create_if_block_4$7(r){let e,t,o;return{c(){e=element("div"),e.textContent="\u{1F512} G\xE9n\xE9rer un lien de partage s\xE9curis\xE9",attr(e,"class","screenBtn hvr-grow m-auto"),set_style(e,"font-size","1.1rem")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[14]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_pending_block_1$3(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_if_block_2$9(r){let e,t,o;return{c(){e=element("button"),e.innerHTML='<i class="bx bx-trash pr-1"></i>Supprimer le sondage',set_style(e,"background-color","#db54614d"),attr(e,"class","btnDash hvr-float"),attr(e,"data-aos","fade-up"),attr(e,"data-aos-delay","300")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[20]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_pending_block$8(r){let e;return{c(){e=element("div"),e.textContent="Chargement..."},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block$d(r){let e,t,o,l,h,y,O;const D=[r[4].props||{}];var R=r[4].component;function F(B){let j={};for(let U=0;U<D.length;U+=1)j=assign$8(j,D[U]);return{props:j}}return R&&(e=new R(F())),{c(){e&&create_component(e.$$.fragment),t=space(),o=element("div"),attr(o,"class","backdrop svelte-cpyggs")},m(B,j){e&&mount_component(e,B,j),insert(B,t,j),insert(B,o,j),h=!0,y||(O=listen(o,"click",r[23]),y=!0)},p(B,j){const U=j[0]&16?get_spread_update(D,[get_spread_object(B[4].props||{})]):{};if(R!==(R=B[4].component)){if(e){group_outros();const W=e;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(e=new R(F()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else R&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(t),B&&detach(o),B&&l&&l.end(),y=!1,O()}}}function create_default_slot$5(r){let e,t,o=r[4]&&create_if_block$d(r);return{c(){o&&o.c(),e=empty$2()},m(l,h){o&&o.m(l,h),insert(l,e,h),t=!0},p(l,h){l[4]?o?(o.p(l,h),h[0]&16&&transition_in(o,1)):(o=create_if_block$d(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){t||(transition_in(o),t=!0)},o(l){transition_out(o),t=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$k(r){let e,t,o,l,h,y,O,D,R,F=r[0].nom_proj+"",B,j,U,W,G,q,K,Y,X,J,Q,Z=r[1].length==0&&create_if_block_5$5(r),ee={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$8,then:create_then_block$8,catch:create_catch_block_1$3,value:31};return handle_promise(r[6],ee),Y=new Modals({props:{$$slots:{default:[create_default_slot$5]},$$scope:{ctx:r}}}),{c(){e=element("link"),t=element("script"),l=space(),h=element("div"),Z&&Z.c(),y=space(),O=element("div"),O.textContent="Rafra\xEEchir \u{1F4A6}",D=space(),R=element("h1"),B=text(F),j=space(),U=element("div"),U.textContent="Partager le sondage \u{1F680}",W=space(),G=element("div"),q=space(),ee.block.c(),K=space(),create_component(Y.$$.fragment),attr(e,"rel","stylesheet"),attr(e,"href","assets/graphs.css"),src_url_equal(t.src,o="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js")||attr(t,"src",o),attr(t,"integrity","sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="),attr(t,"crossorigin","anonymous"),attr(t,"referrerpolicy","no-referrer"),attr(O,"class","refreshBtn hvr-grow svelte-cpyggs"),attr(R,"class","py-2 mb-3 text-center"),attr(U,"class","shareBtnTitle svelte-cpyggs"),attr(G,"id","headerBar"),attr(G,"class","text-center w-100 py-2 mb-3 mt-3"),set_style(h,"min-height","100vh")},m(te,re){append(document_1.head,e),append(document_1.head,t),insert(te,l,re),insert(te,h,re),Z&&Z.m(h,null),append(h,y),append(h,O),append(h,D),append(h,R),append(R,B),append(h,j),append(h,U),append(h,W),append(h,G),append(h,q),ee.block.m(h,ee.anchor=null),ee.mount=()=>h,ee.anchor=null,insert(te,K,re),mount_component(Y,te,re),X=!0,J||(Q=[listen(O,"click",r[12]),listen(U,"click",r[13])],J=!0)},p(te,re){r=te,r[1].length==0?Z?Z.p(r,re):(Z=create_if_block_5$5(r),Z.c(),Z.m(h,y)):Z&&(Z.d(1),Z=null),(!X||re[0]&1)&&F!==(F=r[0].nom_proj+"")&&set_data(B,F),update_await_block_branch(ee,r,re);const ie={};re[0]&16|re[1]&4&&(ie.$$scope={dirty:re,ctx:r}),Y.$set(ie)},i(te){X||(transition_in(Y.$$.fragment,te),X=!0)},o(te){transition_out(Y.$$.fragment,te),X=!1},d(te){detach(e),detach(t),te&&detach(l),te&&detach(h),Z&&Z.d(),ee.block.d(),ee.token=null,ee=null,te&&detach(K),destroy_component(Y,te),J=!1,run_all(Q)}}}function instance$i(r,e,t){let o,l;component_subscribe(r,modals,oe=>t(10,l=oe));function h(oe){activePageStore.set(oe)}let{projData:y}=e,{invit:O=[]}=e,D,R,F;var B={};let j=`<div class="neuProjetSimple p-4 text-center" data-aos="fade-up" data-aos-delay="100">
      <div>
          <h5>##TTRQUEST##</h5>
          <div class="nbRepGraph">\u{1F9CD} ##REPS## r\xE9pondants</div>
          <div class="filtrWatermark nbRepGraph"></div>
          <div class="canvContain"></div>
      </div>
      <div class="d-flex align-items-center justify-content-between">
        <button class="screenBtn" onclick="copyGraph(this.parentElement.previousSibling.previousSibling)">\u{1F4C4} Copier le graphique</button>
      </div>
    </div>`,U;O.length==0&&(U=shareQueryGET(y.id));async function W(oe={fltr1:"",fltr2:""}){if(O.length==0){var ae=new Headers;ae.append("Authorization","Token "+xxgc("rtnt")),ae.append("Content-Type","application/json");var le={method:"POST",headers:ae,redirect:"follow",body:JSON.stringify(oe)};return fetch(`${rtnUrl}reps/${y.id}/`,le).then(me=>me.text()).then(me=>JSON.parse(me)).catch(me=>me)}else{var ae=new Headers;ae.append("Content-Type","application/json");let ge=oe;ge.sid=O[0],ge.spw=O[1];var le={method:"POST",headers:ae,redirect:"follow",body:JSON.stringify(oe)};return fetch(`${rtnUrl}repspub/`,le).then(_e=>_e.text()).then(_e=>JSON.parse(_e)).catch(_e=>_e)}}let G=W();const q=async(oe={fltr1:"",fltr2:""})=>{let ae=await W(oe);console.log(ae),ae.data=Object.values(ae.data),console.log(B);let le=Object.keys(B);if(ae.time.length==0)alert("Aucune donn\xE9es \xE0 afficher.");else{D(ae.time),R(ae.client),F(ae);for(var me=0;me<le.length;me++)try{B[le[me]](ae.data.find(_e=>_e.n==le[me]))}catch(_e){console.log(_e)}let fe=document.getElementsByClassName("filtrWatermark");for(var ge=0;ge<fe.length;ge++)if(oe.fltr1!=""||oe.fltr2!=""){let _e="",we="";oe.fltr1!=""&&(_e=`Q${oe.fltr1[0]} ${oe.fltr1[1]} ${oe.fltr1[2]}`),oe.fltr2!=""&&(we=`& ${oe.fltr2[0]} ${oe.fltr2[1]} ${oe.fltr2[2]}`),fe[ge].innerHTML=`- R\xE9sultats filtr\xE9s : r\xE9p. ${_e} ${we}`}else fe[ge].innerHTML=""}},K=()=>{let oe,ae;document.querySelectorAll(".rtnFilterSelect")[0].value!="dis"?oe=[document.querySelectorAll(".rtnFilterSelect")[0].value,document.querySelectorAll(".rtnFilterSelect")[1].value,document.querySelectorAll(".rtnFilterSelect")[2].value]:oe="",document.querySelectorAll(".rtnFilterSelect")[3].value!="dis"?ae=[document.querySelectorAll(".rtnFilterSelect")[3].value,document.querySelectorAll(".rtnFilterSelect")[4].value,document.querySelectorAll(".rtnFilterSelect")[5].value]:ae="",q({fltr1:oe,fltr2:ae})};function Y(oe,ae){if(console.log(ae),ae.time.length==0)return;let le=y,me=JSON.parse(le.jsonContent),ge=document.querySelector("#mesResultats");ae.data=Object.values(ae.data);let fe=document.createElement("div"),_e;fe.id="timeRepGraph",fe.classList.add("col-12","col-lg-12","p-3"),fe.innerHTML=j,fe.querySelector(".canvContain").innerHTML="<canvas></canvas>",ge.insertAdjacentElement("afterbegin",fe),D=ye=>{let Oe=document.querySelector("#timeRepGraph");Oe.querySelector("h5").innerHTML="Evolution du nombre de r\xE9ponses",Oe.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+ye.length.toString()+" r\xE9pondants",ye=ye.map(ke=>new Date(Date.parse(ke.replaceAll("-","/").split(" ")[0])).toISOString().split("T")[0]);let Te=getDaysArray(ye[0],ye[ye.length-1]).map(ke=>ke.toISOString().slice(0,10));typeof _e=="undefined"?_e=new Chart(Oe.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Te,datasets:[{data:Te.map(ke=>countOccurrences(ye,ke)),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}}):(_e.data.labels=Te,_e.data.datasets[0].data=Te.map(ke=>countOccurrences(ye,ke)),_e.update())},D(ae.time);let we=document.createElement("div"),ve;we.id="deviceRepGraph",we.classList.add("col-12","col-lg-6","p-3"),we.innerHTML=j,we.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>"),ge.insertAdjacentElement("beforeend",we),R=ye=>{let Oe=document.querySelector("#deviceRepGraph");Oe.querySelector("h5").innerHTML="Appareils utilis\xE9s par les r\xE9pondants",Oe.querySelector(".nbRepGraph").innerHTML=`\u{1F9CD} ${Object.values(ye).reduce((Te,ke)=>Te+ke).toString()} r\xE9pondants`,typeof ve=="undefined"?ve=new Chart(Oe.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"doughnut",data:{labels:Object.keys(ye),datasets:[{data:Object.values(ye),backgroundColor:chartColors}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(Te,ke)=>{let Ee=0;return ke.chart.data.datasets[0].data.map(Me=>{Ee+=Me}),ke.chart.data.labels[ke.dataIndex]+`
`+(Te*100/Ee).toFixed(1)+"%"},textAlign:"center"},deferred:deferredConfig}}}):(ve.data.labels=Object.keys(ye),ve.data.datasets[0].data=Object.values(ye),ve.update())},R(ae.client);let Se=document.createElement("div"),$e;Se.id="dureeRepGraph",Se.classList.add("col-12","col-lg-6","p-3"),Se.innerHTML=j,Se.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>"),ge.insertAdjacentElement("beforeend",Se),F=ye=>{let Oe=document.querySelector("#dureeRepGraph");Oe.querySelector("h5").innerHTML="Temps de r\xE9ponse au sondage",Oe.querySelector(".nbRepGraph").innerHTML=`\u{1F9CD} ${ye.time.length} r\xE9pondants`,typeof $e=="undefined"?$e=new Chart(Oe.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:["Minimum","Moyenne","Maximum"],datasets:[{data:Object.values(ye.ans_time),backgroundColor:["#23BE6E4D","#7798AB4D","#DB54614D"]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:scaleParam,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(Te,ke)=>(ke.chart.data.datasets[0].data.map(xe=>{}),Te+"s"),textAlign:"center"},deferred:deferredConfig}}}):($e.data.datasets[0].data=Object.values(ye.ans_time),$e.update())},F(ae);const be=ye=>{ye.srcElement.value=="dis"?(ye.srcElement.nextElementSibling.disabled=!0,ye.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0):(ye.srcElement.nextElementSibling.disabled=!1,ye.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!1,["num"].includes(ae.data[ye.srcElement.value].t)?(ye.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',ye.srcElement.nextElementSibling.nextElementSibling.innerHTML='<input class="rtnFilterSelect" type="number" style="width:100px;">'):["mc","1c"].includes(ae.data[ye.srcElement.value].t)?(ye.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=" disabled>sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=" disabled>inf\xE9rieur ou \xE9gal \xE0</option>',ye.srcElement.nextElementSibling.nextElementSibling.innerHTML=`<select class="rtnFilterSelect" >
        ${Object.keys(ae.data[ye.srcElement.value].d).map(Oe=>`<option value="${Oe}">${Oe}</option>`).join("")}</select>`):["5s"].includes(ae.data[ye.srcElement.value].t)?(ye.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',ye.srcElement.nextElementSibling.nextElementSibling.innerHTML='<select class="rtnFilterSelect"><option value="1">\u2B50</option><option value="2">\u2B50\u2B50</option><option value="3">\u2B50\u2B50\u2B50</option><option value="4">\u2B50\u2B50\u2B50\u2B50</option><option value="5">\u2B50\u2B50\u2B50\u2B50\u2B50</option></select>'):(ye.srcElement.nextElementSibling.disabled=!0,ye.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0))};document.querySelectorAll(".rtnFilterSelect")[0].addEventListener("change",be),document.querySelectorAll(".rtnFilterSelect")[3].addEventListener("change",be);for(let ye in ae.data){let Oe=me.find(Te=>Te.idr==ae.data[ye].n);if(!(Oe.a.type=="1c"&&Oe.a.a.length==1)){document.querySelectorAll(".rtnFilterSelect")[0].insertAdjacentHTML("beforeend",`<option value='${ye}'>Question ${ye}</option`),document.querySelectorAll(".rtnFilterSelect")[3].insertAdjacentHTML("beforeend",`<option value='${ye}'>Question ${ye}</option`);let Te=document.createElement("div");switch(Te.classList.add("col-12","col-lg-6","p-3"),Te.innerHTML=j.replace("##TTRQUEST##",ye.toString()+". "+Oe.q),Te.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+ae.data[ye].nbrep.toString()+" r\xE9pondants",ae.data[ye].t){case"mc":case"1c":let ke=ae.data[ye];Te.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>");let Ee=new Chart(Te.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"doughnut",data:{labels:Object.keys(ke.d),datasets:[{data:Object.values(ke.d),backgroundColor:chartColors}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(Pe,Fe)=>{let Ke=0;return Fe.chart.data.datasets[0].data.map(We=>{Ke+=We}),Fe.chart.data.labels[Fe.dataIndex]+`
`+(Pe*100/Ke).toFixed(1)+"%"},textAlign:"center"},deferred:deferredConfig}}});B[ae.data[ye].n]=Pe=>{Pe!=null?(Ee.data.labels=Object.keys(Pe.d),Ee.data.datasets[0].data=Object.values(Pe.d),Ee.update(),Te.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Pe.nbrep.toString()+" r\xE9pondants",Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};break;case"cl":let Ie=`<canvas id="realCanvCont"></canvas>
            <div id="realScoreCont">
                <div id="gauge2" class="mx-auto w-100 gauge-container three" style="max-width: 200px;"><span class="label"></span></div>
                <div class="starContain py-2 px-3 text-start m-auto" style="font-size: 0.8rem; opacity: 0.9; border-radius: 10px;">
                    \u{1F4A1} Score de sentiment moyen calcul\xE9 par R\xE9tine \xE0 l'aide d'intelligences artificielles. (0 = tr\xE8s n\xE9gatif, 100 = tr\xE8s positif).
                </div>
            </div>`;Te.querySelector(".canvContain").insertAdjacentHTML("afterbegin",Ie);let xe=ae.data[ye];setTimeout(()=>{let Pe=Gauge(Te.querySelector("#gauge2"),{max:100,value:0,color(Ue){return Ue<60?"#6219D8":Ue<25?"#E74C3C":"#2FCC72"},label(Ue){if(Ue<10)return`\u{1F621}
`+Math.round(Ue);if(Ue<25)return`\u{1F615}
`+Math.round(Ue);if(Ue<50)return`\u{1F610}
`+Math.round(Ue);if(Ue<75)return`\u{1F642}
`+Math.round(Ue);if(Ue<=100)return`\u{1F603}
`+Math.round(Ue)}});setTimeout(()=>{Pe.setValueAnimated(xe.d.sentMoy*100,1.5)},100);let Fe=new WordCloudChart(Te.querySelector("canvas").getContext("2d"),{type:"wordCloud",data:{labels:Object.keys(xe.d.nuage),datasets:[{label:"",color:"#6219D8",data:Object.values(xe.d.nuage).map(Ue=>15+Ue*Math.min(125/Object.values(xe.d.nuage).length,8))}]},options:{plugins:{legend:{display:!1},tooltips:{mode:"label",callbacks:{label(Ue,We){var Je=Ue.index;return We.labels[Je]+": "+We.datasets[0].data[Je]}}},deferred:deferredConfig}}});B[ae.data[ye].n]=Ue=>{Ue!=null?(Pe.setValueAnimated(Ue.d.sentMoy*100,1.5),Fe.data.labels=Object.keys(Ue.d.nuage),Fe.data.datasets[0].data=Object.values(Ue.d.nuage).map(We=>15+We*Math.min(125/Object.values(Ue.d.nuage).length,8)),Te.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Ue.nbrep.toString()+" r\xE9pondants",Fe.update(),Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};const Ke=Ue=>{if(Ue.target.dataset.state=="simple"){Te.querySelector("#realScoreCont").style.display="",Te.querySelector("#realCanvCont").style.display="none";let We=Pe.getValue();Pe.setValue(0),Pe.setValueAnimated(We),Ue.target.dataset.state="detail"}else Te.querySelector("#realScoreCont").style.display="none",Te.querySelector("#realCanvCont").style.display="",Fe.reset(),Fe.update(),Ue.target.dataset.state="simple"};let qe=document.createElement("button");qe.innerHTML="\u2795 D\xE9tails",qe.className="screenBtn",qe.dataset.state="simple",qe.addEventListener("click",Ke,!1),Te.querySelector(".screenBtn").insertAdjacentElement("afterend",qe),qe.click()},1);break;case"5s":let Me=["\u2B50\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50","\u2B50\u2B50","\u2B50"],Ae=ae.data[ye],Re='<canvas id ="realCanvCont" style="display:none;"></canvas><div class="starContain py-5"></div>',Ce=`<div class="mb-3">Note moyenne de ##STARS##</div>
            <div class="stars">
              <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg>
              <div class="cover" style="width: ##PERCENT##%;"></div>
            </div>`;Te.querySelector(".canvContain").innerHTML=Re,Te.querySelector(".starContain").innerHTML=Ce.replace("##PERCENT##",(100-Ae.d.main*100/5).toString()).replace("##STARS##",Ae.d.main);let Ne=new Chart(Te.querySelector("#realCanvCont"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Me,datasets:[{data:[Ae.d.detail[5],Ae.d.detail[4],Ae.d.detail[3],Ae.d.detail[2],Ae.d.detail[1]],backgroundColor:"#6219D8",borderRadius:5}]},options:{indexAxis:"y",scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,reversed:!0},datalabels:{color:"white"}}}});B[ae.data[ye].n]=Pe=>{Pe!=null?(Te.querySelector(".starContain").innerHTML=Ce.replace("##PERCENT##",(100-Pe.d.main*100/5).toString()).replace("##STARS##",Pe.d.main),Ne.data.datasets[0].data=[Pe.d.detail[5],Pe.d.detail[4],Pe.d.detail[3],Pe.d.detail[2],Pe.d.detail[1]],Ne.update(),Te.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Pe.nbrep.toString()+" r\xE9pondants",Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};const Be=Pe=>{Pe.target.dataset.state=="simple"?(Te.querySelector(".starContain").style.display="",Te.querySelector("canvas").style.display="none",Pe.target.dataset.state="detail"):(Te.querySelector(".starContain").style.display="none",Te.querySelector("canvas").style.display="",Ne.reset(),Ne.update(),Pe.target.dataset.state="simple")};let Ve=document.createElement("button");Ve.innerHTML="\u2795 D\xE9tails",Ve.className="screenBtn",Ve.dataset.state="yes",Ve.addEventListener("click",Be,!1),Te.querySelector(".screenBtn").insertAdjacentElement("afterend",Ve);break;case"num":let Le=ae.data[ye].d;Te.querySelector(".canvContain").innerHTML="<canvas></canvas>";let ze=Oe.a.a[2].replaceAll(" ","")!=""?`(en ${Oe.a.a[2]})`:"";Te.querySelector("h5").insertAdjacentHTML("beforeend",`<span style='font-size:1rem;opacity:.6;'>${ze}</span>`);let He=new Chart(Te.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Object.keys(Le.detail).map(Pe=>Pe.replaceAll(".0","")),datasets:[{label:"R\xE9partition",data:Object.values(Le.detail),backgroundColor:"#6219D8",borderRadius:5,datalabels:{display:!0,color:"white",formatter(Pe,Fe){return Pe==0?"":Pe}}},{label:"Moyenne",data:[{x:Le.main,y:Math.max.apply(Math,Object.values(Le.detail))+1}],backgroundColor:"#2FCC72",type:"bar",xAxisID:"x1",maxBarThickness:8,datalabels:{display:!0,color:"black",textAlign:"center",formatter(Pe,Fe){return`Moyenne
`+Fe.dataset.data[0].x.toString()}}}]},options:{scales:{y:{display:!1,grid:{drawOnChartArea:!1}},x:{display:!0,position:"bottom",grid:{drawOnChartArea:!1}},x1:{type:"linear",display:!1,position:"bottom",min:parseInt(Object.keys(Le.detail)[0].split(",")[0].replace(".0","").replace(/\D/g,"")),max:parseInt(Object.keys(Le.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),grid:{drawOnChartArea:!1}}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{padding:10}},tooltip:{filter(Pe){return Pe.datasetIndex===0}},datalabels:{display:!1},deferred:deferredConfig}}});B[ae.data[ye].n]=Pe=>{Pe!=null?(He.data.labels=Object.keys(Pe.d.detail).map(Fe=>Fe.replaceAll(".0","")),He.data.datasets[0].data=Object.values(Pe.d.detail),He.data.datasets[1].data=[{x:Pe.d.main,y:Math.max.apply(Math,Object.values(Pe.d.detail))+1}],He.options.scales.x1.min=parseInt(Object.keys(Pe.d.detail).at(0).split(",").at(0).replace(".0","").replace(/\D/g,"")),He.options.scales.x1.max=parseInt(Object.keys(Pe.d.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),He.update(),Te.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Pe.nbrep.toString()+" r\xE9pondants",Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};break;case"cal":let je=ae.data[ye].d;Te.querySelector(".canvContain").innerHTML="<canvas></canvas>";let De=new Chart(Te.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Object.keys(je.dates).map(Pe=>new Date(Date.parse(Pe))),datasets:[{data:Object.values(je.dates),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm"}},grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0}},y:{display:!1}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}});B[ae.data[ye].n]=Pe=>{Pe!=null?(De.data.labels=Object.keys(Pe.d.dates).map(Fe=>new Date(Date.parse(Fe)).toString()),De.data.datasets[0].data=Object.values(Pe.d.dates),De.update(),Te.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Pe.nbrep.toString()+" r\xE9pondants",Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):Te.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};break}ge.insertAdjacentElement("beforeend",Te)}}}AOS.init();let X="";const J=()=>h("projects"),Q=()=>q(),Z=()=>openModal(ModalDiffuse,{proj:y}),ee=()=>{t(2,U=shareQueryCREATE(y.id))},te=oe=>{navigator.clipboard.writeText(`retine.io/res#${oe.share_id}`),t(3,X="Lien copi\xE9!")},re=oe=>{navigator.clipboard.writeText(oe.share_pw),t(3,X="Mot de passe copi\xE9!")},ie=()=>{t(2,U=shareQueryDELETE(y.id))},ne=()=>K(),se=()=>dlData(y.id),ce=()=>delSondRtn(y.id,h),ue=()=>openModal(ModalDiffuse,{proj:y}),he=()=>delSondRtn(y.id,h),pe=()=>{closeModal()};return r.$$set=oe=>{"projData"in oe&&t(0,y=oe.projData),"invit"in oe&&t(1,O=oe.invit)},r.$$.update=()=>{r.$$.dirty[0]&1024&&t(4,o=l[l.length-1])},[y,O,U,X,o,h,G,q,K,Y,l,J,Q,Z,ee,te,re,ie,ne,se,ce,ue,he,pe]}class ProjectView extends SvelteComponent{constructor(e){super(),init(this,e,instance$i,create_fragment$k,safe_not_equal,{projData:0,invit:1},null,[-1,-1])}}function firstSave(r){var e=new Headers;let t=JSON.stringify(r.jsonContent);e.append("Authorization","Token "+xxgc("rtnt")),e.append("Content-Type","application/json");var o=JSON.stringify({v:r.v,nom_proj:r.nom_proj,color:r.color,jsonContent:t,priv:!0});return new Promise((l,h)=>{fetch(rtnUrl+"sondages/edit/",{method:"POST",headers:e,body:o,redirect:"follow"}).then(y=>y.text()).then(y=>{let O=JSON.parse(y).id;r.logo=JSON.parse(y).logo,l(O)}).catch(y=>h(y))})}function updateSave(r,e){var t=new Headers;let o=JSON.stringify(r.jsonContent);t.append("Authorization","Token "+xxgc("rtnt"));let l=new FormData;return l.append("v",r.v),l.append("nom_proj",r.nom_proj),l.append("color",r.color),l.append("jsonContent",o),l.append("priv","true"),r.logo instanceof File&&l.append("logo",r.logo),new Promise((h,y)=>{fetch(`${rtnUrl}sondages/edit/${e}/`,{method:"PUT",headers:t,body:l,redirect:"follow"}).then(O=>O.text()).then(O=>{console.log(JSON.parse(O)),JSON.parse(O).logo.includes("https")?r.logo=JSON.parse(O).logo:r.logo=`${rtnUrl}static/sond_images/rtnlogo.png`,new Date().toLocaleString(),h("saved")}).catch(O=>{y(O)})})}const validateSondage=(r,e,t)=>{Swal.fire({title:"Publier le sondage ?",text:"Vous ne pourrez plus effectuer de modifications.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2FCC72",cancelButtonColor:"grey",confirmButtonText:"Publier le sondage",cancelButtonText:"Annuler"}).then(o=>{if(o.isConfirmed){var l=new Headers;let y=JSON.stringify(r.jsonContent);l.append("Authorization","Token "+xxgc("rtnt")),l.append("Content-Type","application/json");var h=JSON.stringify({v:r.v,nom_proj:r.nom_proj,color:r.color==null?"#6219D8":r.color,jsonContent:y,priv:!1});return fetch(`${rtnUrl}sondages/edit/${e}/`,{method:"PUT",headers:l,body:h,redirect:"follow"}).then(O=>O.text()).then(O=>{console.log(O);let D=JSON.parse(O);Swal.fire({title:"Le sondage est publi\xE9!",icon:"success",html:`<div class="p-2 mb-2 font-weight-bold">retine.io/sondage#${D.id_rtn}</div>
              <div>Souhaitez vous \xEAtre dirig\xE9 vers l'onglet "Campagnes" pour partager votre sondage ?</div>`,showCloseButton:!0,showCancelButton:!0,focusConfirm:!0,confirmButtonText:"Oui",confirmButtonAriaLabel:"Oui",cancelButtonText:"Non",cancelButtonAriaLabel:"Non"}).then(R=>{R.isConfirmed&&t("contacts")}),t("projects")}).catch(O=>console.log("error",O))}})};function ownKeys$8(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),t.push.apply(t,o)}return t}function _objectSpread2(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$8(Object(t),!0).forEach(function(o){_defineProperty$2(r,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys$8(Object(t)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o))})}return r}function asyncGeneratorStep(r,e,t,o,l,h,y){try{var O=r[h](y),D=O.value}catch(R){return void t(R)}O.done?e(D):Promise.resolve(D).then(o,l)}function _asyncToGenerator(r){return function(){var e=this,t=arguments;return new Promise(function(o,l){var h=r.apply(e,t);function y(D){asyncGeneratorStep(h,o,l,y,O,"next",D)}function O(D){asyncGeneratorStep(h,o,l,y,O,"throw",D)}y(void 0)})}}function _defineProperty$2(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function _taggedTemplateLiteral(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}function __decorate(r,e,t,o){var l,h=arguments.length,y=h<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,e,t,o);else for(var O=r.length-1;O>=0;O--)(l=r[O])&&(y=(h<3?l(y):h>3?l(e,t,y):l(e,t))||y);return h>3&&y&&Object.defineProperty(e,t,y),y}var t$3=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$8=Symbol(),n$5=new Map;class s$3{constructor(e,t){if(this._$cssResult$=!0,t!==e$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){var e=n$5.get(this.cssText);return t$3&&e===void 0&&(n$5.set(this.cssText,e=new CSSStyleSheet),e.replaceSync(this.cssText)),e}toString(){return this.cssText}}var o$5=r=>new s$3(typeof r=="string"?r:r+"",e$8),r$3=function(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];var l=r.length===1?r[0]:t.reduce((h,y,O)=>h+(D=>{if(D._$cssResult$===!0)return D.cssText;if(typeof D=="number")return D;throw Error("Value passed to 'css' function must be a 'css' function result: "+D+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(y)+r[O+1],r[0]);return new s$3(l,e$8)},i$3=(r,e)=>{t$3?r.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(t=>{var o=document.createElement("style"),l=window.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=t.cssText,r.appendChild(o)})},S$1=t$3?r=>r:r=>r instanceof CSSStyleSheet?(e=>{var t="";for(var o of e.cssRules)t+=o.cssText;return o$5(t)})(r):r,s$2,e$7=window.trustedTypes,r$2=e$7?e$7.emptyScript:"",h$2=window.reactiveElementPolyfillSupport,o$4={toAttribute(r,e){switch(e){case Boolean:r=r?r$2:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){var t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},n$4=(r,e)=>e!==r&&(e==e||r==r),l$3={attribute:!0,type:String,converter:o$4,reflect:!1,hasChanged:n$4},t$2;class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(e){var t;(t=this.l)!==null&&t!==void 0||(this.l=[]),this.l.push(e)}static get observedAttributes(){this.finalize();var e=[];return this.elementProperties.forEach((t,o)=>{var l=this._$Eh(o,t);l!==void 0&&(this._$Eu.set(l,o),e.push(l))}),e}static createProperty(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l$3;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var o=typeof e=="symbol"?Symbol():"__"+e,l=this.getPropertyDescriptor(e,o,t);l!==void 0&&Object.defineProperty(this.prototype,e,l)}}static getPropertyDescriptor(e,t,o){return{get(){return this[t]},set(l){var h=this[e];this[t]=l,this.requestUpdate(e,h,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),this.elementProperties=new Map(e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var t=this.properties,o=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(var l of o)this.createProperty(l,t[l])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){var t=[];if(Array.isArray(e)){var o=new Set(e.flat(1/0).reverse());for(var l of o)t.unshift(S$1(l))}else e!==void 0&&t.push(S$1(e));return t}static _$Eh(e,t){var o=t.attribute;return o===!1?void 0:typeof o=="string"?o:typeof e=="string"?e.toLowerCase():void 0}o(){var e;this._$Ep=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Em(),this.requestUpdate(),(e=this.constructor.l)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,o;((t=this._$Eg)!==null&&t!==void 0?t:this._$Eg=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((o=e.hostConnected)===null||o===void 0||o.call(e))}removeController(e){var t;(t=this._$Eg)===null||t===void 0||t.splice(this._$Eg.indexOf(e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Et.set(t,this[t]),delete this[t])})}createRenderRoot(){var e,t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return i$3(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$Eg)===null||e===void 0||e.forEach(t=>{var o;return(o=t.hostConnected)===null||o===void 0?void 0:o.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$Eg)===null||e===void 0||e.forEach(t=>{var o;return(o=t.hostDisconnected)===null||o===void 0?void 0:o.call(t)})}attributeChangedCallback(e,t,o){this._$AK(e,o)}_$ES(e,t){var o,l,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l$3,y=this.constructor._$Eh(e,h);if(y!==void 0&&h.reflect===!0){var O=((l=(o=h.converter)===null||o===void 0?void 0:o.toAttribute)!==null&&l!==void 0?l:o$4.toAttribute)(t,h.type);this._$Ei=e,O==null?this.removeAttribute(y):this.setAttribute(y,O),this._$Ei=null}}_$AK(e,t){var o,l,h,y=this.constructor,O=y._$Eu.get(e);if(O!==void 0&&this._$Ei!==O){var D=y.getPropertyOptions(O),R=D.converter,F=(h=(l=(o=R)===null||o===void 0?void 0:o.fromAttribute)!==null&&l!==void 0?l:typeof R=="function"?R:null)!==null&&h!==void 0?h:o$4.fromAttribute;this._$Ei=O,this[O]=F(t,D.type),this._$Ei=null}}requestUpdate(e,t,o){var l=!0;e!==void 0&&(((o=o||this.constructor.getPropertyOptions(e)).hasChanged||n$4)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),o.reflect===!0&&this._$Ei!==e&&(this._$E_===void 0&&(this._$E_=new Map),this._$E_.set(e,o))):l=!1),!this.isUpdatePending&&l&&(this._$Ep=this._$EC())}_$EC(){var e=this;return _asyncToGenerator(function*(){e.isUpdatePending=!0;try{yield e._$Ep}catch(o){Promise.reject(o)}var t=e.scheduleUpdate();return t!=null&&(yield t),!e.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((l,h)=>this[h]=l),this._$Et=void 0);var t=!1,o=this._$AL;try{(t=this.shouldUpdate(o))?(this.willUpdate(o),(e=this._$Eg)===null||e===void 0||e.forEach(l=>{var h;return(h=l.hostUpdate)===null||h===void 0?void 0:h.call(l)}),this.update(o)):this._$EU()}catch(l){throw t=!1,this._$EU(),l}t&&this._$AE(o)}}willUpdate(e){}_$AE(e){var t;(t=this._$Eg)===null||t===void 0||t.forEach(o=>{var l;return(l=o.hostUpdated)===null||l===void 0?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(e){return!0}update(e){this._$E_!==void 0&&(this._$E_.forEach((t,o)=>this._$ES(o,this[o],t)),this._$E_=void 0),this._$EU()}updated(e){}firstUpdated(e){}}a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},h$2==null||h$2({ReactiveElement:a$1}),((s$2=globalThis.reactiveElementVersions)!==null&&s$2!==void 0?s$2:globalThis.reactiveElementVersions=[]).push("1.2.1");var i$2=globalThis.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:r=>r}):void 0,e$6="lit$".concat((Math.random()+"").slice(9),"$"),o$3="?"+e$6,n$3="<".concat(o$3,">"),l$2=document,h$1=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return l$2.createComment(r)},r$1=r=>r===null||typeof r!="object"&&typeof r!="function",d=Array.isArray,u=r=>{var e;return d(r)||typeof((e=r)===null||e===void 0?void 0:e[Symbol.iterator])=="function"},c$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea)$/i,p=r=>function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),l=1;l<t;l++)o[l-1]=arguments[l];return{_$litType$:r,strings:e,values:o}},$$K=p(1),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=(r,e,t)=>{var o,l,h=(o=t==null?void 0:t.renderBefore)!==null&&o!==void 0?o:e,y=h._$litPart$;if(y===void 0){var O=(l=t==null?void 0:t.renderBefore)!==null&&l!==void 0?l:null;h._$litPart$=y=new N(e.insertBefore(h$1(),O),O,void 0,t!=null?t:{})}return y._$AI(r),y},A=l$2.createTreeWalker(l$2,129,null,!1),C=(r,e)=>{for(var t,o=r.length-1,l=[],h=e===2?"<svg>":"",y=c$1,O=0;O<o;O++){for(var D=r[O],R=void 0,F=void 0,B=-1,j=0;j<D.length&&(y.lastIndex=j,(F=y.exec(D))!==null);)j=y.lastIndex,y===c$1?F[1]==="!--"?y=v:F[1]!==void 0?y=a:F[2]!==void 0?(g.test(F[2])&&(t=RegExp("</"+F[2],"g")),y=f):F[3]!==void 0&&(y=f):y===f?F[0]===">"?(y=t!=null?t:c$1,B=-1):F[1]===void 0?B=-2:(B=y.lastIndex-F[2].length,R=F[1],y=F[3]===void 0?f:F[3]==='"'?m:_):y===m||y===_?y=f:y===v||y===a?y=c$1:(y=f,t=void 0);var U=y===f&&r[O+1].startsWith("/>")?" ":"";h+=y===c$1?D+n$3:B>=0?(l.push(R),D.slice(0,B)+"$lit$"+D.slice(B)+e$6+U):D+e$6+(B===-2?(l.push(void 0),O):U)}var W=h+(r[o]||"<?>")+(e===2?"</svg>":"");if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return[s$1!==void 0?s$1.createHTML(W):W,l]};class E{constructor(e,t){var o,{strings:l,_$litType$:h}=e;this.parts=[];var y=0,O=0,D=l.length-1,R=this.parts,[F,B]=C(l,h);if(this.el=E.createElement(F,t),A.currentNode=this.el.content,h===2){var j=this.el.content,U=j.firstChild;U.remove(),j.append(...U.childNodes)}for(;(o=A.nextNode())!==null&&R.length<D;){if(o.nodeType===1){if(o.hasAttributes()){var W=[];for(var G of o.getAttributeNames())if(G.endsWith("$lit$")||G.startsWith(e$6)){var q=B[O++];if(W.push(G),q!==void 0){var K=o.getAttribute(q.toLowerCase()+"$lit$").split(e$6),Y=/([.?@])?(.*)/.exec(q);R.push({type:1,index:y,name:Y[2],strings:K,ctor:Y[1]==="."?M:Y[1]==="?"?H:Y[1]==="@"?I:S})}else R.push({type:6,index:y})}for(var X of W)o.removeAttribute(X)}if(g.test(o.tagName)){var J=o.textContent.split(e$6),Q=J.length-1;if(Q>0){o.textContent=i$2?i$2.emptyScript:"";for(var Z=0;Z<Q;Z++)o.append(J[Z],h$1()),A.nextNode(),R.push({type:2,index:++y});o.append(J[Q],h$1())}}}else if(o.nodeType===8)if(o.data===o$3)R.push({type:2,index:y});else for(var ee=-1;(ee=o.data.indexOf(e$6,ee+1))!==-1;)R.push({type:7,index:y}),ee+=e$6.length-1;y++}}static createElement(e,t){var o=l$2.createElement("template");return o.innerHTML=e,o}}function P(r,e){var t,o,l,h,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r,O=arguments.length>3?arguments[3]:void 0;if(e===b)return e;var D=O!==void 0?(t=y._$Cl)===null||t===void 0?void 0:t[O]:y._$Cu,R=r$1(e)?void 0:e._$litDirective$;return(D==null?void 0:D.constructor)!==R&&((o=D==null?void 0:D._$AO)===null||o===void 0||o.call(D,!1),R===void 0?D=void 0:(D=new R(r))._$AT(r,y,O),O!==void 0?((l=(h=y)._$Cl)!==null&&l!==void 0?l:h._$Cl=[])[O]=D:y._$Cu=D),D!==void 0&&(e=P(r,D._$AS(r,e.values),D,O)),e}class V{constructor(e,t){this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(e){var t,{el:{content:o},parts:l}=this._$AD,h=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:l$2).importNode(o,!0);A.currentNode=h;for(var y=A.nextNode(),O=0,D=0,R=l[0];R!==void 0;){if(O===R.index){var F=void 0;R.type===2?F=new N(y,y.nextSibling,this,e):R.type===1?F=new R.ctor(y,R.name,R.strings,this,e):R.type===6&&(F=new L(y,this,e)),this.v.push(F),R=l[++D]}O!==(R==null?void 0:R.index)&&(y=A.nextNode(),O++)}return h}m(e){var t=0;for(var o of this.v)o!==void 0&&(o.strings!==void 0?(o._$AI(e,o,t),t+=o.strings.length-2):o._$AI(e[t])),t++}}class N{constructor(e,t,o,l){var h;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=o,this.options=l,this._$Cg=(h=l==null?void 0:l.isConnected)===null||h===void 0||h}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cg}get parentNode(){var e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&e.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e){e=P(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),r$1(e)?e===w||e==null||e===""?(this._$AH!==w&&this._$AR(),this._$AH=w):e!==this._$AH&&e!==b&&this.$(e):e._$litType$!==void 0?this.T(e):e.nodeType!==void 0?this.S(e):u(e)?this.A(e):this.$(e)}M(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,t)}S(e){this._$AH!==e&&(this._$AR(),this._$AH=this.M(e))}$(e){this._$AH!==w&&r$1(this._$AH)?this._$AA.nextSibling.data=e:this.S(l$2.createTextNode(e)),this._$AH=e}T(e){var t,{values:o,_$litType$:l}=e,h=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=E.createElement(l.h,this.options)),l);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===h)this._$AH.m(o);else{var y=new V(h,this),O=y.p(this.options);y.m(o),this.S(O),this._$AH=y}}_$AC(e){var t=T.get(e.strings);return t===void 0&&T.set(e.strings,t=new E(e)),t}A(e){d(this._$AH)||(this._$AH=[],this._$AR());var t,o=this._$AH,l=0;for(var h of e)l===o.length?o.push(t=new N(this.M(h$1()),this.M(h$1()),this,this.options)):t=o[l],t._$AI(h),l++;l<o.length&&(this._$AR(t&&t._$AB.nextSibling,l),o.length=l)}_$AR(){var e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0;for((e=this._$AP)===null||e===void 0||e.call(this,!1,!0,o);t&&t!==this._$AB;){var l=t.nextSibling;t.remove(),t=l}}setConnected(e){var t;this._$AM===void 0&&(this._$Cg=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}class S{constructor(e,t,o,l,h){this.type=1,this._$AH=w,this._$AN=void 0,this.element=e,this.name=t,this._$AM=l,this.options=h,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,h=this.strings,y=!1;if(h===void 0)e=P(this,e,t,0),(y=!r$1(e)||e!==this._$AH&&e!==b)&&(this._$AH=e);else{var O,D,R=e;for(e=h[0],O=0;O<h.length-1;O++)(D=P(this,R[o+O],t,O))===b&&(D=this._$AH[O]),y||(y=!r$1(D)||D!==this._$AH[O]),D===w?e=w:e!==w&&(e+=(D!=null?D:"")+h[O+1]),this._$AH[O]=D}y&&!l&&this.k(e)}k(e){e===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}class M extends S{constructor(){super(...arguments),this.type=3}k(e){this.element[this.name]=e===w?void 0:e}}var k=i$2?i$2.emptyScript:"";class H extends S{constructor(){super(...arguments),this.type=4}k(e){e&&e!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(e,t,o,l,h){super(e,t,o,l,h),this.type=5}_$AI(e){var t;if((e=(t=P(this,e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&t!==void 0?t:w)!==b){var o=this._$AH,l=e===w&&o!==w||e.capture!==o.capture||e.once!==o.once||e.passive!==o.passive,h=e!==w&&(o===w||l);l&&this.element.removeEventListener(this.name,this,o),h&&this.element.addEventListener(this.name,this,e),this._$AH=e}}handleEvent(e){var t,o;typeof this._$AH=="function"?this._$AH.call((o=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&o!==void 0?o:this.element,e):this._$AH.handleEvent(e)}}class L{constructor(e,t,o){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(e){P(this,e)}}var z=window.litHtmlPolyfillSupport,l$1,o$2;z==null||z(E,N),((t$2=globalThis.litHtmlVersions)!==null&&t$2!==void 0?t$2:globalThis.litHtmlVersions=[]).push("2.1.2");class s extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var e,t,o=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=o.firstChild),o}update(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Dt=x(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Dt)===null||e===void 0||e.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,(l$1=globalThis.litElementHydrateSupport)===null||l$1===void 0||l$1.call(globalThis,{LitElement:s});var n$2=globalThis.litElementPolyfillSupport;n$2==null||n$2({LitElement:s});((o$2=globalThis.litElementVersions)!==null&&o$2!==void 0?o$2:globalThis.litElementVersions=[]).push("3.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n$1=r=>e=>typeof e=="function"?((t,o)=>(window.customElements.define(t,o),o))(r,e):((t,o)=>{var{kind:l,elements:h}=o;return{kind:l,elements:h,finisher(y){window.customElements.define(t,y)}}})(r,e),i$1$1=(r,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?_objectSpread2(_objectSpread2({},e),{},{finisher(t){t.createProperty(e.key,r)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,r)}};function e$5(r){return(e,t)=>t!==void 0?((o,l,h)=>{l.constructor.createProperty(h,o)})(r,e,t):i$1$1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$1=r=>{var{finisher:e,descriptor:t}=r;return(o,l)=>{var h;if(l===void 0){var y=(h=o.originalKey)!==null&&h!==void 0?h:o.key,O=t!=null?{kind:"method",placement:"prototype",key:y,descriptor:t(o.key)}:_objectSpread2(_objectSpread2({},o),{},{key:y});return e!=null&&(O.finisher=function(R){e(R,y)}),O}var D=o.constructor;t!==void 0&&Object.defineProperty(o,l,t(l)),e==null||e(D,l)}},n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function i$4(r,e){return o$1({descriptor:t=>{var o={get(){var h,y;return(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(r))!==null&&y!==void 0?y:null},enumerable:!0,configurable:!0};if(e){var l=typeof t=="symbol"?Symbol():"__"+t;o.get=function(){var h,y;return this[l]===void 0&&(this[l]=(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(r))!==null&&y!==void 0?y:null),this[l]}}return o}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */((n=window.HTMLSlotElement)===null||n===void 0?void 0:n.prototype.assignedElements)!=null;var lottie$1={exports:{}};(function(module){var root,factory;typeof navigator!="undefined"&&(root=window||{},factory=function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}(function(){var r,e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],t=e.length;for(r=0;r<t;r+=1)BMMath[e[r]]=Math[e[r]]})(),BMMath.random=Math.random,BMMath.abs=function(r){if(typeof r=="object"&&r.length){var e,t=createSizedArray(r.length),o=r.length;for(e=0;e<o;e+=1)t[e]=Math.abs(r[e]);return t}return Math.abs(r)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(r){r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.display="block",r.style.transformOrigin="0 0",r.style.webkitTransformOrigin="0 0",r.style.backfaceVisibility="visible",r.style.webkitBackfaceVisibility="visible",r.style.transformStyle="preserve-3d",r.style.webkitTransformStyle="preserve-3d",r.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(r,e,t,o){this.type=r,this.currentTime=e,this.totalTime=t,this.direction=o<0?-1:1}function BMCompleteEvent(r,e){this.type=r,this.direction=e<0?-1:1}function BMCompleteLoopEvent(r,e,t,o){this.type=r,this.currentLoop=t,this.totalLoops=e,this.direction=o<0?-1:1}function BMSegmentStartEvent(r,e,t){this.type=r,this.firstFrame=e,this.totalFrames=t}function BMDestroyEvent(r,e){this.type=r,this.target=e}function BMRenderFrameErrorEvent(r,e){this.type="renderFrameError",this.nativeError=r,this.currentTime=e}function BMConfigErrorEvent(r){this.type="configError",this.nativeError=r}var createElementID=(_count=0,function(){return idPrefix+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(r,e,t){var o,l,h,y,O,D,R,F;switch(D=t*(1-e),R=t*(1-(O=6*r-(y=Math.floor(6*r)))*e),F=t*(1-(1-O)*e),y%6){case 0:o=t,l=F,h=D;break;case 1:o=R,l=t,h=D;break;case 2:o=D,l=t,h=F;break;case 3:o=D,l=R,h=t;break;case 4:o=F,l=D,h=t;break;case 5:o=t,l=D,h=R}return[o,l,h]}function RGBtoHSV(r,e,t){var o,l=Math.max(r,e,t),h=Math.min(r,e,t),y=l-h,O=l===0?0:y/l,D=l/255;switch(l){case h:o=0;break;case r:o=e-t+y*(e<t?6:0),o/=6*y;break;case e:o=t-r+2*y,o/=6*y;break;case t:o=r-e+4*y,o/=6*y}return[o,O,D]}function addSaturationToRGB(r,e){var t=RGBtoHSV(255*r[0],255*r[1],255*r[2]);return t[1]+=e,t[1]>1?t[1]=1:t[1]<=0&&(t[1]=0),HSVtoRGB(t[0],t[1],t[2])}function addBrightnessToRGB(r,e){var t=RGBtoHSV(255*r[0],255*r[1],255*r[2]);return t[2]+=e,t[2]>1?t[2]=1:t[2]<0&&(t[2]=0),HSVtoRGB(t[0],t[1],t[2])}function addHueToRGB(r,e){var t=RGBtoHSV(255*r[0],255*r[1],255*r[2]);return t[0]+=e/360,t[0]>1?t[0]-=1:t[0]<0&&(t[0]+=1),HSVtoRGB(t[0],t[1],t[2])}var rgbToHex=function(){var r,e,t=[];for(r=0;r<256;r+=1)e=r.toString(16),t[r]=e.length===1?"0"+e:e;return function(o,l,h){return o<0&&(o=0),l<0&&(l=0),h<0&&(h=0),"#"+t[o]+t[l]+t[h]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(r,e){if(this._cbs[r])for(var t=this._cbs[r],o=0;o<t.length;o+=1)t[o](e)},addEventListener:function(r,e){return this._cbs[r]||(this._cbs[r]=[]),this._cbs[r].push(e),function(){this.removeEventListener(r,e)}.bind(this)},removeEventListener:function(r,e){if(e){if(this._cbs[r]){for(var t=0,o=this._cbs[r].length;t<o;)this._cbs[r][t]===e&&(this._cbs[r].splice(t,1),t-=1,o-=1),t+=1;this._cbs[r].length||(this._cbs[r]=null)}}else this._cbs[r]=null}};var createTypedArray=function(){function r(e,t){var o,l=0,h=[];switch(e){case"int16":case"uint8c":o=1;break;default:o=1.1}for(l=0;l<t;l+=1)h.push(o);return h}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(e,t){return e==="float32"?new Float32Array(t):e==="int16"?new Int16Array(t):e==="uint8c"?new Uint8ClampedArray(t):r(e,t)}:r}();function createSizedArray(r){return Array.apply(null,{length:r})}function createNS(r){return document.createElementNS(svgNS,r)}function createTag(r){return document.createElement(r)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&(this.dynamicProperties.push(r),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var r;this._mdf=!1;var e=this.dynamicProperties.length;for(r=0;r<e;r+=1)this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(r){this.container=r,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(r){return blendModeEnums[r]||""}),blendModeEnums,lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"},Matrix=function(){var r=Math.cos,e=Math.sin,t=Math.tan,o=Math.round;function l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function h(oe){if(oe===0)return this;var ae=r(oe),le=e(oe);return this._t(ae,-le,0,0,le,ae,0,0,0,0,1,0,0,0,0,1)}function y(oe){if(oe===0)return this;var ae=r(oe),le=e(oe);return this._t(1,0,0,0,0,ae,-le,0,0,le,ae,0,0,0,0,1)}function O(oe){if(oe===0)return this;var ae=r(oe),le=e(oe);return this._t(ae,0,le,0,0,1,0,0,-le,0,ae,0,0,0,0,1)}function D(oe){if(oe===0)return this;var ae=r(oe),le=e(oe);return this._t(ae,-le,0,0,le,ae,0,0,0,0,1,0,0,0,0,1)}function R(oe,ae){return this._t(1,ae,oe,1,0,0)}function F(oe,ae){return this.shear(t(oe),t(ae))}function B(oe,ae){var le=r(ae),me=e(ae);return this._t(le,me,0,0,-me,le,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,t(oe),1,0,0,0,0,1,0,0,0,0,1)._t(le,-me,0,0,me,le,0,0,0,0,1,0,0,0,0,1)}function j(oe,ae,le){return le||le===0||(le=1),oe===1&&ae===1&&le===1?this:this._t(oe,0,0,0,0,ae,0,0,0,0,le,0,0,0,0,1)}function U(oe,ae,le,me,ge,fe,_e,we,ve,Se,$e,be,ye,Oe,Te,ke){return this.props[0]=oe,this.props[1]=ae,this.props[2]=le,this.props[3]=me,this.props[4]=ge,this.props[5]=fe,this.props[6]=_e,this.props[7]=we,this.props[8]=ve,this.props[9]=Se,this.props[10]=$e,this.props[11]=be,this.props[12]=ye,this.props[13]=Oe,this.props[14]=Te,this.props[15]=ke,this}function W(oe,ae,le){return le=le||0,oe!==0||ae!==0||le!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,oe,ae,le,1):this}function G(oe,ae,le,me,ge,fe,_e,we,ve,Se,$e,be,ye,Oe,Te,ke){var Ee=this.props;if(oe===1&&ae===0&&le===0&&me===0&&ge===0&&fe===1&&_e===0&&we===0&&ve===0&&Se===0&&$e===1&&be===0)return Ee[12]=Ee[12]*oe+Ee[15]*ye,Ee[13]=Ee[13]*fe+Ee[15]*Oe,Ee[14]=Ee[14]*$e+Ee[15]*Te,Ee[15]*=ke,this._identityCalculated=!1,this;var Ie=Ee[0],xe=Ee[1],Me=Ee[2],Ae=Ee[3],Re=Ee[4],Ce=Ee[5],Ne=Ee[6],Be=Ee[7],Ve=Ee[8],Le=Ee[9],ze=Ee[10],He=Ee[11],je=Ee[12],De=Ee[13],Pe=Ee[14],Fe=Ee[15];return Ee[0]=Ie*oe+xe*ge+Me*ve+Ae*ye,Ee[1]=Ie*ae+xe*fe+Me*Se+Ae*Oe,Ee[2]=Ie*le+xe*_e+Me*$e+Ae*Te,Ee[3]=Ie*me+xe*we+Me*be+Ae*ke,Ee[4]=Re*oe+Ce*ge+Ne*ve+Be*ye,Ee[5]=Re*ae+Ce*fe+Ne*Se+Be*Oe,Ee[6]=Re*le+Ce*_e+Ne*$e+Be*Te,Ee[7]=Re*me+Ce*we+Ne*be+Be*ke,Ee[8]=Ve*oe+Le*ge+ze*ve+He*ye,Ee[9]=Ve*ae+Le*fe+ze*Se+He*Oe,Ee[10]=Ve*le+Le*_e+ze*$e+He*Te,Ee[11]=Ve*me+Le*we+ze*be+He*ke,Ee[12]=je*oe+De*ge+Pe*ve+Fe*ye,Ee[13]=je*ae+De*fe+Pe*Se+Fe*Oe,Ee[14]=je*le+De*_e+Pe*$e+Fe*Te,Ee[15]=je*me+De*we+Pe*be+Fe*ke,this._identityCalculated=!1,this}function q(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function K(oe){for(var ae=0;ae<16;){if(oe.props[ae]!==this.props[ae])return!1;ae+=1}return!0}function Y(oe){var ae;for(ae=0;ae<16;ae+=1)oe.props[ae]=this.props[ae];return oe}function X(oe){var ae;for(ae=0;ae<16;ae+=1)this.props[ae]=oe[ae]}function J(oe,ae,le){return{x:oe*this.props[0]+ae*this.props[4]+le*this.props[8]+this.props[12],y:oe*this.props[1]+ae*this.props[5]+le*this.props[9]+this.props[13],z:oe*this.props[2]+ae*this.props[6]+le*this.props[10]+this.props[14]}}function Q(oe,ae,le){return oe*this.props[0]+ae*this.props[4]+le*this.props[8]+this.props[12]}function Z(oe,ae,le){return oe*this.props[1]+ae*this.props[5]+le*this.props[9]+this.props[13]}function ee(oe,ae,le){return oe*this.props[2]+ae*this.props[6]+le*this.props[10]+this.props[14]}function te(){var oe=this.props[0]*this.props[5]-this.props[1]*this.props[4],ae=this.props[5]/oe,le=-this.props[1]/oe,me=-this.props[4]/oe,ge=this.props[0]/oe,fe=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/oe,_e=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/oe,we=new Matrix;return we.props[0]=ae,we.props[1]=le,we.props[4]=me,we.props[5]=ge,we.props[12]=fe,we.props[13]=_e,we}function re(oe){return this.getInverseMatrix().applyToPointArray(oe[0],oe[1],oe[2]||0)}function ie(oe){var ae,le=oe.length,me=[];for(ae=0;ae<le;ae+=1)me[ae]=re(oe[ae]);return me}function ne(oe,ae,le){var me=createTypedArray("float32",6);if(this.isIdentity())me[0]=oe[0],me[1]=oe[1],me[2]=ae[0],me[3]=ae[1],me[4]=le[0],me[5]=le[1];else{var ge=this.props[0],fe=this.props[1],_e=this.props[4],we=this.props[5],ve=this.props[12],Se=this.props[13];me[0]=oe[0]*ge+oe[1]*_e+ve,me[1]=oe[0]*fe+oe[1]*we+Se,me[2]=ae[0]*ge+ae[1]*_e+ve,me[3]=ae[0]*fe+ae[1]*we+Se,me[4]=le[0]*ge+le[1]*_e+ve,me[5]=le[0]*fe+le[1]*we+Se}return me}function se(oe,ae,le){return this.isIdentity()?[oe,ae,le]:[oe*this.props[0]+ae*this.props[4]+le*this.props[8]+this.props[12],oe*this.props[1]+ae*this.props[5]+le*this.props[9]+this.props[13],oe*this.props[2]+ae*this.props[6]+le*this.props[10]+this.props[14]]}function ce(oe,ae){if(this.isIdentity())return oe+","+ae;var le=this.props;return Math.round(100*(oe*le[0]+ae*le[4]+le[12]))/100+","+Math.round(100*(oe*le[1]+ae*le[5]+le[13]))/100}function ue(){for(var oe=0,ae=this.props,le="matrix3d(";oe<16;)le+=o(1e4*ae[oe])/1e4,le+=oe===15?")":",",oe+=1;return le}function he(oe){return oe<1e-6&&oe>0||oe>-1e-6&&oe<0?o(1e4*oe)/1e4:oe}function pe(){var oe=this.props;return"matrix("+he(oe[0])+","+he(oe[1])+","+he(oe[4])+","+he(oe[5])+","+he(oe[12])+","+he(oe[13])+")"}return function(){this.reset=l,this.rotate=h,this.rotateX=y,this.rotateY=O,this.rotateZ=D,this.skew=F,this.skewFromAxis=B,this.shear=R,this.scale=j,this.setTransform=U,this.translate=W,this.transform=G,this.applyToPoint=J,this.applyToX=Q,this.applyToY=Z,this.applyToZ=ee,this.applyToPointArray=se,this.applyToTriplePoints=ne,this.applyToPointStringified=ce,this.toCSS=ue,this.to2dCSS=pe,this.clone=Y,this.cloneFromProps=X,this.equals=K,this.inversePoints=ie,this.inversePoint=re,this.getInverseMatrix=te,this._t=this.transform,this.isIdentity=q,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();(function(r,e){var t=this,o=256,l=e.pow(o,6),h=e.pow(2,52),y=2*h,O=255;function D(U){var W,G=U.length,q=this,K=0,Y=q.i=q.j=0,X=q.S=[];for(G||(U=[G++]);K<o;)X[K]=K++;for(K=0;K<o;K++)X[K]=X[Y=O&Y+U[K%G]+(W=X[K])],X[Y]=W;q.g=function(J){for(var Q,Z=0,ee=q.i,te=q.j,re=q.S;J--;)Q=re[ee=O&ee+1],Z=Z*o+re[O&(re[ee]=re[te=O&te+Q])+(re[te]=Q)];return q.i=ee,q.j=te,Z}}function R(U,W){return W.i=U.i,W.j=U.j,W.S=U.S.slice(),W}function F(U,W){var G,q=[],K=typeof U;if(W&&K=="object")for(G in U)try{q.push(F(U[G],W-1))}catch{}return q.length?q:K=="string"?U:U+"\0"}function B(U,W){for(var G,q=U+"",K=0;K<q.length;)W[O&K]=O&(G^=19*W[O&K])+q.charCodeAt(K++);return j(W)}function j(U){return String.fromCharCode.apply(0,U)}e.seedrandom=function(U,W,G){var q=[],K=B(F((W=W===!0?{entropy:!0}:W||{}).entropy?[U,j(r)]:U===null?function(){try{var J=new Uint8Array(o);return(t.crypto||t.msCrypto).getRandomValues(J),j(J)}catch{var Q=t.navigator,Z=Q&&Q.plugins;return[+new Date,t,Z,t.screen,j(r)]}}():U,3),q),Y=new D(q),X=function(){for(var J=Y.g(6),Q=l,Z=0;J<h;)J=(J+Z)*o,Q*=o,Z=Y.g(1);for(;J>=y;)J/=2,Q/=2,Z>>>=1;return(J+Z)/Q};return X.int32=function(){return 0|Y.g(4)},X.quick=function(){return Y.g(4)/4294967296},X.double=X,B(j(Y.S),r),(W.pass||G||function(J,Q,Z,ee){return ee&&(ee.S&&R(ee,Y),J.state=function(){return R(Y,{})}),Z?(e.random=J,Q):J})(X,K,"global"in W?W.global:this==e,W.state)},B(e.random(),r)})([],BMMath);var BezierFactory=function(){var r={getBezierEasing:function(F,B,j,U,W){var G=W||("bez_"+F+"_"+B+"_"+j+"_"+U).replace(/\./g,"p");if(e[G])return e[G];var q=new R([F,B,j,U]);return e[G]=q,q}},e={},t=.1,o=typeof Float32Array=="function";function l(F,B){return 1-3*B+3*F}function h(F,B){return 3*B-6*F}function y(F){return 3*F}function O(F,B,j){return((l(B,j)*F+h(B,j))*F+y(B))*F}function D(F,B,j){return 3*l(B,j)*F*F+2*h(B,j)*F+y(B)}function R(F){this._p=F,this._mSampleValues=o?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return R.prototype={get:function(F){var B=this._p[0],j=this._p[1],U=this._p[2],W=this._p[3];return this._precomputed||this._precompute(),B===j&&U===W?F:F===0?0:F===1?1:O(this._getTForX(F),j,W)},_precompute:function(){var F=this._p[0],B=this._p[1],j=this._p[2],U=this._p[3];this._precomputed=!0,F===B&&j===U||this._calcSampleValues()},_calcSampleValues:function(){for(var F=this._p[0],B=this._p[2],j=0;j<11;++j)this._mSampleValues[j]=O(j*t,F,B)},_getTForX:function(F){for(var B=this._p[0],j=this._p[2],U=this._mSampleValues,W=0,G=1;G!==10&&U[G]<=F;++G)W+=t;var q=W+(F-U[--G])/(U[G+1]-U[G])*t,K=D(q,B,j);return K>=.001?function(Y,X,J,Q){for(var Z=0;Z<4;++Z){var ee=D(X,J,Q);if(ee===0)return X;X-=(O(X,J,Q)-Y)/ee}return X}(F,q,B,j):K===0?q:function(Y,X,J,Q,Z){var ee,te,re=0;do(ee=O(te=X+(J-X)/2,Q,Z)-Y)>0?J=te:X=te;while(Math.abs(ee)>1e-7&&++re<10);return te}(F,W,W+t,B,j)}},r}();function extendPrototype(r,e){var t,o,l=r.length;for(t=0;t<l;t+=1)for(var h in o=r[t].prototype)Object.prototype.hasOwnProperty.call(o,h)&&(e.prototype[h]=o[h])}function getDescriptor(r,e){return Object.getOwnPropertyDescriptor(r,e)}function createProxyFunction(r){function e(){}return e.prototype=r,e}function bezFunction(){var r=Math;function e(R,F,B,j,U,W){var G=R*j+F*U+B*W-U*j-W*R-B*F;return G>-.001&&G<.001}var t=function(R,F,B,j){var U,W,G,q,K,Y,X=defaultCurveSegments,J=0,Q=[],Z=[],ee=bezierLengthPool.newElement();for(G=B.length,U=0;U<X;U+=1){for(K=U/(X-1),Y=0,W=0;W<G;W+=1)q=bmPow(1-K,3)*R[W]+3*bmPow(1-K,2)*K*B[W]+3*(1-K)*bmPow(K,2)*j[W]+bmPow(K,3)*F[W],Q[W]=q,Z[W]!==null&&(Y+=bmPow(Q[W]-Z[W],2)),Z[W]=Q[W];Y&&(J+=Y=bmSqrt(Y)),ee.percents[U]=K,ee.lengths[U]=J}return ee.addedLength=J,ee};function o(R){this.segmentLength=0,this.points=new Array(R)}function l(R,F){this.partialLength=R,this.point=F}var h,y=(h={},function(R,F,B,j){var U=(R[0]+"_"+R[1]+"_"+F[0]+"_"+F[1]+"_"+B[0]+"_"+B[1]+"_"+j[0]+"_"+j[1]).replace(/\./g,"p");if(!h[U]){var W,G,q,K,Y,X,J,Q=defaultCurveSegments,Z=0,ee=null;R.length===2&&(R[0]!==F[0]||R[1]!==F[1])&&e(R[0],R[1],F[0],F[1],R[0]+B[0],R[1]+B[1])&&e(R[0],R[1],F[0],F[1],F[0]+j[0],F[1]+j[1])&&(Q=2);var te=new o(Q);for(q=B.length,W=0;W<Q;W+=1){for(J=createSizedArray(q),Y=W/(Q-1),X=0,G=0;G<q;G+=1)K=bmPow(1-Y,3)*R[G]+3*bmPow(1-Y,2)*Y*(R[G]+B[G])+3*(1-Y)*bmPow(Y,2)*(F[G]+j[G])+bmPow(Y,3)*F[G],J[G]=K,ee!==null&&(X+=bmPow(J[G]-ee[G],2));Z+=X=bmSqrt(X),te.points[W]=new l(X,J),ee=J}te.segmentLength=Z,h[U]=te}return h[U]});function O(R,F){var B=F.percents,j=F.lengths,U=B.length,W=bmFloor((U-1)*R),G=R*F.addedLength,q=0;if(W===U-1||W===0||G===j[W])return B[W];for(var K=j[W]>G?-1:1,Y=!0;Y;)if(j[W]<=G&&j[W+1]>G?(q=(G-j[W])/(j[W+1]-j[W]),Y=!1):W+=K,W<0||W>=U-1){if(W===U-1)return B[W];Y=!1}return B[W]+(B[W+1]-B[W])*q}var D=createTypedArray("float32",8);return{getSegmentsLength:function(R){var F,B=segmentsLengthPool.newElement(),j=R.c,U=R.v,W=R.o,G=R.i,q=R._length,K=B.lengths,Y=0;for(F=0;F<q-1;F+=1)K[F]=t(U[F],U[F+1],W[F],G[F+1]),Y+=K[F].addedLength;return j&&q&&(K[F]=t(U[F],U[0],W[F],G[0]),Y+=K[F].addedLength),B.totalLength=Y,B},getNewSegment:function(R,F,B,j,U,W,G){U<0?U=0:U>1&&(U=1);var q,K=O(U,G),Y=O(W=W>1?1:W,G),X=R.length,J=1-K,Q=1-Y,Z=J*J*J,ee=K*J*J*3,te=K*K*J*3,re=K*K*K,ie=J*J*Q,ne=K*J*Q+J*K*Q+J*J*Y,se=K*K*Q+J*K*Y+K*J*Y,ce=K*K*Y,ue=J*Q*Q,he=K*Q*Q+J*Y*Q+J*Q*Y,pe=K*Y*Q+J*Y*Y+K*Q*Y,oe=K*Y*Y,ae=Q*Q*Q,le=Y*Q*Q+Q*Y*Q+Q*Q*Y,me=Y*Y*Q+Q*Y*Y+Y*Q*Y,ge=Y*Y*Y;for(q=0;q<X;q+=1)D[4*q]=r.round(1e3*(Z*R[q]+ee*B[q]+te*j[q]+re*F[q]))/1e3,D[4*q+1]=r.round(1e3*(ie*R[q]+ne*B[q]+se*j[q]+ce*F[q]))/1e3,D[4*q+2]=r.round(1e3*(ue*R[q]+he*B[q]+pe*j[q]+oe*F[q]))/1e3,D[4*q+3]=r.round(1e3*(ae*R[q]+le*B[q]+me*j[q]+ge*F[q]))/1e3;return D},getPointInSegment:function(R,F,B,j,U,W){var G=O(U,W),q=1-G;return[r.round(1e3*(q*q*q*R[0]+(G*q*q+q*G*q+q*q*G)*B[0]+(G*G*q+q*G*G+G*q*G)*j[0]+G*G*G*F[0]))/1e3,r.round(1e3*(q*q*q*R[1]+(G*q*q+q*G*q+q*q*G)*B[1]+(G*G*q+q*G*G+G*q*G)*j[1]+G*G*G*F[1]))/1e3]},buildBezierData:y,pointOnLine2D:e,pointOnLine3D:function(R,F,B,j,U,W,G,q,K){if(B===0&&W===0&&K===0)return e(R,F,j,U,G,q);var Y,X=r.sqrt(r.pow(j-R,2)+r.pow(U-F,2)+r.pow(W-B,2)),J=r.sqrt(r.pow(G-R,2)+r.pow(q-F,2)+r.pow(K-B,2)),Q=r.sqrt(r.pow(G-j,2)+r.pow(q-U,2)+r.pow(K-W,2));return(Y=X>J?X>Q?X-J-Q:Q-J-X:Q>J?Q-J-X:J-X-Q)>-1e-4&&Y<1e-4}}}(function(){for(var r=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(o){var l=new Date().getTime(),h=Math.max(0,16-(l-r)),y=setTimeout(function(){o(l+h)},h);return r=l+h,y}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)})})();var bez=bezFunction(),dataManager=function(){var r,e,t=1,o=[],l={onmessage:function(){},postMessage:function(D){r({data:D})}},h={postMessage:function(D){l.onmessage({data:D})}};function y(){e||(e=function(D){if(window.Worker&&window.Blob&&_useWebWorker){var R=new Blob(["var _workerSelf = self; self.onmessage = ",D.toString()],{type:"text/javascript"}),F=URL.createObjectURL(R);return new Worker(F)}return r=D,l}(function(D){if(h.dataManager||(h.dataManager=function(){function F(ee,te){var re,ie,ne,se,ce,ue,he=ee.length;for(ie=0;ie<he;ie+=1)if("ks"in(re=ee[ie])&&!re.completed){if(re.completed=!0,re.tt&&(ee[ie-1].td=re.tt),re.hasMask){var pe=re.masksProperties;for(se=pe.length,ne=0;ne<se;ne+=1)if(pe[ne].pt.k.i)U(pe[ne].pt.k);else for(ue=pe[ne].pt.k.length,ce=0;ce<ue;ce+=1)pe[ne].pt.k[ce].s&&U(pe[ne].pt.k[ce].s[0]),pe[ne].pt.k[ce].e&&U(pe[ne].pt.k[ce].e[0])}re.ty===0?(re.layers=B(re.refId,te),F(re.layers,te)):re.ty===4?j(re.shapes):re.ty===5&&Q(re)}}function B(ee,te){for(var re=0,ie=te.length;re<ie;){if(te[re].id===ee)return te[re].layers.__used?JSON.parse(JSON.stringify(te[re].layers)):(te[re].layers.__used=!0,te[re].layers);re+=1}return null}function j(ee){var te,re,ie;for(te=ee.length-1;te>=0;te-=1)if(ee[te].ty==="sh")if(ee[te].ks.k.i)U(ee[te].ks.k);else for(ie=ee[te].ks.k.length,re=0;re<ie;re+=1)ee[te].ks.k[re].s&&U(ee[te].ks.k[re].s[0]),ee[te].ks.k[re].e&&U(ee[te].ks.k[re].e[0]);else ee[te].ty==="gr"&&j(ee[te].it)}function U(ee){var te,re=ee.i.length;for(te=0;te<re;te+=1)ee.i[te][0]+=ee.v[te][0],ee.i[te][1]+=ee.v[te][1],ee.o[te][0]+=ee.v[te][0],ee.o[te][1]+=ee.v[te][1]}function W(ee,te){var re=te?te.split("."):[100,100,100];return ee[0]>re[0]||!(re[0]>ee[0])&&(ee[1]>re[1]||!(re[1]>ee[1])&&(ee[2]>re[2]||!(re[2]>ee[2])&&null))}var G,q=function(){var ee=[4,4,14];function te(re){var ie,ne,se,ce=re.length;for(ie=0;ie<ce;ie+=1)re[ie].ty===5&&(se=void 0,se=(ne=re[ie]).t.d,ne.t.d={k:[{s:se,t:0}]})}return function(re){if(W(ee,re.v)&&(te(re.layers),re.assets)){var ie,ne=re.assets.length;for(ie=0;ie<ne;ie+=1)re.assets[ie].layers&&te(re.assets[ie].layers)}}}(),K=(G=[4,7,99],function(ee){if(ee.chars&&!W(G,ee.v)){var te,re,ie,ne,se,ce=ee.chars.length;for(te=0;te<ce;te+=1)if(ee.chars[te].data&&ee.chars[te].data.shapes)for(ie=(se=ee.chars[te].data.shapes[0].it).length,re=0;re<ie;re+=1)(ne=se[re].ks.k).__converted||(U(se[re].ks.k),ne.__converted=!0)}}),Y=function(){var ee=[5,7,15];function te(re){var ie,ne,se=re.length;for(ie=0;ie<se;ie+=1)re[ie].ty===5&&(ne=void 0,typeof(ne=re[ie].t.p).a=="number"&&(ne.a={a:0,k:ne.a}),typeof ne.p=="number"&&(ne.p={a:0,k:ne.p}),typeof ne.r=="number"&&(ne.r={a:0,k:ne.r}))}return function(re){if(W(ee,re.v)&&(te(re.layers),re.assets)){var ie,ne=re.assets.length;for(ie=0;ie<ne;ie+=1)re.assets[ie].layers&&te(re.assets[ie].layers)}}}(),X=function(){var ee=[4,1,9];function te(ie){var ne,se,ce,ue=ie.length;for(ne=0;ne<ue;ne+=1)if(ie[ne].ty==="gr")te(ie[ne].it);else if(ie[ne].ty==="fl"||ie[ne].ty==="st")if(ie[ne].c.k&&ie[ne].c.k[0].i)for(ce=ie[ne].c.k.length,se=0;se<ce;se+=1)ie[ne].c.k[se].s&&(ie[ne].c.k[se].s[0]/=255,ie[ne].c.k[se].s[1]/=255,ie[ne].c.k[se].s[2]/=255,ie[ne].c.k[se].s[3]/=255),ie[ne].c.k[se].e&&(ie[ne].c.k[se].e[0]/=255,ie[ne].c.k[se].e[1]/=255,ie[ne].c.k[se].e[2]/=255,ie[ne].c.k[se].e[3]/=255);else ie[ne].c.k[0]/=255,ie[ne].c.k[1]/=255,ie[ne].c.k[2]/=255,ie[ne].c.k[3]/=255}function re(ie){var ne,se=ie.length;for(ne=0;ne<se;ne+=1)ie[ne].ty===4&&te(ie[ne].shapes)}return function(ie){if(W(ee,ie.v)&&(re(ie.layers),ie.assets)){var ne,se=ie.assets.length;for(ne=0;ne<se;ne+=1)ie.assets[ne].layers&&re(ie.assets[ne].layers)}}}(),J=function(){var ee=[4,4,18];function te(ie){var ne,se,ce;for(ne=ie.length-1;ne>=0;ne-=1)if(ie[ne].ty==="sh")if(ie[ne].ks.k.i)ie[ne].ks.k.c=ie[ne].closed;else for(ce=ie[ne].ks.k.length,se=0;se<ce;se+=1)ie[ne].ks.k[se].s&&(ie[ne].ks.k[se].s[0].c=ie[ne].closed),ie[ne].ks.k[se].e&&(ie[ne].ks.k[se].e[0].c=ie[ne].closed);else ie[ne].ty==="gr"&&te(ie[ne].it)}function re(ie){var ne,se,ce,ue,he,pe,oe=ie.length;for(se=0;se<oe;se+=1){if((ne=ie[se]).hasMask){var ae=ne.masksProperties;for(ue=ae.length,ce=0;ce<ue;ce+=1)if(ae[ce].pt.k.i)ae[ce].pt.k.c=ae[ce].cl;else for(pe=ae[ce].pt.k.length,he=0;he<pe;he+=1)ae[ce].pt.k[he].s&&(ae[ce].pt.k[he].s[0].c=ae[ce].cl),ae[ce].pt.k[he].e&&(ae[ce].pt.k[he].e[0].c=ae[ce].cl)}ne.ty===4&&te(ne.shapes)}}return function(ie){if(W(ee,ie.v)&&(re(ie.layers),ie.assets)){var ne,se=ie.assets.length;for(ne=0;ne<se;ne+=1)ie.assets[ne].layers&&re(ie.assets[ne].layers)}}}();function Q(ee){ee.t.a.length!==0||"m"in ee.t.p||(ee.singleShape=!0)}var Z={completeData:function(ee){ee.__complete||(X(ee),q(ee),K(ee),Y(ee),J(ee),F(ee.layers,ee.assets),ee.__complete=!0)}};return Z.checkColors=X,Z.checkChars=K,Z.checkPathProperties=Y,Z.checkShapes=J,Z.completeLayers=F,Z}()),h.assetLoader||(h.assetLoader=function(){function F(B){var j=B.getResponseHeader("content-type");return j&&B.responseType==="json"&&j.indexOf("json")!==-1||B.response&&typeof B.response=="object"?B.response:B.response&&typeof B.response=="string"?JSON.parse(B.response):B.responseText?JSON.parse(B.responseText):null}return{load:function(B,j,U,W){var G,q=new XMLHttpRequest;try{q.responseType="json"}catch{}q.onreadystatechange=function(){if(q.readyState===4)if(q.status===200)G=F(q),U(G);else try{G=F(q),U(G)}catch(K){W&&W(K)}};try{q.open("GET",B,!0)}catch{q.open("GET",j+"/"+B,!0)}q.send()}}}()),D.data.type==="loadAnimation")h.assetLoader.load(D.data.path,D.data.fullPath,function(F){h.dataManager.completeData(F),h.postMessage({id:D.data.id,payload:F,status:"success"})},function(){h.postMessage({id:D.data.id,status:"error"})});else if(D.data.type==="complete"){var R=D.data.animation;h.dataManager.completeData(R),h.postMessage({id:D.data.id,payload:R,status:"success"})}else D.data.type==="loadData"&&h.assetLoader.load(D.data.path,D.data.fullPath,function(F){h.postMessage({id:D.data.id,payload:F,status:"success"})},function(){h.postMessage({id:D.data.id,status:"error"})})}),e.onmessage=function(D){var R=D.data,F=R.id,B=o[F];o[F]=null,R.status==="success"?B.onComplete(R.payload):B.onError&&B.onError()})}function O(D,R){var F="processId_"+(t+=1);return o[F]={onComplete:D,onError:R},F}return{loadAnimation:function(D,R,F){y();var B=O(R,F);e.postMessage({type:"loadAnimation",path:D,fullPath:window.location.origin+window.location.pathname,id:B})},loadData:function(D,R,F){y();var B=O(R,F);e.postMessage({type:"loadData",path:D,fullPath:window.location.origin+window.location.pathname,id:B})},completeAnimation:function(D,R,F){y();var B=O(R,F);e.postMessage({type:"complete",animation:D,id:B})}}}();function getFontProperties(r){for(var e=r.fStyle?r.fStyle.split(" "):[],t="normal",o="normal",l=e.length,h=0;h<l;h+=1)switch(e[h].toLowerCase()){case"italic":o="italic";break;case"bold":t="700";break;case"black":t="900";break;case"medium":t="500";break;case"regular":case"normal":t="400";break;case"light":case"thin":t="200"}return{style:o,weight:r.fWeight||t}}var FontManager=function(){var r={w:0,size:0,shapes:[]},e=[];e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var t=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],o=[65039,8205];function l(D,R){var F=createTag("span");F.setAttribute("aria-hidden",!0),F.style.fontFamily=R;var B=createTag("span");B.innerText="giItT1WQy@!-/#",F.style.position="absolute",F.style.left="-10000px",F.style.top="-10000px",F.style.fontSize="300px",F.style.fontVariant="normal",F.style.fontStyle="normal",F.style.fontWeight="normal",F.style.letterSpacing="0",F.appendChild(B),document.body.appendChild(F);var j=B.offsetWidth;return B.style.fontFamily=function(U){var W,G=U.split(","),q=G.length,K=[];for(W=0;W<q;W+=1)G[W]!=="sans-serif"&&G[W]!=="monospace"&&K.push(G[W]);return K.join(",")}(D)+", "+R,{node:B,w:j,parent:F}}function h(D,R){var F=createNS("text");F.style.fontSize="100px";var B=getFontProperties(R);return F.setAttribute("font-family",R.fFamily),F.setAttribute("font-style",B.style),F.setAttribute("font-weight",B.weight),F.textContent="1",R.fClass?(F.style.fontFamily="inherit",F.setAttribute("class",R.fClass)):F.style.fontFamily=R.fFamily,D.appendChild(F),createTag("canvas").getContext("2d").font=R.fWeight+" "+R.fStyle+" 100px "+R.fFamily,F}var y=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};y.isModifier=function(D,R){var F=D.toString(16)+R.toString(16);return t.indexOf(F)!==-1},y.isZeroWidthJoiner=function(D,R){return R?D===o[0]&&R===o[1]:D===o[1]},y.isCombinedCharacter=function(D){return e.indexOf(D)!==-1};var O={addChars:function(D){if(D){var R;this.chars||(this.chars=[]);var F,B,j=D.length,U=this.chars.length;for(R=0;R<j;R+=1){for(F=0,B=!1;F<U;)this.chars[F].style===D[R].style&&this.chars[F].fFamily===D[R].fFamily&&this.chars[F].ch===D[R].ch&&(B=!0),F+=1;B||(this.chars.push(D[R]),U+=1)}}},addFonts:function(D,R){if(D){if(this.chars)return this.isLoaded=!0,void(this.fonts=D.list);var F,B=D.list,j=B.length,U=j;for(F=0;F<j;F+=1){var W,G,q=!0;if(B[F].loaded=!1,B[F].monoCase=l(B[F].fFamily,"monospace"),B[F].sansCase=l(B[F].fFamily,"sans-serif"),B[F].fPath){if(B[F].fOrigin==="p"||B[F].origin===3){if((W=document.querySelectorAll('style[f-forigin="p"][f-family="'+B[F].fFamily+'"], style[f-origin="3"][f-family="'+B[F].fFamily+'"]')).length>0&&(q=!1),q){var K=createTag("style");K.setAttribute("f-forigin",B[F].fOrigin),K.setAttribute("f-origin",B[F].origin),K.setAttribute("f-family",B[F].fFamily),K.type="text/css",K.innerText="@font-face {font-family: "+B[F].fFamily+"; font-style: normal; src: url('"+B[F].fPath+"');}",R.appendChild(K)}}else if(B[F].fOrigin==="g"||B[F].origin===1){for(W=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),G=0;G<W.length;G+=1)W[G].href.indexOf(B[F].fPath)!==-1&&(q=!1);if(q){var Y=createTag("link");Y.setAttribute("f-forigin",B[F].fOrigin),Y.setAttribute("f-origin",B[F].origin),Y.type="text/css",Y.rel="stylesheet",Y.href=B[F].fPath,document.body.appendChild(Y)}}else if(B[F].fOrigin==="t"||B[F].origin===2){for(W=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),G=0;G<W.length;G+=1)B[F].fPath===W[G].src&&(q=!1);if(q){var X=createTag("link");X.setAttribute("f-forigin",B[F].fOrigin),X.setAttribute("f-origin",B[F].origin),X.setAttribute("rel","stylesheet"),X.setAttribute("href",B[F].fPath),R.appendChild(X)}}}else B[F].loaded=!0,U-=1;B[F].helper=h(R,B[F]),B[F].cache={},this.fonts.push(B[F])}U===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(D,R,F){for(var B=0,j=this.chars.length;B<j;){if(this.chars[B].ch===D&&this.chars[B].style===R&&this.chars[B].fFamily===F)return this.chars[B];B+=1}return(typeof D=="string"&&D.charCodeAt(0)!==13||!D)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",D,R,F)),r},getFontByName:function(D){for(var R=0,F=this.fonts.length;R<F;){if(this.fonts[R].fName===D)return this.fonts[R];R+=1}return this.fonts[0]},measureText:function(D,R,F){var B=this.getFontByName(R),j=D.charCodeAt(0);if(!B.cache[j+1]){var U=B.helper;if(D===" "){U.textContent="|"+D+"|";var W=U.getComputedTextLength();U.textContent="||";var G=U.getComputedTextLength();B.cache[j+1]=(W-G)/100}else U.textContent=D,B.cache[j+1]=U.getComputedTextLength()/100}return B.cache[j+1]*F},checkLoadedFonts:function(){var D,R,F,B=this.fonts.length,j=B;for(D=0;D<B;D+=1)this.fonts[D].loaded?j-=1:this.fonts[D].fOrigin==="n"||this.fonts[D].origin===0?this.fonts[D].loaded=!0:(R=this.fonts[D].monoCase.node,F=this.fonts[D].monoCase.w,R.offsetWidth!==F?(j-=1,this.fonts[D].loaded=!0):(R=this.fonts[D].sansCase.node,F=this.fonts[D].sansCase.w,R.offsetWidth!==F&&(j-=1,this.fonts[D].loaded=!0)),this.fonts[D].loaded&&(this.fonts[D].sansCase.parent.parentNode.removeChild(this.fonts[D].sansCase.parent),this.fonts[D].monoCase.parent.parentNode.removeChild(this.fonts[D].monoCase.parent)));j!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return y.prototype=O,y}(),PropertyFactory=function(){var r=initialDefaultFrame,e=Math.abs;function t(U,W){var G,q=this.offsetTime;this.propType==="multidimensional"&&(G=createTypedArray("float32",this.pv.length));for(var K,Y,X,J,Q,Z,ee,te,re,ie=W.lastIndex,ne=ie,se=this.keyframes.length-1,ce=!0;ce;){if(K=this.keyframes[ne],Y=this.keyframes[ne+1],ne===se-1&&U>=Y.t-q){K.h&&(K=Y),ie=0;break}if(Y.t-q>U){ie=ne;break}ne<se-1?ne+=1:(ie=0,ce=!1)}X=this.keyframesMetadata[ne]||{};var ue,he,pe,oe,ae,le,me,ge,fe,_e,we=Y.t-q,ve=K.t-q;if(K.to){X.bezierData||(X.bezierData=bez.buildBezierData(K.s,Y.s||K.e,K.to,K.ti));var Se=X.bezierData;if(U>=we||U<ve){var $e=U>=we?Se.points.length-1:0;for(Q=Se.points[$e].point.length,J=0;J<Q;J+=1)G[J]=Se.points[$e].point[J]}else{X.__fnct?re=X.__fnct:(re=BezierFactory.getBezierEasing(K.o.x,K.o.y,K.i.x,K.i.y,K.n).get,X.__fnct=re),Z=re((U-ve)/(we-ve));var be,ye=Se.segmentLength*Z,Oe=W.lastFrame<U&&W._lastKeyframeIndex===ne?W._lastAddedLength:0;for(te=W.lastFrame<U&&W._lastKeyframeIndex===ne?W._lastPoint:0,ce=!0,ee=Se.points.length;ce;){if(Oe+=Se.points[te].partialLength,ye===0||Z===0||te===Se.points.length-1){for(Q=Se.points[te].point.length,J=0;J<Q;J+=1)G[J]=Se.points[te].point[J];break}if(ye>=Oe&&ye<Oe+Se.points[te+1].partialLength){for(be=(ye-Oe)/Se.points[te+1].partialLength,Q=Se.points[te].point.length,J=0;J<Q;J+=1)G[J]=Se.points[te].point[J]+(Se.points[te+1].point[J]-Se.points[te].point[J])*be;break}te<ee-1?te+=1:ce=!1}W._lastPoint=te,W._lastAddedLength=Oe-Se.points[te].partialLength,W._lastKeyframeIndex=ne}}else{var Te,ke,Ee,Ie,xe;if(se=K.s.length,ue=Y.s||K.e,this.sh&&K.h!==1)if(U>=we)G[0]=ue[0],G[1]=ue[1],G[2]=ue[2];else if(U<=ve)G[0]=K.s[0],G[1]=K.s[1],G[2]=K.s[2];else{var Me=o(K.s),Ae=o(ue);he=G,pe=function(Re,Ce,Ne){var Be,Ve,Le,ze,He,je=[],De=Re[0],Pe=Re[1],Fe=Re[2],Ke=Re[3],qe=Ce[0],Ue=Ce[1],We=Ce[2],Je=Ce[3];return(Ve=De*qe+Pe*Ue+Fe*We+Ke*Je)<0&&(Ve=-Ve,qe=-qe,Ue=-Ue,We=-We,Je=-Je),1-Ve>1e-6?(Be=Math.acos(Ve),Le=Math.sin(Be),ze=Math.sin((1-Ne)*Be)/Le,He=Math.sin(Ne*Be)/Le):(ze=1-Ne,He=Ne),je[0]=ze*De+He*qe,je[1]=ze*Pe+He*Ue,je[2]=ze*Fe+He*We,je[3]=ze*Ke+He*Je,je}(Me,Ae,(U-ve)/(we-ve)),oe=pe[0],ae=pe[1],le=pe[2],me=pe[3],ge=Math.atan2(2*ae*me-2*oe*le,1-2*ae*ae-2*le*le),fe=Math.asin(2*oe*ae+2*le*me),_e=Math.atan2(2*oe*me-2*ae*le,1-2*oe*oe-2*le*le),he[0]=ge/degToRads,he[1]=fe/degToRads,he[2]=_e/degToRads}else for(ne=0;ne<se;ne+=1)K.h!==1&&(U>=we?Z=1:U<ve?Z=0:(K.o.x.constructor===Array?(X.__fnct||(X.__fnct=[]),X.__fnct[ne]?re=X.__fnct[ne]:(Te=K.o.x[ne]===void 0?K.o.x[0]:K.o.x[ne],ke=K.o.y[ne]===void 0?K.o.y[0]:K.o.y[ne],Ee=K.i.x[ne]===void 0?K.i.x[0]:K.i.x[ne],Ie=K.i.y[ne]===void 0?K.i.y[0]:K.i.y[ne],re=BezierFactory.getBezierEasing(Te,ke,Ee,Ie).get,X.__fnct[ne]=re)):X.__fnct?re=X.__fnct:(Te=K.o.x,ke=K.o.y,Ee=K.i.x,Ie=K.i.y,re=BezierFactory.getBezierEasing(Te,ke,Ee,Ie).get,K.keyframeMetadata=re),Z=re((U-ve)/(we-ve)))),ue=Y.s||K.e,xe=K.h===1?K.s[ne]:K.s[ne]+(ue[ne]-K.s[ne])*Z,this.propType==="multidimensional"?G[ne]=xe:G=xe}return W.lastIndex=ie,G}function o(U){var W=U[0]*degToRads,G=U[1]*degToRads,q=U[2]*degToRads,K=Math.cos(W/2),Y=Math.cos(G/2),X=Math.cos(q/2),J=Math.sin(W/2),Q=Math.sin(G/2),Z=Math.sin(q/2);return[J*Q*X+K*Y*Z,J*Y*X+K*Q*Z,K*Q*X-J*Y*Z,K*Y*X-J*Q*Z]}function l(){var U=this.comp.renderedFrame-this.offsetTime,W=this.keyframes[0].t-this.offsetTime,G=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(U===this._caching.lastFrame||this._caching.lastFrame!==r&&(this._caching.lastFrame>=G&&U>=G||this._caching.lastFrame<W&&U<W))){this._caching.lastFrame>=U&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var q=this.interpolateValue(U,this._caching);this.pv=q}return this._caching.lastFrame=U,this.pv}function h(U){var W;if(this.propType==="unidimensional")W=U*this.mult,e(this.v-W)>1e-5&&(this.v=W,this._mdf=!0);else for(var G=0,q=this.v.length;G<q;)W=U[G]*this.mult,e(this.v[G]-W)>1e-5&&(this.v[G]=W,this._mdf=!0),G+=1}function y(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var U;this.lock=!0,this._mdf=this._isFirstFrame;var W=this.effectsSequence.length,G=this.kf?this.pv:this.data.k;for(U=0;U<W;U+=1)G=this.effectsSequence[U](G);this.setVValue(G),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function O(U){this.effectsSequence.push(U),this.container.addDynamicProperty(this)}function D(U,W,G,q){this.propType="unidimensional",this.mult=G||1,this.data=W,this.v=G?W.k*G:W.k,this.pv=W.k,this._mdf=!1,this.elem=U,this.container=q,this.comp=U.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.addEffect=O}function R(U,W,G,q){var K;this.propType="multidimensional",this.mult=G||1,this.data=W,this._mdf=!1,this.elem=U,this.container=q,this.comp=U.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Y=W.k.length;for(this.v=createTypedArray("float32",Y),this.pv=createTypedArray("float32",Y),this.vel=createTypedArray("float32",Y),K=0;K<Y;K+=1)this.v[K]=W.k[K]*this.mult,this.pv[K]=W.k[K];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=y,this.setVValue=h,this.addEffect=O}function F(U,W,G,q){this.propType="unidimensional",this.keyframes=W.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.frameId=-1,this._caching={lastFrame:r,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=W,this.mult=G||1,this.elem=U,this.container=q,this.comp=U.comp,this.v=r,this.pv=r,this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.interpolateValue=t,this.effectsSequence=[l.bind(this)],this.addEffect=O}function B(U,W,G,q){var K;this.propType="multidimensional";var Y,X,J,Q,Z=W.k.length;for(K=0;K<Z-1;K+=1)W.k[K].to&&W.k[K].s&&W.k[K+1]&&W.k[K+1].s&&(Y=W.k[K].s,X=W.k[K+1].s,J=W.k[K].to,Q=W.k[K].ti,(Y.length===2&&(Y[0]!==X[0]||Y[1]!==X[1])&&bez.pointOnLine2D(Y[0],Y[1],X[0],X[1],Y[0]+J[0],Y[1]+J[1])&&bez.pointOnLine2D(Y[0],Y[1],X[0],X[1],X[0]+Q[0],X[1]+Q[1])||Y.length===3&&(Y[0]!==X[0]||Y[1]!==X[1]||Y[2]!==X[2])&&bez.pointOnLine3D(Y[0],Y[1],Y[2],X[0],X[1],X[2],Y[0]+J[0],Y[1]+J[1],Y[2]+J[2])&&bez.pointOnLine3D(Y[0],Y[1],Y[2],X[0],X[1],X[2],X[0]+Q[0],X[1]+Q[1],X[2]+Q[2]))&&(W.k[K].to=null,W.k[K].ti=null),Y[0]===X[0]&&Y[1]===X[1]&&J[0]===0&&J[1]===0&&Q[0]===0&&Q[1]===0&&(Y.length===2||Y[2]===X[2]&&J[2]===0&&Q[2]===0)&&(W.k[K].to=null,W.k[K].ti=null));this.effectsSequence=[l.bind(this)],this.data=W,this.keyframes=W.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=G||1,this.elem=U,this.container=q,this.comp=U.comp,this.getValue=y,this.setVValue=h,this.interpolateValue=t,this.frameId=-1;var ee=W.k[0].s.length;for(this.v=createTypedArray("float32",ee),this.pv=createTypedArray("float32",ee),K=0;K<ee;K+=1)this.v[K]=r,this.pv[K]=r;this._caching={lastFrame:r,lastIndex:0,value:createTypedArray("float32",ee)},this.addEffect=O}var j={getProp:function(U,W,G,q,K){var Y;if(W.k.length)if(typeof W.k[0]=="number")Y=new R(U,W,q,K);else switch(G){case 0:Y=new F(U,W,q,K);break;case 1:Y=new B(U,W,q,K)}else Y=new D(U,W,q,K);return Y.effectsSequence.length&&K.addDynamicProperty(Y),Y}};return j}(),TransformPropertyFactory=function(){var r=[0,0];function e(t,o,l){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=o,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(l||t),o.p&&o.p.s?(this.px=PropertyFactory.getProp(t,o.p.x,0,0,this),this.py=PropertyFactory.getProp(t,o.p.y,0,0,this),o.p.z&&(this.pz=PropertyFactory.getProp(t,o.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,o.p||{k:[0,0,0]},1,0,this),o.rx){if(this.rx=PropertyFactory.getProp(t,o.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,o.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,o.rz,0,degToRads,this),o.or.k[0].ti){var h,y=o.or.k.length;for(h=0;h<y;h+=1)o.or.k[h].to=null,o.or.k[h].ti=null}this.or=PropertyFactory.getProp(t,o.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,o.r||{k:0},0,degToRads,this);o.sk&&(this.sk=PropertyFactory.getProp(t,o.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,o.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,o.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,o.s||{k:[100,100,100]},1,.01,this),o.o?this.o=PropertyFactory.getProp(t,o.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return e.prototype={applyToMatrix:function(t){var o=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||o,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var o;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var l,h;if(o=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(l=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/o,0),h=this.p.getValueAtTime(this.p.keyframes[0].t/o,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(l=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/o,0),h=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/o,0)):(l=this.p.pv,h=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/o,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){l=[],h=[];var y=this.px,O=this.py;y._caching.lastFrame+y.offsetTime<=y.keyframes[0].t?(l[0]=y.getValueAtTime((y.keyframes[0].t+.01)/o,0),l[1]=O.getValueAtTime((O.keyframes[0].t+.01)/o,0),h[0]=y.getValueAtTime(y.keyframes[0].t/o,0),h[1]=O.getValueAtTime(O.keyframes[0].t/o,0)):y._caching.lastFrame+y.offsetTime>=y.keyframes[y.keyframes.length-1].t?(l[0]=y.getValueAtTime(y.keyframes[y.keyframes.length-1].t/o,0),l[1]=O.getValueAtTime(O.keyframes[O.keyframes.length-1].t/o,0),h[0]=y.getValueAtTime((y.keyframes[y.keyframes.length-1].t-.01)/o,0),h[1]=O.getValueAtTime((O.keyframes[O.keyframes.length-1].t-.01)/o,0)):(l=[y.pv,O.pv],h[0]=y.getValueAtTime((y._caching.lastFrame+y.offsetTime-.01)/o,y.offsetTime),h[1]=O.getValueAtTime((O._caching.lastFrame+O.offsetTime-.01)/o,O.offsetTime))}else l=h=r;this.v.rotate(-Math.atan2(l[1]-h[1],l[0]-h[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],e),e.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,o,l){return new e(t,o,l)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(r,e){this.c=r,this.setLength(e);for(var t=0;t<e;)this.v[t]=pointPool.newElement(),this.o[t]=pointPool.newElement(),this.i[t]=pointPool.newElement(),t+=1},ShapePath.prototype.setLength=function(r){for(;this._maxLength<r;)this.doubleArrayLength();this._length=r},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(r,e,t,o,l){var h;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),t){case"v":h=this.v;break;case"i":h=this.i;break;case"o":h=this.o;break;default:h=[]}(!h[o]||h[o]&&!l)&&(h[o]=pointPool.newElement()),h[o][0]=r,h[o][1]=e},ShapePath.prototype.setTripleAt=function(r,e,t,o,l,h,y,O){this.setXYAt(r,e,"v",y,O),this.setXYAt(t,o,"o",y,O),this.setXYAt(l,h,"i",y,O)},ShapePath.prototype.reverse=function(){var r=new ShapePath;r.setPathData(this.c,this._length);var e=this.v,t=this.o,o=this.i,l=0;this.c&&(r.setTripleAt(e[0][0],e[0][1],o[0][0],o[0][1],t[0][0],t[0][1],0,!1),l=1);var h,y=this._length-1,O=this._length;for(h=l;h<O;h+=1)r.setTripleAt(e[y][0],e[y][1],o[y][0],o[y][1],t[y][0],t[y][1],h,!1),y-=1;return r};var ShapePropertyFactory=function(){var r=-999999;function e(U,W,G){var q,K,Y,X,J,Q,Z,ee,te,re=G.lastIndex,ie=this.keyframes;if(U<ie[0].t-this.offsetTime)q=ie[0].s[0],Y=!0,re=0;else if(U>=ie[ie.length-1].t-this.offsetTime)q=ie[ie.length-1].s?ie[ie.length-1].s[0]:ie[ie.length-2].e[0],Y=!0;else{for(var ne,se,ce,ue=re,he=ie.length-1,pe=!0;pe&&(ne=ie[ue],!((se=ie[ue+1]).t-this.offsetTime>U));)ue<he-1?ue+=1:pe=!1;if(ce=this.keyframesMetadata[ue]||{},re=ue,!(Y=ne.h===1)){if(U>=se.t-this.offsetTime)ee=1;else if(U<ne.t-this.offsetTime)ee=0;else{var oe;ce.__fnct?oe=ce.__fnct:(oe=BezierFactory.getBezierEasing(ne.o.x,ne.o.y,ne.i.x,ne.i.y).get,ce.__fnct=oe),ee=oe((U-(ne.t-this.offsetTime))/(se.t-this.offsetTime-(ne.t-this.offsetTime)))}K=se.s?se.s[0]:ne.e[0]}q=ne.s[0]}for(Q=W._length,Z=q.i[0].length,G.lastIndex=re,X=0;X<Q;X+=1)for(J=0;J<Z;J+=1)te=Y?q.i[X][J]:q.i[X][J]+(K.i[X][J]-q.i[X][J])*ee,W.i[X][J]=te,te=Y?q.o[X][J]:q.o[X][J]+(K.o[X][J]-q.o[X][J])*ee,W.o[X][J]=te,te=Y?q.v[X][J]:q.v[X][J]+(K.v[X][J]-q.v[X][J])*ee,W.v[X][J]=te}function t(){var U=this.comp.renderedFrame-this.offsetTime,W=this.keyframes[0].t-this.offsetTime,G=this.keyframes[this.keyframes.length-1].t-this.offsetTime,q=this._caching.lastFrame;return q!==r&&(q<W&&U<W||q>G&&U>G)||(this._caching.lastIndex=q<U?this._caching.lastIndex:0,this.interpolateShape(U,this.pv,this._caching)),this._caching.lastFrame=U,this.pv}function o(){this.paths=this.localShapeCollection}function l(U){(function(W,G){if(W._length!==G._length||W.c!==G.c)return!1;var q,K=W._length;for(q=0;q<K;q+=1)if(W.v[q][0]!==G.v[q][0]||W.v[q][1]!==G.v[q][1]||W.o[q][0]!==G.o[q][0]||W.o[q][1]!==G.o[q][1]||W.i[q][0]!==G.i[q][0]||W.i[q][1]!==G.i[q][1])return!1;return!0})(this.v,U)||(this.v=shapePool.clone(U),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function h(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var U,W;this.lock=!0,this._mdf=!1,U=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var G=this.effectsSequence.length;for(W=0;W<G;W+=1)U=this.effectsSequence[W](U);this.setVValue(U),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function y(U,W,G){this.propType="shape",this.comp=U.comp,this.container=U,this.elem=U,this.data=W,this.k=!1,this.kf=!1,this._mdf=!1;var q=G===3?W.pt.k:W.ks.k;this.v=shapePool.clone(q),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=o,this.effectsSequence=[]}function O(U){this.effectsSequence.push(U),this.container.addDynamicProperty(this)}function D(U,W,G){this.propType="shape",this.comp=U.comp,this.elem=U,this.container=U,this.offsetTime=U.data.st,this.keyframes=G===3?W.pt.k:W.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var q=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,q),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=r,this.reset=o,this._caching={lastFrame:r,lastIndex:0},this.effectsSequence=[t.bind(this)]}y.prototype.interpolateShape=e,y.prototype.getValue=h,y.prototype.setVValue=l,y.prototype.addEffect=O,D.prototype.getValue=h,D.prototype.interpolateShape=e,D.prototype.setVValue=l,D.prototype.addEffect=O;var R=function(){var U=roundCorner;function W(G,q){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=q.d,this.elem=G,this.comp=G.comp,this.frameId=-1,this.initDynamicPropertyContainer(G),this.p=PropertyFactory.getProp(G,q.p,1,0,this),this.s=PropertyFactory.getProp(G,q.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return W.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var G=this.p.v[0],q=this.p.v[1],K=this.s.v[0]/2,Y=this.s.v[1]/2,X=this.d!==3,J=this.v;J.v[0][0]=G,J.v[0][1]=q-Y,J.v[1][0]=X?G+K:G-K,J.v[1][1]=q,J.v[2][0]=G,J.v[2][1]=q+Y,J.v[3][0]=X?G-K:G+K,J.v[3][1]=q,J.i[0][0]=X?G-K*U:G+K*U,J.i[0][1]=q-Y,J.i[1][0]=X?G+K:G-K,J.i[1][1]=q-Y*U,J.i[2][0]=X?G+K*U:G-K*U,J.i[2][1]=q+Y,J.i[3][0]=X?G-K:G+K,J.i[3][1]=q+Y*U,J.o[0][0]=X?G+K*U:G-K*U,J.o[0][1]=q-Y,J.o[1][0]=X?G+K:G-K,J.o[1][1]=q+Y*U,J.o[2][0]=X?G-K*U:G+K*U,J.o[2][1]=q+Y,J.o[3][0]=X?G-K:G+K,J.o[3][1]=q-Y*U}},extendPrototype([DynamicPropertyContainer],W),W}(),F=function(){function U(W,G){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=W,this.comp=W.comp,this.data=G,this.frameId=-1,this.d=G.d,this.initDynamicPropertyContainer(W),G.sy===1?(this.ir=PropertyFactory.getProp(W,G.ir,0,0,this),this.is=PropertyFactory.getProp(W,G.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(W,G.pt,0,0,this),this.p=PropertyFactory.getProp(W,G.p,1,0,this),this.r=PropertyFactory.getProp(W,G.r,0,degToRads,this),this.or=PropertyFactory.getProp(W,G.or,0,0,this),this.os=PropertyFactory.getProp(W,G.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return U.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var W,G,q,K,Y=2*Math.floor(this.pt.v),X=2*Math.PI/Y,J=!0,Q=this.or.v,Z=this.ir.v,ee=this.os.v,te=this.is.v,re=2*Math.PI*Q/(2*Y),ie=2*Math.PI*Z/(2*Y),ne=-Math.PI/2;ne+=this.r.v;var se=this.data.d===3?-1:1;for(this.v._length=0,W=0;W<Y;W+=1){q=J?ee:te,K=J?re:ie;var ce=(G=J?Q:Z)*Math.cos(ne),ue=G*Math.sin(ne),he=ce===0&&ue===0?0:ue/Math.sqrt(ce*ce+ue*ue),pe=ce===0&&ue===0?0:-ce/Math.sqrt(ce*ce+ue*ue);ce+=+this.p.v[0],ue+=+this.p.v[1],this.v.setTripleAt(ce,ue,ce-he*K*q*se,ue-pe*K*q*se,ce+he*K*q*se,ue+pe*K*q*se,W,!0),J=!J,ne+=X*se}},convertPolygonToPath:function(){var W,G=Math.floor(this.pt.v),q=2*Math.PI/G,K=this.or.v,Y=this.os.v,X=2*Math.PI*K/(4*G),J=.5*-Math.PI,Q=this.data.d===3?-1:1;for(J+=this.r.v,this.v._length=0,W=0;W<G;W+=1){var Z=K*Math.cos(J),ee=K*Math.sin(J),te=Z===0&&ee===0?0:ee/Math.sqrt(Z*Z+ee*ee),re=Z===0&&ee===0?0:-Z/Math.sqrt(Z*Z+ee*ee);Z+=+this.p.v[0],ee+=+this.p.v[1],this.v.setTripleAt(Z,ee,Z-te*X*Y*Q,ee-re*X*Y*Q,Z+te*X*Y*Q,ee+re*X*Y*Q,W,!0),J+=q*Q}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],U),U}(),B=function(){function U(W,G){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=W,this.comp=W.comp,this.frameId=-1,this.d=G.d,this.initDynamicPropertyContainer(W),this.p=PropertyFactory.getProp(W,G.p,1,0,this),this.s=PropertyFactory.getProp(W,G.s,1,0,this),this.r=PropertyFactory.getProp(W,G.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return U.prototype={convertRectToPath:function(){var W=this.p.v[0],G=this.p.v[1],q=this.s.v[0]/2,K=this.s.v[1]/2,Y=bmMin(q,K,this.r.v),X=Y*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(W+q,G-K+Y,W+q,G-K+Y,W+q,G-K+X,0,!0),this.v.setTripleAt(W+q,G+K-Y,W+q,G+K-X,W+q,G+K-Y,1,!0),Y!==0?(this.v.setTripleAt(W+q-Y,G+K,W+q-Y,G+K,W+q-X,G+K,2,!0),this.v.setTripleAt(W-q+Y,G+K,W-q+X,G+K,W-q+Y,G+K,3,!0),this.v.setTripleAt(W-q,G+K-Y,W-q,G+K-Y,W-q,G+K-X,4,!0),this.v.setTripleAt(W-q,G-K+Y,W-q,G-K+X,W-q,G-K+Y,5,!0),this.v.setTripleAt(W-q+Y,G-K,W-q+Y,G-K,W-q+X,G-K,6,!0),this.v.setTripleAt(W+q-Y,G-K,W+q-X,G-K,W+q-Y,G-K,7,!0)):(this.v.setTripleAt(W-q,G+K,W-q+X,G+K,W-q,G+K,2),this.v.setTripleAt(W-q,G-K,W-q,G-K+X,W-q,G-K,3))):(this.v.setTripleAt(W+q,G-K+Y,W+q,G-K+X,W+q,G-K+Y,0,!0),Y!==0?(this.v.setTripleAt(W+q-Y,G-K,W+q-Y,G-K,W+q-X,G-K,1,!0),this.v.setTripleAt(W-q+Y,G-K,W-q+X,G-K,W-q+Y,G-K,2,!0),this.v.setTripleAt(W-q,G-K+Y,W-q,G-K+Y,W-q,G-K+X,3,!0),this.v.setTripleAt(W-q,G+K-Y,W-q,G+K-X,W-q,G+K-Y,4,!0),this.v.setTripleAt(W-q+Y,G+K,W-q+Y,G+K,W-q+X,G+K,5,!0),this.v.setTripleAt(W+q-Y,G+K,W+q-X,G+K,W+q-Y,G+K,6,!0),this.v.setTripleAt(W+q,G+K-Y,W+q,G+K-Y,W+q,G+K-X,7,!0)):(this.v.setTripleAt(W-q,G-K,W-q+X,G-K,W-q,G-K,1,!0),this.v.setTripleAt(W-q,G+K,W-q,G+K-X,W-q,G+K,2,!0),this.v.setTripleAt(W+q,G+K,W+q-X,G+K,W+q,G+K,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:o},extendPrototype([DynamicPropertyContainer],U),U}(),j={getShapeProp:function(U,W,G){var q;return G===3||G===4?q=(G===3?W.pt:W.ks).k.length?new D(U,W,G):new y(U,W,G):G===5?q=new B(U,W):G===6?q=new R(U,W):G===7&&(q=new F(U,W)),q.k&&U.addDynamicProperty(q),q},getConstructorFunction:function(){return y},getKeyframedConstructorFunction:function(){return D}};return j}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(r,e){modifiers[r]||(modifiers[r]=e)},ob.getModifier=function(r,e,t){return new modifiers[r](e,t)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(r,e,t,o){var l;this.elem=r,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=t,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var h,y=e.length||0;for(l=0;l<y;l+=1)h=PropertyFactory.getProp(r,e[l].v,0,0,this),this.k=h.k||this.k,this.dataProps[l]={n:e[l].n,p:h};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(r,e,t){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var o=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(t),this.prop=PropertyFactory.getProp(r,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(r){if(!this.closed){r.sh.container.addDynamicProperty(r.sh);var e={shape:r.sh,data:r,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&r.setAsAnimated()}},ShapeModifier.prototype.init=function(r,e){this.shapes=[],this.elem=r,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(r,e){this.s=PropertyFactory.getProp(r,e.s,0,.01,this),this.e=PropertyFactory.getProp(r,e.e,0,.01,this),this.o=PropertyFactory.getProp(r,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(r){r.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(r,e,t,o,l){var h=[];e<=1?h.push({s:r,e}):r>=1?h.push({s:r-1,e:e-1}):(h.push({s:r,e:1}),h.push({s:0,e:e-1}));var y,O,D=[],R=h.length;for(y=0;y<R;y+=1){var F,B;(O=h[y]).e*l<o||O.s*l>o+t||(F=O.s*l<=o?0:(O.s*l-o)/t,B=O.e*l>=o+t?1:(O.e*l-o)/t,D.push([F,B]))}return D.length||D.push([0,0]),D},TrimModifier.prototype.releasePathsData=function(r){var e,t=r.length;for(e=0;e<t;e+=1)segmentsLengthPool.release(r[e]);return r.length=0,r},TrimModifier.prototype.processShapes=function(r){var e,t,o,l;if(this._mdf||r){var h=this.o.v%360/360;if(h<0&&(h+=1),(e=this.s.v>1?1+h:this.s.v<0?0+h:this.s.v+h)>(t=this.e.v>1?1+h:this.e.v<0?0+h:this.e.v+h)){var y=e;e=t,t=y}e=1e-4*Math.round(1e4*e),t=1e-4*Math.round(1e4*t),this.sValue=e,this.eValue=t}else e=this.sValue,t=this.eValue;var O,D,R,F,B,j=this.shapes.length,U=0;if(t===e)for(l=0;l<j;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(t===1&&e===0||t===0&&e===1){if(this._mdf)for(l=0;l<j;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var W,G,q=[];for(l=0;l<j;l+=1)if((W=this.shapes[l]).shape._mdf||this._mdf||r||this.m===2){if(D=(o=W.shape.paths)._length,B=0,!W.shape._mdf&&W.pathsData.length)B=W.totalShapeLength;else{for(R=this.releasePathsData(W.pathsData),O=0;O<D;O+=1)F=bez.getSegmentsLength(o.shapes[O]),R.push(F),B+=F.totalLength;W.totalShapeLength=B,W.pathsData=R}U+=B,W.shape._mdf=!0}else W.shape.paths=W.localShapeCollection;var K,Y=e,X=t,J=0;for(l=j-1;l>=0;l-=1)if((W=this.shapes[l]).shape._mdf){for((G=W.localShapeCollection).releaseShapes(),this.m===2&&j>1?(K=this.calculateShapeEdges(e,t,W.totalShapeLength,J,U),J+=W.totalShapeLength):K=[[Y,X]],D=K.length,O=0;O<D;O+=1){Y=K[O][0],X=K[O][1],q.length=0,X<=1?q.push({s:W.totalShapeLength*Y,e:W.totalShapeLength*X}):Y>=1?q.push({s:W.totalShapeLength*(Y-1),e:W.totalShapeLength*(X-1)}):(q.push({s:W.totalShapeLength*Y,e:W.totalShapeLength}),q.push({s:0,e:W.totalShapeLength*(X-1)}));var Q=this.addShapes(W,q[0]);if(q[0].s!==q[0].e){if(q.length>1)if(W.shape.paths.shapes[W.shape.paths._length-1].c){var Z=Q.pop();this.addPaths(Q,G),Q=this.addShapes(W,q[1],Z)}else this.addPaths(Q,G),Q=this.addShapes(W,q[1]);this.addPaths(Q,G)}}W.shape.paths=G}}},TrimModifier.prototype.addPaths=function(r,e){var t,o=r.length;for(t=0;t<o;t+=1)e.addShape(r[t])},TrimModifier.prototype.addSegment=function(r,e,t,o,l,h,y){l.setXYAt(e[0],e[1],"o",h),l.setXYAt(t[0],t[1],"i",h+1),y&&l.setXYAt(r[0],r[1],"v",h),l.setXYAt(o[0],o[1],"v",h+1)},TrimModifier.prototype.addSegmentFromArray=function(r,e,t,o){e.setXYAt(r[1],r[5],"o",t),e.setXYAt(r[2],r[6],"i",t+1),o&&e.setXYAt(r[0],r[4],"v",t),e.setXYAt(r[3],r[7],"v",t+1)},TrimModifier.prototype.addShapes=function(r,e,t){var o,l,h,y,O,D,R,F,B=r.pathsData,j=r.shape.paths.shapes,U=r.shape.paths._length,W=0,G=[],q=!0;for(t?(O=t._length,F=t._length):(t=shapePool.newElement(),O=0,F=0),G.push(t),o=0;o<U;o+=1){for(D=B[o].lengths,t.c=j[o].c,h=j[o].c?D.length:D.length+1,l=1;l<h;l+=1)if(W+(y=D[l-1]).addedLength<e.s)W+=y.addedLength,t.c=!1;else{if(W>e.e){t.c=!1;break}e.s<=W&&e.e>=W+y.addedLength?(this.addSegment(j[o].v[l-1],j[o].o[l-1],j[o].i[l],j[o].v[l],t,O,q),q=!1):(R=bez.getNewSegment(j[o].v[l-1],j[o].v[l],j[o].o[l-1],j[o].i[l],(e.s-W)/y.addedLength,(e.e-W)/y.addedLength,D[l-1]),this.addSegmentFromArray(R,t,O,q),q=!1,t.c=!1),W+=y.addedLength,O+=1}if(j[o].c&&D.length){if(y=D[l-1],W<=e.e){var K=D[l-1].addedLength;e.s<=W&&e.e>=W+K?(this.addSegment(j[o].v[l-1],j[o].o[l-1],j[o].i[0],j[o].v[0],t,O,q),q=!1):(R=bez.getNewSegment(j[o].v[l-1],j[o].v[0],j[o].o[l-1],j[o].i[0],(e.s-W)/K,(e.e-W)/K,D[l-1]),this.addSegmentFromArray(R,t,O,q),q=!1,t.c=!1)}else t.c=!1;W+=y.addedLength,O+=1}if(t._length&&(t.setXYAt(t.v[F][0],t.v[F][1],"i",F),t.setXYAt(t.v[t._length-1][0],t.v[t._length-1][1],"o",t._length-1)),W>e.e)break;o<U-1&&(t=shapePool.newElement(),q=!0,G.push(t),O=0)}return G},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(r,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(r,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(r,e){var t,o=shapePool.newElement();o.c=r.c;var l,h,y,O,D,R,F,B,j,U,W,G,q=r._length,K=0;for(t=0;t<q;t+=1)l=r.v[t],y=r.o[t],h=r.i[t],l[0]===y[0]&&l[1]===y[1]&&l[0]===h[0]&&l[1]===h[1]?t!==0&&t!==q-1||r.c?(O=t===0?r.v[q-1]:r.v[t-1],R=(D=Math.sqrt(Math.pow(l[0]-O[0],2)+Math.pow(l[1]-O[1],2)))?Math.min(D/2,e)/D:0,F=W=l[0]+(O[0]-l[0])*R,B=G=l[1]-(l[1]-O[1])*R,j=F-(F-l[0])*roundCorner,U=B-(B-l[1])*roundCorner,o.setTripleAt(F,B,j,U,W,G,K),K+=1,O=t===q-1?r.v[0]:r.v[t+1],R=(D=Math.sqrt(Math.pow(l[0]-O[0],2)+Math.pow(l[1]-O[1],2)))?Math.min(D/2,e)/D:0,F=j=l[0]+(O[0]-l[0])*R,B=U=l[1]+(O[1]-l[1])*R,W=F-(F-l[0])*roundCorner,G=B-(B-l[1])*roundCorner,o.setTripleAt(F,B,j,U,W,G,K),K+=1):(o.setTripleAt(l[0],l[1],y[0],y[1],h[0],h[1],K),K+=1):(o.setTripleAt(r.v[t][0],r.v[t][1],r.o[t][0],r.o[t][1],r.i[t][0],r.i[t][1],K),K+=1);return o},RoundCornersModifier.prototype.processShapes=function(r){var e,t,o,l,h,y,O=this.shapes.length,D=this.rd.v;if(D!==0)for(t=0;t<O;t+=1){if(y=(h=this.shapes[t]).localShapeCollection,h.shape._mdf||this._mdf||r)for(y.releaseShapes(),h.shape._mdf=!0,e=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(e[o],D));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(r,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(r,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(r,e){var t=e/100,o=[0,0],l=r._length,h=0;for(h=0;h<l;h+=1)o[0]+=r.v[h][0],o[1]+=r.v[h][1];o[0]/=l,o[1]/=l;var y,O,D,R,F,B,j=shapePool.newElement();for(j.c=r.c,h=0;h<l;h+=1)y=r.v[h][0]+(o[0]-r.v[h][0])*t,O=r.v[h][1]+(o[1]-r.v[h][1])*t,D=r.o[h][0]+(o[0]-r.o[h][0])*-t,R=r.o[h][1]+(o[1]-r.o[h][1])*-t,F=r.i[h][0]+(o[0]-r.i[h][0])*-t,B=r.i[h][1]+(o[1]-r.i[h][1])*-t,j.setTripleAt(y,O,D,R,F,B,h);return j},PuckerAndBloatModifier.prototype.processShapes=function(r){var e,t,o,l,h,y,O=this.shapes.length,D=this.amount.v;if(D!==0)for(t=0;t<O;t+=1){if(y=(h=this.shapes[t]).localShapeCollection,h.shape._mdf||this._mdf||r)for(y.releaseShapes(),h.shape._mdf=!0,e=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(e[o],D));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(r,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(r,e.c,0,null,this),this.o=PropertyFactory.getProp(r,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(r,e.tr,this),this.so=PropertyFactory.getProp(r,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(r,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(r,e,t,o,l,h){var y=h?-1:1,O=o.s.v[0]+(1-o.s.v[0])*(1-l),D=o.s.v[1]+(1-o.s.v[1])*(1-l);r.translate(o.p.v[0]*y*l,o.p.v[1]*y*l,o.p.v[2]),e.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),e.rotate(-o.r.v*y*l),e.translate(o.a.v[0],o.a.v[1],o.a.v[2]),t.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),t.scale(h?1/O:O,h?1/D:D),t.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(r,e,t,o){for(this.elem=r,this.arr=e,this.pos=t,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,e[t]);t>0;)t-=1,this._elements.unshift(e[t]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(r){var e,t=r.length;for(e=0;e<t;e+=1)r[e]._processed=!1,r[e].ty==="gr"&&this.resetElements(r[e].it)},RepeaterModifier.prototype.cloneElements=function(r){var e=JSON.parse(JSON.stringify(r));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(r,e){var t,o=r.length;for(t=0;t<o;t+=1)r[t]._render=e,r[t].ty==="gr"&&this.changeGroupRender(r[t].it,e)},RepeaterModifier.prototype.processShapes=function(r){var e,t,o,l,h,y=!1;if(this._mdf||r){var O,D=Math.ceil(this.c.v);if(this._groups.length<D){for(;this._groups.length<D;){var R={it:this.cloneElements(this._elements),ty:"gr"};R.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,R),this._groups.splice(0,0,R),this._currentCopies+=1}this.elem.reloadShapes(),y=!0}for(h=0,o=0;o<=this._groups.length-1;o+=1){if(O=h<D,this._groups[o]._render=O,this.changeGroupRender(this._groups[o].it,O),!O){var F=this.elemsData[o].it,B=F[F.length-1];B.transform.op.v!==0?(B.transform.op._mdf=!0,B.transform.op.v=0):B.transform.op._mdf=!1}h+=1}this._currentCopies=D;var j=this.o.v,U=j%1,W=j>0?Math.floor(j):Math.ceil(j),G=this.pMatrix.props,q=this.rMatrix.props,K=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Y,X,J=0;if(j>0){for(;J<W;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),J+=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,U,!1),J+=U)}else if(j<0){for(;J>W;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),J-=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-U,!0),J-=U)}for(o=this.data.m===1?0:this._currentCopies-1,l=this.data.m===1?1:-1,h=this._currentCopies;h;){if(X=(t=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),J!==0){for((o!==0&&l===1||o!==this._currentCopies-1&&l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12],q[13],q[14],q[15]),this.matrix.transform(K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8],K[9],K[10],K[11],K[12],K[13],K[14],K[15]),this.matrix.transform(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],G[8],G[9],G[10],G[11],G[12],G[13],G[14],G[15]),Y=0;Y<X;Y+=1)t[Y]=this.matrix.props[Y];this.matrix.reset()}else for(this.matrix.reset(),Y=0;Y<X;Y+=1)t[Y]=this.matrix.props[Y];J+=1,h-=1,o+=l}}else for(h=this._currentCopies,o=0,l=1;h;)t=(e=this.elemsData[o].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,h-=1,o+=l;return y},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(r){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=r,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var r;for(r=0;r<this._length;r+=1)shapePool.release(this.shapes[r]);this._length=0},DashProperty.prototype.getValue=function(r){if((this.elem.globalData.frameId!==this.frameId||r)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||r,this._mdf)){var e=0,t=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<t;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(r,e){for(var t=0,o=this.o.length/2;t<o;){if(Math.abs(r[4*t]-r[4*e+2*t])>.01)return!1;t+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var r=0,e=this.data.k.k.length;r<e;){if(!this.comparePoints(this.data.k.k[r].s,this.data.p))return!1;r+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(r){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||r){var e,t,o,l=4*this.data.p;for(e=0;e<l;e+=1)t=e%4==0?100:255,o=Math.round(this.prop.v[e]*t),this.c[e]!==o&&(this.c[e]=o,this._cmdf=!r);if(this.o.length)for(l=this.prop.v.length,e=4*this.data.p;e<l;e+=1)t=e%2==0?100:1,o=e%2==0?Math.round(100*this.prop.v[e]):this.prop.v[e],this.o[e-4*this.data.p]!==o&&(this.o[e-4*this.data.p]=o,this._omdf=!r);this._mdf=!r}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(r,e,t,o){if(e===0)return"";var l,h=r.o,y=r.i,O=r.v,D=" M"+o.applyToPointStringified(O[0][0],O[0][1]);for(l=1;l<e;l+=1)D+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[l][0],y[l][1])+" "+o.applyToPointStringified(O[l][0],O[l][1]);return t&&e&&(D+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[0][0],y[0][1])+" "+o.applyToPointStringified(O[0][0],O[0][1]),D+="z"),D},audioControllerFactory=function(){function r(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return r.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,o=this.audios.length;for(t=0;t<o;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):Howl?new Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new r}}(),ImagePreloader=function(){var r=function(){var O=createTag("canvas");O.width=1,O.height=1;var D=O.getContext("2d");return D.fillStyle="rgba(0,0,0,0)",D.fillRect(0,0,1,1),O}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function t(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(O,D,R){var F="";if(O.e)F=O.p;else if(D){var B=O.p;B.indexOf("images/")!==-1&&(B=B.split("/")[1]),F=D+B}else F=R,F+=O.u?O.u:"",F+=O.p;return F}function l(O){var D=0,R=setInterval(function(){(O.getBBox().width||D>500)&&(this._imageLoaded(),clearInterval(R)),D+=1}.bind(this),50)}function h(O){var D={assetData:O},R=o(O,this.assetsPath,this.path);return dataManager.loadData(R,function(F){D.img=F,this._footageLoaded()}.bind(this),function(){D.img={},this._footageLoaded()}.bind(this)),D}function y(){this._imageLoaded=e.bind(this),this._footageLoaded=t.bind(this),this.testImageLoaded=l.bind(this),this.createFootageData=h.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return y.prototype={loadAssets:function(O,D){var R;this.imagesLoadedCb=D;var F=O.length;for(R=0;R<F;R+=1)O[R].layers||(O[R].t&&O[R].t!=="seq"?O[R].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(O[R]))):(this.totalImages+=1,this.images.push(this._createImageData(O[R]))))},setAssetsPath:function(O){this.assetsPath=O||""},setPath:function(O){this.path=O||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(O){for(var D=0,R=this.images.length;D<R;){if(this.images[D].assetData===O)return this.images[D].img;D+=1}return null},createImgData:function(O){var D=o(O,this.assetsPath,this.path),R=createTag("img");R.crossOrigin="anonymous",R.addEventListener("load",this._imageLoaded,!1),R.addEventListener("error",function(){F.img=r,this._imageLoaded()}.bind(this),!1),R.src=D;var F={img:R,assetData:O};return F},createImageData:function(O){var D=o(O,this.assetsPath,this.path),R=createNS("image");isSafari?this.testImageLoaded(R):R.addEventListener("load",this._imageLoaded,!1),R.addEventListener("error",function(){F.img=r,this._imageLoaded()}.bind(this),!1),R.setAttributeNS("http://www.w3.org/1999/xlink","href",D),this._elementHelper.append?this._elementHelper.append(R):this._elementHelper.appendChild(R);var F={img:R,assetData:O};return F},imageLoaded:e,footageLoaded:t,setCacheType:function(O,D){O==="svg"?(this._elementHelper=D,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},y}(),featureSupport=function(){var r={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(r.maskType=!1),r}(),filtersFactory=function(){var r={createFilter:function(e,t){var o=createNS("filter");return o.setAttribute("id",e),t!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return r}();function TextAnimatorProperty(r,e,t){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=r,this._renderType=e,this._elem=t,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(t)}function TextAnimatorDataProperty(r,e,t){var o={propType:!1},l=PropertyFactory.getProp,h=e.a;this.a={r:h.r?l(r,h.r,0,degToRads,t):o,rx:h.rx?l(r,h.rx,0,degToRads,t):o,ry:h.ry?l(r,h.ry,0,degToRads,t):o,sk:h.sk?l(r,h.sk,0,degToRads,t):o,sa:h.sa?l(r,h.sa,0,degToRads,t):o,s:h.s?l(r,h.s,1,.01,t):o,a:h.a?l(r,h.a,1,0,t):o,o:h.o?l(r,h.o,0,.01,t):o,p:h.p?l(r,h.p,1,0,t):o,sw:h.sw?l(r,h.sw,0,0,t):o,sc:h.sc?l(r,h.sc,1,0,t):o,fc:h.fc?l(r,h.fc,1,0,t):o,fh:h.fh?l(r,h.fh,0,0,t):o,fs:h.fs?l(r,h.fs,0,.01,t):o,fb:h.fb?l(r,h.fb,0,.01,t):o,t:h.t?l(r,h.t,0,0,t):o},this.s=TextSelectorProp.getTextSelectorProp(r,e.s,t),this.s.t=e.s.t}function LetterProps(r,e,t,o,l,h){this.o=r,this.sw=e,this.sc=t,this.fc=o,this.m=l,this.p=h,this._mdf={o:!0,sw:!!e,sc:!!t,fc:!!o,m:!0,p:!0}}function TextProperty(r,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=r,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var r,e,t=this._textData.a.length,o=PropertyFactory.getProp;for(r=0;r<t;r+=1)e=this._textData.a[r],this._animatorsData[r]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(r,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q=this._moreOptions.alignment.v,Z=this._animatorsData,ee=this._textData,te=this.mHelper,re=this._renderType,ie=this.renderedLetters.length,ne=r.l;if(this._hasMaskedPath){if(J=this._pathData.m,!this._pathData.n||this._pathData._mdf){var se,ce=J.v;for(this._pathData.r.v&&(ce=ce.reverse()),y={tLength:0,segments:[]},h=ce._length-1,K=0,l=0;l<h;l+=1)se=bez.buildBezierData(ce.v[l],ce.v[l+1],[ce.o[l][0]-ce.v[l][0],ce.o[l][1]-ce.v[l][1]],[ce.i[l+1][0]-ce.v[l+1][0],ce.i[l+1][1]-ce.v[l+1][1]]),y.tLength+=se.segmentLength,y.segments.push(se),K+=se.segmentLength;l=h,J.v.c&&(se=bez.buildBezierData(ce.v[l],ce.v[0],[ce.o[l][0]-ce.v[l][0],ce.o[l][1]-ce.v[l][1]],[ce.i[0][0]-ce.v[0][0],ce.i[0][1]-ce.v[0][1]]),y.tLength+=se.segmentLength,y.segments.push(se),K+=se.segmentLength),this._pathData.pi=y}if(y=this._pathData.pi,O=this._pathData.f.v,j=0,B=1,R=0,F=!0,G=y.segments,O<0&&J.v.c)for(y.tLength<Math.abs(O)&&(O=-Math.abs(O)%y.tLength),B=(W=G[j=G.length-1].points).length-1;O<0;)O+=W[B].partialLength,(B-=1)<0&&(B=(W=G[j-=1].points).length-1);U=(W=G[j].points)[B-1],q=(D=W[B]).partialLength}h=ne.length,t=0,o=0;var ue,he,pe,oe,ae,le=1.2*r.finalSize*.714,me=!0;pe=Z.length;var ge,fe,_e,we,ve,Se,$e,be,ye,Oe,Te,ke,Ee=-1,Ie=O,xe=j,Me=B,Ae=-1,Re="",Ce=this.defaultPropsArray;if(r.j===2||r.j===1){var Ne=0,Be=0,Ve=r.j===2?-.5:-1,Le=0,ze=!0;for(l=0;l<h;l+=1)if(ne[l].n){for(Ne&&(Ne+=Be);Le<l;)ne[Le].animatorJustifyOffset=Ne,Le+=1;Ne=0,ze=!0}else{for(he=0;he<pe;he+=1)(ue=Z[he].a).t.propType&&(ze&&r.j===2&&(Be+=ue.t.v*Ve),(ae=Z[he].s.getMult(ne[l].anIndexes[he],ee.a[he].s.totalChars)).length?Ne+=ue.t.v*ae[0]*Ve:Ne+=ue.t.v*ae*Ve);ze=!1}for(Ne&&(Ne+=Be);Le<l;)ne[Le].animatorJustifyOffset=Ne,Le+=1}for(l=0;l<h;l+=1){if(te.reset(),we=1,ne[l].n)t=0,o+=r.yOffset,o+=me?1:0,O=Ie,me=!1,this._hasMaskedPath&&(B=Me,U=(W=G[j=xe].points)[B-1],q=(D=W[B]).partialLength,R=0),Re="",Te="",ye="",ke="",Ce=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Ae!==ne[l].line){switch(r.j){case 1:O+=K-r.lineWidths[ne[l].line];break;case 2:O+=(K-r.lineWidths[ne[l].line])/2}Ae=ne[l].line}Ee!==ne[l].ind&&(ne[Ee]&&(O+=ne[Ee].extra),O+=ne[l].an/2,Ee=ne[l].ind),O+=Q[0]*ne[l].an*.005;var He=0;for(he=0;he<pe;he+=1)(ue=Z[he].a).p.propType&&((ae=Z[he].s.getMult(ne[l].anIndexes[he],ee.a[he].s.totalChars)).length?He+=ue.p.v[0]*ae[0]:He+=ue.p.v[0]*ae),ue.a.propType&&((ae=Z[he].s.getMult(ne[l].anIndexes[he],ee.a[he].s.totalChars)).length?He+=ue.a.v[0]*ae[0]:He+=ue.a.v[0]*ae);for(F=!0,this._pathData.a.v&&(O=.5*ne[0].an+(K-this._pathData.f.v-.5*ne[0].an-.5*ne[ne.length-1].an)*Ee/(h-1),O+=this._pathData.f.v);F;)R+q>=O+He||!W?(Y=(O+He-R)/D.partialLength,fe=U.point[0]+(D.point[0]-U.point[0])*Y,_e=U.point[1]+(D.point[1]-U.point[1])*Y,te.translate(-Q[0]*ne[l].an*.005,-Q[1]*le*.01),F=!1):W&&(R+=D.partialLength,(B+=1)>=W.length&&(B=0,G[j+=1]?W=G[j].points:J.v.c?(B=0,W=G[j=0].points):(R-=D.partialLength,W=null)),W&&(U=D,q=(D=W[B]).partialLength));ge=ne[l].an/2-ne[l].add,te.translate(-ge,0,0)}else ge=ne[l].an/2-ne[l].add,te.translate(-ge,0,0),te.translate(-Q[0]*ne[l].an*.005,-Q[1]*le*.01,0);for(he=0;he<pe;he+=1)(ue=Z[he].a).t.propType&&(ae=Z[he].s.getMult(ne[l].anIndexes[he],ee.a[he].s.totalChars),t===0&&r.j===0||(this._hasMaskedPath?ae.length?O+=ue.t.v*ae[0]:O+=ue.t.v*ae:ae.length?t+=ue.t.v*ae[0]:t+=ue.t.v*ae));for(r.strokeWidthAnim&&(Se=r.sw||0),r.strokeColorAnim&&(ve=r.sc?[r.sc[0],r.sc[1],r.sc[2]]:[0,0,0]),r.fillColorAnim&&r.fc&&($e=[r.fc[0],r.fc[1],r.fc[2]]),he=0;he<pe;he+=1)(ue=Z[he].a).a.propType&&((ae=Z[he].s.getMult(ne[l].anIndexes[he],ee.a[he].s.totalChars)).length?te.translate(-ue.a.v[0]*ae[0],-ue.a.v[1]*ae[1],ue.a.v[2]*ae[2]):te.translate(-ue.a.v[0]*ae,-ue.a.v[1]*ae,ue.a.v[2]*ae));for(he=0;he<pe;he+=1)(ue=Z[he].a).s.propType&&((ae=Z[he].s.getMult(ne[l].anIndexes[he],ee.a[he].s.totalChars)).length?te.scale(1+(ue.s.v[0]-1)*ae[0],1+(ue.s.v[1]-1)*ae[1],1):te.scale(1+(ue.s.v[0]-1)*ae,1+(ue.s.v[1]-1)*ae,1));for(he=0;he<pe;he+=1){if(ue=Z[he].a,ae=Z[he].s.getMult(ne[l].anIndexes[he],ee.a[he].s.totalChars),ue.sk.propType&&(ae.length?te.skewFromAxis(-ue.sk.v*ae[0],ue.sa.v*ae[1]):te.skewFromAxis(-ue.sk.v*ae,ue.sa.v*ae)),ue.r.propType&&(ae.length?te.rotateZ(-ue.r.v*ae[2]):te.rotateZ(-ue.r.v*ae)),ue.ry.propType&&(ae.length?te.rotateY(ue.ry.v*ae[1]):te.rotateY(ue.ry.v*ae)),ue.rx.propType&&(ae.length?te.rotateX(ue.rx.v*ae[0]):te.rotateX(ue.rx.v*ae)),ue.o.propType&&(ae.length?we+=(ue.o.v*ae[0]-we)*ae[0]:we+=(ue.o.v*ae-we)*ae),r.strokeWidthAnim&&ue.sw.propType&&(ae.length?Se+=ue.sw.v*ae[0]:Se+=ue.sw.v*ae),r.strokeColorAnim&&ue.sc.propType)for(be=0;be<3;be+=1)ae.length?ve[be]+=(ue.sc.v[be]-ve[be])*ae[0]:ve[be]+=(ue.sc.v[be]-ve[be])*ae;if(r.fillColorAnim&&r.fc){if(ue.fc.propType)for(be=0;be<3;be+=1)ae.length?$e[be]+=(ue.fc.v[be]-$e[be])*ae[0]:$e[be]+=(ue.fc.v[be]-$e[be])*ae;ue.fh.propType&&($e=ae.length?addHueToRGB($e,ue.fh.v*ae[0]):addHueToRGB($e,ue.fh.v*ae)),ue.fs.propType&&($e=ae.length?addSaturationToRGB($e,ue.fs.v*ae[0]):addSaturationToRGB($e,ue.fs.v*ae)),ue.fb.propType&&($e=ae.length?addBrightnessToRGB($e,ue.fb.v*ae[0]):addBrightnessToRGB($e,ue.fb.v*ae))}}for(he=0;he<pe;he+=1)(ue=Z[he].a).p.propType&&(ae=Z[he].s.getMult(ne[l].anIndexes[he],ee.a[he].s.totalChars),this._hasMaskedPath?ae.length?te.translate(0,ue.p.v[1]*ae[0],-ue.p.v[2]*ae[1]):te.translate(0,ue.p.v[1]*ae,-ue.p.v[2]*ae):ae.length?te.translate(ue.p.v[0]*ae[0],ue.p.v[1]*ae[1],-ue.p.v[2]*ae[2]):te.translate(ue.p.v[0]*ae,ue.p.v[1]*ae,-ue.p.v[2]*ae));if(r.strokeWidthAnim&&(ye=Se<0?0:Se),r.strokeColorAnim&&(Oe="rgb("+Math.round(255*ve[0])+","+Math.round(255*ve[1])+","+Math.round(255*ve[2])+")"),r.fillColorAnim&&r.fc&&(Te="rgb("+Math.round(255*$e[0])+","+Math.round(255*$e[1])+","+Math.round(255*$e[2])+")"),this._hasMaskedPath){if(te.translate(0,-r.ls),te.translate(0,Q[1]*le*.01+o,0),this._pathData.p.v){X=(D.point[1]-U.point[1])/(D.point[0]-U.point[0]);var je=180*Math.atan(X)/Math.PI;D.point[0]<U.point[0]&&(je+=180),te.rotate(-je*Math.PI/180)}te.translate(fe,_e,0),O-=Q[0]*ne[l].an*.005,ne[l+1]&&Ee!==ne[l+1].ind&&(O+=ne[l].an/2,O+=.001*r.tr*r.finalSize)}else{switch(te.translate(t,o,0),r.ps&&te.translate(r.ps[0],r.ps[1]+r.ascent,0),r.j){case 1:te.translate(ne[l].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[ne[l].line]),0,0);break;case 2:te.translate(ne[l].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[ne[l].line])/2,0,0)}te.translate(0,-r.ls),te.translate(ge,0,0),te.translate(Q[0]*ne[l].an*.005,Q[1]*le*.01,0),t+=ne[l].l+.001*r.tr*r.finalSize}re==="html"?Re=te.toCSS():re==="svg"?Re=te.to2dCSS():Ce=[te.props[0],te.props[1],te.props[2],te.props[3],te.props[4],te.props[5],te.props[6],te.props[7],te.props[8],te.props[9],te.props[10],te.props[11],te.props[12],te.props[13],te.props[14],te.props[15]],ke=we}ie<=l?(oe=new LetterProps(ke,ye,Oe,Te,Re,Ce),this.renderedLetters.push(oe),ie+=1,this.lettersChangedFlag=!0):(oe=this.renderedLetters[l],this.lettersChangedFlag=oe.update(ke,ye,Oe,Te,Re,Ce)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(r,e,t,o,l,h){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var y=!1;return this.o!==r&&(this.o=r,this._mdf.o=!0,y=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,y=!0),this.sc!==t&&(this.sc=t,this._mdf.sc=!0,y=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,y=!0),this.m!==l&&(this.m=l,this._mdf.m=!0,y=!0),!h.length||this.p[0]===h[0]&&this.p[1]===h[1]&&this.p[4]===h[4]&&this.p[5]===h[5]&&this.p[12]===h[12]&&this.p[13]===h[13]||(this.p=h,this._mdf.p=!0,y=!0),y},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(r,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r},TextProperty.prototype.setCurrentData=function(r){r.__complete||this.completeTextData(r),this.currentData=r,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(r){this.effectsSequence.push(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(r){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||r){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,t=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var o;this.lock=!0,this._mdf=!1;var l=this.effectsSequence.length,h=r||this.data.d.k[this.keysIndex].s;for(o=0;o<l;o+=1)h=t!==this.keysIndex?this.effectsSequence[o](h,h.t):this.effectsSequence[o](this.currentData,h.t);e!==h&&this.setCurrentData(h),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var r=this.data.d.k,e=this.elem.comp.renderedFrame,t=0,o=r.length;t<=o-1&&!(t===o-1||r[t+1].t>e);)t+=1;return this.keysIndex!==t&&(this.keysIndex=t),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(r){for(var e,t,o=[],l=0,h=r.length,y=!1;l<h;)e=r.charCodeAt(l),FontManager.isCombinedCharacter(e)?o[o.length-1]+=r.charAt(l):e>=55296&&e<=56319?(t=r.charCodeAt(l+1))>=56320&&t<=57343?(y||FontManager.isModifier(e,t)?(o[o.length-1]+=r.substr(l,2),y=!1):o.push(r.substr(l,2)),l+=1):o.push(r.charAt(l)):e>56319?(t=r.charCodeAt(l+1),FontManager.isZeroWidthJoiner(e,t)?(y=!0,o[o.length-1]+=r.substr(l,2),l+=1):o.push(r.charAt(l))):FontManager.isZeroWidthJoiner(e)?(o[o.length-1]+=r.charAt(l),y=!0):o.push(r.charAt(l)),l+=1;return o},TextProperty.prototype.completeTextData=function(r){r.__complete=!0;var e,t,o,l,h,y,O,D=this.elem.globalData.fontManager,R=this.data,F=[],B=0,j=R.m.g,U=0,W=0,G=0,q=[],K=0,Y=0,X=D.getFontByName(r.f),J=0,Q=getFontProperties(X);r.fWeight=Q.weight,r.fStyle=Q.style,r.finalSize=r.s,r.finalText=this.buildFinalText(r.t),t=r.finalText.length,r.finalLineHeight=r.lh;var Z,ee=r.tr/1e3*r.finalSize;if(r.sz)for(var te,re,ie=!0,ne=r.sz[0],se=r.sz[1];ie;){te=0,K=0,t=(re=this.buildFinalText(r.t)).length,ee=r.tr/1e3*r.finalSize;var ce=-1;for(e=0;e<t;e+=1)Z=re[e].charCodeAt(0),o=!1,re[e]===" "?ce=e:Z!==13&&Z!==3||(K=0,o=!0,te+=r.finalLineHeight||1.2*r.finalSize),D.chars?(O=D.getCharData(re[e],X.fStyle,X.fFamily),J=o?0:O.w*r.finalSize/100):J=D.measureText(re[e],r.f,r.finalSize),K+J>ne&&re[e]!==" "?(ce===-1?t+=1:e=ce,te+=r.finalLineHeight||1.2*r.finalSize,re.splice(e,ce===e?1:0,"\r"),ce=-1,K=0):(K+=J,K+=ee);te+=X.ascent*r.finalSize/100,this.canResize&&r.finalSize>this.minimumFontSize&&se<te?(r.finalSize-=1,r.finalLineHeight=r.finalSize*r.lh/r.s):(r.finalText=re,t=r.finalText.length,ie=!1)}K=-ee,J=0;var ue,he=0;for(e=0;e<t;e+=1)if(o=!1,(Z=(ue=r.finalText[e]).charCodeAt(0))===13||Z===3?(he=0,q.push(K),Y=K>Y?K:Y,K=-2*ee,l="",o=!0,G+=1):l=ue,D.chars?(O=D.getCharData(ue,X.fStyle,D.getFontByName(r.f).fFamily),J=o?0:O.w*r.finalSize/100):J=D.measureText(l,r.f,r.finalSize),ue===" "?he+=J+ee:(K+=J+ee+he,he=0),F.push({l:J,an:J,add:U,n:o,anIndexes:[],val:l,line:G,animatorJustifyOffset:0}),j==2){if(U+=J,l===""||l===" "||e===t-1){for(l!==""&&l!==" "||(U-=J);W<=e;)F[W].an=U,F[W].ind=B,F[W].extra=J,W+=1;B+=1,U=0}}else if(j==3){if(U+=J,l===""||e===t-1){for(l===""&&(U-=J);W<=e;)F[W].an=U,F[W].ind=B,F[W].extra=J,W+=1;U=0,B+=1}}else F[B].ind=B,F[B].extra=0,B+=1;if(r.l=F,Y=K>Y?K:Y,q.push(K),r.sz)r.boxWidth=r.sz[0],r.justifyOffset=0;else switch(r.boxWidth=Y,r.j){case 1:r.justifyOffset=-r.boxWidth;break;case 2:r.justifyOffset=-r.boxWidth/2;break;default:r.justifyOffset=0}r.lineWidths=q;var pe,oe,ae,le,me=R.a;y=me.length;var ge=[];for(h=0;h<y;h+=1){for((pe=me[h]).a.sc&&(r.strokeColorAnim=!0),pe.a.sw&&(r.strokeWidthAnim=!0),(pe.a.fc||pe.a.fh||pe.a.fs||pe.a.fb)&&(r.fillColorAnim=!0),le=0,ae=pe.s.b,e=0;e<t;e+=1)(oe=F[e]).anIndexes[h]=le,(ae==1&&oe.val!==""||ae==2&&oe.val!==""&&oe.val!==" "||ae==3&&(oe.n||oe.val==" "||e==t-1)||ae==4&&(oe.n||e==t-1))&&(pe.s.rn===1&&ge.push(le),le+=1);R.a[h].s.totalChars=le;var fe,_e=-1;if(pe.s.rn===1)for(e=0;e<t;e+=1)_e!=(oe=F[e]).anIndexes[h]&&(_e=oe.anIndexes[h],fe=ge.splice(Math.floor(Math.random()*ge.length),1)[0]),oe.anIndexes[h]=fe}r.yOffset=r.finalLineHeight||1.2*r.finalSize,r.ls=r.ls||0,r.ascent=X.ascent*r.finalSize/100},TextProperty.prototype.updateDocumentData=function(r,e){e=e===void 0?this.keysIndex:e;var t=this.copyData({},this.data.d.k[e].s);t=this.copyData(t,r),this.data.d.k[e].s=t,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(r){var e=this.data.d.k[r].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(r){this.canResize=r,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(r){this.minimumFontSize=Math.floor(r)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var r=Math.max,e=Math.min,t=Math.floor;function o(l,h){this._currentTextLength=-1,this.k=!1,this.data=h,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,h.s||{k:0},0,0,this),this.e="e"in h?PropertyFactory.getProp(l,h.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(l,h.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,h.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,h.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,h.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,h.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return o.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var h=0,y=0,O=1,D=1;this.ne.v>0?h=this.ne.v/100:y=-this.ne.v/100,this.xe.v>0?O=1-this.xe.v/100:D=1+this.xe.v/100;var R=BezierFactory.getBezierEasing(h,y,O,D).get,F=0,B=this.finalS,j=this.finalE,U=this.data.sh;if(U===2)F=R(F=j===B?l>=j?1:0:r(0,e(.5/(j-B)+(l-B)/(j-B),1)));else if(U===3)F=R(F=j===B?l>=j?0:1:1-r(0,e(.5/(j-B)+(l-B)/(j-B),1)));else if(U===4)j===B?F=0:(F=r(0,e(.5/(j-B)+(l-B)/(j-B),1)))<.5?F*=2:F=1-2*(F-.5),F=R(F);else if(U===5){if(j===B)F=0;else{var W=j-B,G=-W/2+(l=e(r(0,l+.5-B),j-B)),q=W/2;F=Math.sqrt(1-G*G/(q*q))}F=R(F)}else U===6?(j===B?F=0:(l=e(r(0,l+.5-B),j-B),F=(1+Math.cos(Math.PI+2*Math.PI*l/(j-B)))/2),F=R(F)):(l>=t(B)&&(F=r(0,e(l-B<0?e(j,1)-(B-l):j-l,1))),F=R(F));if(this.sm.v!==100){var K=.01*this.sm.v;K===0&&(K=1e-8);var Y=.5-.5*K;F<Y?F=0:(F=(F-Y)/K)>1&&(F=1)}return F*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var h=this.data.r===2?1:100/this.data.totalChars,y=this.o.v/h,O=this.s.v/h+y,D=this.e.v/h+y;if(O>D){var R=O;O=D,D=R}this.finalS=O,this.finalE=D}},extendPrototype([DynamicPropertyContainer],o),{getTextSelectorProp:function(l,h,y){return new o(l,h)}}}(),poolFactory=function(r,e,t){var o=0,l=r,h=createSizedArray(l);return{newElement:function(){return o?h[o-=1]:e()},release:function(y){o===l&&(h=pooling.double(h),l*=2),t&&t(y),h[o]=y,o+=1}}},pooling={double:function(r){return r.concat(createSizedArray(r.length))}},pointPool=poolFactory(8,function(){return createTypedArray("float32",2)}),shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(r){var e,t=r._length;for(e=0;e<t;e+=1)pointPool.release(r.v[e]),pointPool.release(r.i[e]),pointPool.release(r.o[e]),r.v[e]=null,r.i[e]=null,r.o[e]=null;r._length=0,r.c=!1}),factory.clone=function(r){var e,t=factory.newElement(),o=r._length===void 0?r.v.length:r._length;for(t.setLength(o),t.c=r.c,e=0;e<o;e+=1)t.setTripleAt(r.v[e][0],r.v[e][1],r.o[e][0],r.o[e][1],r.i[e][0],r.i[e][1],e);return t},factory),factory,shapeCollectionPool=function(){var r={newShapeCollection:function(){return e?o[e-=1]:new ShapeCollection},release:function(l){var h,y=l._length;for(h=0;h<y;h+=1)shapePool.release(l.shapes[h]);l._length=0,e===t&&(o=pooling.double(o),t*=2),o[e]=l,e+=1}},e=0,t=4,o=createSizedArray(t);return r}(),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(r){var e,t=r.lengths.length;for(e=0;e<t;e+=1)bezierLengthPool.release(r.lengths[e]);r.lengths.length=0}),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),markerParser=function(){function r(e){for(var t,o=e.split(`\r
`),l={},h=0,y=0;y<o.length;y+=1)(t=o[y].split(":")).length===2&&(l[t[0]]=t[1].trim(),h+=1);if(h===0)throw new Error;return l}return function(e){for(var t=[],o=0;o<e.length;o+=1){var l=e[o],h={time:l.tm,duration:l.dr};try{h.payload=JSON.parse(e[o].cm)}catch{try{h.payload=r(e[o].cm)}catch{h.payload={name:e[o]}}}t.push(h)}return t}}();function BaseRenderer(){}function SVGRenderer(r,e){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var t="";if(e&&e.title){var o=createNS("title"),l=createElementID();o.setAttribute("id",l),o.textContent=e.title,this.svgElement.appendChild(o),t+=l}if(e&&e.description){var h=createNS("desc"),y=createElementID();h.setAttribute("id",y),h.textContent=e.description,this.svgElement.appendChild(h),t+=" "+y}t&&this.svgElement.setAttribute("aria-labelledby",t);var O=createNS("defs");this.svgElement.appendChild(O);var D=createNS("g");this.svgElement.appendChild(D),this.layerElement=D,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:O,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(r,e){this.animationItem=r,this.renderConfig={clearCanvas:!e||e.clearCanvas===void 0||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(r,e){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(r,e,t){this.data=r,this.element=e,this.globalData=t,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o,l,h=this.globalData.defs,y=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(y),this.solidPath="";var O,D,R,F,B,j,U=this.masksProperties,W=0,G=[],q=createElementID(),K="clipPath",Y="clip-path";for(o=0;o<y;o+=1)if((U[o].mode!=="a"&&U[o].mode!=="n"||U[o].inv||U[o].o.k!==100||U[o].o.x)&&(K="mask",Y="mask"),U[o].mode!=="s"&&U[o].mode!=="i"||W!==0?R=null:((R=createNS("rect")).setAttribute("fill","#ffffff"),R.setAttribute("width",this.element.comp.data.w||0),R.setAttribute("height",this.element.comp.data.h||0),G.push(R)),l=createNS("path"),U[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,U[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,U[o],3),elem:l,lastPath:""},h.appendChild(l);else{var X;if(W+=1,l.setAttribute("fill",U[o].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero"),U[o].x.k!==0?(K="mask",Y="mask",j=PropertyFactory.getProp(this.element,U[o].x,0,null,this.element),X=createElementID(),(F=createNS("filter")).setAttribute("id",X),(B=createNS("feMorphology")).setAttribute("operator","erode"),B.setAttribute("in","SourceGraphic"),B.setAttribute("radius","0"),F.appendChild(B),h.appendChild(F),l.setAttribute("stroke",U[o].mode==="s"?"#000000":"#ffffff")):(B=null,j=null),this.storedData[o]={elem:l,x:j,expan:B,lastPath:"",lastOperator:"",filterId:X,lastRadius:0},U[o].mode==="i"){D=G.length;var J=createNS("g");for(O=0;O<D;O+=1)J.appendChild(G[O]);var Q=createNS("mask");Q.setAttribute("mask-type","alpha"),Q.setAttribute("id",q+"_"+W),Q.appendChild(l),h.appendChild(Q),J.setAttribute("mask","url("+locationHref+"#"+q+"_"+W+")"),G.length=0,G.push(J)}else G.push(l);U[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,U[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,U[o],3),invRect:R},this.viewData[o].prop.k||this.drawPath(U[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(K),y=G.length,o=0;o<y;o+=1)this.maskElement.appendChild(G[o]);W>0&&(this.maskElement.setAttribute("id",q),this.element.maskedElement.setAttribute(Y,"url("+locationHref+"#"+q+")"),h.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(r,e){this.elem=r,this.pos=e}function SVGStyleData(r,e){this.data=r,this.type=r.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=r.hd===!0,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(r,e,t){this.caches=[],this.styles=[],this.transformers=r,this.lStr="",this.sh=t,this.lvl=e,this._isAnimated=!!t.k;for(var o=0,l=r.length;o<l;){if(r[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}function SVGTransformData(r,e,t){this.transform={mProps:r,op:e,container:t},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(r,e,t){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,e.o,0,.01,this),this.w=PropertyFactory.getProp(r,e.w,0,null,this),this.d=new DashProperty(r,e.d||{},"svg",this),this.c=PropertyFactory.getProp(r,e.c,1,255,this),this.style=t,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(r,e,t){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,e.o,0,.01,this),this.c=PropertyFactory.getProp(r,e.c,1,255,this),this.style=t}function SVGGradientFillStyleData(r,e,t){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.initGradientData(r,e,t)}function SVGGradientStrokeStyleData(r,e,t){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(r,e.w,0,null,this),this.d=new DashProperty(r,e.d||{},"svg",this),this.initGradientData(r,e,t),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(r){var e,t,o=this.layers.length;for(this.completeLayers=!0,e=o-1;e>=0;e-=1)this.elements[e]||(t=this.layers[e]).ip-t.st<=r-this.layers[e].st&&t.op-t.st>r-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(r){switch(r.ty){case 2:return this.createImage(r);case 0:return this.createComp(r);case 1:return this.createSolid(r);case 3:default:return this.createNull(r);case 4:return this.createShape(r);case 5:return this.createText(r);case 6:return this.createAudio(r);case 13:return this.createCamera(r);case 15:return this.createFootage(r)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(r){return new AudioElement(r,this.globalData,this)},BaseRenderer.prototype.createFootage=function(r){return new FootageElement(r,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var r,e=this.layers.length;for(r=0;r<e;r+=1)this.buildItem(r);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(r){var e;this.completeLayers=!1;var t,o=r.length,l=this.layers.length;for(e=0;e<o;e+=1)for(t=0;t<l;){if(this.layers[t].id===r[e].id){this.layers[t]=r[e];break}t+=1}},BaseRenderer.prototype.setProjectInterface=function(r){this.globalData.projectInterface=r},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(r,e,t){for(var o=this.elements,l=this.layers,h=0,y=l.length;h<y;)l[h].ind==e&&(o[h]&&o[h]!==!0?(t.push(o[h]),o[h].setAsParent(),l[h].parent!==void 0?this.buildElementParenting(r,l[h].parent,t):r.setHierarchy(t)):(this.buildItem(h),this.addPendingElement(r))),h+=1},BaseRenderer.prototype.addPendingElement=function(r){this.pendingElements.push(r)},BaseRenderer.prototype.searchExtraCompositions=function(r){var e,t=r.length;for(e=0;e<t;e+=1)if(r[e].xt){var o=this.createComp(r[e]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.setupGlobalData=function(r,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(r.chars),this.globalData.fontManager.addFonts(r.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=r.fr,this.globalData.nm=r.nm,this.globalData.compSize={w:r.w,h:r.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(r){return new NullElement(r,this.globalData,this)},SVGRenderer.prototype.createShape=function(r){return new SVGShapeElement(r,this.globalData,this)},SVGRenderer.prototype.createText=function(r){return new SVGTextLottieElement(r,this.globalData,this)},SVGRenderer.prototype.createImage=function(r){return new IImageElement(r,this.globalData,this)},SVGRenderer.prototype.createComp=function(r){return new SVGCompElement(r,this.globalData,this)},SVGRenderer.prototype.createSolid=function(r){return new ISolidElement(r,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(r){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+r.w+" "+r.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",r.w),this.svgElement.setAttribute("height",r.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(r,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=r;var t=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",r.w),o.setAttribute("height",r.h),o.setAttribute("x",0),o.setAttribute("y",0);var l=createElementID();t.setAttribute("id",l),t.appendChild(o),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+l+")"),e.appendChild(t),this.layers=r.layers,this.elements=createSizedArray(r.layers.length)},SVGRenderer.prototype.destroy=function(){var r;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(r=0;r<e;r+=1)this.elements[r]&&this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(r){var e=this.elements;if(!e[r]&&this.layers[r].ty!==99){e[r]=!0;var t=this.createItem(this.layers[r]);e[r]=t,expressionsPlugin&&(this.layers[r].ty===0&&this.globalData.projectInterface.registerComposition(t),t.initExpressions()),this.appendElementInPos(t,r),this.layers[r].tt&&(this.elements[r-1]&&this.elements[r-1]!==!0?t.setMatte(e[r-1].layerId):(this.buildItem(r-1),this.addPendingElement(t)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();if(r.checkParenting(),r.data.tt)for(var e=0,t=this.elements.length;e<t;){if(this.elements[e]===r){r.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(r){if(this.renderedFrame!==r&&!this.destroyed){var e;r===null?r=this.renderedFrame:this.renderedFrame=r,this.globalData.frameNum=r,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=r,this.globalData._mdf=!1;var t=this.layers.length;for(this.completeLayers||this.checkLayers(r),e=t-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(r-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(r,e){var t=r.getBaseElement();if(t){for(var o,l=0;l<e;)this.elements[l]&&this.elements[l]!==!0&&this.elements[l].getBaseElement()&&(o=this.elements[l].getBaseElement()),l+=1;o?this.layerElement.insertBefore(t,o):this.layerElement.appendChild(t)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(r){return new CVShapeElement(r,this.globalData,this)},CanvasRenderer.prototype.createText=function(r){return new CVTextElement(r,this.globalData,this)},CanvasRenderer.prototype.createImage=function(r){return new CVImageElement(r,this.globalData,this)},CanvasRenderer.prototype.createComp=function(r){return new CVCompElement(r,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(r){return new CVSolidElement(r,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(r){if(r[0]!==1||r[1]!==0||r[4]!==0||r[5]!==1||r[12]!==0||r[13]!==0)if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(r);var e=this.contextData.cTr.props;this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var t=this.contextData.cTr.props;this.canvasContext.setTransform(t[0],t[1],t[4],t[5],t[12],t[13])}else this.canvasContext.transform(r[0],r[1],r[4],r[5],r[12],r[13])},CanvasRenderer.prototype.ctxOpacity=function(r){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=r<0?0:r,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=r<0?0:r,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(r){if(this.renderConfig.clearCanvas){r&&this.canvasContext.save();var e,t=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var o=this.contextData.saved[this.contextData.cArrPos];for(e=0;e<16;e+=1)o[e]=t[e];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(r){if(this.renderConfig.clearCanvas){r&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var e,t=this.contextData.saved[this.contextData.cArrPos],o=this.contextData.cTr.props;for(e=0;e<16;e+=1)o[e]=t[e];this.canvasContext.setTransform(t[0],t[1],t[4],t[5],t[12],t[13]),t=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=t,this.globalData.currentGlobalAlpha!==t&&(this.canvasContext.globalAlpha=t,this.globalData.currentGlobalAlpha=t)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(r){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var t="0px 0px 0px";e.transformOrigin=t,e.mozTransformOrigin=t,e.webkitTransformOrigin=t,e["-webkit-transform"]=t,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=r,this.layers=r.layers,this.transformCanvas={w:r.w,h:r.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(r,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(r.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var r,e,t,o;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",r*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(r=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var l=this.renderConfig.preserveAspectRatio.split(" "),h=l[1]||"meet",y=l[0]||"xMidYMid",O=y.substr(0,4),D=y.substr(4);t=r/e,(o=this.transformCanvas.w/this.transformCanvas.h)>t&&h==="meet"||o<t&&h==="slice"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=O==="xMid"&&(o<t&&h==="meet"||o>t&&h==="slice")?(r-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:O==="xMax"&&(o<t&&h==="meet"||o>t&&h==="slice")?(r-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=D==="YMid"&&(o>t&&h==="meet"||o<t&&h==="slice")?(e-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:D==="YMax"&&(o>t&&h==="meet"||o<t&&h==="slice")?(e-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var r;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),r=(this.layers?this.layers.length:0)-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(r,e){if((this.renderedFrame!==r||this.renderConfig.clearCanvas!==!0||e)&&!this.destroyed&&r!==-1){var t;this.renderedFrame=r,this.globalData.frameNum=r-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=r;var o=this.layers.length;for(this.completeLayers||this.checkLayers(r),t=0;t<o;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(r-this.layers[t].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),t=o-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(r){var e=this.elements;if(!e[r]&&this.layers[r].ty!==99){var t=this.createItem(this.layers[r],this,this.globalData);e[r]=t,t.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(r,e){var t=r.getBaseElement();if(t){var o=this.layers[e];if(o.ddd&&this.supports3d)this.addTo3dContainer(t,e);else if(this.threeDElements)this.addTo3dContainer(t,e);else{for(var l,h,y=0;y<e;)this.elements[y]&&this.elements[y]!==!0&&this.elements[y].getBaseElement&&(h=this.elements[y],l=(this.layers[y].ddd?this.getThreeDContainerByPos(y):h.getBaseElement())||l),y+=1;l?o.ddd&&this.supports3d||this.layerElement.insertBefore(t,l):o.ddd&&this.supports3d||this.layerElement.appendChild(t)}}},HybridRenderer.prototype.createShape=function(r){return this.supports3d?new HShapeElement(r,this.globalData,this):new SVGShapeElement(r,this.globalData,this)},HybridRenderer.prototype.createText=function(r){return this.supports3d?new HTextElement(r,this.globalData,this):new SVGTextLottieElement(r,this.globalData,this)},HybridRenderer.prototype.createCamera=function(r){return this.camera=new HCameraElement(r,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(r){return this.supports3d?new HImageElement(r,this.globalData,this):new IImageElement(r,this.globalData,this)},HybridRenderer.prototype.createComp=function(r){return this.supports3d?new HCompElement(r,this.globalData,this):new SVGCompElement(r,this.globalData,this)},HybridRenderer.prototype.createSolid=function(r){return this.supports3d?new HSolidElement(r,this.globalData,this):new ISolidElement(r,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(r){for(var e=0,t=this.threeDElements.length;e<t;){if(this.threeDElements[e].startPos<=r&&this.threeDElements[e].endPos>=r)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(r,e){var t,o,l=createTag("div");styleDiv(l);var h=createTag("div");if(styleDiv(h),e==="3d"){(t=l.style).width=this.globalData.compSize.w+"px",t.height=this.globalData.compSize.h+"px";var y="50% 50%";t.webkitTransformOrigin=y,t.mozTransformOrigin=y,t.transformOrigin=y;var O="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(o=h.style).transform=O,o.webkitTransform=O}l.appendChild(h);var D={container:h,perspectiveElem:l,startPos:r,endPos:r,type:e};return this.threeDElements.push(D),D},HybridRenderer.prototype.build3dContainers=function(){var r,e,t=this.layers.length,o="";for(r=0;r<t;r+=1)this.layers[r].ddd&&this.layers[r].ty!==3?(o!=="3d"&&(o="3d",e=this.createThreeDContainer(r,"3d")),e.endPos=Math.max(e.endPos,r)):(o!=="2d"&&(o="2d",e=this.createThreeDContainer(r,"2d")),e.endPos=Math.max(e.endPos,r));for(r=(t=this.threeDElements.length)-1;r>=0;r-=1)this.resizerElem.appendChild(this.threeDElements[r].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(r,e){for(var t=0,o=this.threeDElements.length;t<o;){if(e<=this.threeDElements[t].endPos){for(var l,h=this.threeDElements[t].startPos;h<e;)this.elements[h]&&this.elements[h].getBaseElement&&(l=this.elements[h].getBaseElement()),h+=1;l?this.threeDElements[t].container.insertBefore(r,l):this.threeDElements[t].container.appendChild(r);break}t+=1}},HybridRenderer.prototype.configAnimation=function(r){var e=createTag("div"),t=this.animationItem.wrapper,o=e.style;o.width=r.w+"px",o.height=r.h+"px",this.resizerElem=e,styleDiv(e),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),t.appendChild(e),o.overflow="hidden";var l=createNS("svg");l.setAttribute("width","1"),l.setAttribute("height","1"),styleDiv(l),this.resizerElem.appendChild(l);var h=createNS("defs");l.appendChild(h),this.data=r,this.setupGlobalData(r,l),this.globalData.defs=h,this.layers=r.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var r;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e=this.layers?this.layers.length:0;for(r=0;r<e;r+=1)this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var r,e,t,o,l=this.animationItem.wrapper.offsetWidth,h=this.animationItem.wrapper.offsetHeight,y=l/h;this.globalData.compSize.w/this.globalData.compSize.h>y?(r=l/this.globalData.compSize.w,e=l/this.globalData.compSize.w,t=0,o=(h-this.globalData.compSize.h*(l/this.globalData.compSize.w))/2):(r=h/this.globalData.compSize.h,e=h/this.globalData.compSize.h,t=(l-this.globalData.compSize.w*(h/this.globalData.compSize.h))/2,o=0);var O=this.resizerElem.style;O.webkitTransform="matrix3d("+r+",0,0,0,0,"+e+",0,0,0,0,1,0,"+t+","+o+",0,1)",O.transform=O.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var r,e=this.globalData.compSize.w,t=this.globalData.compSize.h,o=this.threeDElements.length;for(r=0;r<o;r+=1){var l=this.threeDElements[r].perspectiveElem.style;l.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))+"px",l.perspective=l.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(r){var e,t=r.length,o=createTag("div");for(e=0;e<t;e+=1)if(r[e].xt){var l=this.createComp(r[e],o,this.globalData.comp,null);l.initExpressions(),this.globalData.projectInterface.registerComposition(l)}},MaskElement.prototype.getMaskProperty=function(r){return this.viewData[r].prop},MaskElement.prototype.renderFrame=function(r){var e,t=this.element.finalTransform.mat,o=this.masksProperties.length;for(e=0;e<o;e+=1)if((this.viewData[e].prop._mdf||r)&&this.drawPath(this.masksProperties[e],this.viewData[e].prop.v,this.viewData[e]),(this.viewData[e].op._mdf||r)&&this.viewData[e].elem.setAttribute("fill-opacity",this.viewData[e].op.v),this.masksProperties[e].mode!=="n"&&(this.viewData[e].invRect&&(this.element.finalTransform.mProp._mdf||r)&&this.viewData[e].invRect.setAttribute("transform",t.getInverseMatrix().to2dCSS()),this.storedData[e].x&&(this.storedData[e].x._mdf||r))){var l=this.storedData[e].expan;this.storedData[e].x.v<0?(this.storedData[e].lastOperator!=="erode"&&(this.storedData[e].lastOperator="erode",this.storedData[e].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[e].filterId+")")),l.setAttribute("radius",-this.storedData[e].x.v)):(this.storedData[e].lastOperator!=="dilate"&&(this.storedData[e].lastOperator="dilate",this.storedData[e].elem.setAttribute("filter",null)),this.storedData[e].elem.setAttribute("stroke-width",2*this.storedData[e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var r="M0,0 ";return r+=" h"+this.globalData.compSize.w,r+=" v"+this.globalData.compSize.h,r+=" h-"+this.globalData.compSize.w,r+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(r,e,t){var o,l,h=" M"+e.v[0][0]+","+e.v[0][1];for(l=e._length,o=1;o<l;o+=1)h+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[o][0]+","+e.i[o][1]+" "+e.v[o][0]+","+e.v[o][1];if(e.c&&l>1&&(h+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),t.lastPath!==h){var y="";t.elem&&(e.c&&(y=r.inv?this.solidPath+h:h),t.elem.setAttribute("d",y)),t.lastPath=h}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(r){this.hierarchy=r},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(r,e){var t,o=this.dynamicProperties.length;for(t=0;t<o;t+=1)(e||this._isParent&&this.dynamicProperties[t].propType==="transform")&&(this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&this.dynamicProperties.push(r)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var r,e=this.finalTransform.mat,t=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;t<o;){if(this.hierarchy[t].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}t+=1}if(this.finalTransform._matMdf)for(r=this.finalTransform.mProp.v.props,e.cloneFromProps(r),t=0;t<o;t+=1)r=this.hierarchy[t].finalTransform.mProp.v.props,e.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}},globalToLocal:function(r){var e=[];e.push(this.finalTransform);for(var t,o=!0,l=this.comp;o;)l.finalTransform?(l.data.hasMask&&e.splice(0,0,l.finalTransform),l=l.comp):o=!1;var h,y=e.length;for(t=0;t<y;t+=1)h=e[t].mat.applyToPointArray(0,0,0),r=[r[0]-h[0],r[1]-h[1],0];return r},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(r){this.renderableComponents.indexOf(r)===-1&&this.renderableComponents.push(r)},removeRenderableComponent:function(r){this.renderableComponents.indexOf(r)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(r),1)},prepareRenderableFrame:function(r){this.checkLayerLimits(r)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(r){this.data.ip-this.data.st<=r&&this.data.op-this.data.st>r?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var r,e=this.renderableComponents.length;for(r=0;r<e;r+=1)this.renderableComponents[r].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(r,e,t){this.initFrame(),this.initBaseData(r,e,t),this.initTransform(r,e,t),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(r,e,t){this.o=PropertyFactory.getProp(r,e.o,0,.01,this),this.s=PropertyFactory.getProp(r,e.s,1,null,this),this.e=PropertyFactory.getProp(r,e.e,1,null,this),this.h=PropertyFactory.getProp(r,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(r,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(r,e.g,this),this.style=t,this.stops=[],this.setGradientData(t.pElem,e),this.setGradientOpacity(e,t),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(r,e){var t=createElementID(),o=createNS(e.t===1?"linearGradient":"radialGradient");o.setAttribute("id",t),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l,h,y,O=[];for(y=4*e.g.p,h=0;h<y;h+=4)l=createNS("stop"),o.appendChild(l),O.push(l);r.setAttribute(e.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+t+")"),this.gf=o,this.cst=O},SVGGradientFillStyleData.prototype.setGradientOpacity=function(r,e){if(this.g._hasOpacity&&!this.g._collapsable){var t,o,l,h=createNS("mask"),y=createNS("path");h.appendChild(y);var O=createElementID(),D=createElementID();h.setAttribute("id",D);var R=createNS(r.t===1?"linearGradient":"radialGradient");R.setAttribute("id",O),R.setAttribute("spreadMethod","pad"),R.setAttribute("gradientUnits","userSpaceOnUse"),l=r.g.k.k[0].s?r.g.k.k[0].s.length:r.g.k.k.length;var F=this.stops;for(o=4*r.g.p;o<l;o+=2)(t=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),R.appendChild(t),F.push(t);y.setAttribute(r.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+O+")"),r.ty==="gs"&&(y.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),y.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),r.lj===1&&y.setAttribute("stroke-miterlimit",r.ml)),this.of=R,this.ms=h,this.ost=F,this.maskId=D,e.msElem=y}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var r=new Matrix,e=new Matrix;function t(D,R,F){(F||R.transform.op._mdf)&&R.transform.container.setAttribute("opacity",R.transform.op.v),(F||R.transform.mProps._mdf)&&R.transform.container.setAttribute("transform",R.transform.mProps.v.to2dCSS())}function o(D,R,F){var B,j,U,W,G,q,K,Y,X,J,Q,Z=R.styles.length,ee=R.lvl;for(q=0;q<Z;q+=1){if(W=R.sh._mdf||F,R.styles[q].lvl<ee){for(Y=e.reset(),J=ee-R.styles[q].lvl,Q=R.transformers.length-1;!W&&J>0;)W=R.transformers[Q].mProps._mdf||W,J-=1,Q-=1;if(W)for(J=ee-R.styles[q].lvl,Q=R.transformers.length-1;J>0;)X=R.transformers[Q].mProps.v.props,Y.transform(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14],X[15]),J-=1,Q-=1}else Y=r;if(j=(K=R.sh.paths)._length,W){for(U="",B=0;B<j;B+=1)(G=K.shapes[B])&&G._length&&(U+=buildShapeString(G,G._length,G.c,Y));R.caches[q]=U}else U=R.caches[q];R.styles[q].d+=D.hd===!0?"":U,R.styles[q]._mdf=W||R.styles[q]._mdf}}function l(D,R,F){var B=R.style;(R.c._mdf||F)&&B.pElem.setAttribute("fill","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||F)&&B.pElem.setAttribute("fill-opacity",R.o.v)}function h(D,R,F){y(D,R,F),O(0,R,F)}function y(D,R,F){var B,j,U,W,G,q=R.gf,K=R.g._hasOpacity,Y=R.s.v,X=R.e.v;if(R.o._mdf||F){var J=D.ty==="gf"?"fill-opacity":"stroke-opacity";R.style.pElem.setAttribute(J,R.o.v)}if(R.s._mdf||F){var Q=D.t===1?"x1":"cx",Z=Q==="x1"?"y1":"cy";q.setAttribute(Q,Y[0]),q.setAttribute(Z,Y[1]),K&&!R.g._collapsable&&(R.of.setAttribute(Q,Y[0]),R.of.setAttribute(Z,Y[1]))}if(R.g._cmdf||F){B=R.cst;var ee=R.g.c;for(U=B.length,j=0;j<U;j+=1)(W=B[j]).setAttribute("offset",ee[4*j]+"%"),W.setAttribute("stop-color","rgb("+ee[4*j+1]+","+ee[4*j+2]+","+ee[4*j+3]+")")}if(K&&(R.g._omdf||F)){var te=R.g.o;for(U=(B=R.g._collapsable?R.cst:R.ost).length,j=0;j<U;j+=1)W=B[j],R.g._collapsable||W.setAttribute("offset",te[2*j]+"%"),W.setAttribute("stop-opacity",te[2*j+1])}if(D.t===1)(R.e._mdf||F)&&(q.setAttribute("x2",X[0]),q.setAttribute("y2",X[1]),K&&!R.g._collapsable&&(R.of.setAttribute("x2",X[0]),R.of.setAttribute("y2",X[1])));else if((R.s._mdf||R.e._mdf||F)&&(G=Math.sqrt(Math.pow(Y[0]-X[0],2)+Math.pow(Y[1]-X[1],2)),q.setAttribute("r",G),K&&!R.g._collapsable&&R.of.setAttribute("r",G)),R.e._mdf||R.h._mdf||R.a._mdf||F){G||(G=Math.sqrt(Math.pow(Y[0]-X[0],2)+Math.pow(Y[1]-X[1],2)));var re=Math.atan2(X[1]-Y[1],X[0]-Y[0]),ie=R.h.v;ie>=1?ie=.99:ie<=-1&&(ie=-.99);var ne=G*ie,se=Math.cos(re+R.a.v)*ne+Y[0],ce=Math.sin(re+R.a.v)*ne+Y[1];q.setAttribute("fx",se),q.setAttribute("fy",ce),K&&!R.g._collapsable&&(R.of.setAttribute("fx",se),R.of.setAttribute("fy",ce))}}function O(D,R,F){var B=R.style,j=R.d;j&&(j._mdf||F)&&j.dashStr&&(B.pElem.setAttribute("stroke-dasharray",j.dashStr),B.pElem.setAttribute("stroke-dashoffset",j.dashoffset[0])),R.c&&(R.c._mdf||F)&&B.pElem.setAttribute("stroke","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||F)&&B.pElem.setAttribute("stroke-opacity",R.o.v),(R.w._mdf||F)&&(B.pElem.setAttribute("stroke-width",R.w.v),B.msElem&&B.msElem.setAttribute("stroke-width",R.w.v))}return{createRenderFunction:function(D){switch(D.ty){case"fl":return l;case"gf":return y;case"gs":return h;case"st":return O;case"sh":case"el":case"rc":case"sr":return o;case"tr":return t;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(r,e,t,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var l,h=4;e.ty==="rc"?h=5:e.ty==="el"?h=6:e.ty==="sr"&&(h=7),this.sh=ShapePropertyFactory.getShapeProp(r,e,h,r);var y,O=t.length;for(l=0;l<O;l+=1)t[l].closed||(y={transforms:o.addTransformSequence(t[l].transforms),trNodes:[]},this.styledShapes.push(y),t[l].elements.push(y))}function BaseElement(){}function NullElement(r,e,t){this.initFrame(),this.initBaseData(r,e,t),this.initFrame(),this.initTransform(r,e,t),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(r,e,t){this.assetData=e.getAssetData(r.refId),this.initElement(r,e,t),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(r,e,t){this.initElement(r,e,t)}function AudioElement(r,e,t){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(r.refId),this.initBaseData(r,e,t),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,e.frameRate,this):{_placeholder:!0}}function FootageElement(r,e,t){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(r.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(r,e,t)}function SVGCompElement(r,e,t){this.layers=r.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,e,t),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(r,e,t){this.textSpans=[],this.renderType="svg",this.initElement(r,e,t)}function SVGShapeElement(r,e,t){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(r,e,t),this.prevViewData=[]}function SVGTintFilter(r,e){this.filterManager=e;var t=createNS("feColorMatrix");if(t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","linearRGB"),t.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.setAttribute("result","f1"),r.appendChild(t),(t=createNS("feColorMatrix")).setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.setAttribute("result","f2"),r.appendChild(t),this.matrixFilter=t,e.effectElements[2].p.v!==100||e.effectElements[2].p.k){var o,l=createNS("feMerge");r.appendChild(l),(o=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),l.appendChild(o),(o=createNS("feMergeNode")).setAttribute("in","f2"),l.appendChild(o)}}function SVGFillFilter(r,e){this.filterManager=e;var t=createNS("feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.appendChild(t),this.matrixFilter=t}function SVGGaussianBlurEffect(r,e){r.setAttribute("x","-100%"),r.setAttribute("y","-100%"),r.setAttribute("width","300%"),r.setAttribute("height","300%"),this.filterManager=e;var t=createNS("feGaussianBlur");r.appendChild(t),this.feGaussianBlur=t}function SVGStrokeEffect(r,e){this.initialized=!1,this.filterManager=e,this.elem=r,this.paths=[]}function SVGTritoneFilter(r,e){this.filterManager=e;var t=createNS("feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","linearRGB"),t.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.setAttribute("result","f1"),r.appendChild(t);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(o),this.matrixFilter=o;var l=createNS("feFuncR");l.setAttribute("type","table"),o.appendChild(l),this.feFuncR=l;var h=createNS("feFuncG");h.setAttribute("type","table"),o.appendChild(h),this.feFuncG=h;var y=createNS("feFuncB");y.setAttribute("type","table"),o.appendChild(y),this.feFuncB=y}function SVGProLevelsFilter(r,e){this.filterManager=e;var t=this.filterManager.effectElements,o=createNS("feComponentTransfer");(t[10].p.k||t[10].p.v!==0||t[11].p.k||t[11].p.v!==1||t[12].p.k||t[12].p.v!==1||t[13].p.k||t[13].p.v!==0||t[14].p.k||t[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(t[17].p.k||t[17].p.v!==0||t[18].p.k||t[18].p.v!==1||t[19].p.k||t[19].p.v!==1||t[20].p.k||t[20].p.v!==0||t[21].p.k||t[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(t[24].p.k||t[24].p.v!==0||t[25].p.k||t[25].p.v!==1||t[26].p.k||t[26].p.v!==1||t[27].p.k||t[27].p.v!==0||t[28].p.k||t[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(t[31].p.k||t[31].p.v!==0||t[32].p.k||t[32].p.v!==1||t[33].p.k||t[33].p.v!==1||t[34].p.k||t[34].p.v!==0||t[35].p.k||t[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(o),o=createNS("feComponentTransfer")),(t[3].p.k||t[3].p.v!==0||t[4].p.k||t[4].p.v!==1||t[5].p.k||t[5].p.v!==1||t[6].p.k||t[6].p.v!==0||t[7].p.k||t[7].p.v!==1)&&(o.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}function SVGDropShadowEffect(r,e){var t=e.container.globalData.renderConfig.filterSize;r.setAttribute("x",t.x),r.setAttribute("y",t.y),r.setAttribute("width",t.width),r.setAttribute("height",t.height),this.filterManager=e;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result","drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,r.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in","drop_shadow_1"),l.setAttribute("result","drop_shadow_2"),this.feOffset=l,r.appendChild(l);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result","drop_shadow_3"),this.feFlood=h,r.appendChild(h);var y=createNS("feComposite");y.setAttribute("in","drop_shadow_3"),y.setAttribute("in2","drop_shadow_2"),y.setAttribute("operator","in"),y.setAttribute("result","drop_shadow_4"),r.appendChild(y);var O,D=createNS("feMerge");r.appendChild(D),O=createNS("feMergeNode"),D.appendChild(O),(O=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=O,this.feMerge=D,this.originalNodeAdded=!1,D.appendChild(O)}ShapeTransformManager.prototype={addTransformSequence:function(r){var e,t=r.length,o="_";for(e=0;e<t;e+=1)o+=r[e].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(r),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(r,e){for(var t,o=0,l=r.transforms.length,h=e;o<l&&!e;){if(r.transforms[o].transform.mProps._mdf){h=!0;break}o+=1}if(h)for(r.finalTransform.reset(),o=l-1;o>=0;o-=1)t=r.transforms[o].transform.mProps.v.props,r.finalTransform.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]);r._mdf=h},processSequences:function(r){var e,t=this.sequenceList.length;for(e=0;e<t;e+=1)this.processSequence(this.sequenceList[e],r)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var r=0,e=this.data.masksProperties.length;r<e;){if(this.data.masksProperties[r].mode!=="n"&&this.data.masksProperties[r].cl!==!1)return!0;r+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var r=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(r),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var r=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=r},initBaseData:function(r,e,t){this.globalData=e,this.comp=t,this.data=r,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var r,e,t,o=null;if(this.data.td){if(this.data.td==3||this.data.td==1){var l=createNS("mask");l.setAttribute("id",this.layerId),l.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),l.appendChild(this.layerElement),o=l,this.globalData.defs.appendChild(l),featureSupport.maskType||this.data.td!=1||(l.setAttribute("mask-type","luminance"),r=createElementID(),e=filtersFactory.createFilter(r),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(t=createNS("g")).appendChild(this.layerElement),o=t,l.appendChild(t),t.setAttribute("filter","url("+locationHref+"#"+r+")"))}else if(this.data.td==2){var h=createNS("mask");h.setAttribute("id",this.layerId),h.setAttribute("mask-type","alpha");var y=createNS("g");h.appendChild(y),r=createElementID(),e=filtersFactory.createFilter(r);var O=createNS("feComponentTransfer");O.setAttribute("in","SourceGraphic"),e.appendChild(O);var D=createNS("feFuncA");D.setAttribute("type","table"),D.setAttribute("tableValues","1.0 0.0"),O.appendChild(D),this.globalData.defs.appendChild(e);var R=createNS("rect");R.setAttribute("width",this.comp.data.w),R.setAttribute("height",this.comp.data.h),R.setAttribute("x","0"),R.setAttribute("y","0"),R.setAttribute("fill","#ffffff"),R.setAttribute("opacity","0"),y.setAttribute("filter","url("+locationHref+"#"+r+")"),y.appendChild(R),y.appendChild(this.layerElement),o=y,featureSupport.maskType||(h.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),t=createNS("g"),y.appendChild(R),t.appendChild(this.layerElement),o=t,y.appendChild(t)),this.globalData.defs.appendChild(h)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),o=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var F=createNS("clipPath"),B=createNS("path");B.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var j=createElementID();if(F.setAttribute("id",j),F.appendChild(B),this.globalData.defs.appendChild(F),this.checkMasks()){var U=createNS("g");U.setAttribute("clip-path","url("+locationHref+"#"+j+")"),U.appendChild(this.layerElement),this.transformedElement=U,o?o.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+j+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(r){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+r+")")}},IShapeElement.prototype={addShapeToModifiers:function(r){var e,t=this.shapeModifiers.length;for(e=0;e<t;e+=1)this.shapeModifiers[e].addShape(r)},isShapeInAnimatedModifiers:function(r){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(r))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var r,e=this.shapes.length;for(r=0;r<e;r+=1)this.shapes[r].sh.reset();for(r=(e=this.shapeModifiers.length)-1;r>=0&&!this.shapeModifiers[r].processShapes(this._isFirstFrame);r-=1);}},searchProcessedElement:function(r){for(var e=this.processedElements,t=0,o=e.length;t<o;){if(e[t].elem===r)return e[t].pos;t+=1}return 0},addProcessedElement:function(r,e){for(var t=this.processedElements,o=t.length;o;)if(t[o-=1].elem===r)return void(t[o].pos=e);t.push(new ProcessedElement(r,e))},prepareFrame:function(r){this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange)}},ITextElement.prototype.initElement=function(r,e,t){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(r,e,t),this.textProperty=new TextProperty(this,r.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(r.t,this.renderType,this),this.initTransform(r,e,t),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(r,e){var t,o,l=e.length,h="";for(t=0;t<l;t+=1)o=e[t].ks.k,h+=buildShapeString(o,o.i.length,!0,r);return h},ITextElement.prototype.updateDocumentData=function(r,e){this.textProperty.updateDocumentData(r,e)},ITextElement.prototype.canResizeFont=function(r){this.textProperty.canResizeFont(r)},ITextElement.prototype.setMinimumFontSize=function(r){this.textProperty.setMinimumFontSize(r)},ITextElement.prototype.applyTextPropertiesToMatrix=function(r,e,t,o,l){switch(r.ps&&e.translate(r.ps[0],r.ps[1]+r.ascent,0),e.translate(0,-r.ls,0),r.j){case 1:e.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[t]),0,0);break;case 2:e.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[t])/2,0,0)}e.translate(o,l,0)},ITextElement.prototype.buildColor=function(r){return"rgb("+Math.round(255*r[0])+","+Math.round(255*r[1])+","+Math.round(255*r[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(r,e,t){this.initFrame(),this.initBaseData(r,e,t),this.initTransform(r,e,t),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(r){if(this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=r/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var t,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),t=o-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&(this.elements[t].prepareFrame(this.renderedFrame-this.layers[t].st),this.elements[t]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var r,e=this.layers.length;for(r=0;r<e;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()},ICompElement.prototype.setElements=function(r){this.elements=r},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var r,e=this.layers.length;for(r=0;r<e;r+=1)this.elements[r]&&this.elements[r].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var r=createNS("rect");r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.layerElement.appendChild(r)},AudioElement.prototype.prepareFrame=function(r){if(this.prepareRenderableFrame(r,!0),this.prepareProperties(r,!0),this.tm._placeholder)this._currentTime=r/this.data.sr;else{var e=this.tm.v;this._currentTime=e}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(r){this.audio.rate(r)},AudioElement.prototype.volume=function(r){this.audio.volume(r)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(r){for(var e=0,t=r.length,o=[],l="";e<t;)r[e]===String.fromCharCode(13)||r[e]===String.fromCharCode(3)?(o.push(l),l=""):l+=r[e],e+=1;return o.push(l),o},SVGTextLottieElement.prototype.buildNewText=function(){var r,e,t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t?t.l.length:0),t.fc?this.layerElement.setAttribute("fill",this.buildColor(t.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),t.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(t.sc)),this.layerElement.setAttribute("stroke-width",t.sw)),this.layerElement.setAttribute("font-size",t.finalSize);var o=this.globalData.fontManager.getFontByName(t.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var l=t.fWeight,h=t.fStyle;this.layerElement.setAttribute("font-style",h),this.layerElement.setAttribute("font-weight",l)}this.layerElement.setAttribute("aria-label",t.t);var y,O=t.l||[],D=!!this.globalData.fontManager.chars;e=O.length;var R,F=this.mHelper,B="",j=this.data.singleShape,U=0,W=0,G=!0,q=.001*t.tr*t.finalSize;if(!j||D||t.sz){var K,Y,X=this.textSpans.length;for(r=0;r<e;r+=1)D&&j&&r!==0||(y=X>r?this.textSpans[r]:createNS(D?"path":"text"),X<=r&&(y.setAttribute("stroke-linecap","butt"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit","4"),this.textSpans[r]=y,this.layerElement.appendChild(y)),y.style.display="inherit"),F.reset(),F.scale(t.finalSize/100,t.finalSize/100),j&&(O[r].n&&(U=-q,W+=t.yOffset,W+=G?1:0,G=!1),this.applyTextPropertiesToMatrix(t,F,O[r].line,U,W),U+=O[r].l||0,U+=q),D?(R=(K=(Y=this.globalData.fontManager.getCharData(t.finalText[r],o.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&Y.data||{}).shapes?K.shapes[0].it:[],j?B+=this.createPathShape(F,R):y.setAttribute("d",this.createPathShape(F,R))):(j&&y.setAttribute("transform","translate("+F.props[12]+","+F.props[13]+")"),y.textContent=O[r].val,y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));j&&y&&y.setAttribute("d",B)}else{var J=this.textContainer,Q="start";switch(t.j){case 1:Q="end";break;case 2:Q="middle";break;default:Q="start"}J.setAttribute("text-anchor",Q),J.setAttribute("letter-spacing",q);var Z=this.buildTextContents(t.finalText);for(e=Z.length,W=t.ps?t.ps[1]+t.ascent:0,r=0;r<e;r+=1)(y=this.textSpans[r]||createNS("tspan")).textContent=Z[r],y.setAttribute("x",0),y.setAttribute("y",W),y.style.display="inherit",J.appendChild(y),this.textSpans[r]=y,W+=t.finalLineHeight;this.layerElement.appendChild(J)}for(;r<this.textSpans.length;)this.textSpans[r].style.display="none",r+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var r=this.layerElement.getBBox();this.bbox={top:r.y,left:r.x,width:r.width,height:r.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var r,e;this._sizeChanged=!0;var t,o,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(e=h.length,r=0;r<e;r+=1)h[r].n||(t=l[r],o=this.textSpans[r],t._mdf.m&&o.setAttribute("transform",t.m),t._mdf.o&&o.setAttribute("opacity",t.o),t._mdf.sw&&o.setAttribute("stroke-width",t.sw),t._mdf.sc&&o.setAttribute("stroke",t.sc),t._mdf.fc&&o.setAttribute("fill",t.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var r,e,t,o,l=this.shapes.length,h=this.stylesList.length,y=[],O=!1;for(t=0;t<h;t+=1){for(o=this.stylesList[t],O=!1,y.length=0,r=0;r<l;r+=1)(e=this.shapes[r]).styles.indexOf(o)!==-1&&(y.push(e),O=e._isAnimated||O);y.length>1&&O&&this.setShapesAsAnimated(y)}},SVGShapeElement.prototype.setShapesAsAnimated=function(r){var e,t=r.length;for(e=0;e<t;e+=1)r[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(r,e){var t,o=new SVGStyleData(r,e),l=o.pElem;return r.ty==="st"?t=new SVGStrokeStyleData(this,r,o):r.ty==="fl"?t=new SVGFillStyleData(this,r,o):r.ty!=="gf"&&r.ty!=="gs"||(t=new(r.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,r,o),this.globalData.defs.appendChild(t.gf),t.maskId&&(this.globalData.defs.appendChild(t.ms),this.globalData.defs.appendChild(t.of),l.setAttribute("mask","url("+locationHref+"#"+t.maskId+")"))),r.ty!=="st"&&r.ty!=="gs"||(l.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),l.setAttribute("fill-opacity","0"),r.lj===1&&l.setAttribute("stroke-miterlimit",r.ml)),r.r===2&&l.setAttribute("fill-rule","evenodd"),r.ln&&l.setAttribute("id",r.ln),r.cl&&l.setAttribute("class",r.cl),r.bm&&(l.style["mix-blend-mode"]=getBlendMode(r.bm)),this.stylesList.push(o),this.addToAnimatedContents(r,t),t},SVGShapeElement.prototype.createGroupElement=function(r){var e=new ShapeGroupData;return r.ln&&e.gr.setAttribute("id",r.ln),r.cl&&e.gr.setAttribute("class",r.cl),r.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(r.bm)),e},SVGShapeElement.prototype.createTransformElement=function(r,e){var t=TransformPropertyFactory.getTransformProperty(this,r,this),o=new SVGTransformData(t,t.o,e);return this.addToAnimatedContents(r,o),o},SVGShapeElement.prototype.createShapeElement=function(r,e,t){var o=4;r.ty==="rc"?o=5:r.ty==="el"?o=6:r.ty==="sr"&&(o=7);var l=new SVGShapeData(e,t,ShapePropertyFactory.getShapeProp(this,r,o,this));return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(r,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(r,e){for(var t=0,o=this.animatedContents.length;t<o;){if(this.animatedContents[t].element===e)return;t+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(r),element:e,data:r})},SVGShapeElement.prototype.setElementStyles=function(r){var e,t=r.styles,o=this.stylesList.length;for(e=0;e<o;e+=1)this.stylesList[e].closed||t.push(this.stylesList[e])},SVGShapeElement.prototype.reloadShapes=function(){var r;this._isFirstFrame=!0;var e=this.itemsData.length;for(r=0;r<e;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,r=0;r<e;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(r,e,t,o,l,h,y){var O,D,R,F,B,j,U=[].concat(h),W=r.length-1,G=[],q=[];for(O=W;O>=0;O-=1){if((j=this.searchProcessedElement(r[O]))?e[O]=t[j-1]:r[O]._render=y,r[O].ty==="fl"||r[O].ty==="st"||r[O].ty==="gf"||r[O].ty==="gs")j?e[O].style.closed=!1:e[O]=this.createStyleElement(r[O],l),r[O]._render&&e[O].style.pElem.parentNode!==o&&o.appendChild(e[O].style.pElem),G.push(e[O].style);else if(r[O].ty==="gr"){if(j)for(R=e[O].it.length,D=0;D<R;D+=1)e[O].prevViewData[D]=e[O].it[D];else e[O]=this.createGroupElement(r[O]);this.searchShapes(r[O].it,e[O].it,e[O].prevViewData,e[O].gr,l+1,U,y),r[O]._render&&e[O].gr.parentNode!==o&&o.appendChild(e[O].gr)}else r[O].ty==="tr"?(j||(e[O]=this.createTransformElement(r[O],o)),F=e[O].transform,U.push(F)):r[O].ty==="sh"||r[O].ty==="rc"||r[O].ty==="el"||r[O].ty==="sr"?(j||(e[O]=this.createShapeElement(r[O],U,l)),this.setElementStyles(e[O])):r[O].ty==="tm"||r[O].ty==="rd"||r[O].ty==="ms"||r[O].ty==="pb"?(j?(B=e[O]).closed=!1:((B=ShapeModifiers.getModifier(r[O].ty)).init(this,r[O]),e[O]=B,this.shapeModifiers.push(B)),q.push(B)):r[O].ty==="rp"&&(j?(B=e[O]).closed=!0:(B=ShapeModifiers.getModifier(r[O].ty),e[O]=B,B.init(this,r,O,e),this.shapeModifiers.push(B),y=!1),q.push(B));this.addProcessedElement(r[O],O+1)}for(W=G.length,O=0;O<W;O+=1)G[O].closed=!0;for(W=q.length,O=0;O<W;O+=1)q[O].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var r;this.renderModifiers();var e=this.stylesList.length;for(r=0;r<e;r+=1)this.stylesList[r].reset();for(this.renderShape(),r=0;r<e;r+=1)(this.stylesList[r]._mdf||this._isFirstFrame)&&(this.stylesList[r].msElem&&(this.stylesList[r].msElem.setAttribute("d",this.stylesList[r].d),this.stylesList[r].d="M0 0"+this.stylesList[r].d),this.stylesList[r].pElem.setAttribute("d",this.stylesList[r].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var r,e,t=this.animatedContents.length;for(r=0;r<t;r+=1)e=this.animatedContents[r],(this._isFirstFrame||e.element._isAnimated)&&e.data!==!0&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,t=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",t[0]-e[0]+" 0 0 0 "+e[0]+" "+(t[1]-e[1])+" 0 0 0 "+e[1]+" "+(t[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+o+" 0")}},SVGFillFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,t=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+t+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e=.3*this.filterManager.effectElements[0].p.v,t=this.filterManager.effectElements[1].p.v,o=t==3?0:e,l=t==2?0:e;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var h=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",h)}},SVGStrokeEffect.prototype.initialize=function(){var r,e,t,o,l=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,t=0):o=1+(t=this.filterManager.effectElements[0].p.v-1),(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);t<o;t+=1)r=createNS("path"),e.appendChild(r),this.paths.push({p:r,m:t});if(this.filterManager.effectElements[10].p.v===3){var h=createNS("mask"),y=createElementID();h.setAttribute("id",y),h.setAttribute("mask-type","alpha"),h.appendChild(e),this.elem.globalData.defs.appendChild(h);var O=createNS("g");for(O.setAttribute("mask","url("+locationHref+"#"+y+")");l[0];)O.appendChild(l[0]);this.elem.layerElement.appendChild(O),this.masker=h,e.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(l=this.elem.layerElement.children||this.elem.layerElement.childNodes;l.length;)this.elem.layerElement.removeChild(l[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(r){var e;this.initialized||this.initialize();var t,o,l=this.paths.length;for(e=0;e<l;e+=1)if(this.paths[e].m!==-1&&(t=this.elem.maskManager.viewData[this.paths[e].m],o=this.paths[e].p,(r||this.filterManager._mdf||t.prop._mdf)&&o.setAttribute("d",t.lastPath),r||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||t.prop._mdf)){var h;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var y=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),O=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),D=o.getTotalLength();h="0 0 0 "+D*y+" ";var R,F=D*(O-y),B=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,j=Math.floor(F/B);for(R=0;R<j;R+=1)h+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";h+="0 "+10*D+" 0 0"}else h="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",h)}if((r||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(r||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(r||this.filterManager.effectElements[3].p._mdf)){var U=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*U[0])+","+bmFloor(255*U[1])+","+bmFloor(255*U[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,t=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,l=o[0]+" "+t[0]+" "+e[0],h=o[1]+" "+t[1]+" "+e[1],y=o[2]+" "+t[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",l),this.feFuncG.setAttribute("tableValues",h),this.feFuncB.setAttribute("tableValues",y)}},SVGProLevelsFilter.prototype.createFeFunc=function(r,e){var t=createNS(r);return t.setAttribute("type","table"),e.appendChild(t),t},SVGProLevelsFilter.prototype.getTableValue=function(r,e,t,o,l){for(var h,y,O=0,D=Math.min(r,e),R=Math.max(r,e),F=Array.call(null,{length:256}),B=0,j=l-o,U=e-r;O<=256;)y=(h=O/256)<=D?U<0?l:o:h>=R?U<0?o:l:o+j*Math.pow((h-r)/U,1/t),F[B]=y,B+=1,O+=256/255;return F.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var e,t=this.filterManager.effectElements;this.feFuncRComposed&&(r||t[3].p._mdf||t[4].p._mdf||t[5].p._mdf||t[6].p._mdf||t[7].p._mdf)&&(e=this.getTableValue(t[3].p.v,t[4].p.v,t[5].p.v,t[6].p.v,t[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(r||t[10].p._mdf||t[11].p._mdf||t[12].p._mdf||t[13].p._mdf||t[14].p._mdf)&&(e=this.getTableValue(t[10].p.v,t[11].p.v,t[12].p.v,t[13].p.v,t[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(r||t[17].p._mdf||t[18].p._mdf||t[19].p._mdf||t[20].p._mdf||t[21].p._mdf)&&(e=this.getTableValue(t[17].p.v,t[18].p.v,t[19].p.v,t[20].p.v,t[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(r||t[24].p._mdf||t[25].p._mdf||t[26].p._mdf||t[27].p._mdf||t[28].p._mdf)&&(e=this.getTableValue(t[24].p.v,t[25].p.v,t[26].p.v,t[27].p.v,t[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(r||t[31].p._mdf||t[32].p._mdf||t[33].p._mdf||t[34].p._mdf||t[35].p._mdf)&&(e=this.getTableValue(t[31].p.v,t[32].p.v,t[33].p.v,t[34].p.v,t[35].p.v),this.feFuncA.setAttribute("tableValues",e))}},SVGDropShadowEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){if((r||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),r||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])))}if((r||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),r||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var t=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,l=t*Math.cos(o),h=t*Math.sin(o);this.feOffset.setAttribute("dx",l),this.feOffset.setAttribute("dy",h)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(r,e,t){this.initialized=!1,this.filterManager=e,this.filterElem=r,this.elem=t,t.matteElement=createNS("g"),t.matteElement.appendChild(t.layerElement),t.matteElement.appendChild(t.transformedElement),t.baseElement=t.matteElement}function SVGEffects(r){var e,t,o=r.data.ef?r.data.ef.length:0,l=createElementID(),h=filtersFactory.createFilter(l,!0),y=0;for(this.filters=[],e=0;e<o;e+=1)t=null,r.data.ef[e].ty===20?(y+=1,t=new SVGTintFilter(h,r.effectsManager.effectElements[e])):r.data.ef[e].ty===21?(y+=1,t=new SVGFillFilter(h,r.effectsManager.effectElements[e])):r.data.ef[e].ty===22?t=new SVGStrokeEffect(r,r.effectsManager.effectElements[e]):r.data.ef[e].ty===23?(y+=1,t=new SVGTritoneFilter(h,r.effectsManager.effectElements[e])):r.data.ef[e].ty===24?(y+=1,t=new SVGProLevelsFilter(h,r.effectsManager.effectElements[e])):r.data.ef[e].ty===25?(y+=1,t=new SVGDropShadowEffect(h,r.effectsManager.effectElements[e])):r.data.ef[e].ty===28?t=new SVGMatte3Effect(h,r.effectsManager.effectElements[e],r):r.data.ef[e].ty===29&&(y+=1,t=new SVGGaussianBlurEffect(h,r.effectsManager.effectElements[e])),t&&this.filters.push(t);y&&(r.globalData.defs.appendChild(h),r.layerElement.setAttribute("filter","url("+locationHref+"#"+l+")")),this.filters.length&&r.addRenderableComponent(this)}function CVContextData(){var r;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),r=0;r<15;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(r,e,t){this.assetData=e.getAssetData(r.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(r,e,t)}function CVCompElement(r,e,t){this.completeLayers=!1,this.layers=r.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(r,e,t),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(r,e){var t;this.data=r,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var o=this.masksProperties.length,l=!1;for(t=0;t<o;t+=1)this.masksProperties[t].mode!=="n"&&(l=!0),this.viewData[t]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[t],3);this.hasMasks=l,l&&this.element.addRenderableComponent(this)}function CVShapeElement(r,e,t){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(r,e,t)}function CVSolidElement(r,e,t){this.initElement(r,e,t)}function CVTextElement(r,e,t){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(r,e,t)}function CVEffects(){}function HBaseElement(){}function HSolidElement(r,e,t){this.initElement(r,e,t)}function HCompElement(r,e,t){this.layers=r.layers,this.supports3d=!r.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,e,t),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(r,e,t){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(r,e,t),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(r,e,t){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(r,e,t)}function HImageElement(r,e,t){this.assetData=e.getAssetData(r.refId),this.initElement(r,e,t)}function HCameraElement(r,e,t){this.initFrame(),this.initBaseData(r,e,t),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,r.pe,0,0,this),r.ks.p.s?(this.px=o(this,r.ks.p.x,1,0,this),this.py=o(this,r.ks.p.y,1,0,this),this.pz=o(this,r.ks.p.z,1,0,this)):this.p=o(this,r.ks.p,1,0,this),r.ks.a&&(this.a=o(this,r.ks.a,1,0,this)),r.ks.or.k.length&&r.ks.or.k[0].to){var l,h=r.ks.or.k.length;for(l=0;l<h;l+=1)r.ks.or.k[l].to=null,r.ks.or.k[l].ti=null}this.or=o(this,r.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,r.ks.rx,0,degToRads,this),this.ry=o(this,r.ks.ry,0,degToRads,this),this.rz=o(this,r.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}SVGMatte3Effect.prototype.findSymbol=function(r){for(var e=0,t=_svgMatteSymbols.length;e<t;){if(_svgMatteSymbols[e]===r)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(r,e){var t=r.layerElement.parentNode;if(t){for(var o,l=t.children,h=0,y=l.length;h<y&&l[h]!==r.layerElement;)h+=1;h<=y-2&&(o=l[h+1]);var O=createNS("use");O.setAttribute("href","#"+e),o?t.insertBefore(O,o):t.appendChild(O)}},SVGMatte3Effect.prototype.setElementAsMask=function(r,e){if(!this.findSymbol(e)){var t=createElementID(),o=createNS("mask");o.setAttribute("id",e.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var l=r.globalData.defs;l.appendChild(o);var h=createNS("symbol");h.setAttribute("id",t),this.replaceInParent(e,t),h.appendChild(e.layerElement),l.appendChild(h);var y=createNS("use");y.setAttribute("href","#"+t),o.appendChild(y),e.data.hd=!1,e.show()}r.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var r=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,t=0,o=e.length;t<o;)e[t]&&e[t].data.ind===r&&this.setElementAsMask(this.elem,e[t]),t+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(r){var e,t=this.filters.length;for(e=0;e<t;e+=1)this.filters[e].renderFrame(r)},CVContextData.prototype.duplicate=function(){var r=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",r),this.savedOp.set(e);var t=0;for(t=this._length;t<r;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=r},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var r=this.globalData;if(r.blendMode!==this.data.bm){r.blendMode=this.data.bm;var e=getBlendMode(this.data.bm);r.canvasContext.globalCompositeOperation=e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var r=this.data.ty===0;this.globalData.renderer.save(r),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(r),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var r=createTag("canvas");r.width=this.assetData.w,r.height=this.assetData.h;var e,t,o=r.getContext("2d"),l=this.img.width,h=this.img.height,y=l/h,O=this.assetData.w/this.assetData.h,D=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;y>O&&D==="xMidYMid slice"||y<O&&D!=="xMidYMid slice"?e=(t=h)*O:t=(e=l)/O,o.drawImage(this.img,(l-e)/2,(h-t)/2,e,t,0,0,this.assetData.w,this.assetData.h),this.img=r}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var r,e=this.canvasContext;for(e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip(),r=this.layers.length-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()},CVCompElement.prototype.destroy=function(){var r;for(r=this.layers.length-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var r,e,t,o,l=this.element.finalTransform.mat,h=this.element.canvasContext,y=this.masksProperties.length;for(h.beginPath(),r=0;r<y;r+=1)if(this.masksProperties[r].mode!=="n"){var O;this.masksProperties[r].inv&&(h.moveTo(0,0),h.lineTo(this.element.globalData.compSize.w,0),h.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),h.lineTo(0,this.element.globalData.compSize.h),h.lineTo(0,0)),o=this.viewData[r].v,e=l.applyToPointArray(o.v[0][0],o.v[0][1],0),h.moveTo(e[0],e[1]);var D=o._length;for(O=1;O<D;O+=1)t=l.applyToTriplePoints(o.o[O-1],o.i[O],o.v[O]),h.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);t=l.applyToTriplePoints(o.o[O-1],o.i[0],o.v[0]),h.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])}this.element.globalData.renderer.save(!0),h.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(r,e){var t={data:r,type:r.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:r.hd===!0},o={};if(r.ty==="fl"||r.ty==="st"?(o.c=PropertyFactory.getProp(this,r.c,1,255,this),o.c.k||(t.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):r.ty!=="gf"&&r.ty!=="gs"||(o.s=PropertyFactory.getProp(this,r.s,1,null,this),o.e=PropertyFactory.getProp(this,r.e,1,null,this),o.h=PropertyFactory.getProp(this,r.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,r.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,r.g,this)),o.o=PropertyFactory.getProp(this,r.o,0,.01,this),r.ty==="st"||r.ty==="gs"){if(t.lc=lineCapEnum[r.lc||2],t.lj=lineJoinEnum[r.lj||2],r.lj==1&&(t.ml=r.ml),o.w=PropertyFactory.getProp(this,r.w,0,null,this),o.w.k||(t.wi=o.w.v),r.d){var l=new DashProperty(this,r.d,"canvas",this);o.d=l,o.d.k||(t.da=o.d.dashArray,t.do=o.d.dashoffset[0])}}else t.r=r.r===2?"evenodd":"nonzero";return this.stylesList.push(t),o.style=t,o},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(r){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,r.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,r,this)}}},CVShapeElement.prototype.createShapeElement=function(r){var e=new CVShapeData(this,r,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){var r;this._isFirstFrame=!0;var e=this.itemsData.length;for(r=0;r<e;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,r=0;r<e;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(r){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(r)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var r,e=this.stylesList.length;for(r=0;r<e;r+=1)this.stylesList[r].closed||this.stylesList[r].transforms.pop()},CVShapeElement.prototype.closeStyles=function(r){var e,t=r.length;for(e=0;e<t;e+=1)r[e].closed=!0},CVShapeElement.prototype.searchShapes=function(r,e,t,o,l){var h,y,O,D,R,F,B=r.length-1,j=[],U=[],W=[].concat(l);for(h=B;h>=0;h-=1){if((D=this.searchProcessedElement(r[h]))?e[h]=t[D-1]:r[h]._shouldRender=o,r[h].ty==="fl"||r[h].ty==="st"||r[h].ty==="gf"||r[h].ty==="gs")D?e[h].style.closed=!1:e[h]=this.createStyleElement(r[h],W),j.push(e[h].style);else if(r[h].ty==="gr"){if(D)for(O=e[h].it.length,y=0;y<O;y+=1)e[h].prevViewData[y]=e[h].it[y];else e[h]=this.createGroupElement(r[h]);this.searchShapes(r[h].it,e[h].it,e[h].prevViewData,o,W)}else r[h].ty==="tr"?(D||(F=this.createTransformElement(r[h]),e[h]=F),W.push(e[h]),this.addTransformToStyleList(e[h])):r[h].ty==="sh"||r[h].ty==="rc"||r[h].ty==="el"||r[h].ty==="sr"?D||(e[h]=this.createShapeElement(r[h])):r[h].ty==="tm"||r[h].ty==="rd"||r[h].ty==="pb"?(D?(R=e[h]).closed=!1:((R=ShapeModifiers.getModifier(r[h].ty)).init(this,r[h]),e[h]=R,this.shapeModifiers.push(R)),U.push(R)):r[h].ty==="rp"&&(D?(R=e[h]).closed=!0:(R=ShapeModifiers.getModifier(r[h].ty),e[h]=R,R.init(this,r,h,e),this.shapeModifiers.push(R),o=!1),U.push(R));this.addProcessedElement(r[h],h+1)}for(this.removeTransformFromStyleList(),this.closeStyles(j),B=U.length,h=0;h<B;h+=1)U[h].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(r,e){(r._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=r.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var r,e,t,o,l,h,y,O,D,R=this.stylesList.length,F=this.globalData.renderer,B=this.globalData.canvasContext;for(r=0;r<R;r+=1)if(((O=(D=this.stylesList[r]).type)!=="st"&&O!=="gs"||D.wi!==0)&&D.data._shouldRender&&D.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(F.save(),h=D.elements,O==="st"||O==="gs"?(B.strokeStyle=O==="st"?D.co:D.grd,B.lineWidth=D.wi,B.lineCap=D.lc,B.lineJoin=D.lj,B.miterLimit=D.ml||0):B.fillStyle=O==="fl"?D.co:D.grd,F.ctxOpacity(D.coOp),O!=="st"&&O!=="gs"&&B.beginPath(),F.ctxTransform(D.preTransforms.finalTransform.props),t=h.length,e=0;e<t;e+=1){for(O!=="st"&&O!=="gs"||(B.beginPath(),D.da&&(B.setLineDash(D.da),B.lineDashOffset=D.do)),l=(y=h[e].trNodes).length,o=0;o<l;o+=1)y[o].t==="m"?B.moveTo(y[o].p[0],y[o].p[1]):y[o].t==="c"?B.bezierCurveTo(y[o].pts[0],y[o].pts[1],y[o].pts[2],y[o].pts[3],y[o].pts[4],y[o].pts[5]):B.closePath();O!=="st"&&O!=="gs"||(B.stroke(),D.da&&B.setLineDash(this.dashResetter))}O!=="st"&&O!=="gs"&&B.fill(D.r),F.restore()}},CVShapeElement.prototype.renderShape=function(r,e,t,o){var l,h;for(h=r,l=e.length-1;l>=0;l-=1)e[l].ty==="tr"?(h=t[l].transform,this.renderShapeTransform(r,h)):e[l].ty==="sh"||e[l].ty==="el"||e[l].ty==="rc"||e[l].ty==="sr"?this.renderPath(e[l],t[l]):e[l].ty==="fl"?this.renderFill(e[l],t[l],h):e[l].ty==="st"?this.renderStroke(e[l],t[l],h):e[l].ty==="gf"||e[l].ty==="gs"?this.renderGradientFill(e[l],t[l],h):e[l].ty==="gr"?this.renderShape(h,e[l].it,t[l].it):e[l].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(r,e){if(this._isFirstFrame||e._mdf||r.transforms._mdf){var t,o,l,h=r.trNodes,y=e.paths,O=y._length;h.length=0;var D=r.transforms.finalTransform;for(l=0;l<O;l+=1){var R=y.shapes[l];if(R&&R.v){for(o=R._length,t=1;t<o;t+=1)t===1&&h.push({t:"m",p:D.applyToPointArray(R.v[0][0],R.v[0][1],0)}),h.push({t:"c",pts:D.applyToTriplePoints(R.o[t-1],R.i[t],R.v[t])});o===1&&h.push({t:"m",p:D.applyToPointArray(R.v[0][0],R.v[0][1],0)}),R.c&&o&&(h.push({t:"c",pts:D.applyToTriplePoints(R.o[t-1],R.i[0],R.v[0])}),h.push({t:"z"}))}}r.trNodes=h}},CVShapeElement.prototype.renderPath=function(r,e){if(r.hd!==!0&&r._shouldRender){var t,o=e.styledShapes.length;for(t=0;t<o;t+=1)this.renderStyledShape(e.styledShapes[t],e.sh)}},CVShapeElement.prototype.renderFill=function(r,e,t){var o=e.style;(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||t._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*t.opacity)},CVShapeElement.prototype.renderGradientFill=function(r,e,t){var o,l=e.style;if(!l.grd||e.g._mdf||e.s._mdf||e.e._mdf||r.t!==1&&(e.h._mdf||e.a._mdf)){var h,y=this.globalData.canvasContext,O=e.s.v,D=e.e.v;if(r.t===1)o=y.createLinearGradient(O[0],O[1],D[0],D[1]);else{var R=Math.sqrt(Math.pow(O[0]-D[0],2)+Math.pow(O[1]-D[1],2)),F=Math.atan2(D[1]-O[1],D[0]-O[0]),B=e.h.v;B>=1?B=.99:B<=-1&&(B=-.99);var j=R*B,U=Math.cos(F+e.a.v)*j+O[0],W=Math.sin(F+e.a.v)*j+O[1];o=y.createRadialGradient(U,W,0,O[0],O[1],R)}var G=r.g.p,q=e.g.c,K=1;for(h=0;h<G;h+=1)e.g._hasOpacity&&e.g._collapsable&&(K=e.g.o[2*h+1]),o.addColorStop(q[4*h]/100,"rgba("+q[4*h+1]+","+q[4*h+2]+","+q[4*h+3]+","+K+")");l.grd=o}l.coOp=e.o.v*t.opacity},CVShapeElement.prototype.renderStroke=function(r,e,t){var o=e.style,l=e.d;l&&(l._mdf||this._isFirstFrame)&&(o.da=l.dashArray,o.do=l.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||t._opMdf||this._isFirstFrame)&&(o.coOp=e.o.v*t.opacity),(e.w._mdf||this._isFirstFrame)&&(o.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var r=this.canvasContext;r.fillStyle=this.data.sc,r.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var e=!1;r.fc?(e=!0,this.values.fill=this.buildColor(r.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var t=!1;r.sc&&(t=!0,this.values.stroke=this.buildColor(r.sc),this.values.sWidth=r.sw);var o,l,h,y,O,D,R,F,B,j,U,W,G=this.globalData.fontManager.getFontByName(r.f),q=r.l,K=this.mHelper;this.stroke=t,this.values.fValue=r.finalSize+"px "+this.globalData.fontManager.getFontByName(r.f).fFamily,l=r.finalText.length;var Y=this.data.singleShape,X=.001*r.tr*r.finalSize,J=0,Q=0,Z=!0,ee=0;for(o=0;o<l;o+=1){for(y=(h=this.globalData.fontManager.getCharData(r.finalText[o],G.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&h.data||{},K.reset(),Y&&q[o].n&&(J=-X,Q+=r.yOffset,Q+=Z?1:0,Z=!1),B=(R=y.shapes?y.shapes[0].it:[]).length,K.scale(r.finalSize/100,r.finalSize/100),Y&&this.applyTextPropertiesToMatrix(r,K,q[o].line,J,Q),U=createSizedArray(B),F=0;F<B;F+=1){for(D=R[F].ks.k.i.length,j=R[F].ks.k,W=[],O=1;O<D;O+=1)O===1&&W.push(K.applyToX(j.v[0][0],j.v[0][1],0),K.applyToY(j.v[0][0],j.v[0][1],0)),W.push(K.applyToX(j.o[O-1][0],j.o[O-1][1],0),K.applyToY(j.o[O-1][0],j.o[O-1][1],0),K.applyToX(j.i[O][0],j.i[O][1],0),K.applyToY(j.i[O][0],j.i[O][1],0),K.applyToX(j.v[O][0],j.v[O][1],0),K.applyToY(j.v[O][0],j.v[O][1],0));W.push(K.applyToX(j.o[O-1][0],j.o[O-1][1],0),K.applyToY(j.o[O-1][0],j.o[O-1][1],0),K.applyToX(j.i[0][0],j.i[0][1],0),K.applyToY(j.i[0][0],j.i[0][1],0),K.applyToX(j.v[0][0],j.v[0][1],0),K.applyToY(j.v[0][0],j.v[0][1],0)),U[F]=W}Y&&(J+=q[o].l,J+=X),this.textSpans[ee]?this.textSpans[ee].elem=U:this.textSpans[ee]={elem:U},ee+=1}},CVTextElement.prototype.renderInnerContent=function(){var r,e,t,o,l,h,y=this.canvasContext;y.font=this.values.fValue,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var O,D=this.textAnimator.renderedLetters,R=this.textProperty.currentData.l;e=R.length;var F,B,j=null,U=null,W=null;for(r=0;r<e;r+=1)if(!R[r].n){if((O=D[r])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(O.p),this.globalData.renderer.ctxOpacity(O.o)),this.fill){for(O&&O.fc?j!==O.fc&&(j=O.fc,y.fillStyle=O.fc):j!==this.values.fill&&(j=this.values.fill,y.fillStyle=this.values.fill),o=(F=this.textSpans[r].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<o;t+=1)for(h=(B=F[t]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(B[l],B[l+1],B[l+2],B[l+3],B[l+4],B[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(O&&O.sw?W!==O.sw&&(W=O.sw,y.lineWidth=O.sw):W!==this.values.sWidth&&(W=this.values.sWidth,y.lineWidth=this.values.sWidth),O&&O.sc?U!==O.sc&&(U=O.sc,y.strokeStyle=O.sc):U!==this.values.stroke&&(U=this.values.stroke,y.strokeStyle=this.values.stroke),o=(F=this.textSpans[r].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<o;t+=1)for(h=(B=F[t]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(B[l],B[l+1],B[l+2],B[l+3],B[l+4],B[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}O&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var r=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var e=this.finalTransform.mat.toCSS();r.transform=e,r.webkitTransform=e}this.finalTransform._opMdf&&(r.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var r;this.data.hasMask?((r=createNS("rect")).setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((r=createTag("div")).style.width=this.data.sw+"px",r.style.height=this.data.sh+"px",r.style.backgroundColor=this.data.sc),this.layerElement.appendChild(r)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(r,e){for(var t,o=0;o<e;)this.elements[o]&&this.elements[o].getBaseElement&&(t=this.elements[o].getBaseElement()),o+=1;t?this.layerElement.insertBefore(r,t):this.layerElement.appendChild(r)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var r;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),r=this.svgElement;else{r=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;r.setAttribute("width",e.w),r.setAttribute("height",e.h),r.appendChild(this.shapesContainer),this.layerElement.appendChild(r)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=r},HShapeElement.prototype.getTransformedPoint=function(r,e){var t,o=r.length;for(t=0;t<o;t+=1)e=r[t].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(r,e){var t,o,l,h,y,O=r.sh.v,D=r.transformers,R=O._length;if(!(R<=1)){for(t=0;t<R-1;t+=1)o=this.getTransformedPoint(D,O.v[t]),l=this.getTransformedPoint(D,O.o[t]),h=this.getTransformedPoint(D,O.i[t+1]),y=this.getTransformedPoint(D,O.v[t+1]),this.checkBounds(o,l,h,y,e);O.c&&(o=this.getTransformedPoint(D,O.v[t]),l=this.getTransformedPoint(D,O.o[t]),h=this.getTransformedPoint(D,O.i[0]),y=this.getTransformedPoint(D,O.v[0]),this.checkBounds(o,l,h,y,e))}},HShapeElement.prototype.checkBounds=function(r,e,t,o,l){this.getBoundsOfCurve(r,e,t,o);var h=this.shapeBoundingBox;l.x=bmMin(h.left,l.x),l.xMax=bmMax(h.right,l.xMax),l.y=bmMin(h.top,l.y),l.yMax=bmMax(h.bottom,l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(r,e,t,o){for(var l,h,y,O,D,R,F,B=[[r[0],o[0]],[r[1],o[1]]],j=0;j<2;++j)h=6*r[j]-12*e[j]+6*t[j],l=-3*r[j]+9*e[j]-9*t[j]+3*o[j],y=3*e[j]-3*r[j],h|=0,y|=0,(l|=0)==0&&h===0||(l===0?(O=-y/h)>0&&O<1&&B[j].push(this.calculateF(O,r,e,t,o,j)):(D=h*h-4*y*l)>=0&&((R=(-h+bmSqrt(D))/(2*l))>0&&R<1&&B[j].push(this.calculateF(R,r,e,t,o,j)),(F=(-h-bmSqrt(D))/(2*l))>0&&F<1&&B[j].push(this.calculateF(F,r,e,t,o,j))));this.shapeBoundingBox.left=bmMin.apply(null,B[0]),this.shapeBoundingBox.top=bmMin.apply(null,B[1]),this.shapeBoundingBox.right=bmMax.apply(null,B[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,B[1])},HShapeElement.prototype.calculateF=function(r,e,t,o,l,h){return bmPow(1-r,3)*e[h]+3*bmPow(1-r,2)*r*t[h]+3*(1-r)*bmPow(r,2)*o[h]+bmPow(r,3)*l[h]},HShapeElement.prototype.calculateBoundingBox=function(r,e){var t,o=r.length;for(t=0;t<o;t+=1)r[t]&&r[t].sh?this.calculateShapeBoundingBox(r[t],e):r[t]&&r[t].it&&this.calculateBoundingBox(r[t].it,e)},HShapeElement.prototype.currentBoxContains=function(r){return this.currentBBox.x<=r.x&&this.currentBBox.y<=r.y&&this.currentBBox.width+this.currentBBox.x>=r.x+r.width&&this.currentBBox.height+this.currentBBox.y>=r.y+r.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var r=this.tempBoundingBox,e=999999;if(r.x=e,r.xMax=-e,r.y=e,r.yMax=-e,this.calculateBoundingBox(this.itemsData,r),r.width=r.xMax<r.x?0:r.xMax-r.x,r.height=r.yMax<r.y?0:r.yMax-r.y,this.currentBoxContains(r))return;var t=!1;if(this.currentBBox.w!==r.width&&(this.currentBBox.w=r.width,this.shapeCont.setAttribute("width",r.width),t=!0),this.currentBBox.h!==r.height&&(this.currentBBox.h=r.height,this.shapeCont.setAttribute("height",r.height),t=!0),t||this.currentBBox.x!==r.x||this.currentBBox.y!==r.y){this.currentBBox.w=r.width,this.currentBBox.h=r.height,this.currentBBox.x=r.x,this.currentBBox.y=r.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=l,o.webkitTransform=l}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var r=createNS("g");this.maskedElement.appendChild(r),this.innerElem=r}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var e=this.innerElem.style,t=r.fc?this.buildColor(r.fc):"rgba(0,0,0,0)";e.fill=t,e.color=t,r.sc&&(e.stroke=this.buildColor(r.sc),e.strokeWidth=r.sw+"px");var o,l,h=this.globalData.fontManager.getFontByName(r.f);if(!this.globalData.fontManager.chars)if(e.fontSize=r.finalSize+"px",e.lineHeight=r.finalSize+"px",h.fClass)this.innerElem.className=h.fClass;else{e.fontFamily=h.fFamily;var y=r.fWeight,O=r.fStyle;e.fontStyle=O,e.fontWeight=y}var D,R,F,B=r.l;l=B.length;var j,U=this.mHelper,W="",G=0;for(o=0;o<l;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[G]?D=this.textPaths[G]:((D=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),D.setAttribute("stroke-linejoin",lineJoinEnum[2]),D.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[G]?F=(R=this.textSpans[G]).children[0]:((R=createTag("div")).style.lineHeight=0,(F=createNS("svg")).appendChild(D),styleDiv(R)))):this.isMasked?D=this.textPaths[G]?this.textPaths[G]:createNS("text"):this.textSpans[G]?(R=this.textSpans[G],D=this.textPaths[G]):(styleDiv(R=createTag("span")),styleDiv(D=createTag("span")),R.appendChild(D)),this.globalData.fontManager.chars){var q,K=this.globalData.fontManager.getCharData(r.finalText[o],h.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily);if(q=K?K.data:null,U.reset(),q&&q.shapes&&(j=q.shapes[0].it,U.scale(r.finalSize/100,r.finalSize/100),W=this.createPathShape(U,j),D.setAttribute("d",W)),this.isMasked)this.innerElem.appendChild(D);else{if(this.innerElem.appendChild(R),q&&q.shapes){document.body.appendChild(F);var Y=F.getBBox();F.setAttribute("width",Y.width+2),F.setAttribute("height",Y.height+2),F.setAttribute("viewBox",Y.x-1+" "+(Y.y-1)+" "+(Y.width+2)+" "+(Y.height+2));var X=F.style,J="translate("+(Y.x-1)+"px,"+(Y.y-1)+"px)";X.transform=J,X.webkitTransform=J,B[o].yOffset=Y.y-1}else F.setAttribute("width",1),F.setAttribute("height",1);R.appendChild(F)}}else if(D.textContent=B[o].val,D.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(D);else{this.innerElem.appendChild(R);var Q=D.style,Z="translate3d(0,"+-r.finalSize/1.2+"px,0)";Q.transform=Z,Q.webkitTransform=Z}this.isMasked?this.textSpans[G]=D:this.textSpans[G]=R,this.textSpans[G].style.display="block",this.textPaths[G]=D,G+=1}for(;G<this.textSpans.length;)this.textSpans[G].style.display="none",G+=1},HTextElement.prototype.renderInnerContent=function(){var r;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),r=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";r.transform=e,r.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var t,o,l,h,y,O=0,D=this.textAnimator.renderedLetters,R=this.textProperty.currentData.l;for(o=R.length,t=0;t<o;t+=1)R[t].n?O+=1:(h=this.textSpans[t],y=this.textPaths[t],l=D[O],O+=1,l._mdf.m&&(this.isMasked?h.setAttribute("transform",l.m):(h.style.webkitTransform=l.m,h.style.transform=l.m)),h.style.opacity=l.o,l.sw&&l._mdf.sw&&y.setAttribute("stroke-width",l.sw),l.sc&&l._mdf.sc&&y.setAttribute("stroke",l.sc),l.fc&&l._mdf.fc&&(y.setAttribute("fill",l.fc),y.style.color=l.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var F=this.innerElem.getBBox();if(this.currentBBox.w!==F.width&&(this.currentBBox.w=F.width,this.svgElement.setAttribute("width",F.width)),this.currentBBox.h!==F.height&&(this.currentBBox.h=F.height,this.svgElement.setAttribute("height",F.height)),this.currentBBox.w!==F.width+2||this.currentBBox.h!==F.height+2||this.currentBBox.x!==F.x-1||this.currentBBox.y!==F.y-1){this.currentBBox.w=F.width+2,this.currentBBox.h=F.height+2,this.currentBBox.x=F.x-1,this.currentBBox.y=F.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),r=this.svgElement.style;var B="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=B,r.webkitTransform=B}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=r,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var r,e,t,o,l=this.comp.threeDElements.length;for(r=0;r<l;r+=1)if((e=this.comp.threeDElements[r]).type==="3d"){t=e.perspectiveElem.style,o=e.container.style;var h=this.pe.v+"px",y="0px 0px 0px",O="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";t.perspective=h,t.webkitPerspective=h,o.transformOrigin=y,o.mozTransformOrigin=y,o.webkitTransformOrigin=y,t.transform=O,t.webkitTransform=O}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var r,e,t=this._isFirstFrame;if(this.hierarchy)for(e=this.hierarchy.length,r=0;r<e;r+=1)t=this.hierarchy[r].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=e=this.hierarchy.length-1;r>=0;r-=1){var o=this.hierarchy[r].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var l;l=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var h=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)),y=[l[0]/h,l[1]/h,l[2]/h],O=Math.sqrt(y[2]*y[2]+y[0]*y[0]),D=Math.atan2(y[1],O),R=Math.atan2(y[0],-y[2]);this.mat.rotateY(R).rotateX(-D)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var F=!this._prevMat.equals(this.mat);if((F||this.pe._mdf)&&this.comp.threeDElements){var B,j,U;for(e=this.comp.threeDElements.length,r=0;r<e;r+=1)if((B=this.comp.threeDElements[r]).type==="3d"){if(F){var W=this.mat.toCSS();(U=B.container.style).transform=W,U.webkitTransform=W}this.pe._mdf&&((j=B.perspectiveElem.style).perspective=this.pe.v+"px",j.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};var animationManager=function(){var r={},e=[],t=0,o=0,l=0,h=!0,y=!1;function O(G){for(var q=0,K=G.target;q<o;)e[q].animation===K&&(e.splice(q,1),q-=1,o-=1,K.isPaused||F()),q+=1}function D(G,q){if(!G)return null;for(var K=0;K<o;){if(e[K].elem===G&&e[K].elem!==null)return e[K].animation;K+=1}var Y=new AnimationItem;return B(Y,G),Y.setData(G,q),Y}function R(){l+=1,W()}function F(){l-=1}function B(G,q){G.addEventListener("destroy",O),G.addEventListener("_active",R),G.addEventListener("_idle",F),e.push({elem:q,animation:G}),o+=1}function j(G){var q,K=G-t;for(q=0;q<o;q+=1)e[q].animation.advanceTime(K);t=G,l&&!y?window.requestAnimationFrame(j):h=!0}function U(G){t=G,window.requestAnimationFrame(j)}function W(){!y&&l&&h&&(window.requestAnimationFrame(U),h=!1)}return r.registerAnimation=D,r.loadAnimation=function(G){var q=new AnimationItem;return B(q,null),q.setParams(G),q},r.setSpeed=function(G,q){var K;for(K=0;K<o;K+=1)e[K].animation.setSpeed(G,q)},r.setDirection=function(G,q){var K;for(K=0;K<o;K+=1)e[K].animation.setDirection(G,q)},r.play=function(G){var q;for(q=0;q<o;q+=1)e[q].animation.play(G)},r.pause=function(G){var q;for(q=0;q<o;q+=1)e[q].animation.pause(G)},r.stop=function(G){var q;for(q=0;q<o;q+=1)e[q].animation.stop(G)},r.togglePause=function(G){var q;for(q=0;q<o;q+=1)e[q].animation.togglePause(G)},r.searchAnimations=function(G,q,K){var Y,X=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),J=X.length;for(Y=0;Y<J;Y+=1)K&&X[Y].setAttribute("data-bm-type",K),D(X[Y],G);if(q&&J===0){K||(K="svg");var Q=document.getElementsByTagName("body")[0];Q.innerText="";var Z=createTag("div");Z.style.width="100%",Z.style.height="100%",Z.setAttribute("data-bm-type",K),Q.appendChild(Z),D(Z,G)}},r.resize=function(){var G;for(G=0;G<o;G+=1)e[G].animation.resize()},r.goToAndStop=function(G,q,K){var Y;for(Y=0;Y<o;Y+=1)e[Y].animation.goToAndStop(G,q,K)},r.destroy=function(G){var q;for(q=o-1;q>=0;q-=1)e[q].animation.destroy(G)},r.freeze=function(){y=!0},r.unfreeze=function(){y=!1,W()},r.setVolume=function(G,q){var K;for(K=0;K<o;K+=1)e[K].animation.setVolume(G,q)},r.mute=function(G){var q;for(q=0;q<o;q+=1)e[q].animation.mute(G)},r.unmute=function(G){var q;for(q=0;q<o;q+=1)e[q].animation.unmute(G)},r.getRegisteredAnimations=function(){var G,q=e.length,K=[];for(G=0;G<q;G+=1)K.push(e[G].animation);return K},r}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(r){(r.wrapper||r.container)&&(this.wrapper=r.wrapper||r.container);var e="svg";switch(r.animType?e=r.animType:r.renderer&&(e=r.renderer),e){case"canvas":this.renderer=new CanvasRenderer(this,r.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,r.rendererSettings);break;default:this.renderer=new HybridRenderer(this,r.rendererSettings)}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,r.loop===""||r.loop===null||r.loop===void 0||r.loop===!0?this.loop=!0:r.loop===!1?this.loop=!1:this.loop=parseInt(r.loop,10),this.autoplay=!("autoplay"in r)||r.autoplay,this.name=r.name?r.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(r,"autoloadSegments")||r.autoloadSegments,this.assetsPath=r.assetsPath,this.initialSegment=r.initialSegment,r.audioFactory&&this.audioController.setAudioFactory(r.audioFactory),r.animationData?this.setupAnimation(r.animationData):r.path&&(r.path.lastIndexOf("\\")!==-1?this.path=r.path.substr(0,r.path.lastIndexOf("\\")+1):this.path=r.path.substr(0,r.path.lastIndexOf("/")+1),this.fileName=r.path.substr(r.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(r.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(r){dataManager.completeAnimation(r,this.configAnimation)},AnimationItem.prototype.setData=function(r,e){e&&typeof e!="object"&&(e=JSON.parse(e));var t={wrapper:r,animationData:e},o=r.attributes;t.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",t.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:"canvas";var l=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";l==="false"?t.loop=!1:l==="true"?t.loop=!0:l!==""&&(t.loop=parseInt(l,10));var h=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:!o.getNamedItem("bm-autoplay")||o.getNamedItem("bm-autoplay").value;t.autoplay=h!=="false",t.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"",(o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"")==="false"&&(t.prerender=!1),this.setParams(t)},AnimationItem.prototype.includeLayers=function(r){r.op>this.animationData.op&&(this.animationData.op=r.op,this.totalFrames=Math.floor(r.op-this.animationData.ip));var e,t,o=this.animationData.layers,l=o.length,h=r.layers,y=h.length;for(t=0;t<y;t+=1)for(e=0;e<l;){if(o[e].id===h[t].id){o[e]=h[t];break}e+=1}if((r.chars||r.fonts)&&(this.renderer.globalData.fontManager.addChars(r.chars),this.renderer.globalData.fontManager.addFonts(r.fonts,this.renderer.globalData.defs)),r.assets)for(l=r.assets.length,e=0;e<l;e+=1)this.animationData.assets.push(r.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(r){this.animationData=r,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var r=this.animationData.segments;if(!r||r.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var e=r.shift();this.timeCompleted=e.time*this.frameRate;var t=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(t,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(r){if(this.renderer)try{this.animationData=r,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(r),r.assets||(r.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(r.assets),this.markers=markerParser(r.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(r){this.isSubframeEnabled=!!r},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(r){this.triggerRenderFrameError(r)}},AnimationItem.prototype.play=function(r){r&&this.name!==r||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(r){r&&this.name!==r||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(r){r&&this.name!==r||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(r){r&&this.name!==r||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(r){for(var e,t=0;t<this.markers.length;t+=1)if((e=this.markers[t]).payload&&e.payload.name===r)return e;return null},AnimationItem.prototype.goToAndStop=function(r,e,t){if(!t||this.name===t){var o=Number(r);if(isNaN(o)){var l=this.getMarkerData(r);l&&this.goToAndStop(l.time,!0)}else e?this.setCurrentRawFrameValue(r):this.setCurrentRawFrameValue(r*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(r,e,t){if(!t||this.name===t){var o=Number(r);if(isNaN(o)){var l=this.getMarkerData(r);l&&(l.duration?this.playSegments([l.time,l.time+l.duration],!0):this.goToAndStop(l.time,!0))}else this.goToAndStop(o,e,t);this.play()}},AnimationItem.prototype.advanceTime=function(r){if(this.isPaused!==!0&&this.isLoaded!==!1){var e=this.currentRawFrame+r*this.frameModifier,t=!1;e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(t=!0,e=this.totalFrames-1):e<0?this.checkSegments(e%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(t=!0,e=0):(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(e),t&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(r,e){this.playCount=0,r[1]<r[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=r[0]-r[1],this.timeCompleted=this.totalFrames,this.firstFrame=r[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):r[1]>r[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=r[1]-r[0],this.timeCompleted=this.totalFrames,this.firstFrame=r[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(r,e){var t=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<r?t=r:this.currentRawFrame+this.firstFrame>e&&(t=e-r)),this.firstFrame=r,this.totalFrames=e-r,this.timeCompleted=this.totalFrames,t!==-1&&this.goToAndStop(t,!0)},AnimationItem.prototype.playSegments=function(r,e){if(e&&(this.segments.length=0),typeof r[0]=="object"){var t,o=r.length;for(t=0;t<o;t+=1)this.segments.push(r[t])}else this.segments.push(r);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(r){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),r&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(r){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),r),!0)},AnimationItem.prototype.destroy=function(r){r&&this.name!==r||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(r){this.currentRawFrame=r,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(r){this.playSpeed=r,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(r){this.playDirection=r<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(r,e){e&&this.name!==e||this.audioController.setVolume(r)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(r){r&&this.name!==r||this.audioController.mute()},AnimationItem.prototype.unmute=function(r){r&&this.name!==r||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(r){var e="";if(r.e)e=r.p;else if(this.assetsPath){var t=r.p;t.indexOf("images/")!==-1&&(t=t.split("/")[1]),e=this.assetsPath+t}else e=this.path,e+=r.u?r.u:"",e+=r.p;return e},AnimationItem.prototype.getAssetData=function(r){for(var e=0,t=this.assets.length;e<t;){if(r===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(r){return r?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(r){if(this._cbs&&this._cbs[r])switch(r){case"enterFrame":case"drawnFrame":this.triggerEvent(r,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(r,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(r,new BMCompleteEvent(r,this.frameMult));break;case"segmentStart":this.triggerEvent(r,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(r,new BMDestroyEvent(r,this));break;default:this.triggerEvent(r)}r==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameMult)),r==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult)),r==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(r,this.frameMult)),r==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames)),r==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(r,this))},AnimationItem.prototype.triggerRenderFrameError=function(r){var e=new BMRenderFrameErrorEvent(r,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(r){var e=new BMConfigErrorEvent(r,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var Expressions=function(){var r={initExpressions:function(e){var t=0,o=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){(t-=1)==0&&function(){var l,h=o.length;for(l=0;l<h;l+=1)o[l].release();o.length=0}()},e.renderer.globalData.registerExpressionProperty=function(l){o.indexOf(l)===-1&&o.push(l)}}};return r}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath;BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0,elem.data.ip/elem.comp.globalData.frameRate,elem.data.op/elem.comp.globalData.frameRate,elem.data.sw&&elem.data.sw,elem.data.sh&&elem.data.sh,elem.data.nm;var loopIn,loopOut,fromComp,thisLayer,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0];property.kf&&data.k.length,!this.data||this.data.hd,function(r,e){var t,o,l=this.pv.length?this.pv.length:1,h=createTypedArray("float32",l),y=Math.floor(5*time);for(t=0,o=0;t<y;){for(o=0;o<l;o+=1)h[o]+=-e+2*e*BMMath.random();t+=1}var O=5*time,D=O-Math.floor(O),R=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)R[o]=this.pv[o]+h[o]+(-e+2*e*BMMath.random())*D;return R}return this.pv+h[0]+(-e+2*e*BMMath.random())*D}.bind(this),thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty)),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty)),thisProperty.smooth&&thisProperty.smooth.bind(thisProperty),this.getValueAtTime&&this.getValueAtTime.bind(this),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this)),elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);var time,value;function seedRandom(r){BMMath.seedrandom(randSeed+r)}elem.data.ind,!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random());elem.globalData;function executeExpression(r){return value=r,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&this.selectorValue,thisLayer||(elem.layerInterface.text,thisLayer=elem.layerInterface,elem.comp.compInterface,thisLayer.toWorld.bind(thisLayer),thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),thisLayer.toComp.bind(thisLayer),thisLayer.mask&&thisLayer.mask.bind(thisLayer)),transform||(transform=elem.layerInterface("ADBE Transform Group"),transform&&transform.anchorPoint),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&velocityAtTime(time),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt.propType,scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(r,e,t){e.x&&(t.k=!0,t.x=!0,t.initiateExpression=ExpressionManager.initiateExpression,t.effectsSequence.push(t.initiateExpression(r,e,t).bind(t)))},getSpeedAtTime:function(r){var e=this.getValueAtTime(r),t=this.getValueAtTime(r+-.01),o=0;if(e.length){var l;for(l=0;l<e.length;l+=1)o+=Math.pow(t[l]-e[l],2);o=100*Math.sqrt(o)}else o=0;return o},getVelocityAtTime:function(r){if(this.vel!==void 0)return this.vel;var e,t,o=-.001,l=this.getValueAtTime(r),h=this.getValueAtTime(r+o);if(l.length)for(e=createTypedArray("float32",l.length),t=0;t<l.length;t+=1)e[t]=(h[t]-l[t])/o;else e=(h-l)/o;return e},getValueAtTime:function(r){return r*=this.elem.globalData.frameRate,(r-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<r?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(r,this._cachingAtTime),this._cachingAtTime.lastFrame=r),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(r){this.propertyGroup=r}};(function(){function r(B,j,U){if(!this.k||!this.keyframes)return this.pv;B=B?B.toLowerCase():"";var W,G,q,K,Y,X=this.comp.renderedFrame,J=this.keyframes,Q=J[J.length-1].t;if(X<=Q)return this.pv;if(U?G=Q-(W=j?Math.abs(Q-this.elem.comp.globalData.frameRate*j):Math.max(0,Q-this.elem.data.ip)):((!j||j>J.length-1)&&(j=J.length-1),W=Q-(G=J[J.length-1-j].t)),B==="pingpong"){if(Math.floor((X-G)/W)%2!=0)return this.getValueAtTime((W-(X-G)%W+G)/this.comp.globalData.frameRate,0)}else{if(B==="offset"){var Z=this.getValueAtTime(G/this.comp.globalData.frameRate,0),ee=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),te=this.getValueAtTime(((X-G)%W+G)/this.comp.globalData.frameRate,0),re=Math.floor((X-G)/W);if(this.pv.length){for(K=(Y=new Array(Z.length)).length,q=0;q<K;q+=1)Y[q]=(ee[q]-Z[q])*re+te[q];return Y}return(ee-Z)*re+te}if(B==="continue"){var ie=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),ne=this.getValueAtTime((Q-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(K=(Y=new Array(ie.length)).length,q=0;q<K;q+=1)Y[q]=ie[q]+(ie[q]-ne[q])*((X-Q)/this.comp.globalData.frameRate)/5e-4;return Y}return ie+(X-Q)/.001*(ie-ne)}}return this.getValueAtTime(((X-G)%W+G)/this.comp.globalData.frameRate,0)}function e(B,j,U){if(!this.k)return this.pv;B=B?B.toLowerCase():"";var W,G,q,K,Y,X=this.comp.renderedFrame,J=this.keyframes,Q=J[0].t;if(X>=Q)return this.pv;if(U?G=Q+(W=j?Math.abs(this.elem.comp.globalData.frameRate*j):Math.max(0,this.elem.data.op-Q)):((!j||j>J.length-1)&&(j=J.length-1),W=(G=J[j].t)-Q),B==="pingpong"){if(Math.floor((Q-X)/W)%2==0)return this.getValueAtTime(((Q-X)%W+Q)/this.comp.globalData.frameRate,0)}else{if(B==="offset"){var Z=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),ee=this.getValueAtTime(G/this.comp.globalData.frameRate,0),te=this.getValueAtTime((W-(Q-X)%W+Q)/this.comp.globalData.frameRate,0),re=Math.floor((Q-X)/W)+1;if(this.pv.length){for(K=(Y=new Array(Z.length)).length,q=0;q<K;q+=1)Y[q]=te[q]-(ee[q]-Z[q])*re;return Y}return te-(ee-Z)*re}if(B==="continue"){var ie=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),ne=this.getValueAtTime((Q+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(K=(Y=new Array(ie.length)).length,q=0;q<K;q+=1)Y[q]=ie[q]+(ie[q]-ne[q])*(Q-X)/.001;return Y}return ie+(ie-ne)*(Q-X)/.001}}return this.getValueAtTime((W-((Q-X)%W+Q))/this.comp.globalData.frameRate,0)}function t(B,j){if(!this.k)return this.pv;if(B=.5*(B||.4),(j=Math.floor(j||5))<=1)return this.pv;var U,W,G=this.comp.renderedFrame/this.comp.globalData.frameRate,q=G-B,K=j>1?(G+B-q)/(j-1):1,Y=0,X=0;for(U=this.pv.length?createTypedArray("float32",this.pv.length):0;Y<j;){if(W=this.getValueAtTime(q+Y*K),this.pv.length)for(X=0;X<this.pv.length;X+=1)U[X]+=W[X];else U+=W;Y+=1}if(this.pv.length)for(X=0;X<this.pv.length;X+=1)U[X]/=j;else U/=j;return U}function o(B){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var j=this._transformCachingAtTime.v;if(j.cloneFromProps(this.pre.props),this.appliedTransformations<1){var U=this.a.getValueAtTime(B);j.translate(-U[0]*this.a.mult,-U[1]*this.a.mult,U[2]*this.a.mult)}if(this.appliedTransformations<2){var W=this.s.getValueAtTime(B);j.scale(W[0]*this.s.mult,W[1]*this.s.mult,W[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var G=this.sk.getValueAtTime(B),q=this.sa.getValueAtTime(B);j.skewFromAxis(-G*this.sk.mult,q*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var K=this.r.getValueAtTime(B);j.rotate(-K*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Y=this.rz.getValueAtTime(B),X=this.ry.getValueAtTime(B),J=this.rx.getValueAtTime(B),Q=this.or.getValueAtTime(B);j.rotateZ(-Y*this.rz.mult).rotateY(X*this.ry.mult).rotateX(J*this.rx.mult).rotateZ(-Q[2]*this.or.mult).rotateY(Q[1]*this.or.mult).rotateX(Q[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Z=this.px.getValueAtTime(B),ee=this.py.getValueAtTime(B);if(this.data.p.z){var te=this.pz.getValueAtTime(B);j.translate(Z*this.px.mult,ee*this.py.mult,-te*this.pz.mult)}else j.translate(Z*this.px.mult,ee*this.py.mult,0)}else{var re=this.p.getValueAtTime(B);j.translate(re[0]*this.p.mult,re[1]*this.p.mult,-re[2]*this.p.mult)}return j}function l(){return this.v.clone(new Matrix)}var h=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(B,j,U){var W=h(B,j,U);return W.dynamicProperties.length?W.getValueAtTime=o.bind(W):W.getValueAtTime=l.bind(W),W.setGroupProperty=expressionHelpers.setGroupProperty,W};var y=PropertyFactory.getProp;PropertyFactory.getProp=function(B,j,U,W,G){var q=y(B,j,U,W,G);q.kf?q.getValueAtTime=expressionHelpers.getValueAtTime.bind(q):q.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(q),q.setGroupProperty=expressionHelpers.setGroupProperty,q.loopOut=r,q.loopIn=e,q.smooth=t,q.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(q),q.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(q),q.numKeys=j.a===1?j.k.length:0,q.propertyIndex=j.ix;var K=0;return U!==0&&(K=createTypedArray("float32",j.a===1?j.k[0].s.length:j.k.length)),q._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:K},expressionHelpers.searchExpressions(B,j,q),q.k&&G.addDynamicProperty(q),q};var O=ShapePropertyFactory.getConstructorFunction(),D=ShapePropertyFactory.getKeyframedConstructorFunction();function R(){}R.prototype={vertices:function(B,j){this.k&&this.getValue();var U,W=this.v;j!==void 0&&(W=this.getValueAtTime(j,0));var G=W._length,q=W[B],K=W.v,Y=createSizedArray(G);for(U=0;U<G;U+=1)Y[U]=B==="i"||B==="o"?[q[U][0]-K[U][0],q[U][1]-K[U][1]]:[q[U][0],q[U][1]];return Y},points:function(B){return this.vertices("v",B)},inTangents:function(B){return this.vertices("i",B)},outTangents:function(B){return this.vertices("o",B)},isClosed:function(){return this.v.c},pointOnPath:function(B,j){var U=this.v;j!==void 0&&(U=this.getValueAtTime(j,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(U));for(var W,G=this._segmentsLength,q=G.lengths,K=G.totalLength*B,Y=0,X=q.length,J=0;Y<X;){if(J+q[Y].addedLength>K){var Q=Y,Z=U.c&&Y===X-1?0:Y+1,ee=(K-J)/q[Y].addedLength;W=bez.getPointInSegment(U.v[Q],U.v[Z],U.o[Q],U.i[Z],ee,q[Y]);break}J+=q[Y].addedLength,Y+=1}return W||(W=U.c?[U.v[0][0],U.v[0][1]]:[U.v[U._length-1][0],U.v[U._length-1][1]]),W},vectorOnPath:function(B,j,U){B==1?B=this.v.c:B==0&&(B=.999);var W=this.pointOnPath(B,j),G=this.pointOnPath(B+.001,j),q=G[0]-W[0],K=G[1]-W[1],Y=Math.sqrt(Math.pow(q,2)+Math.pow(K,2));return Y===0?[0,0]:U==="tangent"?[q/Y,K/Y]:[-K/Y,q/Y]},tangentOnPath:function(B,j){return this.vectorOnPath(B,j,"tangent")},normalOnPath:function(B,j){return this.vectorOnPath(B,j,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([R],O),extendPrototype([R],D),D.prototype.getValueAtTime=function(B){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),B*=this.elem.globalData.frameRate,(B-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<B?this._caching.lastIndex:0,this._cachingAtTime.lastTime=B,this.interpolateShape(B,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},D.prototype.initiateExpression=ExpressionManager.initiateExpression;var F=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(B,j,U,W,G){var q=F(B,j,U,W,G);return q.propertyIndex=j.ix,q.lock=!1,U===3?expressionHelpers.searchExpressions(B,j.pt,q):U===4&&expressionHelpers.searchExpressions(B,j.ks,q),q.k&&B.addDynamicProperty(q),q}})(),TextProperty.prototype.getExpressionValue=function(r,e){var t=this.calculateExpression(e);if(r.t!==t){var o={};return this.copyData(o,r),o.t=t.toString(),o.__complete=!1,o}return r},TextProperty.prototype.searchProperty=function(){var r=this.searchKeyframes(),e=this.searchExpressions();return this.kf=r||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(r,e,t){var o=e.sh;function l(y){return y==="Shape"||y==="shape"||y==="Path"||y==="path"||y==="ADBE Vector Shape"||y===2?l.path:null}var h=propertyGroupFactory(l,t);return o.setGroupProperty(PropertyInterface("Path",h)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:r.nm},ix:{value:r.ix},propertyIndex:{value:r.ix},mn:{value:r.mn},propertyGroup:{value:t}}),l},propertyGroupFactory=function(r,e){return function(t){return(t=t===void 0?1:t)<=0?r:e(t-1)}},PropertyInterface=function(r,e){var t={_name:r};return function(o){return(o=o===void 0?1:o)<=0?t:e(o-1)}},ShapeExpressionInterface=function(){function r(j,U,W){var G,q=[],K=j?j.length:0;for(G=0;G<K;G+=1)j[G].ty==="gr"?q.push(e(j[G],U[G],W)):j[G].ty==="fl"?q.push(t(j[G],U[G],W)):j[G].ty==="st"?q.push(l(j[G],U[G],W)):j[G].ty==="tm"?q.push(h(j[G],U[G],W)):j[G].ty==="tr"||(j[G].ty==="el"?q.push(O(j[G],U[G],W)):j[G].ty==="sr"?q.push(D(j[G],U[G],W)):j[G].ty==="sh"?q.push(ShapePathInterface(j[G],U[G],W)):j[G].ty==="rc"?q.push(R(j[G],U[G],W)):j[G].ty==="rd"?q.push(F(j[G],U[G],W)):j[G].ty==="rp"?q.push(B(j[G],U[G],W)):j[G].ty==="gf"?q.push(o(j[G],U[G],W)):q.push((j[G],U[G],function(){return null})));return q}function e(j,U,W){var G=function(Y){switch(Y){case"ADBE Vectors Group":case"Contents":case 2:return G.content;default:return G.transform}};G.propertyGroup=propertyGroupFactory(G,W);var q=function(Y,X,J){var Q,Z=function(te){for(var re=0,ie=Q.length;re<ie;){if(Q[re]._name===te||Q[re].mn===te||Q[re].propertyIndex===te||Q[re].ix===te||Q[re].ind===te)return Q[re];re+=1}return typeof te=="number"?Q[te-1]:null};Z.propertyGroup=propertyGroupFactory(Z,J),Q=r(Y.it,X.it,Z.propertyGroup),Z.numProperties=Q.length;var ee=y(Y.it[Y.it.length-1],X.it[X.it.length-1],Z.propertyGroup);return Z.transform=ee,Z.propertyIndex=Y.cix,Z._name=Y.nm,Z}(j,U,G.propertyGroup),K=y(j.it[j.it.length-1],U.it[U.it.length-1],G.propertyGroup);return G.content=q,G.transform=K,Object.defineProperty(G,"_name",{get:function(){return j.nm}}),G.numProperties=j.np,G.propertyIndex=j.ix,G.nm=j.nm,G.mn=j.mn,G}function t(j,U,W){function G(q){return q==="Color"||q==="color"?G.color:q==="Opacity"||q==="opacity"?G.opacity:null}return Object.defineProperties(G,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},_name:{value:j.nm},mn:{value:j.mn}}),U.c.setGroupProperty(PropertyInterface("Color",W)),U.o.setGroupProperty(PropertyInterface("Opacity",W)),G}function o(j,U,W){function G(q){return q==="Start Point"||q==="start point"?G.startPoint:q==="End Point"||q==="end point"?G.endPoint:q==="Opacity"||q==="opacity"?G.opacity:null}return Object.defineProperties(G,{startPoint:{get:ExpressionPropertyInterface(U.s)},endPoint:{get:ExpressionPropertyInterface(U.e)},opacity:{get:ExpressionPropertyInterface(U.o)},type:{get:function(){return"a"}},_name:{value:j.nm},mn:{value:j.mn}}),U.s.setGroupProperty(PropertyInterface("Start Point",W)),U.e.setGroupProperty(PropertyInterface("End Point",W)),U.o.setGroupProperty(PropertyInterface("Opacity",W)),G}function l(j,U,W){var G,q=propertyGroupFactory(Q,W),K=propertyGroupFactory(J,q);function Y(Z){Object.defineProperty(J,j.d[Z].nm,{get:ExpressionPropertyInterface(U.d.dataProps[Z].p)})}var X=j.d?j.d.length:0,J={};for(G=0;G<X;G+=1)Y(G),U.d.dataProps[G].p.setGroupProperty(K);function Q(Z){return Z==="Color"||Z==="color"?Q.color:Z==="Opacity"||Z==="opacity"?Q.opacity:Z==="Stroke Width"||Z==="stroke width"?Q.strokeWidth:null}return Object.defineProperties(Q,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},strokeWidth:{get:ExpressionPropertyInterface(U.w)},dash:{get:function(){return J}},_name:{value:j.nm},mn:{value:j.mn}}),U.c.setGroupProperty(PropertyInterface("Color",q)),U.o.setGroupProperty(PropertyInterface("Opacity",q)),U.w.setGroupProperty(PropertyInterface("Stroke Width",q)),Q}function h(j,U,W){function G(K){return K===j.e.ix||K==="End"||K==="end"?G.end:K===j.s.ix?G.start:K===j.o.ix?G.offset:null}var q=propertyGroupFactory(G,W);return G.propertyIndex=j.ix,U.s.setGroupProperty(PropertyInterface("Start",q)),U.e.setGroupProperty(PropertyInterface("End",q)),U.o.setGroupProperty(PropertyInterface("Offset",q)),G.propertyIndex=j.ix,G.propertyGroup=W,Object.defineProperties(G,{start:{get:ExpressionPropertyInterface(U.s)},end:{get:ExpressionPropertyInterface(U.e)},offset:{get:ExpressionPropertyInterface(U.o)},_name:{value:j.nm}}),G.mn=j.mn,G}function y(j,U,W){function G(K){return j.a.ix===K||K==="Anchor Point"?G.anchorPoint:j.o.ix===K||K==="Opacity"?G.opacity:j.p.ix===K||K==="Position"?G.position:j.r.ix===K||K==="Rotation"||K==="ADBE Vector Rotation"?G.rotation:j.s.ix===K||K==="Scale"?G.scale:j.sk&&j.sk.ix===K||K==="Skew"?G.skew:j.sa&&j.sa.ix===K||K==="Skew Axis"?G.skewAxis:null}var q=propertyGroupFactory(G,W);return U.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",q)),U.transform.mProps.p.setGroupProperty(PropertyInterface("Position",q)),U.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",q)),U.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",q)),U.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",q)),U.transform.mProps.sk&&(U.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",q)),U.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",q))),U.transform.op.setGroupProperty(PropertyInterface("Opacity",q)),Object.defineProperties(G,{opacity:{get:ExpressionPropertyInterface(U.transform.mProps.o)},position:{get:ExpressionPropertyInterface(U.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(U.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(U.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(U.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(U.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(U.transform.mProps.sa)},_name:{value:j.nm}}),G.ty="tr",G.mn=j.mn,G.propertyGroup=W,G}function O(j,U,W){function G(Y){return j.p.ix===Y?G.position:j.s.ix===Y?G.size:null}var q=propertyGroupFactory(G,W);G.propertyIndex=j.ix;var K=U.sh.ty==="tm"?U.sh.prop:U.sh;return K.s.setGroupProperty(PropertyInterface("Size",q)),K.p.setGroupProperty(PropertyInterface("Position",q)),Object.defineProperties(G,{size:{get:ExpressionPropertyInterface(K.s)},position:{get:ExpressionPropertyInterface(K.p)},_name:{value:j.nm}}),G.mn=j.mn,G}function D(j,U,W){function G(Y){return j.p.ix===Y?G.position:j.r.ix===Y?G.rotation:j.pt.ix===Y?G.points:j.or.ix===Y||Y==="ADBE Vector Star Outer Radius"?G.outerRadius:j.os.ix===Y?G.outerRoundness:!j.ir||j.ir.ix!==Y&&Y!=="ADBE Vector Star Inner Radius"?j.is&&j.is.ix===Y?G.innerRoundness:null:G.innerRadius}var q=propertyGroupFactory(G,W),K=U.sh.ty==="tm"?U.sh.prop:U.sh;return G.propertyIndex=j.ix,K.or.setGroupProperty(PropertyInterface("Outer Radius",q)),K.os.setGroupProperty(PropertyInterface("Outer Roundness",q)),K.pt.setGroupProperty(PropertyInterface("Points",q)),K.p.setGroupProperty(PropertyInterface("Position",q)),K.r.setGroupProperty(PropertyInterface("Rotation",q)),j.ir&&(K.ir.setGroupProperty(PropertyInterface("Inner Radius",q)),K.is.setGroupProperty(PropertyInterface("Inner Roundness",q))),Object.defineProperties(G,{position:{get:ExpressionPropertyInterface(K.p)},rotation:{get:ExpressionPropertyInterface(K.r)},points:{get:ExpressionPropertyInterface(K.pt)},outerRadius:{get:ExpressionPropertyInterface(K.or)},outerRoundness:{get:ExpressionPropertyInterface(K.os)},innerRadius:{get:ExpressionPropertyInterface(K.ir)},innerRoundness:{get:ExpressionPropertyInterface(K.is)},_name:{value:j.nm}}),G.mn=j.mn,G}function R(j,U,W){function G(Y){return j.p.ix===Y?G.position:j.r.ix===Y?G.roundness:j.s.ix===Y||Y==="Size"||Y==="ADBE Vector Rect Size"?G.size:null}var q=propertyGroupFactory(G,W),K=U.sh.ty==="tm"?U.sh.prop:U.sh;return G.propertyIndex=j.ix,K.p.setGroupProperty(PropertyInterface("Position",q)),K.s.setGroupProperty(PropertyInterface("Size",q)),K.r.setGroupProperty(PropertyInterface("Rotation",q)),Object.defineProperties(G,{position:{get:ExpressionPropertyInterface(K.p)},roundness:{get:ExpressionPropertyInterface(K.r)},size:{get:ExpressionPropertyInterface(K.s)},_name:{value:j.nm}}),G.mn=j.mn,G}function F(j,U,W){function G(Y){return j.r.ix===Y||Y==="Round Corners 1"?G.radius:null}var q=propertyGroupFactory(G,W),K=U;return G.propertyIndex=j.ix,K.rd.setGroupProperty(PropertyInterface("Radius",q)),Object.defineProperties(G,{radius:{get:ExpressionPropertyInterface(K.rd)},_name:{value:j.nm}}),G.mn=j.mn,G}function B(j,U,W){function G(Y){return j.c.ix===Y||Y==="Copies"?G.copies:j.o.ix===Y||Y==="Offset"?G.offset:null}var q=propertyGroupFactory(G,W),K=U;return G.propertyIndex=j.ix,K.c.setGroupProperty(PropertyInterface("Copies",q)),K.o.setGroupProperty(PropertyInterface("Offset",q)),Object.defineProperties(G,{copies:{get:ExpressionPropertyInterface(K.c)},offset:{get:ExpressionPropertyInterface(K.o)},_name:{value:j.nm}}),G.mn=j.mn,G}return function(j,U,W){var G;function q(K){if(typeof K=="number")return(K=K===void 0?1:K)===0?W:G[K-1];for(var Y=0,X=G.length;Y<X;){if(G[Y]._name===K)return G[Y];Y+=1}return null}return q.propertyGroup=propertyGroupFactory(q,function(){return W}),G=r(j,U,q.propertyGroup),q.numProperties=G.length,q._name="Contents",q}}(),TextExpressionInterface=function(r){var e,t;function o(l){return l==="ADBE Text Document"?o.sourceText:null}return Object.defineProperty(o,"sourceText",{get:function(){r.textProperty.getValue();var l=r.textProperty.currentData.t;return l!==e&&(r.textProperty.currentData.t=e,(t=new String(l)).value=l||new String(l)),t}}),o},LayerExpressionInterface=function(){function r(R){var F=new Matrix;return R!==void 0?this._elem.finalTransform.mProp.getValueAtTime(R).clone(F):this._elem.finalTransform.mProp.applyToMatrix(F),F}function e(R,F){var B=this.getMatrix(F);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.applyPoint(B,R)}function t(R,F){var B=this.getMatrix(F);return this.applyPoint(B,R)}function o(R,F){var B=this.getMatrix(F);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.invertPoint(B,R)}function l(R,F){var B=this.getMatrix(F);return this.invertPoint(B,R)}function h(R,F){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(R)}return R.applyToPointArray(F[0],F[1],F[2]||0)}function y(R,F){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(R)}return R.inversePoint(F)}function O(R){var F=new Matrix;if(F.reset(),this._elem.finalTransform.mProp.applyToMatrix(F),this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(F);return F.inversePoint(R)}return F.inversePoint(R)}function D(){return[1,1,1,1]}return function(R){var F;function B(U){switch(U){case"ADBE Root Vectors Group":case"Contents":case 2:return B.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return F;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return B.effect;case"ADBE Text Properties":return B.textInterface;default:return null}}B.getMatrix=r,B.invertPoint=y,B.applyPoint=h,B.toWorld=t,B.toWorldVec=e,B.fromWorld=l,B.fromWorldVec=o,B.toComp=t,B.fromComp=O,B.sampleImage=D,B.sourceRectAtTime=R.sourceRectAtTime.bind(R),B._elem=R;var j=getDescriptor(F=TransformExpressionInterface(R.finalTransform.mProp),"anchorPoint");return Object.defineProperties(B,{hasParent:{get:function(){return R.hierarchy.length}},parent:{get:function(){return R.hierarchy[0].layerInterface}},rotation:getDescriptor(F,"rotation"),scale:getDescriptor(F,"scale"),position:getDescriptor(F,"position"),opacity:getDescriptor(F,"opacity"),anchorPoint:j,anchor_point:j,transform:{get:function(){return F}},active:{get:function(){return R.isInRange}}}),B.startTime=R.data.st,B.index=R.data.ind,B.source=R.data.refId,B.height=R.data.ty===0?R.data.h:100,B.width=R.data.ty===0?R.data.w:100,B.inPoint=R.data.ip/R.comp.globalData.frameRate,B.outPoint=R.data.op/R.comp.globalData.frameRate,B._name=R.data.nm,B.registerMaskInterface=function(U){B.mask=new MaskManagerInterface(U,R)},B.registerEffectsInterface=function(U){B.effect=U},B}}(),FootageInterface=(dataInterfaceFactory=function(r){function e(t){return t==="Outline"?e.outlineInterface():null}return e._name="Outline",e.outlineInterface=function(t){var o="",l=t.getFootageData();function h(y){if(l[y])return o=y,typeof(l=l[y])=="object"?h:l;var O=y.indexOf(o);if(O!==-1){var D=parseInt(y.substr(O+o.length),10);return typeof(l=l[D])=="object"?h:l}return""}return function(){return o="",l=t.getFootageData(),h}}(r),e},function(r){function e(t){return t==="Data"?e.dataInterface:null}return e._name="Data",e.dataInterface=dataInterfaceFactory(r),e}),dataInterfaceFactory,CompExpressionInterface=function(r){function e(t){for(var o=0,l=r.layers.length;o<l;){if(r.layers[o].nm===t||r.layers[o].ind===t)return r.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(e,"_name",{value:r.data.nm}),e.layer=e,e.pixelAspect=1,e.height=r.data.h||r.globalData.compSize.h,e.width=r.data.w||r.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/r.globalData.frameRate,e.displayStartTime=0,e.numLayers=r.layers.length,e},TransformExpressionInterface=function(r){function e(y){switch(y){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var t,o,l,h;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(r.r||r.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(r.rz||r.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(r.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(r.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(r.s)}),r.p?h=ExpressionPropertyInterface(r.p):(t=ExpressionPropertyInterface(r.px),o=ExpressionPropertyInterface(r.py),r.pz&&(l=ExpressionPropertyInterface(r.pz))),Object.defineProperty(e,"position",{get:function(){return r.p?h():[t(),o(),l?l():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(r.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(r.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(r.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(r.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(r.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(r.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(r.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(r.or)}),e},ProjectInterface=function(){function r(e){this.compositions.push(e)}return function(){function e(t){for(var o=0,l=this.compositions.length;o<l;){if(this.compositions[o].data&&this.compositions[o].data.nm===t)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=r,e}}(),EffectsExpressionInterface=function(){var r={createEffectsInterface:function(o,l){if(o.effectsManager){var h,y=[],O=o.data.ef,D=o.effectsManager.effectElements.length;for(h=0;h<D;h+=1)y.push(e(O[h],o.effectsManager.effectElements[h],l,o));var R=o.data.ef||[],F=function(B){for(h=0,D=R.length;h<D;){if(B===R[h].nm||B===R[h].mn||B===R[h].ix)return y[h];h+=1}return null};return Object.defineProperty(F,"numProperties",{get:function(){return R.length}}),F}return null}};function e(o,l,h,y){function O(j){for(var U=o.ef,W=0,G=U.length;W<G;){if(j===U[W].nm||j===U[W].mn||j===U[W].ix)return U[W].ty===5?F[W]:F[W]();W+=1}throw new Error}var D,R=propertyGroupFactory(O,h),F=[],B=o.ef.length;for(D=0;D<B;D+=1)o.ef[D].ty===5?F.push(e(o.ef[D],l.effectElements[D],l.effectElements[D].propertyGroup,y)):F.push(t(l.effectElements[D],o.ef[D].ty,y,R));return o.mn==="ADBE Color Control"&&Object.defineProperty(O,"color",{get:function(){return F[0]()}}),Object.defineProperties(O,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:R}}),O.enabled=o.en!==0,O.active=O.enabled,O}function t(o,l,h,y){var O=ExpressionPropertyInterface(o.p);return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",y)),function(){return l===10?h.comp.compInterface(o.p.v):O()}}return r}(),MaskManagerInterface=function(){function r(e,t){this._mask=e,this._data=t}return Object.defineProperty(r.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(r.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(e){var t,o=createSizedArray(e.viewData.length),l=e.viewData.length;for(t=0;t<l;t+=1)o[t]=new r(e.viewData[t],e.masksProperties[t]);return function(h){for(t=0;t<l;){if(e.masksProperties[t].nm===h)return o[t];t+=1}return null}}}(),ExpressionPropertyInterface=function(){var r={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function t(l,h,y){Object.defineProperty(l,"velocity",{get:function(){return h.getVelocityAtTime(h.comp.currentFrame)}}),l.numKeys=h.keyframes?h.keyframes.length:0,l.key=function(O){if(!l.numKeys)return 0;var D="";D="s"in h.keyframes[O-1]?h.keyframes[O-1].s:"e"in h.keyframes[O-2]?h.keyframes[O-2].e:h.keyframes[O-2].s;var R=y==="unidimensional"?new Number(D):Object.assign({},D);return R.time=h.keyframes[O-1].t/h.elem.comp.globalData.frameRate,R.value=y==="unidimensional"?D[0]:D,R},l.valueAtTime=h.getValueAtTime,l.speedAtTime=h.getSpeedAtTime,l.velocityAtTime=h.getVelocityAtTime,l.propertyGroup=h.propertyGroup}function o(){return r}return function(l){return l?l.propType==="unidimensional"?function(h){h&&"pv"in h||(h=r);var y=1/h.mult,O=h.pv*y,D=new Number(O);return D.value=O,t(D,h,"unidimensional"),function(){return h.k&&h.getValue(),O=h.v*y,D.value!==O&&((D=new Number(O)).value=O,t(D,h,"unidimensional")),D}}(l):function(h){h&&"pv"in h||(h=e);var y=1/h.mult,O=h.data&&h.data.l||h.pv.length,D=createTypedArray("float32",O),R=createTypedArray("float32",O);return D.value=R,t(D,h,"multidimensional"),function(){h.k&&h.getValue();for(var F=0;F<O;F+=1)R[F]=h.v[F]*y,D[F]=R[F];return D}}(l):o}}(),TextExpressionSelectorPropFactory=function(){function r(e,t){return this.textIndex=e+1,this.textTotal=t,this.v=this.getValue()*this.mult,this.v}return function(e,t){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=t.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,t,this),this.getMult=r,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp;function SliderEffect(r,e,t){this.p=PropertyFactory.getProp(e,r.v,0,0,t)}function AngleEffect(r,e,t){this.p=PropertyFactory.getProp(e,r.v,0,0,t)}function ColorEffect(r,e,t){this.p=PropertyFactory.getProp(e,r.v,1,0,t)}function PointEffect(r,e,t){this.p=PropertyFactory.getProp(e,r.v,1,0,t)}function LayerIndexEffect(r,e,t){this.p=PropertyFactory.getProp(e,r.v,0,0,t)}function MaskIndexEffect(r,e,t){this.p=PropertyFactory.getProp(e,r.v,0,0,t)}function CheckboxEffect(r,e,t){this.p=PropertyFactory.getProp(e,r.v,0,0,t)}function NoValueEffect(){this.p={}}function EffectsManager(r,e){var t,o=r.ef||[];this.effectElements=[];var l,h=o.length;for(t=0;t<h;t+=1)l=new GroupEffect(o[t],e),this.effectElements.push(l)}function GroupEffect(r,e){this.init(r,e)}TextSelectorProp.getTextSelectorProp=function(r,e,t){return e.t===1?new TextExpressionSelectorPropFactory(r,e,t):propertyGetTextProp(r,e,t)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(r,e){var t;this.data=r,this.effectElements=[],this.initDynamicPropertyContainer(e);var o,l=this.data.ef.length,h=this.data.ef;for(t=0;t<l;t+=1){switch(o=null,h[t].ty){case 0:o=new SliderEffect(h[t],e,this);break;case 1:o=new AngleEffect(h[t],e,this);break;case 2:o=new ColorEffect(h[t],e,this);break;case 3:o=new PointEffect(h[t],e,this);break;case 4:case 7:o=new CheckboxEffect(h[t],e,this);break;case 10:o=new LayerIndexEffect(h[t],e,this);break;case 11:o=new MaskIndexEffect(h[t],e,this);break;case 5:o=new EffectsManager(h[t],e);break;default:o=new NoValueEffect(h[t])}o&&this.effectElements.push(o)}};var lottie={};function setLocationHref(r){locationHref=r}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(r){subframeEnabled=r}function setIDPrefix(r){idPrefix=r}function loadAnimation(r){return animationManager.loadAnimation(r)}function setQuality(r){if(typeof r=="string")switch(r){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(r)&&r>1&&(defaultCurveSegments=r)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(r,e){r==="expressions"&&(expressionsPlugin=e)}function getFactory(r){switch(r){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(r){for(var e=queryString.split("&"),t=0;t<e.length;t+=1){var o=e[t].split("=");if(decodeURIComponent(o[0])==r)return decodeURIComponent(o[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(r){_useWebWorker=r},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.1";var queryString;{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},module.exports?module.exports=factory(root):(root.lottie=factory(root),root.bodymovin=root.lottie))})(lottie$1);lottie$1.exports;var _templateObject$1,styles=r$3(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral([`
  * {
    box-sizing: border-box;
  }

  :host {
    --lottie-player-toolbar-height: 35px;
    --lottie-player-toolbar-background-color: transparent;
    --lottie-player-toolbar-icon-color: #999;
    --lottie-player-toolbar-icon-hover-color: #222;
    --lottie-player-toolbar-icon-active-color: #555;
    --lottie-player-seeker-track-color: #ccc;
    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);
    --lottie-player-seeker-display: block;

    display: block;
    width: 100%;
    height: 100%;
  }

  .main {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  .animation {
    width: 100%;
    height: 100%;
    display: flex;
  }
  .animation.controls {
    height: calc(100% - 35px);
  }

  .toolbar {
    display: flex;
    align-items: center;
    justify-items: center;
    background-color: var(--lottie-player-toolbar-background-color);
    margin: 0 5px;
    height: 35px;
  }

  .toolbar button {
    cursor: pointer;
    fill: var(--lottie-player-toolbar-icon-color);
    display: flex;
    background: none;
    border: 0;
    padding: 0;
    outline: none;
    height: 100%;
  }

  .toolbar button:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button.active {
    fill: var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button.active:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button:focus {
    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button svg {
  }

  .toolbar button.disabled svg {
    display: none;
  }

  .seeker {
    -webkit-appearance: none;
    width: 95%;
    outline: none;
    background-color: var(--lottie-player-toolbar-background-color);
    display: var(--lottie-player-seeker-display);
  }

  .seeker::-webkit-slider-runnable-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-webkit-slider-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
    -webkit-appearance: none;
    margin-top: -5px;
  }
  .seeker:focus::-webkit-slider-runnable-track {
    background: #999;
  }
  .seeker::-moz-range-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-moz-range-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker::-ms-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }
  .seeker::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-thumb {
    border: 0;
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker:focus::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
  }
  .seeker:focus::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
  }

  .error {
    display: flex;
    justify-content: center;
    height: 100%;
    align-items: center;
  }
`]))),_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,PlayerState,PlayMode,PlayerEvents;function parseSrc(r){if(typeof r=="object")return r;try{return JSON.parse(r)}catch{return new URL(r,window.location.href).toString()}}function isLottie(r){return["v","ip","op","layers","fr","w","h"].every(e=>Object.prototype.hasOwnProperty.call(r,e))}function fromURL(r){return _fromURL.apply(this,arguments)}function _fromURL(){return(_fromURL=_asyncToGenerator(function*(r){if(typeof r!="string")throw new Error("The url value must be a string");var e;try{var t=new URL(r),o=yield fetch(t.toString());e=yield o.json()}catch{throw new Error("An error occurred while trying to load the Lottie file from URL")}return e})).apply(this,arguments)}(function(r){r.Destroyed="destroyed",r.Error="error",r.Frozen="frozen",r.Loading="loading",r.Paused="paused",r.Playing="playing",r.Stopped="stopped"})(PlayerState||(PlayerState={})),function(r){r.Bounce="bounce",r.Normal="normal"}(PlayMode||(PlayMode={})),function(r){r.Complete="complete",r.Destroyed="destroyed",r.Error="error",r.Frame="frame",r.Freeze="freeze",r.Load="load",r.Loop="loop",r.Pause="pause",r.Play="play",r.Ready="ready",r.Rendered="rendered",r.Stop="stop"}(PlayerEvents||(PlayerEvents={}));var LottiePlayer=class extends s{constructor(){super(...arguments),this.autoplay=!1,this.background="transparent",this.controls=!1,this.currentState=PlayerState.Loading,this.description="Lottie animation",this.direction=1,this.hover=!1,this.intermission=1,this.loop=!1,this.mode=PlayMode.Normal,this.preserveAspectRatio="xMidYMid meet",this.renderer="svg",this.speed=1,this._io=void 0,this._counter=1}load(r){var e=this;return _asyncToGenerator(function*(){if(e.shadowRoot){var t={container:e.container,loop:!1,autoplay:!1,renderer:e.renderer,rendererSettings:{preserveAspectRatio:e.preserveAspectRatio,clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0}};try{var o=parseSrc(r),l={},h=typeof o=="string"?"path":"animationData";e._lottie&&e._lottie.destroy(),e.webworkers&&lottie$1.exports.useWebWorker(!0),e._lottie=lottie$1.exports.loadAnimation(Object.assign(Object.assign({},t),{[h]:o})),e._attachEventListeners(),h==="path"?(l=yield fromURL(o),h="animationData"):l=o,isLottie(l)||(e.currentState=PlayerState.Error,e.dispatchEvent(new CustomEvent(PlayerEvents.Error)))}catch{e.currentState=PlayerState.Error,e.dispatchEvent(new CustomEvent(PlayerEvents.Error))}}})()}getLottie(){return this._lottie}play(){this._lottie&&(this._lottie.play(),this.currentState=PlayerState.Playing,this.dispatchEvent(new CustomEvent(PlayerEvents.Play)))}pause(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Paused,this.dispatchEvent(new CustomEvent(PlayerEvents.Pause)))}stop(){this._lottie&&(this._counter=1,this._lottie.stop(),this.currentState=PlayerState.Stopped,this.dispatchEvent(new CustomEvent(PlayerEvents.Stop)))}destroy(){this._lottie&&(this._lottie.destroy(),this._lottie=null,this.currentState=PlayerState.Destroyed,this.dispatchEvent(new CustomEvent(PlayerEvents.Destroyed)),this.remove())}seek(r){if(this._lottie){var e=/^(\d+)(%?)$/.exec(r.toString());if(e){var t=e[2]==="%"?this._lottie.totalFrames*Number(e[1])/100:Number(e[1]);this.seeker=t,this.currentState===PlayerState.Playing?this._lottie.goToAndPlay(t,!0):(this._lottie.goToAndStop(t,!0),this._lottie.pause())}}}snapshot(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.shadowRoot){var e=this.shadowRoot.querySelector(".animation svg"),t=new XMLSerializer().serializeToString(e);if(r){var o=document.createElement("a");o.href="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(t)),o.download="download_".concat(this.seeker,".svg"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}return t}}setSpeed(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._lottie&&this._lottie.setSpeed(r)}setDirection(r){this._lottie&&this._lottie.setDirection(r)}setLooping(r){this._lottie&&(this.loop=r,this._lottie.loop=r)}togglePlay(){return this.currentState===PlayerState.Playing?this.pause():this.play()}toggleLooping(){this.setLooping(!this.loop)}resize(){this._lottie&&this._lottie.resize()}static get styles(){return styles}disconnectedCallback(){this.isConnected||(this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",()=>this._onVisibilityChange()),this.destroy())}render(){var r=this.controls?"main controls":"main",e=this.controls?"animation controls":"animation";return $$K(_templateObject||(_templateObject=_taggedTemplateLiteral([` <div
      id="animation-container"
      class=`,`
      lang="en"
      aria-label=`,`
      role="img"
    >
      <div
        id="animation"
        class=`,`
        style="background:`,`;"
      >
        `,`
      </div>
      `,`
    </div>`])),r,this.description,e,this.background,this.currentState===PlayerState.Error?$$K(_templateObject2||(_templateObject2=_taggedTemplateLiteral(['<div class="error">\u26A0\uFE0F</div>']))):void 0,this.controls?this.renderControls():void 0)}firstUpdated(){"IntersectionObserver"in window&&(this._io=new IntersectionObserver(r=>{r[0].isIntersecting?this.currentState===PlayerState.Frozen&&this.play():this.currentState===PlayerState.Playing&&this.freeze()}),this._io.observe(this.container)),document.hidden!==void 0&&document.addEventListener("visibilitychange",()=>this._onVisibilityChange()),this.src&&this.load(this.src),this.dispatchEvent(new CustomEvent(PlayerEvents.Rendered))}renderControls(){var r=this.currentState===PlayerState.Playing,e=this.currentState===PlayerState.Paused,t=this.currentState===PlayerState.Stopped;return $$K(_templateObject3||(_templateObject3=_taggedTemplateLiteral([`
      <div
        id="lottie-controls"
        aria-label="lottie-animation-controls"
        class="toolbar"
      >
        <button
          id="lottie-play-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="play-pause"
        >
          `,`
        </button>
        <button
          id="lottie-stop-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="stop"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path d="M6 6h12v12H6V6z" />
          </svg>
        </button>
        <input
          id="lottie-seeker-input"
          class="seeker"
          type="range"
          min="0"
          step="1"
          max="100"
          .value=`,`
          @input=`,`
          @mousedown=`,`
          @mouseup=`,`
          aria-valuemin="1"
          aria-valuemax="100"
          role="slider"
          aria-valuenow=`,`
          tabindex="0"
          aria-label="lottie-seek-input"
        />
        <button
          id="lottie-loop-toggle"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="loop-toggle"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path
              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"
            />
          </svg>
        </button>
      </div>
    `])),this.togglePlay,r||e?"active":"",$$K(r?_templateObject4||(_templateObject4=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path
                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"
                />
              </svg>`])):_templateObject5||(_templateObject5=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />
              </svg>`]))),this.stop,t?"active":"",this.seeker,this._handleSeekChange,()=>{this._prevState=this.currentState,this.freeze()},()=>{this._prevState===PlayerState.Playing&&this.play()},this.seeker,this.toggleLooping,this.loop?"active":"")}_onVisibilityChange(){document.hidden===!0&&this.currentState===PlayerState.Playing?this.freeze():this.currentState===PlayerState.Frozen&&this.play()}_handleSeekChange(r){if(this._lottie&&!isNaN(r.target.value)){var e=r.target.value/100*this._lottie.totalFrames;this.seek(e)}}_attachEventListeners(){this._lottie.addEventListener("enterFrame",()=>{this.seeker=this._lottie.currentFrame/this._lottie.totalFrames*100,this.dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:this._lottie.currentFrame,seeker:this.seeker}}))}),this._lottie.addEventListener("complete",()=>{if(this.currentState===PlayerState.Playing){if((!this.loop||this.count&&this._counter>=this.count)&&(this.dispatchEvent(new CustomEvent(PlayerEvents.Complete)),this.mode!==PlayMode.Bounce||this._lottie.currentFrame===0))return;this.mode===PlayMode.Bounce?(this.count&&(this._counter+=.5),setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this._lottie.setDirection(-1*this._lottie.playDirection),this._lottie.play())},this.intermission)):(this.count&&(this._counter+=1),window.setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this.direction===-1?(this.seek("99%"),this.play()):(this._lottie.stop(),this._lottie.play()))},this.intermission))}else this.dispatchEvent(new CustomEvent(PlayerEvents.Complete))}),this._lottie.addEventListener("DOMLoaded",()=>{this.setSpeed(this.speed),this.setDirection(this.direction),this.autoplay&&(this.direction===-1&&this.seek("100%"),this.play()),this.dispatchEvent(new CustomEvent(PlayerEvents.Ready))}),this._lottie.addEventListener("data_ready",()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Load))}),this._lottie.addEventListener("data_failed",()=>{this.currentState=PlayerState.Error,this.dispatchEvent(new CustomEvent(PlayerEvents.Error))}),this.container.addEventListener("mouseenter",()=>{this.hover&&this.currentState!==PlayerState.Playing&&this.play()}),this.container.addEventListener("mouseleave",()=>{this.hover&&this.currentState===PlayerState.Playing&&this.stop()})}freeze(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Frozen,this.dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))}};__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"autoplay",void 0),__decorate([e$5({type:String,reflect:!0})],LottiePlayer.prototype,"background",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"controls",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"count",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"currentState",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"description",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"direction",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"hover",void 0),__decorate([e$5()],LottiePlayer.prototype,"intermission",void 0),__decorate([e$5({type:Boolean,reflect:!0})],LottiePlayer.prototype,"loop",void 0),__decorate([e$5()],LottiePlayer.prototype,"mode",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"preserveAspectRatio",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"renderer",void 0),__decorate([e$5()],LottiePlayer.prototype,"seeker",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"speed",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"src",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"webworkers",void 0),__decorate([i$4(".animation")],LottiePlayer.prototype,"container",void 0),LottiePlayer=__decorate([n$1("lottie-player")],LottiePlayer);var chat_svelte_svelte_type_style_lang="";function get_each_context_1$5(r,e,t){const o=r.slice();return o[45]=e[t],o[49]=t,o}function get_each_context$6(r,e,t){const o=r.slice();return o[45]=e[t],o}function get_each_context_2$2(r,e,t){const o=r.slice();return o[50]=e[t],o[49]=t,o}function create_each_block_2$2(r,e){let t,o=e[50][0]+"",l,h,y,O;return{key:r,first:null,c(){t=element("div"),l=text(o),h=space(),attr(t,"class",y=null_to_empty(e[50][1]=="question"?"msgBot":"msgUser")+" svelte-w49pdy"),set_style(t,"background-color",e[50][1]!="question"?e[8]:"#e4e4e4"),this.first=t},m(D,R){insert(D,t,R),append(t,l),append(t,h)},p(D,R){e=D,R[0]&2&&o!==(o=e[50][0]+"")&&set_data(l,o),R[0]&2&&y!==(y=null_to_empty(e[50][1]=="question"?"msgBot":"msgUser")+" svelte-w49pdy")&&attr(t,"class",y),R[0]&258&&set_style(t,"background-color",e[50][1]!="question"?e[8]:"#e4e4e4")},i(D){O||add_render_callback(()=>{O=create_in_transition(t,scale,{duration:200,start:.8,easing:quadIn}),O.start()})},o:noop$4,d(D){D&&detach(t)}}}function create_if_block_1$9(r){let e,t,o,l,h,y,O;const D=[create_if_block_2$8,create_if_block_5$4,create_if_block_7$2,create_if_block_8$1,create_if_block_10$1,create_if_block_12$1],R=[];function F(B,j){return B[5].a.type=="1c"?0:B[5].a.type=="mc"?1:B[5].a.type=="num"?2:B[5].a.type=="cl"?3:B[5].a.type=="cal"?4:B[5].a.type=="5s"?5:-1}return~(o=F(r))&&(l=R[o]=D[o](r)),{c(){e=element("div"),t=element("div"),l&&l.c(),attr(e,"id","inputZone"),attr(e,"class","m-auto svelte-w49pdy"),set_style(e,"background-color",r[8]+"1A")},m(B,j){insert(B,e,j),append(e,t),~o&&R[o].m(t,null),O=!0},p(B,j){let U=o;o=F(B),o===U?~o&&R[o].p(B,j):(l&&(group_outros(),transition_out(R[U],1,1,()=>{R[U]=null}),check_outros()),~o?(l=R[o],l?l.p(B,j):(l=R[o]=D[o](B),l.c()),transition_in(l,1),l.m(t,null)):l=null),(!O||j[0]&256)&&set_style(e,"background-color",B[8]+"1A")},i(B){O||(transition_in(l),add_render_callback(()=>{y&&y.end(1),h=create_in_transition(e,fly,{y:20,duration:800}),h.start()}),O=!0)},o(B){transition_out(l),h&&h.invalidate(),y=create_out_transition(e,fade,{duration:200}),O=!1},d(B){B&&detach(e),~o&&R[o].d(),B&&y&&y.end()}}}function create_if_block_12$1(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee;return{c(){e=element("div"),t=element("div"),o=element("input"),l=space(),h=element("label"),h.textContent="5 stars",y=space(),O=element("input"),D=space(),R=element("label"),R.textContent="4 stars",F=space(),B=element("input"),j=space(),U=element("label"),U.textContent="3 stars",W=space(),G=element("input"),q=space(),K=element("label"),K.textContent="2 stars",Y=space(),X=element("input"),J=space(),Q=element("label"),Q.textContent="1 star",attr(o,"type","radio"),attr(o,"id","star5"),attr(o,"name","rate"),o.value="5",attr(o,"class","svelte-w49pdy"),attr(h,"for","star5"),attr(h,"title","text"),attr(h,"class","svelte-w49pdy"),attr(O,"type","radio"),attr(O,"id","star4"),attr(O,"name","rate"),O.value="4",attr(O,"class","svelte-w49pdy"),attr(R,"for","star4"),attr(R,"title","text"),attr(R,"class","svelte-w49pdy"),attr(B,"type","radio"),attr(B,"id","star3"),attr(B,"name","rate"),B.value="3",attr(B,"class","svelte-w49pdy"),attr(U,"for","star3"),attr(U,"title","text"),attr(U,"class","svelte-w49pdy"),attr(G,"type","radio"),attr(G,"id","star2"),attr(G,"name","rate"),G.value="2",attr(G,"class","svelte-w49pdy"),attr(K,"for","star2"),attr(K,"title","text"),attr(K,"class","svelte-w49pdy"),attr(X,"type","radio"),attr(X,"id","star1"),attr(X,"name","rate"),X.value="1",attr(X,"class","svelte-w49pdy"),attr(Q,"for","star1"),attr(Q,"title","text"),attr(Q,"class","svelte-w49pdy"),attr(t,"class","rate input svelte-w49pdy"),attr(e,"class","d-flex align-items-center justify-content-center")},m(te,re){insert(te,e,re),append(e,t),append(t,o),append(t,l),append(t,h),append(t,y),append(t,O),append(t,D),append(t,R),append(t,F),append(t,B),append(t,j),append(t,U),append(t,W),append(t,G),append(t,q),append(t,K),append(t,Y),append(t,X),append(t,J),append(t,Q),Z||(ee=[listen(o,"click",r[27]),listen(O,"click",r[28]),listen(B,"click",r[29]),listen(G,"click",r[30]),listen(X,"click",r[31])],Z=!0)},p:noop$4,i:noop$4,o:noop$4,d(te){te&&detach(e),Z=!1,run_all(ee)}}}function create_if_block_10$1(r){let e,t,o,l,h,y,O,D,R,F=r[6].length>0&&create_if_block_11$1(r);return{c(){e=element("div"),t=element("input"),l=space(),h=element("div"),y=element("div"),F&&F.c(),attr(t,"class","dateField svelte-w49pdy"),attr(t,"id","dateTime"),attr(t,"type",o=r[5].a.a[0]&&r[5].a.a[1]?"datetime-local":r[5].a.a[0]&&!r[5].a.a[1]?"date":"time"),set_style(y,"width","20px"),attr(h,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(e,"class","userBtnInput py-3 m-auto d-flex flex-row justify-content-around align-items-center svelte-w49pdy")},m(B,j){insert(B,e,j),append(e,t),append(e,l),append(e,h),append(h,y),F&&F.m(y,null),O=!0,D||(R=[listen(t,"input",r[25]),listen(h,"click",r[26])],D=!0)},p(B,j){(!O||j[0]&32&&o!==(o=B[5].a.a[0]&&B[5].a.a[1]?"datetime-local":B[5].a.a[0]&&!B[5].a.a[1]?"date":"time"))&&attr(t,"type",o),B[6].length>0?F?(F.p(B,j),j[0]&64&&transition_in(F,1)):(F=create_if_block_11$1(B),F.c(),transition_in(F,1),F.m(y,null)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros())},i(B){O||(transition_in(F),O=!0)},o(B){transition_out(F),O=!1},d(B){B&&detach(e),F&&F.d(),D=!1,run_all(R)}}}function create_if_block_8$1(r){let e,t,o,l,h,y,O,D,R,F=r[6].length>0&&create_if_block_9$1(r);return{c(){e=element("div"),t=element("textarea"),l=space(),h=element("div"),y=element("div"),F&&F.c(),attr(t,"rows","3"),attr(t,"id","inputUser"),attr(t,"maxlength",o=r[5].a.a[0]),attr(t,"class","userFieldInput svelte-w49pdy"),attr(t,"type","text"),attr(t,"autocomplete","off"),attr(t,"placeholder","Dites nous tout..."),set_style(y,"width","100%"),attr(h,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(e,"class","userBtnInput d-flex flex-row justify-content-around align-items-center p-2 mx-auto svelte-w49pdy")},m(B,j){insert(B,e,j),append(e,t),set_input_value(t,r[6]),append(e,l),append(e,h),append(h,y),F&&F.m(y,null),O=!0,D||(R=[listen(t,"keydown",r[22]),listen(t,"input",r[23]),listen(h,"click",r[24])],D=!0)},p(B,j){(!O||j[0]&32&&o!==(o=B[5].a.a[0]))&&attr(t,"maxlength",o),j[0]&64&&set_input_value(t,B[6]),B[6].length>0?F?(F.p(B,j),j[0]&64&&transition_in(F,1)):(F=create_if_block_9$1(B),F.c(),transition_in(F,1),F.m(y,null)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros())},i(B){O||(transition_in(F),O=!0)},o(B){transition_out(F),O=!1},d(B){B&&detach(e),F&&F.d(),D=!1,run_all(R)}}}function create_if_block_7$2(r){let e,t,o,l,h,y,O=r[5].a.a[2]+"",D,R,F,B,j,U,W,G,q,K;return{c(){e=element("div"),t=element("input"),h=space(),y=element("div"),D=text(O),R=space(),F=element("input"),U=space(),W=element("div"),G=element("div"),attr(t,"id","numRan"),attr(t,"class","userFieldInput svelte-w49pdy"),set_style(t,"max-width","50%"),attr(t,"min",o=r[5].a.a[0]),attr(t,"max",l=r[5].a.a[1]),attr(t,"type","number"),attr(y,"class","ml-1 mr-2 text-start flex-grow-1"),attr(F,"id","inputUser"),attr(F,"class","mx-1 flex-grow-1 userFieldInput form-range svelte-w49pdy"),set_style(F,"background-color","transparent"),attr(F,"type","range"),attr(F,"min",B=r[5].a.a[0]),attr(F,"max",j=r[5].a.a[1]),attr(G,"class","sendCircle svelte-w49pdy"),set_style(G,"background-color",r[8]),attr(e,"class","userBtnInput py-3 m-auto d-flex flex-wrap flex-row justify-content-around align-items-center svelte-w49pdy")},m(Y,X){insert(Y,e,X),append(e,t),set_input_value(t,r[6]),append(e,h),append(e,y),append(y,D),append(e,R),append(e,F),set_input_value(F,r[6]),append(e,U),append(e,W),append(W,G),q||(K=[listen(t,"input",r[19]),listen(F,"change",r[20]),listen(F,"input",r[20]),listen(W,"click",r[21])],q=!0)},p(Y,X){X[0]&32&&o!==(o=Y[5].a.a[0])&&attr(t,"min",o),X[0]&32&&l!==(l=Y[5].a.a[1])&&attr(t,"max",l),X[0]&64&&to_number(t.value)!==Y[6]&&set_input_value(t,Y[6]),X[0]&32&&O!==(O=Y[5].a.a[2]+"")&&set_data(D,O),X[0]&32&&B!==(B=Y[5].a.a[0])&&attr(F,"min",B),X[0]&32&&j!==(j=Y[5].a.a[1])&&attr(F,"max",j),X[0]&64&&set_input_value(F,Y[6]),X[0]&256&&set_style(G,"background-color",Y[8])},i:noop$4,o:noop$4,d(Y){Y&&detach(e),q=!1,run_all(K)}}}function create_if_block_5$4(r){let e=[],t=new Map,o,l,h,y,O,D,R,F=r[5].a.a;const B=U=>U[49];for(let U=0;U<F.length;U+=1){let W=get_each_context_1$5(r,F,U),G=B(W);t.set(G,e[U]=create_each_block_1$5(G,W))}let j=r[5].a.o==!0&&create_if_block_6$2(r);return{c(){for(let U=0;U<e.length;U+=1)e[U].c();o=space(),j&&j.c(),l=space(),h=element("div"),y=element("div"),O=text("Envoyer"),attr(y,"class","userBtnInput svelte-w49pdy"),set_style(y,"background-color",r[8]),set_style(y,"color","white"),attr(h,"class","p-2")},m(U,W){for(let G=0;G<e.length;G+=1)e[G].m(U,W);insert(U,o,W),j&&j.m(U,W),insert(U,l,W),insert(U,h,W),append(h,y),append(y,O),D||(R=listen(y,"click",r[18]),D=!0)},p(U,W){W[0]&352&&(F=U[5].a.a,e=update_keyed_each(e,W,B,1,U,F,t,o.parentNode,destroy_block,create_each_block_1$5,o,get_each_context_1$5)),U[5].a.o==!0?j?j.p(U,W):(j=create_if_block_6$2(U),j.c(),j.m(l.parentNode,l)):j&&(j.d(1),j=null),W[0]&256&&set_style(y,"background-color",U[8])},i:noop$4,o:noop$4,d(U){for(let W=0;W<e.length;W+=1)e[W].d(U);U&&detach(o),j&&j.d(U),U&&detach(l),U&&detach(h),D=!1,R()}}}function create_if_block_2$8(r){let e,t,o,l=r[5].a.a,h=[];for(let O=0;O<l.length;O+=1)h[O]=create_each_block$6(get_each_context$6(r,l,O));let y=r[5].a.o==!0&&create_if_block_3$6(r);return{c(){for(let O=0;O<h.length;O+=1)h[O].c();e=space(),y&&y.c(),t=empty$2()},m(O,D){for(let R=0;R<h.length;R+=1)h[R].m(O,D);insert(O,e,D),y&&y.m(O,D),insert(O,t,D),o=!0},p(O,D){if(D[0]&1056){l=O[5].a.a;let R;for(R=0;R<l.length;R+=1){const F=get_each_context$6(O,l,R);h[R]?h[R].p(F,D):(h[R]=create_each_block$6(F),h[R].c(),h[R].m(e.parentNode,e))}for(;R<h.length;R+=1)h[R].d(1);h.length=l.length}O[5].a.o==!0?y?(y.p(O,D),D[0]&32&&transition_in(y,1)):(y=create_if_block_3$6(O),y.c(),transition_in(y,1),y.m(t.parentNode,t)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(O){o||(transition_in(y),o=!0)},o(O){transition_out(y),o=!1},d(O){destroy_each(h,O),O&&detach(e),y&&y.d(O),O&&detach(t)}}}function create_if_block_11$1(r){let e,t,o,l;return{c(){e=element("div"),attr(e,"class","sendCircle svelte-w49pdy"),set_style(e,"background-color",r[8])},m(h,y){insert(h,e,y),l=!0},p(h,y){(!l||y[0]&256)&&set_style(e,"background-color",h[8])},i(h){l||(add_render_callback(()=>{o&&o.end(1),t=create_in_transition(e,fly,{x:10,duration:400}),t.start()}),l=!0)},o(h){t&&t.invalidate(),o=create_out_transition(e,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(e),h&&o&&o.end()}}}function create_if_block_9$1(r){let e,t,o,l;return{c(){e=element("div"),attr(e,"class","sendCircle svelte-w49pdy"),set_style(e,"background-color",r[8])},m(h,y){insert(h,e,y),l=!0},p(h,y){(!l||y[0]&256)&&set_style(e,"background-color",h[8])},i(h){l||(add_render_callback(()=>{o&&o.end(1),t=create_in_transition(e,fly,{x:10,duration:400}),t.start()}),l=!0)},o(h){t&&t.invalidate(),o=create_out_transition(e,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(e),h&&o&&o.end()}}}function create_each_block_1$5(r,e){let t,o,l=e[45]+"",h,y,O,D;function R(){return e[15](e[45],e[49])}return{key:r,first:null,c(){t=element("div"),o=element("div"),h=text(l),attr(o,"id",y="choix"+e[49].toString()),attr(o,"class","userBtnInput svelte-w49pdy"),attr(t,"class","p-2"),this.first=t},m(F,B){insert(F,t,B),append(t,o),append(o,h),O||(D=listen(o,"click",R),O=!0)},p(F,B){e=F,B[0]&32&&l!==(l=e[45]+"")&&set_data(h,l),B[0]&32&&y!==(y="choix"+e[49].toString())&&attr(o,"id",y)},d(F){F&&detach(t),O=!1,D()}}}function create_if_block_6$2(r){let e,t,o,l,h;return{c(){e=element("div"),t=element("div"),o=element("input"),attr(o,"class","w-100 border-0"),attr(o,"placeholder","Autre..."),attr(o,"maxlength","20"),attr(t,"id","optChoiceInput"),attr(t,"class","userBtnInput d-flex align-items-center justify-content-around svelte-w49pdy"),attr(e,"class","p-2")},m(y,O){insert(y,e,O),append(e,t),append(t,o),set_input_value(o,r[7]),l||(h=[listen(o,"input",r[16]),listen(o,"keypress",keypress_handler),listen(o,"keyup",r[17])],l=!0)},p(y,O){O[0]&128&&o.value!==y[7]&&set_input_value(o,y[7])},d(y){y&&detach(e),l=!1,run_all(h)}}}function create_each_block$6(r){let e,t,o=r[45]+"",l,h,y;function O(){return r[12](r[45])}return{c(){e=element("div"),t=element("div"),l=text(o),attr(t,"class","userBtnInput svelte-w49pdy"),attr(e,"class","p-2")},m(D,R){insert(D,e,R),append(e,t),append(t,l),h||(y=listen(t,"click",O),h=!0)},p(D,R){r=D,R[0]&32&&o!==(o=r[45]+"")&&set_data(l,o)},d(D){D&&detach(e),h=!1,y()}}}function create_if_block_3$6(r){let e,t,o,l,h,y,O,D,R,F=r[6].length>0&&create_if_block_4$6(r);return{c(){e=element("div"),t=element("div"),o=element("input"),l=space(),h=element("div"),y=element("div"),F&&F.c(),attr(o,"class","userFieldInput svelte-w49pdy"),attr(o,"placeholder","Autre..."),attr(o,"maxlength","20"),set_style(y,"width","100%"),attr(t,"class","userBtnInput d-flex align-items-center justify-content-around svelte-w49pdy"),attr(e,"class","p-2")},m(B,j){insert(B,e,j),append(e,t),append(t,o),set_input_value(o,r[6]),append(t,l),append(t,h),append(h,y),F&&F.m(y,null),O=!0,D||(R=[listen(o,"input",r[13]),listen(h,"click",r[14])],D=!0)},p(B,j){j[0]&64&&o.value!==B[6]&&set_input_value(o,B[6]),B[6].length>0?F?(F.p(B,j),j[0]&64&&transition_in(F,1)):(F=create_if_block_4$6(B),F.c(),transition_in(F,1),F.m(y,null)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros())},i(B){O||(transition_in(F),O=!0)},o(B){transition_out(F),O=!1},d(B){B&&detach(e),F&&F.d(),D=!1,run_all(R)}}}function create_if_block_4$6(r){let e,t,o,l;return{c(){e=element("div"),attr(e,"class","sendCircle svelte-w49pdy"),set_style(e,"background-color",r[8])},m(h,y){insert(h,e,y),l=!0},p(h,y){(!l||y[0]&256)&&set_style(e,"background-color",h[8])},i(h){l||(add_render_callback(()=>{o&&o.end(1),t=create_in_transition(e,fly,{x:10,duration:400}),t.start()}),l=!0)},o(h){t&&t.invalidate(),o=create_out_transition(e,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(e),h&&o&&o.end()}}}function create_if_block$c(r){let e;return{c(){e=element("div"),e.innerHTML='<lottie-player src="https://assets3.lottiefiles.com/packages/lf20_gn1xm5dh.json" background="transparent" speed="1" style="height:150px; max-width:200px; margin:auto;" autoplay=""></lottie-player>',set_style(e,"min-height","100px"),set_style(e,"margin","auto")},m(t,o){insert(t,e,o)},d(t){t&&detach(e)}}}function create_fragment$j(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G=[],q=new Map,K,Y,X,J,Q=r[1];const Z=re=>re[49];for(let re=0;re<Q.length;re+=1){let ie=get_each_context_2$2(r,Q,re),ne=Z(ie);q.set(ne,G[re]=create_each_block_2$2(ne,ie))}let ee=r[3]&&!r[4]&&create_if_block_1$9(r),te=r[4]&&create_if_block$c();return{c(){e=element("div"),t=element("div"),o=element("div"),l=element("div"),h=element("img"),O=space(),D=element("div"),R=text(r[2]),F=text("%"),B=space(),j=element("div"),U=element("div"),W=element("div");for(let re=0;re<G.length;re+=1)G[re].c();K=space(),Y=element("div"),ee&&ee.c(),X=space(),te&&te.c(),src_url_equal(h.src,y=r[0].logo!=null&&r[0].logo.toString().includes("https")?r[0].logo:"/assets/favicon.ico")||attr(h,"src",y),set_style(h,"height","30px"),attr(h,"alt","logo r\xE9tine"),attr(l,"class","p-3"),set_style(l,"font-family","Lexend"),set_style(l,"font-size","1.2rem"),set_style(l,"font-weight","600"),attr(D,"id","pourcentageAdv"),attr(D,"class","svelte-w49pdy"),attr(o,"class","w-100 d-flex align-items-center justify-content-between"),set_style(o,"background-color","transparent"),attr(W,"id","messageFeed"),attr(W,"class","h-100 p-2 d-flex flex-column justify-content-start"),set_style(U,"background-color","transparent"),attr(Y,"class","w-100"),set_style(Y,"min-height","100px"),attr(j,"class","h-100 d-flex flex-column justify-content-between scrollbehavior svelte-w49pdy"),set_style(j,"overflow-y","scroll"),set_style(j,"scroll-behavior","smooth"),attr(t,"class","h-100 w-100 d-flex flex-column justify-content-between m-auto"),attr(e,"class","d-flex align-content-center flex-column h-100 w-100"),set_style(e,"height","-webkit-fill-available")},m(re,ie){insert(re,e,ie),append(e,t),append(t,o),append(o,l),append(l,h),append(o,O),append(o,D),append(D,R),append(D,F),append(t,B),append(t,j),append(j,U),append(U,W);for(let ne=0;ne<G.length;ne+=1)G[ne].m(W,null);append(j,K),append(j,Y),ee&&ee.m(Y,null),append(Y,X),te&&te.m(Y,null),r[32](j),J=!0},p(re,ie){(!J||ie[0]&1&&!src_url_equal(h.src,y=re[0].logo!=null&&re[0].logo.toString().includes("https")?re[0].logo:"/assets/favicon.ico"))&&attr(h,"src",y),(!J||ie[0]&4)&&set_data(R,re[2]),ie[0]&258&&(Q=re[1],G=update_keyed_each(G,ie,Z,1,re,Q,q,W,destroy_block,create_each_block_2$2,null,get_each_context_2$2)),re[3]&&!re[4]?ee?(ee.p(re,ie),ie[0]&24&&transition_in(ee,1)):(ee=create_if_block_1$9(re),ee.c(),transition_in(ee,1),ee.m(Y,X)):ee&&(group_outros(),transition_out(ee,1,1,()=>{ee=null}),check_outros()),re[4]?te||(te=create_if_block$c(),te.c(),te.m(Y,null)):te&&(te.d(1),te=null)},i(re){if(!J){for(let ie=0;ie<Q.length;ie+=1)transition_in(G[ie]);transition_in(ee),J=!0}},o(re){transition_out(ee),J=!1},d(re){re&&detach(e);for(let ie=0;ie<G.length;ie+=1)G[ie].d();ee&&ee.d(),te&&te.d(),r[32](null)}}}const keypress_handler=r=>{r.key==";"&&r.preventDefault()};function instance$h(r,e,t){let{chatContent:o}=e,{scode:l=["demo"]}=e,h=[],y=0,O=[],D=!1,R=!1,F,B="",j="",U,W=0;const G=()=>W++;let q;onMount(()=>{q=setInterval(G,1e3)});const K=()=>{const ke=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(ke)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(ke)?"mobile":"desktop"};let Y;function X(){setTimeout(()=>{t(9,Y.scrollTop=Y.scrollHeight,Y)},400)}function J(ke){t(6,B=""),t(7,j=""),t(5,F=ke),t(1,h=[...h,[F.q,"question"]]),t(3,D=!0),X()}J(o.jsonContent.find(ke=>ke.idr=="start"));function Q(ke,Ee){t(3,D=!1);let Ie=ke;Ee.a.type=="num"&&(Ie=ke.toString()+Ee.a.a[2]),t(1,h=[...h,[Ie,"reponse"]]);let xe=Math.round((parseInt(o.jsonContent.indexOf(Ee))+1)/(o.jsonContent.length-1)*100);ie(y,xe),O.push({n:Ee.idr,t:Ee.a.type,a:ke}),Z(Ee)}function Z(ke){let Ee;if(o.v==1||o.v==null)Ee=o.jsonContent[o.jsonContent.indexOf(ke)+1];else if(o.v==2){let Ie=ke.suiv.filter(xe=>xe.cond.length>0).find(xe=>{let Me=o.jsonContent.find(Re=>Re.idr==xe.cond[0]),Ae=O.find(Re=>Re.n==xe.cond[0]);if(["1c","mc"].includes(Ae.t)){if(xe.cond[1]=="=="&&Ae.a==Me.a.a[xe.cond[2]])return!0}else if(["num"].includes(Ae.t)&&(xe.cond[1]=="=="&&Ae.a==xe.cond[2]||xe.cond[1]=="<="&&Ae.a<=xe.cond[2]||xe.cond[1]==">="&&Ae.a>=xe.cond[2]))return!0});Ie==null?Ie=ke.suiv.find(xe=>xe.cond.length==0).idr:Ie=Ie.idr,Ee=o.jsonContent.find(xe=>xe.idr==Ie)}setTimeout(()=>{Ee.idr=="end"&&(t(4,R=!0),ee()),J(Ee),Y.scrollTo(0,Y.scrollHeight)},500)}async function ee(){if(clearInterval(q),l[0]!="demo"){var ke=JSON.stringify({client_info:K(),ans_time:W,jsonContent:JSON.stringify(O),follow:l.length<=2?"no":l[2]}),Ee=new Headers;return Ee.append("Content-Type","application/json"),fetch(`${rtnUrl}rep/${l[1]}/`,{method:"POST",headers:Ee,body:ke,redirect:"follow"}).then(Ie=>Ie.text()).then(Ie=>{console.log(Ie),setTimeout(()=>{t(4,R=!0),X()},100)}).catch(Ie=>{throw new Error(Ie)})}t(4,R=!0),X()}const te=Math.round(2e3/17),re=ke=>ke*(2-ke),ie=(ke,Ee)=>{let Ie=ke;const xe=Ee,Me=setInterval(()=>{Ie++;const Ae=re(Ie/te),Re=Math.round(xe*Ae);Ee+1!==Re&&Re>ke&&t(2,y=Re),Ie===te&&clearInterval(Me)},17)},ne=ke=>{Q(ke,F)};function se(){B=this.value,t(6,B)}const ce=()=>{B!=""&&Q(B,F)},ue=(ke,Ee)=>{B.split(" ; ").includes(ke)?(document.getElementById("choix"+Ee.toString()).style.border="0px solid transparent",t(6,B=B.replace(ke+" ; ",""))):(document.getElementById("choix"+Ee.toString()).style.border=`3px solid ${U}`,t(6,B+=ke+" ; "))};function he(){j=this.value,t(7,j)}const pe=ke=>{j!=""?document.getElementById("optChoiceInput").style.border=`3px solid ${U}`:document.getElementById("optChoiceInput").style.border="0px solid transparent"},oe=ke=>{j!=""&&t(6,B+=j+" ; "),B!=""&&Q(B.slice(0,B.length-3),F)};function ae(){B=to_number(this.value),t(6,B)}function le(){B=to_number(this.value),t(6,B)}const me=()=>{B.toString()!=""&&B>=F.a.a[0]&&B<=F.a.a[1]&&Q(B.toString(),F)},ge=ke=>{ke.key==="Enter"&&(B!=""?Q(B,F):ke.preventDefault())};function fe(){B=this.value,t(6,B)}const _e=()=>{B!=""&&Q(B,F)},we=ke=>{t(6,B=ke.target.value)},ve=()=>{B!=""&&Q(B,F)},Se=()=>Q("\u2B50\u2B50\u2B50\u2B50\u2B50",F),$e=()=>Q("\u2B50\u2B50\u2B50\u2B50",F),be=()=>Q("\u2B50\u2B50\u2B50",F),ye=()=>Q("\u2B50\u2B50",F),Oe=()=>Q("\u2B50",F);function Te(ke){binding_callbacks[ke?"unshift":"push"](()=>{Y=ke,t(9,Y)})}return r.$$set=ke=>{"chatContent"in ke&&t(0,o=ke.chatContent),"scode"in ke&&t(11,l=ke.scode)},r.$$.update=()=>{r.$$.dirty[0]&1&&t(8,U=o.color==null?"#6219D8":o.color)},[o,h,y,D,R,F,B,j,U,Y,Q,l,ne,se,ce,ue,he,pe,oe,ae,le,me,ge,fe,_e,we,ve,Se,$e,be,ye,Oe,Te]}class Chat extends SvelteComponent{constructor(e){super(),init(this,e,instance$h,create_fragment$j,safe_not_equal,{chatContent:0,scode:11},null,[-1,-1])}}var modalTemplateLoad_svelte_svelte_type_style_lang="";function get_each_context$5(r,e,t){const o=r.slice();return o[14]=e[t],o[16]=t,o}function get_each_context_1$4(r,e,t){const o=r.slice();return o[17]=e[t],o[19]=t,o}function create_catch_block$7(r){let e,t=r[20]+"",o;return{c(){e=element("div"),o=text(t)},m(l,h){insert(l,e,h),append(e,o)},p(l,h){h&1&&t!==(t=l[20]+"")&&set_data(o,t)},i:noop$4,o:noop$4,d(l){l&&detach(e)}}}function create_then_block$7(r){let e,t=[...new Set(r[13].map(func$4))],o=[];for(let l=0;l<t.length;l+=1)o[l]=create_each_block$5(get_each_context$5(r,t,l));return{c(){e=element("div");for(let l=0;l<o.length;l+=1)o[l].c();attr(e,"class","templateZone svelte-1hnhtfw")},m(l,h){insert(l,e,h);for(let y=0;y<o.length;y+=1)o[y].m(e,null)},p(l,h){if(h&5){t=[...new Set(l[13].map(func$4))];let y;for(y=0;y<t.length;y+=1){const O=get_each_context$5(l,t,y);o[y]?(o[y].p(O,h),transition_in(o[y],1)):(o[y]=create_each_block$5(O),o[y].c(),transition_in(o[y],1),o[y].m(e,null))}for(;y<o.length;y+=1)o[y].d(1);o.length=t.length}},i(l){for(let h=0;h<t.length;h+=1)transition_in(o[h])},o:noop$4,d(l){l&&detach(e),destroy_each(o,l)}}}function create_if_block$b(r){let e,t,o=r[14]+"",l;return{c(){e=element("div"),t=element("h5"),l=text(o),attr(e,"class","mb-1 mt-2 border-bottom")},m(h,y){insert(h,e,y),append(e,t),append(t,l)},p(h,y){y&1&&o!==(o=h[14]+"")&&set_data(l,o)},d(h){h&&detach(e)}}}function create_each_block_1$4(r){let e,t,o,l=r[17].nom_proj+"",h,y,O,D,R;function F(){return r[8](r[17])}return{c(){e=element("div"),t=element("div"),o=text("\u27A1\uFE0F "),h=text(l),y=space(),attr(t,"class","templateBtn svelte-1hnhtfw")},m(B,j){insert(B,e,j),append(e,t),append(t,o),append(t,h),append(e,y),D||(R=listen(t,"click",F),D=!0)},p(B,j){r=B,j&1&&l!==(l=r[17].nom_proj+"")&&set_data(h,l)},i(B){O||add_render_callback(()=>{O=create_in_transition(e,fly,{x:-20,delay:r[19]*100}),O.start()})},o:noop$4,d(B){B&&detach(e),D=!1,R()}}}function create_each_block$5(r){let e,t,o=r[14]!=null&&create_if_block$b(r);function l(...O){return r[7](r[14],...O)}let h=r[13].filter(l),y=[];for(let O=0;O<h.length;O+=1)y[O]=create_each_block_1$4(get_each_context_1$4(r,h,O));return{c(){o&&o.c(),e=space();for(let O=0;O<y.length;O+=1)y[O].c();t=empty$2()},m(O,D){o&&o.m(O,D),insert(O,e,D);for(let R=0;R<y.length;R+=1)y[R].m(O,D);insert(O,t,D)},p(O,D){if(r=O,r[14]!=null?o?o.p(r,D):(o=create_if_block$b(r),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),D&5){h=r[13].filter(l);let R;for(R=0;R<h.length;R+=1){const F=get_each_context_1$4(r,h,R);y[R]?(y[R].p(F,D),transition_in(y[R],1)):(y[R]=create_each_block_1$4(F),y[R].c(),transition_in(y[R],1),y[R].m(t.parentNode,t))}for(;R<y.length;R+=1)y[R].d(1);y.length=h.length}},i(O){for(let D=0;D<h.length;D+=1)transition_in(y[D])},o:noop$4,d(O){o&&o.d(O),O&&detach(e),destroy_each(y,O),O&&detach(t)}}}function create_pending_block$7(r){let e;return{c(){e=element("div"),e.textContent="Chargement des mod\xE8les...",attr(e,"class","d-flex justify-content-center align-items-center"),set_style(e,"min-height","400px")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_fragment$i(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$7,then:create_then_block$7,catch:create_catch_block$7,value:13,error:20};return handle_promise(W=r[0],Z),{c(){e=element("div"),t=element("div"),o=element("h2"),o.textContent="\u{1F4DA} Mod\xE8les de sondage",l=space(),h=element("div"),y=element("div"),y.textContent="Mes sondages",O=space(),D=element("div"),D.textContent="Mod\xE8les",R=space(),F=element("div"),B=element("div"),B.innerHTML=`<div class="lightbulb svelte-1hnhtfw">\u{1F4A1}</div> 
        <div>Cliquer sur un de vos sondages ci-dessous g\xE9n\xE8re une <u>copie</u> de celui-ci.</div>`,U=space(),Z.block.c(),G=space(),q=element("div"),K=element("button"),K.textContent="Close",attr(o,"class","mb-4 svelte-1hnhtfw"),attr(y,"id","sondagesBtn"),attr(y,"class","headerBtn active svelte-1hnhtfw"),attr(D,"id","modelsBtn"),attr(D,"class","headerBtn svelte-1hnhtfw"),attr(h,"class","headerBtns svelte-1hnhtfw"),attr(B,"class","infoTile svelte-1hnhtfw"),attr(F,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 my-2"),attr(K,"class","svelte-1hnhtfw"),attr(q,"class","actions svelte-1hnhtfw"),attr(t,"class","contents svelte-1hnhtfw"),attr(e,"role","dialog"),attr(e,"class","modal svelte-1hnhtfw")},m(ee,te){insert(ee,e,te),append(e,t),append(t,o),append(t,l),append(t,h),append(h,y),append(h,O),append(h,D),append(t,R),append(t,F),append(F,B),append(t,U),Z.block.m(t,Z.anchor=null),Z.mount=()=>t,Z.anchor=G,append(t,G),append(t,q),append(q,K),X=!0,J||(Q=[listen(y,"click",r[1]),listen(D,"click",r[1]),listen(K,"click",closeModal),listen(e,"introstart",r[5]),listen(e,"outroend",r[6])],J=!0)},p(ee,[te]){r=ee,Z.ctx=r,te&1&&W!==(W=r[0])&&handle_promise(W,Z)||update_await_block_branch(Z,r,te)},i(ee){X||(j||add_render_callback(()=>{j=create_in_transition(B,fly,{y:30,delay:400}),j.start()}),transition_in(Z.block),add_render_callback(()=>{Y||(Y=create_bidirectional_transition(e,fly,{y:50},!0)),Y.run(1)}),X=!0)},o(ee){Y||(Y=create_bidirectional_transition(e,fly,{y:50},!1)),Y.run(0),X=!1},d(ee){ee&&detach(e),Z.block.d(),Z.token=null,Z=null,ee&&Y&&Y.end(),J=!1,run_all(Q)}}}const func$4=r=>r.category;function instance$g(r,e,t){let{sondageEnCreation:o}=e,{updateFun:l}=e,h=!1,y;async function O(){var q=new Headers;q.append("Authorization","Token "+xxgc("rtnt")),q.append("Content-Type","application/json");var K={method:"GET",headers:q,redirect:"follow"};return fetch(rtnUrl+"templates/",K).then(Y=>Y.text()).then(Y=>JSON.parse(Y)).catch(Y=>Y)}async function D(){var q=new Headers;q.append("Authorization","Token "+xxgc("rtnt")),q.append("Content-Type","application/json");var K={method:"GET",headers:q,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",K).then(Y=>Y.text()).then(Y=>JSON.parse(Y)).catch(Y=>Y)}let R=D();R.then(q=>{y=q});function F(q){q.target.classList.contains("active")||(document.querySelectorAll(".headerBtn").forEach(function(K){K.classList.remove("active")}),q.target.classList.add("active"),q.target.id=="modelsBtn"?(t(0,R=O()),h=!0):q.target.id=="sondagesBtn"&&(t(0,R=D()),R.then(K=>{y=K}),h=!1))}const B=async q=>{if(h){async function K(){var X=new Headers;return X.append("Authorization","Token "+xxgc("rtnt")),X.append("Content-Type","application/json"),fetch(`${rtnUrl}templates/${q}/`,{method:"GET",headers:X,redirect:"follow"}).then(J=>J.text()).then(J=>JSON.parse(J)).catch(J=>J)}let Y=await K();Y.jsonContent=JSON.parse(Y.jsonContent),t(3,o=Y)}else{let K=y.find(Y=>Y.id==q);console.log(K),K.jsonContent=JSON.parse(K.jsonContent),t(3,o=K)}closeModal(),l()};function j(q){bubble.call(this,r,q)}function U(q){bubble.call(this,r,q)}const W=(q,K)=>K.category==q,G=q=>B(q.id);return r.$$set=q=>{"sondageEnCreation"in q&&t(3,o=q.sondageEnCreation),"updateFun"in q&&t(4,l=q.updateFun)},[R,F,B,o,l,j,U,W,G]}class ModalTemplateLoad extends SvelteComponent{constructor(e){super(),init(this,e,instance$g,create_fragment$i,safe_not_equal,{sondageEnCreation:3,updateFun:4})}}var modalDesignSond_svelte_svelte_type_style_lang="";function create_if_block$a(r){let e,t,o;return{c(){e=element("div"),e.textContent="\u274C",attr(e,"class","delImg svelte-1sl0u45")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[2]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_fragment$h(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne=r[0].logo!=""&&create_if_block$a(r);return{c(){e=element("div"),t=element("div"),o=element("h4"),o.textContent="\u{1F3A8} Design du sondage",l=space(),h=element("div"),y=element("div"),O=element("div"),O.textContent="Couleur primaire :",D=space(),R=element("input"),F=space(),B=element("div"),j=element("div"),j.textContent="Logo du sondage :",U=space(),W=element("div"),G=element("label"),q=element("div"),K=space(),ne&&ne.c(),Y=space(),X=element("input"),J=space(),Q=element("div"),Z=element("button"),Z.textContent="Fermer",attr(o,"class","mb-4 text-center"),attr(O,"class","mr-3"),attr(R,"class","colorIO svelte-1sl0u45"),attr(R,"type","color"),attr(y,"class","designcomp p-3 m-2 d-flex align-items-center justify-content-around svelte-1sl0u45"),attr(j,"class","mr-3"),attr(q,"class","imgLoader svelte-1sl0u45"),set_style(q,"background-image","url("+(r[0].logo==""?"assets/icons/placeholder.png":r[0].logo)+")"),attr(G,"class","m-0"),attr(G,"for","logosond"),set_style(X,"display","none"),attr(X,"id","logosond"),attr(X,"type","file"),attr(X,"enctype","multipart/form-data"),attr(B,"class","designcomp p-3 m-2 d-flex align-items-center justify-content-around svelte-1sl0u45"),attr(h,"class","container py-2 px-3 text-center"),attr(Z,"class","svelte-1sl0u45"),attr(Q,"class","actions svelte-1sl0u45"),attr(t,"class","contents svelte-1sl0u45"),attr(e,"role","dialog"),attr(e,"class","modal svelte-1sl0u45")},m(se,ce){insert(se,e,ce),append(e,t),append(t,o),append(t,l),append(t,h),append(h,y),append(y,O),append(y,D),append(y,R),set_input_value(R,r[0].color),append(h,F),append(h,B),append(B,j),append(B,U),append(B,W),append(W,G),append(G,q),append(W,K),ne&&ne.m(W,null),append(W,Y),append(W,X),append(t,J),append(t,Q),append(Q,Z),te=!0,re||(ie=[listen(R,"input",r[6]),listen(X,"change",r[1]),listen(Z,"click",closeModal),listen(e,"introstart",r[4]),listen(e,"outroend",r[5])],re=!0)},p(se,[ce]){ce&1&&set_input_value(R,se[0].color),(!te||ce&1)&&set_style(q,"background-image","url("+(se[0].logo==""?"assets/icons/placeholder.png":se[0].logo)+")"),se[0].logo!=""?ne?ne.p(se,ce):(ne=create_if_block$a(se),ne.c(),ne.m(W,Y)):ne&&(ne.d(1),ne=null)},i(se){te||(add_render_callback(()=>{ee||(ee=create_bidirectional_transition(e,fly,{y:50},!0)),ee.run(1)}),te=!0)},o(se){ee||(ee=create_bidirectional_transition(e,fly,{y:50},!1)),ee.run(0),te=!1},d(se){se&&detach(e),ne&&ne.d(),se&&ee&&ee.end(),re=!1,run_all(ie)}}}function instance$f(r,e,t){let{sondageEnCreation:o}=e,{updateFun:l}=e;const h=F=>{if(F.target.files[0].size>1048576){alert("Fichier trop volumineux! Veuillez s\xE9l\xE9ctionner une image de moins de 1Mo."),F.target.value="";return}t(0,o.logo=F.target.files[0],o),l()},y=()=>{t(0,o.logo="",o),l()};function O(F){bubble.call(this,r,F)}function D(F){bubble.call(this,r,F)}function R(){o.color=this.value,t(0,o)}return r.$$set=F=>{"sondageEnCreation"in F&&t(0,o=F.sondageEnCreation),"updateFun"in F&&t(3,l=F.updateFun)},[o,h,y,l,O,D,R]}class ModalDesignSond extends SvelteComponent{constructor(e){super(),init(this,e,instance$f,create_fragment$h,safe_not_equal,{sondageEnCreation:0,updateFun:3})}}function flip(r,{from:e,to:t},o={}){const l=getComputedStyle(r),h=l.transform==="none"?"":l.transform,[y,O]=l.transformOrigin.split(" ").map(parseFloat),D=e.left+e.width*y/t.width-(t.left+y),R=e.top+e.height*O/t.height-(t.top+O),{delay:F=0,duration:B=U=>Math.sqrt(U)*120,easing:j=cubicOut}=o;return{delay:F,duration:is_function(B)?B(Math.sqrt(D*D+R*R)):B,easing:j,css:(U,W)=>{const G=W*D,q=W*R,K=U+W*e.width/t.width,Y=U+W*e.height/t.height;return`transform: ${h} translate(${G}px, ${q}px) scale(${K}, ${Y});`}}}var shortUniqueId={exports:{}};(function(r){var e=(()=>{var t=Object.defineProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,y=(q,K,Y)=>K in q?t(q,K,{enumerable:!0,configurable:!0,writable:!0,value:Y}):q[K]=Y,O=(q,K)=>{for(var Y in K||(K={}))l.call(K,Y)&&y(q,Y,K[Y]);if(o)for(var Y of o(K))h.call(K,Y)&&y(q,Y,K[Y]);return q},D=q=>t(q,"__esModule",{value:!0}),R=(q,K)=>{D(q);for(var Y in K)t(q,Y,{get:K[Y],enumerable:!0})},F={};R(F,{DEFAULT_UUID_LENGTH:()=>j,default:()=>G});var B="4.4.4",j=6,U={dictionary:"alphanum",shuffle:!0,debug:!1,length:j},W=class extends Function{constructor(q={}){super(),this.dictIndex=0,this.dictRange=[],this.lowerBound=0,this.upperBound=0,this.dictLength=0,this._digit_first_ascii=48,this._digit_last_ascii=58,this._alpha_lower_first_ascii=97,this._alpha_lower_last_ascii=123,this._hex_last_ascii=103,this._alpha_upper_first_ascii=65,this._alpha_upper_last_ascii=91,this._number_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii]},this._alpha_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alpha_lower_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alpha_upper_dict_ranges={upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_lower_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alphanum_upper_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._hex_dict_ranges={decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]},this.log=(...Q)=>{const Z=[...Q];if(Z[0]=`[short-unique-id] ${Q[0]}`,this.debug===!0&&typeof console!="undefined"&&console!==null)return console.log(...Z)},this.setDictionary=(Q,Z)=>{let ee;if(Q&&Array.isArray(Q)&&Q.length>1)ee=Q;else{ee=[];let te;this.dictIndex=te=0;const re=`_${Q}_dict_ranges`,ie=this[re];Object.keys(ie).forEach(ne=>{const se=ne;for(this.dictRange=ie[se],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=te=this.lowerBound;this.lowerBound<=this.upperBound?te<this.upperBound:te>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?te+=1:te-=1)ee.push(String.fromCharCode(this.dictIndex))})}Z&&(ee=ee.sort(()=>Math.random()-.5)),this.dict=ee,this.dictLength=this.dict.length,this.counter=0},this.seq=()=>this.sequentialUUID(),this.sequentialUUID=()=>{let Q,Z,ee="";Q=this.counter;do Z=Q%this.dictLength,Q=Math.trunc(Q/this.dictLength),ee+=this.dict[Z];while(Q!==0);return this.counter+=1,ee},this.randomUUID=(Q=this.uuidLength||j)=>{let Z,ee,te;if(Q===null||typeof Q=="undefined"||Q<1)throw new Error("Invalid UUID Length Provided");for(Z="",te=0;te<Q;te+=1)ee=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,Z+=this.dict[ee];return Z},this.availableUUIDs=(Q=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,Q).toFixed(0)),this.approxMaxBeforeCollision=(Q=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*Q).toFixed(20)),this.collisionProbability=(Q=this.availableUUIDs(this.uuidLength),Z=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(Q)/this.availableUUIDs(Z)).toFixed(20)),this.uniqueness=(Q=this.availableUUIDs(this.uuidLength))=>{const Z=parseFloat((1-this.approxMaxBeforeCollision(Q)/Q).toFixed(20));return Z>1?1:Z<0?0:Z},this.getVersion=()=>this.version,this.stamp=Q=>{if(typeof Q!="number"||Q<10)throw new Error("Param finalLength must be number greater than 10");const Z=Math.floor(+new Date/1e3).toString(16),ee=Q-9,te=Math.round(Math.random()*(ee>15?15:ee)),re=this.randomUUID(ee);return`${re.substr(0,te)}${Z}${re.substr(te)}${te.toString(16)}`},this.parseStamp=Q=>{if(Q.length<10)throw new Error("Stamp length invalid");const Z=parseInt(Q.substr(Q.length-1,1),16);return new Date(parseInt(Q.substr(Z,8),16)*1e3)};const K=O(O({},U),q);this.counter=0,this.debug=!1,this.dict=[],this.version=B;const{dictionary:Y,shuffle:X,length:J}=K;return this.uuidLength=J,this.setDictionary(Y,X),this.debug=K.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength}`),new Proxy(this,{apply:(Q,Z,ee)=>this.randomUUID(...ee)})}},G=W;return G.default=W,F})();r.exports=e.default,typeof window!="undefined"&&(e=e.default)})(shortUniqueId);var ShortUniqueId=getDefaultExportFromCjs(shortUniqueId.exports),modalCellEdit_svelte_svelte_type_style_lang="";function get_each_context_4(r,e,t){const o=r.slice();return o[59]=e[t],o}function get_each_context$4(r,e,t){const o=r.slice();return o[52]=e[t],o[53]=e,o[54]=t,o}function get_each_context_1$3(r,e,t){const o=r.slice();return o[55]=e[t],o[54]=t,o}function get_each_context_2$1(r,e,t){const o=r.slice();return o[55]=e[t],o[54]=t,o}function get_each_context_3(r,e,t){const o=r.slice();return o[55]=e[t],o[54]=t,o}function create_else_block_3$1(r){let e,t,o,l,h,y,O,D,R=!r[10]&&create_if_block_15(r),F=r[0].a.type!=""&&!r[10]&&create_if_block_9(r);return{c(){e=element("div"),t=element("textarea"),o=space(),R&&R.c(),l=space(),F&&F.c(),h=empty$2(),attr(t,"id","outQuestion"),attr(t,"class","fieldQ svelte-1062dz2"),attr(t,"placeholder","Comment est votre blanquette ?"),attr(t,"maxlength","600")},m(B,j){insert(B,e,j),append(e,t),set_input_value(t,r[0].q),insert(B,o,j),R&&R.m(B,j),insert(B,l,j),F&&F.m(B,j),insert(B,h,j),y=!0,O||(D=listen(t,"input",r[36]),O=!0)},p(B,j){j[0]&1&&set_input_value(t,B[0].q),B[10]||R.p(B,j),B[0].a.type!=""&&!B[10]?F?(F.p(B,j),j[0]&1&&transition_in(F,1)):(F=create_if_block_9(B),F.c(),transition_in(F,1),F.m(h.parentNode,h)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros())},i(B){y||(transition_in(F),y=!0)},o(B){transition_out(F),y=!1},d(B){B&&detach(e),B&&detach(o),R&&R.d(B),B&&detach(l),F&&F.d(B),B&&detach(h),O=!1,D()}}}function create_if_block_2$7(r){let e=!r[9]&&!r[10]&&r[2]>=0&&r[1].jsonContent.filter(func$3).length>0,t,o,l,h,y,O=e&&create_if_block_5$3(r);const D=[create_if_block_3$5,create_else_block_1$4],R=[];function F(B,j){return B[11]?1:0}return o=F(r),l=R[o]=D[o](r),{c(){O&&O.c(),t=space(),l.c(),h=empty$2()},m(B,j){O&&O.m(B,j),insert(B,t,j),R[o].m(B,j),insert(B,h,j),y=!0},p(B,j){j[0]&6&&(e=!B[9]&&!B[10]&&B[2]>=0&&B[1].jsonContent.filter(func$3).length>0),e?O?(O.p(B,j),j[0]&6&&transition_in(O,1)):(O=create_if_block_5$3(B),O.c(),transition_in(O,1),O.m(t.parentNode,t)):O&&(group_outros(),transition_out(O,1,1,()=>{O=null}),check_outros()),l.p(B,j)},i(B){y||(transition_in(O),transition_in(l),y=!0)},o(B){transition_out(O),transition_out(l),y=!1},d(B){O&&O.d(B),B&&detach(t),R[o].d(B),B&&detach(h)}}}function create_if_block_15(r){let e,t,o,l,h,y,O,D,R,F,B;return{c(){e=element("div"),t=element("select"),o=element("option"),o.textContent="Choisir un type de r\xE9ponse",l=element("option"),l.textContent="Choix Unique",h=element("option"),h.textContent="Choix Multiple",y=element("option"),y.textContent="Champs libre",O=element("option"),O.textContent="Num\xE9ro",D=element("option"),D.textContent="Date & heure",R=element("option"),R.textContent="Notation",o.__value="",o.value=o.__value,o.selected=!0,o.disabled=!0,l.__value="1c",l.value=l.__value,h.__value="mc",h.value=h.__value,y.__value="cl",y.value=y.__value,O.__value="num",O.value=O.__value,D.__value="cal",D.value=D.__value,R.__value="5s",R.value=R.__value,attr(t,"class","fieldQ svelte-1062dz2"),attr(t,"name","qtype"),attr(t,"id","qtypefield"),t.disabled=r[10],r[0].a.type===void 0&&add_render_callback(()=>r[37].call(t))},m(j,U){insert(j,e,U),append(e,t),append(t,o),append(t,l),append(t,h),append(t,y),append(t,O),append(t,D),append(t,R),select_option(t,r[0].a.type),F||(B=[listen(t,"change",r[37]),listen(t,"change",r[38])],F=!0)},p(j,U){U[0]&1&&select_option(t,j[0].a.type)},d(j){j&&detach(e),F=!1,run_all(B)}}}function create_if_block_9(r){let e,t,o,l,h;const y=[create_if_block_10,create_if_block_11,create_if_block_12,create_if_block_13,create_if_block_14,create_else_block_4],O=[];function D(R,F){return R[0].a.type=="1c"||R[0].a.type=="mc"?0:R[0].a.type=="cl"?1:R[0].a.type=="num"?2:R[0].a.type=="cal"?3:R[0].a.type=="5s"?4:5}return t=D(r),o=O[t]=y[t](r),{c(){e=element("div"),o.c(),attr(e,"id","ansWriteZone"),attr(e,"class","pt-2 svelte-1062dz2")},m(R,F){insert(R,e,F),O[t].m(e,null),h=!0},p(R,F){let B=t;t=D(R),t===B?O[t].p(R,F):(group_outros(),transition_out(O[B],1,1,()=>{O[B]=null}),check_outros(),o=O[t],o?o.p(R,F):(o=O[t]=y[t](R),o.c()),transition_in(o,1),o.m(e,null))},i(R){h||(transition_in(o),l||add_render_callback(()=>{l=create_in_transition(e,fly,{y:20}),l.start()}),h=!0)},o(R){transition_out(o),h=!1},d(R){R&&detach(e),O[t].d()}}}function create_else_block_4(r){let e;return{c(){e=text("Error")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_if_block_14(r){let e,t,o,l,h,y;return{c(){e=element("span"),o=space(),l=element("div"),l.textContent="\u2B50 L'utilisateur pourra donner une note de 1 \xE0 5 \xE9toiles."},m(O,D){insert(O,e,D),insert(O,o,D),insert(O,l,D),h||(y=action_destroyer(t=r[12].call(null,e,r[0].a.type)),h=!0)},p(O,D){t&&is_function(t.update)&&D[0]&1&&t.update.call(null,O[0].a.type)},i:noop$4,o:noop$4,d(O){O&&detach(e),O&&detach(o),O&&detach(l),h=!1,y()}}}function create_if_block_13(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W;return{c(){e=element("span"),o=space(),l=element("div"),l.textContent="L'utilisateur devra saisir :",h=space(),y=element("input"),O=space(),D=element("label"),D.textContent="une date (format JJ/MM/AAAA)",R=element("br"),F=element("input"),B=space(),j=element("label"),j.textContent="une heure (format HH:MM)",attr(l,"class","my-2"),attr(y,"type","checkbox"),attr(y,"id","datee"),attr(y,"class","svelte-1062dz2"),attr(D,"for","datee"),attr(F,"type","checkbox"),attr(F,"id","heuree"),attr(F,"class","svelte-1062dz2"),attr(j,"for","heuree")},m(G,q){insert(G,e,q),insert(G,o,q),insert(G,l,q),insert(G,h,q),insert(G,y,q),y.checked=r[0].a.a[0],insert(G,O,q),insert(G,D,q),insert(G,R,q),insert(G,F,q),F.checked=r[0].a.a[1],insert(G,B,q),insert(G,j,q),U||(W=[action_destroyer(t=r[12].call(null,e,r[0].a.type)),listen(y,"change",r[47]),listen(F,"change",r[48])],U=!0)},p(G,q){t&&is_function(t.update)&&q[0]&1&&t.update.call(null,G[0].a.type),q[0]&1&&(y.checked=G[0].a.a[0]),q[0]&1&&(F.checked=G[0].a.a[1])},i:noop$4,o:noop$4,d(G){G&&detach(e),G&&detach(o),G&&detach(l),G&&detach(h),G&&detach(y),G&&detach(O),G&&detach(D),G&&detach(R),G&&detach(F),G&&detach(B),G&&detach(j),U=!1,run_all(W)}}}function create_if_block_12(r){let e,t,o,l,h,y,O,D,R,F,B,j,U;return{c(){e=element("span"),o=space(),l=element("label"),l.textContent="Minimum ",h=element("input"),y=element("br"),O=element("label"),O.textContent="Maximum ",D=element("input"),R=element("br"),F=element("label"),F.textContent="Unit\xE9e ",B=element("input"),attr(l,"for","nbMin"),attr(h,"class","fieldQlilnum svelte-1062dz2"),attr(h,"type","number"),attr(h,"id","nbMin"),attr(h,"name","nbMin"),attr(O,"for","nbMax"),attr(D,"class","fieldQlilnum svelte-1062dz2"),attr(D,"type","number"),attr(D,"id","nbMax"),attr(D,"name","nbMax"),attr(F,"for","unitee"),attr(B,"type","text"),attr(B,"class","fieldQlilnum svelte-1062dz2"),attr(B,"list","unitees"),attr(B,"id","uniteeChoice"),attr(B,"name","choixUnitee"),attr(B,"placeholder","$, cm, kg..."),attr(B,"maxlength","6")},m(W,G){insert(W,e,G),insert(W,o,G),insert(W,l,G),insert(W,h,G),set_input_value(h,r[0].a.a[0]),insert(W,y,G),insert(W,O,G),insert(W,D,G),set_input_value(D,r[0].a.a[1]),insert(W,R,G),insert(W,F,G),insert(W,B,G),set_input_value(B,r[0].a.a[2]),j||(U=[action_destroyer(t=r[12].call(null,e,r[0].a.type)),listen(h,"input",r[44]),listen(D,"input",r[45]),listen(B,"input",r[46])],j=!0)},p(W,G){t&&is_function(t.update)&&G[0]&1&&t.update.call(null,W[0].a.type),G[0]&1&&to_number(h.value)!==W[0].a.a[0]&&set_input_value(h,W[0].a.a[0]),G[0]&1&&to_number(D.value)!==W[0].a.a[1]&&set_input_value(D,W[0].a.a[1]),G[0]&1&&B.value!==W[0].a.a[2]&&set_input_value(B,W[0].a.a[2])},i:noop$4,o:noop$4,d(W){W&&detach(e),W&&detach(o),W&&detach(l),W&&detach(h),W&&detach(y),W&&detach(O),W&&detach(D),W&&detach(R),W&&detach(F),W&&detach(B),j=!1,run_all(U)}}}function create_if_block_11(r){let e,t,o,l,h,y,O,D,R,F,B;return{c(){e=element("span"),o=space(),l=element("div"),h=element("label"),h.textContent="Limite de caract\xE8res",y=space(),O=element("input"),D=space(),R=element("div"),R.innerHTML=`<p style="text-align: left; font-size:.9rem" class="svelte-1062dz2">\u{1F4A1} Une IA analysera automatiquement le sentiment d\xE9gag\xE9 par chacune des r\xE9ponses pour \xE9tablir des statistiques visibles sur votre
                      dashboard des r\xE9sultats.</p>`,attr(h,"for","nbCaracLimit"),attr(O,"class","fieldQlilnum svelte-1062dz2"),attr(O,"type","number"),attr(O,"id","nbCaracLimit"),attr(O,"name","nbCaracLimit"),attr(O,"min","1"),attr(O,"max","140")},m(j,U){insert(j,e,U),insert(j,o,U),insert(j,l,U),append(l,h),append(l,y),append(l,O),set_input_value(O,r[0].a.a[0]),insert(j,D,U),insert(j,R,U),F||(B=[action_destroyer(t=r[12].call(null,e,r[0].a.type)),listen(O,"input",r[43])],F=!0)},p(j,U){t&&is_function(t.update)&&U[0]&1&&t.update.call(null,j[0].a.type),U[0]&1&&to_number(O.value)!==j[0].a.a[0]&&set_input_value(O,j[0].a.a[0])},i:noop$4,o:noop$4,d(j){j&&detach(e),j&&detach(o),j&&detach(l),j&&detach(D),j&&detach(R),F=!1,run_all(B)}}}function create_if_block_10(r){let e,t,o,l,h=[],y=new Map,O,D,R,F,B,j,U,W,G=r[0].a.a;const q=K=>K[59];for(let K=0;K<G.length;K+=1){let Y=get_each_context_4(r,G,K),X=q(Y);y.set(X,h[K]=create_each_block_4(X,Y))}return{c(){e=element("input"),t=space(),o=element("span"),o.textContent="\u2795",l=space();for(let K=0;K<h.length;K+=1)h[K].c();O=space(),D=element("div"),R=element("input"),F=space(),B=element("label"),B.textContent='Ajouter une case "autre"',attr(e,"class","fieldQlil svelte-1062dz2"),attr(e,"type","text"),attr(e,"placeholder","Choix..."),attr(e,"maxlength","30"),attr(o,"class","miniBtn svelte-1062dz2"),attr(R,"class","mr-2 svelte-1062dz2"),attr(R,"type","checkbox"),attr(R,"id","checkCaseAutre"),attr(B,"for","checkCaseAutre"),attr(D,"class","my-1 p-1")},m(K,Y){insert(K,e,Y),set_input_value(e,r[4]),insert(K,t,Y),insert(K,o,Y),insert(K,l,Y);for(let X=0;X<h.length;X+=1)h[X].m(K,Y);insert(K,O,Y),insert(K,D,Y),append(D,R),R.checked=r[0].a.o,append(D,F),append(D,B),j=!0,U||(W=[listen(e,"input",r[39]),listen(e,"keydown",r[40]),listen(o,"click",r[14]),listen(R,"change",r[42])],U=!0)},p(K,Y){if(Y[0]&16&&e.value!==K[4]&&set_input_value(e,K[4]),Y[0]&1){G=K[0].a.a,group_outros();for(let X=0;X<h.length;X+=1)h[X].r();h=update_keyed_each(h,Y,q,1,K,G,y,O.parentNode,fix_and_outro_and_destroy_block,create_each_block_4,O,get_each_context_4);for(let X=0;X<h.length;X+=1)h[X].a();check_outros()}Y[0]&1&&(R.checked=K[0].a.o)},i(K){if(!j){for(let Y=0;Y<G.length;Y+=1)transition_in(h[Y]);j=!0}},o(K){for(let Y=0;Y<h.length;Y+=1)transition_out(h[Y]);j=!1},d(K){K&&detach(e),K&&detach(t),K&&detach(o),K&&detach(l);for(let Y=0;Y<h.length;Y+=1)h[Y].d(K);K&&detach(O),K&&detach(D),U=!1,run_all(W)}}}function create_each_block_4(r,e){let t,o=e[59]+"",l,h,y,O,D,R,F=noop$4,B,j,U;function W(){return e[41](e[59])}return{key:r,first:null,c(){t=element("div"),l=text(o),h=space(),y=element("span"),y.textContent="\u274C",attr(y,"class","miniBtn svelte-1062dz2"),attr(t,"class","textChoice svelte-1062dz2"),this.first=t},m(G,q){insert(G,t,q),append(t,l),append(t,h),append(t,y),B=!0,j||(U=listen(y,"click",W),j=!0)},p(G,q){e=G,(!B||q[0]&1)&&o!==(o=e[59]+"")&&set_data(l,o)},r(){R=t.getBoundingClientRect()},f(){fix_position(t),F(),add_transform(t,R)},a(){F(),F=create_animation(t,R,flip,{duration:500})},i(G){B||(add_render_callback(()=>{D&&D.end(1),O=create_in_transition(t,fly,{x:20}),O.start()}),B=!0)},o(G){O&&O.invalidate(),D=create_out_transition(t,fly,{x:20}),B=!1},d(G){G&&detach(t),G&&D&&D.end(),j=!1,U()}}}function create_if_block_5$3(r){let e,t,o,l,h,y,O,D,R,F,B=r[6]=="true"&&create_if_block_6$1(r);return{c(){e=element("div"),t=element("div"),t.innerHTML='<i class="bx bx-filter-alt pe-1"></i>Cette question s&#39;affichera :',o=space(),l=element("select"),h=element("option"),h.textContent="Quelles que soient les r\xE9ponses pr\xE9c\xE9dentes",y=element("option"),y.textContent="Si la r\xE9ponse \xE0...",O=space(),B&&B.c(),attr(t,"class","mb-1"),h.__value="false",h.value=h.__value,y.__value="true",y.value=y.__value,attr(l,"class","mt-2 svelte-1062dz2"),r[6]===void 0&&add_render_callback(()=>r[22].call(l)),attr(e,"class","sectFiltres svelte-1062dz2")},m(j,U){insert(j,e,U),append(e,t),append(e,o),append(e,l),append(l,h),append(l,y),select_option(l,r[6]),append(e,O),B&&B.m(e,null),D=!0,R||(F=listen(l,"change",r[22]),R=!0)},p(j,U){U[0]&64&&select_option(l,j[6]),j[6]=="true"?B?(B.p(j,U),U[0]&64&&transition_in(B,1)):(B=create_if_block_6$1(j),B.c(),transition_in(B,1),B.m(e,null)):B&&(group_outros(),transition_out(B,1,1,()=>{B=null}),check_outros())},i(j){D||(transition_in(B),D=!0)},o(j){transition_out(B),D=!1},d(j){j&&detach(e),B&&B.d(),R=!1,F()}}}function create_if_block_6$1(r){let e,t,o,l,h,y,O,D,R,F=r[1].jsonContent.filter(func_2$1),B=[];for(let U=0;U<F.length;U+=1)B[U]=create_each_block_3(get_each_context_3(r,F,U));let j=r[5][0]!=null&&create_if_block_7$1(r);return{c(){e=element("div"),t=element("select");for(let U=0;U<B.length;U+=1)B[U].c();h=space(),j&&j.c(),y=empty$2(),attr(t,"class","questionSelection w-100 svelte-1062dz2"),r[5][0]===void 0&&add_render_callback(()=>r[23].call(t)),attr(e,"class","ml-3 mt-2")},m(U,W){insert(U,e,W),append(e,t);for(let G=0;G<B.length;G+=1)B[G].m(t,null);select_option(t,r[5][0]),insert(U,h,W),j&&j.m(U,W),insert(U,y,W),O=!0,D||(R=listen(t,"change",r[23]),D=!0)},p(U,W){if(W[0]&2){F=U[1].jsonContent.filter(func_2$1);let G;for(G=0;G<F.length;G+=1){const q=get_each_context_3(U,F,G);B[G]?B[G].p(q,W):(B[G]=create_each_block_3(q),B[G].c(),B[G].m(t,null))}for(;G<B.length;G+=1)B[G].d(1);B.length=F.length}W[0]&34&&select_option(t,U[5][0]),U[5][0]!=null?j?(j.p(U,W),W[0]&32&&transition_in(j,1)):(j=create_if_block_7$1(U),j.c(),transition_in(j,1),j.m(y.parentNode,y)):j&&(group_outros(),transition_out(j,1,1,()=>{j=null}),check_outros())},i(U){O||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(e,fly,{x:20}),o.start()}),transition_in(j),O=!0)},o(U){o&&o.invalidate(),l=create_out_transition(e,fly,{x:20}),transition_out(j),O=!1},d(U){U&&detach(e),destroy_each(B,U),U&&l&&l.end(),U&&detach(h),j&&j.d(U),U&&detach(y),D=!1,R()}}}function create_each_block_3(r){let e,t=r[55].q+"",o,l;return{c(){e=element("option"),o=text(t),e.__value=l=r[55].idr,e.value=e.__value},m(h,y){insert(h,e,y),append(e,o)},p(h,y){y[0]&2&&t!==(t=h[55].q+"")&&set_data(o,t),y[0]&2&&l!==(l=h[55].idr)&&(e.__value=l,e.value=e.__value)},d(h){h&&detach(e)}}}function create_if_block_7$1(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q;function K(J,Q){return Q[0]&34&&(B=null),B==null&&(B=!!["mc","1c"].includes(J[1].jsonContent.find(J[21]).a.type)),B?create_if_block_8:create_else_block_2$1}let Y=K(r,[-1,-1]),X=Y(r);return{c(){e=element("div"),t=element("select"),o=element("option"),o.textContent="est \xE9gale \xE0",l=element("option"),h=text("est sup\xE9rieure \xE0"),O=element("option"),D=text("est inf\xE9rieure \xE0"),F=space(),X.c(),o.__value="==",o.value=o.__value,o.selected=!0,l.__value=">=",l.value=l.__value,l.disabled=y=["1c"].includes(r[1].jsonContent.find(r[24]).a.type),O.__value="<=",O.value=O.__value,O.disabled=R=["1c"].includes(r[1].jsonContent.find(r[25]).a.type),attr(t,"class","svelte-1062dz2"),r[5][1]===void 0&&add_render_callback(()=>r[26].call(t)),attr(e,"class","ml-3 mt-2 w-100")},m(J,Q){insert(J,e,Q),append(e,t),append(t,o),append(t,l),append(l,h),append(t,O),append(O,D),select_option(t,r[5][1]),append(e,F),X.m(e,null),W=!0,G||(q=listen(t,"change",r[26]),G=!0)},p(J,Q){(!W||Q[0]&34&&y!==(y=["1c"].includes(J[1].jsonContent.find(J[24]).a.type)))&&(l.disabled=y),(!W||Q[0]&34&&R!==(R=["1c"].includes(J[1].jsonContent.find(J[25]).a.type)))&&(O.disabled=R),Q[0]&34&&select_option(t,J[5][1]),Y===(Y=K(J,Q))&&X?X.p(J,Q):(X.d(1),X=Y(J),X&&(X.c(),X.m(e,null)))},i(J){W||(add_render_callback(()=>{U&&U.end(1),j=create_in_transition(e,fly,{x:20}),j.start()}),W=!0)},o(J){j&&j.invalidate(),U=create_out_transition(e,fly,{x:20}),W=!1},d(J){J&&detach(e),X.d(),J&&U&&U.end(),G=!1,q()}}}function create_else_block_2$1(r){let e,t,o;return{c(){e=element("input"),attr(e,"type","number"),attr(e,"class","svelte-1062dz2")},m(l,h){insert(l,e,h),set_input_value(e,r[5][2]),t||(o=listen(e,"input",r[29]),t=!0)},p(l,h){h[0]&34&&to_number(e.value)!==l[5][2]&&set_input_value(e,l[5][2])},d(l){l&&detach(e),t=!1,o()}}}function create_if_block_8(r){let e,t,o,l=r[1].jsonContent.find(r[27]).a.a,h=[];for(let y=0;y<l.length;y+=1)h[y]=create_each_block_2$1(get_each_context_2$1(r,l,y));return{c(){e=element("select");for(let y=0;y<h.length;y+=1)h[y].c();attr(e,"class","svelte-1062dz2"),r[5][2]===void 0&&add_render_callback(()=>r[28].call(e))},m(y,O){insert(y,e,O);for(let D=0;D<h.length;D+=1)h[D].m(e,null);select_option(e,r[5][2]),t||(o=listen(e,"change",r[28]),t=!0)},p(y,O){if(O[0]&34){l=y[1].jsonContent.find(y[27]).a.a;let D;for(D=0;D<l.length;D+=1){const R=get_each_context_2$1(y,l,D);h[D]?h[D].p(R,O):(h[D]=create_each_block_2$1(R),h[D].c(),h[D].m(e,null))}for(;D<h.length;D+=1)h[D].d(1);h.length=l.length}O[0]&34&&select_option(e,y[5][2])},d(y){y&&detach(e),destroy_each(h,y),t=!1,o()}}}function create_each_block_2$1(r){let e,t=r[55]+"",o,l;return{c(){e=element("option"),o=text(t),e.__value=l=r[54],e.value=e.__value},m(h,y){insert(h,e,y),append(e,o)},p(h,y){y[0]&34&&t!==(t=h[55]+"")&&set_data(o,t)},d(h){h&&detach(e)}}}function create_else_block_1$4(r){let e;return{c(){e=element("div"),e.innerHTML=`\u{1F4A1} Cet onglet permet de conditionner l&#39;affichage de cette question \xE0 une r\xE9ponse pr\xE9c\xE9dente afin de cr\xE9er plusieurs chemins optimis\xE9s pour vos
                r\xE9pondants.<br/>\u27A1\uFE0F Cr\xE9ez une premi\xE8re question de type <i>choix uniques</i> ou <i>num\xE9ro</i> avant de cr\xE9er une logique conditionnelle.`,attr(e,"class","sectFiltres svelte-1062dz2")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_if_block_3$5(r){let e,t,o,l,h=r[0].suiv.length>1?"s":"",y,O,D=r[0].suiv.length>1?"s":"",R,F,B,j,U,W,G,q,K=r[0].suiv,Y=[];for(let J=0;J<K.length;J+=1)Y[J]=create_each_block$4(get_each_context$4(r,K,J));const X=J=>transition_out(Y[J],1,1,()=>{Y[J]=null});return{c(){e=element("div"),t=element("div"),o=element("i"),l=text("Question"),y=text(h),O=text(" suivante"),R=text(D),F=text(" :"),B=space(),j=element("div"),j.textContent="\u2795",U=space();for(let J=0;J<Y.length;J+=1)Y[J].c();attr(o,"class","bx bx-right-down-arrow-circle pe-1"),attr(t,"class","mb-1"),attr(j,"class","addBtn hvr-grow svelte-1062dz2"),attr(e,"class","secEnd svelte-1062dz2")},m(J,Q){insert(J,e,Q),append(e,t),append(t,o),append(t,l),append(t,y),append(t,O),append(t,R),append(t,F),append(e,B),append(e,j),append(e,U);for(let Z=0;Z<Y.length;Z+=1)Y[Z].m(e,null);W=!0,G||(q=listen(j,"click",r[30]),G=!0)},p(J,Q){if((!W||Q[0]&1)&&h!==(h=J[0].suiv.length>1?"s":"")&&set_data(y,h),(!W||Q[0]&1)&&D!==(D=J[0].suiv.length>1?"s":"")&&set_data(R,D),Q[0]&3){K=J[0].suiv;let Z;for(Z=0;Z<K.length;Z+=1){const ee=get_each_context$4(J,K,Z);Y[Z]?(Y[Z].p(ee,Q),transition_in(Y[Z],1)):(Y[Z]=create_each_block$4(ee),Y[Z].c(),transition_in(Y[Z],1),Y[Z].m(e,null))}for(group_outros(),Z=K.length;Z<Y.length;Z+=1)X(Z);check_outros()}},i(J){if(!W){for(let Q=0;Q<K.length;Q+=1)transition_in(Y[Q]);W=!0}},o(J){Y=Y.filter(Boolean);for(let Q=0;Q<Y.length;Q+=1)transition_out(Y[Q]);W=!1},d(J){J&&detach(e),destroy_each(Y,J),G=!1,q()}}}function create_each_block_1$3(r){let e,t=r[55].q+"",o,l;return{c(){e=element("option"),o=text(t),e.__value=l=r[55].idr,e.value=e.__value},m(h,y){insert(h,e,y),append(e,o)},p(h,y){y[0]&2&&t!==(t=h[55].q+"")&&set_data(o,t),y[0]&2&&l!==(l=h[55].idr)&&(e.__value=l,e.value=e.__value)},d(h){h&&detach(e)}}}function create_else_block$7(r){let e;return{c(){e=element("div"),e.textContent="\u27A1\uFE0F quelles que soient les r\xE9ponses."},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_4$5(r){let e,t,o,l=r[1].jsonContent.find(j).q.substring(0,20)+"...",h,y,O=r[52].cond[1]+"",D,R,F=(["mc","1c"].includes(r[1].jsonContent.find(U).a.type)?r[1].jsonContent.find(W).a.a[r[52].cond[2]]:r[52].cond[2])+"",B;function j(...G){return r[32](r[52],...G)}function U(...G){return r[33](r[52],...G)}function W(...G){return r[34](r[52],...G)}return{c(){e=element("div"),t=text("\u27A1\uFE0F si "),o=element("i"),h=text(l),y=space(),D=text(O),R=space(),B=text(F),set_style(o,"color","#6219D8")},m(G,q){insert(G,e,q),append(e,t),append(e,o),append(o,h),append(e,y),append(e,D),append(e,R),append(e,B)},p(G,q){r=G,q[0]&3&&l!==(l=r[1].jsonContent.find(j).q.substring(0,20)+"...")&&set_data(h,l),q[0]&1&&O!==(O=r[52].cond[1]+"")&&set_data(D,O),q[0]&3&&F!==(F=(["mc","1c"].includes(r[1].jsonContent.find(U).a.type)?r[1].jsonContent.find(W).a.a[r[52].cond[2]]:r[52].cond[2])+"")&&set_data(B,F)},d(G){G&&detach(e)}}}function create_each_block$4(r){let e,t,o,l,h,y,O,D,R,F,B,j,U=r[1].jsonContent,W=[];for(let J=0;J<U.length;J+=1)W[J]=create_each_block_1$3(get_each_context_1$3(r,U,J));function G(){r[31].call(o,r[54])}function q(J,Q){return J[52].cond.length>0?create_if_block_4$5:create_else_block$7}let K=q(r),Y=K(r);function X(){return r[35](r[54])}return{c(){e=element("div"),t=element("div"),o=element("select");for(let J=0;J<W.length;J+=1)W[J].c();l=space(),Y.c(),h=space(),y=element("div"),y.textContent="\u274C",O=space(),attr(o,"class","mt-2 w-100 svelte-1062dz2"),r[0].suiv[r[54]].idr===void 0&&add_render_callback(G),attr(y,"class","p-2 hvr-grow"),set_style(y,"cursor","pointer"),set_style(y,"font-size",".8rem"),attr(e,"class","d-flex align-items-center justify-content-between")},m(J,Q){insert(J,e,Q),append(e,t),append(t,o);for(let Z=0;Z<W.length;Z+=1)W[Z].m(o,null);select_option(o,r[0].suiv[r[54]].idr),append(t,l),Y.m(t,null),append(e,h),append(e,y),append(e,O),F=!0,B||(j=[listen(o,"change",G),listen(y,"click",X)],B=!0)},p(J,Q){if(r=J,Q[0]&2){U=r[1].jsonContent;let Z;for(Z=0;Z<U.length;Z+=1){const ee=get_each_context_1$3(r,U,Z);W[Z]?W[Z].p(ee,Q):(W[Z]=create_each_block_1$3(ee),W[Z].c(),W[Z].m(o,null))}for(;Z<W.length;Z+=1)W[Z].d(1);W.length=U.length}Q[0]&1&&select_option(o,r[0].suiv[r[54]].idr),K===(K=q(r))&&Y?Y.p(r,Q):(Y.d(1),Y=K(r),Y&&(Y.c(),Y.m(t,null)))},i(J){F||(add_render_callback(()=>{R&&R.end(1),D=create_in_transition(e,fly,{x:20}),D.start()}),F=!0)},o(J){D&&D.invalidate(),R=create_out_transition(e,fly,{x:20}),F=!1},d(J){J&&detach(e),destroy_each(W,J),Y.d(),J&&R&&R.end(),B=!1,run_all(j)}}}function create_key_block$1(r){let e,t,o,l,h,y;const O=[create_if_block_2$7,create_else_block_3$1],D=[];function R(F,B){return F[8]?0:1}return t=R(r),o=D[t]=O[t](r),{c(){e=element("div"),o.c(),attr(e,"class","svelte-1062dz2")},m(F,B){insert(F,e,B),D[t].m(e,null),y=!0},p(F,B){let j=t;t=R(F),t===j?D[t].p(F,B):(group_outros(),transition_out(D[j],1,1,()=>{D[j]=null}),check_outros(),o=D[t],o?o.p(F,B):(o=D[t]=O[t](F),o.c()),transition_in(o,1),o.m(e,null))},i(F){y||(transition_in(o),add_render_callback(()=>{h&&h.end(1),l=create_in_transition(e,fly,{x:-20}),l.start()}),y=!0)},o(F){transition_out(o),l&&l.invalidate(),h=create_out_transition(e,fly,{x:-10}),y=!1},d(F){F&&detach(e),D[t].d(),F&&h&&h.end()}}}function create_if_block_1$8(r){let e,t,o,l,h;return{c(){e=element("div"),t=text(r[3]),attr(e,"class","infoTile svelte-1062dz2")},m(y,O){insert(y,e,O),append(e,t),h=!0},p(y,O){(!h||O[0]&8)&&set_data(t,y[3])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(e,fly,{x:20,duration:500}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(e,fly,{x:20,duration:250}),h=!1},d(y){y&&detach(e),y&&l&&l.end()}}}function create_if_block$9(r){let e,t,o;return{c(){e=element("button"),e.textContent="Supprimer",attr(e,"class","svelte-1062dz2")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[15]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_fragment$g(r){let e,t,o,l,h,y,O,D,R,F,B=r[8],j,U,W,G,q,K,Y,X,J,Q,Z,ee=create_key_block$1(r),te=r[3]!=""&&create_if_block_1$8(r),re=!r[9]&&!r[10]&&!r[11]&&create_if_block$9(r);return{c(){e=element("div"),t=element("div"),o=element("h2"),o.textContent=`${r[11]?"\u{1F4AB} Nouvelle question":"\u270F\uFE0F Modification"}`,l=space(),h=element("div"),y=element("div"),y.textContent="Question",O=space(),D=element("div"),D.textContent="Conditions & suite",R=space(),F=element("div"),ee.c(),j=space(),te&&te.c(),U=space(),W=element("div"),G=element("button"),G.textContent="Fermer",q=space(),re&&re.c(),K=space(),Y=element("button"),Y.textContent=`${r[11]?"Ajouter":"Modifier"}`,attr(o,"class","mb-4 svelte-1062dz2"),attr(y,"id","sondagesBtn"),attr(y,"class","headerBtn active svelte-1062dz2"),attr(D,"id","modelsBtn"),attr(D,"class","headerBtn svelte-1062dz2"),attr(h,"class","headerBtns svelte-1062dz2"),attr(F,"class","gridForAnimation svelte-1062dz2"),attr(G,"class","svelte-1062dz2"),set_style(Y,"background-color","#6219D8"),set_style(Y,"color","#fff"),attr(Y,"class","svelte-1062dz2"),attr(W,"class","actions svelte-1062dz2"),attr(t,"class","contents svelte-1062dz2"),attr(e,"role","dialog"),attr(e,"class","modal svelte-1062dz2")},m(ie,ne){insert(ie,e,ne),append(e,t),append(t,o),append(t,l),append(t,h),append(h,y),append(h,O),append(h,D),append(t,R),append(t,F),ee.m(F,null),append(t,j),te&&te.m(t,null),append(t,U),append(t,W),append(W,G),append(W,q),re&&re.m(W,null),append(W,K),append(W,Y),J=!0,Q||(Z=[listen(y,"click",r[16]),listen(D,"click",r[16]),listen(G,"click",r[49]),listen(Y,"click",r[13]),listen(e,"introstart",r[19]),listen(e,"outroend",r[20])],Q=!0)},p(ie,ne){ne[0]&256&&safe_not_equal(B,B=ie[8])?(group_outros(),transition_out(ee,1,1,noop$4),check_outros(),ee=create_key_block$1(ie),ee.c(),transition_in(ee,1),ee.m(F,null)):ee.p(ie,ne),ie[3]!=""?te?(te.p(ie,ne),ne[0]&8&&transition_in(te,1)):(te=create_if_block_1$8(ie),te.c(),transition_in(te,1),te.m(t,U)):te&&(group_outros(),transition_out(te,1,1,()=>{te=null}),check_outros()),!ie[9]&&!ie[10]&&!ie[11]&&re.p(ie,ne)},i(ie){J||(transition_in(ee),transition_in(te),add_render_callback(()=>{X||(X=create_bidirectional_transition(e,fly,{y:50},!0)),X.run(1)}),J=!0)},o(ie){transition_out(ee),transition_out(te),X||(X=create_bidirectional_transition(e,fly,{y:50},!1)),X.run(0),J=!1},d(ie){ie&&detach(e),ee.d(ie),te&&te.d(),re&&re.d(),ie&&X&&X.end(),Q=!1,run_all(Z)}}}const func$3=r=>["1c","num"].includes(r.a.type)&&r.a.a.length>1,func_2$1=r=>["1c","num"].includes(r.a.type)&&r.a.a.length>1;function instance$e(r,e,t){let{sondageEnCreation:o}=e,{id:l}=e,{majTree:h}=e,y="",O=l=="start",D=l=="end",R=l=="new",F=o.jsonContent.findIndex(Ce=>Ce.idr==l),{prevQPosition:B=o.jsonContent.findIndex(Ce=>Ce.suiv.some(Ne=>Ne.idr==l))}=e,j,U=[],W="false";!O&&!D&&B>=0&&(R||o.jsonContent[B].suiv.find(Ce=>Ce.idr==l).cond.length==0?(U=[null,"==",0],W="false"):(U=structuredClone(o.jsonContent[B].suiv.find(Ce=>Ce.idr==l)).cond,W="true"));const G=new ShortUniqueId({length:8});let{questionData:q={idr:R?"q-"+G().toString():l,suiv:[],q:"",a:{a:[],o:null,type:""}}}=e,K=!1;function Y(Ce,Ne){if(R||K){let Be={"1c":[],mc:[],cl:[140],num:[0,100," "],cal:[!0,!1],"5s":[]};q.a.a.splice(0,q.a.a.length),t(0,q.a.a=Be[Ne],q)}}const X=()=>{if(q.q==""){alert("Veuillez saisir une question");return}else if(q.a.type==""){alert("Veuillez saisir un type de question");return}else if(W=="true"&&U.length!=3){alert("Veuillez saisir un filtre valide");return}else if(q.a.type=="1c"||q.a.type=="mc"){if(q.a.a.length==0){alert("Veuillez saisir au moins un choix");return}}else if(q.a.type=="num"){if(q.a.a.length<3){alert("Veuillez saisir des valeurs");return}else if(q.a.a[0]>q.a.a[1]){alert("La valeur minimum doit \xEAtre inf\xE9rieure \xE0 la valeur maximum");return}}else if(q.a.type=="cal"){if(console.log(q.a.a),q.a.a.length<2){alert("Veuillez saisir des valeurs");return}else if(q.a.a[0]==!1&&q.a.a[1]==!1){alert("Veuillez s\xE9l\xE9ctionner au moins une option");return}}W=="false"&&t(5,U=[]),R&&q.suiv.push({idr:"end",cond:[]}),R?(o.jsonContent[B].suiv.push({idr:q.idr,cond:U}),t(1,o.jsonContent[B].suiv=o.jsonContent[B].suiv.filter(Ce=>Ce.idr!="end"),o),o.jsonContent.splice(B+1,0,q)):(!O&&!D&&t(1,o.jsonContent[B].suiv=o.jsonContent[B].suiv.map(Ce=>Ce.idr==q.idr?{idr:q.idr,cond:U}:Ce),o),o.jsonContent.splice(F,1,q)),!O&&!D&&W=="true"&&!o.jsonContent[B].suiv.some(Ce=>Ce.idr=="end")&&o.jsonContent[B].suiv.length<2&&o.jsonContent[B].suiv.push({idr:"end",cond:[]}),h(),closeModal()},J=()=>{!q.a.a.includes(j)&&j!=null&&j!=""&&(t(0,q.a.a=[...q.a.a,j],q),t(4,j=""))};function Q(){let Ce=o.jsonContent[F].suiv;o.jsonContent.map(Ne=>{if(Ne.suiv.some(Be=>Be.idr==q.idr)){let Be=Ne;return Be.suiv=Be.suiv.filter(Ve=>Ve.idr!=q.idr),Be.suiv=Be.suiv.concat(Ce),Be.suiv=Be.suiv.filter((Ve,Le,ze)=>ze.findIndex(He=>He.idr===Ve.idr)===Le),console.log(Be),Be}else return Ne}),o.jsonContent.splice(F,1),h(),closeModal()}let Z=!1;function ee(Ce){Ce.target.classList.contains("active")||(document.querySelectorAll(".headerBtn").forEach(function(Ne){Ne.classList.remove("active")}),Ce.target.classList.add("active"),t(8,Z=!Z))}function te(Ce){bubble.call(this,r,Ce)}function re(Ce){bubble.call(this,r,Ce)}const ie=Ce=>Ce.idr==U[0];function ne(){W=select_value(this),t(6,W)}function se(){U[0]=select_value(this),t(5,U),t(1,o)}const ce=Ce=>Ce.idr==U[0],ue=Ce=>Ce.idr==U[0];function he(){U[1]=select_value(this),t(5,U),t(1,o)}const pe=Ce=>Ce.idr==U[0];function oe(){U[2]=select_value(this),t(5,U),t(1,o)}function ae(){U[2]=to_number(this.value),t(5,U),t(1,o)}const le=()=>{q.suiv.filter(Ce=>Ce.idr=="end").length<1&&t(0,q.suiv=[...q.suiv,{idr:"end",cond:[]}],q)};function me(Ce){q.suiv[Ce].idr=select_value(this),t(0,q)}const ge=(Ce,Ne)=>Ne.idr==Ce.cond[0],fe=(Ce,Ne)=>Ne.idr==Ce.cond[0],_e=(Ce,Ne)=>Ne.idr==Ce.cond[0],we=Ce=>{q.suiv.splice(Ce,1),t(0,q)};function ve(){q.q=this.value,t(0,q)}function Se(){q.a.type=select_value(this),t(0,q)}const $e=()=>{q.a.a.splice(0,q.a.a.length),t(7,K=!0)};function be(){j=this.value,t(4,j)}const ye=Ce=>{Ce.key==";"&&Ce.preventDefault(),Ce.key==="Enter"&&J()},Oe=Ce=>{t(0,q.a.a=q.a.a.filter(Ne=>Ne!=Ce),q)};function Te(){q.a.o=this.checked,t(0,q)}function ke(){q.a.a[0]=to_number(this.value),t(0,q)}function Ee(){q.a.a[0]=to_number(this.value),t(0,q)}function Ie(){q.a.a[1]=to_number(this.value),t(0,q)}function xe(){q.a.a[2]=this.value,t(0,q)}function Me(){q.a.a[0]=this.checked,t(0,q)}function Ae(){q.a.a[1]=this.checked,t(0,q)}const Re=()=>{closeModal()};return r.$$set=Ce=>{"sondageEnCreation"in Ce&&t(1,o=Ce.sondageEnCreation),"id"in Ce&&t(17,l=Ce.id),"majTree"in Ce&&t(18,h=Ce.majTree),"prevQPosition"in Ce&&t(2,B=Ce.prevQPosition),"questionData"in Ce&&t(0,q=Ce.questionData)},r.$$.update=()=>{r.$$.dirty[0]&1&&(q.q.length>300?t(3,y="\u{1F4A1} Astuce : Essayez de limiter vos questions \xE0 300 caract\xE8res pour optimiser la lecture et le taux de r\xE9ponse."):t(3,y=""))},[q,o,B,y,j,U,W,K,Z,O,D,R,Y,X,J,Q,ee,l,h,te,re,ie,ne,se,ce,ue,he,pe,oe,ae,le,me,ge,fe,_e,we,ve,Se,$e,be,ye,Oe,Te,ke,Ee,Ie,xe,Me,Ae,Re]}class ModalCellEdit extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$g,safe_not_equal,{sondageEnCreation:1,id:17,majTree:18,prevQPosition:2,questionData:0},null,[-1,-1])}}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.4
 * @date    2022-03-15T15:23:59.245Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function _classCallCheck$1(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},defineProperty$e$1={exports:{}},check$1=function(r){return r&&r.Math==Math&&r},global$M$1=check$1(typeof globalThis=="object"&&globalThis)||check$1(typeof window=="object"&&window)||check$1(typeof self=="object"&&self)||check$1(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")(),fails$r$1=function(r){try{return!!r()}catch{return!0}},fails$q$1=fails$r$1,functionBindNative$1=!fails$q$1(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),NATIVE_BIND$4$1=functionBindNative$1,FunctionPrototype$3$1=Function.prototype,apply$6$1=FunctionPrototype$3$1.apply,call$c$1=FunctionPrototype$3$1.call,functionApply$1=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$4$1?call$c$1.bind(apply$6$1):function(){return call$c$1.apply(apply$6$1,arguments)}),NATIVE_BIND$3$1=functionBindNative$1,FunctionPrototype$2$1=Function.prototype,bind$d=FunctionPrototype$2$1.bind,call$b$1=FunctionPrototype$2$1.call,uncurryThis$t$1=NATIVE_BIND$3$1&&bind$d.bind(call$b$1,call$b$1),functionUncurryThis$1=NATIVE_BIND$3$1?function(r){return r&&uncurryThis$t$1(r)}:function(r){return r&&function(){return call$b$1.apply(r,arguments)}},isCallable$h$1=function(r){return typeof r=="function"},objectGetOwnPropertyDescriptor$1={},fails$p$1=fails$r$1,descriptors$1=!fails$p$1(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),NATIVE_BIND$2$1=functionBindNative$1,call$a$1=Function.prototype.call,functionCall$1=NATIVE_BIND$2$1?call$a$1.bind(call$a$1):function(){return call$a$1.apply(call$a$1,arguments)},objectPropertyIsEnumerable$1={},$propertyIsEnumerable$2$1={}.propertyIsEnumerable,getOwnPropertyDescriptor$5$1=Object.getOwnPropertyDescriptor,NASHORN_BUG$1=getOwnPropertyDescriptor$5$1&&!$propertyIsEnumerable$2$1.call({1:2},1);objectPropertyIsEnumerable$1.f=NASHORN_BUG$1?function r(e){var t=getOwnPropertyDescriptor$5$1(this,e);return!!t&&t.enumerable}:$propertyIsEnumerable$2$1;var createPropertyDescriptor$5$1=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}},uncurryThis$s$1=functionUncurryThis$1,toString$9$1=uncurryThis$s$1({}.toString),stringSlice$1$1=uncurryThis$s$1("".slice),classofRaw$1$1=function(r){return stringSlice$1$1(toString$9$1(r),8,-1)},global$L$1=global$M$1,uncurryThis$r$1=functionUncurryThis$1,fails$o$1=fails$r$1,classof$f=classofRaw$1$1,Object$9$1=global$L$1.Object,split$1=uncurryThis$r$1("".split),indexedObject$1=fails$o$1(function(){return!Object$9$1("z").propertyIsEnumerable(0)})?function(r){return classof$f(r)=="String"?split$1(r,""):Object$9$1(r)}:Object$9$1,global$K$1=global$M$1,TypeError$j=global$K$1.TypeError,requireObjectCoercible$5$1=function(r){if(r==null)throw TypeError$j("Can't call method on "+r);return r},IndexedObject$3$1=indexedObject$1,requireObjectCoercible$4$1=requireObjectCoercible$5$1,toIndexedObject$b$1=function(r){return IndexedObject$3$1(requireObjectCoercible$4$1(r))},isCallable$g$1=isCallable$h$1,isObject$f$1=function(r){return typeof r=="object"?r!==null:isCallable$g$1(r)},path$q$1={},path$p$1=path$q$1,global$J$1=global$M$1,isCallable$f$1=isCallable$h$1,aFunction$1=function(r){return isCallable$f$1(r)?r:void 0},getBuiltIn$9$1=function(r,e){return arguments.length<2?aFunction$1(path$p$1[r])||aFunction$1(global$J$1[r]):path$p$1[r]&&path$p$1[r][e]||global$J$1[r]&&global$J$1[r][e]},uncurryThis$q$1=functionUncurryThis$1,objectIsPrototypeOf$1=uncurryThis$q$1({}.isPrototypeOf),getBuiltIn$8$1=getBuiltIn$9$1,engineUserAgent$1=getBuiltIn$8$1("navigator","userAgent")||"",global$I$1=global$M$1,userAgent$3$1=engineUserAgent$1,process$1=global$I$1.process,Deno$1=global$I$1.Deno,versions$1=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8$1=versions$1&&versions$1.v8,match$1,version$1;v8$1&&(match$1=v8$1.split("."),version$1=match$1[0]>0&&match$1[0]<4?1:+(match$1[0]+match$1[1]));!version$1&&userAgent$3$1&&(match$1=userAgent$3$1.match(/Edge\/(\d+)/),(!match$1||match$1[1]>=74)&&(match$1=userAgent$3$1.match(/Chrome\/(\d+)/),match$1&&(version$1=+match$1[1])));var engineV8Version$1=version$1,V8_VERSION$2$1=engineV8Version$1,fails$n$1=fails$r$1,nativeSymbol$1=!!Object.getOwnPropertySymbols&&!fails$n$1(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&V8_VERSION$2$1&&V8_VERSION$2$1<41}),NATIVE_SYMBOL$2$1=nativeSymbol$1,useSymbolAsUid$1=NATIVE_SYMBOL$2$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",global$H$1=global$M$1,getBuiltIn$7$1=getBuiltIn$9$1,isCallable$e$1=isCallable$h$1,isPrototypeOf$i$1=objectIsPrototypeOf$1,USE_SYMBOL_AS_UID$1$1=useSymbolAsUid$1,Object$8$1=global$H$1.Object,isSymbol$3$1=USE_SYMBOL_AS_UID$1$1?function(r){return typeof r=="symbol"}:function(r){var e=getBuiltIn$7$1("Symbol");return isCallable$e$1(e)&&isPrototypeOf$i$1(e.prototype,Object$8$1(r))},global$G$1=global$M$1,String$4$1=global$G$1.String,tryToString$4$1=function(r){try{return String$4$1(r)}catch{return"Object"}},global$F$1=global$M$1,isCallable$d$1=isCallable$h$1,tryToString$3$1=tryToString$4$1,TypeError$i$1=global$F$1.TypeError,aCallable$7=function(r){if(isCallable$d$1(r))return r;throw TypeError$i$1(tryToString$3$1(r)+" is not a function")},aCallable$6$1=aCallable$7,getMethod$3$1=function(r,e){var t=r[e];return t==null?void 0:aCallable$6$1(t)},global$E$1=global$M$1,call$9$1=functionCall$1,isCallable$c$1=isCallable$h$1,isObject$e$1=isObject$f$1,TypeError$h$1=global$E$1.TypeError,ordinaryToPrimitive$1$1=function(r,e){var t,o;if(e==="string"&&isCallable$c$1(t=r.toString)&&!isObject$e$1(o=call$9$1(t,r))||isCallable$c$1(t=r.valueOf)&&!isObject$e$1(o=call$9$1(t,r))||e!=="string"&&isCallable$c$1(t=r.toString)&&!isObject$e$1(o=call$9$1(t,r)))return o;throw TypeError$h$1("Can't convert object to primitive value")},shared$4$1={exports:{}},global$D$1=global$M$1,defineProperty$d$1=Object.defineProperty,setGlobal$1$1=function(r,e){try{defineProperty$d$1(global$D$1,r,{value:e,configurable:!0,writable:!0})}catch{global$D$1[r]=e}return e},global$C$1=global$M$1,setGlobal$2=setGlobal$1$1,SHARED$1="__core-js_shared__",store$3$1=global$C$1[SHARED$1]||setGlobal$2(SHARED$1,{}),sharedStore$1=store$3$1,store$2$1=sharedStore$1;(shared$4$1.exports=function(r,e){return store$2$1[r]||(store$2$1[r]=e!==void 0?e:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var global$B$1=global$M$1,requireObjectCoercible$3$1=requireObjectCoercible$5$1,Object$7$1=global$B$1.Object,toObject$e=function(r){return Object$7$1(requireObjectCoercible$3$1(r))},uncurryThis$p$1=functionUncurryThis$1,toObject$d$1=toObject$e,hasOwnProperty$1=uncurryThis$p$1({}.hasOwnProperty),hasOwnProperty_1$1=Object.hasOwn||function r(e,t){return hasOwnProperty$1(toObject$d$1(e),t)},uncurryThis$o$1=functionUncurryThis$1,id$1$1=0,postfix$1=Math.random(),toString$8$1=uncurryThis$o$1(1 .toString),uid$4$1=function(r){return"Symbol("+(r===void 0?"":r)+")_"+toString$8$1(++id$1$1+postfix$1,36)},global$A$1=global$M$1,shared$3$1=shared$4$1.exports,hasOwn$f$1=hasOwnProperty_1$1,uid$3$1=uid$4$1,NATIVE_SYMBOL$1$1=nativeSymbol$1,USE_SYMBOL_AS_UID$2=useSymbolAsUid$1,WellKnownSymbolsStore$1$1=shared$3$1("wks"),Symbol$2$1=global$A$1.Symbol,symbolFor$1=Symbol$2$1&&Symbol$2$1.for,createWellKnownSymbol$1=USE_SYMBOL_AS_UID$2?Symbol$2$1:Symbol$2$1&&Symbol$2$1.withoutSetter||uid$3$1,wellKnownSymbol$j$1=function(r){if(!hasOwn$f$1(WellKnownSymbolsStore$1$1,r)||!(NATIVE_SYMBOL$1$1||typeof WellKnownSymbolsStore$1$1[r]=="string")){var e="Symbol."+r;NATIVE_SYMBOL$1$1&&hasOwn$f$1(Symbol$2$1,r)?WellKnownSymbolsStore$1$1[r]=Symbol$2$1[r]:USE_SYMBOL_AS_UID$2&&symbolFor$1?WellKnownSymbolsStore$1$1[r]=symbolFor$1(e):WellKnownSymbolsStore$1$1[r]=createWellKnownSymbol$1(e)}return WellKnownSymbolsStore$1$1[r]},global$z$1=global$M$1,call$8$1=functionCall$1,isObject$d$1=isObject$f$1,isSymbol$2$1=isSymbol$3$1,getMethod$2$1=getMethod$3$1,ordinaryToPrimitive$2=ordinaryToPrimitive$1$1,wellKnownSymbol$i$1=wellKnownSymbol$j$1,TypeError$g$1=global$z$1.TypeError,TO_PRIMITIVE$1$1=wellKnownSymbol$i$1("toPrimitive"),toPrimitive$1$1=function(r,e){if(!isObject$d$1(r)||isSymbol$2$1(r))return r;var t=getMethod$2$1(r,TO_PRIMITIVE$1$1),o;if(t){if(e===void 0&&(e="default"),o=call$8$1(t,r,e),!isObject$d$1(o)||isSymbol$2$1(o))return o;throw TypeError$g$1("Can't convert object to primitive value")}return e===void 0&&(e="number"),ordinaryToPrimitive$2(r,e)},toPrimitive$2=toPrimitive$1$1,isSymbol$1$1=isSymbol$3$1,toPropertyKey$4$1=function(r){var e=toPrimitive$2(r,"string");return isSymbol$1$1(e)?e:e+""},global$y$1=global$M$1,isObject$c$1=isObject$f$1,document$1$1=global$y$1.document,EXISTS$1$1=isObject$c$1(document$1$1)&&isObject$c$1(document$1$1.createElement),documentCreateElement$1$1=function(r){return EXISTS$1$1?document$1$1.createElement(r):{}},DESCRIPTORS$h$1=descriptors$1,fails$m$1=fails$r$1,createElement$1=documentCreateElement$1$1,ie8DomDefine$1=!DESCRIPTORS$h$1&&!fails$m$1(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$g$1=descriptors$1,call$7$1=functionCall$1,propertyIsEnumerableModule$2$1=objectPropertyIsEnumerable$1,createPropertyDescriptor$4$1=createPropertyDescriptor$5$1,toIndexedObject$a$1=toIndexedObject$b$1,toPropertyKey$3$1=toPropertyKey$4$1,hasOwn$e$1=hasOwnProperty_1$1,IE8_DOM_DEFINE$1$1=ie8DomDefine$1,$getOwnPropertyDescriptor$2$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$1.f=DESCRIPTORS$g$1?$getOwnPropertyDescriptor$2$1:function r(e,t){if(e=toIndexedObject$a$1(e),t=toPropertyKey$3$1(t),IE8_DOM_DEFINE$1$1)try{return $getOwnPropertyDescriptor$2$1(e,t)}catch{}if(hasOwn$e$1(e,t))return createPropertyDescriptor$4$1(!call$7$1(propertyIsEnumerableModule$2$1.f,e,t),e[t])};var fails$l$1=fails$r$1,isCallable$b$1=isCallable$h$1,replacement$1=/#|\.prototype\./,isForced$1$1=function(r,e){var t=data$1[normalize$1(r)];return t==POLYFILL$1?!0:t==NATIVE$1?!1:isCallable$b$1(e)?fails$l$1(e):!!e},normalize$1=isForced$1$1.normalize=function(r){return String(r).replace(replacement$1,".").toLowerCase()},data$1=isForced$1$1.data={},NATIVE$1=isForced$1$1.NATIVE="N",POLYFILL$1=isForced$1$1.POLYFILL="P",isForced_1$1=isForced$1$1,uncurryThis$n$1=functionUncurryThis$1,aCallable$5$1=aCallable$7,NATIVE_BIND$1$1=functionBindNative$1,bind$c$1=uncurryThis$n$1(uncurryThis$n$1.bind),functionBindContext$1=function(r,e){return aCallable$5$1(r),e===void 0?r:NATIVE_BIND$1$1?bind$c$1(r,e):function(){return r.apply(e,arguments)}},objectDefineProperty$1={},DESCRIPTORS$f$1=descriptors$1,fails$k$1=fails$r$1,v8PrototypeDefineBug$1=DESCRIPTORS$f$1&&fails$k$1(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),global$x$1=global$M$1,isObject$b$1=isObject$f$1,String$3$1=global$x$1.String,TypeError$f$1=global$x$1.TypeError,anObject$b$1=function(r){if(isObject$b$1(r))return r;throw TypeError$f$1(String$3$1(r)+" is not an object")},global$w$1=global$M$1,DESCRIPTORS$e$1=descriptors$1,IE8_DOM_DEFINE$2=ie8DomDefine$1,V8_PROTOTYPE_DEFINE_BUG$1$1=v8PrototypeDefineBug$1,anObject$a$1=anObject$b$1,toPropertyKey$2$1=toPropertyKey$4$1,TypeError$e$1=global$w$1.TypeError,$defineProperty$1$1=Object.defineProperty,$getOwnPropertyDescriptor$1$1=Object.getOwnPropertyDescriptor,ENUMERABLE$1="enumerable",CONFIGURABLE$1$1="configurable",WRITABLE$1="writable";objectDefineProperty$1.f=DESCRIPTORS$e$1?V8_PROTOTYPE_DEFINE_BUG$1$1?function r(e,t,o){if(anObject$a$1(e),t=toPropertyKey$2$1(t),anObject$a$1(o),typeof e=="function"&&t==="prototype"&&"value"in o&&WRITABLE$1 in o&&!o[WRITABLE$1]){var l=$getOwnPropertyDescriptor$1$1(e,t);l&&l[WRITABLE$1]&&(e[t]=o.value,o={configurable:CONFIGURABLE$1$1 in o?o[CONFIGURABLE$1$1]:l[CONFIGURABLE$1$1],enumerable:ENUMERABLE$1 in o?o[ENUMERABLE$1]:l[ENUMERABLE$1],writable:!1})}return $defineProperty$1$1(e,t,o)}:$defineProperty$1$1:function r(e,t,o){if(anObject$a$1(e),t=toPropertyKey$2$1(t),anObject$a$1(o),IE8_DOM_DEFINE$2)try{return $defineProperty$1$1(e,t,o)}catch{}if("get"in o||"set"in o)throw TypeError$e$1("Accessors not supported");return"value"in o&&(e[t]=o.value),e};var DESCRIPTORS$d$1=descriptors$1,definePropertyModule$4$1=objectDefineProperty$1,createPropertyDescriptor$3$1=createPropertyDescriptor$5$1,createNonEnumerableProperty$6$1=DESCRIPTORS$d$1?function(r,e,t){return definePropertyModule$4$1.f(r,e,createPropertyDescriptor$3$1(1,t))}:function(r,e,t){return r[e]=t,r},global$v$1=global$M$1,apply$5$1=functionApply$1,uncurryThis$m$1=functionUncurryThis$1,isCallable$a$1=isCallable$h$1,getOwnPropertyDescriptor$4$1=objectGetOwnPropertyDescriptor$1.f,isForced$2=isForced_1$1,path$o$1=path$q$1,bind$b$1=functionBindContext$1,createNonEnumerableProperty$5$1=createNonEnumerableProperty$6$1,hasOwn$d$1=hasOwnProperty_1$1,wrapConstructor$1=function(r){var e=function(t,o,l){if(this instanceof e){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,o)}return new r(t,o,l)}return apply$5$1(r,this,arguments)};return e.prototype=r.prototype,e},_export$1=function(r,e){var t=r.target,o=r.global,l=r.stat,h=r.proto,y=o?global$v$1:l?global$v$1[t]:(global$v$1[t]||{}).prototype,O=o?path$o$1:path$o$1[t]||createNonEnumerableProperty$5$1(path$o$1,t,{})[t],D=O.prototype,R,F,B,j,U,W,G,q,K;for(j in e)R=isForced$2(o?j:t+(l?".":"#")+j,r.forced),F=!R&&y&&hasOwn$d$1(y,j),W=O[j],F&&(r.noTargetGet?(K=getOwnPropertyDescriptor$4$1(y,j),G=K&&K.value):G=y[j]),U=F&&G?G:e[j],!(F&&typeof W==typeof U)&&(r.bind&&F?q=bind$b$1(U,global$v$1):r.wrap&&F?q=wrapConstructor$1(U):h&&isCallable$a$1(U)?q=uncurryThis$m$1(U):q=U,(r.sham||U&&U.sham||W&&W.sham)&&createNonEnumerableProperty$5$1(q,"sham",!0),createNonEnumerableProperty$5$1(O,j,q),h&&(B=t+"Prototype",hasOwn$d$1(path$o$1,B)||createNonEnumerableProperty$5$1(path$o$1,B,{}),createNonEnumerableProperty$5$1(path$o$1[B],j,U),r.real&&D&&!D[j]&&createNonEnumerableProperty$5$1(D,j,U)))},$$C$1=_export$1,DESCRIPTORS$c$1=descriptors$1,defineProperty$c$1=objectDefineProperty$1.f;$$C$1({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty$c$1,sham:!DESCRIPTORS$c$1},{defineProperty:defineProperty$c$1});var path$n$1=path$q$1,Object$6$1=path$n$1.Object,defineProperty$b$1=defineProperty$e$1.exports=function r(e,t,o){return Object$6$1.defineProperty(e,t,o)};Object$6$1.defineProperty.sham&&(defineProperty$b$1.sham=!0);var parent$V$1=defineProperty$e$1.exports,defineProperty$a$1=parent$V$1,parent$U$1=defineProperty$a$1,defineProperty$9$1=parent$U$1,parent$T$1=defineProperty$9$1,defineProperty$8$1=parent$T$1,defineProperty$7$1=defineProperty$8$1;function _defineProperties$1(r,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),defineProperty$7$1(r,o.key,o)}}function _createClass$1(r,e,t){return e&&_defineProperties$1(r.prototype,e),t&&_defineProperties$1(r,t),defineProperty$7$1(r,"prototype",{writable:!1}),r}function _defineProperty$1(r,e,t){return e in r?defineProperty$7$1(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var uncurryThis$l$1=functionUncurryThis$1,arraySlice$5$1=uncurryThis$l$1([].slice),global$u$1=global$M$1,uncurryThis$k$1=functionUncurryThis$1,aCallable$4$1=aCallable$7,isObject$a$1=isObject$f$1,hasOwn$c$1=hasOwnProperty_1$1,arraySlice$4$1=arraySlice$5$1,NATIVE_BIND$5=functionBindNative$1,Function$2$1=global$u$1.Function,concat$6$1=uncurryThis$k$1([].concat),join$1=uncurryThis$k$1([].join),factories$1={},construct$4$1=function(r,e,t){if(!hasOwn$c$1(factories$1,e)){for(var o=[],l=0;l<e;l++)o[l]="a["+l+"]";factories$1[e]=Function$2$1("C,a","return new C("+join$1(o,",")+")")}return factories$1[e](r,t)},functionBind$1=NATIVE_BIND$5?Function$2$1.bind:function r(e){var t=aCallable$4$1(this),o=t.prototype,l=arraySlice$4$1(arguments,1),h=function(){var O=concat$6$1(l,arraySlice$4$1(arguments));return this instanceof h?construct$4$1(t,O.length,O):t.apply(e,O)};return isObject$a$1(o)&&(h.prototype=o),h},$$B$1=_export$1,bind$a$1=functionBind$1;$$B$1({target:"Function",proto:!0,forced:Function.bind!==bind$a$1},{bind:bind$a$1});var path$m$1=path$q$1,entryVirtual$k=function(r){return path$m$1[r+"Prototype"]},entryVirtual$j=entryVirtual$k,bind$9$1=entryVirtual$j("Function").bind,isPrototypeOf$h$1=objectIsPrototypeOf$1,method$e$1=bind$9$1,FunctionPrototype$1$1=Function.prototype,bind$8$1=function(r){var e=r.bind;return r===FunctionPrototype$1$1||isPrototypeOf$h$1(FunctionPrototype$1$1,r)&&e===FunctionPrototype$1$1.bind?method$e$1:e},parent$S$1=bind$8$1,bind$7$1=parent$S$1,bind$6$1=bind$7$1,ceil$1=Math.ceil,floor$1$1=Math.floor,toIntegerOrInfinity$4$1=function(r){var e=+r;return e!==e||e===0?0:(e>0?floor$1$1:ceil$1)(e)},toIntegerOrInfinity$3$1=toIntegerOrInfinity$4$1,min$2$1=Math.min,toLength$1$1=function(r){return r>0?min$2$1(toIntegerOrInfinity$3$1(r),9007199254740991):0},toLength$2=toLength$1$1,lengthOfArrayLike$d=function(r){return toLength$2(r.length)},global$t$1=global$M$1,aCallable$3$1=aCallable$7,toObject$c$1=toObject$e,IndexedObject$2$1=indexedObject$1,lengthOfArrayLike$c=lengthOfArrayLike$d,TypeError$d$1=global$t$1.TypeError,createMethod$5$1=function(r){return function(e,t,o,l){aCallable$3$1(t);var h=toObject$c$1(e),y=IndexedObject$2$1(h),O=lengthOfArrayLike$c(h),D=r?O-1:0,R=r?-1:1;if(o<2)for(;;){if(D in y){l=y[D],D+=R;break}if(D+=R,r?D<0:O<=D)throw TypeError$d$1("Reduce of empty array with no initial value")}for(;r?D>=0:O>D;D+=R)D in y&&(l=t(l,y[D],D,h));return l}},arrayReduce$1={left:createMethod$5$1(!1),right:createMethod$5$1(!0)},fails$j$1=fails$r$1,arrayMethodIsStrict$5$1=function(r,e){var t=[][r];return!!t&&fails$j$1(function(){t.call(null,e||function(){return 1},1)})},classof$e=classofRaw$1$1,global$s$1=global$M$1,engineIsNode$1=classof$e(global$s$1.process)=="process",$$A$1=_export$1,$reduce$1=arrayReduce$1.left,arrayMethodIsStrict$4$1=arrayMethodIsStrict$5$1,CHROME_VERSION$1=engineV8Version$1,IS_NODE$1=engineIsNode$1,STRICT_METHOD$4$1=arrayMethodIsStrict$4$1("reduce"),CHROME_BUG$1=!IS_NODE$1&&CHROME_VERSION$1>79&&CHROME_VERSION$1<83;$$A$1({target:"Array",proto:!0,forced:!STRICT_METHOD$4$1||CHROME_BUG$1},{reduce:function r(e){var t=arguments.length;return $reduce$1(this,e,t,t>1?arguments[1]:void 0)}});var entryVirtual$i$1=entryVirtual$k,reduce$3$1=entryVirtual$i$1("Array").reduce,isPrototypeOf$g$1=objectIsPrototypeOf$1,method$d$1=reduce$3$1,ArrayPrototype$e$1=Array.prototype,reduce$2$1=function(r){var e=r.reduce;return r===ArrayPrototype$e$1||isPrototypeOf$g$1(ArrayPrototype$e$1,r)&&e===ArrayPrototype$e$1.reduce?method$d$1:e},parent$R$1=reduce$2$1,reduce$1$1=parent$R$1,reduce$4=reduce$1$1,classof$d$1=classofRaw$1$1,isArray$d=Array.isArray||function r(e){return classof$d$1(e)=="Array"},wellKnownSymbol$h$1=wellKnownSymbol$j$1,TO_STRING_TAG$3$1=wellKnownSymbol$h$1("toStringTag"),test$2$1={};test$2$1[TO_STRING_TAG$3$1]="z";var toStringTagSupport$1=String(test$2$1)==="[object z]",global$r$1=global$M$1,TO_STRING_TAG_SUPPORT$2$1=toStringTagSupport$1,isCallable$9$1=isCallable$h$1,classofRaw$2=classofRaw$1$1,wellKnownSymbol$g$1=wellKnownSymbol$j$1,TO_STRING_TAG$2$1=wellKnownSymbol$g$1("toStringTag"),Object$5$1=global$r$1.Object,CORRECT_ARGUMENTS$1=classofRaw$2(function(){return arguments}())=="Arguments",tryGet$1=function(r,e){try{return r[e]}catch{}},classof$c$1=TO_STRING_TAG_SUPPORT$2$1?classofRaw$2:function(r){var e,t,o;return r===void 0?"Undefined":r===null?"Null":typeof(t=tryGet$1(e=Object$5$1(r),TO_STRING_TAG$2$1))=="string"?t:CORRECT_ARGUMENTS$1?classofRaw$2(e):(o=classofRaw$2(e))=="Object"&&isCallable$9$1(e.callee)?"Arguments":o},uncurryThis$j$1=functionUncurryThis$1,isCallable$8$1=isCallable$h$1,store$1$1=sharedStore$1,functionToString$1=uncurryThis$j$1(Function.toString);isCallable$8$1(store$1$1.inspectSource)||(store$1$1.inspectSource=function(r){return functionToString$1(r)});var inspectSource$2$1=store$1$1.inspectSource,uncurryThis$i$1=functionUncurryThis$1,fails$i$1=fails$r$1,isCallable$7$1=isCallable$h$1,classof$b$1=classof$c$1,getBuiltIn$6$1=getBuiltIn$9$1,inspectSource$1$1=inspectSource$2$1,noop$1=function(){},empty$1=[],construct$3$1=getBuiltIn$6$1("Reflect","construct"),constructorRegExp$1=/^\s*(?:class|function)\b/,exec$2$1=uncurryThis$i$1(constructorRegExp$1.exec),INCORRECT_TO_STRING$1=!constructorRegExp$1.exec(noop$1),isConstructorModern$1=function r(e){if(!isCallable$7$1(e))return!1;try{return construct$3$1(noop$1,empty$1,e),!0}catch{return!1}},isConstructorLegacy$1=function r(e){if(!isCallable$7$1(e))return!1;switch(classof$b$1(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$1||!!exec$2$1(constructorRegExp$1,inspectSource$1$1(e))}catch{return!0}};isConstructorLegacy$1.sham=!0;var isConstructor$4$1=!construct$3$1||fails$i$1(function(){var r;return isConstructorModern$1(isConstructorModern$1.call)||!isConstructorModern$1(Object)||!isConstructorModern$1(function(){r=!0})||r})?isConstructorLegacy$1:isConstructorModern$1,global$q$1=global$M$1,isArray$c$1=isArray$d,isConstructor$3$1=isConstructor$4$1,isObject$9$1=isObject$f$1,wellKnownSymbol$f$1=wellKnownSymbol$j$1,SPECIES$3$1=wellKnownSymbol$f$1("species"),Array$5$1=global$q$1.Array,arraySpeciesConstructor$1$1=function(r){var e;return isArray$c$1(r)&&(e=r.constructor,isConstructor$3$1(e)&&(e===Array$5$1||isArray$c$1(e.prototype))?e=void 0:isObject$9$1(e)&&(e=e[SPECIES$3$1],e===null&&(e=void 0))),e===void 0?Array$5$1:e},arraySpeciesConstructor$2=arraySpeciesConstructor$1$1,arraySpeciesCreate$4=function(r,e){return new(arraySpeciesConstructor$2(r))(e===0?0:e)},bind$5$1=functionBindContext$1,uncurryThis$h$1=functionUncurryThis$1,IndexedObject$1$1=indexedObject$1,toObject$b$1=toObject$e,lengthOfArrayLike$b$1=lengthOfArrayLike$d,arraySpeciesCreate$3$1=arraySpeciesCreate$4,push$5$1=uncurryThis$h$1([].push),createMethod$4$1=function(r){var e=r==1,t=r==2,o=r==3,l=r==4,h=r==6,y=r==7,O=r==5||h;return function(D,R,F,B){for(var j=toObject$b$1(D),U=IndexedObject$1$1(j),W=bind$5$1(R,F),G=lengthOfArrayLike$b$1(U),q=0,K=B||arraySpeciesCreate$3$1,Y=e?K(D,G):t||y?K(D,0):void 0,X,J;G>q;q++)if((O||q in U)&&(X=U[q],J=W(X,q,j),r))if(e)Y[q]=J;else if(J)switch(r){case 3:return!0;case 5:return X;case 6:return q;case 2:push$5$1(Y,X)}else switch(r){case 4:return!1;case 7:push$5$1(Y,X)}return h?-1:o||l?l:Y}},arrayIteration$1={forEach:createMethod$4$1(0),map:createMethod$4$1(1),filter:createMethod$4$1(2),some:createMethod$4$1(3),every:createMethod$4$1(4),find:createMethod$4$1(5),findIndex:createMethod$4$1(6),filterReject:createMethod$4$1(7)},fails$h$1=fails$r$1,wellKnownSymbol$e$1=wellKnownSymbol$j$1,V8_VERSION$1$1=engineV8Version$1,SPECIES$2$1=wellKnownSymbol$e$1("species"),arrayMethodHasSpeciesSupport$5$1=function(r){return V8_VERSION$1$1>=51||!fails$h$1(function(){var e=[],t=e.constructor={};return t[SPECIES$2$1]=function(){return{foo:1}},e[r](Boolean).foo!==1})},$$z$1=_export$1,$filter$1=arrayIteration$1.filter,arrayMethodHasSpeciesSupport$4$1=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$3$1=arrayMethodHasSpeciesSupport$4$1("filter");$$z$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3$1},{filter:function r(e){return $filter$1(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$h$1=entryVirtual$k,filter$3$1=entryVirtual$h$1("Array").filter,isPrototypeOf$f$1=objectIsPrototypeOf$1,method$c$1=filter$3$1,ArrayPrototype$d$1=Array.prototype,filter$2$1=function(r){var e=r.filter;return r===ArrayPrototype$d$1||isPrototypeOf$f$1(ArrayPrototype$d$1,r)&&e===ArrayPrototype$d$1.filter?method$c$1:e},parent$Q$1=filter$2$1,filter$1$1=parent$Q$1,filter$4=filter$1$1,$$y$1=_export$1,$map$1=arrayIteration$1.map,arrayMethodHasSpeciesSupport$3$1=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$2$1=arrayMethodHasSpeciesSupport$3$1("map");$$y$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2$1},{map:function r(e){return $map$1(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$g$1=entryVirtual$k,map$6$1=entryVirtual$g$1("Array").map,isPrototypeOf$e$1=objectIsPrototypeOf$1,method$b$1=map$6$1,ArrayPrototype$c$1=Array.prototype,map$5$1=function(r){var e=r.map;return r===ArrayPrototype$c$1||isPrototypeOf$e$1(ArrayPrototype$c$1,r)&&e===ArrayPrototype$c$1.map?method$b$1:e},parent$P$1=map$5$1,map$4$1=parent$P$1,map$3$1=map$4$1,global$p$1=global$M$1,isArray$b$1=isArray$d,lengthOfArrayLike$a$1=lengthOfArrayLike$d,bind$4$1=functionBindContext$1,TypeError$c$1=global$p$1.TypeError,flattenIntoArray$1=function(r,e,t,o,l,h,y,O){for(var D=l,R=0,F=y?bind$4$1(y,O):!1,B,j;R<o;){if(R in t){if(B=F?F(t[R],R,e):t[R],h>0&&isArray$b$1(B))j=lengthOfArrayLike$a$1(B),D=flattenIntoArray$1(r,e,B,j,D,h-1)-1;else{if(D>=9007199254740991)throw TypeError$c$1("Exceed the acceptable array length");r[D]=B}D++}R++}return D},flattenIntoArray_1=flattenIntoArray$1,$$x$1=_export$1,flattenIntoArray=flattenIntoArray_1,aCallable$2$1=aCallable$7,toObject$a$1=toObject$e,lengthOfArrayLike$9$1=lengthOfArrayLike$d,arraySpeciesCreate$2$1=arraySpeciesCreate$4;$$x$1({target:"Array",proto:!0},{flatMap:function r(e){var t=toObject$a$1(this),o=lengthOfArrayLike$9$1(t),l;return aCallable$2$1(e),l=arraySpeciesCreate$2$1(t,0),l.length=flattenIntoArray(l,t,t,o,0,1,e,arguments.length>1?arguments[1]:void 0),l}});var entryVirtual$f$1=entryVirtual$k;entryVirtual$f$1("Array").flatMap;var global$o$1=global$M$1,classof$a$1=classof$c$1,String$2$1=global$o$1.String,toString$7$1=function(r){if(classof$a$1(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String$2$1(r)},uncurryThis$g$1=functionUncurryThis$1,toIntegerOrInfinity$2$1=toIntegerOrInfinity$4$1,toString$6$1=toString$7$1,requireObjectCoercible$2$1=requireObjectCoercible$5$1,charAt$2$1=uncurryThis$g$1("".charAt),charCodeAt$1$1=uncurryThis$g$1("".charCodeAt),stringSlice$2=uncurryThis$g$1("".slice),createMethod$3$1=function(r){return function(e,t){var o=toString$6$1(requireObjectCoercible$2$1(e)),l=toIntegerOrInfinity$2$1(t),h=o.length,y,O;return l<0||l>=h?r?"":void 0:(y=charCodeAt$1$1(o,l),y<55296||y>56319||l+1===h||(O=charCodeAt$1$1(o,l+1))<56320||O>57343?r?charAt$2$1(o,l):y:r?stringSlice$2(o,l,l+2):(y-55296<<10)+(O-56320)+65536)}},stringMultibyte$1={codeAt:createMethod$3$1(!1),charAt:createMethod$3$1(!0)},global$n$1=global$M$1,isCallable$6$1=isCallable$h$1,inspectSource$3=inspectSource$2$1,WeakMap$1$1=global$n$1.WeakMap,nativeWeakMap$1=isCallable$6$1(WeakMap$1$1)&&/native code/.test(inspectSource$3(WeakMap$1$1)),shared$2$1=shared$4$1.exports,uid$2$1=uid$4$1,keys$7=shared$2$1("keys"),sharedKey$4$1=function(r){return keys$7[r]||(keys$7[r]=uid$2$1(r))},hiddenKeys$6$1={},NATIVE_WEAK_MAP$2=nativeWeakMap$1,global$m$1=global$M$1,uncurryThis$f$1=functionUncurryThis$1,isObject$8$1=isObject$f$1,createNonEnumerableProperty$4$1=createNonEnumerableProperty$6$1,hasOwn$b$1=hasOwnProperty_1$1,shared$1$1=sharedStore$1,sharedKey$3$1=sharedKey$4$1,hiddenKeys$5$1=hiddenKeys$6$1,OBJECT_ALREADY_INITIALIZED$1="Object already initialized",TypeError$b$1=global$m$1.TypeError,WeakMap$3=global$m$1.WeakMap,set$3$1,get$7,has$1,enforce$1=function(r){return has$1(r)?get$7(r):set$3$1(r,{})},getterFor$1=function(r){return function(e){var t;if(!isObject$8$1(e)||(t=get$7(e)).type!==r)throw TypeError$b$1("Incompatible receiver, "+r+" required");return t}};if(NATIVE_WEAK_MAP$2||shared$1$1.state){var store$4=shared$1$1.state||(shared$1$1.state=new WeakMap$3),wmget$1=uncurryThis$f$1(store$4.get),wmhas$1=uncurryThis$f$1(store$4.has),wmset$1=uncurryThis$f$1(store$4.set);set$3$1=function(r,e){if(wmhas$1(store$4,r))throw new TypeError$b$1(OBJECT_ALREADY_INITIALIZED$1);return e.facade=r,wmset$1(store$4,r,e),e},get$7=function(r){return wmget$1(store$4,r)||{}},has$1=function(r){return wmhas$1(store$4,r)}}else{var STATE$1=sharedKey$3$1("state");hiddenKeys$5$1[STATE$1]=!0,set$3$1=function(r,e){if(hasOwn$b$1(r,STATE$1))throw new TypeError$b$1(OBJECT_ALREADY_INITIALIZED$1);return e.facade=r,createNonEnumerableProperty$4$1(r,STATE$1,e),e},get$7=function(r){return hasOwn$b$1(r,STATE$1)?r[STATE$1]:{}},has$1=function(r){return hasOwn$b$1(r,STATE$1)}}var internalState$1={set:set$3$1,get:get$7,has:has$1,enforce:enforce$1,getterFor:getterFor$1},DESCRIPTORS$b$1=descriptors$1,hasOwn$a$1=hasOwnProperty_1$1,FunctionPrototype$4=Function.prototype,getDescriptor$1=DESCRIPTORS$b$1&&Object.getOwnPropertyDescriptor,EXISTS$2=hasOwn$a$1(FunctionPrototype$4,"name"),PROPER$1=EXISTS$2&&function r(){}.name==="something",CONFIGURABLE$2=EXISTS$2&&(!DESCRIPTORS$b$1||DESCRIPTORS$b$1&&getDescriptor$1(FunctionPrototype$4,"name").configurable),functionName$1={EXISTS:EXISTS$2,PROPER:PROPER$1,CONFIGURABLE:CONFIGURABLE$2},objectDefineProperties$1={},toIntegerOrInfinity$1$1=toIntegerOrInfinity$4$1,max$3$1=Math.max,min$1$1=Math.min,toAbsoluteIndex$5$1=function(r,e){var t=toIntegerOrInfinity$1$1(r);return t<0?max$3$1(t+e,0):min$1$1(t,e)},toIndexedObject$9$1=toIndexedObject$b$1,toAbsoluteIndex$4$1=toAbsoluteIndex$5$1,lengthOfArrayLike$8$1=lengthOfArrayLike$d,createMethod$2$1=function(r){return function(e,t,o){var l=toIndexedObject$9$1(e),h=lengthOfArrayLike$8$1(l),y=toAbsoluteIndex$4$1(o,h),O;if(r&&t!=t){for(;h>y;)if(O=l[y++],O!=O)return!0}else for(;h>y;y++)if((r||y in l)&&l[y]===t)return r||y||0;return!r&&-1}},arrayIncludes$1={includes:createMethod$2$1(!0),indexOf:createMethod$2$1(!1)},uncurryThis$e$1=functionUncurryThis$1,hasOwn$9$1=hasOwnProperty_1$1,toIndexedObject$8$1=toIndexedObject$b$1,indexOf$5=arrayIncludes$1.indexOf,hiddenKeys$4$1=hiddenKeys$6$1,push$4$1=uncurryThis$e$1([].push),objectKeysInternal$1=function(r,e){var t=toIndexedObject$8$1(r),o=0,l=[],h;for(h in t)!hasOwn$9$1(hiddenKeys$4$1,h)&&hasOwn$9$1(t,h)&&push$4$1(l,h);for(;e.length>o;)hasOwn$9$1(t,h=e[o++])&&(~indexOf$5(l,h)||push$4$1(l,h));return l},enumBugKeys$3$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$1=objectKeysInternal$1,enumBugKeys$2$1=enumBugKeys$3$1,objectKeys$4$1=Object.keys||function r(e){return internalObjectKeys$1$1(e,enumBugKeys$2$1)},DESCRIPTORS$a$1=descriptors$1,V8_PROTOTYPE_DEFINE_BUG$2=v8PrototypeDefineBug$1,definePropertyModule$3$1=objectDefineProperty$1,anObject$9$1=anObject$b$1,toIndexedObject$7$1=toIndexedObject$b$1,objectKeys$3$1=objectKeys$4$1;objectDefineProperties$1.f=DESCRIPTORS$a$1&&!V8_PROTOTYPE_DEFINE_BUG$2?Object.defineProperties:function r(e,t){anObject$9$1(e);for(var o=toIndexedObject$7$1(t),l=objectKeys$3$1(t),h=l.length,y=0,O;h>y;)definePropertyModule$3$1.f(e,O=l[y++],o[O]);return e};var getBuiltIn$5$1=getBuiltIn$9$1,html$1$1=getBuiltIn$5$1("document","documentElement"),anObject$8$1=anObject$b$1,definePropertiesModule$1$1=objectDefineProperties$1,enumBugKeys$1$1=enumBugKeys$3$1,hiddenKeys$3$1=hiddenKeys$6$1,html$2=html$1$1,documentCreateElement$2=documentCreateElement$1$1,sharedKey$2$1=sharedKey$4$1,GT$1=">",LT$1="<",PROTOTYPE$1$1="prototype",SCRIPT$1="script",IE_PROTO$1$1=sharedKey$2$1("IE_PROTO"),EmptyConstructor$1=function(){},scriptTag$1=function(r){return LT$1+SCRIPT$1+GT$1+r+LT$1+"/"+SCRIPT$1+GT$1},NullProtoObjectViaActiveX$1=function(r){r.write(scriptTag$1("")),r.close();var e=r.parentWindow.Object;return r=null,e},NullProtoObjectViaIFrame$1=function(){var r=documentCreateElement$2("iframe"),e="java"+SCRIPT$1+":",t;return r.style.display="none",html$2.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(scriptTag$1("document.F=Object")),t.close(),t.F},activeXDocument$1,NullProtoObject$1=function(){try{activeXDocument$1=new ActiveXObject("htmlfile")}catch{}NullProtoObject$1=typeof document!="undefined"?document.domain&&activeXDocument$1?NullProtoObjectViaActiveX$1(activeXDocument$1):NullProtoObjectViaIFrame$1():NullProtoObjectViaActiveX$1(activeXDocument$1);for(var r=enumBugKeys$1$1.length;r--;)delete NullProtoObject$1[PROTOTYPE$1$1][enumBugKeys$1$1[r]];return NullProtoObject$1()};hiddenKeys$3$1[IE_PROTO$1$1]=!0;var objectCreate$1=Object.create||function r(e,t){var o;return e!==null?(EmptyConstructor$1[PROTOTYPE$1$1]=anObject$8$1(e),o=new EmptyConstructor$1,EmptyConstructor$1[PROTOTYPE$1$1]=null,o[IE_PROTO$1$1]=e):o=NullProtoObject$1(),t===void 0?o:definePropertiesModule$1$1.f(o,t)},fails$g$1=fails$r$1,correctPrototypeGetter$1=!fails$g$1(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),global$l$1=global$M$1,hasOwn$8$1=hasOwnProperty_1$1,isCallable$5$1=isCallable$h$1,toObject$9$1=toObject$e,sharedKey$1$1=sharedKey$4$1,CORRECT_PROTOTYPE_GETTER$1$1=correctPrototypeGetter$1,IE_PROTO$2=sharedKey$1$1("IE_PROTO"),Object$4$1=global$l$1.Object,ObjectPrototype$2$1=Object$4$1.prototype,objectGetPrototypeOf$1=CORRECT_PROTOTYPE_GETTER$1$1?Object$4$1.getPrototypeOf:function(r){var e=toObject$9$1(r);if(hasOwn$8$1(e,IE_PROTO$2))return e[IE_PROTO$2];var t=e.constructor;return isCallable$5$1(t)&&e instanceof t?t.prototype:e instanceof Object$4$1?ObjectPrototype$2$1:null},createNonEnumerableProperty$3$1=createNonEnumerableProperty$6$1,redefine$4$1=function(r,e,t,o){o&&o.enumerable?r[e]=t:createNonEnumerableProperty$3$1(r,e,t)},fails$f$1=fails$r$1,isCallable$4$1=isCallable$h$1,create$a$1=objectCreate$1,getPrototypeOf$6$1=objectGetPrototypeOf$1,redefine$3$1=redefine$4$1,wellKnownSymbol$d$1=wellKnownSymbol$j$1,ITERATOR$5$1=wellKnownSymbol$d$1("iterator"),BUGGY_SAFARI_ITERATORS$1$1=!1,IteratorPrototype$1$1,PrototypeOfArrayIteratorPrototype$1,arrayIterator$1;[].keys&&(arrayIterator$1=[].keys(),"next"in arrayIterator$1?(PrototypeOfArrayIteratorPrototype$1=getPrototypeOf$6$1(getPrototypeOf$6$1(arrayIterator$1)),PrototypeOfArrayIteratorPrototype$1!==Object.prototype&&(IteratorPrototype$1$1=PrototypeOfArrayIteratorPrototype$1)):BUGGY_SAFARI_ITERATORS$1$1=!0);var NEW_ITERATOR_PROTOTYPE$1=IteratorPrototype$1$1==null||fails$f$1(function(){var r={};return IteratorPrototype$1$1[ITERATOR$5$1].call(r)!==r});NEW_ITERATOR_PROTOTYPE$1?IteratorPrototype$1$1={}:IteratorPrototype$1$1=create$a$1(IteratorPrototype$1$1);isCallable$4$1(IteratorPrototype$1$1[ITERATOR$5$1])||redefine$3$1(IteratorPrototype$1$1,ITERATOR$5$1,function(){return this});var iteratorsCore$1={IteratorPrototype:IteratorPrototype$1$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$1},TO_STRING_TAG_SUPPORT$1$1=toStringTagSupport$1,classof$9$1=classof$c$1,objectToString$1=TO_STRING_TAG_SUPPORT$1$1?{}.toString:function r(){return"[object "+classof$9$1(this)+"]"},TO_STRING_TAG_SUPPORT$3=toStringTagSupport$1,defineProperty$6$1=objectDefineProperty$1.f,createNonEnumerableProperty$2$1=createNonEnumerableProperty$6$1,hasOwn$7$1=hasOwnProperty_1$1,toString$5$1=objectToString$1,wellKnownSymbol$c$1=wellKnownSymbol$j$1,TO_STRING_TAG$1$1=wellKnownSymbol$c$1("toStringTag"),setToStringTag$5$1=function(r,e,t,o){if(r){var l=t?r:r.prototype;hasOwn$7$1(l,TO_STRING_TAG$1$1)||defineProperty$6$1(l,TO_STRING_TAG$1$1,{configurable:!0,value:e}),o&&!TO_STRING_TAG_SUPPORT$3&&createNonEnumerableProperty$2$1(l,"toString",toString$5$1)}},iterators$1={},IteratorPrototype$2=iteratorsCore$1.IteratorPrototype,create$9$1=objectCreate$1,createPropertyDescriptor$2$1=createPropertyDescriptor$5$1,setToStringTag$4$1=setToStringTag$5$1,Iterators$5$1=iterators$1,returnThis$1$1=function(){return this},createIteratorConstructor$1$1=function(r,e,t,o){var l=e+" Iterator";return r.prototype=create$9$1(IteratorPrototype$2,{next:createPropertyDescriptor$2$1(+!o,t)}),setToStringTag$4$1(r,l,!1,!0),Iterators$5$1[l]=returnThis$1$1,r},global$k$1=global$M$1,isCallable$3$1=isCallable$h$1,String$1$1=global$k$1.String,TypeError$a$1=global$k$1.TypeError,aPossiblePrototype$1$1=function(r){if(typeof r=="object"||isCallable$3$1(r))return r;throw TypeError$a$1("Can't set "+String$1$1(r)+" as a prototype")},uncurryThis$d$1=functionUncurryThis$1,anObject$7$1=anObject$b$1,aPossiblePrototype$2=aPossiblePrototype$1$1,objectSetPrototypeOf$1=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,e={},t;try{t=uncurryThis$d$1(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(e,[]),r=e instanceof Array}catch{}return function(l,h){return anObject$7$1(l),aPossiblePrototype$2(h),r?t(l,h):l.__proto__=h,l}}():void 0),$$w$1=_export$1,call$6$1=functionCall$1,FunctionName$1=functionName$1,createIteratorConstructor$2=createIteratorConstructor$1$1,getPrototypeOf$5$1=objectGetPrototypeOf$1,setToStringTag$3$1=setToStringTag$5$1,redefine$2$1=redefine$4$1,wellKnownSymbol$b$1=wellKnownSymbol$j$1,Iterators$4$1=iterators$1,IteratorsCore$1=iteratorsCore$1,PROPER_FUNCTION_NAME$1$1=FunctionName$1.PROPER,BUGGY_SAFARI_ITERATORS$2=IteratorsCore$1.BUGGY_SAFARI_ITERATORS,ITERATOR$4$1=wellKnownSymbol$b$1("iterator"),KEYS$1="keys",VALUES$1="values",ENTRIES$1="entries",returnThis$2=function(){return this},defineIterator$3$1=function(r,e,t,o,l,h,y){createIteratorConstructor$2(t,e,o);var O=function(K){if(K===l&&j)return j;if(!BUGGY_SAFARI_ITERATORS$2&&K in F)return F[K];switch(K){case KEYS$1:return function(){return new t(this,K)};case VALUES$1:return function(){return new t(this,K)};case ENTRIES$1:return function(){return new t(this,K)}}return function(){return new t(this)}},D=e+" Iterator",R=!1,F=r.prototype,B=F[ITERATOR$4$1]||F["@@iterator"]||l&&F[l],j=!BUGGY_SAFARI_ITERATORS$2&&B||O(l),U=e=="Array"&&F.entries||B,W,G,q;if(U&&(W=getPrototypeOf$5$1(U.call(new r)),W!==Object.prototype&&W.next&&(setToStringTag$3$1(W,D,!0,!0),Iterators$4$1[D]=returnThis$2)),PROPER_FUNCTION_NAME$1$1&&l==VALUES$1&&B&&B.name!==VALUES$1&&(R=!0,j=function(){return call$6$1(B,this)}),l)if(G={values:O(VALUES$1),keys:h?j:O(KEYS$1),entries:O(ENTRIES$1)},y)for(q in G)(BUGGY_SAFARI_ITERATORS$2||R||!(q in F))&&redefine$2$1(F,q,G[q]);else $$w$1({target:e,proto:!0,forced:BUGGY_SAFARI_ITERATORS$2||R},G);return y&&F[ITERATOR$4$1]!==j&&redefine$2$1(F,ITERATOR$4$1,j,{name:l}),Iterators$4$1[e]=j,G},charAt$1$1=stringMultibyte$1.charAt,toString$4$1=toString$7$1,InternalStateModule$4$1=internalState$1,defineIterator$2$1=defineIterator$3$1,STRING_ITERATOR$1="String Iterator",setInternalState$4$1=InternalStateModule$4$1.set,getInternalState$2$1=InternalStateModule$4$1.getterFor(STRING_ITERATOR$1);defineIterator$2$1(String,"String",function(r){setInternalState$4$1(this,{type:STRING_ITERATOR$1,string:toString$4$1(r),index:0})},function r(){var e=getInternalState$2$1(this),t=e.string,o=e.index,l;return o>=t.length?{value:void 0,done:!0}:(l=charAt$1$1(t,o),e.index+=l.length,{value:l,done:!1})});var call$5$1=functionCall$1,anObject$6$1=anObject$b$1,getMethod$1$1=getMethod$3$1,iteratorClose$2$1=function(r,e,t){var o,l;anObject$6$1(r);try{if(o=getMethod$1$1(r,"return"),!o){if(e==="throw")throw t;return t}o=call$5$1(o,r)}catch(h){l=!0,o=h}if(e==="throw")throw t;if(l)throw o;return anObject$6$1(o),t},anObject$5$1=anObject$b$1,iteratorClose$1$1=iteratorClose$2$1,callWithSafeIterationClosing$1$1=function(r,e,t,o){try{return o?e(anObject$5$1(t)[0],t[1]):e(t)}catch(l){iteratorClose$1$1(r,"throw",l)}},wellKnownSymbol$a$1=wellKnownSymbol$j$1,Iterators$3$1=iterators$1,ITERATOR$3$1=wellKnownSymbol$a$1("iterator"),ArrayPrototype$a$1=Array.prototype,isArrayIteratorMethod$2$1=function(r){return r!==void 0&&(Iterators$3$1.Array===r||ArrayPrototype$a$1[ITERATOR$3$1]===r)},toPropertyKey$1$1=toPropertyKey$4$1,definePropertyModule$2$1=objectDefineProperty$1,createPropertyDescriptor$1$1=createPropertyDescriptor$5$1,createProperty$6$1=function(r,e,t){var o=toPropertyKey$1$1(e);o in r?definePropertyModule$2$1.f(r,o,createPropertyDescriptor$1$1(0,t)):r[o]=t},classof$8$1=classof$c$1,getMethod$4=getMethod$3$1,Iterators$2$1=iterators$1,wellKnownSymbol$9$1=wellKnownSymbol$j$1,ITERATOR$2$1=wellKnownSymbol$9$1("iterator"),getIteratorMethod$8$1=function(r){if(r!=null)return getMethod$4(r,ITERATOR$2$1)||getMethod$4(r,"@@iterator")||Iterators$2$1[classof$8$1(r)]},global$j$1=global$M$1,call$4$1=functionCall$1,aCallable$1$1=aCallable$7,anObject$4$1=anObject$b$1,tryToString$2$1=tryToString$4$1,getIteratorMethod$7$1=getIteratorMethod$8$1,TypeError$9$1=global$j$1.TypeError,getIterator$7=function(r,e){var t=arguments.length<2?getIteratorMethod$7$1(r):e;if(aCallable$1$1(t))return anObject$4$1(call$4$1(t,r));throw TypeError$9$1(tryToString$2$1(r)+" is not iterable")},global$i$1=global$M$1,bind$3$1=functionBindContext$1,call$3$1=functionCall$1,toObject$8$1=toObject$e,callWithSafeIterationClosing$2=callWithSafeIterationClosing$1$1,isArrayIteratorMethod$1$1=isArrayIteratorMethod$2$1,isConstructor$2$1=isConstructor$4$1,lengthOfArrayLike$7$1=lengthOfArrayLike$d,createProperty$5$1=createProperty$6$1,getIterator$6=getIterator$7,getIteratorMethod$6$1=getIteratorMethod$8$1,Array$4$1=global$i$1.Array,arrayFrom$1=function r(e){var t=toObject$8$1(e),o=isConstructor$2$1(this),l=arguments.length,h=l>1?arguments[1]:void 0,y=h!==void 0;y&&(h=bind$3$1(h,l>2?arguments[2]:void 0));var O=getIteratorMethod$6$1(t),D=0,R,F,B,j,U,W;if(O&&!(this==Array$4$1&&isArrayIteratorMethod$1$1(O)))for(j=getIterator$6(t,O),U=j.next,F=o?new this:[];!(B=call$3$1(U,j)).done;D++)W=y?callWithSafeIterationClosing$2(j,h,[B.value,D],!0):B.value,createProperty$5$1(F,D,W);else for(R=lengthOfArrayLike$7$1(t),F=o?new this(R):Array$4$1(R);R>D;D++)W=y?h(t[D],D):t[D],createProperty$5$1(F,D,W);return F.length=D,F},wellKnownSymbol$8$1=wellKnownSymbol$j$1,ITERATOR$1$1=wellKnownSymbol$8$1("iterator"),SAFE_CLOSING$1=!1;try{var called$1=0,iteratorWithReturn$1={next:function(){return{done:!!called$1++}},return:function(){SAFE_CLOSING$1=!0}};iteratorWithReturn$1[ITERATOR$1$1]=function(){return this},Array.from(iteratorWithReturn$1,function(){throw 2})}catch(r){}var checkCorrectnessOfIteration$1$1=function(r,e){if(!e&&!SAFE_CLOSING$1)return!1;var t=!1;try{var o={};o[ITERATOR$1$1]=function(){return{next:function(){return{done:t=!0}}}},r(o)}catch{}return t},$$v$1=_export$1,from$6$1=arrayFrom$1,checkCorrectnessOfIteration$2=checkCorrectnessOfIteration$1$1,INCORRECT_ITERATION$1=!checkCorrectnessOfIteration$2(function(r){Array.from(r)});$$v$1({target:"Array",stat:!0,forced:INCORRECT_ITERATION$1},{from:from$6$1});var path$l$1=path$q$1,from$5$1=path$l$1.Array.from,parent$N$1=from$5$1,from$4$1=parent$N$1,from$3$1=from$4$1,toIndexedObject$6$1=toIndexedObject$b$1,Iterators$1$1=iterators$1,InternalStateModule$3$1=internalState$1;objectDefineProperty$1.f;var defineIterator$1$1=defineIterator$3$1,ARRAY_ITERATOR$1="Array Iterator",setInternalState$3$1=InternalStateModule$3$1.set,getInternalState$1$1=InternalStateModule$3$1.getterFor(ARRAY_ITERATOR$1);defineIterator$1$1(Array,"Array",function(r,e){setInternalState$3$1(this,{type:ARRAY_ITERATOR$1,target:toIndexedObject$6$1(r),index:0,kind:e})},function(){var r=getInternalState$1$1(this),e=r.target,t=r.kind,o=r.index++;return!e||o>=e.length?(r.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:o,done:!1}:t=="values"?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}},"values");Iterators$1$1.Arguments=Iterators$1$1.Array;var getIteratorMethod$5$1=getIteratorMethod$8$1,getIteratorMethod_1$1=getIteratorMethod$5$1,domIterables$1={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DOMIterables$4=domIterables$1,global$h$1=global$M$1,classof$7$1=classof$c$1,createNonEnumerableProperty$1$1=createNonEnumerableProperty$6$1,Iterators$6=iterators$1,wellKnownSymbol$7$1=wellKnownSymbol$j$1,TO_STRING_TAG$4=wellKnownSymbol$7$1("toStringTag");for(var COLLECTION_NAME$1 in DOMIterables$4){var Collection$1=global$h$1[COLLECTION_NAME$1],CollectionPrototype$1=Collection$1&&Collection$1.prototype;CollectionPrototype$1&&classof$7$1(CollectionPrototype$1)!==TO_STRING_TAG$4&&createNonEnumerableProperty$1$1(CollectionPrototype$1,TO_STRING_TAG$4,COLLECTION_NAME$1),Iterators$6[COLLECTION_NAME$1]=Iterators$6.Array}var parent$M$1=getIteratorMethod_1$1,getIteratorMethod$4$1=parent$M$1,parent$L$1=getIteratorMethod$4$1,getIteratorMethod$3$1=parent$L$1,parent$K$1=getIteratorMethod$3$1,getIteratorMethod$2$1=parent$K$1,getIteratorMethod$1$1=getIteratorMethod$2$1,objectGetOwnPropertyNames$1={},internalObjectKeys$2=objectKeysInternal$1,enumBugKeys$4=enumBugKeys$3$1,hiddenKeys$2$1=enumBugKeys$4.concat("length","prototype");objectGetOwnPropertyNames$1.f=Object.getOwnPropertyNames||function r(e){return internalObjectKeys$2(e,hiddenKeys$2$1)};var objectGetOwnPropertyNamesExternal$1={},global$g$1=global$M$1,toAbsoluteIndex$3$1=toAbsoluteIndex$5$1,lengthOfArrayLike$6$1=lengthOfArrayLike$d,createProperty$4$1=createProperty$6$1,Array$3$1=global$g$1.Array,max$2$1=Math.max,arraySliceSimple$1=function(r,e,t){for(var o=lengthOfArrayLike$6$1(r),l=toAbsoluteIndex$3$1(e,o),h=toAbsoluteIndex$3$1(t===void 0?o:t,o),y=Array$3$1(max$2$1(h-l,0)),O=0;l<h;l++,O++)createProperty$4$1(y,O,r[l]);return y.length=O,y},classof$6$1=classofRaw$1$1,toIndexedObject$5$1=toIndexedObject$b$1,$getOwnPropertyNames$1$1=objectGetOwnPropertyNames$1.f,arraySlice$3$1=arraySliceSimple$1,windowNames$1=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames$1=function(r){try{return $getOwnPropertyNames$1$1(r)}catch{return arraySlice$3$1(windowNames$1)}};objectGetOwnPropertyNamesExternal$1.f=function r(e){return windowNames$1&&classof$6$1(e)=="Window"?getWindowNames$1(e):$getOwnPropertyNames$1$1(toIndexedObject$5$1(e))};var objectGetOwnPropertySymbols$1={};objectGetOwnPropertySymbols$1.f=Object.getOwnPropertySymbols;var wellKnownSymbolWrapped$1={},wellKnownSymbol$6$1=wellKnownSymbol$j$1;wellKnownSymbolWrapped$1.f=wellKnownSymbol$6$1;var path$k$1=path$q$1,hasOwn$6$1=hasOwnProperty_1$1,wrappedWellKnownSymbolModule$1$1=wellKnownSymbolWrapped$1,defineProperty$5$1=objectDefineProperty$1.f,defineWellKnownSymbol$l$1=function(r){var e=path$k$1.Symbol||(path$k$1.Symbol={});hasOwn$6$1(e,r)||defineProperty$5$1(e,r,{value:wrappedWellKnownSymbolModule$1$1.f(r)})},$$u$1=_export$1,global$f$1=global$M$1,getBuiltIn$4$1=getBuiltIn$9$1,apply$4$1=functionApply$1,call$2$1=functionCall$1,uncurryThis$c$1=functionUncurryThis$1,DESCRIPTORS$9$1=descriptors$1,NATIVE_SYMBOL$3=nativeSymbol$1,fails$e$1=fails$r$1,hasOwn$5$1=hasOwnProperty_1$1,isArray$a$1=isArray$d,isCallable$2$1=isCallable$h$1,isObject$7$1=isObject$f$1,isPrototypeOf$c$1=objectIsPrototypeOf$1,isSymbol$4=isSymbol$3$1,anObject$3$1=anObject$b$1,toObject$7$1=toObject$e,toIndexedObject$4$1=toIndexedObject$b$1,toPropertyKey$5=toPropertyKey$4$1,$toString$1=toString$7$1,createPropertyDescriptor$6=createPropertyDescriptor$5$1,nativeObjectCreate$1=objectCreate$1,objectKeys$2$1=objectKeys$4$1,getOwnPropertyNamesModule$2$1=objectGetOwnPropertyNames$1,getOwnPropertyNamesExternal$1=objectGetOwnPropertyNamesExternal$1,getOwnPropertySymbolsModule$2$1=objectGetOwnPropertySymbols$1,getOwnPropertyDescriptorModule$1$1=objectGetOwnPropertyDescriptor$1,definePropertyModule$1$1=objectDefineProperty$1,definePropertiesModule$2=objectDefineProperties$1,propertyIsEnumerableModule$1$1=objectPropertyIsEnumerable$1,arraySlice$2$1=arraySlice$5$1,redefine$1$1=redefine$4$1,shared$5=shared$4$1.exports,sharedKey$5=sharedKey$4$1,hiddenKeys$1$1=hiddenKeys$6$1,uid$1$1=uid$4$1,wellKnownSymbol$5$1=wellKnownSymbol$j$1,wrappedWellKnownSymbolModule$2=wellKnownSymbolWrapped$1,defineWellKnownSymbol$k$1=defineWellKnownSymbol$l$1,setToStringTag$2$1=setToStringTag$5$1,InternalStateModule$2$1=internalState$1,$forEach$1$1=arrayIteration$1.forEach,HIDDEN$1=sharedKey$5("hidden"),SYMBOL$1="Symbol",PROTOTYPE$2="prototype",TO_PRIMITIVE$2=wellKnownSymbol$5$1("toPrimitive"),setInternalState$2$1=InternalStateModule$2$1.set,getInternalState$3=InternalStateModule$2$1.getterFor(SYMBOL$1),ObjectPrototype$1$1=Object[PROTOTYPE$2],$Symbol$1=global$f$1.Symbol,SymbolPrototype$1=$Symbol$1&&$Symbol$1[PROTOTYPE$2],TypeError$8$1=global$f$1.TypeError,QObject$1=global$f$1.QObject,$stringify$1$1=getBuiltIn$4$1("JSON","stringify"),nativeGetOwnPropertyDescriptor$1$1=getOwnPropertyDescriptorModule$1$1.f,nativeDefineProperty$1=definePropertyModule$1$1.f,nativeGetOwnPropertyNames$1=getOwnPropertyNamesExternal$1.f,nativePropertyIsEnumerable$1=propertyIsEnumerableModule$1$1.f,push$3$1=uncurryThis$c$1([].push),AllSymbols$1=shared$5("symbols"),ObjectPrototypeSymbols$1=shared$5("op-symbols"),StringToSymbolRegistry$1=shared$5("string-to-symbol-registry"),SymbolToStringRegistry$1=shared$5("symbol-to-string-registry"),WellKnownSymbolsStore$2=shared$5("wks"),USE_SETTER$1=!QObject$1||!QObject$1[PROTOTYPE$2]||!QObject$1[PROTOTYPE$2].findChild,setSymbolDescriptor$1=DESCRIPTORS$9$1&&fails$e$1(function(){return nativeObjectCreate$1(nativeDefineProperty$1({},"a",{get:function(){return nativeDefineProperty$1(this,"a",{value:7}).a}})).a!=7})?function(r,e,t){var o=nativeGetOwnPropertyDescriptor$1$1(ObjectPrototype$1$1,e);o&&delete ObjectPrototype$1$1[e],nativeDefineProperty$1(r,e,t),o&&r!==ObjectPrototype$1$1&&nativeDefineProperty$1(ObjectPrototype$1$1,e,o)}:nativeDefineProperty$1,wrap$1$1=function(r,e){var t=AllSymbols$1[r]=nativeObjectCreate$1(SymbolPrototype$1);return setInternalState$2$1(t,{type:SYMBOL$1,tag:r,description:e}),DESCRIPTORS$9$1||(t.description=e),t},$defineProperty$2=function r(e,t,o){e===ObjectPrototype$1$1&&$defineProperty$2(ObjectPrototypeSymbols$1,t,o),anObject$3$1(e);var l=toPropertyKey$5(t);return anObject$3$1(o),hasOwn$5$1(AllSymbols$1,l)?(o.enumerable?(hasOwn$5$1(e,HIDDEN$1)&&e[HIDDEN$1][l]&&(e[HIDDEN$1][l]=!1),o=nativeObjectCreate$1(o,{enumerable:createPropertyDescriptor$6(0,!1)})):(hasOwn$5$1(e,HIDDEN$1)||nativeDefineProperty$1(e,HIDDEN$1,createPropertyDescriptor$6(1,{})),e[HIDDEN$1][l]=!0),setSymbolDescriptor$1(e,l,o)):nativeDefineProperty$1(e,l,o)},$defineProperties$1=function r(e,t){anObject$3$1(e);var o=toIndexedObject$4$1(t),l=objectKeys$2$1(o).concat($getOwnPropertySymbols$1(o));return $forEach$1$1(l,function(h){(!DESCRIPTORS$9$1||call$2$1($propertyIsEnumerable$1$1,o,h))&&$defineProperty$2(e,h,o[h])}),e},$create$1=function r(e,t){return t===void 0?nativeObjectCreate$1(e):$defineProperties$1(nativeObjectCreate$1(e),t)},$propertyIsEnumerable$1$1=function r(e){var t=toPropertyKey$5(e),o=call$2$1(nativePropertyIsEnumerable$1,this,t);return this===ObjectPrototype$1$1&&hasOwn$5$1(AllSymbols$1,t)&&!hasOwn$5$1(ObjectPrototypeSymbols$1,t)?!1:o||!hasOwn$5$1(this,t)||!hasOwn$5$1(AllSymbols$1,t)||hasOwn$5$1(this,HIDDEN$1)&&this[HIDDEN$1][t]?o:!0},$getOwnPropertyDescriptor$3=function r(e,t){var o=toIndexedObject$4$1(e),l=toPropertyKey$5(t);if(!(o===ObjectPrototype$1$1&&hasOwn$5$1(AllSymbols$1,l)&&!hasOwn$5$1(ObjectPrototypeSymbols$1,l))){var h=nativeGetOwnPropertyDescriptor$1$1(o,l);return h&&hasOwn$5$1(AllSymbols$1,l)&&!(hasOwn$5$1(o,HIDDEN$1)&&o[HIDDEN$1][l])&&(h.enumerable=!0),h}},$getOwnPropertyNames$2=function r(e){var t=nativeGetOwnPropertyNames$1(toIndexedObject$4$1(e)),o=[];return $forEach$1$1(t,function(l){!hasOwn$5$1(AllSymbols$1,l)&&!hasOwn$5$1(hiddenKeys$1$1,l)&&push$3$1(o,l)}),o},$getOwnPropertySymbols$1=function r(e){var t=e===ObjectPrototype$1$1,o=nativeGetOwnPropertyNames$1(t?ObjectPrototypeSymbols$1:toIndexedObject$4$1(e)),l=[];return $forEach$1$1(o,function(h){hasOwn$5$1(AllSymbols$1,h)&&(!t||hasOwn$5$1(ObjectPrototype$1$1,h))&&push$3$1(l,AllSymbols$1[h])}),l};NATIVE_SYMBOL$3||($Symbol$1=function(){if(isPrototypeOf$c$1(SymbolPrototype$1,this))throw TypeError$8$1("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:$toString$1(arguments[0]),t=uid$1$1(e),o=function(l){this===ObjectPrototype$1$1&&call$2$1(o,ObjectPrototypeSymbols$1,l),hasOwn$5$1(this,HIDDEN$1)&&hasOwn$5$1(this[HIDDEN$1],t)&&(this[HIDDEN$1][t]=!1),setSymbolDescriptor$1(this,t,createPropertyDescriptor$6(1,l))};return DESCRIPTORS$9$1&&USE_SETTER$1&&setSymbolDescriptor$1(ObjectPrototype$1$1,t,{configurable:!0,set:o}),wrap$1$1(t,e)},SymbolPrototype$1=$Symbol$1[PROTOTYPE$2],redefine$1$1(SymbolPrototype$1,"toString",function(){return getInternalState$3(this).tag}),redefine$1$1($Symbol$1,"withoutSetter",function(r){return wrap$1$1(uid$1$1(r),r)}),propertyIsEnumerableModule$1$1.f=$propertyIsEnumerable$1$1,definePropertyModule$1$1.f=$defineProperty$2,definePropertiesModule$2.f=$defineProperties$1,getOwnPropertyDescriptorModule$1$1.f=$getOwnPropertyDescriptor$3,getOwnPropertyNamesModule$2$1.f=getOwnPropertyNamesExternal$1.f=$getOwnPropertyNames$2,getOwnPropertySymbolsModule$2$1.f=$getOwnPropertySymbols$1,wrappedWellKnownSymbolModule$2.f=function(r){return wrap$1$1(wellKnownSymbol$5$1(r),r)},DESCRIPTORS$9$1&&nativeDefineProperty$1(SymbolPrototype$1,"description",{configurable:!0,get:function(){return getInternalState$3(this).description}}));$$u$1({global:!0,wrap:!0,forced:!NATIVE_SYMBOL$3,sham:!NATIVE_SYMBOL$3},{Symbol:$Symbol$1});$forEach$1$1(objectKeys$2$1(WellKnownSymbolsStore$2),function(r){defineWellKnownSymbol$k$1(r)});$$u$1({target:SYMBOL$1,stat:!0,forced:!NATIVE_SYMBOL$3},{for:function(r){var e=$toString$1(r);if(hasOwn$5$1(StringToSymbolRegistry$1,e))return StringToSymbolRegistry$1[e];var t=$Symbol$1(e);return StringToSymbolRegistry$1[e]=t,SymbolToStringRegistry$1[t]=e,t},keyFor:function r(e){if(!isSymbol$4(e))throw TypeError$8$1(e+" is not a symbol");if(hasOwn$5$1(SymbolToStringRegistry$1,e))return SymbolToStringRegistry$1[e]},useSetter:function(){USE_SETTER$1=!0},useSimple:function(){USE_SETTER$1=!1}});$$u$1({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3,sham:!DESCRIPTORS$9$1},{create:$create$1,defineProperty:$defineProperty$2,defineProperties:$defineProperties$1,getOwnPropertyDescriptor:$getOwnPropertyDescriptor$3});$$u$1({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3},{getOwnPropertyNames:$getOwnPropertyNames$2,getOwnPropertySymbols:$getOwnPropertySymbols$1});$$u$1({target:"Object",stat:!0,forced:fails$e$1(function(){getOwnPropertySymbolsModule$2$1.f(1)})},{getOwnPropertySymbols:function r(e){return getOwnPropertySymbolsModule$2$1.f(toObject$7$1(e))}});if($stringify$1$1){var FORCED_JSON_STRINGIFY$1=!NATIVE_SYMBOL$3||fails$e$1(function(){var r=$Symbol$1();return $stringify$1$1([r])!="[null]"||$stringify$1$1({a:r})!="{}"||$stringify$1$1(Object(r))!="{}"});$$u$1({target:"JSON",stat:!0,forced:FORCED_JSON_STRINGIFY$1},{stringify:function(e,t,o){var l=arraySlice$2$1(arguments),h=t;if(!(!isObject$7$1(t)&&e===void 0||isSymbol$4(e)))return isArray$a$1(t)||(t=function(y,O){if(isCallable$2$1(h)&&(O=call$2$1(h,this,y,O)),!isSymbol$4(O))return O}),l[1]=t,apply$4$1($stringify$1$1,null,l)}})}if(!SymbolPrototype$1[TO_PRIMITIVE$2]){var valueOf$1=SymbolPrototype$1.valueOf;redefine$1$1(SymbolPrototype$1,TO_PRIMITIVE$2,function(r){return call$2$1(valueOf$1,this)})}setToStringTag$2$1($Symbol$1,SYMBOL$1);hiddenKeys$1$1[HIDDEN$1]=!0;var path$j$1=path$q$1,getOwnPropertySymbols$2$1=path$j$1.Object.getOwnPropertySymbols,parent$J$1=getOwnPropertySymbols$2$1,getOwnPropertySymbols$1$1=parent$J$1,getOwnPropertySymbols$3=getOwnPropertySymbols$1$1,getOwnPropertyDescriptor$3$1={exports:{}},$$t$1=_export$1,fails$d$1=fails$r$1,toIndexedObject$3$1=toIndexedObject$b$1,nativeGetOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor$1.f,DESCRIPTORS$8$1=descriptors$1,FAILS_ON_PRIMITIVES$3$1=fails$d$1(function(){nativeGetOwnPropertyDescriptor$2(1)}),FORCED$5$1=!DESCRIPTORS$8$1||FAILS_ON_PRIMITIVES$3$1;$$t$1({target:"Object",stat:!0,forced:FORCED$5$1,sham:!DESCRIPTORS$8$1},{getOwnPropertyDescriptor:function r(e,t){return nativeGetOwnPropertyDescriptor$2(toIndexedObject$3$1(e),t)}});var path$i$1=path$q$1,Object$3$1=path$i$1.Object,getOwnPropertyDescriptor$2$1=getOwnPropertyDescriptor$3$1.exports=function r(e,t){return Object$3$1.getOwnPropertyDescriptor(e,t)};Object$3$1.getOwnPropertyDescriptor.sham&&(getOwnPropertyDescriptor$2$1.sham=!0);var parent$I$1=getOwnPropertyDescriptor$3$1.exports,getOwnPropertyDescriptor$1$1=parent$I$1,getOwnPropertyDescriptor$9=getOwnPropertyDescriptor$1$1,getBuiltIn$3$1=getBuiltIn$9$1,uncurryThis$b$1=functionUncurryThis$1,getOwnPropertyNamesModule$1$1=objectGetOwnPropertyNames$1,getOwnPropertySymbolsModule$1$1=objectGetOwnPropertySymbols$1,anObject$2$1=anObject$b$1,concat$5$1=uncurryThis$b$1([].concat),ownKeys$6$1=getBuiltIn$3$1("Reflect","ownKeys")||function r(e){var t=getOwnPropertyNamesModule$1$1.f(anObject$2$1(e)),o=getOwnPropertySymbolsModule$1$1.f;return o?concat$5$1(t,o(e)):t},$$s$1=_export$1,DESCRIPTORS$7$1=descriptors$1,ownKeys$5$1=ownKeys$6$1,toIndexedObject$2$1=toIndexedObject$b$1,getOwnPropertyDescriptorModule$3=objectGetOwnPropertyDescriptor$1,createProperty$3$1=createProperty$6$1;$$s$1({target:"Object",stat:!0,sham:!DESCRIPTORS$7$1},{getOwnPropertyDescriptors:function r(e){for(var t=toIndexedObject$2$1(e),o=getOwnPropertyDescriptorModule$3.f,l=ownKeys$5$1(t),h={},y=0,O,D;l.length>y;)D=o(t,O=l[y++]),D!==void 0&&createProperty$3$1(h,O,D);return h}});var path$h$1=path$q$1,getOwnPropertyDescriptors$2$1=path$h$1.Object.getOwnPropertyDescriptors,parent$H$1=getOwnPropertyDescriptors$2$1,getOwnPropertyDescriptors$1$1=parent$H$1,getOwnPropertyDescriptors$3=getOwnPropertyDescriptors$1$1,defineProperties$4$1={exports:{}},$$r$1=_export$1,DESCRIPTORS$6$1=descriptors$1,defineProperties$3$1=objectDefineProperties$1.f;$$r$1({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties$3$1,sham:!DESCRIPTORS$6$1},{defineProperties:defineProperties$3$1});var path$g$1=path$q$1,Object$2$1=path$g$1.Object,defineProperties$2$1=defineProperties$4$1.exports=function r(e,t){return Object$2$1.defineProperties(e,t)};Object$2$1.defineProperties.sham&&(defineProperties$2$1.sham=!0);var parent$G$1=defineProperties$4$1.exports,defineProperties$1$1=parent$G$1,defineProperties$5=defineProperties$1$1,defineProperty$4$1=defineProperty$a$1,$$q$1=_export$1,isArray$9$1=isArray$d;$$q$1({target:"Array",stat:!0},{isArray:isArray$9$1});var path$f$1=path$q$1,isArray$8$1=path$f$1.Array.isArray,parent$F$1=isArray$8$1,isArray$7$1=parent$F$1,parent$E$1=isArray$7$1,isArray$6$1=parent$E$1,parent$D$1=isArray$6$1,isArray$5$1=parent$D$1,isArray$4$1=isArray$5$1;function _arrayWithHoles$1(r){if(isArray$4$1(r))return r}var $$p$1=_export$1,global$e$1=global$M$1,fails$c$1=fails$r$1,isArray$3$1=isArray$d,isObject$6$1=isObject$f$1,toObject$6$1=toObject$e,lengthOfArrayLike$5$1=lengthOfArrayLike$d,createProperty$2$1=createProperty$6$1,arraySpeciesCreate$1$1=arraySpeciesCreate$4,arrayMethodHasSpeciesSupport$2$1=arrayMethodHasSpeciesSupport$5$1,wellKnownSymbol$4$1=wellKnownSymbol$j$1,V8_VERSION$3=engineV8Version$1,IS_CONCAT_SPREADABLE$1=wellKnownSymbol$4$1("isConcatSpreadable"),MAX_SAFE_INTEGER$1$1=9007199254740991,MAXIMUM_ALLOWED_INDEX_EXCEEDED$1="Maximum allowed index exceeded",TypeError$7$1=global$e$1.TypeError,IS_CONCAT_SPREADABLE_SUPPORT$1=V8_VERSION$3>=51||!fails$c$1(function(){var r=[];return r[IS_CONCAT_SPREADABLE$1]=!1,r.concat()[0]!==r}),SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$2$1("concat"),isConcatSpreadable$1=function(r){if(!isObject$6$1(r))return!1;var e=r[IS_CONCAT_SPREADABLE$1];return e!==void 0?!!e:isArray$3$1(r)},FORCED$4$1=!IS_CONCAT_SPREADABLE_SUPPORT$1||!SPECIES_SUPPORT$1;$$p$1({target:"Array",proto:!0,forced:FORCED$4$1},{concat:function r(e){var t=toObject$6$1(this),o=arraySpeciesCreate$1$1(t,0),l=0,h,y,O,D,R;for(h=-1,O=arguments.length;h<O;h++)if(R=h===-1?t:arguments[h],isConcatSpreadable$1(R)){if(D=lengthOfArrayLike$5$1(R),l+D>MAX_SAFE_INTEGER$1$1)throw TypeError$7$1(MAXIMUM_ALLOWED_INDEX_EXCEEDED$1);for(y=0;y<D;y++,l++)y in R&&createProperty$2$1(o,l,R[y])}else{if(l>=MAX_SAFE_INTEGER$1$1)throw TypeError$7$1(MAXIMUM_ALLOWED_INDEX_EXCEEDED$1);createProperty$2$1(o,l++,R)}return o.length=l,o}});var defineWellKnownSymbol$j$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$j$1("asyncIterator");var defineWellKnownSymbol$i$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$i$1("hasInstance");var defineWellKnownSymbol$h$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$h$1("isConcatSpreadable");var defineWellKnownSymbol$g$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$g$1("iterator");var defineWellKnownSymbol$f$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$f$1("match");var defineWellKnownSymbol$e$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$e$1("matchAll");var defineWellKnownSymbol$d$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$d$1("replace");var defineWellKnownSymbol$c$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$c$1("search");var defineWellKnownSymbol$b$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$b$1("species");var defineWellKnownSymbol$a$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$a$1("split");var defineWellKnownSymbol$9$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$9$1("toPrimitive");var defineWellKnownSymbol$8$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$8$1("toStringTag");var defineWellKnownSymbol$7$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$7$1("unscopables");var global$d$1=global$M$1,setToStringTag$1$1=setToStringTag$5$1;setToStringTag$1$1(global$d$1.JSON,"JSON",!0);var path$e$1=path$q$1,symbol$5$1=path$e$1.Symbol,parent$C$1=symbol$5$1,symbol$4$1=parent$C$1,parent$B$1=symbol$4$1,symbol$3$1=parent$B$1,defineWellKnownSymbol$6$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$6$1("asyncDispose");var defineWellKnownSymbol$5$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$5$1("dispose");var defineWellKnownSymbol$4$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$4$1("matcher");var defineWellKnownSymbol$3$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$3$1("metadata");var defineWellKnownSymbol$2$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$2$1("observable");var defineWellKnownSymbol$1$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$1$1("patternMatch");var defineWellKnownSymbol$m=defineWellKnownSymbol$l$1;defineWellKnownSymbol$m("replaceAll");var parent$A$1=symbol$3$1,symbol$2$1=parent$A$1,symbol$1$1=symbol$2$1;function _iterableToArrayLimit$1(r,e){var t=r==null?null:typeof symbol$1$1!="undefined"&&getIteratorMethod$1$1(r)||r["@@iterator"];if(t!=null){var o=[],l=!0,h=!1,y,O;try{for(t=t.call(r);!(l=(y=t.next()).done)&&(o.push(y.value),!(e&&o.length===e));l=!0);}catch(D){h=!0,O=D}finally{try{!l&&t.return!=null&&t.return()}finally{if(h)throw O}}return o}}var $$o$1=_export$1,global$c$1=global$M$1,isArray$2$1=isArray$d,isConstructor$1$1=isConstructor$4$1,isObject$5$1=isObject$f$1,toAbsoluteIndex$2$1=toAbsoluteIndex$5$1,lengthOfArrayLike$4$1=lengthOfArrayLike$d,toIndexedObject$1$1=toIndexedObject$b$1,createProperty$1$1=createProperty$6$1,wellKnownSymbol$3$1=wellKnownSymbol$j$1,arrayMethodHasSpeciesSupport$1$1=arrayMethodHasSpeciesSupport$5$1,un$Slice$1=arraySlice$5$1,HAS_SPECIES_SUPPORT$1$1=arrayMethodHasSpeciesSupport$1$1("slice"),SPECIES$1$1=wellKnownSymbol$3$1("species"),Array$2$1=global$c$1.Array,max$1$1=Math.max;$$o$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1$1},{slice:function r(e,t){var o=toIndexedObject$1$1(this),l=lengthOfArrayLike$4$1(o),h=toAbsoluteIndex$2$1(e,l),y=toAbsoluteIndex$2$1(t===void 0?l:t,l),O,D,R;if(isArray$2$1(o)&&(O=o.constructor,isConstructor$1$1(O)&&(O===Array$2$1||isArray$2$1(O.prototype))?O=void 0:isObject$5$1(O)&&(O=O[SPECIES$1$1],O===null&&(O=void 0)),O===Array$2$1||O===void 0))return un$Slice$1(o,h,y);for(D=new(O===void 0?Array$2$1:O)(max$1$1(y-h,0)),R=0;h<y;h++,R++)h in o&&createProperty$1$1(D,R,o[h]);return D.length=R,D}});var entryVirtual$e$1=entryVirtual$k,slice$6$1=entryVirtual$e$1("Array").slice,isPrototypeOf$b$1=objectIsPrototypeOf$1,method$9$1=slice$6$1,ArrayPrototype$9$1=Array.prototype,slice$5$1=function(r){var e=r.slice;return r===ArrayPrototype$9$1||isPrototypeOf$b$1(ArrayPrototype$9$1,r)&&e===ArrayPrototype$9$1.slice?method$9$1:e},parent$z$1=slice$5$1,slice$4$1=parent$z$1,parent$y$1=slice$4$1,slice$3$1=parent$y$1,parent$x$1=slice$3$1,slice$2$1=parent$x$1,slice$1$1=slice$2$1,parent$w$1=from$4$1,from$2$1=parent$w$1,parent$v$1=from$2$1,from$1$1=parent$v$1,from$7=from$1$1;function _arrayLikeToArray$4$1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}function _unsupportedIterableToArray$4$1(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$4$1(r,e);var o=slice$1$1(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$7(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$4$1(r,e)}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray$1(r,e){return _arrayWithHoles$1(r)||_iterableToArrayLimit$1(r,e)||_unsupportedIterableToArray$4$1(r,e)||_nonIterableRest$1()}var WrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped$1,iterator$5=WrappedWellKnownSymbolModule$1.f("iterator"),parent$u$1=iterator$5,iterator$4$1=parent$u$1,parent$t$1=iterator$4$1,iterator$3$1=parent$t$1,parent$s$1=iterator$3$1,iterator$2$1=parent$s$1,iterator$1$1=iterator$2$1;function _typeof$1(r){return _typeof$1=typeof symbol$1$1=="function"&&typeof iterator$1$1=="symbol"?function(e){return typeof e}:function(e){return e&&typeof symbol$1$1=="function"&&e.constructor===symbol$1$1&&e!==symbol$1$1.prototype?"symbol":typeof e},_typeof$1(r)}function _arrayWithoutHoles$1(r){if(isArray$4$1(r))return _arrayLikeToArray$4$1(r)}function _iterableToArray$1(r){if(typeof symbol$1$1!="undefined"&&getIteratorMethod$1$1(r)!=null||r["@@iterator"]!=null)return from$7(r)}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray$1(r){return _arrayWithoutHoles$1(r)||_iterableToArray$1(r)||_unsupportedIterableToArray$4$1(r)||_nonIterableSpread$1()}var symbol$6=symbol$4$1,entryVirtual$d$1=entryVirtual$k,concat$4$1=entryVirtual$d$1("Array").concat,isPrototypeOf$a$1=objectIsPrototypeOf$1,method$8$1=concat$4$1,ArrayPrototype$8$1=Array.prototype,concat$3$1=function(r){var e=r.concat;return r===ArrayPrototype$8$1||isPrototypeOf$a$1(ArrayPrototype$8$1,r)&&e===ArrayPrototype$8$1.concat?method$8$1:e},parent$r$1=concat$3$1,concat$2$1=parent$r$1,concat$1$1=concat$2$1,slice$7=slice$4$1,$$n$1=_export$1,ownKeys$4$1=ownKeys$6$1;$$n$1({target:"Reflect",stat:!0},{ownKeys:ownKeys$4$1});var path$d$1=path$q$1,ownKeys$3$1=path$d$1.Reflect.ownKeys,parent$q$1=ownKeys$3$1,ownKeys$2$1=parent$q$1,ownKeys$1$1=ownKeys$2$1,isArray$1$1=isArray$7$1,$$m$1=_export$1,toObject$5$1=toObject$e,nativeKeys$1=objectKeys$4$1,fails$b$1=fails$r$1,FAILS_ON_PRIMITIVES$2$1=fails$b$1(function(){nativeKeys$1(1)});$$m$1({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$2$1},{keys:function r(e){return nativeKeys$1(toObject$5$1(e))}});var path$c$1=path$q$1,keys$6=path$c$1.Object.keys,parent$p$1=keys$6,keys$5=parent$p$1,keys$4=keys$5,$$l$1=_export$1,global$b$1=global$M$1,uncurryThis$a$1=functionUncurryThis$1,Date$1$1=global$b$1.Date,getTime$1=uncurryThis$a$1(Date$1$1.prototype.getTime);$$l$1({target:"Date",stat:!0},{now:function r(){return getTime$1(new Date$1$1)}});var path$b$1=path$q$1;path$b$1.Date.now;var $forEach$2=arrayIteration$1.forEach,arrayMethodIsStrict$3$1=arrayMethodIsStrict$5$1,STRICT_METHOD$3$1=arrayMethodIsStrict$3$1("forEach"),arrayForEach$1=STRICT_METHOD$3$1?[].forEach:function r(e){return $forEach$2(this,e,arguments.length>1?arguments[1]:void 0)},$$k$1=_export$1,forEach$5$1=arrayForEach$1;$$k$1({target:"Array",proto:!0,forced:[].forEach!=forEach$5$1},{forEach:forEach$5$1});var entryVirtual$c$1=entryVirtual$k,forEach$4$1=entryVirtual$c$1("Array").forEach,parent$o$1=forEach$4$1,forEach$3$1=parent$o$1,classof$5$1=classof$c$1,hasOwn$4$1=hasOwnProperty_1$1,isPrototypeOf$9$1=objectIsPrototypeOf$1,method$7$1=forEach$3$1,ArrayPrototype$7$1=Array.prototype,DOMIterables$3={DOMTokenList:!0,NodeList:!0},forEach$2$1=function(r){var e=r.forEach;return r===ArrayPrototype$7$1||isPrototypeOf$9$1(ArrayPrototype$7$1,r)&&e===ArrayPrototype$7$1.forEach||hasOwn$4$1(DOMIterables$3,classof$5$1(r))?method$7$1:e},forEach$1$1=forEach$2$1,$$j$1=_export$1,uncurryThis$9$1=functionUncurryThis$1,isArray$e=isArray$d,un$Reverse$1=uncurryThis$9$1([].reverse),test$1$1=[1,2];$$j$1({target:"Array",proto:!0,forced:String(test$1$1)===String(test$1$1.reverse())},{reverse:function r(){return isArray$e(this)&&(this.length=this.length),un$Reverse$1(this)}});var entryVirtual$b$1=entryVirtual$k,reverse$3$1=entryVirtual$b$1("Array").reverse,isPrototypeOf$8$1=objectIsPrototypeOf$1,method$6$1=reverse$3$1,ArrayPrototype$6$1=Array.prototype,reverse$2$1=function(r){var e=r.reverse;return r===ArrayPrototype$6$1||isPrototypeOf$8$1(ArrayPrototype$6$1,r)&&e===ArrayPrototype$6$1.reverse?method$6$1:e},parent$n$1=reverse$2$1,reverse$1$1=parent$n$1,reverse$4=reverse$1$1,$$i$1=_export$1,global$a$1=global$M$1,toAbsoluteIndex$1$1=toAbsoluteIndex$5$1,toIntegerOrInfinity$5=toIntegerOrInfinity$4$1,lengthOfArrayLike$3$1=lengthOfArrayLike$d,toObject$4$1=toObject$e,arraySpeciesCreate$5=arraySpeciesCreate$4,createProperty$7=createProperty$6$1,arrayMethodHasSpeciesSupport$6=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$4=arrayMethodHasSpeciesSupport$6("splice"),TypeError$6$1=global$a$1.TypeError,max$4=Math.max,min$3=Math.min,MAX_SAFE_INTEGER$2=9007199254740991,MAXIMUM_ALLOWED_LENGTH_EXCEEDED$1="Maximum allowed length exceeded";$$i$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$4},{splice:function r(e,t){var o=toObject$4$1(this),l=lengthOfArrayLike$3$1(o),h=toAbsoluteIndex$1$1(e,l),y=arguments.length,O,D,R,F,B,j;if(y===0?O=D=0:y===1?(O=0,D=l-h):(O=y-2,D=min$3(max$4(toIntegerOrInfinity$5(t),0),l-h)),l+O-D>MAX_SAFE_INTEGER$2)throw TypeError$6$1(MAXIMUM_ALLOWED_LENGTH_EXCEEDED$1);for(R=arraySpeciesCreate$5(o,D),F=0;F<D;F++)B=h+F,B in o&&createProperty$7(R,F,o[B]);if(R.length=D,O<D){for(F=h;F<l-D;F++)B=F+D,j=F+O,B in o?o[j]=o[B]:delete o[j];for(F=l;F>l-D+O;F--)delete o[F-1]}else if(O>D)for(F=l-D;F>h;F--)B=F+D-1,j=F+O-1,B in o?o[j]=o[B]:delete o[j];for(F=0;F<O;F++)o[F+h]=arguments[F+2];return o.length=l-D+O,R}});var entryVirtual$a$1=entryVirtual$k,splice$3$1=entryVirtual$a$1("Array").splice,isPrototypeOf$7$1=objectIsPrototypeOf$1,method$5$1=splice$3$1,ArrayPrototype$5$1=Array.prototype,splice$2$1=function(r){var e=r.splice;return r===ArrayPrototype$5$1||isPrototypeOf$7$1(ArrayPrototype$5$1,r)&&e===ArrayPrototype$5$1.splice?method$5$1:e},parent$m$1=splice$2$1,splice$1$1=parent$m$1,splice$5=splice$1$1,DESCRIPTORS$5$1=descriptors$1,uncurryThis$8$1=functionUncurryThis$1,call$1$1=functionCall$1,fails$a$1=fails$r$1,objectKeys$1$1=objectKeys$4$1,getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols$1,propertyIsEnumerableModule$3=objectPropertyIsEnumerable$1,toObject$3$1=toObject$e,IndexedObject$4=indexedObject$1,$assign$1=Object.assign,defineProperty$3$1=Object.defineProperty,concat$7=uncurryThis$8$1([].concat),objectAssign$1=!$assign$1||fails$a$1(function(){if(DESCRIPTORS$5$1&&$assign$1({b:1},$assign$1(defineProperty$3$1({},"a",{enumerable:!0,get:function(){defineProperty$3$1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},e={},t=Symbol(),o="abcdefghijklmnopqrst";return r[t]=7,o.split("").forEach(function(l){e[l]=l}),$assign$1({},r)[t]!=7||objectKeys$1$1($assign$1({},e)).join("")!=o})?function r(e,t){for(var o=toObject$3$1(e),l=arguments.length,h=1,y=getOwnPropertySymbolsModule$3.f,O=propertyIsEnumerableModule$3.f;l>h;)for(var D=IndexedObject$4(arguments[h++]),R=y?concat$7(objectKeys$1$1(D),y(D)):objectKeys$1$1(D),F=R.length,B=0,j;F>B;)j=R[B++],(!DESCRIPTORS$5$1||call$1$1(O,D,j))&&(o[j]=D[j]);return o}:$assign$1,$$h$1=_export$1,assign$5$1=objectAssign$1;$$h$1({target:"Object",stat:!0,forced:Object.assign!==assign$5$1},{assign:assign$5$1});var path$a$1=path$q$1,assign$4$1=path$a$1.Object.assign,parent$l$1=assign$4$1,assign$3$1=parent$l$1,assign$2$1=assign$3$1,$$g$1=_export$1,$includes$1=arrayIncludes$1.includes;$$g$1({target:"Array",proto:!0},{includes:function r(e){return $includes$1(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$9$1=entryVirtual$k;entryVirtual$9$1("Array").includes;var isObject$4$1=isObject$f$1,classof$4$1=classofRaw$1$1,wellKnownSymbol$2$1=wellKnownSymbol$j$1,MATCH$1$1=wellKnownSymbol$2$1("match"),isRegexp$1=function(r){var e;return isObject$4$1(r)&&((e=r[MATCH$1$1])!==void 0?!!e:classof$4$1(r)=="RegExp")},global$9$1=global$M$1,isRegExp$1=isRegexp$1,TypeError$5$1=global$9$1.TypeError,notARegexp$1=function(r){if(isRegExp$1(r))throw TypeError$5$1("The method doesn't accept regular expressions");return r},wellKnownSymbol$1$1=wellKnownSymbol$j$1,MATCH$2=wellKnownSymbol$1$1("match"),correctIsRegexpLogic$1=function(r){var e=/./;try{"/./"[r](e)}catch{try{return e[MATCH$2]=!1,"/./"[r](e)}catch{}}return!1},$$f$1=_export$1,uncurryThis$7$1=functionUncurryThis$1,notARegExp$1=notARegexp$1,requireObjectCoercible$1$1=requireObjectCoercible$5$1,toString$3$1=toString$7$1,correctIsRegExpLogic$1=correctIsRegexpLogic$1,stringIndexOf$1=uncurryThis$7$1("".indexOf);$$f$1({target:"String",proto:!0,forced:!correctIsRegExpLogic$1("includes")},{includes:function r(e){return!!~stringIndexOf$1(toString$3$1(requireObjectCoercible$1$1(this)),toString$3$1(notARegExp$1(e)),arguments.length>1?arguments[1]:void 0)}});var entryVirtual$8$1=entryVirtual$k;entryVirtual$8$1("String").includes;var $$e$1=_export$1,fails$9$1=fails$r$1,toObject$2$1=toObject$e,nativeGetPrototypeOf$1=objectGetPrototypeOf$1,CORRECT_PROTOTYPE_GETTER$2=correctPrototypeGetter$1,FAILS_ON_PRIMITIVES$1$1=fails$9$1(function(){nativeGetPrototypeOf$1(1)});$$e$1({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$1$1,sham:!CORRECT_PROTOTYPE_GETTER$2},{getPrototypeOf:function r(e){return nativeGetPrototypeOf$1(toObject$2$1(e))}});var path$9$1=path$q$1,getPrototypeOf$4$1=path$9$1.Object.getPrototypeOf,parent$k$1=getPrototypeOf$4$1,getPrototypeOf$3$1=parent$k$1,DESCRIPTORS$4$1=descriptors$1,uncurryThis$6$1=functionUncurryThis$1,objectKeys$5=objectKeys$4$1,toIndexedObject$c=toIndexedObject$b$1,$propertyIsEnumerable$3=objectPropertyIsEnumerable$1.f,propertyIsEnumerable$1=uncurryThis$6$1($propertyIsEnumerable$3),push$2$1=uncurryThis$6$1([].push),createMethod$1$1=function(r){return function(e){for(var t=toIndexedObject$c(e),o=objectKeys$5(t),l=o.length,h=0,y=[],O;l>h;)O=o[h++],(!DESCRIPTORS$4$1||propertyIsEnumerable$1(t,O))&&push$2$1(y,r?[O,t[O]]:t[O]);return y}},objectToArray$1={entries:createMethod$1$1(!0),values:createMethod$1$1(!1)},$$d$1=_export$1,$values$1=objectToArray$1.values;$$d$1({target:"Object",stat:!0},{values:function r(e){return $values$1(e)}});var path$8$1=path$q$1;path$8$1.Object.values;var whitespaces$3$1=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,uncurryThis$5$1=functionUncurryThis$1,requireObjectCoercible$6=requireObjectCoercible$5$1,toString$2$1=toString$7$1,whitespaces$2$1=whitespaces$3$1,replace$1$1=uncurryThis$5$1("".replace),whitespace$1="["+whitespaces$2$1+"]",ltrim$1=RegExp("^"+whitespace$1+whitespace$1+"*"),rtrim$1=RegExp(whitespace$1+whitespace$1+"*$"),createMethod$6=function(r){return function(e){var t=toString$2$1(requireObjectCoercible$6(e));return r&1&&(t=replace$1$1(t,ltrim$1,"")),r&2&&(t=replace$1$1(t,rtrim$1,"")),t}},stringTrim$1={start:createMethod$6(1),end:createMethod$6(2),trim:createMethod$6(3)},global$8$1=global$M$1,fails$8$1=fails$r$1,uncurryThis$4$1=functionUncurryThis$1,toString$1$1=toString$7$1,trim$2=stringTrim$1.trim,whitespaces$1$1=whitespaces$3$1,$parseInt$1$1=global$8$1.parseInt,Symbol$1$1=global$8$1.Symbol,ITERATOR$7=Symbol$1$1&&Symbol$1$1.iterator,hex$1=/^[+-]?0x/i,exec$1$1=uncurryThis$4$1(hex$1.exec),FORCED$3$1=$parseInt$1$1(whitespaces$1$1+"08")!==8||$parseInt$1$1(whitespaces$1$1+"0x16")!==22||ITERATOR$7&&!fails$8$1(function(){$parseInt$1$1(Object(ITERATOR$7))}),numberParseInt$1=FORCED$3$1?function r(e,t){var o=trim$2(toString$1$1(e));return $parseInt$1$1(o,t>>>0||(exec$1$1(hex$1,o)?16:10))}:$parseInt$1$1,$$c$1=_export$1,$parseInt$2=numberParseInt$1;$$c$1({global:!0,forced:parseInt!=$parseInt$2},{parseInt:$parseInt$2});var path$7$1=path$q$1;path$7$1.parseInt;var $$b$1=_export$1,uncurryThis$3$1=functionUncurryThis$1,$IndexOf$1=arrayIncludes$1.indexOf,arrayMethodIsStrict$2$1=arrayMethodIsStrict$5$1,un$IndexOf$1=uncurryThis$3$1([].indexOf),NEGATIVE_ZERO$1=!!un$IndexOf$1&&1/un$IndexOf$1([1],1,-0)<0,STRICT_METHOD$2$1=arrayMethodIsStrict$2$1("indexOf");$$b$1({target:"Array",proto:!0,forced:NEGATIVE_ZERO$1||!STRICT_METHOD$2$1},{indexOf:function r(e){var t=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO$1?un$IndexOf$1(this,e,t)||0:$IndexOf$1(this,e,t)}});var entryVirtual$7$1=entryVirtual$k;entryVirtual$7$1("Array").indexOf;var PROPER_FUNCTION_NAME$2=functionName$1.PROPER,fails$7$1=fails$r$1,whitespaces$5=whitespaces$3$1,non$1="\u200B\x85\u180E",stringTrimForced$1=function(r){return fails$7$1(function(){return!!whitespaces$5[r]()||non$1[r]()!==non$1||PROPER_FUNCTION_NAME$2&&whitespaces$5[r].name!==r})},$$a$1=_export$1,$trim$1=stringTrim$1.trim,forcedStringTrimMethod$1=stringTrimForced$1;$$a$1({target:"String",proto:!0,forced:forcedStringTrimMethod$1("trim")},{trim:function r(){return $trim$1(this)}});var entryVirtual$6$1=entryVirtual$k;entryVirtual$6$1("String").trim;var $$9$1=_export$1,DESCRIPTORS$3$1=descriptors$1,create$8$1=objectCreate$1;$$9$1({target:"Object",stat:!0,sham:!DESCRIPTORS$3$1},{create:create$8$1});var path$6$1=path$q$1,Object$1$1=path$6$1.Object,create$7$1=function r(e,t){return Object$1$1.create(e,t)},parent$j$1=create$7$1,create$6$1=parent$j$1,create$5$1=create$6$1,$$8$1=_export$1,global$7$1=global$M$1,getBuiltIn$2$1=getBuiltIn$9$1,apply$3$1=functionApply$1,uncurryThis$2$1=functionUncurryThis$1,fails$6$1=fails$r$1,Array$1$1=global$7$1.Array,$stringify$2=getBuiltIn$2$1("JSON","stringify"),exec$3=uncurryThis$2$1(/./.exec),charAt$4=uncurryThis$2$1("".charAt),charCodeAt$2=uncurryThis$2$1("".charCodeAt),replace$2=uncurryThis$2$1("".replace),numberToString$1=uncurryThis$2$1(1 .toString),tester$1=/[\uD800-\uDFFF]/g,low$1=/^[\uD800-\uDBFF]$/,hi$1=/^[\uDC00-\uDFFF]$/,fix$1=function(r,e,t){var o=charAt$4(t,e-1),l=charAt$4(t,e+1);return exec$3(low$1,r)&&!exec$3(hi$1,l)||exec$3(hi$1,r)&&!exec$3(low$1,o)?"\\u"+numberToString$1(charCodeAt$2(r,0),16):r},FORCED$2$1=fails$6$1(function(){return $stringify$2("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify$2("\uDEAD")!=='"\\udead"'});$stringify$2&&$$8$1({target:"JSON",stat:!0,forced:FORCED$2$1},{stringify:function(e,t,o){for(var l=0,h=arguments.length,y=Array$1$1(h);l<h;l++)y[l]=arguments[l];var O=apply$3$1($stringify$2,null,y);return typeof O=="string"?replace$2(O,tester$1,fix$1):O}});var path$5$1=path$q$1,apply$2$1=functionApply$1;path$5$1.JSON||(path$5$1.JSON={stringify:JSON.stringify});var stringify$3$1=function r(e,t,o){return apply$2$1(path$5$1.JSON.stringify,null,arguments)},parent$i$1=stringify$3$1,stringify$2$1=parent$i$1,stringify$1$1=stringify$2$1,global$6$1=global$M$1,TypeError$4$1=global$6$1.TypeError,validateArgumentsLength$1$1=function(r,e){if(r<e)throw TypeError$4$1("Not enough arguments");return r},$$7$1=_export$1,global$5$1=global$M$1,apply$1$1=functionApply$1,isCallable$1$1=isCallable$h$1,userAgent$2$1=engineUserAgent$1,arraySlice$1$1=arraySlice$5$1,validateArgumentsLength$2=validateArgumentsLength$1$1,MSIE$1=/MSIE .\./.test(userAgent$2$1),Function$1$1=global$5$1.Function,wrap$2=function(r){return function(e,t){var o=validateArgumentsLength$2(arguments.length,1)>2,l=isCallable$1$1(e)?e:Function$1$1(e),h=o?arraySlice$1$1(arguments,2):void 0;return r(o?function(){apply$1$1(l,this,h)}:l,t)}};$$7$1({global:!0,bind:!0,forced:MSIE$1},{setTimeout:wrap$2(global$5$1.setTimeout),setInterval:wrap$2(global$5$1.setInterval)});var path$4$1=path$q$1,setTimeout$2$1=path$4$1.setTimeout,setTimeout$1$1=setTimeout$2$1,toObject$1$1=toObject$e,toAbsoluteIndex$6=toAbsoluteIndex$5$1,lengthOfArrayLike$2$1=lengthOfArrayLike$d,arrayFill$1=function r(e){for(var t=toObject$1$1(this),o=lengthOfArrayLike$2$1(t),l=arguments.length,h=toAbsoluteIndex$6(l>1?arguments[1]:void 0,o),y=l>2?arguments[2]:void 0,O=y===void 0?o:toAbsoluteIndex$6(y,o);O>h;)t[h++]=e;return t},$$6$1=_export$1,fill$5=arrayFill$1;$$6$1({target:"Array",proto:!0},{fill:fill$5});var entryVirtual$5$1=entryVirtual$k;entryVirtual$5$1("Array").fill;var componentEmitter$1={exports:{}};(function(r){r.exports=e;function e(o){if(o)return t(o)}function t(o){for(var l in e.prototype)o[l]=e.prototype[l];return o}e.prototype.on=e.prototype.addEventListener=function(o,l){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(l),this},e.prototype.once=function(o,l){function h(){this.off(o,h),l.apply(this,arguments)}return h.fn=l,this.on(o,h),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(o,l){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var h=this._callbacks["$"+o];if(!h)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var y,O=0;O<h.length;O++)if(y=h[O],y===l||y.fn===l){h.splice(O,1);break}return h.length===0&&delete this._callbacks["$"+o],this},e.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var l=new Array(arguments.length-1),h=this._callbacks["$"+o],y=1;y<arguments.length;y++)l[y-1]=arguments[y];if(h){h=h.slice(0);for(var y=0,O=h.length;y<O;++y)h[y].apply(this,l)}return this},e.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},e.prototype.hasListeners=function(o){return!!this.listeners(o).length}})(componentEmitter$1);var Emitter$1=componentEmitter$1.exports;/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _extends$1(){return _extends$1=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},_extends$1.apply(this,arguments)}function _inheritsLoose$1(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}function _assertThisInitialized$1$1(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var assign$6;typeof Object.assign!="function"?assign$6=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var h in l)l.hasOwnProperty(h)&&(t[h]=l[h])}return t}:assign$6=Object.assign;var assign$1$1=assign$6,VENDOR_PREFIXES$1=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT$1=typeof document=="undefined"?{style:{}}:document.createElement("div"),TYPE_FUNCTION$1="function",round$1=Math.round,abs$2=Math.abs,now$4=Date.now;function prefixed$1(r,e){for(var t,o,l=e[0].toUpperCase()+e.slice(1),h=0;h<VENDOR_PREFIXES$1.length;){if(t=VENDOR_PREFIXES$1[h],o=t?t+l:e,o in r)return o;h++}}var win$1;typeof window=="undefined"?win$1={}:win$1=window;var PREFIXED_TOUCH_ACTION$1=prefixed$1(TEST_ELEMENT$1.style,"touchAction"),NATIVE_TOUCH_ACTION$1=PREFIXED_TOUCH_ACTION$1!==void 0;function getTouchActionProps$1(){if(!NATIVE_TOUCH_ACTION$1)return!1;var r={},e=win$1.CSS&&win$1.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return r[t]=e?win$1.CSS.supports("touch-action",t):!0}),r}var TOUCH_ACTION_COMPUTE$1="compute",TOUCH_ACTION_AUTO$1="auto",TOUCH_ACTION_MANIPULATION$1="manipulation",TOUCH_ACTION_NONE$1="none",TOUCH_ACTION_PAN_X$1="pan-x",TOUCH_ACTION_PAN_Y$1="pan-y",TOUCH_ACTION_MAP$1=getTouchActionProps$1(),MOBILE_REGEX$1=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH$1="ontouchstart"in win$1,SUPPORT_POINTER_EVENTS$1=prefixed$1(win$1,"PointerEvent")!==void 0,SUPPORT_ONLY_TOUCH$1=SUPPORT_TOUCH$1&&MOBILE_REGEX$1.test(navigator.userAgent),INPUT_TYPE_TOUCH$1="touch",INPUT_TYPE_PEN$1="pen",INPUT_TYPE_MOUSE$1="mouse",INPUT_TYPE_KINECT$1="kinect",COMPUTE_INTERVAL$1=25,INPUT_START$1=1,INPUT_MOVE$1=2,INPUT_END$1=4,INPUT_CANCEL$1=8,DIRECTION_NONE$1=1,DIRECTION_LEFT$1=2,DIRECTION_RIGHT$1=4,DIRECTION_UP$1=8,DIRECTION_DOWN$1=16,DIRECTION_HORIZONTAL$1=DIRECTION_LEFT$1|DIRECTION_RIGHT$1,DIRECTION_VERTICAL$1=DIRECTION_UP$1|DIRECTION_DOWN$1,DIRECTION_ALL$1=DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1,PROPS_XY$1=["x","y"],PROPS_CLIENT_XY$1=["clientX","clientY"];function each$1(r,e,t){var o;if(!!r)if(r.forEach)r.forEach(e,t);else if(r.length!==void 0)for(o=0;o<r.length;)e.call(t,r[o],o,r),o++;else for(o in r)r.hasOwnProperty(o)&&e.call(t,r[o],o,r)}function boolOrFn$1(r,e){return typeof r===TYPE_FUNCTION$1?r.apply(e&&e[0]||void 0,e):r}function inStr$1(r,e){return r.indexOf(e)>-1}function cleanTouchActions$1(r){if(inStr$1(r,TOUCH_ACTION_NONE$1))return TOUCH_ACTION_NONE$1;var e=inStr$1(r,TOUCH_ACTION_PAN_X$1),t=inStr$1(r,TOUCH_ACTION_PAN_Y$1);return e&&t?TOUCH_ACTION_NONE$1:e||t?e?TOUCH_ACTION_PAN_X$1:TOUCH_ACTION_PAN_Y$1:inStr$1(r,TOUCH_ACTION_MANIPULATION$1)?TOUCH_ACTION_MANIPULATION$1:TOUCH_ACTION_AUTO$1}var TouchAction$1=function(){function r(t,o){this.manager=t,this.set(o)}var e=r.prototype;return e.set=function(o){o===TOUCH_ACTION_COMPUTE$1&&(o=this.compute()),NATIVE_TOUCH_ACTION$1&&this.manager.element.style&&TOUCH_ACTION_MAP$1[o]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION$1]=o),this.actions=o.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var o=[];return each$1(this.manager.recognizers,function(l){boolOrFn$1(l.options.enable,[l])&&(o=o.concat(l.getTouchAction()))}),cleanTouchActions$1(o.join(" "))},e.preventDefaults=function(o){var l=o.srcEvent,h=o.offsetDirection;if(this.manager.session.prevented){l.preventDefault();return}var y=this.actions,O=inStr$1(y,TOUCH_ACTION_NONE$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_NONE$1],D=inStr$1(y,TOUCH_ACTION_PAN_Y$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_PAN_Y$1],R=inStr$1(y,TOUCH_ACTION_PAN_X$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_PAN_X$1];if(O){var F=o.pointers.length===1,B=o.distance<2,j=o.deltaTime<250;if(F&&B&&j)return}if(!(R&&D)&&(O||D&&h&DIRECTION_HORIZONTAL$1||R&&h&DIRECTION_VERTICAL$1))return this.preventSrc(l)},e.preventSrc=function(o){this.manager.session.prevented=!0,o.preventDefault()},r}();function hasParent$1(r,e){for(;r;){if(r===e)return!0;r=r.parentNode}return!1}function getCenter$1(r){var e=r.length;if(e===1)return{x:round$1(r[0].clientX),y:round$1(r[0].clientY)};for(var t=0,o=0,l=0;l<e;)t+=r[l].clientX,o+=r[l].clientY,l++;return{x:round$1(t/e),y:round$1(o/e)}}function simpleCloneInputData$1(r){for(var e=[],t=0;t<r.pointers.length;)e[t]={clientX:round$1(r.pointers[t].clientX),clientY:round$1(r.pointers[t].clientY)},t++;return{timeStamp:now$4(),pointers:e,center:getCenter$1(e),deltaX:r.deltaX,deltaY:r.deltaY}}function getDistance$1(r,e,t){t||(t=PROPS_XY$1);var o=e[t[0]]-r[t[0]],l=e[t[1]]-r[t[1]];return Math.sqrt(o*o+l*l)}function getAngle$1(r,e,t){t||(t=PROPS_XY$1);var o=e[t[0]]-r[t[0]],l=e[t[1]]-r[t[1]];return Math.atan2(l,o)*180/Math.PI}function getDirection$1(r,e){return r===e?DIRECTION_NONE$1:abs$2(r)>=abs$2(e)?r<0?DIRECTION_LEFT$1:DIRECTION_RIGHT$1:e<0?DIRECTION_UP$1:DIRECTION_DOWN$1}function computeDeltaXY$1(r,e){var t=e.center,o=r.offsetDelta||{},l=r.prevDelta||{},h=r.prevInput||{};(e.eventType===INPUT_START$1||h.eventType===INPUT_END$1)&&(l=r.prevDelta={x:h.deltaX||0,y:h.deltaY||0},o=r.offsetDelta={x:t.x,y:t.y}),e.deltaX=l.x+(t.x-o.x),e.deltaY=l.y+(t.y-o.y)}function getVelocity$1(r,e,t){return{x:e/r||0,y:t/r||0}}function getScale$1(r,e){return getDistance$1(e[0],e[1],PROPS_CLIENT_XY$1)/getDistance$1(r[0],r[1],PROPS_CLIENT_XY$1)}function getRotation$1(r,e){return getAngle$1(e[1],e[0],PROPS_CLIENT_XY$1)+getAngle$1(r[1],r[0],PROPS_CLIENT_XY$1)}function computeIntervalInputData$1(r,e){var t=r.lastInterval||e,o=e.timeStamp-t.timeStamp,l,h,y,O;if(e.eventType!==INPUT_CANCEL$1&&(o>COMPUTE_INTERVAL$1||t.velocity===void 0)){var D=e.deltaX-t.deltaX,R=e.deltaY-t.deltaY,F=getVelocity$1(o,D,R);h=F.x,y=F.y,l=abs$2(F.x)>abs$2(F.y)?F.x:F.y,O=getDirection$1(D,R),r.lastInterval=e}else l=t.velocity,h=t.velocityX,y=t.velocityY,O=t.direction;e.velocity=l,e.velocityX=h,e.velocityY=y,e.direction=O}function computeInputData$1(r,e){var t=r.session,o=e.pointers,l=o.length;t.firstInput||(t.firstInput=simpleCloneInputData$1(e)),l>1&&!t.firstMultiple?t.firstMultiple=simpleCloneInputData$1(e):l===1&&(t.firstMultiple=!1);var h=t.firstInput,y=t.firstMultiple,O=y?y.center:h.center,D=e.center=getCenter$1(o);e.timeStamp=now$4(),e.deltaTime=e.timeStamp-h.timeStamp,e.angle=getAngle$1(O,D),e.distance=getDistance$1(O,D),computeDeltaXY$1(t,e),e.offsetDirection=getDirection$1(e.deltaX,e.deltaY);var R=getVelocity$1(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=R.x,e.overallVelocityY=R.y,e.overallVelocity=abs$2(R.x)>abs$2(R.y)?R.x:R.y,e.scale=y?getScale$1(y.pointers,o):1,e.rotation=y?getRotation$1(y.pointers,o):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,computeIntervalInputData$1(t,e);var F=r.element,B=e.srcEvent,j;B.composedPath?j=B.composedPath()[0]:B.path?j=B.path[0]:j=B.target,hasParent$1(j,F)&&(F=j),e.target=F}function inputHandler$1(r,e,t){var o=t.pointers.length,l=t.changedPointers.length,h=e&INPUT_START$1&&o-l===0,y=e&(INPUT_END$1|INPUT_CANCEL$1)&&o-l===0;t.isFirst=!!h,t.isFinal=!!y,h&&(r.session={}),t.eventType=e,computeInputData$1(r,t),r.emit("hammer.input",t),r.recognize(t),r.session.prevInput=t}function splitStr$1(r){return r.trim().split(/\s+/g)}function addEventListeners$1(r,e,t){each$1(splitStr$1(e),function(o){r.addEventListener(o,t,!1)})}function removeEventListeners$1(r,e,t){each$1(splitStr$1(e),function(o){r.removeEventListener(o,t,!1)})}function getWindowForElement$1(r){var e=r.ownerDocument||r;return e.defaultView||e.parentWindow||window}var Input$1=function(){function r(t,o){var l=this;this.manager=t,this.callback=o,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(h){boolOrFn$1(t.options.enable,[t])&&l.handler(h)},this.init()}var e=r.prototype;return e.handler=function(){},e.init=function(){this.evEl&&addEventListeners$1(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners$1(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners$1(getWindowForElement$1(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&removeEventListeners$1(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners$1(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners$1(getWindowForElement$1(this.element),this.evWin,this.domHandler)},r}();function inArray$1(r,e,t){if(r.indexOf&&!t)return r.indexOf(e);for(var o=0;o<r.length;){if(t&&r[o][t]==e||!t&&r[o]===e)return o;o++}return-1}var POINTER_INPUT_MAP$1={pointerdown:INPUT_START$1,pointermove:INPUT_MOVE$1,pointerup:INPUT_END$1,pointercancel:INPUT_CANCEL$1,pointerout:INPUT_CANCEL$1},IE10_POINTER_TYPE_ENUM$1={2:INPUT_TYPE_TOUCH$1,3:INPUT_TYPE_PEN$1,4:INPUT_TYPE_MOUSE$1,5:INPUT_TYPE_KINECT$1},POINTER_ELEMENT_EVENTS$1="pointerdown",POINTER_WINDOW_EVENTS$1="pointermove pointerup pointercancel";win$1.MSPointerEvent&&!win$1.PointerEvent&&(POINTER_ELEMENT_EVENTS$1="MSPointerDown",POINTER_WINDOW_EVENTS$1="MSPointerMove MSPointerUp MSPointerCancel");var PointerEventInput$1=function(r){_inheritsLoose$1(e,r);function e(){var o,l=e.prototype;return l.evEl=POINTER_ELEMENT_EVENTS$1,l.evWin=POINTER_WINDOW_EVENTS$1,o=r.apply(this,arguments)||this,o.store=o.manager.session.pointerEvents=[],o}var t=e.prototype;return t.handler=function(l){var h=this.store,y=!1,O=l.type.toLowerCase().replace("ms",""),D=POINTER_INPUT_MAP$1[O],R=IE10_POINTER_TYPE_ENUM$1[l.pointerType]||l.pointerType,F=R===INPUT_TYPE_TOUCH$1,B=inArray$1(h,l.pointerId,"pointerId");D&INPUT_START$1&&(l.button===0||F)?B<0&&(h.push(l),B=h.length-1):D&(INPUT_END$1|INPUT_CANCEL$1)&&(y=!0),!(B<0)&&(h[B]=l,this.callback(this.manager,D,{pointers:h,changedPointers:[l],pointerType:R,srcEvent:l}),y&&h.splice(B,1))},e}(Input$1);function toArray$1(r){return Array.prototype.slice.call(r,0)}function uniqueArray$1(r,e,t){for(var o=[],l=[],h=0;h<r.length;){var y=e?r[h][e]:r[h];inArray$1(l,y)<0&&o.push(r[h]),l[h]=y,h++}return t&&(e?o=o.sort(function(O,D){return O[e]>D[e]}):o=o.sort()),o}var TOUCH_INPUT_MAP$1={touchstart:INPUT_START$1,touchmove:INPUT_MOVE$1,touchend:INPUT_END$1,touchcancel:INPUT_CANCEL$1},TOUCH_TARGET_EVENTS$1="touchstart touchmove touchend touchcancel",TouchInput$1=function(r){_inheritsLoose$1(e,r);function e(){var o;return e.prototype.evTarget=TOUCH_TARGET_EVENTS$1,o=r.apply(this,arguments)||this,o.targetIds={},o}var t=e.prototype;return t.handler=function(l){var h=TOUCH_INPUT_MAP$1[l.type],y=getTouches$1.call(this,l,h);!y||this.callback(this.manager,h,{pointers:y[0],changedPointers:y[1],pointerType:INPUT_TYPE_TOUCH$1,srcEvent:l})},e}(Input$1);function getTouches$1(r,e){var t=toArray$1(r.touches),o=this.targetIds;if(e&(INPUT_START$1|INPUT_MOVE$1)&&t.length===1)return o[t[0].identifier]=!0,[t,t];var l,h,y=toArray$1(r.changedTouches),O=[],D=this.target;if(h=t.filter(function(R){return hasParent$1(R.target,D)}),e===INPUT_START$1)for(l=0;l<h.length;)o[h[l].identifier]=!0,l++;for(l=0;l<y.length;)o[y[l].identifier]&&O.push(y[l]),e&(INPUT_END$1|INPUT_CANCEL$1)&&delete o[y[l].identifier],l++;if(!!O.length)return[uniqueArray$1(h.concat(O),"identifier",!0),O]}var MOUSE_INPUT_MAP$1={mousedown:INPUT_START$1,mousemove:INPUT_MOVE$1,mouseup:INPUT_END$1},MOUSE_ELEMENT_EVENTS$1="mousedown",MOUSE_WINDOW_EVENTS$1="mousemove mouseup",MouseInput$1=function(r){_inheritsLoose$1(e,r);function e(){var o,l=e.prototype;return l.evEl=MOUSE_ELEMENT_EVENTS$1,l.evWin=MOUSE_WINDOW_EVENTS$1,o=r.apply(this,arguments)||this,o.pressed=!1,o}var t=e.prototype;return t.handler=function(l){var h=MOUSE_INPUT_MAP$1[l.type];h&INPUT_START$1&&l.button===0&&(this.pressed=!0),h&INPUT_MOVE$1&&l.which!==1&&(h=INPUT_END$1),this.pressed&&(h&INPUT_END$1&&(this.pressed=!1),this.callback(this.manager,h,{pointers:[l],changedPointers:[l],pointerType:INPUT_TYPE_MOUSE$1,srcEvent:l}))},e}(Input$1),DEDUP_TIMEOUT$1=2500,DEDUP_DISTANCE$1=25;function setLastTouch$1(r){var e=r.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var o={x:t.clientX,y:t.clientY},l=this.lastTouches;this.lastTouches.push(o);var h=function(){var O=l.indexOf(o);O>-1&&l.splice(O,1)};setTimeout(h,DEDUP_TIMEOUT$1)}}function recordTouches$1(r,e){r&INPUT_START$1?(this.primaryTouch=e.changedPointers[0].identifier,setLastTouch$1.call(this,e)):r&(INPUT_END$1|INPUT_CANCEL$1)&&setLastTouch$1.call(this,e)}function isSyntheticEvent$1(r){for(var e=r.srcEvent.clientX,t=r.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var l=this.lastTouches[o],h=Math.abs(e-l.x),y=Math.abs(t-l.y);if(h<=DEDUP_DISTANCE$1&&y<=DEDUP_DISTANCE$1)return!0}return!1}var TouchMouseInput$1=function(){var r=function(e){_inheritsLoose$1(t,e);function t(l,h){var y;return y=e.call(this,l,h)||this,y.handler=function(O,D,R){var F=R.pointerType===INPUT_TYPE_TOUCH$1,B=R.pointerType===INPUT_TYPE_MOUSE$1;if(!(B&&R.sourceCapabilities&&R.sourceCapabilities.firesTouchEvents)){if(F)recordTouches$1.call(_assertThisInitialized$1$1(_assertThisInitialized$1$1(y)),D,R);else if(B&&isSyntheticEvent$1.call(_assertThisInitialized$1$1(_assertThisInitialized$1$1(y)),R))return;y.callback(O,D,R)}},y.touch=new TouchInput$1(y.manager,y.handler),y.mouse=new MouseInput$1(y.manager,y.handler),y.primaryTouch=null,y.lastTouches=[],y}var o=t.prototype;return o.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Input$1);return r}();function createInputInstance$1(r){var e,t=r.options.inputClass;return t?e=t:SUPPORT_POINTER_EVENTS$1?e=PointerEventInput$1:SUPPORT_ONLY_TOUCH$1?e=TouchInput$1:SUPPORT_TOUCH$1?e=TouchMouseInput$1:e=MouseInput$1,new e(r,inputHandler$1)}function invokeArrayArg$1(r,e,t){return Array.isArray(r)?(each$1(r,t[e],t),!0):!1}var STATE_POSSIBLE$1=1,STATE_BEGAN$1=2,STATE_CHANGED$1=4,STATE_ENDED$1=8,STATE_RECOGNIZED$1=STATE_ENDED$1,STATE_CANCELLED$1=16,STATE_FAILED$1=32,_uniqueId$1=1;function uniqueId$1(){return _uniqueId$1++}function getRecognizerByNameIfManager$1(r,e){var t=e.manager;return t?t.get(r):r}function stateStr$1(r){return r&STATE_CANCELLED$1?"cancel":r&STATE_ENDED$1?"end":r&STATE_CHANGED$1?"move":r&STATE_BEGAN$1?"start":""}var Recognizer$1=function(){function r(t){t===void 0&&(t={}),this.options=_extends$1({enable:!0},t),this.id=uniqueId$1(),this.manager=null,this.state=STATE_POSSIBLE$1,this.simultaneous={},this.requireFail=[]}var e=r.prototype;return e.set=function(o){return assign$1$1(this.options,o),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(o){if(invokeArrayArg$1(o,"recognizeWith",this))return this;var l=this.simultaneous;return o=getRecognizerByNameIfManager$1(o,this),l[o.id]||(l[o.id]=o,o.recognizeWith(this)),this},e.dropRecognizeWith=function(o){return invokeArrayArg$1(o,"dropRecognizeWith",this)?this:(o=getRecognizerByNameIfManager$1(o,this),delete this.simultaneous[o.id],this)},e.requireFailure=function(o){if(invokeArrayArg$1(o,"requireFailure",this))return this;var l=this.requireFail;return o=getRecognizerByNameIfManager$1(o,this),inArray$1(l,o)===-1&&(l.push(o),o.requireFailure(this)),this},e.dropRequireFailure=function(o){if(invokeArrayArg$1(o,"dropRequireFailure",this))return this;o=getRecognizerByNameIfManager$1(o,this);var l=inArray$1(this.requireFail,o);return l>-1&&this.requireFail.splice(l,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(o){return!!this.simultaneous[o.id]},e.emit=function(o){var l=this,h=this.state;function y(O){l.manager.emit(O,o)}h<STATE_ENDED$1&&y(l.options.event+stateStr$1(h)),y(l.options.event),o.additionalEvent&&y(o.additionalEvent),h>=STATE_ENDED$1&&y(l.options.event+stateStr$1(h))},e.tryEmit=function(o){if(this.canEmit())return this.emit(o);this.state=STATE_FAILED$1},e.canEmit=function(){for(var o=0;o<this.requireFail.length;){if(!(this.requireFail[o].state&(STATE_FAILED$1|STATE_POSSIBLE$1)))return!1;o++}return!0},e.recognize=function(o){var l=assign$1$1({},o);if(!boolOrFn$1(this.options.enable,[this,l])){this.reset(),this.state=STATE_FAILED$1;return}this.state&(STATE_RECOGNIZED$1|STATE_CANCELLED$1|STATE_FAILED$1)&&(this.state=STATE_POSSIBLE$1),this.state=this.process(l),this.state&(STATE_BEGAN$1|STATE_CHANGED$1|STATE_ENDED$1|STATE_CANCELLED$1)&&this.tryEmit(l)},e.process=function(o){},e.getTouchAction=function(){},e.reset=function(){},r}(),TapRecognizer$1=function(r){_inheritsLoose$1(e,r);function e(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends$1({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},o))||this,l.pTime=!1,l.pCenter=!1,l._timer=null,l._input=null,l.count=0,l}var t=e.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_MANIPULATION$1]},t.process=function(l){var h=this,y=this.options,O=l.pointers.length===y.pointers,D=l.distance<y.threshold,R=l.deltaTime<y.time;if(this.reset(),l.eventType&INPUT_START$1&&this.count===0)return this.failTimeout();if(D&&R&&O){if(l.eventType!==INPUT_END$1)return this.failTimeout();var F=this.pTime?l.timeStamp-this.pTime<y.interval:!0,B=!this.pCenter||getDistance$1(this.pCenter,l.center)<y.posThreshold;this.pTime=l.timeStamp,this.pCenter=l.center,!B||!F?this.count=1:this.count+=1,this._input=l;var j=this.count%y.taps;if(j===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){h.state=STATE_RECOGNIZED$1,h.tryEmit()},y.interval),STATE_BEGAN$1):STATE_RECOGNIZED$1}return STATE_FAILED$1},t.failTimeout=function(){var l=this;return this._timer=setTimeout(function(){l.state=STATE_FAILED$1},this.options.interval),STATE_FAILED$1},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===STATE_RECOGNIZED$1&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Recognizer$1),AttrRecognizer$1=function(r){_inheritsLoose$1(e,r);function e(o){return o===void 0&&(o={}),r.call(this,_extends$1({pointers:1},o))||this}var t=e.prototype;return t.attrTest=function(l){var h=this.options.pointers;return h===0||l.pointers.length===h},t.process=function(l){var h=this.state,y=l.eventType,O=h&(STATE_BEGAN$1|STATE_CHANGED$1),D=this.attrTest(l);return O&&(y&INPUT_CANCEL$1||!D)?h|STATE_CANCELLED$1:O||D?y&INPUT_END$1?h|STATE_ENDED$1:h&STATE_BEGAN$1?h|STATE_CHANGED$1:STATE_BEGAN$1:STATE_FAILED$1},e}(Recognizer$1);function directionStr$1(r){return r===DIRECTION_DOWN$1?"down":r===DIRECTION_UP$1?"up":r===DIRECTION_LEFT$1?"left":r===DIRECTION_RIGHT$1?"right":""}var PanRecognizer$1=function(r){_inheritsLoose$1(e,r);function e(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends$1({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL$1},o))||this,l.pX=null,l.pY=null,l}var t=e.prototype;return t.getTouchAction=function(){var l=this.options.direction,h=[];return l&DIRECTION_HORIZONTAL$1&&h.push(TOUCH_ACTION_PAN_Y$1),l&DIRECTION_VERTICAL$1&&h.push(TOUCH_ACTION_PAN_X$1),h},t.directionTest=function(l){var h=this.options,y=!0,O=l.distance,D=l.direction,R=l.deltaX,F=l.deltaY;return D&h.direction||(h.direction&DIRECTION_HORIZONTAL$1?(D=R===0?DIRECTION_NONE$1:R<0?DIRECTION_LEFT$1:DIRECTION_RIGHT$1,y=R!==this.pX,O=Math.abs(l.deltaX)):(D=F===0?DIRECTION_NONE$1:F<0?DIRECTION_UP$1:DIRECTION_DOWN$1,y=F!==this.pY,O=Math.abs(l.deltaY))),l.direction=D,y&&O>h.threshold&&D&h.direction},t.attrTest=function(l){return AttrRecognizer$1.prototype.attrTest.call(this,l)&&(this.state&STATE_BEGAN$1||!(this.state&STATE_BEGAN$1)&&this.directionTest(l))},t.emit=function(l){this.pX=l.deltaX,this.pY=l.deltaY;var h=directionStr$1(l.direction);h&&(l.additionalEvent=this.options.event+h),r.prototype.emit.call(this,l)},e}(AttrRecognizer$1),SwipeRecognizer$1=function(r){_inheritsLoose$1(e,r);function e(o){return o===void 0&&(o={}),r.call(this,_extends$1({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1,pointers:1},o))||this}var t=e.prototype;return t.getTouchAction=function(){return PanRecognizer$1.prototype.getTouchAction.call(this)},t.attrTest=function(l){var h=this.options.direction,y;return h&(DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1)?y=l.overallVelocity:h&DIRECTION_HORIZONTAL$1?y=l.overallVelocityX:h&DIRECTION_VERTICAL$1&&(y=l.overallVelocityY),r.prototype.attrTest.call(this,l)&&h&l.offsetDirection&&l.distance>this.options.threshold&&l.maxPointers===this.options.pointers&&abs$2(y)>this.options.velocity&&l.eventType&INPUT_END$1},t.emit=function(l){var h=directionStr$1(l.offsetDirection);h&&this.manager.emit(this.options.event+h,l),this.manager.emit(this.options.event,l)},e}(AttrRecognizer$1),PinchRecognizer$1=function(r){_inheritsLoose$1(e,r);function e(o){return o===void 0&&(o={}),r.call(this,_extends$1({event:"pinch",threshold:0,pointers:2},o))||this}var t=e.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_NONE$1]},t.attrTest=function(l){return r.prototype.attrTest.call(this,l)&&(Math.abs(l.scale-1)>this.options.threshold||this.state&STATE_BEGAN$1)},t.emit=function(l){if(l.scale!==1){var h=l.scale<1?"in":"out";l.additionalEvent=this.options.event+h}r.prototype.emit.call(this,l)},e}(AttrRecognizer$1),RotateRecognizer$1=function(r){_inheritsLoose$1(e,r);function e(o){return o===void 0&&(o={}),r.call(this,_extends$1({event:"rotate",threshold:0,pointers:2},o))||this}var t=e.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_NONE$1]},t.attrTest=function(l){return r.prototype.attrTest.call(this,l)&&(Math.abs(l.rotation)>this.options.threshold||this.state&STATE_BEGAN$1)},e}(AttrRecognizer$1),PressRecognizer$1=function(r){_inheritsLoose$1(e,r);function e(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends$1({event:"press",pointers:1,time:251,threshold:9},o))||this,l._timer=null,l._input=null,l}var t=e.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_AUTO$1]},t.process=function(l){var h=this,y=this.options,O=l.pointers.length===y.pointers,D=l.distance<y.threshold,R=l.deltaTime>y.time;if(this._input=l,!D||!O||l.eventType&(INPUT_END$1|INPUT_CANCEL$1)&&!R)this.reset();else if(l.eventType&INPUT_START$1)this.reset(),this._timer=setTimeout(function(){h.state=STATE_RECOGNIZED$1,h.tryEmit()},y.time);else if(l.eventType&INPUT_END$1)return STATE_RECOGNIZED$1;return STATE_FAILED$1},t.reset=function(){clearTimeout(this._timer)},t.emit=function(l){this.state===STATE_RECOGNIZED$1&&(l&&l.eventType&INPUT_END$1?this.manager.emit(this.options.event+"up",l):(this._input.timeStamp=now$4(),this.manager.emit(this.options.event,this._input)))},e}(Recognizer$1),defaults$1={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE$1,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},preset$1=[[RotateRecognizer$1,{enable:!1}],[PinchRecognizer$1,{enable:!1},["rotate"]],[SwipeRecognizer$1,{direction:DIRECTION_HORIZONTAL$1}],[PanRecognizer$1,{direction:DIRECTION_HORIZONTAL$1},["swipe"]],[TapRecognizer$1],[TapRecognizer$1,{event:"doubletap",taps:2},["tap"]],[PressRecognizer$1]],STOP$1=1,FORCED_STOP$1=2;function toggleCssProps$1(r,e){var t=r.element;if(!!t.style){var o;each$1(r.options.cssProps,function(l,h){o=prefixed$1(t.style,h),e?(r.oldCssProps[o]=t.style[o],t.style[o]=l):t.style[o]=r.oldCssProps[o]||""}),e||(r.oldCssProps={})}}function triggerDomEvent$1(r,e){var t=document.createEvent("Event");t.initEvent(r,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var Manager$1=function(){function r(t,o){var l=this;this.options=assign$1$1({},defaults$1,o||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=createInputInstance$1(this),this.touchAction=new TouchAction$1(this,this.options.touchAction),toggleCssProps$1(this,!0),each$1(this.options.recognizers,function(h){var y=l.add(new h[0](h[1]));h[2]&&y.recognizeWith(h[2]),h[3]&&y.requireFailure(h[3])},this)}var e=r.prototype;return e.set=function(o){return assign$1$1(this.options,o),o.touchAction&&this.touchAction.update(),o.inputTarget&&(this.input.destroy(),this.input.target=o.inputTarget,this.input.init()),this},e.stop=function(o){this.session.stopped=o?FORCED_STOP$1:STOP$1},e.recognize=function(o){var l=this.session;if(!l.stopped){this.touchAction.preventDefaults(o);var h,y=this.recognizers,O=l.curRecognizer;(!O||O&&O.state&STATE_RECOGNIZED$1)&&(l.curRecognizer=null,O=null);for(var D=0;D<y.length;)h=y[D],l.stopped!==FORCED_STOP$1&&(!O||h===O||h.canRecognizeWith(O))?h.recognize(o):h.reset(),!O&&h.state&(STATE_BEGAN$1|STATE_CHANGED$1|STATE_ENDED$1)&&(l.curRecognizer=h,O=h),D++}},e.get=function(o){if(o instanceof Recognizer$1)return o;for(var l=this.recognizers,h=0;h<l.length;h++)if(l[h].options.event===o)return l[h];return null},e.add=function(o){if(invokeArrayArg$1(o,"add",this))return this;var l=this.get(o.options.event);return l&&this.remove(l),this.recognizers.push(o),o.manager=this,this.touchAction.update(),o},e.remove=function(o){if(invokeArrayArg$1(o,"remove",this))return this;var l=this.get(o);if(o){var h=this.recognizers,y=inArray$1(h,l);y!==-1&&(h.splice(y,1),this.touchAction.update())}return this},e.on=function(o,l){if(o===void 0||l===void 0)return this;var h=this.handlers;return each$1(splitStr$1(o),function(y){h[y]=h[y]||[],h[y].push(l)}),this},e.off=function(o,l){if(o===void 0)return this;var h=this.handlers;return each$1(splitStr$1(o),function(y){l?h[y]&&h[y].splice(inArray$1(h[y],l),1):delete h[y]}),this},e.emit=function(o,l){this.options.domEvents&&triggerDomEvent$1(o,l);var h=this.handlers[o]&&this.handlers[o].slice();if(!(!h||!h.length)){l.type=o,l.preventDefault=function(){l.srcEvent.preventDefault()};for(var y=0;y<h.length;)h[y](l),y++}},e.destroy=function(){this.element&&toggleCssProps$1(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),SINGLE_TOUCH_INPUT_MAP$1={touchstart:INPUT_START$1,touchmove:INPUT_MOVE$1,touchend:INPUT_END$1,touchcancel:INPUT_CANCEL$1},SINGLE_TOUCH_TARGET_EVENTS$1="touchstart",SINGLE_TOUCH_WINDOW_EVENTS$1="touchstart touchmove touchend touchcancel",SingleTouchInput$1=function(r){_inheritsLoose$1(e,r);function e(){var o,l=e.prototype;return l.evTarget=SINGLE_TOUCH_TARGET_EVENTS$1,l.evWin=SINGLE_TOUCH_WINDOW_EVENTS$1,o=r.apply(this,arguments)||this,o.started=!1,o}var t=e.prototype;return t.handler=function(l){var h=SINGLE_TOUCH_INPUT_MAP$1[l.type];if(h===INPUT_START$1&&(this.started=!0),!!this.started){var y=normalizeSingleTouches$1.call(this,l,h);h&(INPUT_END$1|INPUT_CANCEL$1)&&y[0].length-y[1].length===0&&(this.started=!1),this.callback(this.manager,h,{pointers:y[0],changedPointers:y[1],pointerType:INPUT_TYPE_TOUCH$1,srcEvent:l})}},e}(Input$1);function normalizeSingleTouches$1(r,e){var t=toArray$1(r.touches),o=toArray$1(r.changedTouches);return e&(INPUT_END$1|INPUT_CANCEL$1)&&(t=uniqueArray$1(t.concat(o),"identifier",!0)),[t,o]}function deprecate$1(r,e,t){var o="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var l=new Error("get-stack-trace"),h=l&&l.stack?l.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",y=window.console&&(window.console.warn||window.console.log);return y&&y.call(window.console,o,h),r.apply(this,arguments)}}var extend$1=deprecate$1(function(r,e,t){for(var o=Object.keys(e),l=0;l<o.length;)(!t||t&&r[o[l]]===void 0)&&(r[o[l]]=e[o[l]]),l++;return r},"extend","Use `assign`."),merge$1$1=deprecate$1(function(r,e){return extend$1(r,e,!0)},"merge","Use `assign`.");function inherit$1(r,e,t){var o=e.prototype,l;l=r.prototype=Object.create(o),l.constructor=r,l._super=o,t&&assign$1$1(l,t)}function bindFn$1(r,e){return function(){return r.apply(e,arguments)}}var Hammer$3=function(){var r=function(t,o){return o===void 0&&(o={}),new Manager$1(t,_extends$1({recognizers:preset$1.concat()},o))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=DIRECTION_ALL$1,r.DIRECTION_DOWN=DIRECTION_DOWN$1,r.DIRECTION_LEFT=DIRECTION_LEFT$1,r.DIRECTION_RIGHT=DIRECTION_RIGHT$1,r.DIRECTION_UP=DIRECTION_UP$1,r.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL$1,r.DIRECTION_VERTICAL=DIRECTION_VERTICAL$1,r.DIRECTION_NONE=DIRECTION_NONE$1,r.DIRECTION_DOWN=DIRECTION_DOWN$1,r.INPUT_START=INPUT_START$1,r.INPUT_MOVE=INPUT_MOVE$1,r.INPUT_END=INPUT_END$1,r.INPUT_CANCEL=INPUT_CANCEL$1,r.STATE_POSSIBLE=STATE_POSSIBLE$1,r.STATE_BEGAN=STATE_BEGAN$1,r.STATE_CHANGED=STATE_CHANGED$1,r.STATE_ENDED=STATE_ENDED$1,r.STATE_RECOGNIZED=STATE_RECOGNIZED$1,r.STATE_CANCELLED=STATE_CANCELLED$1,r.STATE_FAILED=STATE_FAILED$1,r.Manager=Manager$1,r.Input=Input$1,r.TouchAction=TouchAction$1,r.TouchInput=TouchInput$1,r.MouseInput=MouseInput$1,r.PointerEventInput=PointerEventInput$1,r.TouchMouseInput=TouchMouseInput$1,r.SingleTouchInput=SingleTouchInput$1,r.Recognizer=Recognizer$1,r.AttrRecognizer=AttrRecognizer$1,r.Tap=TapRecognizer$1,r.Pan=PanRecognizer$1,r.Swipe=SwipeRecognizer$1,r.Pinch=PinchRecognizer$1,r.Rotate=RotateRecognizer$1,r.Press=PressRecognizer$1,r.on=addEventListeners$1,r.off=removeEventListeners$1,r.each=each$1,r.merge=merge$1$1,r.extend=extend$1,r.bindFn=bindFn$1,r.assign=assign$1$1,r.inherit=inherit$1,r.bindFn=bindFn$1,r.prefixed=prefixed$1,r.toArray=toArray$1,r.inArray=inArray$1,r.uniqueArray=uniqueArray$1,r.splitStr=splitStr$1,r.boolOrFn=boolOrFn$1,r.hasParent=hasParent$1,r.addEventListeners=addEventListeners$1,r.removeEventListeners=removeEventListeners$1,r.defaults=assign$1$1({},defaults$1,{preset:preset$1}),r}(),RealHammer$1=Hammer$3;function _createForOfIteratorHelper$3$1(r,e){var t=typeof symbol$6!="undefined"&&getIteratorMethod$1$1(r)||r["@@iterator"];if(!t){if(isArray$1$1(r)||(t=_unsupportedIterableToArray$3$1(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$3$1(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$3$1(r,e);var o=slice$7(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3$1(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$3$1(r,e)}}function _arrayLikeToArray$3$1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var DELETE=symbol$6("DELETE");function pureDeepObjectAssign(r){for(var e,t=arguments.length,o=new Array(t>1?t-1:0),l=1;l<t;l++)o[l-1]=arguments[l];return deepObjectAssign.apply(void 0,concat$1$1(e=[{},r]).call(e,o))}function deepObjectAssign(){var r=deepObjectAssignNonentry.apply(void 0,arguments);return stripDelete(r),r}function deepObjectAssignNonentry(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2){var o;return deepObjectAssignNonentry.apply(void 0,concat$1$1(o=[deepObjectAssign(e[0],e[1])]).call(o,_toConsumableArray$1(slice$7(e).call(e,2))))}var l=e[0],h=e[1],y=_createForOfIteratorHelper$3$1(ownKeys$1$1(h)),O;try{for(y.s();!(O=y.n()).done;){var D=O.value;Object.prototype.propertyIsEnumerable.call(h,D)&&(h[D]===DELETE?delete l[D]:l[D]!==null&&h[D]!==null&&_typeof$1(l[D])==="object"&&_typeof$1(h[D])==="object"&&!isArray$1$1(l[D])&&!isArray$1$1(h[D])?l[D]=deepObjectAssignNonentry(l[D],h[D]):l[D]=clone(h[D]))}}catch(R){y.e(R)}finally{y.f()}return l}function clone(r){return isArray$1$1(r)?map$3$1(r).call(r,function(e){return clone(e)}):_typeof$1(r)==="object"&&r!==null?deepObjectAssignNonentry({},r):r}function stripDelete(r){for(var e=0,t=keys$4(r);e<t.length;e++){var o=t[e];r[o]===DELETE?delete r[o]:_typeof$1(r[o])==="object"&&r[o]!==null&&stripDelete(r[o])}}function hammerMock$1(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get:function(){return{set:r}}}}var Hammer$1$1=typeof window!="undefined"?window.Hammer||RealHammer$1:function(){return hammerMock$1()};function Activator$1$1(r){var e=this,t;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){e._dom.overlay.parentNode.removeChild(e._dom.overlay)});var o=Hammer$1$1(this._dom.overlay);o.on("tap",bind$6$1(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){o.destroy()});var l=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];forEach$1$1(l).call(l,function(h){o.on(h,function(y){y.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(h){_hasParent$1(h.target,r)||e.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",e._onClick)})),this._escListener=function(h){("key"in h?h.key==="Escape":h.keyCode===27)&&e.deactivate()}}Emitter$1(Activator$1$1.prototype);Activator$1$1.current=null;Activator$1$1.prototype.destroy=function(){var r,e;this.deactivate();var t=_createForOfIteratorHelper$3$1(reverse$4(r=splice$5(e=this._cleanupQueue).call(e,0)).call(r)),o;try{for(t.s();!(o=t.n()).done;){var l=o.value;l()}}catch(h){t.e(h)}finally{t.f()}};Activator$1$1.prototype.activate=function(){Activator$1$1.current&&Activator$1$1.current.deactivate(),Activator$1$1.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Activator$1$1.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Activator$1$1.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function _hasParent$1(r,e){for(;r;){if(r===e)return!0;r=r.parentNode}return!1}var global$4$1=global$M$1,isConstructor$5=isConstructor$4$1,tryToString$1$1=tryToString$4$1,TypeError$3$1=global$4$1.TypeError,aConstructor$1$1=function(r){if(isConstructor$5(r))return r;throw TypeError$3$1(tryToString$1$1(r)+" is not a constructor")},$$5$1=_export$1,getBuiltIn$1$1=getBuiltIn$9$1,apply$7=functionApply$1,bind$2$1=functionBind$1,aConstructor$2=aConstructor$1$1,anObject$1$1=anObject$b$1,isObject$3$1=isObject$f$1,create$4$1=objectCreate$1,fails$5$1=fails$r$1,nativeConstruct$1=getBuiltIn$1$1("Reflect","construct"),ObjectPrototype$3=Object.prototype,push$1$1=[].push,NEW_TARGET_BUG$1=fails$5$1(function(){function r(){}return!(nativeConstruct$1(function(){},[],r)instanceof r)}),ARGS_BUG$1=!fails$5$1(function(){nativeConstruct$1(function(){})}),FORCED$1$1=NEW_TARGET_BUG$1||ARGS_BUG$1;$$5$1({target:"Reflect",stat:!0,forced:FORCED$1$1,sham:FORCED$1$1},{construct:function r(e,t){aConstructor$2(e),anObject$1$1(t);var o=arguments.length<3?e:aConstructor$2(arguments[2]);if(ARGS_BUG$1&&!NEW_TARGET_BUG$1)return nativeConstruct$1(e,t,o);if(e==o){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var l=[null];return apply$7(push$1$1,l,t),new(apply$7(bind$2$1,e,l))}var h=o.prototype,y=create$4$1(isObject$3$1(h)?h:ObjectPrototype$3),O=apply$7(e,y,t);return isObject$3$1(O)?O:y}});var path$3$1=path$q$1,construct$2$1=path$3$1.Reflect.construct,parent$h$1=construct$2$1,construct$1$1=parent$h$1,construct$5=construct$1$1;function _assertThisInitialized$2(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var parent$g$1=create$6$1,create$3$1=parent$g$1,parent$f$1=create$3$1,create$2$1=parent$f$1,create$1$1=create$2$1,$$4$1=_export$1,setPrototypeOf$5$1=objectSetPrototypeOf$1;$$4$1({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$5$1});var path$2$1=path$q$1,setPrototypeOf$4$1=path$2$1.Object.setPrototypeOf,parent$e$1=setPrototypeOf$4$1,setPrototypeOf$3$1=parent$e$1,parent$d$1=setPrototypeOf$3$1,setPrototypeOf$2$1=parent$d$1,parent$c$1=setPrototypeOf$2$1,setPrototypeOf$1$1=parent$c$1,setPrototypeOf$6=setPrototypeOf$1$1;function _setPrototypeOf$1(r,e){return _setPrototypeOf$1=setPrototypeOf$6||function(o,l){return o.__proto__=l,o},_setPrototypeOf$1(r,e)}function _inherits$1(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=create$1$1(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),defineProperty$7$1(r,"prototype",{writable:!1}),e&&_setPrototypeOf$1(r,e)}function _possibleConstructorReturn$1(r,e){if(e&&(_typeof$1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(r)}var parent$b$1=getPrototypeOf$3$1,getPrototypeOf$2$1=parent$b$1,parent$a$1=getPrototypeOf$2$1,getPrototypeOf$1$1=parent$a$1,getPrototypeOf$9=getPrototypeOf$1$1;function _getPrototypeOf$1(r){return _getPrototypeOf$1=setPrototypeOf$6?getPrototypeOf$9:function(t){return t.__proto__||getPrototypeOf$9(t)},_getPrototypeOf$1(r)}var runtime={exports:{}};(function(r){var e=function(t){var o=Object.prototype,l=o.hasOwnProperty,h,y=typeof Symbol=="function"?Symbol:{},O=y.iterator||"@@iterator",D=y.asyncIterator||"@@asyncIterator",R=y.toStringTag||"@@toStringTag";function F(ae,le,me){return Object.defineProperty(ae,le,{value:me,enumerable:!0,configurable:!0,writable:!0}),ae[le]}try{F({},"")}catch{F=function(le,me,ge){return le[me]=ge}}function B(ae,le,me,ge){var fe=le&&le.prototype instanceof Y?le:Y,_e=Object.create(fe.prototype),we=new he(ge||[]);return _e._invoke=ne(ae,me,we),_e}t.wrap=B;function j(ae,le,me){try{return{type:"normal",arg:ae.call(le,me)}}catch(ge){return{type:"throw",arg:ge}}}var U="suspendedStart",W="suspendedYield",G="executing",q="completed",K={};function Y(){}function X(){}function J(){}var Q={};F(Q,O,function(){return this});var Z=Object.getPrototypeOf,ee=Z&&Z(Z(pe([])));ee&&ee!==o&&l.call(ee,O)&&(Q=ee);var te=J.prototype=Y.prototype=Object.create(Q);X.prototype=J,F(te,"constructor",J),F(J,"constructor",X),X.displayName=F(J,R,"GeneratorFunction");function re(ae){["next","throw","return"].forEach(function(le){F(ae,le,function(me){return this._invoke(le,me)})})}t.isGeneratorFunction=function(ae){var le=typeof ae=="function"&&ae.constructor;return le?le===X||(le.displayName||le.name)==="GeneratorFunction":!1},t.mark=function(ae){return Object.setPrototypeOf?Object.setPrototypeOf(ae,J):(ae.__proto__=J,F(ae,R,"GeneratorFunction")),ae.prototype=Object.create(te),ae},t.awrap=function(ae){return{__await:ae}};function ie(ae,le){function me(_e,we,ve,Se){var $e=j(ae[_e],ae,we);if($e.type==="throw")Se($e.arg);else{var be=$e.arg,ye=be.value;return ye&&typeof ye=="object"&&l.call(ye,"__await")?le.resolve(ye.__await).then(function(Oe){me("next",Oe,ve,Se)},function(Oe){me("throw",Oe,ve,Se)}):le.resolve(ye).then(function(Oe){be.value=Oe,ve(be)},function(Oe){return me("throw",Oe,ve,Se)})}}var ge;function fe(_e,we){function ve(){return new le(function(Se,$e){me(_e,we,Se,$e)})}return ge=ge?ge.then(ve,ve):ve()}this._invoke=fe}re(ie.prototype),F(ie.prototype,D,function(){return this}),t.AsyncIterator=ie,t.async=function(ae,le,me,ge,fe){fe===void 0&&(fe=Promise);var _e=new ie(B(ae,le,me,ge),fe);return t.isGeneratorFunction(le)?_e:_e.next().then(function(we){return we.done?we.value:_e.next()})};function ne(ae,le,me){var ge=U;return function(_e,we){if(ge===G)throw new Error("Generator is already running");if(ge===q){if(_e==="throw")throw we;return oe()}for(me.method=_e,me.arg=we;;){var ve=me.delegate;if(ve){var Se=se(ve,me);if(Se){if(Se===K)continue;return Se}}if(me.method==="next")me.sent=me._sent=me.arg;else if(me.method==="throw"){if(ge===U)throw ge=q,me.arg;me.dispatchException(me.arg)}else me.method==="return"&&me.abrupt("return",me.arg);ge=G;var $e=j(ae,le,me);if($e.type==="normal"){if(ge=me.done?q:W,$e.arg===K)continue;return{value:$e.arg,done:me.done}}else $e.type==="throw"&&(ge=q,me.method="throw",me.arg=$e.arg)}}}function se(ae,le){var me=ae.iterator[le.method];if(me===h){if(le.delegate=null,le.method==="throw"){if(ae.iterator.return&&(le.method="return",le.arg=h,se(ae,le),le.method==="throw"))return K;le.method="throw",le.arg=new TypeError("The iterator does not provide a 'throw' method")}return K}var ge=j(me,ae.iterator,le.arg);if(ge.type==="throw")return le.method="throw",le.arg=ge.arg,le.delegate=null,K;var fe=ge.arg;if(!fe)return le.method="throw",le.arg=new TypeError("iterator result is not an object"),le.delegate=null,K;if(fe.done)le[ae.resultName]=fe.value,le.next=ae.nextLoc,le.method!=="return"&&(le.method="next",le.arg=h);else return fe;return le.delegate=null,K}re(te),F(te,R,"Generator"),F(te,O,function(){return this}),F(te,"toString",function(){return"[object Generator]"});function ce(ae){var le={tryLoc:ae[0]};1 in ae&&(le.catchLoc=ae[1]),2 in ae&&(le.finallyLoc=ae[2],le.afterLoc=ae[3]),this.tryEntries.push(le)}function ue(ae){var le=ae.completion||{};le.type="normal",delete le.arg,ae.completion=le}function he(ae){this.tryEntries=[{tryLoc:"root"}],ae.forEach(ce,this),this.reset(!0)}t.keys=function(ae){var le=[];for(var me in ae)le.push(me);return le.reverse(),function ge(){for(;le.length;){var fe=le.pop();if(fe in ae)return ge.value=fe,ge.done=!1,ge}return ge.done=!0,ge}};function pe(ae){if(ae){var le=ae[O];if(le)return le.call(ae);if(typeof ae.next=="function")return ae;if(!isNaN(ae.length)){var me=-1,ge=function fe(){for(;++me<ae.length;)if(l.call(ae,me))return fe.value=ae[me],fe.done=!1,fe;return fe.value=h,fe.done=!0,fe};return ge.next=ge}}return{next:oe}}t.values=pe;function oe(){return{value:h,done:!0}}return he.prototype={constructor:he,reset:function(ae){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(ue),!ae)for(var le in this)le.charAt(0)==="t"&&l.call(this,le)&&!isNaN(+le.slice(1))&&(this[le]=h)},stop:function(){this.done=!0;var ae=this.tryEntries[0],le=ae.completion;if(le.type==="throw")throw le.arg;return this.rval},dispatchException:function(ae){if(this.done)throw ae;var le=this;function me(Se,$e){return _e.type="throw",_e.arg=ae,le.next=Se,$e&&(le.method="next",le.arg=h),!!$e}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var fe=this.tryEntries[ge],_e=fe.completion;if(fe.tryLoc==="root")return me("end");if(fe.tryLoc<=this.prev){var we=l.call(fe,"catchLoc"),ve=l.call(fe,"finallyLoc");if(we&&ve){if(this.prev<fe.catchLoc)return me(fe.catchLoc,!0);if(this.prev<fe.finallyLoc)return me(fe.finallyLoc)}else if(we){if(this.prev<fe.catchLoc)return me(fe.catchLoc,!0)}else if(ve){if(this.prev<fe.finallyLoc)return me(fe.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ae,le){for(var me=this.tryEntries.length-1;me>=0;--me){var ge=this.tryEntries[me];if(ge.tryLoc<=this.prev&&l.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var fe=ge;break}}fe&&(ae==="break"||ae==="continue")&&fe.tryLoc<=le&&le<=fe.finallyLoc&&(fe=null);var _e=fe?fe.completion:{};return _e.type=ae,_e.arg=le,fe?(this.method="next",this.next=fe.finallyLoc,K):this.complete(_e)},complete:function(ae,le){if(ae.type==="throw")throw ae.arg;return ae.type==="break"||ae.type==="continue"?this.next=ae.arg:ae.type==="return"?(this.rval=this.arg=ae.arg,this.method="return",this.next="end"):ae.type==="normal"&&le&&(this.next=le),K},finish:function(ae){for(var le=this.tryEntries.length-1;le>=0;--le){var me=this.tryEntries[le];if(me.finallyLoc===ae)return this.complete(me.completion,me.afterLoc),ue(me),K}},catch:function(ae){for(var le=this.tryEntries.length-1;le>=0;--le){var me=this.tryEntries[le];if(me.tryLoc===ae){var ge=me.completion;if(ge.type==="throw"){var fe=ge.arg;ue(me)}return fe}}throw new Error("illegal catch attempt")},delegateYield:function(ae,le,me){return this.delegate={iterator:pe(ae),resultName:le,nextLoc:me},this.method==="next"&&(this.arg=h),K}},t}(r.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(runtime);var regenerator=runtime.exports,internalMetadata$1={exports:{}},fails$4$1=fails$r$1,arrayBufferNonExtensible$1=fails$4$1(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),fails$3$1=fails$r$1,isObject$2$1=isObject$f$1,classof$3$1=classofRaw$1$1,ARRAY_BUFFER_NON_EXTENSIBLE$1=arrayBufferNonExtensible$1,$isExtensible$1=Object.isExtensible,FAILS_ON_PRIMITIVES$5=fails$3$1(function(){$isExtensible$1(1)}),objectIsExtensible$1=FAILS_ON_PRIMITIVES$5||ARRAY_BUFFER_NON_EXTENSIBLE$1?function r(e){return!isObject$2$1(e)||ARRAY_BUFFER_NON_EXTENSIBLE$1&&classof$3$1(e)=="ArrayBuffer"?!1:$isExtensible$1?$isExtensible$1(e):!0}:$isExtensible$1,fails$2$1=fails$r$1,freezing$1=!fails$2$1(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$3$1=_export$1,uncurryThis$1$1=functionUncurryThis$1,hiddenKeys$7=hiddenKeys$6$1,isObject$1$1=isObject$f$1,hasOwn$3$1=hasOwnProperty_1$1,defineProperty$2$1=objectDefineProperty$1.f,getOwnPropertyNamesModule$3=objectGetOwnPropertyNames$1,getOwnPropertyNamesExternalModule$1=objectGetOwnPropertyNamesExternal$1,isExtensible$2=objectIsExtensible$1,uid$5=uid$4$1,FREEZING$1=freezing$1,REQUIRED$1=!1,METADATA$1=uid$5("meta"),id$3=0,setMetadata$1=function(r){defineProperty$2$1(r,METADATA$1,{value:{objectID:"O"+id$3++,weakData:{}}})},fastKey$1$1=function(r,e){if(!isObject$1$1(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!hasOwn$3$1(r,METADATA$1)){if(!isExtensible$2(r))return"F";if(!e)return"E";setMetadata$1(r)}return r[METADATA$1].objectID},getWeakData$2=function(r,e){if(!hasOwn$3$1(r,METADATA$1)){if(!isExtensible$2(r))return!0;if(!e)return!1;setMetadata$1(r)}return r[METADATA$1].weakData},onFreeze$1=function(r){return FREEZING$1&&REQUIRED$1&&isExtensible$2(r)&&!hasOwn$3$1(r,METADATA$1)&&setMetadata$1(r),r},enable$1=function(){meta$1.enable=function(){},REQUIRED$1=!0;var r=getOwnPropertyNamesModule$3.f,e=uncurryThis$1$1([].splice),t={};t[METADATA$1]=1,r(t).length&&(getOwnPropertyNamesModule$3.f=function(o){for(var l=r(o),h=0,y=l.length;h<y;h++)if(l[h]===METADATA$1){e(l,h,1);break}return l},$$3$1({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule$1.f}))},meta$1=internalMetadata$1.exports={enable:enable$1,fastKey:fastKey$1$1,getWeakData:getWeakData$2,onFreeze:onFreeze$1};hiddenKeys$7[METADATA$1]=!0;var global$3$1=global$M$1,bind$1$1=functionBindContext$1,call$e=functionCall$1,anObject$e=anObject$b$1,tryToString$5=tryToString$4$1,isArrayIteratorMethod$3=isArrayIteratorMethod$2$1,lengthOfArrayLike$1$1=lengthOfArrayLike$d,isPrototypeOf$6$1=objectIsPrototypeOf$1,getIterator$5=getIterator$7,getIteratorMethod$9=getIteratorMethod$8$1,iteratorClose$3=iteratorClose$2$1,TypeError$2$1=global$3$1.TypeError,Result$1=function(r,e){this.stopped=r,this.result=e},ResultPrototype$1=Result$1.prototype,iterate$2$1=function(r,e,t){var o=t&&t.that,l=!!(t&&t.AS_ENTRIES),h=!!(t&&t.IS_ITERATOR),y=!!(t&&t.INTERRUPTED),O=bind$1$1(e,o),D,R,F,B,j,U,W,G=function(K){return D&&iteratorClose$3(D,"normal",K),new Result$1(!0,K)},q=function(K){return l?(anObject$e(K),y?O(K[0],K[1],G):O(K[0],K[1])):y?O(K,G):O(K)};if(h)D=r;else{if(R=getIteratorMethod$9(r),!R)throw TypeError$2$1(tryToString$5(r)+" is not iterable");if(isArrayIteratorMethod$3(R)){for(F=0,B=lengthOfArrayLike$1$1(r);B>F;F++)if(j=q(r[F]),j&&isPrototypeOf$6$1(ResultPrototype$1,j))return j;return new Result$1(!1)}D=getIterator$5(r,R)}for(U=D.next;!(W=call$e(U,D)).done;){try{j=q(W.value)}catch(K){iteratorClose$3(D,"throw",K)}if(typeof j=="object"&&j&&isPrototypeOf$6$1(ResultPrototype$1,j))return j}return new Result$1(!1)},global$2$1=global$M$1,isPrototypeOf$5$1=objectIsPrototypeOf$1,TypeError$1$1=global$2$1.TypeError,anInstance$2$1=function(r,e){if(isPrototypeOf$5$1(e,r))return r;throw TypeError$1$1("Incorrect invocation")},$$2$1=_export$1,global$1$1=global$M$1,InternalMetadataModule$2=internalMetadata$1.exports,fails$1$1=fails$r$1,createNonEnumerableProperty$7=createNonEnumerableProperty$6$1,iterate$1$1=iterate$2$1,anInstance$1$1=anInstance$2$1,isCallable$i=isCallable$h$1,isObject$k=isObject$f$1,setToStringTag$6=setToStringTag$5$1,defineProperty$1$1=objectDefineProperty$1.f,forEach$7=arrayIteration$1.forEach,DESCRIPTORS$2$1=descriptors$1,InternalStateModule$1$1=internalState$1,setInternalState$1$1=InternalStateModule$1$1.set,internalStateGetterFor$1$1=InternalStateModule$1$1.getterFor,collection$2$1=function(r,e,t){var o=r.indexOf("Map")!==-1,l=r.indexOf("Weak")!==-1,h=o?"set":"add",y=global$1$1[r],O=y&&y.prototype,D={},R;if(!DESCRIPTORS$2$1||!isCallable$i(y)||!(l||O.forEach&&!fails$1$1(function(){new y().entries().next()})))R=t.getConstructor(e,r,o,h),InternalMetadataModule$2.enable();else{R=e(function(j,U){setInternalState$1$1(anInstance$1$1(j,F),{type:r,collection:new y}),U!=null&&iterate$1$1(U,j[h],{that:j,AS_ENTRIES:o})});var F=R.prototype,B=internalStateGetterFor$1$1(r);forEach$7(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(j){var U=j=="add"||j=="set";j in O&&!(l&&j=="clear")&&createNonEnumerableProperty$7(F,j,function(W,G){var q=B(this).collection;if(!U&&l&&!isObject$k(W))return j=="get"?void 0:!1;var K=q[j](W===0?0:W,G);return U?this:K})}),l||defineProperty$1$1(F,"size",{configurable:!0,get:function(){return B(this).collection.size}})}return setToStringTag$6(R,r,!1,!0),D[r]=R,$$2$1({global:!0,forced:!0},D),l||t.setStrong(R,r,o),R},redefine$5=redefine$4$1,redefineAll$1$1=function(r,e,t){for(var o in e)t&&t.unsafe&&r[o]?r[o]=e[o]:redefine$5(r,o,e[o],t);return r},getBuiltIn$a=getBuiltIn$9$1,definePropertyModule$5=objectDefineProperty$1,wellKnownSymbol$k=wellKnownSymbol$j$1,DESCRIPTORS$1$1=descriptors$1,SPECIES$4=wellKnownSymbol$k("species"),setSpecies$1$1=function(r){var e=getBuiltIn$a(r),t=definePropertyModule$5.f;DESCRIPTORS$1$1&&e&&!e[SPECIES$4]&&t(e,SPECIES$4,{configurable:!0,get:function(){return this}})},defineProperty$f=objectDefineProperty$1.f,create$b=objectCreate$1,redefineAll$4=redefineAll$1$1,bind$e=functionBindContext$1,anInstance$4=anInstance$2$1,iterate$4=iterate$2$1,defineIterator$4=defineIterator$3$1,setSpecies$2=setSpecies$1$1,DESCRIPTORS$i=descriptors$1,fastKey$2=internalMetadata$1.exports.fastKey,InternalStateModule$6=internalState$1,setInternalState$6=InternalStateModule$6.set,internalStateGetterFor$3=InternalStateModule$6.getterFor,collectionStrong$2$1={getConstructor:function(r,e,t,o){var l=r(function(R,F){anInstance$4(R,h),setInternalState$6(R,{type:e,index:create$b(null),first:void 0,last:void 0,size:0}),DESCRIPTORS$i||(R.size=0),F!=null&&iterate$4(F,R[o],{that:R,AS_ENTRIES:t})}),h=l.prototype,y=internalStateGetterFor$3(e),O=function(R,F,B){var j=y(R),U=D(R,F),W,G;return U?U.value=B:(j.last=U={index:G=fastKey$2(F,!0),key:F,value:B,previous:W=j.last,next:void 0,removed:!1},j.first||(j.first=U),W&&(W.next=U),DESCRIPTORS$i?j.size++:R.size++,G!=="F"&&(j.index[G]=U)),R},D=function(R,F){var B=y(R),j=fastKey$2(F),U;if(j!=="F")return B.index[j];for(U=B.first;U;U=U.next)if(U.key==F)return U};return redefineAll$4(h,{clear:function(){for(var F=this,B=y(F),j=B.index,U=B.first;U;)U.removed=!0,U.previous&&(U.previous=U.previous.next=void 0),delete j[U.index],U=U.next;B.first=B.last=void 0,DESCRIPTORS$i?B.size=0:F.size=0},delete:function(R){var F=this,B=y(F),j=D(F,R);if(j){var U=j.next,W=j.previous;delete B.index[j.index],j.removed=!0,W&&(W.next=U),U&&(U.previous=W),B.first==j&&(B.first=U),B.last==j&&(B.last=W),DESCRIPTORS$i?B.size--:F.size--}return!!j},forEach:function(F){for(var B=y(this),j=bind$e(F,arguments.length>1?arguments[1]:void 0),U;U=U?U.next:B.first;)for(j(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(F){return!!D(this,F)}}),redefineAll$4(h,t?{get:function(F){var B=D(this,F);return B&&B.value},set:function(F,B){return O(this,F===0?0:F,B)}}:{add:function(F){return O(this,F=F===0?0:F,F)}}),DESCRIPTORS$i&&defineProperty$f(h,"size",{get:function(){return y(this).size}}),l},setStrong:function(r,e,t){var o=e+" Iterator",l=internalStateGetterFor$3(e),h=internalStateGetterFor$3(o);defineIterator$4(r,e,function(y,O){setInternalState$6(this,{type:o,target:y,state:l(y),kind:O,last:void 0})},function(){for(var y=h(this),O=y.kind,D=y.last;D&&D.removed;)D=D.previous;return!y.target||!(y.last=D=D?D.next:y.state.first)?(y.target=void 0,{value:void 0,done:!0}):O=="keys"?{value:D.key,done:!1}:O=="values"?{value:D.value,done:!1}:{value:[D.key,D.value],done:!1}},t?"entries":"values",!t,!0),setSpecies$2(e)}},collection$1$1=collection$2$1,collectionStrong$1$1=collectionStrong$2$1;collection$1$1("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1$1);var path$1$1=path$q$1,map$2$1=path$1$1.Map,parent$9$1=map$2$1,map$1$1=parent$9$1,map$7=map$1$1,$$1$1=_export$1,$some$1=arrayIteration$1.some,arrayMethodIsStrict$1$1=arrayMethodIsStrict$5$1,STRICT_METHOD$1$1=arrayMethodIsStrict$1$1("some");$$1$1({target:"Array",proto:!0,forced:!STRICT_METHOD$1$1},{some:function r(e){return $some$1(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$4$1=entryVirtual$k,some$3$1=entryVirtual$4$1("Array").some,isPrototypeOf$4$1=objectIsPrototypeOf$1,method$4$1=some$3$1,ArrayPrototype$4$1=Array.prototype,some$2$1=function(r){var e=r.some;return r===ArrayPrototype$4$1||isPrototypeOf$4$1(ArrayPrototype$4$1,r)&&e===ArrayPrototype$4$1.some?method$4$1:e},parent$8$1=some$2$1,some$1$1=parent$8$1,some$4=some$1$1,entryVirtual$3$1=entryVirtual$k,keys$3$1=entryVirtual$3$1("Array").keys,parent$7$1=keys$3$1,keys$2$1=parent$7$1,classof$2$1=classof$c$1,hasOwn$2$1=hasOwnProperty_1$1,isPrototypeOf$3$1=objectIsPrototypeOf$1,method$3$1=keys$2$1,ArrayPrototype$3$1=Array.prototype,DOMIterables$2$1={DOMTokenList:!0,NodeList:!0},keys$1$1=function(r){var e=r.keys;return r===ArrayPrototype$3$1||isPrototypeOf$3$1(ArrayPrototype$3$1,r)&&e===ArrayPrototype$3$1.keys||hasOwn$2$1(DOMIterables$2$1,classof$2$1(r))?method$3$1:e},keys$8=keys$1$1,arraySlice$6=arraySliceSimple$1,floor$2=Math.floor,mergeSort$1=function(r,e){var t=r.length,o=floor$2(t/2);return t<8?insertionSort$1(r,e):merge$3(r,mergeSort$1(arraySlice$6(r,0,o),e),mergeSort$1(arraySlice$6(r,o),e),e)},insertionSort$1=function(r,e){for(var t=r.length,o=1,l,h;o<t;){for(h=o,l=r[o];h&&e(r[h-1],l)>0;)r[h]=r[--h];h!==o++&&(r[h]=l)}return r},merge$3=function(r,e,t,o){for(var l=e.length,h=t.length,y=0,O=0;y<l||O<h;)r[y+O]=y<l&&O<h?o(e[y],t[O])<=0?e[y++]:t[O++]:y<l?e[y++]:t[O++];return r},arraySort$1=mergeSort$1,userAgent$1$1=engineUserAgent$1,firefox$1=userAgent$1$1.match(/firefox\/(\d+)/i),engineFfVersion$1=!!firefox$1&&+firefox$1[1],UA$1=engineUserAgent$1,engineIsIeOrEdge$1=/MSIE|Trident/.test(UA$1),userAgent$4=engineUserAgent$1,webkit$1=userAgent$4.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion$1=!!webkit$1&&+webkit$1[1],$$J=_export$1,uncurryThis$x=functionUncurryThis$1,aCallable$8=aCallable$7,toObject$f=toObject$e,lengthOfArrayLike$e=lengthOfArrayLike$d,toString$b=toString$7$1,fails$u=fails$r$1,internalSort$1=arraySort$1,arrayMethodIsStrict$7=arrayMethodIsStrict$5$1,FF$1=engineFfVersion$1,IE_OR_EDGE$1=engineIsIeOrEdge$1,V8$1=engineV8Version$1,WEBKIT$1=engineWebkitVersion$1,test$3=[],un$Sort$1=uncurryThis$x(test$3.sort),push$6=uncurryThis$x(test$3.push),FAILS_ON_UNDEFINED$1=fails$u(function(){test$3.sort(void 0)}),FAILS_ON_NULL$1=fails$u(function(){test$3.sort(null)}),STRICT_METHOD$6=arrayMethodIsStrict$7("sort"),STABLE_SORT$1=!fails$u(function(){if(V8$1)return V8$1<70;if(!(FF$1&&FF$1>3)){if(IE_OR_EDGE$1)return!0;if(WEBKIT$1)return WEBKIT$1<603;var r="",e,t,o,l;for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(l=0;l<47;l++)test$3.push({k:t+l,v:o})}for(test$3.sort(function(h,y){return y.v-h.v}),l=0;l<test$3.length;l++)t=test$3[l].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return r!=="DGBEFHACIJK"}}),FORCED$7=FAILS_ON_UNDEFINED$1||!FAILS_ON_NULL$1||!STRICT_METHOD$6||!STABLE_SORT$1,getSortCompare$1=function(r){return function(e,t){return t===void 0?-1:e===void 0?1:r!==void 0?+r(e,t)||0:toString$b(e)>toString$b(t)?1:-1}};$$J({target:"Array",proto:!0,forced:FORCED$7},{sort:function r(e){e!==void 0&&aCallable$8(e);var t=toObject$f(this);if(STABLE_SORT$1)return e===void 0?un$Sort$1(t):un$Sort$1(t,e);var o=[],l=lengthOfArrayLike$e(t),h,y;for(y=0;y<l;y++)y in t&&push$6(o,t[y]);for(internalSort$1(o,getSortCompare$1(e)),h=o.length,y=0;y<h;)t[y]=o[y++];for(;y<l;)delete t[y++];return t}});var entryVirtual$2$1=entryVirtual$k,sort$3$1=entryVirtual$2$1("Array").sort,isPrototypeOf$2$1=objectIsPrototypeOf$1,method$2$1=sort$3$1,ArrayPrototype$2$1=Array.prototype,sort$2$1=function(r){var e=r.sort;return r===ArrayPrototype$2$1||isPrototypeOf$2$1(ArrayPrototype$2$1,r)&&e===ArrayPrototype$2$1.sort?method$2$1:e},parent$6$1=sort$2$1,sort$1$1=parent$6$1,sort$4=sort$1$1,entryVirtual$1$1=entryVirtual$k,values$3$1=entryVirtual$1$1("Array").values,parent$5$1=values$3$1,values$2$1=parent$5$1,classof$1$1=classof$c$1,hasOwn$1$1=hasOwnProperty_1$1,isPrototypeOf$1$1=objectIsPrototypeOf$1,method$1$1=values$2$1,ArrayPrototype$1$1=Array.prototype,DOMIterables$1$1={DOMTokenList:!0,NodeList:!0},values$1$1=function(r){var e=r.values;return r===ArrayPrototype$1$1||isPrototypeOf$1$1(ArrayPrototype$1$1,r)&&e===ArrayPrototype$1$1.values||hasOwn$1$1(DOMIterables$1$1,classof$1$1(r))?method$1$1:e},values$4=values$1$1,iterator$6=iterator$4$1,entryVirtual$l=entryVirtual$k,entries$3=entryVirtual$l("Array").entries,parent$4$1=entries$3,entries$2=parent$4$1,classof$g=classof$c$1,hasOwn$g=hasOwnProperty_1$1,isPrototypeOf$k=objectIsPrototypeOf$1,method$f=entries$2,ArrayPrototype$g=Array.prototype,DOMIterables$5={DOMTokenList:!0,NodeList:!0},entries$1=function(r){var e=r.entries;return r===ArrayPrototype$g||isPrototypeOf$k(ArrayPrototype$g,r)&&e===ArrayPrototype$g.entries||hasOwn$g(DOMIterables$5,classof$g(r))?method$f:e},entries=entries$1,getRandomValues$1,rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}var REGEX$1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(r){return typeof r=="string"&&REGEX$1.test(r)}var byteToHex$1=[];for(var i$1=0;i$1<256;++i$1)byteToHex$1.push((i$1+256).toString(16).substr(1));function stringify$4(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(byteToHex$1[r[e+0]]+byteToHex$1[r[e+1]]+byteToHex$1[r[e+2]]+byteToHex$1[r[e+3]]+"-"+byteToHex$1[r[e+4]]+byteToHex$1[r[e+5]]+"-"+byteToHex$1[r[e+6]]+byteToHex$1[r[e+7]]+"-"+byteToHex$1[r[e+8]]+byteToHex$1[r[e+9]]+"-"+byteToHex$1[r[e+10]]+byteToHex$1[r[e+11]]+byteToHex$1[r[e+12]]+byteToHex$1[r[e+13]]+byteToHex$1[r[e+14]]+byteToHex$1[r[e+15]]).toLowerCase();if(!validate$1(t))throw TypeError("Stringified UUID is invalid");return t}function v4$1(r,e,t){r=r||{};var o=r.random||(r.rng||rng$1)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){t=t||0;for(var l=0;l<16;++l)e[t+l]=o[l];return e}return stringify$4(o)}function isId(r){return typeof r=="string"||typeof r=="number"}var Queue=function(){function r(e){_classCallCheck$1(this,r),_defineProperty$1(this,"delay",void 0),_defineProperty$1(this,"max",void 0),_defineProperty$1(this,"_queue",[]),_defineProperty$1(this,"_timeout",null),_defineProperty$1(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}return _createClass$1(r,[{key:"setOptions",value:function(t){t&&typeof t.delay!="undefined"&&(this.delay=t.delay),t&&typeof t.max!="undefined"&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,o=this._extended.methods,l=0;l<o.length;l++){var h=o[l];h.original?t[h.name]=h.original:delete t[h.name]}this._extended=null}}},{key:"replace",value:function(t,o){var l=this,h=t[o];if(!h)throw new Error("Method "+o+" undefined");t[o]=function(){for(var y=arguments.length,O=new Array(y),D=0;D<y;D++)O[D]=arguments[D];l.queue({args:O,fn:h,context:this})}}},{key:"queue",value:function(t){typeof t=="function"?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=setTimeout$1$1(function(){t.flush()},this.delay))}},{key:"flush",value:function(){var t,o;forEach$1$1(t=splice$5(o=this._queue).call(o,0)).call(t,function(l){l.fn.apply(l.context||l.fn,l.args||[])})}}],[{key:"extend",value:function(t,o){var l=new r(o);if(t.flush!==void 0)throw new Error("Target object already has a property flush");t.flush=function(){l.flush()};var h=[{name:"flush",original:void 0}];if(o&&o.replace)for(var y=0;y<o.replace.length;y++){var O=o.replace[y];h.push({name:O,original:t[O]}),l.replace(t,O)}return l._extended={object:t,methods:h},l}}]),r}(),DataSetPart=function(){function r(){_classCallCheck$1(this,r),_defineProperty$1(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),_defineProperty$1(this,"subscribe",r.prototype.on),_defineProperty$1(this,"unsubscribe",r.prototype.off)}return _createClass$1(r,[{key:"_trigger",value:function(t,o,l){var h,y;if(t==="*")throw new Error("Cannot trigger event *");forEach$1$1(h=concat$1$1(y=[]).call(y,_toConsumableArray$1(this._subscribers[t]),_toConsumableArray$1(this._subscribers["*"]))).call(h,function(O){O(t,o,l!=null?l:null)})}},{key:"on",value:function(t,o){typeof o=="function"&&this._subscribers[t].push(o)}},{key:"off",value:function(t,o){var l;this._subscribers[t]=filter$4(l=this._subscribers[t]).call(l,function(h){return h!==o})}}]),r}(),collection$4=collection$2$1,collectionStrong$3=collectionStrong$2$1;collection$4("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},collectionStrong$3);var path$z=path$q$1,set$2$1=path$z.Set,parent$3$1=set$2$1,set$1$1=parent$3$1,set$4=set$1$1,getIterator$4=getIterator$7,getIterator_1=getIterator$4,parent$2$1=getIterator_1,getIterator$3=parent$2$1,parent$1$1=getIterator$3,getIterator$2$1=parent$1$1,parent$14=getIterator$2$1,getIterator$1$1=parent$14,getIterator$8=getIterator$1$1,_Symbol$iterator;function _createForOfIteratorHelper$2$1(r,e){var t=typeof symbol$6!="undefined"&&getIteratorMethod$1$1(r)||r["@@iterator"];if(!t){if(isArray$1$1(r)||(t=_unsupportedIterableToArray$2$1(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$2$1(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$2$1(r,e);var o=slice$7(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3$1(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$2$1(r,e)}}function _arrayLikeToArray$2$1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}_Symbol$iterator=iterator$6;var DataStream=function(){function r(e){_classCallCheck$1(this,r),_defineProperty$1(this,"_pairs",void 0),this._pairs=e}return _createClass$1(r,[{key:_Symbol$iterator,value:regenerator.mark(function e(){var t,o,l,h,y;return regenerator.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:t=_createForOfIteratorHelper$2$1(this._pairs),D.prev=1,t.s();case 3:if((o=t.n()).done){D.next=9;break}return l=_slicedToArray$1(o.value,2),h=l[0],y=l[1],D.next=7,[h,y];case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),t.e(D.t0);case 14:return D.prev=14,t.f(),D.finish(14);case 17:case"end":return D.stop()}},e,this,[[1,11,14,17]])})},{key:"entries",value:regenerator.mark(function e(){var t,o,l,h,y;return regenerator.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:t=_createForOfIteratorHelper$2$1(this._pairs),D.prev=1,t.s();case 3:if((o=t.n()).done){D.next=9;break}return l=_slicedToArray$1(o.value,2),h=l[0],y=l[1],D.next=7,[h,y];case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),t.e(D.t0);case 14:return D.prev=14,t.f(),D.finish(14);case 17:case"end":return D.stop()}},e,this,[[1,11,14,17]])})},{key:"keys",value:regenerator.mark(function e(){var t,o,l,h;return regenerator.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:t=_createForOfIteratorHelper$2$1(this._pairs),O.prev=1,t.s();case 3:if((o=t.n()).done){O.next=9;break}return l=_slicedToArray$1(o.value,1),h=l[0],O.next=7,h;case 7:O.next=3;break;case 9:O.next=14;break;case 11:O.prev=11,O.t0=O.catch(1),t.e(O.t0);case 14:return O.prev=14,t.f(),O.finish(14);case 17:case"end":return O.stop()}},e,this,[[1,11,14,17]])})},{key:"values",value:regenerator.mark(function e(){var t,o,l,h;return regenerator.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:t=_createForOfIteratorHelper$2$1(this._pairs),O.prev=1,t.s();case 3:if((o=t.n()).done){O.next=9;break}return l=_slicedToArray$1(o.value,2),h=l[1],O.next=7,h;case 7:O.next=3;break;case 9:O.next=14;break;case 11:O.prev=11,O.t0=O.catch(1),t.e(O.t0);case 14:return O.prev=14,t.f(),O.finish(14);case 17:case"end":return O.stop()}},e,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var t;return map$3$1(t=_toConsumableArray$1(this._pairs)).call(t,function(o){return o[0]})}},{key:"toItemArray",value:function(){var t;return map$3$1(t=_toConsumableArray$1(this._pairs)).call(t,function(o){return o[1]})}},{key:"toEntryArray",value:function(){return _toConsumableArray$1(this._pairs)}},{key:"toObjectMap",value:function(){var t=create$5$1(null),o=_createForOfIteratorHelper$2$1(this._pairs),l;try{for(o.s();!(l=o.n()).done;){var h=_slicedToArray$1(l.value,2),y=h[0],O=h[1];t[y]=O}}catch(D){o.e(D)}finally{o.f()}return t}},{key:"toMap",value:function(){return new map$7(this._pairs)}},{key:"toIdSet",value:function(){return new set$4(this.toIdArray())}},{key:"toItemSet",value:function(){return new set$4(this.toItemArray())}},{key:"cache",value:function(){return new r(_toConsumableArray$1(this._pairs))}},{key:"distinct",value:function(t){var o=new set$4,l=_createForOfIteratorHelper$2$1(this._pairs),h;try{for(l.s();!(h=l.n()).done;){var y=_slicedToArray$1(h.value,2),O=y[0],D=y[1];o.add(t(D,O))}}catch(R){l.e(R)}finally{l.f()}return o}},{key:"filter",value:function(t){var o=this._pairs;return new r(_defineProperty$1({},iterator$6,regenerator.mark(function l(){var h,y,O,D,R;return regenerator.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:h=_createForOfIteratorHelper$2$1(o),B.prev=1,h.s();case 3:if((y=h.n()).done){B.next=10;break}if(O=_slicedToArray$1(y.value,2),D=O[0],R=O[1],!t(R,D)){B.next=8;break}return B.next=8,[D,R];case 8:B.next=3;break;case 10:B.next=15;break;case 12:B.prev=12,B.t0=B.catch(1),h.e(B.t0);case 15:return B.prev=15,h.f(),B.finish(15);case 18:case"end":return B.stop()}},l,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(t){var o=_createForOfIteratorHelper$2$1(this._pairs),l;try{for(o.s();!(l=o.n()).done;){var h=_slicedToArray$1(l.value,2),y=h[0],O=h[1];t(O,y)}}catch(D){o.e(D)}finally{o.f()}}},{key:"map",value:function(t){var o=this._pairs;return new r(_defineProperty$1({},iterator$6,regenerator.mark(function l(){var h,y,O,D,R;return regenerator.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:h=_createForOfIteratorHelper$2$1(o),B.prev=1,h.s();case 3:if((y=h.n()).done){B.next=9;break}return O=_slicedToArray$1(y.value,2),D=O[0],R=O[1],B.next=7,[D,t(R,D)];case 7:B.next=3;break;case 9:B.next=14;break;case 11:B.prev=11,B.t0=B.catch(1),h.e(B.t0);case 14:return B.prev=14,h.f(),B.finish(14);case 17:case"end":return B.stop()}},l,null,[[1,11,14,17]])})))}},{key:"max",value:function(t){var o=getIterator$8(this._pairs),l=o.next();if(l.done)return null;for(var h=l.value[1],y=t(l.value[1],l.value[0]);!(l=o.next()).done;){var O=_slicedToArray$1(l.value,2),D=O[0],R=O[1],F=t(R,D);F>y&&(y=F,h=R)}return h}},{key:"min",value:function(t){var o=getIterator$8(this._pairs),l=o.next();if(l.done)return null;for(var h=l.value[1],y=t(l.value[1],l.value[0]);!(l=o.next()).done;){var O=_slicedToArray$1(l.value,2),D=O[0],R=O[1],F=t(R,D);F<y&&(y=F,h=R)}return h}},{key:"reduce",value:function(t,o){var l=_createForOfIteratorHelper$2$1(this._pairs),h;try{for(l.s();!(h=l.n()).done;){var y=_slicedToArray$1(h.value,2),O=y[0],D=y[1];o=t(o,D,O)}}catch(R){l.e(R)}finally{l.f()}return o}},{key:"sort",value:function(t){var o=this;return new r(_defineProperty$1({},iterator$6,function(){var l;return getIterator$8(sort$4(l=_toConsumableArray$1(o._pairs)).call(l,function(h,y){var O=_slicedToArray$1(h,2),D=O[0],R=O[1],F=_slicedToArray$1(y,2),B=F[0],j=F[1];return t(R,j,D,B)}))}))}}]),r}();function ownKeys$7(r,e){var t=keys$4(r);if(getOwnPropertySymbols$3){var o=getOwnPropertySymbols$3(r);e&&(o=filter$4(o).call(o,function(l){return getOwnPropertyDescriptor$9(r,l).enumerable})),t.push.apply(t,o)}return t}function _objectSpread$4(r){for(var e=1;e<arguments.length;e++){var t,o,l=arguments[e]!=null?arguments[e]:{};e%2?forEach$1$1(t=ownKeys$7(Object(l),!0)).call(t,function(h){_defineProperty$1(r,h,l[h])}):getOwnPropertyDescriptors$3?defineProperties$5(r,getOwnPropertyDescriptors$3(l)):forEach$1$1(o=ownKeys$7(Object(l))).call(o,function(h){defineProperty$4$1(r,h,getOwnPropertyDescriptor$9(l,h))})}return r}function _createForOfIteratorHelper$1$1(r,e){var t=typeof symbol$6!="undefined"&&getIteratorMethod$1$1(r)||r["@@iterator"];if(!t){if(isArray$1$1(r)||(t=_unsupportedIterableToArray$1$1(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$1$1(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$1$1(r,e);var o=slice$7(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3$1(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$1$1(r,e)}}function _arrayLikeToArray$1$1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}function _createSuper$1$1(r){var e=_isNativeReflectConstruct$1$1();return function(){var o=_getPrototypeOf$1(r),l;if(e){var h=_getPrototypeOf$1(this).constructor;l=construct$5(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn$1(this,l)}}function _isNativeReflectConstruct$1$1(){if(typeof Reflect=="undefined"||!construct$5||construct$5.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct$5(Boolean,[],function(){})),!0}catch{return!1}}function ensureFullItem(r,e){return r[e]==null&&(r[e]=v4$1()),r}var DataSet=function(r){_inherits$1(t,r);var e=_createSuper$1$1(t);function t(o,l){var h;return _classCallCheck$1(this,t),h=e.call(this),_defineProperty$1(_assertThisInitialized$2(h),"flush",void 0),_defineProperty$1(_assertThisInitialized$2(h),"length",void 0),_defineProperty$1(_assertThisInitialized$2(h),"_options",void 0),_defineProperty$1(_assertThisInitialized$2(h),"_data",void 0),_defineProperty$1(_assertThisInitialized$2(h),"_idProp",void 0),_defineProperty$1(_assertThisInitialized$2(h),"_queue",null),o&&!isArray$1$1(o)&&(l=o,o=[]),h._options=l||{},h._data=new map$7,h.length=0,h._idProp=h._options.fieldId||"id",o&&o.length&&h.add(o),h.setOptions(l),h}return _createClass$1(t,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(l){l&&l.queue!==void 0&&(l.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Queue.extend(this,{replace:["add","update","remove"]})),l.queue&&_typeof$1(l.queue)==="object"&&this._queue.setOptions(l.queue)))}},{key:"add",value:function(l,h){var y=this,O=[],D;if(isArray$1$1(l)){var R=map$3$1(l).call(l,function(j){return j[y._idProp]});if(some$4(R).call(R,function(j){return y._data.has(j)}))throw new Error("A duplicate id was found in the parameter array.");for(var F=0,B=l.length;F<B;F++)D=this._addItem(l[F]),O.push(D)}else if(l&&_typeof$1(l)==="object")D=this._addItem(l),O.push(D);else throw new Error("Unknown dataType");return O.length&&this._trigger("add",{items:O},h),O}},{key:"update",value:function(l,h){var y=this,O=[],D=[],R=[],F=[],B=this._idProp,j=function(K){var Y=K[B];if(Y!=null&&y._data.has(Y)){var X=K,J=assign$2$1({},y._data.get(Y)),Q=y._updateItem(X);D.push(Q),F.push(X),R.push(J)}else{var Z=y._addItem(K);O.push(Z)}};if(isArray$1$1(l))for(var U=0,W=l.length;U<W;U++)l[U]&&_typeof$1(l[U])==="object"?j(l[U]):console.warn("Ignoring input item, which is not an object at index "+U);else if(l&&_typeof$1(l)==="object")j(l);else throw new Error("Unknown dataType");if(O.length&&this._trigger("add",{items:O},h),D.length){var G={items:D,oldData:R,data:F};this._trigger("update",G,h)}return concat$1$1(O).call(O,D)}},{key:"updateOnly",value:function(l,h){var y,O=this;isArray$1$1(l)||(l=[l]);var D=map$3$1(y=map$3$1(l).call(l,function(F){var B=O._data.get(F[O._idProp]);if(B==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:B,update:F}})).call(y,function(F){var B=F.oldData,j=F.update,U=B[O._idProp],W=pureDeepObjectAssign(B,j);return O._data.set(U,W),{id:U,oldData:B,updatedData:W}});if(D.length){var R={items:map$3$1(D).call(D,function(F){return F.id}),oldData:map$3$1(D).call(D,function(F){return F.oldData}),data:map$3$1(D).call(D,function(F){return F.updatedData})};return this._trigger("update",R,h),R.items}else return[]}},{key:"get",value:function(l,h){var y=void 0,O=void 0,D=void 0;isId(l)?(y=l,D=h):isArray$1$1(l)?(O=l,D=h):D=l;var R=D&&D.returnType==="Object"?"Object":"Array",F=D&&filter$4(D),B=[],j=void 0,U=void 0,W=void 0;if(y!=null)j=this._data.get(y),j&&F&&!F(j)&&(j=void 0);else if(O!=null)for(var G=0,q=O.length;G<q;G++)j=this._data.get(O[G]),j!=null&&(!F||F(j))&&B.push(j);else{var K;U=_toConsumableArray$1(keys$8(K=this._data).call(K));for(var Y=0,X=U.length;Y<X;Y++)W=U[Y],j=this._data.get(W),j!=null&&(!F||F(j))&&B.push(j)}if(D&&D.order&&y==null&&this._sort(B,D.order),D&&D.fields){var J=D.fields;if(y!=null&&j!=null)j=this._filterFields(j,J);else for(var Q=0,Z=B.length;Q<Z;Q++)B[Q]=this._filterFields(B[Q],J)}if(R=="Object"){for(var ee={},te=0,re=B.length;te<re;te++){var ie=B[te],ne=ie[this._idProp];ee[ne]=ie}return ee}else if(y!=null){var se;return(se=j)!==null&&se!==void 0?se:null}else return B}},{key:"getIds",value:function(l){var h=this._data,y=l&&filter$4(l),O=l&&l.order,D=_toConsumableArray$1(keys$8(h).call(h)),R=[];if(y)if(O){for(var F=[],B=0,j=D.length;B<j;B++){var U=D[B],W=this._data.get(U);W!=null&&y(W)&&F.push(W)}this._sort(F,O);for(var G=0,q=F.length;G<q;G++)R.push(F[G][this._idProp])}else for(var K=0,Y=D.length;K<Y;K++){var X=D[K],J=this._data.get(X);J!=null&&y(J)&&R.push(J[this._idProp])}else if(O){for(var Q=[],Z=0,ee=D.length;Z<ee;Z++){var te=D[Z];Q.push(h.get(te))}this._sort(Q,O);for(var re=0,ie=Q.length;re<ie;re++)R.push(Q[re][this._idProp])}else for(var ne=0,se=D.length;ne<se;ne++){var ce=D[ne],ue=h.get(ce);ue!=null&&R.push(ue[this._idProp])}return R}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(l,h){var y=h&&filter$4(h),O=this._data,D=_toConsumableArray$1(keys$8(O).call(O));if(h&&h.order)for(var R=this.get(h),F=0,B=R.length;F<B;F++){var j=R[F],U=j[this._idProp];l(j,U)}else for(var W=0,G=D.length;W<G;W++){var q=D[W],K=this._data.get(q);K!=null&&(!y||y(K))&&l(K,q)}}},{key:"map",value:function(l,h){for(var y=h&&filter$4(h),O=[],D=this._data,R=_toConsumableArray$1(keys$8(D).call(D)),F=0,B=R.length;F<B;F++){var j=R[F],U=this._data.get(j);U!=null&&(!y||y(U))&&O.push(l(U,j))}return h&&h.order&&this._sort(O,h.order),O}},{key:"_filterFields",value:function(l,h){var y;return l&&reduce$4(y=isArray$1$1(h)?h:keys$4(h)).call(y,function(O,D){return O[D]=l[D],O},{})}},{key:"_sort",value:function(l,h){if(typeof h=="string"){var y=h;sort$4(l).call(l,function(O,D){var R=O[y],F=D[y];return R>F?1:R<F?-1:0})}else if(typeof h=="function")sort$4(l).call(l,h);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(l,h){for(var y=[],O=[],D=isArray$1$1(l)?l:[l],R=0,F=D.length;R<F;R++){var B=this._remove(D[R]);if(B){var j=B[this._idProp];j!=null&&(y.push(j),O.push(B))}}return y.length&&this._trigger("remove",{items:y,oldData:O},h),y}},{key:"_remove",value:function(l){var h;if(isId(l)?h=l:l&&_typeof$1(l)==="object"&&(h=l[this._idProp]),h!=null&&this._data.has(h)){var y=this._data.get(h)||null;return this._data.delete(h),--this.length,y}return null}},{key:"clear",value:function(l){for(var h,y=_toConsumableArray$1(keys$8(h=this._data).call(h)),O=[],D=0,R=y.length;D<R;D++)O.push(this._data.get(y[D]));return this._data.clear(),this.length=0,this._trigger("remove",{items:y,oldData:O},l),y}},{key:"max",value:function(l){var h,y=null,O=null,D=_createForOfIteratorHelper$1$1(values$4(h=this._data).call(h)),R;try{for(D.s();!(R=D.n()).done;){var F=R.value,B=F[l];typeof B=="number"&&(O==null||B>O)&&(y=F,O=B)}}catch(j){D.e(j)}finally{D.f()}return y||null}},{key:"min",value:function(l){var h,y=null,O=null,D=_createForOfIteratorHelper$1$1(values$4(h=this._data).call(h)),R;try{for(D.s();!(R=D.n()).done;){var F=R.value,B=F[l];typeof B=="number"&&(O==null||B<O)&&(y=F,O=B)}}catch(j){D.e(j)}finally{D.f()}return y||null}},{key:"distinct",value:function(l){for(var h=this._data,y=_toConsumableArray$1(keys$8(h).call(h)),O=[],D=0,R=0,F=y.length;R<F;R++){for(var B=y[R],j=h.get(B),U=j[l],W=!1,G=0;G<D;G++)if(O[G]==U){W=!0;break}!W&&U!==void 0&&(O[D]=U,D++)}return O}},{key:"_addItem",value:function(l){var h=ensureFullItem(l,this._idProp),y=h[this._idProp];if(this._data.has(y))throw new Error("Cannot add item: item with id "+y+" already exists");return this._data.set(y,h),++this.length,y}},{key:"_updateItem",value:function(l){var h=l[this._idProp];if(h==null)throw new Error("Cannot update item: item has no id (item: "+stringify$1$1(l)+")");var y=this._data.get(h);if(!y)throw new Error("Cannot update item: no item with id "+h+" found");return this._data.set(h,_objectSpread$4(_objectSpread$4({},y),l)),h}},{key:"stream",value:function(l){if(l){var h=this._data;return new DataStream(_defineProperty$1({},iterator$6,regenerator.mark(function O(){var D,R,F,B;return regenerator.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:D=_createForOfIteratorHelper$1$1(l),U.prev=1,D.s();case 3:if((R=D.n()).done){U.next=11;break}if(F=R.value,B=h.get(F),B==null){U.next=9;break}return U.next=9,[F,B];case 9:U.next=3;break;case 11:U.next=16;break;case 13:U.prev=13,U.t0=U.catch(1),D.e(U.t0);case 16:return U.prev=16,D.f(),U.finish(16);case 19:case"end":return U.stop()}},O,null,[[1,13,16,19]])})))}else{var y;return new DataStream(_defineProperty$1({},iterator$6,bind$6$1(y=entries(this._data)).call(y,this._data)))}}}]),t}(DataSetPart);function isDataSetLike(r,e){return _typeof$1(e)==="object"&&e!==null&&r===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof forEach$1$1(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof map$3$1(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function isDataViewLike(r,e){return _typeof$1(e)==="object"&&e!==null&&r===e.idProp&&typeof forEach$1$1(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof map$3$1(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&isDataSetLike(r,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.2
 * @date    2022-03-28T20:13:51.046Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},check=function(r){return r&&r.Math==Math&&r},global$O=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),fails$t=function(r){try{return!!r()}catch{return!0}},fails$s=fails$t,functionBindNative=!fails$s(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),NATIVE_BIND$4=functionBindNative,FunctionPrototype$3=Function.prototype,apply$6=FunctionPrototype$3.apply,call$d=FunctionPrototype$3.call,functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$4?call$d.bind(apply$6):function(){return call$d.apply(apply$6,arguments)}),NATIVE_BIND$3=functionBindNative,FunctionPrototype$2=Function.prototype,bind$c=FunctionPrototype$2.bind,call$c=FunctionPrototype$2.call,uncurryThis$w=NATIVE_BIND$3&&bind$c.bind(call$c,call$c),functionUncurryThis=NATIVE_BIND$3?function(r){return r&&uncurryThis$w(r)}:function(r){return r&&function(){return call$c.apply(r,arguments)}},isCallable$h=function(r){return typeof r=="function"},objectGetOwnPropertyDescriptor={},fails$r=fails$t,descriptors=!fails$r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),NATIVE_BIND$2=functionBindNative,call$b=Function.prototype.call,functionCall=NATIVE_BIND$2?call$b.bind(call$b):function(){return call$b.apply(call$b,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable$2={}.propertyIsEnumerable,getOwnPropertyDescriptor$8=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$8&&!$propertyIsEnumerable$2.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function r(e){var t=getOwnPropertyDescriptor$8(this,e);return!!t&&t.enumerable}:$propertyIsEnumerable$2;var createPropertyDescriptor$5=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}},uncurryThis$v=functionUncurryThis,toString$a=uncurryThis$v({}.toString),stringSlice$1=uncurryThis$v("".slice),classofRaw$1=function(r){return stringSlice$1(toString$a(r),8,-1)},global$N=global$O,uncurryThis$u=functionUncurryThis,fails$q=fails$t,classof$d=classofRaw$1,Object$a=global$N.Object,split=uncurryThis$u("".split),indexedObject=fails$q(function(){return!Object$a("z").propertyIsEnumerable(0)})?function(r){return classof$d(r)=="String"?split(r,""):Object$a(r)}:Object$a,global$M=global$O,TypeError$i=global$M.TypeError,requireObjectCoercible$5=function(r){if(r==null)throw TypeError$i("Can't call method on "+r);return r},IndexedObject$3=indexedObject,requireObjectCoercible$4=requireObjectCoercible$5,toIndexedObject$b=function(r){return IndexedObject$3(requireObjectCoercible$4(r))},isCallable$g=isCallable$h,isObject$j=function(r){return typeof r=="object"?r!==null:isCallable$g(r)},path$y={},path$x=path$y,global$L=global$O,isCallable$f=isCallable$h,aFunction=function(r){return isCallable$f(r)?r:void 0},getBuiltIn$9=function(r,e){return arguments.length<2?aFunction(path$x[r])||aFunction(global$L[r]):path$x[r]&&path$x[r][e]||global$L[r]&&global$L[r][e]},uncurryThis$t=functionUncurryThis,objectIsPrototypeOf=uncurryThis$t({}.isPrototypeOf),getBuiltIn$8=getBuiltIn$9,engineUserAgent=getBuiltIn$8("navigator","userAgent")||"",global$K=global$O,userAgent$3=engineUserAgent,process=global$K.process,Deno=global$K.Deno,versions=process&&process.versions||Deno&&Deno.version,v8=versions&&versions.v8,match,version;v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1]));!version&&userAgent$3&&(match=userAgent$3.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent$3.match(/Chrome\/(\d+)/),match&&(version=+match[1])));var engineV8Version=version,V8_VERSION$2=engineV8Version,fails$p=fails$t,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails$p(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&V8_VERSION$2&&V8_VERSION$2<41}),NATIVE_SYMBOL$2=nativeSymbol,useSymbolAsUid=NATIVE_SYMBOL$2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",global$J=global$O,getBuiltIn$7=getBuiltIn$9,isCallable$e=isCallable$h,isPrototypeOf$j=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,Object$9=global$J.Object,isSymbol$3=USE_SYMBOL_AS_UID$1?function(r){return typeof r=="symbol"}:function(r){var e=getBuiltIn$7("Symbol");return isCallable$e(e)&&isPrototypeOf$j(e.prototype,Object$9(r))},global$I=global$O,String$4=global$I.String,tryToString$4=function(r){try{return String$4(r)}catch{return"Object"}},global$H=global$O,isCallable$d=isCallable$h,tryToString$3=tryToString$4,TypeError$h=global$H.TypeError,aCallable$6=function(r){if(isCallable$d(r))return r;throw TypeError$h(tryToString$3(r)+" is not a function")},aCallable$5=aCallable$6,getMethod$3=function(r,e){var t=r[e];return t==null?void 0:aCallable$5(t)},global$G=global$O,call$a=functionCall,isCallable$c=isCallable$h,isObject$i=isObject$j,TypeError$g=global$G.TypeError,ordinaryToPrimitive$1=function(r,e){var t,o;if(e==="string"&&isCallable$c(t=r.toString)&&!isObject$i(o=call$a(t,r))||isCallable$c(t=r.valueOf)&&!isObject$i(o=call$a(t,r))||e!=="string"&&isCallable$c(t=r.toString)&&!isObject$i(o=call$a(t,r)))return o;throw TypeError$g("Can't convert object to primitive value")},shared$4={exports:{}},global$F=global$O,defineProperty$e=Object.defineProperty,setGlobal$1=function(r,e){try{defineProperty$e(global$F,r,{value:e,configurable:!0,writable:!0})}catch{global$F[r]=e}return e},global$E=global$O,setGlobal=setGlobal$1,SHARED="__core-js_shared__",store$3=global$E[SHARED]||setGlobal(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$4.exports=function(r,e){return store$2[r]||(store$2[r]=e!==void 0?e:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var global$D=global$O,requireObjectCoercible$3=requireObjectCoercible$5,Object$8=global$D.Object,toObject$d=function(r){return Object$8(requireObjectCoercible$3(r))},uncurryThis$s=functionUncurryThis,toObject$c=toObject$d,hasOwnProperty=uncurryThis$s({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function r(e,t){return hasOwnProperty(toObject$c(e),t)},uncurryThis$r=functionUncurryThis,id$2=0,postfix=Math.random(),toString$9=uncurryThis$r(1 .toString),uid$4=function(r){return"Symbol("+(r===void 0?"":r)+")_"+toString$9(++id$2+postfix,36)},global$C=global$O,shared$3=shared$4.exports,hasOwn$f=hasOwnProperty_1,uid$3=uid$4,NATIVE_SYMBOL$1=nativeSymbol,USE_SYMBOL_AS_UID=useSymbolAsUid,WellKnownSymbolsStore$1=shared$3("wks"),Symbol$3=global$C.Symbol,symbolFor=Symbol$3&&Symbol$3.for,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$3:Symbol$3&&Symbol$3.withoutSetter||uid$3,wellKnownSymbol$j=function(r){if(!hasOwn$f(WellKnownSymbolsStore$1,r)||!(NATIVE_SYMBOL$1||typeof WellKnownSymbolsStore$1[r]=="string")){var e="Symbol."+r;NATIVE_SYMBOL$1&&hasOwn$f(Symbol$3,r)?WellKnownSymbolsStore$1[r]=Symbol$3[r]:USE_SYMBOL_AS_UID&&symbolFor?WellKnownSymbolsStore$1[r]=symbolFor(e):WellKnownSymbolsStore$1[r]=createWellKnownSymbol(e)}return WellKnownSymbolsStore$1[r]},global$B=global$O,call$9=functionCall,isObject$h=isObject$j,isSymbol$2=isSymbol$3,getMethod$2=getMethod$3,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$i=wellKnownSymbol$j,TypeError$f=global$B.TypeError,TO_PRIMITIVE$1=wellKnownSymbol$i("toPrimitive"),toPrimitive$1=function(r,e){if(!isObject$h(r)||isSymbol$2(r))return r;var t=getMethod$2(r,TO_PRIMITIVE$1),o;if(t){if(e===void 0&&(e="default"),o=call$9(t,r,e),!isObject$h(o)||isSymbol$2(o))return o;throw TypeError$f("Can't convert object to primitive value")}return e===void 0&&(e="number"),ordinaryToPrimitive(r,e)},toPrimitive=toPrimitive$1,isSymbol$1=isSymbol$3,toPropertyKey$4=function(r){var e=toPrimitive(r,"string");return isSymbol$1(e)?e:e+""},global$A=global$O,isObject$g=isObject$j,document$1=global$A.document,EXISTS$1=isObject$g(document$1)&&isObject$g(document$1.createElement),documentCreateElement$1=function(r){return EXISTS$1?document$1.createElement(r):{}},DESCRIPTORS$h=descriptors,fails$o=fails$t,createElement=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$h&&!fails$o(function(){return Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$g=descriptors,call$8=functionCall,propertyIsEnumerableModule$2=objectPropertyIsEnumerable,createPropertyDescriptor$4=createPropertyDescriptor$5,toIndexedObject$a=toIndexedObject$b,toPropertyKey$3=toPropertyKey$4,hasOwn$e=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$g?$getOwnPropertyDescriptor$2:function r(e,t){if(e=toIndexedObject$a(e),t=toPropertyKey$3(t),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$2(e,t)}catch{}if(hasOwn$e(e,t))return createPropertyDescriptor$4(!call$8(propertyIsEnumerableModule$2.f,e,t),e[t])};var fails$n=fails$t,isCallable$b=isCallable$h,replacement=/#|\.prototype\./,isForced$1=function(r,e){var t=data[normalize(r)];return t==POLYFILL?!0:t==NATIVE?!1:isCallable$b(e)?fails$n(e):!!e},normalize=isForced$1.normalize=function(r){return String(r).replace(replacement,".").toLowerCase()},data=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,uncurryThis$q=functionUncurryThis,aCallable$4=aCallable$6,NATIVE_BIND$1=functionBindNative,bind$b=uncurryThis$q(uncurryThis$q.bind),functionBindContext=function(r,e){return aCallable$4(r),e===void 0?r:NATIVE_BIND$1?bind$b(r,e):function(){return r.apply(e,arguments)}},objectDefineProperty={},DESCRIPTORS$f=descriptors,fails$m=fails$t,v8PrototypeDefineBug=DESCRIPTORS$f&&fails$m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),global$z=global$O,isObject$f=isObject$j,String$3=global$z.String,TypeError$e=global$z.TypeError,anObject$d=function(r){if(isObject$f(r))return r;throw TypeError$e(String$3(r)+" is not an object")},global$y=global$O,DESCRIPTORS$e=descriptors,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$c=anObject$d,toPropertyKey$2=toPropertyKey$4,TypeError$d=global$y.TypeError,$defineProperty$1=Object.defineProperty,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$e?V8_PROTOTYPE_DEFINE_BUG$1?function r(e,t,o){if(anObject$c(e),t=toPropertyKey$2(t),anObject$c(o),typeof e=="function"&&t==="prototype"&&"value"in o&&WRITABLE in o&&!o[WRITABLE]){var l=$getOwnPropertyDescriptor$1(e,t);l&&l[WRITABLE]&&(e[t]=o.value,o={configurable:CONFIGURABLE$1 in o?o[CONFIGURABLE$1]:l[CONFIGURABLE$1],enumerable:ENUMERABLE in o?o[ENUMERABLE]:l[ENUMERABLE],writable:!1})}return $defineProperty$1(e,t,o)}:$defineProperty$1:function r(e,t,o){if(anObject$c(e),t=toPropertyKey$2(t),anObject$c(o),IE8_DOM_DEFINE)try{return $defineProperty$1(e,t,o)}catch{}if("get"in o||"set"in o)throw TypeError$d("Accessors not supported");return"value"in o&&(e[t]=o.value),e};var DESCRIPTORS$d=descriptors,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$3=createPropertyDescriptor$5,createNonEnumerableProperty$6=DESCRIPTORS$d?function(r,e,t){return definePropertyModule$4.f(r,e,createPropertyDescriptor$3(1,t))}:function(r,e,t){return r[e]=t,r},global$x=global$O,apply$5=functionApply,uncurryThis$p=functionUncurryThis,isCallable$a=isCallable$h,getOwnPropertyDescriptor$7=objectGetOwnPropertyDescriptor.f,isForced=isForced_1,path$w=path$y,bind$a=functionBindContext,createNonEnumerableProperty$5=createNonEnumerableProperty$6,hasOwn$d=hasOwnProperty_1,wrapConstructor=function(r){var e=function(t,o,l){if(this instanceof e){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,o)}return new r(t,o,l)}return apply$5(r,this,arguments)};return e.prototype=r.prototype,e},_export=function(r,e){var t=r.target,o=r.global,l=r.stat,h=r.proto,y=o?global$x:l?global$x[t]:(global$x[t]||{}).prototype,O=o?path$w:path$w[t]||createNonEnumerableProperty$5(path$w,t,{})[t],D=O.prototype,R,F,B,j,U,W,G,q,K;for(j in e)R=isForced(o?j:t+(l?".":"#")+j,r.forced),F=!R&&y&&hasOwn$d(y,j),W=O[j],F&&(r.noTargetGet?(K=getOwnPropertyDescriptor$7(y,j),G=K&&K.value):G=y[j]),U=F&&G?G:e[j],!(F&&typeof W==typeof U)&&(r.bind&&F?q=bind$a(U,global$x):r.wrap&&F?q=wrapConstructor(U):h&&isCallable$a(U)?q=uncurryThis$p(U):q=U,(r.sham||U&&U.sham||W&&W.sham)&&createNonEnumerableProperty$5(q,"sham",!0),createNonEnumerableProperty$5(O,j,q),h&&(B=t+"Prototype",hasOwn$d(path$w,B)||createNonEnumerableProperty$5(path$w,B,{}),createNonEnumerableProperty$5(path$w[B],j,U),r.real&&D&&!D[j]&&createNonEnumerableProperty$5(D,j,U)))},ceil=Math.ceil,floor$1=Math.floor,toIntegerOrInfinity$4=function(r){var e=+r;return e!==e||e===0?0:(e>0?floor$1:ceil)(e)},toIntegerOrInfinity$3=toIntegerOrInfinity$4,max$3=Math.max,min$2=Math.min,toAbsoluteIndex$5=function(r,e){var t=toIntegerOrInfinity$3(r);return t<0?max$3(t+e,0):min$2(t,e)},toIntegerOrInfinity$2=toIntegerOrInfinity$4,min$1=Math.min,toLength$1=function(r){return r>0?min$1(toIntegerOrInfinity$2(r),9007199254740991):0},toLength=toLength$1,lengthOfArrayLike$b=function(r){return toLength(r.length)},toIndexedObject$9=toIndexedObject$b,toAbsoluteIndex$4=toAbsoluteIndex$5,lengthOfArrayLike$a=lengthOfArrayLike$b,createMethod$5=function(r){return function(e,t,o){var l=toIndexedObject$9(e),h=lengthOfArrayLike$a(l),y=toAbsoluteIndex$4(o,h),O;if(r&&t!=t){for(;h>y;)if(O=l[y++],O!=O)return!0}else for(;h>y;y++)if((r||y in l)&&l[y]===t)return r||y||0;return!r&&-1}},arrayIncludes={includes:createMethod$5(!0),indexOf:createMethod$5(!1)},hiddenKeys$6={},uncurryThis$o=functionUncurryThis,hasOwn$c=hasOwnProperty_1,toIndexedObject$8=toIndexedObject$b,indexOf$4=arrayIncludes.indexOf,hiddenKeys$5=hiddenKeys$6,push$5=uncurryThis$o([].push),objectKeysInternal=function(r,e){var t=toIndexedObject$8(r),o=0,l=[],h;for(h in t)!hasOwn$c(hiddenKeys$5,h)&&hasOwn$c(t,h)&&push$5(l,h);for(;e.length>o;)hasOwn$c(t,h=e[o++])&&(~indexOf$4(l,h)||push$5(l,h));return l},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,objectKeys$4=Object.keys||function r(e){return internalObjectKeys$1(e,enumBugKeys$2)},objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var DESCRIPTORS$c=descriptors,uncurryThis$n=functionUncurryThis,call$7=functionCall,fails$l=fails$t,objectKeys$3=objectKeys$4,getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,toObject$b=toObject$d,IndexedObject$2=indexedObject,$assign=Object.assign,defineProperty$d=Object.defineProperty,concat$6=uncurryThis$n([].concat),objectAssign=!$assign||fails$l(function(){if(DESCRIPTORS$c&&$assign({b:1},$assign(defineProperty$d({},"a",{enumerable:!0,get:function(){defineProperty$d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},e={},t=Symbol(),o="abcdefghijklmnopqrst";return r[t]=7,o.split("").forEach(function(l){e[l]=l}),$assign({},r)[t]!=7||objectKeys$3($assign({},e)).join("")!=o})?function r(e,t){for(var o=toObject$b(e),l=arguments.length,h=1,y=getOwnPropertySymbolsModule$2.f,O=propertyIsEnumerableModule$1.f;l>h;)for(var D=IndexedObject$2(arguments[h++]),R=y?concat$6(objectKeys$3(D),y(D)):objectKeys$3(D),F=R.length,B=0,j;F>B;)j=R[B++],(!DESCRIPTORS$c||call$7(O,D,j))&&(o[j]=D[j]);return o}:$assign,$$I=_export,assign$5=objectAssign;$$I({target:"Object",stat:!0,forced:Object.assign!==assign$5},{assign:assign$5});var path$v=path$y,assign$4=path$v.Object.assign,parent$13=assign$4,assign$3=parent$13,assign$2=assign$3,uncurryThis$m=functionUncurryThis,arraySlice$5=uncurryThis$m([].slice),global$w=global$O,uncurryThis$l=functionUncurryThis,aCallable$3=aCallable$6,isObject$e=isObject$j,hasOwn$b=hasOwnProperty_1,arraySlice$4=arraySlice$5,NATIVE_BIND=functionBindNative,Function$2=global$w.Function,concat$5=uncurryThis$l([].concat),join=uncurryThis$l([].join),factories={},construct$4=function(r,e,t){if(!hasOwn$b(factories,e)){for(var o=[],l=0;l<e;l++)o[l]="a["+l+"]";factories[e]=Function$2("C,a","return new C("+join(o,",")+")")}return factories[e](r,t)},functionBind=NATIVE_BIND?Function$2.bind:function r(e){var t=aCallable$3(this),o=t.prototype,l=arraySlice$4(arguments,1),h=function(){var O=concat$5(l,arraySlice$4(arguments));return this instanceof h?construct$4(t,O.length,O):t.apply(e,O)};return isObject$e(o)&&(h.prototype=o),h},$$H=_export,bind$9=functionBind;$$H({target:"Function",proto:!0,forced:Function.bind!==bind$9},{bind:bind$9});var path$u=path$y,entryVirtual$i=function(r){return path$u[r+"Prototype"]},entryVirtual$h=entryVirtual$i,bind$8=entryVirtual$h("Function").bind,isPrototypeOf$i=objectIsPrototypeOf,method$e=bind$8,FunctionPrototype$1=Function.prototype,bind$7=function(r){var e=r.bind;return r===FunctionPrototype$1||isPrototypeOf$i(FunctionPrototype$1,r)&&e===FunctionPrototype$1.bind?method$e:e},parent$12=bind$7,bind$6=parent$12,bind$5=bind$6;function drawCircle(r,e,t,o){r.beginPath(),r.arc(e,t,o,0,2*Math.PI,!1),r.closePath()}function drawSquare(r,e,t,o){r.beginPath(),r.rect(e-o,t-o,o*2,o*2),r.closePath()}function drawTriangle(r,e,t,o){r.beginPath(),o*=1.15,t+=.275*o;var l=o*2,h=l/2,y=Math.sqrt(3)/6*l,O=Math.sqrt(l*l-h*h);r.moveTo(e,t-(O-y)),r.lineTo(e+h,t+y),r.lineTo(e-h,t+y),r.lineTo(e,t-(O-y)),r.closePath()}function drawTriangleDown(r,e,t,o){r.beginPath(),o*=1.15,t-=.275*o;var l=o*2,h=l/2,y=Math.sqrt(3)/6*l,O=Math.sqrt(l*l-h*h);r.moveTo(e,t+(O-y)),r.lineTo(e+h,t-y),r.lineTo(e-h,t-y),r.lineTo(e,t+(O-y)),r.closePath()}function drawStar(r,e,t,o){r.beginPath(),o*=.82,t+=.1*o;for(var l=0;l<10;l++){var h=l%2===0?o*1.3:o*.5;r.lineTo(e+h*Math.sin(l*2*Math.PI/10),t-h*Math.cos(l*2*Math.PI/10))}r.closePath()}function drawDiamond(r,e,t,o){r.beginPath(),r.lineTo(e,t+o),r.lineTo(e+o,t),r.lineTo(e,t-o),r.lineTo(e-o,t),r.closePath()}function drawRoundRect(r,e,t,o,l,h){var y=Math.PI/180;o-2*h<0&&(h=o/2),l-2*h<0&&(h=l/2),r.beginPath(),r.moveTo(e+h,t),r.lineTo(e+o-h,t),r.arc(e+o-h,t+h,h,y*270,y*360,!1),r.lineTo(e+o,t+l-h),r.arc(e+o-h,t+l-h,h,0,y*90,!1),r.lineTo(e+h,t+l),r.arc(e+h,t+l-h,h,y*90,y*180,!1),r.lineTo(e,t+h),r.arc(e+h,t+h,h,y*180,y*270,!1),r.closePath()}function drawEllipse(r,e,t,o,l){var h=.5522848,y=o/2*h,O=l/2*h,D=e+o,R=t+l,F=e+o/2,B=t+l/2;r.beginPath(),r.moveTo(e,B),r.bezierCurveTo(e,B-O,F-y,t,F,t),r.bezierCurveTo(F+y,t,D,B-O,D,B),r.bezierCurveTo(D,B+O,F+y,R,F,R),r.bezierCurveTo(F-y,R,e,B+O,e,B),r.closePath()}function drawDatabase(r,e,t,o,l){var h=.3333333333333333,y=o,O=l*h,D=.5522848,R=y/2*D,F=O/2*D,B=e+y,j=t+O,U=e+y/2,W=t+O/2,G=t+(l-O/2),q=t+l;r.beginPath(),r.moveTo(B,W),r.bezierCurveTo(B,W+F,U+R,j,U,j),r.bezierCurveTo(U-R,j,e,W+F,e,W),r.bezierCurveTo(e,W-F,U-R,t,U,t),r.bezierCurveTo(U+R,t,B,W-F,B,W),r.lineTo(B,G),r.bezierCurveTo(B,G+F,U+R,q,U,q),r.bezierCurveTo(U-R,q,e,G+F,e,G),r.lineTo(e,W)}function drawDashedLine(r,e,t,o,l,h){r.beginPath(),r.moveTo(e,t);for(var y=h.length,O=o-e,D=l-t,R=D/O,F=Math.sqrt(O*O+D*D),B=0,j=!0,U=0,W=+h[0];F>=.1;)W=+h[B++%y],W>F&&(W=F),U=Math.sqrt(W*W/(1+R*R)),U=O<0?-U:U,e+=U,t+=R*U,j===!0?r.lineTo(e,t):r.moveTo(e,t),F-=W,j=!j}function drawHexagon(r,e,t,o){r.beginPath();var l=6,h=Math.PI*2/l;r.moveTo(e+o,t);for(var y=1;y<l;y++)r.lineTo(e+o*Math.cos(h*y),t+o*Math.sin(h*y));r.closePath()}var shapeMap={circle:drawCircle,dashedLine:drawDashedLine,database:drawDatabase,diamond:drawDiamond,ellipse:drawEllipse,ellipse_vis:drawEllipse,hexagon:drawHexagon,roundRect:drawRoundRect,square:drawSquare,star:drawStar,triangle:drawTriangle,triangleDown:drawTriangleDown};function getShape(r){return Object.prototype.hasOwnProperty.call(shapeMap,r)?shapeMap[r]:function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),l=1;l<t;l++)o[l-1]=arguments[l];CanvasRenderingContext2D.prototype[r].call(e,o)}}var componentEmitter={exports:{}};(function(r){r.exports=e;function e(o){if(o)return t(o)}function t(o){for(var l in e.prototype)o[l]=e.prototype[l];return o}e.prototype.on=e.prototype.addEventListener=function(o,l){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(l),this},e.prototype.once=function(o,l){function h(){this.off(o,h),l.apply(this,arguments)}return h.fn=l,this.on(o,h),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(o,l){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var h=this._callbacks["$"+o];if(!h)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var y,O=0;O<h.length;O++)if(y=h[O],y===l||y.fn===l){h.splice(O,1);break}return h.length===0&&delete this._callbacks["$"+o],this},e.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var l=new Array(arguments.length-1),h=this._callbacks["$"+o],y=1;y<arguments.length;y++)l[y-1]=arguments[y];if(h){h=h.slice(0);for(var y=0,O=h.length;y<O;++y)h[y].apply(this,l)}return this},e.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},e.prototype.hasListeners=function(o){return!!this.listeners(o).length}})(componentEmitter);var Emitter=componentEmitter.exports,wellKnownSymbol$h=wellKnownSymbol$j,TO_STRING_TAG$3=wellKnownSymbol$h("toStringTag"),test$2={};test$2[TO_STRING_TAG$3]="z";var toStringTagSupport=String(test$2)==="[object z]",global$v=global$O,TO_STRING_TAG_SUPPORT$2=toStringTagSupport,isCallable$9=isCallable$h,classofRaw=classofRaw$1,wellKnownSymbol$g=wellKnownSymbol$j,TO_STRING_TAG$2=wellKnownSymbol$g("toStringTag"),Object$7=global$v.Object,CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments",tryGet=function(r,e){try{return r[e]}catch{}},classof$c=TO_STRING_TAG_SUPPORT$2?classofRaw:function(r){var e,t,o;return r===void 0?"Undefined":r===null?"Null":typeof(t=tryGet(e=Object$7(r),TO_STRING_TAG$2))=="string"?t:CORRECT_ARGUMENTS?classofRaw(e):(o=classofRaw(e))=="Object"&&isCallable$9(e.callee)?"Arguments":o},global$u=global$O,classof$b=classof$c,String$2=global$u.String,toString$8=function(r){if(classof$b(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String$2(r)},uncurryThis$k=functionUncurryThis,toIntegerOrInfinity$1=toIntegerOrInfinity$4,toString$7=toString$8,requireObjectCoercible$2=requireObjectCoercible$5,charAt$3=uncurryThis$k("".charAt),charCodeAt$1=uncurryThis$k("".charCodeAt),stringSlice=uncurryThis$k("".slice),createMethod$4=function(r){return function(e,t){var o=toString$7(requireObjectCoercible$2(e)),l=toIntegerOrInfinity$1(t),h=o.length,y,O;return l<0||l>=h?r?"":void 0:(y=charCodeAt$1(o,l),y<55296||y>56319||l+1===h||(O=charCodeAt$1(o,l+1))<56320||O>57343?r?charAt$3(o,l):y:r?stringSlice(o,l,l+2):(y-55296<<10)+(O-56320)+65536)}},stringMultibyte={codeAt:createMethod$4(!1),charAt:createMethod$4(!0)},uncurryThis$j=functionUncurryThis,isCallable$8=isCallable$h,store$1=sharedStore,functionToString=uncurryThis$j(Function.toString);isCallable$8(store$1.inspectSource)||(store$1.inspectSource=function(r){return functionToString(r)});var inspectSource$2=store$1.inspectSource,global$t=global$O,isCallable$7=isCallable$h,inspectSource$1=inspectSource$2,WeakMap$1=global$t.WeakMap,nativeWeakMap=isCallable$7(WeakMap$1)&&/native code/.test(inspectSource$1(WeakMap$1)),shared$2=shared$4.exports,uid$2=uid$4,keys$3=shared$2("keys"),sharedKey$4=function(r){return keys$3[r]||(keys$3[r]=uid$2(r))},NATIVE_WEAK_MAP$1=nativeWeakMap,global$s=global$O,uncurryThis$i=functionUncurryThis,isObject$d=isObject$j,createNonEnumerableProperty$4=createNonEnumerableProperty$6,hasOwn$a=hasOwnProperty_1,shared$1=sharedStore,sharedKey$3=sharedKey$4,hiddenKeys$4=hiddenKeys$6,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$c=global$s.TypeError,WeakMap$2=global$s.WeakMap,set$3,get$6,has,enforce=function(r){return has(r)?get$6(r):set$3(r,{})},getterFor=function(r){return function(e){var t;if(!isObject$d(e)||(t=get$6(e)).type!==r)throw TypeError$c("Incompatible receiver, "+r+" required");return t}};if(NATIVE_WEAK_MAP$1||shared$1.state){var store=shared$1.state||(shared$1.state=new WeakMap$2),wmget=uncurryThis$i(store.get),wmhas=uncurryThis$i(store.has),wmset=uncurryThis$i(store.set);set$3=function(r,e){if(wmhas(store,r))throw new TypeError$c(OBJECT_ALREADY_INITIALIZED);return e.facade=r,wmset(store,r,e),e},get$6=function(r){return wmget(store,r)||{}},has=function(r){return wmhas(store,r)}}else{var STATE=sharedKey$3("state");hiddenKeys$4[STATE]=!0,set$3=function(r,e){if(hasOwn$a(r,STATE))throw new TypeError$c(OBJECT_ALREADY_INITIALIZED);return e.facade=r,createNonEnumerableProperty$4(r,STATE,e),e},get$6=function(r){return hasOwn$a(r,STATE)?r[STATE]:{}},has=function(r){return hasOwn$a(r,STATE)}}var internalState={set:set$3,get:get$6,has,enforce,getterFor},DESCRIPTORS$b=descriptors,hasOwn$9=hasOwnProperty_1,FunctionPrototype=Function.prototype,getDescriptor=DESCRIPTORS$b&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$9(FunctionPrototype,"name"),PROPER=EXISTS&&function r(){}.name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS$b||DESCRIPTORS$b&&getDescriptor(FunctionPrototype,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},objectDefineProperties={},DESCRIPTORS$a=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$3=objectDefineProperty,anObject$b=anObject$d,toIndexedObject$7=toIndexedObject$b,objectKeys$2=objectKeys$4;objectDefineProperties.f=DESCRIPTORS$a&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function r(e,t){anObject$b(e);for(var o=toIndexedObject$7(t),l=objectKeys$2(t),h=l.length,y=0,O;h>y;)definePropertyModule$3.f(e,O=l[y++],o[O]);return e};var getBuiltIn$6=getBuiltIn$9,html$1=getBuiltIn$6("document","documentElement"),anObject$a=anObject$d,definePropertiesModule$1=objectDefineProperties,enumBugKeys$1=enumBugKeys$3,hiddenKeys$3=hiddenKeys$6,html=html$1,documentCreateElement=documentCreateElement$1,sharedKey$2=sharedKey$4,GT=">",LT="<",PROTOTYPE$1="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$2("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(r){return LT+SCRIPT+GT+r+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(r){r.write(scriptTag("")),r.close();var e=r.parentWindow.Object;return r=null,e},NullProtoObjectViaIFrame=function(){var r=documentCreateElement("iframe"),e="java"+SCRIPT+":",t;return r.style.display="none",html.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(scriptTag("document.F=Object")),t.close(),t.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document!="undefined"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var r=enumBugKeys$1.length;r--;)delete NullProtoObject[PROTOTYPE$1][enumBugKeys$1[r]];return NullProtoObject()};hiddenKeys$3[IE_PROTO$1]=!0;var objectCreate=Object.create||function r(e,t){var o;return e!==null?(EmptyConstructor[PROTOTYPE$1]=anObject$a(e),o=new EmptyConstructor,EmptyConstructor[PROTOTYPE$1]=null,o[IE_PROTO$1]=e):o=NullProtoObject(),t===void 0?o:definePropertiesModule$1.f(o,t)},fails$k=fails$t,correctPrototypeGetter=!fails$k(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),global$r=global$O,hasOwn$8=hasOwnProperty_1,isCallable$6=isCallable$h,toObject$a=toObject$d,sharedKey$1=sharedKey$4,CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter,IE_PROTO=sharedKey$1("IE_PROTO"),Object$6=global$r.Object,ObjectPrototype$2=Object$6.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER$1?Object$6.getPrototypeOf:function(r){var e=toObject$a(r);if(hasOwn$8(e,IE_PROTO))return e[IE_PROTO];var t=e.constructor;return isCallable$6(t)&&e instanceof t?t.prototype:e instanceof Object$6?ObjectPrototype$2:null},createNonEnumerableProperty$3=createNonEnumerableProperty$6,redefine$4=function(r,e,t,o){o&&o.enumerable?r[e]=t:createNonEnumerableProperty$3(r,e,t)},fails$j=fails$t,isCallable$5=isCallable$h,create$a=objectCreate,getPrototypeOf$8=objectGetPrototypeOf,redefine$3=redefine$4,wellKnownSymbol$f=wellKnownSymbol$j,ITERATOR$6=wellKnownSymbol$f("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$1,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$8(getPrototypeOf$8(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$1=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=IteratorPrototype$1==null||fails$j(function(){var r={};return IteratorPrototype$1[ITERATOR$6].call(r)!==r});NEW_ITERATOR_PROTOTYPE?IteratorPrototype$1={}:IteratorPrototype$1=create$a(IteratorPrototype$1);isCallable$5(IteratorPrototype$1[ITERATOR$6])||redefine$3(IteratorPrototype$1,ITERATOR$6,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof$a=classof$c,objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function r(){return"[object "+classof$a(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,defineProperty$c=objectDefineProperty.f,createNonEnumerableProperty$2=createNonEnumerableProperty$6,hasOwn$7=hasOwnProperty_1,toString$6=objectToString,wellKnownSymbol$e=wellKnownSymbol$j,TO_STRING_TAG$1=wellKnownSymbol$e("toStringTag"),setToStringTag$5=function(r,e,t,o){if(r){var l=t?r:r.prototype;hasOwn$7(l,TO_STRING_TAG$1)||defineProperty$c(l,TO_STRING_TAG$1,{configurable:!0,value:e}),o&&!TO_STRING_TAG_SUPPORT&&createNonEnumerableProperty$2(l,"toString",toString$6)}},iterators={},IteratorPrototype=iteratorsCore.IteratorPrototype,create$9=objectCreate,createPropertyDescriptor$2=createPropertyDescriptor$5,setToStringTag$4=setToStringTag$5,Iterators$5=iterators,returnThis$1=function(){return this},createIteratorConstructor$1=function(r,e,t,o){var l=e+" Iterator";return r.prototype=create$9(IteratorPrototype,{next:createPropertyDescriptor$2(+!o,t)}),setToStringTag$4(r,l,!1,!0),Iterators$5[l]=returnThis$1,r},global$q=global$O,isCallable$4=isCallable$h,String$1=global$q.String,TypeError$b=global$q.TypeError,aPossiblePrototype$1=function(r){if(typeof r=="object"||isCallable$4(r))return r;throw TypeError$b("Can't set "+String$1(r)+" as a prototype")},uncurryThis$h=functionUncurryThis,anObject$9=anObject$d,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,e={},t;try{t=uncurryThis$h(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(e,[]),r=e instanceof Array}catch{}return function(l,h){return anObject$9(l),aPossiblePrototype(h),r?t(l,h):l.__proto__=h,l}}():void 0),$$G=_export,call$6=functionCall,FunctionName=functionName,createIteratorConstructor=createIteratorConstructor$1,getPrototypeOf$7=objectGetPrototypeOf,setToStringTag$3=setToStringTag$5,redefine$2=redefine$4,wellKnownSymbol$d=wellKnownSymbol$j,Iterators$4=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME$1=FunctionName.PROPER,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$5=wellKnownSymbol$d("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$3=function(r,e,t,o,l,h,y){createIteratorConstructor(t,e,o);var O=function(K){if(K===l&&j)return j;if(!BUGGY_SAFARI_ITERATORS&&K in F)return F[K];switch(K){case KEYS:return function(){return new t(this,K)};case VALUES:return function(){return new t(this,K)};case ENTRIES:return function(){return new t(this,K)}}return function(){return new t(this)}},D=e+" Iterator",R=!1,F=r.prototype,B=F[ITERATOR$5]||F["@@iterator"]||l&&F[l],j=!BUGGY_SAFARI_ITERATORS&&B||O(l),U=e=="Array"&&F.entries||B,W,G,q;if(U&&(W=getPrototypeOf$7(U.call(new r)),W!==Object.prototype&&W.next&&(setToStringTag$3(W,D,!0,!0),Iterators$4[D]=returnThis)),PROPER_FUNCTION_NAME$1&&l==VALUES&&B&&B.name!==VALUES&&(R=!0,j=function(){return call$6(B,this)}),l)if(G={values:O(VALUES),keys:h?j:O(KEYS),entries:O(ENTRIES)},y)for(q in G)(BUGGY_SAFARI_ITERATORS||R||!(q in F))&&redefine$2(F,q,G[q]);else $$G({target:e,proto:!0,forced:BUGGY_SAFARI_ITERATORS||R},G);return y&&F[ITERATOR$5]!==j&&redefine$2(F,ITERATOR$5,j,{name:l}),Iterators$4[e]=j,G},charAt$2=stringMultibyte.charAt,toString$5=toString$8,InternalStateModule$5=internalState,defineIterator$2=defineIterator$3,STRING_ITERATOR="String Iterator",setInternalState$5=InternalStateModule$5.set,getInternalState$2=InternalStateModule$5.getterFor(STRING_ITERATOR);defineIterator$2(String,"String",function(r){setInternalState$5(this,{type:STRING_ITERATOR,string:toString$5(r),index:0})},function r(){var e=getInternalState$2(this),t=e.string,o=e.index,l;return o>=t.length?{value:void 0,done:!0}:(l=charAt$2(t,o),e.index+=l.length,{value:l,done:!1})});var call$5=functionCall,anObject$8=anObject$d,getMethod$1=getMethod$3,iteratorClose$2=function(r,e,t){var o,l;anObject$8(r);try{if(o=getMethod$1(r,"return"),!o){if(e==="throw")throw t;return t}o=call$5(o,r)}catch(h){l=!0,o=h}if(e==="throw")throw t;if(l)throw o;return anObject$8(o),t},anObject$7=anObject$d,iteratorClose$1=iteratorClose$2,callWithSafeIterationClosing$1=function(r,e,t,o){try{return o?e(anObject$7(t)[0],t[1]):e(t)}catch(l){iteratorClose$1(r,"throw",l)}},wellKnownSymbol$c=wellKnownSymbol$j,Iterators$3=iterators,ITERATOR$4=wellKnownSymbol$c("iterator"),ArrayPrototype$f=Array.prototype,isArrayIteratorMethod$2=function(r){return r!==void 0&&(Iterators$3.Array===r||ArrayPrototype$f[ITERATOR$4]===r)},uncurryThis$g=functionUncurryThis,fails$i=fails$t,isCallable$3=isCallable$h,classof$9=classof$c,getBuiltIn$5=getBuiltIn$9,inspectSource=inspectSource$2,noop=function(){},empty=[],construct$3=getBuiltIn$5("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$2=uncurryThis$g(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.exec(noop),isConstructorModern=function r(e){if(!isCallable$3(e))return!1;try{return construct$3(noop,empty,e),!0}catch{return!1}},isConstructorLegacy=function r(e){if(!isCallable$3(e))return!1;switch(classof$9(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$2(constructorRegExp,inspectSource(e))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor$4=!construct$3||fails$i(function(){var r;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){r=!0})||r})?isConstructorLegacy:isConstructorModern,toPropertyKey$1=toPropertyKey$4,definePropertyModule$2=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$5,createProperty$6=function(r,e,t){var o=toPropertyKey$1(e);o in r?definePropertyModule$2.f(r,o,createPropertyDescriptor$1(0,t)):r[o]=t},classof$8=classof$c,getMethod=getMethod$3,Iterators$2=iterators,wellKnownSymbol$b=wellKnownSymbol$j,ITERATOR$3=wellKnownSymbol$b("iterator"),getIteratorMethod$8=function(r){if(r!=null)return getMethod(r,ITERATOR$3)||getMethod(r,"@@iterator")||Iterators$2[classof$8(r)]},global$p=global$O,call$4=functionCall,aCallable$2=aCallable$6,anObject$6=anObject$d,tryToString$2=tryToString$4,getIteratorMethod$7=getIteratorMethod$8,TypeError$a=global$p.TypeError,getIterator$2=function(r,e){var t=arguments.length<2?getIteratorMethod$7(r):e;if(aCallable$2(t))return anObject$6(call$4(t,r));throw TypeError$a(tryToString$2(r)+" is not iterable")},global$o=global$O,bind$4=functionBindContext,call$3=functionCall,toObject$9=toObject$d,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod$1=isArrayIteratorMethod$2,isConstructor$3=isConstructor$4,lengthOfArrayLike$9=lengthOfArrayLike$b,createProperty$5=createProperty$6,getIterator$1=getIterator$2,getIteratorMethod$6=getIteratorMethod$8,Array$5=global$o.Array,arrayFrom=function r(e){var t=toObject$9(e),o=isConstructor$3(this),l=arguments.length,h=l>1?arguments[1]:void 0,y=h!==void 0;y&&(h=bind$4(h,l>2?arguments[2]:void 0));var O=getIteratorMethod$6(t),D=0,R,F,B,j,U,W;if(O&&!(this==Array$5&&isArrayIteratorMethod$1(O)))for(j=getIterator$1(t,O),U=j.next,F=o?new this:[];!(B=call$3(U,j)).done;D++)W=y?callWithSafeIterationClosing(j,h,[B.value,D],!0):B.value,createProperty$5(F,D,W);else for(R=lengthOfArrayLike$9(t),F=o?new this(R):Array$5(R);R>D;D++)W=y?h(t[D],D):t[D],createProperty$5(F,D,W);return F.length=D,F},wellKnownSymbol$a=wellKnownSymbol$j,ITERATOR$2=wellKnownSymbol$a("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$2]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(r){}var checkCorrectnessOfIteration$1=function(r,e){if(!e&&!SAFE_CLOSING)return!1;var t=!1;try{var o={};o[ITERATOR$2]=function(){return{next:function(){return{done:t=!0}}}},r(o)}catch{}return t},$$F=_export,from$6=arrayFrom,checkCorrectnessOfIteration=checkCorrectnessOfIteration$1,INCORRECT_ITERATION=!checkCorrectnessOfIteration(function(r){Array.from(r)});$$F({target:"Array",stat:!0,forced:INCORRECT_ITERATION},{from:from$6});var path$t=path$y,from$5=path$t.Array.from,parent$11=from$5,from$4=parent$11,from$3=from$4,toIndexedObject$6=toIndexedObject$b,Iterators$1=iterators,InternalStateModule$4=internalState;objectDefineProperty.f;var defineIterator$1=defineIterator$3,ARRAY_ITERATOR="Array Iterator",setInternalState$4=InternalStateModule$4.set,getInternalState$1=InternalStateModule$4.getterFor(ARRAY_ITERATOR);defineIterator$1(Array,"Array",function(r,e){setInternalState$4(this,{type:ARRAY_ITERATOR,target:toIndexedObject$6(r),index:0,kind:e})},function(){var r=getInternalState$1(this),e=r.target,t=r.kind,o=r.index++;return!e||o>=e.length?(r.target=void 0,{value:void 0,done:!0}):t=="keys"?{value:o,done:!1}:t=="values"?{value:e[o],done:!1}:{value:[o,e[o]],done:!1}},"values");Iterators$1.Arguments=Iterators$1.Array;var getIteratorMethod$5=getIteratorMethod$8,getIteratorMethod_1=getIteratorMethod$5,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DOMIterables$2=domIterables,global$n=global$O,classof$7=classof$c,createNonEnumerableProperty$1=createNonEnumerableProperty$6,Iterators=iterators,wellKnownSymbol$9=wellKnownSymbol$j,TO_STRING_TAG=wellKnownSymbol$9("toStringTag");for(var COLLECTION_NAME in DOMIterables$2){var Collection=global$n[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;CollectionPrototype&&classof$7(CollectionPrototype)!==TO_STRING_TAG&&createNonEnumerableProperty$1(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),Iterators[COLLECTION_NAME]=Iterators.Array}var parent$10=getIteratorMethod_1,getIteratorMethod$4=parent$10,parent$$=getIteratorMethod$4,getIteratorMethod$3=parent$$,parent$_=getIteratorMethod$3,getIteratorMethod$2=parent$_,getIteratorMethod$1=getIteratorMethod$2,classof$6=classofRaw$1,isArray$c=Array.isArray||function r(e){return classof$6(e)=="Array"},objectGetOwnPropertyNames={},internalObjectKeys=objectKeysInternal,enumBugKeys=enumBugKeys$3,hiddenKeys$2=enumBugKeys.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function r(e){return internalObjectKeys(e,hiddenKeys$2)};var objectGetOwnPropertyNamesExternal={},global$m=global$O,toAbsoluteIndex$3=toAbsoluteIndex$5,lengthOfArrayLike$8=lengthOfArrayLike$b,createProperty$4=createProperty$6,Array$4=global$m.Array,max$2=Math.max,arraySliceSimple=function(r,e,t){for(var o=lengthOfArrayLike$8(r),l=toAbsoluteIndex$3(e,o),h=toAbsoluteIndex$3(t===void 0?o:t,o),y=Array$4(max$2(h-l,0)),O=0;l<h;l++,O++)createProperty$4(y,O,r[l]);return y.length=O,y},classof$5=classofRaw$1,toIndexedObject$5=toIndexedObject$b,$getOwnPropertyNames$1=objectGetOwnPropertyNames.f,arraySlice$3=arraySliceSimple,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(r){try{return $getOwnPropertyNames$1(r)}catch{return arraySlice$3(windowNames)}};objectGetOwnPropertyNamesExternal.f=function r(e){return windowNames&&classof$5(e)=="Window"?getWindowNames(e):$getOwnPropertyNames$1(toIndexedObject$5(e))};var wellKnownSymbolWrapped={},wellKnownSymbol$8=wellKnownSymbol$j;wellKnownSymbolWrapped.f=wellKnownSymbol$8;var path$s=path$y,hasOwn$6=hasOwnProperty_1,wrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped,defineProperty$b=objectDefineProperty.f,defineWellKnownSymbol$l=function(r){var e=path$s.Symbol||(path$s.Symbol={});hasOwn$6(e,r)||defineProperty$b(e,r,{value:wrappedWellKnownSymbolModule$1.f(r)})},global$l=global$O,isArray$b=isArray$c,isConstructor$2=isConstructor$4,isObject$c=isObject$j,wellKnownSymbol$7=wellKnownSymbol$j,SPECIES$3=wellKnownSymbol$7("species"),Array$3=global$l.Array,arraySpeciesConstructor$1=function(r){var e;return isArray$b(r)&&(e=r.constructor,isConstructor$2(e)&&(e===Array$3||isArray$b(e.prototype))?e=void 0:isObject$c(e)&&(e=e[SPECIES$3],e===null&&(e=void 0))),e===void 0?Array$3:e},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$3=function(r,e){return new(arraySpeciesConstructor(r))(e===0?0:e)},bind$3=functionBindContext,uncurryThis$f=functionUncurryThis,IndexedObject$1=indexedObject,toObject$8=toObject$d,lengthOfArrayLike$7=lengthOfArrayLike$b,arraySpeciesCreate$2=arraySpeciesCreate$3,push$4=uncurryThis$f([].push),createMethod$3=function(r){var e=r==1,t=r==2,o=r==3,l=r==4,h=r==6,y=r==7,O=r==5||h;return function(D,R,F,B){for(var j=toObject$8(D),U=IndexedObject$1(j),W=bind$3(R,F),G=lengthOfArrayLike$7(U),q=0,K=B||arraySpeciesCreate$2,Y=e?K(D,G):t||y?K(D,0):void 0,X,J;G>q;q++)if((O||q in U)&&(X=U[q],J=W(X,q,j),r))if(e)Y[q]=J;else if(J)switch(r){case 3:return!0;case 5:return X;case 6:return q;case 2:push$4(Y,X)}else switch(r){case 4:return!1;case 7:push$4(Y,X)}return h?-1:o||l?l:Y}},arrayIteration={forEach:createMethod$3(0),map:createMethod$3(1),filter:createMethod$3(2),some:createMethod$3(3),every:createMethod$3(4),find:createMethod$3(5),findIndex:createMethod$3(6),filterReject:createMethod$3(7)},$$E=_export,global$k=global$O,getBuiltIn$4=getBuiltIn$9,apply$4=functionApply,call$2=functionCall,uncurryThis$e=functionUncurryThis,DESCRIPTORS$9=descriptors,NATIVE_SYMBOL=nativeSymbol,fails$h=fails$t,hasOwn$5=hasOwnProperty_1,isArray$a=isArray$c,isCallable$2=isCallable$h,isObject$b=isObject$j,isPrototypeOf$h=objectIsPrototypeOf,isSymbol=isSymbol$3,anObject$5=anObject$d,toObject$7=toObject$d,toIndexedObject$4=toIndexedObject$b,toPropertyKey=toPropertyKey$4,$toString=toString$8,createPropertyDescriptor=createPropertyDescriptor$5,nativeObjectCreate=objectCreate,objectKeys$1=objectKeys$4,getOwnPropertyNamesModule$2=objectGetOwnPropertyNames,getOwnPropertyNamesExternal=objectGetOwnPropertyNamesExternal,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor,definePropertyModule$1=objectDefineProperty,definePropertiesModule=objectDefineProperties,propertyIsEnumerableModule=objectPropertyIsEnumerable,arraySlice$2=arraySlice$5,redefine$1=redefine$4,shared=shared$4.exports,sharedKey=sharedKey$4,hiddenKeys$1=hiddenKeys$6,uid$1=uid$4,wellKnownSymbol$6=wellKnownSymbol$j,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineWellKnownSymbol$k=defineWellKnownSymbol$l,setToStringTag$2=setToStringTag$5,InternalStateModule$3=internalState,$forEach$1=arrayIteration.forEach,HIDDEN=sharedKey("hidden"),SYMBOL="Symbol",PROTOTYPE="prototype",TO_PRIMITIVE=wellKnownSymbol$6("toPrimitive"),setInternalState$3=InternalStateModule$3.set,getInternalState=InternalStateModule$3.getterFor(SYMBOL),ObjectPrototype$1=Object[PROTOTYPE],$Symbol=global$k.Symbol,SymbolPrototype=$Symbol&&$Symbol[PROTOTYPE],TypeError$9=global$k.TypeError,QObject=global$k.QObject,$stringify$1=getBuiltIn$4("JSON","stringify"),nativeGetOwnPropertyDescriptor$1=getOwnPropertyDescriptorModule$2.f,nativeDefineProperty=definePropertyModule$1.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,push$3=uncurryThis$e([].push),AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry"),WellKnownSymbolsStore=shared("wks"),USE_SETTER=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDescriptor=DESCRIPTORS$9&&fails$h(function(){return nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a!=7})?function(r,e,t){var o=nativeGetOwnPropertyDescriptor$1(ObjectPrototype$1,e);o&&delete ObjectPrototype$1[e],nativeDefineProperty(r,e,t),o&&r!==ObjectPrototype$1&&nativeDefineProperty(ObjectPrototype$1,e,o)}:nativeDefineProperty,wrap$1=function(r,e){var t=AllSymbols[r]=nativeObjectCreate(SymbolPrototype);return setInternalState$3(t,{type:SYMBOL,tag:r,description:e}),DESCRIPTORS$9||(t.description=e),t},$defineProperty=function r(e,t,o){e===ObjectPrototype$1&&$defineProperty(ObjectPrototypeSymbols,t,o),anObject$5(e);var l=toPropertyKey(t);return anObject$5(o),hasOwn$5(AllSymbols,l)?(o.enumerable?(hasOwn$5(e,HIDDEN)&&e[HIDDEN][l]&&(e[HIDDEN][l]=!1),o=nativeObjectCreate(o,{enumerable:createPropertyDescriptor(0,!1)})):(hasOwn$5(e,HIDDEN)||nativeDefineProperty(e,HIDDEN,createPropertyDescriptor(1,{})),e[HIDDEN][l]=!0),setSymbolDescriptor(e,l,o)):nativeDefineProperty(e,l,o)},$defineProperties=function r(e,t){anObject$5(e);var o=toIndexedObject$4(t),l=objectKeys$1(o).concat($getOwnPropertySymbols(o));return $forEach$1(l,function(h){(!DESCRIPTORS$9||call$2($propertyIsEnumerable$1,o,h))&&$defineProperty(e,h,o[h])}),e},$create=function r(e,t){return t===void 0?nativeObjectCreate(e):$defineProperties(nativeObjectCreate(e),t)},$propertyIsEnumerable$1=function r(e){var t=toPropertyKey(e),o=call$2(nativePropertyIsEnumerable,this,t);return this===ObjectPrototype$1&&hasOwn$5(AllSymbols,t)&&!hasOwn$5(ObjectPrototypeSymbols,t)?!1:o||!hasOwn$5(this,t)||!hasOwn$5(AllSymbols,t)||hasOwn$5(this,HIDDEN)&&this[HIDDEN][t]?o:!0},$getOwnPropertyDescriptor=function r(e,t){var o=toIndexedObject$4(e),l=toPropertyKey(t);if(!(o===ObjectPrototype$1&&hasOwn$5(AllSymbols,l)&&!hasOwn$5(ObjectPrototypeSymbols,l))){var h=nativeGetOwnPropertyDescriptor$1(o,l);return h&&hasOwn$5(AllSymbols,l)&&!(hasOwn$5(o,HIDDEN)&&o[HIDDEN][l])&&(h.enumerable=!0),h}},$getOwnPropertyNames=function r(e){var t=nativeGetOwnPropertyNames(toIndexedObject$4(e)),o=[];return $forEach$1(t,function(l){!hasOwn$5(AllSymbols,l)&&!hasOwn$5(hiddenKeys$1,l)&&push$3(o,l)}),o},$getOwnPropertySymbols=function r(e){var t=e===ObjectPrototype$1,o=nativeGetOwnPropertyNames(t?ObjectPrototypeSymbols:toIndexedObject$4(e)),l=[];return $forEach$1(o,function(h){hasOwn$5(AllSymbols,h)&&(!t||hasOwn$5(ObjectPrototype$1,h))&&push$3(l,AllSymbols[h])}),l};NATIVE_SYMBOL||($Symbol=function(){if(isPrototypeOf$h(SymbolPrototype,this))throw TypeError$9("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:$toString(arguments[0]),t=uid$1(e),o=function(l){this===ObjectPrototype$1&&call$2(o,ObjectPrototypeSymbols,l),hasOwn$5(this,HIDDEN)&&hasOwn$5(this[HIDDEN],t)&&(this[HIDDEN][t]=!1),setSymbolDescriptor(this,t,createPropertyDescriptor(1,l))};return DESCRIPTORS$9&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype$1,t,{configurable:!0,set:o}),wrap$1(t,e)},SymbolPrototype=$Symbol[PROTOTYPE],redefine$1(SymbolPrototype,"toString",function(){return getInternalState(this).tag}),redefine$1($Symbol,"withoutSetter",function(r){return wrap$1(uid$1(r),r)}),propertyIsEnumerableModule.f=$propertyIsEnumerable$1,definePropertyModule$1.f=$defineProperty,definePropertiesModule.f=$defineProperties,getOwnPropertyDescriptorModule$2.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule$2.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule$1.f=$getOwnPropertySymbols,wrappedWellKnownSymbolModule.f=function(r){return wrap$1(wellKnownSymbol$6(r),r)},DESCRIPTORS$9&&nativeDefineProperty(SymbolPrototype,"description",{configurable:!0,get:function(){return getInternalState(this).description}}));$$E({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol});$forEach$1(objectKeys$1(WellKnownSymbolsStore),function(r){defineWellKnownSymbol$k(r)});$$E({target:SYMBOL,stat:!0,forced:!NATIVE_SYMBOL},{for:function(r){var e=$toString(r);if(hasOwn$5(StringToSymbolRegistry,e))return StringToSymbolRegistry[e];var t=$Symbol(e);return StringToSymbolRegistry[e]=t,SymbolToStringRegistry[t]=e,t},keyFor:function r(e){if(!isSymbol(e))throw TypeError$9(e+" is not a symbol");if(hasOwn$5(SymbolToStringRegistry,e))return SymbolToStringRegistry[e]},useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}});$$E({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS$9},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});$$E({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});$$E({target:"Object",stat:!0,forced:fails$h(function(){getOwnPropertySymbolsModule$1.f(1)})},{getOwnPropertySymbols:function r(e){return getOwnPropertySymbolsModule$1.f(toObject$7(e))}});if($stringify$1){var FORCED_JSON_STRINGIFY=!NATIVE_SYMBOL||fails$h(function(){var r=$Symbol();return $stringify$1([r])!="[null]"||$stringify$1({a:r})!="{}"||$stringify$1(Object(r))!="{}"});$$E({target:"JSON",stat:!0,forced:FORCED_JSON_STRINGIFY},{stringify:function(e,t,o){var l=arraySlice$2(arguments),h=t;if(!(!isObject$b(t)&&e===void 0||isSymbol(e)))return isArray$a(t)||(t=function(y,O){if(isCallable$2(h)&&(O=call$2(h,this,y,O)),!isSymbol(O))return O}),l[1]=t,apply$4($stringify$1,null,l)}})}if(!SymbolPrototype[TO_PRIMITIVE]){var valueOf=SymbolPrototype.valueOf;redefine$1(SymbolPrototype,TO_PRIMITIVE,function(r){return call$2(valueOf,this)})}setToStringTag$2($Symbol,SYMBOL);hiddenKeys$1[HIDDEN]=!0;var path$r=path$y,getOwnPropertySymbols$2=path$r.Object.getOwnPropertySymbols,parent$Z=getOwnPropertySymbols$2,getOwnPropertySymbols$1=parent$Z,getOwnPropertySymbols=getOwnPropertySymbols$1,getOwnPropertyDescriptor$6={exports:{}},$$D=_export,fails$g=fails$t,toIndexedObject$3=toIndexedObject$b,nativeGetOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,DESCRIPTORS$8=descriptors,FAILS_ON_PRIMITIVES$4=fails$g(function(){nativeGetOwnPropertyDescriptor(1)}),FORCED$6=!DESCRIPTORS$8||FAILS_ON_PRIMITIVES$4;$$D({target:"Object",stat:!0,forced:FORCED$6,sham:!DESCRIPTORS$8},{getOwnPropertyDescriptor:function r(e,t){return nativeGetOwnPropertyDescriptor(toIndexedObject$3(e),t)}});var path$q=path$y,Object$5=path$q.Object,getOwnPropertyDescriptor$5=getOwnPropertyDescriptor$6.exports=function r(e,t){return Object$5.getOwnPropertyDescriptor(e,t)};Object$5.getOwnPropertyDescriptor.sham&&(getOwnPropertyDescriptor$5.sham=!0);var parent$Y=getOwnPropertyDescriptor$6.exports,getOwnPropertyDescriptor$4=parent$Y,getOwnPropertyDescriptor$3=getOwnPropertyDescriptor$4,getBuiltIn$3=getBuiltIn$9,uncurryThis$d=functionUncurryThis,getOwnPropertyNamesModule$1=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$4=anObject$d,concat$4=uncurryThis$d([].concat),ownKeys$6=getBuiltIn$3("Reflect","ownKeys")||function r(e){var t=getOwnPropertyNamesModule$1.f(anObject$4(e)),o=getOwnPropertySymbolsModule.f;return o?concat$4(t,o(e)):t},$$C=_export,DESCRIPTORS$7=descriptors,ownKeys$5=ownKeys$6,toIndexedObject$2=toIndexedObject$b,getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor,createProperty$3=createProperty$6;$$C({target:"Object",stat:!0,sham:!DESCRIPTORS$7},{getOwnPropertyDescriptors:function r(e){for(var t=toIndexedObject$2(e),o=getOwnPropertyDescriptorModule$1.f,l=ownKeys$5(t),h={},y=0,O,D;l.length>y;)D=o(t,O=l[y++]),D!==void 0&&createProperty$3(h,O,D);return h}});var path$p=path$y,getOwnPropertyDescriptors$2=path$p.Object.getOwnPropertyDescriptors,parent$X=getOwnPropertyDescriptors$2,getOwnPropertyDescriptors$1=parent$X,getOwnPropertyDescriptors=getOwnPropertyDescriptors$1,defineProperties$4={exports:{}},$$B=_export,DESCRIPTORS$6=descriptors,defineProperties$3=objectDefineProperties.f;$$B({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties$3,sham:!DESCRIPTORS$6},{defineProperties:defineProperties$3});var path$o=path$y,Object$4=path$o.Object,defineProperties$2=defineProperties$4.exports=function r(e,t){return Object$4.defineProperties(e,t)};Object$4.defineProperties.sham&&(defineProperties$2.sham=!0);var parent$W=defineProperties$4.exports,defineProperties$1=parent$W,defineProperties=defineProperties$1,defineProperty$a={exports:{}},$$A=_export,DESCRIPTORS$5=descriptors,defineProperty$9=objectDefineProperty.f;$$A({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty$9,sham:!DESCRIPTORS$5},{defineProperty:defineProperty$9});var path$n=path$y,Object$3=path$n.Object,defineProperty$8=defineProperty$a.exports=function r(e,t,o){return Object$3.defineProperty(e,t,o)};Object$3.defineProperty.sham&&(defineProperty$8.sham=!0);var parent$V=defineProperty$a.exports,defineProperty$7=parent$V,defineProperty$6=defineProperty$7;function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var parent$U=defineProperty$7,defineProperty$5=parent$U,parent$T=defineProperty$5,defineProperty$4=parent$T,defineProperty$3=defineProperty$4;function _defineProperties(r,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),defineProperty$3(r,o.key,o)}}function _createClass(r,e,t){return e&&_defineProperties(r.prototype,e),t&&_defineProperties(r,t),defineProperty$3(r,"prototype",{writable:!1}),r}function _defineProperty(r,e,t){return e in r?defineProperty$3(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var $$z=_export,isArray$9=isArray$c;$$z({target:"Array",stat:!0},{isArray:isArray$9});var path$m=path$y,isArray$8=path$m.Array.isArray,parent$S=isArray$8,isArray$7=parent$S,parent$R=isArray$7,isArray$6=parent$R,parent$Q=isArray$6,isArray$5=parent$Q,isArray$4=isArray$5;function _arrayWithHoles(r){if(isArray$4(r))return r}var fails$f=fails$t,wellKnownSymbol$5=wellKnownSymbol$j,V8_VERSION$1=engineV8Version,SPECIES$2=wellKnownSymbol$5("species"),arrayMethodHasSpeciesSupport$5=function(r){return V8_VERSION$1>=51||!fails$f(function(){var e=[],t=e.constructor={};return t[SPECIES$2]=function(){return{foo:1}},e[r](Boolean).foo!==1})},$$y=_export,global$j=global$O,fails$e=fails$t,isArray$3=isArray$c,isObject$a=isObject$j,toObject$6=toObject$d,lengthOfArrayLike$6=lengthOfArrayLike$b,createProperty$2=createProperty$6,arraySpeciesCreate$1=arraySpeciesCreate$3,arrayMethodHasSpeciesSupport$4=arrayMethodHasSpeciesSupport$5,wellKnownSymbol$4=wellKnownSymbol$j,V8_VERSION=engineV8Version,IS_CONCAT_SPREADABLE=wellKnownSymbol$4("isConcatSpreadable"),MAX_SAFE_INTEGER$1=9007199254740991,MAXIMUM_ALLOWED_INDEX_EXCEEDED="Maximum allowed index exceeded",TypeError$8=global$j.TypeError,IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails$e(function(){var r=[];return r[IS_CONCAT_SPREADABLE]=!1,r.concat()[0]!==r}),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport$4("concat"),isConcatSpreadable=function(r){if(!isObject$a(r))return!1;var e=r[IS_CONCAT_SPREADABLE];return e!==void 0?!!e:isArray$3(r)},FORCED$5=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;$$y({target:"Array",proto:!0,forced:FORCED$5},{concat:function r(e){var t=toObject$6(this),o=arraySpeciesCreate$1(t,0),l=0,h,y,O,D,R;for(h=-1,O=arguments.length;h<O;h++)if(R=h===-1?t:arguments[h],isConcatSpreadable(R)){if(D=lengthOfArrayLike$6(R),l+D>MAX_SAFE_INTEGER$1)throw TypeError$8(MAXIMUM_ALLOWED_INDEX_EXCEEDED);for(y=0;y<D;y++,l++)y in R&&createProperty$2(o,l,R[y])}else{if(l>=MAX_SAFE_INTEGER$1)throw TypeError$8(MAXIMUM_ALLOWED_INDEX_EXCEEDED);createProperty$2(o,l++,R)}return o.length=l,o}});var defineWellKnownSymbol$j=defineWellKnownSymbol$l;defineWellKnownSymbol$j("asyncIterator");var defineWellKnownSymbol$i=defineWellKnownSymbol$l;defineWellKnownSymbol$i("hasInstance");var defineWellKnownSymbol$h=defineWellKnownSymbol$l;defineWellKnownSymbol$h("isConcatSpreadable");var defineWellKnownSymbol$g=defineWellKnownSymbol$l;defineWellKnownSymbol$g("iterator");var defineWellKnownSymbol$f=defineWellKnownSymbol$l;defineWellKnownSymbol$f("match");var defineWellKnownSymbol$e=defineWellKnownSymbol$l;defineWellKnownSymbol$e("matchAll");var defineWellKnownSymbol$d=defineWellKnownSymbol$l;defineWellKnownSymbol$d("replace");var defineWellKnownSymbol$c=defineWellKnownSymbol$l;defineWellKnownSymbol$c("search");var defineWellKnownSymbol$b=defineWellKnownSymbol$l;defineWellKnownSymbol$b("species");var defineWellKnownSymbol$a=defineWellKnownSymbol$l;defineWellKnownSymbol$a("split");var defineWellKnownSymbol$9=defineWellKnownSymbol$l;defineWellKnownSymbol$9("toPrimitive");var defineWellKnownSymbol$8=defineWellKnownSymbol$l;defineWellKnownSymbol$8("toStringTag");var defineWellKnownSymbol$7=defineWellKnownSymbol$l;defineWellKnownSymbol$7("unscopables");var global$i=global$O,setToStringTag$1=setToStringTag$5;setToStringTag$1(global$i.JSON,"JSON",!0);var path$l=path$y,symbol$5=path$l.Symbol,parent$P=symbol$5,symbol$4=parent$P,parent$O=symbol$4,symbol$3=parent$O,defineWellKnownSymbol$6=defineWellKnownSymbol$l;defineWellKnownSymbol$6("asyncDispose");var defineWellKnownSymbol$5=defineWellKnownSymbol$l;defineWellKnownSymbol$5("dispose");var defineWellKnownSymbol$4=defineWellKnownSymbol$l;defineWellKnownSymbol$4("matcher");var defineWellKnownSymbol$3=defineWellKnownSymbol$l;defineWellKnownSymbol$3("metadata");var defineWellKnownSymbol$2=defineWellKnownSymbol$l;defineWellKnownSymbol$2("observable");var defineWellKnownSymbol$1=defineWellKnownSymbol$l;defineWellKnownSymbol$1("patternMatch");var defineWellKnownSymbol=defineWellKnownSymbol$l;defineWellKnownSymbol("replaceAll");var parent$N=symbol$3,symbol$2=parent$N,symbol$1=symbol$2;function _iterableToArrayLimit(r,e){var t=r==null?null:typeof symbol$1!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(t!=null){var o=[],l=!0,h=!1,y,O;try{for(t=t.call(r);!(l=(y=t.next()).done)&&(o.push(y.value),!(e&&o.length===e));l=!0);}catch(D){h=!0,O=D}finally{try{!l&&t.return!=null&&t.return()}finally{if(h)throw O}}return o}}var $$x=_export,global$h=global$O,isArray$2=isArray$c,isConstructor$1=isConstructor$4,isObject$9=isObject$j,toAbsoluteIndex$2=toAbsoluteIndex$5,lengthOfArrayLike$5=lengthOfArrayLike$b,toIndexedObject$1=toIndexedObject$b,createProperty$1=createProperty$6,wellKnownSymbol$3=wellKnownSymbol$j,arrayMethodHasSpeciesSupport$3=arrayMethodHasSpeciesSupport$5,un$Slice=arraySlice$5,HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport$3("slice"),SPECIES$1=wellKnownSymbol$3("species"),Array$2=global$h.Array,max$1=Math.max;$$x({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3},{slice:function r(e,t){var o=toIndexedObject$1(this),l=lengthOfArrayLike$5(o),h=toAbsoluteIndex$2(e,l),y=toAbsoluteIndex$2(t===void 0?l:t,l),O,D,R;if(isArray$2(o)&&(O=o.constructor,isConstructor$1(O)&&(O===Array$2||isArray$2(O.prototype))?O=void 0:isObject$9(O)&&(O=O[SPECIES$1],O===null&&(O=void 0)),O===Array$2||O===void 0))return un$Slice(o,h,y);for(D=new(O===void 0?Array$2:O)(max$1(y-h,0)),R=0;h<y;h++,R++)h in o&&createProperty$1(D,R,o[h]);return D.length=R,D}});var entryVirtual$g=entryVirtual$i,slice$6=entryVirtual$g("Array").slice,isPrototypeOf$g=objectIsPrototypeOf,method$d=slice$6,ArrayPrototype$e=Array.prototype,slice$5=function(r){var e=r.slice;return r===ArrayPrototype$e||isPrototypeOf$g(ArrayPrototype$e,r)&&e===ArrayPrototype$e.slice?method$d:e},parent$M=slice$5,slice$4=parent$M,parent$L=slice$4,slice$3=parent$L,parent$K=slice$3,slice$2=parent$K,slice$1=slice$2,parent$J=from$4,from$2=parent$J,parent$I=from$2,from$1=parent$I,from=from$1;function _arrayLikeToArray$8(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}function _unsupportedIterableToArray$8(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$8(r,e);var o=slice$1(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$8(r,e)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray$8(r,e)||_nonIterableRest()}var WrappedWellKnownSymbolModule=wellKnownSymbolWrapped,iterator$4=WrappedWellKnownSymbolModule.f("iterator"),parent$H=iterator$4,iterator$3=parent$H,parent$G=iterator$3,iterator$2=parent$G,parent$F=iterator$2,iterator$1=parent$F,iterator=iterator$1;function _typeof(r){return _typeof=typeof symbol$1=="function"&&typeof iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof symbol$1=="function"&&e.constructor===symbol$1&&e!==symbol$1.prototype?"symbol":typeof e},_typeof(r)}function _arrayWithoutHoles(r){if(isArray$4(r))return _arrayLikeToArray$8(r)}function _iterableToArray(r){if(typeof symbol$1!="undefined"&&getIteratorMethod$1(r)!=null||r["@@iterator"]!=null)return from(r)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray$8(r)||_nonIterableSpread()}var symbol=symbol$4,entryVirtual$f=entryVirtual$i,concat$3=entryVirtual$f("Array").concat,isPrototypeOf$f=objectIsPrototypeOf,method$c=concat$3,ArrayPrototype$d=Array.prototype,concat$2=function(r){var e=r.concat;return r===ArrayPrototype$d||isPrototypeOf$f(ArrayPrototype$d,r)&&e===ArrayPrototype$d.concat?method$c:e},parent$E=concat$2,concat$1=parent$E,concat=concat$1,slice=slice$4,$$w=_export,ownKeys$4=ownKeys$6;$$w({target:"Reflect",stat:!0},{ownKeys:ownKeys$4});var path$k=path$y;path$k.Reflect.ownKeys;var isArray$1=isArray$7,$$v=_export,$map=arrayIteration.map,arrayMethodHasSpeciesSupport$2=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport$2("map");$$v({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2},{map:function r(e){return $map(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$e=entryVirtual$i,map$6=entryVirtual$e("Array").map,isPrototypeOf$e=objectIsPrototypeOf,method$b=map$6,ArrayPrototype$c=Array.prototype,map$5=function(r){var e=r.map;return r===ArrayPrototype$c||isPrototypeOf$e(ArrayPrototype$c,r)&&e===ArrayPrototype$c.map?method$b:e},parent$D=map$5,map$4=parent$D,map$3=map$4,$$u=_export,toObject$5=toObject$d,nativeKeys=objectKeys$4,fails$d=fails$t,FAILS_ON_PRIMITIVES$3=fails$d(function(){nativeKeys(1)});$$u({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$3},{keys:function r(e){return nativeKeys(toObject$5(e))}});var path$j=path$y,keys$2=path$j.Object.keys,parent$C=keys$2,keys$1=parent$C,keys=keys$1,$$t=_export,global$g=global$O,uncurryThis$c=functionUncurryThis,Date$1=global$g.Date,getTime=uncurryThis$c(Date$1.prototype.getTime);$$t({target:"Date",stat:!0},{now:function r(){return getTime(new Date$1)}});var path$i=path$y,now$3=path$i.Date.now,parent$B=now$3,now$2=parent$B,now$1=now$2,fails$c=fails$t,arrayMethodIsStrict$6=function(r,e){var t=[][r];return!!t&&fails$c(function(){t.call(null,e||function(){return 1},1)})},$forEach=arrayIteration.forEach,arrayMethodIsStrict$5=arrayMethodIsStrict$6,STRICT_METHOD$5=arrayMethodIsStrict$5("forEach"),arrayForEach=STRICT_METHOD$5?[].forEach:function r(e){return $forEach(this,e,arguments.length>1?arguments[1]:void 0)},$$s=_export,forEach$6=arrayForEach;$$s({target:"Array",proto:!0,forced:[].forEach!=forEach$6},{forEach:forEach$6});var entryVirtual$d=entryVirtual$i,forEach$5=entryVirtual$d("Array").forEach,parent$A=forEach$5,forEach$4=parent$A,classof$4=classof$c,hasOwn$4=hasOwnProperty_1,isPrototypeOf$d=objectIsPrototypeOf,method$a=forEach$4,ArrayPrototype$b=Array.prototype,DOMIterables$1={DOMTokenList:!0,NodeList:!0},forEach$3=function(r){var e=r.forEach;return r===ArrayPrototype$b||isPrototypeOf$d(ArrayPrototype$b,r)&&e===ArrayPrototype$b.forEach||hasOwn$4(DOMIterables$1,classof$4(r))?method$a:e},forEach$2=forEach$3,$$r=_export,uncurryThis$b=functionUncurryThis,isArray=isArray$c,un$Reverse=uncurryThis$b([].reverse),test$1=[1,2];$$r({target:"Array",proto:!0,forced:String(test$1)===String(test$1.reverse())},{reverse:function r(){return isArray(this)&&(this.length=this.length),un$Reverse(this)}});var entryVirtual$c=entryVirtual$i,reverse$3=entryVirtual$c("Array").reverse,isPrototypeOf$c=objectIsPrototypeOf,method$9=reverse$3,ArrayPrototype$a=Array.prototype,reverse$2=function(r){var e=r.reverse;return r===ArrayPrototype$a||isPrototypeOf$c(ArrayPrototype$a,r)&&e===ArrayPrototype$a.reverse?method$9:e},parent$z=reverse$2,reverse$1=parent$z,reverse=reverse$1,$$q=_export,global$f=global$O,toAbsoluteIndex$1=toAbsoluteIndex$5,toIntegerOrInfinity=toIntegerOrInfinity$4,lengthOfArrayLike$4=lengthOfArrayLike$b,toObject$4=toObject$d,arraySpeciesCreate=arraySpeciesCreate$3,createProperty=createProperty$6,arrayMethodHasSpeciesSupport$1=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$1("splice"),TypeError$7=global$f.TypeError,max=Math.max,min=Math.min,MAX_SAFE_INTEGER=9007199254740991,MAXIMUM_ALLOWED_LENGTH_EXCEEDED="Maximum allowed length exceeded";$$q({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1},{splice:function r(e,t){var o=toObject$4(this),l=lengthOfArrayLike$4(o),h=toAbsoluteIndex$1(e,l),y=arguments.length,O,D,R,F,B,j;if(y===0?O=D=0:y===1?(O=0,D=l-h):(O=y-2,D=min(max(toIntegerOrInfinity(t),0),l-h)),l+O-D>MAX_SAFE_INTEGER)throw TypeError$7(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);for(R=arraySpeciesCreate(o,D),F=0;F<D;F++)B=h+F,B in o&&createProperty(R,F,o[B]);if(R.length=D,O<D){for(F=h;F<l-D;F++)B=F+D,j=F+O,B in o?o[j]=o[B]:delete o[j];for(F=l;F>l-D+O;F--)delete o[F-1]}else if(O>D)for(F=l-D;F>h;F--)B=F+D-1,j=F+O-1,B in o?o[j]=o[B]:delete o[j];for(F=0;F<O;F++)o[F+h]=arguments[F+2];return o.length=l-D+O,R}});var entryVirtual$b=entryVirtual$i,splice$4=entryVirtual$b("Array").splice,isPrototypeOf$b=objectIsPrototypeOf,method$8=splice$4,ArrayPrototype$9=Array.prototype,splice$3=function(r){var e=r.splice;return r===ArrayPrototype$9||isPrototypeOf$b(ArrayPrototype$9,r)&&e===ArrayPrototype$9.splice?method$8:e},parent$y=splice$3,splice$2=parent$y,splice$1=splice$2,$$p=_export,$includes=arrayIncludes.includes;$$p({target:"Array",proto:!0},{includes:function r(e){return $includes(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$a=entryVirtual$i,includes$4=entryVirtual$a("Array").includes,isObject$8=isObject$j,classof$3=classofRaw$1,wellKnownSymbol$2=wellKnownSymbol$j,MATCH$1=wellKnownSymbol$2("match"),isRegexp=function(r){var e;return isObject$8(r)&&((e=r[MATCH$1])!==void 0?!!e:classof$3(r)=="RegExp")},global$e=global$O,isRegExp=isRegexp,TypeError$6=global$e.TypeError,notARegexp=function(r){if(isRegExp(r))throw TypeError$6("The method doesn't accept regular expressions");return r},wellKnownSymbol$1=wellKnownSymbol$j,MATCH=wellKnownSymbol$1("match"),correctIsRegexpLogic=function(r){var e=/./;try{"/./"[r](e)}catch{try{return e[MATCH]=!1,"/./"[r](e)}catch{}}return!1},$$o=_export,uncurryThis$a=functionUncurryThis,notARegExp=notARegexp,requireObjectCoercible$1=requireObjectCoercible$5,toString$4=toString$8,correctIsRegExpLogic=correctIsRegexpLogic,stringIndexOf=uncurryThis$a("".indexOf);$$o({target:"String",proto:!0,forced:!correctIsRegExpLogic("includes")},{includes:function r(e){return!!~stringIndexOf(toString$4(requireObjectCoercible$1(this)),toString$4(notARegExp(e)),arguments.length>1?arguments[1]:void 0)}});var entryVirtual$9=entryVirtual$i,includes$3=entryVirtual$9("String").includes,isPrototypeOf$a=objectIsPrototypeOf,arrayMethod=includes$4,stringMethod=includes$3,ArrayPrototype$8=Array.prototype,StringPrototype=String.prototype,includes$2=function(r){var e=r.includes;return r===ArrayPrototype$8||isPrototypeOf$a(ArrayPrototype$8,r)&&e===ArrayPrototype$8.includes?arrayMethod:typeof r=="string"||r===StringPrototype||isPrototypeOf$a(StringPrototype,r)&&e===StringPrototype.includes?stringMethod:e},parent$x=includes$2,includes$1=parent$x,includes=includes$1,$$n=_export,fails$b=fails$t,toObject$3=toObject$d,nativeGetPrototypeOf=objectGetPrototypeOf,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,FAILS_ON_PRIMITIVES$2=fails$b(function(){nativeGetPrototypeOf(1)});$$n({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$2,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function r(e){return nativeGetPrototypeOf(toObject$3(e))}});var path$h=path$y,getPrototypeOf$6=path$h.Object.getPrototypeOf,parent$w=getPrototypeOf$6,getPrototypeOf$5=parent$w,getPrototypeOf$4=getPrototypeOf$5,$$m=_export,$filter=arrayIteration.filter,arrayMethodHasSpeciesSupport=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("filter");$$m({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{filter:function r(e){return $filter(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$8=entryVirtual$i,filter$3=entryVirtual$8("Array").filter,isPrototypeOf$9=objectIsPrototypeOf,method$7=filter$3,ArrayPrototype$7=Array.prototype,filter$2=function(r){var e=r.filter;return r===ArrayPrototype$7||isPrototypeOf$9(ArrayPrototype$7,r)&&e===ArrayPrototype$7.filter?method$7:e},parent$v=filter$2,filter$1=parent$v,filter=filter$1,DESCRIPTORS$4=descriptors,uncurryThis$9=functionUncurryThis,objectKeys=objectKeys$4,toIndexedObject=toIndexedObject$b,$propertyIsEnumerable=objectPropertyIsEnumerable.f,propertyIsEnumerable=uncurryThis$9($propertyIsEnumerable),push$2=uncurryThis$9([].push),createMethod$2=function(r){return function(e){for(var t=toIndexedObject(e),o=objectKeys(t),l=o.length,h=0,y=[],O;l>h;)O=o[h++],(!DESCRIPTORS$4||propertyIsEnumerable(t,O))&&push$2(y,r?[O,t[O]]:t[O]);return y}},objectToArray={entries:createMethod$2(!0),values:createMethod$2(!1)},$$l=_export,$values=objectToArray.values;$$l({target:"Object",stat:!0},{values:function r(e){return $values(e)}});var path$g=path$y;path$g.Object.values;var whitespaces$4=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,uncurryThis$8=functionUncurryThis,requireObjectCoercible=requireObjectCoercible$5,toString$3=toString$8,whitespaces$3=whitespaces$4,replace$1=uncurryThis$8("".replace),whitespace="["+whitespaces$3+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod$1=function(r){return function(e){var t=toString$3(requireObjectCoercible(e));return r&1&&(t=replace$1(t,ltrim,"")),r&2&&(t=replace$1(t,rtrim,"")),t}},stringTrim={start:createMethod$1(1),end:createMethod$1(2),trim:createMethod$1(3)},global$d=global$O,fails$a=fails$t,uncurryThis$7=functionUncurryThis,toString$2=toString$8,trim$1=stringTrim.trim,whitespaces$2=whitespaces$4,$parseInt$1=global$d.parseInt,Symbol$2=global$d.Symbol,ITERATOR$1=Symbol$2&&Symbol$2.iterator,hex=/^[+-]?0x/i,exec$1=uncurryThis$7(hex.exec),FORCED$4=$parseInt$1(whitespaces$2+"08")!==8||$parseInt$1(whitespaces$2+"0x16")!==22||ITERATOR$1&&!fails$a(function(){$parseInt$1(Object(ITERATOR$1))}),numberParseInt=FORCED$4?function r(e,t){var o=trim$1(toString$2(e));return $parseInt$1(o,t>>>0||(exec$1(hex,o)?16:10))}:$parseInt$1,$$k=_export,$parseInt=numberParseInt;$$k({global:!0,forced:parseInt!=$parseInt},{parseInt:$parseInt});var path$f=path$y,_parseInt$2=path$f.parseInt,parent$u=_parseInt$2,_parseInt$1=parent$u,_parseInt=_parseInt$1,$$j=_export,uncurryThis$6=functionUncurryThis,$IndexOf=arrayIncludes.indexOf,arrayMethodIsStrict$4=arrayMethodIsStrict$6,un$IndexOf=uncurryThis$6([].indexOf),NEGATIVE_ZERO=!!un$IndexOf&&1/un$IndexOf([1],1,-0)<0,STRICT_METHOD$4=arrayMethodIsStrict$4("indexOf");$$j({target:"Array",proto:!0,forced:NEGATIVE_ZERO||!STRICT_METHOD$4},{indexOf:function r(e){var t=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO?un$IndexOf(this,e,t)||0:$IndexOf(this,e,t)}});var entryVirtual$7=entryVirtual$i,indexOf$3=entryVirtual$7("Array").indexOf,isPrototypeOf$8=objectIsPrototypeOf,method$6=indexOf$3,ArrayPrototype$6=Array.prototype,indexOf$2=function(r){var e=r.indexOf;return r===ArrayPrototype$6||isPrototypeOf$8(ArrayPrototype$6,r)&&e===ArrayPrototype$6.indexOf?method$6:e},parent$t=indexOf$2,indexOf$1=parent$t,indexOf=indexOf$1,PROPER_FUNCTION_NAME=functionName.PROPER,fails$9=fails$t,whitespaces$1=whitespaces$4,non="\u200B\x85\u180E",stringTrimForced=function(r){return fails$9(function(){return!!whitespaces$1[r]()||non[r]()!==non||PROPER_FUNCTION_NAME&&whitespaces$1[r].name!==r})},$$i=_export,$trim=stringTrim.trim,forcedStringTrimMethod=stringTrimForced;$$i({target:"String",proto:!0,forced:forcedStringTrimMethod("trim")},{trim:function r(){return $trim(this)}});var entryVirtual$6=entryVirtual$i;entryVirtual$6("String").trim;var $$h=_export,DESCRIPTORS$3=descriptors,create$8=objectCreate;$$h({target:"Object",stat:!0,sham:!DESCRIPTORS$3},{create:create$8});var path$e=path$y,Object$2=path$e.Object,create$7=function r(e,t){return Object$2.create(e,t)},parent$s=create$7,create$6=parent$s,create$5=create$6,$$g=_export,global$c=global$O,getBuiltIn$2=getBuiltIn$9,apply$3=functionApply,uncurryThis$5=functionUncurryThis,fails$8=fails$t,Array$1=global$c.Array,$stringify=getBuiltIn$2("JSON","stringify"),exec=uncurryThis$5(/./.exec),charAt$1=uncurryThis$5("".charAt),charCodeAt=uncurryThis$5("".charCodeAt),replace=uncurryThis$5("".replace),numberToString=uncurryThis$5(1 .toString),tester=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi=/^[\uDC00-\uDFFF]$/,fix=function(r,e,t){var o=charAt$1(t,e-1),l=charAt$1(t,e+1);return exec(low,r)&&!exec(hi,l)||exec(hi,r)&&!exec(low,o)?"\\u"+numberToString(charCodeAt(r,0),16):r},FORCED$3=fails$8(function(){return $stringify("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify("\uDEAD")!=='"\\udead"'});$stringify&&$$g({target:"JSON",stat:!0,forced:FORCED$3},{stringify:function(e,t,o){for(var l=0,h=arguments.length,y=Array$1(h);l<h;l++)y[l]=arguments[l];var O=apply$3($stringify,null,y);return typeof O=="string"?replace(O,tester,fix):O}});var path$d=path$y,apply$2=functionApply;path$d.JSON||(path$d.JSON={stringify:JSON.stringify});var stringify$3=function r(e,t,o){return apply$2(path$d.JSON.stringify,null,arguments)},parent$r=stringify$3,stringify$2=parent$r,stringify$1=stringify$2,global$b=global$O,TypeError$5=global$b.TypeError,validateArgumentsLength$1=function(r,e){if(r<e)throw TypeError$5("Not enough arguments");return r},$$f=_export,global$a=global$O,apply$1=functionApply,isCallable$1=isCallable$h,userAgent$2=engineUserAgent,arraySlice$1=arraySlice$5,validateArgumentsLength=validateArgumentsLength$1,MSIE=/MSIE .\./.test(userAgent$2),Function$1=global$a.Function,wrap=function(r){return function(e,t){var o=validateArgumentsLength(arguments.length,1)>2,l=isCallable$1(e)?e:Function$1(e),h=o?arraySlice$1(arguments,2):void 0;return r(o?function(){apply$1(l,this,h)}:l,t)}};$$f({global:!0,bind:!0,forced:MSIE},{setTimeout:wrap(global$a.setTimeout),setInterval:wrap(global$a.setInterval)});var path$c=path$y,setTimeout$2=path$c.setTimeout,setTimeout$1=setTimeout$2,toObject$2=toObject$d,toAbsoluteIndex=toAbsoluteIndex$5,lengthOfArrayLike$3=lengthOfArrayLike$b,arrayFill=function r(e){for(var t=toObject$2(this),o=lengthOfArrayLike$3(t),l=arguments.length,h=toAbsoluteIndex(l>1?arguments[1]:void 0,o),y=l>2?arguments[2]:void 0,O=y===void 0?o:toAbsoluteIndex(y,o);O>h;)t[h++]=e;return t},$$e=_export,fill$4=arrayFill;$$e({target:"Array",proto:!0},{fill:fill$4});var entryVirtual$5=entryVirtual$i,fill$3=entryVirtual$5("Array").fill,isPrototypeOf$7=objectIsPrototypeOf,method$5=fill$3,ArrayPrototype$5=Array.prototype,fill$2=function(r){var e=r.fill;return r===ArrayPrototype$5||isPrototypeOf$7(ArrayPrototype$5,r)&&e===ArrayPrototype$5.fill?method$5:e},parent$q=fill$2,fill$1=parent$q,fill=fill$1;/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _extends(){return _extends=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},_extends.apply(this,arguments)}function _inheritsLoose(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}function _assertThisInitialized$1(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var assign;typeof Object.assign!="function"?assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var h in l)l.hasOwnProperty(h)&&(t[h]=l[h])}return t}:assign=Object.assign;var assign$1=assign,VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT=typeof document=="undefined"?{style:{}}:document.createElement("div"),TYPE_FUNCTION="function",round=Math.round,abs$1=Math.abs,now=Date.now;function prefixed(r,e){for(var t,o,l=e[0].toUpperCase()+e.slice(1),h=0;h<VENDOR_PREFIXES.length;){if(t=VENDOR_PREFIXES[h],o=t?t+l:e,o in r)return o;h++}}var win;typeof window=="undefined"?win={}:win=window;var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction"),NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==void 0;function getTouchActionProps(){if(!NATIVE_TOUCH_ACTION)return!1;var r={},e=win.CSS&&win.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return r[t]=e?win.CSS.supports("touch-action",t):!0}),r}var TOUCH_ACTION_COMPUTE="compute",TOUCH_ACTION_AUTO="auto",TOUCH_ACTION_MANIPULATION="manipulation",TOUCH_ACTION_NONE="none",TOUCH_ACTION_PAN_X="pan-x",TOUCH_ACTION_PAN_Y="pan-y",TOUCH_ACTION_MAP=getTouchActionProps(),MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER_EVENTS=prefixed(win,"PointerEvent")!==void 0,SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent),INPUT_TYPE_TOUCH="touch",INPUT_TYPE_PEN="pen",INPUT_TYPE_MOUSE="mouse",INPUT_TYPE_KINECT="kinect",COMPUTE_INTERVAL=25,INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,INPUT_CANCEL=8,DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT,DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN,DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,PROPS_XY=["x","y"],PROPS_CLIENT_XY=["clientX","clientY"];function each(r,e,t){var o;if(!!r)if(r.forEach)r.forEach(e,t);else if(r.length!==void 0)for(o=0;o<r.length;)e.call(t,r[o],o,r),o++;else for(o in r)r.hasOwnProperty(o)&&e.call(t,r[o],o,r)}function boolOrFn(r,e){return typeof r===TYPE_FUNCTION?r.apply(e&&e[0]||void 0,e):r}function inStr(r,e){return r.indexOf(e)>-1}function cleanTouchActions(r){if(inStr(r,TOUCH_ACTION_NONE))return TOUCH_ACTION_NONE;var e=inStr(r,TOUCH_ACTION_PAN_X),t=inStr(r,TOUCH_ACTION_PAN_Y);return e&&t?TOUCH_ACTION_NONE:e||t?e?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y:inStr(r,TOUCH_ACTION_MANIPULATION)?TOUCH_ACTION_MANIPULATION:TOUCH_ACTION_AUTO}var TouchAction=function(){function r(t,o){this.manager=t,this.set(o)}var e=r.prototype;return e.set=function(o){o===TOUCH_ACTION_COMPUTE&&(o=this.compute()),NATIVE_TOUCH_ACTION&&this.manager.element.style&&TOUCH_ACTION_MAP[o]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION]=o),this.actions=o.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var o=[];return each(this.manager.recognizers,function(l){boolOrFn(l.options.enable,[l])&&(o=o.concat(l.getTouchAction()))}),cleanTouchActions(o.join(" "))},e.preventDefaults=function(o){var l=o.srcEvent,h=o.offsetDirection;if(this.manager.session.prevented){l.preventDefault();return}var y=this.actions,O=inStr(y,TOUCH_ACTION_NONE)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_NONE],D=inStr(y,TOUCH_ACTION_PAN_Y)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y],R=inStr(y,TOUCH_ACTION_PAN_X)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];if(O){var F=o.pointers.length===1,B=o.distance<2,j=o.deltaTime<250;if(F&&B&&j)return}if(!(R&&D)&&(O||D&&h&DIRECTION_HORIZONTAL||R&&h&DIRECTION_VERTICAL))return this.preventSrc(l)},e.preventSrc=function(o){this.manager.session.prevented=!0,o.preventDefault()},r}();function hasParent(r,e){for(;r;){if(r===e)return!0;r=r.parentNode}return!1}function getCenter(r){var e=r.length;if(e===1)return{x:round(r[0].clientX),y:round(r[0].clientY)};for(var t=0,o=0,l=0;l<e;)t+=r[l].clientX,o+=r[l].clientY,l++;return{x:round(t/e),y:round(o/e)}}function simpleCloneInputData(r){for(var e=[],t=0;t<r.pointers.length;)e[t]={clientX:round(r.pointers[t].clientX),clientY:round(r.pointers[t].clientY)},t++;return{timeStamp:now(),pointers:e,center:getCenter(e),deltaX:r.deltaX,deltaY:r.deltaY}}function getDistance(r,e,t){t||(t=PROPS_XY);var o=e[t[0]]-r[t[0]],l=e[t[1]]-r[t[1]];return Math.sqrt(o*o+l*l)}function getAngle(r,e,t){t||(t=PROPS_XY);var o=e[t[0]]-r[t[0]],l=e[t[1]]-r[t[1]];return Math.atan2(l,o)*180/Math.PI}function getDirection(r,e){return r===e?DIRECTION_NONE:abs$1(r)>=abs$1(e)?r<0?DIRECTION_LEFT:DIRECTION_RIGHT:e<0?DIRECTION_UP:DIRECTION_DOWN}function computeDeltaXY(r,e){var t=e.center,o=r.offsetDelta||{},l=r.prevDelta||{},h=r.prevInput||{};(e.eventType===INPUT_START||h.eventType===INPUT_END)&&(l=r.prevDelta={x:h.deltaX||0,y:h.deltaY||0},o=r.offsetDelta={x:t.x,y:t.y}),e.deltaX=l.x+(t.x-o.x),e.deltaY=l.y+(t.y-o.y)}function getVelocity(r,e,t){return{x:e/r||0,y:t/r||0}}function getScale(r,e){return getDistance(e[0],e[1],PROPS_CLIENT_XY)/getDistance(r[0],r[1],PROPS_CLIENT_XY)}function getRotation(r,e){return getAngle(e[1],e[0],PROPS_CLIENT_XY)+getAngle(r[1],r[0],PROPS_CLIENT_XY)}function computeIntervalInputData(r,e){var t=r.lastInterval||e,o=e.timeStamp-t.timeStamp,l,h,y,O;if(e.eventType!==INPUT_CANCEL&&(o>COMPUTE_INTERVAL||t.velocity===void 0)){var D=e.deltaX-t.deltaX,R=e.deltaY-t.deltaY,F=getVelocity(o,D,R);h=F.x,y=F.y,l=abs$1(F.x)>abs$1(F.y)?F.x:F.y,O=getDirection(D,R),r.lastInterval=e}else l=t.velocity,h=t.velocityX,y=t.velocityY,O=t.direction;e.velocity=l,e.velocityX=h,e.velocityY=y,e.direction=O}function computeInputData(r,e){var t=r.session,o=e.pointers,l=o.length;t.firstInput||(t.firstInput=simpleCloneInputData(e)),l>1&&!t.firstMultiple?t.firstMultiple=simpleCloneInputData(e):l===1&&(t.firstMultiple=!1);var h=t.firstInput,y=t.firstMultiple,O=y?y.center:h.center,D=e.center=getCenter(o);e.timeStamp=now(),e.deltaTime=e.timeStamp-h.timeStamp,e.angle=getAngle(O,D),e.distance=getDistance(O,D),computeDeltaXY(t,e),e.offsetDirection=getDirection(e.deltaX,e.deltaY);var R=getVelocity(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=R.x,e.overallVelocityY=R.y,e.overallVelocity=abs$1(R.x)>abs$1(R.y)?R.x:R.y,e.scale=y?getScale(y.pointers,o):1,e.rotation=y?getRotation(y.pointers,o):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,computeIntervalInputData(t,e);var F=r.element,B=e.srcEvent,j;B.composedPath?j=B.composedPath()[0]:B.path?j=B.path[0]:j=B.target,hasParent(j,F)&&(F=j),e.target=F}function inputHandler(r,e,t){var o=t.pointers.length,l=t.changedPointers.length,h=e&INPUT_START&&o-l===0,y=e&(INPUT_END|INPUT_CANCEL)&&o-l===0;t.isFirst=!!h,t.isFinal=!!y,h&&(r.session={}),t.eventType=e,computeInputData(r,t),r.emit("hammer.input",t),r.recognize(t),r.session.prevInput=t}function splitStr(r){return r.trim().split(/\s+/g)}function addEventListeners(r,e,t){each(splitStr(e),function(o){r.addEventListener(o,t,!1)})}function removeEventListeners(r,e,t){each(splitStr(e),function(o){r.removeEventListener(o,t,!1)})}function getWindowForElement(r){var e=r.ownerDocument||r;return e.defaultView||e.parentWindow||window}var Input=function(){function r(t,o){var l=this;this.manager=t,this.callback=o,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(h){boolOrFn(t.options.enable,[t])&&l.handler(h)},this.init()}var e=r.prototype;return e.handler=function(){},e.init=function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},r}();function inArray(r,e,t){if(r.indexOf&&!t)return r.indexOf(e);for(var o=0;o<r.length;){if(t&&r[o][t]==e||!t&&r[o]===e)return o;o++}return-1}var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL},IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";win.MSPointerEvent&&!win.PointerEvent&&(POINTER_ELEMENT_EVENTS="MSPointerDown",POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel");var PointerEventInput=function(r){_inheritsLoose(e,r);function e(){var o,l=e.prototype;return l.evEl=POINTER_ELEMENT_EVENTS,l.evWin=POINTER_WINDOW_EVENTS,o=r.apply(this,arguments)||this,o.store=o.manager.session.pointerEvents=[],o}var t=e.prototype;return t.handler=function(l){var h=this.store,y=!1,O=l.type.toLowerCase().replace("ms",""),D=POINTER_INPUT_MAP[O],R=IE10_POINTER_TYPE_ENUM[l.pointerType]||l.pointerType,F=R===INPUT_TYPE_TOUCH,B=inArray(h,l.pointerId,"pointerId");D&INPUT_START&&(l.button===0||F)?B<0&&(h.push(l),B=h.length-1):D&(INPUT_END|INPUT_CANCEL)&&(y=!0),!(B<0)&&(h[B]=l,this.callback(this.manager,D,{pointers:h,changedPointers:[l],pointerType:R,srcEvent:l}),y&&h.splice(B,1))},e}(Input);function toArray(r){return Array.prototype.slice.call(r,0)}function uniqueArray(r,e,t){for(var o=[],l=[],h=0;h<r.length;){var y=e?r[h][e]:r[h];inArray(l,y)<0&&o.push(r[h]),l[h]=y,h++}return t&&(e?o=o.sort(function(O,D){return O[e]>D[e]}):o=o.sort()),o}var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel",TouchInput=function(r){_inheritsLoose(e,r);function e(){var o;return e.prototype.evTarget=TOUCH_TARGET_EVENTS,o=r.apply(this,arguments)||this,o.targetIds={},o}var t=e.prototype;return t.handler=function(l){var h=TOUCH_INPUT_MAP[l.type],y=getTouches.call(this,l,h);!y||this.callback(this.manager,h,{pointers:y[0],changedPointers:y[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:l})},e}(Input);function getTouches(r,e){var t=toArray(r.touches),o=this.targetIds;if(e&(INPUT_START|INPUT_MOVE)&&t.length===1)return o[t[0].identifier]=!0,[t,t];var l,h,y=toArray(r.changedTouches),O=[],D=this.target;if(h=t.filter(function(R){return hasParent(R.target,D)}),e===INPUT_START)for(l=0;l<h.length;)o[h[l].identifier]=!0,l++;for(l=0;l<y.length;)o[y[l].identifier]&&O.push(y[l]),e&(INPUT_END|INPUT_CANCEL)&&delete o[y[l].identifier],l++;if(!!O.length)return[uniqueArray(h.concat(O),"identifier",!0),O]}var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END},MOUSE_ELEMENT_EVENTS="mousedown",MOUSE_WINDOW_EVENTS="mousemove mouseup",MouseInput=function(r){_inheritsLoose(e,r);function e(){var o,l=e.prototype;return l.evEl=MOUSE_ELEMENT_EVENTS,l.evWin=MOUSE_WINDOW_EVENTS,o=r.apply(this,arguments)||this,o.pressed=!1,o}var t=e.prototype;return t.handler=function(l){var h=MOUSE_INPUT_MAP[l.type];h&INPUT_START&&l.button===0&&(this.pressed=!0),h&INPUT_MOVE&&l.which!==1&&(h=INPUT_END),this.pressed&&(h&INPUT_END&&(this.pressed=!1),this.callback(this.manager,h,{pointers:[l],changedPointers:[l],pointerType:INPUT_TYPE_MOUSE,srcEvent:l}))},e}(Input),DEDUP_TIMEOUT=2500,DEDUP_DISTANCE=25;function setLastTouch(r){var e=r.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var o={x:t.clientX,y:t.clientY},l=this.lastTouches;this.lastTouches.push(o);var h=function(){var O=l.indexOf(o);O>-1&&l.splice(O,1)};setTimeout(h,DEDUP_TIMEOUT)}}function recordTouches(r,e){r&INPUT_START?(this.primaryTouch=e.changedPointers[0].identifier,setLastTouch.call(this,e)):r&(INPUT_END|INPUT_CANCEL)&&setLastTouch.call(this,e)}function isSyntheticEvent(r){for(var e=r.srcEvent.clientX,t=r.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var l=this.lastTouches[o],h=Math.abs(e-l.x),y=Math.abs(t-l.y);if(h<=DEDUP_DISTANCE&&y<=DEDUP_DISTANCE)return!0}return!1}var TouchMouseInput=function(){var r=function(e){_inheritsLoose(t,e);function t(l,h){var y;return y=e.call(this,l,h)||this,y.handler=function(O,D,R){var F=R.pointerType===INPUT_TYPE_TOUCH,B=R.pointerType===INPUT_TYPE_MOUSE;if(!(B&&R.sourceCapabilities&&R.sourceCapabilities.firesTouchEvents)){if(F)recordTouches.call(_assertThisInitialized$1(_assertThisInitialized$1(y)),D,R);else if(B&&isSyntheticEvent.call(_assertThisInitialized$1(_assertThisInitialized$1(y)),R))return;y.callback(O,D,R)}},y.touch=new TouchInput(y.manager,y.handler),y.mouse=new MouseInput(y.manager,y.handler),y.primaryTouch=null,y.lastTouches=[],y}var o=t.prototype;return o.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Input);return r}();function createInputInstance(r){var e,t=r.options.inputClass;return t?e=t:SUPPORT_POINTER_EVENTS?e=PointerEventInput:SUPPORT_ONLY_TOUCH?e=TouchInput:SUPPORT_TOUCH?e=TouchMouseInput:e=MouseInput,new e(r,inputHandler)}function invokeArrayArg(r,e,t){return Array.isArray(r)?(each(r,t[e],t),!0):!1}var STATE_POSSIBLE=1,STATE_BEGAN=2,STATE_CHANGED=4,STATE_ENDED=8,STATE_RECOGNIZED=STATE_ENDED,STATE_CANCELLED=16,STATE_FAILED=32,_uniqueId=1;function uniqueId(){return _uniqueId++}function getRecognizerByNameIfManager(r,e){var t=e.manager;return t?t.get(r):r}function stateStr(r){return r&STATE_CANCELLED?"cancel":r&STATE_ENDED?"end":r&STATE_CHANGED?"move":r&STATE_BEGAN?"start":""}var Recognizer=function(){function r(t){t===void 0&&(t={}),this.options=_extends({enable:!0},t),this.id=uniqueId(),this.manager=null,this.state=STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}var e=r.prototype;return e.set=function(o){return assign$1(this.options,o),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(o){if(invokeArrayArg(o,"recognizeWith",this))return this;var l=this.simultaneous;return o=getRecognizerByNameIfManager(o,this),l[o.id]||(l[o.id]=o,o.recognizeWith(this)),this},e.dropRecognizeWith=function(o){return invokeArrayArg(o,"dropRecognizeWith",this)?this:(o=getRecognizerByNameIfManager(o,this),delete this.simultaneous[o.id],this)},e.requireFailure=function(o){if(invokeArrayArg(o,"requireFailure",this))return this;var l=this.requireFail;return o=getRecognizerByNameIfManager(o,this),inArray(l,o)===-1&&(l.push(o),o.requireFailure(this)),this},e.dropRequireFailure=function(o){if(invokeArrayArg(o,"dropRequireFailure",this))return this;o=getRecognizerByNameIfManager(o,this);var l=inArray(this.requireFail,o);return l>-1&&this.requireFail.splice(l,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(o){return!!this.simultaneous[o.id]},e.emit=function(o){var l=this,h=this.state;function y(O){l.manager.emit(O,o)}h<STATE_ENDED&&y(l.options.event+stateStr(h)),y(l.options.event),o.additionalEvent&&y(o.additionalEvent),h>=STATE_ENDED&&y(l.options.event+stateStr(h))},e.tryEmit=function(o){if(this.canEmit())return this.emit(o);this.state=STATE_FAILED},e.canEmit=function(){for(var o=0;o<this.requireFail.length;){if(!(this.requireFail[o].state&(STATE_FAILED|STATE_POSSIBLE)))return!1;o++}return!0},e.recognize=function(o){var l=assign$1({},o);if(!boolOrFn(this.options.enable,[this,l])){this.reset(),this.state=STATE_FAILED;return}this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)&&(this.state=STATE_POSSIBLE),this.state=this.process(l),this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)&&this.tryEmit(l)},e.process=function(o){},e.getTouchAction=function(){},e.reset=function(){},r}(),TapRecognizer=function(r){_inheritsLoose(e,r);function e(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},o))||this,l.pTime=!1,l.pCenter=!1,l._timer=null,l._input=null,l.count=0,l}var t=e.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_MANIPULATION]},t.process=function(l){var h=this,y=this.options,O=l.pointers.length===y.pointers,D=l.distance<y.threshold,R=l.deltaTime<y.time;if(this.reset(),l.eventType&INPUT_START&&this.count===0)return this.failTimeout();if(D&&R&&O){if(l.eventType!==INPUT_END)return this.failTimeout();var F=this.pTime?l.timeStamp-this.pTime<y.interval:!0,B=!this.pCenter||getDistance(this.pCenter,l.center)<y.posThreshold;this.pTime=l.timeStamp,this.pCenter=l.center,!B||!F?this.count=1:this.count+=1,this._input=l;var j=this.count%y.taps;if(j===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){h.state=STATE_RECOGNIZED,h.tryEmit()},y.interval),STATE_BEGAN):STATE_RECOGNIZED}return STATE_FAILED},t.failTimeout=function(){var l=this;return this._timer=setTimeout(function(){l.state=STATE_FAILED},this.options.interval),STATE_FAILED},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Recognizer),AttrRecognizer=function(r){_inheritsLoose(e,r);function e(o){return o===void 0&&(o={}),r.call(this,_extends({pointers:1},o))||this}var t=e.prototype;return t.attrTest=function(l){var h=this.options.pointers;return h===0||l.pointers.length===h},t.process=function(l){var h=this.state,y=l.eventType,O=h&(STATE_BEGAN|STATE_CHANGED),D=this.attrTest(l);return O&&(y&INPUT_CANCEL||!D)?h|STATE_CANCELLED:O||D?y&INPUT_END?h|STATE_ENDED:h&STATE_BEGAN?h|STATE_CHANGED:STATE_BEGAN:STATE_FAILED},e}(Recognizer);function directionStr(r){return r===DIRECTION_DOWN?"down":r===DIRECTION_UP?"up":r===DIRECTION_LEFT?"left":r===DIRECTION_RIGHT?"right":""}var PanRecognizer=function(r){_inheritsLoose(e,r);function e(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},o))||this,l.pX=null,l.pY=null,l}var t=e.prototype;return t.getTouchAction=function(){var l=this.options.direction,h=[];return l&DIRECTION_HORIZONTAL&&h.push(TOUCH_ACTION_PAN_Y),l&DIRECTION_VERTICAL&&h.push(TOUCH_ACTION_PAN_X),h},t.directionTest=function(l){var h=this.options,y=!0,O=l.distance,D=l.direction,R=l.deltaX,F=l.deltaY;return D&h.direction||(h.direction&DIRECTION_HORIZONTAL?(D=R===0?DIRECTION_NONE:R<0?DIRECTION_LEFT:DIRECTION_RIGHT,y=R!==this.pX,O=Math.abs(l.deltaX)):(D=F===0?DIRECTION_NONE:F<0?DIRECTION_UP:DIRECTION_DOWN,y=F!==this.pY,O=Math.abs(l.deltaY))),l.direction=D,y&&O>h.threshold&&D&h.direction},t.attrTest=function(l){return AttrRecognizer.prototype.attrTest.call(this,l)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(l))},t.emit=function(l){this.pX=l.deltaX,this.pY=l.deltaY;var h=directionStr(l.direction);h&&(l.additionalEvent=this.options.event+h),r.prototype.emit.call(this,l)},e}(AttrRecognizer),SwipeRecognizer=function(r){_inheritsLoose(e,r);function e(o){return o===void 0&&(o={}),r.call(this,_extends({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},o))||this}var t=e.prototype;return t.getTouchAction=function(){return PanRecognizer.prototype.getTouchAction.call(this)},t.attrTest=function(l){var h=this.options.direction,y;return h&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)?y=l.overallVelocity:h&DIRECTION_HORIZONTAL?y=l.overallVelocityX:h&DIRECTION_VERTICAL&&(y=l.overallVelocityY),r.prototype.attrTest.call(this,l)&&h&l.offsetDirection&&l.distance>this.options.threshold&&l.maxPointers===this.options.pointers&&abs$1(y)>this.options.velocity&&l.eventType&INPUT_END},t.emit=function(l){var h=directionStr(l.offsetDirection);h&&this.manager.emit(this.options.event+h,l),this.manager.emit(this.options.event,l)},e}(AttrRecognizer),PinchRecognizer=function(r){_inheritsLoose(e,r);function e(o){return o===void 0&&(o={}),r.call(this,_extends({event:"pinch",threshold:0,pointers:2},o))||this}var t=e.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_NONE]},t.attrTest=function(l){return r.prototype.attrTest.call(this,l)&&(Math.abs(l.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},t.emit=function(l){if(l.scale!==1){var h=l.scale<1?"in":"out";l.additionalEvent=this.options.event+h}r.prototype.emit.call(this,l)},e}(AttrRecognizer),RotateRecognizer=function(r){_inheritsLoose(e,r);function e(o){return o===void 0&&(o={}),r.call(this,_extends({event:"rotate",threshold:0,pointers:2},o))||this}var t=e.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_NONE]},t.attrTest=function(l){return r.prototype.attrTest.call(this,l)&&(Math.abs(l.rotation)>this.options.threshold||this.state&STATE_BEGAN)},e}(AttrRecognizer),PressRecognizer=function(r){_inheritsLoose(e,r);function e(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends({event:"press",pointers:1,time:251,threshold:9},o))||this,l._timer=null,l._input=null,l}var t=e.prototype;return t.getTouchAction=function(){return[TOUCH_ACTION_AUTO]},t.process=function(l){var h=this,y=this.options,O=l.pointers.length===y.pointers,D=l.distance<y.threshold,R=l.deltaTime>y.time;if(this._input=l,!D||!O||l.eventType&(INPUT_END|INPUT_CANCEL)&&!R)this.reset();else if(l.eventType&INPUT_START)this.reset(),this._timer=setTimeout(function(){h.state=STATE_RECOGNIZED,h.tryEmit()},y.time);else if(l.eventType&INPUT_END)return STATE_RECOGNIZED;return STATE_FAILED},t.reset=function(){clearTimeout(this._timer)},t.emit=function(l){this.state===STATE_RECOGNIZED&&(l&&l.eventType&INPUT_END?this.manager.emit(this.options.event+"up",l):(this._input.timeStamp=now(),this.manager.emit(this.options.event,this._input)))},e}(Recognizer),defaults={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},preset=[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],STOP=1,FORCED_STOP=2;function toggleCssProps(r,e){var t=r.element;if(!!t.style){var o;each(r.options.cssProps,function(l,h){o=prefixed(t.style,h),e?(r.oldCssProps[o]=t.style[o],t.style[o]=l):t.style[o]=r.oldCssProps[o]||""}),e||(r.oldCssProps={})}}function triggerDomEvent(r,e){var t=document.createEvent("Event");t.initEvent(r,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var Manager=function(){function r(t,o){var l=this;this.options=assign$1({},defaults,o||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=createInputInstance(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each(this.options.recognizers,function(h){var y=l.add(new h[0](h[1]));h[2]&&y.recognizeWith(h[2]),h[3]&&y.requireFailure(h[3])},this)}var e=r.prototype;return e.set=function(o){return assign$1(this.options,o),o.touchAction&&this.touchAction.update(),o.inputTarget&&(this.input.destroy(),this.input.target=o.inputTarget,this.input.init()),this},e.stop=function(o){this.session.stopped=o?FORCED_STOP:STOP},e.recognize=function(o){var l=this.session;if(!l.stopped){this.touchAction.preventDefaults(o);var h,y=this.recognizers,O=l.curRecognizer;(!O||O&&O.state&STATE_RECOGNIZED)&&(l.curRecognizer=null,O=null);for(var D=0;D<y.length;)h=y[D],l.stopped!==FORCED_STOP&&(!O||h===O||h.canRecognizeWith(O))?h.recognize(o):h.reset(),!O&&h.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)&&(l.curRecognizer=h,O=h),D++}},e.get=function(o){if(o instanceof Recognizer)return o;for(var l=this.recognizers,h=0;h<l.length;h++)if(l[h].options.event===o)return l[h];return null},e.add=function(o){if(invokeArrayArg(o,"add",this))return this;var l=this.get(o.options.event);return l&&this.remove(l),this.recognizers.push(o),o.manager=this,this.touchAction.update(),o},e.remove=function(o){if(invokeArrayArg(o,"remove",this))return this;var l=this.get(o);if(o){var h=this.recognizers,y=inArray(h,l);y!==-1&&(h.splice(y,1),this.touchAction.update())}return this},e.on=function(o,l){if(o===void 0||l===void 0)return this;var h=this.handlers;return each(splitStr(o),function(y){h[y]=h[y]||[],h[y].push(l)}),this},e.off=function(o,l){if(o===void 0)return this;var h=this.handlers;return each(splitStr(o),function(y){l?h[y]&&h[y].splice(inArray(h[y],l),1):delete h[y]}),this},e.emit=function(o,l){this.options.domEvents&&triggerDomEvent(o,l);var h=this.handlers[o]&&this.handlers[o].slice();if(!(!h||!h.length)){l.type=o,l.preventDefault=function(){l.srcEvent.preventDefault()};for(var y=0;y<h.length;)h[y](l),y++}},e.destroy=function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},SINGLE_TOUCH_TARGET_EVENTS="touchstart",SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel",SingleTouchInput=function(r){_inheritsLoose(e,r);function e(){var o,l=e.prototype;return l.evTarget=SINGLE_TOUCH_TARGET_EVENTS,l.evWin=SINGLE_TOUCH_WINDOW_EVENTS,o=r.apply(this,arguments)||this,o.started=!1,o}var t=e.prototype;return t.handler=function(l){var h=SINGLE_TOUCH_INPUT_MAP[l.type];if(h===INPUT_START&&(this.started=!0),!!this.started){var y=normalizeSingleTouches.call(this,l,h);h&(INPUT_END|INPUT_CANCEL)&&y[0].length-y[1].length===0&&(this.started=!1),this.callback(this.manager,h,{pointers:y[0],changedPointers:y[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:l})}},e}(Input);function normalizeSingleTouches(r,e){var t=toArray(r.touches),o=toArray(r.changedTouches);return e&(INPUT_END|INPUT_CANCEL)&&(t=uniqueArray(t.concat(o),"identifier",!0)),[t,o]}function deprecate(r,e,t){var o="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var l=new Error("get-stack-trace"),h=l&&l.stack?l.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",y=window.console&&(window.console.warn||window.console.log);return y&&y.call(window.console,o,h),r.apply(this,arguments)}}var extend=deprecate(function(r,e,t){for(var o=Object.keys(e),l=0;l<o.length;)(!t||t&&r[o[l]]===void 0)&&(r[o[l]]=e[o[l]]),l++;return r},"extend","Use `assign`."),merge$2=deprecate(function(r,e){return extend(r,e,!0)},"merge","Use `assign`.");function inherit(r,e,t){var o=e.prototype,l;l=r.prototype=Object.create(o),l.constructor=r,l._super=o,t&&assign$1(l,t)}function bindFn(r,e){return function(){return r.apply(e,arguments)}}var Hammer$2=function(){var r=function(t,o){return o===void 0&&(o={}),new Manager(t,_extends({recognizers:preset.concat()},o))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=DIRECTION_ALL,r.DIRECTION_DOWN=DIRECTION_DOWN,r.DIRECTION_LEFT=DIRECTION_LEFT,r.DIRECTION_RIGHT=DIRECTION_RIGHT,r.DIRECTION_UP=DIRECTION_UP,r.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,r.DIRECTION_VERTICAL=DIRECTION_VERTICAL,r.DIRECTION_NONE=DIRECTION_NONE,r.DIRECTION_DOWN=DIRECTION_DOWN,r.INPUT_START=INPUT_START,r.INPUT_MOVE=INPUT_MOVE,r.INPUT_END=INPUT_END,r.INPUT_CANCEL=INPUT_CANCEL,r.STATE_POSSIBLE=STATE_POSSIBLE,r.STATE_BEGAN=STATE_BEGAN,r.STATE_CHANGED=STATE_CHANGED,r.STATE_ENDED=STATE_ENDED,r.STATE_RECOGNIZED=STATE_RECOGNIZED,r.STATE_CANCELLED=STATE_CANCELLED,r.STATE_FAILED=STATE_FAILED,r.Manager=Manager,r.Input=Input,r.TouchAction=TouchAction,r.TouchInput=TouchInput,r.MouseInput=MouseInput,r.PointerEventInput=PointerEventInput,r.TouchMouseInput=TouchMouseInput,r.SingleTouchInput=SingleTouchInput,r.Recognizer=Recognizer,r.AttrRecognizer=AttrRecognizer,r.Tap=TapRecognizer,r.Pan=PanRecognizer,r.Swipe=SwipeRecognizer,r.Pinch=PinchRecognizer,r.Rotate=RotateRecognizer,r.Press=PressRecognizer,r.on=addEventListeners,r.off=removeEventListeners,r.each=each,r.merge=merge$2,r.extend=extend,r.bindFn=bindFn,r.assign=assign$1,r.inherit=inherit,r.bindFn=bindFn,r.prefixed=prefixed,r.toArray=toArray,r.inArray=inArray,r.uniqueArray=uniqueArray,r.splitStr=splitStr,r.boolOrFn=boolOrFn,r.hasParent=hasParent,r.addEventListeners=addEventListeners,r.removeEventListeners=removeEventListeners,r.defaults=assign$1({},defaults,{preset}),r}(),RealHammer=Hammer$2;function _createForOfIteratorHelper$7(r,e){var t=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!t){if(isArray$1(r)||(t=_unsupportedIterableToArray$7(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$7(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$7(r,e);var o=slice(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$7(r,e)}}function _arrayLikeToArray$7(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}symbol("DELETE");function Alea(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return AleaImplementation(e.length?e:[now$1()])}function AleaImplementation(r){var e=mashSeed(r),t=_slicedToArray(e,3),o=t[0],l=t[1],h=t[2],y=1,O=function(){var R=2091639*o+y*23283064365386963e-26;return o=l,l=h,h=R-(y=R|0)};return O.uint32=function(){return O()*4294967296},O.fract53=function(){return O()+(O()*2097152|0)*11102230246251565e-32},O.algorithm="Alea",O.seed=r,O.version="0.9",O}function mashSeed(){for(var r=Mash(),e=r(" "),t=r(" "),o=r(" "),l=0;l<arguments.length;l++)e-=r(l<0||arguments.length<=l?void 0:arguments[l]),e<0&&(e+=1),t-=r(l<0||arguments.length<=l?void 0:arguments[l]),t<0&&(t+=1),o-=r(l<0||arguments.length<=l?void 0:arguments[l]),o<0&&(o+=1);return[e,t,o]}function Mash(){var r=4022871197;return function(e){for(var t=e.toString(),o=0;o<t.length;o++){r+=t.charCodeAt(o);var l=.02519603282416938*r;r=l>>>0,l-=r,l*=r,r=l>>>0,l-=r,r+=l*4294967296}return(r>>>0)*23283064365386963e-26}}function hammerMock(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get:function(){return{set:r}}}}var Hammer$1=typeof window!="undefined"?window.Hammer||RealHammer:function(){return hammerMock()};function Activator$1(r){var e=this,t;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){e._dom.overlay.parentNode.removeChild(e._dom.overlay)});var o=Hammer$1(this._dom.overlay);o.on("tap",bind$5(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push(function(){o.destroy()});var l=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];forEach$2(l).call(l,function(h){o.on(h,function(y){y.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(h){_hasParent(h.target,r)||e.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",e._onClick)})),this._escListener=function(h){("key"in h?h.key==="Escape":h.keyCode===27)&&e.deactivate()}}Emitter(Activator$1.prototype);Activator$1.current=null;Activator$1.prototype.destroy=function(){var r,e;this.deactivate();var t=_createForOfIteratorHelper$7(reverse(r=splice$1(e=this._cleanupQueue).call(e,0)).call(r)),o;try{for(t.s();!(o=t.n()).done;){var l=o.value;l()}}catch(h){t.e(h)}finally{t.f()}};Activator$1.prototype.activate=function(){Activator$1.current&&Activator$1.current.deactivate(),Activator$1.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Activator$1.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Activator$1.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function _hasParent(r,e){for(;r;){if(r===e)return!0;r=r.parentNode}return!1}var fullHexRE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,shortHexRE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rgbRE=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,rgbaRE=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function recursiveDOMDelete(r){if(r)for(;r.hasChildNodes()===!0;){var e=r.firstChild;e&&(recursiveDOMDelete(e),r.removeChild(e))}}function isString(r){return r instanceof String||typeof r=="string"}function isObject$7(r){return _typeof(r)==="object"&&r!==null}function copyOrDelete(r,e,t,o){var l=!1;o===!0&&(l=e[t]===null&&r[t]!==void 0),l?delete r[t]:r[t]=e[t]}function fillIfDefined(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var o in r)if(e[o]!==void 0)if(e[o]===null||_typeof(e[o])!=="object")copyOrDelete(r,e,o,t);else{var l=r[o],h=e[o];isObject$7(l)&&isObject$7(h)&&fillIfDefined(l,h,t)}}function selectiveDeepExtend(r,e,t){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(isArray$1(t))throw new TypeError("Arrays are not supported by deepExtend");for(var l=0;l<r.length;l++){var h=r[l];if(Object.prototype.hasOwnProperty.call(t,h))if(t[h]&&t[h].constructor===Object)e[h]===void 0&&(e[h]={}),e[h].constructor===Object?deepExtend(e[h],t[h],!1,o):copyOrDelete(e,t,h,o);else{if(isArray$1(t[h]))throw new TypeError("Arrays are not supported by deepExtend");copyOrDelete(e,t,h,o)}}return e}function selectiveNotDeepExtend(r,e,t){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(isArray$1(t))throw new TypeError("Arrays are not supported by deepExtend");for(var l in t)if(!!Object.prototype.hasOwnProperty.call(t,l)&&!includes(r).call(r,l))if(t[l]&&t[l].constructor===Object)e[l]===void 0&&(e[l]={}),e[l].constructor===Object?deepExtend(e[l],t[l]):copyOrDelete(e,t,l,o);else if(isArray$1(t[l])){e[l]=[];for(var h=0;h<t[l].length;h++)e[l].push(t[l][h])}else copyOrDelete(e,t,l,o);return e}function deepExtend(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)||t===!0)if(_typeof(e[l])==="object"&&e[l]!==null&&getPrototypeOf$4(e[l])===Object.prototype)r[l]===void 0?r[l]=deepExtend({},e[l],t):_typeof(r[l])==="object"&&r[l]!==null&&getPrototypeOf$4(r[l])===Object.prototype?deepExtend(r[l],e[l],t):copyOrDelete(r,e,l,o);else if(isArray$1(e[l])){var h;r[l]=slice(h=e[l]).call(h)}else copyOrDelete(r,e,l,o);return r}function copyAndExtendArray(r,e){var t;return concat(t=[]).call(t,_toConsumableArray(r),[e])}function copyArray(r){return slice(r).call(r)}function getAbsoluteLeft(r){return r.getBoundingClientRect().left}function getAbsoluteTop(r){return r.getBoundingClientRect().top}function forEach$1(r,e){if(isArray$1(r))for(var t=r.length,o=0;o<t;o++)e(r[o],o,r);else for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&e(r[l],l,r)}function addEventListener(r,e,t,o){if(r.addEventListener){var l;o===void 0&&(o=!1),e==="mousewheel"&&includes(l=navigator.userAgent).call(l,"Firefox")&&(e="DOMMouseScroll"),r.addEventListener(e,t,o)}else r.attachEvent("on"+e,t)}function removeEventListener(r,e,t,o){if(r.removeEventListener){var l;o===void 0&&(o=!1),e==="mousewheel"&&includes(l=navigator.userAgent).call(l,"Firefox")&&(e="DOMMouseScroll"),r.removeEventListener(e,t,o)}else r.detachEvent("on"+e,t)}function hexToRGB(r){var e;switch(r.length){case 3:case 4:return e=shortHexRE.exec(r),e?{r:_parseInt(e[1]+e[1],16),g:_parseInt(e[2]+e[2],16),b:_parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=fullHexRE.exec(r),e?{r:_parseInt(e[1],16),g:_parseInt(e[2],16),b:_parseInt(e[3],16)}:null;default:return null}}function overrideOpacity(r,e){if(includes(r).call(r,"rgba"))return r;if(includes(r).call(r,"rgb")){var t=r.substr(indexOf(r).call(r,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{var o=hexToRGB(r);return o==null?r:"rgba("+o.r+","+o.g+","+o.b+","+e+")"}}function RGBToHex(r,e,t){var o;return"#"+slice(o=((1<<24)+(r<<16)+(e<<8)+t).toString(16)).call(o,1)}function parseColor(r,e){if(isString(r)){var t=r;if(isValidRGB(t)){var o,l=map$3(o=t.substr(4).substr(0,t.length-5).split(",")).call(o,function(j){return _parseInt(j)});t=RGBToHex(l[0],l[1],l[2])}if(isValidHex(t)===!0){var h=hexToHSV(t),y={h:h.h,s:h.s*.8,v:Math.min(1,h.v*1.02)},O={h:h.h,s:Math.min(1,h.s*1.25),v:h.v*.8},D=HSVToHex(O.h,O.s,O.v),R=HSVToHex(y.h,y.s,y.v);return{background:t,border:D,highlight:{background:R,border:D},hover:{background:R,border:D}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else if(e){var F={background:r.background||e.background,border:r.border||e.border,highlight:isString(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||e.highlight.background,border:r.highlight&&r.highlight.border||e.highlight.border},hover:isString(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||e.hover.border,background:r.hover&&r.hover.background||e.hover.background}};return F}else{var B={background:r.background||void 0,border:r.border||void 0,highlight:isString(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||void 0,border:r.highlight&&r.highlight.border||void 0},hover:isString(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||void 0,background:r.hover&&r.hover.background||void 0}};return B}}function RGBToHSV(r,e,t){r=r/255,e=e/255,t=t/255;var o=Math.min(r,Math.min(e,t)),l=Math.max(r,Math.max(e,t));if(o===l)return{h:0,s:0,v:o};var h=r===o?e-t:t===o?r-e:t-r,y=r===o?3:t===o?1:5,O=60*(y-h/(l-o))/360,D=(l-o)/l,R=l;return{h:O,s:D,v:R}}function HSVToRGB(r,e,t){var o,l,h,y=Math.floor(r*6),O=r*6-y,D=t*(1-e),R=t*(1-O*e),F=t*(1-(1-O)*e);switch(y%6){case 0:o=t,l=F,h=D;break;case 1:o=R,l=t,h=D;break;case 2:o=D,l=t,h=F;break;case 3:o=D,l=R,h=t;break;case 4:o=F,l=D,h=t;break;case 5:o=t,l=D,h=R;break}return{r:Math.floor(o*255),g:Math.floor(l*255),b:Math.floor(h*255)}}function HSVToHex(r,e,t){var o=HSVToRGB(r,e,t);return RGBToHex(o.r,o.g,o.b)}function hexToHSV(r){var e=hexToRGB(r);if(!e)throw new TypeError("'".concat(r,"' is not a valid color."));return RGBToHSV(e.r,e.g,e.b)}function isValidHex(r){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r);return e}function isValidRGB(r){return rgbRE.test(r)}function isValidRGBA(r){return rgbaRE.test(r)}function bridgeObject(r){if(r===null||_typeof(r)!=="object")return null;if(r instanceof Element)return r;var e=create$5(r);for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&_typeof(r[t])=="object"&&(e[t]=bridgeObject(r[t]));return e}function mergeOptions(r,e,t){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=function(W){return W!=null},h=function(W){return W!==null&&_typeof(W)==="object"},y=function(W){for(var G in W)if(Object.prototype.hasOwnProperty.call(W,G))return!1;return!0};if(!h(r))throw new Error("Parameter mergeTarget must be an object");if(!h(e))throw new Error("Parameter options must be an object");if(!l(t))throw new Error("Parameter option must have a value");if(!h(o))throw new Error("Parameter globalOptions must be an object");var O=function(W,G,q){h(W[q])||(W[q]={});var K=G[q],Y=W[q];for(var X in K)Object.prototype.hasOwnProperty.call(K,X)&&(Y[X]=K[X])},D=e[t],R=h(o)&&!y(o),F=R?o[t]:void 0,B=F?F.enabled:void 0;if(D!==void 0){if(typeof D=="boolean"){h(r[t])||(r[t]={}),r[t].enabled=D;return}if(D===null&&!h(r[t]))if(l(F))r[t]=create$5(F);else return;if(!!h(D)){var j=!0;D.enabled!==void 0?j=D.enabled:B!==void 0&&(j=F.enabled),O(r,e,t),r[t].enabled=j}}}var easingFunctions={linear:function r(e){return e},easeInQuad:function r(e){return e*e},easeOutQuad:function r(e){return e*(2-e)},easeInOutQuad:function r(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function r(e){return e*e*e},easeOutCubic:function r(e){return--e*e*e+1},easeInOutCubic:function r(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function r(e){return e*e*e*e},easeOutQuart:function r(e){return 1- --e*e*e*e},easeInOutQuart:function r(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function r(e){return e*e*e*e*e},easeOutQuint:function r(e){return 1+--e*e*e*e*e},easeInOutQuint:function r(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function topMost(r,e){var t;isArray$1(e)||(e=[e]);var o=_createForOfIteratorHelper$7(r),l;try{for(o.s();!(l=o.n()).done;){var h=l.value;if(h){t=h[e[0]];for(var y=1;y<e.length;y++)t&&(t=t[e[y]]);if(typeof t!="undefined")break}}}catch(O){o.e(O)}finally{o.f()}return t}var htmlColors={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ColorPicker$1=function(){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;_classCallCheck(this,r),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return _createClass(r,[{key:"insertTo",value:function(t){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if(typeof t=="function")this.updateCallback=t;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(t){if(typeof t=="function")this.closeCallback=t;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(t){if(typeof t=="string")return htmlColors[t]}},{key:"setColor",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t!=="none"){var l,h=this._isColorString(t);if(h!==void 0&&(t=h),isString(t)===!0){if(isValidRGB(t)===!0){var y=t.substr(4).substr(0,t.length-5).split(",");l={r:y[0],g:y[1],b:y[2],a:1}}else if(isValidRGBA(t)===!0){var O=t.substr(5).substr(0,t.length-6).split(",");l={r:O[0],g:O[1],b:O[2],a:O[3]}}else if(isValidHex(t)===!0){var D=hexToRGB(t);l={r:D.r,g:D.g,b:D.b,a:1}}}else if(t instanceof Object&&t.r!==void 0&&t.g!==void 0&&t.b!==void 0){var R=t.a!==void 0?t.a:"1.0";l={r:t.r,g:t.g,b:t.b,a:R}}if(l===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+stringify$1(t));this._setColor(l,o)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o===!0&&(this.previousColor=assign$2({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout$1(function(){t.closeCallback!==void 0&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;o===!0&&(this.initialColor=assign$2({},t)),this.color=t;var l=RGBToHSV(t.r,t.g,t.b),h=2*Math.PI,y=this.r*l.s,O=this.centerCoordinates.x+y*Math.sin(h*l.h),D=this.centerCoordinates.y+y*Math.cos(h*l.h);this.colorPickerSelector.style.left=O-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=D-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var o=RGBToHSV(this.color.r,this.color.g,this.color.b);o.v=t/100;var l=HSVToRGB(o.h,o.s,o.v);l.a=this.color.a,this.color=l,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,o=RGBToHSV(t.r,t.g,t.b),l=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1)),l.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var h=this.colorPickerCanvas.clientWidth,y=this.colorPickerCanvas.clientHeight;l.clearRect(0,0,h,y),l.putImageData(this.hueCircle,0,0),l.fillStyle="rgba(0,0,0,"+(1-o.v)+")",l.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),fill(l).call(l),this.brightnessRange.value=100*o.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,o,l,h;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var O=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(O.webkitBackingStorePixelRatio||O.mozBackingStorePixelRatio||O.msBackingStorePixelRatio||O.oBackingStorePixelRatio||O.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var y=document.createElement("DIV");y.style.color="red",y.style.fontWeight="bold",y.style.padding="10px",y.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(y)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var D=this;this.opacityRange.onchange=function(){D._setOpacity(this.value)},this.opacityRange.oninput=function(){D._setOpacity(this.value)},this.brightnessRange.onchange=function(){D._setBrightness(this.value)},this.brightnessRange.oninput=function(){D._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=bind$5(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=bind$5(o=this._apply).call(o,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=bind$5(l=this._save).call(l,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=bind$5(h=this._loadLast).call(h,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new Hammer$1(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(o){o.isFirst&&t._moveSelector(o)}),this.hammer.on("tap",function(o){t._moveSelector(o)}),this.hammer.on("panstart",function(o){t._moveSelector(o)}),this.hammer.on("panmove",function(o){t._moveSelector(o)}),this.hammer.on("panend",function(o){t._moveSelector(o)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var t=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.colorPickerCanvas.clientWidth,l=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,o,l);var h,y,O,D;this.centerCoordinates={x:o*.5,y:l*.5},this.r=.49*o;var R=2*Math.PI/360,F=1/360,B=1/this.r,j;for(O=0;O<360;O++)for(D=0;D<this.r;D++)h=this.centerCoordinates.x+D*Math.sin(R*O),y=this.centerCoordinates.y+D*Math.cos(R*O),j=HSVToRGB(O*F,D*B,1),t.fillStyle="rgb("+j.r+","+j.g+","+j.b+")",t.fillRect(h-.5,y-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,o,l)}this.generated=!0}},{key:"_moveSelector",value:function(t){var o=this.colorPickerDiv.getBoundingClientRect(),l=t.center.x-o.left,h=t.center.y-o.top,y=.5*this.colorPickerDiv.clientHeight,O=.5*this.colorPickerDiv.clientWidth,D=l-O,R=h-y,F=Math.atan2(D,R),B=.98*Math.min(Math.sqrt(D*D+R*R),O),j=Math.cos(F)*B+y,U=Math.sin(F)*B+O;this.colorPickerSelector.style.top=j-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=U-.5*this.colorPickerSelector.clientWidth+"px";var W=F/(2*Math.PI);W=W<0?W+1:W;var G=B/this.r,q=RGBToHSV(this.color.r,this.color.g,this.color.b);q.h=W,q.s=G;var K=HSVToRGB(q.h,q.s,q.v);K.a=this.color.a,this.color=K,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),r}();function wrapInTag(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);var o=document.createElement(e[0]);return o.appendChild(wrapInTag.apply(void 0,_toConsumableArray(slice(e).call(e,1)))),o}var Configurator$1=function(){function r(e,t,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};_classCallCheck(this,r),this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=h,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},assign$2(this.options,this.defaultOptions),this.configureOptions=o,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ColorPicker$1(l),this.wrapper=void 0}return _createClass(r,[{key:"setOptions",value:function(t){if(t!==void 0){this.popupHistory={},this._removePopup();var o=!0;if(typeof t=="string")this.options.filter=t;else if(isArray$1(t))this.options.filter=t.join();else if(_typeof(t)==="object"){if(t==null)throw new TypeError("options cannot be null");t.container!==void 0&&(this.options.container=t.container),filter(t)!==void 0&&(this.options.filter=filter(t)),t.showButton!==void 0&&(this.options.showButton=t.showButton),t.enabled!==void 0&&(o=t.enabled)}else typeof t=="boolean"?(this.options.filter=!0,o=t):typeof t=="function"&&(this.options.filter=t,o=!0);filter(this.options)===!1&&(o=!1),this.options.enabled=o}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=filter(this.options),o=0,l=!1;for(var h in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,h)&&(this.allowCreation=!1,l=!1,typeof t=="function"?(l=t(h,[]),l=l||this._handleObject(this.configureOptions[h],[h],!0)):(t===!0||indexOf(t).call(t,h)!==-1)&&(l=!0),l!==!1&&(this.allowCreation=!0,o>0&&this._makeItem([]),this._makeHeader(h),this._handleObject(this.configureOptions[h],[h])),o++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var o=this.moduleOptions,l=0;l<t.length;l++)if(o[t[l]]!==void 0)o=o[t[l]];else{o=void 0;break}return o}},{key:"_makeItem",value:function(t){if(this.allowCreation===!0){var o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var l=arguments.length,h=new Array(l>1?l-1:0),y=1;y<l;y++)h[y-1]=arguments[y];return forEach$2(h).call(h,function(O){o.appendChild(O)}),this.domElements.push(o),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var o=document.createElement("div");o.className="vis-configuration vis-config-header",o.innerText=t,this._makeItem([],o)}},{key:"_makeLabel",value:function(t,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=document.createElement("div");if(h.className="vis-configuration vis-config-label vis-config-s"+o.length,l===!0){for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(wrapInTag("i","b",t))}else h.innerText=t+":";return h}},{key:"_makeDropdown",value:function(t,o,l){var h=document.createElement("select");h.className="vis-configuration vis-config-select";var y=0;o!==void 0&&indexOf(t).call(t,o)!==-1&&(y=indexOf(t).call(t,o));for(var O=0;O<t.length;O++){var D=document.createElement("option");D.value=t[O],O===y&&(D.selected="selected"),D.innerText=t[O],h.appendChild(D)}var R=this;h.onchange=function(){R._update(this.value,l)};var F=this._makeLabel(l[l.length-1],l);this._makeItem(l,F,h)}},{key:"_makeRange",value:function(t,o,l){var h=t[0],y=t[1],O=t[2],D=t[3],R=document.createElement("input");R.className="vis-configuration vis-config-range";try{R.type="range",R.min=y,R.max=O}catch{}R.step=D;var F="",B=0;if(o!==void 0){var j=1.2;o<0&&o*j<y?(R.min=Math.ceil(o*j),B=R.min,F="range increased"):o/j<y&&(R.min=Math.ceil(o/j),B=R.min,F="range increased"),o*j>O&&O!==1&&(R.max=Math.ceil(o*j),B=R.max,F="range increased"),R.value=o}else R.value=h;var U=document.createElement("input");U.className="vis-configuration vis-config-rangeinput",U.value=R.value;var W=this;R.onchange=function(){U.value=this.value,W._update(Number(this.value),l)},R.oninput=function(){U.value=this.value};var G=this._makeLabel(l[l.length-1],l),q=this._makeItem(l,G,R,U);F!==""&&this.popupHistory[q]!==B&&(this.popupHistory[q]=B,this._setupPopup(F,q))}},{key:"_makeButton",value:function(){var t=this;if(this.options.showButton===!0){var o=document.createElement("div");o.className="vis-configuration vis-config-button",o.innerText="generate options",o.onclick=function(){t._printOptions()},o.onmouseover=function(){o.className="vis-configuration vis-config-button hover"},o.onmouseout=function(){o.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(o)}}},{key:"_setupPopup",value:function(t,o){var l=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var h=document.createElement("div");h.id="vis-configuration-popup",h.className="vis-configuration-popup",h.innerText=t,h.onclick=function(){l._removePopup()},this.popupCounter+=1,this.popupDiv={html:h,index:o}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(this.popupDiv.html!==void 0){var o=this.domElements[this.popupDiv.index],l=o.getBoundingClientRect();this.popupDiv.html.style.left=l.left+"px",this.popupDiv.html.style.top=l.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout$1(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout$1(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,o,l){var h=document.createElement("input");h.type="checkbox",h.className="vis-configuration vis-config-checkbox",h.checked=t,o!==void 0&&(h.checked=o,o!==t&&(_typeof(t)==="object"?o!==t.enabled&&this.changedOptions.push({path:l,value:o}):this.changedOptions.push({path:l,value:o})));var y=this;h.onchange=function(){y._update(this.checked,l)};var O=this._makeLabel(l[l.length-1],l);this._makeItem(l,O,h)}},{key:"_makeTextInput",value:function(t,o,l){var h=document.createElement("input");h.type="text",h.className="vis-configuration vis-config-text",h.value=o,o!==t&&this.changedOptions.push({path:l,value:o});var y=this;h.onchange=function(){y._update(this.value,l)};var O=this._makeLabel(l[l.length-1],l);this._makeItem(l,O,h)}},{key:"_makeColorField",value:function(t,o,l){var h=this,y=t[1],O=document.createElement("div");o=o===void 0?y:o,o!=="none"?(O.className="vis-configuration vis-config-colorBlock",O.style.backgroundColor=o):O.className="vis-configuration vis-config-colorBlock none",o=o===void 0?y:o,O.onclick=function(){h._showColorPicker(o,O,l)};var D=this._makeLabel(l[l.length-1],l);this._makeItem(l,D,O)}},{key:"_showColorPicker",value:function(t,o,l){var h=this;o.onclick=function(){},this.colorPicker.insertTo(o),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(y){var O="rgba("+y.r+","+y.g+","+y.b+","+y.a+")";o.style.backgroundColor=O,h._update(O,l)}),this.colorPicker.setCloseCallback(function(){o.onclick=function(){h._showColorPicker(t,o,l)}})}},{key:"_handleObject",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=!1,y=filter(this.options),O=!1;for(var D in t)if(Object.prototype.hasOwnProperty.call(t,D)){h=!0;var R=t[D],F=copyAndExtendArray(o,D);if(typeof y=="function"&&(h=y(D,o),h===!1&&!isArray$1(R)&&typeof R!="string"&&typeof R!="boolean"&&R instanceof Object&&(this.allowCreation=!1,h=this._handleObject(R,F,!0),this.allowCreation=l===!1)),h!==!1){O=!0;var B=this._getValue(F);if(isArray$1(R))this._handleArray(R,B,F);else if(typeof R=="string")this._makeTextInput(R,B,F);else if(typeof R=="boolean")this._makeCheckbox(R,B,F);else if(R instanceof Object){if(!this.hideOption(o,D,this.moduleOptions))if(R.enabled!==void 0){var j=copyAndExtendArray(F,"enabled"),U=this._getValue(j);if(U===!0){var W=this._makeLabel(D,F,!0);this._makeItem(F,W),O=this._handleObject(R,F)||O}else this._makeCheckbox(R,U,F)}else{var G=this._makeLabel(D,F,!0);this._makeItem(F,G),O=this._handleObject(R,F)||O}}else console.error("dont know how to handle",R,D,F)}}return O}},{key:"_handleArray",value:function(t,o,l){typeof t[0]=="string"&&t[0]==="color"?(this._makeColorField(t,o,l),t[1]!==o&&this.changedOptions.push({path:l,value:o})):typeof t[0]=="string"?(this._makeDropdown(t,o,l),t[0]!==o&&this.changedOptions.push({path:l,value:o})):typeof t[0]=="number"&&(this._makeRange(t,o,l),t[0]!==o&&this.changedOptions.push({path:l,value:Number(o)}))}},{key:"_update",value:function(t,o){var l=this._constructOptions(t,o);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",l),this.initialized=!0,this.parent.setOptions(l)}},{key:"_constructOptions",value:function(t,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=l;t=t==="true"?!0:t,t=t==="false"?!1:t;for(var y=0;y<o.length;y++)o[y]!=="global"&&(h[o[y]]===void 0&&(h[o[y]]={}),y!==o.length-1?h=h[o[y]]:h[o[y]]=t);return l}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(wrapInTag("pre","const options = "+stringify$1(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},o=0;o<this.changedOptions.length;o++)this._constructOptions(this.changedOptions[o].value,this.changedOptions[o].path,t);return t}}]),r}(),Popup$1=function(){function r(e,t){_classCallCheck(this,r),this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return _createClass(r,[{key:"setPosition",value:function(t,o){this.x=_parseInt(t),this.y=_parseInt(o)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(t===void 0&&(t=!0),t===!0){var o=this.frame.clientHeight,l=this.frame.clientWidth,h=this.frame.parentNode.clientHeight,y=this.frame.parentNode.clientWidth,O=0,D=0;if(this.overflowMethod=="flip"){var R=!1,F=!0;this.y-o<this.padding&&(F=!1),this.x+l>y-this.padding&&(R=!0),R?O=this.x-l:O=this.x,F?D=this.y-o:D=this.y}else D=this.y-o,D+o+this.padding>h&&(D=h-o-this.padding),D<this.padding&&(D=this.padding),O=this.x,O+l+this.padding>y&&(O=y-l-this.padding),O<this.padding&&(O=this.padding);this.frame.style.left=O+"px",this.frame.style.top=D+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),r}(),errorFound=!1,allOptions$1,VALIDATOR_PRINT_STYLE$1="background: #FFeeee; color: #dd0000",Validator$1=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"validate",value:function(t,o,l){errorFound=!1,allOptions$1=o;var h=o;return l!==void 0&&(h=o[l]),r.parse(t,h,[]),errorFound}},{key:"parse",value:function(t,o,l){for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&r.check(h,t,o,l)}},{key:"check",value:function(t,o,l,h){if(l[t]===void 0&&l.__any__===void 0){r.getSuggestion(t,l,h);return}var y=t,O=!0;l[t]===void 0&&l.__any__!==void 0&&(y="__any__",O=r.getType(o[t])==="object");var D=l[y];O&&D.__type__!==void 0&&(D=D.__type__),r.checkFields(t,o,l,y,D,h)}},{key:"checkFields",value:function(t,o,l,h,y,O){var D=function(j){console.error("%c"+j+r.printLocation(O,t),VALIDATOR_PRINT_STYLE$1)},R=r.getType(o[t]),F=y[R];F!==void 0?r.getType(F)==="array"&&indexOf(F).call(F,o[t])===-1?(D('Invalid option detected in "'+t+'". Allowed values are:'+r.print(F)+' not "'+o[t]+'". '),errorFound=!0):R==="object"&&h!=="__any__"&&(O=copyAndExtendArray(O,t),r.parse(o[t],l[h],O)):y.any===void 0&&(D('Invalid type received for "'+t+'". Expected: '+r.print(keys(y))+". Received ["+R+'] "'+o[t]+'"'),errorFound=!0)}},{key:"getType",value:function(t){var o=_typeof(t);return o==="object"?t===null?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":isArray$1(t)?"array":t instanceof Date?"date":t.nodeType!==void 0?"dom":t._isAMomentObject===!0?"moment":"object":o==="number"?"number":o==="boolean"?"boolean":o==="string"?"string":o===void 0?"undefined":o}},{key:"getSuggestion",value:function(t,o,l){var h=r.findInOptions(t,o,l,!1),y=r.findInOptions(t,allOptions$1,[],!0),O=8,D=4,R;h.indexMatch!==void 0?R=" in "+r.printLocation(h.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+h.indexMatch+`"?

`:y.distance<=D&&h.distance>y.distance?R=" in "+r.printLocation(h.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+r.printLocation(y.path,y.closestMatch,""):h.distance<=O?R='. Did you mean "'+h.closestMatch+'"?'+r.printLocation(h.path,t):R=". Did you mean one of these: "+r.print(keys(o))+r.printLocation(l,t),console.error('%cUnknown option detected: "'+t+'"'+R,VALIDATOR_PRINT_STYLE$1),errorFound=!0}},{key:"findInOptions",value:function(t,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,y=1e9,O="",D=[],R=t.toLowerCase(),F=void 0;for(var B in o){var j=void 0;if(o[B].__type__!==void 0&&h===!0){var U=r.findInOptions(t,o[B],copyAndExtendArray(l,B));y>U.distance&&(O=U.closestMatch,D=U.path,y=U.distance,F=U.indexMatch)}else{var W;indexOf(W=B.toLowerCase()).call(W,R)!==-1&&(F=B),j=r.levenshteinDistance(t,B),y>j&&(O=B,D=copyArray(l),y=j)}}return{closestMatch:O,path:D,distance:y,indexMatch:F}}},{key:"printLocation",value:function(t,o){for(var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,h=`

`+l+`options = {
`,y=0;y<t.length;y++){for(var O=0;O<y+1;O++)h+="  ";h+=t[y]+`: {
`}for(var D=0;D<t.length+1;D++)h+="  ";h+=o+`
`;for(var R=0;R<t.length+1;R++){for(var F=0;F<t.length-R;F++)h+="  ";h+=`}
`}return h+`

`}},{key:"print",value:function(t){return stringify$1(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,o){if(t.length===0)return o.length;if(o.length===0)return t.length;var l=[],h;for(h=0;h<=o.length;h++)l[h]=[h];var y;for(y=0;y<=t.length;y++)l[0][y]=y;for(h=1;h<=o.length;h++)for(y=1;y<=t.length;y++)o.charAt(h-1)==t.charAt(y-1)?l[h][y]=l[h-1][y-1]:l[h][y]=Math.min(l[h-1][y-1]+1,Math.min(l[h][y-1]+1,l[h-1][y]+1));return l[o.length][t.length]}}]),r}(),Activator=Activator$1,Configurator=Configurator$1,Hammer=Hammer$1,Popup=Popup$1,VALIDATOR_PRINT_STYLE=VALIDATOR_PRINT_STYLE$1,Validator=Validator$1;function parseDOT(r){return dot=r,parseGraph()}var NODE_ATTR_MAPPING={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},EDGE_ATTR_MAPPING=create$5(NODE_ATTR_MAPPING);EDGE_ATTR_MAPPING.color="color.color";EDGE_ATTR_MAPPING.style="dashes";var TOKENTYPE={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},DELIMITERS={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},dot="",index=0,c="",token="",tokenType=TOKENTYPE.NULL;function first(){index=0,c=dot.charAt(0)}function next(){index++,c=dot.charAt(index)}function nextPreview(){return dot.charAt(index+1)}function isAlphaNumeric(r){var e=r.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function merge$1(r,e){if(r||(r={}),e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function setValue(r,e,t){for(var o=e.split("."),l=r;o.length;){var h=o.shift();o.length?(l[h]||(l[h]={}),l=l[h]):l[h]=t}}function addNode(r,e){for(var t,o,l=null,h=[r],y=r;y.parent;)h.push(y.parent),y=y.parent;if(y.nodes){for(t=0,o=y.nodes.length;t<o;t++)if(e.id===y.nodes[t].id){l=y.nodes[t];break}}for(l||(l={id:e.id},r.node&&(l.attr=merge$1(l.attr,r.node))),t=h.length-1;t>=0;t--){var O,D=h[t];D.nodes||(D.nodes=[]),indexOf(O=D.nodes).call(O,l)===-1&&D.nodes.push(l)}e.attr&&(l.attr=merge$1(l.attr,e.attr))}function addEdge(r,e){if(r.edges||(r.edges=[]),r.edges.push(e),r.edge){var t=merge$1({},r.edge);e.attr=merge$1(t,e.attr)}}function createEdge(r,e,t,o,l){var h={from:e,to:t,type:o};return r.edge&&(h.attr=merge$1({},r.edge)),h.attr=merge$1(h.attr||{},l),l!=null&&l.hasOwnProperty("arrows")&&l.arrows!=null&&(h.arrows={to:{enabled:!0,type:l.arrows.type}},l.arrows=null),h}function getToken(){for(tokenType=TOKENTYPE.NULL,token="";c===" "||c==="	"||c===`
`||c==="\r";)next();do{var r=!1;if(c==="#"){for(var e=index-1;dot.charAt(e)===" "||dot.charAt(e)==="	";)e--;if(dot.charAt(e)===`
`||dot.charAt(e)===""){for(;c!=""&&c!=`
`;)next();r=!0}}if(c==="/"&&nextPreview()==="/"){for(;c!=""&&c!=`
`;)next();r=!0}if(c==="/"&&nextPreview()==="*"){for(;c!="";)if(c==="*"&&nextPreview()==="/"){next(),next();break}else next();r=!0}for(;c===" "||c==="	"||c===`
`||c==="\r";)next()}while(r);if(c===""){tokenType=TOKENTYPE.DELIMITER;return}var t=c+nextPreview();if(DELIMITERS[t]){tokenType=TOKENTYPE.DELIMITER,token=t,next(),next();return}if(DELIMITERS[c]){tokenType=TOKENTYPE.DELIMITER,token=c,next();return}if(isAlphaNumeric(c)||c==="-"){for(token+=c,next();isAlphaNumeric(c);)token+=c,next();token==="false"?token=!1:token==="true"?token=!0:isNaN(Number(token))||(token=Number(token)),tokenType=TOKENTYPE.IDENTIFIER;return}if(c==='"'){for(next();c!=""&&(c!='"'||c==='"'&&nextPreview()==='"');)c==='"'?(token+=c,next()):c==="\\"&&nextPreview()==="n"?(token+=`
`,next()):token+=c,next();if(c!='"')throw newSyntaxError('End of string " expected');next(),tokenType=TOKENTYPE.IDENTIFIER;return}for(tokenType=TOKENTYPE.UNKNOWN;c!="";)token+=c,next();throw new SyntaxError('Syntax error in part "'+chop(token,30)+'"')}function parseGraph(){var r={};if(first(),getToken(),token==="strict"&&(r.strict=!0,getToken()),(token==="graph"||token==="digraph")&&(r.type=token,getToken()),tokenType===TOKENTYPE.IDENTIFIER&&(r.id=token,getToken()),token!="{")throw newSyntaxError("Angle bracket { expected");if(getToken(),parseStatements(r),token!="}")throw newSyntaxError("Angle bracket } expected");if(getToken(),token!=="")throw newSyntaxError("End of file expected");return getToken(),delete r.node,delete r.edge,delete r.graph,r}function parseStatements(r){for(;token!==""&&token!="}";)parseStatement(r),token===";"&&getToken()}function parseStatement(r){var e=parseSubgraph(r);if(e){parseEdge(r,e);return}var t=parseAttributeStatement(r);if(!t){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");var o=token;if(getToken(),token==="="){if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");r[o]=token,getToken()}else parseNodeStatement(r,o)}}function parseSubgraph(r){var e=null;if(token==="subgraph"&&(e={},e.type="subgraph",getToken(),tokenType===TOKENTYPE.IDENTIFIER&&(e.id=token,getToken())),token==="{"){if(getToken(),e||(e={}),e.parent=r,e.node=r.node,e.edge=r.edge,e.graph=r.graph,parseStatements(e),token!="}")throw newSyntaxError("Angle bracket } expected");getToken(),delete e.node,delete e.edge,delete e.graph,delete e.parent,r.subgraphs||(r.subgraphs=[]),r.subgraphs.push(e)}return e}function parseAttributeStatement(r){return token==="node"?(getToken(),r.node=parseAttributeList(),"node"):token==="edge"?(getToken(),r.edge=parseAttributeList(),"edge"):token==="graph"?(getToken(),r.graph=parseAttributeList(),"graph"):null}function parseNodeStatement(r,e){var t={id:e},o=parseAttributeList();o&&(t.attr=o),addNode(r,t),parseEdge(r,e)}function parseEdge(r,e){for(;token==="->"||token==="--";){var t,o=token;getToken();var l=parseSubgraph(r);if(l)t=l;else{if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier or subgraph expected");t=token,addNode(r,{id:t}),getToken()}var h=parseAttributeList(),y=createEdge(r,e,t,o,h);addEdge(r,y),e=t}}function parseAttributeList(){for(var r,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},o={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},l=new Array,h=new Array;token==="[";){for(getToken(),e={};token!==""&&token!="]";){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute name expected");var y=token;if(getToken(),token!="=")throw newSyntaxError("Equal sign = expected");if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute value expected");var O=token;y==="style"&&(O=t[O]);var D;y==="arrowhead"&&(D=o[O],y="arrows",O={to:{enabled:!0,type:D}}),y==="arrowtail"&&(D=o[O],y="arrows",O={from:{enabled:!0,type:D}}),l.push({attr:e,name:y,value:O}),h.push(y),getToken(),token==","&&getToken()}if(token!="]")throw newSyntaxError("Bracket ] expected");getToken()}if(includes(h).call(h,"dir")){var R={};for(R.arrows={},r=0;r<l.length;r++)if(l[r].name==="arrows")if(l[r].value.to!=null)R.arrows.to=r;else if(l[r].value.from!=null)R.arrows.from=r;else throw newSyntaxError("Invalid value of arrows");else l[r].name==="dir"&&(R.dir=r);var F=l[R.dir].value;if(!includes(h).call(h,"arrows"))if(F==="both")l.push({attr:l[R.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),R.arrows.to=l.length-1,l.push({attr:l[R.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),R.arrows.from=l.length-1;else if(F==="forward")l.push({attr:l[R.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),R.arrows.to=l.length-1;else if(F==="back")l.push({attr:l[R.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),R.arrows.from=l.length-1;else if(F==="none")l.push({attr:l[R.dir].attr,name:"arrows",value:""}),R.arrows.to=l.length-1;else throw newSyntaxError('Invalid dir type "'+F+'"');var B,j;if(F==="both")R.arrows.to&&R.arrows.from?(j=l[R.arrows.to].value.to.type,B=l[R.arrows.from].value.from.type,l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:j},from:{enabled:!0,type:B}}},splice$1(l).call(l,R.arrows.from,1)):R.arrows.to?(j=l[R.arrows.to].value.to.type,B="arrow",l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:j},from:{enabled:!0,type:B}}}):R.arrows.from&&(j="arrow",B=l[R.arrows.from].value.from.type,l[R.arrows.from]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{to:{enabled:!0,type:j},from:{enabled:!0,type:B}}});else if(F==="back")R.arrows.to&&R.arrows.from?(j="",B=l[R.arrows.from].value.from.type,l[R.arrows.from]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{to:{enabled:!0,type:j},from:{enabled:!0,type:B}}}):R.arrows.to?(j="",B="arrow",R.arrows.from=R.arrows.to,l[R.arrows.from]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{to:{enabled:!0,type:j},from:{enabled:!0,type:B}}}):R.arrows.from&&(j="",B=l[R.arrows.from].value.from.type,l[R.arrows.to]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{to:{enabled:!0,type:j},from:{enabled:!0,type:B}}}),l[R.arrows.from]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{from:{enabled:!0,type:l[R.arrows.from].value.from.type}}};else if(F==="none"){var U;R.arrows.to?U=R.arrows.to:U=R.arrows.from,l[U]={attr:l[U].attr,name:l[U].name,value:""}}else if(F==="forward")R.arrows.to&&R.arrows.from?(j=l[R.arrows.to].value.to.type,B="",l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:j},from:{enabled:!0,type:B}}}):R.arrows.to?(j=l[R.arrows.to].value.to.type,B="",l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:j},from:{enabled:!0,type:B}}}):R.arrows.from&&(j="arrow",B="",R.arrows.to=R.arrows.from,l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:j},from:{enabled:!0,type:B}}}),l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:l[R.arrows.to].value.to.type}}};else throw newSyntaxError('Invalid dir type "'+F+'"');splice$1(l).call(l,R.dir,1)}var W;if(includes(h).call(h,"penwidth")){var G=[];for(W=l.length,r=0;r<W;r++)l[r].name!=="width"&&(l[r].name==="penwidth"&&(l[r].name="width"),G.push(l[r]));l=G}for(W=l.length,r=0;r<W;r++)setValue(l[r].attr,l[r].name,l[r].value);return e}function newSyntaxError(r){return new SyntaxError(r+', got "'+chop(token,30)+'" (char '+index+")")}function chop(r,e){return r.length<=e?r:r.substr(0,27)+"..."}function forEach2(r,e,t){isArray$1(r)?forEach$2(r).call(r,function(o){isArray$1(e)?forEach$2(e).call(e,function(l){t(o,l)}):t(o,e)}):isArray$1(e)?forEach$2(e).call(e,function(o){t(r,o)}):t(r,e)}function setProp(r,e,t){for(var o=e.split("."),l=o.pop(),h=r,y=0;y<o.length;y++){var O=o[y];O in h||(h[O]={}),h=h[O]}return h[l]=t,r}function convertAttr(r,e){var t={};for(var o in r)if(r.hasOwnProperty(o)){var l=e[o];isArray$1(l)?forEach$2(l).call(l,function(h){setProp(t,h,r[o])}):typeof l=="string"?setProp(t,l,r[o]):setProp(t,o,r[o])}return t}function DOTToGraph(r){var e=parseDOT(r),t={nodes:[],edges:[],options:{}};if(e.nodes){var o;forEach$2(o=e.nodes).call(o,function(y){var O={id:y.id,label:String(y.label||y.id)};merge$1(O,convertAttr(y.attr,NODE_ATTR_MAPPING)),O.image&&(O.shape="image"),t.nodes.push(O)})}if(e.edges){var l,h=function(O){var D={from:O.from,to:O.to};return merge$1(D,convertAttr(O.attr,EDGE_ATTR_MAPPING)),D.arrows==null&&O.type==="->"&&(D.arrows="to"),D};forEach$2(l=e.edges).call(l,function(y){var O,D;if(y.from instanceof Object?O=y.from.nodes:O={id:y.from},y.to instanceof Object?D=y.to.nodes:D={id:y.to},y.from instanceof Object&&y.from.edges){var R;forEach$2(R=y.from.edges).call(R,function(B){var j=h(B);t.edges.push(j)})}if(forEach2(O,D,function(B,j){var U=createEdge(t,B.id,j.id,y.type,y.attr),W=h(U);t.edges.push(W)}),y.to instanceof Object&&y.to.edges){var F;forEach$2(F=y.to.edges).call(F,function(B){var j=h(B);t.edges.push(j)})}})}return e.attr&&(t.options=e.attr),t}function parseGephi(r,e){var t,o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(o.nodes.fixed=e.fixed),e.parseColor!=null&&(o.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(o.edges.inheritColor=e.inheritColor));var l=r.edges,h=map$3(l).call(l,function(O){var D={from:O.source,id:O.id,to:O.target};return O.attributes!=null&&(D.attributes=O.attributes),O.label!=null&&(D.label=O.label),O.attributes!=null&&O.attributes.title!=null&&(D.title=O.attributes.title),O.type==="Directed"&&(D.arrows="to"),O.color&&o.edges.inheritColor===!1&&(D.color=O.color),D}),y=map$3(t=r.nodes).call(t,function(O){var D={id:O.id,fixed:o.nodes.fixed&&O.x!=null&&O.y!=null};return O.attributes!=null&&(D.attributes=O.attributes),O.label!=null&&(D.label=O.label),O.size!=null&&(D.size=O.size),O.attributes!=null&&O.attributes.title!=null&&(D.title=O.attributes.title),O.title!=null&&(D.title=O.title),O.x!=null&&(D.x=O.x),O.y!=null&&(D.y=O.y),O.color!=null&&(o.nodes.parseColor===!0?D.color=O.color:D.color={background:O.color,border:O.color,highlight:{background:O.color,border:O.color},hover:{background:O.color,border:O.color}}),D});return{nodes:y,edges:h}}var en={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xFCgen",addNode:"Knoten hinzuf\xFCgen",back:"Zur\xFCck",close:"Schlie\xDFen",createEdgeError:"Es ist nicht m\xF6glich, Kanten mit Clustern zu verbinden.",del:"L\xF6sche Auswahl",deleteClusterError:"Cluster k\xF6nnen nicht gel\xF6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xF6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es={addDescription:"Haga clic en un lugar vac\xEDo para colocar un nuevo nodo.",addEdge:"A\xF1adir arista",addNode:"A\xF1adir nodo",back:"Atr\xE1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xF3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt={addDescription:"Clique em um espa\xE7o em branco para adicionar um novo n\xF3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xF3",back:"Voltar",close:"Fechar",createEdgeError:"N\xE3o foi poss\xEDvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xE3o puderam ser removidos.",edgeDescription:"Clique em um n\xF3 e arraste a aresta at\xE9 outro n\xF3 para conect\xE1-los",edit:"Editar",editClusterError:"Clusters n\xE3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xF3 para conect\xE1-los",editNode:"Editar n\xF3"},ru={addDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u043C\u0435\u0441\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0443\u0437\u0435\u043B.",addEdge:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u043E",addNode:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0437\u0435\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u044B\u0432\u0430\u0442\u044C",createEdgeError:"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u0430 \u0432 \u043A\u043B\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435",deleteClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u044B",edgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u0443\u0437\u0435\u043B \u0438 \u043F\u0440\u043E\u0442\u044F\u043D\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043E \u043A \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u0443\u0437\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",editClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0431\u0440\u043E",editEdgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u044B\u0435 \u0442\u043E\u0447\u043A\u0438 \u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043B, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u043D\u0435\u043C\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0437\u0435\u043B"},cn={addDescription:"\u5355\u51FB\u7A7A\u767D\u5904\u653E\u7F6E\u65B0\u8282\u70B9\u3002",addEdge:"\u6DFB\u52A0\u8FDE\u63A5\u7EBF",addNode:"\u6DFB\u52A0\u8282\u70B9",back:"\u8FD4\u56DE",close:"\u95DC\u9589",createEdgeError:"\u65E0\u6CD5\u5C06\u8FDE\u63A5\u7EBF\u8FDE\u63A5\u5230\u7FA4\u96C6\u3002",del:"\u5220\u9664\u9009\u5B9A",deleteClusterError:"\u65E0\u6CD5\u5220\u9664\u7FA4\u96C6\u3002",edgeDescription:"\u5355\u51FB\u67D0\u4E2A\u8282\u70B9\u5E76\u5C06\u8BE5\u8FDE\u63A5\u7EBF\u62D6\u52A8\u5230\u53E6\u4E00\u4E2A\u8282\u70B9\u4EE5\u8FDE\u63A5\u5B83\u4EEC\u3002",edit:"\u7F16\u8F91",editClusterError:"\u65E0\u6CD5\u7F16\u8F91\u7FA4\u96C6\u3002",editEdge:"\u7F16\u8F91\u8FDE\u63A5\u7EBF",editEdgeDescription:"\u5355\u51FB\u63A7\u5236\u8282\u70B9\u5E76\u5C06\u5B83\u4EEC\u62D6\u5230\u8282\u70B9\u4E0A\u8FDE\u63A5\u3002",editNode:"\u7F16\u8F91\u8282\u70B9"},uk={addDescription:"K\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0456\u043B\u044C\u043D\u0435 \u043C\u0456\u0441\u0446\u0435, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0432\u0443\u0437\u043E\u043B.",addEdge:"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",addNode:"\u0414\u043E\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438",createEdgeError:"\u041D\u0435 \u043C\u043E\u0436\u043B\u0438\u0432\u043E \u043E\u0431'\u0454\u0434\u043D\u0430\u0442\u0438 \u043A\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043F\u0443.",del:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0435",deleteClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435 \u043C\u043E\u0436\u0443\u0442\u044C \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u0456.",edgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0443\u0437\u043E\u043B \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u043A\u0440\u0430\u0439 \u0434\u043E \u0456\u043D\u0448\u043E\u0433\u043E \u0432\u0443\u0437\u043B\u0430, \u0449\u043E\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043D\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",editEdgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u0456 \u0442\u043E\u0447\u043A\u0438 \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0457\u0445 \u0443 \u0432\u0443\u0437\u043E\u043B, \u0449\u043E\u0431 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0438\u0441\u044F \u0434\u043E \u043D\u044C\u043E\u0433\u043E.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B"},fr={addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xE9er un lien vers un cluster.",del:"Effacer la s\xE9lection",deleteClusterError:"Les clusters ne peuvent pas \xEAtre effac\xE9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xC9diter",editClusterError:"Les clusters ne peuvent pas \xEAtre \xE9dit\xE9s.",editEdge:"\xC9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xF4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xC9diter le n\u0153ud"},cs={addDescription:"Kluknut\xEDm do pr\xE1zdn\xE9ho prostoru m\u016F\u017Eete p\u0159idat nov\xFD vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011Bt",close:"Zav\u0159\xEDt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xFDb\u011Br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017Een\xEDm z jednoho vrcholu do druh\xE9ho m\u016F\u017Eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017Een\xEDm kontroln\xEDho vrcholu hrany ji m\u016F\u017Eete p\u0159ipojit k jin\xE9mu vrcholu.",editNode:"Upravit vrchol"},locales=Object.freeze({__proto__:null,en,de,es,it,nl,pt,ru,cn,uk,fr,cs});function normalizeLanguageCode(r,e){try{var t=e.split(/[-_ /]/,2),o=_slicedToArray(t,2),l=o[0],h=o[1],y=l!=null?l.toLowerCase():null,O=h!=null?h.toUpperCase():null;if(y&&O){var D=y+"-"+O;if(Object.prototype.hasOwnProperty.call(r,D))return D;var R;console.warn(concat(R="Unknown variant ".concat(O," of language ")).call(R,y,"."))}if(y){var F=y;if(Object.prototype.hasOwnProperty.call(r,F))return F;console.warn("Unknown language ".concat(y))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(B){return console.error(B),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}var CachedImage=function(){function r(){_classCallCheck(this,r),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return _createClass(r,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,o=this.image.height;this.width=t,this.height=o;var l=Math.floor(o/2),h=Math.floor(o/4),y=Math.floor(o/8),O=Math.floor(o/16),D=Math.floor(t/2),R=Math.floor(t/4),F=Math.floor(t/8),B=Math.floor(t/16);this.canvas.width=3*R,this.canvas.height=l,this.coordinates=[[0,0,D,l],[D,0,R,h],[D,h,F,y],[5*F,h,B,O]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),o=this.coordinates[0];t.drawImage(this.image,o[0],o[1],o[2],o[3]);for(var l=1;l<this.NUM_ITERATIONS;l++){var h=this.coordinates[l-1],y=this.coordinates[l];t.drawImage(this.canvas,h[0],h[1],h[2],h[3],y[0],y[1],y[2],y[3])}}},{key:"drawImageAtPosition",value:function(t,o,l,h,y,O){if(!!this.initialized())if(o>2){o*=.5;for(var D=0;o>2&&D<this.NUM_ITERATIONS;)o*=.5,D+=1;D>=this.NUM_ITERATIONS&&(D=this.NUM_ITERATIONS-1);var R=this.coordinates[D];t.drawImage(this.canvas,R[0],R[1],R[2],R[3],l,h,y,O)}else t.drawImage(this.image,l,h,y,O)}}]),r}(),Images=function(){function r(e){_classCallCheck(this,r),this.images={},this.imageBroken={},this.callback=e}return _createClass(r,[{key:"_tryloadBrokenUrl",value:function(t,o,l){if(!(t===void 0||l===void 0)){if(o===void 0){console.warn("No broken url image defined");return}l.image.onerror=function(){console.error("Could not load brokenImage:",o)},l.image.src=o}}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,o){var l=this,h=this.images[t];if(h)return h;var y=new CachedImage;return this.images[t]=y,y.image.onload=function(){l._fixImageCoordinates(y.image),y.init(),l._redrawWithImage(y)},y.image.onerror=function(){console.error("Could not load image:",t),l._tryloadBrokenUrl(t,o,y)},y.image.src=t,y}},{key:"_fixImageCoordinates",value:function(t){t.width===0&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),r}(),internalMetadata={exports:{}},fails$7=fails$t,arrayBufferNonExtensible=fails$7(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),fails$6=fails$t,isObject$6=isObject$j,classof$2=classofRaw$1,ARRAY_BUFFER_NON_EXTENSIBLE=arrayBufferNonExtensible,$isExtensible=Object.isExtensible,FAILS_ON_PRIMITIVES$1=fails$6(function(){$isExtensible(1)}),objectIsExtensible=FAILS_ON_PRIMITIVES$1||ARRAY_BUFFER_NON_EXTENSIBLE?function r(e){return!isObject$6(e)||ARRAY_BUFFER_NON_EXTENSIBLE&&classof$2(e)=="ArrayBuffer"?!1:$isExtensible?$isExtensible(e):!0}:$isExtensible,fails$5=fails$t,freezing=!fails$5(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$d=_export,uncurryThis$4=functionUncurryThis,hiddenKeys=hiddenKeys$6,isObject$5=isObject$j,hasOwn$3=hasOwnProperty_1,defineProperty$2=objectDefineProperty.f,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertyNamesExternalModule=objectGetOwnPropertyNamesExternal,isExtensible$1=objectIsExtensible,uid=uid$4,FREEZING=freezing,REQUIRED=!1,METADATA=uid("meta"),id$1=0,setMetadata=function(r){defineProperty$2(r,METADATA,{value:{objectID:"O"+id$1++,weakData:{}}})},fastKey$1=function(r,e){if(!isObject$5(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!hasOwn$3(r,METADATA)){if(!isExtensible$1(r))return"F";if(!e)return"E";setMetadata(r)}return r[METADATA].objectID},getWeakData$1=function(r,e){if(!hasOwn$3(r,METADATA)){if(!isExtensible$1(r))return!0;if(!e)return!1;setMetadata(r)}return r[METADATA].weakData},onFreeze=function(r){return FREEZING&&REQUIRED&&isExtensible$1(r)&&!hasOwn$3(r,METADATA)&&setMetadata(r),r},enable=function(){meta.enable=function(){},REQUIRED=!0;var r=getOwnPropertyNamesModule.f,e=uncurryThis$4([].splice),t={};t[METADATA]=1,r(t).length&&(getOwnPropertyNamesModule.f=function(o){for(var l=r(o),h=0,y=l.length;h<y;h++)if(l[h]===METADATA){e(l,h,1);break}return l},$$d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},meta=internalMetadata.exports={enable,fastKey:fastKey$1,getWeakData:getWeakData$1,onFreeze};hiddenKeys[METADATA]=!0;var global$9=global$O,bind$2=functionBindContext,call$1=functionCall,anObject$3=anObject$d,tryToString$1=tryToString$4,isArrayIteratorMethod=isArrayIteratorMethod$2,lengthOfArrayLike$2=lengthOfArrayLike$b,isPrototypeOf$6=objectIsPrototypeOf,getIterator=getIterator$2,getIteratorMethod=getIteratorMethod$8,iteratorClose=iteratorClose$2,TypeError$4=global$9.TypeError,Result=function(r,e){this.stopped=r,this.result=e},ResultPrototype=Result.prototype,iterate$3=function(r,e,t){var o=t&&t.that,l=!!(t&&t.AS_ENTRIES),h=!!(t&&t.IS_ITERATOR),y=!!(t&&t.INTERRUPTED),O=bind$2(e,o),D,R,F,B,j,U,W,G=function(K){return D&&iteratorClose(D,"normal",K),new Result(!0,K)},q=function(K){return l?(anObject$3(K),y?O(K[0],K[1],G):O(K[0],K[1])):y?O(K,G):O(K)};if(h)D=r;else{if(R=getIteratorMethod(r),!R)throw TypeError$4(tryToString$1(r)+" is not iterable");if(isArrayIteratorMethod(R)){for(F=0,B=lengthOfArrayLike$2(r);B>F;F++)if(j=q(r[F]),j&&isPrototypeOf$6(ResultPrototype,j))return j;return new Result(!1)}D=getIterator(r,R)}for(U=D.next;!(W=call$1(U,D)).done;){try{j=q(W.value)}catch(K){iteratorClose(D,"throw",K)}if(typeof j=="object"&&j&&isPrototypeOf$6(ResultPrototype,j))return j}return new Result(!1)},global$8=global$O,isPrototypeOf$5=objectIsPrototypeOf,TypeError$3=global$8.TypeError,anInstance$3=function(r,e){if(isPrototypeOf$5(e,r))return r;throw TypeError$3("Incorrect invocation")},$$c=_export,global$7=global$O,InternalMetadataModule$1=internalMetadata.exports,fails$4=fails$t,createNonEnumerableProperty=createNonEnumerableProperty$6,iterate$2=iterate$3,anInstance$2=anInstance$3,isCallable=isCallable$h,isObject$4=isObject$j,setToStringTag=setToStringTag$5,defineProperty$1=objectDefineProperty.f,forEach=arrayIteration.forEach,DESCRIPTORS$2=descriptors,InternalStateModule$2=internalState,setInternalState$2=InternalStateModule$2.set,internalStateGetterFor$2=InternalStateModule$2.getterFor,collection$3=function(r,e,t){var o=r.indexOf("Map")!==-1,l=r.indexOf("Weak")!==-1,h=o?"set":"add",y=global$7[r],O=y&&y.prototype,D={},R;if(!DESCRIPTORS$2||!isCallable(y)||!(l||O.forEach&&!fails$4(function(){new y().entries().next()})))R=t.getConstructor(e,r,o,h),InternalMetadataModule$1.enable();else{R=e(function(j,U){setInternalState$2(anInstance$2(j,F),{type:r,collection:new y}),U!=null&&iterate$2(U,j[h],{that:j,AS_ENTRIES:o})});var F=R.prototype,B=internalStateGetterFor$2(r);forEach(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(j){var U=j=="add"||j=="set";j in O&&!(l&&j=="clear")&&createNonEnumerableProperty(F,j,function(W,G){var q=B(this).collection;if(!U&&l&&!isObject$4(W))return j=="get"?void 0:!1;var K=q[j](W===0?0:W,G);return U?this:K})}),l||defineProperty$1(F,"size",{configurable:!0,get:function(){return B(this).collection.size}})}return setToStringTag(R,r,!1,!0),D[r]=R,$$c({global:!0,forced:!0},D),l||t.setStrong(R,r,o),R},redefine=redefine$4,redefineAll$3=function(r,e,t){for(var o in e)t&&t.unsafe&&r[o]?r[o]=e[o]:redefine(r,o,e[o],t);return r},getBuiltIn$1=getBuiltIn$9,definePropertyModule=objectDefineProperty,wellKnownSymbol=wellKnownSymbol$j,DESCRIPTORS$1=descriptors,SPECIES=wellKnownSymbol("species"),setSpecies$1=function(r){var e=getBuiltIn$1(r),t=definePropertyModule.f;DESCRIPTORS$1&&e&&!e[SPECIES]&&t(e,SPECIES,{configurable:!0,get:function(){return this}})},defineProperty=objectDefineProperty.f,create$4=objectCreate,redefineAll$2=redefineAll$3,bind$1=functionBindContext,anInstance$1=anInstance$3,iterate$1=iterate$3,defineIterator=defineIterator$3,setSpecies=setSpecies$1,DESCRIPTORS=descriptors,fastKey=internalMetadata.exports.fastKey,InternalStateModule$1=internalState,setInternalState$1=InternalStateModule$1.set,internalStateGetterFor$1=InternalStateModule$1.getterFor,collectionStrong$2={getConstructor:function(r,e,t,o){var l=r(function(R,F){anInstance$1(R,h),setInternalState$1(R,{type:e,index:create$4(null),first:void 0,last:void 0,size:0}),DESCRIPTORS||(R.size=0),F!=null&&iterate$1(F,R[o],{that:R,AS_ENTRIES:t})}),h=l.prototype,y=internalStateGetterFor$1(e),O=function(R,F,B){var j=y(R),U=D(R,F),W,G;return U?U.value=B:(j.last=U={index:G=fastKey(F,!0),key:F,value:B,previous:W=j.last,next:void 0,removed:!1},j.first||(j.first=U),W&&(W.next=U),DESCRIPTORS?j.size++:R.size++,G!=="F"&&(j.index[G]=U)),R},D=function(R,F){var B=y(R),j=fastKey(F),U;if(j!=="F")return B.index[j];for(U=B.first;U;U=U.next)if(U.key==F)return U};return redefineAll$2(h,{clear:function(){for(var F=this,B=y(F),j=B.index,U=B.first;U;)U.removed=!0,U.previous&&(U.previous=U.previous.next=void 0),delete j[U.index],U=U.next;B.first=B.last=void 0,DESCRIPTORS?B.size=0:F.size=0},delete:function(R){var F=this,B=y(F),j=D(F,R);if(j){var U=j.next,W=j.previous;delete B.index[j.index],j.removed=!0,W&&(W.next=U),U&&(U.previous=W),B.first==j&&(B.first=U),B.last==j&&(B.last=W),DESCRIPTORS?B.size--:F.size--}return!!j},forEach:function(F){for(var B=y(this),j=bind$1(F,arguments.length>1?arguments[1]:void 0),U;U=U?U.next:B.first;)for(j(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(F){return!!D(this,F)}}),redefineAll$2(h,t?{get:function(F){var B=D(this,F);return B&&B.value},set:function(F,B){return O(this,F===0?0:F,B)}}:{add:function(F){return O(this,F=F===0?0:F,F)}}),DESCRIPTORS&&defineProperty(h,"size",{get:function(){return y(this).size}}),l},setStrong:function(r,e,t){var o=e+" Iterator",l=internalStateGetterFor$1(e),h=internalStateGetterFor$1(o);defineIterator(r,e,function(y,O){setInternalState$1(this,{type:o,target:y,state:l(y),kind:O,last:void 0})},function(){for(var y=h(this),O=y.kind,D=y.last;D&&D.removed;)D=D.previous;return!y.target||!(y.last=D=D?D.next:y.state.first)?(y.target=void 0,{value:void 0,done:!0}):O=="keys"?{value:D.key,done:!1}:O=="values"?{value:D.value,done:!1}:{value:[D.key,D.value],done:!1}},t?"entries":"values",!t,!0),setSpecies(e)}},collection$2=collection$3,collectionStrong$1=collectionStrong$2;collection$2("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1);var path$b=path$y,map$2=path$b.Map,parent$p=map$2,map$1=parent$p,map=map$1,Groups=function(){function r(){_classCallCheck(this,r),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},assign$2(this.options,this.defaultOptions)}return _createClass(r,[{key:"setOptions",value:function(t){var o=["useDefaultGroups"];if(t!==void 0){for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)&&indexOf(o).call(o,l)===-1){var h=t[l];this.add(l,h)}}}},{key:"clear",value:function(){this._groups=new map,this._groupNames=[]}},{key:"get",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=this._groups.get(t);if(l===void 0&&o)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var h=this._groupIndex%this._groupNames.length;++this._groupIndex,l={},l.color=this._groups.get(this._groupNames[h]),this._groups.set(t,l)}else{var y=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,l={},l.color=this._defaultGroups[y],this._groups.set(t,l)}return l}},{key:"add",value:function(t,o){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,o),o}}]),r}(),$$b=_export;$$b({target:"Number",stat:!0},{isNaN:function r(e){return e!=e}});var path$a=path$y,isNan$2=path$a.Number.isNaN,parent$o=isNan$2,isNan$1=parent$o,isNan=isNan$1,global$6=global$O,globalIsFinite=global$6.isFinite,numberIsFinite$1=Number.isFinite||function r(e){return typeof e=="number"&&globalIsFinite(e)},$$a=_export,numberIsFinite=numberIsFinite$1;$$a({target:"Number",stat:!0},{isFinite:numberIsFinite});var path$9=path$y,_isFinite$2=path$9.Number.isFinite,parent$n=_isFinite$2,_isFinite$1=parent$n,_isFinite=_isFinite$1,$$9=_export,$some=arrayIteration.some,arrayMethodIsStrict$3=arrayMethodIsStrict$6,STRICT_METHOD$3=arrayMethodIsStrict$3("some");$$9({target:"Array",proto:!0,forced:!STRICT_METHOD$3},{some:function r(e){return $some(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$4=entryVirtual$i,some$3=entryVirtual$4("Array").some,isPrototypeOf$4=objectIsPrototypeOf,method$4=some$3,ArrayPrototype$4=Array.prototype,some$2=function(r){var e=r.some;return r===ArrayPrototype$4||isPrototypeOf$4(ArrayPrototype$4,r)&&e===ArrayPrototype$4.some?method$4:e},parent$m=some$2,some$1=parent$m,some=some$1,global$5=global$O,fails$3=fails$t,uncurryThis$3=functionUncurryThis,toString$1=toString$8,trim=stringTrim.trim,whitespaces=whitespaces$4,charAt=uncurryThis$3("".charAt),n$ParseFloat=global$5.parseFloat,Symbol$1=global$5.Symbol,ITERATOR=Symbol$1&&Symbol$1.iterator,FORCED$2=1/n$ParseFloat(whitespaces+"-0")!==-1/0||ITERATOR&&!fails$3(function(){n$ParseFloat(Object(ITERATOR))}),numberParseFloat=FORCED$2?function r(e){var t=trim(toString$1(e)),o=n$ParseFloat(t);return o===0&&charAt(t,0)=="-"?-0:o}:n$ParseFloat,$$8=_export,$parseFloat=numberParseFloat;$$8({global:!0,forced:parseFloat!=$parseFloat},{parseFloat:$parseFloat});var path$8=path$y,_parseFloat$2=path$8.parseFloat,parent$l=_parseFloat$2,_parseFloat$1=parent$l,_parseFloat=_parseFloat$1,$$7=_export,fails$2=fails$t,getOwnPropertyNames$3=objectGetOwnPropertyNamesExternal.f,FAILS_ON_PRIMITIVES=fails$2(function(){return!Object.getOwnPropertyNames(1)});$$7({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES},{getOwnPropertyNames:getOwnPropertyNames$3});var path$7=path$y,Object$1=path$7.Object,getOwnPropertyNames$2=function r(e){return Object$1.getOwnPropertyNames(e)},parent$k=getOwnPropertyNames$2,getOwnPropertyNames$1=parent$k,getOwnPropertyNames=getOwnPropertyNames$1;function choosify(r,e){var t=["node","edge","label"],o=!0,l=topMost(e,"chosen");if(typeof l=="boolean")o=l;else if(_typeof(l)==="object"){if(indexOf(t).call(t,r)===-1)throw new Error("choosify: subOption '"+r+"' should be one of '"+t.join("', '")+"'");var h=topMost(e,["chosen",r]);(typeof h=="boolean"||typeof h=="function")&&(o=h)}return o}function pointInRect(r,e,t){if(r.width<=0||r.height<=0)return!1;if(t!==void 0){var o={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){var l=-t.angle,h={x:Math.cos(l)*o.x-Math.sin(l)*o.y,y:Math.sin(l)*o.x+Math.cos(l)*o.y};e=h}else e=o}var y=r.x+r.width,O=r.y+r.width;return r.left<e.x&&y>e.x&&r.top<e.y&&O>e.y}function isValidLabel(r){return typeof r=="string"&&r!==""}function getSelfRefCoordinates(r,e,t,o){var l=o.x,h=o.y;if(typeof o.distanceToBorder=="function"){var y=o.distanceToBorder(r,e),O=Math.sin(e)*y,D=Math.cos(e)*y;D===y?(l+=y,h=o.y):O===y?(l=o.x,h-=y):(l+=D,h-=O)}else o.shape.width>o.shape.height?(l=o.x+o.shape.width*.5,h=o.y-t):(l=o.x+t,h=o.y-o.shape.height*.5);return{x:l,y:h}}var entryVirtual$3=entryVirtual$i,values$3=entryVirtual$3("Array").values,parent$j=values$3,values$2=parent$j,classof$1=classof$c,hasOwn$2=hasOwnProperty_1,isPrototypeOf$3=objectIsPrototypeOf,method$3=values$2,ArrayPrototype$3=Array.prototype,DOMIterables={DOMTokenList:!0,NodeList:!0},values$1=function(r){var e=r.values;return r===ArrayPrototype$3||isPrototypeOf$3(ArrayPrototype$3,r)&&e===ArrayPrototype$3.values||hasOwn$2(DOMIterables,classof$1(r))?method$3:e},values=values$1,LabelAccumulator=function(){function r(e){_classCallCheck(this,r),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return _createClass(r,[{key:"_add",value:function(t,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[t]===void 0&&(this.lines[t]={width:0,height:0,blocks:[]});var h=o;(o===void 0||o==="")&&(h=" ");var y=this.measureText(h,l),O=assign$2({},values(y));O.text=o,O.width=y.width,O.mod=l,(o===void 0||o==="")&&(O.width=0),this.lines[t].blocks.push(O),this.lines[t].width+=O.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return t===void 0?0:t.width}},{key:"append",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,t,o)}},{key:"newLine",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,t,o),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var o=this.lines[t],l=0;if(o.blocks!==void 0)for(var h=0;h<o.blocks.length;h++){var y=o.blocks[h];l<y.height&&(l=y.height)}o.height=l}}},{key:"determineLabelSize",value:function(){for(var t=0,o=0,l=0;l<this.lines.length;l++){var h=this.lines[l];h.width>t&&(t=h.width),o+=h.height}this.width=t,this.height=o}},{key:"removeEmptyBlocks",value:function(){for(var t=[],o=0;o<this.lines.length;o++){var l=this.lines[o];if(l.blocks.length!==0&&!(o===this.lines.length-1&&l.width===0)){var h={};assign$2(h,l),h.blocks=[];for(var y=void 0,O=[],D=0;D<l.blocks.length;D++){var R=l.blocks[D];R.width!==0?O.push(R):y===void 0&&(y=R)}O.length===0&&y!==void 0&&O.push(y),h.blocks=O,t.push(h)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),r}(),tagPattern={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},MarkupAccumulator=function(){function r(e){_classCallCheck(this,r),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return _createClass(r,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){t===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),t!=" "&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return/[ \t]/.test(t)?(this.mono?this.add(t):this.spacing=!0,!0):!1}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,o){return!this.mono&&!this[t]&&this.match(o)?(this.setTag(t),!0):!1}},{key:"match",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=this.prepareRegExp(t),h=_slicedToArray(l,2),y=h[0],O=h[1],D=y.test(this.text.substr(this.position,O));return D&&o&&(this.position+=O-1),D}},{key:"parseEndTag",value:function(t,o,l){var h=this.mod()===t;return t==="mono"?h=h&&this.mono:h=h&&!this.mono,h&&this.match(o)?(l!==void 0?(this.position===this.text.length-1||this.match(l,!1))&&this.unsetTag(t):this.unsetTag(t),!0):!1}},{key:"replace",value:function(t,o){return this.match(t)?(this.add(o),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(t){var o,l;if(t instanceof RegExp)l=t,o=1;else{var h=tagPattern[t];h!==void 0?l=h:l=new RegExp(t),o=t.length}return[l,o]}}]),r}(),LabelSplitter=function(){function r(e,t,o,l){var h=this;_classCallCheck(this,r),this.ctx=e,this.parent=t,this.selected=o,this.hover=l;var y=function(D,R){if(D===void 0)return 0;var F=h.parent.getFormattingValues(e,o,l,R),B=0;if(D!==""){var j=h.ctx.measureText(D);B=j.width}return{width:B,values:F}};this.lines=new LabelAccumulator(y)}return _createClass(r,[{key:"process",value:function(t){if(!isValidLabel(t))return this.lines.finalize();var o=this.parent.fontOptions;t=t.replace(/\r\n/g,`
`),t=t.replace(/\r/g,`
`);var l=String(t).split(`
`),h=l.length;if(o.multi)for(var y=0;y<h;y++){var O=this.splitBlocks(l[y],o.multi);if(O!==void 0){if(O.length===0){this.lines.newLine("");continue}if(o.maxWdt>0)for(var D=0;D<O.length;D++){var R=O[D].mod,F=O[D].text;this.splitStringIntoLines(F,R,!0)}else for(var B=0;B<O.length;B++){var j=O[B].mod,U=O[B].text;this.lines.append(U,j)}this.lines.newLine()}}else if(o.maxWdt>0)for(var W=0;W<h;W++)this.splitStringIntoLines(l[W]);else for(var G=0;G<h;G++)this.lines.newLine(l[G]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var o="none";return t==="markdown"||t==="md"?o="markdown":(t===!0||t==="html")&&(o="html"),o}},{key:"splitHtmlBlocks",value:function(t){for(var o=new MarkupAccumulator(t),l=function(D){if(/&/.test(D)){var R=o.replace(o.text,"&lt;","<")||o.replace(o.text,"&amp;","&");return R||o.add("&"),!0}return!1};o.position<o.text.length;){var h=o.text.charAt(o.position),y=o.parseWS(h)||/</.test(h)&&(o.parseStartTag("bold","<b>")||o.parseStartTag("ital","<i>")||o.parseStartTag("mono","<code>")||o.parseEndTag("bold","</b>")||o.parseEndTag("ital","</i>")||o.parseEndTag("mono","</code>"))||l(h);y||o.add(h),o.position++}return o.emitBlock(),o.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var o=this,l=new MarkupAccumulator(t),h=!0,y=function(F){return/\\/.test(F)?(l.position<o.text.length+1&&(l.position++,F=o.text.charAt(l.position),/ \t/.test(F)?l.spacing=!0:(l.add(F),h=!1)),!0):!1};l.position<l.text.length;){var O=l.text.charAt(l.position),D=l.parseWS(O)||y(O)||(h||l.spacing)&&(l.parseStartTag("bold","*")||l.parseStartTag("ital","_")||l.parseStartTag("mono","`"))||l.parseEndTag("bold","*","afterBold")||l.parseEndTag("ital","_","afterItal")||l.parseEndTag("mono","`","afterMono");D||(l.add(O),h=!1),l.position++}return l.emitBlock(),l.blocks}},{key:"splitBlocks",value:function(t,o){var l=this.decodeMarkupSystem(o);if(l==="none")return[{text:t,mod:"normal"}];if(l==="markdown")return this.splitMarkdownBlocks(t);if(l==="html")return this.splitHtmlBlocks(t)}},{key:"overMaxWidth",value:function(t){var o=this.ctx.measureText(t).width;return this.lines.curWidth()+o>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var o="",l=0;l<t.length;){var h=o===""?"":" ",y=o+h+t[l];if(this.overMaxWidth(y))break;o=y,l++}return l}},{key:"getLongestFitWord",value:function(t){for(var o=0;o<t.length&&!this.overMaxWidth(slice(t).call(t,0,o));)o++;return o}},{key:"splitStringIntoLines",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,o),t=t.replace(/^( +)/g,"$1\r"),t=t.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var h=t.split("\r");h.length>0;){var y=this.getLongestFit(h);if(y===0){var O=h[0],D=this.getLongestFitWord(O);this.lines.newLine(slice(O).call(O,0,D),o),h[0]=slice(O).call(O,D)}else{var R=y;h[y-1]===" "?y--:h[R]===" "&&R++;var F=slice(h).call(h,0,y).join("");y==h.length&&l?this.lines.append(F,o):this.lines.newLine(F,o),h=slice(h).call(h,R)}}}}]),r}(),multiFontStyle=["bold","ital","boldital","mono"],Label=function(){function r(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;_classCallCheck(this,r),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=o}return _createClass(r,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),isValidLabel(t.label)?this.labelDirty=!0:t.label=void 0,t.font!==void 0&&t.font!==null){if(typeof t.font=="string")this.baseSize=this.fontOptions.size;else if(_typeof(t.font)==="object"){var o=t.font.size;o!==void 0&&(this.baseSize=o)}}}},{key:"initFontOptions",value:function(t){var o=this;if(forEach$1(multiFontStyle,function(l){o.fontOptions[l]={}}),r.parseFontString(this.fontOptions,t)){this.fontOptions.vadjust=0;return}forEach$1(t,function(l,h){l!=null&&_typeof(l)!=="object"&&(o.fontOptions[h]=l)})}},{key:"constrain",value:function(t){var o={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},l=topMost(t,"widthConstraint");if(typeof l=="number")o.maxWdt=Number(l),o.minWdt=Number(l);else if(_typeof(l)==="object"){var h=topMost(t,["widthConstraint","maximum"]);typeof h=="number"&&(o.maxWdt=Number(h));var y=topMost(t,["widthConstraint","minimum"]);typeof y=="number"&&(o.minWdt=Number(y))}var O=topMost(t,"heightConstraint");if(typeof O=="number")o.minHgt=Number(O);else if(_typeof(O)==="object"){var D=topMost(t,["heightConstraint","minimum"]);typeof D=="number"&&(o.minHgt=Number(D));var R=topMost(t,["heightConstraint","valign"]);typeof R=="string"&&(R==="top"||R==="bottom")&&(o.valign=R)}return o}},{key:"update",value:function(t,o){this.setOptions(t,!0),this.propagateFonts(o),deepExtend(this.fontOptions,this.constrain(o)),this.fontOptions.chooser=choosify("label",o)}},{key:"adjustSizes",value:function(t){var o=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=o,this.fontOptions.minWdt-=o);var l=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=l)}},{key:"addFontOptionsToPile",value:function(t,o){for(var l=0;l<o.length;++l)this.addFontToPile(t,o[l])}},{key:"addFontToPile",value:function(t,o){if(o!==void 0&&!(o.font===void 0||o.font===null)){var l=o.font;t.push(l)}}},{key:"getBasicOptions",value:function(t){for(var o={},l=0;l<t.length;++l){var h=t[l],y={};r.parseFontString(y,h)&&(h=y),forEach$1(h,function(O,D){O!==void 0&&(Object.prototype.hasOwnProperty.call(o,D)||(indexOf(multiFontStyle).call(multiFontStyle,D)!==-1?o[D]={}:o[D]=O))})}return o}},{key:"getFontOption",value:function(t,o,l){for(var h,y=0;y<t.length;++y){var O=t[y];if(Object.prototype.hasOwnProperty.call(O,o)){if(h=O[o],h==null)continue;var D={};if(r.parseFontString(D,h)&&(h=D),Object.prototype.hasOwnProperty.call(h,l))return h[l]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,l))return this.fontOptions[l];throw new Error("Did not find value for multi-font for property: '"+l+"'")}},{key:"getFontOptions",value:function(t,o){for(var l={},h=["color","size","face","mod","vadjust"],y=0;y<h.length;++y){var O=h[y];l[O]=this.getFontOption(t,o,O)}return l}},{key:"propagateFonts",value:function(t){var o=this,l=[];this.addFontOptionsToPile(l,t),this.fontOptions=this.getBasicOptions(l);for(var h=function(D){var R=multiFontStyle[D],F=o.fontOptions[R],B=o.getFontOptions(l,R);forEach$1(B,function(j,U){F[U]=j}),F.size=Number(F.size),F.vadjust=Number(F.vadjust)},y=0;y<multiFontStyle.length;++y)h(y)}},{key:"draw",value:function(t,o,l,h,y){var O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var D=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&D<this.elementOptions.scaling.label.drawThreshold-1||(D>=this.elementOptions.scaling.label.maxVisible&&(D=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,h,y,o,l,O),this._drawBackground(t),this._drawText(t,o,this.size.yLine,O,D))}}},{key:"_drawBackground",value:function(t){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){t.fillStyle=this.fontOptions.background;var o=this.getSize();t.fillRect(o.left,o.top,o.width,o.height)}}},{key:"_drawText",value:function(t,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",y=arguments.length>4?arguments[4]:void 0,O=this._setAlignment(t,o,l,h),D=_slicedToArray(O,2);o=D[0],l=D[1],t.textAlign="left",o=o-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(l-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(l+=(this.size.height-this.size.labelHeight)/2));for(var R=0;R<this.lineCount;R++){var F=this.lines[R];if(F&&F.blocks){var B=0;this.isEdgeLabel||this.fontOptions.align==="center"?B+=(this.size.width-F.width)/2:this.fontOptions.align==="right"&&(B+=this.size.width-F.width);for(var j=0;j<F.blocks.length;j++){var U=F.blocks[j];t.font=U.font;var W=this._getColor(U.color,y,U.strokeColor),G=_slicedToArray(W,2),q=G[0],K=G[1];U.strokeWidth>0&&(t.lineWidth=U.strokeWidth,t.strokeStyle=K,t.lineJoin="round"),t.fillStyle=q,U.strokeWidth>0&&t.strokeText(U.text,o+B,l+U.vadjust),t.fillText(U.text,o+B,l+U.vadjust),B+=U.width}l+=F.height}}}},{key:"_setAlignment",value:function(t,o,l,h){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){o=0,l=0;var y=2;this.fontOptions.align==="top"?(t.textBaseline="alphabetic",l-=2*y):this.fontOptions.align==="bottom"?(t.textBaseline="hanging",l+=2*y):t.textBaseline="middle"}else t.textBaseline=h;return[o,l]}},{key:"_getColor",value:function(t,o,l){var h=t||"#000000",y=l||"#ffffff";if(o<=this.elementOptions.scaling.label.drawThreshold){var O=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-o)));h=overrideOpacity(h,O),y=overrideOpacity(y,O)}return[h,y]}},{key:"getTextSize",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(t,o,l),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=2,o=this.size.left,l=this.size.top-.5*t;if(this.isEdgeLabel){var h=-this.size.width*.5;switch(this.fontOptions.align){case"middle":o=h,l=-this.size.height*.5;break;case"top":o=h,l=-(this.size.height+t);break;case"bottom":o=h,l=t;break}}var y={left:o,top:l,width:this.size.width,height:this.size.height};return y}},{key:"calculateLabelSize",value:function(t,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(t,o,l),this.size.left=h-this.size.width*.5,this.size.top=y-this.size.height*.5,this.size.yLine=y+(1-this.lineCount)*.5*this.fontOptions.size,O==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,o,l,h){var y=function(F,B,j){return B==="normal"?j==="mod"?"":F[j]:F[B][j]!==void 0?F[B][j]:F[j]},O={color:y(this.fontOptions,h,"color"),size:y(this.fontOptions,h,"size"),face:y(this.fontOptions,h,"face"),mod:y(this.fontOptions,h,"mod"),vadjust:y(this.fontOptions,h,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(o||l)&&(h==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?O.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(O,this.elementOptions.id,o,l));var D="";return O.mod!==void 0&&O.mod!==""&&(D+=O.mod+" "),D+=O.size+"px "+O.face,t.font=D.replace(/"/g,""),O.font=t.font,O.height=O.size,O}},{key:"differentState",value:function(t,o){return t!==this.selectedState||o!==this.hoverState}},{key:"_processLabelText",value:function(t,o,l,h){var y=new LabelSplitter(t,this,o,l);return y.process(h)}},{key:"_processLabel",value:function(t,o,l){if(!(this.labelDirty===!1&&!this.differentState(o,l))){var h=this._processLabelText(t,o,l,this.elementOptions.label);this.fontOptions.minWdt>0&&h.width<this.fontOptions.minWdt&&(h.width=this.fontOptions.minWdt),this.size.labelHeight=h.height,this.fontOptions.minHgt>0&&h.height<this.fontOptions.minHgt&&(h.height=this.fontOptions.minHgt),this.lines=h.lines,this.lineCount=h.lines.length,this.size.width=h.width,this.size.height=h.height,this.selectedState=o,this.hoverState=l,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var t=this.fontOptions.size*this.body.view.scale;return!(t<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,o){if(!o||typeof o!="string")return!1;var l=o.split(" ");return t.size=+l[0].replace("px",""),t.face=l[1],t.color=l[2],!0}}]),r}(),global$4=global$O,isConstructor=isConstructor$4,tryToString=tryToString$4,TypeError$2=global$4.TypeError,aConstructor$1=function(r){if(isConstructor(r))return r;throw TypeError$2(tryToString(r)+" is not a constructor")},$$6=_export,getBuiltIn=getBuiltIn$9,apply=functionApply,bind=functionBind,aConstructor=aConstructor$1,anObject$2=anObject$d,isObject$3=isObject$j,create$3=objectCreate,fails$1=fails$t,nativeConstruct=getBuiltIn("Reflect","construct"),ObjectPrototype=Object.prototype,push$1=[].push,NEW_TARGET_BUG=fails$1(function(){function r(){}return!(nativeConstruct(function(){},[],r)instanceof r)}),ARGS_BUG=!fails$1(function(){nativeConstruct(function(){})}),FORCED$1=NEW_TARGET_BUG||ARGS_BUG;$$6({target:"Reflect",stat:!0,forced:FORCED$1,sham:FORCED$1},{construct:function r(e,t){aConstructor(e),anObject$2(t);var o=arguments.length<3?e:aConstructor(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(e,t,o);if(e==o){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var l=[null];return apply(push$1,l,t),new(apply(bind,e,l))}var h=o.prototype,y=create$3(isObject$3(h)?h:ObjectPrototype),O=apply(e,y,t);return isObject$3(O)?O:y}});var path$6=path$y,construct$2=path$6.Reflect.construct,parent$i=construct$2,construct$1=parent$i,construct=construct$1,parent$h=create$6,create$2=parent$h,parent$g=create$2,create$1=parent$g,create=create$1,$$5=_export,setPrototypeOf$5=objectSetPrototypeOf;$$5({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$5});var path$5=path$y,setPrototypeOf$4=path$5.Object.setPrototypeOf,parent$f=setPrototypeOf$4,setPrototypeOf$3=parent$f,parent$e=setPrototypeOf$3,setPrototypeOf$2=parent$e,parent$d=setPrototypeOf$2,setPrototypeOf$1=parent$d,setPrototypeOf=setPrototypeOf$1;function _setPrototypeOf(r,e){return _setPrototypeOf=setPrototypeOf||function(o,l){return o.__proto__=l,o},_setPrototypeOf(r,e)}function _inherits(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),defineProperty$3(r,"prototype",{writable:!1}),e&&_setPrototypeOf(r,e)}function _assertThisInitialized(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _possibleConstructorReturn(r,e){if(e&&(_typeof(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(r)}var parent$c=getPrototypeOf$5,getPrototypeOf$3=parent$c,parent$b=getPrototypeOf$3,getPrototypeOf$2=parent$b,getPrototypeOf$1=getPrototypeOf$2;function _getPrototypeOf(r){return _getPrototypeOf=setPrototypeOf?getPrototypeOf$1:function(t){return t.__proto__||getPrototypeOf$1(t)},_getPrototypeOf(r)}var NodeBase=function(){function r(e,t,o){_classCallCheck(this,r),this.body=t,this.labelModule=o,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return _createClass(r,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&(_typeof(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,o){var l=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(o)),Math.abs(this.height/2/Math.sin(o)))+l}},{key:"enableShadow",value:function(t,o){o.shadow&&(t.shadowColor=o.shadowColor,t.shadowBlur=o.shadowSize,t.shadowOffsetX=o.shadowX,t.shadowOffsetY=o.shadowY)}},{key:"disableShadow",value:function(t,o){o.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,o){if(o.borderDashes!==!1)if(t.setLineDash!==void 0){var l=o.borderDashes;l===!0&&(l=[5,15]),t.setLineDash(l)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,o.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,o){o.borderDashes!==!1&&(t.setLineDash!==void 0?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,o.borderDashes=!1))}},{key:"needsRefresh",value:function(t,o){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(t,o)}},{key:"initContextForDraw",value:function(t,o){var l=o.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,l),t.strokeStyle=o.borderColor,t.fillStyle=o.color}},{key:"performStroke",value:function(t,o){var l=o.borderWidth/this.body.view.scale;t.save(),l>0&&(this.enableBorderDashes(t,o),t.stroke(),this.disableBorderDashes(t,o)),t.restore()}},{key:"performFill",value:function(t,o){t.save(),t.fillStyle=o.color,this.enableShadow(t,o),fill(t).call(t),this.disableShadow(t,o),t.restore(),this.performStroke(t,o)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,o,l,h,y){l!==void 0&&this.resize(l,h,y),this.left=t-this.width/2,this.top=o-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,o,l,h,y){this._updateBoundingBox(t,o,l,h,y)}},{key:"getDimensionsFromLabel",value:function(t,o,l){this.textSize=this.labelModule.getTextSize(t,o,l);var h=this.textSize.width,y=this.textSize.height,O=14;return h===0&&(h=O,y=O),{width:h,height:y}}}]),r}();function _createSuper$s(r){var e=_isNativeReflectConstruct$s();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$s(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Box$1=function(r){_inherits(t,r);var e=_createSuper$s(t);function t(o,l,h){var y;return _classCallCheck(this,t),y=e.call(this,o,l,h),y._setMargins(h),y}return _createClass(t,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(h,y)){var O=this.getDimensionsFromLabel(l,h,y);this.width=O.width+this.margin.right+this.margin.left,this.height=O.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width/2,this.top=y-this.height/2,this.initContextForDraw(l,R),drawRoundRect(l,this.left,this.top,this.width,this.height,R.borderRadius),this.performFill(l,R),this.updateBoundingBox(h,y,l,O,D),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,O,D)}},{key:"updateBoundingBox",value:function(l,h,y,O,D){this._updateBoundingBox(l,h,y,O,D);var R=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(R)}},{key:"distanceToBorder",value:function(l,h){l&&this.resize(l);var y=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(h)),Math.abs(this.height/2/Math.sin(h)))+y}}]),t}(NodeBase);function _createSuper$r(r){var e=_isNativeReflectConstruct$r();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$r(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CircleImageBase=function(r){_inherits(t,r);var e=_createSuper$r(t);function t(o,l,h){var y;return _classCallCheck(this,t),y=e.call(this,o,l,h),y.labelOffset=0,y.selected=!1,y}return _createClass(t,[{key:"setOptions",value:function(l,h,y){this.options=l,h===void 0&&y===void 0||this.setImages(h,y)}},{key:"setImages",value:function(l,h){h&&this.selected?(this.imageObj=h,this.imageObjAlt=l):(this.imageObj=l,this.imageObjAlt=h)}},{key:"switchImages",value:function(l){var h=l&&!this.selected||!l&&this.selected;if(this.selected=l,this.imageObjAlt!==void 0&&h){var y=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=y}}},{key:"_getImagePadding",value:function(){var l={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var h=this.options.imagePadding;_typeof(h)=="object"?(l.top=h.top,l.right=h.right,l.bottom=h.bottom,l.left=h.left):(l.top=h,l.right=h,l.bottom=h,l.left=h)}return l}},{key:"_resizeImage",value:function(){var l,h;if(this.options.shapeProperties.useImageSize===!1){var y=1,O=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?y=this.imageObj.width/this.imageObj.height:O=this.imageObj.height/this.imageObj.width),l=this.options.size*2*y,h=this.options.size*2*O}else{var D=this._getImagePadding();l=this.imageObj.width+D.left+D.right,h=this.imageObj.height+D.top+D.bottom}this.width=l,this.height=h,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(l,h,y,O){this.initContextForDraw(l,O),drawCircle(l,h,y,O.size),this.performFill(l,O)}},{key:"_drawImageAtPosition",value:function(l,h){if(this.imageObj.width!=0){l.globalAlpha=h.opacity!==void 0?h.opacity:1,this.enableShadow(l,h);var y=1;this.options.shapeProperties.interpolation===!0&&(y=this.imageObj.width/this.width/this.body.view.scale);var O=this._getImagePadding(),D=this.left+O.left,R=this.top+O.top,F=this.width-O.left-O.right,B=this.height-O.top-O.bottom;this.imageObj.drawImageAtPosition(l,y,D,R,F,B),this.disableShadow(l,h)}}},{key:"_drawImageLabel",value:function(l,h,y,O,D){var R=0;if(this.height!==void 0){R=this.height*.5;var F=this.labelModule.getTextSize(l,O,D);F.lineCount>=1&&(R+=F.height/2)}var B=y+R;this.options.label&&(this.labelOffset=R),this.labelModule.draw(l,h,B,O,D,"hanging")}}]),t}(NodeBase);function _createSuper$q(r){var e=_isNativeReflectConstruct$q();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$q(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Circle$1=function(r){_inherits(t,r);var e=_createSuper$q(t);function t(o,l,h){var y;return _classCallCheck(this,t),y=e.call(this,o,l,h),y._setMargins(h),y}return _createClass(t,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(h,y)){var O=this.getDimensionsFromLabel(l,h,y),D=Math.max(O.width+this.margin.right+this.margin.left,O.height+this.margin.top+this.margin.bottom);this.options.size=D/2,this.width=D,this.height=D,this.radius=this.width/2}}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width/2,this.top=y-this.height/2,this._drawRawCircle(l,h,y,R),this.updateBoundingBox(h,y),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,y,O,D)}},{key:"updateBoundingBox",value:function(l,h){this.boundingBox.top=h-this.options.size,this.boundingBox.left=l-this.options.size,this.boundingBox.right=l+this.options.size,this.boundingBox.bottom=h+this.options.size}},{key:"distanceToBorder",value:function(l){return l&&this.resize(l),this.width*.5}}]),t}(CircleImageBase);function _createSuper$p(r){var e=_isNativeReflectConstruct$p();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$p(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CircularImage=function(r){_inherits(t,r);var e=_createSuper$p(t);function t(o,l,h,y,O){var D;return _classCallCheck(this,t),D=e.call(this,o,l,h),D.setImages(y,O),D}return _createClass(t,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,O=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(O){var D=this.options.size*2;this.width=D,this.height=D,this.radius=.5*this.width;return}this.needsRefresh(h,y)&&this._resizeImage()}},{key:"draw",value:function(l,h,y,O,D,R){this.switchImages(O),this.resize();var F=h,B=y;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=h,this.top=y,F+=this.width/2,B+=this.height/2):(this.left=h-this.width/2,this.top=y-this.height/2),this._drawRawCircle(l,F,B,R),l.save(),l.clip(),this._drawImageAtPosition(l,R),l.restore(),this._drawImageLabel(l,F,B,O,D),this.updateBoundingBox(h,y)}},{key:"updateBoundingBox",value:function(l,h){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=h,this.boundingBox.left=l,this.boundingBox.right=l+this.options.size*2,this.boundingBox.bottom=h+this.options.size*2):(this.boundingBox.top=h-this.options.size,this.boundingBox.left=l-this.options.size,this.boundingBox.right=l+this.options.size,this.boundingBox.bottom=h+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(l){return l&&this.resize(l),this.width*.5}}]),t}(CircleImageBase);function _createSuper$o(r){var e=_isNativeReflectConstruct$o();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$o(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var ShapeBase=function(r){_inherits(t,r);var e=_createSuper$o(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(h,y)){var D,R;this.labelModule.getTextSize(l,h,y);var F=2*O.size;this.width=(D=this.customSizeWidth)!==null&&D!==void 0?D:F,this.height=(R=this.customSizeHeight)!==null&&R!==void 0?R:F,this.radius=.5*this.width}}},{key:"_drawShape",value:function(l,h,y,O,D,R,F,B){var j=this;return this.resize(l,R,F,B),this.left=O-this.width/2,this.top=D-this.height/2,this.initContextForDraw(l,B),getShape(h)(l,O,D,B.size),this.performFill(l,B),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(l.font=(R?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),l.fillStyle=this.options.icon.color||"black",l.textAlign="center",l.textBaseline="middle",l.fillText(this.options.icon.code,O,D)),{drawExternalLabel:function(){if(j.options.label!==void 0){j.labelModule.calculateLabelSize(l,R,F,O,D,"hanging");var W=D+.5*j.height+.5*j.labelModule.size.height;j.labelModule.draw(l,O,W,R,F,"hanging")}j.updateBoundingBox(O,D)}}}},{key:"updateBoundingBox",value:function(l,h){this.boundingBox.top=h-this.options.size,this.boundingBox.left=l-this.options.size,this.boundingBox.right=l+this.options.size,this.boundingBox.bottom=h+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),t}(NodeBase);function ownKeys$3(r,e){var t=keys(r);if(getOwnPropertySymbols){var o=getOwnPropertySymbols(r);e&&(o=filter(o).call(o,function(l){return getOwnPropertyDescriptor$3(r,l).enumerable})),t.push.apply(t,o)}return t}function _objectSpread$3(r){for(var e=1;e<arguments.length;e++){var t,o,l=arguments[e]!=null?arguments[e]:{};e%2?forEach$2(t=ownKeys$3(Object(l),!0)).call(t,function(h){_defineProperty(r,h,l[h])}):getOwnPropertyDescriptors?defineProperties(r,getOwnPropertyDescriptors(l)):forEach$2(o=ownKeys$3(Object(l))).call(o,function(h){defineProperty$6(r,h,getOwnPropertyDescriptor$3(l,h))})}return r}function _createSuper$n(r){var e=_isNativeReflectConstruct$n();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$n(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CustomShape=function(r){_inherits(t,r);var e=_createSuper$n(t);function t(o,l,h,y){var O;return _classCallCheck(this,t),O=e.call(this,o,l,h,y),O.ctxRenderer=y,O}return _createClass(t,[{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D,R),this.left=h-this.width/2,this.top=y-this.height/2,l.save();var F=this.ctxRenderer({ctx:l,id:this.options.id,x:h,y,state:{selected:O,hover:D},style:_objectSpread$3({},R),label:this.options.label});if(F.drawNode!=null&&F.drawNode(),l.restore(),F.drawExternalLabel){var B=F.drawExternalLabel;F.drawExternalLabel=function(){l.save(),B(),l.restore()}}return F.nodeDimensions&&(this.customSizeWidth=F.nodeDimensions.width,this.customSizeHeight=F.nodeDimensions.height),F}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(ShapeBase);function _createSuper$m(r){var e=_isNativeReflectConstruct$m();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$m(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Database=function(r){_inherits(t,r);var e=_createSuper$m(t);function t(o,l,h){var y;return _classCallCheck(this,t),y=e.call(this,o,l,h),y._setMargins(h),y}return _createClass(t,[{key:"resize",value:function(l,h,y){if(this.needsRefresh(h,y)){var O=this.getDimensionsFromLabel(l,h,y),D=O.width+this.margin.right+this.margin.left;this.width=D,this.height=D,this.radius=this.width/2}}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width/2,this.top=y-this.height/2,this.initContextForDraw(l,R),drawDatabase(l,h-this.width/2,y-this.height/2,this.width,this.height),this.performFill(l,R),this.updateBoundingBox(h,y,l,O,D),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,O,D)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(NodeBase);function _createSuper$l(r){var e=_isNativeReflectConstruct$l();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$l(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Diamond$1=function(r){_inherits(t,r);var e=_createSuper$l(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"diamond",4,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(ShapeBase);function _createSuper$k(r){var e=_isNativeReflectConstruct$k();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$k(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Dot=function(r){_inherits(t,r);var e=_createSuper$k(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"circle",2,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l){return l&&this.resize(l),this.options.size}}]),t}(ShapeBase);function _createSuper$j(r){var e=_isNativeReflectConstruct$j();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$j(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Ellipse=function(r){_inherits(t,r);var e=_createSuper$j(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(h,y)){var O=this.getDimensionsFromLabel(l,h,y);this.height=O.height*2,this.width=O.width+O.height,this.radius=.5*this.width}}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width*.5,this.top=y-this.height*.5,this.initContextForDraw(l,R),drawEllipse(l,this.left,this.top,this.width,this.height),this.performFill(l,R),this.updateBoundingBox(h,y,l,O,D),this.labelModule.draw(l,h,y,O,D)}},{key:"distanceToBorder",value:function(l,h){l&&this.resize(l);var y=this.width*.5,O=this.height*.5,D=Math.sin(h)*y,R=Math.cos(h)*O;return y*O/Math.sqrt(D*D+R*R)}}]),t}(NodeBase);function _createSuper$i(r){var e=_isNativeReflectConstruct$i();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$i(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Icon=function(r){_inherits(t,r);var e=_createSuper$i(t);function t(o,l,h){var y;return _classCallCheck(this,t),y=e.call(this,o,l,h),y._setMargins(h),y}return _createClass(t,[{key:"resize",value:function(l,h,y){this.needsRefresh(h,y)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(l,h,y,O,D,R){var F=this;return this.resize(l,O,D),this.options.icon.size=this.options.icon.size||50,this.left=h-this.width/2,this.top=y-this.height/2,this._icon(l,h,y,O,D,R),{drawExternalLabel:function(){if(F.options.label!==void 0){var j=5;F.labelModule.draw(l,F.left+F.iconSize.width/2+F.margin.left,y+F.height/2+j,O)}F.updateBoundingBox(h,y)}}}},{key:"updateBoundingBox",value:function(l,h){if(this.boundingBox.top=h-this.options.icon.size*.5,this.boundingBox.left=l-this.options.icon.size*.5,this.boundingBox.right=l+this.options.icon.size*.5,this.boundingBox.bottom=h+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var y=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+y)}}},{key:"_icon",value:function(l,h,y,O,D,R){var F=Number(this.options.icon.size);this.options.icon.code!==void 0?(l.font=[this.options.icon.weight!=null?this.options.icon.weight:O?"bold":"",(this.options.icon.weight!=null&&O?5:0)+F+"px",this.options.icon.face].join(" "),l.fillStyle=this.options.icon.color||"black",l.textAlign="center",l.textBaseline="middle",this.enableShadow(l,R),l.fillText(this.options.icon.code,h,y),this.disableShadow(l,R)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(NodeBase);function _createSuper$h(r){var e=_isNativeReflectConstruct$h();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$h(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Image$2=function(r){_inherits(t,r);var e=_createSuper$h(t);function t(o,l,h,y,O){var D;return _classCallCheck(this,t),D=e.call(this,o,l,h),D.setImages(y,O),D}return _createClass(t,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,O=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(O){var D=this.options.size*2;this.width=D,this.height=D;return}this.needsRefresh(h,y)&&this._resizeImage()}},{key:"draw",value:function(l,h,y,O,D,R){l.save(),this.switchImages(O),this.resize();var F=h,B=y;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=h,this.top=y,F+=this.width/2,B+=this.height/2):(this.left=h-this.width/2,this.top=y-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var j=this.options.borderWidth,U=this.options.borderWidthSelected||2*this.options.borderWidth,W=(O?U:j)/this.body.view.scale;l.lineWidth=Math.min(this.width,W),l.beginPath();var G=O?this.options.color.highlight.border:D?this.options.color.hover.border:this.options.color.border,q=O?this.options.color.highlight.background:D?this.options.color.hover.background:this.options.color.background;R.opacity!==void 0&&(G=overrideOpacity(G,R.opacity),q=overrideOpacity(q,R.opacity)),l.strokeStyle=G,l.fillStyle=q,l.rect(this.left-.5*l.lineWidth,this.top-.5*l.lineWidth,this.width+l.lineWidth,this.height+l.lineWidth),fill(l).call(l),this.performStroke(l,R),l.closePath()}this._drawImageAtPosition(l,R),this._drawImageLabel(l,F,B,O,D),this.updateBoundingBox(h,y),l.restore()}},{key:"updateBoundingBox",value:function(l,h){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=l,this.top=h):(this.left=l-this.width/2,this.top=h-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(CircleImageBase);function _createSuper$g(r){var e=_isNativeReflectConstruct$g();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$g(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Square=function(r){_inherits(t,r);var e=_createSuper$g(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"square",2,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(ShapeBase);function _createSuper$f(r){var e=_isNativeReflectConstruct$f();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$f(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Hexagon=function(r){_inherits(t,r);var e=_createSuper$f(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"hexagon",4,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(ShapeBase);function _createSuper$e(r){var e=_isNativeReflectConstruct$e();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$e(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Star=function(r){_inherits(t,r);var e=_createSuper$e(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"star",4,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(ShapeBase);function _createSuper$d(r){var e=_isNativeReflectConstruct$d();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$d(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Text=function(r){_inherits(t,r);var e=_createSuper$d(t);function t(o,l,h){var y;return _classCallCheck(this,t),y=e.call(this,o,l,h),y._setMargins(h),y}return _createClass(t,[{key:"resize",value:function(l,h,y){this.needsRefresh(h,y)&&(this.textSize=this.labelModule.getTextSize(l,h,y),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width/2,this.top=y-this.height/2,this.enableShadow(l,R),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,O,D),this.disableShadow(l,R),this.updateBoundingBox(h,y,l,O,D)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(NodeBase);function _createSuper$c(r){var e=_isNativeReflectConstruct$c();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$c(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Triangle$1=function(r){_inherits(t,r);var e=_createSuper$c(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"triangle",3,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(ShapeBase);function _createSuper$b(r){var e=_isNativeReflectConstruct$b();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$b(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var TriangleDown=function(r){_inherits(t,r);var e=_createSuper$b(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"triangleDown",3,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),t}(ShapeBase);function ownKeys$2(r,e){var t=keys(r);if(getOwnPropertySymbols){var o=getOwnPropertySymbols(r);e&&(o=filter(o).call(o,function(l){return getOwnPropertyDescriptor$3(r,l).enumerable})),t.push.apply(t,o)}return t}function _objectSpread$2(r){for(var e=1;e<arguments.length;e++){var t,o,l=arguments[e]!=null?arguments[e]:{};e%2?forEach$2(t=ownKeys$2(Object(l),!0)).call(t,function(h){_defineProperty(r,h,l[h])}):getOwnPropertyDescriptors?defineProperties(r,getOwnPropertyDescriptors(l)):forEach$2(o=ownKeys$2(Object(l))).call(o,function(h){defineProperty$6(r,h,getOwnPropertyDescriptor$3(l,h))})}return r}var Node$1=function(){function r(e,t,o,l,h,y){_classCallCheck(this,r),this.options=bridgeObject(h),this.globalOptions=h,this.defaultOptions=y,this.body=t,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=l,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Label(this.body,this.options,!1),this.setOptions(e)}return _createClass(r,[{key:"attachEdge",value:function(t){var o;indexOf(o=this.edges).call(o,t)===-1&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var o,l=indexOf(o=this.edges).call(o,t);if(l!=-1){var h;splice$1(h=this.edges).call(h,l,1)}}},{key:"setOptions",value:function(t){var o=this.options.shape;if(!!t){if(typeof t.color!="undefined"&&(this._localColor=t.color),t.id!==void 0&&(this.id=t.id),this.id===void 0)throw new Error("Node must have an id");r.checkMass(t,this.id),t.x!==void 0&&(t.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=_parseInt(t.x),this.predefinedPosition=!0)),t.y!==void 0&&(t.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=_parseInt(t.y),this.predefinedPosition=!0)),t.size!==void 0&&(this.baseSize=t.size),t.value!==void 0&&(t.value=_parseFloat(t.value)),r.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);var l=[t,this.options,this.defaultOptions];return this.chooser=choosify("node",l),this._load_images(),this.updateLabelModule(t),t.opacity!==void 0&&r.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(o),t.hidden!==void 0||t.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(t,this.options.id,this.selected,this.hover),t.shadow===!1&&(t.shadowColor!==this.options.shadow.color||t.shadowSize!==this.options.shadow.size||t.shadowX!==this.options.shadow.x||t.shadowY!==this.options.shadow.y)&&(t.shadow=!0)):t.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var o=this.options.opacity;t.borderColor=overrideOpacity(t.borderColor,o),t.color=overrideOpacity(t.color,o),t.shadowColor=overrideOpacity(t.shadowColor,o)}return t}},{key:"updateLabelModule",value:function(t){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),r.updateGroupOptions(this.options,_objectSpread$2(_objectSpread$2({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);var o=this.grouplist.get(this.options.group,!1),l=[t,this.options,o,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,l),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Box$1(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Circle$1(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new CircularImage(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new CustomShape(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Database(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Diamond$1(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Dot(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Ellipse(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Icon(this.options,this.body,this.labelModule);break;case"image":this.shape=new Image$2(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Square(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Hexagon(this.options,this.body,this.labelModule);break;case"star":this.shape=new Star(this.options,this.body,this.labelModule);break;case"text":this.shape=new Text(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Triangle$1(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new TriangleDown(this.options,this.body,this.labelModule);break;default:this.shape=new Ellipse(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,o){return this.shape.distanceToBorder(t,o)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,o,l){if(this.options.value!==void 0){var h=this.options.scaling.customScalingFunction(t,o,l,this.options.value),y=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var O=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+h*O}this.options.size=this.options.scaling.min+h*y}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var o=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,o)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var o=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,o)}},{key:"getItemsOnPoint",value:function(t){var o=[];return this.labelModule.visible()&&pointInRect(this.labelModule.getSize(),t)&&o.push({nodeId:this.id,labelId:0}),pointInRect(this.shape.boundingBox,t)&&o.push({nodeId:this.id}),o}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return t===void 0||t==="center"||t==="top-left"}},{key:"updateGroupOptions",value:function(t,o,l){var h;if(l!==void 0){var y=t.group;if(o!==void 0&&o.group!==void 0&&y!==o.group)throw new Error("updateGroupOptions: group values in options don't match.");var O=typeof y=="number"||typeof y=="string"&&y!="";if(!!O){var D=l.get(y);D.opacity!==void 0&&o.opacity===void 0&&(r.checkOpacity(D.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+D.opacity),D.opacity=void 0));var R=filter(h=getOwnPropertyNames(o)).call(h,function(F){return o[F]!=null});R.push("font"),selectiveNotDeepExtend(R,t,D),t.color=parseColor(t.color)}}}},{key:"parseOptions",value:function(t,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=arguments.length>4?arguments[4]:void 0,O=["color","fixed","shadow"];if(selectiveNotDeepExtend(O,t,o,l),r.checkMass(o),t.opacity!==void 0&&(r.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),o.opacity!==void 0&&(r.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0)),o.shapeProperties&&!r.checkCoordinateOrigin(o.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+o.shapeProperties.coordinateOrigin),mergeOptions(t,o,"shadow",h),o.color!==void 0&&o.color!==null){var D=parseColor(o.color);fillIfDefined(t.color,D)}else l===!0&&o.color===null&&(t.color=bridgeObject(h.color));o.fixed!==void 0&&o.fixed!==null&&(typeof o.fixed=="boolean"?(t.fixed.x=o.fixed,t.fixed.y=o.fixed):(o.fixed.x!==void 0&&typeof o.fixed.x=="boolean"&&(t.fixed.x=o.fixed.x),o.fixed.y!==void 0&&typeof o.fixed.y=="boolean"&&(t.fixed.y=o.fixed.y))),l===!0&&o.font===null&&(t.font=bridgeObject(h.font)),r.updateGroupOptions(t,o,y),o.scaling!==void 0&&mergeOptions(t.scaling,o.scaling,"label",h.scaling)}},{key:"checkMass",value:function(t,o){if(t.mass!==void 0&&t.mass<=0){var l="";o!==void 0&&(l=" in node id: "+o),console.error("%cNegative or zero mass disallowed"+l+", setting mass to 1.",VALIDATOR_PRINT_STYLE),t.mass=1}}}]),r}();function _createForOfIteratorHelper$6(r,e){var t=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!t){if(isArray$1(r)||(t=_unsupportedIterableToArray$6(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$6(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$6(r,e);var o=slice(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$6(r,e)}}function _arrayLikeToArray$6(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var NodesHandler=function(){function r(e,t,o,l){var h,y=this;if(_classCallCheck(this,r),this.body=e,this.images=t,this.groups=o,this.layoutEngine=l,this.body.functions.createNode=bind$5(h=this.create).call(h,this),this.nodesListeners={add:function(D,R){y.add(R.items)},update:function(D,R){y.update(R.items,R.data,R.oldData)},remove:function(D,R){y.remove(R.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(D,R,F,B){if(R===D)return .5;var j=1/(R-D);return Math.max(0,(B-D)*j)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=bridgeObject(this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var t,o,l=this;this.body.emitter.on("refreshNodes",bind$5(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",bind$5(o=this.refresh).call(o,this)),this.body.emitter.on("destroy",function(){forEach$1(l.nodesListeners,function(h,y){l.body.data.nodes&&l.body.data.nodes.off(y,h)}),delete l.body.functions.createNode,delete l.nodesListeners.add,delete l.nodesListeners.update,delete l.nodesListeners.remove,delete l.nodesListeners})}},{key:"setOptions",value:function(t){if(t!==void 0){if(Node$1.parseOptions(this.options,t),t.opacity!==void 0&&(isNan(t.opacity)||!_isFinite(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),t.shape!==void 0)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].updateShape();if(typeof t.font!="undefined"||typeof t.widthConstraint!="undefined"||typeof t.heightConstraint!="undefined")for(var l=0,h=keys(this.body.nodes);l<h.length;l++){var y=h[l];this.body.nodes[y].updateLabelModule(),this.body.nodes[y].needsRefresh()}if(t.size!==void 0)for(var O in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,O)&&this.body.nodes[O].needsRefresh();(t.hidden!==void 0||t.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=this.body.data.nodes;if(isDataViewLike("id",t))this.body.data.nodes=t;else if(isArray$1(t))this.body.data.nodes=new DataSet,this.body.data.nodes.add(t);else if(!t)this.body.data.nodes=new DataSet;else throw new TypeError("Array or DataSet expected");if(l&&forEach$1(this.nodesListeners,function(O,D){l.off(D,O)}),this.body.nodes={},this.body.data.nodes){var h=this;forEach$1(this.nodesListeners,function(O,D){h.body.data.nodes.on(D,O)});var y=this.body.data.nodes.getIds();this.add(y,!0)}o===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l,h=[],y=0;y<t.length;y++){l=t[y];var O=this.body.data.nodes.get(l),D=this.create(O);h.push(D),this.body.nodes[l]=D}this.layoutEngine.positionInitially(h),o===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,o,l){for(var h=this.body.nodes,y=!1,O=0;O<t.length;O++){var D=t[O],R=h[D],F=o[O];R!==void 0?R.setOptions(F)&&(y=!0):(y=!0,R=this.create(F),h[D]=R)}!y&&l!==void 0&&(y=some(o).call(o,function(B,j){var U=l[j];return U&&U.level!==B.level})),y===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var o=this.body.nodes,l=0;l<t.length;l++){var h=t[l];delete o[h]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Node$1;return new o(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;forEach$1(this.body.nodes,function(l,h){var y=t.body.data.nodes.get(h);y!==void 0&&(o===!0&&l.setOptions({x:null,y:null}),l.setOptions({fixed:!1}),l.setOptions(y))})}},{key:"getPositions",value:function(t){var o={};if(t!==void 0){if(isArray$1(t)===!0){for(var l=0;l<t.length;l++)if(this.body.nodes[t[l]]!==void 0){var h=this.body.nodes[t[l]];o[t[l]]={x:Math.round(h.x),y:Math.round(h.y)}}}else if(this.body.nodes[t]!==void 0){var y=this.body.nodes[t];o[t]={x:Math.round(y.x),y:Math.round(y.y)}}}else for(var O=0;O<this.body.nodeIndices.length;O++){var D=this.body.nodes[this.body.nodeIndices[O]];o[this.body.nodeIndices[O]]={x:Math.round(D.x),y:Math.round(D.y)}}return o}},{key:"getPosition",value:function(t){if(t==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[t]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t=[],o=this.body.data.nodes.getDataSet(),l=_createForOfIteratorHelper$6(o.get()),h;try{for(l.s();!(h=l.n()).done;){var y=h.value,O=y.id,D=this.body.nodes[O],R=Math.round(D.x),F=Math.round(D.y);(y.x!==R||y.y!==F)&&t.push({id:O,x:R,y:F})}}catch(B){l.e(B)}finally{l.f()}o.update(t)}},{key:"getBoundingBox",value:function(t){if(this.body.nodes[t]!==void 0)return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,o){var l=[];if(this.body.nodes[t]!==void 0)for(var h=this.body.nodes[t],y={},O=0;O<h.edges.length;O++){var D=h.edges[O];o!=="to"&&D.toId==h.id?y[D.fromId]===void 0&&(l.push(D.fromId),y[D.fromId]=!0):o!=="from"&&D.fromId==h.id&&y[D.toId]===void 0&&(l.push(D.toId),y[D.toId]=!0)}return l}},{key:"getConnectedEdges",value:function(t){var o=[];if(this.body.nodes[t]!==void 0)for(var l=this.body.nodes[t],h=0;h<l.edges.length;h++)o.push(l.edges[h].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return o}},{key:"moveNode",value:function(t,o,l){var h=this;this.body.nodes[t]!==void 0?(this.body.nodes[t].x=Number(o),this.body.nodes[t].y=Number(l),setTimeout$1(function(){h.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),r}(),hasOwn$1=hasOwnProperty_1,isDataDescriptor$1=function(r){return r!==void 0&&(hasOwn$1(r,"value")||hasOwn$1(r,"writable"))},$$4=_export,call=functionCall,isObject$2=isObject$j,anObject$1=anObject$d,isDataDescriptor=isDataDescriptor$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,getPrototypeOf=objectGetPrototypeOf;function get$5(r,e){var t=arguments.length<3?r:arguments[2],o,l;if(anObject$1(r)===t)return r[e];if(o=getOwnPropertyDescriptorModule.f(r,e),o)return isDataDescriptor(o)?o.value:o.get===void 0?void 0:call(o.get,t);if(isObject$2(l=getPrototypeOf(r)))return get$5(l,e,t)}$$4({target:"Reflect",stat:!0},{get:get$5});var path$4=path$y,get$4=path$4.Reflect.get,parent$a=get$4,get$3=parent$a,parent$9=get$3,get$2=parent$9,parent$8=get$2,get$1=parent$8,get=get$1,parent$7=getOwnPropertyDescriptor$4,getOwnPropertyDescriptor$2=parent$7,parent$6=getOwnPropertyDescriptor$2,getOwnPropertyDescriptor$1=parent$6,getOwnPropertyDescriptor=getOwnPropertyDescriptor$1;function _superPropBase(r,e){for(;!Object.prototype.hasOwnProperty.call(r,e)&&(r=_getPrototypeOf(r),r!==null););return r}function _get(){return typeof Reflect!="undefined"&&get?_get=get:_get=function(e,t,o){var l=_superPropBase(e,t);if(!!l){var h=getOwnPropertyDescriptor(l,t);return h.get?h.get.call(arguments.length<3?e:o):h.value}},_get.apply(this,arguments)}var $$3=_export,$hypot=Math.hypot,abs=Math.abs,sqrt=Math.sqrt,BUGGY=!!$hypot&&$hypot(1/0,NaN)!==1/0;$$3({target:"Math",stat:!0,forced:BUGGY},{hypot:function r(e,t){for(var o=0,l=0,h=arguments.length,y=0,O,D;l<h;)O=abs(arguments[l++]),y<O?(D=y/O,o=o*D*D+1,y=O):O>0?(D=O/y,o+=D*D):o+=O;return y===1/0?1/0:y*sqrt(o)}});var path$3=path$y,hypot$2=path$3.Math.hypot,parent$5=hypot$2,hypot$1=parent$5,hypot=hypot$1;function _createSuper$a(r){var e=_isNativeReflectConstruct$a();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$a(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var EndPoint=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"transform",value:function(t,o){isArray$1(t)||(t=[t]);for(var l=o.point.x,h=o.point.y,y=o.angle,O=o.length,D=0;D<t.length;++D){var R=t[D],F=R.x*Math.cos(y)-R.y*Math.sin(y),B=R.x*Math.sin(y)+R.y*Math.cos(y);R.x=l+O*F,R.y=h+O*B}}},{key:"drawPath",value:function(t,o){t.beginPath(),t.moveTo(o[0].x,o[0].y);for(var l=1;l<o.length;++l)t.lineTo(o[l].x,o[l].y);t.closePath()}}]),r}(),Image$1=function(r){_inherits(t,r);var e=_createSuper$a(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,null,[{key:"draw",value:function(l,h){if(h.image){l.save(),l.translate(h.point.x,h.point.y),l.rotate(Math.PI/2+h.angle);var y=h.imageWidth!=null?h.imageWidth:h.image.width,O=h.imageHeight!=null?h.imageHeight:h.image.height;h.image.drawImageAtPosition(l,1,-y/2,0,y,O),l.restore()}return!1}}]),t}(EndPoint),Arrow=function(r){_inherits(t,r);var e=_createSuper$a(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,null,[{key:"draw",value:function(l,h){var y=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return EndPoint.transform(y,h),EndPoint.drawPath(l,y),!0}}]),t}(EndPoint),Crow=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return EndPoint.transform(l,o),EndPoint.drawPath(t,l),!0}}]),r}(),Curve=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l={x:-.4,y:0};EndPoint.transform(l,o),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var h=Math.PI,y=o.angle-h/2,O=o.angle+h/2;return t.beginPath(),t.arc(l.x,l.y,o.length*.4,y,O,!1),t.stroke(),!0}}]),r}(),InvertedCurve=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l={x:-.3,y:0};EndPoint.transform(l,o),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var h=Math.PI,y=o.angle+h/2,O=o.angle+3*h/2;return t.beginPath(),t.arc(l.x,l.y,o.length*.4,y,O,!1),t.stroke(),!0}}]),r}(),Triangle=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return EndPoint.transform(l,o),EndPoint.drawPath(t,l),!0}}]),r}(),InvertedTriangle=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return EndPoint.transform(l,o),EndPoint.drawPath(t,l),!0}}]),r}(),Circle=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l={x:-.4,y:0};return EndPoint.transform(l,o),drawCircle(t,l.x,l.y,o.length*.4),!0}}]),r}(),Bar=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return EndPoint.transform(l,o),EndPoint.drawPath(t,l),!0}}]),r}(),Box=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return EndPoint.transform(l,o),EndPoint.drawPath(t,l),!0}}]),r}(),Diamond=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return EndPoint.transform(l,o),EndPoint.drawPath(t,l),!0}}]),r}(),Vee=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return EndPoint.transform(l,o),EndPoint.drawPath(t,l),!0}}]),r}(),EndPoints=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(t,o){var l;switch(o.type&&(l=o.type.toLowerCase()),l){case"image":return Image$1.draw(t,o);case"circle":return Circle.draw(t,o);case"box":return Box.draw(t,o);case"crow":return Crow.draw(t,o);case"curve":return Curve.draw(t,o);case"diamond":return Diamond.draw(t,o);case"inv_curve":return InvertedCurve.draw(t,o);case"triangle":return Triangle.draw(t,o);case"inv_triangle":return InvertedTriangle.draw(t,o);case"bar":return Bar.draw(t,o);case"vee":return Vee.draw(t,o);case"arrow":default:return Arrow.draw(t,o)}}}]),r}();function ownKeys$1(r,e){var t=keys(r);if(getOwnPropertySymbols){var o=getOwnPropertySymbols(r);e&&(o=filter(o).call(o,function(l){return getOwnPropertyDescriptor$3(r,l).enumerable})),t.push.apply(t,o)}return t}function _objectSpread$1(r){for(var e=1;e<arguments.length;e++){var t,o,l=arguments[e]!=null?arguments[e]:{};e%2?forEach$2(t=ownKeys$1(Object(l),!0)).call(t,function(h){_defineProperty(r,h,l[h])}):getOwnPropertyDescriptors?defineProperties(r,getOwnPropertyDescriptors(l)):forEach$2(o=ownKeys$1(Object(l))).call(o,function(h){defineProperty$6(r,h,getOwnPropertyDescriptor$3(l,h))})}return r}var EdgeBase=function(){function r(e,t,o){_classCallCheck(this,r),this._body=t,this._labelModule=o,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return _createClass(r,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,o,l,h){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,o),t.lineWidth=o.width,o.dashes!==!1?this._drawDashedLine(t,o,y):this._drawLine(t,o,y)}},{key:"_drawLine",value:function(t,o,l,h,y){if(this.from!=this.to)this._line(t,o,l,h,y);else{var O=this._getCircleData(t),D=_slicedToArray(O,3),R=D[0],F=D[1],B=D[2];this._circle(t,o,R,F,B)}}},{key:"_drawDashedLine",value:function(t,o,l,h,y){t.lineCap="round";var O=isArray$1(o.dashes)?o.dashes:[5,5];if(t.setLineDash!==void 0){if(t.save(),t.setLineDash(O),t.lineDashOffset=0,this.from!=this.to)this._line(t,o,l);else{var D=this._getCircleData(t),R=_slicedToArray(D,3),F=R[0],B=R[1],j=R[2];this._circle(t,o,F,B,j)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)drawDashedLine(t,this.from.x,this.from.y,this.to.x,this.to.y,O);else{var U=this._getCircleData(t),W=_slicedToArray(U,3),G=W[0],q=W[1],K=W[2];this._circle(t,o,G,q,K)}this.enableShadow(t,o),t.stroke(),this.disableShadow(t,o)}}},{key:"findBorderPosition",value:function(t,o,l){return this.from!=this.to?this._findBorderPosition(t,o,l):this._findBorderPositionCircle(t,o,l)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var o,l=slice(o=this._getCircleData(t)).call(o,0,2),h=_slicedToArray(l,2),y=h[0],O=h[1];return{from:this._findBorderPositionCircle(this.from,t,{x:y,y:O,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:y,y:O,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var o=this.options.selfReference.size;t!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(t);var l=getSelfRefCoordinates(t,this.options.selfReference.angle,o,this.from);return[l.x,l.y,o]}},{key:"_pointOnCircle",value:function(t,o,l,h){var y=h*2*Math.PI;return{x:t+l*Math.cos(y),y:o-l*Math.sin(y)}}},{key:"_findBorderPositionCircle",value:function(t,o,l){var h=l.x,y=l.y,O=l.low,D=l.high,R=l.direction,F=10,B=this.options.selfReference.size,j=.05,U,W=(O+D)*.5,G=0;this.options.arrowStrikethrough===!0&&(R===-1?G=this.options.endPointOffset.from:R===1&&(G=this.options.endPointOffset.to));var q=0;do{W=(O+D)*.5,U=this._pointOnCircle(h,y,B,W);var K=Math.atan2(t.y-U.y,t.x-U.x),Y=t.distanceToBorder(o,K)+G,X=Math.sqrt(Math.pow(U.x-t.x,2)+Math.pow(U.y-t.y,2)),J=Y-X;if(Math.abs(J)<j)break;J>0?R>0?O=W:D=W:R>0?D=W:O=W,++q}while(O<=D&&q<F);return _objectSpread$1(_objectSpread$1({},U),{},{t:W})}},{key:"getLineWidth",value:function(t,o){return t===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):o===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,o){if(o.inheritsColor!==!1){if(o.inheritsColor==="both"&&this.from.id!==this.to.id){var l=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),h=this.from.options.color.highlight.border,y=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(h=overrideOpacity(this.from.options.color.border,o.opacity),y=overrideOpacity(this.to.options.color.border,o.opacity)):this.from.selected===!0&&this.to.selected===!1?y=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(h=this.from.options.color.border),l.addColorStop(0,h),l.addColorStop(1,y),l}return o.inheritsColor==="to"?overrideOpacity(this.to.options.color.border,o.opacity):overrideOpacity(this.from.options.color.border,o.opacity)}else return overrideOpacity(o.color,o.opacity)}},{key:"_circle",value:function(t,o,l,h,y){this.enableShadow(t,o);var O=0,D=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var R=this.options.selfReference.angle,F=this.options.selfReference.angle+Math.PI,B=this._findBorderPositionCircle(this.from,t,{x:l,y:h,low:R,high:F,direction:-1}),j=this._findBorderPositionCircle(this.from,t,{x:l,y:h,low:R,high:F,direction:1});O=Math.atan2(B.y-h,B.x-l),D=Math.atan2(j.y-h,j.x-l)}t.beginPath(),t.arc(l,h,y,O,D,!1),t.stroke(),this.disableShadow(t,o)}},{key:"getDistanceToEdge",value:function(t,o,l,h,y,O){if(this.from!=this.to)return this._getDistanceToEdge(t,o,l,h,y,O);var D=this._getCircleData(void 0),R=_slicedToArray(D,3),F=R[0],B=R[1],j=R[2],U=F-y,W=B-O;return Math.abs(Math.sqrt(U*U+W*W)-j)}},{key:"_getDistanceToLine",value:function(t,o,l,h,y,O){var D=l-t,R=h-o,F=D*D+R*R,B=((y-t)*D+(O-o)*R)/F;B>1?B=1:B<0&&(B=0);var j=t+B*D,U=o+B*R,W=j-y,G=U-O;return Math.sqrt(W*W+G*G)}},{key:"getArrowData",value:function(t,o,l,h,y,O){var D,R,F,B,j,U,W,G=O.width;o==="from"?(F=this.from,B=this.to,j=O.fromArrowScale<0,U=Math.abs(O.fromArrowScale),W=O.fromArrowType):o==="to"?(F=this.to,B=this.from,j=O.toArrowScale<0,U=Math.abs(O.toArrowScale),W=O.toArrowType):(F=this.to,B=this.from,j=O.middleArrowScale<0,U=Math.abs(O.middleArrowScale),W=O.middleArrowType);var q=15*U+3*G;if(F!=B){var K=hypot(F.x-B.x,F.y-B.y),Y=q/K;if(o!=="middle")if(this.options.smooth.enabled===!0){var X=this._findBorderPosition(F,t,{via:l}),J=this.getPoint(X.t+Y*(o==="from"?1:-1),l);D=Math.atan2(X.y-J.y,X.x-J.x),R=X}else D=Math.atan2(F.y-B.y,F.x-B.x),R=this._findBorderPosition(F,t);else{var Q=(j?-Y:Y)/2,Z=this.getPoint(.5+Q,l),ee=this.getPoint(.5-Q,l);D=Math.atan2(Z.y-ee.y,Z.x-ee.x),R=this.getPoint(.5,l)}}else{var te=this._getCircleData(t),re=_slicedToArray(te,3),ie=re[0],ne=re[1],se=re[2];if(o==="from"){var ce=this.options.selfReference.angle,ue=this.options.selfReference.angle+Math.PI,he=this._findBorderPositionCircle(this.from,t,{x:ie,y:ne,low:ce,high:ue,direction:-1});D=he.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,R=he}else if(o==="to"){var pe=this.options.selfReference.angle,oe=this.options.selfReference.angle+Math.PI,ae=this._findBorderPositionCircle(this.from,t,{x:ie,y:ne,low:pe,high:oe,direction:1});D=ae.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,R=ae}else{var le=this.options.selfReference.angle/(2*Math.PI);R=this._pointOnCircle(ie,ne,se,le),D=le*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var me=R.x-q*.9*Math.cos(D),ge=R.y-q*.9*Math.sin(D),fe={x:me,y:ge};return{point:R,core:fe,angle:D,length:q,type:W}}},{key:"drawArrowHead",value:function(t,o,l,h,y){t.strokeStyle=this.getColor(t,o),t.fillStyle=t.strokeStyle,t.lineWidth=o.width;var O=EndPoints.draw(t,y);O&&(this.enableShadow(t,o),fill(t).call(t),this.disableShadow(t,o))}},{key:"enableShadow",value:function(t,o){o.shadow===!0&&(t.shadowColor=o.shadowColor,t.shadowBlur=o.shadowSize,t.shadowOffsetX=o.shadowX,t.shadowOffsetY=o.shadowY)}},{key:"disableShadow",value:function(t,o){o.shadow===!0&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,o){if(o.background!==!1){var l={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=o.backgroundColor,t.lineWidth=o.backgroundSize,this.setStrokeDashed(t,o.backgroundDashes),t.stroke(),t.strokeStyle=l.strokeStyle,t.lineWidth=l.lineWidth,t.dashes=l.dashes,this.setStrokeDashed(t,o.dashes)}}},{key:"setStrokeDashed",value:function(t,o){if(o!==!1)if(t.setLineDash!==void 0){var l=isArray$1(o)?o:[5,5];t.setLineDash(l)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else t.setLineDash!==void 0?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),r}();function ownKeys(r,e){var t=keys(r);if(getOwnPropertySymbols){var o=getOwnPropertySymbols(r);e&&(o=filter(o).call(o,function(l){return getOwnPropertyDescriptor$3(r,l).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t,o,l=arguments[e]!=null?arguments[e]:{};e%2?forEach$2(t=ownKeys(Object(l),!0)).call(t,function(h){_defineProperty(r,h,l[h])}):getOwnPropertyDescriptors?defineProperties(r,getOwnPropertyDescriptors(l)):forEach$2(o=ownKeys(Object(l))).call(o,function(h){defineProperty$6(r,h,getOwnPropertyDescriptor$3(l,h))})}return r}function _createSuper$9(r){var e=_isNativeReflectConstruct$9();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$9(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeBase=function(r){_inherits(t,r);var e=_createSuper$9(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"_findBorderPositionBezier",value:function(l,h){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),O=10,D=.2,R=!1,F=1,B=0,j=this.to,U,W,G=this.options.endPointOffset?this.options.endPointOffset.to:0;l.id===this.from.id&&(j=this.from,R=!0,G=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(G=0);var q=0;do{W=(B+F)*.5,U=this.getPoint(W,y);var K=Math.atan2(j.y-U.y,j.x-U.x),Y=j.distanceToBorder(h,K)+G,X=Math.sqrt(Math.pow(U.x-j.x,2)+Math.pow(U.y-j.y,2)),J=Y-X;if(Math.abs(J)<D)break;J<0?R===!1?B=W:F=W:R===!1?F=W:B=W,++q}while(B<=F&&q<O);return _objectSpread(_objectSpread({},U),{},{t:W})}},{key:"_getDistanceToBezierEdge",value:function(l,h,y,O,D,R,F){var B=1e9,j,U,W,G,q,K=l,Y=h;for(U=1;U<10;U++)W=.1*U,G=Math.pow(1-W,2)*l+2*W*(1-W)*F.x+Math.pow(W,2)*y,q=Math.pow(1-W,2)*h+2*W*(1-W)*F.y+Math.pow(W,2)*O,U>0&&(j=this._getDistanceToLine(K,Y,G,q,D,R),B=j<B?j:B),K=G,Y=q;return B}},{key:"_bezierCurve",value:function(l,h,y,O){l.beginPath(),l.moveTo(this.fromPoint.x,this.fromPoint.y),y!=null&&y.x!=null?O!=null&&O.x!=null?l.bezierCurveTo(y.x,y.y,O.x,O.y,this.toPoint.x,this.toPoint.y):l.quadraticCurveTo(y.x,y.y,this.toPoint.x,this.toPoint.y):l.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(l,h),this.enableShadow(l,h),l.stroke(),this.disableShadow(l,h)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),t}(EdgeBase);function _createSuper$8(r){var e=_isNativeReflectConstruct$8();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$8(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeDynamic=function(r){_inherits(t,r);var e=_createSuper$8(t);function t(o,l,h){var y;return _classCallCheck(this,t),y=e.call(this,o,l,h),y.via=y.via,y._boundFunction=function(){y.positionBezierNode()},y._body.emitter.on("_repositionBezierNodes",y._boundFunction),y}return _createClass(t,[{key:"setOptions",value:function(l){_get(_getPrototypeOf(t.prototype),"setOptions",this).call(this,l);var h=!1;this.options.physics!==l.physics&&(h=!0),this.options=l,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),h===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var l="edgeId:"+this.id,h=this._body.functions.createNode({id:l,shape:"circle",physics:!0,hidden:!0});this._body.nodes[l]=h,this.via=h,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(l,h,y){this._bezierCurve(l,h,y)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var y=this._getCircleData(),O=_slicedToArray(y,3),D=O[0],R=O[1],F=O[2],B=2*Math.PI*(1-l);return{x:D+F*Math.sin(B),y:R+F-F*(1-Math.cos(B))}}else return{x:Math.pow(1-l,2)*this.fromPoint.x+2*l*(1-l)*h.x+Math.pow(l,2)*this.toPoint.x,y:Math.pow(1-l,2)*this.fromPoint.y+2*l*(1-l)*h.y+Math.pow(l,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(l,h){return this._findBorderPositionBezier(l,h,this.via)}},{key:"_getDistanceToEdge",value:function(l,h,y,O,D,R){return this._getDistanceToBezierEdge(l,h,y,O,D,R,this.via)}}]),t}(BezierEdgeBase);function _createSuper$7(r){var e=_isNativeReflectConstruct$7();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$7(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeStatic=function(r){_inherits(t,r);var e=_createSuper$7(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"_line",value:function(l,h,y){this._bezierCurve(l,h,y)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var l=this.options.smooth.roundness,h=this.options.smooth.type,y=Math.abs(this.from.x-this.to.x),O=Math.abs(this.from.y-this.to.y);if(h==="discrete"||h==="diagonalCross"){var D,R;y<=O?D=R=l*O:D=R=l*y,this.from.x>this.to.x&&(D=-D),this.from.y>=this.to.y&&(R=-R);var F=this.from.x+D,B=this.from.y+R;return h==="discrete"&&(y<=O?F=y<l*O?this.from.x:F:B=O<l*y?this.from.y:B),{x:F,y:B}}else if(h==="straightCross"){var j=(1-l)*y,U=(1-l)*O;return y<=O?(j=0,this.from.y<this.to.y&&(U=-U)):(this.from.x<this.to.x&&(j=-j),U=0),{x:this.to.x+j,y:this.to.y+U}}else if(h==="horizontal"){var W=(1-l)*y;return this.from.x<this.to.x&&(W=-W),{x:this.to.x+W,y:this.from.y}}else if(h==="vertical"){var G=(1-l)*O;return this.from.y<this.to.y&&(G=-G),{x:this.from.x,y:this.to.y+G}}else if(h==="curvedCW"){y=this.to.x-this.from.x,O=this.from.y-this.to.y;var q=Math.sqrt(y*y+O*O),K=Math.PI,Y=Math.atan2(O,y),X=(Y+(l*.5+.5)*K)%(2*K);return{x:this.from.x+(l*.5+.5)*q*Math.sin(X),y:this.from.y+(l*.5+.5)*q*Math.cos(X)}}else if(h==="curvedCCW"){y=this.to.x-this.from.x,O=this.from.y-this.to.y;var J=Math.sqrt(y*y+O*O),Q=Math.PI,Z=Math.atan2(O,y),ee=(Z+(-l*.5+.5)*Q)%(2*Q);return{x:this.from.x+(l*.5+.5)*J*Math.sin(ee),y:this.from.y+(l*.5+.5)*J*Math.cos(ee)}}else{var te,re;y<=O?te=re=l*O:te=re=l*y,this.from.x>this.to.x&&(te=-te),this.from.y>=this.to.y&&(re=-re);var ie=this.from.x+te,ne=this.from.y+re;return y<=O?this.from.x<=this.to.x?ie=this.to.x<ie?this.to.x:ie:ie=this.to.x>ie?this.to.x:ie:this.from.y>=this.to.y?ne=this.to.y>ne?this.to.y:ne:ne=this.to.y<ne?this.to.y:ne,{x:ie,y:ne}}}},{key:"_findBorderPosition",value:function(l,h){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(l,h,y.via)}},{key:"_getDistanceToEdge",value:function(l,h,y,O,D,R){var F=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(l,h,y,O,D,R,F)}},{key:"getPoint",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),y=l,O=Math.pow(1-y,2)*this.fromPoint.x+2*y*(1-y)*h.x+Math.pow(y,2)*this.toPoint.x,D=Math.pow(1-y,2)*this.fromPoint.y+2*y*(1-y)*h.y+Math.pow(y,2)*this.toPoint.y;return{x:O,y:D}}}]),t}(BezierEdgeBase);function _createSuper$6(r){var e=_isNativeReflectConstruct$6();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$6(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CubicBezierEdgeBase=function(r){_inherits(t,r);var e=_createSuper$6(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"_getDistanceToBezierEdge2",value:function(l,h,y,O,D,R,F,B){for(var j=1e9,U=l,W=h,G=[0,0,0,0],q=1;q<10;q++){var K=.1*q;G[0]=Math.pow(1-K,3),G[1]=3*K*Math.pow(1-K,2),G[2]=3*Math.pow(K,2)*(1-K),G[3]=Math.pow(K,3);var Y=G[0]*l+G[1]*F.x+G[2]*B.x+G[3]*y,X=G[0]*h+G[1]*F.y+G[2]*B.y+G[3]*O;if(q>0){var J=this._getDistanceToLine(U,W,Y,X,D,R);j=J<j?J:j}U=Y,W=X}return j}}]),t}(BezierEdgeBase);function _createSuper$5(r){var e=_isNativeReflectConstruct$5();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$5(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CubicBezierEdge=function(r){_inherits(t,r);var e=_createSuper$5(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"_line",value:function(l,h,y){var O=y[0],D=y[1];this._bezierCurve(l,h,O,D)}},{key:"_getViaCoordinates",value:function(){var l=this.from.x-this.to.x,h=this.from.y-this.to.y,y,O,D,R,F=this.options.smooth.roundness;return(Math.abs(l)>Math.abs(h)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(O=this.from.y,R=this.to.y,y=this.from.x-F*l,D=this.to.x+F*l):(O=this.from.y-F*h,R=this.to.y+F*h,y=this.from.x,D=this.to.x),[{x:y,y:O},{x:D,y:R}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(l,h){return this._findBorderPositionBezier(l,h)}},{key:"_getDistanceToEdge",value:function(l,h,y,O,D,R){var F=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),B=_slicedToArray(F,2),j=B[0],U=B[1];return this._getDistanceToBezierEdge2(l,h,y,O,D,R,j,U)}},{key:"getPoint",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),y=_slicedToArray(h,2),O=y[0],D=y[1],R=l,F=[Math.pow(1-R,3),3*R*Math.pow(1-R,2),3*Math.pow(R,2)*(1-R),Math.pow(R,3)],B=F[0]*this.fromPoint.x+F[1]*O.x+F[2]*D.x+F[3]*this.toPoint.x,j=F[0]*this.fromPoint.y+F[1]*O.y+F[2]*D.y+F[3]*this.toPoint.y;return{x:B,y:j}}}]),t}(CubicBezierEdgeBase);function _createSuper$4(r){var e=_isNativeReflectConstruct$4();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$4(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var StraightEdge=function(r){_inherits(t,r);var e=_createSuper$4(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"_line",value:function(l,h){l.beginPath(),l.moveTo(this.fromPoint.x,this.fromPoint.y),l.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(l,h),l.stroke(),this.disableShadow(l,h)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(l){return{x:(1-l)*this.fromPoint.x+l*this.toPoint.x,y:(1-l)*this.fromPoint.y+l*this.toPoint.y}}},{key:"_findBorderPosition",value:function(l,h){var y=this.to,O=this.from;l.id===this.from.id&&(y=this.from,O=this.to);var D=Math.atan2(y.y-O.y,y.x-O.x),R=y.x-O.x,F=y.y-O.y,B=Math.sqrt(R*R+F*F),j=l.distanceToBorder(h,D),U=(B-j)/B;return{x:(1-U)*O.x+U*y.x,y:(1-U)*O.y+U*y.y,t:0}}},{key:"_getDistanceToEdge",value:function(l,h,y,O,D,R){return this._getDistanceToLine(l,h,y,O,D,R)}}]),t}(EdgeBase),Edge=function(){function r(e,t,o,l,h){if(_classCallCheck(this,r),t===void 0)throw new Error("No body provided");this.options=bridgeObject(l),this.globalOptions=l,this.defaultOptions=h,this.body=t,this.imagelist=o,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Label(this.body,this.options,!0),this.setOptions(e)}return _createClass(r,[{key:"setOptions",value:function(t){if(!!t){var o=typeof t.physics!="undefined"&&this.options.physics!==t.physics||typeof t.hidden!="undefined"&&(this.options.hidden||!1)!==(t.hidden||!1)||typeof t.from!="undefined"&&this.options.from!==t.from||typeof t.to!="undefined"&&this.options.to!==t.to;r.parseOptions(this.options,t,!0,this.globalOptions),t.id!==void 0&&(this.id=t.id),t.from!==void 0&&(this.fromId=t.from),t.to!==void 0&&(this.toId=t.to),t.title!==void 0&&(this.title=t.title),t.value!==void 0&&(t.value=_parseFloat(t.value));var l=[t,this.options,this.defaultOptions];return this.chooser=choosify("edge",l),this.updateLabelModule(t),o=this.updateEdgeType()||o,this._setInteractionWidths(),this.connect(),o}}},{key:"getFormattingValues",value:function(){var t=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,o=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,l=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,h=this.options.color.inherit,y={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:l,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:o,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:h?void 0:this.options.color.color,inheritsColor:h,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var O=this.options.selectionWidth;typeof O=="function"?y.width=O(y.width):typeof O=="number"&&(y.width+=O),y.width=Math.max(y.width,.3/this.body.view.scale),y.color=this.options.color.highlight,y.shadow=this.options.shadow.enabled}else if(this.hover){var D=this.options.hoverWidth;typeof D=="function"?y.width=D(y.width):typeof D=="number"&&(y.width+=D),y.width=Math.max(y.width,.3/this.body.view.scale),y.color=this.options.color.hover,y.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(y,this.options.id,this.selected,this.hover),y.color!==void 0&&(y.inheritsColor=!1),y.shadow===!1&&(y.shadowColor!==this.options.shadow.color||y.shadowSize!==this.options.shadow.size||y.shadowX!==this.options.shadow.x||y.shadowY!==this.options.shadow.y)&&(y.shadow=!0));else y.shadow=this.options.shadow.enabled,y.width=Math.max(y.width,.3/this.body.view.scale);return y}},{key:"updateLabelModule",value:function(t){var o=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,o),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,o=!1,l=!0;return this.edgeType!==void 0&&((this.edgeType instanceof BezierEdgeDynamic&&t.enabled===!0&&t.type==="dynamic"||this.edgeType instanceof CubicBezierEdge&&t.enabled===!0&&t.type==="cubicBezier"||this.edgeType instanceof BezierEdgeStatic&&t.enabled===!0&&t.type!=="dynamic"&&t.type!=="cubicBezier"||this.edgeType instanceof StraightEdge&&t.type.enabled===!1)&&(l=!1),l===!0&&(o=this.cleanup())),l===!0?t.enabled===!0?t.type==="dynamic"?(o=!0,this.edgeType=new BezierEdgeDynamic(this.options,this.body,this.labelModule)):t.type==="cubicBezier"?this.edgeType=new CubicBezierEdge(this.options,this.body,this.labelModule):this.edgeType=new BezierEdgeStatic(this.options,this.body,this.labelModule):this.edgeType=new StraightEdge(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),o}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,o,l){if(this.options.value!==void 0){var h=this.options.scaling.customScalingFunction(t,o,l,this.options.value),y=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var O=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+h*O}this.options.width=this.options.scaling.min+h*y}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var o=this.getFormattingValues();if(!o.hidden){var l=this.edgeType.getViaNode();this.edgeType.drawLine(t,o,this.selected,this.hover,l),this.drawLabel(t,l)}}},{key:"drawArrows",value:function(t){var o=this.getFormattingValues();if(!o.hidden){var l=this.edgeType.getViaNode(),h={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,o.fromArrow&&(h.from=this.edgeType.getArrowData(t,"from",l,this.selected,this.hover,o),o.arrowStrikethrough===!1&&(this.edgeType.fromPoint=h.from.core),o.fromArrowSrc&&(h.from.image=this.imagelist.load(o.fromArrowSrc)),o.fromArrowImageWidth&&(h.from.imageWidth=o.fromArrowImageWidth),o.fromArrowImageHeight&&(h.from.imageHeight=o.fromArrowImageHeight)),o.toArrow&&(h.to=this.edgeType.getArrowData(t,"to",l,this.selected,this.hover,o),o.arrowStrikethrough===!1&&(this.edgeType.toPoint=h.to.core),o.toArrowSrc&&(h.to.image=this.imagelist.load(o.toArrowSrc)),o.toArrowImageWidth&&(h.to.imageWidth=o.toArrowImageWidth),o.toArrowImageHeight&&(h.to.imageHeight=o.toArrowImageHeight)),o.middleArrow&&(h.middle=this.edgeType.getArrowData(t,"middle",l,this.selected,this.hover,o),o.middleArrowSrc&&(h.middle.image=this.imagelist.load(o.middleArrowSrc)),o.middleArrowImageWidth&&(h.middle.imageWidth=o.middleArrowImageWidth),o.middleArrowImageHeight&&(h.middle.imageHeight=o.middleArrowImageHeight)),o.fromArrow&&this.edgeType.drawArrowHead(t,o,this.selected,this.hover,h.from),o.middleArrow&&this.edgeType.drawArrowHead(t,o,this.selected,this.hover,h.middle),o.toArrow&&this.edgeType.drawArrowHead(t,o,this.selected,this.hover,h.to)}}},{key:"drawLabel",value:function(t,o){if(this.options.label!==void 0){var l=this.from,h=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover);var y;if(l.id!=h.id){this.labelModule.pointToSelf=!1,y=this.edgeType.getPoint(.5,o),t.save();var O=this._getRotation(t);O.angle!=0&&(t.translate(O.x,O.y),t.rotate(O.angle)),this.labelModule.draw(t,y.x,y.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var D=getSelfRefCoordinates(t,this.options.selfReference.angle,this.options.selfReference.size,l);y=this._pointOnCircle(D.x,D.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,y.x,y.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var o=[];if(this.labelModule.visible()){var l=this._getRotation();pointInRect(this.labelModule.getSize(),t,l)&&o.push({edgeId:this.id,labelId:0})}var h={left:t.x,top:t.y};return this.isOverlappingWith(h)&&o.push({edgeId:this.id}),o}},{key:"isOverlappingWith",value:function(t){if(this.connected){var o=10,l=this.from.x,h=this.from.y,y=this.to.x,O=this.to.y,D=t.left,R=t.top,F=this.edgeType.getDistanceToEdge(l,h,y,O,D,R);return F<o}else return!1}},{key:"_getRotation",value:function(t){var o=this.edgeType.getViaNode(),l=this.edgeType.getPoint(.5,o);t!==void 0&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,l.x,l.y);var h={x:l.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return h;var y=this.from.y-this.to.y,O=this.from.x-this.to.x,D=Math.atan2(y,O);return(D<-1&&O<0||D>0&&O<0)&&(D+=Math.PI),h.angle=D,h}},{key:"_pointOnCircle",value:function(t,o,l,h){return{x:t+l*Math.cos(h),y:o-l*Math.sin(h)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(t,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,O=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(selectiveDeepExtend(O,t,o,l),o.endPointOffset!==void 0&&o.endPointOffset.from!==void 0&&(_isFinite(o.endPointOffset.from)?t.endPointOffset.from=o.endPointOffset.from:(t.endPointOffset.from=h.endPointOffset.from!==void 0?h.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),o.endPointOffset!==void 0&&o.endPointOffset.to!==void 0&&(_isFinite(o.endPointOffset.to)?t.endPointOffset.to=o.endPointOffset.to:(t.endPointOffset.to=h.endPointOffset.to!==void 0?h.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),isValidLabel(o.label)?t.label=o.label:isValidLabel(t.label)||(t.label=void 0),mergeOptions(t,o,"smooth",h),mergeOptions(t,o,"shadow",h),mergeOptions(t,o,"background",h),o.dashes!==void 0&&o.dashes!==null?t.dashes=o.dashes:l===!0&&o.dashes===null&&(t.dashes=create$5(h.dashes)),o.scaling!==void 0&&o.scaling!==null?(o.scaling.min!==void 0&&(t.scaling.min=o.scaling.min),o.scaling.max!==void 0&&(t.scaling.max=o.scaling.max),mergeOptions(t.scaling,o.scaling,"label",h.scaling)):l===!0&&o.scaling===null&&(t.scaling=create$5(h.scaling)),o.arrows!==void 0&&o.arrows!==null)if(typeof o.arrows=="string"){var D=o.arrows.toLowerCase();t.arrows.to.enabled=indexOf(D).call(D,"to")!=-1,t.arrows.middle.enabled=indexOf(D).call(D,"middle")!=-1,t.arrows.from.enabled=indexOf(D).call(D,"from")!=-1}else if(_typeof(o.arrows)==="object")mergeOptions(t.arrows,o.arrows,"to",h.arrows),mergeOptions(t.arrows,o.arrows,"middle",h.arrows),mergeOptions(t.arrows,o.arrows,"from",h.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+stringify$1(o.arrows));else l===!0&&o.arrows===null&&(t.arrows=create$5(h.arrows));if(o.color!==void 0&&o.color!==null){var R=isString(o.color)?{color:o.color,highlight:o.color,hover:o.color,inherit:!1,opacity:1}:o.color,F=t.color;if(y)deepExtend(F,h.color,!1,l);else for(var B in F)Object.prototype.hasOwnProperty.call(F,B)&&delete F[B];if(isString(F))F.color=F,F.highlight=F,F.hover=F,F.inherit=!1,R.opacity===void 0&&(F.opacity=1);else{var j=!1;R.color!==void 0&&(F.color=R.color,j=!0),R.highlight!==void 0&&(F.highlight=R.highlight,j=!0),R.hover!==void 0&&(F.hover=R.hover,j=!0),R.inherit!==void 0&&(F.inherit=R.inherit),R.opacity!==void 0&&(F.opacity=Math.min(1,Math.max(0,R.opacity))),j===!0?F.inherit=!1:F.inherit===void 0&&(F.inherit="from")}}else l===!0&&o.color===null&&(t.color=bridgeObject(h.color));l===!0&&o.font===null&&(t.font=bridgeObject(h.font)),Object.prototype.hasOwnProperty.call(o,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=o.selfReferenceSize)}}]),r}(),EdgesHandler=function(){function r(e,t,o){var l,h=this;_classCallCheck(this,r),this.body=e,this.images=t,this.groups=o,this.body.functions.createEdge=bind$5(l=this.create).call(l,this),this.edgesListeners={add:function(O,D){h.add(D.items)},update:function(O,D){h.update(D.items)},remove:function(O,D){h.remove(D.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(O,D,R,F){if(D===O)return .5;var B=1/(D-O);return Math.max(0,(F-O)*B)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var t=this,o,l;this.body.emitter.on("_forceDisableDynamicCurves",function(h){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;h==="dynamic"&&(h="continuous");var O=!1;for(var D in t.body.edges)if(Object.prototype.hasOwnProperty.call(t.body.edges,D)){var R=t.body.edges[D],F=t.body.data.edges.get(D);if(F!=null){var B=F.smooth;B!==void 0&&B.enabled===!0&&B.type==="dynamic"&&(h===void 0?R.setOptions({smooth:!1}):R.setOptions({smooth:{type:h}}),O=!0)}}y===!0&&O===!0&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges()}),this.body.emitter.on("refreshEdges",bind$5(o=this.refresh).call(o,this)),this.body.emitter.on("refresh",bind$5(l=this.refresh).call(l,this)),this.body.emitter.on("destroy",function(){forEach$1(t.edgesListeners,function(h,y){t.body.data.edges&&t.body.data.edges.off(y,h)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(t!==void 0){Edge.parseOptions(this.options,t,!0,this.defaultOptions,!0);var o=!1;if(t.smooth!==void 0)for(var l in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,l)&&(o=this.body.edges[l].updateEdgeType()||o);if(t.font!==void 0)for(var h in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,h)&&this.body.edges[h].updateLabelModule();(t.hidden!==void 0||t.physics!==void 0||o===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var o=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=this.body.data.edges;if(isDataViewLike("id",t))this.body.data.edges=t;else if(isArray$1(t))this.body.data.edges=new DataSet,this.body.data.edges.add(t);else if(!t)this.body.data.edges=new DataSet;else throw new TypeError("Array or DataSet expected");if(h&&forEach$1(this.edgesListeners,function(O,D){h.off(D,O)}),this.body.edges={},this.body.data.edges){forEach$1(this.edgesListeners,function(O,D){o.body.data.edges.on(D,O)});var y=this.body.data.edges.getIds();this.add(y,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),l===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=this.body.edges,h=this.body.data.edges,y=0;y<t.length;y++){var O=t[y],D=l[O];D&&D.disconnect();var R=h.get(O,{showInternalIds:!0});l[O]=this.create(R)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),o===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var o=this.body.edges,l=this.body.data.edges,h=!1,y=0;y<t.length;y++){var O=t[y],D=l.get(O),R=o[O];R!==void 0?(R.disconnect(),h=R.setOptions(D)||h,R.connect()):(this.body.edges[O]=this.create(D),h=!0)}h===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.length!==0){var l=this.body.edges;forEach$1(t,function(h){var y=l[h];y!==void 0&&y.remove()}),o&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;forEach$1(this.body.edges,function(o,l){var h=t.body.data.edges.get(l);h!==void 0&&o.setOptions(h)})}},{key:"create",value:function(t){return new Edge(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,o=this.body.nodes,l=this.body.edges;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(o[t].edges=[]);for(t in l)if(Object.prototype.hasOwnProperty.call(l,t)){var h=l[t];h.from=null,h.to=null,h.connect()}}},{key:"getConnectedNodes",value:function(t){var o=[];if(this.body.edges[t]!==void 0){var l=this.body.edges[t];l.fromId!==void 0&&o.push(l.fromId),l.toId!==void 0&&o.push(l.toId)}return o}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,o=[];forEach$1(this.body.edges,function(l,h){var y=t.body.nodes[l.toId],O=t.body.nodes[l.fromId];y!==void 0&&y.isCluster===!0||O!==void 0&&O.isCluster===!0||(y===void 0||O===void 0)&&o.push(h)}),this.remove(o,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(t!=null){var o=this.body.edges,l=[];forEach$2(t).call(t,function(h,y){var O=o[y];O===void 0&&l.push(y)}),this.add(l,!0)}}}]),r}(),BarnesHutSolver=function(){function r(e,t,o){_classCallCheck(this,r),this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(o),this._rng=Alea("BARNES HUT SOLVER")}return _createClass(r,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var t,o=this.body.nodes,l=this.physicsBody.physicsNodeIndices,h=l.length,y=this._formBarnesHutTree(o,l);this.barnesHutTree=y;for(var O=0;O<h;O++)t=o[l[O]],t.options.mass>0&&this._getForceContributions(y.root,t)}}},{key:"_getForceContributions",value:function(t,o){this._getForceContribution(t.children.NW,o),this._getForceContribution(t.children.NE,o),this._getForceContribution(t.children.SW,o),this._getForceContribution(t.children.SE,o)}},{key:"_getForceContribution",value:function(t,o){if(t.childrenCount>0){var l=t.centerOfMass.x-o.x,h=t.centerOfMass.y-o.y,y=Math.sqrt(l*l+h*h);y*t.calcSize>this.thetaInversed?this._calculateForces(y,l,h,o,t):t.childrenCount===4?this._getForceContributions(t,o):t.children.data.id!=o.id&&this._calculateForces(y,l,h,o,t)}}},{key:"_calculateForces",value:function(t,o,l,h,y){t===0&&(t=.1,o=t),this.overlapAvoidanceFactor<1&&h.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*h.shape.radius,t-h.shape.radius));var O=this.options.gravitationalConstant*y.mass*h.options.mass/Math.pow(t,3),D=o*O,R=l*O;this.physicsBody.forces[h.id].x+=D,this.physicsBody.forces[h.id].y+=R}},{key:"_formBarnesHutTree",value:function(t,o){for(var l,h=o.length,y=t[o[0]].x,O=t[o[0]].y,D=t[o[0]].x,R=t[o[0]].y,F=1;F<h;F++){var B=t[o[F]],j=B.x,U=B.y;B.options.mass>0&&(j<y&&(y=j),j>D&&(D=j),U<O&&(O=U),U>R&&(R=U))}var W=Math.abs(D-y)-Math.abs(R-O);W>0?(O-=.5*W,R+=.5*W):(y+=.5*W,D-=.5*W);var G=1e-5,q=Math.max(G,Math.abs(D-y)),K=.5*q,Y=.5*(y+D),X=.5*(O+R),J={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:Y-K,maxX:Y+K,minY:X-K,maxY:X+K},size:q,calcSize:1/q,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(J.root);for(var Q=0;Q<h;Q++)l=t[o[Q]],l.options.mass>0&&this._placeInTree(J.root,l);return J}},{key:"_updateBranchMass",value:function(t,o){var l=t.centerOfMass,h=t.mass+o.options.mass,y=1/h;l.x=l.x*t.mass+o.x*o.options.mass,l.x*=y,l.y=l.y*t.mass+o.y*o.options.mass,l.y*=y,t.mass=h;var O=Math.max(Math.max(o.height,o.radius),o.width);t.maxWidth=t.maxWidth<O?O:t.maxWidth}},{key:"_placeInTree",value:function(t,o,l){(l!=!0||l===void 0)&&this._updateBranchMass(t,o);var h=t.children.NW.range,y;h.maxX>o.x?h.maxY>o.y?y="NW":y="SW":h.maxY>o.y?y="NE":y="SE",this._placeInRegion(t,o,y)}},{key:"_placeInRegion",value:function(t,o,l){var h=t.children[l];switch(h.childrenCount){case 0:h.children.data=o,h.childrenCount=1,this._updateBranchMass(h,o);break;case 1:h.children.data.x===o.x&&h.children.data.y===o.y?(o.x+=this._rng(),o.y+=this._rng()):(this._splitBranch(h),this._placeInTree(h,o));break;case 4:this._placeInTree(h,o);break}}},{key:"_splitBranch",value:function(t){var o=null;t.childrenCount===1&&(o=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),o!=null&&this._placeInTree(t,o)}},{key:"_insertRegion",value:function(t,o){var l,h,y,O,D=.5*t.size;switch(o){case"NW":l=t.range.minX,h=t.range.minX+D,y=t.range.minY,O=t.range.minY+D;break;case"NE":l=t.range.minX+D,h=t.range.maxX,y=t.range.minY,O=t.range.minY+D;break;case"SW":l=t.range.minX,h=t.range.minX+D,y=t.range.minY+D,O=t.range.maxY;break;case"SE":l=t.range.minX+D,h=t.range.maxX,y=t.range.minY+D,O=t.range.maxY;break}t.children[o]={centerOfMass:{x:0,y:0},mass:0,range:{minX:l,maxX:h,minY:y,maxY:O},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,o){this.barnesHutTree!==void 0&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,o))}},{key:"_drawBranch",value:function(t,o,l){l===void 0&&(l="#FF0000"),t.childrenCount===4&&(this._drawBranch(t.children.NW,o),this._drawBranch(t.children.NE,o),this._drawBranch(t.children.SE,o),this._drawBranch(t.children.SW,o)),o.strokeStyle=l,o.beginPath(),o.moveTo(t.range.minX,t.range.minY),o.lineTo(t.range.maxX,t.range.minY),o.stroke(),o.beginPath(),o.moveTo(t.range.maxX,t.range.minY),o.lineTo(t.range.maxX,t.range.maxY),o.stroke(),o.beginPath(),o.moveTo(t.range.maxX,t.range.maxY),o.lineTo(t.range.minX,t.range.maxY),o.stroke(),o.beginPath(),o.moveTo(t.range.minX,t.range.maxY),o.lineTo(t.range.minX,t.range.minY),o.stroke()}}]),r}(),RepulsionSolver=function(){function r(e,t,o){_classCallCheck(this,r),this._rng=Alea("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,o,l,h,y,O,D,R,F=this.body.nodes,B=this.physicsBody.physicsNodeIndices,j=this.physicsBody.forces,U=this.options.nodeDistance,W=-2/3/U,G=4/3,q=0;q<B.length-1;q++){D=F[B[q]];for(var K=q+1;K<B.length;K++)R=F[B[K]],t=R.x-D.x,o=R.y-D.y,l=Math.sqrt(t*t+o*o),l===0&&(l=.1*this._rng(),t=l),l<2*U&&(l<.5*U?O=1:O=W*l+G,O=O/l,h=t*O,y=o*O,j[D.id].x-=h,j[D.id].y-=y,j[R.id].x+=h,j[R.id].y+=y)}}}]),r}(),HierarchicalRepulsionSolver=function(){function r(e,t,o){_classCallCheck(this,r),this.body=e,this.physicsBody=t,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,o=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,h=this.options.nodeDistance,y=0;y<o.length-1;y++)for(var O=t[o[y]],D=y+1;D<o.length;D++){var R=t[o[D]];if(O.level===R.level){var F=h+this.overlapAvoidanceFactor*((O.shape.radius||0)/2+(R.shape.radius||0)/2),B=R.x-O.x,j=R.y-O.y,U=Math.sqrt(B*B+j*j),W=.05,G=void 0;U<F?G=-Math.pow(W*U,2)+Math.pow(W*F,2):G=0,U!==0&&(G=G/U);var q=B*G,K=j*G;l[O.id].x-=q,l[O.id].y-=K,l[R.id].x+=q,l[R.id].y+=K}}}}]),r}(),SpringSolver=function(){function r(e,t,o){_classCallCheck(this,r),this.body=e,this.physicsBody=t,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,o,l=this.physicsBody.physicsEdgeIndices,h=this.body.edges,y,O,D,R=0;R<l.length;R++)o=h[l[R]],o.connected===!0&&o.toId!==o.fromId&&this.body.nodes[o.toId]!==void 0&&this.body.nodes[o.fromId]!==void 0&&(o.edgeType.via!==void 0?(t=o.options.length===void 0?this.options.springLength:o.options.length,y=o.to,O=o.edgeType.via,D=o.from,this._calculateSpringForce(y,O,.5*t),this._calculateSpringForce(O,D,.5*t)):(t=o.options.length===void 0?this.options.springLength*1.5:o.options.length,this._calculateSpringForce(o.from,o.to,t)))}},{key:"_calculateSpringForce",value:function(t,o,l){var h=t.x-o.x,y=t.y-o.y,O=Math.max(Math.sqrt(h*h+y*y),.01),D=this.options.springConstant*(l-O)/O,R=h*D,F=y*D;this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x+=R,this.physicsBody.forces[t.id].y+=F),this.physicsBody.forces[o.id]!==void 0&&(this.physicsBody.forces[o.id].x-=R,this.physicsBody.forces[o.id].y-=F)}}]),r}(),HierarchicalSpringSolver=function(){function r(e,t,o){_classCallCheck(this,r),this.body=e,this.physicsBody=t,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,o,l,h,y,O,D,R,F=this.body.edges,B=.5,j=this.physicsBody.physicsEdgeIndices,U=this.physicsBody.physicsNodeIndices,W=this.physicsBody.forces,G=0;G<U.length;G++){var q=U[G];W[q].springFx=0,W[q].springFy=0}for(var K=0;K<j.length;K++)o=F[j[K]],o.connected===!0&&(t=o.options.length===void 0?this.options.springLength:o.options.length,l=o.from.x-o.to.x,h=o.from.y-o.to.y,R=Math.sqrt(l*l+h*h),R=R===0?.01:R,D=this.options.springConstant*(t-R)/R,y=l*D,O=h*D,o.to.level!=o.from.level?(W[o.toId]!==void 0&&(W[o.toId].springFx-=y,W[o.toId].springFy-=O),W[o.fromId]!==void 0&&(W[o.fromId].springFx+=y,W[o.fromId].springFy+=O)):(W[o.toId]!==void 0&&(W[o.toId].x-=B*y,W[o.toId].y-=B*O),W[o.fromId]!==void 0&&(W[o.fromId].x+=B*y,W[o.fromId].y+=B*O)));D=1;for(var Y,X,J=0;J<U.length;J++){var Q=U[J];Y=Math.min(D,Math.max(-D,W[Q].springFx)),X=Math.min(D,Math.max(-D,W[Q].springFy)),W[Q].x+=Y,W[Q].y+=X}for(var Z=0,ee=0,te=0;te<U.length;te++){var re=U[te];Z+=W[re].x,ee+=W[re].y}for(var ie=Z/U.length,ne=ee/U.length,se=0;se<U.length;se++){var ce=U[se];W[ce].x-=ie,W[ce].y-=ne}}}]),r}(),CentralGravitySolver=function(){function r(e,t,o){_classCallCheck(this,r),this.body=e,this.physicsBody=t,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,o,l,h,y=this.body.nodes,O=this.physicsBody.physicsNodeIndices,D=this.physicsBody.forces,R=0;R<O.length;R++){var F=O[R];h=y[F],t=-h.x,o=-h.y,l=Math.sqrt(t*t+o*o),this._calculateForces(l,t,o,D,h)}}},{key:"_calculateForces",value:function(t,o,l,h,y){var O=t===0?0:this.options.centralGravity/t;h[y.id].x=o*O,h[y.id].y=l*O}}]),r}();function _createSuper$3(r){var e=_isNativeReflectConstruct$3();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$3(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var ForceAtlas2BasedRepulsionSolver=function(r){_inherits(t,r);var e=_createSuper$3(t);function t(o,l,h){var y;return _classCallCheck(this,t),y=e.call(this,o,l,h),y._rng=Alea("FORCE ATLAS 2 BASED REPULSION SOLVER"),y}return _createClass(t,[{key:"_calculateForces",value:function(l,h,y,O,D){l===0&&(l=.1*this._rng(),h=l),this.overlapAvoidanceFactor<1&&O.shape.radius&&(l=Math.max(.1+this.overlapAvoidanceFactor*O.shape.radius,l-O.shape.radius));var R=O.edges.length+1,F=this.options.gravitationalConstant*D.mass*O.options.mass*R/Math.pow(l,2),B=h*F,j=y*F;this.physicsBody.forces[O.id].x+=B,this.physicsBody.forces[O.id].y+=j}}]),t}(BarnesHutSolver);function _createSuper$2(r){var e=_isNativeReflectConstruct$2();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$2(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var ForceAtlas2BasedCentralGravitySolver=function(r){_inherits(t,r);var e=_createSuper$2(t);function t(o,l,h){return _classCallCheck(this,t),e.call(this,o,l,h)}return _createClass(t,[{key:"_calculateForces",value:function(l,h,y,O,D){if(l>0){var R=D.edges.length+1,F=this.options.centralGravity*R*D.options.mass;O[D.id].x=h*F,O[D.id].y=y*F}}}]),t}(CentralGravitySolver),PhysicsEngine=function(){function r(e){_classCallCheck(this,r),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},assign$2(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),t.ready===!0&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){t.ready===!0&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){if(t!==void 0)if(t===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(t===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,selectiveNotDeepExtend(["stabilization"],this.options,t),mergeOptions(this.options,t,"stabilization"),t.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var o=this.options.wind;o&&((typeof o.x!="number"||isNan(o.x))&&(o.x=0),(typeof o.y!="number"||isNan(o.y))&&(o.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;this.options.solver==="forceAtlas2Based"?(t=this.options.forceAtlas2Based,this.nodesSolver=new ForceAtlas2BasedRepulsionSolver(this.body,this.physicsBody,t),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,t),this.gravitySolver=new ForceAtlas2BasedCentralGravitySolver(this.body,this.physicsBody,t)):this.options.solver==="repulsion"?(t=this.options.repulsion,this.nodesSolver=new RepulsionSolver(this.body,this.physicsBody,t),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,t),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,t)):this.options.solver==="hierarchicalRepulsion"?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new HierarchicalRepulsionSolver(this.body,this.physicsBody,t),this.edgesSolver=new HierarchicalSpringSolver(this.body,this.physicsBody,t),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new BarnesHutSolver(this.body,this.physicsBody,t),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,t),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var t;this.viewFunction=bind$5(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,t===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,t===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=now$1();this.physicsTick();var o=now$1()-t;(o<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout$1(function(){t.body.emitter.emit("stabilized",{iterations:o}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var t=1.2;this._evaluateStepQuality()===!0?this.timestep=t*this.timestep:this.timestep/t<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/t))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var t=this.adaptiveCounter%this.adaptiveInterval===0;t?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,o=this.body.edges;for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&t[l].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(t[l].id);for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&o[h].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(o[h].id);for(var y=0;y<this.physicsBody.physicsNodeIndices.length;y++){var O=this.physicsBody.physicsNodeIndices[y];this.physicsBody.forces[O]={x:0,y:0},this.physicsBody.velocities[O]===void 0&&(this.physicsBody.velocities[O]={x:0,y:0})}for(var D in this.physicsBody.velocities)t[D]===void 0&&delete this.physicsBody.velocities[D]}},{key:"revert",value:function(){var t=keys(this.previousStates),o=this.body.nodes,l=this.physicsBody.velocities;this.referenceState={};for(var h=0;h<t.length;h++){var y=t[h];o[y]!==void 0?o[y].options.physics===!0&&(this.referenceState[y]={positions:{x:o[y].x,y:o[y].y}},l[y].x=this.previousStates[y].vx,l[y].y=this.previousStates[y].vy,o[y].x=this.previousStates[y].x,o[y].y=this.previousStates[y].y):delete this.previousStates[y]}}},{key:"_evaluateStepQuality",value:function(){var t,o,l,h=this.body.nodes,y=this.referenceState,O=.3;for(var D in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,D)&&h[D]!==void 0&&(t=h[D].x-y[D].positions.x,o=h[D].y-y[D].positions.y,l=Math.sqrt(Math.pow(t,2)+Math.pow(o,2)),l>O))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,o=0,l=0,h=5,y=0;y<t.length;y++){var O=t[y],D=this._performStep(O);o=Math.max(o,D),l+=D}this.adaptiveTimestepEnabled=l/t.length<h,this.stabilized=o<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,o,l){var h=this.modelOptions.damping*t,y=(o-h)/l;t+=y*this.timestep;var O=this.options.maxVelocity||1e9;return Math.abs(t)>O&&(t=t>0?O:-O),t}},{key:"_performStep",value:function(t){var o=this.body.nodes[t],l=this.physicsBody.forces[t];this.options.wind&&(l.x+=this.options.wind.x,l.y+=this.options.wind.y);var h=this.physicsBody.velocities[t];this.previousStates[t]={x:o.x,y:o.y,vx:h.x,vy:h.y},o.options.fixed.x===!1?(h.x=this.calculateComponentVelocity(h.x,l.x,o.options.mass),o.x+=h.x*this.timestep):(l.x=0,h.x=0),o.options.fixed.y===!1?(h.y=this.calculateComponentVelocity(h.y,l.y,o.options.mass),o.y+=h.y*this.timestep):(l.y=0,h.y=0);var y=Math.sqrt(Math.pow(h.x,2)+Math.pow(h.y,2));return y}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&t[o].x&&t[o].y){var l=t[o].options.fixed;this.freezeCache[o]={x:l.x,y:l.y},l.x=!0,l.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&this.freezeCache[o]!==void 0&&(t[o].options.fixed.x=this.freezeCache[o].x,t[o].options.fixed.y=this.freezeCache[o].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof o!="number"&&(o=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",o)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=o,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout$1(function(){return t._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,o=function(){return t.stabilized===!1&&t.stabilizationIterations<t.targetIterations},l=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&l();for(var h=0;o()&&h<this.options.stabilization.updateInterval;)this.physicsTick(),h++;if(l(),o()){var y;setTimeout$1(bind$5(y=this._stabilizationBatch).call(y,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var l=this.physicsBody.physicsNodeIndices[o],h=this.body.nodes[l],y=this.physicsBody.forces[l],O=20,D=.03,R=Math.sqrt(Math.pow(y.x,2)+Math.pow(y.x,2)),F=Math.min(Math.max(5,R),15),B=3*F,j=HSVToHex((180-Math.min(1,Math.max(0,D*R))*180)/360,1,1),U={x:h.x+O*y.x,y:h.y+O*y.y};t.lineWidth=F,t.strokeStyle=j,t.beginPath(),t.moveTo(h.x,h.y),t.lineTo(U.x,U.y),t.stroke();var W=Math.atan2(y.y,y.x);t.fillStyle=j,EndPoints.draw(t,{type:"arrow",point:U,angle:W,length:B}),fill(t).call(t)}}}]),r}(),getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(r){return typeof r=="string"&&REGEX.test(r)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(byteToHex[r[e+0]]+byteToHex[r[e+1]]+byteToHex[r[e+2]]+byteToHex[r[e+3]]+"-"+byteToHex[r[e+4]]+byteToHex[r[e+5]]+"-"+byteToHex[r[e+6]]+byteToHex[r[e+7]]+"-"+byteToHex[r[e+8]]+byteToHex[r[e+9]]+"-"+byteToHex[r[e+10]]+byteToHex[r[e+11]]+byteToHex[r[e+12]]+byteToHex[r[e+13]]+byteToHex[r[e+14]]+byteToHex[r[e+15]]).toLowerCase();if(!validate(t))throw TypeError("Stringified UUID is invalid");return t}function v4(r,e,t){r=r||{};var o=r.random||(r.rng||rng)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){t=t||0;for(var l=0;l<16;++l)e[t+l]=o[l];return e}return stringify(o)}var NetworkUtil=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"getRange",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=1e9,h=-1e9,y=1e9,O=-1e9,D;if(o.length>0)for(var R=0;R<o.length;R++)D=t[o[R]],y>D.shape.boundingBox.left&&(y=D.shape.boundingBox.left),O<D.shape.boundingBox.right&&(O=D.shape.boundingBox.right),l>D.shape.boundingBox.top&&(l=D.shape.boundingBox.top),h<D.shape.boundingBox.bottom&&(h=D.shape.boundingBox.bottom);return y===1e9&&O===-1e9&&l===1e9&&h===-1e9&&(l=0,h=0,y=0,O=0),{minX:y,maxX:O,minY:l,maxY:h}}},{key:"getRangeCore",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=1e9,h=-1e9,y=1e9,O=-1e9,D;if(o.length>0)for(var R=0;R<o.length;R++)D=t[o[R]],y>D.x&&(y=D.x),O<D.x&&(O=D.x),l>D.y&&(l=D.y),h<D.y&&(h=D.y);return y===1e9&&O===-1e9&&l===1e9&&h===-1e9&&(l=0,h=0,y=0,O=0),{minX:y,maxX:O,minY:l,maxY:h}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,o){var l={};return o===void 0||o==="node"?(deepExtend(l,t.options,!0),l.x=t.x,l.y=t.y,l.amountOfConnections=t.edges.length):deepExtend(l,t.options,!0),l}}]),r}();function _createSuper$1(r){var e=_isNativeReflectConstruct$1();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$1(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Cluster=function(r){_inherits(t,r);var e=_createSuper$1(t);function t(o,l,h,y,O,D){var R;return _classCallCheck(this,t),R=e.call(this,o,l,h,y,O,D),R.isCluster=!0,R.containedNodes={},R.containedEdges={},R}return _createClass(t,[{key:"_openChildCluster",value:function(l){var h=this,y=this.body.nodes[l];if(this.containedNodes[l]===void 0)throw new Error("node with id: "+l+" not in current cluster");if(!y.isCluster)throw new Error("node with id: "+l+" is not a cluster");delete this.containedNodes[l],forEach$1(y.edges,function(O){delete h.containedEdges[O.id]}),forEach$1(y.containedNodes,function(O,D){h.containedNodes[D]=O}),y.containedNodes={},forEach$1(y.containedEdges,function(O,D){h.containedEdges[D]=O}),y.containedEdges={},forEach$1(y.edges,function(O){forEach$1(h.edges,function(D){var R,F,B=indexOf(R=D.clusteringEdgeReplacingIds).call(R,O.id);B!==-1&&(forEach$1(O.clusteringEdgeReplacingIds,function(j){D.clusteringEdgeReplacingIds.push(j),h.body.edges[j].edgeReplacedById=D.id}),splice$1(F=D.clusteringEdgeReplacingIds).call(F,B,1))})}),y.edges=[]}}]),t}(Node$1),ClusterEngine=function(){function r(e){var t=this;_classCallCheck(this,r),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},assign$2(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){t.clusteredNodes={},t.clusteredEdges={}})}return _createClass(r,[{key:"clusterByHubsize",value:function(t,o){t===void 0?t=this._getHubSize():_typeof(t)==="object"&&(o=this._checkOptions(t),t=this._getHubSize());for(var l=[],h=0;h<this.body.nodeIndices.length;h++){var y=this.body.nodes[this.body.nodeIndices[h]];y.edges.length>=t&&l.push(y.id)}for(var O=0;O<l.length;O++)this.clusterByConnection(l[O],o,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(o.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");o=this._checkOptions(o);var h={},y={};forEach$1(this.body.nodes,function(O,D){O.options&&o.joinCondition(O.options)===!0&&(h[D]=O,forEach$1(O.edges,function(R){t.clusteredEdges[R.id]===void 0&&(y[R.id]=R)}))}),this._cluster(h,y,o,l)}},{key:"clusterByEdgeCount",value:function(t,o){var l=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;o=this._checkOptions(o);for(var y=[],O={},D,R,F,B=function(G){var q={},K={},Y=l.body.nodeIndices[G],X=l.body.nodes[Y];if(O[Y]===void 0){F=0,R=[];for(var J=0;J<X.edges.length;J++)D=X.edges[J],l.clusteredEdges[D.id]===void 0&&(D.toId!==D.fromId&&F++,R.push(D));if(F===t){for(var Q=function(ue){if(o.joinCondition===void 0||o.joinCondition===null)return!0;var he=NetworkUtil.cloneOptions(ue);return o.joinCondition(he)},Z=!0,ee=0;ee<R.length;ee++){D=R[ee];var te=l._getConnectedId(D,Y);if(Q(X))K[D.id]=D,q[Y]=X,q[te]=l.body.nodes[te],O[Y]=!0;else{Z=!1;break}}if(keys(q).length>0&&keys(K).length>0&&Z===!0){var re=function(){for(var ue=0;ue<y.length;++ue)for(var he in q)if(y[ue].nodes[he]!==void 0)return y[ue]},ie=re();if(ie!==void 0){for(var ne in q)ie.nodes[ne]===void 0&&(ie.nodes[ne]=q[ne]);for(var se in K)ie.edges[se]===void 0&&(ie.edges[se]=K[se])}else y.push({nodes:q,edges:K})}}}},j=0;j<this.body.nodeIndices.length;j++)B(j);for(var U=0;U<y.length;U++)this._cluster(y[U].nodes,y[U].edges,o,!1);h===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,t,o)}},{key:"clusterBridges",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,t,o)}},{key:"clusterByConnection",value:function(t,o){var l,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[t]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var y=this.body.nodes[t];o=this._checkOptions(o,y),o.clusterNodeProperties.x===void 0&&(o.clusterNodeProperties.x=y.x),o.clusterNodeProperties.y===void 0&&(o.clusterNodeProperties.y=y.y),o.clusterNodeProperties.fixed===void 0&&(o.clusterNodeProperties.fixed={},o.clusterNodeProperties.fixed.x=y.options.fixed.x,o.clusterNodeProperties.fixed.y=y.options.fixed.y);var O={},D={},R=y.id,F=NetworkUtil.cloneOptions(y);O[R]=y;for(var B=0;B<y.edges.length;B++){var j=y.edges[B];if(this.clusteredEdges[j.id]===void 0){var U=this._getConnectedId(j,R);if(this.clusteredNodes[U]===void 0)if(U!==R)if(o.joinCondition===void 0)D[j.id]=j,O[U]=this.body.nodes[U];else{var W=NetworkUtil.cloneOptions(this.body.nodes[U]);o.joinCondition(F,W)===!0&&(D[j.id]=j,O[U]=this.body.nodes[U])}else D[j.id]=j}}var G=map$3(l=keys(O)).call(l,function(J){return O[J].id});for(var q in O)if(!!Object.prototype.hasOwnProperty.call(O,q))for(var K=O[q],Y=0;Y<K.edges.length;Y++){var X=K.edges[Y];indexOf(G).call(G,this._getConnectedId(X,K.id))>-1&&(D[X.id]=X)}this._cluster(O,D,o,h)}},{key:"_createClusterEdges",value:function(t,o,l,h){for(var y,O,D,R,F,B,j=keys(t),U=[],W=0;W<j.length;W++){O=j[W],D=t[O];for(var G=0;G<D.edges.length;G++)y=D.edges[G],this.clusteredEdges[y.id]===void 0&&(y.toId==y.fromId?o[y.id]=y:y.toId==O?(R=l.id,F=y.fromId,B=F):(R=y.toId,F=l.id,B=R),t[B]===void 0&&U.push({edge:y,fromId:F,toId:R}))}for(var q=[],K=function(ee){for(var te=0;te<q.length;te++){var re=q[te],ie=ee.fromId===re.fromId&&ee.toId===re.toId,ne=ee.fromId===re.toId&&ee.toId===re.fromId;if(ie||ne)return re}return null},Y=0;Y<U.length;Y++){var X=U[Y],J=X.edge,Q=K(X);Q===null?(Q=this._createClusteredEdge(X.fromId,X.toId,J,h),q.push(Q)):Q.clusteringEdgeReplacingIds.push(J.id),this.body.edges[J.id].edgeReplacedById=Q.id,this._backupEdgeOptions(J),J.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.clusterEdgeProperties===void 0&&(t.clusterEdgeProperties={}),t.clusterNodeProperties===void 0&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,y=[];for(var O in t)Object.prototype.hasOwnProperty.call(t,O)&&this.clusteredNodes[O]!==void 0&&y.push(O);for(var D=0;D<y.length;++D)delete t[y[D]];if(keys(t).length!=0&&!(keys(t).length==1&&l.clusterNodeProperties.allowSingleNodeCluster!=!0)){var R=deepExtend({},l.clusterNodeProperties);if(l.processProperties!==void 0){var F=[];for(var B in t)if(Object.prototype.hasOwnProperty.call(t,B)){var j=NetworkUtil.cloneOptions(t[B]);F.push(j)}var U=[];for(var W in o)if(Object.prototype.hasOwnProperty.call(o,W)&&W.substr(0,12)!=="clusterEdge:"){var G=NetworkUtil.cloneOptions(o[W],"edge");U.push(G)}if(R=l.processProperties(R,F,U),!R)throw new Error("The processProperties function does not return properties!")}R.id===void 0&&(R.id="cluster:"+v4());var q=R.id;R.label===void 0&&(R.label="cluster");var K=void 0;R.x===void 0&&(K=this._getClusterPosition(t),R.x=K.x),R.y===void 0&&(K===void 0&&(K=this._getClusterPosition(t)),R.y=K.y),R.id=q;var Y=this.body.functions.createNode(R,Cluster);Y.containedNodes=t,Y.containedEdges=o,Y.clusterEdgeProperties=l.clusterEdgeProperties,this.body.nodes[R.id]=Y,this._clusterEdges(t,o,R,l.clusterEdgeProperties),R.id=void 0,h===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){this.clusteredEdges[t.id]===void 0&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var o=this.clusteredEdges[t.id];o!==void 0&&(t.setOptions({physics:o.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return this.body.nodes[t]!==void 0?this.body.nodes[t].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var o=keys(t),l=t[o[0]].x,h=t[o[0]].x,y=t[o[0]].y,O=t[o[0]].y,D,R=1;R<o.length;R++)D=t[o[R]],l=D.x<l?D.x:l,h=D.x>h?D.x:h,y=D.y<y?D.y:y,O=D.y>O?D.y:O;return{x:.5*(l+h),y:.5*(y+O)}}},{key:"openCluster",value:function(t,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var h=this.body.nodes[t];if(h===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(h.isCluster!==!0||h.containedNodes===void 0||h.containedEdges===void 0)throw new Error("The node:"+t+" is not a valid cluster.");var y=this.findNode(t),O=indexOf(y).call(y,t)-1;if(O>=0){var D=y[O],R=this.body.nodes[D];R._openChildCluster(t),delete this.body.nodes[t],l===!0&&this.body.emitter.emit("_dataChanged");return}var F=h.containedNodes,B=h.containedEdges;if(o!==void 0&&o.releaseFunction!==void 0&&typeof o.releaseFunction=="function"){var j={},U={x:h.x,y:h.y};for(var W in F)if(Object.prototype.hasOwnProperty.call(F,W)){var G=this.body.nodes[W];j[W]={x:G.x,y:G.y}}var q=o.releaseFunction(U,j);for(var K in F)if(Object.prototype.hasOwnProperty.call(F,K)){var Y=this.body.nodes[K];q[K]!==void 0&&(Y.x=q[K].x===void 0?h.x:q[K].x,Y.y=q[K].y===void 0?h.y:q[K].y)}}else forEach$1(F,function(ae){ae.options.fixed.x===!1&&(ae.x=h.x),ae.options.fixed.y===!1&&(ae.y=h.y)});for(var X in F)if(Object.prototype.hasOwnProperty.call(F,X)){var J=this.body.nodes[X];J.vx=h.vx,J.vy=h.vy,J.setOptions({physics:!0}),delete this.clusteredNodes[X]}for(var Q=[],Z=0;Z<h.edges.length;Z++)Q.push(h.edges[Z]);for(var ee=0;ee<Q.length;ee++){for(var te=Q[ee],re=this._getConnectedId(te,t),ie=this.clusteredNodes[re],ne=0;ne<te.clusteringEdgeReplacingIds.length;ne++){var se=te.clusteringEdgeReplacingIds[ne],ce=this.body.edges[se];if(ce!==void 0)if(ie!==void 0){var ue=this.body.nodes[ie.clusterId];ue.containedEdges[ce.id]=ce,delete B[ce.id];var he=ce.fromId,pe=ce.toId;ce.toId==re?pe=ie.clusterId:he=ie.clusterId,this._createClusteredEdge(he,pe,ce,ue.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(ce)}te.remove()}for(var oe in B)Object.prototype.hasOwnProperty.call(B,oe)&&this._restoreEdge(B[oe]);delete this.body.nodes[t],l===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var o=[];if(this.isCluster(t)===!0){var l=this.body.nodes[t].containedNodes;for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&o.push(this.body.nodes[h].id)}return o}},{key:"findNode",value:function(t){for(var o=[],l=100,h=0,y;this.clusteredNodes[t]!==void 0&&h<l;){if(y=this.body.nodes[t],y===void 0)return[];o.push(y.id),t=this.clusteredNodes[t].clusterId,h++}return y=this.body.nodes[t],y===void 0?[]:(o.push(y.id),reverse(o).call(o),o)}},{key:"updateClusteredNode",value:function(t,o){if(t===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(o===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[t]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(o),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,o){if(t===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(o===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[t]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var l=this.getClusteredEdges(t),h=0;h<l.length;h++){var y=this.body.edges[l[h]];y.setOptions(o)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var o=[],l=100,h=0;t!==void 0&&this.body.edges[t]!==void 0&&h<l;)o.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,h++;return reverse(o).call(o),o}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var o=[t],l=[],h=[],y=100,O=0;o.length>0&&O<y;){var D=o.pop();if(D!==void 0){var R=this.body.edges[D];if(R!==void 0){O++;var F=R.clusteringEdgeReplacingIds;if(F===void 0)h.push(D);else for(var B=0;B<F.length;++B){var j=F[B];indexOf(o).call(o,F)!==-1||indexOf(l).call(l,F)!==-1||o.push(j)}l.push(D)}}}return h}},{key:"_getConnectedId",value:function(t,o){return t.toId!=o?t.toId:(t.fromId!=o,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,o=0,l=0,h=0,y=0;y<this.body.nodeIndices.length;y++){var O=this.body.nodes[this.body.nodeIndices[y]];O.edges.length>h&&(h=O.edges.length),t+=O.edges.length,o+=Math.pow(O.edges.length,2),l+=1}t=t/l,o=o/l;var D=o-Math.pow(t,2),R=Math.sqrt(D),F=Math.floor(t+2*R);return F>h&&(F=h),F}},{key:"_createClusteredEdge",value:function(t,o,l,h,y){var O=NetworkUtil.cloneOptions(l,"edge");deepExtend(O,h),O.from=t,O.to=o,O.id="clusterEdge:"+v4(),y!==void 0&&deepExtend(O,y);var D=this.body.functions.createEdge(O);return D.clusteringEdgeReplacingIds=[l.id],D.connect(),this.body.edges[D.id]=D,D}},{key:"_clusterEdges",value:function(t,o,l,h){if(o instanceof Edge){var y=o,O={};O[y.id]=y,o=O}if(t instanceof Node$1){var D=t,R={};R[D.id]=D,t=R}if(l==null)throw new Error("_clusterEdges: parameter clusterNode required");h===void 0&&(h=l.clusterEdgeProperties),this._createClusterEdges(t,o,l,h);for(var F in o)if(Object.prototype.hasOwnProperty.call(o,F)&&this.body.edges[F]!==void 0){var B=this.body.edges[F];this._backupEdgeOptions(B),B.setOptions({physics:!1})}for(var j in t)Object.prototype.hasOwnProperty.call(t,j)&&(this.clusteredNodes[j]={clusterId:l.id,node:this.body.nodes[j]},this.body.nodes[j].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(t!==void 0){var o=this.clusteredNodes[t];if(o!==void 0){var l=o.clusterId;if(l!==void 0)return this.body.nodes[l]}}}},{key:"_filter",value:function(t,o){var l=[];return forEach$1(t,function(h){o(h)&&l.push(h)}),l}},{key:"_updateState",value:function(){var t=this,o,l=[],h={},y=function(W){forEach$1(t.body.nodes,function(G){G.isCluster===!0&&W(G)})};for(o in this.clusteredNodes)if(!!Object.prototype.hasOwnProperty.call(this.clusteredNodes,o)){var O=this.body.nodes[o];O===void 0&&l.push(o)}y(function(U){for(var W=0;W<l.length;W++)delete U.containedNodes[l[W]]});for(var D=0;D<l.length;D++)delete this.clusteredNodes[l[D]];forEach$1(this.clusteredEdges,function(U){var W=t.body.edges[U];(W===void 0||!W.endPointsValid())&&(h[U]=U)}),y(function(U){forEach$1(U.containedEdges,function(W,G){!W.endPointsValid()&&!h[G]&&(h[G]=G)})}),forEach$1(this.body.edges,function(U,W){var G=!0,q=U.clusteringEdgeReplacingIds;if(q!==void 0){var K=0;forEach$1(q,function(Y){var X=t.body.edges[Y];X!==void 0&&X.endPointsValid()&&(K+=1)}),G=K>0}(!U.endPointsValid()||!G)&&(h[W]=W)}),y(function(U){forEach$1(h,function(W){delete U.containedEdges[W],forEach$1(U.edges,function(G,q){if(G.id===W){U.edges[q]=null;return}G.clusteringEdgeReplacingIds=t._filter(G.clusteringEdgeReplacingIds,function(K){return!h[K]})}),U.edges=t._filter(U.edges,function(G){return G!==null})})}),forEach$1(h,function(U){delete t.clusteredEdges[U]}),forEach$1(h,function(U){delete t.body.edges[U]});var R=keys(this.body.edges);forEach$1(R,function(U){var W=t.body.edges[U],G=t._isClusteredNode(W.fromId)||t._isClusteredNode(W.toId);if(G!==t._isClusteredEdge(W.id))if(G){var q=t._getClusterNodeForNode(W.fromId);q!==void 0&&t._clusterEdges(t.body.nodes[W.fromId],W,q);var K=t._getClusterNodeForNode(W.toId);K!==void 0&&t._clusterEdges(t.body.nodes[W.toId],W,K)}else delete t._clusterEdges[U],t._restoreEdge(W)});for(var F=!1,B=!0,j=function(){var W=[];y(function(q){var K=keys(q.containedNodes).length,Y=q.options.allowSingleNodeCluster===!0;(Y&&K<1||!Y&&K<2)&&W.push(q.id)});for(var G=0;G<W.length;++G)t.openCluster(W[G],{},!1);B=W.length>0,F=F||B};B;)j();F&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return this.clusteredNodes[t]!==void 0}},{key:"_isClusteredEdge",value:function(t){return this.clusteredEdges[t]!==void 0}}]),r}();function _createForOfIteratorHelper$5(r,e){var t=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!t){if(isArray$1(r)||(t=_unsupportedIterableToArray$5(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$5(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$5(r,e);var o=slice(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$5(r,e)}}function _arrayLikeToArray$5(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}function _initRequestAnimationFrame(){var r;window!==void 0&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),r===void 0?window.requestAnimationFrame=function(e){e()}:window.requestAnimationFrame=r}var CanvasRenderer=function(){function r(e,t){_classCallCheck(this,r),_initRequestAnimationFrame(),this.body=e,this.canvas=t,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},assign$2(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var t=this,o;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){t.dragging=!1}),this.body.emitter.on("zoom",function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=setTimeout$1(function(){var l;t.zooming=!1,bind$5(l=t._requestRedraw).call(l,t)()},250)}),this.body.emitter.on("_resizeNodes",function(){t._resizeNodes()}),this.body.emitter.on("_redraw",function(){t.renderingActive===!1&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",bind$5(o=this._requestRedraw).call(o,this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,t.requiresTimeout===!0?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){if(t!==void 0){var o=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];selectiveDeepExtend(o,this.options,t)}}},{key:"_requestNextFrame",value:function(t,o){if(typeof window!="undefined"){var l,h=window;return this.requiresTimeout===!0?l=setTimeout$1(t,o):h.requestAnimationFrame&&(l=h.requestAnimationFrame(t)),l}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var t;this.renderTimer=this._requestNextFrame(bind$5(t=this._renderStep).call(t,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){t._redraw(!1)},0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var o={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var l=this.canvas.getContext(),h=this.canvas.frame.canvas.clientWidth,y=this.canvas.frame.canvas.clientHeight;if(l.clearRect(0,0,h,y),this.canvas.frame.clientWidth===0)return;if(l.save(),l.translate(this.body.view.translation.x,this.body.view.translation.y),l.scale(this.body.view.scale,this.body.view.scale),l.beginPath(),this.body.emitter.emit("beforeDrawing",l),l.closePath(),t===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(l),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var O=this._drawNodes(l,t),D=O.drawExternalLabels;o.drawExternalLabels=D}t===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(l),o.drawExternalLabels!=null&&o.drawExternalLabels(),t===!1&&this._drawSelectionBox(l),l.beginPath(),this.body.emitter.emit("afterDrawing",l),l.closePath(),l.restore(),t===!0&&l.clearRect(0,0,h,y)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var o=this.body.nodes,l;for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(l=o[h],l.resize(t),l.updateBoundingBox(t,l.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=this.body.nodes,h=this.body.nodeIndices,y,O=[],D=[],R=20,F=this.canvas.DOMtoCanvas({x:-R,y:-R}),B=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+R,y:this.canvas.frame.canvas.clientHeight+R}),j={top:F.y,left:F.x,bottom:B.y,right:B.x},U=[],W=0;W<h.length;W++)if(y=l[h[W]],y.hover)D.push(h[W]);else if(y.isSelected())O.push(h[W]);else if(o===!0){var G=y.draw(t);G.drawExternalLabel!=null&&U.push(G.drawExternalLabel)}else if(y.isBoundingBoxOverlappingWith(j)===!0){var q=y.draw(t);q.drawExternalLabel!=null&&U.push(q.drawExternalLabel)}else y.updateBoundingBox(t,y.selected);var K,Y=O.length,X=D.length;for(K=0;K<Y;K++){y=l[O[K]];var J=y.draw(t);J.drawExternalLabel!=null&&U.push(J.drawExternalLabel)}for(K=0;K<X;K++){y=l[D[K]];var Q=y.draw(t);Q.drawExternalLabel!=null&&U.push(Q.drawExternalLabel)}return{drawExternalLabels:function(){var ee=_createForOfIteratorHelper$5(U),te;try{for(ee.s();!(te=ee.n()).done;){var re=te.value;re()}}catch(ie){ee.e(ie)}finally{ee.f()}}}}},{key:"_drawEdges",value:function(t){for(var o=this.body.edges,l=this.body.edgeIndices,h=0;h<l.length;h++){var y=o[l[h]];y.connected===!0&&y.draw(t)}}},{key:"_drawArrows",value:function(t){for(var o=this.body.edges,l=this.body.edgeIndices,h=0;h<l.length;h++){var y=o[l[h]];y.connected===!0&&y.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window!="undefined"){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,indexOf(t).call(t,"msie 9.0")!=-1?this.requiresTimeout=!0:indexOf(t).call(t,"safari")!=-1&&indexOf(t).call(t,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var o=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,l=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,o,l),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,o,l),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),r}(),path$2=path$y,setInterval$1=path$2.setInterval,setInterval$2=setInterval$1;function onTouch(r,e){e.inputHandler=function(t){t.isFirst&&e(t)},r.on("hammer.input",e.inputHandler)}function onRelease(r,e){return e.inputHandler=function(t){t.isFinal&&e(t)},r.on("hammer.input",e.inputHandler)}var Canvas=function(){function r(e){_classCallCheck(this,r),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},assign$2(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var t=this,o;this.body.emitter.once("resize",function(l){l.width!==0&&(t.body.view.translation.x=l.width*.5),l.height!==0&&(t.body.view.translation.y=l.height*.5)}),this.body.emitter.on("setSize",bind$5(o=this.setSize).call(o,this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var o=this;if(t!==void 0){var l=["width","height","autoResize"];selectiveDeepExtend(l,this.options,t)}if(this._cleanUp(),this.options.autoResize===!0){var h;if(window.ResizeObserver){var y=new ResizeObserver(function(){var F=o.setSize();F===!0&&o.body.emitter.emit("_requestRedraw")}),O=this.frame;y.observe(O),this._cleanupCallbacks.push(function(){y.unobserve(O)})}else{var D=setInterval$2(function(){var F=o.setSize();F===!0&&o.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(D)})}var R=bind$5(h=this._onResize).call(h,this);addEventListener(window,"resize",R),this._cleanupCallbacks.push(function(){removeEventListener(window,"resize",R)})}}},{key:"_cleanUp",value:function(){var t,o,l;forEach$2(t=reverse(o=splice$1(l=this._cleanupCallbacks).call(l,0)).call(o)).call(t,function(h){try{h()}catch(y){console.error(y)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,o=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,l=this.cameraState.scale;t!=1&&o!=1?l=this.cameraState.scale*.5*(t+o):t!=1?l=this.cameraState.scale*t:o!=1&&(l=this.cameraState.scale*o),this.body.view.scale=l;var h=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),y={x:h.x-this.cameraState.position.x,y:h.y-this.cameraState.position.y};this.body.view.translation.x+=y.x*this.body.view.scale,this.body.view.translation.y+=y.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if(typeof t=="number")return t+"px";if(typeof t=="string"){if(indexOf(t).call(t,"%")!==-1||indexOf(t).call(t,"px")!==-1)return t;if(indexOf(t).call(t,"%")===-1)return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Hammer(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Hammer.DIRECTION_ALL}),onTouch(this.hammer,function(o){t.body.eventListeners.onTouch(o)}),this.hammer.on("tap",function(o){t.body.eventListeners.onTap(o)}),this.hammer.on("doubletap",function(o){t.body.eventListeners.onDoubleTap(o)}),this.hammer.on("press",function(o){t.body.eventListeners.onHold(o)}),this.hammer.on("panstart",function(o){t.body.eventListeners.onDragStart(o)}),this.hammer.on("panmove",function(o){t.body.eventListeners.onDrag(o)}),this.hammer.on("panend",function(o){t.body.eventListeners.onDragEnd(o)}),this.hammer.on("pinch",function(o){t.body.eventListeners.onPinch(o)}),this.frame.canvas.addEventListener("wheel",function(o){t.body.eventListeners.onMouseWheel(o)}),this.frame.canvas.addEventListener("mousemove",function(o){t.body.eventListeners.onMouseMove(o)}),this.frame.canvas.addEventListener("contextmenu",function(o){t.body.eventListeners.onContext(o)}),this.hammerFrame=new Hammer(this.frame),onRelease(this.hammerFrame,function(o){t.body.eventListeners.onRelease(o)})}},{key:"setSize",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;t=this._prepareValue(t),o=this._prepareValue(o);var l=!1,h=this.frame.canvas.width,y=this.frame.canvas.height,O=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||o!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=o)this._getCameraState(O),this.frame.style.width=t,this.frame.style.height=o,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=o,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},l=!0;else{var D=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),R=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==D||this.frame.canvas.height!==R)&&this._getCameraState(O),this.frame.canvas.width!==D&&(this.frame.canvas.width=D,l=!0),this.frame.canvas.height!==R&&(this.frame.canvas.height=R,l=!0)}return l===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(h/this.pixelRatio),oldHeight:Math.round(y/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,l}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(t===void 0)throw new Error("Could not get canvax context");var o=1;typeof window!="undefined"&&(o=window.devicePixelRatio||1);var l=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return o/l}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(t===void 0)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),r}();function normalizeFitOptions(r,e){var t=assign$2({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},r!=null?r:{});if(!isArray$1(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}var View=function(){function r(e,t){var o,l=this,h;_classCallCheck(this,r),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",bind$5(o=this.fit).call(o,this)),this.body.emitter.on("animationFinished",function(){l.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",bind$5(h=this.releaseNode).call(h,this))}return _createClass(r,[{key:"setOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t=normalizeFitOptions(t,this.body.nodeIndices);var l=this.canvas.frame.canvas.clientWidth,h=this.canvas.frame.canvas.clientHeight,y,O;if(l===0||h===0)O=1,y=NetworkUtil.getRange(this.body.nodes,t.nodes);else if(o===!0){var D=0;for(var R in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,R)){var F=this.body.nodes[R];F.predefinedPosition===!0&&(D+=1)}if(D>.5*this.body.nodeIndices.length){this.fit(t,!1);return}y=NetworkUtil.getRange(this.body.nodes,t.nodes);var B=this.body.nodeIndices.length;O=12.662/(B+7.4147)+.0964822;var j=Math.min(l/600,h/600);O*=j}else{this.body.emitter.emit("_resizeNodes"),y=NetworkUtil.getRange(this.body.nodes,t.nodes);var U=Math.abs(y.maxX-y.minX)*1.1,W=Math.abs(y.maxY-y.minY)*1.1,G=l/U,q=h/W;O=G<=q?G:q}O>t.maxZoomLevel?O=t.maxZoomLevel:O<t.minZoomLevel&&(O=t.minZoomLevel);var K=NetworkUtil.findCenter(y),Y={position:K,scale:O,animation:t.animation};this.moveTo(Y)}},{key:"focus",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[t]!==void 0){var l={x:this.body.nodes[t].x,y:this.body.nodes[t].y};o.position=l,o.lockedOnNode=t,this.moveTo(o)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(t===void 0){t={};return}if(t.offset!=null){if(t.offset.x!=null){if(t.offset.x=+t.offset.x,!_isFinite(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(t.offset.y!=null){if(t.offset.y=+t.offset.y,!_isFinite(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(t.position!=null){if(t.position.x!=null){if(t.position.x=+t.position.x,!_isFinite(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(t.position.y!=null){if(t.position.y=+t.position.y,!_isFinite(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(t.scale!=null){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;t.animation===void 0&&(t.animation={duration:0}),t.animation===!1&&(t.animation={duration:0}),t.animation===!0&&(t.animation={}),t.animation.duration===void 0&&(t.animation.duration=1e3),t.animation.easingFunction===void 0&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}},{key:"animateView",value:function(t){if(t!==void 0){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),t.locked===!0&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),l={x:o.x-t.position.x,y:o.y-t.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+l.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+l.y*this.targetScale+t.offset.y},t.animation.duration===0)if(this.lockedOnNodeId!=null){var h;this.viewFunction=bind$5(h=this._lockedRedraw).call(h,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var y;this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=bind$5(y=this._transitionRedraw).call(y,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),l={x:o.x-t.x,y:o.y-t.y},h=this.body.view.translation,y={x:h.x+l.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:h.y+l.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=y}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=t===!0?1:this.easingTime;var o=easingFunctions[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*o,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*o,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*o},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var l;this.viewFunction=bind$5(l=this._lockedRedraw).call(l,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),r}();function keycharm(r){var e=r&&r.preventDefault||!1,t=r&&r.container||window,o={},l={keydown:{},keyup:{}},h={},y;for(y=97;y<=122;y++)h[String.fromCharCode(y)]={code:65+(y-97),shift:!1};for(y=65;y<=90;y++)h[String.fromCharCode(y)]={code:y,shift:!0};for(y=0;y<=9;y++)h[""+y]={code:48+y,shift:!1};for(y=1;y<=12;y++)h["F"+y]={code:111+y,shift:!1};for(y=0;y<=9;y++)h["num"+y]={code:96+y,shift:!1};h["num*"]={code:106,shift:!1},h["num+"]={code:107,shift:!1},h["num-"]={code:109,shift:!1},h["num/"]={code:111,shift:!1},h["num."]={code:110,shift:!1},h.left={code:37,shift:!1},h.up={code:38,shift:!1},h.right={code:39,shift:!1},h.down={code:40,shift:!1},h.space={code:32,shift:!1},h.enter={code:13,shift:!1},h.shift={code:16,shift:void 0},h.esc={code:27,shift:!1},h.backspace={code:8,shift:!1},h.tab={code:9,shift:!1},h.ctrl={code:17,shift:!1},h.alt={code:18,shift:!1},h.delete={code:46,shift:!1},h.pageup={code:33,shift:!1},h.pagedown={code:34,shift:!1},h["="]={code:187,shift:!1},h["-"]={code:189,shift:!1},h["]"]={code:221,shift:!1},h["["]={code:219,shift:!1};var O=function(F){R(F,"keydown")},D=function(F){R(F,"keyup")},R=function(F,B){if(l[B][F.keyCode]!==void 0){for(var j=l[B][F.keyCode],U=0;U<j.length;U++)(j[U].shift===void 0||j[U].shift==!0&&F.shiftKey==!0||j[U].shift==!1&&F.shiftKey==!1)&&j[U].fn(F);e==!0&&F.preventDefault()}};return o.bind=function(F,B,j){if(j===void 0&&(j="keydown"),h[F]===void 0)throw new Error("unsupported key: "+F);l[j][h[F].code]===void 0&&(l[j][h[F].code]=[]),l[j][h[F].code].push({fn:B,shift:h[F].shift})},o.bindAll=function(F,B){B===void 0&&(B="keydown");for(var j in h)h.hasOwnProperty(j)&&o.bind(j,F,B)},o.getKey=function(F){for(var B in h)if(h.hasOwnProperty(B)){if(F.shiftKey==!0&&h[B].shift==!0&&F.keyCode==h[B].code)return B;if(F.shiftKey==!1&&h[B].shift==!1&&F.keyCode==h[B].code)return B;if(F.keyCode==h[B].code&&B=="shift")return B}return"unknown key, currently not supported"},o.unbind=function(F,B,j){if(j===void 0&&(j="keydown"),h[F]===void 0)throw new Error("unsupported key: "+F);if(B!==void 0){var U=[],W=l[j][h[F].code];if(W!==void 0)for(var G=0;G<W.length;G++)W[G].fn==B&&W[G].shift==h[F].shift||U.push(l[j][h[F].code][G]);l[j][h[F].code]=U}else l[j][h[F].code]=[]},o.reset=function(){l={keydown:{},keyup:{}}},o.destroy=function(){l={keydown:{},keyup:{}},t.removeEventListener("keydown",O,!0),t.removeEventListener("keyup",D,!0)},t.addEventListener("keydown",O,!0),t.addEventListener("keyup",D,!0),o}var NavigationHandler=function(){function r(e,t){var o=this;_classCallCheck(this,r),this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){o.activated=!0,o.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){o.activated=!1,o.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){o.keycharm!==void 0&&o.keycharm.destroy()}),this.options={}}return _createClass(r,[{key:"setOptions",value:function(t){t!==void 0&&(this.options=t,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var o=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],l=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var h=0;h<o.length;h++){this.navigationDOM[o[h]]=document.createElement("div"),this.navigationDOM[o[h]].className="vis-button vis-"+o[h],this.navigationDOM.wrapper.appendChild(this.navigationDOM[o[h]]);var y=new Hammer(this.navigationDOM[o[h]]);if(l[h]==="_fit"){var O;onTouch(y,bind$5(O=this._fit).call(O,this))}else{var D;onTouch(y,bind$5(D=this.bindToRedraw).call(D,this,l[h]))}this.navigationHammers.push(y)}var R=new Hammer(this.canvas.frame);onRelease(R,function(){t._stopMovement()}),this.navigationHammers.push(R),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){if(this.boundFunctions[t]===void 0){var o;this.boundFunctions[t]=bind$5(o=this[t]).call(o,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(t){this.boundFunctions[t]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,o=this.body.view.scale*(1+this.options.keyboard.speed.zoom),l=this.body.view.translation,h=o/t,y=(1-h)*this.canvas.canvasViewCenter.x+l.x*h,O=(1-h)*this.canvas.canvasViewCenter.y+l.y*h;this.body.view.scale=o,this.body.view.translation={x:y,y:O},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,o=this.body.view.scale/(1+this.options.keyboard.speed.zoom),l=this.body.view.translation,h=o/t,y=(1-h)*this.canvas.canvasViewCenter.x+l.x*h,O=(1-h)*this.canvas.canvasViewCenter.y+l.y*h;this.body.view.scale=o,this.body.view.translation={x:y,y:O},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=keycharm({container:window,preventDefault:!0}):this.keycharm=keycharm({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie;bind$5(o=this.keycharm).call(o,"up",function(){t.bindToRedraw("_moveUp")},"keydown"),bind$5(l=this.keycharm).call(l,"down",function(){t.bindToRedraw("_moveDown")},"keydown"),bind$5(h=this.keycharm).call(h,"left",function(){t.bindToRedraw("_moveLeft")},"keydown"),bind$5(y=this.keycharm).call(y,"right",function(){t.bindToRedraw("_moveRight")},"keydown"),bind$5(O=this.keycharm).call(O,"=",function(){t.bindToRedraw("_zoomIn")},"keydown"),bind$5(D=this.keycharm).call(D,"num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),bind$5(R=this.keycharm).call(R,"num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),bind$5(F=this.keycharm).call(F,"-",function(){t.bindToRedraw("_zoomOut")},"keydown"),bind$5(B=this.keycharm).call(B,"[",function(){t.bindToRedraw("_zoomOut")},"keydown"),bind$5(j=this.keycharm).call(j,"]",function(){t.bindToRedraw("_zoomIn")},"keydown"),bind$5(U=this.keycharm).call(U,"pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),bind$5(W=this.keycharm).call(W,"pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),bind$5(G=this.keycharm).call(G,"up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),bind$5(q=this.keycharm).call(q,"down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),bind$5(K=this.keycharm).call(K,"left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),bind$5(Y=this.keycharm).call(Y,"right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),bind$5(X=this.keycharm).call(X,"=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(J=this.keycharm).call(J,"num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(Q=this.keycharm).call(Q,"num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),bind$5(Z=this.keycharm).call(Z,"-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),bind$5(ee=this.keycharm).call(ee,"[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),bind$5(te=this.keycharm).call(te,"]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(re=this.keycharm).call(re,"pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(ie=this.keycharm).call(ie,"pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")}}}]),r}();function _createForOfIteratorHelper$4(r,e){var t=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!t){if(isArray$1(r)||(t=_unsupportedIterableToArray$4(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$4(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$4(r,e);var o=slice(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$4(r,e)}}function _arrayLikeToArray$4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var InteractionHandler=function(){function r(e,t,o){var l,h,y,O,D,R,F,B,j,U,W,G,q;_classCallCheck(this,r),this.body=e,this.canvas=t,this.selectionHandler=o,this.navigationHandler=new NavigationHandler(e,t),this.body.eventListeners.onTap=bind$5(l=this.onTap).call(l,this),this.body.eventListeners.onTouch=bind$5(h=this.onTouch).call(h,this),this.body.eventListeners.onDoubleTap=bind$5(y=this.onDoubleTap).call(y,this),this.body.eventListeners.onHold=bind$5(O=this.onHold).call(O,this),this.body.eventListeners.onDragStart=bind$5(D=this.onDragStart).call(D,this),this.body.eventListeners.onDrag=bind$5(R=this.onDrag).call(R,this),this.body.eventListeners.onDragEnd=bind$5(F=this.onDragEnd).call(F,this),this.body.eventListeners.onMouseWheel=bind$5(B=this.onMouseWheel).call(B,this),this.body.eventListeners.onPinch=bind$5(j=this.onPinch).call(j,this),this.body.eventListeners.onMouseMove=bind$5(U=this.onMouseMove).call(U,this),this.body.eventListeners.onRelease=bind$5(W=this.onRelease).call(W,this),this.body.eventListeners.onContext=bind$5(G=this.onContext).call(G,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=bind$5(q=this.getPointer).call(q,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},assign$2(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){if(t!==void 0){var o=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];selectiveNotDeepExtend(o,this.options,t),mergeOptions(this.options,t,"keyboard"),t.tooltip&&(assign$2(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(t){var o=this.getPointer(t.center),l=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(o,l),this.selectionHandler.commitAndEmit(o,t),this.selectionHandler.generateClickEvent("click",t,o)}},{key:"onDoubleTap",value:function(t){var o=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,o)}},{key:"onHold",value:function(t){var o=this.getPointer(t.center),l=this.selectionHandler.options.multiselect;this.checkSelectionChanges(o,l),this.selectionHandler.commitAndEmit(o,t),this.selectionHandler.generateClickEvent("click",t,o),this.selectionHandler.generateClickEvent("hold",t,o)}},{key:"onRelease",value:function(t){if(new Date().valueOf()-this.touchTime>10){var o=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,o),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(t){var o=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,o)}},{key:"checkSelectionChanges",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o===!0?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,o){var l=function(y,O){for(var D=[],R=0;R<y.length;R++){var F=y[R];indexOf(O).call(O,F)===-1&&D.push(F)}return D};return{nodes:l(t.nodes,o.nodes),edges:l(t.edges,o.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(t);var o=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=assign$2({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var l=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(l.x),y:this.canvas._YconvertDOMtoCanvas(l.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(l.x),y:this.canvas._YconvertDOMtoCanvas(l.y)}}if(o!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=o.id,o.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[o.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var h=_createForOfIteratorHelper$4(this.selectionHandler.getSelectedNodes()),y;try{for(h.s();!(y=h.n()).done;){var O=y.value,D={id:O.id,node:O,x:O.x,y:O.y,xFixed:O.options.fixed.x,yFixed:O.options.fixed.y};O.options.fixed.x=!0,O.options.fixed.y=!0,this.drag.selection.push(D)}}catch(R){h.e(R)}finally{h.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var o=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var l=this.getPointer(t.center),h=this.drag.selection;if(h&&h.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",t,l);var y=l.x-this.drag.pointer.x,O=l.y-this.drag.pointer.y;forEach$2(h).call(h,function(F){var B=F.node;F.xFixed===!1&&(B.x=o.canvas._XconvertDOMtoCanvas(o.canvas._XconvertCanvasToDOM(F.x)+y)),F.yFixed===!1&&(B.y=o.canvas._YconvertDOMtoCanvas(o.canvas._YconvertCanvasToDOM(F.y)+O))}),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,l,void 0,!0),this.drag.pointer===void 0){this.onDragStart(t);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(l.x),y:this.canvas._YconvertDOMtoCanvas(l.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,l,void 0,!0),this.drag.pointer===void 0){this.onDragStart(t);return}var D=l.x-this.drag.pointer.x,R=l.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+D,y:this.drag.translation.y+R},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var o=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var l;this.body.selectionBox.show=!1;var h=this.body.selectionBox.position,y={minX:Math.min(h.start.x,h.end.x),minY:Math.min(h.start.y,h.end.y),maxX:Math.max(h.start.x,h.end.x),maxY:Math.max(h.start.y,h.end.y)},O=filter(l=this.body.nodeIndices).call(l,function(F){var B=o.body.nodes[F];return B.x>=y.minX&&B.x<=y.maxX&&B.y>=y.minY&&B.y<=y.maxY});forEach$2(O).call(O,function(F){return o.selectionHandler.selectObject(o.body.nodes[F])});var D=this.getPointer(t.center);this.selectionHandler.commitAndEmit(D,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var R=this.drag.selection;R&&R.length?(forEach$2(R).call(R,function(F){F.node.options.fixed.x=F.xFixed,F.node.options.fixed.y=F.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var o=this.getPointer(t.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var l=this.pinch.scale*t.scale;this.zoom(l,o)}},{key:"zoom",value:function(t,o){if(this.options.zoomView===!0){var l=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var h=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(h=this.canvas.DOMtoCanvas(this.drag.pointer));var y=this.body.view.translation,O=t/l,D=(1-O)*o.x+y.x*O,R=(1-O)*o.y+y.y*O;if(this.body.view.scale=t,this.body.view.translation={x:D,y:R},h!=null){var F=this.canvas.canvasToDOM(h);this.drag.pointer.x=F.x,this.drag.pointer.y=F.y}this.body.emitter.emit("_requestRedraw"),l<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:o}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:o})}}},{key:"onMouseWheel",value:function(t){if(this.options.zoomView===!0){if(t.deltaY!==0){var o=this.body.view.scale;o*=1+(t.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var l=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(o,l)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var o=this,l=this.getPointer({x:t.clientX,y:t.clientY}),h=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(l),this.popup.hidden===!1&&(h=!0,this.popup.setPosition(l.x+3,l.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),h===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout$1(function(){return o._checkShowPopup(l)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(t,l)}},{key:"_checkShowPopup",value:function(t){var o=this.canvas._XconvertDOMtoCanvas(t.x),l=this.canvas._YconvertDOMtoCanvas(t.y),h={left:o,top:l,right:o,bottom:l},y=this.popupObj===void 0?void 0:this.popupObj.id,O=!1,D="node";if(this.popupObj===void 0){for(var R=this.body.nodeIndices,F=this.body.nodes,B,j=[],U=0;U<R.length;U++)B=F[R[U]],B.isOverlappingWith(h)===!0&&(O=!0,B.getTitle()!==void 0&&j.push(R[U]));j.length>0&&(this.popupObj=F[j[j.length-1]],O=!0)}if(this.popupObj===void 0&&O===!1){for(var W=this.body.edgeIndices,G=this.body.edges,q,K=[],Y=0;Y<W.length;Y++)q=G[W[Y]],q.isOverlappingWith(h)===!0&&q.connected===!0&&q.getTitle()!==void 0&&K.push(W[Y]);K.length>0&&(this.popupObj=G[K[K.length-1]],D="edge")}this.popupObj!==void 0?this.popupObj.id!==y&&(this.popup===void 0&&(this.popup=new Popup(this.canvas.frame)),this.popup.popupTargetType=D,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var o=this.selectionHandler._pointerToPositionObject(t),l=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(l=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(o),l===!0)){var h=this.selectionHandler.getNodeAt(t);l=h===void 0?!1:h.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(t)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(l=this.body.edges[this.popup.popupTargetId].isOverlappingWith(o));l===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),r}(),collection$1=collection$3,collectionStrong=collectionStrong$2;collection$1("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},collectionStrong);var path$1=path$y,set$2=path$1.Set,parent$4=set$2,set$1=parent$4,set=set$1,uncurryThis$2=functionUncurryThis,redefineAll$1=redefineAll$3,getWeakData=internalMetadata.exports.getWeakData,anObject=anObject$d,isObject$1=isObject$j,anInstance=anInstance$3,iterate=iterate$3,ArrayIterationModule=arrayIteration,hasOwn=hasOwnProperty_1,InternalStateModule=internalState,setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor,find=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,splice=uncurryThis$2([].splice),id=0,uncaughtFrozenStore=function(r){return r.frozen||(r.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(r,e){return find(r.entries,function(t){return t[0]===e})};UncaughtFrozenStore.prototype={get:function(r){var e=findUncaughtFrozen(this,r);if(e)return e[1]},has:function(r){return!!findUncaughtFrozen(this,r)},set:function(r,e){var t=findUncaughtFrozen(this,r);t?t[1]=e:this.entries.push([r,e])},delete:function(r){var e=findIndex(this.entries,function(t){return t[0]===r});return~e&&splice(this.entries,e,1),!!~e}};var collectionWeak$1={getConstructor:function(r,e,t,o){var l=r(function(D,R){anInstance(D,h),setInternalState(D,{type:e,id:id++,frozen:void 0}),R!=null&&iterate(R,D[o],{that:D,AS_ENTRIES:t})}),h=l.prototype,y=internalStateGetterFor(e),O=function(D,R,F){var B=y(D),j=getWeakData(anObject(R),!0);return j===!0?uncaughtFrozenStore(B).set(R,F):j[B.id]=F,D};return redefineAll$1(h,{delete:function(D){var R=y(this);if(!isObject$1(D))return!1;var F=getWeakData(D);return F===!0?uncaughtFrozenStore(R).delete(D):F&&hasOwn(F,R.id)&&delete F[R.id]},has:function(R){var F=y(this);if(!isObject$1(R))return!1;var B=getWeakData(R);return B===!0?uncaughtFrozenStore(F).has(R):B&&hasOwn(B,F.id)}}),redefineAll$1(h,t?{get:function(R){var F=y(this);if(isObject$1(R)){var B=getWeakData(R);return B===!0?uncaughtFrozenStore(F).get(R):B?B[F.id]:void 0}},set:function(R,F){return O(this,R,F)}}:{add:function(R){return O(this,R,!0)}}),l}},global$3=global$O,uncurryThis$1=functionUncurryThis,redefineAll=redefineAll$3,InternalMetadataModule=internalMetadata.exports,collection=collection$3,collectionWeak=collectionWeak$1,isObject=isObject$j,isExtensible=objectIsExtensible,enforceInternalState=internalState.enforce,NATIVE_WEAK_MAP=nativeWeakMap,IS_IE11=!global$3.ActiveXObject&&"ActiveXObject"in global$3,InternalWeakMap,wrapper=function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},$WeakMap=collection("WeakMap",wrapper,collectionWeak);if(NATIVE_WEAK_MAP&&IS_IE11){InternalWeakMap=collectionWeak.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.enable();var WeakMapPrototype=$WeakMap.prototype,nativeDelete=uncurryThis$1(WeakMapPrototype.delete),nativeHas=uncurryThis$1(WeakMapPrototype.has),nativeGet=uncurryThis$1(WeakMapPrototype.get),nativeSet=uncurryThis$1(WeakMapPrototype.set);redefineAll(WeakMapPrototype,{delete:function(r){if(isObject(r)&&!isExtensible(r)){var e=enforceInternalState(this);return e.frozen||(e.frozen=new InternalWeakMap),nativeDelete(this,r)||e.frozen.delete(r)}return nativeDelete(this,r)},has:function(e){if(isObject(e)&&!isExtensible(e)){var t=enforceInternalState(this);return t.frozen||(t.frozen=new InternalWeakMap),nativeHas(this,e)||t.frozen.has(e)}return nativeHas(this,e)},get:function(e){if(isObject(e)&&!isExtensible(e)){var t=enforceInternalState(this);return t.frozen||(t.frozen=new InternalWeakMap),nativeHas(this,e)?nativeGet(this,e):t.frozen.get(e)}return nativeGet(this,e)},set:function(e,t){if(isObject(e)&&!isExtensible(e)){var o=enforceInternalState(this);o.frozen||(o.frozen=new InternalWeakMap),nativeHas(this,e)?nativeSet(this,e,t):o.frozen.set(e,t)}else nativeSet(this,e,t);return this}})}var path=path$y,weakMap$2=path.WeakMap,parent$3=weakMap$2,weakMap$1=parent$3,weakMap=weakMap$1;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __classPrivateFieldGet(r,e,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(r):o?o.value:e.get(r)}function __classPrivateFieldSet(r,e,t,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!l:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,t):l?l.value=t:e.set(r,t),t}function _createForOfIteratorHelper$3(r,e){var t=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!t){if(isArray$1(r)||(t=_unsupportedIterableToArray$3(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$3(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$3(r,e);var o=slice(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$3(r,e)}}function _arrayLikeToArray$3(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var _SingleTypeSelectionAccumulator_previousSelection,_SingleTypeSelectionAccumulator_selection,_SelectionAccumulator_nodes,_SelectionAccumulator_edges,_SelectionAccumulator_commitHandler;function diffSets(r,e){var t=new set,o=_createForOfIteratorHelper$3(e),l;try{for(o.s();!(l=o.n()).done;){var h=l.value;r.has(h)||t.add(h)}}catch(y){o.e(y)}finally{o.f()}return t}var SingleTypeSelectionAccumulator=function(){function r(){_classCallCheck(this,r),_SingleTypeSelectionAccumulator_previousSelection.set(this,new set),_SingleTypeSelectionAccumulator_selection.set(this,new set)}return _createClass(r,[{key:"size",get:function(){return __classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").size}},{key:"add",value:function(){for(var t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];for(var h=0,y=o;h<y.length;h++){var O=y[h];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").add(O)}}},{key:"delete",value:function(){for(var t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];for(var h=0,y=o;h<y.length;h++){var O=y[h];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").delete(O)}}},{key:"clear",value:function(){__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").clear()}},{key:"getSelection",value:function(){return _toConsumableArray(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))}},{key:"getChanges",value:function(){return{added:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))),deleted:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),previous:_toConsumableArray(new set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),current:_toConsumableArray(new set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_previousSelection,__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"),"f"),__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_selection,new set(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f")),"f");var o=_createForOfIteratorHelper$3(t.added),l;try{for(o.s();!(l=o.n()).done;){var h=l.value;h.select()}}catch(R){o.e(R)}finally{o.f()}var y=_createForOfIteratorHelper$3(t.deleted),O;try{for(y.s();!(O=y.n()).done;){var D=O.value;D.unselect()}}catch(R){y.e(R)}finally{y.f()}return t}}]),r}();_SingleTypeSelectionAccumulator_previousSelection=new weakMap,_SingleTypeSelectionAccumulator_selection=new weakMap;var SelectionAccumulator=function(){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};_classCallCheck(this,r),_SelectionAccumulator_nodes.set(this,new SingleTypeSelectionAccumulator),_SelectionAccumulator_edges.set(this,new SingleTypeSelectionAccumulator),_SelectionAccumulator_commitHandler.set(this,void 0),__classPrivateFieldSet(this,_SelectionAccumulator_commitHandler,e,"f")}return _createClass(r,[{key:"sizeNodes",get:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").size}},{key:"sizeEdges",get:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").size}},{key:"getNodes",value:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").getSelection()}},{key:"getEdges",value:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").delete(t)}},{key:"deleteEdges",value:function(t){__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").delete(t)}},{key:"clear",value:function(){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").clear(),__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").clear()}},{key:"commit",value:function(){for(var t,o,l={nodes:__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").commit(),edges:__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").commit()},h=arguments.length,y=new Array(h),O=0;O<h;O++)y[O]=arguments[O];return(t=__classPrivateFieldGet(this,_SelectionAccumulator_commitHandler,"f")).call.apply(t,concat(o=[this,l]).call(o,y)),l}}]),r}();_SelectionAccumulator_nodes=new weakMap,_SelectionAccumulator_edges=new weakMap,_SelectionAccumulator_commitHandler=new weakMap;function _createForOfIteratorHelper$2(r,e){var t=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!t){if(isArray$1(r)||(t=_unsupportedIterableToArray$2(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$2(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$2(r,e);var o=slice(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$2(r,e)}}function _arrayLikeToArray$2(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var SelectionHandler=function(){function r(e,t){var o=this;_classCallCheck(this,r),this.body=e,this.canvas=t,this._selectionAccumulator=new SelectionAccumulator,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},assign$2(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}return _createClass(r,[{key:"setOptions",value:function(t){if(t!==void 0){var o=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];selectiveDeepExtend(o,this.options,t)}}},{key:"selectOnPoint",value:function(t){var o=!1;if(this.options.selectable===!0){var l=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),l!==void 0&&(o=this.selectObject(l)),this.body.emitter.emit("_requestRedraw")}return o}},{key:"selectAdditionalOnPoint",value:function(t){var o=!1;if(this.options.selectable===!0){var l=this.getNodeAt(t)||this.getEdgeAt(t);l!==void 0&&(o=!0,l.isSelected()===!0?this.deselectObject(l):this.selectObject(l),this.body.emitter.emit("_requestRedraw"))}return o}},{key:"_initBaseEvent",value:function(t,o){var l={};return l.pointer={DOM:{x:o.x,y:o.y},canvas:this.canvas.DOMtoCanvas(o)},l.event=t,l}},{key:"generateClickEvent",value:function(t,o,l,h){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,O=this._initBaseEvent(o,l);if(y===!0)O.nodes=[],O.edges=[];else{var D=this.getSelection();O.nodes=D.nodes,O.edges=D.edges}h!==void 0&&(O.previousSelection=h),t=="click"&&(O.items=this.getClickedItems(l)),o.controlEdge!==void 0&&(O.controlEdge=o.controlEdge),this.body.emitter.emit(t,O)}},{key:"selectObject",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(t!==void 0){if(t instanceof Node$1){if(o===!0){var l;(l=this._selectionAccumulator).addEdges.apply(l,_toConsumableArray(t.edges))}this._selectionAccumulator.addNodes(t)}else this._selectionAccumulator.addEdges(t);return!0}return!1}},{key:"deselectObject",value:function(t){t.isSelected()===!0&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var o=[],l=this.body.nodes,h=0;h<this.body.nodeIndices.length;h++){var y=this.body.nodeIndices[h];l[y].isOverlappingWith(t)&&o.push(y)}return o}},{key:"_pointerToPositionObject",value:function(t){var o=this.canvas.DOMtoCanvas(t);return{left:o.x-1,top:o.y+1,right:o.x+1,bottom:o.y-1}}},{key:"getNodeAt",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=this._pointerToPositionObject(t),h=this._getAllNodesOverlappingWith(l);if(h.length>0)return o===!0?this.body.nodes[h[h.length-1]]:h[h.length-1]}},{key:"_getEdgesOverlappingWith",value:function(t,o){for(var l=this.body.edges,h=0;h<this.body.edgeIndices.length;h++){var y=this.body.edgeIndices[h];l[y].isOverlappingWith(t)&&o.push(y)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var o=[];return this._getEdgesOverlappingWith(t,o),o}},{key:"getEdgeAt",value:function(t){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=this.canvas.DOMtoCanvas(t),h=10,y=null,O=this.body.edges,D=0;D<this.body.edgeIndices.length;D++){var R=this.body.edgeIndices[D],F=O[R];if(F.connected){var B=F.from.x,j=F.from.y,U=F.to.x,W=F.to.y,G=F.edgeType.getDistanceToEdge(B,j,U,W,l.x,l.y);G<h&&(y=R,h=G)}}if(y!==null)return o===!0?this.body.edges[y]:y}},{key:"_addToHover",value:function(t){t instanceof Node$1?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){if(t instanceof Node$1){var o;this._selectionAccumulator.deleteNodes(t),(o=this._selectionAccumulator).deleteEdges.apply(o,_toConsumableArray(t.edges))}else this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var o=0;o<t.edges.length;o++){var l=t.edges[o];l.hover=!0,this._addToHover(l)}}},{key:"emitBlurEvent",value:function(t,o,l){var h=this._initBaseEvent(t,o);l.hover===!0&&(l.hover=!1,l instanceof Node$1?(h.node=l.id,this.body.emitter.emit("blurNode",h)):(h.edge=l.id,this.body.emitter.emit("blurEdge",h)))}},{key:"emitHoverEvent",value:function(t,o,l){var h=this._initBaseEvent(t,o),y=!1;return l.hover===!1&&(l.hover=!0,this._addToHover(l),y=!0,l instanceof Node$1?(h.node=l.id,this.body.emitter.emit("hoverNode",h)):(h.edge=l.id,this.body.emitter.emit("hoverEdge",h))),y}},{key:"hoverObject",value:function(t,o){var l=this.getNodeAt(o);l===void 0&&(l=this.getEdgeAt(o));var h=!1;for(var y in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,y)&&(l===void 0||l instanceof Node$1&&l.id!=y||l instanceof Edge)&&(this.emitBlurEvent(t,o,this.hoverObj.nodes[y]),delete this.hoverObj.nodes[y],h=!0);for(var O in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,O)&&(h===!0?(this.hoverObj.edges[O].hover=!1,delete this.hoverObj.edges[O]):(l===void 0||l instanceof Edge&&l.id!=O||l instanceof Node$1&&!l.hover)&&(this.emitBlurEvent(t,o,this.hoverObj.edges[O]),delete this.hoverObj.edges[O],h=!0));if(l!==void 0){var D=keys(this.hoverObj.edges).length,R=keys(this.hoverObj.nodes).length,F=l instanceof Edge&&D===0&&R===0,B=l instanceof Node$1&&D===0&&R===0;(h||F||B)&&(h=this.emitHoverEvent(t,o,l)),l instanceof Node$1&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(l)}h===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,o){var l=!1,h=this._selectionAccumulator.commit(),y={nodes:h.nodes.previous,edges:h.edges.previous};h.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",o,t,y),l=!0),h.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",o,t,y),l=!0),h.nodes.added.length>0&&(this.generateClickEvent("selectNode",o,t),l=!0),h.edges.added.length>0&&(this.generateClickEvent("selectEdge",o,t),l=!0),l===!0&&this.generateClickEvent("select",o,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return map$3(t=this._selectionAccumulator.getNodes()).call(t,function(o){return o.id})}},{key:"getSelectedEdgeIds",value:function(){var t;return map$3(t=this._selectionAccumulator.getEdges()).call(t,function(o){return o.id})}},{key:"setSelection",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((o.unselectAll||o.unselectAll===void 0)&&this.unselectAll(),t.nodes){var l=_createForOfIteratorHelper$2(t.nodes),h;try{for(l.s();!(h=l.n()).done;){var y=h.value,O=this.body.nodes[y];if(!O)throw new RangeError('Node with id "'+y+'" not found');this.selectObject(O,o.highlightEdges)}}catch(j){l.e(j)}finally{l.f()}}if(t.edges){var D=_createForOfIteratorHelper$2(t.edges),R;try{for(D.s();!(R=D.n()).done;){var F=R.value,B=this.body.edges[F];if(!B)throw new RangeError('Edge with id "'+F+'" not found');this.selectObject(B)}}catch(j){D.e(j)}finally{D.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t||t.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:o})}},{key:"selectEdges",value:function(t){if(!t||t.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var o in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,o.id)||this._selectionAccumulator.deleteEdges(o)}},{key:"getClickedItems",value:function(t){for(var o=this.canvas.DOMtoCanvas(t),l=[],h=this.body.nodeIndices,y=this.body.nodes,O=h.length-1;O>=0;O--){var D=y[h[O]],R=D.getItemsOnPoint(o);l.push.apply(l,R)}for(var F=this.body.edgeIndices,B=this.body.edges,j=F.length-1;j>=0;j--){var U=B[F[j]],W=U.getItemsOnPoint(o);l.push.apply(l,W)}return l}}]),r}(),arraySlice=arraySliceSimple,floor=Math.floor,mergeSort=function(r,e){var t=r.length,o=floor(t/2);return t<8?insertionSort(r,e):merge(r,mergeSort(arraySlice(r,0,o),e),mergeSort(arraySlice(r,o),e),e)},insertionSort=function(r,e){for(var t=r.length,o=1,l,h;o<t;){for(h=o,l=r[o];h&&e(r[h-1],l)>0;)r[h]=r[--h];h!==o++&&(r[h]=l)}return r},merge=function(r,e,t,o){for(var l=e.length,h=t.length,y=0,O=0;y<l||O<h;)r[y+O]=y<l&&O<h?o(e[y],t[O])<=0?e[y++]:t[O++]:y<l?e[y++]:t[O++];return r},arraySort=mergeSort,userAgent$1=engineUserAgent,firefox=userAgent$1.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],UA=engineUserAgent,engineIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent=engineUserAgent,webkit=userAgent.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit&&+webkit[1],$$2=_export,uncurryThis=functionUncurryThis,aCallable$1=aCallable$6,toObject$1=toObject$d,lengthOfArrayLike$1=lengthOfArrayLike$b,toString=toString$8,fails=fails$t,internalSort=arraySort,arrayMethodIsStrict$2=arrayMethodIsStrict$6,FF=engineFfVersion,IE_OR_EDGE=engineIsIeOrEdge,V8=engineV8Version,WEBKIT=engineWebkitVersion,test=[],un$Sort=uncurryThis(test.sort),push=uncurryThis(test.push),FAILS_ON_UNDEFINED=fails(function(){test.sort(void 0)}),FAILS_ON_NULL=fails(function(){test.sort(null)}),STRICT_METHOD$2=arrayMethodIsStrict$2("sort"),STABLE_SORT=!fails(function(){if(V8)return V8<70;if(!(FF&&FF>3)){if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<603;var r="",e,t,o,l;for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(l=0;l<47;l++)test.push({k:t+l,v:o})}for(test.sort(function(h,y){return y.v-h.v}),l=0;l<test.length;l++)t=test[l].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return r!=="DGBEFHACIJK"}}),FORCED=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD$2||!STABLE_SORT,getSortCompare=function(r){return function(e,t){return t===void 0?-1:e===void 0?1:r!==void 0?+r(e,t)||0:toString(e)>toString(t)?1:-1}};$$2({target:"Array",proto:!0,forced:FORCED},{sort:function r(e){e!==void 0&&aCallable$1(e);var t=toObject$1(this);if(STABLE_SORT)return e===void 0?un$Sort(t):un$Sort(t,e);var o=[],l=lengthOfArrayLike$1(t),h,y;for(y=0;y<l;y++)y in t&&push(o,t[y]);for(internalSort(o,getSortCompare(e)),h=o.length,y=0;y<h;)t[y]=o[y++];for(;y<l;)delete t[y++];return t}});var entryVirtual$2=entryVirtual$i,sort$3=entryVirtual$2("Array").sort,isPrototypeOf$2=objectIsPrototypeOf,method$2=sort$3,ArrayPrototype$2=Array.prototype,sort$2=function(r){var e=r.sort;return r===ArrayPrototype$2||isPrototypeOf$2(ArrayPrototype$2,r)&&e===ArrayPrototype$2.sort?method$2:e},parent$2=sort$2,sort$1=parent$2,sort=sort$1,global$2=global$O,aCallable=aCallable$6,toObject=toObject$d,IndexedObject=indexedObject,lengthOfArrayLike=lengthOfArrayLike$b,TypeError$1=global$2.TypeError,createMethod=function(r){return function(e,t,o,l){aCallable(t);var h=toObject(e),y=IndexedObject(h),O=lengthOfArrayLike(h),D=r?O-1:0,R=r?-1:1;if(o<2)for(;;){if(D in y){l=y[D],D+=R;break}if(D+=R,r?D<0:O<=D)throw TypeError$1("Reduce of empty array with no initial value")}for(;r?D>=0:O>D;D+=R)D in y&&(l=t(l,y[D],D,h));return l}},arrayReduce={left:createMethod(!1),right:createMethod(!0)},classof=classofRaw$1,global$1=global$O,engineIsNode=classof(global$1.process)=="process",$$1=_export,$reduce=arrayReduce.left,arrayMethodIsStrict$1=arrayMethodIsStrict$6,CHROME_VERSION=engineV8Version,IS_NODE=engineIsNode,STRICT_METHOD$1=arrayMethodIsStrict$1("reduce"),CHROME_BUG=!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83;$$1({target:"Array",proto:!0,forced:!STRICT_METHOD$1||CHROME_BUG},{reduce:function r(e){var t=arguments.length;return $reduce(this,e,t,t>1?arguments[1]:void 0)}});var entryVirtual$1=entryVirtual$i,reduce$3=entryVirtual$1("Array").reduce,isPrototypeOf$1=objectIsPrototypeOf,method$1=reduce$3,ArrayPrototype$1=Array.prototype,reduce$2=function(r){var e=r.reduce;return r===ArrayPrototype$1||isPrototypeOf$1(ArrayPrototype$1,r)&&e===ArrayPrototype$1.reduce?method$1:e},parent$1=reduce$2,reduce$1=parent$1,reduce=reduce$1,timsort$1={};(function(r){(function(e,t){t(r)})(commonjsGlobal,function(e){e.__esModule=!0,e.sort=q;function t(K,Y){if(!(K instanceof Y))throw new TypeError("Cannot call a class as a function")}var o=32,l=7,h=256,y=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function O(K){return K<1e5?K<100?K<10?0:1:K<1e4?K<1e3?2:3:4:K<1e7?K<1e6?5:6:K<1e9?K<1e8?7:8:9}function D(K,Y){if(K===Y)return 0;if(~~K===K&&~~Y===Y){if(K===0||Y===0)return K<Y?-1:1;if(K<0||Y<0){if(Y>=0)return-1;if(K>=0)return 1;K=-K,Y=-Y}var X=O(K),J=O(Y),Q=0;return X<J?(K*=y[J-X-1],Y/=10,Q=-1):X>J&&(Y*=y[X-J-1],K/=10,Q=1),K===Y?Q:K<Y?-1:1}var Z=String(K),ee=String(Y);return Z===ee?0:Z<ee?-1:1}function R(K){for(var Y=0;K>=o;)Y|=K&1,K>>=1;return K+Y}function F(K,Y,X,J){var Q=Y+1;if(Q===X)return 1;if(J(K[Q++],K[Y])<0){for(;Q<X&&J(K[Q],K[Q-1])<0;)Q++;B(K,Y,Q)}else for(;Q<X&&J(K[Q],K[Q-1])>=0;)Q++;return Q-Y}function B(K,Y,X){for(X--;Y<X;){var J=K[Y];K[Y++]=K[X],K[X--]=J}}function j(K,Y,X,J,Q){for(J===Y&&J++;J<X;J++){for(var Z=K[J],ee=Y,te=J;ee<te;){var re=ee+te>>>1;Q(Z,K[re])<0?te=re:ee=re+1}var ie=J-ee;switch(ie){case 3:K[ee+3]=K[ee+2];case 2:K[ee+2]=K[ee+1];case 1:K[ee+1]=K[ee];break;default:for(;ie>0;)K[ee+ie]=K[ee+ie-1],ie--}K[ee]=Z}}function U(K,Y,X,J,Q,Z){var ee=0,te=0,re=1;if(Z(K,Y[X+Q])>0){for(te=J-Q;re<te&&Z(K,Y[X+Q+re])>0;)ee=re,re=(re<<1)+1,re<=0&&(re=te);re>te&&(re=te),ee+=Q,re+=Q}else{for(te=Q+1;re<te&&Z(K,Y[X+Q-re])<=0;)ee=re,re=(re<<1)+1,re<=0&&(re=te);re>te&&(re=te);var ie=ee;ee=Q-re,re=Q-ie}for(ee++;ee<re;){var ne=ee+(re-ee>>>1);Z(K,Y[X+ne])>0?ee=ne+1:re=ne}return re}function W(K,Y,X,J,Q,Z){var ee=0,te=0,re=1;if(Z(K,Y[X+Q])<0){for(te=Q+1;re<te&&Z(K,Y[X+Q-re])<0;)ee=re,re=(re<<1)+1,re<=0&&(re=te);re>te&&(re=te);var ie=ee;ee=Q-re,re=Q-ie}else{for(te=J-Q;re<te&&Z(K,Y[X+Q+re])>=0;)ee=re,re=(re<<1)+1,re<=0&&(re=te);re>te&&(re=te),ee+=Q,re+=Q}for(ee++;ee<re;){var ne=ee+(re-ee>>>1);Z(K,Y[X+ne])<0?re=ne:ee=ne+1}return re}var G=function(){function K(Y,X){t(this,K),this.array=null,this.compare=null,this.minGallop=l,this.length=0,this.tmpStorageLength=h,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=Y,this.compare=X,this.length=Y.length,this.length<2*h&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return K.prototype.pushRun=function(X,J){this.runStart[this.stackSize]=X,this.runLength[this.stackSize]=J,this.stackSize+=1},K.prototype.mergeRuns=function(){for(;this.stackSize>1;){var X=this.stackSize-2;if(X>=1&&this.runLength[X-1]<=this.runLength[X]+this.runLength[X+1]||X>=2&&this.runLength[X-2]<=this.runLength[X]+this.runLength[X-1])this.runLength[X-1]<this.runLength[X+1]&&X--;else if(this.runLength[X]>this.runLength[X+1])break;this.mergeAt(X)}},K.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var X=this.stackSize-2;X>0&&this.runLength[X-1]<this.runLength[X+1]&&X--,this.mergeAt(X)}},K.prototype.mergeAt=function(X){var J=this.compare,Q=this.array,Z=this.runStart[X],ee=this.runLength[X],te=this.runStart[X+1],re=this.runLength[X+1];this.runLength[X]=ee+re,X===this.stackSize-3&&(this.runStart[X+1]=this.runStart[X+2],this.runLength[X+1]=this.runLength[X+2]),this.stackSize--;var ie=W(Q[te],Q,Z,ee,0,J);Z+=ie,ee-=ie,ee!==0&&(re=U(Q[Z+ee-1],Q,te,re,re-1,J),re!==0&&(ee<=re?this.mergeLow(Z,ee,te,re):this.mergeHigh(Z,ee,te,re)))},K.prototype.mergeLow=function(X,J,Q,Z){var ee=this.compare,te=this.array,re=this.tmp,ie=0;for(ie=0;ie<J;ie++)re[ie]=te[X+ie];var ne=0,se=Q,ce=X;if(te[ce++]=te[se++],--Z===0){for(ie=0;ie<J;ie++)te[ce+ie]=re[ne+ie];return}if(J===1){for(ie=0;ie<Z;ie++)te[ce+ie]=te[se+ie];te[ce+Z]=re[ne];return}for(var ue=this.minGallop;;){var he=0,pe=0,oe=!1;do if(ee(te[se],re[ne])<0){if(te[ce++]=te[se++],pe++,he=0,--Z===0){oe=!0;break}}else if(te[ce++]=re[ne++],he++,pe=0,--J===1){oe=!0;break}while((he|pe)<ue);if(oe)break;do{if(he=W(te[se],re,ne,J,0,ee),he!==0){for(ie=0;ie<he;ie++)te[ce+ie]=re[ne+ie];if(ce+=he,ne+=he,J-=he,J<=1){oe=!0;break}}if(te[ce++]=te[se++],--Z===0){oe=!0;break}if(pe=U(re[ne],te,se,Z,0,ee),pe!==0){for(ie=0;ie<pe;ie++)te[ce+ie]=te[se+ie];if(ce+=pe,se+=pe,Z-=pe,Z===0){oe=!0;break}}if(te[ce++]=re[ne++],--J===1){oe=!0;break}ue--}while(he>=l||pe>=l);if(oe)break;ue<0&&(ue=0),ue+=2}if(this.minGallop=ue,ue<1&&(this.minGallop=1),J===1){for(ie=0;ie<Z;ie++)te[ce+ie]=te[se+ie];te[ce+Z]=re[ne]}else{if(J===0)throw new Error("mergeLow preconditions were not respected");for(ie=0;ie<J;ie++)te[ce+ie]=re[ne+ie]}},K.prototype.mergeHigh=function(X,J,Q,Z){var ee=this.compare,te=this.array,re=this.tmp,ie=0;for(ie=0;ie<Z;ie++)re[ie]=te[Q+ie];var ne=X+J-1,se=Z-1,ce=Q+Z-1,ue=0,he=0;if(te[ce--]=te[ne--],--J===0){for(ue=ce-(Z-1),ie=0;ie<Z;ie++)te[ue+ie]=re[ie];return}if(Z===1){for(ce-=J,ne-=J,he=ce+1,ue=ne+1,ie=J-1;ie>=0;ie--)te[he+ie]=te[ue+ie];te[ce]=re[se];return}for(var pe=this.minGallop;;){var oe=0,ae=0,le=!1;do if(ee(re[se],te[ne])<0){if(te[ce--]=te[ne--],oe++,ae=0,--J===0){le=!0;break}}else if(te[ce--]=re[se--],ae++,oe=0,--Z===1){le=!0;break}while((oe|ae)<pe);if(le)break;do{if(oe=J-W(re[se],te,X,J,J-1,ee),oe!==0){for(ce-=oe,ne-=oe,J-=oe,he=ce+1,ue=ne+1,ie=oe-1;ie>=0;ie--)te[he+ie]=te[ue+ie];if(J===0){le=!0;break}}if(te[ce--]=re[se--],--Z===1){le=!0;break}if(ae=Z-U(te[ne],re,0,Z,Z-1,ee),ae!==0){for(ce-=ae,se-=ae,Z-=ae,he=ce+1,ue=se+1,ie=0;ie<ae;ie++)te[he+ie]=re[ue+ie];if(Z<=1){le=!0;break}}if(te[ce--]=te[ne--],--J===0){le=!0;break}pe--}while(oe>=l||ae>=l);if(le)break;pe<0&&(pe=0),pe+=2}if(this.minGallop=pe,pe<1&&(this.minGallop=1),Z===1){for(ce-=J,ne-=J,he=ce+1,ue=ne+1,ie=J-1;ie>=0;ie--)te[he+ie]=te[ue+ie];te[ce]=re[se]}else{if(Z===0)throw new Error("mergeHigh preconditions were not respected");for(ue=ce-(Z-1),ie=0;ie<Z;ie++)te[ue+ie]=re[ie]}},K}();function q(K,Y,X,J){if(!Array.isArray(K))throw new TypeError("Can only sort arrays");Y?typeof Y!="function"&&(J=X,X=Y,Y=D):Y=D,X||(X=0),J||(J=K.length);var Q=J-X;if(!(Q<2)){var Z=0;if(Q<o){Z=F(K,X,J,Y),j(K,X,J,X+Z,Y);return}var ee=new G(K,Y),te=R(Q);do{if(Z=F(K,X,J,Y),Z<te){var re=Q;re>te&&(re=te),j(K,X,X+re,X+Z,Y),Z=re}ee.pushRun(X,Z),ee.mergeRuns(),Q-=Z,X+=Z}while(Q!==0);ee.forceMergeRuns()}}})})(timsort$1);var timsort=timsort$1;function _createSuper(r){var e=_isNativeReflectConstruct();return function(){var o=_getPrototypeOf(r),l;if(e){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var DirectionInterface=function(){function r(){_classCallCheck(this,r)}return _createClass(r,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(t,o,l),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,o){this.fake_use(t,o),this.abstract()}},{key:"shift",value:function(t,o){this.fake_use(t,o),this.abstract()}}]),r}(),VerticalStrategy=function(r){_inherits(t,r);var e=_createSuper(t);function t(o){var l;return _classCallCheck(this,t),l=e.call(this),l.layout=o,l}return _createClass(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(l){return l.x}},{key:"setPosition",value:function(l,h){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;y!==void 0&&this.layout.hierarchical.addToOrdering(l,y),l.x=h}},{key:"getTreeSize",value:function(l){var h=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,l);return{min:h.min_x,max:h.max_x}}},{key:"sort",value:function(l){timsort.sort(l,function(h,y){return h.x-y.x})}},{key:"fix",value:function(l,h){l.y=this.layout.options.hierarchical.levelSeparation*h,l.options.fixed.y=!0}},{key:"shift",value:function(l,h){this.layout.body.nodes[l].x+=h}}]),t}(DirectionInterface),HorizontalStrategy=function(r){_inherits(t,r);var e=_createSuper(t);function t(o){var l;return _classCallCheck(this,t),l=e.call(this),l.layout=o,l}return _createClass(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(l){return l.y}},{key:"setPosition",value:function(l,h){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;y!==void 0&&this.layout.hierarchical.addToOrdering(l,y),l.y=h}},{key:"getTreeSize",value:function(l){var h=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,l);return{min:h.min_y,max:h.max_y}}},{key:"sort",value:function(l){timsort.sort(l,function(h,y){return h.y-y.y})}},{key:"fix",value:function(l,h){l.x=this.layout.options.hierarchical.levelSeparation*h,l.options.fixed.x=!0}},{key:"shift",value:function(l,h){this.layout.body.nodes[l].y+=h}}]),t}(DirectionInterface),$=_export,$every=arrayIteration.every,arrayMethodIsStrict=arrayMethodIsStrict$6,STRICT_METHOD=arrayMethodIsStrict("every");$({target:"Array",proto:!0,forced:!STRICT_METHOD},{every:function r(e){return $every(this,e,arguments.length>1?arguments[1]:void 0)}});var entryVirtual=entryVirtual$i,every$3=entryVirtual("Array").every,isPrototypeOf=objectIsPrototypeOf,method=every$3,ArrayPrototype=Array.prototype,every$2=function(r){var e=r.every;return r===ArrayPrototype||isPrototypeOf(ArrayPrototype,r)&&e===ArrayPrototype.every?method:e},parent=every$2,every$1=parent,every=every$1;function _createForOfIteratorHelper$1(r,e){var t=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!t){if(isArray$1(r)||(t=_unsupportedIterableToArray$1(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$1(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray$1(r,e);var o=slice(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$1(r,e)}}function _arrayLikeToArray$1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}function fillLevelsByDirectionCyclic(r,e){var t=new set;return forEach$2(r).call(r,function(o){var l;forEach$2(l=o.edges).call(l,function(h){h.connected&&t.add(h)})}),forEach$2(t).call(t,function(o){var l=o.from.id,h=o.to.id;e[l]==null&&(e[l]=0),(e[h]==null||e[l]>=e[h])&&(e[h]=e[l]+1)}),e}function fillLevelsByDirectionLeaves(r){return fillLevelsByDirection(function(e){var t,o;return every(t=filter(o=e.edges).call(o,function(l){return r.has(l.toId)})).call(t,function(l){return l.to===e})},function(e,t){return t>e},"from",r)}function fillLevelsByDirectionRoots(r){return fillLevelsByDirection(function(e){var t,o;return every(t=filter(o=e.edges).call(o,function(l){return r.has(l.toId)})).call(t,function(l){return l.from===e})},function(e,t){return t<e},"to",r)}function fillLevelsByDirection(r,e,t,o){var l,h=create$5(null),y=reduce(l=_toConsumableArray(values(o).call(o))).call(l,function(U,W){return U+1+W.edges.length},0),O=t+"Id",D=t==="to"?1:-1,R=_createForOfIteratorHelper$1(o),F;try{var B=function(){var W=_slicedToArray(F.value,2),G=W[0],q=W[1];if(!o.has(G)||!r(q))return"continue";h[G]=0;for(var K=[q],Y=0,X=void 0,J=function(){var ee,te;if(!o.has(G))return"continue";var re=h[X.id]+D;if(forEach$2(ee=filter(te=X.edges).call(te,function(ie){return ie.connected&&ie.to!==ie.from&&ie[t]!==X&&o.has(ie.toId)&&o.has(ie.fromId)})).call(ee,function(ie){var ne=ie[O],se=h[ne];(se==null||e(re,se))&&(h[ne]=re,K.push(ie[t]))}),Y>y)return{v:{v:fillLevelsByDirectionCyclic(o,h)}};++Y};X=K.pop();){var Q=J();if(Q!=="continue"&&_typeof(Q)==="object")return Q.v}};for(R.s();!(F=R.n()).done;){var j=B();if(j!=="continue"&&_typeof(j)==="object")return j.v}}catch(U){R.e(U)}finally{R.f()}return h}var HierarchicalStatus=function(){function r(){_classCallCheck(this,r),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return _createClass(r,[{key:"addRelation",value:function(t,o){this.childrenReference[t]===void 0&&(this.childrenReference[t]=[]),this.childrenReference[t].push(o),this.parentReference[o]===void 0&&(this.parentReference[o]=[]),this.parentReference[o].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,o){o!==void 0&&this.trees[t.id]===void 0&&(this.trees[t.id]=o,this.treeIndex=Math.max(o,this.treeIndex))}},{key:"ensureLevel",value:function(t){this.levels[t]===void 0&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var o=this,l={},h=function y(O){if(l[O]!==void 0)return l[O];var D=o.levels[O];if(o.childrenReference[O]){var R=o.childrenReference[O];if(R.length>0)for(var F=0;F<R.length;F++)D=Math.max(D,y(R[F]))}return l[O]=D,D};return h(t)}},{key:"levelDownstream",value:function(t,o){this.levels[o.id]===void 0&&(this.levels[t.id]===void 0&&(this.levels[t.id]=0),this.levels[o.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var o=1e9;for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&this.levels[l]!==void 0&&(o=Math.min(this.levels[l],o));for(var h in t)Object.prototype.hasOwnProperty.call(t,h)&&this.levels[h]!==void 0&&(this.levels[h]-=o)}},{key:"getTreeSize",value:function(t,o){var l=1e9,h=-1e9,y=1e9,O=-1e9;for(var D in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,D)&&this.trees[D]===o){var R=t[D];l=Math.min(R.x,l),h=Math.max(R.x,h),y=Math.min(R.y,y),O=Math.max(R.y,O)}return{min_x:l,max_x:h,min_y:y,max_y:O}}},{key:"hasSameParent",value:function(t,o){var l=this.parentReference[t.id],h=this.parentReference[o.id];if(l===void 0||h===void 0)return!1;for(var y=0;y<l.length;y++)for(var O=0;O<h.length;O++)if(l[y]==h[O])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,o){return this.trees[t.id]===this.trees[o.id]}},{key:"getLevels",value:function(){return keys(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,o){this.distributionOrdering[o]===void 0&&(this.distributionOrdering[o]=[]);var l=!1,h=this.distributionOrdering[o];for(var y in h)if(h[y]===t){l=!0;break}l||(this.distributionOrdering[o].push(t),this.distributionIndex[t.id]=this.distributionOrdering[o].length-1)}}]),r}(),LayoutEngine=function(){function r(e){_classCallCheck(this,r),this.body=e,this._resetRNG(Math.random()+":"+now$1()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},assign$2(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(t.options.hierarchical.enabled===!0){var o=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",o,!1)}})}},{key:"setOptions",value:function(t,o){if(t!==void 0){var l=this.options.hierarchical,h=l.enabled;if(selectiveDeepExtend(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),mergeOptions(this.options,t,"hierarchical"),t.randomSeed!==void 0&&this._resetRNG(t.randomSeed),l.enabled===!0)return h===!0&&this.body.emitter.emit("refresh",!0),l.direction==="RL"||l.direction==="DU"?l.levelSeparation>0&&(l.levelSeparation*=-1):l.levelSeparation<0&&(l.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(o);if(h===!0)return this.body.emitter.emit("refresh"),deepExtend(o,this.optionsBackup)}return o}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=Alea(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(this.options.hierarchical.enabled===!0){var o=this.optionsBackup.physics;t.physics===void 0||t.physics===!0?(t.physics={enabled:o.enabled===void 0?!0:o.enabled,solver:"hierarchicalRepulsion"},o.enabled=o.enabled===void 0?!0:o.enabled,o.solver=o.solver||"barnesHut"):_typeof(t.physics)==="object"?(o.enabled=t.physics.enabled===void 0?!0:t.physics.enabled,o.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):t.physics!==!1&&(o.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var l=this.direction.curveType();if(t.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(t.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if(typeof t.edges.smooth=="boolean")this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:l};else{var h=t.edges.smooth;h.type!==void 0&&h.type!=="dynamic"&&(l=h.type),this.optionsBackup.edges={smooth:{enabled:h.enabled===void 0?!0:h.enabled,type:h.type===void 0?"dynamic":h.type,roundness:h.roundness===void 0?.5:h.roundness,forceDirection:h.forceDirection===void 0?!1:h.forceDirection}},t.edges.smooth={enabled:h.enabled===void 0?!0:h.enabled,type:l,roundness:h.roundness===void 0?.5:h.roundness,forceDirection:h.forceDirection===void 0?!1:h.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",l)}return t}},{key:"positionInitially",value:function(t){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var o=t.length+50,l=0;l<t.length;l++){var h=t[l],y=2*Math.PI*this._rng();h.x===void 0&&(h.x=o*Math.cos(y)),h.y===void 0&&(h.y=o*Math.sin(y))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var t=this.body.nodeIndices,o=0,l=0;l<t.length;l++){var h=this.body.nodes[t[l]];h.predefinedPosition===!0&&(o+=1)}if(o<.5*t.length){var y=10,O=0,D=this.options.clusterThreshold,R={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>D){for(var F=t.length;t.length>D&&O<=y;){O+=1;var B=t.length;O%3===0?this.body.modules.clustering.clusterBridges(R):this.body.modules.clustering.clusterOutliers(R);var j=t.length;if(B==j&&O%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*F)})}O>y&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var U=70,W=0;W<t.length;W++){var G=this.body.nodes[t[W]];G.predefinedPosition===!1&&(G.x+=(.5-this._rng())*U,G.y+=(.5-this._rng())*U)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=NetworkUtil.getRangeCore(this.body.nodes,this.body.nodeIndices),o=NetworkUtil.findCenter(t),l=0;l<this.body.nodeIndices.length;l++){var h=this.body.nodes[this.body.nodeIndices[l]];h.x-=o.x,h.y-=o.y}}},{key:"_declusterAll",value:function(){for(var t=!0;t===!0;){t=!1;for(var o=0;o<this.body.nodeIndices.length;o++)this.body.nodes[this.body.nodeIndices[o]].isCluster===!0&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[o],{},!1));t===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var t,o,l=!1,h=!1;this.lastNodeOnLevel={},this.hierarchical=new HierarchicalStatus;for(o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&(t=this.body.nodes[o],t.options.level!==void 0?(l=!0,this.hierarchical.levels[o]=t.options.level):h=!0);if(h===!0&&l===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(h===!0){var y=this.options.hierarchical.sortMethod;y==="hubsize"?this._determineLevelsByHubsize():y==="directed"?this._determineLevelsDirected():y==="custom"&&this._determineLevelsCustomCallback()}for(var O in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,O)&&this.hierarchical.ensureLevel(O);var D=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(D),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,o=!1,l={},h=function(){for(var X=O(),J=0,Q=0;Q<X.length-1;Q++){var Z=X[Q].max-X[Q+1].min;J+=Z+t.options.hierarchical.treeSpacing,y(Q+1,J)}},y=function(X,J){var Q=t.hierarchical.trees;for(var Z in Q)Object.prototype.hasOwnProperty.call(Q,Z)&&Q[Z]===X&&t.direction.shift(Z,J)},O=function(){for(var X=[],J=0;J<t.hierarchical.numTrees();J++)X.push(t.direction.getTreeSize(J));return X},D=function Y(X,J){if(!J[X.id]&&(J[X.id]=!0,t.hierarchical.childrenReference[X.id])){var Q=t.hierarchical.childrenReference[X.id];if(Q.length>0)for(var Z=0;Z<Q.length;Z++)Y(t.body.nodes[Q[Z]],J)}},R=function(X){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,Q=1e9,Z=1e9,ee=1e9,te=-1e9;for(var re in X)if(Object.prototype.hasOwnProperty.call(X,re)){var ie=t.body.nodes[re],ne=t.hierarchical.levels[ie.id],se=t.direction.getPosition(ie),ce=t._getSpaceAroundNode(ie,X),ue=_slicedToArray(ce,2),he=ue[0],pe=ue[1];Q=Math.min(he,Q),Z=Math.min(pe,Z),ne<=J&&(ee=Math.min(se,ee),te=Math.max(se,te))}return[ee,te,Q,Z]},F=function(X,J){var Q=t.hierarchical.getMaxLevel(X.id),Z=t.hierarchical.getMaxLevel(J.id);return Math.min(Q,Z)},B=function(X,J,Q){for(var Z=t.hierarchical,ee=0;ee<J.length;ee++){var te=J[ee],re=Z.distributionOrdering[te];if(re.length>1)for(var ie=0;ie<re.length-1;ie++){var ne=re[ie],se=re[ie+1];Z.hasSameParent(ne,se)&&Z.inSameSubNetwork(ne,se)&&X(ne,se,Q)}}},j=function(X,J){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Z=t.direction.getPosition(X),ee=t.direction.getPosition(J),te=Math.abs(ee-Z),re=t.options.hierarchical.nodeSpacing;if(te>re){var ie={},ne={};D(X,ie),D(J,ne);var se=F(X,J),ce=R(ie,se),ue=R(ne,se),he=ce[1],pe=ue[0],oe=ue[2],ae=Math.abs(he-pe);if(ae>re){var le=he-pe+re;le<-oe+re&&(le=-oe+re),le<0&&(t._shiftBlock(J.id,le),o=!0,Q===!0&&t._centerParent(J))}}},U=function(X,J){for(var Q=J.id,Z=J.edges,ee=t.hierarchical.levels[J.id],te=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,re={},ie=[],ne=0;ne<Z.length;ne++){var se=Z[ne];if(se.toId!=se.fromId){var ce=se.toId==Q?se.from:se.to;re[Z[ne].id]=ce,t.hierarchical.levels[ce.id]<ee&&ie.push(se)}}var ue=function(ge,fe){for(var _e=0,we=0;we<fe.length;we++)if(re[fe[we].id]!==void 0){var ve=t.direction.getPosition(re[fe[we].id])-ge;_e+=ve/Math.sqrt(ve*ve+te)}return _e},he=function(ge,fe){for(var _e=0,we=0;we<fe.length;we++)if(re[fe[we].id]!==void 0){var ve=t.direction.getPosition(re[fe[we].id])-ge;_e-=te*Math.pow(ve*ve+te,-1.5)}return _e},pe=function(ge,fe){for(var _e=t.direction.getPosition(J),we={},ve=0;ve<ge;ve++){var Se=ue(_e,fe),$e=he(_e,fe),be=40,ye=Math.max(-be,Math.min(be,Math.round(Se/$e)));if(_e=_e-ye,we[_e]!==void 0)break;we[_e]=ve}return _e},oe=function(ge){var fe=t.direction.getPosition(J);if(l[J.id]===void 0){var _e={};D(J,_e),l[J.id]=_e}var we=R(l[J.id]),ve=we[2],Se=we[3],$e=ge-fe,be=0;$e>0?be=Math.min($e,Se-t.options.hierarchical.nodeSpacing):$e<0&&(be=-Math.min(-$e,ve-t.options.hierarchical.nodeSpacing)),be!=0&&(t._shiftBlock(J.id,be),o=!0)},ae=function(ge){var fe=t.direction.getPosition(J),_e=t._getSpaceAroundNode(J),we=_slicedToArray(_e,2),ve=we[0],Se=we[1],$e=ge-fe,be=fe;$e>0?be=Math.min(fe+(Se-t.options.hierarchical.nodeSpacing),ge):$e<0&&(be=Math.max(fe-(ve-t.options.hierarchical.nodeSpacing),ge)),be!==fe&&(t.direction.setPosition(J,be),o=!0)},le=pe(X,ie);oe(le),le=pe(X,Z),ae(le)},W=function(X){var J=t.hierarchical.getLevels();J=reverse(J).call(J);for(var Q=0;Q<X;Q++){o=!1;for(var Z=0;Z<J.length;Z++)for(var ee=J[Z],te=t.hierarchical.distributionOrdering[ee],re=0;re<te.length;re++)U(1e3,te[re]);if(o!==!0)break}},G=function(X){var J=t.hierarchical.getLevels();J=reverse(J).call(J);for(var Q=0;Q<X&&(o=!1,B(j,J,!0),o===!0);Q++);},q=function(){for(var X in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,X)&&t._centerParent(t.body.nodes[X])},K=function(){var X=t.hierarchical.getLevels();X=reverse(X).call(X);for(var J=0;J<X.length;J++)for(var Q=X[J],Z=t.hierarchical.distributionOrdering[Q],ee=0;ee<Z.length;ee++)t._centerParent(Z[ee])};this.options.hierarchical.blockShifting===!0&&(G(5),q()),this.options.hierarchical.edgeMinimization===!0&&W(20),this.options.hierarchical.parentCentralization===!0&&K(),h()}},{key:"_getSpaceAroundNode",value:function(t,o){var l=!0;o===void 0&&(l=!1);var h=this.hierarchical.levels[t.id];if(h!==void 0){var y=this.hierarchical.distributionIndex[t.id],O=this.direction.getPosition(t),D=this.hierarchical.distributionOrdering[h],R=1e9,F=1e9;if(y!==0){var B=D[y-1];if(l===!0&&o[B.id]===void 0||l===!1){var j=this.direction.getPosition(B);R=O-j}}if(y!=D.length-1){var U=D[y+1];if(l===!0&&o[U.id]===void 0||l===!1){var W=this.direction.getPosition(U);F=Math.min(F,W-O)}}return[R,F]}else return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var o=this.hierarchical.parentReference[t.id],l=0;l<o.length;l++){var h=o[l],y=this.body.nodes[h],O=this.hierarchical.childrenReference[h];if(O!==void 0){var D=this._getCenterPosition(O),R=this.direction.getPosition(y),F=this._getSpaceAroundNode(y),B=_slicedToArray(F,2),j=B[0],U=B[1],W=R-D;(W<0&&Math.abs(W)<U-this.options.hierarchical.nodeSpacing||W>0&&Math.abs(W)<j-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(y,D)}}}},{key:"_placeNodesByHierarchy",value:function(t){this.positionedNodes={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var l,h=keys(t[o]);h=this._indexArrayToNodes(h),sort(l=this.direction).call(l,h);for(var y=0,O=0;O<h.length;O++){var D=h[O];if(this.positionedNodes[D.id]===void 0){var R=this.options.hierarchical.nodeSpacing,F=R*y;y>0&&(F=this.direction.getPosition(h[O-1])+R),this.direction.setPosition(D,F,o),this._validatePositionAndContinue(D,o,F),y++}}}}},{key:"_placeBranchNodes",value:function(t,o){var l,h=this.hierarchical.childrenReference[t];if(h!==void 0){for(var y=[],O=0;O<h.length;O++)y.push(this.body.nodes[h[O]]);sort(l=this.direction).call(l,y);for(var D=0;D<y.length;D++){var R=y[D],F=this.hierarchical.levels[R.id];if(F>o&&this.positionedNodes[R.id]===void 0){var B=this.options.hierarchical.nodeSpacing,j=void 0;D===0?j=this.direction.getPosition(this.body.nodes[t]):j=this.direction.getPosition(y[D-1])+B,this.direction.setPosition(R,j,F),this._validatePositionAndContinue(R,F,j)}else return}var U=this._getCenterPosition(y);this.direction.setPosition(this.body.nodes[t],U,o)}}},{key:"_validatePositionAndContinue",value:function(t,o,l){if(!!this.hierarchical.isTree){if(this.lastNodeOnLevel[o]!==void 0){var h=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[o]]);if(l-h<this.options.hierarchical.nodeSpacing){var y=h+this.options.hierarchical.nodeSpacing-l,O=this._findCommonParent(this.lastNodeOnLevel[o],t.id);this._shiftBlock(O.withChild,y)}}this.lastNodeOnLevel[o]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,o)}}},{key:"_indexArrayToNodes",value:function(t){for(var o=[],l=0;l<t.length;l++)o.push(this.body.nodes[t[l]]);return o}},{key:"_getDistribution",value:function(){var t={},o,l;for(o in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,o)){l=this.body.nodes[o];var h=this.hierarchical.levels[o]===void 0?0:this.hierarchical.levels[o];this.direction.fix(l,h),t[h]===void 0&&(t[h]={}),t[h][o]=l}return t}},{key:"_getActiveEdges",value:function(t){var o=this,l=[];return forEach$1(t.edges,function(h){var y;indexOf(y=o.body.edgeIndices).call(y,h.id)!==-1&&l.push(h)}),l}},{key:"_getHubSizes",value:function(){var t=this,o={},l=this.body.nodeIndices;forEach$1(l,function(y){var O=t.body.nodes[y],D=t._getActiveEdges(O).length;o[D]=!0});var h=[];return forEach$1(o,function(y){h.push(Number(y))}),sort(timsort).call(timsort,h,function(y,O){return O-y}),h}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,o=function(R,F){t.hierarchical.levelDownstream(R,F)},l=this._getHubSizes(),h=function(R){var F=l[R];if(F===0)return"break";forEach$1(t.body.nodeIndices,function(B){var j=t.body.nodes[B];F===t._getActiveEdges(j).length&&t._crawlNetwork(o,B)})},y=0;y<l.length;++y){var O=h(y);if(O==="break")break}}},{key:"_determineLevelsCustomCallback",value:function(){var t=this,o=1e5,l=function(O,D,R){},h=function(O,D,R){var F=t.hierarchical.levels[O.id];F===void 0&&(F=t.hierarchical.levels[O.id]=o);var B=l(NetworkUtil.cloneOptions(O,"node"),NetworkUtil.cloneOptions(D,"node"),NetworkUtil.cloneOptions(R,"edge"));t.hierarchical.levels[D.id]=F+B};this._crawlNetwork(h),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,o=this,l=reduce(t=this.body.nodeIndices).call(t,function(h,y){return h.set(y,o.body.nodes[y]),h},new map);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=fillLevelsByDirectionRoots(l):this.hierarchical.levels=fillLevelsByDirectionLeaves(l),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this,o=function(h,y){t.hierarchical.levels[y.id]>t.hierarchical.levels[h.id]&&t.hierarchical.addRelation(h.id,y.id)};this._crawlNetwork(o),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},l=arguments.length>1?arguments[1]:void 0,h={},y=function j(U,W){if(h[U.id]===void 0){t.hierarchical.setTreeIndex(U,W),h[U.id]=!0;for(var G,q=t._getActiveEdges(U),K=0;K<q.length;K++){var Y=q[K];Y.connected===!0&&(Y.toId==U.id?G=Y.from:G=Y.to,U.id!=G.id&&(o(U,G,Y),j(G,W)))}}};if(l===void 0)for(var O=0,D=0;D<this.body.nodeIndices.length;D++){var R=this.body.nodeIndices[D];if(h[R]===void 0){var F=this.body.nodes[R];y(F,O),O+=1}}else{var B=this.body.nodes[l];if(B===void 0){console.error("Node not found:",l);return}y(B)}}},{key:"_shiftBlock",value:function(t,o){var l=this,h={},y=function O(D){if(!h[D]){h[D]=!0,l.direction.shift(D,o);var R=l.hierarchical.childrenReference[D];if(R!==void 0)for(var F=0;F<R.length;F++)O(R[F])}};y(t)}},{key:"_findCommonParent",value:function(t,o){var l=this,h={},y=function D(R,F){var B=l.hierarchical.parentReference[F];if(B!==void 0)for(var j=0;j<B.length;j++){var U=B[j];R[U]=!0,D(R,U)}},O=function D(R,F){var B=l.hierarchical.parentReference[F];if(B!==void 0)for(var j=0;j<B.length;j++){var U=B[j];if(R[U]!==void 0)return{foundParent:U,withChild:F};var W=D(R,U);if(W.foundParent!==null)return W}return{foundParent:null,withChild:F}};return y(h,t),O(h,o)}},{key:"setDirectionStrategy",value:function(){var t=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";t?this.direction=new VerticalStrategy(this):this.direction=new HorizontalStrategy(this)}},{key:"_getCenterPosition",value:function(t){for(var o=1e9,l=-1e9,h=0;h<t.length;h++){var y=void 0;if(t[h].id!==void 0)y=t[h];else{var O=t[h];y=this.body.nodes[O]}var D=this.direction.getPosition(y);o=Math.min(o,D),l=Math.max(l,D)}return .5*(o+l)}}]),r}();function _createForOfIteratorHelper(r,e){var t=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!t){if(isArray$1(r)||(t=_unsupportedIterableToArray(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){t=t.call(r)},n:function(){var R=t.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray(r,e){var t;if(!!r){if(typeof r=="string")return _arrayLikeToArray(r,e);var o=slice(t=Object.prototype.toString.call(r)).call(t,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(r,e)}}function _arrayLikeToArray(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=r[t];return o}var ManipulationSystem=function(){function r(e,t,o,l){var h=this,y,O;_classCallCheck(this,r),this.body=e,this.canvas=t,this.selectionHandler=o,this.interactionHandler=l,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},assign$2(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){h._clean()}),this.body.emitter.on("_dataChanged",bind$5(y=this._restore).call(y,this)),this.body.emitter.on("_resetData",bind$5(O=this._restore).call(O,this))}return _createClass(r,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,o,l){o!==void 0&&(o.locale!==void 0?this.options.locale=o.locale:this.options.locale=l.locale,o.locales!==void 0?this.options.locales=o.locales:this.options.locales=l.locales),t!==void 0&&(typeof t=="boolean"?this.options.enabled=t:(this.options.enabled=!0,deepExtend(this.options,t)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var t,o;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var l=this.selectionHandler.getSelectedNodeCount(),h=this.selectionHandler.getSelectedEdgeCount(),y=l+h,O=this.options.locales[this.options.locale],D=!1;this.options.addNode!==!1&&(this._createAddNodeButton(O),D=!0),this.options.addEdge!==!1&&(D===!0?this._createSeperator(1):D=!0,this._createAddEdgeButton(O)),l===1&&typeof this.options.editNode=="function"?(D===!0?this._createSeperator(2):D=!0,this._createEditNodeButton(O)):h===1&&l===0&&this.options.editEdge!==!1&&(D===!0?this._createSeperator(3):D=!0,this._createEditEdgeButton(O)),y!==0&&(l>0&&this.options.deleteNode!==!1?(D===!0&&this._createSeperator(4),this._createDeleteButton(O)):l===0&&this.options.deleteEdge!==!1&&(D===!0&&this._createSeperator(4),this._createDeleteButton(O))),this._bindElementEvents(this.closeDiv,bind$5(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",bind$5(o=this.showManipulatorToolbar).call(o,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var o,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,bind$5(o=this.toggleEditMode).call(o,this))}this._temporaryBindEvent("click",bind$5(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var o=this.selectionHandler.getSelectedNodes()[0];if(o!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(o.isCluster!==!0){var l=deepExtend({},o.options,!1);if(l.x=o.x,l.y=o.y,this.options.editNode.length===2)this.options.editNode(l,function(h){h!=null&&t.inMode==="editNode"&&t.body.data.nodes.getDataSet().update(h),t.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,o,l,h,y;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var O,D=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(D),this._createSeperator(),this._createDescription(D.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,bind$5(O=this.toggleEditMode).call(O,this))}this._temporaryBindUI("onTouch",bind$5(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",bind$5(o=this._finishConnect).call(o,this)),this._temporaryBindUI("onDrag",bind$5(l=this._dragControlNode).call(l,this)),this._temporaryBindUI("onRelease",bind$5(h=this._finishConnect).call(h,this)),this._temporaryBindUI("onDragStart",bind$5(y=this._dragStartEdge).call(y,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",_typeof(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var t=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(t.from.id,t.to.id);return}if(this.guiEnabled===!0){var o,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,bind$5(o=this.toggleEditMode).call(o,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var h,y,O,D,R=this.body.edges[this.edgeBeingEditedId],F=this._getNewTargetNode(R.from.x,R.from.y),B=this._getNewTargetNode(R.to.x,R.to.y);this.temporaryIds.nodes.push(F.id),this.temporaryIds.nodes.push(B.id),this.body.nodes[F.id]=F,this.body.nodeIndices.push(F.id),this.body.nodes[B.id]=B,this.body.nodeIndices.push(B.id),this._temporaryBindUI("onTouch",bind$5(h=this._controlNodeTouch).call(h,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",bind$5(y=this._controlNodeDragStart).call(y,this)),this._temporaryBindUI("onDrag",bind$5(O=this._controlNodeDrag).call(O,this)),this._temporaryBindUI("onDragEnd",bind$5(D=this._controlNodeDragEnd).call(D,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(j){var U=R.edgeType.findBorderPositions(j);F.selected===!1&&(F.x=U.from.x,F.y=U.from.y),B.selected===!1&&(B.x=U.to.x,B.y=U.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var o=this.selectionHandler.getSelectedNodeIds(),l=this.selectionHandler.getSelectedEdgeIds(),h=void 0;if(o.length>0){for(var y=0;y<o.length;y++)if(this.body.nodes[o[y]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(h=this.options.deleteNode)}else l.length>0&&typeof this.options.deleteEdge=="function"&&(h=this.options.deleteEdge);if(typeof h=="function"){var O={nodes:o,edges:l};if(h.length===2)h(O,function(D){D!=null&&t.inMode==="delete"?(t.body.data.edges.getDataSet().remove(D.edges),t.body.data.nodes.getDataSet().remove(D.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(l),this.body.data.nodes.getDataSet().remove(o),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var t,o;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(t=(o=this.options.locales[this.options.locale])===null||o===void 0?void 0:o.close)!==null&&t!==void 0?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(t,o){var l=deepExtend({},this.options.controlNodeStyle);l.id="targetNode"+v4(),l.hidden=!1,l.physics=!1,l.x=t,l.y=o;var h=this.body.functions.createNode(l);return h.shape.boundingBox={left:t,right:t,top:o,bottom:o},h}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},recursiveDOMDelete(this.editModeDiv);var o=this.options.locales[this.options.locale],l=this._createButton("editMode","vis-edit vis-edit-mode",o.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(l),this._bindElementEvents(l,bind$5(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(recursiveDOMDelete(this.editModeDiv),recursiveDOMDelete(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,o=_createForOfIteratorHelper(splice$1(t=this._domEventListenerCleanupQueue).call(t,0)),l;try{for(o.s();!(l=o.n()).done;){var h=l.value;h()}}catch(y){o.e(y)}finally{o.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),recursiveDOMDelete(this.manipulationDiv),recursiveDOMDelete(this.editModeDiv),recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var o,l=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.addNodeMode).call(o,this))}},{key:"_createAddEdgeButton",value:function(t){var o,l=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.addEdgeMode).call(o,this))}},{key:"_createEditNodeButton",value:function(t){var o,l=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.editNode).call(o,this))}},{key:"_createEditEdgeButton",value:function(t){var o,l=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.editEdgeMode).call(o,this))}},{key:"_createDeleteButton",value:function(t){var o,l;this.options.rtl?l="vis-delete-rtl":l="vis-delete";var h=this._createButton("delete",l,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(h),this._bindElementEvents(h,bind$5(o=this.deleteSelected).call(o,this))}},{key:"_createBackButton",value:function(t){var o,l=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.showManipulatorToolbar).call(o,this))}},{key:"_createButton",value:function(t,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+o,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=h,this.manipulationDOM[t+"Label"].innerText=l,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,o){this.temporaryEventFunctions.push({event:t,boundFunction:o}),this.body.emitter.on(t,o)}},{key:"_temporaryBindUI",value:function(t,o){if(this.body.eventListeners[t]!==void 0)this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=o;else throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+stringify$1(keys(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var o=this.temporaryEventFunctions[t].event,l=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(o,l)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,o){var l=new Hammer(t,{});onTouch(l,o),this._domEventListenerCleanupQueue.push(function(){l.destroy()});var h=function(O){var D=O.keyCode,R=O.key;(R==="Enter"||R===" "||D===13||D===32)&&o()};t.addEventListener("keyup",h,!1),this._domEventListenerCleanupQueue.push(function(){t.removeEventListener("keyup",h,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var o;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var l=indexOf(o=this.body.edgeIndices).call(o,this.temporaryIds.edges[t]);if(l!==-1){var h;splice$1(h=this.body.edgeIndices).call(h,l,1)}}for(var y=0;y<this.temporaryIds.nodes.length;y++){var O;delete this.body.nodes[this.temporaryIds.nodes[y]];var D=indexOf(O=this.body.nodeIndices).call(O,this.temporaryIds.nodes[y]);if(D!==-1){var R;splice$1(R=this.body.nodeIndices).call(R,D,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=assign$2({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,o=this.selectionHandler._pointerToPositionObject(t),l=this.body.nodes[this.temporaryIds.nodes[0]],h=this.body.nodes[this.temporaryIds.nodes[1]],y=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var O=l.isOverlappingWith(o),D=h.isOverlappingWith(o);O===!0?(this.selectedControlNode=l,y.edgeType.from=l):D===!0&&(this.selectedControlNode=h,y.edgeType.to=h),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var o=this.body.functions.getPointer(t.center),l=this.canvas.DOMtoCanvas(o);this.selectedControlNode!==void 0?(this.selectedControlNode.x=l.x,this.selectedControlNode.y=l.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var o=this.body.functions.getPointer(t.center),l=this.selectionHandler._pointerToPositionObject(o),h=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var y=this.selectionHandler._getAllNodesOverlappingWith(l),O=void 0,D=y.length-1;D>=0;D--)if(y[D]!==this.selectedControlNode.id){O=this.body.nodes[y[D]];break}if(O!==void 0&&this.selectedControlNode!==void 0)if(O.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var R=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===R.id?this._performEditEdge(O.id,h.to.id):this._performEditEdge(h.from.id,O.id)}else h.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=assign$2({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var o=this.lastTouch,l=this.selectionHandler.getNodeAt(o);if(l!==void 0)if(l.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var h=this._getNewTargetNode(l.x,l.y);this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id);var y=this.body.functions.createEdge({id:"connectionEdge"+v4(),from:l.id,to:h.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[y.id]=y,this.body.edgeIndices.push(y.id),this.temporaryIds.nodes.push(h.id),this.temporaryIds.edges.push(y.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(t){var o=this.body.functions.getPointer(t.center),l=this.selectionHandler._pointerToPositionObject(o),h=void 0;this.temporaryIds.edges[0]!==void 0&&(h=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var y=this.selectionHandler._getAllNodesOverlappingWith(l),O=void 0,D=y.length-1;D>=0;D--){var R;if(indexOf(R=this.temporaryIds.nodes).call(R,y[D])===-1){O=this.body.nodes[y[D]];break}}if(t.controlEdge={from:h,to:O?O.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,o),this.temporaryIds.nodes[0]!==void 0){var F=this.body.nodes[this.temporaryIds.nodes[0]];F.x=this.canvas._XconvertDOMtoCanvas(o.x),F.y=this.canvas._YconvertDOMtoCanvas(o.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var o=this.body.functions.getPointer(t.center),l=this.selectionHandler._pointerToPositionObject(o),h=void 0;this.temporaryIds.edges[0]!==void 0&&(h=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var y=this.selectionHandler._getAllNodesOverlappingWith(l),O=void 0,D=y.length-1;D>=0;D--){var R;if(indexOf(R=this.temporaryIds.nodes).call(R,y[D])===-1){O=this.body.nodes[y[D]];break}}this._cleanupTemporaryNodesAndEdges(),O!==void 0&&(O.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[h]!==void 0&&this.body.nodes[O.id]!==void 0&&this._performAddEdge(h,O.id)),t.controlEdge={from:h,to:O?O.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,o),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var o=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,o,void 0,!0)}},{key:"_performAddNode",value:function(t){var o=this,l={id:v4(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(l,function(h){h!=null&&o.inMode==="addNode"&&o.body.data.nodes.getDataSet().add(h),o.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(l),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,o){var l=this,h={from:t,to:o};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(h,function(y){y!=null&&l.inMode==="addEdge"&&(l.body.data.edges.getDataSet().add(y),l.selectionHandler.unselectAll(),l.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(h),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,o){var l=this,h={id:this.edgeBeingEditedId,from:t,to:o,label:this.body.data.edges.get(this.edgeBeingEditedId).label},y=this.options.editEdge;if(_typeof(y)==="object"&&(y=y.editWithoutDrag),typeof y=="function")if(y.length===2)y(h,function(O){O==null||l.inMode!=="editEdge"?(l.body.edges[h.id].updateEdgeType(),l.body.emitter.emit("_redraw"),l.showManipulatorToolbar()):(l.body.data.edges.getDataSet().update(O),l.selectionHandler.unselectAll(),l.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(h),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),r}(),string="string",bool="boolean",number="number",array="array",object="object",dom="dom",any="any",endPoints=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],nodeOptions={borderWidth:{number},borderWidthSelected:{number,undefined:"undefined"},brokenImage:{string,undefined:"undefined"},chosen:{label:{boolean:bool,function:"function"},node:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{border:{string},background:{string},highlight:{border:{string},background:{string},__type__:{object,string}},hover:{border:{string},background:{string},__type__:{object,string}},__type__:{object,string}},opacity:{number,undefined:"undefined"},fixed:{x:{boolean:bool},y:{boolean:bool},__type__:{object,boolean:bool}},font:{align:{string},color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},group:{string,number,undefined:"undefined"},heightConstraint:{minimum:{number},valign:{string},__type__:{object,boolean:bool,number}},hidden:{boolean:bool},icon:{face:{string},code:{string},size:{number},color:{string},weight:{string,number},__type__:{object}},id:{string,number},image:{selected:{string,undefined:"undefined"},unselected:{string,undefined:"undefined"},__type__:{object,string}},imagePadding:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},level:{number,undefined:"undefined"},margin:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},mass:{number},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:bool,array},borderRadius:{number},interpolation:{boolean:bool},useImageSize:{boolean:bool},useBorderWithImage:{boolean:bool},coordinateOrigin:{string:["center","top-left"]},__type__:{object}},size:{number},title:{string,dom,undefined:"undefined"},value:{number,undefined:"undefined"},widthConstraint:{minimum:{number},maximum:{number},__type__:{object,boolean:bool,number}},x:{number},y:{number},__type__:{object}},allOptions={configure:{enabled:{boolean:bool},filter:{boolean:bool,string,array,function:"function"},container:{dom},showButton:{boolean:bool},__type__:{object,boolean:bool,string,array,function:"function"}},edges:{arrows:{to:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageHeight:{number},imageWidth:{number},src:{string},__type__:{object,boolean:bool}},middle:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},from:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},__type__:{string:["from","to","middle"],object}},endPointOffset:{from:{number},to:{number},__type__:{object,number}},arrowStrikethrough:{boolean:bool},background:{enabled:{boolean:bool},color:{string},size:{number},dashes:{boolean:bool,array},__type__:{object,boolean:bool}},chosen:{label:{boolean:bool,function:"function"},edge:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{color:{string},highlight:{string},hover:{string},inherit:{string:["from","to","both"],boolean:bool},opacity:{number},__type__:{object,string}},dashes:{boolean:bool,array},font:{color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},hidden:{boolean:bool},hoverWidth:{function:"function",number},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},length:{number,undefined:"undefined"},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},selectionWidth:{function:"function",number},selfReferenceSize:{number},selfReference:{size:{number},angle:{number},renderBehindTheNode:{boolean:bool},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},smooth:{enabled:{boolean:bool},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number},forceDirection:{string:["horizontal","vertical","none"],boolean:bool},__type__:{object,boolean:bool}},title:{string,undefined:"undefined"},width:{number},widthConstraint:{maximum:{number},__type__:{object,boolean:bool,number}},value:{number,undefined:"undefined"},__type__:{object}},groups:{useDefaultGroups:{boolean:bool},__any__:nodeOptions,__type__:{object}},interaction:{dragNodes:{boolean:bool},dragView:{boolean:bool},hideEdgesOnDrag:{boolean:bool},hideEdgesOnZoom:{boolean:bool},hideNodesOnDrag:{boolean:bool},hover:{boolean:bool},keyboard:{enabled:{boolean:bool},speed:{x:{number},y:{number},zoom:{number},__type__:{object}},bindToWindow:{boolean:bool},autoFocus:{boolean:bool},__type__:{object,boolean:bool}},multiselect:{boolean:bool},navigationButtons:{boolean:bool},selectable:{boolean:bool},selectConnectedEdges:{boolean:bool},hoverConnectedEdges:{boolean:bool},tooltipDelay:{number},zoomView:{boolean:bool},zoomSpeed:{number},__type__:{object}},layout:{randomSeed:{undefined:"undefined",number,string},improvedLayout:{boolean:bool},clusterThreshold:{number},hierarchical:{enabled:{boolean:bool},levelSeparation:{number},nodeSpacing:{number},treeSpacing:{number},blockShifting:{boolean:bool},edgeMinimization:{boolean:bool},parentCentralization:{boolean:bool},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object,boolean:bool}},__type__:{object}},manipulation:{enabled:{boolean:bool},initiallyActive:{boolean:bool},addNode:{boolean:bool,function:"function"},addEdge:{boolean:bool,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object,boolean:bool,function:"function"}},deleteNode:{boolean:bool,function:"function"},deleteEdge:{boolean:bool,function:"function"},controlNodeStyle:nodeOptions,__type__:{object,boolean:bool}},nodes:nodeOptions,physics:{enabled:{boolean:bool},barnesHut:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},forceAtlas2Based:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},repulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},__type__:{object}},hierarchicalRepulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},avoidOverlap:{number},__type__:{object}},maxVelocity:{number},minVelocity:{number},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:bool},iterations:{number},updateInterval:{number},onlyDynamicEdges:{boolean:bool},fit:{boolean:bool},__type__:{object,boolean:bool}},timestep:{number},adaptiveTimestep:{boolean:bool},wind:{x:{number},y:{number},__type__:{object}},__type__:{object,boolean:bool}},autoResize:{boolean:bool},clickToUse:{boolean:bool},locale:{string},locales:{__any__:{any},__type__:{object}},height:{string},width:{string},__type__:{object}},configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},configuratorHideOption=function r(e,t,o){var l;return!!(includes(e).call(e,"physics")&&includes(l=configureOptions.physics.solver).call(l,t)&&o.physics.solver!==t&&t!=="wind")},FloydWarshall=function(){function r(){_classCallCheck(this,r)}return _createClass(r,[{key:"getDistances",value:function(t,o,l){for(var h={},y=t.edges,O=0;O<o.length;O++){var D=o[O],R={};h[D]=R;for(var F=0;F<o.length;F++)R[o[F]]=O==F?0:1e9}for(var B=0;B<l.length;B++){var j=y[l[B]];j.connected===!0&&h[j.fromId]!==void 0&&h[j.toId]!==void 0&&(h[j.fromId][j.toId]=1,h[j.toId][j.fromId]=1)}for(var U=o.length,W=0;W<U;W++)for(var G=o[W],q=h[G],K=0;K<U-1;K++)for(var Y=o[K],X=h[Y],J=K+1;J<U;J++){var Q=o[J],Z=h[Q],ee=Math.min(X[Q],X[G]+q[Q]);X[Q]=ee,Z[Y]=ee}return h}}]),r}(),KamadaKawai=function(){function r(e,t,o){_classCallCheck(this,r),this.body=e,this.springLength=t,this.springConstant=o,this.distanceSolver=new FloydWarshall}return _createClass(r,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=this.distanceSolver.getDistances(this.body,t,o);this._createL_matrix(h),this._createK_matrix(h),this._createE_matrix();for(var y=.01,O=1,D=0,R=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),F=5,B=1e9,j=0,U=0,W=0,G=0,q=0;B>y&&D<R;){D+=1;var K=this._getHighestEnergyNode(l),Y=_slicedToArray(K,4);for(j=Y[0],B=Y[1],U=Y[2],W=Y[3],G=B,q=0;G>O&&q<F;){q+=1,this._moveNode(j,U,W);var X=this._getEnergy(j),J=_slicedToArray(X,3);G=J[0],U=J[1],W=J[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var o=this.body.nodeIndices,l=this.body.nodes,h=0,y=o[0],O=0,D=0,R=0;R<o.length;R++){var F=o[R];if(l[F].predefinedPosition!==!0||l[F].isCluster===!0&&t===!0||l[F].options.fixed.x!==!0||l[F].options.fixed.y!==!0){var B=this._getEnergy(F),j=_slicedToArray(B,3),U=j[0],W=j[1],G=j[2];h<U&&(h=U,y=F,O=W,D=G)}}return[y,h,O,D]}},{key:"_getEnergy",value:function(t){var o=_slicedToArray(this.E_sums[t],2),l=o[0],h=o[1],y=Math.sqrt(Math.pow(l,2)+Math.pow(h,2));return[y,l,h]}},{key:"_moveNode",value:function(t,o,l){for(var h=this.body.nodeIndices,y=this.body.nodes,O=0,D=0,R=0,F=y[t].x,B=y[t].y,j=this.K_matrix[t],U=this.L_matrix[t],W=0;W<h.length;W++){var G=h[W];if(G!==t){var q=y[G].x,K=y[G].y,Y=j[G],X=U[G],J=1/Math.pow(Math.pow(F-q,2)+Math.pow(B-K,2),1.5);O+=Y*(1-X*Math.pow(B-K,2)*J),D+=Y*(X*(F-q)*(B-K)*J),R+=Y*(1-X*Math.pow(F-q,2)*J)}}var Q=O,Z=D,ee=o,te=R,re=l,ie=(ee/Q+re/Z)/(Z/Q-te/Z),ne=-(Z*ie+ee)/Q;y[t].x+=ne,y[t].y+=ie,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var o=this.body.nodeIndices,l=this.springLength;this.L_matrix=[];for(var h=0;h<o.length;h++){this.L_matrix[o[h]]={};for(var y=0;y<o.length;y++)this.L_matrix[o[h]][o[y]]=l*t[o[h]][o[y]]}}},{key:"_createK_matrix",value:function(t){var o=this.body.nodeIndices,l=this.springConstant;this.K_matrix=[];for(var h=0;h<o.length;h++){this.K_matrix[o[h]]={};for(var y=0;y<o.length;y++)this.K_matrix[o[h]][o[y]]=l*Math.pow(t[o[h]][o[y]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,o=this.body.nodes;this.E_matrix={},this.E_sums={};for(var l=0;l<t.length;l++)this.E_matrix[t[l]]=[];for(var h=0;h<t.length;h++){for(var y=t[h],O=o[y].x,D=o[y].y,R=0,F=0,B=h;B<t.length;B++){var j=t[B];if(j!==y){var U=o[j].x,W=o[j].y,G=1/Math.sqrt(Math.pow(O-U,2)+Math.pow(D-W,2));this.E_matrix[y][B]=[this.K_matrix[y][j]*(O-U-this.L_matrix[y][j]*(O-U)*G),this.K_matrix[y][j]*(D-W-this.L_matrix[y][j]*(D-W)*G)],this.E_matrix[j][h]=this.E_matrix[y][B],R+=this.E_matrix[y][B][0],F+=this.E_matrix[y][B][1]}}this.E_sums[y]=[R,F]}}},{key:"_updateE_matrix",value:function(t){for(var o=this.body.nodeIndices,l=this.body.nodes,h=this.E_matrix[t],y=this.K_matrix[t],O=this.L_matrix[t],D=l[t].x,R=l[t].y,F=0,B=0,j=0;j<o.length;j++){var U=o[j];if(U!==t){var W=h[j],G=W[0],q=W[1],K=l[U].x,Y=l[U].y,X=1/Math.sqrt(Math.pow(D-K,2)+Math.pow(R-Y,2)),J=y[U]*(D-K-O[U]*(D-K)*X),Q=y[U]*(R-Y-O[U]*(R-Y)*X);h[j]=[J,Q],F+=J,B+=Q;var Z=this.E_sums[U];Z[0]+=J-G,Z[1]+=Q-q}}this.E_sums[t]=[F,B]}}]),r}();function Network(r,e,t){var o,l,h,y,O=this;if(!(this instanceof Network))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales,clickToUse:!1},assign$2(this.options,this.defaultOptions),this.body={container:r,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:bind$5(o=this.on).call(o,this),off:bind$5(l=this.off).call(l,this),emit:bind$5(h=this.emit).call(h,this),once:bind$5(y=this.once).call(y,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Images(function(){return O.body.emitter.emit("_requestRedraw")}),this.groups=new Groups,this.canvas=new Canvas(this.body),this.selectionHandler=new SelectionHandler(this.body,this.canvas),this.interactionHandler=new InteractionHandler(this.body,this.canvas,this.selectionHandler),this.view=new View(this.body,this.canvas),this.renderer=new CanvasRenderer(this.body,this.canvas),this.physics=new PhysicsEngine(this.body),this.layoutEngine=new LayoutEngine(this.body),this.clustering=new ClusterEngine(this.body),this.manipulation=new ManipulationSystem(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new NodesHandler(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new EdgesHandler(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new KamadaKawai(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}Emitter(Network.prototype);Network.prototype.setOptions=function(r){var e=this;if(r===null&&(r=void 0),r!==void 0){var t=Validator.validate(r,allOptions);t===!0&&console.error("%cErrors have been found in the supplied options object.",VALIDATOR_PRINT_STYLE);var o=["locale","locales","clickToUse"];if(selectiveDeepExtend(o,this.options,r),r.locale!==void 0&&(r.locale=normalizeLanguageCode(r.locales||this.options.locales,r.locale)),r=this.layoutEngine.setOptions(r.layout,r),this.canvas.setOptions(r),this.groups.setOptions(r.groups),this.nodesHandler.setOptions(r.nodes),this.edgesHandler.setOptions(r.edges),this.physics.setOptions(r.physics),this.manipulation.setOptions(r.manipulation,r,this.options),this.interactionHandler.setOptions(r.interaction),this.renderer.setOptions(r.interaction),this.selectionHandler.setOptions(r.interaction),r.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in r&&(this.configurator||(this.configurator=new Configurator(this,this.body.container,configureOptions,this.canvas.pixelRatio,configuratorHideOption)),this.configurator.setOptions(r.configure)),this.configurator&&this.configurator.options.enabled===!0){var l={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};deepExtend(l.nodes,this.nodesHandler.options),deepExtend(l.edges,this.edgesHandler.options),deepExtend(l.layout,this.layoutEngine.options),deepExtend(l.interaction,this.selectionHandler.options),deepExtend(l.interaction,this.renderer.options),deepExtend(l.interaction,this.interactionHandler.options),deepExtend(l.manipulation,this.manipulation.options),deepExtend(l.physics,this.physics.options),deepExtend(l.global,this.canvas.options),deepExtend(l.global,this.options),this.configurator.setModuleOptions(l)}r.clickToUse!==void 0?r.clickToUse===!0?this.activator===void 0&&(this.activator=new Activator(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};Network.prototype._updateVisibleIndices=function(){var r=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&!this.clustering._isClusteredNode(t)&&r[t].options.hidden===!1&&this.body.nodeIndices.push(r[t].id);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=e[o],h=r[l.fromId],y=r[l.toId],O=h!==void 0&&y!==void 0,D=!this.clustering._isClusteredEdge(o)&&l.options.hidden===!1&&O&&h.options.hidden===!1&&y.options.hidden===!1;D&&this.body.edgeIndices.push(l.id)}};Network.prototype.bindEventListeners=function(){var r=this;this.body.emitter.on("_dataChanged",function(){r.edgesHandler._updateState(),r.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){r.clustering._updateState(),r._updateVisibleIndices(),r._updateValueRange(r.body.nodes),r._updateValueRange(r.body.edges),r.body.emitter.emit("startSimulation"),r.body.emitter.emit("_requestRedraw")})};Network.prototype.setData=function(r){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),r&&r.dot&&(r.nodes||r.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(r&&r.options),r&&r.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=DOTToGraph(r.dot);this.setData(e);return}else if(r&&r.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var t=parseGephi(r.gephi);this.setData(t);return}else this.nodesHandler.setData(r&&r.nodes,!0),this.edgesHandler.setData(r&&r.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};Network.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var r in this.body.nodes)!Object.prototype.hasOwnProperty.call(this.body.nodes,r)||delete this.body.nodes[r];for(var e in this.body.edges)!Object.prototype.hasOwnProperty.call(this.body.edges,e)||delete this.body.edges[e];recursiveDOMDelete(this.body.container)};Network.prototype._updateValueRange=function(r){var e,t=void 0,o=void 0,l=0;for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){var h=r[e].getValue();h!==void 0&&(t=t===void 0?h:Math.min(h,t),o=o===void 0?h:Math.max(h,o),l+=h)}if(t!==void 0&&o!==void 0)for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&r[e].setValueRange(t,o,l)};Network.prototype.isActive=function(){return!this.activator||this.activator.active};Network.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Network.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Network.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Network.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Network.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Network.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Network.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Network.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Network.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Network.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Network.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Network.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Network.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Network.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Network.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Network.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Network.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Network.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Network.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Network.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Network.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Network.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Network.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Network.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Network.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Network.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Network.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Network.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Network.prototype.getConnectedNodes=function(r){return this.body.nodes[r]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};Network.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Network.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Network.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Network.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Network.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Network.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Network.prototype.getNodeAt=function(){var r=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Network.prototype.getEdgeAt=function(){var r=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Network.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Network.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Network.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};Network.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Network.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Network.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Network.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Network.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Network.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Network.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Network.prototype.getOptionsFromConfigurator=function(){var r={};return this.configurator&&(r=this.configurator.getOptions.apply(this.configurator)),r};var visNetwork="",editor_svelte_svelte_type_style_lang="";function create_if_block_5$2(r){let e,t,o,l,h;return{c(){e=element("div"),t=text("Enregistr\xE9 \xE0 "),o=text(r[5]),l=text(" \u2705"),set_style(e,"position","absolute"),set_style(e,"top","10px"),set_style(e,"right","20px"),set_style(e,"opacity",".5"),set_style(e,"width","fit-content")},m(y,O){insert(y,e,O),append(e,t),append(e,o),append(e,l)},p(y,O){O[0]&32&&set_data(o,y[5])},i(y){h||add_render_callback(()=>{h=create_in_transition(e,fly,{x:50}),h.start()})},o:noop$4,d(y){y&&detach(e)}}}function create_else_block_3(r){let e;return{c(){e=element("div"),e.innerHTML=`<div class="p-3 py-md-1 position-absolute" style="font-size:2rem;"><img src="assets/LOGO_JTV_ALT.svg" alt="logo jetevois" style="height:120px; opacity:.05"/></div> 
        <h2>Bienvenue dans le cr\xE9ateur de sondage de R\xE9tine \u{1F917}</h2> 
        <p class="mb-0 opacity-75" style="font-family:Lexend Deca">Cette interface vous permet de cr\xE9er votre premier questionnaire et pr\xE9visualiser vos modifications en direct.<br/>
          Inscrivez-vous gratuitement \xE0 R\xE9tine afin d\u2019enregistrer vos modifications et pr\xE9parer la diffusion de votre sondage !</p>`,attr(e,"class","mx-auto mb-2 mt-4 mt-md-0 px-md-4 text-start")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_4$4(r){let e,t,o;return{c(){e=element("input"),attr(e,"class","mx-auto svelte-jj7m0m"),attr(e,"type","text"),attr(e,"id","titreSond"),attr(e,"placeholder","Nom du projet"),attr(e,"maxlength","100")},m(l,h){insert(l,e,h),set_input_value(e,r[1].nom_proj),t||(o=[listen(e,"input",r[14]),listen(e,"change",r[12])],t=!0)},p(l,h){h[0]&2&&e.value!==l[1].nom_proj&&set_input_value(e,l[1].nom_proj)},d(l){l&&detach(e),t=!1,run_all(o)}}}function create_else_block_2(r){let e;return{c(){e=element("i"),attr(e,"class","bx bx-collapse")},m(t,o){insert(t,e,o)},d(t){t&&detach(e)}}}function create_if_block_3$4(r){let e;return{c(){e=element("i"),attr(e,"class","bx bx-expand")},m(t,o){insert(t,e,o)},d(t){t&&detach(e)}}}function create_else_block_1$3(r){let e;return{c(){e=element("div"),e.innerHTML='<div class="h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-jj7m0m" style="background-color: #dbd6e37d; border-radius: 10px; color: #3c3c3c; font-family: Lexend;">Connectez vous pour charger un mod\xE8le de notre base de donn\xE9es, et personnaliser votre sondage.</div>',attr(e,"class","col-12 col-md-8 py-2 pr-1 pl-0 hvr-float"),set_style(e,"height","100px")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_2$6(r){let e,t,o,l,h,y,O;return{c(){e=element("div"),t=element("div"),t.textContent="\u{1F4DA} Charger",o=space(),l=element("div"),h=element("div"),h.textContent="\u{1F3A8} Design",attr(t,"class","h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-jj7m0m"),set_style(t,"background-color","#dbd6e37d"),set_style(t,"border-radius","10px"),set_style(t,"color","#3c3c3c"),set_style(t,"font-family","Lexend"),attr(e,"class","col-12 col-md-4 py-2 pr-1 pl-0 hvr-float"),set_style(e,"height","100px"),attr(h,"class","h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-jj7m0m"),set_style(h,"background-color","#dbd6e37d"),set_style(h,"border-radius","10px"),set_style(h,"color","#3c3c3c"),set_style(h,"font-family","Lexend"),attr(l,"class","col-12 col-md-4 py-2 pr-1 pl-0 hvr-float"),set_style(l,"height","100px")},m(D,R){insert(D,e,R),append(e,t),insert(D,o,R),insert(D,l,R),append(l,h),y||(O=[listen(t,"click",r[15]),listen(h,"click",r[16])],y=!0)},p:noop$4,d(D){D&&detach(e),D&&detach(o),D&&detach(l),y=!1,run_all(O)}}}function create_else_block$6(r){let e,t,o;return{c(){e=element("div"),e.innerHTML='<h3 class="m-0" style="line-height: 0.6;">Inscription</h3>',attr(e,"class","h-100 d-flex align-items-center justify-content-center"),set_style(e,"background-color","#6219d8"),set_style(e,"border-radius","10px"),set_style(e,"color","white"),set_style(e,"cursor","pointer")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[18]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_if_block_1$7(r){let e,t,o;return{c(){e=element("div"),e.innerHTML=`<h3 class="m-0" style="line-height: 0.6;">Lancer<br/> 
              <span style="font-size: 0.9rem;">le sondage !</span></h3>`,attr(e,"class","h-100 d-flex align-items-center justify-content-center"),set_style(e,"background-color","#6219d8"),set_style(e,"border-radius","10px"),set_style(e,"color","white"),set_style(e,"cursor","pointer")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[17]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_catch_block$6(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block$6(r){let e,t,o,l,h;return t=new Chat({props:{chatContent:r[1]}}),{c(){e=element("div"),create_component(t.$$.fragment),attr(e,"class","w-100 h-100 d-flex align-items-center justify-content-center svelte-jj7m0m"),set_style(e,"border-radius","15px")},m(y,O){insert(y,e,O),mount_component(t,e,null),h=!0},p(y,O){const D={};O[0]&2&&(D.chatContent=y[1]),t.$set(D)},i(y){h||(transition_in(t.$$.fragment,y),add_render_callback(()=>{l&&l.end(1),o=create_in_transition(e,blur,{duration:1e3}),o.start()}),h=!0)},o(y){transition_out(t.$$.fragment,y),o&&o.invalidate(),l=create_out_transition(e,blur,{duration:1e3}),h=!1},d(y){y&&detach(e),destroy_component(t),y&&l&&l.end()}}}function create_pending_block$6(r){let e;return{c(){e=element("div"),attr(e,"class","svelte-jj7m0m")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_if_block$8(r){let e,t,o,l,h,y,O,D;const R=[r[7].props||{}];function F(U){r[20](U)}var B=r[7].component;function j(U){let W={};for(let G=0;G<R.length;G+=1)W=assign$8(W,R[G]);return U[1]!==void 0&&(W.sondageEnCreation=U[1]),{props:W}}return B&&(e=new B(j(r)),binding_callbacks.push(()=>bind$f(e,"sondageEnCreation",F))),{c(){e&&create_component(e.$$.fragment),o=space(),l=element("div"),attr(l,"class","backdrop svelte-jj7m0m")},m(U,W){e&&mount_component(e,U,W),insert(U,o,W),insert(U,l,W),y=!0,O||(D=listen(l,"click",r[21]),O=!0)},p(U,W){const G=W[0]&128?get_spread_update(R,[get_spread_object(U[7].props||{})]):{};if(!t&&W[0]&2&&(t=!0,G.sondageEnCreation=U[1],add_flush_callback(()=>t=!1)),B!==(B=U[7].component)){if(e){group_outros();const q=e;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}B?(e=new B(j(U)),binding_callbacks.push(()=>bind$f(e,"sondageEnCreation",F)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,o.parentNode,o)):e=null}else B&&e.$set(G)},i(U){y||(e&&transition_in(e.$$.fragment,U),add_render_callback(()=>{h||(h=create_bidirectional_transition(l,fade,{},!0)),h.run(1)}),y=!0)},o(U){e&&transition_out(e.$$.fragment,U),h||(h=create_bidirectional_transition(l,fade,{},!1)),h.run(0),y=!1},d(U){e&&destroy_component(e,U),U&&detach(o),U&&detach(l),U&&h&&h.end(),O=!1,D()}}}function create_default_slot$4(r){let e,t,o=r[7]&&create_if_block$8(r);return{c(){o&&o.c(),e=empty$2()},m(l,h){o&&o.m(l,h),insert(l,e,h),t=!0},p(l,h){l[7]?o?(o.p(l,h),h[0]&128&&transition_in(o,1)):(o=create_if_block$8(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){t||(transition_in(o),t=!0)},o(l){transition_out(o),t=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$f(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne,se,ce,ue,he,pe,oe,ae,le,me,ge,fe=r[5]!=""&&!r[2]&&create_if_block_5$2(r);function _e(Me,Ae){return Me[2]?create_else_block_3:create_if_block_4$4}let we=_e(r),ve=we(r);function Se(Me,Ae){return Me[4]?create_else_block_2:create_if_block_3$4}let $e=Se(r),be=$e(r);function ye(Me,Ae){return Me[2]?create_else_block_1$3:create_if_block_2$6}let Oe=ye(r),Te=Oe(r);function ke(Me,Ae){return Me[2]?create_else_block$6:create_if_block_1$7}let Ee=ke(r),Ie=Ee(r),xe={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$6,then:create_then_block$6,catch:create_catch_block$6,blocks:[,,,]};return handle_promise(se=r[9](r[3]),xe),ae=new Modals({props:{$$slots:{default:[create_default_slot$4]},$$scope:{ctx:r}}}),{c(){e=space(),t=element("div"),fe&&fe.c(),o=space(),l=element("div"),ve.c(),h=space(),y=element("div"),O=element("div"),D=element("div"),R=text("\u23F2\uFE0F Dur\xE9e estim\xE9e : "),F=text(r[6]),B=space(),j=element("div"),be.c(),U=space(),W=element("div"),G=text("aa"),K=space(),Y=element("hr"),X=space(),J=element("div"),Te.c(),Q=space(),Z=element("div"),Ie.c(),te=space(),re=element("div"),ie=element("div"),ne=element("div"),xe.block.c(),ue=space(),he=element("div"),pe=element("button"),pe.textContent="\u267B\uFE0F R\xE9initialiser",oe=space(),create_component(ae.$$.fragment),attr(l,"class","col-12 w-100 text-center py-3"),attr(D,"class","dureeEstim svelte-jj7m0m"),attr(j,"class","expandBtn hvr-bounce-in svelte-jj7m0m"),attr(W,"id","nodeGraph"),attr(W,"style",q=r[4]?"max-height:95vh; min-height:80vh;":""),attr(W,"class","svelte-jj7m0m"),attr(O,"class","cellZone w-100 pt-3 svelte-jj7m0m"),attr(Y,"class","w-75 mt-4 mx-auto"),attr(Z,"class","col-12 col-md-4 py-1 pl-1 pr-0 hvr-float"),set_style(Z,"height","100px"),attr(J,"class","row"),attr(y,"class",ee=r[4]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"),attr(ne,"class","gridForAnimation svelte-jj7m0m"),attr(ie,"class","iphone-x mx-auto my-4 svelte-jj7m0m"),attr(pe,"class","screenBtn px-4 py-2 svelte-jj7m0m"),attr(he,"class","mt-4 text-center"),attr(re,"id","creaUserView"),attr(re,"class","col-12 col-lg-4 p-3 text-center"),attr(t,"id","studio"),attr(t,"class","row p-1 svelte-jj7m0m")},m(Me,Ae){insert(Me,e,Ae),insert(Me,t,Ae),fe&&fe.m(t,null),append(t,o),append(t,l),ve.m(l,null),append(t,h),append(t,y),append(y,O),append(O,D),append(D,R),append(D,F),append(O,B),append(O,j),be.m(j,null),append(O,U),append(O,W),append(W,G),append(y,K),append(y,Y),append(y,X),append(y,J),Te.m(J,null),append(J,Q),append(J,Z),Ie.m(Z,null),append(t,te),append(t,re),append(re,ie),append(ie,ne),xe.block.m(ne,xe.anchor=null),xe.mount=()=>ne,xe.anchor=null,append(re,ue),append(re,he),append(he,pe),insert(Me,oe,Ae),mount_component(ae,Me,Ae),le=!0,me||(ge=[listen(j,"click",r[10]),listen(pe,"click",r[19])],me=!0)},p(Me,Ae){r=Me,r[5]!=""&&!r[2]?fe?(fe.p(r,Ae),Ae[0]&36&&transition_in(fe,1)):(fe=create_if_block_5$2(r),fe.c(),transition_in(fe,1),fe.m(t,o)):fe&&(fe.d(1),fe=null),we===(we=_e(r))&&ve?ve.p(r,Ae):(ve.d(1),ve=we(r),ve&&(ve.c(),ve.m(l,null))),(!le||Ae[0]&64)&&set_data(F,r[6]),$e!==($e=Se(r))&&(be.d(1),be=$e(r),be&&(be.c(),be.m(j,null))),(!le||Ae[0]&16&&q!==(q=r[4]?"max-height:95vh; min-height:80vh;":""))&&attr(W,"style",q),Oe===(Oe=ye(r))&&Te?Te.p(r,Ae):(Te.d(1),Te=Oe(r),Te&&(Te.c(),Te.m(J,Q))),Ee===(Ee=ke(r))&&Ie?Ie.p(r,Ae):(Ie.d(1),Ie=Ee(r),Ie&&(Ie.c(),Ie.m(Z,null))),(!le||Ae[0]&16&&ee!==(ee=r[4]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"))&&attr(y,"class",ee),xe.ctx=r,Ae[0]&8&&se!==(se=r[9](r[3]))&&handle_promise(se,xe)||update_await_block_branch(xe,r,Ae);const Re={};Ae[0]&130|Ae[1]&1&&(Re.$$scope={dirty:Ae,ctx:r}),ae.$set(Re)},i(Me){le||(transition_in(fe),transition_in(xe.block),ce||add_render_callback(()=>{ce=create_in_transition(ie,fly,{y:50,duration:600,delay:100}),ce.start()}),transition_in(ae.$$.fragment,Me),le=!0)},o(Me){for(let Ae=0;Ae<3;Ae+=1){const Re=xe.blocks[Ae];transition_out(Re)}transition_out(ae.$$.fragment,Me),le=!1},d(Me){Me&&detach(e),Me&&detach(t),fe&&fe.d(),ve.d(),be.d(),Te.d(),Ie.d(),xe.block.d(),xe.token=null,xe=null,Me&&detach(oe),destroy_component(ae,Me),me=!1,run_all(ge)}}}function instance$d(r,e,t){let o,l;component_subscribe(r,modals,oe=>t(13,l=oe));let{demoMode:h=!1}=e;function y(oe){activePageStore.set(oe)}const O=async oe=>{};let D=0,R=!1;function F(){R?t(4,R=!1):t(4,R=!0),setTimeout(()=>{ee.fit()},50)}let B=["#6219D8","#AD5C6C","#5260BC","#734AE4"],{idSondage:j=null}=e,{sondageEnCreation:U={v:2,nom_proj:"Brouillon",color:B[Math.floor(Math.random()*B.length)],logo:"",jsonContent:[{idr:"start",q:"Bienvenue dans ce sondage ! \u{1F917} ",suiv:[{idr:"end",cond:[]}],a:{type:"1c",a:["D\xE9marrer \u{1F680}"]}},{idr:"end",suiv:[],q:"Merci pour votre participation ! \u{1F389}",a:{type:"fin"}}]}}=e,W="";function G(){h==!0&&q!=JSON.stringify(U)&&localStorage.setItem("currentSondage",JSON.stringify(U)),q!=JSON.stringify(U)&&h==!1&&(j!=null?updateSave(U,j).then(oe=>{t(5,W=new Date().toLocaleString().split(" ")[1])}).catch(oe=>{alert(oe)}):firstSave(U).then(oe=>{t(0,j=oe),t(5,W=new Date().toLocaleString().split(" ")[1])}).catch(oe=>{alert(oe)}))}let q;localStorage.getItem("currentSondage")!=null&&(U=JSON.parse(localStorage.getItem("currentSondage")),h||(G(),localStorage.removeItem("currentSondage"))),q=JSON.stringify(U);let K;function Y(){let oe=U.jsonContent.length*8-10;oe>60?t(6,K=Math.floor(oe/60).toString()+" min, "+(oe%60).toString()+" sec"):t(6,K=oe.toString()+" secondes")}const X=()=>{te(),console.log(U.jsonContent),G(),Y(),t(3,D++,D),ee.fit()};var J=null;const Q=()=>{clearInterval(J),J=setInterval(function(){G(),clearInterval(J)},1e3)};onMount(()=>{X()});const Z=oe=>{let ae={id:oe.split(";")[0],sondageEnCreation:U,majTree:X};oe.split(";")[0]!="new"?ae.questionData=structuredClone(U.jsonContent.find(le=>le.idr==oe.split(";")[0])):ae.prevQPosition=U.jsonContent.findIndex(le=>le.idr==oe.split(";")[1]),openModal(ModalCellEdit,ae)};var ee;function te(){let oe=U.jsonContent.map(ve=>{let Se=U.jsonContent.findIndex(ye=>ye.idr==ve.idr),$e,be;switch(Se){case 0:$e={background:"#6219D8",border:"#6219D8"},be={color:"white"};break;case U.jsonContent.length-1:$e={background:"#2FCC72",border:"#2FCC72"},be={color:"white"};break;default:$e={background:"white",border:"#6219D8"},be={color:"#343434"}}return{id:ve.idr,label:ve.q,suiv:ve.suiv,type:ve.a.type,color:$e,font:be}}),ae=[];for(var le in oe){let ve=oe[le].id;for(var me in oe[le].suiv){let Se=oe[le].suiv[me].idr;if(Se!="end"){let $e=oe[le].suiv[me].cond.length>0?oe[le].suiv[me].cond[1]:"",be="";$e!=""&&["mc","1c"].includes(U.jsonContent.find(ye=>ye.idr==oe[le].suiv[me].cond[0]).a.type)?be=U.jsonContent.find(ye=>ye.idr==oe[le].suiv[me].cond[0]).a.a[oe[le].suiv[me].cond[2]]:$e!=""&&["num"].includes(U.jsonContent.find(ye=>ye.idr==oe[le].suiv[me].cond[0]).a.type)&&(be=oe[le].suiv[me].cond[2]),ae.push({from:ve,to:Se,id:`link;${ve};${Se}`,label:$e+be})}else{let $e="new;"+ve;oe.push({id:$e,label:U.jsonContent.filter(be=>be.suiv.some(ye=>ye.idr=="end")).length==1?"\u2795 Nouvelle question":"\u2795",color:{border:"grey",background:"white"},shapeProperties:{borderDashes:[5,5]},widthConstraint:{minimum:40}}),ae.push({from:ve,to:$e}),ae.push({from:$e,to:"end"})}}}var ge=new DataSet(oe),fe=new DataSet(ae),_e={nodes:ge,edges:fe},we={autoResize:!0,height:"100%",width:"100%",locale:"fr",interaction:{dragNodes:!0,navigationButtons:!1,hover:!0},physics:{enabled:!1,hierarchicalRepulsion:{avoidOverlap:.1}},layout:{hierarchical:{direction:"UD",sortMethod:"directed",levelSeparation:100,nodeSpacing:230}},edges:{width:2,arrows:{to:{enabled:!0,scaleFactor:.5}},font:{color:"grey"},smooth:{enabled:!0,type:"discrete"}},nodes:{shape:"box",shapeProperties:{borderRadius:20},borderWidth:1.5,margin:16,widthConstraint:{maximum:300,minimum:100}}};ee=new Network(document.getElementById("nodeGraph"),_e,we),ee.on("hoverNode",function(ve){ee.canvas.body.container.style.cursor="pointer"}),ee.on("click",function(ve){ve.nodes.length!=0&&(oe.find(Se=>Se.id==ve.nodes[0]),ve.nodes.length>0&&Z(ve.nodes[0]))}),ee.fit()}function re(){U.nom_proj=this.value,t(1,U)}const ie=()=>openModal(ModalTemplateLoad,{sondageEnCreation:U,updateFun:X}),ne=()=>openModal(ModalDesignSond,{sondageEnCreation:U,updateFun:X}),se=()=>{j!=null?validateSondage(U,j,y):alert("Veuillez d'abord enregistrer votre sondage en modifiant une question ou le titre.")},ce=()=>openModal(AuthModule,{}),ue=()=>{t(3,D++,D),console.log(U)};function he(oe){U=oe,t(1,U)}const pe=()=>{closeModal()};return r.$$set=oe=>{"demoMode"in oe&&t(2,h=oe.demoMode),"idSondage"in oe&&t(0,j=oe.idSondage),"sondageEnCreation"in oe&&t(1,U=oe.sondageEnCreation)},r.$$.update=()=>{r.$$.dirty[0]&8192&&t(7,o=l[l.length-1])},[j,U,h,D,R,W,K,o,y,O,F,X,Q,l,re,ie,ne,se,ce,ue,he,pe]}class Editor extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$f,safe_not_equal,{demoMode:2,idSondage:0,sondageEnCreation:1},null,[-1,-1])}}var templateCard_svelte_svelte_type_style_lang="";function create_fragment$e(r){let e,t,o,l,h,y,O,D=r[0].cible+"",R,F,B,j=r[0].duree+"",U,W,G,q=r[0].desc+"",K,Y,X,J,Q;return{c(){e=element("div"),t=element("div"),o=text(r[1]),l=space(),h=element("div"),y=element("ul"),O=element("li"),R=text(D),F=space(),B=element("li"),U=text(j),W=space(),G=element("li"),K=text(q),Y=space(),X=element("div"),X.textContent="Utiliser",attr(t,"class","header svelte-mmj6da"),attr(O,"class","svelte-mmj6da"),attr(B,"class","svelte-mmj6da"),attr(G,"class","svelte-mmj6da"),attr(y,"class","listDesc svelte-mmj6da"),attr(h,"class","body ml-3 my-2 svelte-mmj6da"),attr(X,"class","button hvr-grow svelte-mmj6da"),attr(e,"class","neuProjet text-center hvr-float svelte-mmj6da")},m(Z,ee){insert(Z,e,ee),append(e,t),append(t,o),append(e,l),append(e,h),append(h,y),append(y,O),append(O,R),append(y,F),append(y,B),append(B,U),append(y,W),append(y,G),append(G,K),append(e,Y),append(e,X),J||(Q=listen(X,"click",r[2]),J=!0)},p(Z,[ee]){ee&2&&set_data(o,Z[1]),ee&1&&D!==(D=Z[0].cible+"")&&set_data(R,D),ee&1&&j!==(j=Z[0].duree+"")&&set_data(U,j),ee&1&&q!==(q=Z[0].desc+"")&&set_data(K,q)},i:noop$4,o:noop$4,d(Z){Z&&detach(e),J=!1,Q()}}}function instance$c(r,e,t){let{loadSondage:o}=e,{nom_proj:l}=e,{category:h}=e,{id:y}=e,{description:O}=e;O=JSON.parse(O);async function D(){var F=new Headers;return F.append("Authorization","Token "+xxgc("rtnt")),F.append("Content-Type","application/json"),fetch(`${rtnUrl}templates/${y}/`,{method:"GET",headers:F,redirect:"follow"}).then(B=>B.text()).then(B=>JSON.parse(B)).catch(B=>B)}const R=async()=>{let F=await D();F.jsonContent=JSON.parse(F.jsonContent),o(F,null)};return r.$$set=F=>{"loadSondage"in F&&t(3,o=F.loadSondage),"nom_proj"in F&&t(1,l=F.nom_proj),"category"in F&&t(4,h=F.category),"id"in F&&t(5,y=F.id),"description"in F&&t(0,O=F.description)},[O,l,R,o,h,y]}class TemplateCard extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$e,safe_not_equal,{loadSondage:3,nom_proj:1,category:4,id:5,description:0})}}function get_each_context$3(r,e,t){const o=r.slice();return o[5]=e[t],o[7]=t,o}function get_each_context_1$2(r,e,t){const o=r.slice();return o[8]=e[t],o[10]=t,o}function create_catch_block$5(r){let e,t=r[11]+"",o;return{c(){e=element("div"),o=text(t)},m(l,h){insert(l,e,h),append(e,o)},p:noop$4,i:noop$4,o:noop$4,d(l){l&&detach(e)}}}function create_then_block$5(r){let e,t,o=[...new Set(r[4].map(func$2))],l=[];for(let y=0;y<o.length;y+=1)l[y]=create_each_block$3(get_each_context$3(r,o,y));const h=y=>transition_out(l[y],1,1,()=>{l[y]=null});return{c(){for(let y=0;y<l.length;y+=1)l[y].c();e=empty$2()},m(y,O){for(let D=0;D<l.length;D+=1)l[D].m(y,O);insert(y,e,O),t=!0},p(y,O){if(O&3){o=[...new Set(y[4].map(func$2))];let D;for(D=0;D<o.length;D+=1){const R=get_each_context$3(y,o,D);l[D]?(l[D].p(R,O),transition_in(l[D],1)):(l[D]=create_each_block$3(R),l[D].c(),transition_in(l[D],1),l[D].m(e.parentNode,e))}for(group_outros(),D=o.length;D<l.length;D+=1)h(D);check_outros()}},i(y){if(!t){for(let O=0;O<o.length;O+=1)transition_in(l[O]);t=!0}},o(y){l=l.filter(Boolean);for(let O=0;O<l.length;O+=1)transition_out(l[O]);t=!1},d(y){destroy_each(l,y),y&&detach(e)}}}function create_each_block_1$2(r){let e,t,o,l,h;const y=[r[8],{loadSondage:r[0]}];let O={};for(let D=0;D<y.length;D+=1)O=assign$8(O,y[D]);return t=new TemplateCard({props:O}),{c(){e=element("div"),create_component(t.$$.fragment),o=space(),attr(e,"class","col-12 col-sm-6 col-lg-4 mb-5")},m(D,R){insert(D,e,R),mount_component(t,e,null),append(e,o),h=!0},p(D,R){const F=R&3?get_spread_update(y,[R&2&&get_spread_object(D[8]),R&1&&{loadSondage:D[0]}]):{};t.$set(F)},i(D){h||(transition_in(t.$$.fragment,D),l||add_render_callback(()=>{l=create_in_transition(e,fly,{x:-20,delay:r[10]*200*r[7]}),l.start()}),h=!0)},o(D){transition_out(t.$$.fragment,D),h=!1},d(D){D&&detach(e),destroy_component(t)}}}function create_each_block$3(r){let e,t,o=r[5]+"",l,h,y,O;function D(...j){return r[2](r[5],...j)}let R=r[4].filter(D),F=[];for(let j=0;j<R.length;j+=1)F[j]=create_each_block_1$2(get_each_context_1$2(r,R,j));const B=j=>transition_out(F[j],1,1,()=>{F[j]=null});return{c(){e=element("div"),t=element("h2"),l=text(o),h=space();for(let j=0;j<F.length;j+=1)F[j].c();y=empty$2(),attr(e,"class","col-12 mb-4 border-bottom")},m(j,U){insert(j,e,U),append(e,t),append(t,l),insert(j,h,U);for(let W=0;W<F.length;W+=1)F[W].m(j,U);insert(j,y,U),O=!0},p(j,U){if(r=j,U&3){R=r[4].filter(D);let W;for(W=0;W<R.length;W+=1){const G=get_each_context_1$2(r,R,W);F[W]?(F[W].p(G,U),transition_in(F[W],1)):(F[W]=create_each_block_1$2(G),F[W].c(),transition_in(F[W],1),F[W].m(y.parentNode,y))}for(group_outros(),W=R.length;W<F.length;W+=1)B(W);check_outros()}},i(j){if(!O){for(let U=0;U<R.length;U+=1)transition_in(F[U]);O=!0}},o(j){F=F.filter(Boolean);for(let U=0;U<F.length;U+=1)transition_out(F[U]);O=!1},d(j){j&&detach(e),j&&detach(h),destroy_each(F,j),j&&detach(y)}}}function create_pending_block$5(r){let e;return{c(){e=element("div")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_fragment$d(r){let e,t,o,l,h,y,O,D,R,F={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$5,then:create_then_block$5,catch:create_catch_block$5,value:4,error:11,blocks:[,,,]};return handle_promise(r[1],F),{c(){e=element("div"),t=element("h1"),t.textContent="Galerie de mod\xE8les",o=space(),l=element("h6"),l.textContent=`R\xE9tine vous propose des mod\xE8les de sondages pr\xEAts \xE0 l'emploi (modifiables),\r
    bas\xE9s sur les meilleures pratiques \xE0 adopter afin de maximiser les taux de r\xE9ponse et obtenir des donn\xE9es qualitatives`,h=space(),y=element("div"),O=space(),D=element("div"),F.block.c(),attr(t,"class","py-2 mb-1 text-left"),attr(l,"class","ps-3 opacity-75"),attr(y,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),set_style(D,"min-height","100vh"),attr(e,"id","lesTemplates"),attr(e,"class","row p-3 w-100 mx-auto"),set_style(e,"max-width","1100px")},m(B,j){insert(B,e,j),append(e,t),append(e,o),append(e,l),append(e,h),append(e,y),append(e,O),append(e,D),F.block.m(D,F.anchor=null),F.mount=()=>D,F.anchor=null,R=!0},p(B,[j]){r=B,update_await_block_branch(F,r,j)},i(B){R||(transition_in(F.block),R=!0)},o(B){for(let j=0;j<3;j+=1){const U=F.blocks[j];transition_out(U)}R=!1},d(B){B&&detach(e),F.block.d(),F.token=null,F=null}}}const func$2=r=>r.category;function instance$b(r,e,t){let{loadSondage:o}=e;async function l(){var O=new Headers;O.append("Authorization","Token "+xxgc("rtnt")),O.append("Content-Type","application/json");var D={method:"GET",headers:O,redirect:"follow"};return fetch(rtnUrl+"templates/",D).then(R=>R.text()).then(R=>JSON.parse(R)).catch(R=>R)}let h=l();const y=(O,D)=>D.category==O;return r.$$set=O=>{"loadSondage"in O&&t(0,o=O.loadSondage)},[o,h,y]}class Templates extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$d,safe_not_equal,{loadSondage:0})}}var modalContactList_svelte_svelte_type_style_lang="";function create_if_block_1$6(r){let e,t;return{c(){e=element("div"),t=text(r[2]),attr(e,"class","w-100 text-center"),set_style(e,"color","red")},m(o,l){insert(o,e,l),append(e,t)},p(o,l){l&4&&set_data(t,o[2])},d(o){o&&detach(e)}}}function create_if_block$7(r){let e,t,o;return{c(){e=element("button"),e.textContent="Supprimer",attr(e,"class","svelte-w7tdsg")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[6]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_fragment$c(r){let e,t,o,l,h,y,O,D,R,F=r[3].split(`
`).length+"",B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te=r[2]!=""&&create_if_block_1$6(r),re=r[1]!="new"&&create_if_block$7(r);return{c(){e=element("div"),t=element("div"),o=element("h4"),l=element("input"),h=space(),y=element("div"),O=element("textarea"),D=space(),R=element("div"),B=text(F),j=text(" lignes"),U=space(),te&&te.c(),W=space(),G=element("div"),q=element("button"),q.textContent="Fermer",K=space(),re&&re.c(),Y=space(),X=element("button"),X.textContent="Sauvegarder",attr(l,"class","titleInput svelte-w7tdsg"),attr(l,"maxlength","30"),attr(l,"placeholder","Liste de contacts..."),attr(o,"class","mb-4 text-center"),attr(O,"id","emailZone"),attr(O,"class","textareartn svelte-w7tdsg"),attr(O,"rows","10"),attr(O,"placeholder","Copiez/collez vos adresses ici, on se charge du reste..."),set_style(R,"opacity",".6"),attr(y,"class","container p-2 text-center"),attr(q,"class","svelte-w7tdsg"),set_style(X,"background-color","#6219d8"),set_style(X,"color","white"),attr(X,"class","svelte-w7tdsg"),attr(G,"class","actions svelte-w7tdsg"),attr(t,"class","contents svelte-w7tdsg"),attr(e,"role","dialog"),attr(e,"class","modal svelte-w7tdsg")},m(ie,ne){insert(ie,e,ne),append(e,t),append(t,o),append(o,l),set_input_value(l,r[0]),append(t,h),append(t,y),append(y,O),set_input_value(O,r[3]),append(y,D),append(y,R),append(R,B),append(R,j),append(t,U),te&&te.m(t,null),append(t,W),append(t,G),append(G,q),append(G,K),re&&re.m(G,null),append(G,Y),append(G,X),Q=!0,Z||(ee=[listen(l,"input",r[11]),listen(O,"input",r[12]),listen(q,"click",closeModal),listen(X,"click",r[13]),listen(e,"introstart",r[9]),listen(e,"outroend",r[10])],Z=!0)},p(ie,[ne]){ne&1&&l.value!==ie[0]&&set_input_value(l,ie[0]),ne&8&&set_input_value(O,ie[3]),(!Q||ne&8)&&F!==(F=ie[3].split(`
`).length+"")&&set_data(B,F),ie[2]!=""?te?te.p(ie,ne):(te=create_if_block_1$6(ie),te.c(),te.m(t,W)):te&&(te.d(1),te=null),ie[1]!="new"?re?re.p(ie,ne):(re=create_if_block$7(ie),re.c(),re.m(G,Y)):re&&(re.d(1),re=null)},i(ie){Q||(add_render_callback(()=>{J||(J=create_bidirectional_transition(e,fly,{y:50},!0)),J.run(1)}),Q=!0)},o(ie){J||(J=create_bidirectional_transition(e,fly,{y:50},!1)),J.run(0),Q=!1},d(ie){ie&&detach(e),te&&te.d(),re&&re.d(),ie&&J&&J.end(),Z=!1,run_all(ee)}}}function extractEmails(r){return r.match(/([a-zA-Z0-9._+-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi).join(`
`)}function instance$a(r,e,t){let{id:o}=e,{nom:l}=e,{jsonContent:h}=e,{updateBack:y}=e;onMount(()=>{document.querySelector("#emailZone").addEventListener("paste",J=>{B()})});let O="";function D(X){t(2,O=X),setTimeout(()=>{t(2,O="")},3e3)}let R;o!="new"?R=JSON.parse(h).toString().replaceAll(",",`
`):R="";var F=null;const B=()=>{clearInterval(F),F=setInterval(function(){t(3,R=extractEmails(R)),clearInterval(F)},750)};function j(){let X=R.replaceAll(",","").replaceAll(";","").replaceAll(" ","").split(`
`).filter(function(ee){return ee!=""});if(X.length>100){D("Le nombre de contacts doit \xEAtre inf\xE9rieur \xE0 100 par liste.");return}else if(X.length==0){D("Aucun contact n'a \xE9t\xE9 saisi.");return}var J=new Headers;J.append("Authorization","Token "+xxgc("rtnt")),J.append("Content-Type","application/json");var Q={method:o!="new"?"PUT":"POST",headers:J,redirect:"follow",body:JSON.stringify({nom:l,jsonContent:JSON.stringify(X)})};let Z=o!="new"?`${rtnUrl}contactlist/${o}/`:`${rtnUrl}contactlist/`;return fetch(Z,Q).then(ee=>ee.text()).then(ee=>(y(),closeModal(),JSON.parse(ee))).catch(ee=>ee)}function U(){var X=new Headers;X.append("Authorization","Token "+xxgc("rtnt")),X.append("Content-Type","application/json");var J={method:"DELETE",headers:X,redirect:"follow"};let Q=`${rtnUrl}contactlist/${o}/`;return fetch(Q,J).then(Z=>Z.text()).then(Z=>(y(),closeModal(),JSON.parse(Z))).catch(Z=>Z)}function W(X){bubble.call(this,r,X)}function G(X){bubble.call(this,r,X)}function q(){l=this.value,t(0,l)}function K(){R=this.value,t(3,R)}const Y=()=>{l!=""&&R!=""?(t(3,R=extractEmails(R)),setTimeout(()=>{j()},500)):D("Veuillez saisir un titre et une liste de contacts.")};return r.$$set=X=>{"id"in X&&t(1,o=X.id),"nom"in X&&t(0,l=X.nom),"jsonContent"in X&&t(7,h=X.jsonContent),"updateBack"in X&&t(8,y=X.updateBack)},[l,o,O,R,D,j,U,h,y,W,G,q,K,Y]}class ModalContactList extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$c,safe_not_equal,{id:1,nom:0,jsonContent:7,updateBack:8})}}var modalCampagneFollow_svelte_svelte_type_style_lang="";function get_each_context$2(r,e,t){const o=r.slice();return o[16]=e[t],o[18]=t,o}function create_else_block_1$2(r){let e;return{c(){e=element("div")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_4$3(r){let e,t,o;return{c(){e=element("button"),e.textContent="Relance g\xE9n\xE9rale",attr(e,"class","btnRelance border-0 px-2 hvr-grow svelte-or0i6a"),set_style(e,"background-color","#EEECFE")},m(l,h){insert(l,e,h),t||(o=listen(e,"click",r[11]),t=!0)},p:noop$4,d(l){l&&detach(e),t=!1,o()}}}function create_else_block$5(r){let e;return{c(){e=element("div"),e.textContent="Relanc\xE9",set_style(e,"font-size",".9rem"),set_style(e,"opacity",".6"),set_style(e,"padding","5px")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_3$3(r){let e,t,o;function l(...h){return r[12](r[16],...h)}return{c(){e=element("div"),e.textContent="Relancer",attr(e,"class","btnRelance hvr-grow svelte-or0i6a")},m(h,y){insert(h,e,y),t||(o=listen(e,"click",l),t=!0)},p(h,y){r=h},d(h){h&&detach(e),t=!1,o()}}}function create_if_block_2$5(r){let e;return{c(){e=element("div"),e.textContent="Relanc\xE9",set_style(e,"font-size",".9rem"),set_style(e,"opacity",".6"),set_style(e,"padding","5px")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_1$5(r){let e;return{c(){e=element("div"),e.textContent="\u2705"},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_each_block$2(r,e){let t,o,l=e[16]+"",h,y,O,D,R,F,B,j;function U(q,K){return K&6&&(D=null),K&12&&(R=null),K&20&&(F=null),D==null&&(D=!!q[1].includes(q[16])),D?create_if_block_1$5:(R==null&&(R=!!q[3].includes(q[16])),R?create_if_block_2$5:(F==null&&(F=!!q[4].includes(q[16])),F?create_if_block_3$3:create_else_block$5))}let W=U(e,-1),G=W(e);return{key:r,first:null,c(){t=element("tr"),o=element("td"),h=text(l),y=space(),O=element("td"),G.c(),B=space(),set_style(o,"text-align","left",1),this.first=t},m(q,K){insert(q,t,K),append(t,o),append(o,h),append(t,y),append(t,O),G.m(O,null),append(O,B)},p(q,K){e=q,K&4&&l!==(l=e[16]+"")&&set_data(h,l),W===(W=U(e,K))&&G?G.p(e,K):(G.d(1),G=W(e),G&&(G.c(),G.m(O,B)))},i(q){j||add_render_callback(()=>{j=create_in_transition(t,fly,{x:-20,delay:e[18]*60}),j.start()})},o:noop$4,d(q){q&&detach(t),G.d()}}}function create_if_block$6(r){let e,t,o,l,h;return{c(){e=element("div"),t=text(r[5])},m(y,O){insert(y,e,O),append(e,t),h=!0},p(y,O){(!h||O&32)&&set_data(t,y[5])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(e,fade,{duration:200}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(e,fade,{duration:600}),h=!1},d(y){y&&detach(e),y&&l&&l.end()}}}function create_fragment$b(r){let e,t,o,l,h,y=r[0].nom+"",O,D,R,F,B,j,U=Math.round(r[1].length/r[2].length*100)+"",W,G,q=r[1].length+"",K,Y,X=r[2].length+"",J,Q,Z,ee,te,re=r[0].sondage_name+"",ie,ne,se,ce,ue=r[0].crea_date.split("T")[0]+"",he,pe,oe,ae,le,me,ge,fe,_e,we,ve,Se=[],$e=new Map,be,ye,Oe,Te,ke,Ee,Ie,xe,Me,Ae,Re,Ce,Ne;function Be(De,Pe){return De[4].length>0?create_if_block_4$3:create_else_block_1$2}let Ve=Be(r),Le=Ve(r),ze=r[2];const He=De=>De[18];for(let De=0;De<ze.length;De+=1){let Pe=get_each_context$2(r,ze,De),Fe=He(Pe);$e.set(Fe,Se[De]=create_each_block$2(Fe,Pe))}let je=r[5]!=""&&create_if_block$6(r);return{c(){e=element("div"),t=element("div"),o=element("div"),o.textContent="Suivi de campagne",l=space(),h=element("h2"),O=text(y),D=space(),R=element("div"),F=element("div"),B=element("div"),j=text("\u{1F50E} "),W=text(U),G=text("% r\xE9ponses ("),K=text(q),Y=text("/"),J=text(X),Q=text(")"),Z=space(),ee=element("div"),te=text("\u{1F4DD} "),ie=text(re),ne=space(),se=element("div"),ce=text("\u{1F5D3}\uFE0F Lanc\xE9e le "),he=text(ue),pe=space(),oe=element("br"),ae=space(),le=element("div"),me=element("h4"),me.textContent="D\xE9stinataires",ge=space(),Le.c(),fe=space(),_e=element("div"),we=element("table"),ve=element("tbody");for(let De=0;De<Se.length;De+=1)Se[De].c();be=space(),ye=element("div"),je&&je.c(),Oe=space(),Te=element("div"),ke=element("button"),ke.textContent="Fermer",Ee=space(),Ie=element("button"),Ie.textContent="Exporter liste",xe=space(),Me=element("button"),Me.textContent="Supprimer le suivi",attr(o,"class","text-center"),set_style(o,"font-family","Lexend"),set_style(o,"opacity",".7"),attr(h,"class","mb-4 text-center fw-bold"),attr(B,"class","mb-1"),attr(ee,"class","mb-1"),attr(F,"class","infoCamp mb-1 p-3 px-md-4 svelte-or0i6a"),attr(R,"class","container"),attr(le,"class","container d-flex align-items-center justify-content-between"),attr(we,"id","contactTable"),attr(we,"class","table mb-2"),attr(_e,"class","container p-2 text-center"),set_style(_e,"max-height","300px"),set_style(_e,"overflow-y","auto"),attr(ye,"class","reactMsg svelte-or0i6a"),attr(ke,"class","svelte-or0i6a"),set_style(Ie,"background-color","#BAE5D3"),attr(Ie,"class","svelte-or0i6a"),set_style(Me,"background-color","#F1C5CF"),attr(Me,"class","svelte-or0i6a"),attr(Te,"class","actions svelte-or0i6a"),attr(t,"class","contents p-4 svelte-or0i6a"),attr(e,"role","dialog"),attr(e,"class","modal svelte-or0i6a")},m(De,Pe){insert(De,e,Pe),append(e,t),append(t,o),append(t,l),append(t,h),append(h,O),append(t,D),append(t,R),append(R,F),append(F,B),append(B,j),append(B,W),append(B,G),append(B,K),append(B,Y),append(B,J),append(B,Q),append(F,Z),append(F,ee),append(ee,te),append(ee,ie),append(F,ne),append(F,se),append(se,ce),append(se,he),append(t,pe),append(t,oe),append(t,ae),append(t,le),append(le,me),append(le,ge),Le.m(le,null),append(t,fe),append(t,_e),append(_e,we),append(we,ve);for(let Fe=0;Fe<Se.length;Fe+=1)Se[Fe].m(ve,null);append(t,be),append(t,ye),je&&je.m(ye,null),append(t,Oe),append(t,Te),append(Te,ke),append(Te,Ee),append(Te,Ie),append(Te,xe),append(Te,Me),Re=!0,Ce||(Ne=[listen(ke,"click",closeModal),listen(Ie,"click",r[13]),listen(Me,"click",r[7]),listen(e,"introstart",r[9]),listen(e,"outroend",r[10])],Ce=!0)},p(De,[Pe]){(!Re||Pe&1)&&y!==(y=De[0].nom+"")&&set_data(O,y),(!Re||Pe&6)&&U!==(U=Math.round(De[1].length/De[2].length*100)+"")&&set_data(W,U),(!Re||Pe&2)&&q!==(q=De[1].length+"")&&set_data(K,q),(!Re||Pe&4)&&X!==(X=De[2].length+"")&&set_data(J,X),(!Re||Pe&1)&&re!==(re=De[0].sondage_name+"")&&set_data(ie,re),(!Re||Pe&1)&&ue!==(ue=De[0].crea_date.split("T")[0]+"")&&set_data(he,ue),Ve===(Ve=Be(De))&&Le?Le.p(De,Pe):(Le.d(1),Le=Ve(De),Le&&(Le.c(),Le.m(le,null))),Pe&94&&(ze=De[2],Se=update_keyed_each(Se,Pe,He,1,De,ze,$e,ve,destroy_block,create_each_block$2,null,get_each_context$2)),De[5]!=""?je?(je.p(De,Pe),Pe&32&&transition_in(je,1)):(je=create_if_block$6(De),je.c(),transition_in(je,1),je.m(ye,null)):je&&(group_outros(),transition_out(je,1,1,()=>{je=null}),check_outros())},i(De){if(!Re){for(let Pe=0;Pe<ze.length;Pe+=1)transition_in(Se[Pe]);transition_in(je),add_render_callback(()=>{Ae||(Ae=create_bidirectional_transition(e,fly,{y:50},!0)),Ae.run(1)}),Re=!0}},o(De){transition_out(je),Ae||(Ae=create_bidirectional_transition(e,fly,{y:50},!1)),Ae.run(0),Re=!1},d(De){De&&detach(e),Le.d();for(let Pe=0;Pe<Se.length;Pe+=1)Se[Pe].d();je&&je.d(),De&&Ae&&Ae.end(),Ce=!1,run_all(Ne)}}}function download_table_as_csv(r,e=","){for(var t=document.querySelectorAll("table#"+r+" tr"),o=[],l=0;l<t.length;l++){for(var h=[],y=t[l].querySelectorAll("td, th"),O=0;O<y.length;O++){var D=y[O].innerText.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ").replace("Relancer","Pas de reponse").replace("\u2705","A repondu").replace("Relanc\xE9","Relance effectuee sans reponse");D=D.replace(/"/g,'""'),h.push('"'+D+'"')}o.push(h.join(e))}var R=o.join(`
`),F="export_"+r+"_"+new Date().toLocaleDateString()+".csv",B=document.createElement("a");B.style.display="none",B.setAttribute("target","_blank"),B.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(R)),B.setAttribute("download",F),document.body.appendChild(B),B.click(),document.body.removeChild(B)}function instance$9(r,e,t){let{campagne:o}=e,{listeRep:l}=e,{listeEnvoi:h}=e,y=JSON.parse(o.contact_rel).map(X=>X.mail),O=h.filter(X=>!l.includes(X)&&!y.includes(X)),{updatePrev:D}=e,R="";function F(X){t(5,R=X),setTimeout(()=>{t(5,R="")},2e3)}var B=new Headers;B.append("Authorization","Token "+xxgc("rtnt")),B.append("Content-Type","application/json");async function j(X){let J={relance:!0,sond:`https://retine.io/sondage#${o.sondage_idrtn}`,to:X,subject:`Relance :  ${o.nom}`,text:o.text};var Q={method:"POST",headers:B,redirect:"follow",body:JSON.stringify(J)};return fetch(rtnUrl+"sondagesend/",Q).then(Z=>{if(Z.ok){F(`Relance envoy\xE9e \xE0 ${X}`);return}else throw new Error("Une erreur s'est produite...")}).catch(Z=>(F("Une erreur s'est produite..."),Z))}function U(){Swal.fire({title:"Supprimer le suivi de campagne ?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#6219D8",cancelButtonColor:"#2FCC72",confirmButtonText:"Supprimer la campagne",cancelButtonText:"Annuler"}).then(X=>{if(X.isConfirmed)return fetch(rtnUrl+"viewcampagnes/",{method:"DELETE",headers:B,redirect:"follow",body:JSON.stringify({id:o.id})}).then(J=>{if(J.ok){F("Campagne supprim\xE9e."),closeModal();return}else throw new Error("Une erreur s'est produite...")}).catch(J=>(F("Une erreur s'est produite..."),J))})}function W(X){bubble.call(this,r,X)}function G(X){bubble.call(this,r,X)}const q=()=>{j(O),t(3,y=y.concat(O))},K=(X,J)=>{j([X]),t(3,y=[...y,X])},Y=()=>download_table_as_csv("contactTable",";");return r.$$set=X=>{"campagne"in X&&t(0,o=X.campagne),"listeRep"in X&&t(1,l=X.listeRep),"listeEnvoi"in X&&t(2,h=X.listeEnvoi),"updatePrev"in X&&t(8,D=X.updatePrev)},r.$$.update=()=>{r.$$.dirty&14&&t(4,O=h.filter(X=>!l.includes(X)&&!y.includes(X)))},[o,l,h,y,O,R,j,U,D,W,G,q,K,Y]}class ModalCampagneFollow extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$b,safe_not_equal,{campagne:0,listeRep:1,listeEnvoi:2,updatePrev:8})}}var campagnes_svelte_svelte_type_style_lang="";function get_each_context$1(r,e,t){const o=r.slice();return o[18]=e[t],o[20]=t,o}function get_each_context_1$1(r,e,t){const o=r.slice();return o[21]=e[t],o[20]=t,o}function get_each_context_2(r,e,t){const o=r.slice();return o[18]=e[t],o[20]=t,o}function create_catch_block_2(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block_2(r){let e;function t(h,y){return h[17].data.length>0?create_if_block_2$4:create_else_block_1$1}let o=t(r),l=o(r);return{c(){l.c(),e=empty$2()},m(h,y){l.m(h,y),insert(h,e,y)},p(h,y){o===(o=t(h))&&l?l.p(h,y):(l.d(1),l=o(h),l&&(l.c(),transition_in(l,1),l.m(e.parentNode,e)))},i(h){transition_in(l)},o:noop$4,d(h){l.d(h),h&&detach(e)}}}function create_else_block_1$1(r){let e;return{c(){e=element("div"),e.textContent="Pas de campagnes mail en cours \u{1F440}",attr(e,"class","text-center w-100 mb-4")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_if_block_2$4(r){let e,t,o,l,h,y=[],O=new Map,D=r[17].data.reverse();const R=F=>F[20];for(let F=0;F<D.length;F+=1){let B=get_each_context_2(r,D,F),j=R(B);O.set(j,y[F]=create_each_block_2(j,B))}return{c(){e=element("div"),t=element("table"),o=element("thead"),o.innerHTML=`<tr><th scope="col">Nom</th> 
                  <th scope="col">Sondage</th> 
                  <th scope="col">% r\xE9ponses</th> 
                  <th scope="col">Date</th></tr>`,l=space(),h=element("tbody");for(let F=0;F<y.length;F+=1)y[F].c();attr(t,"class","table mb-3 table-hover svelte-1mh17uk"),attr(e,"class","table-responsive")},m(F,B){insert(F,e,B),append(e,t),append(t,o),append(t,l),append(t,h);for(let j=0;j<y.length;j+=1)y[j].m(h,null)},p(F,B){B&20&&(D=F[17].data.reverse(),y=update_keyed_each(y,B,R,1,F,D,O,h,destroy_block,create_each_block_2,null,get_each_context_2))},i(F){for(let B=0;B<D.length;B+=1)transition_in(y[B])},o:noop$4,d(F){F&&detach(e);for(let B=0;B<y.length;B+=1)y[B].d()}}}function create_each_block_2(r,e){let t,o,l=e[18].camp.nom+"",h,y,O,D=e[18].camp.sondage_name+"",R,F,B,j=Math.round(JSON.parse(e[18].camp.contact_follow).length/JSON.parse(e[18].contacts.jsonContent).length*100)+"",U,W,G,q,K=e[18].camp.crea_date.split("T")[0]+"",Y,X,J,Q,Z;function ee(){return e[6](e[18])}return{key:r,first:null,c(){t=element("tr"),o=element("th"),h=text(l),y=space(),O=element("td"),R=text(D),F=space(),B=element("td"),U=text(j),W=text("%"),G=space(),q=element("td"),Y=text(K),X=space(),set_style(t,"cursor","pointer"),this.first=t},m(te,re){insert(te,t,re),append(t,o),append(o,h),append(t,y),append(t,O),append(O,R),append(t,F),append(t,B),append(B,U),append(B,W),append(t,G),append(t,q),append(q,Y),append(t,X),Q||(Z=listen(t,"click",ee),Q=!0)},p(te,re){e=te,re&4&&l!==(l=e[18].camp.nom+"")&&set_data(h,l),re&4&&D!==(D=e[18].camp.sondage_name+"")&&set_data(R,D),re&4&&j!==(j=Math.round(JSON.parse(e[18].camp.contact_follow).length/JSON.parse(e[18].contacts.jsonContent).length*100)+"")&&set_data(U,j),re&4&&K!==(K=e[18].camp.crea_date.split("T")[0]+"")&&set_data(Y,K)},i(te){J||add_render_callback(()=>{J=create_in_transition(t,fly,{x:-20,delay:e[20]*60}),J.start()})},o:noop$4,d(te){te&&detach(t),Q=!1,Z()}}}function create_pending_block_2(r){let e;return{c(){e=text("Chargement...")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_catch_block_1$2(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block_1$2(r){let e,t,o,l,h=[],y=new Map,O,D,R=r[17].reverse();const F=B=>B[20];for(let B=0;B<R.length;B+=1){let j=get_each_context_1$1(r,R,B),U=F(j);y.set(U,h[B]=create_each_block_1$1(U,j))}return{c(){e=element("div"),t=element("div"),o=element("div"),o.textContent="+",l=space();for(let B=0;B<h.length;B+=1)h[B].c();attr(o,"class","addBtn hvr-float svelte-1mh17uk"),attr(t,"class","col-12 col-sm-4 col-md-3 mb-3"),attr(e,"class","row mt-4")},m(B,j){insert(B,e,j),append(e,t),append(t,o),append(e,l);for(let U=0;U<h.length;U+=1)h[U].m(e,null);O||(D=listen(o,"click",r[8]),O=!0)},p(B,j){j&17&&(R=B[17].reverse(),h=update_keyed_each(h,j,F,1,B,R,y,e,destroy_block,create_each_block_1$1,null,get_each_context_1$1))},d(B){B&&detach(e);for(let j=0;j<h.length;j+=1)h[j].d();O=!1,D()}}}function create_each_block_1$1(r,e){let t,o,l,h=e[21].nom+"",y,O,D,R=JSON.parse(e[21].jsonContent).length+"",F,B,j,U=e[21].crea_date.split("T")[0]+"",W,G,q,K;function Y(){return e[9](e[21])}return{key:r,first:null,c(){t=element("div"),o=element("div"),l=element("div"),y=text(h),O=space(),D=element("div"),F=text(R),B=space(),j=element("div"),W=text(U),G=space(),attr(l,"class","contacttitlecont svelte-1mh17uk"),attr(D,"class","contactnumcont svelte-1mh17uk"),attr(o,"class","listCard hvr-float svelte-1mh17uk"),attr(t,"class","col-6 col-sm-4 col-md-3 mb-3"),this.first=t},m(X,J){insert(X,t,J),append(t,o),append(o,l),append(l,y),append(o,O),append(o,D),append(D,F),append(o,B),append(o,j),append(j,W),append(t,G),q||(K=listen(o,"click",Y),q=!0)},p(X,J){e=X,J&1&&h!==(h=e[21].nom+"")&&set_data(y,h),J&1&&R!==(R=JSON.parse(e[21].jsonContent).length+"")&&set_data(F,R),J&1&&U!==(U=e[21].crea_date.split("T")[0]+"")&&set_data(W,U)},d(X){X&&detach(t),q=!1,K()}}}function create_pending_block_1$2(r){let e;return{c(){e=element("div"),e.textContent="Chargement..."},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_catch_block$4(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block$4(r){let e,t;function o(y,O){return O&2&&(e=null),e==null&&(e=y[17].filter(func$1).length>0),e?create_if_block_1$4:create_else_block$4}let l=o(r,-1),h=l(r);return{c(){h.c(),t=empty$2()},m(y,O){h.m(y,O),insert(y,t,O)},p(y,O){l===(l=o(y,O))&&h?h.p(y,O):(h.d(1),h=l(y),h&&(h.c(),transition_in(h,1),h.m(t.parentNode,t)))},i(y){transition_in(h)},o:noop$4,d(y){h.d(y),y&&detach(t)}}}function create_else_block$4(r){let e;return{c(){e=element("div"),e.textContent="Pas encore de sondage \xE0 diffuser \u{1F440}",attr(e,"class","text-center w-100")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_if_block_1$4(r){let e=[],t=new Map,o,l=r[17].reverse().filter(func_1$1);const h=y=>y[20];for(let y=0;y<l.length;y+=1){let O=get_each_context$1(r,l,y),D=h(O);t.set(D,e[y]=create_each_block$1(D,O))}return{c(){for(let y=0;y<e.length;y+=1)e[y].c();o=empty$2()},m(y,O){for(let D=0;D<e.length;D+=1)e[D].m(y,O);insert(y,o,O)},p(y,O){O&18&&(l=y[17].reverse().filter(func_1$1),e=update_keyed_each(e,O,h,1,y,l,t,o.parentNode,destroy_block,create_each_block$1,o,get_each_context$1))},i(y){for(let O=0;O<l.length;O+=1)transition_in(e[O])},o:noop$4,d(y){for(let O=0;O<e.length;O+=1)e[O].d(y);y&&detach(o)}}}function create_each_block$1(r,e){let t,o,l=e[18].nom_proj+"",h,y,O,D,R;function F(){return e[10](e[18])}return{key:r,first:null,c(){t=element("div"),o=element("div"),h=text(l),y=space(),attr(o,"class","projComCard hvr-float svelte-1mh17uk"),set_style(o,"background-color",e[18].color),attr(t,"class","col-12 col-md-4 mb-2"),this.first=t},m(B,j){insert(B,t,j),append(t,o),append(o,h),append(t,y),D||(R=listen(o,"click",F),D=!0)},p(B,j){e=B,j&2&&l!==(l=e[18].nom_proj+"")&&set_data(h,l),j&2&&set_style(o,"background-color",e[18].color)},i(B){O||add_render_callback(()=>{O=create_in_transition(t,fly,{x:-20,delay:e[20]*60}),O.start()})},o:noop$4,d(B){B&&detach(t),D=!1,R()}}}function create_pending_block$4(r){let e;return{c(){e=text("Chargement...")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_if_block$5(r){let e,t,o,l,h,y,O;const D=[r[3].props||{}];var R=r[3].component;function F(B){let j={};for(let U=0;U<D.length;U+=1)j=assign$8(j,D[U]);return{props:j}}return R&&(e=new R(F())),{c(){e&&create_component(e.$$.fragment),t=space(),o=element("div"),attr(o,"class","backdrop svelte-1mh17uk")},m(B,j){e&&mount_component(e,B,j),insert(B,t,j),insert(B,o,j),h=!0,y||(O=listen(o,"click",r[11]),y=!0)},p(B,j){const U=j&8?get_spread_update(D,[get_spread_object(B[3].props||{})]):{};if(R!==(R=B[3].component)){if(e){group_outros();const W=e;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(e=new R(F()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else R&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(t),B&&detach(o),B&&l&&l.end(),y=!1,O()}}}function create_default_slot$3(r){let e,t,o=r[3]&&create_if_block$5(r);return{c(){o&&o.c(),e=empty$2()},m(l,h){o&&o.m(l,h),insert(l,e,h),t=!0},p(l,h){l[3]?o?(o.p(l,h),h&8&&transition_in(o,1)):(o=create_if_block$5(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){t||(transition_in(o),t=!0)},o(l){transition_out(o),t=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$a(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne,se,ce,ue,he,pe,oe,ae,le,me,ge,fe,_e,we,ve={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_2,then:create_then_block_2,catch:create_catch_block_2,value:17};handle_promise(W=r[2],ve);let Se={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$2,then:create_then_block_1$2,catch:create_catch_block_1$2,value:17};handle_promise(re=r[0],Se);let $e={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$4,then:create_then_block$4,catch:create_catch_block$4,value:17};return handle_promise(ae=r[1],$e),ge=new Modals({props:{$$slots:{default:[create_default_slot$3]},$$scope:{ctx:r}}}),{c(){e=element("div"),t=element("h1"),t.textContent="Vos campagnes de diffusion",o=space(),l=element("h6"),l.textContent="Diffusez vos sondages via un ou plusieurs canaux, constituez des listes d\u2019envoi et organisez votre campagnes d\u2019e-mailing",h=space(),y=element("div"),O=space(),D=element("div"),R=element("h4"),R.textContent="\u{1F4E8} Campagnes mail",F=space(),B=element("p"),B.textContent="Cr\xE9ez une campagne email pour partager votre sondage aupr\xE8s de vos cibles, en suivre la diffusion et relancer les non-r\xE9pondants.",j=space(),U=element("div"),ve.block.c(),G=space(),q=element("div"),q.textContent="\u{1F680} Nouvelle campagne",X=space(),J=element("div"),Q=element("h4"),Q.textContent="\u{1F465} Listes d'envoi",Z=space(),ee=element("p"),ee.textContent="Ces listes d'envois pourront \xEAtre utilis\xE9es pour diffuser vos sondages.",te=space(),Se.block.c(),ne=space(),se=element("div"),ce=element("h4"),ce.textContent="\u{1F4E2} Diffuser un sondage",ue=space(),he=element("p"),he.textContent="Cliquez sur un de vos sondages pour l'envoyer par par les moyens de votre choix \xE0 votre audience.",pe=space(),oe=element("div"),$e.block.c(),me=space(),create_component(ge.$$.fragment),attr(t,"class","py-2 mb-1 text-left"),attr(l,"class","ps-3 opacity-75"),attr(y,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),set_style(B,"opacity",".7"),attr(q,"class","newCamp hvr-grow svelte-1mh17uk"),attr(U,"class","mt-4"),attr(D,"class","neuProjet p-4 mb-5 svelte-1mh17uk"),set_style(ee,"opacity",".7"),attr(J,"class","neuProjet p-4 mb-5 svelte-1mh17uk"),set_style(he,"opacity",".7"),attr(oe,"class","row text-center mt-4"),attr(se,"class","neuProjet p-4 mb-5 svelte-1mh17uk"),attr(e,"class","row p-3 w-100 mx-auto mb-5"),set_style(e,"max-width","1100px")},m(be,ye){insert(be,e,ye),append(e,t),append(e,o),append(e,l),append(e,h),append(e,y),append(e,O),append(e,D),append(D,R),append(D,F),append(D,B),append(D,j),append(D,U),ve.block.m(U,ve.anchor=null),ve.mount=()=>U,ve.anchor=G,append(U,G),append(U,q),append(e,X),append(e,J),append(J,Q),append(J,Z),append(J,ee),append(J,te),Se.block.m(J,Se.anchor=null),Se.mount=()=>J,Se.anchor=null,append(e,ne),append(e,se),append(se,ce),append(se,ue),append(se,he),append(se,pe),append(se,oe),$e.block.m(oe,$e.anchor=null),$e.mount=()=>oe,$e.anchor=null,insert(be,me,ye),mount_component(ge,be,ye),fe=!0,_e||(we=listen(q,"click",r[7]),_e=!0)},p(be,[ye]){r=be,ve.ctx=r,ye&4&&W!==(W=r[2])&&handle_promise(W,ve)||update_await_block_branch(ve,r,ye),Se.ctx=r,ye&1&&re!==(re=r[0])&&handle_promise(re,Se)||update_await_block_branch(Se,r,ye),$e.ctx=r,ye&2&&ae!==(ae=r[1])&&handle_promise(ae,$e)||update_await_block_branch($e,r,ye);const Oe={};ye&16777224&&(Oe.$$scope={dirty:ye,ctx:r}),ge.$set(Oe)},i(be){fe||(transition_in(ve.block),K||add_render_callback(()=>{K=create_in_transition(q,fly,{x:-20,delay:50}),K.start()}),Y||add_render_callback(()=>{Y=create_in_transition(D,fly,{x:-20,duration:600,delay:150}),Y.start()}),ie||add_render_callback(()=>{ie=create_in_transition(J,fly,{x:-20,duration:600,delay:300}),ie.start()}),transition_in($e.block),le||add_render_callback(()=>{le=create_in_transition(se,fly,{x:-20,duration:600,delay:150}),le.start()}),transition_in(ge.$$.fragment,be),fe=!0)},o(be){transition_out(ge.$$.fragment,be),fe=!1},d(be){be&&detach(e),ve.block.d(),ve.token=null,ve=null,Se.block.d(),Se.token=null,Se=null,$e.block.d(),$e.token=null,$e=null,be&&detach(me),destroy_component(ge,be),_e=!1,we()}}}const func$1=r=>!r.priv,func_1$1=r=>!r.priv;function instance$8(r,e,t){let o,l;component_subscribe(r,modals,J=>t(5,l=J));var h=new Headers;h.append("Authorization","Token "+xxgc("rtnt")),h.append("Content-Type","application/json");var y={method:"GET",headers:h,redirect:"follow"};async function O(){return fetch(rtnUrl+"contactlist/",y).then(J=>J.text()).then(J=>JSON.parse(J)).catch(J=>J)}let D=O();async function R(){return fetch(rtnUrl+"sondages/edit/",y).then(J=>J.text()).then(J=>JSON.parse(J)).catch(J=>J)}let F=R();async function B(){return fetch(rtnUrl+"viewcampagnes/",y).then(J=>J.text()).then(J=>JSON.parse(J)).catch(J=>J)}let j=B();const U=()=>{t(0,D=O()),t(2,j=B()),t(1,F=R())},W=J=>openModal(ModalCampagneFollow,{campagne:J.camp,listeRep:JSON.parse(J.camp.contact_follow),listeEnvoi:JSON.parse(J.contacts.jsonContent),updatePrev:U}),G=()=>{openModal(ModalDiffuse,{mean:"mail"})},q=()=>openModal(ModalContactList,{id:"new",nom:"",jsonContent:"",updateBack:U}),K=J=>openModal(ModalContactList,Qe(Ye({},J),{updateBack:U})),Y=J=>{openModal(ModalDiffuse,{proj:J,updatePrev:U})},X=()=>{closeModal()};return r.$$.update=()=>{r.$$.dirty&32&&t(3,o=l[l.length-1])},[D,F,j,o,U,l,W,G,q,K,Y,X]}class Campagnes extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$a,safe_not_equal,{})}}var modalSubscribe_svelte_svelte_type_style_lang="";function create_else_block$3(r){let e;return{c(){e=element("a"),e.textContent="\u2709\uFE0F Contactez nous pour d\xE9bloquer R\xE9tine Pro.",attr(e,"href","mailto:bonjour@jetevois.fr")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_fragment$9(r){let e,t,o,l,h,y,O,D,R,F,B,j;function U(q,K){return create_else_block$3}let G=U()(r);return{c(){e=element("div"),t=element("div"),o=element("h2"),o.textContent="R\xE9tine Pro",l=space(),h=element("div"),G.c(),y=space(),O=element("div"),D=element("button"),D.textContent="Close",attr(o,"class","mb-4 text-center"),attr(h,"class","container p-2 text-center"),attr(D,"class","svelte-rzy123"),attr(O,"class","actions svelte-rzy123"),attr(t,"class","contents svelte-rzy123"),attr(e,"role","dialog"),attr(e,"class","modal svelte-rzy123")},m(q,K){insert(q,e,K),append(e,t),append(t,o),append(t,l),append(t,h),G.m(h,null),append(t,y),append(t,O),append(O,D),F=!0,B||(j=[listen(D,"click",closeModal),listen(e,"introstart",r[1]),listen(e,"outroend",r[2])],B=!0)},p(q,[K]){G.p(q,K)},i(q){F||(add_render_callback(()=>{R||(R=create_bidirectional_transition(e,fly,{y:50},!0)),R.run(1)}),F=!0)},o(q){R||(R=create_bidirectional_transition(e,fly,{y:50},!1)),R.run(0),F=!1},d(q){q&&detach(e),G.d(),q&&R&&R.end(),B=!1,run_all(j)}}}function showMessage(r){const e=document.querySelector("#payment-message");e.classList.remove("hidden"),e.textContent=r,setTimeout(function(){e.classList.add("hidden"),r.textContent=""},4e3)}function setLoading(r){r?(document.querySelector("#submit").disabled=!0,document.querySelector("#spinner").classList.remove("hidden"),document.querySelector("#button-text").classList.add("hidden")):(document.querySelector("#submit").disabled=!1,document.querySelector("#spinner").classList.add("hidden"),document.querySelector("#button-text").classList.remove("hidden"))}function instance$7(r){const e=Stripe("pk_test_51LMG1QLrdrho62m2BYRK9XFbBw6mVeXz1dmMpTlGQU6HAJcqT5u9ZkDFuCIQ9cyjXrEvMm2C14C2qus6E9Di350L00WPqAfdpX"),t=[{id:"xl-tshirt"}];let o;onMount(()=>{l(),y()});async function l(){const R=await fetch("/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})}),{clientSecret:F}=await R.json(),B={theme:"stripe"};o=e.elements({appearance:B,clientSecret:F}),o.create("payment").mount("#payment-element")}async function h(R){R.preventDefault(),setLoading(!0);const{error:F}=await e.confirmPayment({elements:o,confirmParams:{return_url:"http://localhost:4242/checkout.html"}});F.type==="card_error"||F.type==="validation_error"?showMessage(F.message):showMessage("An unexpected error occurred."),setLoading(!1)}async function y(){const R=new URLSearchParams(window.location.search).get("payment_intent_client_secret");if(!R)return;const{paymentIntent:F}=await e.retrievePaymentIntent(R);switch(F.status){case"succeeded":showMessage("Payment succeeded!");break;case"processing":showMessage("Your payment is processing.");break;case"requires_payment_method":showMessage("Your payment was not successful, please try again.");break;default:showMessage("Something went wrong.");break}}function O(R){bubble.call(this,r,R)}function D(R){bubble.call(this,r,R)}return[h,O,D]}class ModalSubscribe extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$9,safe_not_equal,{})}}var account_svelte_svelte_type_style_lang="";function create_catch_block_1$1(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block_1$1(r){let e,t=r[18].email+"",o,l,h,y=r[18].sondage.length+"",O,D,R,F,B,j=r[18].created_at.split("T")[0]+"",U;return{c(){e=element("div"),o=text(t),l=space(),h=element("div"),O=text(y),D=text(" sondage(s) cr\xE9\xE9(s)."),R=space(),F=element("div"),B=text("Profil cr\xE9\xE9 le "),U=text(j),attr(e,"class","profileInfo svelte-47n95o"),attr(h,"class","profileInfo svelte-47n95o"),attr(F,"class","profileInfo svelte-47n95o")},m(W,G){insert(W,e,G),append(e,o),insert(W,l,G),insert(W,h,G),append(h,O),append(h,D),insert(W,R,G),insert(W,F,G),append(F,B),append(F,U)},p(W,G){G&2&&t!==(t=W[18].email+"")&&set_data(o,t),G&2&&y!==(y=W[18].sondage.length+"")&&set_data(O,y),G&2&&j!==(j=W[18].created_at.split("T")[0]+"")&&set_data(U,j)},d(W){W&&detach(e),W&&detach(l),W&&detach(h),W&&detach(R),W&&detach(F)}}}function create_pending_block_1$1(r){let e;return{c(){e=text("Chargement...")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_4$2(r){let e,t;return{c(){e=element("div"),e.textContent="Votre nouveau mot de passe n'est pas valable.",set_style(e,"color","red")},m(o,l){insert(o,e,l)},i(o){t||add_render_callback(()=>{t=create_in_transition(e,fly,{x:-100}),t.start()})},o:noop$4,d(o){o&&detach(e)}}}function create_if_block_3$2(r){let e,t;return{c(){e=element("div"),e.textContent="Votre mot de passe a \xE9t\xE9 modifi\xE9.",set_style(e,"color","green")},m(o,l){insert(o,e,l)},i(o){t||add_render_callback(()=>{t=create_in_transition(e,fly,{x:-100}),t.start()})},o:noop$4,d(o){o&&detach(e)}}}function create_catch_block$3(r){let e,t,o,l,h;return{c(){e=element("div"),e.textContent="Vous avez l'offre gratuite. Cliquez ci-dessous pour b\xE9n\xE9ficier de l'exp\xE9rience compl\xE8te R\xE9tine.",t=space(),o=element("div"),o.textContent="S'abonner \u{1F680}",attr(e,"class","planInfo svelte-47n95o"),attr(o,"class","btnAbonnement svelte-47n95o")},m(y,O){insert(y,e,O),insert(y,t,O),insert(y,o,O),l||(h=listen(o,"click",r[12]),l=!0)},p:noop$4,d(y){y&&detach(e),y&&detach(t),y&&detach(o),l=!1,h()}}}function create_then_block$3(r){let e;function t(h,y){if(h[18].plan==2)return create_if_block_1$3;if(h[18].plan==3)return create_if_block_2$3}let o=t(r),l=o&&o(r);return{c(){l&&l.c(),e=empty$2()},m(h,y){l&&l.m(h,y),insert(h,e,y)},p(h,y){o!==(o=t(h))&&(l&&l.d(1),l=o&&o(h),l&&(l.c(),l.m(e.parentNode,e)))},d(h){l&&l.d(h),h&&detach(e)}}}function create_if_block_2$3(r){let e;return{c(){e=element("div"),e.textContent="Vous avez l'offre corpo"},m(t,o){insert(t,e,o)},d(t){t&&detach(e)}}}function create_if_block_1$3(r){let e;return{c(){e=element("div"),e.textContent="Vous avez l'offre R\xE9tine Pro."},m(t,o){insert(t,e,o)},d(t){t&&detach(e)}}}function create_pending_block$3(r){let e;return{c(){e=element("div"),e.textContent="Chargement..."},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block$4(r){let e,t,o,l,h,y,O;const D=[r[6].props||{}];var R=r[6].component;function F(B){let j={};for(let U=0;U<D.length;U+=1)j=assign$8(j,D[U]);return{props:j}}return R&&(e=new R(F())),{c(){e&&create_component(e.$$.fragment),t=space(),o=element("div"),attr(o,"class","backdrop svelte-47n95o")},m(B,j){e&&mount_component(e,B,j),insert(B,t,j),insert(B,o,j),h=!0,y||(O=listen(o,"click",r[13]),y=!0)},p(B,j){const U=j&64?get_spread_update(D,[get_spread_object(B[6].props||{})]):{};if(R!==(R=B[6].component)){if(e){group_outros();const W=e;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(e=new R(F()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else R&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(t),B&&detach(o),B&&l&&l.end(),y=!1,O()}}}function create_default_slot$2(r){let e,t,o=r[6]&&create_if_block$4(r);return{c(){o&&o.c(),e=empty$2()},m(l,h){o&&o.m(l,h),insert(l,e,h),t=!0},p(l,h){l[6]?o?(o.p(l,h),h&64&&transition_in(o,1)):(o=create_if_block$4(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){t||(transition_in(o),t=!0)},o(l){transition_out(o),t=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$8(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne,se,ce,ue,he,pe,oe,ae,le,me,ge,fe={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$1,then:create_then_block_1$1,catch:create_catch_block_1$1,value:18};handle_promise(R=r[1],fe);function _e($e,be){if($e[5]=="success")return create_if_block_3$2;if($e[5]=="error")return create_if_block_4$2}let we=_e(r),ve=we&&we(r),Se={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$3,then:create_then_block$3,catch:create_catch_block$3,value:18};return handle_promise(he=r[0],Se),ae=new Modals({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:r}}}),{c(){e=element("h1"),e.textContent="Mon compte",t=space(),o=element("div"),l=element("div"),h=element("div"),y=element("h5"),y.textContent="\u{1F464} Mon profil",O=space(),D=element("div"),fe.block.c(),B=space(),j=element("div"),U=element("div"),W=element("h5"),W.textContent="\u{1F511} Changement de mot de passe",G=space(),q=element("div"),K=element("input"),Y=space(),X=element("input"),J=space(),Q=element("input"),Z=space(),ve&&ve.c(),ee=space(),te=element("button"),te.textContent="Valider",ie=space(),ne=element("div"),se=element("div"),ce=element("h5"),ce.textContent="\u2728 Mon abonnement",ue=space(),Se.block.c(),oe=space(),create_component(ae.$$.fragment),attr(e,"class","py-2 mb-3 text-center"),attr(D,"class","d-flex justify-content-center flex-column"),attr(h,"class","neuContainer p-4 svelte-47n95o"),attr(l,"class","col-12 col-md-6 p-3"),attr(K,"class","input svelte-47n95o"),attr(K,"type","password"),attr(K,"placeholder","Ancien mot de passe"),attr(X,"class","input svelte-47n95o"),attr(X,"type","password"),attr(X,"placeholder","Nouveau mot de passe"),attr(Q,"class","input svelte-47n95o"),attr(Q,"type","password"),attr(Q,"placeholder","Confirmation du nouveau mot de passe"),attr(te,"class","validateBtn svelte-47n95o"),attr(q,"class","mdpFields d-flex justify-content-center flex-column"),attr(U,"class","neuContainer p-4 svelte-47n95o"),attr(j,"class","col-12 col-md-6 p-3"),attr(se,"class","neuContainer p-4 svelte-47n95o"),attr(ne,"class","col-12 p-3"),attr(o,"id","myAccount"),attr(o,"class","row p-3 mx-auto"),set_style(o,"max-width","1100px"),set_style(o,"width","85vw")},m($e,be){insert($e,e,be),insert($e,t,be),insert($e,o,be),append(o,l),append(l,h),append(h,y),append(h,O),append(h,D),fe.block.m(D,fe.anchor=null),fe.mount=()=>D,fe.anchor=null,append(o,B),append(o,j),append(j,U),append(U,W),append(U,G),append(U,q),append(q,K),set_input_value(K,r[2]),append(q,Y),append(q,X),set_input_value(X,r[3]),append(q,J),append(q,Q),set_input_value(Q,r[4]),append(q,Z),ve&&ve.m(q,null),append(q,ee),append(q,te),append(o,ie),append(o,ne),append(ne,se),append(se,ce),append(se,ue),Se.block.m(se,Se.anchor=null),Se.mount=()=>se,Se.anchor=null,insert($e,oe,be),mount_component(ae,$e,be),le=!0,me||(ge=[listen(K,"input",r[9]),listen(X,"input",r[10]),listen(Q,"input",r[11]),listen(te,"click",r[7])],me=!0)},p($e,[be]){r=$e,fe.ctx=r,be&2&&R!==(R=r[1])&&handle_promise(R,fe)||update_await_block_branch(fe,r,be),be&4&&K.value!==r[2]&&set_input_value(K,r[2]),be&8&&X.value!==r[3]&&set_input_value(X,r[3]),be&16&&Q.value!==r[4]&&set_input_value(Q,r[4]),we!==(we=_e(r))&&(ve&&ve.d(1),ve=we&&we(r),ve&&(ve.c(),transition_in(ve,1),ve.m(q,ee))),Se.ctx=r,be&1&&he!==(he=r[0])&&handle_promise(he,Se)||update_await_block_branch(Se,r,be);const ye={};be&524352&&(ye.$$scope={dirty:be,ctx:r}),ae.$set(ye)},i($e){le||(F||add_render_callback(()=>{F=create_in_transition(h,fly,{x:-80,delay:50}),F.start()}),transition_in(ve),re||add_render_callback(()=>{re=create_in_transition(U,fly,{x:-80,delay:150}),re.start()}),pe||add_render_callback(()=>{pe=create_in_transition(se,fly,{x:-80,delay:250}),pe.start()}),transition_in(ae.$$.fragment,$e),le=!0)},o($e){transition_out(ae.$$.fragment,$e),le=!1},d($e){$e&&detach(e),$e&&detach(t),$e&&detach(o),fe.block.d(),fe.token=null,fe=null,ve&&ve.d(),Se.block.d(),Se.token=null,Se=null,$e&&detach(oe),destroy_component(ae,$e),me=!1,run_all(ge)}}}function instance$6(r,e,t){let o,l;component_subscribe(r,modals,J=>t(8,l=J));var h=new Headers;h.append("Authorization","Token "+xxgc("rtnt")),h.append("Content-Type","application/json");async function y(){var J={method:"GET",headers:h,redirect:"follow"};return fetch(rtnUrl+"myplan/",J).then(Q=>{if(Q.ok)return Q.text();throw new Error("Something went wrong")}).then(Q=>JSON.parse(Q)).catch(Q=>{throw new Error("Something went wrong")})}async function O(){var J={method:"GET",headers:h,redirect:"follow"};return fetch(rtnUrl+"auth/user/",J).then(Q=>Q.text()).then(Q=>JSON.parse(Q)).catch(Q=>Q)}let D=y(),R=O(),F,B,j,U;function W(){var J={method:"POST",headers:h,redirect:"follow",body:JSON.stringify({new_password1:B,new_password2:j,old_password:F})};return fetch(rtnUrl+"auth/password/change/",J).then(Q=>Q.text()).then(Q=>{let Z=JSON.parse(Q);Object.values(Z)[0]=="New password has been saved."?t(5,U="success"):t(5,U="error")}).catch(Q=>Q)}function G(){F=this.value,t(2,F)}function q(){B=this.value,t(3,B)}function K(){j=this.value,t(4,j)}const Y=()=>openModal(ModalSubscribe),X=()=>{closeModal()};return r.$$.update=()=>{r.$$.dirty&256&&t(6,o=l[l.length-1])},[D,R,F,B,j,U,o,W,l,G,q,K,Y,X]}class Account extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$8,safe_not_equal,{})}}var projetLine_svelte_svelte_type_style_lang="";function create_if_block$3(r){let e,t=r[0].reponse.length.toString()+" r\xE9p.",o;return{c(){e=element("div"),o=text(t)},m(l,h){insert(l,e,h),append(e,o)},p(l,h){h&1&&t!==(t=l[0].reponse.length.toString()+" r\xE9p.")&&set_data(o,t)},d(l){l&&detach(e)}}}function create_fragment$7(r){let e,t,o,l=r[0].nom_proj+"",h,y,O,D,R=r[0].crea_date.split("T")[0]+"",F,B,j,U,W,G,q,K,Y=!r[1]&&create_if_block$3(r);return{c(){e=element("div"),t=element("div"),o=element("div"),h=text(l),y=space(),O=element("div"),D=element("div"),F=text(R),B=space(),Y&&Y.c(),j=space(),U=element("div"),W=element("img"),attr(t,"class","p-1 pr-1 w-100 h-75 m-0"),attr(D,"class","d-fk"),attr(O,"class","px-3 flex-fill d-flex justify-content-between align-items-center w-100 text-center"),attr(W,"class","w-100"),src_url_equal(W.src,G=r[1]?"/assets/icons/delete.svg":"/assets/icons/share.svg")||attr(W,"src",G),attr(W,"alt","bouton partger"),attr(U,"class","threeDot hvr-bounce-in svelte-11fxtas"),attr(U,"style",r[1]?"background-color: #E74C3C;":"background-color: #6219d8;"),attr(e,"class","neuProjet d-flex align-items-center justify-content-around hvr-forward svelte-11fxtas")},m(X,J){insert(X,e,J),append(e,t),append(t,o),append(o,h),append(e,y),append(e,O),append(O,D),append(D,F),append(O,B),Y&&Y.m(O,null),append(e,j),append(e,U),append(U,W),q||(K=[listen(U,"click",stop_propagation(r[2])),listen(e,"click",r[3])],q=!0)},p(X,[J]){J&1&&l!==(l=X[0].nom_proj+"")&&set_data(h,l),J&1&&R!==(R=X[0].crea_date.split("T")[0]+"")&&set_data(F,R),X[1]||Y.p(X,J)},i:noop$4,o:noop$4,d(X){X&&detach(e),Y&&Y.d(),q=!1,run_all(K)}}}function instance$5(r,e,t){let{sondage:o}=e,{loadSondage:l}=e,{updateFun:h}=e,{loadSView:y}=e,{shareFunction:O}=e,D=o.reponse.length==0&&o.priv==!0;const R=()=>{D?delSondRtn(o.id,h):O(),window.event.stopPropagation()},F=()=>{D?(t(0,o.jsonContent=JSON.parse(o.jsonContent),o),l(o,o.id)):y(o)};return r.$$set=B=>{"sondage"in B&&t(0,o=B.sondage),"loadSondage"in B&&t(4,l=B.loadSondage),"updateFun"in B&&t(5,h=B.updateFun),"loadSView"in B&&t(6,y=B.loadSView),"shareFunction"in B&&t(7,O=B.shareFunction)},[o,D,R,F,l,h,y,O]}class ProjetLine extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$7,safe_not_equal,{sondage:0,loadSondage:4,updateFun:5,loadSView:6,shareFunction:7})}}var summary_svelte_svelte_type_style_lang="";function get_each_context(r,e,t){const o=r.slice();return o[19]=e[t],o[21]=t,o}function get_each_context_1(r,e,t){const o=r.slice();return o[19]=e[t],o[21]=t,o}function create_catch_block_1(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block_1(r){let e;function t(h,y){return h[2].length>0?create_if_block_5$1:create_else_block$2}let o=t(r),l=o(r);return{c(){l.c(),e=empty$2()},m(h,y){l.m(h,y),insert(h,e,y)},p(h,y){o===(o=t(h))&&l?l.p(h,y):(l.d(1),l=o(h),l&&(l.c(),transition_in(l,1),l.m(e.parentNode,e)))},i(h){transition_in(l)},o:noop$4,d(h){l.d(h),h&&detach(e)}}}function create_else_block$2(r){let e,t,o;return{c(){e=element("div"),t=element("div"),t.innerHTML=`<div class="d-flex flex-column flex-md-row justify-content-around align-items-center"><div class="pr-0 pr-md-4"><lottie-player src="https://assets1.lottiefiles.com/packages/lf20_e8zq5gga.json" background="transparent" speed="1" style="width:250px; margin:auto;" autoplay=""></lottie-player></div> 
              <div class="margin:auto;"><h4>Bienvenue sur R\xE9tine \u{1F680}</h4> 
                <p>Voici votre tableau de bord, qui vous donnera une vue d&#39;ensemble de vos projets les plus r\xE9cents.</p> 
                <p>Cr\xE9ez d\xE8s \xE0 pr\xE9sent votre premier sondage, \xE0 partir de 0 ou en chargeant un de nos mod\xE8les adapt\xE9 \xE0 votre situation !</p></div></div>`,attr(t,"class","neuProjet p-4 svelte-7o2nba"),attr(e,"class","col-12 col-sm-12 col-lg-12")},m(l,h){insert(l,e,h),append(e,t)},p:noop$4,i(l){o||add_render_callback(()=>{o=create_in_transition(t,fly,{y:50,duration:600,delay:50}),o.start()})},o:noop$4,d(l){l&&detach(e)}}}function create_if_block_5$1(r){let e,t,o,l,h,y,O,D,R,F,B,j;return{c(){e=element("div"),t=element("div"),o=element("h4"),o.textContent="Derni\xE8res r\xE9ponses \xE0 vos sondages",l=space(),h=element("div"),y=element("canvas"),O=space(),D=element("div"),R=element("button"),R.textContent="\u{1F4C4} Copier le graphique",attr(y,"id","repChart"),attr(h,"class","flex-fill p-3"),attr(R,"class","screenBtn hvr-grow svelte-7o2nba"),attr(D,"class","d-flex align-items-center justify-content-between"),attr(t,"class","neuProjet p-4 d-flex flex-column justify-content-between svelte-7o2nba"),set_style(t,"height","420px"),attr(e,"class","col-12 mb-3")},m(U,W){insert(U,e,W),append(e,t),append(t,o),append(t,l),append(t,h),append(h,y),append(t,O),append(t,D),append(D,R),B||(j=[action_destroyer(r[7].call(null,y)),listen(R,"click",r[10])],B=!0)},p:noop$4,i(U){F||add_render_callback(()=>{F=create_in_transition(t,fly,{y:50,duration:600,delay:50}),F.start()})},o:noop$4,d(U){U&&detach(e),B=!1,run_all(j)}}}function create_pending_block_1(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_catch_block$2(r){let e,t=r[23]+"",o;return{c(){e=element("div"),o=text(t)},m(l,h){insert(l,e,h),append(e,o)},p(l,h){h&16&&t!==(t=l[23]+"")&&set_data(o,t)},i:noop$4,o:noop$4,d(l){l&&detach(e)}}}function create_then_block$2(r){let e=r[18].filter(func_1).length>0,t,o=r[18].filter(func).length>0,l,h,y=e&&create_if_block_3$1(r),O=o&&create_if_block_1$2(r);return{c(){y&&y.c(),t=space(),O&&O.c(),l=empty$2()},m(D,R){y&&y.m(D,R),insert(D,t,R),O&&O.m(D,R),insert(D,l,R),h=!0},p(D,R){R&16&&(e=D[18].filter(func_1).length>0),e?y?(y.p(D,R),R&16&&transition_in(y,1)):(y=create_if_block_3$1(D),y.c(),transition_in(y,1),y.m(t.parentNode,t)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros()),R&16&&(o=D[18].filter(func).length>0),o?O?(O.p(D,R),R&16&&transition_in(O,1)):(O=create_if_block_1$2(D),O.c(),transition_in(O,1),O.m(l.parentNode,l)):O&&(group_outros(),transition_out(O,1,1,()=>{O=null}),check_outros())},i(D){h||(transition_in(y),transition_in(O),h=!0)},o(D){transition_out(y),transition_out(O),h=!1},d(D){y&&y.d(D),D&&detach(t),O&&O.d(D),D&&detach(l)}}}function create_if_block_3$1(r){let e,t,o,l,h=[],y=new Map,O,D,R=r[18].reverse().filter(func_2);const F=B=>B[19].id;for(let B=0;B<R.length;B+=1){let j=get_each_context_1(r,R,B),U=F(j);y.set(U,h[B]=create_each_block_1(U,j))}return{c(){e=element("div"),t=element("div"),o=element("h4"),o.textContent="Vos sondages r\xE9cents",l=space();for(let B=0;B<h.length;B+=1)h[B].c();attr(o,"class","mb-4"),attr(t,"class","neuProjet px-3 py-4 svelte-7o2nba"),attr(e,"class","col-12 col-sm-6 col-lg-6 mb-4")},m(B,j){insert(B,e,j),append(e,t),append(t,o),append(t,l);for(let U=0;U<h.length;U+=1)h[U].m(t,null);D=!0},p(B,j){j&275&&(R=B[18].reverse().filter(func_2),group_outros(),h=update_keyed_each(h,j,F,1,B,R,y,t,outro_and_destroy_block,create_each_block_1,null,get_each_context_1),check_outros())},i(B){if(!D){for(let j=0;j<R.length;j+=1)transition_in(h[j]);O||add_render_callback(()=>{O=create_in_transition(t,fly,{y:50,duration:600,delay:200}),O.start()}),D=!0}},o(B){for(let j=0;j<h.length;j+=1)transition_out(h[j]);D=!1},d(B){B&&detach(e);for(let j=0;j<h.length;j+=1)h[j].d()}}}function create_if_block_4$1(r){let e,t,o,l,h,y;function O(){return r[13](r[19])}return t=new ProjetLine({props:{loadSondage:r[0],sondage:r[19],loadSView:r[1],shareFunction:O,updateFun:r[8]}}),{c(){e=element("div"),create_component(t.$$.fragment),o=space(),l=element("hr"),h=space(),attr(l,"class","projectSep svelte-7o2nba")},m(D,R){insert(D,e,R),mount_component(t,e,null),append(e,o),append(e,l),append(e,h),y=!0},p(D,R){r=D;const F={};R&1&&(F.loadSondage=r[0]),R&16&&(F.sondage=r[19]),R&2&&(F.loadSView=r[1]),R&16&&(F.shareFunction=O),t.$set(F)},i(D){y||(transition_in(t.$$.fragment,D),y=!0)},o(D){transition_out(t.$$.fragment,D),y=!1},d(D){D&&detach(e),destroy_component(t)}}}function create_each_block_1(r,e){let t,o,l,h=e[21]<7&&create_if_block_4$1(e);return{key:r,first:null,c(){t=empty$2(),h&&h.c(),o=empty$2(),this.first=t},m(y,O){insert(y,t,O),h&&h.m(y,O),insert(y,o,O),l=!0},p(y,O){e=y,e[21]<7?h?(h.p(e,O),O&16&&transition_in(h,1)):(h=create_if_block_4$1(e),h.c(),transition_in(h,1),h.m(o.parentNode,o)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros())},i(y){l||(transition_in(h),l=!0)},o(y){transition_out(h),l=!1},d(y){y&&detach(t),h&&h.d(y),y&&detach(o)}}}function create_if_block_1$2(r){let e,t,o,l,h=[],y=new Map,O,D,R=r[18].reverse().filter(func_4);const F=B=>B[19].id;for(let B=0;B<R.length;B+=1){let j=get_each_context(r,R,B),U=F(j);y.set(U,h[B]=create_each_block(U,j))}return{c(){e=element("div"),t=element("div"),o=element("h4"),o.textContent="Reprenez vos brouillons",l=space();for(let B=0;B<h.length;B+=1)h[B].c();attr(o,"class","mb-4"),attr(t,"class","neuProjet px-3 py-4 svelte-7o2nba"),attr(e,"class","col-12 col-sm-6 col-lg-6 mb-4")},m(B,j){insert(B,e,j),append(e,t),append(t,o),append(t,l);for(let U=0;U<h.length;U+=1)h[U].m(t,null);D=!0},p(B,j){j&275&&(R=B[18].reverse().filter(func_4),group_outros(),h=update_keyed_each(h,j,F,1,B,R,y,t,outro_and_destroy_block,create_each_block,null,get_each_context),check_outros())},i(B){if(!D){for(let j=0;j<R.length;j+=1)transition_in(h[j]);O||add_render_callback(()=>{O=create_in_transition(t,fly,{y:50,duration:600,delay:300}),O.start()}),D=!0}},o(B){for(let j=0;j<h.length;j+=1)transition_out(h[j]);D=!1},d(B){B&&detach(e);for(let j=0;j<h.length;j+=1)h[j].d()}}}function create_if_block_2$2(r){let e,t,o,l,h,y;function O(){return r[14](r[19])}return t=new ProjetLine({props:{loadSondage:r[0],sondage:r[19],loadSView:r[1],shareFunction:O,updateFun:r[8]}}),{c(){e=element("div"),create_component(t.$$.fragment),o=space(),l=element("hr"),h=space(),attr(l,"class","projectSep svelte-7o2nba")},m(D,R){insert(D,e,R),mount_component(t,e,null),append(e,o),append(e,l),append(e,h),y=!0},p(D,R){r=D;const F={};R&1&&(F.loadSondage=r[0]),R&16&&(F.sondage=r[19]),R&2&&(F.loadSView=r[1]),R&16&&(F.shareFunction=O),t.$set(F)},i(D){y||(transition_in(t.$$.fragment,D),y=!0)},o(D){transition_out(t.$$.fragment,D),y=!1},d(D){D&&detach(e),destroy_component(t)}}}function create_each_block(r,e){let t,o,l,h=e[21]<7&&create_if_block_2$2(e);return{key:r,first:null,c(){t=empty$2(),h&&h.c(),o=empty$2(),this.first=t},m(y,O){insert(y,t,O),h&&h.m(y,O),insert(y,o,O),l=!0},p(y,O){e=y,e[21]<7?h?(h.p(e,O),O&16&&transition_in(h,1)):(h=create_if_block_2$2(e),h.c(),transition_in(h,1),h.m(o.parentNode,o)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros())},i(y){l||(transition_in(h),l=!0)},o(y){transition_out(h),l=!1},d(y){y&&detach(t),h&&h.d(y),y&&detach(o)}}}function create_pending_block$2(r){let e;return{c(){e=element("div"),attr(e,"class","col-12")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_if_block$2(r){let e,t,o,l,h,y,O;const D=[r[5].props||{}];var R=r[5].component;function F(B){let j={};for(let U=0;U<D.length;U+=1)j=assign$8(j,D[U]);return{props:j}}return R&&(e=new R(F())),{c(){e&&create_component(e.$$.fragment),t=space(),o=element("div"),attr(o,"class","backdrop svelte-7o2nba")},m(B,j){e&&mount_component(e,B,j),insert(B,t,j),insert(B,o,j),h=!0,y||(O=listen(o,"click",r[15]),y=!0)},p(B,j){const U=j&32?get_spread_update(D,[get_spread_object(B[5].props||{})]):{};if(R!==(R=B[5].component)){if(e){group_outros();const W=e;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(e=new R(F()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else R&&e.$set(U)},i(B){h||(e&&transition_in(e.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(B){e&&transition_out(e.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(B){e&&destroy_component(e,B),B&&detach(t),B&&detach(o),B&&l&&l.end(),y=!1,O()}}}function create_default_slot$1(r){let e,t,o=r[5]&&create_if_block$2(r);return{c(){o&&o.c(),e=empty$2()},m(l,h){o&&o.m(l,h),insert(l,e,h),t=!0},p(l,h){l[5]?o?(o.p(l,h),h&32&&transition_in(o,1)):(o=create_if_block$2(l),o.c(),transition_in(o,1),o.m(e.parentNode,e)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){t||(transition_in(o),t=!0)},o(l){transition_out(o),t=!1},d(l){o&&o.d(l),l&&detach(e)}}}function create_fragment$6(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne,se,ce,ue,he={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_1,then:create_then_block_1,catch:create_catch_block_1,value:24};handle_promise(U=r[3],he);let pe={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$2,then:create_then_block$2,catch:create_catch_block$2,value:18,error:23,blocks:[,,,]};return handle_promise(re=r[4],pe),ne=new Modals({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:r}}}),{c(){e=element("script"),o=space(),l=element("div"),h=element("h1"),h.textContent="Tableau de bord",y=space(),O=element("h6"),O.textContent="Vue d\u2019ensemble de votre activit\xE9 sur R\xE9tine",D=space(),R=element("div"),F=space(),B=element("div"),j=element("div"),he.block.c(),W=space(),G=element("div"),q=element("div"),K=element("div"),Y=element("div"),Y.textContent="\u{1F58C}\uFE0F Cr\xE9er un nouveau projet",J=space(),Q=element("div"),Z=element("div"),Z.textContent="\u{1F4DA} Charger un mod\xE8le",te=space(),pe.block.c(),ie=space(),create_component(ne.$$.fragment),src_url_equal(e.src,t="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js")||attr(e,"src",t),attr(e,"integrity","sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="),attr(e,"crossorigin","anonymous"),attr(e,"referrerpolicy","no-referrer"),attr(h,"class","py-2 mb-1 text-left"),attr(O,"class","ps-3 opacity-75"),attr(R,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),attr(Y,"class","btnCreate hvr-float d-flex align-items-center justify-content-center text-center svelte-7o2nba"),attr(K,"class","col-6 my-2"),attr(Z,"class","btnCreate hvr-float d-flex align-items-center justify-content-center text-center svelte-7o2nba"),set_style(Z,"background-color","#E7BB734D"),set_style(Z,"color","black"),attr(Q,"class","col-6 my-2"),attr(q,"class","row"),attr(G,"class","col-12 col-sm-12 col-lg-12 my-4"),attr(j,"class","row"),set_style(B,"min-height","100vh"),attr(l,"id","monDashboard"),attr(l,"class","row p-3 w-100 mx-auto mb-5"),set_style(l,"max-width","1100px")},m(oe,ae){append(document.head,e),insert(oe,o,ae),insert(oe,l,ae),append(l,h),append(l,y),append(l,O),append(l,D),append(l,R),append(l,F),append(l,B),append(B,j),he.block.m(j,he.anchor=null),he.mount=()=>j,he.anchor=W,append(j,W),append(j,G),append(G,q),append(q,K),append(K,Y),append(q,J),append(q,Q),append(Q,Z),append(j,te),pe.block.m(j,pe.anchor=null),pe.mount=()=>j,pe.anchor=null,insert(oe,ie,ae),mount_component(ne,oe,ae),se=!0,ce||(ue=[listen(Y,"click",r[11]),listen(Z,"click",r[12])],ce=!0)},p(oe,[ae]){r=oe,he.ctx=r,ae&8&&U!==(U=r[3])&&handle_promise(U,he)||update_await_block_branch(he,r,ae),pe.ctx=r,ae&16&&re!==(re=r[4])&&handle_promise(re,pe)||update_await_block_branch(pe,r,ae);const le={};ae&33554464&&(le.$$scope={dirty:ae,ctx:r}),ne.$set(le)},i(oe){se||(transition_in(he.block),X||add_render_callback(()=>{X=create_in_transition(Y,fly,{y:50,duration:600,delay:200}),X.start()}),ee||add_render_callback(()=>{ee=create_in_transition(Z,fly,{y:50,duration:600,delay:200}),ee.start()}),transition_in(pe.block),transition_in(ne.$$.fragment,oe),se=!0)},o(oe){for(let ae=0;ae<3;ae+=1){const le=pe.blocks[ae];transition_out(le)}transition_out(ne.$$.fragment,oe),se=!1},d(oe){detach(e),oe&&detach(o),oe&&detach(l),he.block.d(),he.token=null,he=null,pe.block.d(),pe.token=null,pe=null,oe&&detach(ie),destroy_component(ne,oe),ce=!1,run_all(ue)}}}const func=r=>r.priv,func_1=r=>!r.priv,func_2=r=>!r.priv,func_4=r=>r.reponse.length==0&&r.priv;function instance$4(r,e,t){let o,l;component_subscribe(r,modals,Q=>t(9,l=Q));function h(Q){activePageStore.set(Q)}(xxgc("rtnt")==null||xxgc("rtnu")==null)&&(window.location.href="/");let{loadSondage:y}=e,{loadSView:O}=e,D=[];async function R(){var Q=new Headers;Q.append("Authorization","Token "+xxgc("rtnt")),Q.append("Content-Type","application/json");var Z={method:"GET",headers:Q,redirect:"follow"};return fetch(rtnUrl+"summaryreps/",Z).then(ee=>ee.text()).then(async ee=>{t(2,D=JSON.parse(ee))}).catch(ee=>ee)}let F=R();function B(Q){if(D.length>0){let Z=getDaysArray(new Date().setDate(new Date().getDate()-30),new Date().setDate(new Date().getDate())).map(ee=>ee.toISOString().slice(0,10)).map(ee=>ee.replaceAll("-","/"));t(2,D=D.map((ee,te)=>({label:ee.label,data:Z.map(re=>countOccurrences(ee.data.map(ie=>ie.replaceAll("-","/").split(" ")[0].split("T")[0]),re)),tension:.2,borderColor:ee.color,backgroundColor:ee.color,borderRadius:5}))),new Chart(Q,{type:"line",data:{labels:Z,datasets:D},options:{scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},datalabels:{color:"white"}}}})}}async function j(){var Q=new Headers;Q.append("Authorization","Token "+xxgc("rtnt")),Q.append("Content-Type","application/json");var Z={method:"GET",headers:Q,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",Z).then(ee=>ee.text()).then(ee=>JSON.parse(ee)).catch(ee=>ee)}let U=j();const W=()=>{t(4,U=j()),t(3,F=R())},G=Q=>copyGraph(Q.target.parentElement.previousSibling.previousSibling),q=()=>y("new"),K=()=>h("templates"),Y=Q=>{openModal(ModalDiffuse,{proj:Q})},X=Q=>{openModal(ModalDiffuse,{proj:Q})},J=()=>{closeModal()};return r.$$set=Q=>{"loadSondage"in Q&&t(0,y=Q.loadSondage),"loadSView"in Q&&t(1,O=Q.loadSView)},r.$$.update=()=>{r.$$.dirty&512&&t(5,o=l[l.length-1])},[y,O,D,F,U,o,h,B,W,l,G,q,K,Y,X,J]}class Summary extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$6,safe_not_equal,{loadSondage:0,loadSView:1})}}var cooltipz_min="",_dash_svelte_svelte_type_style_lang="";function create_if_block_7(r){let e,t;return e=new Account({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p:noop$4,i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_if_block_6(r){let e,t;return e=new Campagnes({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p:noop$4,i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_if_block_5(r){let e,t;return e=new Templates({props:{loadSondage:r[3]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p:noop$4,i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_if_block_4(r){let e,t;return e=new ProjectView({props:{projData:r[2]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p(o,l){const h={};l&4&&(h.projData=o[2]),e.$set(h)},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_if_block_3(r){let e,t;return e=new ProjectsList({props:{loadSondage:r[3],loadSView:r[4]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p:noop$4,i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_if_block_1$1(r){let e,t,o,l;const h=[create_if_block_2$1,create_else_block$1],y=[];function O(D,R){return D[1].proj.jsonContent.length!=0?0:1}return e=O(r),t=y[e]=h[e](r),{c(){t.c(),o=empty$2()},m(D,R){y[e].m(D,R),insert(D,o,R),l=!0},p(D,R){let F=e;e=O(D),e===F?y[e].p(D,R):(group_outros(),transition_out(y[F],1,1,()=>{y[F]=null}),check_outros(),t=y[e],t?t.p(D,R):(t=y[e]=h[e](D),t.c()),transition_in(t,1),t.m(o.parentNode,o))},i(D){l||(transition_in(t),l=!0)},o(D){transition_out(t),l=!1},d(D){y[e].d(D),D&&detach(o)}}}function create_if_block$1(r){let e,t;return e=new Summary({props:{loadSondage:r[3],loadSView:r[4]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p:noop$4,i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_else_block$1(r){let e,t;return e=new Editor({props:{loadSondage:r[3]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p:noop$4,i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_if_block_2$1(r){let e,t;return e=new Editor({props:{sondageEnCreation:r[1].proj,idSondage:r[1].id,loadSondage:r[3]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p(o,l){const h={};l&2&&(h.sondageEnCreation=o[1].proj),l&2&&(h.idSondage=o[1].id),e.$set(h)},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_key_block(r){let e,t,o,l,h,y;const O=[create_if_block$1,create_if_block_1$1,create_if_block_3,create_if_block_4,create_if_block_5,create_if_block_6,create_if_block_7],D=[];function R(F,B){return F[0]==="summary"?0:F[0]==="editor"?1:F[0]==="projects"?2:F[0]==="projectView"?3:F[0]==="templates"?4:F[0]==="contacts"?5:F[0]==="account"?6:-1}return~(t=R(r))&&(o=D[t]=O[t](r)),{c(){e=element("div"),o&&o.c(),attr(e,"class","svelte-1icmhhc")},m(F,B){insert(F,e,B),~t&&D[t].m(e,null),y=!0},p(F,B){let j=t;t=R(F),t===j?~t&&D[t].p(F,B):(o&&(group_outros(),transition_out(D[j],1,1,()=>{D[j]=null}),check_outros()),~t?(o=D[t],o?o.p(F,B):(o=D[t]=O[t](F),o.c()),transition_in(o,1),o.m(e,null)):o=null)},i(F){y||(transition_in(o),add_render_callback(()=>{h&&h.end(1),l=create_in_transition(e,fly,{x:-100}),l.start()}),y=!0)},o(F){transition_out(o),l&&l.invalidate(),h=create_out_transition(e,fly,{x:-50}),y=!1},d(F){F&&detach(e),~t&&D[t].d(),F&&h&&h.end()}}}function create_fragment$5(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K,Y,X,J,Q,Z,ee,te,re,ie,ne,se,ce,ue,he,pe,oe,ae,le,me,ge,fe,_e,we,ve,Se,$e,be,ye,Oe,Te,ke,Ee,Ie,xe,Me,Ae,Re,Ce,Ne,Be,Ve,Le=r[0],ze,He,je,De=create_key_block(r);return{c(){e=element("link"),t=element("script"),l=element("script"),y=element("script"),D=space(),R=element("div"),F=element("div"),B=element("nav"),j=element("div"),U=element("div"),W=element("div"),W.innerHTML='<img src="assets/faviconBlanc.ico" style="height:24px;" alt="Logo de r\xE9tine" class="svelte-1icmhhc"/>',G=space(),q=element("div"),K=element("a"),Y=element("i"),X=space(),J=element("span"),J.textContent="Dashboard",Z=space(),ee=element("a"),te=element("i"),re=space(),ie=element("span"),ie.textContent="Cr\xE9er",se=space(),ce=element("a"),ue=element("i"),he=space(),pe=element("span"),pe.textContent="Projets",ae=space(),le=element("a"),me=element("i"),ge=space(),fe=element("span"),fe.textContent="Mod\xE8les",we=space(),ve=element("a"),Se=element("i"),$e=space(),be=element("span"),be.textContent="Contacts",Oe=space(),Te=element("div"),ke=element("a"),Ee=element("i"),Ie=space(),xe=element("span"),xe.textContent="Mon compte",Ae=space(),Re=element("a"),Re.innerHTML='<i class="bx bx-log-out nav_icon svelte-1icmhhc"></i>  <span class="nav_name svelte-1icmhhc">D\xE9connexion</span>',Ce=space(),Ne=element("div"),Be=element("main"),Ve=element("div"),De.c(),attr(e,"rel","stylesheet"),attr(e,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),attr(e,"class","svelte-1icmhhc"),src_url_equal(t.src,o="/assets/scripts/svg-gauge.min.js")||attr(t,"src",o),attr(t,"class","svelte-1icmhhc"),src_url_equal(l.src,h="/assets/scripts/graphFunctions.js")||attr(l,"src",h),attr(l,"class","svelte-1icmhhc"),src_url_equal(y.src,O="https://js.stripe.com/v3/")||attr(y,"src",O),attr(y,"class","svelte-1icmhhc"),attr(W,"class","p-0 mb-2 svelte-1icmhhc"),set_style(W,"font-family","Lexend"),set_style(W,"color","white"),set_style(W,"font-size","1.2rem"),set_style(W,"font-weight","600"),set_style(W,"cursor","pointer"),attr(U,"class","nav_link navbar-brand svelte-1icmhhc"),attr(Y,"class","bx bxs-home nav_icon svelte-1icmhhc"),attr(J,"class","nav_name svelte-1icmhhc"),attr(K,"href","#"),attr(K,"class",Q=null_to_empty(r[0]=="summary"?"nav_link active":"nav_link ")+" svelte-1icmhhc"),attr(te,"class","bx bx-paint nav_icon svelte-1icmhhc"),attr(ie,"class","nav_name svelte-1icmhhc"),attr(ee,"href","#"),attr(ee,"id","creatorTabBtn"),attr(ee,"class",ne=null_to_empty(r[0]=="editor"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(ue,"class","bx bx-grid-alt nav_icon svelte-1icmhhc"),attr(pe,"class","nav_name svelte-1icmhhc"),attr(ce,"href","#"),attr(ce,"class",oe=null_to_empty(r[0]=="projects"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(me,"class","bx bx-library nav_icon svelte-1icmhhc"),attr(fe,"class","nav_name svelte-1icmhhc"),attr(le,"href","#"),attr(le,"class",_e=null_to_empty(r[0]=="templates"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(Se,"class","bx bxs-megaphone nav_icon svelte-1icmhhc"),attr(be,"class","nav_name svelte-1icmhhc"),attr(ve,"href","#"),attr(ve,"class",ye=null_to_empty(r[0]=="contacts"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(q,"class","nav_list svelte-1icmhhc"),attr(j,"class","svelte-1icmhhc"),attr(Ee,"class","bx bxs-user-account nav_icon svelte-1icmhhc"),attr(xe,"class","nav_name svelte-1icmhhc"),attr(ke,"href","#"),attr(ke,"class",Me=null_to_empty(r[0]=="account"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(Re,"href","#"),attr(Re,"class","nav_link svelte-1icmhhc"),attr(Te,"class","svelte-1icmhhc"),attr(B,"class","nav svelte-1icmhhc"),attr(F,"class","l-navbar svelte-1icmhhc"),attr(Ve,"class","gridForAnimation svelte-1icmhhc"),attr(Be,"class","pt-3 px-1 pb-5 d-flex flex-column align-items-center justify-content-center svelte-1icmhhc"),set_style(Be,"min-height","100vh"),attr(Ne,"class","container-fluid px-0 px-md-1 svelte-1icmhhc"),attr(R,"class","body-pd svelte-1icmhhc")},m(Pe,Fe){append(document.head,e),append(document.head,t),append(document.head,l),append(document.head,y),insert(Pe,D,Fe),insert(Pe,R,Fe),append(R,F),append(F,B),append(B,j),append(j,U),append(U,W),append(j,G),append(j,q),append(q,K),append(K,Y),append(K,X),append(K,J),append(q,Z),append(q,ee),append(ee,te),append(ee,re),append(ee,ie),append(q,se),append(q,ce),append(ce,ue),append(ce,he),append(ce,pe),append(q,ae),append(q,le),append(le,me),append(le,ge),append(le,fe),append(q,we),append(q,ve),append(ve,Se),append(ve,$e),append(ve,be),append(B,Oe),append(B,Te),append(Te,ke),append(ke,Ee),append(ke,Ie),append(ke,xe),append(Te,Ae),append(Te,Re),append(R,Ce),append(R,Ne),append(Ne,Be),append(Be,Ve),De.m(Ve,null),ze=!0,He||(je=[listen(W,"click",r[5]),listen(K,"click",r[6]),listen(ee,"click",r[7]),listen(ce,"click",r[8]),listen(le,"click",r[9]),listen(ve,"click",r[10]),listen(ke,"click",r[11]),listen(Re,"click",r[12])],He=!0)},p(Pe,[Fe]){(!ze||Fe&1&&Q!==(Q=null_to_empty(Pe[0]=="summary"?"nav_link active":"nav_link ")+" svelte-1icmhhc"))&&attr(K,"class",Q),(!ze||Fe&1&&ne!==(ne=null_to_empty(Pe[0]=="editor"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(ee,"class",ne),(!ze||Fe&1&&oe!==(oe=null_to_empty(Pe[0]=="projects"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(ce,"class",oe),(!ze||Fe&1&&_e!==(_e=null_to_empty(Pe[0]=="templates"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(le,"class",_e),(!ze||Fe&1&&ye!==(ye=null_to_empty(Pe[0]=="contacts"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(ve,"class",ye),(!ze||Fe&1&&Me!==(Me=null_to_empty(Pe[0]=="account"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(ke,"class",Me),Fe&1&&safe_not_equal(Le,Le=Pe[0])?(group_outros(),transition_out(De,1,1,noop$4),check_outros(),De=create_key_block(Pe),De.c(),transition_in(De,1),De.m(Ve,null)):De.p(Pe,Fe)},i(Pe){ze||(transition_in(De),ze=!0)},o(Pe){transition_out(De),ze=!1},d(Pe){detach(e),detach(t),detach(l),detach(y),Pe&&detach(D),Pe&&detach(R),De.d(Pe),He=!1,run_all(je)}}}function instance$3(r,e,t){let o;activePageStore.subscribe(q=>{t(0,o=q)});let l={proj:{v:vSondage,nom_proj:"",color:"",logo:"",jsonContent:[]},id:null};const h=(q,K=null)=>{q=="new"?t(1,l={proj:{v:vSondage,nom_proj:"",color:"",logo:"",jsonContent:[]},id:K}):t(1,l={v:vSondage,proj:q,id:K}),t(0,o="editor")};let y;return[o,l,y,h,q=>{t(2,y=q),t(0,o="projectView")},()=>t(0,o="summary"),()=>t(0,o="summary"),()=>{h("new")},()=>t(0,o="projects"),()=>t(0,o="templates"),()=>t(0,o="contacts"),()=>t(0,o="account"),()=>{xxec("rtnt"),xxec("rtnu"),window.location.href="/"}]}class Dash extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$5,safe_not_equal,{})}}var sondage_svelte_svelte_type_style_lang="";function create_catch_block$1(r){let e=r[5]+"",t;return{c(){t=text(e)},m(o,l){insert(o,t,l)},p:noop$4,i:noop$4,o:noop$4,d(o){o&&detach(t)}}}function create_then_block$1(r){let e,t,o,l,h,y;return l=new Chat({props:{chatContent:r[4],scode:r[0]}}),{c(){e=element("div"),t=element("div"),o=element("div"),create_component(l.$$.fragment),attr(o,"class","w-100 h-100"),attr(t,"class","containerR svelte-lpd35z"),attr(e,"class","body svelte-lpd35z"),set_style(e,"background-color",r[4].color)},m(O,D){insert(O,e,D),append(e,t),append(t,o),mount_component(l,o,null),y=!0},p:noop$4,i(O){y||(transition_in(l.$$.fragment,O),h||add_render_callback(()=>{h=create_in_transition(o,blur,{duration:200}),h.start()}),y=!0)},o(O){transition_out(l.$$.fragment,O),y=!1},d(O){O&&detach(e),destroy_component(l)}}}function create_pending_block$1(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_fragment$4(r){let e,t,o={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$1,then:create_then_block$1,catch:create_catch_block$1,value:4,error:5,blocks:[,,,]};return handle_promise(r[1],o),{c(){e=empty$2(),o.block.c()},m(l,h){insert(l,e,h),o.block.m(l,o.anchor=h),o.mount=()=>e.parentNode,o.anchor=e,t=!0},p(l,[h]){r=l,update_await_block_branch(o,r,h)},i(l){t||(transition_in(o.block),t=!0)},o(l){for(let h=0;h<3;h+=1){const y=o.blocks[h];transition_out(y)}t=!1},d(l){l&&detach(e),o.block.d(l),o.token=null,o=null}}}function instance$2(r){let e=window.location.href.split("#");async function t(){var l=new Headers;return l.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/pub/${e[1]}/`,{method:"GET",headers:l,redirect:"follow"}).then(h=>h.text()).then(h=>{let y=JSON.parse(h);return y.jsonContent=JSON.parse(y.jsonContent),console.log(y),y}).catch(h=>{throw new Error(h)})}let o=t();return[e,o]}class Sondage extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$4,safe_not_equal,{})}}var publicEditor_svelte_svelte_type_style_lang="";function create_fragment$3(r){let e,t,o;return t=new Editor({props:{demoMode:!0}}),{c(){e=element("div"),create_component(t.$$.fragment),attr(e,"class","editorContainer svelte-laokcu")},m(l,h){insert(l,e,h),mount_component(t,e,null),o=!0},p:noop$4,i(l){o||(transition_in(t.$$.fragment,l),o=!0)},o(l){transition_out(t.$$.fragment,l),o=!1},d(l){l&&detach(e),destroy_component(t)}}}class PublicEditor extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$3,safe_not_equal,{})}}var tuto_svelte_svelte_type_style_lang="";function create_fragment$2(r){let e,t,o,l,h,y,O,D,R,F,B,j,U,W,G,q,K;return{c(){e=element("div"),t=element("h1"),t.textContent="\u{1F4D6} Documentation",o=space(),l=element("div"),h=space(),y=element("div"),O=element("div"),D=element("div"),D.innerHTML=`<div class="d-flex flex-column flex-md-row justify-content-around align-items-center"><div class="pr-0 pr-md-4"><lottie-player src="https://assets1.lottiefiles.com/packages/lf20_e8zq5gga.json" background="transparent" speed="1" style="width:250px; margin:auto;" autoplay=""></lottie-player></div> 
          <div class="m-auto h-100"><h5>Bienvenue dans ce tutoriel d\u2019utilisation de la plateforme R\xE9tine !</h5> 
            <p>Si jamais une zone d\u2019ombre subsiste ou que vous rencontrez un probl\xE8me technique, \xE9crivez-nous \xE0 bonjour@retine.io</p></div></div>`,F=space(),B=element("div"),j=element("div"),j.innerHTML=`<h5>1. Se connecter</h5> 
        <p>Pour vous connecter \xE0 votre espace R\xE9tine, rendez-vous sur retine.io puis cliquez sur le bouton \u201CMon compte\u201D. Cliquez sur \u201CD\xE9j\xE0 un compte ?\u201D si vous
          poss\xE9dez d\xE9j\xE0 vos identifiants.</p> 
        <div class="pr-0 pr-md-4">vid\xE9o</div>`,W=space(),G=element("div"),q=element("div"),q.innerHTML=`<h5>2. Naviguer sur la plateforme</h5> 
        <p>Une fois connect\xE9, vous arrivez sur votre tableau de bord. Cette page r\xE9sume votre activit\xE9, en pr\xE9sentant le nombre de r\xE9ponses que vos sondages ont
          obtenus r\xE9cemment. Elle vous permet \xE9galement de cr\xE9er un nouveau sondage, charger un template ou encore acc\xE9der \xE0 vos sondages (publi\xE9s ou encore au
          statut de brouillon).</p> 
        <p>La navigation se fait librement gr\xE2ce \xE0 la barre lat\xE9rale, sur la gauche, qui vous permet d\u2019acc\xE9der aux onglets suivants :</p> 
        <ul><li>\u{1F3E0} : votre tableau de bord</li> 
          <li>\u{1F58C}\uFE0F : l\u2019**interface de cr\xE9ation** de sondages</li> 
          <li>\u{1F522} : l\u2019**ensemble de vos sondages** (publi\xE9s &amp; brouillons) ainsi que l\u2019acc\xE8s aux **r\xE9sultats**</li> 
          <li>\u{1F4DA} : la **galerie de templates** (des mod\xE8les de sondages pr\xE9con\xE7us par notre \xE9quipe)</li> 
          <li>\u{1F508} : l\u2019onglet de gestion des **campagnes**, vous permettant de cr\xE9er des listes de diffusion et de partager vos sondages</li></ul> 
        <div class="pr-0 pr-md-4">vid\xE9o</div>`,attr(t,"class","py-2 mb-3 text-center"),attr(l,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3"),attr(D,"class","neuProjet p-2 p-md-4 svelte-15aqkil"),attr(O,"class","col-12 col-sm-12 col-lg-12 mb-4"),attr(j,"class","neuProjet p-2 p-md-4 svelte-15aqkil"),attr(B,"class","col-12 col-sm-12 col-lg-12 mb-4"),attr(q,"class","neuProjet p-2 p-md-4 svelte-15aqkil"),attr(G,"class","col-12 col-sm-12 col-lg-12 mb-4"),attr(y,"id","monDashboard"),attr(y,"class","row p-3 w-100 mx-auto mb-5"),set_style(y,"max-width","1100px"),attr(e,"class","body p-1 p-md-5 svelte-15aqkil")},m(Y,X){insert(Y,e,X),append(e,t),append(e,o),append(e,l),append(e,h),append(e,y),append(y,O),append(O,D),append(y,F),append(y,B),append(B,j),append(y,W),append(y,G),append(G,q)},p:noop$4,i(Y){R||add_render_callback(()=>{R=create_in_transition(D,fly,{y:50,duration:600,delay:50}),R.start()}),U||add_render_callback(()=>{U=create_in_transition(j,fly,{y:50,duration:600,delay:50}),U.start()}),K||add_render_callback(()=>{K=create_in_transition(q,fly,{y:50,duration:600,delay:50}),K.start()})},o:noop$4,d(Y){Y&&detach(e)}}}function instance$1(r){return window.location.href="https://pierrebaptiste.notion.site/R-tine-Tutoriel-d5bafafecca840feb9c40f6e6d05c6b3",[]}class Tuto extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$2,safe_not_equal,{})}}var publicProjectView_svelte_svelte_type_style_lang="";function create_catch_block(r){let e;return{c(){e=text("Erreur")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_then_block(r){let e,t,o,l;const h=[create_if_block,create_else_block],y=[];function O(D,R){return D[2]?0:1}return e=O(r),t=y[e]=h[e](r),{c(){t.c(),o=empty$2()},m(D,R){y[e].m(D,R),insert(D,o,R),l=!0},p(D,R){let F=e;e=O(D),e===F?y[e].p(D,R):(group_outros(),transition_out(y[F],1,1,()=>{y[F]=null}),check_outros(),t=y[e],t?t.p(D,R):(t=y[e]=h[e](D),t.c()),transition_in(t,1),t.m(o.parentNode,o))},i(D){l||(transition_in(t),l=!0)},o(D){transition_out(t),l=!1},d(D){y[e].d(D),D&&detach(o)}}}function create_else_block(r){let e,t,o,l;function h(D,R){return D[8].nom_proj!=null?create_if_block_1:create_else_block_1}let O=h(r)(r);return{c(){e=element("div"),t=element("div"),O.c(),attr(t,"class","cardConnex p-4 p-md-5 svelte-1h3xw5e"),attr(e,"class","lockScreen container-fluid d-flex align-items-center justify-content-center svelte-1h3xw5e"),set_style(e,"background-color",r[8].color)},m(D,R){insert(D,e,R),append(e,t),O.m(t,null),l=!0},p(D,R){O.p(D,R)},i(D){l||(o&&o.end(1),l=!0)},o(D){o=create_out_transition(e,fly,{y:-20,duration:500}),l=!1},d(D){D&&detach(e),O.d(),D&&o&&o.end()}}}function create_if_block(r){let e,t;return e=new ProjectView({props:{projData:r[8],invit:[r[3],r[0]]}}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},p(o,l){const h={};l&1&&(h.invit=[o[3],o[0]]),e.$set(h)},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_else_block_1(r){let e;return{c(){e=element("div"),e.textContent="Lien incorrect.",attr(e,"class","text-center")},m(t,o){insert(t,e,o)},p:noop$4,d(t){t&&detach(e)}}}function create_if_block_1(r){let e,t,o,l,h,y=r[8].nom_proj+"",O,D,R,F,B,j,U,W,G,q,K,Y,X,J=r[1]!=""&&create_if_block_2(r);return{c(){e=element("h2"),e.textContent="Connexion aux r\xE9sultats",t=space(),o=element("p"),l=text("Saissez votre code pour acc\xE9der aux r\xE9sultats de "),h=element("span"),O=text(y),D=text("."),R=space(),F=element("div"),B=element("div"),j=element("input"),U=space(),W=element("div"),G=element("div"),G.innerHTML='<i class="bx bx-right-arrow-alt"></i>',q=space(),K=element("div"),J&&J.c(),set_style(h,"color",r[8].color),attr(j,"class","inputCode svelte-1h3xw5e"),attr(j,"type","text"),attr(j,"maxlength","50"),attr(j,"placeholder","Code d'acc\xE8s..."),attr(B,"class","col-9"),attr(G,"class","unlockBtn hvr-grow svelte-1h3xw5e"),attr(W,"class","col-3"),attr(F,"class","py-3 row")},m(Q,Z){insert(Q,e,Z),insert(Q,t,Z),insert(Q,o,Z),append(o,l),append(o,h),append(h,O),append(o,D),insert(Q,R,Z),insert(Q,F,Z),append(F,B),append(B,j),set_input_value(j,r[0]),append(F,U),append(F,W),append(W,G),insert(Q,q,Z),insert(Q,K,Z),J&&J.m(K,null),Y||(X=[listen(j,"input",r[6]),listen(G,"click",r[4])],Y=!0)},p(Q,Z){Z&1&&j.value!==Q[0]&&set_input_value(j,Q[0]),Q[1]!=""?J?J.p(Q,Z):(J=create_if_block_2(Q),J.c(),J.m(K,null)):J&&(J.d(1),J=null)},d(Q){Q&&detach(e),Q&&detach(t),Q&&detach(o),Q&&detach(R),Q&&detach(F),Q&&detach(q),Q&&detach(K),J&&J.d(),Y=!1,run_all(X)}}}function create_if_block_2(r){let e;return{c(){e=text(r[1])},m(t,o){insert(t,e,o)},p(t,o){o&2&&set_data(e,t[1])},d(t){t&&detach(e)}}}function create_pending_block(r){let e;return{c(){e=text("Chargement...")},m(t,o){insert(t,e,o)},p:noop$4,i:noop$4,o:noop$4,d(t){t&&detach(e)}}}function create_fragment$1(r){let e,t,o,l,h,y,O,D,R={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:8,error:9,blocks:[,,,]};return handle_promise(r[5],R),{c(){e=element("link"),t=element("script"),l=element("script"),y=space(),O=element("div"),R.block.c(),attr(e,"rel","stylesheet"),attr(e,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),src_url_equal(t.src,o="/assets/scripts/svg-gauge.min.js")||attr(t,"src",o),src_url_equal(l.src,h="/assets/scripts/graphFunctions.js")||attr(l,"src",h),attr(O,"class","body svelte-1h3xw5e")},m(F,B){append(document.head,e),append(document.head,t),append(document.head,l),insert(F,y,B),insert(F,O,B),R.block.m(O,R.anchor=null),R.mount=()=>O,R.anchor=null,D=!0},p(F,[B]){r=F,update_await_block_branch(R,r,B)},i(F){D||(transition_in(R.block),D=!0)},o(F){for(let B=0;B<3;B+=1){const j=R.blocks[B];transition_out(j)}D=!1},d(F){detach(e),detach(t),detach(l),F&&detach(y),F&&detach(O),R.block.d(),R.token=null,R=null}}}function instance(r,e,t){let o=window.location.href.split("#")[1],l="",h="",y=!1;function O(){var B=new Headers;B.append("Content-Type","application/json");var j={method:"POST",headers:B,redirect:"follow",body:JSON.stringify({sid:o,spw:l,fltr1:"",fltr2:""})};return fetch(`${rtnUrl}repspub/`,j).then(U=>{if(U.ok){t(2,y=!0);return}else throw t(1,h="Mot de passe incorrect."),new Error("Something went wrong")}).catch(U=>U)}async function D(){var B=new Headers;B.append("Content-Type","application/json");var j={method:"GET",headers:B,redirect:"follow"};return fetch(`${rtnUrl}sondpub/${o}`,j).then(U=>U.text()).then(U=>JSON.parse(U)).catch(U=>U)}let R=D();function F(){l=this.value,t(0,l)}return[l,h,y,o,O,R,F]}class PublicProjectView extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment$1,safe_not_equal,{})}}function create_default_slot_6(r){let e,t;return e=new Home({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_default_slot_5(r){let e,t;return e=new Dash({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_default_slot_4(r){let e,t;return e=new Sondage({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_default_slot_3(r){let e,t;return e=new PublicEditor({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_default_slot_2(r){let e,t;return e=new Tuto({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_default_slot_1(r){let e,t;return e=new PublicProjectView({}),{c(){create_component(e.$$.fragment)},m(o,l){mount_component(e,o,l),t=!0},i(o){t||(transition_in(e.$$.fragment,o),t=!0)},o(o){transition_out(e.$$.fragment,o),t=!1},d(o){destroy_component(e,o)}}}function create_default_slot(r){let e,t,o,l,h,y,O,D,R,F,B,j;return e=new Route({props:{path:"/",$$slots:{default:[create_default_slot_6]},$$scope:{ctx:r}}}),o=new Route({props:{path:"dashboard",$$slots:{default:[create_default_slot_5]},$$scope:{ctx:r}}}),h=new Route({props:{path:"sondage",$$slots:{default:[create_default_slot_4]},$$scope:{ctx:r}}}),O=new Route({props:{path:"demo",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:r}}}),R=new Route({props:{path:"tuto",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:r}}}),B=new Route({props:{path:"res",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:r}}}),{c(){create_component(e.$$.fragment),t=space(),create_component(o.$$.fragment),l=space(),create_component(h.$$.fragment),y=space(),create_component(O.$$.fragment),D=space(),create_component(R.$$.fragment),F=space(),create_component(B.$$.fragment)},m(U,W){mount_component(e,U,W),insert(U,t,W),mount_component(o,U,W),insert(U,l,W),mount_component(h,U,W),insert(U,y,W),mount_component(O,U,W),insert(U,D,W),mount_component(R,U,W),insert(U,F,W),mount_component(B,U,W),j=!0},p(U,W){const G={};W&1&&(G.$$scope={dirty:W,ctx:U}),e.$set(G);const q={};W&1&&(q.$$scope={dirty:W,ctx:U}),o.$set(q);const K={};W&1&&(K.$$scope={dirty:W,ctx:U}),h.$set(K);const Y={};W&1&&(Y.$$scope={dirty:W,ctx:U}),O.$set(Y);const X={};W&1&&(X.$$scope={dirty:W,ctx:U}),R.$set(X);const J={};W&1&&(J.$$scope={dirty:W,ctx:U}),B.$set(J)},i(U){j||(transition_in(e.$$.fragment,U),transition_in(o.$$.fragment,U),transition_in(h.$$.fragment,U),transition_in(O.$$.fragment,U),transition_in(R.$$.fragment,U),transition_in(B.$$.fragment,U),j=!0)},o(U){transition_out(e.$$.fragment,U),transition_out(o.$$.fragment,U),transition_out(h.$$.fragment,U),transition_out(O.$$.fragment,U),transition_out(R.$$.fragment,U),transition_out(B.$$.fragment,U),j=!1},d(U){destroy_component(e,U),U&&detach(t),destroy_component(o,U),U&&detach(l),destroy_component(h,U),U&&detach(y),destroy_component(O,U),U&&detach(D),destroy_component(R,U),U&&detach(F),destroy_component(B,U)}}}function create_fragment(r){let e,t,o,l,h,y,O,D,R,F,B;return F=new Router({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:r}}}),{c(){e=element("link"),t=element("link"),o=element("link"),l=element("link"),h=element("script"),O=element("link"),D=space(),R=element("main"),create_component(F.$$.fragment),attr(e,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"),attr(e,"rel","stylesheet"),attr(e,"integrity","sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"),attr(e,"crossorigin","anonymous"),attr(t,"href","https://fonts.googleapis.com/css2?family=Raleway:wght@500&display=swap"),attr(t,"rel","stylesheet"),attr(o,"href","https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@400&display=swap"),attr(o,"rel","stylesheet"),attr(l,"href","https://fonts.googleapis.com/css2?family=Lexend&display=swap"),attr(l,"rel","stylesheet"),src_url_equal(h.src,y="https://cdn.jsdelivr.net/npm/sweetalert2@11")||attr(h,"src",y),attr(O,"rel","stylesheet"),attr(O,"href","assets/generalStyle.css")},m(j,U){append(document.head,e),append(document.head,t),append(document.head,o),append(document.head,l),append(document.head,h),append(document.head,O),insert(j,D,U),insert(j,R,U),mount_component(F,R,null),B=!0},p(j,[U]){const W={};U&1&&(W.$$scope={dirty:U,ctx:j}),F.$set(W)},i(j){B||(transition_in(F.$$.fragment,j),B=!0)},o(j){transition_out(F.$$.fragment,j),B=!1},d(j){detach(e),detach(t),detach(o),detach(l),detach(h),detach(O),j&&detach(D),j&&detach(R),destroy_component(F)}}}class App extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment,safe_not_equal,{})}}new App({target:document.getElementById("app")});
