var Rt=Object.defineProperty,Nt=Object.defineProperties;var Ft=Object.getOwnPropertyDescriptors;var At=Object.getOwnPropertySymbols;var Lt=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable;var Mt=(r,t,e)=>t in r?Rt(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,rt=(r,t)=>{for(var e in t||(t={}))Lt.call(t,e)&&Mt(r,e,t[e]);if(At)for(var e of At(t))jt.call(t,e)&&Mt(r,e,t[e]);return r},nt=(r,t)=>Nt(r,Ft(t));const p$1=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function e(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerpolicy&&(h.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?h.credentials="include":l.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=e(l);fetch(l.href,h)}};p$1();function noop$4(){}const identity=r=>r;function assign$7(r,t){for(const e in t)r[e]=t[e];return r}function is_promise(r){return r&&typeof r=="object"&&typeof r.then=="function"}function run(r){return r()}function blank_object(){return Object.create(null)}function run_all(r){r.forEach(run)}function is_function(r){return typeof r=="function"}function safe_not_equal(r,t){return r!=r?t==t:r!==t||r&&typeof r=="object"||typeof r=="function"}let src_url_equal_anchor;function src_url_equal(r,t){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,r===src_url_equal_anchor.href}function is_empty(r){return Object.keys(r).length===0}function subscribe(r,...t){if(r==null)return noop$4;const e=r.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function get_store_value(r){let t;return subscribe(r,e=>t=e)(),t}function component_subscribe(r,t,e){r.$$.on_destroy.push(subscribe(t,e))}function create_slot(r,t,e,o){if(r){const l=get_slot_context(r,t,e,o);return r[0](l)}}function get_slot_context(r,t,e,o){return r[1]&&o?assign$7(e.ctx.slice(),r[1](o(t))):e.ctx}function get_slot_changes(r,t,e,o){if(r[2]&&o){const l=r[2](o(e));if(t.dirty===void 0)return l;if(typeof l=="object"){const h=[],y=Math.max(t.dirty.length,l.length);for(let O=0;O<y;O+=1)h[O]=t.dirty[O]|l[O];return h}return t.dirty|l}return t.dirty}function update_slot_base(r,t,e,o,l,h){if(l){const y=get_slot_context(t,e,o,h);r.p(y,l)}}function get_all_dirty_from_scope(r){if(r.ctx.length>32){const t=[],e=r.ctx.length/32;for(let o=0;o<e;o++)t[o]=-1;return t}return-1}function exclude_internal_props(r){const t={};for(const e in r)e[0]!=="$"&&(t[e]=r[e]);return t}function compute_rest_props(r,t){const e={};t=new Set(t);for(const o in r)!t.has(o)&&o[0]!=="$"&&(e[o]=r[o]);return e}function null_to_empty(r){return r==null?"":r}function set_store_value(r,t,e){return r.set(e),t}function action_destroyer(r){return r&&is_function(r.destroy)?r.destroy:noop$4}const is_client=typeof window!="undefined";let now$5=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?r=>requestAnimationFrame(r):noop$4;const tasks=new Set;function run_tasks(r){tasks.forEach(t=>{t.c(r)||(tasks.delete(t),t.f())}),tasks.size!==0&&raf(run_tasks)}function loop(r){let t;return tasks.size===0&&raf(run_tasks),{promise:new Promise(e=>{tasks.add(t={c:r,f:e})}),abort(){tasks.delete(t)}}}function append(r,t){r.appendChild(t)}function get_root_for_style(r){if(!r)return document;const t=r.getRootNode?r.getRootNode():r.ownerDocument;return t&&t.host?t:r.ownerDocument}function append_empty_stylesheet(r){const t=element("style");return append_stylesheet(get_root_for_style(r),t),t.sheet}function append_stylesheet(r,t){append(r.head||r,t)}function insert(r,t,e){r.insertBefore(t,e||null)}function detach(r){r.parentNode.removeChild(r)}function destroy_each(r,t){for(let e=0;e<r.length;e+=1)r[e]&&r[e].d(t)}function element(r){return document.createElement(r)}function text(r){return document.createTextNode(r)}function space(){return text(" ")}function empty$2(){return text("")}function listen(r,t,e,o){return r.addEventListener(t,e,o),()=>r.removeEventListener(t,e,o)}function stop_propagation(r){return function(t){return t.stopPropagation(),r.call(this,t)}}function attr(r,t,e){e==null?r.removeAttribute(t):r.getAttribute(t)!==e&&r.setAttribute(t,e)}function to_number(r){return r===""?null:+r}function children(r){return Array.from(r.childNodes)}function set_data(r,t){t=""+t,r.wholeText!==t&&(r.data=t)}function set_input_value(r,t){r.value=t==null?"":t}function set_style(r,t,e,o){e===null?r.style.removeProperty(t):r.style.setProperty(t,e,o?"important":"")}function select_option(r,t){for(let e=0;e<r.options.length;e+=1){const o=r.options[e];if(o.__value===t){o.selected=!0;return}}r.selectedIndex=-1}function select_value(r){const t=r.querySelector(":checked")||r.options[0];return t&&t.__value}function toggle_class(r,t,e){r.classList[e?"add":"remove"](t)}function custom_event(r,t,{bubbles:e=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(r,e,o,t),l}const managed_styles=new Map;let active=0;function hash(r){let t=5381,e=r.length;for(;e--;)t=(t<<5)-t^r.charCodeAt(e);return t>>>0}function create_style_information(r,t){const e={stylesheet:append_empty_stylesheet(t),rules:{}};return managed_styles.set(r,e),e}function create_rule(r,t,e,o,l,h,y,O=0){const D=16.666/o;let R=`{
`;for(let K=0;K<=1;K+=D){const Y=t+(e-t)*h(K);R+=K*100+`%{${y(Y,1-Y)}}
`}const F=R+`100% {${y(e,1-e)}}
}`,j=`__svelte_${hash(F)}_${O}`,B=get_root_for_style(r),{stylesheet:U,rules:W}=managed_styles.get(B)||create_style_information(B,r);W[j]||(W[j]=!0,U.insertRule(`@keyframes ${j} ${F}`,U.cssRules.length));const q=r.style.animation||"";return r.style.animation=`${q?`${q}, `:""}${j} ${o}ms linear ${l}ms 1 both`,active+=1,j}function delete_rule(r,t){const e=(r.style.animation||"").split(", "),o=e.filter(t?h=>h.indexOf(t)<0:h=>h.indexOf("__svelte")===-1),l=e.length-o.length;l&&(r.style.animation=o.join(", "),active-=l,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(r=>{const{stylesheet:t}=r;let e=t.cssRules.length;for(;e--;)t.deleteRule(e);r.rules={}}),managed_styles.clear())})}function create_animation(r,t,e,o){if(!t)return noop$4;const l=r.getBoundingClientRect();if(t.left===l.left&&t.right===l.right&&t.top===l.top&&t.bottom===l.bottom)return noop$4;const{delay:h=0,duration:y=300,easing:O=identity,start:D=now$5()+h,end:R=D+y,tick:F=noop$4,css:j}=e(r,{from:t,to:l},o);let B=!0,U=!1,W;function q(){j&&(W=create_rule(r,0,1,y,h,O,j)),h||(U=!0)}function K(){j&&delete_rule(r,W),B=!1}return loop(Y=>{if(!U&&Y>=D&&(U=!0),U&&Y>=R&&(F(1,0),K()),!B)return!1;if(U){const X=Y-D,J=0+1*O(X/y);F(J,1-J)}return!0}),q(),F(0,1),K}function fix_position(r){const t=getComputedStyle(r);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:o}=t,l=r.getBoundingClientRect();r.style.position="absolute",r.style.width=e,r.style.height=o,add_transform(r,l)}}function add_transform(r,t){const e=r.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const o=getComputedStyle(r),l=o.transform==="none"?"":o.transform;r.style.transform=`${l} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}let current_component;function set_current_component(r){current_component=r}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(r){get_current_component().$$.on_mount.push(r)}function onDestroy(r){get_current_component().$$.on_destroy.push(r)}function setContext(r,t){return get_current_component().$$.context.set(r,t),t}function getContext(r){return get_current_component().$$.context.get(r)}function bubble(r,t){const e=r.$$.callbacks[t.type];e&&e.slice().forEach(o=>o.call(this,t))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(r){render_callbacks.push(r)}function add_flush_callback(r){flush_callbacks.push(r)}const seen_callbacks=new Set;let flushidx=0;function flush(){const r=current_component;do{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const e=render_callbacks[t];seen_callbacks.has(e)||(seen_callbacks.add(e),e())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(r)}function update(r){if(r.fragment!==null){r.update(),run_all(r.before_update);const t=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,t),r.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch$2(r,t,e){r.dispatchEvent(custom_event(`${t?"intro":"outro"}${e}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(r,t){r&&r.i&&(outroing.delete(r),r.i(t))}function transition_out(r,t,e,o){if(r&&r.o){if(outroing.has(r))return;outroing.add(r),outros.c.push(()=>{outroing.delete(r),o&&(e&&r.d(1),o())}),r.o(t)}else o&&o()}const null_transition={duration:0};function create_in_transition(r,t,e){let o=t(r,e),l=!1,h,y,O=0;function D(){h&&delete_rule(r,h)}function R(){const{delay:j=0,duration:B=300,easing:U=identity,tick:W=noop$4,css:q}=o||null_transition;q&&(h=create_rule(r,0,1,B,j,U,q,O++)),W(0,1);const K=now$5()+j,Y=K+B;y&&y.abort(),l=!0,add_render_callback(()=>dispatch$2(r,!0,"start")),y=loop(X=>{if(l){if(X>=Y)return W(1,0),dispatch$2(r,!0,"end"),D(),l=!1;if(X>=K){const J=U((X-K)/B);W(J,1-J)}}return l})}let F=!1;return{start(){F||(F=!0,delete_rule(r),is_function(o)?(o=o(),wait().then(R)):R())},invalidate(){F=!1},end(){l&&(D(),l=!1)}}}function create_out_transition(r,t,e){let o=t(r,e),l=!0,h;const y=outros;y.r+=1;function O(){const{delay:D=0,duration:R=300,easing:F=identity,tick:j=noop$4,css:B}=o||null_transition;B&&(h=create_rule(r,1,0,R,D,F,B));const U=now$5()+D,W=U+R;add_render_callback(()=>dispatch$2(r,!1,"start")),loop(q=>{if(l){if(q>=W)return j(0,1),dispatch$2(r,!1,"end"),--y.r||run_all(y.c),!1;if(q>=U){const K=F((q-U)/R);j(1-K,K)}}return l})}return is_function(o)?wait().then(()=>{o=o(),O()}):O(),{end(D){D&&o.tick&&o.tick(1,0),l&&(h&&delete_rule(r,h),l=!1)}}}function create_bidirectional_transition(r,t,e,o){let l=t(r,e),h=o?0:1,y=null,O=null,D=null;function R(){D&&delete_rule(r,D)}function F(B,U){const W=B.b-h;return U*=Math.abs(W),{a:h,b:B.b,d:W,duration:U,start:B.start,end:B.start+U,group:B.group}}function j(B){const{delay:U=0,duration:W=300,easing:q=identity,tick:K=noop$4,css:Y}=l||null_transition,X={start:now$5()+U,b:B};B||(X.group=outros,outros.r+=1),y||O?O=X:(Y&&(R(),D=create_rule(r,h,B,W,U,q,Y)),B&&K(0,1),y=F(X,W),add_render_callback(()=>dispatch$2(r,B,"start")),loop(J=>{if(O&&J>O.start&&(y=F(O,W),O=null,dispatch$2(r,y.b,"start"),Y&&(R(),D=create_rule(r,h,y.b,y.duration,0,q,l.css))),y){if(J>=y.end)K(h=y.b,1-h),dispatch$2(r,y.b,"end"),O||(y.b?R():--y.group.r||run_all(y.group.c)),y=null;else if(J>=y.start){const Q=J-y.start;h=y.a+y.d*q(Q/y.duration),K(h,1-h)}}return!!(y||O)}))}return{run(B){is_function(l)?wait().then(()=>{l=l(),j(B)}):j(B)},end(){R(),y=O=null}}}function handle_promise(r,t){const e=t.token={};function o(l,h,y,O){if(t.token!==e)return;t.resolved=O;let D=t.ctx;y!==void 0&&(D=D.slice(),D[y]=O);const R=l&&(t.current=l)(D);let F=!1;t.block&&(t.blocks?t.blocks.forEach((j,B)=>{B!==h&&j&&(group_outros(),transition_out(j,1,1,()=>{t.blocks[B]===j&&(t.blocks[B]=null)}),check_outros())}):t.block.d(1),R.c(),transition_in(R,1),R.m(t.mount(),t.anchor),F=!0),t.block=R,t.blocks&&(t.blocks[h]=R),F&&flush()}if(is_promise(r)){const l=get_current_component();if(r.then(h=>{set_current_component(l),o(t.then,1,t.value,h),set_current_component(null)},h=>{if(set_current_component(l),o(t.catch,2,t.error,h),set_current_component(null),!t.hasCatch)throw h}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,r),!0;t.resolved=r}}function update_await_block_branch(r,t,e){const o=t.slice(),{resolved:l}=r;r.current===r.then&&(o[r.value]=l),r.current===r.catch&&(o[r.error]=l),r.block.p(o,e)}const globals=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function destroy_block(r,t){r.d(1),t.delete(r.key)}function outro_and_destroy_block(r,t){transition_out(r,1,1,()=>{t.delete(r.key)})}function fix_and_outro_and_destroy_block(r,t){r.f(),outro_and_destroy_block(r,t)}function update_keyed_each(r,t,e,o,l,h,y,O,D,R,F,j){let B=r.length,U=h.length,W=B;const q={};for(;W--;)q[r[W].key]=W;const K=[],Y=new Map,X=new Map;for(W=U;W--;){const ee=j(l,h,W),re=e(ee);let te=y.get(re);te?o&&te.p(ee,t):(te=R(re,ee),te.c()),Y.set(re,K[W]=te),re in q&&X.set(re,Math.abs(W-q[re]))}const J=new Set,Q=new Set;function Z(ee){transition_in(ee,1),ee.m(O,F),y.set(ee.key,ee),F=ee.first,U--}for(;B&&U;){const ee=K[U-1],re=r[B-1],te=ee.key,ne=re.key;ee===re?(F=ee.first,B--,U--):Y.has(ne)?!y.has(te)||J.has(te)?Z(ee):Q.has(ne)?B--:X.get(te)>X.get(ne)?(Q.add(te),Z(ee)):(J.add(ne),B--):(D(re,y),B--)}for(;B--;){const ee=r[B];Y.has(ee.key)||D(ee,y)}for(;U;)Z(K[U-1]);return K}function get_spread_update(r,t){const e={},o={},l={$$scope:1};let h=r.length;for(;h--;){const y=r[h],O=t[h];if(O){for(const D in y)D in O||(o[D]=1);for(const D in O)l[D]||(e[D]=O[D],l[D]=1);r[h]=O}else for(const D in y)l[D]=1}for(const y in o)y in e||(e[y]=void 0);return e}function get_spread_object(r){return typeof r=="object"&&r!==null?r:{}}function bind$f(r,t,e){const o=r.$$.props[t];o!==void 0&&(r.$$.bound[o]=e,e(r.$$.ctx[o]))}function create_component(r){r&&r.c()}function mount_component(r,t,e,o){const{fragment:l,on_mount:h,on_destroy:y,after_update:O}=r.$$;l&&l.m(t,e),o||add_render_callback(()=>{const D=h.map(run).filter(is_function);y?y.push(...D):run_all(D),r.$$.on_mount=[]}),O.forEach(add_render_callback)}function destroy_component(r,t){const e=r.$$;e.fragment!==null&&(run_all(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function make_dirty(r,t){r.$$.dirty[0]===-1&&(dirty_components.push(r),schedule_update(),r.$$.dirty.fill(0)),r.$$.dirty[t/31|0]|=1<<t%31}function init(r,t,e,o,l,h,y,O=[-1]){const D=current_component;set_current_component(r);const R=r.$$={fragment:null,ctx:null,props:h,update:noop$4,not_equal:l,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(D?D.$$.context:[])),callbacks:blank_object(),dirty:O,skip_bound:!1,root:t.target||D.$$.root};y&&y(R.root);let F=!1;if(R.ctx=e?e(r,t.props||{},(j,B,...U)=>{const W=U.length?U[0]:B;return R.ctx&&l(R.ctx[j],R.ctx[j]=W)&&(!R.skip_bound&&R.bound[j]&&R.bound[j](W),F&&make_dirty(r,j)),B}):[],R.update(),F=!0,run_all(R.before_update),R.fragment=o?o(R.ctx):!1,t.target){if(t.hydrate){const j=children(t.target);R.fragment&&R.fragment.l(j),j.forEach(detach)}else R.fragment&&R.fragment.c();t.intro&&transition_in(r.$$.fragment),mount_component(r,t.target,t.anchor,t.customElement),flush()}set_current_component(D)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$4}$on(t,e){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const l=o.indexOf(e);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function cubicInOut(r){return r<.5?4*r*r*r:.5*Math.pow(2*r-2,3)+1}function cubicOut(r){const t=r-1;return t*t*t+1}function quadIn(r){return r*r}function blur(r,{delay:t=0,duration:e=400,easing:o=cubicInOut,amount:l=5,opacity:h=0}={}){const y=getComputedStyle(r),O=+y.opacity,D=y.filter==="none"?"":y.filter,R=O*(1-h);return{delay:t,duration:e,easing:o,css:(F,j)=>`opacity: ${O-R*j}; filter: ${D} blur(${j*l}px);`}}function fade(r,{delay:t=0,duration:e=400,easing:o=identity}={}){const l=+getComputedStyle(r).opacity;return{delay:t,duration:e,easing:o,css:h=>`opacity: ${h*l}`}}function fly(r,{delay:t=0,duration:e=400,easing:o=cubicOut,x:l=0,y:h=0,opacity:y=0}={}){const O=getComputedStyle(r),D=+O.opacity,R=O.transform==="none"?"":O.transform,F=D*(1-y);return{delay:t,duration:e,easing:o,css:(j,B)=>`
			transform: ${R} translate(${(1-j)*l}px, ${(1-j)*h}px);
			opacity: ${D-F*B}`}}function scale(r,{delay:t=0,duration:e=400,easing:o=cubicOut,start:l=0,opacity:h=0}={}){const y=getComputedStyle(r),O=+y.opacity,D=y.transform==="none"?"":y.transform,R=1-l,F=O*(1-h);return{delay:t,duration:e,easing:o,css:(j,B)=>`
			transform: ${D} scale(${1-R*B});
			opacity: ${O-F*B}
		`}}var Confetti_svelte_svelte_type_style_lang="";const subscriber_queue=[];function readable(r,t){return{subscribe:writable(r,t).subscribe}}function writable(r,t=noop$4){let e;const o=new Set;function l(O){if(safe_not_equal(r,O)&&(r=O,e)){const D=!subscriber_queue.length;for(const R of o)R[1](),subscriber_queue.push(R,r);if(D){for(let R=0;R<subscriber_queue.length;R+=2)subscriber_queue[R][0](subscriber_queue[R+1]);subscriber_queue.length=0}}}function h(O){l(O(r))}function y(O,D=noop$4){const R=[O,D];return o.add(R),o.size===1&&(e=t(l)||noop$4),O(r),()=>{o.delete(R),o.size===0&&(e(),e=null)}}return{set:l,update:h,subscribe:y}}function derived(r,t,e){const o=!Array.isArray(r),l=o?[r]:r,h=t.length<2;return readable(e,y=>{let O=!1;const D=[];let R=0,F=noop$4;const j=()=>{if(R)return;F();const U=t(o?D[0]:D,y);h?y(U):F=is_function(U)?U:noop$4},B=l.map((U,W)=>subscribe(U,q=>{D[W]=q,R&=~(1<<W),O&&j()},()=>{R|=1<<W}));return O=!0,j(),function(){run_all(B),F()}})}let url="https://retinereq.jetevois.fr/";const rtnUrl=url,vSondage=1;let activePageStore=writable("summary");function xxsc(r,t,e){var o="";if(e){var l=new Date;l.setTime(l.getTime()+e*24*60*60*1e3),o="; expires="+l.toUTCString()}document.cookie=r+"="+(t||"")+o+"; path=/"}function xxgc(r){for(var t=r+"=",e=document.cookie.split(";"),o=0;o<e.length;o++){for(var l=e[o];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(t)==0)return l.substring(t.length,l.length)}return null}function xxec(r){document.cookie=r+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}const isUndefined=r=>typeof r=="undefined",isFunction$1=r=>typeof r=="function",isNumber$1=r=>typeof r=="number";function createCounter(){let r=0;return()=>r++}function createGlobalId(){return Math.random().toString(36).substring(2)}const isSSR=typeof window=="undefined";function addListener$1(r,t,e){return r.addEventListener(t,e),()=>r.removeEventListener(t,e)}const createKey=r=>`@@svnav-ctx__${r}`,LOCATION=createKey("LOCATION"),ROUTER=createKey("ROUTER"),ROUTE=createKey("ROUTE"),ROUTE_PARAMS=createKey("ROUTE_PARAMS"),FOCUS_ELEM=createKey("FOCUS_ELEM"),paramRegex=/^:(.+)/,startsWith=(r,t)=>r.substr(0,t.length)===t,isRootSegment=r=>r==="",isDynamic=r=>paramRegex.test(r),isSplat=r=>r[0]==="*",stripSplat=r=>r.replace(/\*.*$/,""),stripSlashes=r=>r.replace(/(^\/+|\/+$)/g,"");function segmentize(r,t=!1){const e=stripSlashes(r).split("/");return t?e.filter(Boolean):e}const addQuery=(r,t)=>r+(t?`?${t}`:""),normalizePath=r=>`/${stripSlashes(r)}`;function join$2(...r){const t=o=>segmentize(o,!0).join("/"),e=r.map(t).join("/");return normalizePath(e)}const LINK_ID=1,ROUTE_ID=2,ROUTER_ID=3,USE_FOCUS_ID=4,USE_LOCATION_ID=5,USE_MATCH_ID=6,USE_NAVIGATE_ID=7,USE_PARAMS_ID=8,USE_RESOLVABLE_ID=9,USE_RESOLVE_ID=10,NAVIGATE_ID=11,labels={[LINK_ID]:"Link",[ROUTE_ID]:"Route",[ROUTER_ID]:"Router",[USE_FOCUS_ID]:"useFocus",[USE_LOCATION_ID]:"useLocation",[USE_MATCH_ID]:"useMatch",[USE_NAVIGATE_ID]:"useNavigate",[USE_PARAMS_ID]:"useParams",[USE_RESOLVABLE_ID]:"useResolvable",[USE_RESOLVE_ID]:"useResolve",[NAVIGATE_ID]:"navigate"},createLabel=r=>labels[r];function createIdentifier(r,t){let e;return r===ROUTE_ID?e=t.path?`path="${t.path}"`:"default":r===LINK_ID?e=`to="${t.to}"`:r===ROUTER_ID&&(e=`basepath="${t.basepath||""}"`),`<${createLabel(r)} ${e||""} />`}function createMessage(r,t,e,o){const l=e&&createIdentifier(o||r,e),h=l?`

Occurred in: ${l}`:"",y=createLabel(r),O=isFunction$1(t)?t(y):t;return`<${y}> ${O}${h}`}const createMessageHandler=r=>(...t)=>r(createMessage(...t)),fail=createMessageHandler(r=>{throw new Error(r)}),warn=createMessageHandler(console.warn),SEGMENT_POINTS=4,STATIC_POINTS=3,DYNAMIC_POINTS=2,SPLAT_PENALTY=1,ROOT_POINTS=1;function rankRoute(r,t){const e=r.default?0:segmentize(r.fullPath).reduce((o,l)=>{let h=o;return h+=SEGMENT_POINTS,isRootSegment(l)?h+=ROOT_POINTS:isDynamic(l)?h+=DYNAMIC_POINTS:isSplat(l)?h-=SEGMENT_POINTS+SPLAT_PENALTY:h+=STATIC_POINTS,h},0);return{route:r,score:e,index:t}}function rankRoutes(r){return r.map(rankRoute).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index)}function pick(r,t){let e,o;const[l]=t.split("?"),h=segmentize(l),y=h[0]==="",O=rankRoutes(r);for(let D=0,R=O.length;D<R;D++){const{route:F}=O[D];let j=!1;const B={},U=Y=>nt(rt({},F),{params:B,uri:Y});if(F.default){o=U(t);continue}const W=segmentize(F.fullPath),q=Math.max(h.length,W.length);let K=0;for(;K<q;K++){const Y=W[K],X=h[K];if(!isUndefined(Y)&&isSplat(Y)){const Q=Y==="*"?"*":Y.slice(1);B[Q]=h.slice(K).map(decodeURIComponent).join("/");break}if(isUndefined(X)){j=!0;break}const J=paramRegex.exec(Y);if(J&&!y){const Q=decodeURIComponent(X);B[J[1]]=Q}else if(Y!==X){j=!0;break}}if(!j){e=U(join$2(...h.slice(0,K)));break}}return e||o||null}function match$4(r,t){return pick([r],t)}function resolve$1(r,t){if(startsWith(r,"/"))return r;const[e,o]=r.split("?"),[l]=t.split("?"),h=segmentize(e),y=segmentize(l);if(h[0]==="")return addQuery(l,o);if(!startsWith(h[0],".")){const R=y.concat(h).join("/");return addQuery((l==="/"?"":"/")+R,o)}const O=y.concat(h),D=[];return O.forEach(R=>{R===".."?D.pop():R!=="."&&D.push(R)}),addQuery(`/${D.join("/")}`,o)}function normalizeLocation(r,t){const{pathname:e,hash:o="",search:l="",state:h}=r,y=segmentize(t,!0),O=segmentize(e,!0);for(;y.length;)y[0]!==O[0]&&fail(ROUTER_ID,`Invalid state: All locations must begin with the basepath "${t}", found "${e}"`),y.shift(),O.shift();return{pathname:join$2(...O),hash:o,search:l,state:h}}const normalizeUrlFragment=r=>r.length===1?"":r;function createLocation(r){const t=r.indexOf("?"),e=r.indexOf("#"),o=t!==-1,l=e!==-1,h=l?normalizeUrlFragment(r.substr(e)):"",y=l?r.substr(0,e):r,O=o?normalizeUrlFragment(y.substr(t)):"";return{pathname:o?y.substr(0,t):y,search:O,hash:h}}function resolveLink(r,t,e){return join$2(e,resolve$1(r,t))}function extractBaseUri(r,t){const e=normalizePath(stripSplat(r)),o=segmentize(e,!0),l=segmentize(t,!0).slice(0,o.length),h=match$4({fullPath:e},join$2(...l));return h&&h.uri}const POP="POP",PUSH="PUSH",REPLACE="REPLACE";function getLocation(r){return nt(rt({},r.location),{pathname:encodeURI(decodeURI(r.location.pathname)),state:r.history.state,_key:r.history.state&&r.history.state._key||"initial"})}function createHistory(r){let t=[],e=getLocation(r),o=POP;const l=(h=t)=>h.forEach(y=>y({location:e,action:o}));return{get location(){return e},listen(h){t.push(h);const y=()=>{e=getLocation(r),o=POP,l([h])};l([h]);const O=addListener$1(r,"popstate",y);return()=>{O(),t=t.filter(D=>D!==h)}},navigate(h,y){const{state:O={},replace:D=!1}=y||{};if(o=D?REPLACE:PUSH,isNumber$1(h))y&&warn(NAVIGATE_ID,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),o=POP,r.history.go(h);else{const R=nt(rt({},O),{_key:createGlobalId()});try{r.history[D?"replaceState":"pushState"](R,"",h)}catch{r.location[D?"replace":"assign"](h)}}e=getLocation(r),l()}}}function createStackFrame(r,t){return nt(rt({},createLocation(t)),{state:r})}function createMemorySource(r="/"){let t=0,e=[createStackFrame(null,r)];return{get entries(){return e},get location(){return e[t]},addEventListener(){},removeEventListener(){},history:{get state(){return e[t].state},pushState(o,l,h){t++,e=e.slice(0,t),e.push(createStackFrame(o,h))},replaceState(o,l,h){e[t]=createStackFrame(o,h)},go(o){const l=t+o;l<0||l>e.length-1||(t=l)}}}}const canUseDOM=!!(!isSSR&&window.document&&window.document.createElement),isEmbeddedPage=!isSSR&&window.location.origin==="null",globalHistory=createHistory(canUseDOM&&!isEmbeddedPage?window:createMemorySource()),{navigate}=globalHistory;let focusCandidate=null,initialNavigation=!0;function isAbove(r,t){const e=document.querySelectorAll("[data-svnav-router]");for(let o=0;o<e.length;o++){const l=e[o],h=Number(l.dataset.svnavRouter);if(h===r)return!0;if(h===t)return!1}return!1}function pushFocusCandidate(r){(!focusCandidate||r.level>focusCandidate.level||r.level===focusCandidate.level&&isAbove(r.routerId,focusCandidate.routerId))&&(focusCandidate=r)}function clearFocusCandidate(){focusCandidate=null}function initialNavigationOccurred(){initialNavigation=!1}function focus(r){if(!r)return!1;const t="tabindex";try{if(!r.hasAttribute(t)){r.setAttribute(t,"-1");let e;e=addListener$1(r,"blur",()=>{r.removeAttribute(t),e()})}return r.focus(),document.activeElement===r}catch{return!1}}function isEndMarker(r,t){return Number(r.dataset.svnavRouteEnd)===t}function isHeading(r){return/^H[1-6]$/i.test(r.tagName)}function query(r,t=document){return t.querySelector(r)}function queryHeading(r){let e=query(`[data-svnav-route-start="${r}"]`).nextElementSibling;for(;!isEndMarker(e,r);){if(isHeading(e))return e;const o=query("h1,h2,h3,h4,h5,h6",e);if(o)return o;e=e.nextElementSibling}return null}function handleFocus(r){Promise.resolve(get_store_value(r.focusElement)).then(t=>{const e=t||queryHeading(r.id);e||warn(ROUTER_ID,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,r,ROUTE_ID),!focus(e)&&focus(document.documentElement)})}const createTriggerFocus=(r,t,e)=>(o,l)=>tick().then(()=>{if(!focusCandidate||initialNavigation){initialNavigationOccurred();return}if(o&&handleFocus(focusCandidate.route),r.announcements&&l){const{path:h,fullPath:y,meta:O,params:D,uri:R}=focusCandidate.route,F=r.createAnnouncement({path:h,fullPath:y,meta:O,params:D,uri:R},get_store_value(e));Promise.resolve(F).then(j=>{t.set(j)})}clearFocusCandidate()}),visuallyHiddenStyle="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function create_if_block$l(r){let t,e;return{c(){t=element("div"),e=text(r[0]),attr(t,"role","status"),attr(t,"aria-atomic","true"),attr(t,"aria-live","polite"),attr(t,"style",visuallyHiddenStyle)},m(o,l){insert(o,t,l),append(t,e)},p(o,l){l[0]&1&&set_data(e,o[0])},d(o){o&&detach(t)}}}function create_fragment$w(r){let t,e,o,l,h;const y=r[20].default,O=create_slot(y,r,r[19],null);let D=r[2]&&r[4]&&r[1].announcements&&create_if_block$l(r);return{c(){t=element("div"),e=space(),O&&O.c(),o=space(),D&&D.c(),l=empty$2(),set_style(t,"display","none"),attr(t,"aria-hidden","true"),attr(t,"data-svnav-router",r[3])},m(R,F){insert(R,t,F),insert(R,e,F),O&&O.m(R,F),insert(R,o,F),D&&D.m(R,F),insert(R,l,F),h=!0},p(R,F){O&&O.p&&(!h||F[0]&524288)&&update_slot_base(O,y,R,R[19],h?get_slot_changes(y,R[19],F,null):get_all_dirty_from_scope(R[19]),null),R[2]&&R[4]&&R[1].announcements&&D.p(R,F)},i(R){h||(transition_in(O,R),h=!0)},o(R){transition_out(O,R),h=!1},d(R){R&&detach(t),R&&detach(e),O&&O.d(R),R&&detach(o),D&&D.d(R),R&&detach(l)}}}const createId$1=createCounter(),defaultBasepath="/";function instance$u(r,t,e){let o,l,h,y,O,{$$slots:D={},$$scope:R}=t,{basepath:F=defaultBasepath}=t,{url:j=null}=t,{history:B=globalHistory}=t,{primary:U=!0}=t,{a11y:W={}}=t;const q=rt({createAnnouncement:le=>`Navigated to ${le.uri}`,announcements:!0},W),K=F,Y=normalizePath(F),X=getContext(LOCATION),J=getContext(ROUTER),Q=!X,Z=createId$1(),ee=U&&!(J&&!J.manageFocus),re=writable("");component_subscribe(r,re,le=>e(0,O=le));const te=writable([]);component_subscribe(r,te,le=>e(18,y=le));const ne=writable(null);component_subscribe(r,ne,le=>e(16,l=le));let ae=!1;const ie=Q?0:J.level+1,ce=Q?writable((()=>normalizeLocation(isSSR?createLocation(j):B.location,Y))()):X;component_subscribe(r,ce,le=>e(15,o=le));const ue=writable(o);component_subscribe(r,ue,le=>e(17,h=le));const pe=createTriggerFocus(q,re,ce),me=le=>fe=>fe.filter(ge=>ge.id!==le);function he(le){if(isSSR){if(ae)return;const fe=match$4(le,o.pathname);if(fe)return ae=!0,fe}else te.update(fe=>{const ge=me(le.id)(fe);return ge.push(le),ge})}function se(le){te.update(me(le))}return!Q&&F!==defaultBasepath&&warn(ROUTER_ID,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:F}),Q&&(onMount(()=>B.listen(fe=>{const ge=normalizeLocation(fe.location,Y);ue.set(o),ce.set(ge)})),setContext(LOCATION,ce)),setContext(ROUTER,{activeRoute:ne,registerRoute:he,unregisterRoute:se,manageFocus:ee,level:ie,id:Z,history:Q?B:J.history,basepath:Q?Y:J.basepath}),r.$$set=le=>{"basepath"in le&&e(10,F=le.basepath),"url"in le&&e(11,j=le.url),"history"in le&&e(12,B=le.history),"primary"in le&&e(13,U=le.primary),"a11y"in le&&e(14,W=le.a11y),"$$scope"in le&&e(19,R=le.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&1024&&F!==K&&warn(ROUTER_ID,'You cannot change the "basepath" prop. It is ignored.'),r.$$.dirty[0]&294912){const le=pick(y,o.pathname);ne.set(le)}if(r.$$.dirty[0]&163840&&Q){const le=!!o.hash,fe=!le&&ee,ge=!le||o.pathname!==h.pathname;pe(fe,ge)}r.$$.dirty[0]&65536&&ee&&l&&l.primary&&pushFocusCandidate({level:ie,routerId:Z,route:l})},[O,q,Q,Z,ee,re,te,ne,ce,ue,F,j,B,U,W,o,l,h,y,R,D]}class Router extends SvelteComponent{constructor(t){super(),init(this,t,instance$u,create_fragment$w,safe_not_equal,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}}function usePreflightCheck(r,t,e=ROUTER,o=ROUTER_ID){getContext(e)||fail(r,h=>`You cannot use ${h} outside of a ${createLabel(o)}.`,t)}const toReadonly=r=>{const{subscribe:t}=getContext(r);return{subscribe:t}};function useLocation(){return usePreflightCheck(USE_LOCATION_ID),toReadonly(LOCATION)}function useHistory(){const{history:r}=getContext(ROUTER);return r}function useRouteBase(){const r=getContext(ROUTE);return r?derived(r,t=>t.base):writable("/")}function useResolve(){usePreflightCheck(USE_RESOLVE_ID);const r=useRouteBase(),{basepath:t}=getContext(ROUTER);return o=>resolveLink(o,get_store_value(r),t)}function useNavigate(){usePreflightCheck(USE_NAVIGATE_ID);const r=useResolve(),{navigate:t}=useHistory();return(o,l)=>{const h=isNumber$1(o)?o:r(o);return t(h,l)}}const get_default_slot_changes=r=>({params:r&16,location:r&8}),get_default_slot_context=r=>({params:isSSR?get_store_value(r[9]):r[4],location:r[3],navigate:r[10]});function create_if_block$k(r){let t,e;return t=new Router({props:{primary:r[1],$$slots:{default:[create_default_slot$9]},$$scope:{ctx:r}}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p(o,l){const h={};l&2&&(h.primary=o[1]),l&264217&&(h.$$scope={dirty:l,ctx:o}),t.$set(h)},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_else_block$c(r){let t;const e=r[17].default,o=create_slot(e,r,r[18],get_default_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),t=!0},p(l,h){o&&o.p&&(!t||h&262168)&&update_slot_base(o,e,l,l[18],t?get_slot_changes(e,l[18],h,get_default_slot_changes):get_all_dirty_from_scope(l[18]),get_default_slot_context)},i(l){t||(transition_in(o,l),t=!0)},o(l){transition_out(o,l),t=!1},d(l){o&&o.d(l)}}}function create_if_block_1$g(r){let t,e,o;const l=[{location:r[3]},{navigate:r[10]},isSSR?get_store_value(r[9]):r[4],r[11]];var h=r[0];function y(O){let D={};for(let R=0;R<l.length;R+=1)D=assign$7(D,l[R]);return{props:D}}return h&&(t=new h(y())),{c(){t&&create_component(t.$$.fragment),e=empty$2()},m(O,D){t&&mount_component(t,O,D),insert(O,e,D),o=!0},p(O,D){const R=D&3608?get_spread_update(l,[D&8&&{location:O[3]},D&1024&&{navigate:O[10]},D&528&&get_spread_object(isSSR?get_store_value(O[9]):O[4]),D&2048&&get_spread_object(O[11])]):{};if(h!==(h=O[0])){if(t){group_outros();const F=t;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}h?(t=new h(y()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else h&&t.$set(R)},i(O){o||(t&&transition_in(t.$$.fragment,O),o=!0)},o(O){t&&transition_out(t.$$.fragment,O),o=!1},d(O){O&&detach(e),t&&destroy_component(t,O)}}}function create_default_slot$9(r){let t,e,o,l;const h=[create_if_block_1$g,create_else_block$c],y=[];function O(D,R){return D[0]!==null?0:1}return t=O(r),e=y[t]=h[t](r),{c(){e.c(),o=empty$2()},m(D,R){y[t].m(D,R),insert(D,o,R),l=!0},p(D,R){let F=t;t=O(D),t===F?y[t].p(D,R):(group_outros(),transition_out(y[F],1,1,()=>{y[F]=null}),check_outros(),e=y[t],e?e.p(D,R):(e=y[t]=h[t](D),e.c()),transition_in(e,1),e.m(o.parentNode,o))},i(D){l||(transition_in(e),l=!0)},o(D){transition_out(e),l=!1},d(D){y[t].d(D),D&&detach(o)}}}function create_fragment$v(r){let t,e,o,l,h,y=r[2]&&create_if_block$k(r);return{c(){t=element("div"),e=space(),y&&y.c(),o=space(),l=element("div"),set_style(t,"display","none"),attr(t,"aria-hidden","true"),attr(t,"data-svnav-route-start",r[5]),set_style(l,"display","none"),attr(l,"aria-hidden","true"),attr(l,"data-svnav-route-end",r[5])},m(O,D){insert(O,t,D),insert(O,e,D),y&&y.m(O,D),insert(O,o,D),insert(O,l,D),h=!0},p(O,[D]){O[2]?y?(y.p(O,D),D&4&&transition_in(y,1)):(y=create_if_block$k(O),y.c(),transition_in(y,1),y.m(o.parentNode,o)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(O){h||(transition_in(y),h=!0)},o(O){transition_out(y),h=!1},d(O){O&&detach(t),O&&detach(e),y&&y.d(O),O&&detach(o),O&&detach(l)}}}const createId=createCounter();function instance$t(r,t,e){let o;const l=["path","component","meta","primary"];let h=compute_rest_props(t,l),y,O,D,R,{$$slots:F={},$$scope:j}=t,{path:B=""}=t,{component:U=null}=t,{meta:W={}}=t,{primary:q=!0}=t;usePreflightCheck(ROUTE_ID,t);const K=createId(),{registerRoute:Y,unregisterRoute:X,activeRoute:J}=getContext(ROUTER);component_subscribe(r,J,ie=>e(15,y=ie));const Q=useRouteBase();component_subscribe(r,Q,ie=>e(16,D=ie));const Z=useLocation();component_subscribe(r,Z,ie=>e(3,O=ie));const ee=writable(null);let re;const te=writable(),ne=writable({});component_subscribe(r,ne,ie=>e(4,R=ie)),setContext(ROUTE,te),setContext(ROUTE_PARAMS,ne),setContext(FOCUS_ELEM,ee);const ae=useNavigate();return isSSR||onDestroy(()=>X(K)),r.$$set=ie=>{e(23,t=assign$7(assign$7({},t),exclude_internal_props(ie))),e(11,h=compute_rest_props(t,l)),"path"in ie&&e(12,B=ie.path),"component"in ie&&e(0,U=ie.component),"meta"in ie&&e(13,W=ie.meta),"primary"in ie&&e(1,q=ie.primary),"$$scope"in ie&&e(18,j=ie.$$scope)},r.$$.update=()=>{if(r.$$.dirty&77834){const ie=B==="",oe=join$2(D,B),ce={id:K,path:B,meta:W,default:ie,fullPath:ie?"":oe,base:ie?D:extractBaseUri(oe,O.pathname),primary:q,focusElement:ee};te.set(ce),e(14,re=Y(ce))}if(r.$$.dirty&49152&&e(2,o=!!(re||y&&y.id===K)),r.$$.dirty&49156&&o){const{params:ie}=re||y;ne.set(ie)}},t=exclude_internal_props(t),[U,q,o,O,R,K,J,Q,Z,ne,ae,h,B,W,re,y,D,F,j]}class Route extends SvelteComponent{constructor(t){super(),init(this,t,instance$t,create_fragment$v,safe_not_equal,{path:12,component:0,meta:13,primary:1})}}const exitBeforeEnter=writable(!1),transitioning=writable(null),modals=writable([]),action=writable(null);function closeModals(r=1){if(get_store_value(transitioning))return;const t=get_store_value(modals).length;get_store_value(exitBeforeEnter)&&t>0&&transitioning.set(!0),exitBeforeEnter.set(!1),action.set("pop"),pop(r)}function closeModal(){return closeModals(1)}function openModal(r,t,e){get_store_value(transitioning)||(action.set("push"),get_store_value(exitBeforeEnter)&&get_store_value(modals).length&&transitioning.set(!0),exitBeforeEnter.set(!1),e!=null&&e.replace?modals.update(o=>[...o.slice(0,o.length-1),{component:r,props:t}]):modals.update(o=>[...o,{component:r,props:t}]))}function pop(r=1){modals.update(t=>t.slice(0,Math.max(0,t.length-r)))}function get_each_context$a(r,t,e){const o=r.slice();return o[9]=t[e],o[11]=e,o}const get_loading_slot_changes=r=>({}),get_loading_slot_context=r=>({}),get_backdrop_slot_changes=r=>({}),get_backdrop_slot_context=r=>({});function create_if_block_1$f(r){let t;const e=r[4].backdrop,o=create_slot(e,r,r[3],get_backdrop_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),t=!0},p(l,h){o&&o.p&&(!t||h&8)&&update_slot_base(o,e,l,l[3],t?get_slot_changes(e,l[3],h,get_backdrop_slot_changes):get_all_dirty_from_scope(l[3]),get_backdrop_slot_context)},i(l){t||(transition_in(o,l),t=!0)},o(l){transition_out(o,l),t=!1},d(l){o&&o.d(l)}}}function create_else_block$b(r){let t,e,o;const l=[{isOpen:r[11]===r[0].length-1&&!r[1]},r[9].props];var h=r[9].component;function y(O){let D={};for(let R=0;R<l.length;R+=1)D=assign$7(D,l[R]);return{props:D}}return h&&(t=new h(y()),t.$on("introstart",r[7]),t.$on("outroend",r[8])),{c(){t&&create_component(t.$$.fragment),e=empty$2()},m(O,D){t&&mount_component(t,O,D),insert(O,e,D),o=!0},p(O,D){const R=D&3?get_spread_update(l,[{isOpen:O[11]===O[0].length-1&&!O[1]},D&1&&get_spread_object(O[9].props)]):{};if(h!==(h=O[9].component)){if(t){group_outros();const F=t;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}h?(t=new h(y()),t.$on("introstart",O[7]),t.$on("outroend",O[8]),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else h&&t.$set(R)},i(O){o||(t&&transition_in(t.$$.fragment,O),o=!0)},o(O){t&&transition_out(t.$$.fragment,O),o=!1},d(O){O&&detach(e),t&&destroy_component(t,O)}}}function create_if_block$j(r){let t,e,o,l={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$b,then:create_then_block$b,catch:create_catch_block$b,value:12,blocks:[,,,]};return handle_promise(e=getComponent(r[9].component),l),{c(){t=empty$2(),l.block.c()},m(h,y){insert(h,t,y),l.block.m(h,l.anchor=y),l.mount=()=>t.parentNode,l.anchor=t,o=!0},p(h,y){r=h,l.ctx=r,y&1&&e!==(e=getComponent(r[9].component))&&handle_promise(e,l)||update_await_block_branch(l,r,y)},i(h){o||(transition_in(l.block),o=!0)},o(h){for(let y=0;y<3;y+=1){const O=l.blocks[y];transition_out(O)}o=!1},d(h){h&&detach(t),l.block.d(h),l.token=null,l=null}}}function create_catch_block$b(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block$b(r){let t,e,o;const l=[{isOpen:r[11]===r[0].length-1&&!r[1]},r[9].props];var h=r[12];function y(O){let D={};for(let R=0;R<l.length;R+=1)D=assign$7(D,l[R]);return{props:D}}return h&&(t=new h(y()),t.$on("introstart",r[5]),t.$on("outroend",r[6])),{c(){t&&create_component(t.$$.fragment),e=space()},m(O,D){t&&mount_component(t,O,D),insert(O,e,D),o=!0},p(O,D){const R=D&3?get_spread_update(l,[{isOpen:O[11]===O[0].length-1&&!O[1]},D&1&&get_spread_object(O[9].props)]):{};if(h!==(h=O[12])){if(t){group_outros();const F=t;transition_out(F.$$.fragment,1,0,()=>{destroy_component(F,1)}),check_outros()}h?(t=new h(y()),t.$on("introstart",O[5]),t.$on("outroend",O[6]),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else h&&t.$set(R)},i(O){o||(t&&transition_in(t.$$.fragment,O),o=!0)},o(O){t&&transition_out(t.$$.fragment,O),o=!1},d(O){t&&destroy_component(t,O),O&&detach(e)}}}function create_pending_block$b(r){let t,e;const o=r[4].loading,l=create_slot(o,r,r[3],get_loading_slot_context);return{c(){l&&l.c(),t=space()},m(h,y){l&&l.m(h,y),insert(h,t,y),e=!0},p(h,y){l&&l.p&&(!e||y&8)&&update_slot_base(l,o,h,h[3],e?get_slot_changes(o,h[3],y,get_loading_slot_changes):get_all_dirty_from_scope(h[3]),get_loading_slot_context)},i(h){e||(transition_in(l,h),e=!0)},o(h){transition_out(l,h),e=!1},d(h){l&&l.d(h),h&&detach(t)}}}function create_each_block$a(r,t){let e,o,l,h,y,O;const D=[create_if_block$j,create_else_block$b],R=[];function F(j,B){return B&1&&(o=null),o==null&&(o=!!isLazyModal(j[9].component)),o?0:1}return l=F(t,-1),h=R[l]=D[l](t),{key:r,first:null,c(){e=empty$2(),h.c(),y=empty$2(),this.first=e},m(j,B){insert(j,e,B),R[l].m(j,B),insert(j,y,B),O=!0},p(j,B){t=j;let U=l;l=F(t,B),l===U?R[l].p(t,B):(group_outros(),transition_out(R[U],1,1,()=>{R[U]=null}),check_outros(),h=R[l],h?h.p(t,B):(h=R[l]=D[l](t),h.c()),transition_in(h,1),h.m(y.parentNode,y))},i(j){O||(transition_in(h),O=!0)},o(j){transition_out(h),O=!1},d(j){j&&detach(e),R[l].d(j),j&&detach(y)}}}function fallback_block(r){let t=[],e=new Map,o,l,h=r[0];const y=O=>O[11];for(let O=0;O<h.length;O+=1){let D=get_each_context$a(r,h,O),R=y(D);e.set(R,t[O]=create_each_block$a(R,D))}return{c(){for(let O=0;O<t.length;O+=1)t[O].c();o=empty$2()},m(O,D){for(let R=0;R<t.length;R+=1)t[R].m(O,D);insert(O,o,D),l=!0},p(O,D){D&15&&(h=O[0],group_outros(),t=update_keyed_each(t,D,y,1,O,h,e,o.parentNode,outro_and_destroy_block,create_each_block$a,o,get_each_context$a),check_outros())},i(O){if(!l){for(let D=0;D<h.length;D+=1)transition_in(t[D]);l=!0}},o(O){for(let D=0;D<t.length;D+=1)transition_out(t[D]);l=!1},d(O){for(let D=0;D<t.length;D+=1)t[D].d(O);O&&detach(o)}}}function create_fragment$u(r){let t,e,o=r[0].length>0&&create_if_block_1$f(r);const l=r[4].default,h=create_slot(l,r,r[3],null),y=h||fallback_block(r);return{c(){o&&o.c(),t=space(),y&&y.c()},m(O,D){o&&o.m(O,D),insert(O,t,D),y&&y.m(O,D),e=!0},p(O,[D]){O[0].length>0?o?(o.p(O,D),D&1&&transition_in(o,1)):(o=create_if_block_1$f(O),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros()),h?h.p&&(!e||D&8)&&update_slot_base(h,l,O,O[3],e?get_slot_changes(l,O[3],D,null):get_all_dirty_from_scope(O[3]),null):y&&y.p&&(!e||D&15)&&y.p(O,e?D:-1)},i(O){e||(transition_in(o),transition_in(y,O),e=!0)},o(O){transition_out(o),transition_out(y,O),e=!1},d(O){o&&o.d(O),O&&detach(t),y&&y.d(O)}}}function isLazyModal(r){return typeof r.prototype=="undefined"}async function getComponent(r){return r().then(t=>t.default)}function instance$s(r,t,e){let o,l,h;component_subscribe(r,modals,B=>e(0,o=B)),component_subscribe(r,transitioning,B=>e(1,l=B)),component_subscribe(r,exitBeforeEnter,B=>e(2,h=B));let{$$slots:y={},$$scope:O}=t;const D=()=>{set_store_value(exitBeforeEnter,h=!0,h)},R=()=>{set_store_value(transitioning,l=!1,l)},F=()=>{set_store_value(exitBeforeEnter,h=!0,h)},j=()=>{set_store_value(transitioning,l=!1,l)};return r.$$set=B=>{"$$scope"in B&&e(3,O=B.$$scope)},[o,l,h,O,y,D,R,F,j]}class Modals extends SvelteComponent{constructor(t){super(),init(this,t,instance$s,create_fragment$u,safe_not_equal,{})}}var authModule_svelte_svelte_type_style_lang="";function create_if_block_4$9(r){let t;return{c(){t=element("div"),t.innerHTML=`<lottie-player src="https://assets6.lottiefiles.com/packages/lf20_kwefwdy6.json" background="transparent" speed="1" style="height:150px; max-width:200px; margin:auto;" autoplay=""></lottie-player> 
            <div style="color:#6219d8; text-align:center; margin-top:16px;">Un e-mail de v\xE9rification vous a \xE9t\xE9 envoy\xE9 pour finaliser votre inscription.</div>`},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_2$d(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe=r[0]!=""&&create_if_block_3$9(r);return{c(){t=element("h3"),t.textContent="Cr\xE9ez votre compte R\xE9tine",e=space(),oe&&oe.c(),o=space(),l=element("label"),h=text("Identifiant :"),y=element("br"),O=element("input"),D=space(),R=element("label"),F=text("Mot de passe :"),j=element("br"),B=element("input"),U=space(),W=element("label"),q=text("Confirmation mot de passe :"),K=element("br"),Y=element("input"),X=space(),J=element("div"),Q=text(r[5]),Z=space(),ee=element("div"),re=element("div"),re.textContent="D\xE9j\xE0 un compte ?",te=space(),ne=element("button"),ne.textContent="Inscription",attr(t,"class","mb-4"),set_style(t,"color","#6219d8"),set_style(t,"text-align","center"),set_style(t,"margin-bottom","16px"),attr(O,"type","text"),attr(O,"placeholder","bruce@wayne.com"),attr(O,"class","svelte-1yoxi9y"),attr(l,"class","svelte-1yoxi9y"),attr(B,"type","password"),attr(B,"class","svelte-1yoxi9y"),attr(R,"for","mdp"),attr(R,"class","svelte-1yoxi9y"),attr(Y,"type","password"),attr(Y,"class","svelte-1yoxi9y"),attr(W,"for","mdp"),attr(W,"class","svelte-1yoxi9y"),attr(J,"class","errorMsg svelte-1yoxi9y"),attr(re,"class","optionTwo svelte-1yoxi9y"),attr(ne,"class","svelte-1yoxi9y"),set_style(ee,"display","flex"),set_style(ee,"flex-direction","row"),set_style(ee,"align-items","center")},m(ce,ue){insert(ce,t,ue),insert(ce,e,ue),oe&&oe.m(ce,ue),insert(ce,o,ue),insert(ce,l,ue),append(l,h),append(l,y),append(l,O),set_input_value(O,r[2]),insert(ce,D,ue),insert(ce,R,ue),append(R,F),append(R,j),append(R,B),set_input_value(B,r[3]),insert(ce,U,ue),insert(ce,W,ue),append(W,q),append(W,K),append(W,Y),set_input_value(Y,r[4]),insert(ce,X,ue),insert(ce,J,ue),append(J,Q),insert(ce,Z,ue),insert(ce,ee,ue),append(ee,re),append(ee,te),append(ee,ne),ae||(ie=[listen(O,"input",r[13]),listen(B,"input",r[14]),listen(Y,"input",r[15]),listen(re,"click",r[6]),listen(ne,"click",r[8])],ae=!0)},p(ce,ue){ce[0]!=""?oe?oe.p(ce,ue):(oe=create_if_block_3$9(ce),oe.c(),oe.m(o.parentNode,o)):oe&&(oe.d(1),oe=null),ue&4&&O.value!==ce[2]&&set_input_value(O,ce[2]),ue&8&&B.value!==ce[3]&&set_input_value(B,ce[3]),ue&16&&Y.value!==ce[4]&&set_input_value(Y,ce[4]),ue&32&&set_data(Q,ce[5])},d(ce){ce&&detach(t),ce&&detach(e),oe&&oe.d(ce),ce&&detach(o),ce&&detach(l),ce&&detach(D),ce&&detach(R),ce&&detach(U),ce&&detach(W),ce&&detach(X),ce&&detach(J),ce&&detach(Z),ce&&detach(ee),ae=!1,run_all(ie)}}}function create_if_block$i(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re=r[0]!=""&&create_if_block_1$e(r);return{c(){t=element("h3"),t.textContent="Connexion",e=space(),re&&re.c(),o=space(),l=element("label"),h=text("Identifiant :"),y=element("br"),O=element("input"),D=space(),R=element("label"),F=text("Mot de passe :"),j=element("br"),B=element("input"),U=space(),W=element("div"),q=text(r[5]),K=space(),Y=element("div"),X=element("div"),X.textContent="Pas encore de compte ?",J=space(),Q=element("button"),Q.textContent="Connexion",attr(t,"class","mb-4"),set_style(t,"color","#6219d8"),set_style(t,"text-align","center"),set_style(t,"margin-bottom","16px"),attr(O,"placeholder","bruce@wayne.com"),attr(O,"type","text"),attr(O,"class","svelte-1yoxi9y"),attr(l,"for","id"),attr(l,"class","svelte-1yoxi9y"),attr(B,"type","password"),attr(B,"class","svelte-1yoxi9y"),attr(R,"for","mdp"),attr(R,"class","svelte-1yoxi9y"),attr(W,"class","errorMsg svelte-1yoxi9y"),attr(X,"class","optionTwo svelte-1yoxi9y"),attr(Q,"class","svelte-1yoxi9y"),set_style(Y,"display","flex"),set_style(Y,"flex-direction","row"),set_style(Y,"align-items","center")},m(te,ne){insert(te,t,ne),insert(te,e,ne),re&&re.m(te,ne),insert(te,o,ne),insert(te,l,ne),append(l,h),append(l,y),append(l,O),set_input_value(O,r[2]),insert(te,D,ne),insert(te,R,ne),append(R,F),append(R,j),append(R,B),set_input_value(B,r[3]),insert(te,U,ne),insert(te,W,ne),append(W,q),insert(te,K,ne),insert(te,Y,ne),append(Y,X),append(Y,J),append(Y,Q),Z||(ee=[listen(O,"input",r[11]),listen(B,"input",r[12]),listen(X,"click",r[6]),listen(Q,"click",r[7])],Z=!0)},p(te,ne){te[0]!=""?re?re.p(te,ne):(re=create_if_block_1$e(te),re.c(),re.m(o.parentNode,o)):re&&(re.d(1),re=null),ne&4&&O.value!==te[2]&&set_input_value(O,te[2]),ne&8&&B.value!==te[3]&&set_input_value(B,te[3]),ne&32&&set_data(q,te[5])},d(te){te&&detach(t),te&&detach(e),re&&re.d(te),te&&detach(o),te&&detach(l),te&&detach(D),te&&detach(R),te&&detach(U),te&&detach(W),te&&detach(K),te&&detach(Y),Z=!1,run_all(ee)}}}function create_if_block_3$9(r){let t,e;return{c(){t=element("div"),e=text(r[0]),attr(t,"class","infoMsg svelte-1yoxi9y")},m(o,l){insert(o,t,l),append(t,e)},p(o,l){l&1&&set_data(e,o[0])},d(o){o&&detach(t)}}}function create_if_block_1$e(r){let t,e;return{c(){t=element("div"),e=text(r[0]),attr(t,"class","infoMsg svelte-1yoxi9y")},m(o,l){insert(o,t,l),append(t,e)},p(o,l){l&1&&set_data(e,o[0])},d(o){o&&detach(t)}}}function create_key_block$2(r){let t,e,o,l;function h(D,R){if(D[1]=="connex")return create_if_block$i;if(D[1]=="inscr")return create_if_block_2$d;if(D[1]=="success")return create_if_block_4$9}let y=h(r),O=y&&y(r);return{c(){t=element("div"),O&&O.c(),attr(t,"class","svelte-1yoxi9y")},m(D,R){insert(D,t,R),O&&O.m(t,null),l=!0},p(D,R){y===(y=h(D))&&O?O.p(D,R):(O&&O.d(1),O=y&&y(D),O&&(O.c(),O.m(t,null)))},i(D){l||(add_render_callback(()=>{o&&o.end(1),e=create_in_transition(t,fly,{x:30}),e.start()}),l=!0)},o(D){e&&e.invalidate(),o=create_out_transition(t,fly,{x:-30}),l=!1},d(D){D&&detach(t),O&&O.d(),D&&o&&o.end()}}}function create_fragment$t(r){let t,e,o=r[1],l,h,y,O,D=create_key_block$2(r);return{c(){t=element("div"),e=element("div"),D.c(),attr(e,"class","floatingLogin svelte-1yoxi9y"),attr(t,"role","dialog"),attr(t,"class","modal svelte-1yoxi9y")},m(R,F){insert(R,t,F),append(t,e),D.m(e,null),h=!0,y||(O=[listen(t,"introstart",r[9]),listen(t,"outroend",r[10])],y=!0)},p(R,[F]){F&2&&safe_not_equal(o,o=R[1])?(group_outros(),transition_out(D,1,1,noop$4),check_outros(),D=create_key_block$2(R),D.c(),transition_in(D,1),D.m(e,null)):D.p(R,F)},i(R){h||(transition_in(D),add_render_callback(()=>{l||(l=create_bidirectional_transition(t,fly,{y:50},!0)),l.run(1)}),h=!0)},o(R){transition_out(D),l||(l=create_bidirectional_transition(t,fly,{y:50},!1)),l.run(0),h=!1},d(R){R&&detach(t),D.d(R),R&&l&&l.end(),y=!1,run_all(O)}}}function instance$r(r,t,e){const o=useNavigate();let{msg:l=""}=t,{page2:h="inscr"}=t;const y=()=>{h=="inscr"?e(1,h="connex"):e(1,h="inscr"),e(0,l="")};let O="",D="",R="",F="";const j=()=>{O==""||D==""?e(5,F="Veuillez remplir tous les champs ci-dessus."):(e(5,F=""),W(O.toLowerCase(),D).then(ee=>{e(5,F=ee)}))},B=()=>{O==""||D==""||R==""?e(5,F="Veuillez remplir tous les champs ci-dessus."):(e(5,F=""),U(O.toLowerCase(),D,R).then(ee=>{e(5,F=ee)}))};function U(ee,re,te){let ne=new Headers;ne.append("Content-Type","application/json");let ae=JSON.stringify({email:ee,password1:re,password2:te}),ie={method:"POST",headers:ne,body:ae,redirect:"follow"};return new Promise((oe,ce)=>{fetch(rtnUrl+"auth/registration/",ie).then(ue=>ue.text()).then(ue=>{Object.keys(JSON.parse(ue))[0]=="non_field_errors"?oe("Les mots de passe ne sont pas identiques."):Object.keys(JSON.parse(ue))[0]=="email"?oe("Adresse mail non-valide ou d\xE9j\xE0 utilis\xE9e."):Object.keys(JSON.parse(ue))[0]=="password1"?oe("Le mot de passe doit contenir au moins 8 caract\xE8res."):JSON.parse(ue)[Object.keys(JSON.parse(ue))[0]]=="Verification e-mail sent."&&(e(1,h="success"),oe("Un e-mail de verification vous a \xE9t\xE9 envoy\xE9."))}).catch(ue=>oe(ue))})}function W(ee,re){let te=new Headers;te.append("Content-Type","application/json");let ne=JSON.stringify({username:ee,password:re}),ae={method:"POST",headers:te,body:ne,redirect:"follow"};return new Promise((ie,oe)=>{fetch(rtnUrl+"authenticate/",ae).then(ce=>ce.text()).then(ce=>{Object.keys(JSON.parse(ce))[0]=="non_field_errors"?ie("Identifiants incorrects."):(xxsc("rtnt",JSON.parse(ce).token,30),xxsc("rtnu",JSON.parse(ce).id,30),closeModal(),o("/dashboard"),ie("Connexion effectu\xE9e. Bienvenue sur R\xE9tine."))}).catch(ce=>console.log(ce))})}function q(ee){bubble.call(this,r,ee)}function K(ee){bubble.call(this,r,ee)}function Y(){O=this.value,e(2,O)}function X(){D=this.value,e(3,D)}function J(){O=this.value,e(2,O)}function Q(){D=this.value,e(3,D)}function Z(){R=this.value,e(4,R)}return r.$$set=ee=>{"msg"in ee&&e(0,l=ee.msg),"page2"in ee&&e(1,h=ee.page2)},[l,h,O,D,R,F,y,j,B,q,K,Y,X,J,Q,Z]}class AuthModule extends SvelteComponent{constructor(t){super(),init(this,t,instance$r,create_fragment$t,safe_not_equal,{msg:0,page2:1})}}var switch_svelte_svelte_type_style_lang="";function create_fragment$s(r){let t,e,o,l,h,y;return{c(){t=element("label"),e=element("input"),o=space(),l=element("span"),attr(e,"type","checkbox"),attr(e,"class","svelte-19ocimn"),attr(l,"class","slider svelte-19ocimn"),attr(t,"class","switch svelte-19ocimn"),set_style(t,"--theme-color",r[1])},m(O,D){insert(O,t,D),append(t,e),e.checked=r[0],append(t,o),append(t,l),h||(y=listen(e,"change",r[2]),h=!0)},p(O,[D]){D&1&&(e.checked=O[0]),D&2&&set_style(t,"--theme-color",O[1])},i:noop$4,o:noop$4,d(O){O&&detach(t),h=!1,y()}}}function instance$q(r,t,e){let{checked:o=!1}=t,{color:l="#6219D8"}=t;function h(){o=this.checked,e(0,o)}return r.$$set=y=>{"checked"in y&&e(0,o=y.checked),"color"in y&&e(1,l=y.color)},[o,l,h]}class Switch extends SvelteComponent{constructor(t){super(),init(this,t,instance$q,create_fragment$s,safe_not_equal,{checked:0,color:1})}}var index_svelte_svelte_type_style_lang="";function create_if_block_1$d(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re;function te(ie,oe){return xxgc("rtnt")!=null&&xxgc("rtnt")!=null?create_if_block_2$c:create_else_block$a}let ae=te()(r);return{c(){ae.c(),t=space(),e=element("img"),l=space(),h=element("div"),y=element("div"),O=element("span"),D=element("div"),R=element("div"),R.textContent="R\xE9tine",j=space(),B=element("h2"),B.innerHTML="La nouvelle \xE8re <br/>de l&#39;opinion",W=space(),q=element("button"),q.textContent="\u26A1 Cr\xE9er un sondage 2.0",Y=space(),X=element("div"),J=element("div"),Q=element("div"),Q.innerHTML='<div class="w-100 h-100 d-flex align-items-center justify-content-center svelte-1mrb1dx" style="border-radius: 15px;"><iframe class="integratedSondage svelte-1mrb1dx" id="sondageRetine" title="Mon sondage R\xE9tine" src="https://retine.io/sondage#843a213"></iframe></div>',attr(e,"class","logoJtvBig svelte-1mrb1dx"),src_url_equal(e.src,o="assets/LOGO_JTV_ALT.svg")||attr(e,"src",o),attr(e,"alt","logo de Jetevois"),set_style(e,"width","90vw"),set_style(e,"max-width","800px"),set_style(e,"left","50%"),set_style(e,"top","50%"),set_style(e,"transform","translate(-50%,-50%)"),set_style(e,"animation","float 2s ease-in-out infinite"),attr(R,"class","retineTitle svelte-1mrb1dx"),attr(B,"class","retineSlogan svelte-1mrb1dx"),attr(q,"class","neuBtnClear mt-4 svelte-1mrb1dx"),attr(D,"class","centerTitle h-100 text-center text-md-start d-flex align-items-center align-items-md-start justify-content-center svelte-1mrb1dx"),attr(y,"class","col-12 col-md-6"),attr(Q,"class","iphone-x mx-auto my-4 h-100 svelte-1mrb1dx"),attr(J,"class","d-flex align-items-center justify-content-center"),set_style(J,"height","100%"),attr(X,"class","col-12 col-md-6 p-4 p-md-0"),attr(h,"class","row h-100 w-100 p-1 p-md-4")},m(ie,oe){ae.m(ie,oe),insert(ie,t,oe),insert(ie,e,oe),insert(ie,l,oe),insert(ie,h,oe),append(h,y),append(y,O),append(O,D),append(D,R),append(D,j),append(D,B),append(D,W),append(D,q),append(h,Y),append(h,X),append(X,J),append(J,Q),ee||(re=listen(q,"click",r[6]),ee=!0)},p(ie,oe){ae.p(ie,oe)},i(ie){F||add_render_callback(()=>{F=create_in_transition(R,fly,{y:50,duration:500,delay:100}),F.start()}),U||add_render_callback(()=>{U=create_in_transition(B,fly,{y:50,duration:500,delay:200}),U.start()}),K||add_render_callback(()=>{K=create_in_transition(q,fly,{y:50,duration:500,delay:300}),K.start()}),Z||add_render_callback(()=>{Z=create_in_transition(Q,fly,{y:50,duration:700,delay:400}),Z.start()})},o:noop$4,d(ie){ae.d(ie),ie&&detach(t),ie&&detach(e),ie&&detach(l),ie&&detach(h),ee=!1,re()}}}function create_else_block$a(r){let t,e,o,l;return{c(){t=element("div"),e=element("button"),e.innerHTML=`<i class="bx bx-log-in" width="1.4em" color="white" style="padding-right:5px"></i> 
            <div>Connexion | Inscription</div>`,attr(e,"class","purpleBtn svelte-1mrb1dx"),attr(t,"class","connexBtn svelte-1mrb1dx")},m(h,y){insert(h,t,y),append(t,e),o||(l=listen(e,"click",r[5]),o=!0)},p:noop$4,d(h){h&&detach(t),o=!1,l()}}}function create_if_block_2$c(r){let t,e,o,l;return{c(){t=element("div"),e=element("button"),e.innerHTML=`<i class="bx bx-log-in" width="1.4em" color="white" style="padding-right:5px"></i> 
            <div>Mon tableau de bord</div>`,attr(e,"class","purpleBtn svelte-1mrb1dx"),attr(t,"class","connexBtn svelte-1mrb1dx")},m(h,y){insert(h,t,y),append(t,e),o||(l=listen(e,"click",r[4]),o=!0)},p:noop$4,d(h){h&&detach(t),o=!1,l()}}}function create_if_block$h(r){let t,e,o,l,h,y,O;const D=[r[2].props||{}];var R=r[2].component;function F(j){let B={};for(let U=0;U<D.length;U+=1)B=assign$7(B,D[U]);return{props:B}}return R&&(t=new R(F())),{c(){t&&create_component(t.$$.fragment),e=space(),o=element("div"),attr(o,"class","backdrop svelte-1mrb1dx")},m(j,B){t&&mount_component(t,j,B),insert(j,e,B),insert(j,o,B),h=!0,y||(O=listen(o,"click",r[10]),y=!0)},p(j,B){const U=B&4?get_spread_update(D,[get_spread_object(j[2].props||{})]):{};if(R!==(R=j[2].component)){if(t){group_outros();const W=t;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(t=new R(F()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else R&&t.$set(U)},i(j){h||(t&&transition_in(t.$$.fragment,j),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(j){t&&transition_out(t.$$.fragment,j),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(j){t&&destroy_component(t,j),j&&detach(e),j&&detach(o),j&&l&&l.end(),y=!1,O()}}}function create_default_slot$8(r){let t,e,o=r[2]&&create_if_block$h(r);return{c(){o&&o.c(),t=empty$2()},m(l,h){o&&o.m(l,h),insert(l,t,h),e=!0},p(l,h){l[2]?o?(o.p(l,h),h&4&&transition_in(o,1)):(o=create_if_block$h(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){e||(transition_in(o),e=!0)},o(l){transition_out(o),e=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$r(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe,ge,ye,we,$e,_e,Se,Te,be,Oe,xe,Ee,Ce,ve=r[1]?"62\u20AC":"69\u20AC",Pe,Me,Ne,Be,Fe,Re,ke,Le,De,Ie,Ve,Ue,ze,Ae,He,Ke,je,Xe,tt,Ge=r[0]&&create_if_block_1$d(r);function We(qe){r[7](qe)}let Qe={};return r[1]!==void 0&&(Qe.checked=r[1]),ae=new Switch({props:Qe}),binding_callbacks.push(()=>bind$f(ae,"checked",We)),Ke=new Modals({props:{$$slots:{default:[create_default_slot$8]},$$scope:{ctx:r}}}),{c(){t=element("link"),e=space(),o=element("div"),l=element("div"),Ge&&Ge.c(),h=space(),y=element("div"),O=space(),D=element("div"),D.innerHTML=`<div class="purpleRect svelte-1mrb1dx"><img class="logoJtvBig svelte-1mrb1dx" style="top:0px; opacity:.1;" src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois"/> 
      <h2 class="lTwoTitle svelte-1mrb1dx">Vos employ\xE9s &amp; clients vont adorer r\xE9pondre,<br/>Vous allez adorer sonder</h2> 
      <div class="row w-100" style="max-width:950px;"><div class="col-12 col-md-4 mb-3"><div class="lTwoCard hvr-float svelte-1mrb1dx"><div><div class="numberFact svelte-1mrb1dx">30%</div> 
              <div class="textFact svelte-1mrb1dx">plus rapide de r\xE9pondre \xE0 un sondage R\xE9tine qu\u2019\xE0 tout autre sondage en ligne</div></div> 
            <div class="footerFact svelte-1mrb1dx">\u{1F3C6} Interface chat innovante</div></div></div> 
        <div class="col-12 col-md-4 mb-3"><div class="lTwoCard hvr-float svelte-1mrb1dx"><div><div class="numberFact svelte-1mrb1dx">87%</div> 
              <div class="textFact svelte-1mrb1dx">des r\xE9pondants pr\xE9f\xE8rent r\xE9pondre \xE0 des sondages R\xE9tine</div></div> 
            <div class="footerFact svelte-1mrb1dx">\u{1F3C6} Sondages ludiques et modernes</div></div></div> 
        <div class="col-12 col-md-4 mb-3"><div class="lTwoCard hvr-float svelte-1mrb1dx"><div><div class="numberFact svelte-1mrb1dx">2 <span style="font-size:3rem">clics</span></div> 
              <div class="textFact svelte-1mrb1dx">pour analyser les correlations, tendances, r\xE9ponses filtr\xE9es...</div></div> 
            <div class="footerFact svelte-1mrb1dx">\u{1F3C6} Interface chat innovante</div></div></div></div></div>`,R=space(),F=element("div"),j=space(),B=element("div"),B.innerHTML=`<img class="logoJtvBig svelte-1mrb1dx" style="top:0px; opacity:.05; width:20%!important; min-width:300px;" src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois"/> 
    <h1 class="mb-5 mx-auto">10 bonnes raisons de choisir R\xE9tine</h1> 
    <div class="parent-gridRet svelte-1mrb1dx"><div class="div1-gridRet hvr-float svelte-1mrb1dx"><img src="assets/LOGO_JTV_ALT_white.svg" alt="logo de Jetevois" style="position: ;absolute; opacity: .2; transform:translateY(-15px)" class="svelte-1mrb1dx"/> 
        <p style="position:absolute; color:white; font-size:2.4rem" class="svelte-1mrb1dx">R\xE9tine</p></div> 
      <div class="div2-gridRet hvr-float svelte-1mrb1dx"><img src="assets/landing/icone-dashboards-retine.svg" alt="Tableau de bord interactif" class="svelte-1mrb1dx"/> 
        <p class="svelte-1mrb1dx">Tableau de bord interactif</p></div> 
      <div class="div3-gridRet hvr-float svelte-1mrb1dx"><img src="assets/landing/illus-retine-templates.svg" alt="Templates professionnels" class="svelte-1mrb1dx"/> 
        <p class="svelte-1mrb1dx">Templates professionnels</p></div> 
      <div class="div4-gridRet hvr-float svelte-1mrb1dx"><p class="svelte-1mrb1dx">IA d\xE9di\xE9e \xE0 l&#39;analyse des r\xE9ponses</p> 
        <img src="assets/landing/illus-retine-analyse-quali.png" alt="Analyse du sentiment des r\xE9pondants" class="svelte-1mrb1dx"/></div> 
      <div class="div5-gridRet hvr-float svelte-1mrb1dx">\u{1F534} R\xE9sultats en temps r\xE9el</div> 
      <div class="div6-gridRet hvr-float svelte-1mrb1dx"><img src="assets/landing/illus-retine-max-taux-reponse.svg" alt="Taux de reponse maximis\xE9" class="svelte-1mrb1dx"/> 
        <p class="pl-md-3 svelte-1mrb1dx">Maximisation du taux de r\xE9ponse</p></div> 
      <div class="div7-gridRet hvr-float svelte-1mrb1dx"><img src="assets/landing/illus-retine-personalisation.svg" alt="Personnalisation du design des questionnaires" class="svelte-1mrb1dx"/> 
        <p class="pl-md-3 svelte-1mrb1dx">Personnalisation du design des questionnaires</p></div> 
      <div class="div8-gridRet hvr-float svelte-1mrb1dx"><p class="pl-md-4 svelte-1mrb1dx">Export des r\xE9sultats</p> 
        <img class="py-3 svelte-1mrb1dx" src="assets/landing/grid(3).png" alt="export en csv"/></div> 
      <div class="div9-gridRet hvr-float svelte-1mrb1dx"><img src="assets/landing/grid(6).png" alt="filtre" class="svelte-1mrb1dx"/> 
        <p class="svelte-1mrb1dx">Filtrage intelligent des r\xE9ponses</p></div> 
      <div class="div10-gridRet hvr-float svelte-1mrb1dx"><p class="pl-md-3 svelte-1mrb1dx">Donn\xE9es s\xE9curis\xE9es et h\xE9berg\xE9es en France</p> 
        <img class="pr-md-4 svelte-1mrb1dx" src="assets/landing/grid(4).png" alt="nuage s\xE9curis\xE9"/></div> 
      <div class="div11-gridRet hvr-float svelte-1mrb1dx"><img class="p-0 svelte-1mrb1dx" src="assets/landing/grid(5).png" alt="export en csv"/> 
        <p class="svelte-1mrb1dx">Accompagnement au ciblage des r\xE9pondants</p></div></div>`,U=space(),W=element("div"),q=space(),K=element("div"),Y=element("img"),J=space(),Q=element("h2"),Q.textContent="Il y a forc\xE9ment une offre pour vous",Z=space(),ee=element("div"),re=element("div"),re.textContent="Mensuel",te=space(),ne=element("div"),create_component(ae.$$.fragment),oe=space(),ce=element("div"),ce.textContent="Annuel (-10%)",ue=space(),pe=element("div"),me=element("div"),he=element("div"),se=element("div"),se.textContent="D\xE9couverte",le=space(),fe=element("h1"),fe.textContent="Gratuit",ge=space(),ye=element("p"),ye.textContent="La formule id\xE9ale pour d\xE9couvrir et tester R\xE9tine",we=space(),$e=element("ul"),$e.innerHTML=`<li>Fonctionnalit\xE9s basiques de R\xE9tine (cr\xE9ation des sondages, lien de partage et analyse des r\xE9sultats)</li> 
            <li>Acc\xE8s \xE0 10 templates de sondages</li> 
            <li>Nombre de r\xE9pondants limit\xE9 \xE0 30 par sondage</li>`,_e=space(),Se=element("div"),Se.textContent="Je d\xE9couvre \u{1F440}",Te=space(),be=element("div"),Oe=element("div"),xe=element("div"),xe.textContent="R\xE9tine Pro",Ee=space(),Ce=element("h1"),Pe=text(ve),Me=element("span"),Me.textContent="/mois",Ne=space(),Be=element("span"),Be.textContent="(TTC)",Fe=space(),Re=element("p"),Re.textContent="La pleine puissance de R\xE9tine, calibr\xE9e pour les professionnels",ke=space(),Le=element("ul"),Le.innerHTML=`<li>Fonctionnalit\xE9s compl\xE8tes de R\xE9tine (cr\xE9ation des sondages, envoi massif et analyse)</li> 
            <li>Acc\xE8s \xE0 l\u2019ensemble des templates de sondages (50+)</li> 
            <li>Nombre de r\xE9pondants illimit\xE9s</li> 
            <li>Nombre de contacts illimit\xE9s</li> 
            <li>Support 7/7</li>`,De=space(),Ie=element("div"),Ie.textContent="C'est parti \u{1F680}",Ve=space(),Ue=element("div"),Ue.innerHTML=`<div class="priceCard hvr-float mb-4 svelte-1mrb1dx" style="height:fit-content; background-color:white;"><div class="tickk svelte-1mrb1dx" style="font-size:1.1rem;">\u23F1\uFE0F Prochaines fonctionnalit\xE9s</div> 
          <ul class="mb-0 svelte-1mrb1dx" style="font-size:.9rem;"><li>De nouveaux modules de sondages innovants</li> 
            <li>L\u2019export des r\xE9sultats au format slides (PDF &amp; PPT)</li> 
            <li>De nouvelles options de diffusion de sondages</li></ul></div> 
        <div class="priceCard neuPriceCard hvr-float flex-grow-1 svelte-1mrb1dx" style="height:fit-content; background-color:#F5E4D5 "><div class="tickk svelte-1mrb1dx">Un besoin particulier ?</div> 
          <p class="svelte-1mrb1dx">R\xE9tine vous accompagne sur-mesure</p> 
          <ul class="svelte-1mrb1dx"><li>Ciblage des r\xE9pondants</li> 
            <li>Cr\xE9ation de questionnaires</li> 
            <li>Optimisation des campagnes</li></ul> 
          <a style="color:black; text-decoration:none;" href="mailto:bonjour@retine.io"><div class="priceActionButton svelte-1mrb1dx">Contactez nous \u{1F680}</div></a></div>`,ze=space(),Ae=element("footer"),Ae.innerHTML=`<a class="footerPill svelte-1mrb1dx" style="text-decoration:none;" href="https://jetevois.fr/" target="_noref">R\xE9tine est un produit cr\xE9\xE9 <br class="d-inline d-md-none"/>par le studio <img src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois" class="svelte-1mrb1dx"/> 
      <strong>Je te vois</strong></a> 
    <div class="footerLegal svelte-1mrb1dx">\xA9 2020-2022 / <a href="https://retine.io/ml.pdf" class="mx-2 svelte-1mrb1dx">Mentions l\xE9gales</a> 

      <div class="socialIcon svelte-1mrb1dx"><a href="https://www.linkedin.com/company/retine" rel="noopener" target="_blank" class="icon-17 linkedin svelte-1mrb1dx" title="LinkedIn"><svg viewBox="0 0 512 512"><path d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z"></path></svg></a></div> 
      <div class="socialIcon svelte-1mrb1dx"><a href="https://twitter.com/RetineApp" rel="noopener" target="_blank" class="icon-26 twitter svelte-1mrb1dx" title="Twitter"><svg viewBox="0 0 512 512"><path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"></path></svg></a></div> 
      <div class="socialIcon svelte-1mrb1dx"><a href="https://www.instagram.com/retineapp/" rel="noopener" target="_blank" class="icon-15 instagram svelte-1mrb1dx" title="Instagram"><svg viewBox="0 0 512 512"><g><path d="M256 109.3c47.8 0 53.4 0.2 72.3 1 17.4 0.8 26.9 3.7 33.2 6.2 8.4 3.2 14.3 7.1 20.6 13.4 6.3 6.3 10.1 12.2 13.4 20.6 2.5 6.3 5.4 15.8 6.2 33.2 0.9 18.9 1 24.5 1 72.3s-0.2 53.4-1 72.3c-0.8 17.4-3.7 26.9-6.2 33.2 -3.2 8.4-7.1 14.3-13.4 20.6 -6.3 6.3-12.2 10.1-20.6 13.4 -6.3 2.5-15.8 5.4-33.2 6.2 -18.9 0.9-24.5 1-72.3 1s-53.4-0.2-72.3-1c-17.4-0.8-26.9-3.7-33.2-6.2 -8.4-3.2-14.3-7.1-20.6-13.4 -6.3-6.3-10.1-12.2-13.4-20.6 -2.5-6.3-5.4-15.8-6.2-33.2 -0.9-18.9-1-24.5-1-72.3s0.2-53.4 1-72.3c0.8-17.4 3.7-26.9 6.2-33.2 3.2-8.4 7.1-14.3 13.4-20.6 6.3-6.3 12.2-10.1 20.6-13.4 6.3-2.5 15.8-5.4 33.2-6.2C202.6 109.5 208.2 109.3 256 109.3M256 77.1c-48.6 0-54.7 0.2-73.8 1.1 -19 0.9-32.1 3.9-43.4 8.3 -11.8 4.6-21.7 10.7-31.7 20.6 -9.9 9.9-16.1 19.9-20.6 31.7 -4.4 11.4-7.4 24.4-8.3 43.4 -0.9 19.1-1.1 25.2-1.1 73.8 0 48.6 0.2 54.7 1.1 73.8 0.9 19 3.9 32.1 8.3 43.4 4.6 11.8 10.7 21.7 20.6 31.7 9.9 9.9 19.9 16.1 31.7 20.6 11.4 4.4 24.4 7.4 43.4 8.3 19.1 0.9 25.2 1.1 73.8 1.1s54.7-0.2 73.8-1.1c19-0.9 32.1-3.9 43.4-8.3 11.8-4.6 21.7-10.7 31.7-20.6 9.9-9.9 16.1-19.9 20.6-31.7 4.4-11.4 7.4-24.4 8.3-43.4 0.9-19.1 1.1-25.2 1.1-73.8s-0.2-54.7-1.1-73.8c-0.9-19-3.9-32.1-8.3-43.4 -4.6-11.8-10.7-21.7-20.6-31.7 -9.9-9.9-19.9-16.1-31.7-20.6 -11.4-4.4-24.4-7.4-43.4-8.3C310.7 77.3 304.6 77.1 256 77.1L256 77.1z"></path><path d="M256 164.1c-50.7 0-91.9 41.1-91.9 91.9s41.1 91.9 91.9 91.9 91.9-41.1 91.9-91.9S306.7 164.1 256 164.1zM256 315.6c-32.9 0-59.6-26.7-59.6-59.6s26.7-59.6 59.6-59.6 59.6 26.7 59.6 59.6S288.9 315.6 256 315.6z"></path><circle cx="351.5" cy="160.5" r="21.5"></circle></g></svg></a></div></div>`,He=space(),create_component(Ke.$$.fragment),attr(t,"rel","stylesheet"),attr(t,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),attr(l,"class","landingHead pt-5 svelte-1mrb1dx"),attr(y,"class","p-5 d-md-none"),set_style(y,"background-color","#FAF7FF"),attr(D,"class","landingTwo pt-5 pt-md-0 svelte-1mrb1dx"),attr(F,"class","p-5 d-md-none"),set_style(F,"background-color","#FAF7FF"),attr(B,"class","landingThree pt-5 pt-md-0 svelte-1mrb1dx"),attr(W,"class","p-5 d-md-none"),set_style(W,"background-color","#FAF7FF"),attr(Y,"class","logoJtvBig svelte-1mrb1dx"),set_style(Y,"top","0px"),set_style(Y,"opacity",".05"),set_style(Y,"width","20%",1),set_style(Y,"min-width","300px"),src_url_equal(Y.src,X="assets/LOGO_JTV_ALT.svg")||attr(Y,"src",X),attr(Y,"alt","logo de Jetevois"),attr(Q,"class","mb-4 mx-auto"),attr(ne,"class","mx-3"),attr(ee,"class","d-flex align-items-center justify-content-center mb-4"),attr(se,"class","tickk svelte-1mrb1dx"),attr(fe,"class","svelte-1mrb1dx"),attr(ye,"class","svelte-1mrb1dx"),attr($e,"class","svelte-1mrb1dx"),attr(Se,"class","priceActionButton svelte-1mrb1dx"),attr(he,"class","priceCard hvr-float svelte-1mrb1dx"),set_style(he,"background-color","white"),set_style(he,"color","black"),set_style(he,"border","3px #E3E3E3 solid"),attr(me,"class","col-12 col-md-4 p-3"),attr(xe,"class","tickk svelte-1mrb1dx"),set_style(Me,"font-size","1.8rem"),set_style(Be,"font-size","1rem"),attr(Ce,"class","svelte-1mrb1dx"),attr(Re,"class","svelte-1mrb1dx"),attr(Le,"class","svelte-1mrb1dx"),attr(Ie,"class","priceActionButton svelte-1mrb1dx"),attr(Oe,"class","priceCard hvr-float svelte-1mrb1dx"),set_style(Oe,"color","white"),set_style(Oe,"background-color","#6219D8"),attr(be,"class","col-12 col-md-4 p-3"),attr(Ue,"class","col-12 col-md-4 p-3 d-flex flex-column"),attr(pe,"class","row w-100"),set_style(pe,"max-width","1200px"),attr(K,"class","landingFour pt-5 pt-md-0 svelte-1mrb1dx"),attr(Ae,"class","footer svelte-1mrb1dx"),attr(o,"class","main svelte-1mrb1dx")},m(qe,Je){append(document.head,t),insert(qe,e,Je),insert(qe,o,Je),append(o,l),Ge&&Ge.m(l,null),append(o,h),append(o,y),append(o,O),append(o,D),append(o,R),append(o,F),append(o,j),append(o,B),append(o,U),append(o,W),append(o,q),append(o,K),append(K,Y),append(K,J),append(K,Q),append(K,Z),append(K,ee),append(ee,re),append(ee,te),append(ee,ne),mount_component(ae,ne,null),append(ee,oe),append(ee,ce),append(K,ue),append(K,pe),append(pe,me),append(me,he),append(he,se),append(he,le),append(he,fe),append(he,ge),append(he,ye),append(he,we),append(he,$e),append(he,_e),append(he,Se),append(pe,Te),append(pe,be),append(be,Oe),append(Oe,xe),append(Oe,Ee),append(Oe,Ce),append(Ce,Pe),append(Ce,Me),append(Ce,Ne),append(Ce,Be),append(Oe,Fe),append(Oe,Re),append(Oe,ke),append(Oe,Le),append(Oe,De),append(Oe,Ie),append(pe,Ve),append(pe,Ue),append(o,ze),append(o,Ae),insert(qe,He,Je),mount_component(Ke,qe,Je),je=!0,Xe||(tt=[listen(Se,"click",r[8]),listen(Ie,"click",r[9])],Xe=!0)},p(qe,[Je]){qe[0]?Ge?(Ge.p(qe,Je),Je&1&&transition_in(Ge,1)):(Ge=create_if_block_1$d(qe),Ge.c(),transition_in(Ge,1),Ge.m(l,null)):Ge&&(Ge.d(1),Ge=null);const at={};!ie&&Je&2&&(ie=!0,at.checked=qe[1],add_flush_callback(()=>ie=!1)),ae.$set(at),(!je||Je&2)&&ve!==(ve=qe[1]?"62\u20AC":"69\u20AC")&&set_data(Pe,ve);const lt={};Je&16388&&(lt.$$scope={dirty:Je,ctx:qe}),Ke.$set(lt)},i(qe){je||(transition_in(Ge),transition_in(ae.$$.fragment,qe),transition_in(Ke.$$.fragment,qe),je=!0)},o(qe){transition_out(ae.$$.fragment,qe),transition_out(Ke.$$.fragment,qe),je=!1},d(qe){detach(t),qe&&detach(e),qe&&detach(o),Ge&&Ge.d(),destroy_component(ae),qe&&detach(He),destroy_component(Ke,qe),Xe=!1,run_all(tt)}}}function instance$p(r,t,e){let o,l;component_subscribe(r,modals,W=>e(3,l=W));let h=!1;onMount(()=>{e(0,h=!0),window.location.href.includes("#confirm")?setTimeout(()=>{openModal(AuthModule,{page2:"connex",msg:"\u2705 Adresse e-mail v\xE9rifi\xE9e ! Vous pouvez maintenant vous connecter et acc\xE9der \xE0 votre compte."})},600):window.location.href.includes("#login")&&setTimeout(()=>{openModal(AuthModule,{page2:"connex",msg:""})},600)});let y=!1;const O=()=>window.location.href="/dashboard",D=()=>openModal(AuthModule,{}),R=()=>navigate("demo");function F(W){y=W,e(1,y)}const j=()=>openModal(AuthModule,{msg:"Vous cr\xE9ez un compte R\xE9tine D\xE9couverte. Passez \xE0 R\xE9tine Pro pour d\xE9bloquer toutes les fonctionnalit\xE9s de R\xE9tine."}),B=()=>openModal(AuthModule,{msg:"Vous cr\xE9ez un compte R\xE9tine qui vous permettra d'utiliser tout le potentiel de R\xE9tine."}),U=()=>{closeModal()};return r.$$.update=()=>{r.$$.dirty&8&&e(2,o=l[l.length-1])},[h,y,o,l,O,D,R,F,j,B,U]}class Home extends SvelteComponent{constructor(t){super(),init(this,t,instance$p,create_fragment$r,safe_not_equal,{})}}var modalSubscribe_svelte_svelte_type_style_lang="";function create_fragment$q(r){let t,e,o,l,h,y,O,D=r[0]?"62\u20AC":"69\u20AC",R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe,ge,ye,we,$e,_e,Se,Te,be;function Oe(Ee){r[4](Ee)}let xe={color:"#2FCC72"};return r[0]!==void 0&&(xe.checked=r[0]),ee=new Switch({props:xe}),binding_callbacks.push(()=>bind$f(ee,"checked",Oe)),{c(){t=element("div"),e=element("div"),o=element("div"),l=element("div"),h=element("div"),h.textContent="R\xE9tine Pro",y=space(),O=element("h1"),R=text(D),F=element("span"),F.textContent="/mois",j=space(),B=element("span"),B.textContent="(TTC)",U=space(),W=element("p"),W.textContent="La pleine puissance de R\xE9tine, calibr\xE9e pour les professionnels",q=space(),K=element("ul"),K.innerHTML=`<li>Fonctionnalit\xE9s compl\xE8tes de R\xE9tine (cr\xE9ation des sondages, envoi massif et analyse)</li> 
          <li>Acc\xE8s \xE0 l\u2019ensemble des templates de sondages (50+)</li> 
          <li>Nombre de r\xE9pondants illimit\xE9s</li> 
          <li>Nombre de contacts illimit\xE9s</li> 
          <li>Support 7/7</li>`,Y=space(),X=element("div"),J=element("div"),J.textContent="Mensuel",Q=space(),Z=element("div"),create_component(ee.$$.fragment),te=space(),ne=element("div"),ne.textContent="Annuel (-10%)",ae=space(),ie=element("div"),oe=element("button"),oe.textContent="Fermer",ce=space(),ue=element("div"),pe=element("form"),me=element("div"),he=space(),se=element("button"),le=element("div"),fe=space(),ge=element("span"),ge.textContent="Passer au niveau sup\xE9rieur \u{1F680}",we=space(),$e=element("div"),attr(h,"class","tickk svelte-piw2j3"),set_style(F,"font-size","1.8rem"),set_style(B,"font-size","1rem"),attr(O,"class","svelte-piw2j3"),attr(W,"class","svelte-piw2j3"),attr(K,"class","svelte-piw2j3"),attr(Z,"class","mx-2"),attr(X,"class","d-flex align-items-center justify-content-center my-2 w-100"),attr(l,"class","priceCard svelte-piw2j3"),set_style(l,"color","white"),set_style(l,"background-color","#6219D8"),attr(o,"class","container p-2 text-center"),attr(oe,"class","hvr-grow svelte-piw2j3"),attr(me,"id","payment-element"),attr(le,"class","spinner hidden"),attr(le,"id","spinner"),attr(ge,"id","button-text"),attr(se,"class","hvr-grow svelte-piw2j3"),attr(se,"id","submit"),attr(se,"style",ye=r[0]?"background-color:#2FCC72; color:white;":"background-color:#6219D8; color:white;"),attr($e,"id","payment-message"),attr($e,"class","hidden"),attr(pe,"id","payment-form"),attr(ie,"class","actions svelte-piw2j3"),attr(e,"class","contents svelte-piw2j3"),attr(t,"role","dialog"),attr(t,"class","modal svelte-piw2j3")},m(Ee,Ce){insert(Ee,t,Ce),append(t,e),append(e,o),append(o,l),append(l,h),append(l,y),append(l,O),append(O,R),append(O,F),append(O,j),append(O,B),append(l,U),append(l,W),append(l,q),append(l,K),append(l,Y),append(l,X),append(X,J),append(X,Q),append(X,Z),mount_component(ee,Z,null),append(X,te),append(X,ne),append(e,ae),append(e,ie),append(ie,oe),append(ie,ce),append(ie,ue),append(ue,pe),append(pe,me),append(pe,he),append(pe,se),append(se,le),append(se,fe),append(se,ge),append(pe,we),append(pe,$e),Se=!0,Te||(be=[listen(oe,"click",closeModal),listen(pe,"submit",r[1]),listen(t,"introstart",r[2]),listen(t,"outroend",r[3])],Te=!0)},p(Ee,[Ce]){(!Se||Ce&1)&&D!==(D=Ee[0]?"62\u20AC":"69\u20AC")&&set_data(R,D);const ve={};!re&&Ce&1&&(re=!0,ve.checked=Ee[0],add_flush_callback(()=>re=!1)),ee.$set(ve),(!Se||Ce&1&&ye!==(ye=Ee[0]?"background-color:#2FCC72; color:white;":"background-color:#6219D8; color:white;"))&&attr(se,"style",ye)},i(Ee){Se||(transition_in(ee.$$.fragment,Ee),add_render_callback(()=>{_e||(_e=create_bidirectional_transition(t,fly,{y:50},!0)),_e.run(1)}),Se=!0)},o(Ee){transition_out(ee.$$.fragment,Ee),_e||(_e=create_bidirectional_transition(t,fly,{y:50},!1)),_e.run(0),Se=!1},d(Ee){Ee&&detach(t),destroy_component(ee),Ee&&_e&&_e.end(),Te=!1,run_all(be)}}}function instance$o(r,t,e){async function o(D){l?window.open("https://buy.stripe.com/4gwcNS25I0jbglqbIJ","_blank").focus():window.open("https://buy.stripe.com/bIY9BG9ya0jbd9eeUU","_blank").focus()}let l=!1;function h(D){bubble.call(this,r,D)}function y(D){bubble.call(this,r,D)}function O(D){l=D,e(0,l)}return[l,o,h,y,O]}class ModalSubscribe extends SvelteComponent{constructor(t){super(),init(this,t,instance$o,create_fragment$q,safe_not_equal,{})}}var account_svelte_svelte_type_style_lang="";function create_catch_block_1$4(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block_1$4(r){let t,e=r[18].email+"",o,l,h,y=r[18].sondage.length+"",O,D,R,F,j,B=r[18].created_at.split("T")[0]+"",U;return{c(){t=element("div"),o=text(e),l=space(),h=element("div"),O=text(y),D=text(" sondage(s) cr\xE9\xE9(s)."),R=space(),F=element("div"),j=text("Profil cr\xE9\xE9 le "),U=text(B),attr(t,"class","profileInfo svelte-47n95o"),attr(h,"class","profileInfo svelte-47n95o"),attr(F,"class","profileInfo svelte-47n95o")},m(W,q){insert(W,t,q),append(t,o),insert(W,l,q),insert(W,h,q),append(h,O),append(h,D),insert(W,R,q),insert(W,F,q),append(F,j),append(F,U)},p(W,q){q&2&&e!==(e=W[18].email+"")&&set_data(o,e),q&2&&y!==(y=W[18].sondage.length+"")&&set_data(O,y),q&2&&B!==(B=W[18].created_at.split("T")[0]+"")&&set_data(U,B)},d(W){W&&detach(t),W&&detach(l),W&&detach(h),W&&detach(R),W&&detach(F)}}}function create_pending_block_1$4(r){let t;return{c(){t=text("Chargement...")},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_4$8(r){let t,e;return{c(){t=element("div"),t.textContent="Votre nouveau mot de passe n'est pas valable.",set_style(t,"color","red")},m(o,l){insert(o,t,l)},i(o){e||add_render_callback(()=>{e=create_in_transition(t,fly,{x:-100}),e.start()})},o:noop$4,d(o){o&&detach(t)}}}function create_if_block_3$8(r){let t,e;return{c(){t=element("div"),t.textContent="Votre mot de passe a \xE9t\xE9 modifi\xE9.",set_style(t,"color","green")},m(o,l){insert(o,t,l)},i(o){e||add_render_callback(()=>{e=create_in_transition(t,fly,{x:-100}),e.start()})},o:noop$4,d(o){o&&detach(t)}}}function create_catch_block$a(r){let t,e,o,l,h;return{c(){t=element("div"),t.textContent="Vous avez l'offre gratuite. Cliquez ci-dessous pour b\xE9n\xE9ficier de l'exp\xE9rience compl\xE8te R\xE9tine.",e=space(),o=element("div"),o.textContent="S'abonner \u{1F680}",attr(t,"class","planInfo svelte-47n95o"),attr(o,"class","btnAbonnement svelte-47n95o")},m(y,O){insert(y,t,O),insert(y,e,O),insert(y,o,O),l||(h=listen(o,"click",r[12]),l=!0)},p:noop$4,d(y){y&&detach(t),y&&detach(e),y&&detach(o),l=!1,h()}}}function create_then_block$a(r){let t;function e(h,y){if(h[18].plan==2)return create_if_block_1$c;if(h[18].plan==3)return create_if_block_2$b}let o=e(r),l=o&&o(r);return{c(){l&&l.c(),t=empty$2()},m(h,y){l&&l.m(h,y),insert(h,t,y)},p(h,y){o===(o=e(h))&&l?l.p(h,y):(l&&l.d(1),l=o&&o(h),l&&(l.c(),l.m(t.parentNode,t)))},d(h){l&&l.d(h),h&&detach(t)}}}function create_if_block_2$b(r){let t;return{c(){t=element("div"),t.textContent="Vous avez l'offre corpo"},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_1$c(r){let t,e,o,l,h=r[18].date_fin.split("T")[0]+"",y,O,D,R;return{c(){t=element("div"),e=text("Vous avez l'offre R\xE9tine Pro "),o=element("div"),l=text("jusqu'au "),y=text(h),O=text("."),D=space(),R=element("a"),R.innerHTML='<button class="btn text-left">Se d\xE9sabonner</button>',attr(o,"class","opacity-50"),set_style(o,"display","inline-block"),attr(R,"href","mailto:bonjour@retine.io")},m(F,j){insert(F,t,j),append(t,e),append(t,o),append(o,l),append(o,y),append(o,O),insert(F,D,j),insert(F,R,j)},p(F,j){j&1&&h!==(h=F[18].date_fin.split("T")[0]+"")&&set_data(y,h)},d(F){F&&detach(t),F&&detach(D),F&&detach(R)}}}function create_pending_block$a(r){let t;return{c(){t=element("div"),t.textContent="Chargement..."},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block$g(r){let t,e,o,l,h,y,O;const D=[r[6].props||{}];var R=r[6].component;function F(j){let B={};for(let U=0;U<D.length;U+=1)B=assign$7(B,D[U]);return{props:B}}return R&&(t=new R(F())),{c(){t&&create_component(t.$$.fragment),e=space(),o=element("div"),attr(o,"class","backdrop svelte-47n95o")},m(j,B){t&&mount_component(t,j,B),insert(j,e,B),insert(j,o,B),h=!0,y||(O=listen(o,"click",r[13]),y=!0)},p(j,B){const U=B&64?get_spread_update(D,[get_spread_object(j[6].props||{})]):{};if(R!==(R=j[6].component)){if(t){group_outros();const W=t;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(t=new R(F()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else R&&t.$set(U)},i(j){h||(t&&transition_in(t.$$.fragment,j),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(j){t&&transition_out(t.$$.fragment,j),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(j){t&&destroy_component(t,j),j&&detach(e),j&&detach(o),j&&l&&l.end(),y=!1,O()}}}function create_default_slot$7(r){let t,e,o=r[6]&&create_if_block$g(r);return{c(){o&&o.c(),t=empty$2()},m(l,h){o&&o.m(l,h),insert(l,t,h),e=!0},p(l,h){l[6]?o?(o.p(l,h),h&64&&transition_in(o,1)):(o=create_if_block$g(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){e||(transition_in(o),e=!0)},o(l){transition_out(o),e=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$p(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe,ge,ye={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$4,then:create_then_block_1$4,catch:create_catch_block_1$4,value:18};handle_promise(R=r[1],ye);function we(Te,be){if(Te[5]=="success")return create_if_block_3$8;if(Te[5]=="error")return create_if_block_4$8}let $e=we(r),_e=$e&&$e(r),Se={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$a,then:create_then_block$a,catch:create_catch_block$a,value:18};return handle_promise(pe=r[0],Se),se=new Modals({props:{$$slots:{default:[create_default_slot$7]},$$scope:{ctx:r}}}),{c(){t=element("h1"),t.textContent="Mon compte",e=space(),o=element("div"),l=element("div"),h=element("div"),y=element("h5"),y.textContent="\u{1F464} Mon profil",O=space(),D=element("div"),ye.block.c(),j=space(),B=element("div"),U=element("div"),W=element("h5"),W.textContent="\u{1F511} Changement de mot de passe",q=space(),K=element("div"),Y=element("input"),X=space(),J=element("input"),Q=space(),Z=element("input"),ee=space(),_e&&_e.c(),re=space(),te=element("button"),te.textContent="Valider",ae=space(),ie=element("div"),oe=element("div"),ce=element("h5"),ce.textContent="\u2728 Mon abonnement",ue=space(),Se.block.c(),he=space(),create_component(se.$$.fragment),attr(t,"class","py-2 mb-3 text-center"),attr(D,"class","d-flex justify-content-center flex-column"),attr(h,"class","neuContainer p-4 svelte-47n95o"),attr(l,"class","col-12 col-md-6 p-3"),attr(Y,"class","input svelte-47n95o"),attr(Y,"type","password"),attr(Y,"placeholder","Ancien mot de passe"),attr(J,"class","input svelte-47n95o"),attr(J,"type","password"),attr(J,"placeholder","Nouveau mot de passe"),attr(Z,"class","input svelte-47n95o"),attr(Z,"type","password"),attr(Z,"placeholder","Confirmation du nouveau mot de passe"),attr(te,"class","validateBtn svelte-47n95o"),attr(K,"class","mdpFields d-flex justify-content-center flex-column"),attr(U,"class","neuContainer p-4 svelte-47n95o"),attr(B,"class","col-12 col-md-6 p-3"),attr(oe,"class","neuContainer p-4 svelte-47n95o"),attr(ie,"class","col-12 p-3"),attr(o,"id","myAccount"),attr(o,"class","row p-3 mx-auto"),set_style(o,"max-width","1100px"),set_style(o,"width","85vw")},m(Te,be){insert(Te,t,be),insert(Te,e,be),insert(Te,o,be),append(o,l),append(l,h),append(h,y),append(h,O),append(h,D),ye.block.m(D,ye.anchor=null),ye.mount=()=>D,ye.anchor=null,append(o,j),append(o,B),append(B,U),append(U,W),append(U,q),append(U,K),append(K,Y),set_input_value(Y,r[2]),append(K,X),append(K,J),set_input_value(J,r[3]),append(K,Q),append(K,Z),set_input_value(Z,r[4]),append(K,ee),_e&&_e.m(K,null),append(K,re),append(K,te),append(o,ae),append(o,ie),append(ie,oe),append(oe,ce),append(oe,ue),Se.block.m(oe,Se.anchor=null),Se.mount=()=>oe,Se.anchor=null,insert(Te,he,be),mount_component(se,Te,be),le=!0,fe||(ge=[listen(Y,"input",r[9]),listen(J,"input",r[10]),listen(Z,"input",r[11]),listen(te,"click",r[7])],fe=!0)},p(Te,[be]){r=Te,ye.ctx=r,be&2&&R!==(R=r[1])&&handle_promise(R,ye)||update_await_block_branch(ye,r,be),be&4&&Y.value!==r[2]&&set_input_value(Y,r[2]),be&8&&J.value!==r[3]&&set_input_value(J,r[3]),be&16&&Z.value!==r[4]&&set_input_value(Z,r[4]),$e!==($e=we(r))&&(_e&&_e.d(1),_e=$e&&$e(r),_e&&(_e.c(),transition_in(_e,1),_e.m(K,re))),Se.ctx=r,be&1&&pe!==(pe=r[0])&&handle_promise(pe,Se)||update_await_block_branch(Se,r,be);const Oe={};be&524352&&(Oe.$$scope={dirty:be,ctx:r}),se.$set(Oe)},i(Te){le||(F||add_render_callback(()=>{F=create_in_transition(h,fly,{x:-80,delay:50}),F.start()}),transition_in(_e),ne||add_render_callback(()=>{ne=create_in_transition(U,fly,{x:-80,delay:150}),ne.start()}),me||add_render_callback(()=>{me=create_in_transition(oe,fly,{x:-80,delay:250}),me.start()}),transition_in(se.$$.fragment,Te),le=!0)},o(Te){transition_out(se.$$.fragment,Te),le=!1},d(Te){Te&&detach(t),Te&&detach(e),Te&&detach(o),ye.block.d(),ye.token=null,ye=null,_e&&_e.d(),Se.block.d(),Se.token=null,Se=null,Te&&detach(he),destroy_component(se,Te),fe=!1,run_all(ge)}}}function instance$n(r,t,e){let o,l;component_subscribe(r,modals,Q=>e(8,l=Q));var h=new Headers;h.append("Authorization","Token "+xxgc("rtnt")),h.append("Content-Type","application/json");async function y(){var Q={method:"GET",headers:h,redirect:"follow"};return fetch(rtnUrl+"myplan/",Q).then(Z=>{if(Z.ok)return Z.text();throw new Error("Something went wrong")}).then(Z=>JSON.parse(Z)).catch(Z=>{throw new Error("Something went wrong")})}async function O(){var Q={method:"GET",headers:h,redirect:"follow"};return fetch(rtnUrl+"auth/user/",Q).then(Z=>Z.text()).then(Z=>JSON.parse(Z)).catch(Z=>Z)}let D=y(),R=O(),F,j,B,U;function W(){var Q={method:"POST",headers:h,redirect:"follow",body:JSON.stringify({new_password1:j,new_password2:B,old_password:F})};return fetch(rtnUrl+"auth/password/change/",Q).then(Z=>Z.text()).then(Z=>{let ee=JSON.parse(Z);Object.values(ee)[0]=="New password has been saved."?e(5,U="success"):e(5,U="error")}).catch(Z=>Z)}function q(){F=this.value,e(2,F)}function K(){j=this.value,e(3,j)}function Y(){B=this.value,e(4,B)}const X=()=>openModal(ModalSubscribe),J=()=>{closeModal()};return r.$$.update=()=>{r.$$.dirty&256&&e(6,o=l[l.length-1])},[D,R,F,j,B,U,o,W,l,q,K,Y,X,J]}class Account extends SvelteComponent{constructor(t){super(),init(this,t,instance$n,create_fragment$p,safe_not_equal,{})}}var modalContactList_svelte_svelte_type_style_lang="";function create_if_block_1$b(r){let t,e;return{c(){t=element("div"),e=text(r[2]),attr(t,"class","w-100 text-center"),set_style(t,"color","red")},m(o,l){insert(o,t,l),append(t,e)},p(o,l){l&4&&set_data(e,o[2])},d(o){o&&detach(t)}}}function create_if_block$f(r){let t,e,o;return{c(){t=element("button"),t.textContent="Supprimer",attr(t,"class","svelte-w7tdsg")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[6]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_fragment$o(r){let t,e,o,l,h,y,O,D,R,F=r[3].split(`
`).length+"",j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te=r[2]!=""&&create_if_block_1$b(r),ne=r[1]!="new"&&create_if_block$f(r);return{c(){t=element("div"),e=element("div"),o=element("h4"),l=element("input"),h=space(),y=element("div"),O=element("textarea"),D=space(),R=element("div"),j=text(F),B=text(" lignes"),U=space(),te&&te.c(),W=space(),q=element("div"),K=element("button"),K.textContent="Fermer",Y=space(),ne&&ne.c(),X=space(),J=element("button"),J.textContent="Sauvegarder",attr(l,"class","titleInput svelte-w7tdsg"),attr(l,"maxlength","30"),attr(l,"placeholder","Liste de contacts..."),attr(o,"class","mb-4 text-center"),attr(O,"id","emailZone"),attr(O,"class","textareartn svelte-w7tdsg"),attr(O,"rows","10"),attr(O,"placeholder","Copiez/collez vos adresses ici, on se charge du reste..."),set_style(R,"opacity",".6"),attr(y,"class","container p-2 text-center"),attr(K,"class","svelte-w7tdsg"),set_style(J,"background-color","#6219d8"),set_style(J,"color","white"),attr(J,"class","svelte-w7tdsg"),attr(q,"class","actions svelte-w7tdsg"),attr(e,"class","contents svelte-w7tdsg"),attr(t,"role","dialog"),attr(t,"class","modal svelte-w7tdsg")},m(ae,ie){insert(ae,t,ie),append(t,e),append(e,o),append(o,l),set_input_value(l,r[0]),append(e,h),append(e,y),append(y,O),set_input_value(O,r[3]),append(y,D),append(y,R),append(R,j),append(R,B),append(e,U),te&&te.m(e,null),append(e,W),append(e,q),append(q,K),append(q,Y),ne&&ne.m(q,null),append(q,X),append(q,J),Z=!0,ee||(re=[listen(l,"input",r[11]),listen(O,"input",r[12]),listen(K,"click",closeModal),listen(J,"click",r[13]),listen(t,"introstart",r[9]),listen(t,"outroend",r[10])],ee=!0)},p(ae,[ie]){ie&1&&l.value!==ae[0]&&set_input_value(l,ae[0]),ie&8&&set_input_value(O,ae[3]),(!Z||ie&8)&&F!==(F=ae[3].split(`
`).length+"")&&set_data(j,F),ae[2]!=""?te?te.p(ae,ie):(te=create_if_block_1$b(ae),te.c(),te.m(e,W)):te&&(te.d(1),te=null),ae[1]!="new"?ne?ne.p(ae,ie):(ne=create_if_block$f(ae),ne.c(),ne.m(q,X)):ne&&(ne.d(1),ne=null)},i(ae){Z||(add_render_callback(()=>{Q||(Q=create_bidirectional_transition(t,fly,{y:50},!0)),Q.run(1)}),Z=!0)},o(ae){Q||(Q=create_bidirectional_transition(t,fly,{y:50},!1)),Q.run(0),Z=!1},d(ae){ae&&detach(t),te&&te.d(),ne&&ne.d(),ae&&Q&&Q.end(),ee=!1,run_all(re)}}}function extractEmails(r){return r.match(/([a-zA-Z0-9._+-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi).join(`
`)}function instance$m(r,t,e){let{id:o}=t,{nom:l}=t,{jsonContent:h}=t,{updateBack:y}=t;onMount(()=>{document.querySelector("#emailZone").addEventListener("paste",Q=>{j()})});let O="";function D(J){e(2,O=J),setTimeout(()=>{e(2,O="")},3e3)}let R;o!="new"?R=JSON.parse(h).toString().replaceAll(",",`
`):R="";var F=null;const j=()=>{clearInterval(F),F=setInterval(function(){e(3,R=extractEmails(R)),clearInterval(F)},750)};function B(){let J=R.replaceAll(",","").replaceAll(";","").replaceAll(" ","").split(`
`).filter(function(re){return re!=""});if(J.length>100){D("Le nombre de contacts doit \xEAtre inf\xE9rieur \xE0 100 par liste.");return}else if(J.length==0){D("Aucun contact n'a \xE9t\xE9 saisi.");return}var Q=new Headers;Q.append("Authorization","Token "+xxgc("rtnt")),Q.append("Content-Type","application/json");var Z={method:o!="new"?"PUT":"POST",headers:Q,redirect:"follow",body:JSON.stringify({nom:l,jsonContent:JSON.stringify(J)})};let ee=o!="new"?`${rtnUrl}contactlist/${o}/`:`${rtnUrl}contactlist/`;return fetch(ee,Z).then(re=>re.text()).then(re=>(y(),closeModal(),JSON.parse(re))).catch(re=>re)}function U(){var J=new Headers;J.append("Authorization","Token "+xxgc("rtnt")),J.append("Content-Type","application/json");var Q={method:"DELETE",headers:J,redirect:"follow"};let Z=`${rtnUrl}contactlist/${o}/`;return fetch(Z,Q).then(ee=>ee.text()).then(ee=>(y(),closeModal(),JSON.parse(ee))).catch(ee=>ee)}function W(J){bubble.call(this,r,J)}function q(J){bubble.call(this,r,J)}function K(){l=this.value,e(0,l)}function Y(){R=this.value,e(3,R)}const X=()=>{l!=""&&R!=""?(e(3,R=extractEmails(R)),setTimeout(()=>{B()},500)):D("Veuillez saisir un titre et une liste de contacts.")};return r.$$set=J=>{"id"in J&&e(1,o=J.id),"nom"in J&&e(0,l=J.nom),"jsonContent"in J&&e(7,h=J.jsonContent),"updateBack"in J&&e(8,y=J.updateBack)},[l,o,O,R,D,B,U,h,y,W,q,K,Y,X]}class ModalContactList extends SvelteComponent{constructor(t){super(),init(this,t,instance$m,create_fragment$o,safe_not_equal,{id:1,nom:0,jsonContent:7,updateBack:8})}}let G=null;class H$1{}H$1.render=function(r,t){G(r,t)};self.QrCreator=H$1;(function(r){function t(O,D,R,F){var j={},B=r(R,D);B.u(O),B.J(),F=F||0;var U=B.h(),W=B.h()+2*F;return j.text=O,j.level=D,j.version=R,j.O=W,j.a=function(q,K){return q-=F,K-=F,0>q||q>=U||0>K||K>=U?!1:B.a(q,K)},j}function e(O,D,R,F,j,B,U,W,q,K){function Y(X,J,Q,Z,ee,re,te){X?(O.lineTo(J+re,Q+te),O.arcTo(J,Q,Z,ee,B)):O.lineTo(J,Q)}U?O.moveTo(D+B,R):O.moveTo(D,R),Y(W,F,R,F,j,-B,0),Y(q,F,j,D,j,0,-B),Y(K,D,j,D,R,B,0),Y(U,D,R,F,R,0,B)}function o(O,D,R,F,j,B,U,W,q,K){function Y(X,J,Q,Z){O.moveTo(X+Q,J),O.lineTo(X,J),O.lineTo(X,J+Z),O.arcTo(X,J,X+Q,J,B)}U&&Y(D,R,B,B),W&&Y(F,R,-B,B),q&&Y(F,j,-B,-B),K&&Y(D,j,B,-B)}function l(O,D){var R=D.fill;if(typeof R=="string")O.fillStyle=R;else{var F=R.type,j=R.colorStops;if(R=R.position.map(U=>Math.round(U*D.size)),F==="linear-gradient")var B=O.createLinearGradient.apply(O,R);else if(F==="radial-gradient")B=O.createRadialGradient.apply(O,R);else throw Error("Unsupported fill");j.forEach(([U,W])=>{B.addColorStop(U,W)}),O.fillStyle=B}}function h(O,D){e:{var R=D.text,F=D.v,j=D.N,B=D.K,U=D.P;for(j=Math.max(1,j||1),B=Math.min(40,B||40);j<=B;j+=1)try{var W=t(R,F,j,U);break e}catch{}W=void 0}if(!W)return null;for(R=O.getContext("2d"),D.background&&(R.fillStyle=D.background,R.fillRect(D.left,D.top,D.size,D.size)),F=W.O,B=D.size/F,R.beginPath(),U=0;U<F;U+=1)for(j=0;j<F;j+=1){var q=R,K=D.left+j*B,Y=D.top+U*B,X=U,J=j,Q=W.a,Z=K+B,ee=Y+B,re=X-1,te=X+1,ne=J-1,ae=J+1,ie=Math.floor(Math.min(.5,Math.max(0,D.R))*B),oe=Q(X,J),ce=Q(re,ne),ue=Q(re,J);re=Q(re,ae);var pe=Q(X,ae);ae=Q(te,ae),J=Q(te,J),te=Q(te,ne),X=Q(X,ne),K=Math.round(K),Y=Math.round(Y),Z=Math.round(Z),ee=Math.round(ee),oe?e(q,K,Y,Z,ee,ie,!ue&&!X,!ue&&!pe,!J&&!pe,!J&&!X):o(q,K,Y,Z,ee,ie,ue&&X&&ce,ue&&pe&&re,J&&pe&&ae,J&&X&&te)}return l(R,D),R.fill(),O}var y={minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:.5,quiet:0};G=function(O,D){var R={};Object.assign(R,y,O),R.N=R.minVersion,R.K=R.maxVersion,R.v=R.ecLevel,R.left=R.left,R.top=R.top,R.size=R.size,R.fill=R.fill,R.background=R.background,R.text=R.text,R.R=R.radius,R.P=R.quiet,D instanceof HTMLCanvasElement?((D.width!==R.size||D.height!==R.size)&&(D.width=R.size,D.height=R.size),D.getContext("2d").clearRect(0,0,D.width,D.height),h(D,R)):(O=document.createElement("canvas"),O.width=R.size,O.height=R.size,R=h(O,R),D.appendChild(R))}})(function(){function r(D){var R=e.s(D);return{S:function(){return 4},b:function(){return R.length},write:function(F){for(var j=0;j<R.length;j+=1)F.put(R[j],8)}}}function t(){var D=[],R=0,F={B:function(){return D},c:function(j){return(D[Math.floor(j/8)]>>>7-j%8&1)==1},put:function(j,B){for(var U=0;U<B;U+=1)F.m((j>>>B-U-1&1)==1)},f:function(){return R},m:function(j){var B=Math.floor(R/8);D.length<=B&&D.push(0),j&&(D[B]|=128>>>R%8),R+=1}};return F}function e(D,R){function F(X,J){for(var Q=-1;7>=Q;Q+=1)if(!(-1>=X+Q||W<=X+Q))for(var Z=-1;7>=Z;Z+=1)-1>=J+Z||W<=J+Z||(U[X+Q][J+Z]=0<=Q&&6>=Q&&(Z==0||Z==6)||0<=Z&&6>=Z&&(Q==0||Q==6)||2<=Q&&4>=Q&&2<=Z&&4>=Z)}function j(X,J){for(var Q=W=4*D+17,Z=Array(Q),ee=0;ee<Q;ee+=1){Z[ee]=Array(Q);for(var re=0;re<Q;re+=1)Z[ee][re]=null}for(U=Z,F(0,0),F(W-7,0),F(0,W-7),Q=h.G(D),Z=0;Z<Q.length;Z+=1)for(ee=0;ee<Q.length;ee+=1){re=Q[Z];var te=Q[ee];if(U[re][te]==null)for(var ne=-2;2>=ne;ne+=1)for(var ae=-2;2>=ae;ae+=1)U[re+ne][te+ae]=ne==-2||ne==2||ae==-2||ae==2||ne==0&&ae==0}for(Q=8;Q<W-8;Q+=1)U[Q][6]==null&&(U[Q][6]=Q%2==0);for(Q=8;Q<W-8;Q+=1)U[6][Q]==null&&(U[6][Q]=Q%2==0);for(Q=h.w(B<<3|J),Z=0;15>Z;Z+=1)ee=!X&&(Q>>Z&1)==1,U[6>Z?Z:8>Z?Z+1:W-15+Z][8]=ee,U[8][8>Z?W-Z-1:9>Z?15-Z:14-Z]=ee;if(U[W-8][8]=!X,7<=D){for(Q=h.A(D),Z=0;18>Z;Z+=1)ee=!X&&(Q>>Z&1)==1,U[Math.floor(Z/3)][Z%3+W-8-3]=ee;for(Z=0;18>Z;Z+=1)ee=!X&&(Q>>Z&1)==1,U[Z%3+W-8-3][Math.floor(Z/3)]=ee}if(q==null){for(X=O.I(D,B),Q=t(),Z=0;Z<K.length;Z+=1)ee=K[Z],Q.put(4,4),Q.put(ee.b(),h.f(4,D)),ee.write(Q);for(Z=ee=0;Z<X.length;Z+=1)ee+=X[Z].j;if(Q.f()>8*ee)throw Error("code length overflow. ("+Q.f()+">"+8*ee+")");for(Q.f()+4<=8*ee&&Q.put(0,4);Q.f()%8!=0;)Q.m(!1);for(;!(Q.f()>=8*ee)&&(Q.put(236,8),!(Q.f()>=8*ee));)Q.put(17,8);var ie=0;for(ee=Z=0,re=Array(X.length),te=Array(X.length),ne=0;ne<X.length;ne+=1){var oe=X[ne].j,ce=X[ne].o-oe;for(Z=Math.max(Z,oe),ee=Math.max(ee,ce),re[ne]=Array(oe),ae=0;ae<re[ne].length;ae+=1)re[ne][ae]=255&Q.B()[ae+ie];for(ie+=oe,ae=h.C(ce),oe=o(re[ne],ae.b()-1).l(ae),te[ne]=Array(ae.b()-1),ae=0;ae<te[ne].length;ae+=1)ce=ae+oe.b()-te[ne].length,te[ne][ae]=0<=ce?oe.c(ce):0}for(ae=Q=0;ae<X.length;ae+=1)Q+=X[ae].o;for(Q=Array(Q),ae=ie=0;ae<Z;ae+=1)for(ne=0;ne<X.length;ne+=1)ae<re[ne].length&&(Q[ie]=re[ne][ae],ie+=1);for(ae=0;ae<ee;ae+=1)for(ne=0;ne<X.length;ne+=1)ae<te[ne].length&&(Q[ie]=te[ne][ae],ie+=1);q=Q}for(X=q,Q=-1,Z=W-1,ee=7,re=0,J=h.F(J),te=W-1;0<te;te-=2)for(te==6&&--te;;){for(ne=0;2>ne;ne+=1)U[Z][te-ne]==null&&(ae=!1,re<X.length&&(ae=(X[re]>>>ee&1)==1),J(Z,te-ne)&&(ae=!ae),U[Z][te-ne]=ae,--ee,ee==-1&&(re+=1,ee=7));if(Z+=Q,0>Z||W<=Z){Z-=Q,Q=-Q;break}}}var B=l[R],U=null,W=0,q=null,K=[],Y={u:function(X){X=r(X),K.push(X),q=null},a:function(X,J){if(0>X||W<=X||0>J||W<=J)throw Error(X+","+J);return U[X][J]},h:function(){return W},J:function(){for(var X=0,J=0,Q=0;8>Q;Q+=1){j(!0,Q);var Z=h.D(Y);(Q==0||X>Z)&&(X=Z,J=Q)}j(!1,J)}};return Y}function o(D,R){if(typeof D.length=="undefined")throw Error(D.length+"/"+R);var F=function(){for(var B=0;B<D.length&&D[B]==0;)B+=1;for(var U=Array(D.length-B+R),W=0;W<D.length-B;W+=1)U[W]=D[W+B];return U}(),j={c:function(B){return F[B]},b:function(){return F.length},multiply:function(B){for(var U=Array(j.b()+B.b()-1),W=0;W<j.b();W+=1)for(var q=0;q<B.b();q+=1)U[W+q]^=y.i(y.g(j.c(W))+y.g(B.c(q)));return o(U,0)},l:function(B){if(0>j.b()-B.b())return j;for(var U=y.g(j.c(0))-y.g(B.c(0)),W=Array(j.b()),q=0;q<j.b();q+=1)W[q]=j.c(q);for(q=0;q<B.b();q+=1)W[q]^=y.i(y.g(B.c(q))+U);return o(W,0).l(B)}};return j}e.s=function(D){for(var R=[],F=0;F<D.length;F++){var j=D.charCodeAt(F);128>j?R.push(j):2048>j?R.push(192|j>>6,128|j&63):55296>j||57344<=j?R.push(224|j>>12,128|j>>6&63,128|j&63):(F++,j=65536+((j&1023)<<10|D.charCodeAt(F)&1023),R.push(240|j>>18,128|j>>12&63,128|j>>6&63,128|j&63))}return R};var l={L:1,M:0,Q:3,H:2},h=function(){function D(j){for(var B=0;j!=0;)B+=1,j>>>=1;return B}var R=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],F={w:function(j){for(var B=j<<10;0<=D(B)-D(1335);)B^=1335<<D(B)-D(1335);return(j<<10|B)^21522},A:function(j){for(var B=j<<12;0<=D(B)-D(7973);)B^=7973<<D(B)-D(7973);return j<<12|B},G:function(j){return R[j-1]},F:function(j){switch(j){case 0:return function(B,U){return(B+U)%2==0};case 1:return function(B){return B%2==0};case 2:return function(B,U){return U%3==0};case 3:return function(B,U){return(B+U)%3==0};case 4:return function(B,U){return(Math.floor(B/2)+Math.floor(U/3))%2==0};case 5:return function(B,U){return B*U%2+B*U%3==0};case 6:return function(B,U){return(B*U%2+B*U%3)%2==0};case 7:return function(B,U){return(B*U%3+(B+U)%2)%2==0};default:throw Error("bad maskPattern:"+j)}},C:function(j){for(var B=o([1],0),U=0;U<j;U+=1)B=B.multiply(o([1,y.i(U)],0));return B},f:function(j,B){if(j!=4||1>B||40<B)throw Error("mode: "+j+"; type: "+B);return 10>B?8:16},D:function(j){for(var B=j.h(),U=0,W=0;W<B;W+=1)for(var q=0;q<B;q+=1){for(var K=0,Y=j.a(W,q),X=-1;1>=X;X+=1)if(!(0>W+X||B<=W+X))for(var J=-1;1>=J;J+=1)0>q+J||B<=q+J||(X!=0||J!=0)&&Y==j.a(W+X,q+J)&&(K+=1);5<K&&(U+=3+K-5)}for(W=0;W<B-1;W+=1)for(q=0;q<B-1;q+=1)K=0,j.a(W,q)&&(K+=1),j.a(W+1,q)&&(K+=1),j.a(W,q+1)&&(K+=1),j.a(W+1,q+1)&&(K+=1),(K==0||K==4)&&(U+=3);for(W=0;W<B;W+=1)for(q=0;q<B-6;q+=1)j.a(W,q)&&!j.a(W,q+1)&&j.a(W,q+2)&&j.a(W,q+3)&&j.a(W,q+4)&&!j.a(W,q+5)&&j.a(W,q+6)&&(U+=40);for(q=0;q<B;q+=1)for(W=0;W<B-6;W+=1)j.a(W,q)&&!j.a(W+1,q)&&j.a(W+2,q)&&j.a(W+3,q)&&j.a(W+4,q)&&!j.a(W+5,q)&&j.a(W+6,q)&&(U+=40);for(q=K=0;q<B;q+=1)for(W=0;W<B;W+=1)j.a(W,q)&&(K+=1);return U+=Math.abs(100*K/B/B-50)/5*10}};return F}(),y=function(){for(var D=Array(256),R=Array(256),F=0;8>F;F+=1)D[F]=1<<F;for(F=8;256>F;F+=1)D[F]=D[F-4]^D[F-5]^D[F-6]^D[F-8];for(F=0;255>F;F+=1)R[D[F]]=F;return{g:function(j){if(1>j)throw Error("glog("+j+")");return R[j]},i:function(j){for(;0>j;)j+=255;for(;256<=j;)j-=255;return D[j]}}}(),O=function(){function D(j,B){switch(B){case l.L:return R[4*(j-1)];case l.M:return R[4*(j-1)+1];case l.Q:return R[4*(j-1)+2];case l.H:return R[4*(j-1)+3]}}var R=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],F={I:function(j,B){var U=D(j,B);if(typeof U=="undefined")throw Error("bad rs block @ typeNumber:"+j+"/errorCorrectLevel:"+B);j=U.length/3,B=[];for(var W=0;W<j;W+=1)for(var q=U[3*W],K=U[3*W+1],Y=U[3*W+2],X=0;X<q;X+=1){var J=Y,Q={};Q.o=K,Q.j=J,B.push(Q)}return B}};return F}();return e}());var QrCreator$1=QrCreator,modalDiffuse_svelte_svelte_type_style_lang="";function get_each_context_1$6(r,t,e){const o=r.slice();return o[39]=t[e],o[38]=e,o}function get_each_context$9(r,t,e){const o=r.slice();return o[36]=t[e],o[38]=e,o}function create_else_block$9(r){let t,e,o={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_2$2,then:create_then_block_2$2,catch:create_catch_block_2$2,value:35};return handle_promise(e=r[4],o),{c(){t=empty$2(),o.block.c()},m(l,h){insert(l,t,h),o.block.m(l,o.anchor=h),o.mount=()=>t.parentNode,o.anchor=t},p(l,h){r=l,o.ctx=r,h[0]&16&&e!==(e=r[4])&&handle_promise(e,o)||update_await_block_branch(o,r,h)},i:noop$4,o:noop$4,d(l){l&&detach(t),o.block.d(l),o.token=null,o=null}}}function create_if_block_2$a(r){let t,e=r[0].nom_proj+"",o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce;function ue(he,se){if(he[1]=="lien")return create_if_block_3$7;if(he[1]=="qr")return create_if_block_4$7;if(he[1]=="html")return create_if_block_5$6;if(he[1]=="mail")return create_if_block_6$5;if(he[1]=="targ")return create_if_block_7$3}let pe=ue(r),me=pe&&pe(r);return{c(){t=element("h4"),o=text(e),l=element("br"),h=space(),y=element("div"),O=element("div"),D=text("Lien"),F=space(),j=element("div"),B=text("QR"),W=space(),q=element("div"),K=text("HTML"),X=space(),J=element("div"),Q=text("Mail"),ee=space(),re=element("div"),te=text("Ciblage"),ae=space(),ie=element("div"),me&&me.c(),attr(t,"class","mb-2 text-center"),attr(O,"class",R="tab "+(r[1]=="lien"?"active":"")+" svelte-57x6wf"),attr(j,"class",U="tab "+(r[1]=="qr"?"active":"")+" svelte-57x6wf"),attr(q,"class",Y="tab "+(r[1]=="html"?"active":"")+" svelte-57x6wf"),attr(J,"class",Z="tab "+(r[1]=="mail"?"active":"")+" svelte-57x6wf"),attr(re,"class",ne="tab "+(r[1]=="targ"?"active":"")+" svelte-57x6wf"),attr(y,"class","tabs my-2 svelte-57x6wf"),attr(ie,"class","container p-2 text-center d-flex justify-content-center flex-column"),set_style(ie,"min-height","220px")},m(he,se){insert(he,t,se),append(t,o),append(t,l),insert(he,h,se),insert(he,y,se),append(y,O),append(O,D),append(y,F),append(y,j),append(j,B),append(y,W),append(y,q),append(q,K),append(y,X),append(y,J),append(J,Q),append(y,ee),append(y,re),append(re,te),insert(he,ae,se),insert(he,ie,se),me&&me.m(ie,null),oe||(ce=[listen(O,"click",r[14]),listen(j,"click",r[15]),listen(q,"click",r[16]),listen(J,"click",r[17]),listen(re,"click",r[18])],oe=!0)},p(he,se){se[0]&1&&e!==(e=he[0].nom_proj+"")&&set_data(o,e),se[0]&2&&R!==(R="tab "+(he[1]=="lien"?"active":"")+" svelte-57x6wf")&&attr(O,"class",R),se[0]&2&&U!==(U="tab "+(he[1]=="qr"?"active":"")+" svelte-57x6wf")&&attr(j,"class",U),se[0]&2&&Y!==(Y="tab "+(he[1]=="html"?"active":"")+" svelte-57x6wf")&&attr(q,"class",Y),se[0]&2&&Z!==(Z="tab "+(he[1]=="mail"?"active":"")+" svelte-57x6wf")&&attr(J,"class",Z),se[0]&2&&ne!==(ne="tab "+(he[1]=="targ"?"active":"")+" svelte-57x6wf")&&attr(re,"class",ne),pe===(pe=ue(he))&&me?me.p(he,se):(me&&me.d(1),me=pe&&pe(he),me&&(me.c(),transition_in(me,1),me.m(ie,null)))},i(he){transition_in(me)},o:noop$4,d(he){he&&detach(t),he&&detach(h),he&&detach(y),he&&detach(ae),he&&detach(ie),me&&me.d(),oe=!1,run_all(ce)}}}function create_catch_block_2$2(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block_2$2(r){let t,e,o,l,h,y=[],O=new Map,D,R,F=r[35].filter(func$5);const j=U=>U[38];for(let U=0;U<F.length;U+=1){let W=get_each_context_1$6(r,F,U),q=j(W);O.set(q,y[U]=create_each_block_1$6(q,W))}function B(...U){return r[26](r[35],...U)}return{c(){t=element("div"),e=element("div"),e.textContent="\u{1F50E} Choisissez un projet",o=space(),l=element("select"),h=element("option"),h.textContent="...";for(let U=0;U<y.length;U+=1)y[U].c();attr(e,"class","mb-1"),set_style(e,"font-size","1.5rem"),h.selected=!0,h.disabled=!0,h.__value="...",h.value=h.__value,attr(l,"class","selectProj svelte-57x6wf"),attr(l,"name",""),attr(l,"id",""),attr(t,"class","container p-3")},m(U,W){insert(U,t,W),append(t,e),append(t,o),append(t,l),append(l,h);for(let q=0;q<y.length;q+=1)y[q].m(l,null);D||(R=listen(l,"change",B),D=!0)},p(U,W){r=U,W[0]&16&&(F=r[35].filter(func$5),y=update_keyed_each(y,W,j,1,r,F,O,l,destroy_block,create_each_block_1$6,null,get_each_context_1$6))},d(U){U&&detach(t);for(let W=0;W<y.length;W+=1)y[W].d();D=!1,R()}}}function create_each_block_1$6(r,t){let e,o=t[39].nom_proj+"",l,h;return{key:r,first:null,c(){e=element("option"),l=text(o),e.__value=h=t[38],e.value=e.__value,this.first=e},m(y,O){insert(y,e,O),append(e,l)},p(y,O){t=y,O[0]&16&&o!==(o=t[39].nom_proj+"")&&set_data(l,o),O[0]&16&&h!==(h=t[38])&&(e.__value=h,e.value=e.__value)},d(y){y&&detach(e)}}}function create_pending_block_2$2(r){let t;return{c(){t=text("Chargement...")},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_7$3(r){let t,e,o,l,h,y,O,D;return{c(){t=element("div"),e=element("div"),o=element("div"),o.textContent="Travaillez avec R\xE9tine pour cibler pr\xE9cisemment des populations parmis 4,2 milliards d'utilisateurs sur les r\xE9seaux sociaux.",l=space(),h=element("div"),h.textContent="Contactez nous \u{1F4E8}",attr(o,"class","targBubble my-2 svelte-57x6wf"),attr(h,"class","targButton hvr-grow svelte-57x6wf"),attr(e,"class","text-start")},m(R,F){insert(R,t,F),append(t,e),append(e,o),append(e,l),append(e,h),O||(D=listen(h,"click",r[25]),O=!0)},p:noop$4,i(R){y||add_render_callback(()=>{y=create_in_transition(t,fly,{x:20,duration:200}),y.start()})},o:noop$4,d(R){R&&detach(t),O=!1,D()}}}function create_if_block_6$5(r){let t,e,o={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$9,then:create_then_block$9,catch:create_catch_block_1$3,value:34};return handle_promise(r[9],o),{c(){t=element("div"),o.block.c()},m(l,h){insert(l,t,h),o.block.m(t,o.anchor=null),o.mount=()=>t,o.anchor=null},p(l,h){r=l,update_await_block_branch(o,r,h)},i(l){e||add_render_callback(()=>{e=create_in_transition(t,fly,{x:20,duration:200}),e.start()})},o:noop$4,d(l){l&&detach(t),o.block.d(),o.token=null,o=null}}}function create_if_block_5$6(r){let t,e,o,l,h,y=`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${r[0].id_rtn}#embedded"></iframe>`,O,D,R,F,j,B;return{c(){t=element("div"),e=element("div"),e.innerHTML=`Collez ce code l\xE0 o\xF9 vous le souhaitez dans la balise <i>body</i> de votre page pour permettre \xE0 vos visiteurs de r\xE9pondre au sondage sans changer
              de page.`,o=space(),l=element("div"),h=element("div"),O=text(y),D=space(),R=element("i"),attr(e,"class","text-start"),attr(R,"class","copyBtn bx bxs-copy svelte-57x6wf"),attr(l,"class","htmlCode my-3 svelte-57x6wf")},m(U,W){insert(U,t,W),append(t,e),append(t,o),append(t,l),append(l,h),append(h,O),append(l,D),append(l,R),j||(B=listen(R,"click",r[20]),j=!0)},p(U,W){W[0]&1&&y!==(y=`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${U[0].id_rtn}#embedded"></iframe>`)&&set_data(O,y)},i(U){F||add_render_callback(()=>{F=create_in_transition(t,fly,{x:20,duration:200}),F.start()})},o:noop$4,d(U){U&&detach(t),j=!1,B()}}}function create_if_block_4$7(r){let t,e,o,l,h,y,O,D,R,F,j,B;return{c(){t=element("div"),e=element("div"),e.textContent="Un sond\xE9 n'aura plus qu'\xE0 scanner ce code avec son smartphone ou tablette pour r\xE9pondre au sondage.",o=space(),l=element("div"),h=element("i"),y=space(),O=element("canvas"),D=space(),R=element("span"),attr(e,"class","text-start mb-3"),set_style(h,"position","absolute"),set_style(h,"top","0px"),set_style(h,"right","0px"),attr(h,"class","copyBtn bx bxs-copy svelte-57x6wf"),attr(O,"id","qrcode"),attr(l,"class","qrCode svelte-57x6wf"),set_style(l,"position","relative")},m(U,W){insert(U,t,W),append(t,e),append(t,o),append(t,l),append(l,h),append(l,y),append(l,O),append(l,D),append(l,R),j||(B=[listen(h,"click",click_handler_6),action_destroyer(r[6].call(null,R))],j=!0)},p:noop$4,i(U){F||add_render_callback(()=>{F=create_in_transition(t,fly,{x:20,duration:200}),F.start()})},o:noop$4,d(U){U&&detach(t),j=!1,run_all(B)}}}function create_if_block_3$7(r){let t,e,o,l,h,y=`retine.io/sondage#${r[0].id_rtn}`,O,D,R,F,j,B;return{c(){t=element("div"),e=element("div"),e.textContent="Toute personne poss\xE9dant ce lien pourra r\xE9pondre au sondage depuis un t\xE9l\xE9phone, tablette ou ordinateur.",o=space(),l=element("div"),h=element("div"),O=text(y),D=space(),R=element("i"),attr(e,"class","text-start"),attr(R,"class","copyBtn bx bxs-copy svelte-57x6wf"),attr(l,"class","linkTile my-3 svelte-57x6wf")},m(U,W){insert(U,t,W),append(t,e),append(t,o),append(t,l),append(l,h),append(h,O),append(l,D),append(l,R),j||(B=listen(R,"click",r[19]),j=!0)},p(U,W){W[0]&1&&y!==(y=`retine.io/sondage#${U[0].id_rtn}`)&&set_data(O,y)},i(U){F||add_render_callback(()=>{F=create_in_transition(t,fly,{x:20,duration:200}),F.start()})},o:noop$4,d(U){U&&detach(t),j=!1,B()}}}function create_catch_block_1$3(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block$9(r){let t,e,o,l,h=[],y=new Map,O,D,R,F,j,B=r[34];const U=q=>q[38];for(let q=0;q<B.length;q+=1){let K=get_each_context$9(r,B,q),Y=U(K);y.set(Y,h[q]=create_each_block$9(Y,K))}let W={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block_1$3,then:create_then_block_1$3,catch:create_catch_block$9,value:35};return handle_promise(r[8],W),{c(){t=element("div"),e=element("div"),e.textContent="\u{1F4C7} Liste d\xE9stinataire pour l'envoi du sondage :",o=space(),l=element("select");for(let q=0;q<h.length;q+=1)h[q].c();O=space(),D=element("hr"),R=space(),W.block.c(),attr(e,"class","p-1"),attr(l,"class","selectList svelte-57x6wf"),attr(l,"name","contactlist"),r[3].to===void 0&&add_render_callback(()=>r[21].call(l)),attr(D,"class","w-75 mx-auto my-3"),attr(t,"class","text-start")},m(q,K){insert(q,t,K),append(t,e),append(t,o),append(t,l);for(let Y=0;Y<h.length;Y+=1)h[Y].m(l,null);select_option(l,r[3].to),append(t,O),append(t,D),append(t,R),W.block.m(t,W.anchor=null),W.mount=()=>t,W.anchor=null,F||(j=listen(l,"change",r[21]),F=!0)},p(q,K){r=q,K[0]&512&&(B=r[34],h=update_keyed_each(h,K,U,1,r,B,y,l,destroy_block,create_each_block$9,null,get_each_context$9)),K[0]&520&&select_option(l,r[3].to),update_await_block_branch(W,r,K)},d(q){q&&detach(t);for(let K=0;K<h.length;K+=1)h[K].d();W.block.d(),W.token=null,W=null,F=!1,j()}}}function create_each_block$9(r,t){let e,o=t[36].nom+"",l,h;return{key:r,first:null,c(){e=element("option"),l=text(o),e.__value=h=t[36].id,e.value=e.__value,this.first=e},m(y,O){insert(y,e,O),append(e,l)},p(y,O){t=y},d(y){y&&detach(e)}}}function create_catch_block$9(r){let t,e,o,l,h;return{c(){t=element("div"),t.textContent="Vous devez avoir R\xE9tine pro pour lancer des campagnes de mail \u{1F440}",e=space(),o=element("div"),o.textContent="\u2728 S'abonner \xE0 R\xE9tine Pro \u2728",attr(o,"class","btnSubscribe hvr-grow svelte-57x6wf")},m(y,O){insert(y,t,O),insert(y,e,O),insert(y,o,O),l||(h=listen(o,"click",r[24]),l=!0)},p:noop$4,d(y){y&&detach(t),y&&detach(e),y&&detach(o),l=!1,h()}}}function create_then_block_1$3(r){let t,e,o,l,h,y;return{c(){t=element("div"),e=element("input"),o=space(),l=element("textarea"),attr(e,"class","mailObj svelte-57x6wf"),attr(e,"type","text"),attr(e,"placeholder","Objet du mail..."),attr(l,"class","mailObj svelte-57x6wf"),attr(l,"placeholder","Message personnalis\xE9 inclu dans le mail..."),attr(l,"rows","3"),attr(l,"maxlength","240")},m(O,D){insert(O,t,D),append(t,e),set_input_value(e,r[3].subject),append(t,o),append(t,l),set_input_value(l,r[3].text),h||(y=[listen(e,"input",r[22]),listen(l,"input",r[23])],h=!0)},p(O,D){D[0]&520&&e.value!==O[3].subject&&set_input_value(e,O[3].subject),D[0]&520&&set_input_value(l,O[3].text)},d(O){O&&detach(t),h=!1,run_all(y)}}}function create_pending_block_1$3(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_pending_block$9(r){let t;return{c(){t=text("Chargement...")},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_1$a(r){let t,e,o,l,h;return{c(){t=element("div"),e=text(r[2])},m(y,O){insert(y,t,O),append(t,e),h=!0},p(y,O){(!h||O[0]&4)&&set_data(e,y[2])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(t,fade,{duration:200}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(t,fade,{duration:600}),h=!1},d(y){y&&detach(t),y&&l&&l.end()}}}function create_if_block$e(r){let t,e,o;return{c(){t=element("button"),t.textContent="Envoyer",set_style(t,"background-color","#6219d8"),set_style(t,"color","white"),attr(t,"class","svelte-57x6wf")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[27]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_fragment$n(r){let t,e,o,l,h,y,O,D,R,F,j,B;function U(X,J){return X[0]!=null?create_if_block_2$a:create_else_block$9}let W=U(r),q=W(r),K=r[2]!=""&&create_if_block_1$a(r),Y=r[1]=="mail"&&r[0]!=null&&create_if_block$e(r);return{c(){t=element("div"),e=element("div"),q.c(),o=space(),l=element("div"),K&&K.c(),h=space(),y=element("div"),O=element("button"),O.textContent="Fermer",D=space(),Y&&Y.c(),attr(l,"class","reactMsg svelte-57x6wf"),attr(O,"class","svelte-57x6wf"),attr(y,"class","actions svelte-57x6wf"),attr(e,"class","contents svelte-57x6wf"),attr(t,"role","dialog"),attr(t,"class","modal svelte-57x6wf")},m(X,J){insert(X,t,J),append(t,e),q.m(e,null),append(e,o),append(e,l),K&&K.m(l,null),append(e,h),append(e,y),append(y,O),append(y,D),Y&&Y.m(y,null),F=!0,j||(B=[listen(O,"click",closeModal),listen(t,"introstart",r[12]),listen(t,"outroend",r[13])],j=!0)},p(X,J){W===(W=U(X))&&q?q.p(X,J):(q.d(1),q=W(X),q&&(q.c(),transition_in(q,1),q.m(e,o))),X[2]!=""?K?(K.p(X,J),J[0]&4&&transition_in(K,1)):(K=create_if_block_1$a(X),K.c(),transition_in(K,1),K.m(l,null)):K&&(group_outros(),transition_out(K,1,1,()=>{K=null}),check_outros()),X[1]=="mail"&&X[0]!=null?Y?Y.p(X,J):(Y=create_if_block$e(X),Y.c(),Y.m(y,null)):Y&&(Y.d(1),Y=null)},i(X){F||(transition_in(q),transition_in(K),add_render_callback(()=>{R||(R=create_bidirectional_transition(t,fly,{y:50},!0)),R.run(1)}),F=!0)},o(X){transition_out(K),R||(R=create_bidirectional_transition(t,fly,{y:50},!1)),R.run(0),F=!1},d(X){X&&detach(t),q.d(),K&&K.d(),Y&&Y.d(),X&&R&&R.end(),j=!1,run_all(B)}}}const click_handler_6=r=>{},func$5=r=>!r.priv;function instance$l(r,t,e){function o(ge){activePageStore.set(ge)}let{proj:l=null}=t,{mean:h="lien"}=t,{updatePrev:y=()=>{}}=t;function O(ge){QrCreator$1.render({text:`https://retine.io/sondage#${l.id_rtn}`,radius:.5,ecLevel:"H",fill:"black",background:null,size:200},document.querySelector("#qrcode"))}let D="";function R(ge){e(2,D=ge),setTimeout(()=>{e(2,D="")},2e3)}let F={relance:!1,sond:l==null?"":`https://retine.io/sondage#${l.id_rtn}`,to:"",subject:"",text:""};var j=new Headers;j.append("Authorization","Token "+xxgc("rtnt")),j.append("Content-Type","application/json");var B={method:"GET",headers:j,redirect:"follow"};async function U(){return fetch(rtnUrl+"sondages/edit/",B).then(ge=>ge.text()).then(ge=>JSON.parse(ge)).catch(ge=>ge)}let W;l==null&&(W=U());async function q(){return fetch(rtnUrl+"myplan/",B).then(ge=>{if(ge.ok)return ge.text();throw new Error("Something went wrong")}).then(ge=>JSON.parse(ge)).catch(ge=>{throw new Error("Something went wrong")})}let K=q();async function Y(){return fetch(rtnUrl+"contactlist/",B).then(ge=>ge.text()).then(ge=>(e(3,F.to=JSON.parse(ge)[0].id,F),JSON.parse(ge))).catch(ge=>ge)}let X=Y(),J=!1;async function Q(){if(!J){var ge={method:"POST",headers:j,redirect:"follow",body:JSON.stringify(F)};return J=!0,fetch(rtnUrl+"sondagesend/",ge).then(ye=>{if(ye.ok){R("Campagne mail lanc\xE9e avec succ\xE8s !"),y(),setTimeout(()=>{closeModal()},2e3);return}else throw J=!1,new Error("Une erreur s'est produite...")}).catch(ye=>(R("Une erreur s'est produite..."),ye))}}function Z(ge){bubble.call(this,r,ge)}function ee(ge){bubble.call(this,r,ge)}const re=()=>e(1,h="lien"),te=()=>e(1,h="qr"),ne=()=>e(1,h="html"),ae=()=>e(1,h="mail"),ie=()=>e(1,h="targ"),oe=()=>{navigator.clipboard.writeText("retine.io/sondage#"+l.id_rtn),R("Lien copi\xE9 dans le presse-papier !")},ce=()=>{navigator.clipboard.writeText(`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${l.id_rtn}#embedded"></iframe>`),R("Code copi\xE9 dans le presse-papier !")};function ue(){F.to=select_value(this),e(3,F),e(9,X)}function pe(){F.subject=this.value,e(3,F),e(9,X)}function me(){F.text=this.value,e(3,F),e(9,X)}const he=()=>{closeModal(),o("account")},se=()=>window.open("mailto:bonjour@retine.io?subject=Contact"),le=(ge,ye)=>{e(0,l=ge.filter(we=>!we.priv)[ye.target.value]),e(3,F.sond=`https://retine.io/sondage#${l.id_rtn}`,F)},fe=()=>{F.subject==""||F.text==""?R("Veuillez remplir tous les champs !"):Q()};return r.$$set=ge=>{"proj"in ge&&e(0,l=ge.proj),"mean"in ge&&e(1,h=ge.mean),"updatePrev"in ge&&e(11,y=ge.updatePrev)},[l,h,D,F,W,o,O,R,K,X,Q,y,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe]}class ModalDiffuse extends SvelteComponent{constructor(t){super(),init(this,t,instance$l,create_fragment$n,safe_not_equal,{proj:0,mean:1,updatePrev:11},null,[-1,-1])}}var modalCampagneFollow_svelte_svelte_type_style_lang="";function get_each_context$8(r,t,e){const o=r.slice();return o[18]=t[e],o[20]=e,o}function create_else_block_1$5(r){let t;return{c(){t=element("div")},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_4$6(r){let t,e,o;return{c(){t=element("button"),t.textContent="Relance g\xE9n\xE9rale",attr(t,"class","btnRelance border-0 px-2 hvr-grow svelte-or0i6a"),set_style(t,"background-color","#EEECFE")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[13]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_else_block$8(r){let t;return{c(){t=element("div"),t.textContent="Relanc\xE9",set_style(t,"font-size",".9rem"),set_style(t,"opacity",".6"),set_style(t,"padding","5px")},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_3$6(r){let t,e,o;function l(...h){return r[14](r[18],...h)}return{c(){t=element("div"),t.textContent="Relancer",attr(t,"class","btnRelance hvr-grow svelte-or0i6a")},m(h,y){insert(h,t,y),e||(o=listen(t,"click",l),e=!0)},p(h,y){r=h},d(h){h&&detach(t),e=!1,o()}}}function create_if_block_2$9(r){let t;return{c(){t=element("div"),t.textContent="Relanc\xE9",set_style(t,"font-size",".9rem"),set_style(t,"opacity",".6"),set_style(t,"padding","5px")},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_1$9(r){let t;return{c(){t=element("div"),t.textContent="\u2705"},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_each_block$8(r,t){let e,o,l=t[18]+"",h,y,O,D,R,F,j,B;function U(K,Y){return Y&6&&(D=null),Y&12&&(R=null),Y&20&&(F=null),D==null&&(D=!!K[1].includes(K[18])),D?create_if_block_1$9:(R==null&&(R=!!K[3].includes(K[18])),R?create_if_block_2$9:(F==null&&(F=!!K[4].includes(K[18])),F?create_if_block_3$6:create_else_block$8))}let W=U(t,-1),q=W(t);return{key:r,first:null,c(){e=element("tr"),o=element("td"),h=text(l),y=space(),O=element("td"),q.c(),j=space(),set_style(o,"text-align","left",1),this.first=e},m(K,Y){insert(K,e,Y),append(e,o),append(o,h),append(e,y),append(e,O),q.m(O,null),append(O,j)},p(K,Y){t=K,Y&4&&l!==(l=t[18]+"")&&set_data(h,l),W===(W=U(t,Y))&&q?q.p(t,Y):(q.d(1),q=W(t),q&&(q.c(),q.m(O,j)))},i(K){B||add_render_callback(()=>{B=create_in_transition(e,fly,{x:-20,delay:t[20]*60}),B.start()})},o:noop$4,d(K){K&&detach(e),q.d()}}}function create_if_block$d(r){let t,e,o,l,h;return{c(){t=element("div"),e=text(r[5])},m(y,O){insert(y,t,O),append(t,e),h=!0},p(y,O){(!h||O&32)&&set_data(e,y[5])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(t,fade,{duration:200}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(t,fade,{duration:600}),h=!1},d(y){y&&detach(t),y&&l&&l.end()}}}function create_fragment$m(r){let t,e,o,l,h,y=r[0].nom+"",O,D,R,F,j,B,U=Math.round(r[2].filter(r[11]).length/r[2].length*100)+"",W,q,K=r[2].filter(r[12]).length+"",Y,X,J=r[2].length+"",Q,Z,ee,re,te,ne=r[0].sondage_name+"",ae,ie,oe,ce,ue=r[0].crea_date.split("T")[0]+"",pe,me,he,se,le,fe,ge,ye,we,$e,_e,Se=[],Te=new Map,be,Oe,xe,Ee,Ce,ve,Pe,Me,Ne,Be,Fe,Re,ke;function Le(Ae,He){return Ae[4].length>0?create_if_block_4$6:create_else_block_1$5}let De=Le(r),Ie=De(r),Ve=r[2];const Ue=Ae=>Ae[20];for(let Ae=0;Ae<Ve.length;Ae+=1){let He=get_each_context$8(r,Ve,Ae),Ke=Ue(He);Te.set(Ke,Se[Ae]=create_each_block$8(Ke,He))}let ze=r[5]!=""&&create_if_block$d(r);return{c(){t=element("div"),e=element("div"),o=element("div"),o.textContent="Suivi de campagne",l=space(),h=element("h2"),O=text(y),D=space(),R=element("div"),F=element("div"),j=element("div"),B=text("\u{1F50E} "),W=text(U),q=text("% r\xE9ponses ("),Y=text(K),X=text("/"),Q=text(J),Z=text(")"),ee=space(),re=element("div"),te=text("\u{1F4DD} "),ae=text(ne),ie=space(),oe=element("div"),ce=text("\u{1F5D3}\uFE0F Lanc\xE9e le "),pe=text(ue),me=space(),he=element("br"),se=space(),le=element("div"),fe=element("h4"),fe.textContent="D\xE9stinataires",ge=space(),Ie.c(),ye=space(),we=element("div"),$e=element("table"),_e=element("tbody");for(let Ae=0;Ae<Se.length;Ae+=1)Se[Ae].c();be=space(),Oe=element("div"),ze&&ze.c(),xe=space(),Ee=element("div"),Ce=element("button"),Ce.textContent="Fermer",ve=space(),Pe=element("button"),Pe.textContent="Exporter liste",Me=space(),Ne=element("button"),Ne.textContent="Supprimer le suivi",attr(o,"class","text-center"),set_style(o,"font-family","Lexend"),set_style(o,"opacity",".7"),attr(h,"class","mb-4 text-center fw-bold"),attr(j,"class","mb-1"),attr(re,"class","mb-1"),attr(F,"class","infoCamp mb-1 p-3 px-md-4 svelte-or0i6a"),attr(R,"class","container"),attr(le,"class","container d-flex align-items-center justify-content-between"),attr($e,"id","contactTable"),attr($e,"class","table mb-2"),attr(we,"class","container p-2 text-center"),set_style(we,"max-height","300px"),set_style(we,"overflow-y","auto"),attr(Oe,"class","reactMsg svelte-or0i6a"),attr(Ce,"class","svelte-or0i6a"),set_style(Pe,"background-color","#BAE5D3"),attr(Pe,"class","svelte-or0i6a"),set_style(Ne,"background-color","#F1C5CF"),attr(Ne,"class","svelte-or0i6a"),attr(Ee,"class","actions svelte-or0i6a"),attr(e,"class","contents p-4 svelte-or0i6a"),attr(t,"role","dialog"),attr(t,"class","modal svelte-or0i6a")},m(Ae,He){insert(Ae,t,He),append(t,e),append(e,o),append(e,l),append(e,h),append(h,O),append(e,D),append(e,R),append(R,F),append(F,j),append(j,B),append(j,W),append(j,q),append(j,Y),append(j,X),append(j,Q),append(j,Z),append(F,ee),append(F,re),append(re,te),append(re,ae),append(F,ie),append(F,oe),append(oe,ce),append(oe,pe),append(e,me),append(e,he),append(e,se),append(e,le),append(le,fe),append(le,ge),Ie.m(le,null),append(e,ye),append(e,we),append(we,$e),append($e,_e);for(let Ke=0;Ke<Se.length;Ke+=1)Se[Ke].m(_e,null);append(e,be),append(e,Oe),ze&&ze.m(Oe,null),append(e,xe),append(e,Ee),append(Ee,Ce),append(Ee,ve),append(Ee,Pe),append(Ee,Me),append(Ee,Ne),Fe=!0,Re||(ke=[listen(Ce,"click",closeModal),listen(Pe,"click",r[15]),listen(Ne,"click",r[7]),listen(t,"introstart",r[9]),listen(t,"outroend",r[10])],Re=!0)},p(Ae,[He]){(!Fe||He&1)&&y!==(y=Ae[0].nom+"")&&set_data(O,y),(!Fe||He&6)&&U!==(U=Math.round(Ae[2].filter(Ae[11]).length/Ae[2].length*100)+"")&&set_data(W,U),(!Fe||He&6)&&K!==(K=Ae[2].filter(Ae[12]).length+"")&&set_data(Y,K),(!Fe||He&4)&&J!==(J=Ae[2].length+"")&&set_data(Q,J),(!Fe||He&1)&&ne!==(ne=Ae[0].sondage_name+"")&&set_data(ae,ne),(!Fe||He&1)&&ue!==(ue=Ae[0].crea_date.split("T")[0]+"")&&set_data(pe,ue),De===(De=Le(Ae))&&Ie?Ie.p(Ae,He):(Ie.d(1),Ie=De(Ae),Ie&&(Ie.c(),Ie.m(le,null))),He&94&&(Ve=Ae[2],Se=update_keyed_each(Se,He,Ue,1,Ae,Ve,Te,_e,destroy_block,create_each_block$8,null,get_each_context$8)),Ae[5]!=""?ze?(ze.p(Ae,He),He&32&&transition_in(ze,1)):(ze=create_if_block$d(Ae),ze.c(),transition_in(ze,1),ze.m(Oe,null)):ze&&(group_outros(),transition_out(ze,1,1,()=>{ze=null}),check_outros())},i(Ae){if(!Fe){for(let He=0;He<Ve.length;He+=1)transition_in(Se[He]);transition_in(ze),add_render_callback(()=>{Be||(Be=create_bidirectional_transition(t,fly,{y:50},!0)),Be.run(1)}),Fe=!0}},o(Ae){transition_out(ze),Be||(Be=create_bidirectional_transition(t,fly,{y:50},!1)),Be.run(0),Fe=!1},d(Ae){Ae&&detach(t),Ie.d();for(let He=0;He<Se.length;He+=1)Se[He].d();ze&&ze.d(),Ae&&Be&&Be.end(),Re=!1,run_all(ke)}}}function download_table_as_csv(r,t=","){for(var e=document.querySelectorAll("table#"+r+" tr"),o=[],l=0;l<e.length;l++){for(var h=[],y=e[l].querySelectorAll("td, th"),O=0;O<y.length;O++){var D=y[O].innerText.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ").replace("Relancer","Pas de reponse").replace("\u2705","A repondu").replace("Relanc\xE9","Relance effectuee sans reponse");D=D.replace(/"/g,'""'),h.push('"'+D+'"')}o.push(h.join(t))}var R=o.join(`
`),F="export_"+r+"_"+new Date().toLocaleDateString()+".csv",j=document.createElement("a");j.style.display="none",j.setAttribute("target","_blank"),j.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(R)),j.setAttribute("download",F),document.body.appendChild(j),j.click(),document.body.removeChild(j)}function instance$k(r,t,e){let{campagne:o}=t,{listeRep:l}=t,{listeEnvoi:h}=t,y=JSON.parse(o.contact_rel).map(Z=>Z.mail),O=h.filter(Z=>!l.includes(Z)&&!y.includes(Z)),{updatePrev:D}=t,R="";function F(Z){e(5,R=Z),setTimeout(()=>{e(5,R="")},2e3)}var j=new Headers;j.append("Authorization","Token "+xxgc("rtnt")),j.append("Content-Type","application/json");async function B(Z){let ee={relance:!0,sond:`https://retine.io/sondage#${o.sondage_idrtn}`,to:Z,subject:`Relance :  ${o.nom}`,text:o.text};var re={method:"POST",headers:j,redirect:"follow",body:JSON.stringify(ee)};return fetch(rtnUrl+"sondagesend/",re).then(te=>{if(te.ok){F(`Relance envoy\xE9e \xE0 ${Z}`);return}else throw new Error("Une erreur s'est produite...")}).catch(te=>(F("Une erreur s'est produite..."),te))}function U(){Swal.fire({title:"Supprimer le suivi de campagne ?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#6219D8",cancelButtonColor:"#2FCC72",confirmButtonText:"Supprimer la campagne",cancelButtonText:"Annuler"}).then(Z=>{if(Z.isConfirmed)return fetch(rtnUrl+"viewcampagnes/",{method:"DELETE",headers:j,redirect:"follow",body:JSON.stringify({id:o.id})}).then(ee=>{if(ee.ok){F("Campagne supprim\xE9e."),closeModal();return}else throw new Error("Une erreur s'est produite...")}).catch(ee=>(F("Une erreur s'est produite..."),ee))})}function W(Z){bubble.call(this,r,Z)}function q(Z){bubble.call(this,r,Z)}const K=Z=>l.includes(Z),Y=Z=>l.includes(Z),X=()=>{B(O),e(3,y=y.concat(O))},J=(Z,ee)=>{B([Z]),e(3,y=[...y,Z])},Q=()=>download_table_as_csv("contactTable",";");return r.$$set=Z=>{"campagne"in Z&&e(0,o=Z.campagne),"listeRep"in Z&&e(1,l=Z.listeRep),"listeEnvoi"in Z&&e(2,h=Z.listeEnvoi),"updatePrev"in Z&&e(8,D=Z.updatePrev)},r.$$.update=()=>{r.$$.dirty&14&&e(4,O=h.filter(Z=>!l.includes(Z)&&!y.includes(Z)))},[o,l,h,y,O,R,B,U,D,W,q,K,Y,X,J,Q]}class ModalCampagneFollow extends SvelteComponent{constructor(t){super(),init(this,t,instance$k,create_fragment$m,safe_not_equal,{campagne:0,listeRep:1,listeEnvoi:2,updatePrev:8})}}var campagnes_svelte_svelte_type_style_lang="";function get_each_context$7(r,t,e){const o=r.slice();return o[19]=t[e],o[21]=e,o}function get_each_context_1$5(r,t,e){const o=r.slice();return o[22]=t[e],o[21]=e,o}function get_each_context_2$2(r,t,e){const o=r.slice();return o[19]=t[e],o[21]=e,o}function create_catch_block_2$1(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block_2$1(r){let t;function e(h,y){return h[18].data.length>0?create_if_block_2$8:create_else_block_1$4}let o=e(r),l=o(r);return{c(){l.c(),t=empty$2()},m(h,y){l.m(h,y),insert(h,t,y)},p(h,y){o===(o=e(h))&&l?l.p(h,y):(l.d(1),l=o(h),l&&(l.c(),transition_in(l,1),l.m(t.parentNode,t)))},i(h){transition_in(l)},o:noop$4,d(h){l.d(h),h&&detach(t)}}}function create_else_block_1$4(r){let t;return{c(){t=element("div"),t.textContent="Pas de campagnes mail en cours \u{1F440}",attr(t,"class","text-center w-100 mb-4")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_if_block_2$8(r){let t,e,o,l,h,y=[],O=new Map,D=r[18].data.reverse();const R=F=>F[21];for(let F=0;F<D.length;F+=1){let j=get_each_context_2$2(r,D,F),B=R(j);O.set(B,y[F]=create_each_block_2$2(B,j))}return{c(){t=element("div"),e=element("table"),o=element("thead"),o.innerHTML=`<tr><th scope="col">Nom</th> 
                  <th scope="col">Sondage</th> 
                  <th scope="col">Liste</th> 
                  <th scope="col">% r\xE9ponses</th> 
                  <th scope="col">Date</th></tr>`,l=space(),h=element("tbody");for(let F=0;F<y.length;F+=1)y[F].c();attr(e,"class","table mb-3 table-hover svelte-1mh17uk"),attr(t,"class","table-responsive")},m(F,j){insert(F,t,j),append(t,e),append(e,o),append(e,l),append(e,h);for(let B=0;B<y.length;B+=1)y[B].m(h,null)},p(F,j){j&20&&(D=F[18].data.reverse(),y=update_keyed_each(y,j,R,1,F,D,O,h,destroy_block,create_each_block_2$2,null,get_each_context_2$2))},i(F){for(let j=0;j<D.length;j+=1)transition_in(y[j])},o:noop$4,d(F){F&&detach(t);for(let j=0;j<y.length;j+=1)y[j].d()}}}function create_each_block_2$2(r,t){let e,o,l=t[19].camp.nom+"",h,y,O,D=t[19].camp.sondage_name+"",R,F,j,B=t[19].contacts.nom+"",U,W,q,K=Math.round(JSON.parse(t[19].contacts.jsonContent).filter(ie).length/JSON.parse(t[19].contacts.jsonContent).length*100)+"",Y,X,J,Q,Z=t[19].camp.crea_date.split("T")[0]+"",ee,re,te,ne,ae;function ie(...ce){return t[6](t[19],...ce)}function oe(){return t[7](t[19])}return{key:r,first:null,c(){e=element("tr"),o=element("th"),h=text(l),y=space(),O=element("td"),R=text(D),F=space(),j=element("td"),U=text(B),W=space(),q=element("td"),Y=text(K),X=text("%"),J=space(),Q=element("td"),ee=text(Z),re=space(),set_style(e,"cursor","pointer"),this.first=e},m(ce,ue){insert(ce,e,ue),append(e,o),append(o,h),append(e,y),append(e,O),append(O,R),append(e,F),append(e,j),append(j,U),append(e,W),append(e,q),append(q,Y),append(q,X),append(e,J),append(e,Q),append(Q,ee),append(e,re),ne||(ae=listen(e,"click",oe),ne=!0)},p(ce,ue){t=ce,ue&4&&l!==(l=t[19].camp.nom+"")&&set_data(h,l),ue&4&&D!==(D=t[19].camp.sondage_name+"")&&set_data(R,D),ue&4&&B!==(B=t[19].contacts.nom+"")&&set_data(U,B),ue&4&&K!==(K=Math.round(JSON.parse(t[19].contacts.jsonContent).filter(ie).length/JSON.parse(t[19].contacts.jsonContent).length*100)+"")&&set_data(Y,K),ue&4&&Z!==(Z=t[19].camp.crea_date.split("T")[0]+"")&&set_data(ee,Z)},i(ce){te||add_render_callback(()=>{te=create_in_transition(e,fly,{x:-20,delay:t[21]*60}),te.start()})},o:noop$4,d(ce){ce&&detach(e),ne=!1,ae()}}}function create_pending_block_2$1(r){let t;return{c(){t=text("Chargement...")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_catch_block_1$2(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block_1$2(r){let t,e,o,l,h=[],y=new Map,O,D,R=r[18].reverse();const F=j=>j[21];for(let j=0;j<R.length;j+=1){let B=get_each_context_1$5(r,R,j),U=F(B);y.set(U,h[j]=create_each_block_1$5(U,B))}return{c(){t=element("div"),e=element("div"),o=element("div"),o.textContent="+",l=space();for(let j=0;j<h.length;j+=1)h[j].c();attr(o,"class","addBtn hvr-float svelte-1mh17uk"),attr(e,"class","col-12 col-sm-4 col-md-3 mb-3"),attr(t,"class","row mt-4")},m(j,B){insert(j,t,B),append(t,e),append(e,o),append(t,l);for(let U=0;U<h.length;U+=1)h[U].m(t,null);O||(D=listen(o,"click",r[9]),O=!0)},p(j,B){B&17&&(R=j[18].reverse(),h=update_keyed_each(h,B,F,1,j,R,y,t,destroy_block,create_each_block_1$5,null,get_each_context_1$5))},d(j){j&&detach(t);for(let B=0;B<h.length;B+=1)h[B].d();O=!1,D()}}}function create_each_block_1$5(r,t){let e,o,l,h=t[22].nom+"",y,O,D,R=JSON.parse(t[22].jsonContent).length+"",F,j,B,U=t[22].crea_date.split("T")[0]+"",W,q,K,Y;function X(){return t[10](t[22])}return{key:r,first:null,c(){e=element("div"),o=element("div"),l=element("div"),y=text(h),O=space(),D=element("div"),F=text(R),j=space(),B=element("div"),W=text(U),q=space(),attr(l,"class","contacttitlecont svelte-1mh17uk"),attr(D,"class","contactnumcont svelte-1mh17uk"),attr(o,"class","listCard hvr-float svelte-1mh17uk"),attr(e,"class","col-6 col-sm-4 col-md-3 mb-3"),this.first=e},m(J,Q){insert(J,e,Q),append(e,o),append(o,l),append(l,y),append(o,O),append(o,D),append(D,F),append(o,j),append(o,B),append(B,W),append(e,q),K||(Y=listen(o,"click",X),K=!0)},p(J,Q){t=J,Q&1&&h!==(h=t[22].nom+"")&&set_data(y,h),Q&1&&R!==(R=JSON.parse(t[22].jsonContent).length+"")&&set_data(F,R),Q&1&&U!==(U=t[22].crea_date.split("T")[0]+"")&&set_data(W,U)},d(J){J&&detach(e),K=!1,Y()}}}function create_pending_block_1$2(r){let t;return{c(){t=element("div"),t.textContent="Chargement..."},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_catch_block$8(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block$8(r){let t,e;function o(y,O){return O&2&&(t=null),t==null&&(t=y[18].filter(func$4).length>0),t?create_if_block_1$8:create_else_block$7}let l=o(r,-1),h=l(r);return{c(){h.c(),e=empty$2()},m(y,O){h.m(y,O),insert(y,e,O)},p(y,O){l===(l=o(y,O))&&h?h.p(y,O):(h.d(1),h=l(y),h&&(h.c(),transition_in(h,1),h.m(e.parentNode,e)))},i(y){transition_in(h)},o:noop$4,d(y){h.d(y),y&&detach(e)}}}function create_else_block$7(r){let t;return{c(){t=element("div"),t.textContent="Pas encore de sondage \xE0 diffuser \u{1F440}",attr(t,"class","text-center w-100")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_if_block_1$8(r){let t=[],e=new Map,o,l=r[18].reverse().filter(func_2$2);const h=y=>y[21];for(let y=0;y<l.length;y+=1){let O=get_each_context$7(r,l,y),D=h(O);e.set(D,t[y]=create_each_block$7(D,O))}return{c(){for(let y=0;y<t.length;y+=1)t[y].c();o=empty$2()},m(y,O){for(let D=0;D<t.length;D+=1)t[D].m(y,O);insert(y,o,O)},p(y,O){O&18&&(l=y[18].reverse().filter(func_2$2),t=update_keyed_each(t,O,h,1,y,l,e,o.parentNode,destroy_block,create_each_block$7,o,get_each_context$7))},i(y){for(let O=0;O<l.length;O+=1)transition_in(t[O])},o:noop$4,d(y){for(let O=0;O<t.length;O+=1)t[O].d(y);y&&detach(o)}}}function create_each_block$7(r,t){let e,o,l=t[19].nom_proj+"",h,y,O,D,R;function F(){return t[11](t[19])}return{key:r,first:null,c(){e=element("div"),o=element("div"),h=text(l),y=space(),attr(o,"class","projComCard hvr-float svelte-1mh17uk"),set_style(o,"background-color",t[19].color),attr(e,"class","col-12 col-md-4 mb-2"),this.first=e},m(j,B){insert(j,e,B),append(e,o),append(o,h),append(e,y),D||(R=listen(o,"click",F),D=!0)},p(j,B){t=j,B&2&&l!==(l=t[19].nom_proj+"")&&set_data(h,l),B&2&&set_style(o,"background-color",t[19].color)},i(j){O||add_render_callback(()=>{O=create_in_transition(e,fly,{x:-20,delay:t[21]*60}),O.start()})},o:noop$4,d(j){j&&detach(e),D=!1,R()}}}function create_pending_block$8(r){let t;return{c(){t=text("Chargement...")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_if_block$c(r){let t,e,o,l,h,y,O;const D=[r[3].props||{}];var R=r[3].component;function F(j){let B={};for(let U=0;U<D.length;U+=1)B=assign$7(B,D[U]);return{props:B}}return R&&(t=new R(F())),{c(){t&&create_component(t.$$.fragment),e=space(),o=element("div"),attr(o,"class","backdrop svelte-1mh17uk")},m(j,B){t&&mount_component(t,j,B),insert(j,e,B),insert(j,o,B),h=!0,y||(O=listen(o,"click",r[12]),y=!0)},p(j,B){const U=B&8?get_spread_update(D,[get_spread_object(j[3].props||{})]):{};if(R!==(R=j[3].component)){if(t){group_outros();const W=t;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(t=new R(F()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else R&&t.$set(U)},i(j){h||(t&&transition_in(t.$$.fragment,j),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(j){t&&transition_out(t.$$.fragment,j),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(j){t&&destroy_component(t,j),j&&detach(e),j&&detach(o),j&&l&&l.end(),y=!1,O()}}}function create_default_slot$6(r){let t,e,o=r[3]&&create_if_block$c(r);return{c(){o&&o.c(),t=empty$2()},m(l,h){o&&o.m(l,h),insert(l,t,h),e=!0},p(l,h){l[3]?o?(o.p(l,h),h&8&&transition_in(o,1)):(o=create_if_block$c(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){e||(transition_in(o),e=!0)},o(l){transition_out(o),e=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$l(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe,ge,ye,we,$e,_e={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_2$1,then:create_then_block_2$1,catch:create_catch_block_2$1,value:18};handle_promise(W=r[2],_e);let Se={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$2,then:create_then_block_1$2,catch:create_catch_block_1$2,value:18};handle_promise(ne=r[0],Se);let Te={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$8,then:create_then_block$8,catch:create_catch_block$8,value:18};return handle_promise(se=r[1],Te),ge=new Modals({props:{$$slots:{default:[create_default_slot$6]},$$scope:{ctx:r}}}),{c(){t=element("div"),e=element("h1"),e.textContent="Vos campagnes de diffusion",o=space(),l=element("h6"),l.textContent="Diffusez vos sondages via un ou plusieurs canaux, constituez des listes d\u2019envoi et organisez votre campagnes d\u2019e-mailing",h=space(),y=element("div"),O=space(),D=element("div"),R=element("h4"),R.textContent="\u{1F4E8} Campagnes mail",F=space(),j=element("p"),j.textContent="Cr\xE9ez une campagne email pour partager votre sondage aupr\xE8s de vos cibles, en suivre la diffusion et relancer les non-r\xE9pondants.",B=space(),U=element("div"),_e.block.c(),q=space(),K=element("div"),K.textContent="\u{1F680} Nouvelle campagne",J=space(),Q=element("div"),Z=element("h4"),Z.textContent="\u{1F465} Listes d'envoi",ee=space(),re=element("p"),re.textContent="Ces listes d'envois pourront \xEAtre utilis\xE9es pour diffuser vos sondages.",te=space(),Se.block.c(),ie=space(),oe=element("div"),ce=element("h4"),ce.textContent="\u{1F4E2} Diffuser un sondage",ue=space(),pe=element("p"),pe.textContent="Cliquez sur un de vos sondages pour l'envoyer par par les moyens de votre choix \xE0 votre audience.",me=space(),he=element("div"),Te.block.c(),fe=space(),create_component(ge.$$.fragment),attr(e,"class","py-2 mb-1 text-left"),attr(l,"class","ps-3 opacity-75"),attr(y,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),set_style(j,"opacity",".7"),attr(K,"class","newCamp hvr-grow svelte-1mh17uk"),attr(U,"class","mt-4"),attr(D,"class","neuProjet p-4 mb-5 svelte-1mh17uk"),set_style(re,"opacity",".7"),attr(Q,"class","neuProjet p-4 mb-5 svelte-1mh17uk"),set_style(pe,"opacity",".7"),attr(he,"class","row text-center mt-4"),attr(oe,"class","neuProjet p-4 mb-5 svelte-1mh17uk"),attr(t,"class","row p-3 w-100 mx-auto mb-5"),set_style(t,"max-width","1100px")},m(be,Oe){insert(be,t,Oe),append(t,e),append(t,o),append(t,l),append(t,h),append(t,y),append(t,O),append(t,D),append(D,R),append(D,F),append(D,j),append(D,B),append(D,U),_e.block.m(U,_e.anchor=null),_e.mount=()=>U,_e.anchor=q,append(U,q),append(U,K),append(t,J),append(t,Q),append(Q,Z),append(Q,ee),append(Q,re),append(Q,te),Se.block.m(Q,Se.anchor=null),Se.mount=()=>Q,Se.anchor=null,append(t,ie),append(t,oe),append(oe,ce),append(oe,ue),append(oe,pe),append(oe,me),append(oe,he),Te.block.m(he,Te.anchor=null),Te.mount=()=>he,Te.anchor=null,insert(be,fe,Oe),mount_component(ge,be,Oe),ye=!0,we||($e=listen(K,"click",r[8]),we=!0)},p(be,[Oe]){r=be,_e.ctx=r,Oe&4&&W!==(W=r[2])&&handle_promise(W,_e)||update_await_block_branch(_e,r,Oe),Se.ctx=r,Oe&1&&ne!==(ne=r[0])&&handle_promise(ne,Se)||update_await_block_branch(Se,r,Oe),Te.ctx=r,Oe&2&&se!==(se=r[1])&&handle_promise(se,Te)||update_await_block_branch(Te,r,Oe);const xe={};Oe&33554440&&(xe.$$scope={dirty:Oe,ctx:r}),ge.$set(xe)},i(be){ye||(transition_in(_e.block),Y||add_render_callback(()=>{Y=create_in_transition(K,fly,{x:-20,delay:50}),Y.start()}),X||add_render_callback(()=>{X=create_in_transition(D,fly,{x:-20,duration:600,delay:150}),X.start()}),ae||add_render_callback(()=>{ae=create_in_transition(Q,fly,{x:-20,duration:600,delay:300}),ae.start()}),transition_in(Te.block),le||add_render_callback(()=>{le=create_in_transition(oe,fly,{x:-20,duration:600,delay:150}),le.start()}),transition_in(ge.$$.fragment,be),ye=!0)},o(be){transition_out(ge.$$.fragment,be),ye=!1},d(be){be&&detach(t),_e.block.d(),_e.token=null,_e=null,Se.block.d(),Se.token=null,Se=null,Te.block.d(),Te.token=null,Te=null,be&&detach(fe),destroy_component(ge,be),we=!1,$e()}}}const func$4=r=>!r.priv,func_2$2=r=>!r.priv;function instance$j(r,t,e){let o,l;component_subscribe(r,modals,Z=>e(5,l=Z));var h=new Headers;h.append("Authorization","Token "+xxgc("rtnt")),h.append("Content-Type","application/json");var y={method:"GET",headers:h,redirect:"follow"};async function O(){return fetch(rtnUrl+"contactlist/",y).then(Z=>Z.text()).then(Z=>JSON.parse(Z)).catch(Z=>Z)}let D=O();async function R(){return fetch(rtnUrl+"sondages/edit/",y).then(Z=>Z.text()).then(Z=>JSON.parse(Z)).catch(Z=>Z)}let F=R();async function j(){return fetch(rtnUrl+"viewcampagnes/",y).then(Z=>Z.text()).then(Z=>JSON.parse(Z)).catch(Z=>Z)}let B=j();const U=()=>{e(0,D=O()),e(2,B=j()),e(1,F=R())},W=(Z,ee)=>JSON.parse(Z.camp.contact_follow).includes(ee),q=Z=>openModal(ModalCampagneFollow,{campagne:Z.camp,listeRep:JSON.parse(Z.camp.contact_follow),listeEnvoi:JSON.parse(Z.contacts.jsonContent),updatePrev:U}),K=()=>{openModal(ModalDiffuse,{mean:"mail"})},Y=()=>openModal(ModalContactList,{id:"new",nom:"",jsonContent:"",updateBack:U}),X=Z=>openModal(ModalContactList,nt(rt({},Z),{updateBack:U})),J=Z=>{openModal(ModalDiffuse,{proj:Z,updatePrev:U})},Q=()=>{closeModal()};return r.$$.update=()=>{r.$$.dirty&32&&e(3,o=l[l.length-1])},[D,F,B,o,U,l,W,q,K,Y,X,J,Q]}class Campagnes extends SvelteComponent{constructor(t){super(),init(this,t,instance$j,create_fragment$l,safe_not_equal,{})}}function firstSave(r){var t=new Headers;let e=JSON.stringify(r.jsonContent);t.append("Authorization","Token "+xxgc("rtnt")),t.append("Content-Type","application/json");var o=JSON.stringify({v:r.v,nom_proj:r.nom_proj,color:r.color,jsonContent:e,priv:!0});return new Promise((l,h)=>{fetch(rtnUrl+"sondages/edit/",{method:"POST",headers:t,body:o,redirect:"follow"}).then(y=>y.text()).then(y=>{let O=JSON.parse(y).id;r.logo=JSON.parse(y).logo,l(O)}).catch(y=>h(y))})}function updateSave(r,t,e="true"){var o=new Headers;let l=JSON.stringify(r.jsonContent);o.append("Authorization","Token "+xxgc("rtnt"));let h=new FormData;return h.append("v",r.v),h.append("nom_proj",r.nom_proj),h.append("color",r.color),h.append("jsonContent",l),h.append("priv",e),r.logo instanceof File&&h.append("logo",r.logo),new Promise((y,O)=>{fetch(`${rtnUrl}sondages/edit/${t}/`,{method:"PUT",headers:o,body:h,redirect:"follow"}).then(D=>D.text()).then(D=>{console.log(JSON.parse(D)),JSON.parse(D).logo.includes("https")?r.logo=JSON.parse(D).logo:r.logo=`${rtnUrl}static/sond_images/rtnlogo.png`,new Date().toLocaleString(),y("saved")}).catch(D=>{O(D)})})}const validateSondage=(r,t,e)=>{Swal.fire({title:"Publier le sondage ?",text:"Vous pourez toujours modifier le titre et reformuler vos questions, mais plus modifier les r\xE9ponses.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2FCC72",cancelButtonColor:"grey",confirmButtonText:"Publier le sondage",cancelButtonText:"Annuler"}).then(o=>{if(o.isConfirmed){var l=new Headers;let y=JSON.stringify(r.jsonContent);l.append("Authorization","Token "+xxgc("rtnt")),l.append("Content-Type","application/json");var h=JSON.stringify({v:r.v,nom_proj:r.nom_proj,color:r.color==null?"#6219D8":r.color,jsonContent:y,priv:!1});return fetch(`${rtnUrl}sondages/edit/${t}/`,{method:"PUT",headers:l,body:h,redirect:"follow"}).then(O=>O.text()).then(O=>{console.log(O);let D=JSON.parse(O);Swal.fire({title:"Le sondage est publi\xE9!",icon:"success",html:`<div class="p-2 mb-2 font-weight-bold">retine.io/sondage#${D.id_rtn}</div>
              <div>Souhaitez vous \xEAtre dirig\xE9 vers l'onglet "Campagnes" pour partager votre sondage ?</div>`,showCloseButton:!0,showCancelButton:!0,focusConfirm:!0,confirmButtonText:"Oui",confirmButtonAriaLabel:"Oui",cancelButtonText:"Non",cancelButtonAriaLabel:"Non"}).then(R=>{R.isConfirmed&&e("contacts")}),e("projects")}).catch(O=>console.log("error",O))}})};function ownKeys$8(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),e.push.apply(e,o)}return e}function _objectSpread2(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$8(Object(e),!0).forEach(function(o){_defineProperty$2(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ownKeys$8(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}function asyncGeneratorStep(r,t,e,o,l,h,y){try{var O=r[h](y),D=O.value}catch(R){return void e(R)}O.done?t(D):Promise.resolve(D).then(o,l)}function _asyncToGenerator(r){return function(){var t=this,e=arguments;return new Promise(function(o,l){var h=r.apply(t,e);function y(D){asyncGeneratorStep(h,o,l,y,O,"next",D)}function O(D){asyncGeneratorStep(h,o,l,y,O,"throw",D)}y(void 0)})}}function _defineProperty$2(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function _taggedTemplateLiteral(r,t){return t||(t=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(t)}}))}function __decorate(r,t,e,o){var l,h=arguments.length,y=h<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,e):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(r,t,e,o);else for(var O=r.length-1;O>=0;O--)(l=r[O])&&(y=(h<3?l(y):h>3?l(t,e,y):l(t,e))||y);return h>3&&y&&Object.defineProperty(t,e,y),y}var t$3=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$8=Symbol(),n$5=new Map;class s$3{constructor(t,e){if(this._$cssResult$=!0,e!==e$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){var t=n$5.get(this.cssText);return t$3&&t===void 0&&(n$5.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}var o$5=r=>new s$3(typeof r=="string"?r:r+"",e$8),r$3=function(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];var l=r.length===1?r[0]:e.reduce((h,y,O)=>h+(D=>{if(D._$cssResult$===!0)return D.cssText;if(typeof D=="number")return D;throw Error("Value passed to 'css' function must be a 'css' function result: "+D+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(y)+r[O+1],r[0]);return new s$3(l,e$8)},i$3=(r,t)=>{t$3?r.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):t.forEach(e=>{var o=document.createElement("style"),l=window.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=e.cssText,r.appendChild(o)})},S$1=t$3?r=>r:r=>r instanceof CSSStyleSheet?(t=>{var e="";for(var o of t.cssRules)e+=o.cssText;return o$5(e)})(r):r,s$2,e$7=window.trustedTypes,r$2=e$7?e$7.emptyScript:"",h$2=window.reactiveElementPolyfillSupport,o$4={toAttribute(r,t){switch(t){case Boolean:r=r?r$2:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,t){var e=r;switch(t){case Boolean:e=r!==null;break;case Number:e=r===null?null:Number(r);break;case Object:case Array:try{e=JSON.parse(r)}catch{e=null}}return e}},n$4=(r,t)=>t!==r&&(t==t||r==r),l$3={attribute:!0,type:String,converter:o$4,reflect:!1,hasChanged:n$4},t$2;class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;(e=this.l)!==null&&e!==void 0||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();var t=[];return this.elementProperties.forEach((e,o)=>{var l=this._$Eh(o,e);l!==void 0&&(this._$Eu.set(l,o),t.push(l))}),t}static createProperty(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l$3;if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){var o=typeof t=="symbol"?Symbol():"__"+t,l=this.getPropertyDescriptor(t,o,e);l!==void 0&&Object.defineProperty(this.prototype,t,l)}}static getPropertyDescriptor(t,e,o){return{get(){return this[e]},set(l){var h=this[t];this[e]=l,this.requestUpdate(t,h,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var e=this.properties,o=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(var l of o)this.createProperty(l,e[l])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){var e=[];if(Array.isArray(t)){var o=new Set(t.flat(1/0).reverse());for(var l of o)e.unshift(S$1(l))}else t!==void 0&&e.push(S$1(t));return e}static _$Eh(t,e){var o=e.attribute;return o===!1?void 0:typeof o=="string"?o:typeof t=="string"?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$Em(),this.requestUpdate(),(t=this.constructor.l)===null||t===void 0||t.forEach(e=>e(this))}addController(t){var e,o;((e=this._$Eg)!==null&&e!==void 0?e:this._$Eg=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((o=t.hostConnected)===null||o===void 0||o.call(t))}removeController(t){var e;(e=this._$Eg)===null||e===void 0||e.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])})}createRenderRoot(){var t,e=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return i$3(e,this.constructor.elementStyles),e}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$Eg)===null||t===void 0||t.forEach(e=>{var o;return(o=e.hostConnected)===null||o===void 0?void 0:o.call(e)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$Eg)===null||t===void 0||t.forEach(e=>{var o;return(o=e.hostDisconnected)===null||o===void 0?void 0:o.call(e)})}attributeChangedCallback(t,e,o){this._$AK(t,o)}_$ES(t,e){var o,l,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l$3,y=this.constructor._$Eh(t,h);if(y!==void 0&&h.reflect===!0){var O=((l=(o=h.converter)===null||o===void 0?void 0:o.toAttribute)!==null&&l!==void 0?l:o$4.toAttribute)(e,h.type);this._$Ei=t,O==null?this.removeAttribute(y):this.setAttribute(y,O),this._$Ei=null}}_$AK(t,e){var o,l,h,y=this.constructor,O=y._$Eu.get(t);if(O!==void 0&&this._$Ei!==O){var D=y.getPropertyOptions(O),R=D.converter,F=(h=(l=(o=R)===null||o===void 0?void 0:o.fromAttribute)!==null&&l!==void 0?l:typeof R=="function"?R:null)!==null&&h!==void 0?h:o$4.fromAttribute;this._$Ei=O,this[O]=F(e,D.type),this._$Ei=null}}requestUpdate(t,e,o){var l=!0;t!==void 0&&(((o=o||this.constructor.getPropertyOptions(t)).hasChanged||n$4)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),o.reflect===!0&&this._$Ei!==t&&(this._$E_===void 0&&(this._$E_=new Map),this._$E_.set(t,o))):l=!1),!this.isUpdatePending&&l&&(this._$Ep=this._$EC())}_$EC(){var t=this;return _asyncToGenerator(function*(){t.isUpdatePending=!0;try{yield t._$Ep}catch(o){Promise.reject(o)}var e=t.scheduleUpdate();return e!=null&&(yield e),!t.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((l,h)=>this[h]=l),this._$Et=void 0);var e=!1,o=this._$AL;try{(e=this.shouldUpdate(o))?(this.willUpdate(o),(t=this._$Eg)===null||t===void 0||t.forEach(l=>{var h;return(h=l.hostUpdate)===null||h===void 0?void 0:h.call(l)}),this.update(o)):this._$EU()}catch(l){throw e=!1,this._$EU(),l}e&&this._$AE(o)}}willUpdate(t){}_$AE(t){var e;(e=this._$Eg)===null||e===void 0||e.forEach(o=>{var l;return(l=o.hostUpdated)===null||l===void 0?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){this._$E_!==void 0&&(this._$E_.forEach((e,o)=>this._$ES(o,this[o],e)),this._$E_=void 0),this._$EU()}updated(t){}firstUpdated(t){}}a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},h$2==null||h$2({ReactiveElement:a$1}),((s$2=globalThis.reactiveElementVersions)!==null&&s$2!==void 0?s$2:globalThis.reactiveElementVersions=[]).push("1.2.1");var i$2=globalThis.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:r=>r}):void 0,e$6="lit$".concat((Math.random()+"").slice(9),"$"),o$3="?"+e$6,n$3="<".concat(o$3,">"),l$2=document,h$1=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return l$2.createComment(r)},r$1=r=>r===null||typeof r!="object"&&typeof r!="function",d=Array.isArray,u=r=>{var t;return d(r)||typeof((t=r)===null||t===void 0?void 0:t[Symbol.iterator])=="function"},c$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea)$/i,p=r=>function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),l=1;l<e;l++)o[l-1]=arguments[l];return{_$litType$:r,strings:t,values:o}},$$K=p(1),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=(r,t,e)=>{var o,l,h=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:t,y=h._$litPart$;if(y===void 0){var O=(l=e==null?void 0:e.renderBefore)!==null&&l!==void 0?l:null;h._$litPart$=y=new N(t.insertBefore(h$1(),O),O,void 0,e!=null?e:{})}return y._$AI(r),y},A=l$2.createTreeWalker(l$2,129,null,!1),C=(r,t)=>{for(var e,o=r.length-1,l=[],h=t===2?"<svg>":"",y=c$1,O=0;O<o;O++){for(var D=r[O],R=void 0,F=void 0,j=-1,B=0;B<D.length&&(y.lastIndex=B,(F=y.exec(D))!==null);)B=y.lastIndex,y===c$1?F[1]==="!--"?y=v:F[1]!==void 0?y=a:F[2]!==void 0?(g.test(F[2])&&(e=RegExp("</"+F[2],"g")),y=f):F[3]!==void 0&&(y=f):y===f?F[0]===">"?(y=e!=null?e:c$1,j=-1):F[1]===void 0?j=-2:(j=y.lastIndex-F[2].length,R=F[1],y=F[3]===void 0?f:F[3]==='"'?m:_):y===m||y===_?y=f:y===v||y===a?y=c$1:(y=f,e=void 0);var U=y===f&&r[O+1].startsWith("/>")?" ":"";h+=y===c$1?D+n$3:j>=0?(l.push(R),D.slice(0,j)+"$lit$"+D.slice(j)+e$6+U):D+e$6+(j===-2?(l.push(void 0),O):U)}var W=h+(r[o]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return[s$1!==void 0?s$1.createHTML(W):W,l]};class E{constructor(t,e){var o,{strings:l,_$litType$:h}=t;this.parts=[];var y=0,O=0,D=l.length-1,R=this.parts,[F,j]=C(l,h);if(this.el=E.createElement(F,e),A.currentNode=this.el.content,h===2){var B=this.el.content,U=B.firstChild;U.remove(),B.append(...U.childNodes)}for(;(o=A.nextNode())!==null&&R.length<D;){if(o.nodeType===1){if(o.hasAttributes()){var W=[];for(var q of o.getAttributeNames())if(q.endsWith("$lit$")||q.startsWith(e$6)){var K=j[O++];if(W.push(q),K!==void 0){var Y=o.getAttribute(K.toLowerCase()+"$lit$").split(e$6),X=/([.?@])?(.*)/.exec(K);R.push({type:1,index:y,name:X[2],strings:Y,ctor:X[1]==="."?M:X[1]==="?"?H:X[1]==="@"?I:S})}else R.push({type:6,index:y})}for(var J of W)o.removeAttribute(J)}if(g.test(o.tagName)){var Q=o.textContent.split(e$6),Z=Q.length-1;if(Z>0){o.textContent=i$2?i$2.emptyScript:"";for(var ee=0;ee<Z;ee++)o.append(Q[ee],h$1()),A.nextNode(),R.push({type:2,index:++y});o.append(Q[Z],h$1())}}}else if(o.nodeType===8)if(o.data===o$3)R.push({type:2,index:y});else for(var re=-1;(re=o.data.indexOf(e$6,re+1))!==-1;)R.push({type:7,index:y}),re+=e$6.length-1;y++}}static createElement(t,e){var o=l$2.createElement("template");return o.innerHTML=t,o}}function P(r,t){var e,o,l,h,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r,O=arguments.length>3?arguments[3]:void 0;if(t===b)return t;var D=O!==void 0?(e=y._$Cl)===null||e===void 0?void 0:e[O]:y._$Cu,R=r$1(t)?void 0:t._$litDirective$;return(D==null?void 0:D.constructor)!==R&&((o=D==null?void 0:D._$AO)===null||o===void 0||o.call(D,!1),R===void 0?D=void 0:(D=new R(r))._$AT(r,y,O),O!==void 0?((l=(h=y)._$Cl)!==null&&l!==void 0?l:h._$Cl=[])[O]=D:y._$Cu=D),D!==void 0&&(t=P(r,D._$AS(r,t.values),D,O)),t}class V{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e,{el:{content:o},parts:l}=this._$AD,h=((e=t==null?void 0:t.creationScope)!==null&&e!==void 0?e:l$2).importNode(o,!0);A.currentNode=h;for(var y=A.nextNode(),O=0,D=0,R=l[0];R!==void 0;){if(O===R.index){var F=void 0;R.type===2?F=new N(y,y.nextSibling,this,t):R.type===1?F=new R.ctor(y,R.name,R.strings,this,t):R.type===6&&(F=new L(y,this,t)),this.v.push(F),R=l[++D]}O!==(R==null?void 0:R.index)&&(y=A.nextNode(),O++)}return h}m(t){var e=0;for(var o of this.v)o!==void 0&&(o.strings!==void 0?(o._$AI(t,o,e),e+=o.strings.length-2):o._$AI(t[e])),e++}}class N{constructor(t,e,o,l){var h;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=o,this.options=l,this._$Cg=(h=l==null?void 0:l.isConnected)===null||h===void 0||h}get _$AU(){var t,e;return(e=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&e!==void 0?e:this._$Cg}get parentNode(){var t=this._$AA.parentNode,e=this._$AM;return e!==void 0&&t.nodeType===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t){t=P(this,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),r$1(t)?t===w||t==null||t===""?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):t._$litType$!==void 0?this.T(t):t.nodeType!==void 0?this.S(t):u(t)?this.A(t):this.$(t)}M(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,e)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==w&&r$1(this._$AH)?this._$AA.nextSibling.data=t:this.S(l$2.createTextNode(t)),this._$AH=t}T(t){var e,{values:o,_$litType$:l}=t,h=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=E.createElement(l.h,this.options)),l);if(((e=this._$AH)===null||e===void 0?void 0:e._$AD)===h)this._$AH.m(o);else{var y=new V(h,this),O=y.p(this.options);y.m(o),this.S(O),this._$AH=y}}_$AC(t){var e=T.get(t.strings);return e===void 0&&T.set(t.strings,e=new E(t)),e}A(t){d(this._$AH)||(this._$AH=[],this._$AR());var e,o=this._$AH,l=0;for(var h of t)l===o.length?o.push(e=new N(this.M(h$1()),this.M(h$1()),this,this.options)):e=o[l],e._$AI(h),l++;l<o.length&&(this._$AR(e&&e._$AB.nextSibling,l),o.length=l)}_$AR(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0;for((t=this._$AP)===null||t===void 0||t.call(this,!1,!0,o);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}setConnected(t){var e;this._$AM===void 0&&(this._$Cg=t,(e=this._$AP)===null||e===void 0||e.call(this,t))}}class S{constructor(t,e,o,l,h){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=e,this._$AM=l,this.options=h,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,h=this.strings,y=!1;if(h===void 0)t=P(this,t,e,0),(y=!r$1(t)||t!==this._$AH&&t!==b)&&(this._$AH=t);else{var O,D,R=t;for(t=h[0],O=0;O<h.length-1;O++)(D=P(this,R[o+O],e,O))===b&&(D=this._$AH[O]),y||(y=!r$1(D)||D!==this._$AH[O]),D===w?t=w:t!==w&&(t+=(D!=null?D:"")+h[O+1]),this._$AH[O]=D}y&&!l&&this.k(t)}k(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}class M extends S{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===w?void 0:t}}var k=i$2?i$2.emptyScript:"";class H extends S{constructor(){super(...arguments),this.type=4}k(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(t,e,o,l,h){super(t,e,o,l,h),this.type=5}_$AI(t){var e;if((t=(e=P(this,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&e!==void 0?e:w)!==b){var o=this._$AH,l=t===w&&o!==w||t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive,h=t!==w&&(o===w||l);l&&this.element.removeEventListener(this.name,this,o),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}}handleEvent(t){var e,o;typeof this._$AH=="function"?this._$AH.call((o=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&o!==void 0?o:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,e,o){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}var z=window.litHtmlPolyfillSupport,l$1,o$2;z==null||z(E,N),((t$2=globalThis.litHtmlVersions)!==null&&t$2!==void 0?t$2:globalThis.litHtmlVersions=[]).push("2.1.2");class s extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e,o=super.createRenderRoot();return(t=(e=this.renderOptions).renderBefore)!==null&&t!==void 0||(e.renderBefore=o.firstChild),o}update(t){var e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=x(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Dt)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Dt)===null||t===void 0||t.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,(l$1=globalThis.litElementHydrateSupport)===null||l$1===void 0||l$1.call(globalThis,{LitElement:s});var n$2=globalThis.litElementPolyfillSupport;n$2==null||n$2({LitElement:s});((o$2=globalThis.litElementVersions)!==null&&o$2!==void 0?o$2:globalThis.litElementVersions=[]).push("3.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n$1=r=>t=>typeof t=="function"?((e,o)=>(window.customElements.define(e,o),o))(r,t):((e,o)=>{var{kind:l,elements:h}=o;return{kind:l,elements:h,finisher(y){window.customElements.define(e,y)}}})(r,t),i$1$1=(r,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?_objectSpread2(_objectSpread2({},t),{},{finisher(e){e.createProperty(t.key,r)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(e){e.createProperty(t.key,r)}};function e$5(r){return(t,e)=>e!==void 0?((o,l,h)=>{l.constructor.createProperty(h,o)})(r,t,e):i$1$1(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$1=r=>{var{finisher:t,descriptor:e}=r;return(o,l)=>{var h;if(l===void 0){var y=(h=o.originalKey)!==null&&h!==void 0?h:o.key,O=e!=null?{kind:"method",placement:"prototype",key:y,descriptor:e(o.key)}:_objectSpread2(_objectSpread2({},o),{},{key:y});return t!=null&&(O.finisher=function(R){t(R,y)}),O}var D=o.constructor;e!==void 0&&Object.defineProperty(o,l,e(l)),t==null||t(D,l)}},n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function i$4(r,t){return o$1({descriptor:e=>{var o={get(){var h,y;return(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(r))!==null&&y!==void 0?y:null},enumerable:!0,configurable:!0};if(t){var l=typeof e=="symbol"?Symbol():"__"+e;o.get=function(){var h,y;return this[l]===void 0&&(this[l]=(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(r))!==null&&y!==void 0?y:null),this[l]}}return o}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */((n=window.HTMLSlotElement)===null||n===void 0?void 0:n.prototype.assignedElements)!=null;var lottie$1={exports:{}};(function(module){var root,factory;typeof navigator!="undefined"&&(root=window||{},factory=function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}(function(){var r,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e=t.length;for(r=0;r<e;r+=1)BMMath[t[r]]=Math[t[r]]})(),BMMath.random=Math.random,BMMath.abs=function(r){if(typeof r=="object"&&r.length){var t,e=createSizedArray(r.length),o=r.length;for(t=0;t<o;t+=1)e[t]=Math.abs(r[t]);return e}return Math.abs(r)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(r){r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.display="block",r.style.transformOrigin="0 0",r.style.webkitTransformOrigin="0 0",r.style.backfaceVisibility="visible",r.style.webkitBackfaceVisibility="visible",r.style.transformStyle="preserve-3d",r.style.webkitTransformStyle="preserve-3d",r.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(r,t,e,o){this.type=r,this.currentTime=t,this.totalTime=e,this.direction=o<0?-1:1}function BMCompleteEvent(r,t){this.type=r,this.direction=t<0?-1:1}function BMCompleteLoopEvent(r,t,e,o){this.type=r,this.currentLoop=e,this.totalLoops=t,this.direction=o<0?-1:1}function BMSegmentStartEvent(r,t,e){this.type=r,this.firstFrame=t,this.totalFrames=e}function BMDestroyEvent(r,t){this.type=r,this.target=t}function BMRenderFrameErrorEvent(r,t){this.type="renderFrameError",this.nativeError=r,this.currentTime=t}function BMConfigErrorEvent(r){this.type="configError",this.nativeError=r}var createElementID=(_count=0,function(){return idPrefix+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(r,t,e){var o,l,h,y,O,D,R,F;switch(D=e*(1-t),R=e*(1-(O=6*r-(y=Math.floor(6*r)))*t),F=e*(1-(1-O)*t),y%6){case 0:o=e,l=F,h=D;break;case 1:o=R,l=e,h=D;break;case 2:o=D,l=e,h=F;break;case 3:o=D,l=R,h=e;break;case 4:o=F,l=D,h=e;break;case 5:o=e,l=D,h=R}return[o,l,h]}function RGBtoHSV(r,t,e){var o,l=Math.max(r,t,e),h=Math.min(r,t,e),y=l-h,O=l===0?0:y/l,D=l/255;switch(l){case h:o=0;break;case r:o=t-e+y*(t<e?6:0),o/=6*y;break;case t:o=e-r+2*y,o/=6*y;break;case e:o=r-t+4*y,o/=6*y}return[o,O,D]}function addSaturationToRGB(r,t){var e=RGBtoHSV(255*r[0],255*r[1],255*r[2]);return e[1]+=t,e[1]>1?e[1]=1:e[1]<=0&&(e[1]=0),HSVtoRGB(e[0],e[1],e[2])}function addBrightnessToRGB(r,t){var e=RGBtoHSV(255*r[0],255*r[1],255*r[2]);return e[2]+=t,e[2]>1?e[2]=1:e[2]<0&&(e[2]=0),HSVtoRGB(e[0],e[1],e[2])}function addHueToRGB(r,t){var e=RGBtoHSV(255*r[0],255*r[1],255*r[2]);return e[0]+=t/360,e[0]>1?e[0]-=1:e[0]<0&&(e[0]+=1),HSVtoRGB(e[0],e[1],e[2])}var rgbToHex=function(){var r,t,e=[];for(r=0;r<256;r+=1)t=r.toString(16),e[r]=t.length===1?"0"+t:t;return function(o,l,h){return o<0&&(o=0),l<0&&(l=0),h<0&&(h=0),"#"+e[o]+e[l]+e[h]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(r,t){if(this._cbs[r])for(var e=this._cbs[r],o=0;o<e.length;o+=1)e[o](t)},addEventListener:function(r,t){return this._cbs[r]||(this._cbs[r]=[]),this._cbs[r].push(t),function(){this.removeEventListener(r,t)}.bind(this)},removeEventListener:function(r,t){if(t){if(this._cbs[r]){for(var e=0,o=this._cbs[r].length;e<o;)this._cbs[r][e]===t&&(this._cbs[r].splice(e,1),e-=1,o-=1),e+=1;this._cbs[r].length||(this._cbs[r]=null)}}else this._cbs[r]=null}};var createTypedArray=function(){function r(t,e){var o,l=0,h=[];switch(t){case"int16":case"uint8c":o=1;break;default:o=1.1}for(l=0;l<e;l+=1)h.push(o);return h}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(t,e){return t==="float32"?new Float32Array(e):t==="int16"?new Int16Array(e):t==="uint8c"?new Uint8ClampedArray(e):r(t,e)}:r}();function createSizedArray(r){return Array.apply(null,{length:r})}function createNS(r){return document.createElementNS(svgNS,r)}function createTag(r){return document.createElement(r)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&(this.dynamicProperties.push(r),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var r;this._mdf=!1;var t=this.dynamicProperties.length;for(r=0;r<t;r+=1)this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(r){this.container=r,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(r){return blendModeEnums[r]||""}),blendModeEnums,lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"},Matrix=function(){var r=Math.cos,t=Math.sin,e=Math.tan,o=Math.round;function l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function h(he){if(he===0)return this;var se=r(he),le=t(he);return this._t(se,-le,0,0,le,se,0,0,0,0,1,0,0,0,0,1)}function y(he){if(he===0)return this;var se=r(he),le=t(he);return this._t(1,0,0,0,0,se,-le,0,0,le,se,0,0,0,0,1)}function O(he){if(he===0)return this;var se=r(he),le=t(he);return this._t(se,0,le,0,0,1,0,0,-le,0,se,0,0,0,0,1)}function D(he){if(he===0)return this;var se=r(he),le=t(he);return this._t(se,-le,0,0,le,se,0,0,0,0,1,0,0,0,0,1)}function R(he,se){return this._t(1,se,he,1,0,0)}function F(he,se){return this.shear(e(he),e(se))}function j(he,se){var le=r(se),fe=t(se);return this._t(le,fe,0,0,-fe,le,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,e(he),1,0,0,0,0,1,0,0,0,0,1)._t(le,-fe,0,0,fe,le,0,0,0,0,1,0,0,0,0,1)}function B(he,se,le){return le||le===0||(le=1),he===1&&se===1&&le===1?this:this._t(he,0,0,0,0,se,0,0,0,0,le,0,0,0,0,1)}function U(he,se,le,fe,ge,ye,we,$e,_e,Se,Te,be,Oe,xe,Ee,Ce){return this.props[0]=he,this.props[1]=se,this.props[2]=le,this.props[3]=fe,this.props[4]=ge,this.props[5]=ye,this.props[6]=we,this.props[7]=$e,this.props[8]=_e,this.props[9]=Se,this.props[10]=Te,this.props[11]=be,this.props[12]=Oe,this.props[13]=xe,this.props[14]=Ee,this.props[15]=Ce,this}function W(he,se,le){return le=le||0,he!==0||se!==0||le!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,he,se,le,1):this}function q(he,se,le,fe,ge,ye,we,$e,_e,Se,Te,be,Oe,xe,Ee,Ce){var ve=this.props;if(he===1&&se===0&&le===0&&fe===0&&ge===0&&ye===1&&we===0&&$e===0&&_e===0&&Se===0&&Te===1&&be===0)return ve[12]=ve[12]*he+ve[15]*Oe,ve[13]=ve[13]*ye+ve[15]*xe,ve[14]=ve[14]*Te+ve[15]*Ee,ve[15]*=Ce,this._identityCalculated=!1,this;var Pe=ve[0],Me=ve[1],Ne=ve[2],Be=ve[3],Fe=ve[4],Re=ve[5],ke=ve[6],Le=ve[7],De=ve[8],Ie=ve[9],Ve=ve[10],Ue=ve[11],ze=ve[12],Ae=ve[13],He=ve[14],Ke=ve[15];return ve[0]=Pe*he+Me*ge+Ne*_e+Be*Oe,ve[1]=Pe*se+Me*ye+Ne*Se+Be*xe,ve[2]=Pe*le+Me*we+Ne*Te+Be*Ee,ve[3]=Pe*fe+Me*$e+Ne*be+Be*Ce,ve[4]=Fe*he+Re*ge+ke*_e+Le*Oe,ve[5]=Fe*se+Re*ye+ke*Se+Le*xe,ve[6]=Fe*le+Re*we+ke*Te+Le*Ee,ve[7]=Fe*fe+Re*$e+ke*be+Le*Ce,ve[8]=De*he+Ie*ge+Ve*_e+Ue*Oe,ve[9]=De*se+Ie*ye+Ve*Se+Ue*xe,ve[10]=De*le+Ie*we+Ve*Te+Ue*Ee,ve[11]=De*fe+Ie*$e+Ve*be+Ue*Ce,ve[12]=ze*he+Ae*ge+He*_e+Ke*Oe,ve[13]=ze*se+Ae*ye+He*Se+Ke*xe,ve[14]=ze*le+Ae*we+He*Te+Ke*Ee,ve[15]=ze*fe+Ae*$e+He*be+Ke*Ce,this._identityCalculated=!1,this}function K(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Y(he){for(var se=0;se<16;){if(he.props[se]!==this.props[se])return!1;se+=1}return!0}function X(he){var se;for(se=0;se<16;se+=1)he.props[se]=this.props[se];return he}function J(he){var se;for(se=0;se<16;se+=1)this.props[se]=he[se]}function Q(he,se,le){return{x:he*this.props[0]+se*this.props[4]+le*this.props[8]+this.props[12],y:he*this.props[1]+se*this.props[5]+le*this.props[9]+this.props[13],z:he*this.props[2]+se*this.props[6]+le*this.props[10]+this.props[14]}}function Z(he,se,le){return he*this.props[0]+se*this.props[4]+le*this.props[8]+this.props[12]}function ee(he,se,le){return he*this.props[1]+se*this.props[5]+le*this.props[9]+this.props[13]}function re(he,se,le){return he*this.props[2]+se*this.props[6]+le*this.props[10]+this.props[14]}function te(){var he=this.props[0]*this.props[5]-this.props[1]*this.props[4],se=this.props[5]/he,le=-this.props[1]/he,fe=-this.props[4]/he,ge=this.props[0]/he,ye=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/he,we=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/he,$e=new Matrix;return $e.props[0]=se,$e.props[1]=le,$e.props[4]=fe,$e.props[5]=ge,$e.props[12]=ye,$e.props[13]=we,$e}function ne(he){return this.getInverseMatrix().applyToPointArray(he[0],he[1],he[2]||0)}function ae(he){var se,le=he.length,fe=[];for(se=0;se<le;se+=1)fe[se]=ne(he[se]);return fe}function ie(he,se,le){var fe=createTypedArray("float32",6);if(this.isIdentity())fe[0]=he[0],fe[1]=he[1],fe[2]=se[0],fe[3]=se[1],fe[4]=le[0],fe[5]=le[1];else{var ge=this.props[0],ye=this.props[1],we=this.props[4],$e=this.props[5],_e=this.props[12],Se=this.props[13];fe[0]=he[0]*ge+he[1]*we+_e,fe[1]=he[0]*ye+he[1]*$e+Se,fe[2]=se[0]*ge+se[1]*we+_e,fe[3]=se[0]*ye+se[1]*$e+Se,fe[4]=le[0]*ge+le[1]*we+_e,fe[5]=le[0]*ye+le[1]*$e+Se}return fe}function oe(he,se,le){return this.isIdentity()?[he,se,le]:[he*this.props[0]+se*this.props[4]+le*this.props[8]+this.props[12],he*this.props[1]+se*this.props[5]+le*this.props[9]+this.props[13],he*this.props[2]+se*this.props[6]+le*this.props[10]+this.props[14]]}function ce(he,se){if(this.isIdentity())return he+","+se;var le=this.props;return Math.round(100*(he*le[0]+se*le[4]+le[12]))/100+","+Math.round(100*(he*le[1]+se*le[5]+le[13]))/100}function ue(){for(var he=0,se=this.props,le="matrix3d(";he<16;)le+=o(1e4*se[he])/1e4,le+=he===15?")":",",he+=1;return le}function pe(he){return he<1e-6&&he>0||he>-1e-6&&he<0?o(1e4*he)/1e4:he}function me(){var he=this.props;return"matrix("+pe(he[0])+","+pe(he[1])+","+pe(he[4])+","+pe(he[5])+","+pe(he[12])+","+pe(he[13])+")"}return function(){this.reset=l,this.rotate=h,this.rotateX=y,this.rotateY=O,this.rotateZ=D,this.skew=F,this.skewFromAxis=j,this.shear=R,this.scale=B,this.setTransform=U,this.translate=W,this.transform=q,this.applyToPoint=Q,this.applyToX=Z,this.applyToY=ee,this.applyToZ=re,this.applyToPointArray=oe,this.applyToTriplePoints=ie,this.applyToPointStringified=ce,this.toCSS=ue,this.to2dCSS=me,this.clone=X,this.cloneFromProps=J,this.equals=Y,this.inversePoints=ae,this.inversePoint=ne,this.getInverseMatrix=te,this._t=this.transform,this.isIdentity=K,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();(function(r,t){var e=this,o=256,l=t.pow(o,6),h=t.pow(2,52),y=2*h,O=255;function D(U){var W,q=U.length,K=this,Y=0,X=K.i=K.j=0,J=K.S=[];for(q||(U=[q++]);Y<o;)J[Y]=Y++;for(Y=0;Y<o;Y++)J[Y]=J[X=O&X+U[Y%q]+(W=J[Y])],J[X]=W;K.g=function(Q){for(var Z,ee=0,re=K.i,te=K.j,ne=K.S;Q--;)Z=ne[re=O&re+1],ee=ee*o+ne[O&(ne[re]=ne[te=O&te+Z])+(ne[te]=Z)];return K.i=re,K.j=te,ee}}function R(U,W){return W.i=U.i,W.j=U.j,W.S=U.S.slice(),W}function F(U,W){var q,K=[],Y=typeof U;if(W&&Y=="object")for(q in U)try{K.push(F(U[q],W-1))}catch{}return K.length?K:Y=="string"?U:U+"\0"}function j(U,W){for(var q,K=U+"",Y=0;Y<K.length;)W[O&Y]=O&(q^=19*W[O&Y])+K.charCodeAt(Y++);return B(W)}function B(U){return String.fromCharCode.apply(0,U)}t.seedrandom=function(U,W,q){var K=[],Y=j(F((W=W===!0?{entropy:!0}:W||{}).entropy?[U,B(r)]:U===null?function(){try{var Q=new Uint8Array(o);return(e.crypto||e.msCrypto).getRandomValues(Q),B(Q)}catch{var Z=e.navigator,ee=Z&&Z.plugins;return[+new Date,e,ee,e.screen,B(r)]}}():U,3),K),X=new D(K),J=function(){for(var Q=X.g(6),Z=l,ee=0;Q<h;)Q=(Q+ee)*o,Z*=o,ee=X.g(1);for(;Q>=y;)Q/=2,Z/=2,ee>>>=1;return(Q+ee)/Z};return J.int32=function(){return 0|X.g(4)},J.quick=function(){return X.g(4)/4294967296},J.double=J,j(B(X.S),r),(W.pass||q||function(Q,Z,ee,re){return re&&(re.S&&R(re,X),Q.state=function(){return R(X,{})}),ee?(t.random=Q,Z):Q})(J,Y,"global"in W?W.global:this==t,W.state)},j(t.random(),r)})([],BMMath);var BezierFactory=function(){var r={getBezierEasing:function(F,j,B,U,W){var q=W||("bez_"+F+"_"+j+"_"+B+"_"+U).replace(/\./g,"p");if(t[q])return t[q];var K=new R([F,j,B,U]);return t[q]=K,K}},t={},e=.1,o=typeof Float32Array=="function";function l(F,j){return 1-3*j+3*F}function h(F,j){return 3*j-6*F}function y(F){return 3*F}function O(F,j,B){return((l(j,B)*F+h(j,B))*F+y(j))*F}function D(F,j,B){return 3*l(j,B)*F*F+2*h(j,B)*F+y(j)}function R(F){this._p=F,this._mSampleValues=o?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return R.prototype={get:function(F){var j=this._p[0],B=this._p[1],U=this._p[2],W=this._p[3];return this._precomputed||this._precompute(),j===B&&U===W?F:F===0?0:F===1?1:O(this._getTForX(F),B,W)},_precompute:function(){var F=this._p[0],j=this._p[1],B=this._p[2],U=this._p[3];this._precomputed=!0,F===j&&B===U||this._calcSampleValues()},_calcSampleValues:function(){for(var F=this._p[0],j=this._p[2],B=0;B<11;++B)this._mSampleValues[B]=O(B*e,F,j)},_getTForX:function(F){for(var j=this._p[0],B=this._p[2],U=this._mSampleValues,W=0,q=1;q!==10&&U[q]<=F;++q)W+=e;var K=W+(F-U[--q])/(U[q+1]-U[q])*e,Y=D(K,j,B);return Y>=.001?function(X,J,Q,Z){for(var ee=0;ee<4;++ee){var re=D(J,Q,Z);if(re===0)return J;J-=(O(J,Q,Z)-X)/re}return J}(F,K,j,B):Y===0?K:function(X,J,Q,Z,ee){var re,te,ne=0;do(re=O(te=J+(Q-J)/2,Z,ee)-X)>0?Q=te:J=te;while(Math.abs(re)>1e-7&&++ne<10);return te}(F,W,W+e,j,B)}},r}();function extendPrototype(r,t){var e,o,l=r.length;for(e=0;e<l;e+=1)for(var h in o=r[e].prototype)Object.prototype.hasOwnProperty.call(o,h)&&(t.prototype[h]=o[h])}function getDescriptor(r,t){return Object.getOwnPropertyDescriptor(r,t)}function createProxyFunction(r){function t(){}return t.prototype=r,t}function bezFunction(){var r=Math;function t(R,F,j,B,U,W){var q=R*B+F*U+j*W-U*B-W*R-j*F;return q>-.001&&q<.001}var e=function(R,F,j,B){var U,W,q,K,Y,X,J=defaultCurveSegments,Q=0,Z=[],ee=[],re=bezierLengthPool.newElement();for(q=j.length,U=0;U<J;U+=1){for(Y=U/(J-1),X=0,W=0;W<q;W+=1)K=bmPow(1-Y,3)*R[W]+3*bmPow(1-Y,2)*Y*j[W]+3*(1-Y)*bmPow(Y,2)*B[W]+bmPow(Y,3)*F[W],Z[W]=K,ee[W]!==null&&(X+=bmPow(Z[W]-ee[W],2)),ee[W]=Z[W];X&&(Q+=X=bmSqrt(X)),re.percents[U]=Y,re.lengths[U]=Q}return re.addedLength=Q,re};function o(R){this.segmentLength=0,this.points=new Array(R)}function l(R,F){this.partialLength=R,this.point=F}var h,y=(h={},function(R,F,j,B){var U=(R[0]+"_"+R[1]+"_"+F[0]+"_"+F[1]+"_"+j[0]+"_"+j[1]+"_"+B[0]+"_"+B[1]).replace(/\./g,"p");if(!h[U]){var W,q,K,Y,X,J,Q,Z=defaultCurveSegments,ee=0,re=null;R.length===2&&(R[0]!==F[0]||R[1]!==F[1])&&t(R[0],R[1],F[0],F[1],R[0]+j[0],R[1]+j[1])&&t(R[0],R[1],F[0],F[1],F[0]+B[0],F[1]+B[1])&&(Z=2);var te=new o(Z);for(K=j.length,W=0;W<Z;W+=1){for(Q=createSizedArray(K),X=W/(Z-1),J=0,q=0;q<K;q+=1)Y=bmPow(1-X,3)*R[q]+3*bmPow(1-X,2)*X*(R[q]+j[q])+3*(1-X)*bmPow(X,2)*(F[q]+B[q])+bmPow(X,3)*F[q],Q[q]=Y,re!==null&&(J+=bmPow(Q[q]-re[q],2));ee+=J=bmSqrt(J),te.points[W]=new l(J,Q),re=Q}te.segmentLength=ee,h[U]=te}return h[U]});function O(R,F){var j=F.percents,B=F.lengths,U=j.length,W=bmFloor((U-1)*R),q=R*F.addedLength,K=0;if(W===U-1||W===0||q===B[W])return j[W];for(var Y=B[W]>q?-1:1,X=!0;X;)if(B[W]<=q&&B[W+1]>q?(K=(q-B[W])/(B[W+1]-B[W]),X=!1):W+=Y,W<0||W>=U-1){if(W===U-1)return j[W];X=!1}return j[W]+(j[W+1]-j[W])*K}var D=createTypedArray("float32",8);return{getSegmentsLength:function(R){var F,j=segmentsLengthPool.newElement(),B=R.c,U=R.v,W=R.o,q=R.i,K=R._length,Y=j.lengths,X=0;for(F=0;F<K-1;F+=1)Y[F]=e(U[F],U[F+1],W[F],q[F+1]),X+=Y[F].addedLength;return B&&K&&(Y[F]=e(U[F],U[0],W[F],q[0]),X+=Y[F].addedLength),j.totalLength=X,j},getNewSegment:function(R,F,j,B,U,W,q){U<0?U=0:U>1&&(U=1);var K,Y=O(U,q),X=O(W=W>1?1:W,q),J=R.length,Q=1-Y,Z=1-X,ee=Q*Q*Q,re=Y*Q*Q*3,te=Y*Y*Q*3,ne=Y*Y*Y,ae=Q*Q*Z,ie=Y*Q*Z+Q*Y*Z+Q*Q*X,oe=Y*Y*Z+Q*Y*X+Y*Q*X,ce=Y*Y*X,ue=Q*Z*Z,pe=Y*Z*Z+Q*X*Z+Q*Z*X,me=Y*X*Z+Q*X*X+Y*Z*X,he=Y*X*X,se=Z*Z*Z,le=X*Z*Z+Z*X*Z+Z*Z*X,fe=X*X*Z+Z*X*X+X*Z*X,ge=X*X*X;for(K=0;K<J;K+=1)D[4*K]=r.round(1e3*(ee*R[K]+re*j[K]+te*B[K]+ne*F[K]))/1e3,D[4*K+1]=r.round(1e3*(ae*R[K]+ie*j[K]+oe*B[K]+ce*F[K]))/1e3,D[4*K+2]=r.round(1e3*(ue*R[K]+pe*j[K]+me*B[K]+he*F[K]))/1e3,D[4*K+3]=r.round(1e3*(se*R[K]+le*j[K]+fe*B[K]+ge*F[K]))/1e3;return D},getPointInSegment:function(R,F,j,B,U,W){var q=O(U,W),K=1-q;return[r.round(1e3*(K*K*K*R[0]+(q*K*K+K*q*K+K*K*q)*j[0]+(q*q*K+K*q*q+q*K*q)*B[0]+q*q*q*F[0]))/1e3,r.round(1e3*(K*K*K*R[1]+(q*K*K+K*q*K+K*K*q)*j[1]+(q*q*K+K*q*q+q*K*q)*B[1]+q*q*q*F[1]))/1e3]},buildBezierData:y,pointOnLine2D:t,pointOnLine3D:function(R,F,j,B,U,W,q,K,Y){if(j===0&&W===0&&Y===0)return t(R,F,B,U,q,K);var X,J=r.sqrt(r.pow(B-R,2)+r.pow(U-F,2)+r.pow(W-j,2)),Q=r.sqrt(r.pow(q-R,2)+r.pow(K-F,2)+r.pow(Y-j,2)),Z=r.sqrt(r.pow(q-B,2)+r.pow(K-U,2)+r.pow(Y-W,2));return(X=J>Q?J>Z?J-Q-Z:Z-Q-J:Z>Q?Z-Q-J:Q-J-Z)>-1e-4&&X<1e-4}}}(function(){for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(o){var l=new Date().getTime(),h=Math.max(0,16-(l-r)),y=setTimeout(function(){o(l+h)},h);return r=l+h,y}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)})})();var bez=bezFunction(),dataManager=function(){var r,t,e=1,o=[],l={onmessage:function(){},postMessage:function(D){r({data:D})}},h={postMessage:function(D){l.onmessage({data:D})}};function y(){t||(t=function(D){if(window.Worker&&window.Blob&&_useWebWorker){var R=new Blob(["var _workerSelf = self; self.onmessage = ",D.toString()],{type:"text/javascript"}),F=URL.createObjectURL(R);return new Worker(F)}return r=D,l}(function(D){if(h.dataManager||(h.dataManager=function(){function F(re,te){var ne,ae,ie,oe,ce,ue,pe=re.length;for(ae=0;ae<pe;ae+=1)if("ks"in(ne=re[ae])&&!ne.completed){if(ne.completed=!0,ne.tt&&(re[ae-1].td=ne.tt),ne.hasMask){var me=ne.masksProperties;for(oe=me.length,ie=0;ie<oe;ie+=1)if(me[ie].pt.k.i)U(me[ie].pt.k);else for(ue=me[ie].pt.k.length,ce=0;ce<ue;ce+=1)me[ie].pt.k[ce].s&&U(me[ie].pt.k[ce].s[0]),me[ie].pt.k[ce].e&&U(me[ie].pt.k[ce].e[0])}ne.ty===0?(ne.layers=j(ne.refId,te),F(ne.layers,te)):ne.ty===4?B(ne.shapes):ne.ty===5&&Z(ne)}}function j(re,te){for(var ne=0,ae=te.length;ne<ae;){if(te[ne].id===re)return te[ne].layers.__used?JSON.parse(JSON.stringify(te[ne].layers)):(te[ne].layers.__used=!0,te[ne].layers);ne+=1}return null}function B(re){var te,ne,ae;for(te=re.length-1;te>=0;te-=1)if(re[te].ty==="sh")if(re[te].ks.k.i)U(re[te].ks.k);else for(ae=re[te].ks.k.length,ne=0;ne<ae;ne+=1)re[te].ks.k[ne].s&&U(re[te].ks.k[ne].s[0]),re[te].ks.k[ne].e&&U(re[te].ks.k[ne].e[0]);else re[te].ty==="gr"&&B(re[te].it)}function U(re){var te,ne=re.i.length;for(te=0;te<ne;te+=1)re.i[te][0]+=re.v[te][0],re.i[te][1]+=re.v[te][1],re.o[te][0]+=re.v[te][0],re.o[te][1]+=re.v[te][1]}function W(re,te){var ne=te?te.split("."):[100,100,100];return re[0]>ne[0]||!(ne[0]>re[0])&&(re[1]>ne[1]||!(ne[1]>re[1])&&(re[2]>ne[2]||!(ne[2]>re[2])&&null))}var q,K=function(){var re=[4,4,14];function te(ne){var ae,ie,oe,ce=ne.length;for(ae=0;ae<ce;ae+=1)ne[ae].ty===5&&(oe=void 0,oe=(ie=ne[ae]).t.d,ie.t.d={k:[{s:oe,t:0}]})}return function(ne){if(W(re,ne.v)&&(te(ne.layers),ne.assets)){var ae,ie=ne.assets.length;for(ae=0;ae<ie;ae+=1)ne.assets[ae].layers&&te(ne.assets[ae].layers)}}}(),Y=(q=[4,7,99],function(re){if(re.chars&&!W(q,re.v)){var te,ne,ae,ie,oe,ce=re.chars.length;for(te=0;te<ce;te+=1)if(re.chars[te].data&&re.chars[te].data.shapes)for(ae=(oe=re.chars[te].data.shapes[0].it).length,ne=0;ne<ae;ne+=1)(ie=oe[ne].ks.k).__converted||(U(oe[ne].ks.k),ie.__converted=!0)}}),X=function(){var re=[5,7,15];function te(ne){var ae,ie,oe=ne.length;for(ae=0;ae<oe;ae+=1)ne[ae].ty===5&&(ie=void 0,typeof(ie=ne[ae].t.p).a=="number"&&(ie.a={a:0,k:ie.a}),typeof ie.p=="number"&&(ie.p={a:0,k:ie.p}),typeof ie.r=="number"&&(ie.r={a:0,k:ie.r}))}return function(ne){if(W(re,ne.v)&&(te(ne.layers),ne.assets)){var ae,ie=ne.assets.length;for(ae=0;ae<ie;ae+=1)ne.assets[ae].layers&&te(ne.assets[ae].layers)}}}(),J=function(){var re=[4,1,9];function te(ae){var ie,oe,ce,ue=ae.length;for(ie=0;ie<ue;ie+=1)if(ae[ie].ty==="gr")te(ae[ie].it);else if(ae[ie].ty==="fl"||ae[ie].ty==="st")if(ae[ie].c.k&&ae[ie].c.k[0].i)for(ce=ae[ie].c.k.length,oe=0;oe<ce;oe+=1)ae[ie].c.k[oe].s&&(ae[ie].c.k[oe].s[0]/=255,ae[ie].c.k[oe].s[1]/=255,ae[ie].c.k[oe].s[2]/=255,ae[ie].c.k[oe].s[3]/=255),ae[ie].c.k[oe].e&&(ae[ie].c.k[oe].e[0]/=255,ae[ie].c.k[oe].e[1]/=255,ae[ie].c.k[oe].e[2]/=255,ae[ie].c.k[oe].e[3]/=255);else ae[ie].c.k[0]/=255,ae[ie].c.k[1]/=255,ae[ie].c.k[2]/=255,ae[ie].c.k[3]/=255}function ne(ae){var ie,oe=ae.length;for(ie=0;ie<oe;ie+=1)ae[ie].ty===4&&te(ae[ie].shapes)}return function(ae){if(W(re,ae.v)&&(ne(ae.layers),ae.assets)){var ie,oe=ae.assets.length;for(ie=0;ie<oe;ie+=1)ae.assets[ie].layers&&ne(ae.assets[ie].layers)}}}(),Q=function(){var re=[4,4,18];function te(ae){var ie,oe,ce;for(ie=ae.length-1;ie>=0;ie-=1)if(ae[ie].ty==="sh")if(ae[ie].ks.k.i)ae[ie].ks.k.c=ae[ie].closed;else for(ce=ae[ie].ks.k.length,oe=0;oe<ce;oe+=1)ae[ie].ks.k[oe].s&&(ae[ie].ks.k[oe].s[0].c=ae[ie].closed),ae[ie].ks.k[oe].e&&(ae[ie].ks.k[oe].e[0].c=ae[ie].closed);else ae[ie].ty==="gr"&&te(ae[ie].it)}function ne(ae){var ie,oe,ce,ue,pe,me,he=ae.length;for(oe=0;oe<he;oe+=1){if((ie=ae[oe]).hasMask){var se=ie.masksProperties;for(ue=se.length,ce=0;ce<ue;ce+=1)if(se[ce].pt.k.i)se[ce].pt.k.c=se[ce].cl;else for(me=se[ce].pt.k.length,pe=0;pe<me;pe+=1)se[ce].pt.k[pe].s&&(se[ce].pt.k[pe].s[0].c=se[ce].cl),se[ce].pt.k[pe].e&&(se[ce].pt.k[pe].e[0].c=se[ce].cl)}ie.ty===4&&te(ie.shapes)}}return function(ae){if(W(re,ae.v)&&(ne(ae.layers),ae.assets)){var ie,oe=ae.assets.length;for(ie=0;ie<oe;ie+=1)ae.assets[ie].layers&&ne(ae.assets[ie].layers)}}}();function Z(re){re.t.a.length!==0||"m"in re.t.p||(re.singleShape=!0)}var ee={completeData:function(re){re.__complete||(J(re),K(re),Y(re),X(re),Q(re),F(re.layers,re.assets),re.__complete=!0)}};return ee.checkColors=J,ee.checkChars=Y,ee.checkPathProperties=X,ee.checkShapes=Q,ee.completeLayers=F,ee}()),h.assetLoader||(h.assetLoader=function(){function F(j){var B=j.getResponseHeader("content-type");return B&&j.responseType==="json"&&B.indexOf("json")!==-1||j.response&&typeof j.response=="object"?j.response:j.response&&typeof j.response=="string"?JSON.parse(j.response):j.responseText?JSON.parse(j.responseText):null}return{load:function(j,B,U,W){var q,K=new XMLHttpRequest;try{K.responseType="json"}catch{}K.onreadystatechange=function(){if(K.readyState===4)if(K.status===200)q=F(K),U(q);else try{q=F(K),U(q)}catch(Y){W&&W(Y)}};try{K.open("GET",j,!0)}catch{K.open("GET",B+"/"+j,!0)}K.send()}}}()),D.data.type==="loadAnimation")h.assetLoader.load(D.data.path,D.data.fullPath,function(F){h.dataManager.completeData(F),h.postMessage({id:D.data.id,payload:F,status:"success"})},function(){h.postMessage({id:D.data.id,status:"error"})});else if(D.data.type==="complete"){var R=D.data.animation;h.dataManager.completeData(R),h.postMessage({id:D.data.id,payload:R,status:"success"})}else D.data.type==="loadData"&&h.assetLoader.load(D.data.path,D.data.fullPath,function(F){h.postMessage({id:D.data.id,payload:F,status:"success"})},function(){h.postMessage({id:D.data.id,status:"error"})})}),t.onmessage=function(D){var R=D.data,F=R.id,j=o[F];o[F]=null,R.status==="success"?j.onComplete(R.payload):j.onError&&j.onError()})}function O(D,R){var F="processId_"+(e+=1);return o[F]={onComplete:D,onError:R},F}return{loadAnimation:function(D,R,F){y();var j=O(R,F);t.postMessage({type:"loadAnimation",path:D,fullPath:window.location.origin+window.location.pathname,id:j})},loadData:function(D,R,F){y();var j=O(R,F);t.postMessage({type:"loadData",path:D,fullPath:window.location.origin+window.location.pathname,id:j})},completeAnimation:function(D,R,F){y();var j=O(R,F);t.postMessage({type:"complete",animation:D,id:j})}}}();function getFontProperties(r){for(var t=r.fStyle?r.fStyle.split(" "):[],e="normal",o="normal",l=t.length,h=0;h<l;h+=1)switch(t[h].toLowerCase()){case"italic":o="italic";break;case"bold":e="700";break;case"black":e="900";break;case"medium":e="500";break;case"regular":case"normal":e="400";break;case"light":case"thin":e="200"}return{style:o,weight:r.fWeight||e}}var FontManager=function(){var r={w:0,size:0,shapes:[]},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var e=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],o=[65039,8205];function l(D,R){var F=createTag("span");F.setAttribute("aria-hidden",!0),F.style.fontFamily=R;var j=createTag("span");j.innerText="giItT1WQy@!-/#",F.style.position="absolute",F.style.left="-10000px",F.style.top="-10000px",F.style.fontSize="300px",F.style.fontVariant="normal",F.style.fontStyle="normal",F.style.fontWeight="normal",F.style.letterSpacing="0",F.appendChild(j),document.body.appendChild(F);var B=j.offsetWidth;return j.style.fontFamily=function(U){var W,q=U.split(","),K=q.length,Y=[];for(W=0;W<K;W+=1)q[W]!=="sans-serif"&&q[W]!=="monospace"&&Y.push(q[W]);return Y.join(",")}(D)+", "+R,{node:j,w:B,parent:F}}function h(D,R){var F=createNS("text");F.style.fontSize="100px";var j=getFontProperties(R);return F.setAttribute("font-family",R.fFamily),F.setAttribute("font-style",j.style),F.setAttribute("font-weight",j.weight),F.textContent="1",R.fClass?(F.style.fontFamily="inherit",F.setAttribute("class",R.fClass)):F.style.fontFamily=R.fFamily,D.appendChild(F),createTag("canvas").getContext("2d").font=R.fWeight+" "+R.fStyle+" 100px "+R.fFamily,F}var y=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};y.isModifier=function(D,R){var F=D.toString(16)+R.toString(16);return e.indexOf(F)!==-1},y.isZeroWidthJoiner=function(D,R){return R?D===o[0]&&R===o[1]:D===o[1]},y.isCombinedCharacter=function(D){return t.indexOf(D)!==-1};var O={addChars:function(D){if(D){var R;this.chars||(this.chars=[]);var F,j,B=D.length,U=this.chars.length;for(R=0;R<B;R+=1){for(F=0,j=!1;F<U;)this.chars[F].style===D[R].style&&this.chars[F].fFamily===D[R].fFamily&&this.chars[F].ch===D[R].ch&&(j=!0),F+=1;j||(this.chars.push(D[R]),U+=1)}}},addFonts:function(D,R){if(D){if(this.chars)return this.isLoaded=!0,void(this.fonts=D.list);var F,j=D.list,B=j.length,U=B;for(F=0;F<B;F+=1){var W,q,K=!0;if(j[F].loaded=!1,j[F].monoCase=l(j[F].fFamily,"monospace"),j[F].sansCase=l(j[F].fFamily,"sans-serif"),j[F].fPath){if(j[F].fOrigin==="p"||j[F].origin===3){if((W=document.querySelectorAll('style[f-forigin="p"][f-family="'+j[F].fFamily+'"], style[f-origin="3"][f-family="'+j[F].fFamily+'"]')).length>0&&(K=!1),K){var Y=createTag("style");Y.setAttribute("f-forigin",j[F].fOrigin),Y.setAttribute("f-origin",j[F].origin),Y.setAttribute("f-family",j[F].fFamily),Y.type="text/css",Y.innerText="@font-face {font-family: "+j[F].fFamily+"; font-style: normal; src: url('"+j[F].fPath+"');}",R.appendChild(Y)}}else if(j[F].fOrigin==="g"||j[F].origin===1){for(W=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),q=0;q<W.length;q+=1)W[q].href.indexOf(j[F].fPath)!==-1&&(K=!1);if(K){var X=createTag("link");X.setAttribute("f-forigin",j[F].fOrigin),X.setAttribute("f-origin",j[F].origin),X.type="text/css",X.rel="stylesheet",X.href=j[F].fPath,document.body.appendChild(X)}}else if(j[F].fOrigin==="t"||j[F].origin===2){for(W=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),q=0;q<W.length;q+=1)j[F].fPath===W[q].src&&(K=!1);if(K){var J=createTag("link");J.setAttribute("f-forigin",j[F].fOrigin),J.setAttribute("f-origin",j[F].origin),J.setAttribute("rel","stylesheet"),J.setAttribute("href",j[F].fPath),R.appendChild(J)}}}else j[F].loaded=!0,U-=1;j[F].helper=h(R,j[F]),j[F].cache={},this.fonts.push(j[F])}U===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(D,R,F){for(var j=0,B=this.chars.length;j<B;){if(this.chars[j].ch===D&&this.chars[j].style===R&&this.chars[j].fFamily===F)return this.chars[j];j+=1}return(typeof D=="string"&&D.charCodeAt(0)!==13||!D)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",D,R,F)),r},getFontByName:function(D){for(var R=0,F=this.fonts.length;R<F;){if(this.fonts[R].fName===D)return this.fonts[R];R+=1}return this.fonts[0]},measureText:function(D,R,F){var j=this.getFontByName(R),B=D.charCodeAt(0);if(!j.cache[B+1]){var U=j.helper;if(D===" "){U.textContent="|"+D+"|";var W=U.getComputedTextLength();U.textContent="||";var q=U.getComputedTextLength();j.cache[B+1]=(W-q)/100}else U.textContent=D,j.cache[B+1]=U.getComputedTextLength()/100}return j.cache[B+1]*F},checkLoadedFonts:function(){var D,R,F,j=this.fonts.length,B=j;for(D=0;D<j;D+=1)this.fonts[D].loaded?B-=1:this.fonts[D].fOrigin==="n"||this.fonts[D].origin===0?this.fonts[D].loaded=!0:(R=this.fonts[D].monoCase.node,F=this.fonts[D].monoCase.w,R.offsetWidth!==F?(B-=1,this.fonts[D].loaded=!0):(R=this.fonts[D].sansCase.node,F=this.fonts[D].sansCase.w,R.offsetWidth!==F&&(B-=1,this.fonts[D].loaded=!0)),this.fonts[D].loaded&&(this.fonts[D].sansCase.parent.parentNode.removeChild(this.fonts[D].sansCase.parent),this.fonts[D].monoCase.parent.parentNode.removeChild(this.fonts[D].monoCase.parent)));B!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return y.prototype=O,y}(),PropertyFactory=function(){var r=initialDefaultFrame,t=Math.abs;function e(U,W){var q,K=this.offsetTime;this.propType==="multidimensional"&&(q=createTypedArray("float32",this.pv.length));for(var Y,X,J,Q,Z,ee,re,te,ne,ae=W.lastIndex,ie=ae,oe=this.keyframes.length-1,ce=!0;ce;){if(Y=this.keyframes[ie],X=this.keyframes[ie+1],ie===oe-1&&U>=X.t-K){Y.h&&(Y=X),ae=0;break}if(X.t-K>U){ae=ie;break}ie<oe-1?ie+=1:(ae=0,ce=!1)}J=this.keyframesMetadata[ie]||{};var ue,pe,me,he,se,le,fe,ge,ye,we,$e=X.t-K,_e=Y.t-K;if(Y.to){J.bezierData||(J.bezierData=bez.buildBezierData(Y.s,X.s||Y.e,Y.to,Y.ti));var Se=J.bezierData;if(U>=$e||U<_e){var Te=U>=$e?Se.points.length-1:0;for(Z=Se.points[Te].point.length,Q=0;Q<Z;Q+=1)q[Q]=Se.points[Te].point[Q]}else{J.__fnct?ne=J.__fnct:(ne=BezierFactory.getBezierEasing(Y.o.x,Y.o.y,Y.i.x,Y.i.y,Y.n).get,J.__fnct=ne),ee=ne((U-_e)/($e-_e));var be,Oe=Se.segmentLength*ee,xe=W.lastFrame<U&&W._lastKeyframeIndex===ie?W._lastAddedLength:0;for(te=W.lastFrame<U&&W._lastKeyframeIndex===ie?W._lastPoint:0,ce=!0,re=Se.points.length;ce;){if(xe+=Se.points[te].partialLength,Oe===0||ee===0||te===Se.points.length-1){for(Z=Se.points[te].point.length,Q=0;Q<Z;Q+=1)q[Q]=Se.points[te].point[Q];break}if(Oe>=xe&&Oe<xe+Se.points[te+1].partialLength){for(be=(Oe-xe)/Se.points[te+1].partialLength,Z=Se.points[te].point.length,Q=0;Q<Z;Q+=1)q[Q]=Se.points[te].point[Q]+(Se.points[te+1].point[Q]-Se.points[te].point[Q])*be;break}te<re-1?te+=1:ce=!1}W._lastPoint=te,W._lastAddedLength=xe-Se.points[te].partialLength,W._lastKeyframeIndex=ie}}else{var Ee,Ce,ve,Pe,Me;if(oe=Y.s.length,ue=X.s||Y.e,this.sh&&Y.h!==1)if(U>=$e)q[0]=ue[0],q[1]=ue[1],q[2]=ue[2];else if(U<=_e)q[0]=Y.s[0],q[1]=Y.s[1],q[2]=Y.s[2];else{var Ne=o(Y.s),Be=o(ue);pe=q,me=function(Fe,Re,ke){var Le,De,Ie,Ve,Ue,ze=[],Ae=Fe[0],He=Fe[1],Ke=Fe[2],je=Fe[3],Xe=Re[0],tt=Re[1],Ge=Re[2],We=Re[3];return(De=Ae*Xe+He*tt+Ke*Ge+je*We)<0&&(De=-De,Xe=-Xe,tt=-tt,Ge=-Ge,We=-We),1-De>1e-6?(Le=Math.acos(De),Ie=Math.sin(Le),Ve=Math.sin((1-ke)*Le)/Ie,Ue=Math.sin(ke*Le)/Ie):(Ve=1-ke,Ue=ke),ze[0]=Ve*Ae+Ue*Xe,ze[1]=Ve*He+Ue*tt,ze[2]=Ve*Ke+Ue*Ge,ze[3]=Ve*je+Ue*We,ze}(Ne,Be,(U-_e)/($e-_e)),he=me[0],se=me[1],le=me[2],fe=me[3],ge=Math.atan2(2*se*fe-2*he*le,1-2*se*se-2*le*le),ye=Math.asin(2*he*se+2*le*fe),we=Math.atan2(2*he*fe-2*se*le,1-2*he*he-2*le*le),pe[0]=ge/degToRads,pe[1]=ye/degToRads,pe[2]=we/degToRads}else for(ie=0;ie<oe;ie+=1)Y.h!==1&&(U>=$e?ee=1:U<_e?ee=0:(Y.o.x.constructor===Array?(J.__fnct||(J.__fnct=[]),J.__fnct[ie]?ne=J.__fnct[ie]:(Ee=Y.o.x[ie]===void 0?Y.o.x[0]:Y.o.x[ie],Ce=Y.o.y[ie]===void 0?Y.o.y[0]:Y.o.y[ie],ve=Y.i.x[ie]===void 0?Y.i.x[0]:Y.i.x[ie],Pe=Y.i.y[ie]===void 0?Y.i.y[0]:Y.i.y[ie],ne=BezierFactory.getBezierEasing(Ee,Ce,ve,Pe).get,J.__fnct[ie]=ne)):J.__fnct?ne=J.__fnct:(Ee=Y.o.x,Ce=Y.o.y,ve=Y.i.x,Pe=Y.i.y,ne=BezierFactory.getBezierEasing(Ee,Ce,ve,Pe).get,Y.keyframeMetadata=ne),ee=ne((U-_e)/($e-_e)))),ue=X.s||Y.e,Me=Y.h===1?Y.s[ie]:Y.s[ie]+(ue[ie]-Y.s[ie])*ee,this.propType==="multidimensional"?q[ie]=Me:q=Me}return W.lastIndex=ae,q}function o(U){var W=U[0]*degToRads,q=U[1]*degToRads,K=U[2]*degToRads,Y=Math.cos(W/2),X=Math.cos(q/2),J=Math.cos(K/2),Q=Math.sin(W/2),Z=Math.sin(q/2),ee=Math.sin(K/2);return[Q*Z*J+Y*X*ee,Q*X*J+Y*Z*ee,Y*Z*J-Q*X*ee,Y*X*J-Q*Z*ee]}function l(){var U=this.comp.renderedFrame-this.offsetTime,W=this.keyframes[0].t-this.offsetTime,q=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(U===this._caching.lastFrame||this._caching.lastFrame!==r&&(this._caching.lastFrame>=q&&U>=q||this._caching.lastFrame<W&&U<W))){this._caching.lastFrame>=U&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var K=this.interpolateValue(U,this._caching);this.pv=K}return this._caching.lastFrame=U,this.pv}function h(U){var W;if(this.propType==="unidimensional")W=U*this.mult,t(this.v-W)>1e-5&&(this.v=W,this._mdf=!0);else for(var q=0,K=this.v.length;q<K;)W=U[q]*this.mult,t(this.v[q]-W)>1e-5&&(this.v[q]=W,this._mdf=!0),q+=1}function y(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var U;this.lock=!0,this._mdf=this._isFirstFrame;var W=this.effectsSequence.length,q=this.kf?this.pv:this.data.k;for(U=0;U<W;U+=1)q=this.effectsSequence[U](q);this.setVValue(q),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function O(U){this.effectsSequence.push(U),this.container.addDynamicProperty(this)}function D(U,W,q,K){this.propType="unidimensional",this.mult=q||1,this.data=W,this.v=q?W.k*q:W.k,this.pv=W.k,this._mdf=!1,this.elem=U,this.container=K,this.comp=U.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.addEffect=O}function R(U,W,q,K){var Y;this.propType="multidimensional",this.mult=q||1,this.data=W,this._mdf=!1,this.elem=U,this.container=K,this.comp=U.comp,this.k=!1,this.kf=!1,this.frameId=-1;var X=W.k.length;for(this.v=createTypedArray("float32",X),this.pv=createTypedArray("float32",X),this.vel=createTypedArray("float32",X),Y=0;Y<X;Y+=1)this.v[Y]=W.k[Y]*this.mult,this.pv[Y]=W.k[Y];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=y,this.setVValue=h,this.addEffect=O}function F(U,W,q,K){this.propType="unidimensional",this.keyframes=W.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.frameId=-1,this._caching={lastFrame:r,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=W,this.mult=q||1,this.elem=U,this.container=K,this.comp=U.comp,this.v=r,this.pv=r,this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.interpolateValue=e,this.effectsSequence=[l.bind(this)],this.addEffect=O}function j(U,W,q,K){var Y;this.propType="multidimensional";var X,J,Q,Z,ee=W.k.length;for(Y=0;Y<ee-1;Y+=1)W.k[Y].to&&W.k[Y].s&&W.k[Y+1]&&W.k[Y+1].s&&(X=W.k[Y].s,J=W.k[Y+1].s,Q=W.k[Y].to,Z=W.k[Y].ti,(X.length===2&&(X[0]!==J[0]||X[1]!==J[1])&&bez.pointOnLine2D(X[0],X[1],J[0],J[1],X[0]+Q[0],X[1]+Q[1])&&bez.pointOnLine2D(X[0],X[1],J[0],J[1],J[0]+Z[0],J[1]+Z[1])||X.length===3&&(X[0]!==J[0]||X[1]!==J[1]||X[2]!==J[2])&&bez.pointOnLine3D(X[0],X[1],X[2],J[0],J[1],J[2],X[0]+Q[0],X[1]+Q[1],X[2]+Q[2])&&bez.pointOnLine3D(X[0],X[1],X[2],J[0],J[1],J[2],J[0]+Z[0],J[1]+Z[1],J[2]+Z[2]))&&(W.k[Y].to=null,W.k[Y].ti=null),X[0]===J[0]&&X[1]===J[1]&&Q[0]===0&&Q[1]===0&&Z[0]===0&&Z[1]===0&&(X.length===2||X[2]===J[2]&&Q[2]===0&&Z[2]===0)&&(W.k[Y].to=null,W.k[Y].ti=null));this.effectsSequence=[l.bind(this)],this.data=W,this.keyframes=W.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=q||1,this.elem=U,this.container=K,this.comp=U.comp,this.getValue=y,this.setVValue=h,this.interpolateValue=e,this.frameId=-1;var re=W.k[0].s.length;for(this.v=createTypedArray("float32",re),this.pv=createTypedArray("float32",re),Y=0;Y<re;Y+=1)this.v[Y]=r,this.pv[Y]=r;this._caching={lastFrame:r,lastIndex:0,value:createTypedArray("float32",re)},this.addEffect=O}var B={getProp:function(U,W,q,K,Y){var X;if(W.k.length)if(typeof W.k[0]=="number")X=new R(U,W,K,Y);else switch(q){case 0:X=new F(U,W,K,Y);break;case 1:X=new j(U,W,K,Y)}else X=new D(U,W,K,Y);return X.effectsSequence.length&&Y.addDynamicProperty(X),X}};return B}(),TransformPropertyFactory=function(){var r=[0,0];function t(e,o,l){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=o,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(l||e),o.p&&o.p.s?(this.px=PropertyFactory.getProp(e,o.p.x,0,0,this),this.py=PropertyFactory.getProp(e,o.p.y,0,0,this),o.p.z&&(this.pz=PropertyFactory.getProp(e,o.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,o.p||{k:[0,0,0]},1,0,this),o.rx){if(this.rx=PropertyFactory.getProp(e,o.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,o.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,o.rz,0,degToRads,this),o.or.k[0].ti){var h,y=o.or.k.length;for(h=0;h<y;h+=1)o.or.k[h].to=null,o.or.k[h].ti=null}this.or=PropertyFactory.getProp(e,o.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,o.r||{k:0},0,degToRads,this);o.sk&&(this.sk=PropertyFactory.getProp(e,o.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,o.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,o.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,o.s||{k:[100,100,100]},1,.01,this),o.o?this.o=PropertyFactory.getProp(e,o.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var o=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||o,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){var o;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var l,h;if(o=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(l=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/o,0),h=this.p.getValueAtTime(this.p.keyframes[0].t/o,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(l=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/o,0),h=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/o,0)):(l=this.p.pv,h=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/o,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){l=[],h=[];var y=this.px,O=this.py;y._caching.lastFrame+y.offsetTime<=y.keyframes[0].t?(l[0]=y.getValueAtTime((y.keyframes[0].t+.01)/o,0),l[1]=O.getValueAtTime((O.keyframes[0].t+.01)/o,0),h[0]=y.getValueAtTime(y.keyframes[0].t/o,0),h[1]=O.getValueAtTime(O.keyframes[0].t/o,0)):y._caching.lastFrame+y.offsetTime>=y.keyframes[y.keyframes.length-1].t?(l[0]=y.getValueAtTime(y.keyframes[y.keyframes.length-1].t/o,0),l[1]=O.getValueAtTime(O.keyframes[O.keyframes.length-1].t/o,0),h[0]=y.getValueAtTime((y.keyframes[y.keyframes.length-1].t-.01)/o,0),h[1]=O.getValueAtTime((O.keyframes[O.keyframes.length-1].t-.01)/o,0)):(l=[y.pv,O.pv],h[0]=y.getValueAtTime((y._caching.lastFrame+y.offsetTime-.01)/o,y.offsetTime),h[1]=O.getValueAtTime((O._caching.lastFrame+O.offsetTime-.01)/o,O.offsetTime))}else l=h=r;this.v.rotate(-Math.atan2(l[1]-h[1],l[0]-h[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,o,l){return new t(e,o,l)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(r,t){this.c=r,this.setLength(t);for(var e=0;e<t;)this.v[e]=pointPool.newElement(),this.o[e]=pointPool.newElement(),this.i[e]=pointPool.newElement(),e+=1},ShapePath.prototype.setLength=function(r){for(;this._maxLength<r;)this.doubleArrayLength();this._length=r},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(r,t,e,o,l){var h;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),e){case"v":h=this.v;break;case"i":h=this.i;break;case"o":h=this.o;break;default:h=[]}(!h[o]||h[o]&&!l)&&(h[o]=pointPool.newElement()),h[o][0]=r,h[o][1]=t},ShapePath.prototype.setTripleAt=function(r,t,e,o,l,h,y,O){this.setXYAt(r,t,"v",y,O),this.setXYAt(e,o,"o",y,O),this.setXYAt(l,h,"i",y,O)},ShapePath.prototype.reverse=function(){var r=new ShapePath;r.setPathData(this.c,this._length);var t=this.v,e=this.o,o=this.i,l=0;this.c&&(r.setTripleAt(t[0][0],t[0][1],o[0][0],o[0][1],e[0][0],e[0][1],0,!1),l=1);var h,y=this._length-1,O=this._length;for(h=l;h<O;h+=1)r.setTripleAt(t[y][0],t[y][1],o[y][0],o[y][1],e[y][0],e[y][1],h,!1),y-=1;return r};var ShapePropertyFactory=function(){var r=-999999;function t(U,W,q){var K,Y,X,J,Q,Z,ee,re,te,ne=q.lastIndex,ae=this.keyframes;if(U<ae[0].t-this.offsetTime)K=ae[0].s[0],X=!0,ne=0;else if(U>=ae[ae.length-1].t-this.offsetTime)K=ae[ae.length-1].s?ae[ae.length-1].s[0]:ae[ae.length-2].e[0],X=!0;else{for(var ie,oe,ce,ue=ne,pe=ae.length-1,me=!0;me&&(ie=ae[ue],!((oe=ae[ue+1]).t-this.offsetTime>U));)ue<pe-1?ue+=1:me=!1;if(ce=this.keyframesMetadata[ue]||{},ne=ue,!(X=ie.h===1)){if(U>=oe.t-this.offsetTime)re=1;else if(U<ie.t-this.offsetTime)re=0;else{var he;ce.__fnct?he=ce.__fnct:(he=BezierFactory.getBezierEasing(ie.o.x,ie.o.y,ie.i.x,ie.i.y).get,ce.__fnct=he),re=he((U-(ie.t-this.offsetTime))/(oe.t-this.offsetTime-(ie.t-this.offsetTime)))}Y=oe.s?oe.s[0]:ie.e[0]}K=ie.s[0]}for(Z=W._length,ee=K.i[0].length,q.lastIndex=ne,J=0;J<Z;J+=1)for(Q=0;Q<ee;Q+=1)te=X?K.i[J][Q]:K.i[J][Q]+(Y.i[J][Q]-K.i[J][Q])*re,W.i[J][Q]=te,te=X?K.o[J][Q]:K.o[J][Q]+(Y.o[J][Q]-K.o[J][Q])*re,W.o[J][Q]=te,te=X?K.v[J][Q]:K.v[J][Q]+(Y.v[J][Q]-K.v[J][Q])*re,W.v[J][Q]=te}function e(){var U=this.comp.renderedFrame-this.offsetTime,W=this.keyframes[0].t-this.offsetTime,q=this.keyframes[this.keyframes.length-1].t-this.offsetTime,K=this._caching.lastFrame;return K!==r&&(K<W&&U<W||K>q&&U>q)||(this._caching.lastIndex=K<U?this._caching.lastIndex:0,this.interpolateShape(U,this.pv,this._caching)),this._caching.lastFrame=U,this.pv}function o(){this.paths=this.localShapeCollection}function l(U){(function(W,q){if(W._length!==q._length||W.c!==q.c)return!1;var K,Y=W._length;for(K=0;K<Y;K+=1)if(W.v[K][0]!==q.v[K][0]||W.v[K][1]!==q.v[K][1]||W.o[K][0]!==q.o[K][0]||W.o[K][1]!==q.o[K][1]||W.i[K][0]!==q.i[K][0]||W.i[K][1]!==q.i[K][1])return!1;return!0})(this.v,U)||(this.v=shapePool.clone(U),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function h(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var U,W;this.lock=!0,this._mdf=!1,U=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var q=this.effectsSequence.length;for(W=0;W<q;W+=1)U=this.effectsSequence[W](U);this.setVValue(U),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function y(U,W,q){this.propType="shape",this.comp=U.comp,this.container=U,this.elem=U,this.data=W,this.k=!1,this.kf=!1,this._mdf=!1;var K=q===3?W.pt.k:W.ks.k;this.v=shapePool.clone(K),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=o,this.effectsSequence=[]}function O(U){this.effectsSequence.push(U),this.container.addDynamicProperty(this)}function D(U,W,q){this.propType="shape",this.comp=U.comp,this.elem=U,this.container=U,this.offsetTime=U.data.st,this.keyframes=q===3?W.pt.k:W.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var K=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,K),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=r,this.reset=o,this._caching={lastFrame:r,lastIndex:0},this.effectsSequence=[e.bind(this)]}y.prototype.interpolateShape=t,y.prototype.getValue=h,y.prototype.setVValue=l,y.prototype.addEffect=O,D.prototype.getValue=h,D.prototype.interpolateShape=t,D.prototype.setVValue=l,D.prototype.addEffect=O;var R=function(){var U=roundCorner;function W(q,K){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=K.d,this.elem=q,this.comp=q.comp,this.frameId=-1,this.initDynamicPropertyContainer(q),this.p=PropertyFactory.getProp(q,K.p,1,0,this),this.s=PropertyFactory.getProp(q,K.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return W.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var q=this.p.v[0],K=this.p.v[1],Y=this.s.v[0]/2,X=this.s.v[1]/2,J=this.d!==3,Q=this.v;Q.v[0][0]=q,Q.v[0][1]=K-X,Q.v[1][0]=J?q+Y:q-Y,Q.v[1][1]=K,Q.v[2][0]=q,Q.v[2][1]=K+X,Q.v[3][0]=J?q-Y:q+Y,Q.v[3][1]=K,Q.i[0][0]=J?q-Y*U:q+Y*U,Q.i[0][1]=K-X,Q.i[1][0]=J?q+Y:q-Y,Q.i[1][1]=K-X*U,Q.i[2][0]=J?q+Y*U:q-Y*U,Q.i[2][1]=K+X,Q.i[3][0]=J?q-Y:q+Y,Q.i[3][1]=K+X*U,Q.o[0][0]=J?q+Y*U:q-Y*U,Q.o[0][1]=K-X,Q.o[1][0]=J?q+Y:q-Y,Q.o[1][1]=K+X*U,Q.o[2][0]=J?q-Y*U:q+Y*U,Q.o[2][1]=K+X,Q.o[3][0]=J?q-Y:q+Y,Q.o[3][1]=K-X*U}},extendPrototype([DynamicPropertyContainer],W),W}(),F=function(){function U(W,q){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=W,this.comp=W.comp,this.data=q,this.frameId=-1,this.d=q.d,this.initDynamicPropertyContainer(W),q.sy===1?(this.ir=PropertyFactory.getProp(W,q.ir,0,0,this),this.is=PropertyFactory.getProp(W,q.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(W,q.pt,0,0,this),this.p=PropertyFactory.getProp(W,q.p,1,0,this),this.r=PropertyFactory.getProp(W,q.r,0,degToRads,this),this.or=PropertyFactory.getProp(W,q.or,0,0,this),this.os=PropertyFactory.getProp(W,q.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return U.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var W,q,K,Y,X=2*Math.floor(this.pt.v),J=2*Math.PI/X,Q=!0,Z=this.or.v,ee=this.ir.v,re=this.os.v,te=this.is.v,ne=2*Math.PI*Z/(2*X),ae=2*Math.PI*ee/(2*X),ie=-Math.PI/2;ie+=this.r.v;var oe=this.data.d===3?-1:1;for(this.v._length=0,W=0;W<X;W+=1){K=Q?re:te,Y=Q?ne:ae;var ce=(q=Q?Z:ee)*Math.cos(ie),ue=q*Math.sin(ie),pe=ce===0&&ue===0?0:ue/Math.sqrt(ce*ce+ue*ue),me=ce===0&&ue===0?0:-ce/Math.sqrt(ce*ce+ue*ue);ce+=+this.p.v[0],ue+=+this.p.v[1],this.v.setTripleAt(ce,ue,ce-pe*Y*K*oe,ue-me*Y*K*oe,ce+pe*Y*K*oe,ue+me*Y*K*oe,W,!0),Q=!Q,ie+=J*oe}},convertPolygonToPath:function(){var W,q=Math.floor(this.pt.v),K=2*Math.PI/q,Y=this.or.v,X=this.os.v,J=2*Math.PI*Y/(4*q),Q=.5*-Math.PI,Z=this.data.d===3?-1:1;for(Q+=this.r.v,this.v._length=0,W=0;W<q;W+=1){var ee=Y*Math.cos(Q),re=Y*Math.sin(Q),te=ee===0&&re===0?0:re/Math.sqrt(ee*ee+re*re),ne=ee===0&&re===0?0:-ee/Math.sqrt(ee*ee+re*re);ee+=+this.p.v[0],re+=+this.p.v[1],this.v.setTripleAt(ee,re,ee-te*J*X*Z,re-ne*J*X*Z,ee+te*J*X*Z,re+ne*J*X*Z,W,!0),Q+=K*Z}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],U),U}(),j=function(){function U(W,q){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=W,this.comp=W.comp,this.frameId=-1,this.d=q.d,this.initDynamicPropertyContainer(W),this.p=PropertyFactory.getProp(W,q.p,1,0,this),this.s=PropertyFactory.getProp(W,q.s,1,0,this),this.r=PropertyFactory.getProp(W,q.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return U.prototype={convertRectToPath:function(){var W=this.p.v[0],q=this.p.v[1],K=this.s.v[0]/2,Y=this.s.v[1]/2,X=bmMin(K,Y,this.r.v),J=X*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(W+K,q-Y+X,W+K,q-Y+X,W+K,q-Y+J,0,!0),this.v.setTripleAt(W+K,q+Y-X,W+K,q+Y-J,W+K,q+Y-X,1,!0),X!==0?(this.v.setTripleAt(W+K-X,q+Y,W+K-X,q+Y,W+K-J,q+Y,2,!0),this.v.setTripleAt(W-K+X,q+Y,W-K+J,q+Y,W-K+X,q+Y,3,!0),this.v.setTripleAt(W-K,q+Y-X,W-K,q+Y-X,W-K,q+Y-J,4,!0),this.v.setTripleAt(W-K,q-Y+X,W-K,q-Y+J,W-K,q-Y+X,5,!0),this.v.setTripleAt(W-K+X,q-Y,W-K+X,q-Y,W-K+J,q-Y,6,!0),this.v.setTripleAt(W+K-X,q-Y,W+K-J,q-Y,W+K-X,q-Y,7,!0)):(this.v.setTripleAt(W-K,q+Y,W-K+J,q+Y,W-K,q+Y,2),this.v.setTripleAt(W-K,q-Y,W-K,q-Y+J,W-K,q-Y,3))):(this.v.setTripleAt(W+K,q-Y+X,W+K,q-Y+J,W+K,q-Y+X,0,!0),X!==0?(this.v.setTripleAt(W+K-X,q-Y,W+K-X,q-Y,W+K-J,q-Y,1,!0),this.v.setTripleAt(W-K+X,q-Y,W-K+J,q-Y,W-K+X,q-Y,2,!0),this.v.setTripleAt(W-K,q-Y+X,W-K,q-Y+X,W-K,q-Y+J,3,!0),this.v.setTripleAt(W-K,q+Y-X,W-K,q+Y-J,W-K,q+Y-X,4,!0),this.v.setTripleAt(W-K+X,q+Y,W-K+X,q+Y,W-K+J,q+Y,5,!0),this.v.setTripleAt(W+K-X,q+Y,W+K-J,q+Y,W+K-X,q+Y,6,!0),this.v.setTripleAt(W+K,q+Y-X,W+K,q+Y-X,W+K,q+Y-J,7,!0)):(this.v.setTripleAt(W-K,q-Y,W-K+J,q-Y,W-K,q-Y,1,!0),this.v.setTripleAt(W-K,q+Y,W-K,q+Y-J,W-K,q+Y,2,!0),this.v.setTripleAt(W+K,q+Y,W+K-J,q+Y,W+K,q+Y,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:o},extendPrototype([DynamicPropertyContainer],U),U}(),B={getShapeProp:function(U,W,q){var K;return q===3||q===4?K=(q===3?W.pt:W.ks).k.length?new D(U,W,q):new y(U,W,q):q===5?K=new j(U,W):q===6?K=new R(U,W):q===7&&(K=new F(U,W)),K.k&&U.addDynamicProperty(K),K},getConstructorFunction:function(){return y},getKeyframedConstructorFunction:function(){return D}};return B}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(r,t){modifiers[r]||(modifiers[r]=t)},ob.getModifier=function(r,t,e){return new modifiers[r](t,e)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(r,t,e,o){var l;this.elem=r,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=e,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var h,y=t.length||0;for(l=0;l<y;l+=1)h=PropertyFactory.getProp(r,t[l].v,0,0,this),this.k=h.k||this.k,this.dataProps[l]={n:t[l].n,p:h};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(r,t,e){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var o=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(e),this.prop=PropertyFactory.getProp(r,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(r){if(!this.closed){r.sh.container.addDynamicProperty(r.sh);var t={shape:r.sh,data:r,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&r.setAsAnimated()}},ShapeModifier.prototype.init=function(r,t){this.shapes=[],this.elem=r,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(r,t){this.s=PropertyFactory.getProp(r,t.s,0,.01,this),this.e=PropertyFactory.getProp(r,t.e,0,.01,this),this.o=PropertyFactory.getProp(r,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(r){r.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(r,t,e,o,l){var h=[];t<=1?h.push({s:r,e:t}):r>=1?h.push({s:r-1,e:t-1}):(h.push({s:r,e:1}),h.push({s:0,e:t-1}));var y,O,D=[],R=h.length;for(y=0;y<R;y+=1){var F,j;(O=h[y]).e*l<o||O.s*l>o+e||(F=O.s*l<=o?0:(O.s*l-o)/e,j=O.e*l>=o+e?1:(O.e*l-o)/e,D.push([F,j]))}return D.length||D.push([0,0]),D},TrimModifier.prototype.releasePathsData=function(r){var t,e=r.length;for(t=0;t<e;t+=1)segmentsLengthPool.release(r[t]);return r.length=0,r},TrimModifier.prototype.processShapes=function(r){var t,e,o,l;if(this._mdf||r){var h=this.o.v%360/360;if(h<0&&(h+=1),(t=this.s.v>1?1+h:this.s.v<0?0+h:this.s.v+h)>(e=this.e.v>1?1+h:this.e.v<0?0+h:this.e.v+h)){var y=t;t=e,e=y}t=1e-4*Math.round(1e4*t),e=1e-4*Math.round(1e4*e),this.sValue=t,this.eValue=e}else t=this.sValue,e=this.eValue;var O,D,R,F,j,B=this.shapes.length,U=0;if(e===t)for(l=0;l<B;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(e===1&&t===0||e===0&&t===1){if(this._mdf)for(l=0;l<B;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var W,q,K=[];for(l=0;l<B;l+=1)if((W=this.shapes[l]).shape._mdf||this._mdf||r||this.m===2){if(D=(o=W.shape.paths)._length,j=0,!W.shape._mdf&&W.pathsData.length)j=W.totalShapeLength;else{for(R=this.releasePathsData(W.pathsData),O=0;O<D;O+=1)F=bez.getSegmentsLength(o.shapes[O]),R.push(F),j+=F.totalLength;W.totalShapeLength=j,W.pathsData=R}U+=j,W.shape._mdf=!0}else W.shape.paths=W.localShapeCollection;var Y,X=t,J=e,Q=0;for(l=B-1;l>=0;l-=1)if((W=this.shapes[l]).shape._mdf){for((q=W.localShapeCollection).releaseShapes(),this.m===2&&B>1?(Y=this.calculateShapeEdges(t,e,W.totalShapeLength,Q,U),Q+=W.totalShapeLength):Y=[[X,J]],D=Y.length,O=0;O<D;O+=1){X=Y[O][0],J=Y[O][1],K.length=0,J<=1?K.push({s:W.totalShapeLength*X,e:W.totalShapeLength*J}):X>=1?K.push({s:W.totalShapeLength*(X-1),e:W.totalShapeLength*(J-1)}):(K.push({s:W.totalShapeLength*X,e:W.totalShapeLength}),K.push({s:0,e:W.totalShapeLength*(J-1)}));var Z=this.addShapes(W,K[0]);if(K[0].s!==K[0].e){if(K.length>1)if(W.shape.paths.shapes[W.shape.paths._length-1].c){var ee=Z.pop();this.addPaths(Z,q),Z=this.addShapes(W,K[1],ee)}else this.addPaths(Z,q),Z=this.addShapes(W,K[1]);this.addPaths(Z,q)}}W.shape.paths=q}}},TrimModifier.prototype.addPaths=function(r,t){var e,o=r.length;for(e=0;e<o;e+=1)t.addShape(r[e])},TrimModifier.prototype.addSegment=function(r,t,e,o,l,h,y){l.setXYAt(t[0],t[1],"o",h),l.setXYAt(e[0],e[1],"i",h+1),y&&l.setXYAt(r[0],r[1],"v",h),l.setXYAt(o[0],o[1],"v",h+1)},TrimModifier.prototype.addSegmentFromArray=function(r,t,e,o){t.setXYAt(r[1],r[5],"o",e),t.setXYAt(r[2],r[6],"i",e+1),o&&t.setXYAt(r[0],r[4],"v",e),t.setXYAt(r[3],r[7],"v",e+1)},TrimModifier.prototype.addShapes=function(r,t,e){var o,l,h,y,O,D,R,F,j=r.pathsData,B=r.shape.paths.shapes,U=r.shape.paths._length,W=0,q=[],K=!0;for(e?(O=e._length,F=e._length):(e=shapePool.newElement(),O=0,F=0),q.push(e),o=0;o<U;o+=1){for(D=j[o].lengths,e.c=B[o].c,h=B[o].c?D.length:D.length+1,l=1;l<h;l+=1)if(W+(y=D[l-1]).addedLength<t.s)W+=y.addedLength,e.c=!1;else{if(W>t.e){e.c=!1;break}t.s<=W&&t.e>=W+y.addedLength?(this.addSegment(B[o].v[l-1],B[o].o[l-1],B[o].i[l],B[o].v[l],e,O,K),K=!1):(R=bez.getNewSegment(B[o].v[l-1],B[o].v[l],B[o].o[l-1],B[o].i[l],(t.s-W)/y.addedLength,(t.e-W)/y.addedLength,D[l-1]),this.addSegmentFromArray(R,e,O,K),K=!1,e.c=!1),W+=y.addedLength,O+=1}if(B[o].c&&D.length){if(y=D[l-1],W<=t.e){var Y=D[l-1].addedLength;t.s<=W&&t.e>=W+Y?(this.addSegment(B[o].v[l-1],B[o].o[l-1],B[o].i[0],B[o].v[0],e,O,K),K=!1):(R=bez.getNewSegment(B[o].v[l-1],B[o].v[0],B[o].o[l-1],B[o].i[0],(t.s-W)/Y,(t.e-W)/Y,D[l-1]),this.addSegmentFromArray(R,e,O,K),K=!1,e.c=!1)}else e.c=!1;W+=y.addedLength,O+=1}if(e._length&&(e.setXYAt(e.v[F][0],e.v[F][1],"i",F),e.setXYAt(e.v[e._length-1][0],e.v[e._length-1][1],"o",e._length-1)),W>t.e)break;o<U-1&&(e=shapePool.newElement(),K=!0,q.push(e),O=0)}return q},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(r,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(r,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(r,t){var e,o=shapePool.newElement();o.c=r.c;var l,h,y,O,D,R,F,j,B,U,W,q,K=r._length,Y=0;for(e=0;e<K;e+=1)l=r.v[e],y=r.o[e],h=r.i[e],l[0]===y[0]&&l[1]===y[1]&&l[0]===h[0]&&l[1]===h[1]?e!==0&&e!==K-1||r.c?(O=e===0?r.v[K-1]:r.v[e-1],R=(D=Math.sqrt(Math.pow(l[0]-O[0],2)+Math.pow(l[1]-O[1],2)))?Math.min(D/2,t)/D:0,F=W=l[0]+(O[0]-l[0])*R,j=q=l[1]-(l[1]-O[1])*R,B=F-(F-l[0])*roundCorner,U=j-(j-l[1])*roundCorner,o.setTripleAt(F,j,B,U,W,q,Y),Y+=1,O=e===K-1?r.v[0]:r.v[e+1],R=(D=Math.sqrt(Math.pow(l[0]-O[0],2)+Math.pow(l[1]-O[1],2)))?Math.min(D/2,t)/D:0,F=B=l[0]+(O[0]-l[0])*R,j=U=l[1]+(O[1]-l[1])*R,W=F-(F-l[0])*roundCorner,q=j-(j-l[1])*roundCorner,o.setTripleAt(F,j,B,U,W,q,Y),Y+=1):(o.setTripleAt(l[0],l[1],y[0],y[1],h[0],h[1],Y),Y+=1):(o.setTripleAt(r.v[e][0],r.v[e][1],r.o[e][0],r.o[e][1],r.i[e][0],r.i[e][1],Y),Y+=1);return o},RoundCornersModifier.prototype.processShapes=function(r){var t,e,o,l,h,y,O=this.shapes.length,D=this.rd.v;if(D!==0)for(e=0;e<O;e+=1){if(y=(h=this.shapes[e]).localShapeCollection,h.shape._mdf||this._mdf||r)for(y.releaseShapes(),h.shape._mdf=!0,t=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(t[o],D));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(r,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(r,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(r,t){var e=t/100,o=[0,0],l=r._length,h=0;for(h=0;h<l;h+=1)o[0]+=r.v[h][0],o[1]+=r.v[h][1];o[0]/=l,o[1]/=l;var y,O,D,R,F,j,B=shapePool.newElement();for(B.c=r.c,h=0;h<l;h+=1)y=r.v[h][0]+(o[0]-r.v[h][0])*e,O=r.v[h][1]+(o[1]-r.v[h][1])*e,D=r.o[h][0]+(o[0]-r.o[h][0])*-e,R=r.o[h][1]+(o[1]-r.o[h][1])*-e,F=r.i[h][0]+(o[0]-r.i[h][0])*-e,j=r.i[h][1]+(o[1]-r.i[h][1])*-e,B.setTripleAt(y,O,D,R,F,j,h);return B},PuckerAndBloatModifier.prototype.processShapes=function(r){var t,e,o,l,h,y,O=this.shapes.length,D=this.amount.v;if(D!==0)for(e=0;e<O;e+=1){if(y=(h=this.shapes[e]).localShapeCollection,h.shape._mdf||this._mdf||r)for(y.releaseShapes(),h.shape._mdf=!0,t=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(t[o],D));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(r,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(r,t.c,0,null,this),this.o=PropertyFactory.getProp(r,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(r,t.tr,this),this.so=PropertyFactory.getProp(r,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(r,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(r,t,e,o,l,h){var y=h?-1:1,O=o.s.v[0]+(1-o.s.v[0])*(1-l),D=o.s.v[1]+(1-o.s.v[1])*(1-l);r.translate(o.p.v[0]*y*l,o.p.v[1]*y*l,o.p.v[2]),t.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),t.rotate(-o.r.v*y*l),t.translate(o.a.v[0],o.a.v[1],o.a.v[2]),e.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),e.scale(h?1/O:O,h?1/D:D),e.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(r,t,e,o){for(this.elem=r,this.arr=t,this.pos=e,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(r),this.initModifierProperties(r,t[e]);e>0;)e-=1,this._elements.unshift(t[e]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(r){var t,e=r.length;for(t=0;t<e;t+=1)r[t]._processed=!1,r[t].ty==="gr"&&this.resetElements(r[t].it)},RepeaterModifier.prototype.cloneElements=function(r){var t=JSON.parse(JSON.stringify(r));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(r,t){var e,o=r.length;for(e=0;e<o;e+=1)r[e]._render=t,r[e].ty==="gr"&&this.changeGroupRender(r[e].it,t)},RepeaterModifier.prototype.processShapes=function(r){var t,e,o,l,h,y=!1;if(this._mdf||r){var O,D=Math.ceil(this.c.v);if(this._groups.length<D){for(;this._groups.length<D;){var R={it:this.cloneElements(this._elements),ty:"gr"};R.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,R),this._groups.splice(0,0,R),this._currentCopies+=1}this.elem.reloadShapes(),y=!0}for(h=0,o=0;o<=this._groups.length-1;o+=1){if(O=h<D,this._groups[o]._render=O,this.changeGroupRender(this._groups[o].it,O),!O){var F=this.elemsData[o].it,j=F[F.length-1];j.transform.op.v!==0?(j.transform.op._mdf=!0,j.transform.op.v=0):j.transform.op._mdf=!1}h+=1}this._currentCopies=D;var B=this.o.v,U=B%1,W=B>0?Math.floor(B):Math.ceil(B),q=this.pMatrix.props,K=this.rMatrix.props,Y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var X,J,Q=0;if(B>0){for(;Q<W;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Q+=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,U,!1),Q+=U)}else if(B<0){for(;Q>W;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Q-=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-U,!0),Q-=U)}for(o=this.data.m===1?0:this._currentCopies-1,l=this.data.m===1?1:-1,h=this._currentCopies;h;){if(J=(e=(t=this.elemsData[o].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),Q!==0){for((o!==0&&l===1||o!==this._currentCopies-1&&l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8],K[9],K[10],K[11],K[12],K[13],K[14],K[15]),this.matrix.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],Y[8],Y[9],Y[10],Y[11],Y[12],Y[13],Y[14],Y[15]),this.matrix.transform(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8],q[9],q[10],q[11],q[12],q[13],q[14],q[15]),X=0;X<J;X+=1)e[X]=this.matrix.props[X];this.matrix.reset()}else for(this.matrix.reset(),X=0;X<J;X+=1)e[X]=this.matrix.props[X];Q+=1,h-=1,o+=l}}else for(h=this._currentCopies,o=0,l=1;h;)e=(t=this.elemsData[o].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,h-=1,o+=l;return y},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(r){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=r,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var r;for(r=0;r<this._length;r+=1)shapePool.release(this.shapes[r]);this._length=0},DashProperty.prototype.getValue=function(r){if((this.elem.globalData.frameId!==this.frameId||r)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||r,this._mdf)){var t=0,e=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<e;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(r,t){for(var e=0,o=this.o.length/2;e<o;){if(Math.abs(r[4*e]-r[4*t+2*e])>.01)return!1;e+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var r=0,t=this.data.k.k.length;r<t;){if(!this.comparePoints(this.data.k.k[r].s,this.data.p))return!1;r+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(r){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||r){var t,e,o,l=4*this.data.p;for(t=0;t<l;t+=1)e=t%4==0?100:255,o=Math.round(this.prop.v[t]*e),this.c[t]!==o&&(this.c[t]=o,this._cmdf=!r);if(this.o.length)for(l=this.prop.v.length,t=4*this.data.p;t<l;t+=1)e=t%2==0?100:1,o=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==o&&(this.o[t-4*this.data.p]=o,this._omdf=!r);this._mdf=!r}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(r,t,e,o){if(t===0)return"";var l,h=r.o,y=r.i,O=r.v,D=" M"+o.applyToPointStringified(O[0][0],O[0][1]);for(l=1;l<t;l+=1)D+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[l][0],y[l][1])+" "+o.applyToPointStringified(O[l][0],O[l][1]);return e&&t&&(D+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[0][0],y[0][1])+" "+o.applyToPointStringified(O[0][0],O[0][1]),D+="z"),D},audioControllerFactory=function(){function r(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return r.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].pause()},resume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].resume()},setRate:function(t){var e,o=this.audios.length;for(e=0;e<o;e+=1)this.audios[e].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,e=this.audios.length;for(t=0;t<e;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new r}}(),ImagePreloader=function(){var r=function(){var O=createTag("canvas");O.width=1,O.height=1;var D=O.getContext("2d");return D.fillStyle="rgba(0,0,0,0)",D.fillRect(0,0,1,1),O}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function e(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(O,D,R){var F="";if(O.e)F=O.p;else if(D){var j=O.p;j.indexOf("images/")!==-1&&(j=j.split("/")[1]),F=D+j}else F=R,F+=O.u?O.u:"",F+=O.p;return F}function l(O){var D=0,R=setInterval(function(){(O.getBBox().width||D>500)&&(this._imageLoaded(),clearInterval(R)),D+=1}.bind(this),50)}function h(O){var D={assetData:O},R=o(O,this.assetsPath,this.path);return dataManager.loadData(R,function(F){D.img=F,this._footageLoaded()}.bind(this),function(){D.img={},this._footageLoaded()}.bind(this)),D}function y(){this._imageLoaded=t.bind(this),this._footageLoaded=e.bind(this),this.testImageLoaded=l.bind(this),this.createFootageData=h.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return y.prototype={loadAssets:function(O,D){var R;this.imagesLoadedCb=D;var F=O.length;for(R=0;R<F;R+=1)O[R].layers||(O[R].t&&O[R].t!=="seq"?O[R].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(O[R]))):(this.totalImages+=1,this.images.push(this._createImageData(O[R]))))},setAssetsPath:function(O){this.assetsPath=O||""},setPath:function(O){this.path=O||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(O){for(var D=0,R=this.images.length;D<R;){if(this.images[D].assetData===O)return this.images[D].img;D+=1}return null},createImgData:function(O){var D=o(O,this.assetsPath,this.path),R=createTag("img");R.crossOrigin="anonymous",R.addEventListener("load",this._imageLoaded,!1),R.addEventListener("error",function(){F.img=r,this._imageLoaded()}.bind(this),!1),R.src=D;var F={img:R,assetData:O};return F},createImageData:function(O){var D=o(O,this.assetsPath,this.path),R=createNS("image");isSafari?this.testImageLoaded(R):R.addEventListener("load",this._imageLoaded,!1),R.addEventListener("error",function(){F.img=r,this._imageLoaded()}.bind(this),!1),R.setAttributeNS("http://www.w3.org/1999/xlink","href",D),this._elementHelper.append?this._elementHelper.append(R):this._elementHelper.appendChild(R);var F={img:R,assetData:O};return F},imageLoaded:t,footageLoaded:e,setCacheType:function(O,D){O==="svg"?(this._elementHelper=D,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},y}(),featureSupport=function(){var r={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(r.maskType=!1),r}(),filtersFactory=function(){var r={createFilter:function(t,e){var o=createNS("filter");return o.setAttribute("id",t),e!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return r}();function TextAnimatorProperty(r,t,e){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=r,this._renderType=t,this._elem=e,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(e)}function TextAnimatorDataProperty(r,t,e){var o={propType:!1},l=PropertyFactory.getProp,h=t.a;this.a={r:h.r?l(r,h.r,0,degToRads,e):o,rx:h.rx?l(r,h.rx,0,degToRads,e):o,ry:h.ry?l(r,h.ry,0,degToRads,e):o,sk:h.sk?l(r,h.sk,0,degToRads,e):o,sa:h.sa?l(r,h.sa,0,degToRads,e):o,s:h.s?l(r,h.s,1,.01,e):o,a:h.a?l(r,h.a,1,0,e):o,o:h.o?l(r,h.o,0,.01,e):o,p:h.p?l(r,h.p,1,0,e):o,sw:h.sw?l(r,h.sw,0,0,e):o,sc:h.sc?l(r,h.sc,1,0,e):o,fc:h.fc?l(r,h.fc,1,0,e):o,fh:h.fh?l(r,h.fh,0,0,e):o,fs:h.fs?l(r,h.fs,0,.01,e):o,fb:h.fb?l(r,h.fb,0,.01,e):o,t:h.t?l(r,h.t,0,0,e):o},this.s=TextSelectorProp.getTextSelectorProp(r,t.s,e),this.s.t=t.s.t}function LetterProps(r,t,e,o,l,h){this.o=r,this.sw=t,this.sc=e,this.fc=o,this.m=l,this.p=h,this._mdf={o:!0,sw:!!t,sc:!!e,fc:!!o,m:!0,p:!0}}function TextProperty(r,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=r,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var r,t,e=this._textData.a.length,o=PropertyFactory.getProp;for(r=0;r<e;r+=1)t=this._textData.a[r],this._animatorsData[r]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(r,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z=this._moreOptions.alignment.v,ee=this._animatorsData,re=this._textData,te=this.mHelper,ne=this._renderType,ae=this.renderedLetters.length,ie=r.l;if(this._hasMaskedPath){if(Q=this._pathData.m,!this._pathData.n||this._pathData._mdf){var oe,ce=Q.v;for(this._pathData.r.v&&(ce=ce.reverse()),y={tLength:0,segments:[]},h=ce._length-1,Y=0,l=0;l<h;l+=1)oe=bez.buildBezierData(ce.v[l],ce.v[l+1],[ce.o[l][0]-ce.v[l][0],ce.o[l][1]-ce.v[l][1]],[ce.i[l+1][0]-ce.v[l+1][0],ce.i[l+1][1]-ce.v[l+1][1]]),y.tLength+=oe.segmentLength,y.segments.push(oe),Y+=oe.segmentLength;l=h,Q.v.c&&(oe=bez.buildBezierData(ce.v[l],ce.v[0],[ce.o[l][0]-ce.v[l][0],ce.o[l][1]-ce.v[l][1]],[ce.i[0][0]-ce.v[0][0],ce.i[0][1]-ce.v[0][1]]),y.tLength+=oe.segmentLength,y.segments.push(oe),Y+=oe.segmentLength),this._pathData.pi=y}if(y=this._pathData.pi,O=this._pathData.f.v,B=0,j=1,R=0,F=!0,q=y.segments,O<0&&Q.v.c)for(y.tLength<Math.abs(O)&&(O=-Math.abs(O)%y.tLength),j=(W=q[B=q.length-1].points).length-1;O<0;)O+=W[j].partialLength,(j-=1)<0&&(j=(W=q[B-=1].points).length-1);U=(W=q[B].points)[j-1],K=(D=W[j]).partialLength}h=ie.length,e=0,o=0;var ue,pe,me,he,se,le=1.2*r.finalSize*.714,fe=!0;me=ee.length;var ge,ye,we,$e,_e,Se,Te,be,Oe,xe,Ee,Ce,ve=-1,Pe=O,Me=B,Ne=j,Be=-1,Fe="",Re=this.defaultPropsArray;if(r.j===2||r.j===1){var ke=0,Le=0,De=r.j===2?-.5:-1,Ie=0,Ve=!0;for(l=0;l<h;l+=1)if(ie[l].n){for(ke&&(ke+=Le);Ie<l;)ie[Ie].animatorJustifyOffset=ke,Ie+=1;ke=0,Ve=!0}else{for(pe=0;pe<me;pe+=1)(ue=ee[pe].a).t.propType&&(Ve&&r.j===2&&(Le+=ue.t.v*De),(se=ee[pe].s.getMult(ie[l].anIndexes[pe],re.a[pe].s.totalChars)).length?ke+=ue.t.v*se[0]*De:ke+=ue.t.v*se*De);Ve=!1}for(ke&&(ke+=Le);Ie<l;)ie[Ie].animatorJustifyOffset=ke,Ie+=1}for(l=0;l<h;l+=1){if(te.reset(),$e=1,ie[l].n)e=0,o+=r.yOffset,o+=fe?1:0,O=Pe,fe=!1,this._hasMaskedPath&&(j=Ne,U=(W=q[B=Me].points)[j-1],K=(D=W[j]).partialLength,R=0),Fe="",Ee="",Oe="",Ce="",Re=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Be!==ie[l].line){switch(r.j){case 1:O+=Y-r.lineWidths[ie[l].line];break;case 2:O+=(Y-r.lineWidths[ie[l].line])/2}Be=ie[l].line}ve!==ie[l].ind&&(ie[ve]&&(O+=ie[ve].extra),O+=ie[l].an/2,ve=ie[l].ind),O+=Z[0]*ie[l].an*.005;var Ue=0;for(pe=0;pe<me;pe+=1)(ue=ee[pe].a).p.propType&&((se=ee[pe].s.getMult(ie[l].anIndexes[pe],re.a[pe].s.totalChars)).length?Ue+=ue.p.v[0]*se[0]:Ue+=ue.p.v[0]*se),ue.a.propType&&((se=ee[pe].s.getMult(ie[l].anIndexes[pe],re.a[pe].s.totalChars)).length?Ue+=ue.a.v[0]*se[0]:Ue+=ue.a.v[0]*se);for(F=!0,this._pathData.a.v&&(O=.5*ie[0].an+(Y-this._pathData.f.v-.5*ie[0].an-.5*ie[ie.length-1].an)*ve/(h-1),O+=this._pathData.f.v);F;)R+K>=O+Ue||!W?(X=(O+Ue-R)/D.partialLength,ye=U.point[0]+(D.point[0]-U.point[0])*X,we=U.point[1]+(D.point[1]-U.point[1])*X,te.translate(-Z[0]*ie[l].an*.005,-Z[1]*le*.01),F=!1):W&&(R+=D.partialLength,(j+=1)>=W.length&&(j=0,q[B+=1]?W=q[B].points:Q.v.c?(j=0,W=q[B=0].points):(R-=D.partialLength,W=null)),W&&(U=D,K=(D=W[j]).partialLength));ge=ie[l].an/2-ie[l].add,te.translate(-ge,0,0)}else ge=ie[l].an/2-ie[l].add,te.translate(-ge,0,0),te.translate(-Z[0]*ie[l].an*.005,-Z[1]*le*.01,0);for(pe=0;pe<me;pe+=1)(ue=ee[pe].a).t.propType&&(se=ee[pe].s.getMult(ie[l].anIndexes[pe],re.a[pe].s.totalChars),e===0&&r.j===0||(this._hasMaskedPath?se.length?O+=ue.t.v*se[0]:O+=ue.t.v*se:se.length?e+=ue.t.v*se[0]:e+=ue.t.v*se));for(r.strokeWidthAnim&&(Se=r.sw||0),r.strokeColorAnim&&(_e=r.sc?[r.sc[0],r.sc[1],r.sc[2]]:[0,0,0]),r.fillColorAnim&&r.fc&&(Te=[r.fc[0],r.fc[1],r.fc[2]]),pe=0;pe<me;pe+=1)(ue=ee[pe].a).a.propType&&((se=ee[pe].s.getMult(ie[l].anIndexes[pe],re.a[pe].s.totalChars)).length?te.translate(-ue.a.v[0]*se[0],-ue.a.v[1]*se[1],ue.a.v[2]*se[2]):te.translate(-ue.a.v[0]*se,-ue.a.v[1]*se,ue.a.v[2]*se));for(pe=0;pe<me;pe+=1)(ue=ee[pe].a).s.propType&&((se=ee[pe].s.getMult(ie[l].anIndexes[pe],re.a[pe].s.totalChars)).length?te.scale(1+(ue.s.v[0]-1)*se[0],1+(ue.s.v[1]-1)*se[1],1):te.scale(1+(ue.s.v[0]-1)*se,1+(ue.s.v[1]-1)*se,1));for(pe=0;pe<me;pe+=1){if(ue=ee[pe].a,se=ee[pe].s.getMult(ie[l].anIndexes[pe],re.a[pe].s.totalChars),ue.sk.propType&&(se.length?te.skewFromAxis(-ue.sk.v*se[0],ue.sa.v*se[1]):te.skewFromAxis(-ue.sk.v*se,ue.sa.v*se)),ue.r.propType&&(se.length?te.rotateZ(-ue.r.v*se[2]):te.rotateZ(-ue.r.v*se)),ue.ry.propType&&(se.length?te.rotateY(ue.ry.v*se[1]):te.rotateY(ue.ry.v*se)),ue.rx.propType&&(se.length?te.rotateX(ue.rx.v*se[0]):te.rotateX(ue.rx.v*se)),ue.o.propType&&(se.length?$e+=(ue.o.v*se[0]-$e)*se[0]:$e+=(ue.o.v*se-$e)*se),r.strokeWidthAnim&&ue.sw.propType&&(se.length?Se+=ue.sw.v*se[0]:Se+=ue.sw.v*se),r.strokeColorAnim&&ue.sc.propType)for(be=0;be<3;be+=1)se.length?_e[be]+=(ue.sc.v[be]-_e[be])*se[0]:_e[be]+=(ue.sc.v[be]-_e[be])*se;if(r.fillColorAnim&&r.fc){if(ue.fc.propType)for(be=0;be<3;be+=1)se.length?Te[be]+=(ue.fc.v[be]-Te[be])*se[0]:Te[be]+=(ue.fc.v[be]-Te[be])*se;ue.fh.propType&&(Te=se.length?addHueToRGB(Te,ue.fh.v*se[0]):addHueToRGB(Te,ue.fh.v*se)),ue.fs.propType&&(Te=se.length?addSaturationToRGB(Te,ue.fs.v*se[0]):addSaturationToRGB(Te,ue.fs.v*se)),ue.fb.propType&&(Te=se.length?addBrightnessToRGB(Te,ue.fb.v*se[0]):addBrightnessToRGB(Te,ue.fb.v*se))}}for(pe=0;pe<me;pe+=1)(ue=ee[pe].a).p.propType&&(se=ee[pe].s.getMult(ie[l].anIndexes[pe],re.a[pe].s.totalChars),this._hasMaskedPath?se.length?te.translate(0,ue.p.v[1]*se[0],-ue.p.v[2]*se[1]):te.translate(0,ue.p.v[1]*se,-ue.p.v[2]*se):se.length?te.translate(ue.p.v[0]*se[0],ue.p.v[1]*se[1],-ue.p.v[2]*se[2]):te.translate(ue.p.v[0]*se,ue.p.v[1]*se,-ue.p.v[2]*se));if(r.strokeWidthAnim&&(Oe=Se<0?0:Se),r.strokeColorAnim&&(xe="rgb("+Math.round(255*_e[0])+","+Math.round(255*_e[1])+","+Math.round(255*_e[2])+")"),r.fillColorAnim&&r.fc&&(Ee="rgb("+Math.round(255*Te[0])+","+Math.round(255*Te[1])+","+Math.round(255*Te[2])+")"),this._hasMaskedPath){if(te.translate(0,-r.ls),te.translate(0,Z[1]*le*.01+o,0),this._pathData.p.v){J=(D.point[1]-U.point[1])/(D.point[0]-U.point[0]);var ze=180*Math.atan(J)/Math.PI;D.point[0]<U.point[0]&&(ze+=180),te.rotate(-ze*Math.PI/180)}te.translate(ye,we,0),O-=Z[0]*ie[l].an*.005,ie[l+1]&&ve!==ie[l+1].ind&&(O+=ie[l].an/2,O+=.001*r.tr*r.finalSize)}else{switch(te.translate(e,o,0),r.ps&&te.translate(r.ps[0],r.ps[1]+r.ascent,0),r.j){case 1:te.translate(ie[l].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[ie[l].line]),0,0);break;case 2:te.translate(ie[l].animatorJustifyOffset+r.justifyOffset+(r.boxWidth-r.lineWidths[ie[l].line])/2,0,0)}te.translate(0,-r.ls),te.translate(ge,0,0),te.translate(Z[0]*ie[l].an*.005,Z[1]*le*.01,0),e+=ie[l].l+.001*r.tr*r.finalSize}ne==="html"?Fe=te.toCSS():ne==="svg"?Fe=te.to2dCSS():Re=[te.props[0],te.props[1],te.props[2],te.props[3],te.props[4],te.props[5],te.props[6],te.props[7],te.props[8],te.props[9],te.props[10],te.props[11],te.props[12],te.props[13],te.props[14],te.props[15]],Ce=$e}ae<=l?(he=new LetterProps(Ce,Oe,xe,Ee,Fe,Re),this.renderedLetters.push(he),ae+=1,this.lettersChangedFlag=!0):(he=this.renderedLetters[l],this.lettersChangedFlag=he.update(Ce,Oe,xe,Ee,Fe,Re)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(r,t,e,o,l,h){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var y=!1;return this.o!==r&&(this.o=r,this._mdf.o=!0,y=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,y=!0),this.sc!==e&&(this.sc=e,this._mdf.sc=!0,y=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,y=!0),this.m!==l&&(this.m=l,this._mdf.m=!0,y=!0),!h.length||this.p[0]===h[0]&&this.p[1]===h[1]&&this.p[4]===h[4]&&this.p[5]===h[5]&&this.p[12]===h[12]&&this.p[13]===h[13]||(this.p=h,this._mdf.p=!0,y=!0),y},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(r,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r},TextProperty.prototype.setCurrentData=function(r){r.__complete||this.completeTextData(r),this.currentData=r,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(r){this.effectsSequence.push(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(r){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||r){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,e=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var o;this.lock=!0,this._mdf=!1;var l=this.effectsSequence.length,h=r||this.data.d.k[this.keysIndex].s;for(o=0;o<l;o+=1)h=e!==this.keysIndex?this.effectsSequence[o](h,h.t):this.effectsSequence[o](this.currentData,h.t);t!==h&&this.setCurrentData(h),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var r=this.data.d.k,t=this.elem.comp.renderedFrame,e=0,o=r.length;e<=o-1&&!(e===o-1||r[e+1].t>t);)e+=1;return this.keysIndex!==e&&(this.keysIndex=e),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(r){for(var t,e,o=[],l=0,h=r.length,y=!1;l<h;)t=r.charCodeAt(l),FontManager.isCombinedCharacter(t)?o[o.length-1]+=r.charAt(l):t>=55296&&t<=56319?(e=r.charCodeAt(l+1))>=56320&&e<=57343?(y||FontManager.isModifier(t,e)?(o[o.length-1]+=r.substr(l,2),y=!1):o.push(r.substr(l,2)),l+=1):o.push(r.charAt(l)):t>56319?(e=r.charCodeAt(l+1),FontManager.isZeroWidthJoiner(t,e)?(y=!0,o[o.length-1]+=r.substr(l,2),l+=1):o.push(r.charAt(l))):FontManager.isZeroWidthJoiner(t)?(o[o.length-1]+=r.charAt(l),y=!0):o.push(r.charAt(l)),l+=1;return o},TextProperty.prototype.completeTextData=function(r){r.__complete=!0;var t,e,o,l,h,y,O,D=this.elem.globalData.fontManager,R=this.data,F=[],j=0,B=R.m.g,U=0,W=0,q=0,K=[],Y=0,X=0,J=D.getFontByName(r.f),Q=0,Z=getFontProperties(J);r.fWeight=Z.weight,r.fStyle=Z.style,r.finalSize=r.s,r.finalText=this.buildFinalText(r.t),e=r.finalText.length,r.finalLineHeight=r.lh;var ee,re=r.tr/1e3*r.finalSize;if(r.sz)for(var te,ne,ae=!0,ie=r.sz[0],oe=r.sz[1];ae;){te=0,Y=0,e=(ne=this.buildFinalText(r.t)).length,re=r.tr/1e3*r.finalSize;var ce=-1;for(t=0;t<e;t+=1)ee=ne[t].charCodeAt(0),o=!1,ne[t]===" "?ce=t:ee!==13&&ee!==3||(Y=0,o=!0,te+=r.finalLineHeight||1.2*r.finalSize),D.chars?(O=D.getCharData(ne[t],J.fStyle,J.fFamily),Q=o?0:O.w*r.finalSize/100):Q=D.measureText(ne[t],r.f,r.finalSize),Y+Q>ie&&ne[t]!==" "?(ce===-1?e+=1:t=ce,te+=r.finalLineHeight||1.2*r.finalSize,ne.splice(t,ce===t?1:0,"\r"),ce=-1,Y=0):(Y+=Q,Y+=re);te+=J.ascent*r.finalSize/100,this.canResize&&r.finalSize>this.minimumFontSize&&oe<te?(r.finalSize-=1,r.finalLineHeight=r.finalSize*r.lh/r.s):(r.finalText=ne,e=r.finalText.length,ae=!1)}Y=-re,Q=0;var ue,pe=0;for(t=0;t<e;t+=1)if(o=!1,(ee=(ue=r.finalText[t]).charCodeAt(0))===13||ee===3?(pe=0,K.push(Y),X=Y>X?Y:X,Y=-2*re,l="",o=!0,q+=1):l=ue,D.chars?(O=D.getCharData(ue,J.fStyle,D.getFontByName(r.f).fFamily),Q=o?0:O.w*r.finalSize/100):Q=D.measureText(l,r.f,r.finalSize),ue===" "?pe+=Q+re:(Y+=Q+re+pe,pe=0),F.push({l:Q,an:Q,add:U,n:o,anIndexes:[],val:l,line:q,animatorJustifyOffset:0}),B==2){if(U+=Q,l===""||l===" "||t===e-1){for(l!==""&&l!==" "||(U-=Q);W<=t;)F[W].an=U,F[W].ind=j,F[W].extra=Q,W+=1;j+=1,U=0}}else if(B==3){if(U+=Q,l===""||t===e-1){for(l===""&&(U-=Q);W<=t;)F[W].an=U,F[W].ind=j,F[W].extra=Q,W+=1;U=0,j+=1}}else F[j].ind=j,F[j].extra=0,j+=1;if(r.l=F,X=Y>X?Y:X,K.push(Y),r.sz)r.boxWidth=r.sz[0],r.justifyOffset=0;else switch(r.boxWidth=X,r.j){case 1:r.justifyOffset=-r.boxWidth;break;case 2:r.justifyOffset=-r.boxWidth/2;break;default:r.justifyOffset=0}r.lineWidths=K;var me,he,se,le,fe=R.a;y=fe.length;var ge=[];for(h=0;h<y;h+=1){for((me=fe[h]).a.sc&&(r.strokeColorAnim=!0),me.a.sw&&(r.strokeWidthAnim=!0),(me.a.fc||me.a.fh||me.a.fs||me.a.fb)&&(r.fillColorAnim=!0),le=0,se=me.s.b,t=0;t<e;t+=1)(he=F[t]).anIndexes[h]=le,(se==1&&he.val!==""||se==2&&he.val!==""&&he.val!==" "||se==3&&(he.n||he.val==" "||t==e-1)||se==4&&(he.n||t==e-1))&&(me.s.rn===1&&ge.push(le),le+=1);R.a[h].s.totalChars=le;var ye,we=-1;if(me.s.rn===1)for(t=0;t<e;t+=1)we!=(he=F[t]).anIndexes[h]&&(we=he.anIndexes[h],ye=ge.splice(Math.floor(Math.random()*ge.length),1)[0]),he.anIndexes[h]=ye}r.yOffset=r.finalLineHeight||1.2*r.finalSize,r.ls=r.ls||0,r.ascent=J.ascent*r.finalSize/100},TextProperty.prototype.updateDocumentData=function(r,t){t=t===void 0?this.keysIndex:t;var e=this.copyData({},this.data.d.k[t].s);e=this.copyData(e,r),this.data.d.k[t].s=e,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(r){var t=this.data.d.k[r].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(r){this.canResize=r,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(r){this.minimumFontSize=Math.floor(r)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var r=Math.max,t=Math.min,e=Math.floor;function o(l,h){this._currentTextLength=-1,this.k=!1,this.data=h,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,h.s||{k:0},0,0,this),this.e="e"in h?PropertyFactory.getProp(l,h.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(l,h.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,h.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,h.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,h.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,h.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return o.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var h=0,y=0,O=1,D=1;this.ne.v>0?h=this.ne.v/100:y=-this.ne.v/100,this.xe.v>0?O=1-this.xe.v/100:D=1+this.xe.v/100;var R=BezierFactory.getBezierEasing(h,y,O,D).get,F=0,j=this.finalS,B=this.finalE,U=this.data.sh;if(U===2)F=R(F=B===j?l>=B?1:0:r(0,t(.5/(B-j)+(l-j)/(B-j),1)));else if(U===3)F=R(F=B===j?l>=B?0:1:1-r(0,t(.5/(B-j)+(l-j)/(B-j),1)));else if(U===4)B===j?F=0:(F=r(0,t(.5/(B-j)+(l-j)/(B-j),1)))<.5?F*=2:F=1-2*(F-.5),F=R(F);else if(U===5){if(B===j)F=0;else{var W=B-j,q=-W/2+(l=t(r(0,l+.5-j),B-j)),K=W/2;F=Math.sqrt(1-q*q/(K*K))}F=R(F)}else U===6?(B===j?F=0:(l=t(r(0,l+.5-j),B-j),F=(1+Math.cos(Math.PI+2*Math.PI*l/(B-j)))/2),F=R(F)):(l>=e(j)&&(F=r(0,t(l-j<0?t(B,1)-(j-l):B-l,1))),F=R(F));if(this.sm.v!==100){var Y=.01*this.sm.v;Y===0&&(Y=1e-8);var X=.5-.5*Y;F<X?F=0:(F=(F-X)/Y)>1&&(F=1)}return F*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var h=this.data.r===2?1:100/this.data.totalChars,y=this.o.v/h,O=this.s.v/h+y,D=this.e.v/h+y;if(O>D){var R=O;O=D,D=R}this.finalS=O,this.finalE=D}},extendPrototype([DynamicPropertyContainer],o),{getTextSelectorProp:function(l,h,y){return new o(l,h)}}}(),poolFactory=function(r,t,e){var o=0,l=r,h=createSizedArray(l);return{newElement:function(){return o?h[o-=1]:t()},release:function(y){o===l&&(h=pooling.double(h),l*=2),e&&e(y),h[o]=y,o+=1}}},pooling={double:function(r){return r.concat(createSizedArray(r.length))}},pointPool=poolFactory(8,function(){return createTypedArray("float32",2)}),shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(r){var t,e=r._length;for(t=0;t<e;t+=1)pointPool.release(r.v[t]),pointPool.release(r.i[t]),pointPool.release(r.o[t]),r.v[t]=null,r.i[t]=null,r.o[t]=null;r._length=0,r.c=!1}),factory.clone=function(r){var t,e=factory.newElement(),o=r._length===void 0?r.v.length:r._length;for(e.setLength(o),e.c=r.c,t=0;t<o;t+=1)e.setTripleAt(r.v[t][0],r.v[t][1],r.o[t][0],r.o[t][1],r.i[t][0],r.i[t][1],t);return e},factory),factory,shapeCollectionPool=function(){var r={newShapeCollection:function(){return t?o[t-=1]:new ShapeCollection},release:function(l){var h,y=l._length;for(h=0;h<y;h+=1)shapePool.release(l.shapes[h]);l._length=0,t===e&&(o=pooling.double(o),e*=2),o[t]=l,t+=1}},t=0,e=4,o=createSizedArray(e);return r}(),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(r){var t,e=r.lengths.length;for(t=0;t<e;t+=1)bezierLengthPool.release(r.lengths[t]);r.lengths.length=0}),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),markerParser=function(){function r(t){for(var e,o=t.split(`\r
`),l={},h=0,y=0;y<o.length;y+=1)(e=o[y].split(":")).length===2&&(l[e[0]]=e[1].trim(),h+=1);if(h===0)throw new Error;return l}return function(t){for(var e=[],o=0;o<t.length;o+=1){var l=t[o],h={time:l.tm,duration:l.dr};try{h.payload=JSON.parse(t[o].cm)}catch{try{h.payload=r(t[o].cm)}catch{h.payload={name:t[o]}}}e.push(h)}return e}}();function BaseRenderer(){}function SVGRenderer(r,t){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var e="";if(t&&t.title){var o=createNS("title"),l=createElementID();o.setAttribute("id",l),o.textContent=t.title,this.svgElement.appendChild(o),e+=l}if(t&&t.description){var h=createNS("desc"),y=createElementID();h.setAttribute("id",y),h.textContent=t.description,this.svgElement.appendChild(h),e+=" "+y}e&&this.svgElement.setAttribute("aria-labelledby",e);var O=createNS("defs");this.svgElement.appendChild(O);var D=createNS("g");this.svgElement.appendChild(D),this.layerElement=D,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:O,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(r,t){this.animationItem=r,this.renderConfig={clearCanvas:!t||t.clearCanvas===void 0||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(r,t){this.animationItem=r,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(r,t,e){this.data=r,this.element=t,this.globalData=e,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o,l,h=this.globalData.defs,y=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(y),this.solidPath="";var O,D,R,F,j,B,U=this.masksProperties,W=0,q=[],K=createElementID(),Y="clipPath",X="clip-path";for(o=0;o<y;o+=1)if((U[o].mode!=="a"&&U[o].mode!=="n"||U[o].inv||U[o].o.k!==100||U[o].o.x)&&(Y="mask",X="mask"),U[o].mode!=="s"&&U[o].mode!=="i"||W!==0?R=null:((R=createNS("rect")).setAttribute("fill","#ffffff"),R.setAttribute("width",this.element.comp.data.w||0),R.setAttribute("height",this.element.comp.data.h||0),q.push(R)),l=createNS("path"),U[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,U[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,U[o],3),elem:l,lastPath:""},h.appendChild(l);else{var J;if(W+=1,l.setAttribute("fill",U[o].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero"),U[o].x.k!==0?(Y="mask",X="mask",B=PropertyFactory.getProp(this.element,U[o].x,0,null,this.element),J=createElementID(),(F=createNS("filter")).setAttribute("id",J),(j=createNS("feMorphology")).setAttribute("operator","erode"),j.setAttribute("in","SourceGraphic"),j.setAttribute("radius","0"),F.appendChild(j),h.appendChild(F),l.setAttribute("stroke",U[o].mode==="s"?"#000000":"#ffffff")):(j=null,B=null),this.storedData[o]={elem:l,x:B,expan:j,lastPath:"",lastOperator:"",filterId:J,lastRadius:0},U[o].mode==="i"){D=q.length;var Q=createNS("g");for(O=0;O<D;O+=1)Q.appendChild(q[O]);var Z=createNS("mask");Z.setAttribute("mask-type","alpha"),Z.setAttribute("id",K+"_"+W),Z.appendChild(l),h.appendChild(Z),Q.setAttribute("mask","url("+locationHref+"#"+K+"_"+W+")"),q.length=0,q.push(Q)}else q.push(l);U[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,U[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,U[o],3),invRect:R},this.viewData[o].prop.k||this.drawPath(U[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(Y),y=q.length,o=0;o<y;o+=1)this.maskElement.appendChild(q[o]);W>0&&(this.maskElement.setAttribute("id",K),this.element.maskedElement.setAttribute(X,"url("+locationHref+"#"+K+")"),h.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(r,t){this.elem=r,this.pos=t}function SVGStyleData(r,t){this.data=r,this.type=r.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=r.hd===!0,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(r,t,e){this.caches=[],this.styles=[],this.transformers=r,this.lStr="",this.sh=e,this.lvl=t,this._isAnimated=!!e.k;for(var o=0,l=r.length;o<l;){if(r[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}function SVGTransformData(r,t,e){this.transform={mProps:r,op:t,container:e},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(r,t,e){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,t.o,0,.01,this),this.w=PropertyFactory.getProp(r,t.w,0,null,this),this.d=new DashProperty(r,t.d||{},"svg",this),this.c=PropertyFactory.getProp(r,t.c,1,255,this),this.style=e,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(r,t,e){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(r,t.o,0,.01,this),this.c=PropertyFactory.getProp(r,t.c,1,255,this),this.style=e}function SVGGradientFillStyleData(r,t,e){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.initGradientData(r,t,e)}function SVGGradientStrokeStyleData(r,t,e){this.initDynamicPropertyContainer(r),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(r,t.w,0,null,this),this.d=new DashProperty(r,t.d||{},"svg",this),this.initGradientData(r,t,e),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(r){var t,e,o=this.layers.length;for(this.completeLayers=!0,t=o-1;t>=0;t-=1)this.elements[t]||(e=this.layers[t]).ip-e.st<=r-this.layers[t].st&&e.op-e.st>r-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(r){switch(r.ty){case 2:return this.createImage(r);case 0:return this.createComp(r);case 1:return this.createSolid(r);case 3:default:return this.createNull(r);case 4:return this.createShape(r);case 5:return this.createText(r);case 6:return this.createAudio(r);case 13:return this.createCamera(r);case 15:return this.createFootage(r)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(r){return new AudioElement(r,this.globalData,this)},BaseRenderer.prototype.createFootage=function(r){return new FootageElement(r,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var r,t=this.layers.length;for(r=0;r<t;r+=1)this.buildItem(r);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(r){var t;this.completeLayers=!1;var e,o=r.length,l=this.layers.length;for(t=0;t<o;t+=1)for(e=0;e<l;){if(this.layers[e].id===r[t].id){this.layers[e]=r[t];break}e+=1}},BaseRenderer.prototype.setProjectInterface=function(r){this.globalData.projectInterface=r},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(r,t,e){for(var o=this.elements,l=this.layers,h=0,y=l.length;h<y;)l[h].ind==t&&(o[h]&&o[h]!==!0?(e.push(o[h]),o[h].setAsParent(),l[h].parent!==void 0?this.buildElementParenting(r,l[h].parent,e):r.setHierarchy(e)):(this.buildItem(h),this.addPendingElement(r))),h+=1},BaseRenderer.prototype.addPendingElement=function(r){this.pendingElements.push(r)},BaseRenderer.prototype.searchExtraCompositions=function(r){var t,e=r.length;for(t=0;t<e;t+=1)if(r[t].xt){var o=this.createComp(r[t]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.setupGlobalData=function(r,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(r.chars),this.globalData.fontManager.addFonts(r.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=r.fr,this.globalData.nm=r.nm,this.globalData.compSize={w:r.w,h:r.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(r){return new NullElement(r,this.globalData,this)},SVGRenderer.prototype.createShape=function(r){return new SVGShapeElement(r,this.globalData,this)},SVGRenderer.prototype.createText=function(r){return new SVGTextLottieElement(r,this.globalData,this)},SVGRenderer.prototype.createImage=function(r){return new IImageElement(r,this.globalData,this)},SVGRenderer.prototype.createComp=function(r){return new SVGCompElement(r,this.globalData,this)},SVGRenderer.prototype.createSolid=function(r){return new ISolidElement(r,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(r){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+r.w+" "+r.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",r.w),this.svgElement.setAttribute("height",r.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(r,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=r;var e=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",r.w),o.setAttribute("height",r.h),o.setAttribute("x",0),o.setAttribute("y",0);var l=createElementID();e.setAttribute("id",l),e.appendChild(o),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+l+")"),t.appendChild(e),this.layers=r.layers,this.elements=createSizedArray(r.layers.length)},SVGRenderer.prototype.destroy=function(){var r;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(r=0;r<t;r+=1)this.elements[r]&&this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(r){var t=this.elements;if(!t[r]&&this.layers[r].ty!==99){t[r]=!0;var e=this.createItem(this.layers[r]);t[r]=e,expressionsPlugin&&(this.layers[r].ty===0&&this.globalData.projectInterface.registerComposition(e),e.initExpressions()),this.appendElementInPos(e,r),this.layers[r].tt&&(this.elements[r-1]&&this.elements[r-1]!==!0?e.setMatte(t[r-1].layerId):(this.buildItem(r-1),this.addPendingElement(e)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var r=this.pendingElements.pop();if(r.checkParenting(),r.data.tt)for(var t=0,e=this.elements.length;t<e;){if(this.elements[t]===r){r.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(r){if(this.renderedFrame!==r&&!this.destroyed){var t;r===null?r=this.renderedFrame:this.renderedFrame=r,this.globalData.frameNum=r,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=r,this.globalData._mdf=!1;var e=this.layers.length;for(this.completeLayers||this.checkLayers(r),t=e-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(r-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(r,t){var e=r.getBaseElement();if(e){for(var o,l=0;l<t;)this.elements[l]&&this.elements[l]!==!0&&this.elements[l].getBaseElement()&&(o=this.elements[l].getBaseElement()),l+=1;o?this.layerElement.insertBefore(e,o):this.layerElement.appendChild(e)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(r){return new CVShapeElement(r,this.globalData,this)},CanvasRenderer.prototype.createText=function(r){return new CVTextElement(r,this.globalData,this)},CanvasRenderer.prototype.createImage=function(r){return new CVImageElement(r,this.globalData,this)},CanvasRenderer.prototype.createComp=function(r){return new CVCompElement(r,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(r){return new CVSolidElement(r,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(r){if(r[0]!==1||r[1]!==0||r[4]!==0||r[5]!==1||r[12]!==0||r[13]!==0)if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(r);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var e=this.contextData.cTr.props;this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])}else this.canvasContext.transform(r[0],r[1],r[4],r[5],r[12],r[13])},CanvasRenderer.prototype.ctxOpacity=function(r){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=r<0?0:r,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=r<0?0:r,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(r){if(this.renderConfig.clearCanvas){r&&this.canvasContext.save();var t,e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var o=this.contextData.saved[this.contextData.cArrPos];for(t=0;t<16;t+=1)o[t]=e[t];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(r){if(this.renderConfig.clearCanvas){r&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,e=this.contextData.saved[this.contextData.cArrPos],o=this.contextData.cTr.props;for(t=0;t<16;t+=1)o[t]=e[t];this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),e=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=e,this.globalData.currentGlobalAlpha!==e&&(this.canvasContext.globalAlpha=e,this.globalData.currentGlobalAlpha=e)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(r){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var e="0px 0px 0px";t.transformOrigin=e,t.mozTransformOrigin=e,t.webkitTransformOrigin=e,t["-webkit-transform"]=e,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=r,this.layers=r.layers,this.transformCanvas={w:r.w,h:r.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(r,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(r.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var r,t,e,o;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",r*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(r=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var l=this.renderConfig.preserveAspectRatio.split(" "),h=l[1]||"meet",y=l[0]||"xMidYMid",O=y.substr(0,4),D=y.substr(4);e=r/t,(o=this.transformCanvas.w/this.transformCanvas.h)>e&&h==="meet"||o<e&&h==="slice"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=O==="xMid"&&(o<e&&h==="meet"||o>e&&h==="slice")?(r-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:O==="xMax"&&(o<e&&h==="meet"||o>e&&h==="slice")?(r-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=D==="YMid"&&(o>e&&h==="meet"||o<e&&h==="slice")?(t-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:D==="YMax"&&(o>e&&h==="meet"||o<e&&h==="slice")?(t-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var r;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),r=(this.layers?this.layers.length:0)-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(r,t){if((this.renderedFrame!==r||this.renderConfig.clearCanvas!==!0||t)&&!this.destroyed&&r!==-1){var e;this.renderedFrame=r,this.globalData.frameNum=r-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=r;var o=this.layers.length;for(this.completeLayers||this.checkLayers(r),e=0;e<o;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(r-this.layers[e].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),e=o-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(r){var t=this.elements;if(!t[r]&&this.layers[r].ty!==99){var e=this.createItem(this.layers[r],this,this.globalData);t[r]=e,e.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(r,t){var e=r.getBaseElement();if(e){var o=this.layers[t];if(o.ddd&&this.supports3d)this.addTo3dContainer(e,t);else if(this.threeDElements)this.addTo3dContainer(e,t);else{for(var l,h,y=0;y<t;)this.elements[y]&&this.elements[y]!==!0&&this.elements[y].getBaseElement&&(h=this.elements[y],l=(this.layers[y].ddd?this.getThreeDContainerByPos(y):h.getBaseElement())||l),y+=1;l?o.ddd&&this.supports3d||this.layerElement.insertBefore(e,l):o.ddd&&this.supports3d||this.layerElement.appendChild(e)}}},HybridRenderer.prototype.createShape=function(r){return this.supports3d?new HShapeElement(r,this.globalData,this):new SVGShapeElement(r,this.globalData,this)},HybridRenderer.prototype.createText=function(r){return this.supports3d?new HTextElement(r,this.globalData,this):new SVGTextLottieElement(r,this.globalData,this)},HybridRenderer.prototype.createCamera=function(r){return this.camera=new HCameraElement(r,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(r){return this.supports3d?new HImageElement(r,this.globalData,this):new IImageElement(r,this.globalData,this)},HybridRenderer.prototype.createComp=function(r){return this.supports3d?new HCompElement(r,this.globalData,this):new SVGCompElement(r,this.globalData,this)},HybridRenderer.prototype.createSolid=function(r){return this.supports3d?new HSolidElement(r,this.globalData,this):new ISolidElement(r,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(r){for(var t=0,e=this.threeDElements.length;t<e;){if(this.threeDElements[t].startPos<=r&&this.threeDElements[t].endPos>=r)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(r,t){var e,o,l=createTag("div");styleDiv(l);var h=createTag("div");if(styleDiv(h),t==="3d"){(e=l.style).width=this.globalData.compSize.w+"px",e.height=this.globalData.compSize.h+"px";var y="50% 50%";e.webkitTransformOrigin=y,e.mozTransformOrigin=y,e.transformOrigin=y;var O="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(o=h.style).transform=O,o.webkitTransform=O}l.appendChild(h);var D={container:h,perspectiveElem:l,startPos:r,endPos:r,type:t};return this.threeDElements.push(D),D},HybridRenderer.prototype.build3dContainers=function(){var r,t,e=this.layers.length,o="";for(r=0;r<e;r+=1)this.layers[r].ddd&&this.layers[r].ty!==3?(o!=="3d"&&(o="3d",t=this.createThreeDContainer(r,"3d")),t.endPos=Math.max(t.endPos,r)):(o!=="2d"&&(o="2d",t=this.createThreeDContainer(r,"2d")),t.endPos=Math.max(t.endPos,r));for(r=(e=this.threeDElements.length)-1;r>=0;r-=1)this.resizerElem.appendChild(this.threeDElements[r].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(r,t){for(var e=0,o=this.threeDElements.length;e<o;){if(t<=this.threeDElements[e].endPos){for(var l,h=this.threeDElements[e].startPos;h<t;)this.elements[h]&&this.elements[h].getBaseElement&&(l=this.elements[h].getBaseElement()),h+=1;l?this.threeDElements[e].container.insertBefore(r,l):this.threeDElements[e].container.appendChild(r);break}e+=1}},HybridRenderer.prototype.configAnimation=function(r){var t=createTag("div"),e=this.animationItem.wrapper,o=t.style;o.width=r.w+"px",o.height=r.h+"px",this.resizerElem=t,styleDiv(t),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),e.appendChild(t),o.overflow="hidden";var l=createNS("svg");l.setAttribute("width","1"),l.setAttribute("height","1"),styleDiv(l),this.resizerElem.appendChild(l);var h=createNS("defs");l.appendChild(h),this.data=r,this.setupGlobalData(r,l),this.globalData.defs=h,this.layers=r.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var r;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(r=0;r<t;r+=1)this.elements[r].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var r,t,e,o,l=this.animationItem.wrapper.offsetWidth,h=this.animationItem.wrapper.offsetHeight,y=l/h;this.globalData.compSize.w/this.globalData.compSize.h>y?(r=l/this.globalData.compSize.w,t=l/this.globalData.compSize.w,e=0,o=(h-this.globalData.compSize.h*(l/this.globalData.compSize.w))/2):(r=h/this.globalData.compSize.h,t=h/this.globalData.compSize.h,e=(l-this.globalData.compSize.w*(h/this.globalData.compSize.h))/2,o=0);var O=this.resizerElem.style;O.webkitTransform="matrix3d("+r+",0,0,0,0,"+t+",0,0,0,0,1,0,"+e+","+o+",0,1)",O.transform=O.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var r,t=this.globalData.compSize.w,e=this.globalData.compSize.h,o=this.threeDElements.length;for(r=0;r<o;r+=1){var l=this.threeDElements[r].perspectiveElem.style;l.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",l.perspective=l.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(r){var t,e=r.length,o=createTag("div");for(t=0;t<e;t+=1)if(r[t].xt){var l=this.createComp(r[t],o,this.globalData.comp,null);l.initExpressions(),this.globalData.projectInterface.registerComposition(l)}},MaskElement.prototype.getMaskProperty=function(r){return this.viewData[r].prop},MaskElement.prototype.renderFrame=function(r){var t,e=this.element.finalTransform.mat,o=this.masksProperties.length;for(t=0;t<o;t+=1)if((this.viewData[t].prop._mdf||r)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||r)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),this.masksProperties[t].mode!=="n"&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||r)&&this.viewData[t].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||r))){var l=this.storedData[t].expan;this.storedData[t].x.v<0?(this.storedData[t].lastOperator!=="erode"&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),l.setAttribute("radius",-this.storedData[t].x.v)):(this.storedData[t].lastOperator!=="dilate"&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var r="M0,0 ";return r+=" h"+this.globalData.compSize.w,r+=" v"+this.globalData.compSize.h,r+=" h-"+this.globalData.compSize.w,r+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(r,t,e){var o,l,h=" M"+t.v[0][0]+","+t.v[0][1];for(l=t._length,o=1;o<l;o+=1)h+=" C"+t.o[o-1][0]+","+t.o[o-1][1]+" "+t.i[o][0]+","+t.i[o][1]+" "+t.v[o][0]+","+t.v[o][1];if(t.c&&l>1&&(h+=" C"+t.o[o-1][0]+","+t.o[o-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),e.lastPath!==h){var y="";e.elem&&(t.c&&(y=r.inv?this.solidPath+h:h),e.elem.setAttribute("d",y)),e.lastPath=h}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(r){this.hierarchy=r},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(r,t){var e,o=this.dynamicProperties.length;for(e=0;e<o;e+=1)(t||this._isParent&&this.dynamicProperties[e].propType==="transform")&&(this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&this.dynamicProperties.push(r)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var r,t=this.finalTransform.mat,e=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;e<o;){if(this.hierarchy[e].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}e+=1}if(this.finalTransform._matMdf)for(r=this.finalTransform.mProp.v.props,t.cloneFromProps(r),e=0;e<o;e+=1)r=this.hierarchy[e].finalTransform.mProp.v.props,t.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}},globalToLocal:function(r){var t=[];t.push(this.finalTransform);for(var e,o=!0,l=this.comp;o;)l.finalTransform?(l.data.hasMask&&t.splice(0,0,l.finalTransform),l=l.comp):o=!1;var h,y=t.length;for(e=0;e<y;e+=1)h=t[e].mat.applyToPointArray(0,0,0),r=[r[0]-h[0],r[1]-h[1],0];return r},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(r){this.renderableComponents.indexOf(r)===-1&&this.renderableComponents.push(r)},removeRenderableComponent:function(r){this.renderableComponents.indexOf(r)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(r),1)},prepareRenderableFrame:function(r){this.checkLayerLimits(r)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(r){this.data.ip-this.data.st<=r&&this.data.op-this.data.st>r?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var r,t=this.renderableComponents.length;for(r=0;r<t;r+=1)this.renderableComponents[r].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(r,t,e){this.initFrame(),this.initBaseData(r,t,e),this.initTransform(r,t,e),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(r,t,e){this.o=PropertyFactory.getProp(r,t.o,0,.01,this),this.s=PropertyFactory.getProp(r,t.s,1,null,this),this.e=PropertyFactory.getProp(r,t.e,1,null,this),this.h=PropertyFactory.getProp(r,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(r,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(r,t.g,this),this.style=e,this.stops=[],this.setGradientData(e.pElem,t),this.setGradientOpacity(t,e),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(r,t){var e=createElementID(),o=createNS(t.t===1?"linearGradient":"radialGradient");o.setAttribute("id",e),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l,h,y,O=[];for(y=4*t.g.p,h=0;h<y;h+=4)l=createNS("stop"),o.appendChild(l),O.push(l);r.setAttribute(t.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+e+")"),this.gf=o,this.cst=O},SVGGradientFillStyleData.prototype.setGradientOpacity=function(r,t){if(this.g._hasOpacity&&!this.g._collapsable){var e,o,l,h=createNS("mask"),y=createNS("path");h.appendChild(y);var O=createElementID(),D=createElementID();h.setAttribute("id",D);var R=createNS(r.t===1?"linearGradient":"radialGradient");R.setAttribute("id",O),R.setAttribute("spreadMethod","pad"),R.setAttribute("gradientUnits","userSpaceOnUse"),l=r.g.k.k[0].s?r.g.k.k[0].s.length:r.g.k.k.length;var F=this.stops;for(o=4*r.g.p;o<l;o+=2)(e=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),R.appendChild(e),F.push(e);y.setAttribute(r.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+O+")"),r.ty==="gs"&&(y.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),y.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),r.lj===1&&y.setAttribute("stroke-miterlimit",r.ml)),this.of=R,this.ms=h,this.ost=F,this.maskId=D,t.msElem=y}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var r=new Matrix,t=new Matrix;function e(D,R,F){(F||R.transform.op._mdf)&&R.transform.container.setAttribute("opacity",R.transform.op.v),(F||R.transform.mProps._mdf)&&R.transform.container.setAttribute("transform",R.transform.mProps.v.to2dCSS())}function o(D,R,F){var j,B,U,W,q,K,Y,X,J,Q,Z,ee=R.styles.length,re=R.lvl;for(K=0;K<ee;K+=1){if(W=R.sh._mdf||F,R.styles[K].lvl<re){for(X=t.reset(),Q=re-R.styles[K].lvl,Z=R.transformers.length-1;!W&&Q>0;)W=R.transformers[Z].mProps._mdf||W,Q-=1,Z-=1;if(W)for(Q=re-R.styles[K].lvl,Z=R.transformers.length-1;Q>0;)J=R.transformers[Z].mProps.v.props,X.transform(J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7],J[8],J[9],J[10],J[11],J[12],J[13],J[14],J[15]),Q-=1,Z-=1}else X=r;if(B=(Y=R.sh.paths)._length,W){for(U="",j=0;j<B;j+=1)(q=Y.shapes[j])&&q._length&&(U+=buildShapeString(q,q._length,q.c,X));R.caches[K]=U}else U=R.caches[K];R.styles[K].d+=D.hd===!0?"":U,R.styles[K]._mdf=W||R.styles[K]._mdf}}function l(D,R,F){var j=R.style;(R.c._mdf||F)&&j.pElem.setAttribute("fill","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||F)&&j.pElem.setAttribute("fill-opacity",R.o.v)}function h(D,R,F){y(D,R,F),O(0,R,F)}function y(D,R,F){var j,B,U,W,q,K=R.gf,Y=R.g._hasOpacity,X=R.s.v,J=R.e.v;if(R.o._mdf||F){var Q=D.ty==="gf"?"fill-opacity":"stroke-opacity";R.style.pElem.setAttribute(Q,R.o.v)}if(R.s._mdf||F){var Z=D.t===1?"x1":"cx",ee=Z==="x1"?"y1":"cy";K.setAttribute(Z,X[0]),K.setAttribute(ee,X[1]),Y&&!R.g._collapsable&&(R.of.setAttribute(Z,X[0]),R.of.setAttribute(ee,X[1]))}if(R.g._cmdf||F){j=R.cst;var re=R.g.c;for(U=j.length,B=0;B<U;B+=1)(W=j[B]).setAttribute("offset",re[4*B]+"%"),W.setAttribute("stop-color","rgb("+re[4*B+1]+","+re[4*B+2]+","+re[4*B+3]+")")}if(Y&&(R.g._omdf||F)){var te=R.g.o;for(U=(j=R.g._collapsable?R.cst:R.ost).length,B=0;B<U;B+=1)W=j[B],R.g._collapsable||W.setAttribute("offset",te[2*B]+"%"),W.setAttribute("stop-opacity",te[2*B+1])}if(D.t===1)(R.e._mdf||F)&&(K.setAttribute("x2",J[0]),K.setAttribute("y2",J[1]),Y&&!R.g._collapsable&&(R.of.setAttribute("x2",J[0]),R.of.setAttribute("y2",J[1])));else if((R.s._mdf||R.e._mdf||F)&&(q=Math.sqrt(Math.pow(X[0]-J[0],2)+Math.pow(X[1]-J[1],2)),K.setAttribute("r",q),Y&&!R.g._collapsable&&R.of.setAttribute("r",q)),R.e._mdf||R.h._mdf||R.a._mdf||F){q||(q=Math.sqrt(Math.pow(X[0]-J[0],2)+Math.pow(X[1]-J[1],2)));var ne=Math.atan2(J[1]-X[1],J[0]-X[0]),ae=R.h.v;ae>=1?ae=.99:ae<=-1&&(ae=-.99);var ie=q*ae,oe=Math.cos(ne+R.a.v)*ie+X[0],ce=Math.sin(ne+R.a.v)*ie+X[1];K.setAttribute("fx",oe),K.setAttribute("fy",ce),Y&&!R.g._collapsable&&(R.of.setAttribute("fx",oe),R.of.setAttribute("fy",ce))}}function O(D,R,F){var j=R.style,B=R.d;B&&(B._mdf||F)&&B.dashStr&&(j.pElem.setAttribute("stroke-dasharray",B.dashStr),j.pElem.setAttribute("stroke-dashoffset",B.dashoffset[0])),R.c&&(R.c._mdf||F)&&j.pElem.setAttribute("stroke","rgb("+bmFloor(R.c.v[0])+","+bmFloor(R.c.v[1])+","+bmFloor(R.c.v[2])+")"),(R.o._mdf||F)&&j.pElem.setAttribute("stroke-opacity",R.o.v),(R.w._mdf||F)&&(j.pElem.setAttribute("stroke-width",R.w.v),j.msElem&&j.msElem.setAttribute("stroke-width",R.w.v))}return{createRenderFunction:function(D){switch(D.ty){case"fl":return l;case"gf":return y;case"gs":return h;case"st":return O;case"sh":case"el":case"rc":case"sr":return o;case"tr":return e;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(r,t,e,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var l,h=4;t.ty==="rc"?h=5:t.ty==="el"?h=6:t.ty==="sr"&&(h=7),this.sh=ShapePropertyFactory.getShapeProp(r,t,h,r);var y,O=e.length;for(l=0;l<O;l+=1)e[l].closed||(y={transforms:o.addTransformSequence(e[l].transforms),trNodes:[]},this.styledShapes.push(y),e[l].elements.push(y))}function BaseElement(){}function NullElement(r,t,e){this.initFrame(),this.initBaseData(r,t,e),this.initFrame(),this.initTransform(r,t,e),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(r,t,e){this.assetData=t.getAssetData(r.refId),this.initElement(r,t,e),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(r,t,e){this.initElement(r,t,e)}function AudioElement(r,t,e){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(r.refId),this.initBaseData(r,t,e),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,t.frameRate,this):{_placeholder:!0}}function FootageElement(r,t,e){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(r.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(r,t,e)}function SVGCompElement(r,t,e){this.layers=r.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,t,e),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(r,t,e){this.textSpans=[],this.renderType="svg",this.initElement(r,t,e)}function SVGShapeElement(r,t,e){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(r,t,e),this.prevViewData=[]}function SVGTintFilter(r,t){this.filterManager=t;var e=createNS("feColorMatrix");if(e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","linearRGB"),e.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.setAttribute("result","f1"),r.appendChild(e),(e=createNS("feColorMatrix")).setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.setAttribute("result","f2"),r.appendChild(e),this.matrixFilter=e,t.effectElements[2].p.v!==100||t.effectElements[2].p.k){var o,l=createNS("feMerge");r.appendChild(l),(o=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),l.appendChild(o),(o=createNS("feMergeNode")).setAttribute("in","f2"),l.appendChild(o)}}function SVGFillFilter(r,t){this.filterManager=t;var e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.appendChild(e),this.matrixFilter=e}function SVGGaussianBlurEffect(r,t){r.setAttribute("x","-100%"),r.setAttribute("y","-100%"),r.setAttribute("width","300%"),r.setAttribute("height","300%"),this.filterManager=t;var e=createNS("feGaussianBlur");r.appendChild(e),this.feGaussianBlur=e}function SVGStrokeEffect(r,t){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}function SVGTritoneFilter(r,t){this.filterManager=t;var e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","linearRGB"),e.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.setAttribute("result","f1"),r.appendChild(e);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(o),this.matrixFilter=o;var l=createNS("feFuncR");l.setAttribute("type","table"),o.appendChild(l),this.feFuncR=l;var h=createNS("feFuncG");h.setAttribute("type","table"),o.appendChild(h),this.feFuncG=h;var y=createNS("feFuncB");y.setAttribute("type","table"),o.appendChild(y),this.feFuncB=y}function SVGProLevelsFilter(r,t){this.filterManager=t;var e=this.filterManager.effectElements,o=createNS("feComponentTransfer");(e[10].p.k||e[10].p.v!==0||e[11].p.k||e[11].p.v!==1||e[12].p.k||e[12].p.v!==1||e[13].p.k||e[13].p.v!==0||e[14].p.k||e[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(e[17].p.k||e[17].p.v!==0||e[18].p.k||e[18].p.v!==1||e[19].p.k||e[19].p.v!==1||e[20].p.k||e[20].p.v!==0||e[21].p.k||e[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(e[24].p.k||e[24].p.v!==0||e[25].p.k||e[25].p.v!==1||e[26].p.k||e[26].p.v!==1||e[27].p.k||e[27].p.v!==0||e[28].p.k||e[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(e[31].p.k||e[31].p.v!==0||e[32].p.k||e[32].p.v!==1||e[33].p.k||e[33].p.v!==1||e[34].p.k||e[34].p.v!==0||e[35].p.k||e[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(o),o=createNS("feComponentTransfer")),(e[3].p.k||e[3].p.v!==0||e[4].p.k||e[4].p.v!==1||e[5].p.k||e[5].p.v!==1||e[6].p.k||e[6].p.v!==0||e[7].p.k||e[7].p.v!==1)&&(o.setAttribute("color-interpolation-filters","sRGB"),r.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}function SVGDropShadowEffect(r,t){var e=t.container.globalData.renderConfig.filterSize;r.setAttribute("x",e.x),r.setAttribute("y",e.y),r.setAttribute("width",e.width),r.setAttribute("height",e.height),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result","drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,r.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in","drop_shadow_1"),l.setAttribute("result","drop_shadow_2"),this.feOffset=l,r.appendChild(l);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result","drop_shadow_3"),this.feFlood=h,r.appendChild(h);var y=createNS("feComposite");y.setAttribute("in","drop_shadow_3"),y.setAttribute("in2","drop_shadow_2"),y.setAttribute("operator","in"),y.setAttribute("result","drop_shadow_4"),r.appendChild(y);var O,D=createNS("feMerge");r.appendChild(D),O=createNS("feMergeNode"),D.appendChild(O),(O=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=O,this.feMerge=D,this.originalNodeAdded=!1,D.appendChild(O)}ShapeTransformManager.prototype={addTransformSequence:function(r){var t,e=r.length,o="_";for(t=0;t<e;t+=1)o+=r[t].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(r),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(r,t){for(var e,o=0,l=r.transforms.length,h=t;o<l&&!t;){if(r.transforms[o].transform.mProps._mdf){h=!0;break}o+=1}if(h)for(r.finalTransform.reset(),o=l-1;o>=0;o-=1)e=r.transforms[o].transform.mProps.v.props,r.finalTransform.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]);r._mdf=h},processSequences:function(r){var t,e=this.sequenceList.length;for(t=0;t<e;t+=1)this.processSequence(this.sequenceList[t],r)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var r=0,t=this.data.masksProperties.length;r<t;){if(this.data.masksProperties[r].mode!=="n"&&this.data.masksProperties[r].cl!==!1)return!0;r+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var r=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(r),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var r=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=r},initBaseData:function(r,t,e){this.globalData=t,this.comp=e,this.data=r,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var r,t,e,o=null;if(this.data.td){if(this.data.td==3||this.data.td==1){var l=createNS("mask");l.setAttribute("id",this.layerId),l.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),l.appendChild(this.layerElement),o=l,this.globalData.defs.appendChild(l),featureSupport.maskType||this.data.td!=1||(l.setAttribute("mask-type","luminance"),r=createElementID(),t=filtersFactory.createFilter(r),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(e=createNS("g")).appendChild(this.layerElement),o=e,l.appendChild(e),e.setAttribute("filter","url("+locationHref+"#"+r+")"))}else if(this.data.td==2){var h=createNS("mask");h.setAttribute("id",this.layerId),h.setAttribute("mask-type","alpha");var y=createNS("g");h.appendChild(y),r=createElementID(),t=filtersFactory.createFilter(r);var O=createNS("feComponentTransfer");O.setAttribute("in","SourceGraphic"),t.appendChild(O);var D=createNS("feFuncA");D.setAttribute("type","table"),D.setAttribute("tableValues","1.0 0.0"),O.appendChild(D),this.globalData.defs.appendChild(t);var R=createNS("rect");R.setAttribute("width",this.comp.data.w),R.setAttribute("height",this.comp.data.h),R.setAttribute("x","0"),R.setAttribute("y","0"),R.setAttribute("fill","#ffffff"),R.setAttribute("opacity","0"),y.setAttribute("filter","url("+locationHref+"#"+r+")"),y.appendChild(R),y.appendChild(this.layerElement),o=y,featureSupport.maskType||(h.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),e=createNS("g"),y.appendChild(R),e.appendChild(this.layerElement),o=e,y.appendChild(e)),this.globalData.defs.appendChild(h)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),o=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var F=createNS("clipPath"),j=createNS("path");j.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var B=createElementID();if(F.setAttribute("id",B),F.appendChild(j),this.globalData.defs.appendChild(F),this.checkMasks()){var U=createNS("g");U.setAttribute("clip-path","url("+locationHref+"#"+B+")"),U.appendChild(this.layerElement),this.transformedElement=U,o?o.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+B+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(r){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+r+")")}},IShapeElement.prototype={addShapeToModifiers:function(r){var t,e=this.shapeModifiers.length;for(t=0;t<e;t+=1)this.shapeModifiers[t].addShape(r)},isShapeInAnimatedModifiers:function(r){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(r))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var r,t=this.shapes.length;for(r=0;r<t;r+=1)this.shapes[r].sh.reset();for(r=(t=this.shapeModifiers.length)-1;r>=0&&!this.shapeModifiers[r].processShapes(this._isFirstFrame);r-=1);}},searchProcessedElement:function(r){for(var t=this.processedElements,e=0,o=t.length;e<o;){if(t[e].elem===r)return t[e].pos;e+=1}return 0},addProcessedElement:function(r,t){for(var e=this.processedElements,o=e.length;o;)if(e[o-=1].elem===r)return void(e[o].pos=t);e.push(new ProcessedElement(r,t))},prepareFrame:function(r){this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange)}},ITextElement.prototype.initElement=function(r,t,e){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(r,t,e),this.textProperty=new TextProperty(this,r.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(r.t,this.renderType,this),this.initTransform(r,t,e),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(r){this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(r,t){var e,o,l=t.length,h="";for(e=0;e<l;e+=1)o=t[e].ks.k,h+=buildShapeString(o,o.i.length,!0,r);return h},ITextElement.prototype.updateDocumentData=function(r,t){this.textProperty.updateDocumentData(r,t)},ITextElement.prototype.canResizeFont=function(r){this.textProperty.canResizeFont(r)},ITextElement.prototype.setMinimumFontSize=function(r){this.textProperty.setMinimumFontSize(r)},ITextElement.prototype.applyTextPropertiesToMatrix=function(r,t,e,o,l){switch(r.ps&&t.translate(r.ps[0],r.ps[1]+r.ascent,0),t.translate(0,-r.ls,0),r.j){case 1:t.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[e]),0,0);break;case 2:t.translate(r.justifyOffset+(r.boxWidth-r.lineWidths[e])/2,0,0)}t.translate(o,l,0)},ITextElement.prototype.buildColor=function(r){return"rgb("+Math.round(255*r[0])+","+Math.round(255*r[1])+","+Math.round(255*r[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(r,t,e){this.initFrame(),this.initBaseData(r,t,e),this.initTransform(r,t,e),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(r){if(this._mdf=!1,this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=r/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var e,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),e=o-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&(this.elements[e].prepareFrame(this.renderedFrame-this.layers[e].st),this.elements[e]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var r,t=this.layers.length;for(r=0;r<t;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()},ICompElement.prototype.setElements=function(r){this.elements=r},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var r,t=this.layers.length;for(r=0;r<t;r+=1)this.elements[r]&&this.elements[r].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var r=createNS("rect");r.setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.layerElement.appendChild(r)},AudioElement.prototype.prepareFrame=function(r){if(this.prepareRenderableFrame(r,!0),this.prepareProperties(r,!0),this.tm._placeholder)this._currentTime=r/this.data.sr;else{var t=this.tm.v;this._currentTime=t}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(r){this.audio.rate(r)},AudioElement.prototype.volume=function(r){this.audio.volume(r)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(r){for(var t=0,e=r.length,o=[],l="";t<e;)r[t]===String.fromCharCode(13)||r[t]===String.fromCharCode(3)?(o.push(l),l=""):l+=r[t],t+=1;return o.push(l),o},SVGTextLottieElement.prototype.buildNewText=function(){var r,t,e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e?e.l.length:0),e.fc?this.layerElement.setAttribute("fill",this.buildColor(e.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),e.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(e.sc)),this.layerElement.setAttribute("stroke-width",e.sw)),this.layerElement.setAttribute("font-size",e.finalSize);var o=this.globalData.fontManager.getFontByName(e.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var l=e.fWeight,h=e.fStyle;this.layerElement.setAttribute("font-style",h),this.layerElement.setAttribute("font-weight",l)}this.layerElement.setAttribute("aria-label",e.t);var y,O=e.l||[],D=!!this.globalData.fontManager.chars;t=O.length;var R,F=this.mHelper,j="",B=this.data.singleShape,U=0,W=0,q=!0,K=.001*e.tr*e.finalSize;if(!B||D||e.sz){var Y,X,J=this.textSpans.length;for(r=0;r<t;r+=1)D&&B&&r!==0||(y=J>r?this.textSpans[r]:createNS(D?"path":"text"),J<=r&&(y.setAttribute("stroke-linecap","butt"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit","4"),this.textSpans[r]=y,this.layerElement.appendChild(y)),y.style.display="inherit"),F.reset(),F.scale(e.finalSize/100,e.finalSize/100),B&&(O[r].n&&(U=-K,W+=e.yOffset,W+=q?1:0,q=!1),this.applyTextPropertiesToMatrix(e,F,O[r].line,U,W),U+=O[r].l||0,U+=K),D?(R=(Y=(X=this.globalData.fontManager.getCharData(e.finalText[r],o.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&X.data||{}).shapes?Y.shapes[0].it:[],B?j+=this.createPathShape(F,R):y.setAttribute("d",this.createPathShape(F,R))):(B&&y.setAttribute("transform","translate("+F.props[12]+","+F.props[13]+")"),y.textContent=O[r].val,y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));B&&y&&y.setAttribute("d",j)}else{var Q=this.textContainer,Z="start";switch(e.j){case 1:Z="end";break;case 2:Z="middle";break;default:Z="start"}Q.setAttribute("text-anchor",Z),Q.setAttribute("letter-spacing",K);var ee=this.buildTextContents(e.finalText);for(t=ee.length,W=e.ps?e.ps[1]+e.ascent:0,r=0;r<t;r+=1)(y=this.textSpans[r]||createNS("tspan")).textContent=ee[r],y.setAttribute("x",0),y.setAttribute("y",W),y.style.display="inherit",Q.appendChild(y),this.textSpans[r]=y,W+=e.finalLineHeight;this.layerElement.appendChild(Q)}for(;r<this.textSpans.length;)this.textSpans[r].style.display="none",r+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var r=this.layerElement.getBBox();this.bbox={top:r.y,left:r.x,width:r.width,height:r.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var r,t;this._sizeChanged=!0;var e,o,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(t=h.length,r=0;r<t;r+=1)h[r].n||(e=l[r],o=this.textSpans[r],e._mdf.m&&o.setAttribute("transform",e.m),e._mdf.o&&o.setAttribute("opacity",e.o),e._mdf.sw&&o.setAttribute("stroke-width",e.sw),e._mdf.sc&&o.setAttribute("stroke",e.sc),e._mdf.fc&&o.setAttribute("fill",e.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var r,t,e,o,l=this.shapes.length,h=this.stylesList.length,y=[],O=!1;for(e=0;e<h;e+=1){for(o=this.stylesList[e],O=!1,y.length=0,r=0;r<l;r+=1)(t=this.shapes[r]).styles.indexOf(o)!==-1&&(y.push(t),O=t._isAnimated||O);y.length>1&&O&&this.setShapesAsAnimated(y)}},SVGShapeElement.prototype.setShapesAsAnimated=function(r){var t,e=r.length;for(t=0;t<e;t+=1)r[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(r,t){var e,o=new SVGStyleData(r,t),l=o.pElem;return r.ty==="st"?e=new SVGStrokeStyleData(this,r,o):r.ty==="fl"?e=new SVGFillStyleData(this,r,o):r.ty!=="gf"&&r.ty!=="gs"||(e=new(r.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,r,o),this.globalData.defs.appendChild(e.gf),e.maskId&&(this.globalData.defs.appendChild(e.ms),this.globalData.defs.appendChild(e.of),l.setAttribute("mask","url("+locationHref+"#"+e.maskId+")"))),r.ty!=="st"&&r.ty!=="gs"||(l.setAttribute("stroke-linecap",lineCapEnum[r.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[r.lj||2]),l.setAttribute("fill-opacity","0"),r.lj===1&&l.setAttribute("stroke-miterlimit",r.ml)),r.r===2&&l.setAttribute("fill-rule","evenodd"),r.ln&&l.setAttribute("id",r.ln),r.cl&&l.setAttribute("class",r.cl),r.bm&&(l.style["mix-blend-mode"]=getBlendMode(r.bm)),this.stylesList.push(o),this.addToAnimatedContents(r,e),e},SVGShapeElement.prototype.createGroupElement=function(r){var t=new ShapeGroupData;return r.ln&&t.gr.setAttribute("id",r.ln),r.cl&&t.gr.setAttribute("class",r.cl),r.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(r.bm)),t},SVGShapeElement.prototype.createTransformElement=function(r,t){var e=TransformPropertyFactory.getTransformProperty(this,r,this),o=new SVGTransformData(e,e.o,t);return this.addToAnimatedContents(r,o),o},SVGShapeElement.prototype.createShapeElement=function(r,t,e){var o=4;r.ty==="rc"?o=5:r.ty==="el"?o=6:r.ty==="sr"&&(o=7);var l=new SVGShapeData(t,e,ShapePropertyFactory.getShapeProp(this,r,o,this));return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(r,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(r,t){for(var e=0,o=this.animatedContents.length;e<o;){if(this.animatedContents[e].element===t)return;e+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(r),element:t,data:r})},SVGShapeElement.prototype.setElementStyles=function(r){var t,e=r.styles,o=this.stylesList.length;for(t=0;t<o;t+=1)this.stylesList[t].closed||e.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var r;this._isFirstFrame=!0;var t=this.itemsData.length;for(r=0;r<t;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,r=0;r<t;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(r,t,e,o,l,h,y){var O,D,R,F,j,B,U=[].concat(h),W=r.length-1,q=[],K=[];for(O=W;O>=0;O-=1){if((B=this.searchProcessedElement(r[O]))?t[O]=e[B-1]:r[O]._render=y,r[O].ty==="fl"||r[O].ty==="st"||r[O].ty==="gf"||r[O].ty==="gs")B?t[O].style.closed=!1:t[O]=this.createStyleElement(r[O],l),r[O]._render&&t[O].style.pElem.parentNode!==o&&o.appendChild(t[O].style.pElem),q.push(t[O].style);else if(r[O].ty==="gr"){if(B)for(R=t[O].it.length,D=0;D<R;D+=1)t[O].prevViewData[D]=t[O].it[D];else t[O]=this.createGroupElement(r[O]);this.searchShapes(r[O].it,t[O].it,t[O].prevViewData,t[O].gr,l+1,U,y),r[O]._render&&t[O].gr.parentNode!==o&&o.appendChild(t[O].gr)}else r[O].ty==="tr"?(B||(t[O]=this.createTransformElement(r[O],o)),F=t[O].transform,U.push(F)):r[O].ty==="sh"||r[O].ty==="rc"||r[O].ty==="el"||r[O].ty==="sr"?(B||(t[O]=this.createShapeElement(r[O],U,l)),this.setElementStyles(t[O])):r[O].ty==="tm"||r[O].ty==="rd"||r[O].ty==="ms"||r[O].ty==="pb"?(B?(j=t[O]).closed=!1:((j=ShapeModifiers.getModifier(r[O].ty)).init(this,r[O]),t[O]=j,this.shapeModifiers.push(j)),K.push(j)):r[O].ty==="rp"&&(B?(j=t[O]).closed=!0:(j=ShapeModifiers.getModifier(r[O].ty),t[O]=j,j.init(this,r,O,t),this.shapeModifiers.push(j),y=!1),K.push(j));this.addProcessedElement(r[O],O+1)}for(W=q.length,O=0;O<W;O+=1)q[O].closed=!0;for(W=K.length,O=0;O<W;O+=1)K[O].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var r;this.renderModifiers();var t=this.stylesList.length;for(r=0;r<t;r+=1)this.stylesList[r].reset();for(this.renderShape(),r=0;r<t;r+=1)(this.stylesList[r]._mdf||this._isFirstFrame)&&(this.stylesList[r].msElem&&(this.stylesList[r].msElem.setAttribute("d",this.stylesList[r].d),this.stylesList[r].d="M0 0"+this.stylesList[r].d),this.stylesList[r].pElem.setAttribute("d",this.stylesList[r].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var r,t,e=this.animatedContents.length;for(r=0;r<e;r+=1)t=this.animatedContents[r],(this._isFirstFrame||t.element._isAnimated)&&t.data!==!0&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,e=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",e[0]-t[0]+" 0 0 0 "+t[0]+" "+(e[1]-t[1])+" 0 0 0 "+t[1]+" "+(e[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+o+" 0")}},SVGFillFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,e=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+e+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,e=this.filterManager.effectElements[1].p.v,o=e==3?0:t,l=e==2?0:t;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var h=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",h)}},SVGStrokeEffect.prototype.initialize=function(){var r,t,e,o,l=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,e=0):o=1+(e=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);e<o;e+=1)r=createNS("path"),t.appendChild(r),this.paths.push({p:r,m:e});if(this.filterManager.effectElements[10].p.v===3){var h=createNS("mask"),y=createElementID();h.setAttribute("id",y),h.setAttribute("mask-type","alpha"),h.appendChild(t),this.elem.globalData.defs.appendChild(h);var O=createNS("g");for(O.setAttribute("mask","url("+locationHref+"#"+y+")");l[0];)O.appendChild(l[0]);this.elem.layerElement.appendChild(O),this.masker=h,t.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(l=this.elem.layerElement.children||this.elem.layerElement.childNodes;l.length;)this.elem.layerElement.removeChild(l[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(r){var t;this.initialized||this.initialize();var e,o,l=this.paths.length;for(t=0;t<l;t+=1)if(this.paths[t].m!==-1&&(e=this.elem.maskManager.viewData[this.paths[t].m],o=this.paths[t].p,(r||this.filterManager._mdf||e.prop._mdf)&&o.setAttribute("d",e.lastPath),r||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||e.prop._mdf)){var h;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var y=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),O=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),D=o.getTotalLength();h="0 0 0 "+D*y+" ";var R,F=D*(O-y),j=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,B=Math.floor(F/j);for(R=0;R<B;R+=1)h+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";h+="0 "+10*D+" 0 0"}else h="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",h)}if((r||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(r||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(r||this.filterManager.effectElements[3].p._mdf)){var U=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*U[0])+","+bmFloor(255*U[1])+","+bmFloor(255*U[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,e=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,l=o[0]+" "+e[0]+" "+t[0],h=o[1]+" "+e[1]+" "+t[1],y=o[2]+" "+e[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",l),this.feFuncG.setAttribute("tableValues",h),this.feFuncB.setAttribute("tableValues",y)}},SVGProLevelsFilter.prototype.createFeFunc=function(r,t){var e=createNS(r);return e.setAttribute("type","table"),t.appendChild(e),e},SVGProLevelsFilter.prototype.getTableValue=function(r,t,e,o,l){for(var h,y,O=0,D=Math.min(r,t),R=Math.max(r,t),F=Array.call(null,{length:256}),j=0,B=l-o,U=t-r;O<=256;)y=(h=O/256)<=D?U<0?l:o:h>=R?U<0?o:l:o+B*Math.pow((h-r)/U,1/e),F[j]=y,j+=1,O+=256/255;return F.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){var t,e=this.filterManager.effectElements;this.feFuncRComposed&&(r||e[3].p._mdf||e[4].p._mdf||e[5].p._mdf||e[6].p._mdf||e[7].p._mdf)&&(t=this.getTableValue(e[3].p.v,e[4].p.v,e[5].p.v,e[6].p.v,e[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(r||e[10].p._mdf||e[11].p._mdf||e[12].p._mdf||e[13].p._mdf||e[14].p._mdf)&&(t=this.getTableValue(e[10].p.v,e[11].p.v,e[12].p.v,e[13].p.v,e[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(r||e[17].p._mdf||e[18].p._mdf||e[19].p._mdf||e[20].p._mdf||e[21].p._mdf)&&(t=this.getTableValue(e[17].p.v,e[18].p.v,e[19].p.v,e[20].p.v,e[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(r||e[24].p._mdf||e[25].p._mdf||e[26].p._mdf||e[27].p._mdf||e[28].p._mdf)&&(t=this.getTableValue(e[24].p.v,e[25].p.v,e[26].p.v,e[27].p.v,e[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(r||e[31].p._mdf||e[32].p._mdf||e[33].p._mdf||e[34].p._mdf||e[35].p._mdf)&&(t=this.getTableValue(e[31].p.v,e[32].p.v,e[33].p.v,e[34].p.v,e[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(r){if(r||this.filterManager._mdf){if((r||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),r||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((r||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),r||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var e=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,l=e*Math.cos(o),h=e*Math.sin(o);this.feOffset.setAttribute("dx",l),this.feOffset.setAttribute("dy",h)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(r,t,e){this.initialized=!1,this.filterManager=t,this.filterElem=r,this.elem=e,e.matteElement=createNS("g"),e.matteElement.appendChild(e.layerElement),e.matteElement.appendChild(e.transformedElement),e.baseElement=e.matteElement}function SVGEffects(r){var t,e,o=r.data.ef?r.data.ef.length:0,l=createElementID(),h=filtersFactory.createFilter(l,!0),y=0;for(this.filters=[],t=0;t<o;t+=1)e=null,r.data.ef[t].ty===20?(y+=1,e=new SVGTintFilter(h,r.effectsManager.effectElements[t])):r.data.ef[t].ty===21?(y+=1,e=new SVGFillFilter(h,r.effectsManager.effectElements[t])):r.data.ef[t].ty===22?e=new SVGStrokeEffect(r,r.effectsManager.effectElements[t]):r.data.ef[t].ty===23?(y+=1,e=new SVGTritoneFilter(h,r.effectsManager.effectElements[t])):r.data.ef[t].ty===24?(y+=1,e=new SVGProLevelsFilter(h,r.effectsManager.effectElements[t])):r.data.ef[t].ty===25?(y+=1,e=new SVGDropShadowEffect(h,r.effectsManager.effectElements[t])):r.data.ef[t].ty===28?e=new SVGMatte3Effect(h,r.effectsManager.effectElements[t],r):r.data.ef[t].ty===29&&(y+=1,e=new SVGGaussianBlurEffect(h,r.effectsManager.effectElements[t])),e&&this.filters.push(e);y&&(r.globalData.defs.appendChild(h),r.layerElement.setAttribute("filter","url("+locationHref+"#"+l+")")),this.filters.length&&r.addRenderableComponent(this)}function CVContextData(){var r;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),r=0;r<15;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(r,t,e){this.assetData=t.getAssetData(r.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(r,t,e)}function CVCompElement(r,t,e){this.completeLayers=!1,this.layers=r.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(r,t,e),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,t.frameRate,this):{_placeholder:!0}}function CVMaskElement(r,t){var e;this.data=r,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var o=this.masksProperties.length,l=!1;for(e=0;e<o;e+=1)this.masksProperties[e].mode!=="n"&&(l=!0),this.viewData[e]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[e],3);this.hasMasks=l,l&&this.element.addRenderableComponent(this)}function CVShapeElement(r,t,e){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(r,t,e)}function CVSolidElement(r,t,e){this.initElement(r,t,e)}function CVTextElement(r,t,e){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(r,t,e)}function CVEffects(){}function HBaseElement(){}function HSolidElement(r,t,e){this.initElement(r,t,e)}function HCompElement(r,t,e){this.layers=r.layers,this.supports3d=!r.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(r,t,e),this.tm=r.tm?PropertyFactory.getProp(this,r.tm,0,t.frameRate,this):{_placeholder:!0}}function HShapeElement(r,t,e){this.shapes=[],this.shapesData=r.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(r,t,e),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(r,t,e){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(r,t,e)}function HImageElement(r,t,e){this.assetData=t.getAssetData(r.refId),this.initElement(r,t,e)}function HCameraElement(r,t,e){this.initFrame(),this.initBaseData(r,t,e),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,r.pe,0,0,this),r.ks.p.s?(this.px=o(this,r.ks.p.x,1,0,this),this.py=o(this,r.ks.p.y,1,0,this),this.pz=o(this,r.ks.p.z,1,0,this)):this.p=o(this,r.ks.p,1,0,this),r.ks.a&&(this.a=o(this,r.ks.a,1,0,this)),r.ks.or.k.length&&r.ks.or.k[0].to){var l,h=r.ks.or.k.length;for(l=0;l<h;l+=1)r.ks.or.k[l].to=null,r.ks.or.k[l].ti=null}this.or=o(this,r.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,r.ks.rx,0,degToRads,this),this.ry=o(this,r.ks.ry,0,degToRads,this),this.rz=o(this,r.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}SVGMatte3Effect.prototype.findSymbol=function(r){for(var t=0,e=_svgMatteSymbols.length;t<e;){if(_svgMatteSymbols[t]===r)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(r,t){var e=r.layerElement.parentNode;if(e){for(var o,l=e.children,h=0,y=l.length;h<y&&l[h]!==r.layerElement;)h+=1;h<=y-2&&(o=l[h+1]);var O=createNS("use");O.setAttribute("href","#"+t),o?e.insertBefore(O,o):e.appendChild(O)}},SVGMatte3Effect.prototype.setElementAsMask=function(r,t){if(!this.findSymbol(t)){var e=createElementID(),o=createNS("mask");o.setAttribute("id",t.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var l=r.globalData.defs;l.appendChild(o);var h=createNS("symbol");h.setAttribute("id",e),this.replaceInParent(t,e),h.appendChild(t.layerElement),l.appendChild(h);var y=createNS("use");y.setAttribute("href","#"+e),o.appendChild(y),t.data.hd=!1,t.show()}r.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var r=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,e=0,o=t.length;e<o;)t[e]&&t[e].data.ind===r&&this.setElementAsMask(this.elem,t[e]),e+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(r){var t,e=this.filters.length;for(t=0;t<e;t+=1)this.filters[t].renderFrame(r)},CVContextData.prototype.duplicate=function(){var r=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",r),this.savedOp.set(t);var e=0;for(e=this._length;e<r;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=r},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var r=this.globalData;if(r.blendMode!==this.data.bm){r.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);r.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var r=this.data.ty===0;this.globalData.renderer.save(r),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(r),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var r=createTag("canvas");r.width=this.assetData.w,r.height=this.assetData.h;var t,e,o=r.getContext("2d"),l=this.img.width,h=this.img.height,y=l/h,O=this.assetData.w/this.assetData.h,D=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;y>O&&D==="xMidYMid slice"||y<O&&D!=="xMidYMid slice"?t=(e=h)*O:e=(t=l)/O,o.drawImage(this.img,(l-t)/2,(h-e)/2,t,e,0,0,this.assetData.w,this.assetData.h),this.img=r}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var r,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),r=this.layers.length-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()},CVCompElement.prototype.destroy=function(){var r;for(r=this.layers.length-1;r>=0;r-=1)this.elements[r]&&this.elements[r].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var r,t,e,o,l=this.element.finalTransform.mat,h=this.element.canvasContext,y=this.masksProperties.length;for(h.beginPath(),r=0;r<y;r+=1)if(this.masksProperties[r].mode!=="n"){var O;this.masksProperties[r].inv&&(h.moveTo(0,0),h.lineTo(this.element.globalData.compSize.w,0),h.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),h.lineTo(0,this.element.globalData.compSize.h),h.lineTo(0,0)),o=this.viewData[r].v,t=l.applyToPointArray(o.v[0][0],o.v[0][1],0),h.moveTo(t[0],t[1]);var D=o._length;for(O=1;O<D;O+=1)e=l.applyToTriplePoints(o.o[O-1],o.i[O],o.v[O]),h.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);e=l.applyToTriplePoints(o.o[O-1],o.i[0],o.v[0]),h.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])}this.element.globalData.renderer.save(!0),h.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(r,t){var e={data:r,type:r.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:r.hd===!0},o={};if(r.ty==="fl"||r.ty==="st"?(o.c=PropertyFactory.getProp(this,r.c,1,255,this),o.c.k||(e.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):r.ty!=="gf"&&r.ty!=="gs"||(o.s=PropertyFactory.getProp(this,r.s,1,null,this),o.e=PropertyFactory.getProp(this,r.e,1,null,this),o.h=PropertyFactory.getProp(this,r.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,r.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,r.g,this)),o.o=PropertyFactory.getProp(this,r.o,0,.01,this),r.ty==="st"||r.ty==="gs"){if(e.lc=lineCapEnum[r.lc||2],e.lj=lineJoinEnum[r.lj||2],r.lj==1&&(e.ml=r.ml),o.w=PropertyFactory.getProp(this,r.w,0,null,this),o.w.k||(e.wi=o.w.v),r.d){var l=new DashProperty(this,r.d,"canvas",this);o.d=l,o.d.k||(e.da=o.d.dashArray,e.do=o.d.dashoffset[0])}}else e.r=r.r===2?"evenodd":"nonzero";return this.stylesList.push(e),o.style=e,o},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(r){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,r.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,r,this)}}},CVShapeElement.prototype.createShapeElement=function(r){var t=new CVShapeData(this,r,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var r;this._isFirstFrame=!0;var t=this.itemsData.length;for(r=0;r<t;r+=1)this.prevViewData[r]=this.itemsData[r];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,r=0;r<t;r+=1)this.dynamicProperties[r].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(r){var t,e=this.stylesList.length;for(t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(r)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var r,t=this.stylesList.length;for(r=0;r<t;r+=1)this.stylesList[r].closed||this.stylesList[r].transforms.pop()},CVShapeElement.prototype.closeStyles=function(r){var t,e=r.length;for(t=0;t<e;t+=1)r[t].closed=!0},CVShapeElement.prototype.searchShapes=function(r,t,e,o,l){var h,y,O,D,R,F,j=r.length-1,B=[],U=[],W=[].concat(l);for(h=j;h>=0;h-=1){if((D=this.searchProcessedElement(r[h]))?t[h]=e[D-1]:r[h]._shouldRender=o,r[h].ty==="fl"||r[h].ty==="st"||r[h].ty==="gf"||r[h].ty==="gs")D?t[h].style.closed=!1:t[h]=this.createStyleElement(r[h],W),B.push(t[h].style);else if(r[h].ty==="gr"){if(D)for(O=t[h].it.length,y=0;y<O;y+=1)t[h].prevViewData[y]=t[h].it[y];else t[h]=this.createGroupElement(r[h]);this.searchShapes(r[h].it,t[h].it,t[h].prevViewData,o,W)}else r[h].ty==="tr"?(D||(F=this.createTransformElement(r[h]),t[h]=F),W.push(t[h]),this.addTransformToStyleList(t[h])):r[h].ty==="sh"||r[h].ty==="rc"||r[h].ty==="el"||r[h].ty==="sr"?D||(t[h]=this.createShapeElement(r[h])):r[h].ty==="tm"||r[h].ty==="rd"||r[h].ty==="pb"?(D?(R=t[h]).closed=!1:((R=ShapeModifiers.getModifier(r[h].ty)).init(this,r[h]),t[h]=R,this.shapeModifiers.push(R)),U.push(R)):r[h].ty==="rp"&&(D?(R=t[h]).closed=!0:(R=ShapeModifiers.getModifier(r[h].ty),t[h]=R,R.init(this,r,h,t),this.shapeModifiers.push(R),o=!1),U.push(R));this.addProcessedElement(r[h],h+1)}for(this.removeTransformFromStyleList(),this.closeStyles(B),j=U.length,h=0;h<j;h+=1)U[h].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(r,t){(r._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=r.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var r,t,e,o,l,h,y,O,D,R=this.stylesList.length,F=this.globalData.renderer,j=this.globalData.canvasContext;for(r=0;r<R;r+=1)if(((O=(D=this.stylesList[r]).type)!=="st"&&O!=="gs"||D.wi!==0)&&D.data._shouldRender&&D.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(F.save(),h=D.elements,O==="st"||O==="gs"?(j.strokeStyle=O==="st"?D.co:D.grd,j.lineWidth=D.wi,j.lineCap=D.lc,j.lineJoin=D.lj,j.miterLimit=D.ml||0):j.fillStyle=O==="fl"?D.co:D.grd,F.ctxOpacity(D.coOp),O!=="st"&&O!=="gs"&&j.beginPath(),F.ctxTransform(D.preTransforms.finalTransform.props),e=h.length,t=0;t<e;t+=1){for(O!=="st"&&O!=="gs"||(j.beginPath(),D.da&&(j.setLineDash(D.da),j.lineDashOffset=D.do)),l=(y=h[t].trNodes).length,o=0;o<l;o+=1)y[o].t==="m"?j.moveTo(y[o].p[0],y[o].p[1]):y[o].t==="c"?j.bezierCurveTo(y[o].pts[0],y[o].pts[1],y[o].pts[2],y[o].pts[3],y[o].pts[4],y[o].pts[5]):j.closePath();O!=="st"&&O!=="gs"||(j.stroke(),D.da&&j.setLineDash(this.dashResetter))}O!=="st"&&O!=="gs"&&j.fill(D.r),F.restore()}},CVShapeElement.prototype.renderShape=function(r,t,e,o){var l,h;for(h=r,l=t.length-1;l>=0;l-=1)t[l].ty==="tr"?(h=e[l].transform,this.renderShapeTransform(r,h)):t[l].ty==="sh"||t[l].ty==="el"||t[l].ty==="rc"||t[l].ty==="sr"?this.renderPath(t[l],e[l]):t[l].ty==="fl"?this.renderFill(t[l],e[l],h):t[l].ty==="st"?this.renderStroke(t[l],e[l],h):t[l].ty==="gf"||t[l].ty==="gs"?this.renderGradientFill(t[l],e[l],h):t[l].ty==="gr"?this.renderShape(h,t[l].it,e[l].it):t[l].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(r,t){if(this._isFirstFrame||t._mdf||r.transforms._mdf){var e,o,l,h=r.trNodes,y=t.paths,O=y._length;h.length=0;var D=r.transforms.finalTransform;for(l=0;l<O;l+=1){var R=y.shapes[l];if(R&&R.v){for(o=R._length,e=1;e<o;e+=1)e===1&&h.push({t:"m",p:D.applyToPointArray(R.v[0][0],R.v[0][1],0)}),h.push({t:"c",pts:D.applyToTriplePoints(R.o[e-1],R.i[e],R.v[e])});o===1&&h.push({t:"m",p:D.applyToPointArray(R.v[0][0],R.v[0][1],0)}),R.c&&o&&(h.push({t:"c",pts:D.applyToTriplePoints(R.o[e-1],R.i[0],R.v[0])}),h.push({t:"z"}))}}r.trNodes=h}},CVShapeElement.prototype.renderPath=function(r,t){if(r.hd!==!0&&r._shouldRender){var e,o=t.styledShapes.length;for(e=0;e<o;e+=1)this.renderStyledShape(t.styledShapes[e],t.sh)}},CVShapeElement.prototype.renderFill=function(r,t,e){var o=t.style;(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||e._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*e.opacity)},CVShapeElement.prototype.renderGradientFill=function(r,t,e){var o,l=t.style;if(!l.grd||t.g._mdf||t.s._mdf||t.e._mdf||r.t!==1&&(t.h._mdf||t.a._mdf)){var h,y=this.globalData.canvasContext,O=t.s.v,D=t.e.v;if(r.t===1)o=y.createLinearGradient(O[0],O[1],D[0],D[1]);else{var R=Math.sqrt(Math.pow(O[0]-D[0],2)+Math.pow(O[1]-D[1],2)),F=Math.atan2(D[1]-O[1],D[0]-O[0]),j=t.h.v;j>=1?j=.99:j<=-1&&(j=-.99);var B=R*j,U=Math.cos(F+t.a.v)*B+O[0],W=Math.sin(F+t.a.v)*B+O[1];o=y.createRadialGradient(U,W,0,O[0],O[1],R)}var q=r.g.p,K=t.g.c,Y=1;for(h=0;h<q;h+=1)t.g._hasOpacity&&t.g._collapsable&&(Y=t.g.o[2*h+1]),o.addColorStop(K[4*h]/100,"rgba("+K[4*h+1]+","+K[4*h+2]+","+K[4*h+3]+","+Y+")");l.grd=o}l.coOp=t.o.v*e.opacity},CVShapeElement.prototype.renderStroke=function(r,t,e){var o=t.style,l=t.d;l&&(l._mdf||this._isFirstFrame)&&(o.da=l.dashArray,o.do=l.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||e._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*e.opacity),(t.w._mdf||this._isFirstFrame)&&(o.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var r=this.canvasContext;r.fillStyle=this.data.sc,r.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var t=!1;r.fc?(t=!0,this.values.fill=this.buildColor(r.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var e=!1;r.sc&&(e=!0,this.values.stroke=this.buildColor(r.sc),this.values.sWidth=r.sw);var o,l,h,y,O,D,R,F,j,B,U,W,q=this.globalData.fontManager.getFontByName(r.f),K=r.l,Y=this.mHelper;this.stroke=e,this.values.fValue=r.finalSize+"px "+this.globalData.fontManager.getFontByName(r.f).fFamily,l=r.finalText.length;var X=this.data.singleShape,J=.001*r.tr*r.finalSize,Q=0,Z=0,ee=!0,re=0;for(o=0;o<l;o+=1){for(y=(h=this.globalData.fontManager.getCharData(r.finalText[o],q.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&h.data||{},Y.reset(),X&&K[o].n&&(Q=-J,Z+=r.yOffset,Z+=ee?1:0,ee=!1),j=(R=y.shapes?y.shapes[0].it:[]).length,Y.scale(r.finalSize/100,r.finalSize/100),X&&this.applyTextPropertiesToMatrix(r,Y,K[o].line,Q,Z),U=createSizedArray(j),F=0;F<j;F+=1){for(D=R[F].ks.k.i.length,B=R[F].ks.k,W=[],O=1;O<D;O+=1)O===1&&W.push(Y.applyToX(B.v[0][0],B.v[0][1],0),Y.applyToY(B.v[0][0],B.v[0][1],0)),W.push(Y.applyToX(B.o[O-1][0],B.o[O-1][1],0),Y.applyToY(B.o[O-1][0],B.o[O-1][1],0),Y.applyToX(B.i[O][0],B.i[O][1],0),Y.applyToY(B.i[O][0],B.i[O][1],0),Y.applyToX(B.v[O][0],B.v[O][1],0),Y.applyToY(B.v[O][0],B.v[O][1],0));W.push(Y.applyToX(B.o[O-1][0],B.o[O-1][1],0),Y.applyToY(B.o[O-1][0],B.o[O-1][1],0),Y.applyToX(B.i[0][0],B.i[0][1],0),Y.applyToY(B.i[0][0],B.i[0][1],0),Y.applyToX(B.v[0][0],B.v[0][1],0),Y.applyToY(B.v[0][0],B.v[0][1],0)),U[F]=W}X&&(Q+=K[o].l,Q+=J),this.textSpans[re]?this.textSpans[re].elem=U:this.textSpans[re]={elem:U},re+=1}},CVTextElement.prototype.renderInnerContent=function(){var r,t,e,o,l,h,y=this.canvasContext;y.font=this.values.fValue,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var O,D=this.textAnimator.renderedLetters,R=this.textProperty.currentData.l;t=R.length;var F,j,B=null,U=null,W=null;for(r=0;r<t;r+=1)if(!R[r].n){if((O=D[r])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(O.p),this.globalData.renderer.ctxOpacity(O.o)),this.fill){for(O&&O.fc?B!==O.fc&&(B=O.fc,y.fillStyle=O.fc):B!==this.values.fill&&(B=this.values.fill,y.fillStyle=this.values.fill),o=(F=this.textSpans[r].elem).length,this.globalData.canvasContext.beginPath(),e=0;e<o;e+=1)for(h=(j=F[e]).length,this.globalData.canvasContext.moveTo(j[0],j[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(j[l],j[l+1],j[l+2],j[l+3],j[l+4],j[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(O&&O.sw?W!==O.sw&&(W=O.sw,y.lineWidth=O.sw):W!==this.values.sWidth&&(W=this.values.sWidth,y.lineWidth=this.values.sWidth),O&&O.sc?U!==O.sc&&(U=O.sc,y.strokeStyle=O.sc):U!==this.values.stroke&&(U=this.values.stroke,y.strokeStyle=this.values.stroke),o=(F=this.textSpans[r].elem).length,this.globalData.canvasContext.beginPath(),e=0;e<o;e+=1)for(h=(j=F[e]).length,this.globalData.canvasContext.moveTo(j[0],j[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(j[l],j[l+1],j[l+2],j[l+3],j[l+4],j[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}O&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var r=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();r.transform=t,r.webkitTransform=t}this.finalTransform._opMdf&&(r.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var r;this.data.hasMask?((r=createNS("rect")).setAttribute("width",this.data.sw),r.setAttribute("height",this.data.sh),r.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((r=createTag("div")).style.width=this.data.sw+"px",r.style.height=this.data.sh+"px",r.style.backgroundColor=this.data.sc),this.layerElement.appendChild(r)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(r,t){for(var e,o=0;o<t;)this.elements[o]&&this.elements[o].getBaseElement&&(e=this.elements[o].getBaseElement()),o+=1;e?this.layerElement.insertBefore(r,e):this.layerElement.appendChild(r)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var r;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),r=this.svgElement;else{r=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.appendChild(this.shapesContainer),this.layerElement.appendChild(r)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=r},HShapeElement.prototype.getTransformedPoint=function(r,t){var e,o=r.length;for(e=0;e<o;e+=1)t=r[e].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(r,t){var e,o,l,h,y,O=r.sh.v,D=r.transformers,R=O._length;if(!(R<=1)){for(e=0;e<R-1;e+=1)o=this.getTransformedPoint(D,O.v[e]),l=this.getTransformedPoint(D,O.o[e]),h=this.getTransformedPoint(D,O.i[e+1]),y=this.getTransformedPoint(D,O.v[e+1]),this.checkBounds(o,l,h,y,t);O.c&&(o=this.getTransformedPoint(D,O.v[e]),l=this.getTransformedPoint(D,O.o[e]),h=this.getTransformedPoint(D,O.i[0]),y=this.getTransformedPoint(D,O.v[0]),this.checkBounds(o,l,h,y,t))}},HShapeElement.prototype.checkBounds=function(r,t,e,o,l){this.getBoundsOfCurve(r,t,e,o);var h=this.shapeBoundingBox;l.x=bmMin(h.left,l.x),l.xMax=bmMax(h.right,l.xMax),l.y=bmMin(h.top,l.y),l.yMax=bmMax(h.bottom,l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(r,t,e,o){for(var l,h,y,O,D,R,F,j=[[r[0],o[0]],[r[1],o[1]]],B=0;B<2;++B)h=6*r[B]-12*t[B]+6*e[B],l=-3*r[B]+9*t[B]-9*e[B]+3*o[B],y=3*t[B]-3*r[B],h|=0,y|=0,(l|=0)==0&&h===0||(l===0?(O=-y/h)>0&&O<1&&j[B].push(this.calculateF(O,r,t,e,o,B)):(D=h*h-4*y*l)>=0&&((R=(-h+bmSqrt(D))/(2*l))>0&&R<1&&j[B].push(this.calculateF(R,r,t,e,o,B)),(F=(-h-bmSqrt(D))/(2*l))>0&&F<1&&j[B].push(this.calculateF(F,r,t,e,o,B))));this.shapeBoundingBox.left=bmMin.apply(null,j[0]),this.shapeBoundingBox.top=bmMin.apply(null,j[1]),this.shapeBoundingBox.right=bmMax.apply(null,j[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,j[1])},HShapeElement.prototype.calculateF=function(r,t,e,o,l,h){return bmPow(1-r,3)*t[h]+3*bmPow(1-r,2)*r*e[h]+3*(1-r)*bmPow(r,2)*o[h]+bmPow(r,3)*l[h]},HShapeElement.prototype.calculateBoundingBox=function(r,t){var e,o=r.length;for(e=0;e<o;e+=1)r[e]&&r[e].sh?this.calculateShapeBoundingBox(r[e],t):r[e]&&r[e].it&&this.calculateBoundingBox(r[e].it,t)},HShapeElement.prototype.currentBoxContains=function(r){return this.currentBBox.x<=r.x&&this.currentBBox.y<=r.y&&this.currentBBox.width+this.currentBBox.x>=r.x+r.width&&this.currentBBox.height+this.currentBBox.y>=r.y+r.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var r=this.tempBoundingBox,t=999999;if(r.x=t,r.xMax=-t,r.y=t,r.yMax=-t,this.calculateBoundingBox(this.itemsData,r),r.width=r.xMax<r.x?0:r.xMax-r.x,r.height=r.yMax<r.y?0:r.yMax-r.y,this.currentBoxContains(r))return;var e=!1;if(this.currentBBox.w!==r.width&&(this.currentBBox.w=r.width,this.shapeCont.setAttribute("width",r.width),e=!0),this.currentBBox.h!==r.height&&(this.currentBBox.h=r.height,this.shapeCont.setAttribute("height",r.height),e=!0),e||this.currentBBox.x!==r.x||this.currentBBox.y!==r.y){this.currentBBox.w=r.width,this.currentBBox.h=r.height,this.currentBBox.x=r.x,this.currentBBox.y=r.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=l,o.webkitTransform=l}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var r=createNS("g");this.maskedElement.appendChild(r),this.innerElem=r}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r.l?r.l.length:0);var t=this.innerElem.style,e=r.fc?this.buildColor(r.fc):"rgba(0,0,0,0)";t.fill=e,t.color=e,r.sc&&(t.stroke=this.buildColor(r.sc),t.strokeWidth=r.sw+"px");var o,l,h=this.globalData.fontManager.getFontByName(r.f);if(!this.globalData.fontManager.chars)if(t.fontSize=r.finalSize+"px",t.lineHeight=r.finalSize+"px",h.fClass)this.innerElem.className=h.fClass;else{t.fontFamily=h.fFamily;var y=r.fWeight,O=r.fStyle;t.fontStyle=O,t.fontWeight=y}var D,R,F,j=r.l;l=j.length;var B,U=this.mHelper,W="",q=0;for(o=0;o<l;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[q]?D=this.textPaths[q]:((D=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),D.setAttribute("stroke-linejoin",lineJoinEnum[2]),D.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[q]?F=(R=this.textSpans[q]).children[0]:((R=createTag("div")).style.lineHeight=0,(F=createNS("svg")).appendChild(D),styleDiv(R)))):this.isMasked?D=this.textPaths[q]?this.textPaths[q]:createNS("text"):this.textSpans[q]?(R=this.textSpans[q],D=this.textPaths[q]):(styleDiv(R=createTag("span")),styleDiv(D=createTag("span")),R.appendChild(D)),this.globalData.fontManager.chars){var K,Y=this.globalData.fontManager.getCharData(r.finalText[o],h.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily);if(K=Y?Y.data:null,U.reset(),K&&K.shapes&&(B=K.shapes[0].it,U.scale(r.finalSize/100,r.finalSize/100),W=this.createPathShape(U,B),D.setAttribute("d",W)),this.isMasked)this.innerElem.appendChild(D);else{if(this.innerElem.appendChild(R),K&&K.shapes){document.body.appendChild(F);var X=F.getBBox();F.setAttribute("width",X.width+2),F.setAttribute("height",X.height+2),F.setAttribute("viewBox",X.x-1+" "+(X.y-1)+" "+(X.width+2)+" "+(X.height+2));var J=F.style,Q="translate("+(X.x-1)+"px,"+(X.y-1)+"px)";J.transform=Q,J.webkitTransform=Q,j[o].yOffset=X.y-1}else F.setAttribute("width",1),F.setAttribute("height",1);R.appendChild(F)}}else if(D.textContent=j[o].val,D.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(D);else{this.innerElem.appendChild(R);var Z=D.style,ee="translate3d(0,"+-r.finalSize/1.2+"px,0)";Z.transform=ee,Z.webkitTransform=ee}this.isMasked?this.textSpans[q]=D:this.textSpans[q]=R,this.textSpans[q].style.display="block",this.textPaths[q]=D,q+=1}for(;q<this.textSpans.length;)this.textSpans[q].style.display="none",q+=1},HTextElement.prototype.renderInnerContent=function(){var r;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),r=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";r.transform=t,r.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var e,o,l,h,y,O=0,D=this.textAnimator.renderedLetters,R=this.textProperty.currentData.l;for(o=R.length,e=0;e<o;e+=1)R[e].n?O+=1:(h=this.textSpans[e],y=this.textPaths[e],l=D[O],O+=1,l._mdf.m&&(this.isMasked?h.setAttribute("transform",l.m):(h.style.webkitTransform=l.m,h.style.transform=l.m)),h.style.opacity=l.o,l.sw&&l._mdf.sw&&y.setAttribute("stroke-width",l.sw),l.sc&&l._mdf.sc&&y.setAttribute("stroke",l.sc),l.fc&&l._mdf.fc&&(y.setAttribute("fill",l.fc),y.style.color=l.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var F=this.innerElem.getBBox();if(this.currentBBox.w!==F.width&&(this.currentBBox.w=F.width,this.svgElement.setAttribute("width",F.width)),this.currentBBox.h!==F.height&&(this.currentBBox.h=F.height,this.svgElement.setAttribute("height",F.height)),this.currentBBox.w!==F.width+2||this.currentBBox.h!==F.height+2||this.currentBBox.x!==F.x-1||this.currentBBox.y!==F.y-1){this.currentBBox.w=F.width+2,this.currentBBox.h=F.height+2,this.currentBBox.x=F.x-1,this.currentBBox.y=F.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),r=this.svgElement.style;var j="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=j,r.webkitTransform=j}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var r=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=r,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var r,t,e,o,l=this.comp.threeDElements.length;for(r=0;r<l;r+=1)if((t=this.comp.threeDElements[r]).type==="3d"){e=t.perspectiveElem.style,o=t.container.style;var h=this.pe.v+"px",y="0px 0px 0px",O="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";e.perspective=h,e.webkitPerspective=h,o.transformOrigin=y,o.mozTransformOrigin=y,o.webkitTransformOrigin=y,e.transform=O,e.webkitTransform=O}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var r,t,e=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,r=0;r<t;r+=1)e=this.hierarchy[r].finalTransform.mProp._mdf||e;if(e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=t=this.hierarchy.length-1;r>=0;r-=1){var o=this.hierarchy[r].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var l;l=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var h=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)),y=[l[0]/h,l[1]/h,l[2]/h],O=Math.sqrt(y[2]*y[2]+y[0]*y[0]),D=Math.atan2(y[1],O),R=Math.atan2(y[0],-y[2]);this.mat.rotateY(R).rotateX(-D)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var F=!this._prevMat.equals(this.mat);if((F||this.pe._mdf)&&this.comp.threeDElements){var j,B,U;for(t=this.comp.threeDElements.length,r=0;r<t;r+=1)if((j=this.comp.threeDElements[r]).type==="3d"){if(F){var W=this.mat.toCSS();(U=j.container.style).transform=W,U.webkitTransform=W}this.pe._mdf&&((B=j.perspectiveElem.style).perspective=this.pe.v+"px",B.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(r){this.prepareProperties(r,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};var animationManager=function(){var r={},t=[],e=0,o=0,l=0,h=!0,y=!1;function O(q){for(var K=0,Y=q.target;K<o;)t[K].animation===Y&&(t.splice(K,1),K-=1,o-=1,Y.isPaused||F()),K+=1}function D(q,K){if(!q)return null;for(var Y=0;Y<o;){if(t[Y].elem===q&&t[Y].elem!==null)return t[Y].animation;Y+=1}var X=new AnimationItem;return j(X,q),X.setData(q,K),X}function R(){l+=1,W()}function F(){l-=1}function j(q,K){q.addEventListener("destroy",O),q.addEventListener("_active",R),q.addEventListener("_idle",F),t.push({elem:K,animation:q}),o+=1}function B(q){var K,Y=q-e;for(K=0;K<o;K+=1)t[K].animation.advanceTime(Y);e=q,l&&!y?window.requestAnimationFrame(B):h=!0}function U(q){e=q,window.requestAnimationFrame(B)}function W(){!y&&l&&h&&(window.requestAnimationFrame(U),h=!1)}return r.registerAnimation=D,r.loadAnimation=function(q){var K=new AnimationItem;return j(K,null),K.setParams(q),K},r.setSpeed=function(q,K){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.setSpeed(q,K)},r.setDirection=function(q,K){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.setDirection(q,K)},r.play=function(q){var K;for(K=0;K<o;K+=1)t[K].animation.play(q)},r.pause=function(q){var K;for(K=0;K<o;K+=1)t[K].animation.pause(q)},r.stop=function(q){var K;for(K=0;K<o;K+=1)t[K].animation.stop(q)},r.togglePause=function(q){var K;for(K=0;K<o;K+=1)t[K].animation.togglePause(q)},r.searchAnimations=function(q,K,Y){var X,J=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Q=J.length;for(X=0;X<Q;X+=1)Y&&J[X].setAttribute("data-bm-type",Y),D(J[X],q);if(K&&Q===0){Y||(Y="svg");var Z=document.getElementsByTagName("body")[0];Z.innerText="";var ee=createTag("div");ee.style.width="100%",ee.style.height="100%",ee.setAttribute("data-bm-type",Y),Z.appendChild(ee),D(ee,q)}},r.resize=function(){var q;for(q=0;q<o;q+=1)t[q].animation.resize()},r.goToAndStop=function(q,K,Y){var X;for(X=0;X<o;X+=1)t[X].animation.goToAndStop(q,K,Y)},r.destroy=function(q){var K;for(K=o-1;K>=0;K-=1)t[K].animation.destroy(q)},r.freeze=function(){y=!0},r.unfreeze=function(){y=!1,W()},r.setVolume=function(q,K){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.setVolume(q,K)},r.mute=function(q){var K;for(K=0;K<o;K+=1)t[K].animation.mute(q)},r.unmute=function(q){var K;for(K=0;K<o;K+=1)t[K].animation.unmute(q)},r.getRegisteredAnimations=function(){var q,K=t.length,Y=[];for(q=0;q<K;q+=1)Y.push(t[q].animation);return Y},r}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(r){(r.wrapper||r.container)&&(this.wrapper=r.wrapper||r.container);var t="svg";switch(r.animType?t=r.animType:r.renderer&&(t=r.renderer),t){case"canvas":this.renderer=new CanvasRenderer(this,r.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,r.rendererSettings);break;default:this.renderer=new HybridRenderer(this,r.rendererSettings)}this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,r.loop===""||r.loop===null||r.loop===void 0||r.loop===!0?this.loop=!0:r.loop===!1?this.loop=!1:this.loop=parseInt(r.loop,10),this.autoplay=!("autoplay"in r)||r.autoplay,this.name=r.name?r.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(r,"autoloadSegments")||r.autoloadSegments,this.assetsPath=r.assetsPath,this.initialSegment=r.initialSegment,r.audioFactory&&this.audioController.setAudioFactory(r.audioFactory),r.animationData?this.setupAnimation(r.animationData):r.path&&(r.path.lastIndexOf("\\")!==-1?this.path=r.path.substr(0,r.path.lastIndexOf("\\")+1):this.path=r.path.substr(0,r.path.lastIndexOf("/")+1),this.fileName=r.path.substr(r.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(r.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(r){dataManager.completeAnimation(r,this.configAnimation)},AnimationItem.prototype.setData=function(r,t){t&&typeof t!="object"&&(t=JSON.parse(t));var e={wrapper:r,animationData:t},o=r.attributes;e.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",e.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:"canvas";var l=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";l==="false"?e.loop=!1:l==="true"?e.loop=!0:l!==""&&(e.loop=parseInt(l,10));var h=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:!o.getNamedItem("bm-autoplay")||o.getNamedItem("bm-autoplay").value;e.autoplay=h!=="false",e.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"",(o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"")==="false"&&(e.prerender=!1),this.setParams(e)},AnimationItem.prototype.includeLayers=function(r){r.op>this.animationData.op&&(this.animationData.op=r.op,this.totalFrames=Math.floor(r.op-this.animationData.ip));var t,e,o=this.animationData.layers,l=o.length,h=r.layers,y=h.length;for(e=0;e<y;e+=1)for(t=0;t<l;){if(o[t].id===h[e].id){o[t]=h[e];break}t+=1}if((r.chars||r.fonts)&&(this.renderer.globalData.fontManager.addChars(r.chars),this.renderer.globalData.fontManager.addFonts(r.fonts,this.renderer.globalData.defs)),r.assets)for(l=r.assets.length,t=0;t<l;t+=1)this.animationData.assets.push(r.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(r){this.animationData=r,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var r=this.animationData.segments;if(!r||r.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=r.shift();this.timeCompleted=t.time*this.frameRate;var e=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(e,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(r){if(this.renderer)try{this.animationData=r,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(r),r.assets||(r.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(r.assets),this.markers=markerParser(r.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(r){this.isSubframeEnabled=!!r},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(r){this.triggerRenderFrameError(r)}},AnimationItem.prototype.play=function(r){r&&this.name!==r||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(r){r&&this.name!==r||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(r){r&&this.name!==r||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(r){r&&this.name!==r||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(r){for(var t,e=0;e<this.markers.length;e+=1)if((t=this.markers[e]).payload&&t.payload.name===r)return t;return null},AnimationItem.prototype.goToAndStop=function(r,t,e){if(!e||this.name===e){var o=Number(r);if(isNaN(o)){var l=this.getMarkerData(r);l&&this.goToAndStop(l.time,!0)}else t?this.setCurrentRawFrameValue(r):this.setCurrentRawFrameValue(r*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(r,t,e){if(!e||this.name===e){var o=Number(r);if(isNaN(o)){var l=this.getMarkerData(r);l&&(l.duration?this.playSegments([l.time,l.time+l.duration],!0):this.goToAndStop(l.time,!0))}else this.goToAndStop(o,t,e);this.play()}},AnimationItem.prototype.advanceTime=function(r){if(this.isPaused!==!0&&this.isLoaded!==!1){var t=this.currentRawFrame+r*this.frameModifier,e=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(e=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(e=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),e&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(r,t){this.playCount=0,r[1]<r[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=r[0]-r[1],this.timeCompleted=this.totalFrames,this.firstFrame=r[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):r[1]>r[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=r[1]-r[0],this.timeCompleted=this.totalFrames,this.firstFrame=r[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(r,t){var e=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<r?e=r:this.currentRawFrame+this.firstFrame>t&&(e=t-r)),this.firstFrame=r,this.totalFrames=t-r,this.timeCompleted=this.totalFrames,e!==-1&&this.goToAndStop(e,!0)},AnimationItem.prototype.playSegments=function(r,t){if(t&&(this.segments.length=0),typeof r[0]=="object"){var e,o=r.length;for(e=0;e<o;e+=1)this.segments.push(r[e])}else this.segments.push(r);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(r){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),r&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(r){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),r),!0)},AnimationItem.prototype.destroy=function(r){r&&this.name!==r||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(r){this.currentRawFrame=r,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(r){this.playSpeed=r,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(r){this.playDirection=r<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(r,t){t&&this.name!==t||this.audioController.setVolume(r)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(r){r&&this.name!==r||this.audioController.mute()},AnimationItem.prototype.unmute=function(r){r&&this.name!==r||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(r){var t="";if(r.e)t=r.p;else if(this.assetsPath){var e=r.p;e.indexOf("images/")!==-1&&(e=e.split("/")[1]),t=this.assetsPath+e}else t=this.path,t+=r.u?r.u:"",t+=r.p;return t},AnimationItem.prototype.getAssetData=function(r){for(var t=0,e=this.assets.length;t<e;){if(r===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(r){return r?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(r){if(this._cbs&&this._cbs[r])switch(r){case"enterFrame":case"drawnFrame":this.triggerEvent(r,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(r,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(r,new BMCompleteEvent(r,this.frameMult));break;case"segmentStart":this.triggerEvent(r,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(r,new BMDestroyEvent(r,this));break;default:this.triggerEvent(r)}r==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(r,this.currentFrame,this.totalFrames,this.frameMult)),r==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(r,this.loop,this.playCount,this.frameMult)),r==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(r,this.frameMult)),r==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(r,this.firstFrame,this.totalFrames)),r==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(r,this))},AnimationItem.prototype.triggerRenderFrameError=function(r){var t=new BMRenderFrameErrorEvent(r,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(r){var t=new BMConfigErrorEvent(r,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=function(){var r={initExpressions:function(t){var e=0,o=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){(e-=1)==0&&function(){var l,h=o.length;for(l=0;l<h;l+=1)o[l].release();o.length=0}()},t.renderer.globalData.registerExpressionProperty=function(l){o.indexOf(l)===-1&&o.push(l)}}};return r}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath;BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0,elem.data.ip/elem.comp.globalData.frameRate,elem.data.op/elem.comp.globalData.frameRate,elem.data.sw&&elem.data.sw,elem.data.sh&&elem.data.sh,elem.data.nm;var loopIn,loopOut,fromComp,thisLayer,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0];property.kf&&data.k.length,!this.data||this.data.hd,function(r,t){var e,o,l=this.pv.length?this.pv.length:1,h=createTypedArray("float32",l),y=Math.floor(5*time);for(e=0,o=0;e<y;){for(o=0;o<l;o+=1)h[o]+=-t+2*t*BMMath.random();e+=1}var O=5*time,D=O-Math.floor(O),R=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)R[o]=this.pv[o]+h[o]+(-t+2*t*BMMath.random())*D;return R}return this.pv+h[0]+(-t+2*t*BMMath.random())*D}.bind(this),thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty)),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty)),thisProperty.smooth&&thisProperty.smooth.bind(thisProperty),this.getValueAtTime&&this.getValueAtTime.bind(this),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this)),elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);var time,value;function seedRandom(r){BMMath.seedrandom(randSeed+r)}elem.data.ind,!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random());elem.globalData;function executeExpression(r){return value=r,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&this.selectorValue,thisLayer||(elem.layerInterface.text,thisLayer=elem.layerInterface,elem.comp.compInterface,thisLayer.toWorld.bind(thisLayer),thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),thisLayer.toComp.bind(thisLayer),thisLayer.mask&&thisLayer.mask.bind(thisLayer)),transform||(transform=elem.layerInterface("ADBE Transform Group"),transform&&transform.anchorPoint),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&velocityAtTime(time),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt.propType,scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(r,t,e){t.x&&(e.k=!0,e.x=!0,e.initiateExpression=ExpressionManager.initiateExpression,e.effectsSequence.push(e.initiateExpression(r,t,e).bind(e)))},getSpeedAtTime:function(r){var t=this.getValueAtTime(r),e=this.getValueAtTime(r+-.01),o=0;if(t.length){var l;for(l=0;l<t.length;l+=1)o+=Math.pow(e[l]-t[l],2);o=100*Math.sqrt(o)}else o=0;return o},getVelocityAtTime:function(r){if(this.vel!==void 0)return this.vel;var t,e,o=-.001,l=this.getValueAtTime(r),h=this.getValueAtTime(r+o);if(l.length)for(t=createTypedArray("float32",l.length),e=0;e<l.length;e+=1)t[e]=(h[e]-l[e])/o;else t=(h-l)/o;return t},getValueAtTime:function(r){return r*=this.elem.globalData.frameRate,(r-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<r?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(r,this._cachingAtTime),this._cachingAtTime.lastFrame=r),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(r){this.propertyGroup=r}};(function(){function r(j,B,U){if(!this.k||!this.keyframes)return this.pv;j=j?j.toLowerCase():"";var W,q,K,Y,X,J=this.comp.renderedFrame,Q=this.keyframes,Z=Q[Q.length-1].t;if(J<=Z)return this.pv;if(U?q=Z-(W=B?Math.abs(Z-this.elem.comp.globalData.frameRate*B):Math.max(0,Z-this.elem.data.ip)):((!B||B>Q.length-1)&&(B=Q.length-1),W=Z-(q=Q[Q.length-1-B].t)),j==="pingpong"){if(Math.floor((J-q)/W)%2!=0)return this.getValueAtTime((W-(J-q)%W+q)/this.comp.globalData.frameRate,0)}else{if(j==="offset"){var ee=this.getValueAtTime(q/this.comp.globalData.frameRate,0),re=this.getValueAtTime(Z/this.comp.globalData.frameRate,0),te=this.getValueAtTime(((J-q)%W+q)/this.comp.globalData.frameRate,0),ne=Math.floor((J-q)/W);if(this.pv.length){for(Y=(X=new Array(ee.length)).length,K=0;K<Y;K+=1)X[K]=(re[K]-ee[K])*ne+te[K];return X}return(re-ee)*ne+te}if(j==="continue"){var ae=this.getValueAtTime(Z/this.comp.globalData.frameRate,0),ie=this.getValueAtTime((Z-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=(X=new Array(ae.length)).length,K=0;K<Y;K+=1)X[K]=ae[K]+(ae[K]-ie[K])*((J-Z)/this.comp.globalData.frameRate)/5e-4;return X}return ae+(J-Z)/.001*(ae-ie)}}return this.getValueAtTime(((J-q)%W+q)/this.comp.globalData.frameRate,0)}function t(j,B,U){if(!this.k)return this.pv;j=j?j.toLowerCase():"";var W,q,K,Y,X,J=this.comp.renderedFrame,Q=this.keyframes,Z=Q[0].t;if(J>=Z)return this.pv;if(U?q=Z+(W=B?Math.abs(this.elem.comp.globalData.frameRate*B):Math.max(0,this.elem.data.op-Z)):((!B||B>Q.length-1)&&(B=Q.length-1),W=(q=Q[B].t)-Z),j==="pingpong"){if(Math.floor((Z-J)/W)%2==0)return this.getValueAtTime(((Z-J)%W+Z)/this.comp.globalData.frameRate,0)}else{if(j==="offset"){var ee=this.getValueAtTime(Z/this.comp.globalData.frameRate,0),re=this.getValueAtTime(q/this.comp.globalData.frameRate,0),te=this.getValueAtTime((W-(Z-J)%W+Z)/this.comp.globalData.frameRate,0),ne=Math.floor((Z-J)/W)+1;if(this.pv.length){for(Y=(X=new Array(ee.length)).length,K=0;K<Y;K+=1)X[K]=te[K]-(re[K]-ee[K])*ne;return X}return te-(re-ee)*ne}if(j==="continue"){var ae=this.getValueAtTime(Z/this.comp.globalData.frameRate,0),ie=this.getValueAtTime((Z+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=(X=new Array(ae.length)).length,K=0;K<Y;K+=1)X[K]=ae[K]+(ae[K]-ie[K])*(Z-J)/.001;return X}return ae+(ae-ie)*(Z-J)/.001}}return this.getValueAtTime((W-((Z-J)%W+Z))/this.comp.globalData.frameRate,0)}function e(j,B){if(!this.k)return this.pv;if(j=.5*(j||.4),(B=Math.floor(B||5))<=1)return this.pv;var U,W,q=this.comp.renderedFrame/this.comp.globalData.frameRate,K=q-j,Y=B>1?(q+j-K)/(B-1):1,X=0,J=0;for(U=this.pv.length?createTypedArray("float32",this.pv.length):0;X<B;){if(W=this.getValueAtTime(K+X*Y),this.pv.length)for(J=0;J<this.pv.length;J+=1)U[J]+=W[J];else U+=W;X+=1}if(this.pv.length)for(J=0;J<this.pv.length;J+=1)U[J]/=B;else U/=B;return U}function o(j){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var B=this._transformCachingAtTime.v;if(B.cloneFromProps(this.pre.props),this.appliedTransformations<1){var U=this.a.getValueAtTime(j);B.translate(-U[0]*this.a.mult,-U[1]*this.a.mult,U[2]*this.a.mult)}if(this.appliedTransformations<2){var W=this.s.getValueAtTime(j);B.scale(W[0]*this.s.mult,W[1]*this.s.mult,W[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var q=this.sk.getValueAtTime(j),K=this.sa.getValueAtTime(j);B.skewFromAxis(-q*this.sk.mult,K*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Y=this.r.getValueAtTime(j);B.rotate(-Y*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var X=this.rz.getValueAtTime(j),J=this.ry.getValueAtTime(j),Q=this.rx.getValueAtTime(j),Z=this.or.getValueAtTime(j);B.rotateZ(-X*this.rz.mult).rotateY(J*this.ry.mult).rotateX(Q*this.rx.mult).rotateZ(-Z[2]*this.or.mult).rotateY(Z[1]*this.or.mult).rotateX(Z[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var ee=this.px.getValueAtTime(j),re=this.py.getValueAtTime(j);if(this.data.p.z){var te=this.pz.getValueAtTime(j);B.translate(ee*this.px.mult,re*this.py.mult,-te*this.pz.mult)}else B.translate(ee*this.px.mult,re*this.py.mult,0)}else{var ne=this.p.getValueAtTime(j);B.translate(ne[0]*this.p.mult,ne[1]*this.p.mult,-ne[2]*this.p.mult)}return B}function l(){return this.v.clone(new Matrix)}var h=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(j,B,U){var W=h(j,B,U);return W.dynamicProperties.length?W.getValueAtTime=o.bind(W):W.getValueAtTime=l.bind(W),W.setGroupProperty=expressionHelpers.setGroupProperty,W};var y=PropertyFactory.getProp;PropertyFactory.getProp=function(j,B,U,W,q){var K=y(j,B,U,W,q);K.kf?K.getValueAtTime=expressionHelpers.getValueAtTime.bind(K):K.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(K),K.setGroupProperty=expressionHelpers.setGroupProperty,K.loopOut=r,K.loopIn=t,K.smooth=e,K.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(K),K.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(K),K.numKeys=B.a===1?B.k.length:0,K.propertyIndex=B.ix;var Y=0;return U!==0&&(Y=createTypedArray("float32",B.a===1?B.k[0].s.length:B.k.length)),K._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Y},expressionHelpers.searchExpressions(j,B,K),K.k&&q.addDynamicProperty(K),K};var O=ShapePropertyFactory.getConstructorFunction(),D=ShapePropertyFactory.getKeyframedConstructorFunction();function R(){}R.prototype={vertices:function(j,B){this.k&&this.getValue();var U,W=this.v;B!==void 0&&(W=this.getValueAtTime(B,0));var q=W._length,K=W[j],Y=W.v,X=createSizedArray(q);for(U=0;U<q;U+=1)X[U]=j==="i"||j==="o"?[K[U][0]-Y[U][0],K[U][1]-Y[U][1]]:[K[U][0],K[U][1]];return X},points:function(j){return this.vertices("v",j)},inTangents:function(j){return this.vertices("i",j)},outTangents:function(j){return this.vertices("o",j)},isClosed:function(){return this.v.c},pointOnPath:function(j,B){var U=this.v;B!==void 0&&(U=this.getValueAtTime(B,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(U));for(var W,q=this._segmentsLength,K=q.lengths,Y=q.totalLength*j,X=0,J=K.length,Q=0;X<J;){if(Q+K[X].addedLength>Y){var Z=X,ee=U.c&&X===J-1?0:X+1,re=(Y-Q)/K[X].addedLength;W=bez.getPointInSegment(U.v[Z],U.v[ee],U.o[Z],U.i[ee],re,K[X]);break}Q+=K[X].addedLength,X+=1}return W||(W=U.c?[U.v[0][0],U.v[0][1]]:[U.v[U._length-1][0],U.v[U._length-1][1]]),W},vectorOnPath:function(j,B,U){j==1?j=this.v.c:j==0&&(j=.999);var W=this.pointOnPath(j,B),q=this.pointOnPath(j+.001,B),K=q[0]-W[0],Y=q[1]-W[1],X=Math.sqrt(Math.pow(K,2)+Math.pow(Y,2));return X===0?[0,0]:U==="tangent"?[K/X,Y/X]:[-Y/X,K/X]},tangentOnPath:function(j,B){return this.vectorOnPath(j,B,"tangent")},normalOnPath:function(j,B){return this.vectorOnPath(j,B,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([R],O),extendPrototype([R],D),D.prototype.getValueAtTime=function(j){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),j*=this.elem.globalData.frameRate,(j-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<j?this._caching.lastIndex:0,this._cachingAtTime.lastTime=j,this.interpolateShape(j,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},D.prototype.initiateExpression=ExpressionManager.initiateExpression;var F=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(j,B,U,W,q){var K=F(j,B,U,W,q);return K.propertyIndex=B.ix,K.lock=!1,U===3?expressionHelpers.searchExpressions(j,B.pt,K):U===4&&expressionHelpers.searchExpressions(j,B.ks,K),K.k&&j.addDynamicProperty(K),K}})(),TextProperty.prototype.getExpressionValue=function(r,t){var e=this.calculateExpression(t);if(r.t!==e){var o={};return this.copyData(o,r),o.t=e.toString(),o.__complete=!1,o}return r},TextProperty.prototype.searchProperty=function(){var r=this.searchKeyframes(),t=this.searchExpressions();return this.kf=r||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(r,t,e){var o=t.sh;function l(y){return y==="Shape"||y==="shape"||y==="Path"||y==="path"||y==="ADBE Vector Shape"||y===2?l.path:null}var h=propertyGroupFactory(l,e);return o.setGroupProperty(PropertyInterface("Path",h)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:r.nm},ix:{value:r.ix},propertyIndex:{value:r.ix},mn:{value:r.mn},propertyGroup:{value:e}}),l},propertyGroupFactory=function(r,t){return function(e){return(e=e===void 0?1:e)<=0?r:t(e-1)}},PropertyInterface=function(r,t){var e={_name:r};return function(o){return(o=o===void 0?1:o)<=0?e:t(o-1)}},ShapeExpressionInterface=function(){function r(B,U,W){var q,K=[],Y=B?B.length:0;for(q=0;q<Y;q+=1)B[q].ty==="gr"?K.push(t(B[q],U[q],W)):B[q].ty==="fl"?K.push(e(B[q],U[q],W)):B[q].ty==="st"?K.push(l(B[q],U[q],W)):B[q].ty==="tm"?K.push(h(B[q],U[q],W)):B[q].ty==="tr"||(B[q].ty==="el"?K.push(O(B[q],U[q],W)):B[q].ty==="sr"?K.push(D(B[q],U[q],W)):B[q].ty==="sh"?K.push(ShapePathInterface(B[q],U[q],W)):B[q].ty==="rc"?K.push(R(B[q],U[q],W)):B[q].ty==="rd"?K.push(F(B[q],U[q],W)):B[q].ty==="rp"?K.push(j(B[q],U[q],W)):B[q].ty==="gf"?K.push(o(B[q],U[q],W)):K.push((B[q],U[q],function(){return null})));return K}function t(B,U,W){var q=function(X){switch(X){case"ADBE Vectors Group":case"Contents":case 2:return q.content;default:return q.transform}};q.propertyGroup=propertyGroupFactory(q,W);var K=function(X,J,Q){var Z,ee=function(te){for(var ne=0,ae=Z.length;ne<ae;){if(Z[ne]._name===te||Z[ne].mn===te||Z[ne].propertyIndex===te||Z[ne].ix===te||Z[ne].ind===te)return Z[ne];ne+=1}return typeof te=="number"?Z[te-1]:null};ee.propertyGroup=propertyGroupFactory(ee,Q),Z=r(X.it,J.it,ee.propertyGroup),ee.numProperties=Z.length;var re=y(X.it[X.it.length-1],J.it[J.it.length-1],ee.propertyGroup);return ee.transform=re,ee.propertyIndex=X.cix,ee._name=X.nm,ee}(B,U,q.propertyGroup),Y=y(B.it[B.it.length-1],U.it[U.it.length-1],q.propertyGroup);return q.content=K,q.transform=Y,Object.defineProperty(q,"_name",{get:function(){return B.nm}}),q.numProperties=B.np,q.propertyIndex=B.ix,q.nm=B.nm,q.mn=B.mn,q}function e(B,U,W){function q(K){return K==="Color"||K==="color"?q.color:K==="Opacity"||K==="opacity"?q.opacity:null}return Object.defineProperties(q,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},_name:{value:B.nm},mn:{value:B.mn}}),U.c.setGroupProperty(PropertyInterface("Color",W)),U.o.setGroupProperty(PropertyInterface("Opacity",W)),q}function o(B,U,W){function q(K){return K==="Start Point"||K==="start point"?q.startPoint:K==="End Point"||K==="end point"?q.endPoint:K==="Opacity"||K==="opacity"?q.opacity:null}return Object.defineProperties(q,{startPoint:{get:ExpressionPropertyInterface(U.s)},endPoint:{get:ExpressionPropertyInterface(U.e)},opacity:{get:ExpressionPropertyInterface(U.o)},type:{get:function(){return"a"}},_name:{value:B.nm},mn:{value:B.mn}}),U.s.setGroupProperty(PropertyInterface("Start Point",W)),U.e.setGroupProperty(PropertyInterface("End Point",W)),U.o.setGroupProperty(PropertyInterface("Opacity",W)),q}function l(B,U,W){var q,K=propertyGroupFactory(Z,W),Y=propertyGroupFactory(Q,K);function X(ee){Object.defineProperty(Q,B.d[ee].nm,{get:ExpressionPropertyInterface(U.d.dataProps[ee].p)})}var J=B.d?B.d.length:0,Q={};for(q=0;q<J;q+=1)X(q),U.d.dataProps[q].p.setGroupProperty(Y);function Z(ee){return ee==="Color"||ee==="color"?Z.color:ee==="Opacity"||ee==="opacity"?Z.opacity:ee==="Stroke Width"||ee==="stroke width"?Z.strokeWidth:null}return Object.defineProperties(Z,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},strokeWidth:{get:ExpressionPropertyInterface(U.w)},dash:{get:function(){return Q}},_name:{value:B.nm},mn:{value:B.mn}}),U.c.setGroupProperty(PropertyInterface("Color",K)),U.o.setGroupProperty(PropertyInterface("Opacity",K)),U.w.setGroupProperty(PropertyInterface("Stroke Width",K)),Z}function h(B,U,W){function q(Y){return Y===B.e.ix||Y==="End"||Y==="end"?q.end:Y===B.s.ix?q.start:Y===B.o.ix?q.offset:null}var K=propertyGroupFactory(q,W);return q.propertyIndex=B.ix,U.s.setGroupProperty(PropertyInterface("Start",K)),U.e.setGroupProperty(PropertyInterface("End",K)),U.o.setGroupProperty(PropertyInterface("Offset",K)),q.propertyIndex=B.ix,q.propertyGroup=W,Object.defineProperties(q,{start:{get:ExpressionPropertyInterface(U.s)},end:{get:ExpressionPropertyInterface(U.e)},offset:{get:ExpressionPropertyInterface(U.o)},_name:{value:B.nm}}),q.mn=B.mn,q}function y(B,U,W){function q(Y){return B.a.ix===Y||Y==="Anchor Point"?q.anchorPoint:B.o.ix===Y||Y==="Opacity"?q.opacity:B.p.ix===Y||Y==="Position"?q.position:B.r.ix===Y||Y==="Rotation"||Y==="ADBE Vector Rotation"?q.rotation:B.s.ix===Y||Y==="Scale"?q.scale:B.sk&&B.sk.ix===Y||Y==="Skew"?q.skew:B.sa&&B.sa.ix===Y||Y==="Skew Axis"?q.skewAxis:null}var K=propertyGroupFactory(q,W);return U.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",K)),U.transform.mProps.p.setGroupProperty(PropertyInterface("Position",K)),U.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",K)),U.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",K)),U.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",K)),U.transform.mProps.sk&&(U.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",K)),U.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",K))),U.transform.op.setGroupProperty(PropertyInterface("Opacity",K)),Object.defineProperties(q,{opacity:{get:ExpressionPropertyInterface(U.transform.mProps.o)},position:{get:ExpressionPropertyInterface(U.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(U.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(U.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(U.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(U.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(U.transform.mProps.sa)},_name:{value:B.nm}}),q.ty="tr",q.mn=B.mn,q.propertyGroup=W,q}function O(B,U,W){function q(X){return B.p.ix===X?q.position:B.s.ix===X?q.size:null}var K=propertyGroupFactory(q,W);q.propertyIndex=B.ix;var Y=U.sh.ty==="tm"?U.sh.prop:U.sh;return Y.s.setGroupProperty(PropertyInterface("Size",K)),Y.p.setGroupProperty(PropertyInterface("Position",K)),Object.defineProperties(q,{size:{get:ExpressionPropertyInterface(Y.s)},position:{get:ExpressionPropertyInterface(Y.p)},_name:{value:B.nm}}),q.mn=B.mn,q}function D(B,U,W){function q(X){return B.p.ix===X?q.position:B.r.ix===X?q.rotation:B.pt.ix===X?q.points:B.or.ix===X||X==="ADBE Vector Star Outer Radius"?q.outerRadius:B.os.ix===X?q.outerRoundness:!B.ir||B.ir.ix!==X&&X!=="ADBE Vector Star Inner Radius"?B.is&&B.is.ix===X?q.innerRoundness:null:q.innerRadius}var K=propertyGroupFactory(q,W),Y=U.sh.ty==="tm"?U.sh.prop:U.sh;return q.propertyIndex=B.ix,Y.or.setGroupProperty(PropertyInterface("Outer Radius",K)),Y.os.setGroupProperty(PropertyInterface("Outer Roundness",K)),Y.pt.setGroupProperty(PropertyInterface("Points",K)),Y.p.setGroupProperty(PropertyInterface("Position",K)),Y.r.setGroupProperty(PropertyInterface("Rotation",K)),B.ir&&(Y.ir.setGroupProperty(PropertyInterface("Inner Radius",K)),Y.is.setGroupProperty(PropertyInterface("Inner Roundness",K))),Object.defineProperties(q,{position:{get:ExpressionPropertyInterface(Y.p)},rotation:{get:ExpressionPropertyInterface(Y.r)},points:{get:ExpressionPropertyInterface(Y.pt)},outerRadius:{get:ExpressionPropertyInterface(Y.or)},outerRoundness:{get:ExpressionPropertyInterface(Y.os)},innerRadius:{get:ExpressionPropertyInterface(Y.ir)},innerRoundness:{get:ExpressionPropertyInterface(Y.is)},_name:{value:B.nm}}),q.mn=B.mn,q}function R(B,U,W){function q(X){return B.p.ix===X?q.position:B.r.ix===X?q.roundness:B.s.ix===X||X==="Size"||X==="ADBE Vector Rect Size"?q.size:null}var K=propertyGroupFactory(q,W),Y=U.sh.ty==="tm"?U.sh.prop:U.sh;return q.propertyIndex=B.ix,Y.p.setGroupProperty(PropertyInterface("Position",K)),Y.s.setGroupProperty(PropertyInterface("Size",K)),Y.r.setGroupProperty(PropertyInterface("Rotation",K)),Object.defineProperties(q,{position:{get:ExpressionPropertyInterface(Y.p)},roundness:{get:ExpressionPropertyInterface(Y.r)},size:{get:ExpressionPropertyInterface(Y.s)},_name:{value:B.nm}}),q.mn=B.mn,q}function F(B,U,W){function q(X){return B.r.ix===X||X==="Round Corners 1"?q.radius:null}var K=propertyGroupFactory(q,W),Y=U;return q.propertyIndex=B.ix,Y.rd.setGroupProperty(PropertyInterface("Radius",K)),Object.defineProperties(q,{radius:{get:ExpressionPropertyInterface(Y.rd)},_name:{value:B.nm}}),q.mn=B.mn,q}function j(B,U,W){function q(X){return B.c.ix===X||X==="Copies"?q.copies:B.o.ix===X||X==="Offset"?q.offset:null}var K=propertyGroupFactory(q,W),Y=U;return q.propertyIndex=B.ix,Y.c.setGroupProperty(PropertyInterface("Copies",K)),Y.o.setGroupProperty(PropertyInterface("Offset",K)),Object.defineProperties(q,{copies:{get:ExpressionPropertyInterface(Y.c)},offset:{get:ExpressionPropertyInterface(Y.o)},_name:{value:B.nm}}),q.mn=B.mn,q}return function(B,U,W){var q;function K(Y){if(typeof Y=="number")return(Y=Y===void 0?1:Y)===0?W:q[Y-1];for(var X=0,J=q.length;X<J;){if(q[X]._name===Y)return q[X];X+=1}return null}return K.propertyGroup=propertyGroupFactory(K,function(){return W}),q=r(B,U,K.propertyGroup),K.numProperties=q.length,K._name="Contents",K}}(),TextExpressionInterface=function(r){var t,e;function o(l){return l==="ADBE Text Document"?o.sourceText:null}return Object.defineProperty(o,"sourceText",{get:function(){r.textProperty.getValue();var l=r.textProperty.currentData.t;return l!==t&&(r.textProperty.currentData.t=t,(e=new String(l)).value=l||new String(l)),e}}),o},LayerExpressionInterface=function(){function r(R){var F=new Matrix;return R!==void 0?this._elem.finalTransform.mProp.getValueAtTime(R).clone(F):this._elem.finalTransform.mProp.applyToMatrix(F),F}function t(R,F){var j=this.getMatrix(F);return j.props[12]=0,j.props[13]=0,j.props[14]=0,this.applyPoint(j,R)}function e(R,F){var j=this.getMatrix(F);return this.applyPoint(j,R)}function o(R,F){var j=this.getMatrix(F);return j.props[12]=0,j.props[13]=0,j.props[14]=0,this.invertPoint(j,R)}function l(R,F){var j=this.getMatrix(F);return this.invertPoint(j,R)}function h(R,F){if(this._elem.hierarchy&&this._elem.hierarchy.length){var j,B=this._elem.hierarchy.length;for(j=0;j<B;j+=1)this._elem.hierarchy[j].finalTransform.mProp.applyToMatrix(R)}return R.applyToPointArray(F[0],F[1],F[2]||0)}function y(R,F){if(this._elem.hierarchy&&this._elem.hierarchy.length){var j,B=this._elem.hierarchy.length;for(j=0;j<B;j+=1)this._elem.hierarchy[j].finalTransform.mProp.applyToMatrix(R)}return R.inversePoint(F)}function O(R){var F=new Matrix;if(F.reset(),this._elem.finalTransform.mProp.applyToMatrix(F),this._elem.hierarchy&&this._elem.hierarchy.length){var j,B=this._elem.hierarchy.length;for(j=0;j<B;j+=1)this._elem.hierarchy[j].finalTransform.mProp.applyToMatrix(F);return F.inversePoint(R)}return F.inversePoint(R)}function D(){return[1,1,1,1]}return function(R){var F;function j(U){switch(U){case"ADBE Root Vectors Group":case"Contents":case 2:return j.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return F;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return j.effect;case"ADBE Text Properties":return j.textInterface;default:return null}}j.getMatrix=r,j.invertPoint=y,j.applyPoint=h,j.toWorld=e,j.toWorldVec=t,j.fromWorld=l,j.fromWorldVec=o,j.toComp=e,j.fromComp=O,j.sampleImage=D,j.sourceRectAtTime=R.sourceRectAtTime.bind(R),j._elem=R;var B=getDescriptor(F=TransformExpressionInterface(R.finalTransform.mProp),"anchorPoint");return Object.defineProperties(j,{hasParent:{get:function(){return R.hierarchy.length}},parent:{get:function(){return R.hierarchy[0].layerInterface}},rotation:getDescriptor(F,"rotation"),scale:getDescriptor(F,"scale"),position:getDescriptor(F,"position"),opacity:getDescriptor(F,"opacity"),anchorPoint:B,anchor_point:B,transform:{get:function(){return F}},active:{get:function(){return R.isInRange}}}),j.startTime=R.data.st,j.index=R.data.ind,j.source=R.data.refId,j.height=R.data.ty===0?R.data.h:100,j.width=R.data.ty===0?R.data.w:100,j.inPoint=R.data.ip/R.comp.globalData.frameRate,j.outPoint=R.data.op/R.comp.globalData.frameRate,j._name=R.data.nm,j.registerMaskInterface=function(U){j.mask=new MaskManagerInterface(U,R)},j.registerEffectsInterface=function(U){j.effect=U},j}}(),FootageInterface=(dataInterfaceFactory=function(r){function t(e){return e==="Outline"?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var o="",l=e.getFootageData();function h(y){if(l[y])return o=y,typeof(l=l[y])=="object"?h:l;var O=y.indexOf(o);if(O!==-1){var D=parseInt(y.substr(O+o.length),10);return typeof(l=l[D])=="object"?h:l}return""}return function(){return o="",l=e.getFootageData(),h}}(r),t},function(r){function t(e){return e==="Data"?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(r),t}),dataInterfaceFactory,CompExpressionInterface=function(r){function t(e){for(var o=0,l=r.layers.length;o<l;){if(r.layers[o].nm===e||r.layers[o].ind===e)return r.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(t,"_name",{value:r.data.nm}),t.layer=t,t.pixelAspect=1,t.height=r.data.h||r.globalData.compSize.h,t.width=r.data.w||r.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/r.globalData.frameRate,t.displayStartTime=0,t.numLayers=r.layers.length,t},TransformExpressionInterface=function(r){function t(y){switch(y){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var e,o,l,h;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(r.r||r.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(r.rz||r.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(r.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(r.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(r.s)}),r.p?h=ExpressionPropertyInterface(r.p):(e=ExpressionPropertyInterface(r.px),o=ExpressionPropertyInterface(r.py),r.pz&&(l=ExpressionPropertyInterface(r.pz))),Object.defineProperty(t,"position",{get:function(){return r.p?h():[e(),o(),l?l():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(r.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(r.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(r.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(r.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(r.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(r.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(r.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(r.or)}),t},ProjectInterface=function(){function r(t){this.compositions.push(t)}return function(){function t(e){for(var o=0,l=this.compositions.length;o<l;){if(this.compositions[o].data&&this.compositions[o].data.nm===e)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=r,t}}(),EffectsExpressionInterface=function(){var r={createEffectsInterface:function(o,l){if(o.effectsManager){var h,y=[],O=o.data.ef,D=o.effectsManager.effectElements.length;for(h=0;h<D;h+=1)y.push(t(O[h],o.effectsManager.effectElements[h],l,o));var R=o.data.ef||[],F=function(j){for(h=0,D=R.length;h<D;){if(j===R[h].nm||j===R[h].mn||j===R[h].ix)return y[h];h+=1}return null};return Object.defineProperty(F,"numProperties",{get:function(){return R.length}}),F}return null}};function t(o,l,h,y){function O(B){for(var U=o.ef,W=0,q=U.length;W<q;){if(B===U[W].nm||B===U[W].mn||B===U[W].ix)return U[W].ty===5?F[W]:F[W]();W+=1}throw new Error}var D,R=propertyGroupFactory(O,h),F=[],j=o.ef.length;for(D=0;D<j;D+=1)o.ef[D].ty===5?F.push(t(o.ef[D],l.effectElements[D],l.effectElements[D].propertyGroup,y)):F.push(e(l.effectElements[D],o.ef[D].ty,y,R));return o.mn==="ADBE Color Control"&&Object.defineProperty(O,"color",{get:function(){return F[0]()}}),Object.defineProperties(O,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:R}}),O.enabled=o.en!==0,O.active=O.enabled,O}function e(o,l,h,y){var O=ExpressionPropertyInterface(o.p);return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",y)),function(){return l===10?h.comp.compInterface(o.p.v):O()}}return r}(),MaskManagerInterface=function(){function r(t,e){this._mask=t,this._data=e}return Object.defineProperty(r.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(r.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var e,o=createSizedArray(t.viewData.length),l=t.viewData.length;for(e=0;e<l;e+=1)o[e]=new r(t.viewData[e],t.masksProperties[e]);return function(h){for(e=0;e<l;){if(t.masksProperties[e].nm===h)return o[e];e+=1}return null}}}(),ExpressionPropertyInterface=function(){var r={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function e(l,h,y){Object.defineProperty(l,"velocity",{get:function(){return h.getVelocityAtTime(h.comp.currentFrame)}}),l.numKeys=h.keyframes?h.keyframes.length:0,l.key=function(O){if(!l.numKeys)return 0;var D="";D="s"in h.keyframes[O-1]?h.keyframes[O-1].s:"e"in h.keyframes[O-2]?h.keyframes[O-2].e:h.keyframes[O-2].s;var R=y==="unidimensional"?new Number(D):Object.assign({},D);return R.time=h.keyframes[O-1].t/h.elem.comp.globalData.frameRate,R.value=y==="unidimensional"?D[0]:D,R},l.valueAtTime=h.getValueAtTime,l.speedAtTime=h.getSpeedAtTime,l.velocityAtTime=h.getVelocityAtTime,l.propertyGroup=h.propertyGroup}function o(){return r}return function(l){return l?l.propType==="unidimensional"?function(h){h&&"pv"in h||(h=r);var y=1/h.mult,O=h.pv*y,D=new Number(O);return D.value=O,e(D,h,"unidimensional"),function(){return h.k&&h.getValue(),O=h.v*y,D.value!==O&&((D=new Number(O)).value=O,e(D,h,"unidimensional")),D}}(l):function(h){h&&"pv"in h||(h=t);var y=1/h.mult,O=h.data&&h.data.l||h.pv.length,D=createTypedArray("float32",O),R=createTypedArray("float32",O);return D.value=R,e(D,h,"multidimensional"),function(){h.k&&h.getValue();for(var F=0;F<O;F+=1)R[F]=h.v[F]*y,D[F]=R[F];return D}}(l):o}}(),TextExpressionSelectorPropFactory=function(){function r(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}return function(t,e){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=e.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,e,this),this.getMult=r,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp;function SliderEffect(r,t,e){this.p=PropertyFactory.getProp(t,r.v,0,0,e)}function AngleEffect(r,t,e){this.p=PropertyFactory.getProp(t,r.v,0,0,e)}function ColorEffect(r,t,e){this.p=PropertyFactory.getProp(t,r.v,1,0,e)}function PointEffect(r,t,e){this.p=PropertyFactory.getProp(t,r.v,1,0,e)}function LayerIndexEffect(r,t,e){this.p=PropertyFactory.getProp(t,r.v,0,0,e)}function MaskIndexEffect(r,t,e){this.p=PropertyFactory.getProp(t,r.v,0,0,e)}function CheckboxEffect(r,t,e){this.p=PropertyFactory.getProp(t,r.v,0,0,e)}function NoValueEffect(){this.p={}}function EffectsManager(r,t){var e,o=r.ef||[];this.effectElements=[];var l,h=o.length;for(e=0;e<h;e+=1)l=new GroupEffect(o[e],t),this.effectElements.push(l)}function GroupEffect(r,t){this.init(r,t)}TextSelectorProp.getTextSelectorProp=function(r,t,e){return t.t===1?new TextExpressionSelectorPropFactory(r,t,e):propertyGetTextProp(r,t,e)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(r,t){var e;this.data=r,this.effectElements=[],this.initDynamicPropertyContainer(t);var o,l=this.data.ef.length,h=this.data.ef;for(e=0;e<l;e+=1){switch(o=null,h[e].ty){case 0:o=new SliderEffect(h[e],t,this);break;case 1:o=new AngleEffect(h[e],t,this);break;case 2:o=new ColorEffect(h[e],t,this);break;case 3:o=new PointEffect(h[e],t,this);break;case 4:case 7:o=new CheckboxEffect(h[e],t,this);break;case 10:o=new LayerIndexEffect(h[e],t,this);break;case 11:o=new MaskIndexEffect(h[e],t,this);break;case 5:o=new EffectsManager(h[e],t);break;default:o=new NoValueEffect(h[e])}o&&this.effectElements.push(o)}};var lottie={};function setLocationHref(r){locationHref=r}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(r){subframeEnabled=r}function setIDPrefix(r){idPrefix=r}function loadAnimation(r){return animationManager.loadAnimation(r)}function setQuality(r){if(typeof r=="string")switch(r){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(r)&&r>1&&(defaultCurveSegments=r)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(r,t){r==="expressions"&&(expressionsPlugin=t)}function getFactory(r){switch(r){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(r){for(var t=queryString.split("&"),e=0;e<t.length;e+=1){var o=t[e].split("=");if(decodeURIComponent(o[0])==r)return decodeURIComponent(o[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(r){_useWebWorker=r},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.1";var queryString;{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},module.exports?module.exports=factory(root):(root.lottie=factory(root),root.bodymovin=root.lottie))})(lottie$1);lottie$1.exports;var _templateObject$1,styles=r$3(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral([`
  * {
    box-sizing: border-box;
  }

  :host {
    --lottie-player-toolbar-height: 35px;
    --lottie-player-toolbar-background-color: transparent;
    --lottie-player-toolbar-icon-color: #999;
    --lottie-player-toolbar-icon-hover-color: #222;
    --lottie-player-toolbar-icon-active-color: #555;
    --lottie-player-seeker-track-color: #ccc;
    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);
    --lottie-player-seeker-display: block;

    display: block;
    width: 100%;
    height: 100%;
  }

  .main {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  .animation {
    width: 100%;
    height: 100%;
    display: flex;
  }
  .animation.controls {
    height: calc(100% - 35px);
  }

  .toolbar {
    display: flex;
    align-items: center;
    justify-items: center;
    background-color: var(--lottie-player-toolbar-background-color);
    margin: 0 5px;
    height: 35px;
  }

  .toolbar button {
    cursor: pointer;
    fill: var(--lottie-player-toolbar-icon-color);
    display: flex;
    background: none;
    border: 0;
    padding: 0;
    outline: none;
    height: 100%;
  }

  .toolbar button:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button.active {
    fill: var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button.active:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button:focus {
    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button svg {
  }

  .toolbar button.disabled svg {
    display: none;
  }

  .seeker {
    -webkit-appearance: none;
    width: 95%;
    outline: none;
    background-color: var(--lottie-player-toolbar-background-color);
    display: var(--lottie-player-seeker-display);
  }

  .seeker::-webkit-slider-runnable-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-webkit-slider-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
    -webkit-appearance: none;
    margin-top: -5px;
  }
  .seeker:focus::-webkit-slider-runnable-track {
    background: #999;
  }
  .seeker::-moz-range-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-moz-range-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker::-ms-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }
  .seeker::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-thumb {
    border: 0;
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker:focus::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
  }
  .seeker:focus::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
  }

  .error {
    display: flex;
    justify-content: center;
    height: 100%;
    align-items: center;
  }
`]))),_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,PlayerState,PlayMode,PlayerEvents;function parseSrc(r){if(typeof r=="object")return r;try{return JSON.parse(r)}catch{return new URL(r,window.location.href).toString()}}function isLottie(r){return["v","ip","op","layers","fr","w","h"].every(t=>Object.prototype.hasOwnProperty.call(r,t))}function fromURL(r){return _fromURL.apply(this,arguments)}function _fromURL(){return(_fromURL=_asyncToGenerator(function*(r){if(typeof r!="string")throw new Error("The url value must be a string");var t;try{var e=new URL(r),o=yield fetch(e.toString());t=yield o.json()}catch{throw new Error("An error occurred while trying to load the Lottie file from URL")}return t})).apply(this,arguments)}(function(r){r.Destroyed="destroyed",r.Error="error",r.Frozen="frozen",r.Loading="loading",r.Paused="paused",r.Playing="playing",r.Stopped="stopped"})(PlayerState||(PlayerState={})),function(r){r.Bounce="bounce",r.Normal="normal"}(PlayMode||(PlayMode={})),function(r){r.Complete="complete",r.Destroyed="destroyed",r.Error="error",r.Frame="frame",r.Freeze="freeze",r.Load="load",r.Loop="loop",r.Pause="pause",r.Play="play",r.Ready="ready",r.Rendered="rendered",r.Stop="stop"}(PlayerEvents||(PlayerEvents={}));var LottiePlayer=class extends s{constructor(){super(...arguments),this.autoplay=!1,this.background="transparent",this.controls=!1,this.currentState=PlayerState.Loading,this.description="Lottie animation",this.direction=1,this.hover=!1,this.intermission=1,this.loop=!1,this.mode=PlayMode.Normal,this.preserveAspectRatio="xMidYMid meet",this.renderer="svg",this.speed=1,this._io=void 0,this._counter=1}load(r){var t=this;return _asyncToGenerator(function*(){if(t.shadowRoot){var e={container:t.container,loop:!1,autoplay:!1,renderer:t.renderer,rendererSettings:{preserveAspectRatio:t.preserveAspectRatio,clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0}};try{var o=parseSrc(r),l={},h=typeof o=="string"?"path":"animationData";t._lottie&&t._lottie.destroy(),t.webworkers&&lottie$1.exports.useWebWorker(!0),t._lottie=lottie$1.exports.loadAnimation(Object.assign(Object.assign({},e),{[h]:o})),t._attachEventListeners(),h==="path"?(l=yield fromURL(o),h="animationData"):l=o,isLottie(l)||(t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error)))}catch{t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error))}}})()}getLottie(){return this._lottie}play(){this._lottie&&(this._lottie.play(),this.currentState=PlayerState.Playing,this.dispatchEvent(new CustomEvent(PlayerEvents.Play)))}pause(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Paused,this.dispatchEvent(new CustomEvent(PlayerEvents.Pause)))}stop(){this._lottie&&(this._counter=1,this._lottie.stop(),this.currentState=PlayerState.Stopped,this.dispatchEvent(new CustomEvent(PlayerEvents.Stop)))}destroy(){this._lottie&&(this._lottie.destroy(),this._lottie=null,this.currentState=PlayerState.Destroyed,this.dispatchEvent(new CustomEvent(PlayerEvents.Destroyed)),this.remove())}seek(r){if(this._lottie){var t=/^(\d+)(%?)$/.exec(r.toString());if(t){var e=t[2]==="%"?this._lottie.totalFrames*Number(t[1])/100:Number(t[1]);this.seeker=e,this.currentState===PlayerState.Playing?this._lottie.goToAndPlay(e,!0):(this._lottie.goToAndStop(e,!0),this._lottie.pause())}}}snapshot(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.shadowRoot){var t=this.shadowRoot.querySelector(".animation svg"),e=new XMLSerializer().serializeToString(t);if(r){var o=document.createElement("a");o.href="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(e)),o.download="download_".concat(this.seeker,".svg"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}return e}}setSpeed(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._lottie&&this._lottie.setSpeed(r)}setDirection(r){this._lottie&&this._lottie.setDirection(r)}setLooping(r){this._lottie&&(this.loop=r,this._lottie.loop=r)}togglePlay(){return this.currentState===PlayerState.Playing?this.pause():this.play()}toggleLooping(){this.setLooping(!this.loop)}resize(){this._lottie&&this._lottie.resize()}static get styles(){return styles}disconnectedCallback(){this.isConnected||(this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",()=>this._onVisibilityChange()),this.destroy())}render(){var r=this.controls?"main controls":"main",t=this.controls?"animation controls":"animation";return $$K(_templateObject||(_templateObject=_taggedTemplateLiteral([` <div
      id="animation-container"
      class=`,`
      lang="en"
      aria-label=`,`
      role="img"
    >
      <div
        id="animation"
        class=`,`
        style="background:`,`;"
      >
        `,`
      </div>
      `,`
    </div>`])),r,this.description,t,this.background,this.currentState===PlayerState.Error?$$K(_templateObject2||(_templateObject2=_taggedTemplateLiteral(['<div class="error">\u26A0\uFE0F</div>']))):void 0,this.controls?this.renderControls():void 0)}firstUpdated(){"IntersectionObserver"in window&&(this._io=new IntersectionObserver(r=>{r[0].isIntersecting?this.currentState===PlayerState.Frozen&&this.play():this.currentState===PlayerState.Playing&&this.freeze()}),this._io.observe(this.container)),document.hidden!==void 0&&document.addEventListener("visibilitychange",()=>this._onVisibilityChange()),this.src&&this.load(this.src),this.dispatchEvent(new CustomEvent(PlayerEvents.Rendered))}renderControls(){var r=this.currentState===PlayerState.Playing,t=this.currentState===PlayerState.Paused,e=this.currentState===PlayerState.Stopped;return $$K(_templateObject3||(_templateObject3=_taggedTemplateLiteral([`
      <div
        id="lottie-controls"
        aria-label="lottie-animation-controls"
        class="toolbar"
      >
        <button
          id="lottie-play-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="play-pause"
        >
          `,`
        </button>
        <button
          id="lottie-stop-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="stop"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path d="M6 6h12v12H6V6z" />
          </svg>
        </button>
        <input
          id="lottie-seeker-input"
          class="seeker"
          type="range"
          min="0"
          step="1"
          max="100"
          .value=`,`
          @input=`,`
          @mousedown=`,`
          @mouseup=`,`
          aria-valuemin="1"
          aria-valuemax="100"
          role="slider"
          aria-valuenow=`,`
          tabindex="0"
          aria-label="lottie-seek-input"
        />
        <button
          id="lottie-loop-toggle"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="loop-toggle"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path
              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"
            />
          </svg>
        </button>
      </div>
    `])),this.togglePlay,r||t?"active":"",$$K(r?_templateObject4||(_templateObject4=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path
                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"
                />
              </svg>`])):_templateObject5||(_templateObject5=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />
              </svg>`]))),this.stop,e?"active":"",this.seeker,this._handleSeekChange,()=>{this._prevState=this.currentState,this.freeze()},()=>{this._prevState===PlayerState.Playing&&this.play()},this.seeker,this.toggleLooping,this.loop?"active":"")}_onVisibilityChange(){document.hidden===!0&&this.currentState===PlayerState.Playing?this.freeze():this.currentState===PlayerState.Frozen&&this.play()}_handleSeekChange(r){if(this._lottie&&!isNaN(r.target.value)){var t=r.target.value/100*this._lottie.totalFrames;this.seek(t)}}_attachEventListeners(){this._lottie.addEventListener("enterFrame",()=>{this.seeker=this._lottie.currentFrame/this._lottie.totalFrames*100,this.dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:this._lottie.currentFrame,seeker:this.seeker}}))}),this._lottie.addEventListener("complete",()=>{if(this.currentState===PlayerState.Playing){if((!this.loop||this.count&&this._counter>=this.count)&&(this.dispatchEvent(new CustomEvent(PlayerEvents.Complete)),this.mode!==PlayMode.Bounce||this._lottie.currentFrame===0))return;this.mode===PlayMode.Bounce?(this.count&&(this._counter+=.5),setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this._lottie.setDirection(-1*this._lottie.playDirection),this._lottie.play())},this.intermission)):(this.count&&(this._counter+=1),window.setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this.direction===-1?(this.seek("99%"),this.play()):(this._lottie.stop(),this._lottie.play()))},this.intermission))}else this.dispatchEvent(new CustomEvent(PlayerEvents.Complete))}),this._lottie.addEventListener("DOMLoaded",()=>{this.setSpeed(this.speed),this.setDirection(this.direction),this.autoplay&&(this.direction===-1&&this.seek("100%"),this.play()),this.dispatchEvent(new CustomEvent(PlayerEvents.Ready))}),this._lottie.addEventListener("data_ready",()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Load))}),this._lottie.addEventListener("data_failed",()=>{this.currentState=PlayerState.Error,this.dispatchEvent(new CustomEvent(PlayerEvents.Error))}),this.container.addEventListener("mouseenter",()=>{this.hover&&this.currentState!==PlayerState.Playing&&this.play()}),this.container.addEventListener("mouseleave",()=>{this.hover&&this.currentState===PlayerState.Playing&&this.stop()})}freeze(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Frozen,this.dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))}};__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"autoplay",void 0),__decorate([e$5({type:String,reflect:!0})],LottiePlayer.prototype,"background",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"controls",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"count",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"currentState",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"description",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"direction",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"hover",void 0),__decorate([e$5()],LottiePlayer.prototype,"intermission",void 0),__decorate([e$5({type:Boolean,reflect:!0})],LottiePlayer.prototype,"loop",void 0),__decorate([e$5()],LottiePlayer.prototype,"mode",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"preserveAspectRatio",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"renderer",void 0),__decorate([e$5()],LottiePlayer.prototype,"seeker",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"speed",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"src",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"webworkers",void 0),__decorate([i$4(".animation")],LottiePlayer.prototype,"container",void 0),LottiePlayer=__decorate([n$1("lottie-player")],LottiePlayer);function buildFormatLongFn(r){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):r.defaultWidth,o=r.formats[e]||r.formats[r.defaultWidth];return o}}function buildLocalizeFn(r){return function(t,e){var o=e||{},l=o.context?String(o.context):"standalone",h;if(l==="formatting"&&r.formattingValues){var y=r.defaultFormattingWidth||r.defaultWidth,O=o.width?String(o.width):y;h=r.formattingValues[O]||r.formattingValues[y]}else{var D=r.defaultWidth,R=o.width?String(o.width):r.defaultWidth;h=r.values[R]||r.values[D]}var F=r.argumentCallback?r.argumentCallback(t):t;return h[F]}}function buildMatchPatternFn(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.match(r.matchPattern);if(!o)return null;var l=o[0],h=t.match(r.parsePattern);if(!h)return null;var y=r.valueCallback?r.valueCallback(h[0]):h[0];y=e.valueCallback?e.valueCallback(y):y;var O=t.slice(l.length);return{value:y,rest:O}}}function buildMatchFn(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.width,l=o&&r.matchPatterns[o]||r.matchPatterns[r.defaultMatchWidth],h=t.match(l);if(!h)return null;var y=h[0],O=o&&r.parsePatterns[o]||r.parsePatterns[r.defaultParseWidth],D=Array.isArray(O)?findIndex$1(O,function(j){return j.test(y)}):findKey(O,function(j){return j.test(y)}),R;R=r.valueCallback?r.valueCallback(D):D,R=e.valueCallback?e.valueCallback(R):R;var F=t.slice(y.length);return{value:R,rest:F}}}function findKey(r,t){for(var e in r)if(r.hasOwnProperty(e)&&t(r[e]))return e}function findIndex$1(r,t){for(var e=0;e<r.length;e++)if(t(r[e]))return e}var chat_svelte_svelte_type_style_lang="";function get_each_context_1$4(r,t,e){const o=r.slice();return o[46]=t[e],o[50]=e,o}function get_each_context$6(r,t,e){const o=r.slice();return o[46]=t[e],o}function get_each_context_2$1(r,t,e){const o=r.slice();return o[51]=t[e],o[50]=e,o}function create_if_block_13$1(r){let t,e,o;return{c(){t=element("div"),t.innerHTML='<i class="bx bx-undo"></i>',attr(t,"class","undoArrow svelte-eftzix")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[11]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_each_block_2$1(r,t){let e,o,l=t[51][0]+"",h,y,O,D,R=t[51][1]!="question"&&!t[4]&&t[50]>=t[1].length-2&&create_if_block_13$1(t);return{key:r,first:null,c(){e=element("div"),R&&R.c(),o=space(),h=text(l),y=space(),attr(e,"class",O=null_to_empty(t[51][1]=="question"?"msgBot":"msgUser")+" svelte-eftzix"),set_style(e,"background-color",t[51][1]!="question"?t[8]:"#e4e4e4"),this.first=e},m(F,j){insert(F,e,j),R&&R.m(e,null),append(e,o),append(e,h),append(e,y)},p(F,j){t=F,t[51][1]!="question"&&!t[4]&&t[50]>=t[1].length-2?R?R.p(t,j):(R=create_if_block_13$1(t),R.c(),R.m(e,o)):R&&(R.d(1),R=null),j[0]&2&&l!==(l=t[51][0]+"")&&set_data(h,l),j[0]&2&&O!==(O=null_to_empty(t[51][1]=="question"?"msgBot":"msgUser")+" svelte-eftzix")&&attr(e,"class",O),j[0]&258&&set_style(e,"background-color",t[51][1]!="question"?t[8]:"#e4e4e4")},i(F){D||add_render_callback(()=>{D=create_in_transition(e,scale,{duration:200,start:.8,easing:quadIn}),D.start()})},o:noop$4,d(F){F&&detach(e),R&&R.d()}}}function create_if_block_1$7(r){let t,e,o,l,h,y,O;const D=[create_if_block_2$7,create_if_block_5$5,create_if_block_7$2,create_if_block_8$1,create_if_block_10$1,create_if_block_12$1],R=[];function F(j,B){return j[5].a.type=="1c"?0:j[5].a.type=="mc"?1:j[5].a.type=="num"?2:j[5].a.type=="cl"?3:j[5].a.type=="cal"?4:j[5].a.type=="5s"?5:-1}return~(o=F(r))&&(l=R[o]=D[o](r)),{c(){t=element("div"),e=element("div"),l&&l.c(),attr(t,"id","inputZone"),attr(t,"class","m-auto svelte-eftzix"),set_style(t,"background-color",r[8]+"1A")},m(j,B){insert(j,t,B),append(t,e),~o&&R[o].m(e,null),O=!0},p(j,B){let U=o;o=F(j),o===U?~o&&R[o].p(j,B):(l&&(group_outros(),transition_out(R[U],1,1,()=>{R[U]=null}),check_outros()),~o?(l=R[o],l?l.p(j,B):(l=R[o]=D[o](j),l.c()),transition_in(l,1),l.m(e,null)):l=null),(!O||B[0]&256)&&set_style(t,"background-color",j[8]+"1A")},i(j){O||(transition_in(l),add_render_callback(()=>{y&&y.end(1),h=create_in_transition(t,fly,{y:20,duration:800}),h.start()}),O=!0)},o(j){transition_out(l),h&&h.invalidate(),y=create_out_transition(t,fade,{duration:200}),O=!1},d(j){j&&detach(t),~o&&R[o].d(),j&&y&&y.end()}}}function create_if_block_12$1(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re;return{c(){t=element("div"),e=element("div"),o=element("input"),l=space(),h=element("label"),h.textContent="5 stars",y=space(),O=element("input"),D=space(),R=element("label"),R.textContent="4 stars",F=space(),j=element("input"),B=space(),U=element("label"),U.textContent="3 stars",W=space(),q=element("input"),K=space(),Y=element("label"),Y.textContent="2 stars",X=space(),J=element("input"),Q=space(),Z=element("label"),Z.textContent="1 star",attr(o,"type","radio"),attr(o,"id","star5"),attr(o,"name","rate"),o.value="5",attr(o,"class","svelte-eftzix"),attr(h,"for","star5"),attr(h,"title","text"),attr(h,"class","svelte-eftzix"),attr(O,"type","radio"),attr(O,"id","star4"),attr(O,"name","rate"),O.value="4",attr(O,"class","svelte-eftzix"),attr(R,"for","star4"),attr(R,"title","text"),attr(R,"class","svelte-eftzix"),attr(j,"type","radio"),attr(j,"id","star3"),attr(j,"name","rate"),j.value="3",attr(j,"class","svelte-eftzix"),attr(U,"for","star3"),attr(U,"title","text"),attr(U,"class","svelte-eftzix"),attr(q,"type","radio"),attr(q,"id","star2"),attr(q,"name","rate"),q.value="2",attr(q,"class","svelte-eftzix"),attr(Y,"for","star2"),attr(Y,"title","text"),attr(Y,"class","svelte-eftzix"),attr(J,"type","radio"),attr(J,"id","star1"),attr(J,"name","rate"),J.value="1",attr(J,"class","svelte-eftzix"),attr(Z,"for","star1"),attr(Z,"title","text"),attr(Z,"class","svelte-eftzix"),attr(e,"class","rate input svelte-eftzix"),attr(t,"class","d-flex align-items-center justify-content-center")},m(te,ne){insert(te,t,ne),append(t,e),append(e,o),append(e,l),append(e,h),append(e,y),append(e,O),append(e,D),append(e,R),append(e,F),append(e,j),append(e,B),append(e,U),append(e,W),append(e,q),append(e,K),append(e,Y),append(e,X),append(e,J),append(e,Q),append(e,Z),ee||(re=[listen(o,"click",r[28]),listen(O,"click",r[29]),listen(j,"click",r[30]),listen(q,"click",r[31]),listen(J,"click",r[32])],ee=!0)},p:noop$4,i:noop$4,o:noop$4,d(te){te&&detach(t),ee=!1,run_all(re)}}}function create_if_block_10$1(r){let t,e,o,l,h,y,O,D,R,F=r[6].length>0&&create_if_block_11$1(r);return{c(){t=element("div"),e=element("input"),l=space(),h=element("div"),y=element("div"),F&&F.c(),attr(e,"class","dateField svelte-eftzix"),attr(e,"id","dateTime"),attr(e,"type",o=r[5].a.a[0]&&r[5].a.a[1]?"datetime-local":r[5].a.a[0]&&!r[5].a.a[1]?"date":"time"),set_style(y,"width","20px"),attr(h,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(t,"class","userBtnInput py-3 m-auto d-flex flex-row justify-content-around align-items-center svelte-eftzix")},m(j,B){insert(j,t,B),append(t,e),append(t,l),append(t,h),append(h,y),F&&F.m(y,null),O=!0,D||(R=[listen(e,"input",r[26]),listen(h,"click",r[27])],D=!0)},p(j,B){(!O||B[0]&32&&o!==(o=j[5].a.a[0]&&j[5].a.a[1]?"datetime-local":j[5].a.a[0]&&!j[5].a.a[1]?"date":"time"))&&attr(e,"type",o),j[6].length>0?F?(F.p(j,B),B[0]&64&&transition_in(F,1)):(F=create_if_block_11$1(j),F.c(),transition_in(F,1),F.m(y,null)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros())},i(j){O||(transition_in(F),O=!0)},o(j){transition_out(F),O=!1},d(j){j&&detach(t),F&&F.d(),D=!1,run_all(R)}}}function create_if_block_8$1(r){let t,e,o,l,h,y,O,D,R,F=r[6].length>0&&create_if_block_9$1(r);return{c(){t=element("div"),e=element("textarea"),l=space(),h=element("div"),y=element("div"),F&&F.c(),attr(e,"rows","3"),attr(e,"id","inputUser"),attr(e,"class","userFieldInput svelte-eftzix"),attr(e,"type","text"),attr(e,"autocomplete","off"),attr(e,"placeholder",o="Dites nous tout, en "+r[5].a.a[0]+" mots..."),set_style(y,"width","100%"),attr(h,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(t,"class","userBtnInput d-flex flex-row justify-content-around align-items-center p-2 mx-auto svelte-eftzix")},m(j,B){insert(j,t,B),append(t,e),set_input_value(e,r[6]),append(t,l),append(t,h),append(h,y),F&&F.m(y,null),O=!0,D||(R=[listen(e,"keydown",r[23]),listen(e,"input",r[24]),listen(h,"click",r[25])],D=!0)},p(j,B){(!O||B[0]&32&&o!==(o="Dites nous tout, en "+j[5].a.a[0]+" mots..."))&&attr(e,"placeholder",o),B[0]&64&&set_input_value(e,j[6]),j[6].length>0?F?(F.p(j,B),B[0]&64&&transition_in(F,1)):(F=create_if_block_9$1(j),F.c(),transition_in(F,1),F.m(y,null)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros())},i(j){O||(transition_in(F),O=!0)},o(j){transition_out(F),O=!1},d(j){j&&detach(t),F&&F.d(),D=!1,run_all(R)}}}function create_if_block_7$2(r){let t,e,o,l,h,y,O=r[5].a.a[2]+"",D,R,F,j,B,U,W,q,K,Y;return{c(){t=element("div"),e=element("input"),h=space(),y=element("div"),D=text(O),R=space(),F=element("input"),U=space(),W=element("div"),q=element("div"),attr(e,"id","numRan"),attr(e,"class","userFieldInput svelte-eftzix"),set_style(e,"max-width","50%"),attr(e,"min",o=r[5].a.a[0]),attr(e,"max",l=r[5].a.a[1]),attr(e,"type","number"),attr(y,"class","ml-1 mr-2 text-start flex-grow-1"),attr(F,"id","inputUser"),attr(F,"class","mx-1 flex-grow-1 userFieldInput form-range svelte-eftzix"),set_style(F,"background-color","transparent"),attr(F,"type","range"),attr(F,"min",j=r[5].a.a[0]),attr(F,"max",B=r[5].a.a[1]),attr(q,"class","sendCircle svelte-eftzix"),set_style(q,"background-color",r[8]),attr(t,"class","userBtnInput py-3 m-auto d-flex flex-wrap flex-row justify-content-around align-items-center svelte-eftzix")},m(X,J){insert(X,t,J),append(t,e),set_input_value(e,r[6]),append(t,h),append(t,y),append(y,D),append(t,R),append(t,F),set_input_value(F,r[6]),append(t,U),append(t,W),append(W,q),K||(Y=[listen(e,"input",r[20]),listen(F,"change",r[21]),listen(F,"input",r[21]),listen(W,"click",r[22])],K=!0)},p(X,J){J[0]&32&&o!==(o=X[5].a.a[0])&&attr(e,"min",o),J[0]&32&&l!==(l=X[5].a.a[1])&&attr(e,"max",l),J[0]&64&&to_number(e.value)!==X[6]&&set_input_value(e,X[6]),J[0]&32&&O!==(O=X[5].a.a[2]+"")&&set_data(D,O),J[0]&32&&j!==(j=X[5].a.a[0])&&attr(F,"min",j),J[0]&32&&B!==(B=X[5].a.a[1])&&attr(F,"max",B),J[0]&64&&set_input_value(F,X[6]),J[0]&256&&set_style(q,"background-color",X[8])},i:noop$4,o:noop$4,d(X){X&&detach(t),K=!1,run_all(Y)}}}function create_if_block_5$5(r){let t=[],e=new Map,o,l,h,y,O,D,R,F=r[5].a.a;const j=U=>U[50];for(let U=0;U<F.length;U+=1){let W=get_each_context_1$4(r,F,U),q=j(W);e.set(q,t[U]=create_each_block_1$4(q,W))}let B=r[5].a.o==!0&&create_if_block_6$4(r);return{c(){for(let U=0;U<t.length;U+=1)t[U].c();o=space(),B&&B.c(),l=space(),h=element("div"),y=element("div"),O=text("Envoyer"),attr(y,"class","userBtnInput svelte-eftzix"),set_style(y,"background-color",r[8]),set_style(y,"color","white"),attr(h,"class","p-2")},m(U,W){for(let q=0;q<t.length;q+=1)t[q].m(U,W);insert(U,o,W),B&&B.m(U,W),insert(U,l,W),insert(U,h,W),append(h,y),append(y,O),D||(R=listen(y,"click",r[19]),D=!0)},p(U,W){W[0]&352&&(F=U[5].a.a,t=update_keyed_each(t,W,j,1,U,F,e,o.parentNode,destroy_block,create_each_block_1$4,o,get_each_context_1$4)),U[5].a.o==!0?B?B.p(U,W):(B=create_if_block_6$4(U),B.c(),B.m(l.parentNode,l)):B&&(B.d(1),B=null),W[0]&256&&set_style(y,"background-color",U[8])},i:noop$4,o:noop$4,d(U){for(let W=0;W<t.length;W+=1)t[W].d(U);U&&detach(o),B&&B.d(U),U&&detach(l),U&&detach(h),D=!1,R()}}}function create_if_block_2$7(r){let t,e,o,l=r[5].a.a,h=[];for(let O=0;O<l.length;O+=1)h[O]=create_each_block$6(get_each_context$6(r,l,O));let y=r[5].a.o==!0&&create_if_block_3$5(r);return{c(){for(let O=0;O<h.length;O+=1)h[O].c();t=space(),y&&y.c(),e=empty$2()},m(O,D){for(let R=0;R<h.length;R+=1)h[R].m(O,D);insert(O,t,D),y&&y.m(O,D),insert(O,e,D),o=!0},p(O,D){if(D[0]&1056){l=O[5].a.a;let R;for(R=0;R<l.length;R+=1){const F=get_each_context$6(O,l,R);h[R]?h[R].p(F,D):(h[R]=create_each_block$6(F),h[R].c(),h[R].m(t.parentNode,t))}for(;R<h.length;R+=1)h[R].d(1);h.length=l.length}O[5].a.o==!0?y?(y.p(O,D),D[0]&32&&transition_in(y,1)):(y=create_if_block_3$5(O),y.c(),transition_in(y,1),y.m(e.parentNode,e)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(O){o||(transition_in(y),o=!0)},o(O){transition_out(y),o=!1},d(O){destroy_each(h,O),O&&detach(t),y&&y.d(O),O&&detach(e)}}}function create_if_block_11$1(r){let t,e,o,l;return{c(){t=element("div"),attr(t,"class","sendCircle svelte-eftzix"),set_style(t,"background-color",r[8])},m(h,y){insert(h,t,y),l=!0},p(h,y){(!l||y[0]&256)&&set_style(t,"background-color",h[8])},i(h){l||(add_render_callback(()=>{o&&o.end(1),e=create_in_transition(t,fly,{x:10,duration:400}),e.start()}),l=!0)},o(h){e&&e.invalidate(),o=create_out_transition(t,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(t),h&&o&&o.end()}}}function create_if_block_9$1(r){let t,e,o,l;return{c(){t=element("div"),attr(t,"class","sendCircle svelte-eftzix"),set_style(t,"background-color",r[8])},m(h,y){insert(h,t,y),l=!0},p(h,y){(!l||y[0]&256)&&set_style(t,"background-color",h[8])},i(h){l||(add_render_callback(()=>{o&&o.end(1),e=create_in_transition(t,fly,{x:10,duration:400}),e.start()}),l=!0)},o(h){e&&e.invalidate(),o=create_out_transition(t,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(t),h&&o&&o.end()}}}function create_each_block_1$4(r,t){let e,o,l=t[46]+"",h,y,O,D;function R(){return t[16](t[46],t[50])}return{key:r,first:null,c(){e=element("div"),o=element("div"),h=text(l),attr(o,"id",y="choix"+t[50].toString()),attr(o,"class","userBtnInput mcPropos svelte-eftzix"),attr(e,"class","p-1"),this.first=e},m(F,j){insert(F,e,j),append(e,o),append(o,h),O||(D=listen(o,"click",R),O=!0)},p(F,j){t=F,j[0]&32&&l!==(l=t[46]+"")&&set_data(h,l),j[0]&32&&y!==(y="choix"+t[50].toString())&&attr(o,"id",y)},d(F){F&&detach(e),O=!1,D()}}}function create_if_block_6$4(r){let t,e,o,l,h;return{c(){t=element("div"),e=element("div"),o=element("input"),attr(o,"class","w-100 border-0"),attr(o,"placeholder","Autre..."),attr(o,"maxlength","20"),attr(e,"id","optChoiceInput"),attr(e,"class","userBtnInput d-flex align-items-center justify-content-around svelte-eftzix"),attr(t,"class","p-1")},m(y,O){insert(y,t,O),append(t,e),append(e,o),set_input_value(o,r[7]),l||(h=[listen(o,"input",r[17]),listen(o,"keypress",keypress_handler),listen(o,"keyup",r[18])],l=!0)},p(y,O){O[0]&128&&o.value!==y[7]&&set_input_value(o,y[7])},d(y){y&&detach(t),l=!1,run_all(h)}}}function create_each_block$6(r){let t,e,o=r[46]+"",l,h,y;function O(){return r[13](r[46])}return{c(){t=element("div"),e=element("div"),l=text(o),attr(e,"class","userBtnInput mcPropos svelte-eftzix"),attr(t,"class","p-1")},m(D,R){insert(D,t,R),append(t,e),append(e,l),h||(y=listen(e,"click",O),h=!0)},p(D,R){r=D,R[0]&32&&o!==(o=r[46]+"")&&set_data(l,o)},d(D){D&&detach(t),h=!1,y()}}}function create_if_block_3$5(r){let t,e,o,l,h,y,O,D,R,F=r[6].length>0&&create_if_block_4$5(r);return{c(){t=element("div"),e=element("div"),o=element("input"),l=space(),h=element("div"),y=element("div"),F&&F.c(),attr(o,"class","userFieldInput svelte-eftzix"),attr(o,"placeholder","Autre..."),attr(o,"maxlength","20"),set_style(y,"width","100%"),attr(e,"class","userBtnInput d-flex align-items-center justify-content-around svelte-eftzix"),attr(t,"class","p-1")},m(j,B){insert(j,t,B),append(t,e),append(e,o),set_input_value(o,r[6]),append(e,l),append(e,h),append(h,y),F&&F.m(y,null),O=!0,D||(R=[listen(o,"input",r[14]),listen(h,"click",r[15])],D=!0)},p(j,B){B[0]&64&&o.value!==j[6]&&set_input_value(o,j[6]),j[6].length>0?F?(F.p(j,B),B[0]&64&&transition_in(F,1)):(F=create_if_block_4$5(j),F.c(),transition_in(F,1),F.m(y,null)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros())},i(j){O||(transition_in(F),O=!0)},o(j){transition_out(F),O=!1},d(j){j&&detach(t),F&&F.d(),D=!1,run_all(R)}}}function create_if_block_4$5(r){let t,e,o,l;return{c(){t=element("div"),attr(t,"class","sendCircle svelte-eftzix"),set_style(t,"background-color",r[8])},m(h,y){insert(h,t,y),l=!0},p(h,y){(!l||y[0]&256)&&set_style(t,"background-color",h[8])},i(h){l||(add_render_callback(()=>{o&&o.end(1),e=create_in_transition(t,fly,{x:10,duration:400}),e.start()}),l=!0)},o(h){e&&e.invalidate(),o=create_out_transition(t,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(t),h&&o&&o.end()}}}function create_if_block$b(r){let t;return{c(){t=element("div"),t.innerHTML='<lottie-player src="https://assets3.lottiefiles.com/packages/lf20_gn1xm5dh.json" background="transparent" speed="1" style="height:150px; max-width:200px; margin:auto;" autoplay=""></lottie-player>',set_style(t,"min-height","100px"),set_style(t,"margin","auto")},m(e,o){insert(e,t,o)},d(e){e&&detach(t)}}}function create_fragment$k(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q=[],K=new Map,Y,X,J,Q,Z=r[1];const ee=ne=>ne[50];for(let ne=0;ne<Z.length;ne+=1){let ae=get_each_context_2$1(r,Z,ne),ie=ee(ae);K.set(ie,q[ne]=create_each_block_2$1(ie,ae))}let re=r[3]&&!r[4]&&create_if_block_1$7(r),te=r[4]&&create_if_block$b();return{c(){t=element("div"),e=element("div"),o=element("div"),l=element("div"),h=element("img"),O=space(),D=element("div"),R=text(r[2]),F=text("%"),j=space(),B=element("div"),U=element("div"),W=element("div");for(let ne=0;ne<q.length;ne+=1)q[ne].c();Y=space(),X=element("div"),re&&re.c(),J=space(),te&&te.c(),src_url_equal(h.src,y=r[0].logo!=null&&r[0].logo.toString().includes("https")?r[0].logo:"/assets/favicon.ico")||attr(h,"src",y),set_style(h,"height","30px"),attr(h,"alt","logo r\xE9tine"),attr(l,"class","p-3"),set_style(l,"font-family","Lexend"),set_style(l,"font-size","1.2rem"),set_style(l,"font-weight","600"),attr(D,"id","pourcentageAdv"),attr(D,"class","svelte-eftzix"),attr(o,"class","w-100 d-flex align-items-center justify-content-between"),set_style(o,"background-color","transparent"),attr(W,"id","messageFeed"),attr(W,"class","h-100 p-2 d-flex flex-column justify-content-start"),set_style(U,"background-color","transparent"),attr(X,"class","w-100"),set_style(X,"min-height","100px"),attr(B,"class","h-100 d-flex flex-column justify-content-between scrollbehavior svelte-eftzix"),set_style(B,"overflow-y","scroll"),set_style(B,"scroll-behavior","smooth"),attr(e,"class","h-100 w-100 d-flex flex-column justify-content-between m-auto"),attr(t,"class","d-flex align-content-center flex-column h-100 w-100"),set_style(t,"height","-webkit-fill-available")},m(ne,ae){insert(ne,t,ae),append(t,e),append(e,o),append(o,l),append(l,h),append(o,O),append(o,D),append(D,R),append(D,F),append(e,j),append(e,B),append(B,U),append(U,W);for(let ie=0;ie<q.length;ie+=1)q[ie].m(W,null);append(B,Y),append(B,X),re&&re.m(X,null),append(X,J),te&&te.m(X,null),r[33](B),Q=!0},p(ne,ae){(!Q||ae[0]&1&&!src_url_equal(h.src,y=ne[0].logo!=null&&ne[0].logo.toString().includes("https")?ne[0].logo:"/assets/favicon.ico"))&&attr(h,"src",y),(!Q||ae[0]&4)&&set_data(R,ne[2]),ae[0]&2322&&(Z=ne[1],q=update_keyed_each(q,ae,ee,1,ne,Z,K,W,destroy_block,create_each_block_2$1,null,get_each_context_2$1)),ne[3]&&!ne[4]?re?(re.p(ne,ae),ae[0]&24&&transition_in(re,1)):(re=create_if_block_1$7(ne),re.c(),transition_in(re,1),re.m(X,J)):re&&(group_outros(),transition_out(re,1,1,()=>{re=null}),check_outros()),ne[4]?te||(te=create_if_block$b(),te.c(),te.m(X,null)):te&&(te.d(1),te=null)},i(ne){if(!Q){for(let ae=0;ae<Z.length;ae+=1)transition_in(q[ae]);transition_in(re),Q=!0}},o(ne){transition_out(re),Q=!1},d(ne){ne&&detach(t);for(let ae=0;ae<q.length;ae+=1)q[ae].d();re&&re.d(),te&&te.d(),r[33](null)}}}const keypress_handler=r=>{r.key==";"&&r.preventDefault()};function instance$i(r,t,e){let{chatContent:o}=t,{scode:l=["demo"]}=t,h=[],y=[],O=0,D=!1,R=!1,F,j="",B="",U,W=0;const q=()=>W++;let K;onMount(()=>{K=setInterval(q,1e3)});const Y=()=>{const ve=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(ve)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(ve)?"mobile":"desktop"};let X;function J(){setTimeout(()=>{e(9,X.scrollTop=X.scrollHeight,X)},400)}function Q(ve){e(6,j=""),e(7,B=""),e(5,F=ve),e(1,h=[...h,[F.q,"question"]]),e(3,D=!0),J()}Q(o.jsonContent.find(ve=>ve.idr=="start"));function Z(ve,Pe){e(3,D=!1);let Me=ve;Pe.a.type=="num"&&(Me=ve.toString()+Pe.a.a[2]),e(1,h=[...h,[Me,"reponse"]]);let Ne=Math.round((parseInt(o.jsonContent.indexOf(Pe))+1)/(o.jsonContent.length-1)*100);ie(O,Ne),y.push({n:Pe.idr,t:Pe.a.type,a:ve}),ee(Pe)}function ee(ve){let Pe;if(o.v==1||o.v==null)Pe=o.jsonContent[o.jsonContent.indexOf(ve)+1];else if(o.v==2){let Me=ve.suiv.filter(Ne=>Ne.cond.length>0).find(Ne=>{let Be=o.jsonContent.find(ke=>ke.idr==Ne.cond[0]),Fe=y.find(ke=>ke.n==Ne.cond[0]);if(["1c","mc"].includes(Fe.t)){if(Ne.cond[1]=="=="){for(var Re in Ne.cond[2].toString().split("&&&&&"))if(Fe.a==Be.a.a[Ne.cond[2].toString().split("&&&&&")[Re]])return!0}}else if(["num"].includes(Fe.t)&&(Ne.cond[1]=="=="&&Fe.a==Ne.cond[2]||Ne.cond[1]=="<="&&Fe.a<=Ne.cond[2]||Ne.cond[1]==">="&&Fe.a>=Ne.cond[2]))return!0});Me==null?Me=ve.suiv.find(Ne=>Ne.cond.length==0).idr:Me=Me.idr,Pe=o.jsonContent.find(Ne=>Ne.idr==Me)}setTimeout(()=>{Pe.idr=="end"&&(e(4,R=!0),ie(O,100),te()),Q(Pe),X.scrollTo(0,X.scrollHeight)},500)}function re(){e(3,D=!1);let ve=y[y.length-1].n;e(5,F=o.jsonContent.find(Pe=>Pe.idr==ve)),y.pop(),h.pop(),h.pop(),y=y,e(1,h),setTimeout(()=>{e(3,D=!0)},500)}async function te(){if(console.log(y),clearInterval(K),l[0]!="demo"){var ve=JSON.stringify({client_info:Y(),ans_time:W,jsonContent:JSON.stringify(y),follow:l.length<=2?"no":l[2]}),Pe=new Headers;return Pe.append("Content-Type","application/json"),fetch(`${rtnUrl}rep/${l[1]}/`,{method:"POST",headers:Pe,body:ve,redirect:"follow"}).then(Me=>Me.text()).then(Me=>{console.log(Me),setTimeout(()=>{e(4,R=!0),J()},100)}).catch(Me=>{throw new Error(Me)})}e(4,R=!0),J()}const ne=Math.round(2e3/17),ae=ve=>ve*(2-ve),ie=(ve,Pe)=>{let Me=ve;const Ne=Pe,Be=setInterval(()=>{Me++;const Fe=ae(Me/ne),Re=Math.round(Ne*Fe);Pe+1!==Re&&Re>ve&&e(2,O=Re),Me===ne&&clearInterval(Be)},17)},oe=ve=>{Z(ve,F)};function ce(){j=this.value,e(6,j)}const ue=()=>{j!=""&&Z(j,F)},pe=(ve,Pe)=>{j.split(" ; ").includes(ve)?(document.getElementById("choix"+Pe.toString()).style.border="0px solid transparent",e(6,j=j.replace(ve+" ; ",""))):(document.getElementById("choix"+Pe.toString()).style.border=`3px solid ${U}`,e(6,j+=ve+" ; "))};function me(){B=this.value,e(7,B)}const he=ve=>{B!=""?document.getElementById("optChoiceInput").style.border=`3px solid ${U}`:document.getElementById("optChoiceInput").style.border="0px solid transparent"},se=ve=>{B!=""&&e(6,j+=B+" ; "),j!=""&&Z(j.slice(0,j.length-3),F)};function le(){j=to_number(this.value),e(6,j)}function fe(){j=to_number(this.value),e(6,j)}const ge=()=>{j.toString()!=""&&j>=F.a.a[0]&&j<=F.a.a[1]&&Z(j.toString(),F)},ye=ve=>{ve.key==="Enter"?j!=""?Z(j,F):ve.preventDefault():j.split(" ").length>F.a.a[0]&&/^[a-z0-9]$/i.test(ve.key)&&ve.preventDefault()};function we(){j=this.value,e(6,j)}const $e=()=>{j!=""&&Z(j,F)},_e=ve=>{e(6,j=ve.target.value)},Se=()=>{j!=""&&Z(j,F)},Te=()=>Z("\u2B50\u2B50\u2B50\u2B50\u2B50",F),be=()=>Z("\u2B50\u2B50\u2B50\u2B50",F),Oe=()=>Z("\u2B50\u2B50\u2B50",F),xe=()=>Z("\u2B50\u2B50",F),Ee=()=>Z("\u2B50",F);function Ce(ve){binding_callbacks[ve?"unshift":"push"](()=>{X=ve,e(9,X)})}return r.$$set=ve=>{"chatContent"in ve&&e(0,o=ve.chatContent),"scode"in ve&&e(12,l=ve.scode)},r.$$.update=()=>{r.$$.dirty[0]&1&&e(8,U=o.color==null?"#6219D8":o.color)},[o,h,O,D,R,F,j,B,U,X,Z,re,l,oe,ce,ue,pe,me,he,se,le,fe,ge,ye,we,$e,_e,Se,Te,be,Oe,xe,Ee,Ce]}class Chat extends SvelteComponent{constructor(t){super(),init(this,t,instance$i,create_fragment$k,safe_not_equal,{chatContent:0,scode:12},null,[-1,-1])}}var modalTemplateLoad_svelte_svelte_type_style_lang="";function get_each_context$5(r,t,e){const o=r.slice();return o[14]=t[e],o[16]=e,o}function get_each_context_1$3(r,t,e){const o=r.slice();return o[17]=t[e],o[19]=e,o}function create_catch_block$7(r){let t,e=r[20]+"",o;return{c(){t=element("div"),o=text(e)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&1&&e!==(e=l[20]+"")&&set_data(o,e)},i:noop$4,o:noop$4,d(l){l&&detach(t)}}}function create_then_block$7(r){let t,e=[...new Set(r[13].map(func$3))],o=[];for(let l=0;l<e.length;l+=1)o[l]=create_each_block$5(get_each_context$5(r,e,l));return{c(){t=element("div");for(let l=0;l<o.length;l+=1)o[l].c();attr(t,"class","templateZone svelte-1hnhtfw")},m(l,h){insert(l,t,h);for(let y=0;y<o.length;y+=1)o[y].m(t,null)},p(l,h){if(h&5){e=[...new Set(l[13].map(func$3))];let y;for(y=0;y<e.length;y+=1){const O=get_each_context$5(l,e,y);o[y]?(o[y].p(O,h),transition_in(o[y],1)):(o[y]=create_each_block$5(O),o[y].c(),transition_in(o[y],1),o[y].m(t,null))}for(;y<o.length;y+=1)o[y].d(1);o.length=e.length}},i(l){for(let h=0;h<e.length;h+=1)transition_in(o[h])},o:noop$4,d(l){l&&detach(t),destroy_each(o,l)}}}function create_if_block$a(r){let t,e,o=r[14]+"",l;return{c(){t=element("div"),e=element("h5"),l=text(o),attr(t,"class","mb-1 mt-2 border-bottom")},m(h,y){insert(h,t,y),append(t,e),append(e,l)},p(h,y){y&1&&o!==(o=h[14]+"")&&set_data(l,o)},d(h){h&&detach(t)}}}function create_each_block_1$3(r){let t,e,o,l=r[17].nom_proj+"",h,y,O,D,R;function F(){return r[8](r[17])}return{c(){t=element("div"),e=element("div"),o=text("\u27A1\uFE0F "),h=text(l),y=space(),attr(e,"class","templateBtn svelte-1hnhtfw")},m(j,B){insert(j,t,B),append(t,e),append(e,o),append(e,h),append(t,y),D||(R=listen(e,"click",F),D=!0)},p(j,B){r=j,B&1&&l!==(l=r[17].nom_proj+"")&&set_data(h,l)},i(j){O||add_render_callback(()=>{O=create_in_transition(t,fly,{x:-20,delay:r[19]*100}),O.start()})},o:noop$4,d(j){j&&detach(t),D=!1,R()}}}function create_each_block$5(r){let t,e,o=r[14]!=null&&create_if_block$a(r);function l(...O){return r[7](r[14],...O)}let h=r[13].filter(l),y=[];for(let O=0;O<h.length;O+=1)y[O]=create_each_block_1$3(get_each_context_1$3(r,h,O));return{c(){o&&o.c(),t=space();for(let O=0;O<y.length;O+=1)y[O].c();e=empty$2()},m(O,D){o&&o.m(O,D),insert(O,t,D);for(let R=0;R<y.length;R+=1)y[R].m(O,D);insert(O,e,D)},p(O,D){if(r=O,r[14]!=null?o?o.p(r,D):(o=create_if_block$a(r),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),D&5){h=r[13].filter(l);let R;for(R=0;R<h.length;R+=1){const F=get_each_context_1$3(r,h,R);y[R]?(y[R].p(F,D),transition_in(y[R],1)):(y[R]=create_each_block_1$3(F),y[R].c(),transition_in(y[R],1),y[R].m(e.parentNode,e))}for(;R<y.length;R+=1)y[R].d(1);y.length=h.length}},i(O){for(let D=0;D<h.length;D+=1)transition_in(y[D])},o:noop$4,d(O){o&&o.d(O),O&&detach(t),destroy_each(y,O),O&&detach(e)}}}function create_pending_block$7(r){let t;return{c(){t=element("div"),t.textContent="Chargement des mod\xE8les...",attr(t,"class","d-flex justify-content-center align-items-center"),set_style(t,"min-height","400px")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_fragment$j(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$7,then:create_then_block$7,catch:create_catch_block$7,value:13,error:20};return handle_promise(W=r[0],ee),{c(){t=element("div"),e=element("div"),o=element("h2"),o.textContent="\u{1F4DA} Mod\xE8les de sondage",l=space(),h=element("div"),y=element("div"),y.textContent="Mes sondages",O=space(),D=element("div"),D.textContent="Mod\xE8les",R=space(),F=element("div"),j=element("div"),j.innerHTML=`<div class="lightbulb svelte-1hnhtfw">\u{1F4A1}</div> 
        <div>Cliquer sur un de vos sondages ci-dessous g\xE9n\xE8re une <u>copie</u> de celui-ci.</div>`,U=space(),ee.block.c(),q=space(),K=element("div"),Y=element("button"),Y.textContent="Close",attr(o,"class","mb-4 svelte-1hnhtfw"),attr(y,"id","sondagesBtn"),attr(y,"class","headerBtn active svelte-1hnhtfw"),attr(D,"id","modelsBtn"),attr(D,"class","headerBtn svelte-1hnhtfw"),attr(h,"class","headerBtns svelte-1hnhtfw"),attr(j,"class","infoTile svelte-1hnhtfw"),attr(F,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 my-2"),attr(Y,"class","svelte-1hnhtfw"),attr(K,"class","actions svelte-1hnhtfw"),attr(e,"class","contents svelte-1hnhtfw"),attr(t,"role","dialog"),attr(t,"class","modal svelte-1hnhtfw")},m(re,te){insert(re,t,te),append(t,e),append(e,o),append(e,l),append(e,h),append(h,y),append(h,O),append(h,D),append(e,R),append(e,F),append(F,j),append(e,U),ee.block.m(e,ee.anchor=null),ee.mount=()=>e,ee.anchor=q,append(e,q),append(e,K),append(K,Y),J=!0,Q||(Z=[listen(y,"click",r[1]),listen(D,"click",r[1]),listen(Y,"click",closeModal),listen(t,"introstart",r[5]),listen(t,"outroend",r[6])],Q=!0)},p(re,[te]){r=re,ee.ctx=r,te&1&&W!==(W=r[0])&&handle_promise(W,ee)||update_await_block_branch(ee,r,te)},i(re){J||(B||add_render_callback(()=>{B=create_in_transition(j,fly,{y:30,delay:400}),B.start()}),transition_in(ee.block),add_render_callback(()=>{X||(X=create_bidirectional_transition(t,fly,{y:50},!0)),X.run(1)}),J=!0)},o(re){X||(X=create_bidirectional_transition(t,fly,{y:50},!1)),X.run(0),J=!1},d(re){re&&detach(t),ee.block.d(),ee.token=null,ee=null,re&&X&&X.end(),Q=!1,run_all(Z)}}}const func$3=r=>r.category;function instance$h(r,t,e){let{sondageEnCreation:o}=t,{updateFun:l}=t,h=!1,y;async function O(){var K=new Headers;K.append("Authorization","Token "+xxgc("rtnt")),K.append("Content-Type","application/json");var Y={method:"GET",headers:K,redirect:"follow"};return fetch(rtnUrl+"templates/",Y).then(X=>X.text()).then(X=>JSON.parse(X)).catch(X=>X)}async function D(){var K=new Headers;K.append("Authorization","Token "+xxgc("rtnt")),K.append("Content-Type","application/json");var Y={method:"GET",headers:K,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",Y).then(X=>X.text()).then(X=>JSON.parse(X)).catch(X=>X)}let R=D();R.then(K=>{y=K});function F(K){K.target.classList.contains("active")||(document.querySelectorAll(".headerBtn").forEach(function(Y){Y.classList.remove("active")}),K.target.classList.add("active"),K.target.id=="modelsBtn"?(e(0,R=O()),h=!0):K.target.id=="sondagesBtn"&&(e(0,R=D()),R.then(Y=>{y=Y}),h=!1))}const j=async K=>{if(h){async function Y(){var J=new Headers;return J.append("Authorization","Token "+xxgc("rtnt")),J.append("Content-Type","application/json"),fetch(`${rtnUrl}templates/${K}/`,{method:"GET",headers:J,redirect:"follow"}).then(Q=>Q.text()).then(Q=>JSON.parse(Q)).catch(Q=>Q)}let X=await Y();X.jsonContent=JSON.parse(X.jsonContent),e(3,o=X)}else{let Y=y.find(X=>X.id==K);console.log(Y),Y.jsonContent=JSON.parse(Y.jsonContent),e(3,o=Y)}closeModal(),l()};function B(K){bubble.call(this,r,K)}function U(K){bubble.call(this,r,K)}const W=(K,Y)=>Y.category==K,q=K=>j(K.id);return r.$$set=K=>{"sondageEnCreation"in K&&e(3,o=K.sondageEnCreation),"updateFun"in K&&e(4,l=K.updateFun)},[R,F,j,o,l,B,U,W,q]}class ModalTemplateLoad extends SvelteComponent{constructor(t){super(),init(this,t,instance$h,create_fragment$j,safe_not_equal,{sondageEnCreation:3,updateFun:4})}}var modalDesignSond_svelte_svelte_type_style_lang="";function create_if_block$9(r){let t,e,o;return{c(){t=element("div"),t.textContent="\u274C",attr(t,"class","delImg svelte-1sl0u45")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[2]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_fragment$i(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie=r[0].logo!=""&&create_if_block$9(r);return{c(){t=element("div"),e=element("div"),o=element("h4"),o.textContent="\u{1F3A8} Design du sondage",l=space(),h=element("div"),y=element("div"),O=element("div"),O.textContent="Couleur primaire :",D=space(),R=element("input"),F=space(),j=element("div"),B=element("div"),B.textContent="Logo du sondage :",U=space(),W=element("div"),q=element("label"),K=element("div"),Y=space(),ie&&ie.c(),X=space(),J=element("input"),Q=space(),Z=element("div"),ee=element("button"),ee.textContent="Fermer",attr(o,"class","mb-4 text-center"),attr(O,"class","mr-3"),attr(R,"class","colorIO svelte-1sl0u45"),attr(R,"type","color"),attr(y,"class","designcomp p-3 m-2 d-flex align-items-center justify-content-around svelte-1sl0u45"),attr(B,"class","mr-3"),attr(K,"class","imgLoader svelte-1sl0u45"),set_style(K,"background-image","url("+(r[0].logo==""?"assets/icons/placeholder.png":r[0].logo)+")"),attr(q,"class","m-0"),attr(q,"for","logosond"),set_style(J,"display","none"),attr(J,"id","logosond"),attr(J,"type","file"),attr(J,"enctype","multipart/form-data"),attr(j,"class","designcomp p-3 m-2 d-flex align-items-center justify-content-around svelte-1sl0u45"),attr(h,"class","container py-2 px-3 text-center"),attr(ee,"class","svelte-1sl0u45"),attr(Z,"class","actions svelte-1sl0u45"),attr(e,"class","contents svelte-1sl0u45"),attr(t,"role","dialog"),attr(t,"class","modal svelte-1sl0u45")},m(oe,ce){insert(oe,t,ce),append(t,e),append(e,o),append(e,l),append(e,h),append(h,y),append(y,O),append(y,D),append(y,R),set_input_value(R,r[0].color),append(h,F),append(h,j),append(j,B),append(j,U),append(j,W),append(W,q),append(q,K),append(W,Y),ie&&ie.m(W,null),append(W,X),append(W,J),append(e,Q),append(e,Z),append(Z,ee),te=!0,ne||(ae=[listen(R,"input",r[6]),listen(J,"change",r[1]),listen(ee,"click",closeModal),listen(t,"introstart",r[4]),listen(t,"outroend",r[5])],ne=!0)},p(oe,[ce]){ce&1&&set_input_value(R,oe[0].color),(!te||ce&1)&&set_style(K,"background-image","url("+(oe[0].logo==""?"assets/icons/placeholder.png":oe[0].logo)+")"),oe[0].logo!=""?ie?ie.p(oe,ce):(ie=create_if_block$9(oe),ie.c(),ie.m(W,X)):ie&&(ie.d(1),ie=null)},i(oe){te||(add_render_callback(()=>{re||(re=create_bidirectional_transition(t,fly,{y:50},!0)),re.run(1)}),te=!0)},o(oe){re||(re=create_bidirectional_transition(t,fly,{y:50},!1)),re.run(0),te=!1},d(oe){oe&&detach(t),ie&&ie.d(),oe&&re&&re.end(),ne=!1,run_all(ae)}}}function instance$g(r,t,e){let{sondageEnCreation:o}=t,{updateFun:l}=t;const h=F=>{if(F.target.files[0].size>1048576){alert("Fichier trop volumineux! Veuillez s\xE9l\xE9ctionner une image de moins de 1Mo."),F.target.value="";return}e(0,o.logo=F.target.files[0],o),l()},y=()=>{e(0,o.logo="",o),l()};function O(F){bubble.call(this,r,F)}function D(F){bubble.call(this,r,F)}function R(){o.color=this.value,e(0,o)}return r.$$set=F=>{"sondageEnCreation"in F&&e(0,o=F.sondageEnCreation),"updateFun"in F&&e(3,l=F.updateFun)},[o,h,y,l,O,D,R]}class ModalDesignSond extends SvelteComponent{constructor(t){super(),init(this,t,instance$g,create_fragment$i,safe_not_equal,{sondageEnCreation:0,updateFun:3})}}function flip(r,{from:t,to:e},o={}){const l=getComputedStyle(r),h=l.transform==="none"?"":l.transform,[y,O]=l.transformOrigin.split(" ").map(parseFloat),D=t.left+t.width*y/e.width-(e.left+y),R=t.top+t.height*O/e.height-(e.top+O),{delay:F=0,duration:j=U=>Math.sqrt(U)*120,easing:B=cubicOut}=o;return{delay:F,duration:is_function(j)?j(Math.sqrt(D*D+R*R)):j,easing:B,css:(U,W)=>{const q=W*D,K=W*R,Y=U+W*t.width/e.width,X=U+W*t.height/e.height;return`transform: ${h} translate(${q}px, ${K}px) scale(${Y}, ${X});`}}}var commonjsGlobal$2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(r.__esModule)return r;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(r).forEach(function(e){var o=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,o.get?o:{enumerable:!0,get:function(){return r[e]}})}),t}var shortUniqueId={exports:{}};(function(r){var t=(()=>{var e=Object.defineProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,y=(K,Y,X)=>Y in K?e(K,Y,{enumerable:!0,configurable:!0,writable:!0,value:X}):K[Y]=X,O=(K,Y)=>{for(var X in Y||(Y={}))l.call(Y,X)&&y(K,X,Y[X]);if(o)for(var X of o(Y))h.call(Y,X)&&y(K,X,Y[X]);return K},D=K=>e(K,"__esModule",{value:!0}),R=(K,Y)=>{D(K);for(var X in Y)e(K,X,{get:Y[X],enumerable:!0})},F={};R(F,{DEFAULT_UUID_LENGTH:()=>B,default:()=>q});var j="4.4.4",B=6,U={dictionary:"alphanum",shuffle:!0,debug:!1,length:B},W=class extends Function{constructor(K={}){super(),this.dictIndex=0,this.dictRange=[],this.lowerBound=0,this.upperBound=0,this.dictLength=0,this._digit_first_ascii=48,this._digit_last_ascii=58,this._alpha_lower_first_ascii=97,this._alpha_lower_last_ascii=123,this._hex_last_ascii=103,this._alpha_upper_first_ascii=65,this._alpha_upper_last_ascii=91,this._number_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii]},this._alpha_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alpha_lower_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alpha_upper_dict_ranges={upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_lower_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alphanum_upper_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._hex_dict_ranges={decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]},this.log=(...Z)=>{const ee=[...Z];if(ee[0]=`[short-unique-id] ${Z[0]}`,this.debug===!0&&typeof console!="undefined"&&console!==null)return console.log(...ee)},this.setDictionary=(Z,ee)=>{let re;if(Z&&Array.isArray(Z)&&Z.length>1)re=Z;else{re=[];let te;this.dictIndex=te=0;const ne=`_${Z}_dict_ranges`,ae=this[ne];Object.keys(ae).forEach(ie=>{const oe=ie;for(this.dictRange=ae[oe],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=te=this.lowerBound;this.lowerBound<=this.upperBound?te<this.upperBound:te>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?te+=1:te-=1)re.push(String.fromCharCode(this.dictIndex))})}ee&&(re=re.sort(()=>Math.random()-.5)),this.dict=re,this.dictLength=this.dict.length,this.counter=0},this.seq=()=>this.sequentialUUID(),this.sequentialUUID=()=>{let Z,ee,re="";Z=this.counter;do ee=Z%this.dictLength,Z=Math.trunc(Z/this.dictLength),re+=this.dict[ee];while(Z!==0);return this.counter+=1,re},this.randomUUID=(Z=this.uuidLength||B)=>{let ee,re,te;if(Z===null||typeof Z=="undefined"||Z<1)throw new Error("Invalid UUID Length Provided");for(ee="",te=0;te<Z;te+=1)re=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,ee+=this.dict[re];return ee},this.availableUUIDs=(Z=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,Z).toFixed(0)),this.approxMaxBeforeCollision=(Z=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*Z).toFixed(20)),this.collisionProbability=(Z=this.availableUUIDs(this.uuidLength),ee=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(Z)/this.availableUUIDs(ee)).toFixed(20)),this.uniqueness=(Z=this.availableUUIDs(this.uuidLength))=>{const ee=parseFloat((1-this.approxMaxBeforeCollision(Z)/Z).toFixed(20));return ee>1?1:ee<0?0:ee},this.getVersion=()=>this.version,this.stamp=Z=>{if(typeof Z!="number"||Z<10)throw new Error("Param finalLength must be number greater than 10");const ee=Math.floor(+new Date/1e3).toString(16),re=Z-9,te=Math.round(Math.random()*(re>15?15:re)),ne=this.randomUUID(re);return`${ne.substr(0,te)}${ee}${ne.substr(te)}${te.toString(16)}`},this.parseStamp=Z=>{if(Z.length<10)throw new Error("Stamp length invalid");const ee=parseInt(Z.substr(Z.length-1,1),16);return new Date(parseInt(Z.substr(ee,8),16)*1e3)};const Y=O(O({},U),K);this.counter=0,this.debug=!1,this.dict=[],this.version=j;const{dictionary:X,shuffle:J,length:Q}=Y;return this.uuidLength=Q,this.setDictionary(X,J),this.debug=Y.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength}`),new Proxy(this,{apply:(Z,ee,re)=>this.randomUUID(...re)})}},q=W;return q.default=W,F})();r.exports=t.default,typeof window!="undefined"&&(t=t.default)})(shortUniqueId);var ShortUniqueId=getDefaultExportFromCjs(shortUniqueId.exports),modalCellEdit_svelte_svelte_type_style_lang="";function get_each_context_4(r,t,e){const o=r.slice();return o[60]=t[e],o[61]=t,o[55]=e,o}function get_each_context$4(r,t,e){const o=r.slice();return o[53]=t[e],o[54]=t,o[55]=e,o}function get_each_context_1$2(r,t,e){const o=r.slice();return o[56]=t[e],o[55]=e,o}function get_each_context_2(r,t,e){const o=r.slice();return o[56]=t[e],o[55]=e,o}function get_each_context_3(r,t,e){const o=r.slice();return o[56]=t[e],o[55]=e,o}function create_else_block_2$1(r){let t,e,o,l,h,y,O,D,R=!r[10]&&create_if_block_17(r),F=r[0].a.type!=""&&!r[10]&&create_if_block_11(r);return{c(){t=element("div"),e=element("textarea"),o=space(),R&&R.c(),l=space(),F&&F.c(),h=empty$2(),attr(e,"id","outQuestion"),attr(e,"class","fieldQ svelte-9jnedy"),attr(e,"placeholder","Comment est votre blanquette ?"),attr(e,"maxlength","600")},m(j,B){insert(j,t,B),append(t,e),set_input_value(e,r[0].q),insert(j,o,B),R&&R.m(j,B),insert(j,l,B),F&&F.m(j,B),insert(j,h,B),y=!0,O||(D=listen(e,"input",r[36]),O=!0)},p(j,B){B[0]&1&&set_input_value(e,j[0].q),j[10]||R.p(j,B),j[0].a.type!=""&&!j[10]?F?(F.p(j,B),B[0]&1&&transition_in(F,1)):(F=create_if_block_11(j),F.c(),transition_in(F,1),F.m(h.parentNode,h)):F&&(group_outros(),transition_out(F,1,1,()=>{F=null}),check_outros())},i(j){y||(transition_in(F),y=!0)},o(j){transition_out(F),y=!1},d(j){j&&detach(t),j&&detach(o),R&&R.d(j),j&&detach(l),F&&F.d(j),j&&detach(h),O=!1,D()}}}function create_if_block_2$6(r){let t=!r[9]&&!r[10]&&r[2]>=0&&r[1].jsonContent.filter(func_2$1).length>0,e,o,l,h,y,O,D=t&&create_if_block_7$1(r);const R=[create_if_block_3$4,create_if_block_6$3],F=[];function j(B,U){return U[0]&2&&(o=null),B[11]?(o==null&&(o=B[1].jsonContent.filter(func_1$1).length==0),o?1:-1):0}return~(l=j(r,[-1,-1]))&&(h=F[l]=R[l](r)),{c(){D&&D.c(),e=space(),h&&h.c(),y=empty$2()},m(B,U){D&&D.m(B,U),insert(B,e,U),~l&&F[l].m(B,U),insert(B,y,U),O=!0},p(B,U){U[0]&6&&(t=!B[9]&&!B[10]&&B[2]>=0&&B[1].jsonContent.filter(func_2$1).length>0),t?D?(D.p(B,U),U[0]&6&&transition_in(D,1)):(D=create_if_block_7$1(B),D.c(),transition_in(D,1),D.m(e.parentNode,e)):D&&(group_outros(),transition_out(D,1,1,()=>{D=null}),check_outros());let W=l;l=j(B,U),l===W?~l&&F[l].p(B,U):(h&&(group_outros(),transition_out(F[W],1,1,()=>{F[W]=null}),check_outros()),~l?(h=F[l],h?h.p(B,U):(h=F[l]=R[l](B),h.c()),transition_in(h,1),h.m(y.parentNode,y)):h=null)},i(B){O||(transition_in(D),transition_in(h),O=!0)},o(B){transition_out(D),transition_out(h),O=!1},d(B){D&&D.d(B),B&&detach(e),~l&&F[l].d(B),B&&detach(y)}}}function create_if_block_17(r){let t,e,o,l,h,y,O,D,R,F,j;return{c(){t=element("div"),e=element("select"),o=element("option"),o.textContent="Choisir un type de r\xE9ponse",l=element("option"),l.textContent="Choix Unique",h=element("option"),h.textContent="Choix Multiple",y=element("option"),y.textContent="Champs libre",O=element("option"),O.textContent="Num\xE9ro",D=element("option"),D.textContent="Date & heure",R=element("option"),R.textContent="Notation",o.__value="",o.value=o.__value,o.selected=!0,o.disabled=!0,l.__value="1c",l.value=l.__value,h.__value="mc",h.value=h.__value,y.__value="cl",y.value=y.__value,O.__value="num",O.value=O.__value,D.__value="cal",D.value=D.__value,R.__value="5s",R.value=R.__value,attr(e,"class","fieldQ svelte-9jnedy"),attr(e,"name","qtype"),attr(e,"id","qtypefield"),e.disabled=r[10],r[0].a.type===void 0&&add_render_callback(()=>r[37].call(e))},m(B,U){insert(B,t,U),append(t,e),append(e,o),append(e,l),append(e,h),append(e,y),append(e,O),append(e,D),append(e,R),select_option(e,r[0].a.type),F||(j=[listen(e,"change",r[37]),listen(e,"change",r[38])],F=!0)},p(B,U){U[0]&1&&select_option(e,B[0].a.type)},d(B){B&&detach(t),F=!1,run_all(j)}}}function create_if_block_11(r){let t,e,o,l,h;const y=[create_if_block_12,create_if_block_13,create_if_block_14,create_if_block_15,create_if_block_16,create_else_block_3$1],O=[];function D(R,F){return R[0].a.type=="1c"||R[0].a.type=="mc"?0:R[0].a.type=="cl"?1:R[0].a.type=="num"?2:R[0].a.type=="cal"?3:R[0].a.type=="5s"?4:5}return e=D(r),o=O[e]=y[e](r),{c(){t=element("div"),o.c(),attr(t,"id","ansWriteZone"),attr(t,"class","pt-2 svelte-9jnedy")},m(R,F){insert(R,t,F),O[e].m(t,null),h=!0},p(R,F){let j=e;e=D(R),e===j?O[e].p(R,F):(group_outros(),transition_out(O[j],1,1,()=>{O[j]=null}),check_outros(),o=O[e],o?o.p(R,F):(o=O[e]=y[e](R),o.c()),transition_in(o,1),o.m(t,null))},i(R){h||(transition_in(o),l||add_render_callback(()=>{l=create_in_transition(t,fly,{y:20}),l.start()}),h=!0)},o(R){transition_out(o),h=!1},d(R){R&&detach(t),O[e].d()}}}function create_else_block_3$1(r){let t;return{c(){t=text("Error")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_if_block_16(r){let t,e,o,l,h,y;return{c(){t=element("span"),o=space(),l=element("div"),l.textContent="\u2B50 L'utilisateur pourra donner une note de 1 \xE0 5 \xE9toiles."},m(O,D){insert(O,t,D),insert(O,o,D),insert(O,l,D),h||(y=action_destroyer(e=r[12].call(null,t,r[0].a.type)),h=!0)},p(O,D){e&&is_function(e.update)&&D[0]&1&&e.update.call(null,O[0].a.type)},i:noop$4,o:noop$4,d(O){O&&detach(t),O&&detach(o),O&&detach(l),h=!1,y()}}}function create_if_block_15(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W;return{c(){t=element("span"),o=space(),l=element("div"),l.textContent="L'utilisateur devra saisir :",h=space(),y=element("input"),O=space(),D=element("label"),D.textContent="une date (format JJ/MM/AAAA)",R=element("br"),F=element("input"),j=space(),B=element("label"),B.textContent="une heure (format HH:MM)",attr(l,"class","my-2"),attr(y,"type","checkbox"),attr(y,"id","datee"),attr(y,"class","svelte-9jnedy"),attr(D,"for","datee"),attr(F,"type","checkbox"),attr(F,"id","heuree"),attr(F,"class","svelte-9jnedy"),attr(B,"for","heuree")},m(q,K){insert(q,t,K),insert(q,o,K),insert(q,l,K),insert(q,h,K),insert(q,y,K),y.checked=r[0].a.a[0],insert(q,O,K),insert(q,D,K),insert(q,R,K),insert(q,F,K),F.checked=r[0].a.a[1],insert(q,j,K),insert(q,B,K),U||(W=[action_destroyer(e=r[12].call(null,t,r[0].a.type)),listen(y,"change",r[48]),listen(F,"change",r[49])],U=!0)},p(q,K){e&&is_function(e.update)&&K[0]&1&&e.update.call(null,q[0].a.type),K[0]&1&&(y.checked=q[0].a.a[0]),K[0]&1&&(F.checked=q[0].a.a[1])},i:noop$4,o:noop$4,d(q){q&&detach(t),q&&detach(o),q&&detach(l),q&&detach(h),q&&detach(y),q&&detach(O),q&&detach(D),q&&detach(R),q&&detach(F),q&&detach(j),q&&detach(B),U=!1,run_all(W)}}}function create_if_block_14(r){let t,e,o,l,h,y,O,D,R,F,j,B,U;return{c(){t=element("span"),o=space(),l=element("label"),l.textContent="Minimum ",h=element("input"),y=element("br"),O=element("label"),O.textContent="Maximum ",D=element("input"),R=element("br"),F=element("label"),F.textContent="Unit\xE9e ",j=element("input"),attr(l,"for","nbMin"),attr(h,"class","fieldQlilnum svelte-9jnedy"),attr(h,"type","number"),attr(h,"id","nbMin"),attr(h,"name","nbMin"),attr(O,"for","nbMax"),attr(D,"class","fieldQlilnum svelte-9jnedy"),attr(D,"type","number"),attr(D,"id","nbMax"),attr(D,"name","nbMax"),attr(F,"for","unitee"),attr(j,"type","text"),attr(j,"class","fieldQlilnum svelte-9jnedy"),attr(j,"list","unitees"),attr(j,"id","uniteeChoice"),attr(j,"name","choixUnitee"),attr(j,"placeholder","$, cm, kg..."),attr(j,"maxlength","6")},m(W,q){insert(W,t,q),insert(W,o,q),insert(W,l,q),insert(W,h,q),set_input_value(h,r[0].a.a[0]),insert(W,y,q),insert(W,O,q),insert(W,D,q),set_input_value(D,r[0].a.a[1]),insert(W,R,q),insert(W,F,q),insert(W,j,q),set_input_value(j,r[0].a.a[2]),B||(U=[action_destroyer(e=r[12].call(null,t,r[0].a.type)),listen(h,"input",r[45]),listen(D,"input",r[46]),listen(j,"input",r[47])],B=!0)},p(W,q){e&&is_function(e.update)&&q[0]&1&&e.update.call(null,W[0].a.type),q[0]&1&&to_number(h.value)!==W[0].a.a[0]&&set_input_value(h,W[0].a.a[0]),q[0]&1&&to_number(D.value)!==W[0].a.a[1]&&set_input_value(D,W[0].a.a[1]),q[0]&1&&j.value!==W[0].a.a[2]&&set_input_value(j,W[0].a.a[2])},i:noop$4,o:noop$4,d(W){W&&detach(t),W&&detach(o),W&&detach(l),W&&detach(h),W&&detach(y),W&&detach(O),W&&detach(D),W&&detach(R),W&&detach(F),W&&detach(j),B=!1,run_all(U)}}}function create_if_block_13(r){let t,e,o,l,h,y,O,D,R,F,j;return{c(){t=element("span"),o=space(),l=element("div"),h=element("label"),h.textContent="Limite de mots",y=space(),O=element("input"),D=space(),R=element("div"),R.innerHTML=`<p style="text-align: left; font-size:.9rem" class="svelte-9jnedy">\u{1F4A1} Une IA analysera automatiquement le sentiment d\xE9gag\xE9 par chacune des r\xE9ponses pour \xE9tablir des statistiques visibles sur votre
                      dashboard des r\xE9sultats.</p>`,attr(h,"for","nbCaracLimit"),attr(O,"class","fieldQlilnum svelte-9jnedy"),attr(O,"type","number"),attr(O,"id","nbCaracLimit"),attr(O,"name","nbCaracLimit"),attr(O,"min","1"),attr(O,"max","16")},m(B,U){insert(B,t,U),insert(B,o,U),insert(B,l,U),append(l,h),append(l,y),append(l,O),set_input_value(O,r[0].a.a[0]),insert(B,D,U),insert(B,R,U),F||(j=[action_destroyer(e=r[12].call(null,t,r[0].a.type)),listen(O,"input",r[44])],F=!0)},p(B,U){e&&is_function(e.update)&&U[0]&1&&e.update.call(null,B[0].a.type),U[0]&1&&to_number(O.value)!==B[0].a.a[0]&&set_input_value(O,B[0].a.a[0])},i:noop$4,o:noop$4,d(B){B&&detach(t),B&&detach(o),B&&detach(l),B&&detach(D),B&&detach(R),F=!1,run_all(j)}}}function create_if_block_12(r){let t,e,o,l,h=[],y=new Map,O,D,R,F,j,B,U,W,q=Array(r[0].a.a.length);const K=Y=>Y[55];for(let Y=0;Y<q.length;Y+=1){let X=get_each_context_4(r,q,Y),J=K(X);y.set(J,h[Y]=create_each_block_4(J,X))}return{c(){t=element("input"),e=space(),o=element("span"),o.textContent="\u2795",l=space();for(let Y=0;Y<h.length;Y+=1)h[Y].c();O=space(),D=element("div"),R=element("input"),F=space(),j=element("label"),j.textContent='Ajouter une case "autre"',attr(t,"class","fieldQlil svelte-9jnedy"),attr(t,"type","text"),attr(t,"placeholder","Choix..."),attr(t,"maxlength","80"),attr(o,"class","miniBtn svelte-9jnedy"),attr(R,"class","mr-2 svelte-9jnedy"),attr(R,"type","checkbox"),attr(R,"id","checkCaseAutre"),attr(j,"for","checkCaseAutre"),attr(D,"class","my-1 p-1")},m(Y,X){insert(Y,t,X),set_input_value(t,r[4]),insert(Y,e,X),insert(Y,o,X),insert(Y,l,X);for(let J=0;J<h.length;J+=1)h[J].m(Y,X);insert(Y,O,X),insert(Y,D,X),append(D,R),R.checked=r[0].a.o,append(D,F),append(D,j),B=!0,U||(W=[listen(t,"input",r[39]),listen(t,"keydown",r[40]),listen(o,"click",r[14]),listen(R,"change",r[43])],U=!0)},p(Y,X){if(X[0]&16&&t.value!==Y[4]&&set_input_value(t,Y[4]),X[0]&1){q=Array(Y[0].a.a.length),group_outros();for(let J=0;J<h.length;J+=1)h[J].r();h=update_keyed_each(h,X,K,1,Y,q,y,O.parentNode,fix_and_outro_and_destroy_block,create_each_block_4,O,get_each_context_4);for(let J=0;J<h.length;J+=1)h[J].a();check_outros()}X[0]&1&&(R.checked=Y[0].a.o)},i(Y){if(!B){for(let X=0;X<q.length;X+=1)transition_in(h[X]);B=!0}},o(Y){for(let X=0;X<h.length;X+=1)transition_out(h[X]);B=!1},d(Y){Y&&detach(t),Y&&detach(e),Y&&detach(o),Y&&detach(l);for(let X=0;X<h.length;X+=1)h[X].d(Y);Y&&detach(O),Y&&detach(D),U=!1,run_all(W)}}}function create_each_block_4(r,t){let e,o,l,h,y,O,D,R=noop$4,F,j,B;function U(){t[41].call(o,t[55])}function W(){return t[42](t[55])}return{key:r,first:null,c(){e=element("div"),o=element("input"),l=space(),h=element("span"),h.textContent="\u274C",attr(o,"class","whiteonHover w-100 svelte-9jnedy"),attr(o,"type","text"),attr(o,"maxlength","80"),attr(h,"class","miniBtn ps-2 svelte-9jnedy"),attr(e,"class","textChoice svelte-9jnedy"),this.first=e},m(q,K){insert(q,e,K),append(e,o),set_input_value(o,t[0].a.a[t[55]]),append(e,l),append(e,h),F=!0,j||(B=[listen(o,"input",U),listen(o,"keydown",keydown_handler_1),listen(h,"click",W)],j=!0)},p(q,K){t=q,K[0]&1&&o.value!==t[0].a.a[t[55]]&&set_input_value(o,t[0].a.a[t[55]])},r(){D=e.getBoundingClientRect()},f(){fix_position(e),R(),add_transform(e,D)},a(){R(),R=create_animation(e,D,flip,{duration:500})},i(q){F||(add_render_callback(()=>{O&&O.end(1),y=create_in_transition(e,fly,{x:20}),y.start()}),F=!0)},o(q){y&&y.invalidate(),O=create_out_transition(e,fly,{x:20}),F=!1},d(q){q&&detach(e),q&&O&&O.end(),j=!1,run_all(B)}}}function create_if_block_7$1(r){let t,e,o,l,h,y,O,D,R,F,j=r[6]=="true"&&create_if_block_8(r);return{c(){t=element("div"),e=element("div"),e.innerHTML='<i class="bx bx-filter-alt pe-1"></i>Cette question s&#39;affichera :',o=space(),l=element("select"),h=element("option"),h.textContent="Quelles que soient les r\xE9ponses pr\xE9c\xE9dentes",y=element("option"),y.textContent="Si la r\xE9ponse \xE0...",O=space(),j&&j.c(),attr(e,"class","mb-1"),h.__value="false",h.value=h.__value,y.__value="true",y.value=y.__value,attr(l,"class","mt-2 svelte-9jnedy"),r[6]===void 0&&add_render_callback(()=>r[22].call(l)),attr(t,"class","sectFiltres svelte-9jnedy")},m(B,U){insert(B,t,U),append(t,e),append(t,o),append(t,l),append(l,h),append(l,y),select_option(l,r[6]),append(t,O),j&&j.m(t,null),D=!0,R||(F=listen(l,"change",r[22]),R=!0)},p(B,U){U[0]&64&&select_option(l,B[6]),B[6]=="true"?j?(j.p(B,U),U[0]&64&&transition_in(j,1)):(j=create_if_block_8(B),j.c(),transition_in(j,1),j.m(t,null)):j&&(group_outros(),transition_out(j,1,1,()=>{j=null}),check_outros())},i(B){D||(transition_in(j),D=!0)},o(B){transition_out(j),D=!1},d(B){B&&detach(t),j&&j.d(),R=!1,F()}}}function create_if_block_8(r){let t,e,o,l,h,y,O,D,R,F=r[1].jsonContent.filter(func_4$1),j=[];for(let U=0;U<F.length;U+=1)j[U]=create_each_block_3(get_each_context_3(r,F,U));let B=r[5][0]!=null&&create_if_block_9(r);return{c(){t=element("div"),e=element("select");for(let U=0;U<j.length;U+=1)j[U].c();h=space(),B&&B.c(),y=empty$2(),attr(e,"class","questionSelection w-100 svelte-9jnedy"),r[5][0]===void 0&&add_render_callback(()=>r[23].call(e)),attr(t,"class","ml-3 mt-2")},m(U,W){insert(U,t,W),append(t,e);for(let q=0;q<j.length;q+=1)j[q].m(e,null);select_option(e,r[5][0]),insert(U,h,W),B&&B.m(U,W),insert(U,y,W),O=!0,D||(R=listen(e,"change",r[23]),D=!0)},p(U,W){if(W[0]&2){F=U[1].jsonContent.filter(func_4$1);let q;for(q=0;q<F.length;q+=1){const K=get_each_context_3(U,F,q);j[q]?j[q].p(K,W):(j[q]=create_each_block_3(K),j[q].c(),j[q].m(e,null))}for(;q<j.length;q+=1)j[q].d(1);j.length=F.length}W[0]&34&&select_option(e,U[5][0]),U[5][0]!=null?B?(B.p(U,W),W[0]&32&&transition_in(B,1)):(B=create_if_block_9(U),B.c(),transition_in(B,1),B.m(y.parentNode,y)):B&&(group_outros(),transition_out(B,1,1,()=>{B=null}),check_outros())},i(U){O||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(t,fly,{x:20}),o.start()}),transition_in(B),O=!0)},o(U){o&&o.invalidate(),l=create_out_transition(t,fly,{x:20}),transition_out(B),O=!1},d(U){U&&detach(t),destroy_each(j,U),U&&l&&l.end(),U&&detach(h),B&&B.d(U),U&&detach(y),D=!1,R()}}}function create_each_block_3(r){let t,e=r[56].q+"",o,l;return{c(){t=element("option"),o=text(e),t.__value=l=r[56].idr,t.value=t.__value},m(h,y){insert(h,t,y),append(t,o)},p(h,y){y[0]&2&&e!==(e=h[56].q+"")&&set_data(o,e),y[0]&2&&l!==(l=h[56].idr)&&(t.__value=l,t.value=t.__value)},d(h){h&&detach(t)}}}function create_if_block_9(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K;function Y(Q,Z){return Z[0]&34&&(j=null),j==null&&(j=!!["mc","1c"].includes(Q[1].jsonContent.find(Q[21]).a.type)),j?create_if_block_10:create_else_block_1$3}let X=Y(r,[-1,-1]),J=X(r);return{c(){t=element("div"),e=element("select"),o=element("option"),o.textContent="est \xE9gale \xE0",l=element("option"),h=text("est sup\xE9rieure \xE0"),O=element("option"),D=text("est inf\xE9rieure \xE0"),F=space(),J.c(),o.__value="==",o.value=o.__value,o.selected=!0,l.__value=">=",l.value=l.__value,l.disabled=y=["1c"].includes(r[1].jsonContent.find(r[24]).a.type),O.__value="<=",O.value=O.__value,O.disabled=R=["1c"].includes(r[1].jsonContent.find(r[25]).a.type),attr(e,"class","me-1 svelte-9jnedy"),r[5][1]===void 0&&add_render_callback(()=>r[26].call(e)),attr(t,"class","ml-3 mt-2 w-100 d-flex")},m(Q,Z){insert(Q,t,Z),append(t,e),append(e,o),append(e,l),append(l,h),append(e,O),append(O,D),select_option(e,r[5][1]),append(t,F),J.m(t,null),W=!0,q||(K=listen(e,"change",r[26]),q=!0)},p(Q,Z){(!W||Z[0]&34&&y!==(y=["1c"].includes(Q[1].jsonContent.find(Q[24]).a.type)))&&(l.disabled=y),(!W||Z[0]&34&&R!==(R=["1c"].includes(Q[1].jsonContent.find(Q[25]).a.type)))&&(O.disabled=R),Z[0]&34&&select_option(e,Q[5][1]),X===(X=Y(Q,Z))&&J?J.p(Q,Z):(J.d(1),J=X(Q),J&&(J.c(),J.m(t,null)))},i(Q){W||(add_render_callback(()=>{U&&U.end(1),B=create_in_transition(t,fly,{x:20}),B.start()}),W=!0)},o(Q){B&&B.invalidate(),U=create_out_transition(t,fly,{x:20}),W=!1},d(Q){Q&&detach(t),J.d(),Q&&U&&U.end(),q=!1,K()}}}function create_else_block_1$3(r){let t,e,o;return{c(){t=element("input"),attr(t,"type","number"),attr(t,"class","svelte-9jnedy")},m(l,h){insert(l,t,h),set_input_value(t,r[5][2]),e||(o=listen(t,"input",r[29]),e=!0)},p(l,h){h[0]&34&&to_number(t.value)!==l[5][2]&&set_input_value(t,l[5][2])},d(l){l&&detach(t),e=!1,o()}}}function create_if_block_10(r){let t,e,o,l=r[1].jsonContent.find(r[27]).a.a,h=[];for(let y=0;y<l.length;y+=1)h[y]=create_each_block_2(get_each_context_2(r,l,y));return{c(){t=element("select");for(let y=0;y<h.length;y+=1)h[y].c();set_style(t,"min-width","80px"),set_style(t,"width","50%"),t.multiple=!0,attr(t,"class","svelte-9jnedy")},m(y,O){insert(y,t,O);for(let D=0;D<h.length;D+=1)h[D].m(t,null);e||(o=listen(t,"change",r[28]),e=!0)},p(y,O){if(O[0]&34){l=y[1].jsonContent.find(y[27]).a.a;let D;for(D=0;D<l.length;D+=1){const R=get_each_context_2(y,l,D);h[D]?h[D].p(R,O):(h[D]=create_each_block_2(R),h[D].c(),h[D].m(t,null))}for(;D<h.length;D+=1)h[D].d(1);h.length=l.length}},d(y){y&&detach(t),destroy_each(h,y),e=!1,o()}}}function create_each_block_2(r){let t,e=r[56]+"",o,l,h;return{c(){t=element("option"),o=text(e),t.__value=l=r[55],t.value=t.__value,t.selected=h=!!r[5][2].split("&&&&&").includes(r[55].toString())},m(y,O){insert(y,t,O),append(t,o)},p(y,O){O[0]&34&&e!==(e=y[56]+"")&&set_data(o,e),O[0]&34&&h!==(h=!!y[5][2].split("&&&&&").includes(y[55].toString()))&&(t.selected=h)},d(y){y&&detach(t)}}}function create_if_block_6$3(r){let t;return{c(){t=element("div"),t.innerHTML=`\u{1F4A1} Cet onglet permet de conditionner l&#39;affichage de cette question \xE0 une r\xE9ponse pr\xE9c\xE9dente afin de cr\xE9er plusieurs chemins optimis\xE9s pour vos
                r\xE9pondants.<br/>\u27A1\uFE0F Cr\xE9ez une premi\xE8re question de type <i>choix uniques</i> ou <i>num\xE9ro</i> avant de cr\xE9er une logique conditionnelle.`,attr(t,"class","sectFiltres svelte-9jnedy")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_if_block_3$4(r){let t,e,o,l,h=r[0].suiv.length>1?"s":"",y,O,D=r[0].suiv.length>1?"s":"",R,F,j,B=r[0].suiv.filter(func$2).length<1,U,W,q=B&&create_if_block_5$4(r),K=r[0].suiv,Y=[];for(let J=0;J<K.length;J+=1)Y[J]=create_each_block$4(get_each_context$4(r,K,J));const X=J=>transition_out(Y[J],1,1,()=>{Y[J]=null});return{c(){t=element("div"),e=element("div"),o=element("i"),l=text("Question"),y=text(h),O=text(" suivante"),R=text(D),F=text(" :"),j=space(),q&&q.c(),U=space();for(let J=0;J<Y.length;J+=1)Y[J].c();attr(o,"class","bx bx-right-down-arrow-circle pe-1"),attr(e,"class","mb-1"),attr(t,"class","secEnd svelte-9jnedy")},m(J,Q){insert(J,t,Q),append(t,e),append(e,o),append(e,l),append(e,y),append(e,O),append(e,R),append(e,F),append(t,j),q&&q.m(t,null),append(t,U);for(let Z=0;Z<Y.length;Z+=1)Y[Z].m(t,null);W=!0},p(J,Q){if((!W||Q[0]&1)&&h!==(h=J[0].suiv.length>1?"s":"")&&set_data(y,h),(!W||Q[0]&1)&&D!==(D=J[0].suiv.length>1?"s":"")&&set_data(R,D),Q[0]&1&&(B=J[0].suiv.filter(func$2).length<1),B?q?q.p(J,Q):(q=create_if_block_5$4(J),q.c(),q.m(t,U)):q&&(q.d(1),q=null),Q[0]&3){K=J[0].suiv;let Z;for(Z=0;Z<K.length;Z+=1){const ee=get_each_context$4(J,K,Z);Y[Z]?(Y[Z].p(ee,Q),transition_in(Y[Z],1)):(Y[Z]=create_each_block$4(ee),Y[Z].c(),transition_in(Y[Z],1),Y[Z].m(t,null))}for(group_outros(),Z=K.length;Z<Y.length;Z+=1)X(Z);check_outros()}},i(J){if(!W){for(let Q=0;Q<K.length;Q+=1)transition_in(Y[Q]);W=!0}},o(J){Y=Y.filter(Boolean);for(let Q=0;Q<Y.length;Q+=1)transition_out(Y[Q]);W=!1},d(J){J&&detach(t),q&&q.d(),destroy_each(Y,J)}}}function create_if_block_5$4(r){let t,e,o;return{c(){t=element("div"),t.textContent="\u2795",attr(t,"class","addBtn hvr-grow svelte-9jnedy")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[30]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_each_block_1$2(r){let t,e=r[56].q+"",o,l;return{c(){t=element("option"),o=text(e),t.__value=l=r[56].idr,t.value=t.__value},m(h,y){insert(h,t,y),append(t,o)},p(h,y){y[0]&2&&e!==(e=h[56].q+"")&&set_data(o,e),y[0]&2&&l!==(l=h[56].idr)&&(t.__value=l,t.value=t.__value)},d(h){h&&detach(t)}}}function create_else_block$6(r){let t;return{c(){t=element("div"),t.textContent="\u27A1\uFE0F quelles que soient les r\xE9ponses."},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_4$4(r){let t,e,o,l=r[1].jsonContent.find(B).q.substring(0,20)+"...",h,y,O=r[53].cond[1]+"",D,R,F=(["mc","1c"].includes(r[1].jsonContent.find(U).a.type)?r[53].cond[2].toString().split("&&&&&").map(W).join(", "):r[53].cond[2])+"",j;function B(...q){return r[32](r[53],...q)}function U(...q){return r[33](r[53],...q)}function W(...q){return r[34](r[53],...q)}return{c(){t=element("div"),e=text("\u27A1\uFE0F si "),o=element("i"),h=text(l),y=space(),D=text(O),R=space(),j=text(F),set_style(o,"color","#6219D8")},m(q,K){insert(q,t,K),append(t,e),append(t,o),append(o,h),append(t,y),append(t,D),append(t,R),append(t,j)},p(q,K){r=q,K[0]&3&&l!==(l=r[1].jsonContent.find(B).q.substring(0,20)+"...")&&set_data(h,l),K[0]&1&&O!==(O=r[53].cond[1]+"")&&set_data(D,O),K[0]&3&&F!==(F=(["mc","1c"].includes(r[1].jsonContent.find(U).a.type)?r[53].cond[2].toString().split("&&&&&").map(W).join(", "):r[53].cond[2])+"")&&set_data(j,F)},d(q){q&&detach(t)}}}function create_each_block$4(r){let t,e,o,l,h,y,O,D,R,F,j,B,U=r[1].jsonContent,W=[];for(let Q=0;Q<U.length;Q+=1)W[Q]=create_each_block_1$2(get_each_context_1$2(r,U,Q));function q(){r[31].call(o,r[55])}function K(Q,Z){return Q[53].cond.length>0?create_if_block_4$4:create_else_block$6}let Y=K(r),X=Y(r);function J(){return r[35](r[55])}return{c(){t=element("div"),e=element("div"),o=element("select");for(let Q=0;Q<W.length;Q+=1)W[Q].c();l=space(),X.c(),h=space(),y=element("div"),y.textContent="\u274C",O=space(),attr(o,"class","mt-2 w-100 svelte-9jnedy"),r[0].suiv[r[55]].idr===void 0&&add_render_callback(q),attr(y,"class","p-2 hvr-grow"),set_style(y,"cursor","pointer"),set_style(y,"font-size",".8rem"),attr(t,"class","d-flex align-items-center justify-content-between")},m(Q,Z){insert(Q,t,Z),append(t,e),append(e,o);for(let ee=0;ee<W.length;ee+=1)W[ee].m(o,null);select_option(o,r[0].suiv[r[55]].idr),append(e,l),X.m(e,null),append(t,h),append(t,y),append(t,O),F=!0,j||(B=[listen(o,"change",q),listen(y,"click",J)],j=!0)},p(Q,Z){if(r=Q,Z[0]&2){U=r[1].jsonContent;let ee;for(ee=0;ee<U.length;ee+=1){const re=get_each_context_1$2(r,U,ee);W[ee]?W[ee].p(re,Z):(W[ee]=create_each_block_1$2(re),W[ee].c(),W[ee].m(o,null))}for(;ee<W.length;ee+=1)W[ee].d(1);W.length=U.length}Z[0]&1&&select_option(o,r[0].suiv[r[55]].idr),Y===(Y=K(r))&&X?X.p(r,Z):(X.d(1),X=Y(r),X&&(X.c(),X.m(e,null)))},i(Q){F||(add_render_callback(()=>{R&&R.end(1),D=create_in_transition(t,fly,{x:20}),D.start()}),F=!0)},o(Q){D&&D.invalidate(),R=create_out_transition(t,fly,{x:20}),F=!1},d(Q){Q&&detach(t),destroy_each(W,Q),X.d(),Q&&R&&R.end(),j=!1,run_all(B)}}}function create_key_block$1(r){let t,e,o,l,h,y;const O=[create_if_block_2$6,create_else_block_2$1],D=[];function R(F,j){return F[8]?0:1}return e=R(r),o=D[e]=O[e](r),{c(){t=element("div"),o.c(),attr(t,"class","svelte-9jnedy")},m(F,j){insert(F,t,j),D[e].m(t,null),y=!0},p(F,j){let B=e;e=R(F),e===B?D[e].p(F,j):(group_outros(),transition_out(D[B],1,1,()=>{D[B]=null}),check_outros(),o=D[e],o?o.p(F,j):(o=D[e]=O[e](F),o.c()),transition_in(o,1),o.m(t,null))},i(F){y||(transition_in(o),add_render_callback(()=>{h&&h.end(1),l=create_in_transition(t,fly,{x:-20}),l.start()}),y=!0)},o(F){transition_out(o),l&&l.invalidate(),h=create_out_transition(t,fly,{x:-10}),y=!1},d(F){F&&detach(t),D[e].d(),F&&h&&h.end()}}}function create_if_block_1$6(r){let t,e,o,l,h;return{c(){t=element("div"),e=text(r[3]),attr(t,"class","infoTile svelte-9jnedy")},m(y,O){insert(y,t,O),append(t,e),h=!0},p(y,O){(!h||O[0]&8)&&set_data(e,y[3])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(t,fly,{x:20,duration:500}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(t,fly,{x:20,duration:250}),h=!1},d(y){y&&detach(t),y&&l&&l.end()}}}function create_if_block$8(r){let t,e,o;return{c(){t=element("button"),t.textContent="Supprimer",attr(t,"class","svelte-9jnedy")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[15]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_fragment$h(r){let t,e,o,l,h,y,O,D,R,F,j=r[8],B,U,W,q,K,Y,X,J,Q,Z,ee,re=create_key_block$1(r),te=r[3]!=""&&create_if_block_1$6(r),ne=!r[9]&&!r[10]&&!r[11]&&create_if_block$8(r);return{c(){t=element("div"),e=element("div"),o=element("h2"),o.textContent=`${r[11]?"\u{1F4AB} Nouvelle question":"\u270F\uFE0F Modification"}`,l=space(),h=element("div"),y=element("div"),y.textContent="Question",O=space(),D=element("div"),D.textContent="Conditions & suite",R=space(),F=element("div"),re.c(),B=space(),te&&te.c(),U=space(),W=element("div"),q=element("button"),q.textContent="Fermer",K=space(),ne&&ne.c(),Y=space(),X=element("button"),X.textContent=`${r[11]?"Ajouter":"Modifier"}`,attr(o,"class","mb-4 svelte-9jnedy"),attr(y,"id","sondagesBtn"),attr(y,"class","headerBtn active svelte-9jnedy"),attr(D,"id","modelsBtn"),attr(D,"class","headerBtn svelte-9jnedy"),attr(h,"class","headerBtns svelte-9jnedy"),attr(F,"class","gridForAnimation svelte-9jnedy"),attr(q,"class","svelte-9jnedy"),set_style(X,"background-color","#6219D8"),set_style(X,"color","#fff"),attr(X,"class","svelte-9jnedy"),attr(W,"class","actions svelte-9jnedy"),attr(e,"class","contents svelte-9jnedy"),attr(t,"role","dialog"),attr(t,"class","modal svelte-9jnedy")},m(ae,ie){insert(ae,t,ie),append(t,e),append(e,o),append(e,l),append(e,h),append(h,y),append(h,O),append(h,D),append(e,R),append(e,F),re.m(F,null),append(e,B),te&&te.m(e,null),append(e,U),append(e,W),append(W,q),append(W,K),ne&&ne.m(W,null),append(W,Y),append(W,X),Q=!0,Z||(ee=[listen(y,"click",r[16]),listen(D,"click",r[16]),listen(q,"click",r[50]),listen(X,"click",r[13]),listen(t,"introstart",r[19]),listen(t,"outroend",r[20])],Z=!0)},p(ae,ie){ie[0]&256&&safe_not_equal(j,j=ae[8])?(group_outros(),transition_out(re,1,1,noop$4),check_outros(),re=create_key_block$1(ae),re.c(),transition_in(re,1),re.m(F,null)):re.p(ae,ie),ae[3]!=""?te?(te.p(ae,ie),ie[0]&8&&transition_in(te,1)):(te=create_if_block_1$6(ae),te.c(),transition_in(te,1),te.m(e,U)):te&&(group_outros(),transition_out(te,1,1,()=>{te=null}),check_outros()),!ae[9]&&!ae[10]&&!ae[11]&&ne.p(ae,ie)},i(ae){Q||(transition_in(re),transition_in(te),add_render_callback(()=>{J||(J=create_bidirectional_transition(t,fly,{y:50},!0)),J.run(1)}),Q=!0)},o(ae){transition_out(re),transition_out(te),J||(J=create_bidirectional_transition(t,fly,{y:50},!1)),J.run(0),Q=!1},d(ae){ae&&detach(t),re.d(ae),te&&te.d(),ne&&ne.d(),ae&&J&&J.end(),Z=!1,run_all(ee)}}}const func$2=r=>r.idr=="end",func_1$1=r=>["1c","num"].includes(r.a.type)&&r.a.a.length>1,func_2$1=r=>["1c","num"].includes(r.a.type)&&r.a.a.length>1,func_4$1=r=>["1c","num"].includes(r.a.type)&&r.a.a.length>1,keydown_handler_1=r=>{r.key==";"&&r.preventDefault()};function instance$f(r,t,e){let{sondageEnCreation:o}=t,{id:l}=t,{majTree:h}=t,y="",O=l=="start",D=l=="end",R=l=="new",F=o.jsonContent.findIndex(ke=>ke.idr==l),{prevQPosition:j=o.jsonContent.findIndex(ke=>ke.suiv.some(Le=>Le.idr==l))}=t,B,U=["","",""],W="false";!O&&!D&&j>=0&&(R||o.jsonContent[j].suiv.find(ke=>ke.idr==l).cond.length==0?(U=[null,"==","0"],W="false"):(U=structuredClone(o.jsonContent[j].suiv.find(ke=>ke.idr==l)).cond,W="true"));const q=new ShortUniqueId({length:8});let{questionData:K={idr:R?"q-"+q().toString():l,suiv:[],q:"",a:{a:[],o:null,type:""}}}=t,Y=!1;function X(ke,Le){if(R||Y){let De={"1c":[],mc:[],cl:[20],num:[0,100," "],cal:[!0,!1],"5s":[]};K.a.a.splice(0,K.a.a.length),e(0,K.a.a=De[Le],K)}}const J=()=>{if(K.q==""){alert("Veuillez saisir une question");return}else if(K.a.type==""){alert("Veuillez saisir un type de question");return}else if(W=="true"&&U.length!=3){alert("Veuillez saisir un filtre valide");return}else if(K.a.type=="1c"||K.a.type=="mc"){if(K.a.a.length==0){alert("Veuillez saisir au moins un choix");return}}else if(K.a.type=="num"){if(K.a.a.length<3){alert("Veuillez saisir des valeurs");return}else if(K.a.a[0]>K.a.a[1]){alert("La valeur minimum doit \xEAtre inf\xE9rieure \xE0 la valeur maximum");return}}else if(K.a.type=="cal"){if(console.log(K.a.a),K.a.a.length<2){alert("Veuillez saisir des valeurs");return}else if(K.a.a[0]==!1&&K.a.a[1]==!1){alert("Veuillez s\xE9l\xE9ctionner au moins une option");return}}W=="false"&&e(5,U=[]),R&&K.suiv.push({idr:"end",cond:[]}),R?(o.jsonContent[j].suiv.push({idr:K.idr,cond:U}),e(1,o.jsonContent[j].suiv=o.jsonContent[j].suiv.filter(ke=>ke.idr!="end"),o),o.jsonContent.splice(j+1,0,K)):(!O&&!D&&e(1,o.jsonContent[j].suiv=o.jsonContent[j].suiv.map(ke=>ke.idr==K.idr?{idr:K.idr,cond:U}:ke),o),o.jsonContent.splice(F,1,K)),!O&&!D&&W=="true"&&!o.jsonContent[j].suiv.some(ke=>ke.idr=="end")&&o.jsonContent[j].suiv.length<2&&o.jsonContent[j].suiv.push({idr:"end",cond:[]}),h(),closeModal()},Q=()=>{!K.a.a.includes(B)&&B!=null&&B!=""&&(e(0,K.a.a=[...K.a.a,B],K),e(4,B=""))};function Z(){let ke=o.jsonContent[F].suiv;o.jsonContent.map(Le=>{if(Le.suiv.some(De=>De.idr==K.idr)){let De=Le;return De.suiv=De.suiv.filter(Ie=>Ie.idr!=K.idr),De.suiv=De.suiv.concat(ke),De.suiv=De.suiv.filter((Ie,Ve,Ue)=>Ue.findIndex(ze=>ze.idr===Ie.idr)===Ve),console.log(De),De}else return Le}),o.jsonContent.splice(F,1),h(),closeModal()}let ee=!1;function re(ke){ke.target.classList.contains("active")||(document.querySelectorAll(".headerBtn").forEach(function(Le){Le.classList.remove("active")}),ke.target.classList.add("active"),e(8,ee=!ee))}function te(ke){bubble.call(this,r,ke)}function ne(ke){bubble.call(this,r,ke)}const ae=ke=>ke.idr==U[0];function ie(){W=select_value(this),e(6,W)}function oe(){U[0]=select_value(this),e(5,U),e(1,o)}const ce=ke=>ke.idr==U[0],ue=ke=>ke.idr==U[0];function pe(){U[1]=select_value(this),e(5,U),e(1,o)}const me=ke=>ke.idr==U[0],he=ke=>{let Le=Array.from(ke.target.selectedOptions).map(De=>De.index);e(5,U[2]=Le.join("&&&&&"),U)};function se(){U[2]=to_number(this.value),e(5,U),e(1,o)}const le=()=>e(0,K.suiv=[...K.suiv,{idr:"end",cond:[]}],K);function fe(ke){K.suiv[ke].idr=select_value(this),e(0,K)}const ge=(ke,Le)=>Le.idr==ke.cond[0],ye=(ke,Le)=>Le.idr==ke.cond[0],we=(ke,Le)=>o.jsonContent.find(De=>De.idr==ke.cond[0]).a.a[Le],$e=ke=>{K.suiv.splice(ke,1),e(0,K)};function _e(){K.q=this.value,e(0,K)}function Se(){K.a.type=select_value(this),e(0,K)}const Te=()=>{K.a.a.splice(0,K.a.a.length),e(7,Y=!0)};function be(){B=this.value,e(4,B)}const Oe=ke=>{ke.key==";"&&ke.preventDefault(),ke.key==="Enter"&&Q()};function xe(ke){K.a.a[ke]=this.value,e(0,K)}const Ee=ke=>{e(0,K.a.a=K.a.a.filter((Le,De)=>De!=ke),K)};function Ce(){K.a.o=this.checked,e(0,K)}function ve(){K.a.a[0]=to_number(this.value),e(0,K)}function Pe(){K.a.a[0]=to_number(this.value),e(0,K)}function Me(){K.a.a[1]=to_number(this.value),e(0,K)}function Ne(){K.a.a[2]=this.value,e(0,K)}function Be(){K.a.a[0]=this.checked,e(0,K)}function Fe(){K.a.a[1]=this.checked,e(0,K)}const Re=()=>{closeModal()};return r.$$set=ke=>{"sondageEnCreation"in ke&&e(1,o=ke.sondageEnCreation),"id"in ke&&e(17,l=ke.id),"majTree"in ke&&e(18,h=ke.majTree),"prevQPosition"in ke&&e(2,j=ke.prevQPosition),"questionData"in ke&&e(0,K=ke.questionData)},r.$$.update=()=>{r.$$.dirty[0]&1&&(K.q.length>300?e(3,y="\u{1F4A1} Astuce : Essayez de limiter vos questions \xE0 300 caract\xE8res pour optimiser la lecture et le taux de r\xE9ponse."):e(3,y=""))},[K,o,j,y,B,U,W,Y,ee,O,D,R,X,J,Q,Z,re,l,h,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe,ge,ye,we,$e,_e,Se,Te,be,Oe,xe,Ee,Ce,ve,Pe,Me,Ne,Be,Fe,Re]}class ModalCellEdit extends SvelteComponent{constructor(t){super(),init(this,t,instance$f,create_fragment$h,safe_not_equal,{sondageEnCreation:1,id:17,majTree:18,prevQPosition:2,questionData:0},null,[-1,-1])}}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.4
 * @date    2022-03-15T15:23:59.245Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function _classCallCheck$1(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},defineProperty$e$1={exports:{}},check$1=function(r){return r&&r.Math==Math&&r},global$M$1=check$1(typeof globalThis=="object"&&globalThis)||check$1(typeof window=="object"&&window)||check$1(typeof self=="object"&&self)||check$1(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")(),fails$r$1=function(r){try{return!!r()}catch{return!0}},fails$q$1=fails$r$1,functionBindNative$1=!fails$q$1(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),NATIVE_BIND$4$1=functionBindNative$1,FunctionPrototype$3$1=Function.prototype,apply$6$1=FunctionPrototype$3$1.apply,call$c$1=FunctionPrototype$3$1.call,functionApply$1=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$4$1?call$c$1.bind(apply$6$1):function(){return call$c$1.apply(apply$6$1,arguments)}),NATIVE_BIND$3$1=functionBindNative$1,FunctionPrototype$2$1=Function.prototype,bind$d=FunctionPrototype$2$1.bind,call$b$1=FunctionPrototype$2$1.call,uncurryThis$t$1=NATIVE_BIND$3$1&&bind$d.bind(call$b$1,call$b$1),functionUncurryThis$1=NATIVE_BIND$3$1?function(r){return r&&uncurryThis$t$1(r)}:function(r){return r&&function(){return call$b$1.apply(r,arguments)}},isCallable$h$1=function(r){return typeof r=="function"},objectGetOwnPropertyDescriptor$1={},fails$p$1=fails$r$1,descriptors$2=!fails$p$1(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),NATIVE_BIND$2$1=functionBindNative$1,call$a$1=Function.prototype.call,functionCall$1=NATIVE_BIND$2$1?call$a$1.bind(call$a$1):function(){return call$a$1.apply(call$a$1,arguments)},objectPropertyIsEnumerable$1={},$propertyIsEnumerable$2$1={}.propertyIsEnumerable,getOwnPropertyDescriptor$5$1=Object.getOwnPropertyDescriptor,NASHORN_BUG$1=getOwnPropertyDescriptor$5$1&&!$propertyIsEnumerable$2$1.call({1:2},1);objectPropertyIsEnumerable$1.f=NASHORN_BUG$1?function r(t){var e=getOwnPropertyDescriptor$5$1(this,t);return!!e&&e.enumerable}:$propertyIsEnumerable$2$1;var createPropertyDescriptor$5$1=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}},uncurryThis$s$1=functionUncurryThis$1,toString$9$1=uncurryThis$s$1({}.toString),stringSlice$1$1=uncurryThis$s$1("".slice),classofRaw$1$1=function(r){return stringSlice$1$1(toString$9$1(r),8,-1)},global$L$1=global$M$1,uncurryThis$r$1=functionUncurryThis$1,fails$o$1=fails$r$1,classof$f=classofRaw$1$1,Object$9$1=global$L$1.Object,split$1=uncurryThis$r$1("".split),indexedObject$1=fails$o$1(function(){return!Object$9$1("z").propertyIsEnumerable(0)})?function(r){return classof$f(r)=="String"?split$1(r,""):Object$9$1(r)}:Object$9$1,global$K$1=global$M$1,TypeError$j=global$K$1.TypeError,requireObjectCoercible$5$1=function(r){if(r==null)throw TypeError$j("Can't call method on "+r);return r},IndexedObject$3$1=indexedObject$1,requireObjectCoercible$4$1=requireObjectCoercible$5$1,toIndexedObject$b$1=function(r){return IndexedObject$3$1(requireObjectCoercible$4$1(r))},isCallable$g$1=isCallable$h$1,isObject$f$1=function(r){return typeof r=="object"?r!==null:isCallable$g$1(r)},path$q$1={},path$p$1=path$q$1,global$J$1=global$M$1,isCallable$f$1=isCallable$h$1,aFunction$1=function(r){return isCallable$f$1(r)?r:void 0},getBuiltIn$9$1=function(r,t){return arguments.length<2?aFunction$1(path$p$1[r])||aFunction$1(global$J$1[r]):path$p$1[r]&&path$p$1[r][t]||global$J$1[r]&&global$J$1[r][t]},uncurryThis$q$1=functionUncurryThis$1,objectIsPrototypeOf$1=uncurryThis$q$1({}.isPrototypeOf),getBuiltIn$8$1=getBuiltIn$9$1,engineUserAgent$1=getBuiltIn$8$1("navigator","userAgent")||"",global$I$1=global$M$1,userAgent$3$1=engineUserAgent$1,process$1=global$I$1.process,Deno$1=global$I$1.Deno,versions$1=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8$1=versions$1&&versions$1.v8,match$3,version$2;v8$1&&(match$3=v8$1.split("."),version$2=match$3[0]>0&&match$3[0]<4?1:+(match$3[0]+match$3[1]));!version$2&&userAgent$3$1&&(match$3=userAgent$3$1.match(/Edge\/(\d+)/),(!match$3||match$3[1]>=74)&&(match$3=userAgent$3$1.match(/Chrome\/(\d+)/),match$3&&(version$2=+match$3[1])));var engineV8Version$1=version$2,V8_VERSION$2$1=engineV8Version$1,fails$n$1=fails$r$1,nativeSymbol$1=!!Object.getOwnPropertySymbols&&!fails$n$1(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&V8_VERSION$2$1&&V8_VERSION$2$1<41}),NATIVE_SYMBOL$2$1=nativeSymbol$1,useSymbolAsUid$1=NATIVE_SYMBOL$2$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",global$H$1=global$M$1,getBuiltIn$7$1=getBuiltIn$9$1,isCallable$e$1=isCallable$h$1,isPrototypeOf$i$1=objectIsPrototypeOf$1,USE_SYMBOL_AS_UID$1$1=useSymbolAsUid$1,Object$8$1=global$H$1.Object,isSymbol$3$1=USE_SYMBOL_AS_UID$1$1?function(r){return typeof r=="symbol"}:function(r){var t=getBuiltIn$7$1("Symbol");return isCallable$e$1(t)&&isPrototypeOf$i$1(t.prototype,Object$8$1(r))},global$G$1=global$M$1,String$4$1=global$G$1.String,tryToString$4$1=function(r){try{return String$4$1(r)}catch{return"Object"}},global$F$1=global$M$1,isCallable$d$1=isCallable$h$1,tryToString$3$1=tryToString$4$1,TypeError$i$1=global$F$1.TypeError,aCallable$7=function(r){if(isCallable$d$1(r))return r;throw TypeError$i$1(tryToString$3$1(r)+" is not a function")},aCallable$6$1=aCallable$7,getMethod$3$1=function(r,t){var e=r[t];return e==null?void 0:aCallable$6$1(e)},global$E$1=global$M$1,call$9$1=functionCall$1,isCallable$c$1=isCallable$h$1,isObject$e$1=isObject$f$1,TypeError$h$1=global$E$1.TypeError,ordinaryToPrimitive$1$1=function(r,t){var e,o;if(t==="string"&&isCallable$c$1(e=r.toString)&&!isObject$e$1(o=call$9$1(e,r))||isCallable$c$1(e=r.valueOf)&&!isObject$e$1(o=call$9$1(e,r))||t!=="string"&&isCallable$c$1(e=r.toString)&&!isObject$e$1(o=call$9$1(e,r)))return o;throw TypeError$h$1("Can't convert object to primitive value")},shared$4$1={exports:{}},global$D$1=global$M$1,defineProperty$d$1=Object.defineProperty,setGlobal$1$1=function(r,t){try{defineProperty$d$1(global$D$1,r,{value:t,configurable:!0,writable:!0})}catch{global$D$1[r]=t}return t},global$C$1=global$M$1,setGlobal$2=setGlobal$1$1,SHARED$1="__core-js_shared__",store$3$1=global$C$1[SHARED$1]||setGlobal$2(SHARED$1,{}),sharedStore$1=store$3$1,store$2$1=sharedStore$1;(shared$4$1.exports=function(r,t){return store$2$1[r]||(store$2$1[r]=t!==void 0?t:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var global$B$1=global$M$1,requireObjectCoercible$3$1=requireObjectCoercible$5$1,Object$7$1=global$B$1.Object,toObject$e=function(r){return Object$7$1(requireObjectCoercible$3$1(r))},uncurryThis$p$1=functionUncurryThis$1,toObject$d$1=toObject$e,hasOwnProperty$1=uncurryThis$p$1({}.hasOwnProperty),hasOwnProperty_1$1=Object.hasOwn||function r(t,e){return hasOwnProperty$1(toObject$d$1(t),e)},uncurryThis$o$1=functionUncurryThis$1,id$1$1=0,postfix$1=Math.random(),toString$8$1=uncurryThis$o$1(1 .toString),uid$4$1=function(r){return"Symbol("+(r===void 0?"":r)+")_"+toString$8$1(++id$1$1+postfix$1,36)},global$A$1=global$M$1,shared$3$1=shared$4$1.exports,hasOwn$f$1=hasOwnProperty_1$1,uid$3$1=uid$4$1,NATIVE_SYMBOL$1$1=nativeSymbol$1,USE_SYMBOL_AS_UID$2=useSymbolAsUid$1,WellKnownSymbolsStore$1$1=shared$3$1("wks"),Symbol$2$1=global$A$1.Symbol,symbolFor$1=Symbol$2$1&&Symbol$2$1.for,createWellKnownSymbol$1=USE_SYMBOL_AS_UID$2?Symbol$2$1:Symbol$2$1&&Symbol$2$1.withoutSetter||uid$3$1,wellKnownSymbol$j$1=function(r){if(!hasOwn$f$1(WellKnownSymbolsStore$1$1,r)||!(NATIVE_SYMBOL$1$1||typeof WellKnownSymbolsStore$1$1[r]=="string")){var t="Symbol."+r;NATIVE_SYMBOL$1$1&&hasOwn$f$1(Symbol$2$1,r)?WellKnownSymbolsStore$1$1[r]=Symbol$2$1[r]:USE_SYMBOL_AS_UID$2&&symbolFor$1?WellKnownSymbolsStore$1$1[r]=symbolFor$1(t):WellKnownSymbolsStore$1$1[r]=createWellKnownSymbol$1(t)}return WellKnownSymbolsStore$1$1[r]},global$z$1=global$M$1,call$8$1=functionCall$1,isObject$d$1=isObject$f$1,isSymbol$2$1=isSymbol$3$1,getMethod$2$1=getMethod$3$1,ordinaryToPrimitive$2=ordinaryToPrimitive$1$1,wellKnownSymbol$i$1=wellKnownSymbol$j$1,TypeError$g$1=global$z$1.TypeError,TO_PRIMITIVE$1$1=wellKnownSymbol$i$1("toPrimitive"),toPrimitive$1$1=function(r,t){if(!isObject$d$1(r)||isSymbol$2$1(r))return r;var e=getMethod$2$1(r,TO_PRIMITIVE$1$1),o;if(e){if(t===void 0&&(t="default"),o=call$8$1(e,r,t),!isObject$d$1(o)||isSymbol$2$1(o))return o;throw TypeError$g$1("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive$2(r,t)},toPrimitive$2=toPrimitive$1$1,isSymbol$1$1=isSymbol$3$1,toPropertyKey$4$1=function(r){var t=toPrimitive$2(r,"string");return isSymbol$1$1(t)?t:t+""},global$y$1=global$M$1,isObject$c$1=isObject$f$1,document$1$1=global$y$1.document,EXISTS$1$1=isObject$c$1(document$1$1)&&isObject$c$1(document$1$1.createElement),documentCreateElement$1$1=function(r){return EXISTS$1$1?document$1$1.createElement(r):{}},DESCRIPTORS$h$1=descriptors$2,fails$m$1=fails$r$1,createElement$1=documentCreateElement$1$1,ie8DomDefine$1=!DESCRIPTORS$h$1&&!fails$m$1(function(){return Object.defineProperty(createElement$1("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$g$1=descriptors$2,call$7$1=functionCall$1,propertyIsEnumerableModule$2$1=objectPropertyIsEnumerable$1,createPropertyDescriptor$4$1=createPropertyDescriptor$5$1,toIndexedObject$a$1=toIndexedObject$b$1,toPropertyKey$3$1=toPropertyKey$4$1,hasOwn$e$1=hasOwnProperty_1$1,IE8_DOM_DEFINE$1$1=ie8DomDefine$1,$getOwnPropertyDescriptor$2$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor$1.f=DESCRIPTORS$g$1?$getOwnPropertyDescriptor$2$1:function r(t,e){if(t=toIndexedObject$a$1(t),e=toPropertyKey$3$1(e),IE8_DOM_DEFINE$1$1)try{return $getOwnPropertyDescriptor$2$1(t,e)}catch{}if(hasOwn$e$1(t,e))return createPropertyDescriptor$4$1(!call$7$1(propertyIsEnumerableModule$2$1.f,t,e),t[e])};var fails$l$1=fails$r$1,isCallable$b$1=isCallable$h$1,replacement$1=/#|\.prototype\./,isForced$1$1=function(r,t){var e=data$1[normalize$1(r)];return e==POLYFILL$1?!0:e==NATIVE$1?!1:isCallable$b$1(t)?fails$l$1(t):!!t},normalize$1=isForced$1$1.normalize=function(r){return String(r).replace(replacement$1,".").toLowerCase()},data$1=isForced$1$1.data={},NATIVE$1=isForced$1$1.NATIVE="N",POLYFILL$1=isForced$1$1.POLYFILL="P",isForced_1$1=isForced$1$1,uncurryThis$n$1=functionUncurryThis$1,aCallable$5$1=aCallable$7,NATIVE_BIND$1$1=functionBindNative$1,bind$c$1=uncurryThis$n$1(uncurryThis$n$1.bind),functionBindContext$1=function(r,t){return aCallable$5$1(r),t===void 0?r:NATIVE_BIND$1$1?bind$c$1(r,t):function(){return r.apply(t,arguments)}},objectDefineProperty$1={},DESCRIPTORS$f$1=descriptors$2,fails$k$1=fails$r$1,v8PrototypeDefineBug$1=DESCRIPTORS$f$1&&fails$k$1(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),global$x$1=global$M$1,isObject$b$1=isObject$f$1,String$3$1=global$x$1.String,TypeError$f$1=global$x$1.TypeError,anObject$b$1=function(r){if(isObject$b$1(r))return r;throw TypeError$f$1(String$3$1(r)+" is not an object")},global$w$1=global$M$1,DESCRIPTORS$e$1=descriptors$2,IE8_DOM_DEFINE$2=ie8DomDefine$1,V8_PROTOTYPE_DEFINE_BUG$1$1=v8PrototypeDefineBug$1,anObject$a$1=anObject$b$1,toPropertyKey$2$1=toPropertyKey$4$1,TypeError$e$1=global$w$1.TypeError,$defineProperty$1$1=Object.defineProperty,$getOwnPropertyDescriptor$1$1=Object.getOwnPropertyDescriptor,ENUMERABLE$1="enumerable",CONFIGURABLE$1$1="configurable",WRITABLE$1="writable";objectDefineProperty$1.f=DESCRIPTORS$e$1?V8_PROTOTYPE_DEFINE_BUG$1$1?function r(t,e,o){if(anObject$a$1(t),e=toPropertyKey$2$1(e),anObject$a$1(o),typeof t=="function"&&e==="prototype"&&"value"in o&&WRITABLE$1 in o&&!o[WRITABLE$1]){var l=$getOwnPropertyDescriptor$1$1(t,e);l&&l[WRITABLE$1]&&(t[e]=o.value,o={configurable:CONFIGURABLE$1$1 in o?o[CONFIGURABLE$1$1]:l[CONFIGURABLE$1$1],enumerable:ENUMERABLE$1 in o?o[ENUMERABLE$1]:l[ENUMERABLE$1],writable:!1})}return $defineProperty$1$1(t,e,o)}:$defineProperty$1$1:function r(t,e,o){if(anObject$a$1(t),e=toPropertyKey$2$1(e),anObject$a$1(o),IE8_DOM_DEFINE$2)try{return $defineProperty$1$1(t,e,o)}catch{}if("get"in o||"set"in o)throw TypeError$e$1("Accessors not supported");return"value"in o&&(t[e]=o.value),t};var DESCRIPTORS$d$1=descriptors$2,definePropertyModule$4$1=objectDefineProperty$1,createPropertyDescriptor$3$1=createPropertyDescriptor$5$1,createNonEnumerableProperty$6$1=DESCRIPTORS$d$1?function(r,t,e){return definePropertyModule$4$1.f(r,t,createPropertyDescriptor$3$1(1,e))}:function(r,t,e){return r[t]=e,r},global$v$1=global$M$1,apply$5$1=functionApply$1,uncurryThis$m$1=functionUncurryThis$1,isCallable$a$1=isCallable$h$1,getOwnPropertyDescriptor$4$1=objectGetOwnPropertyDescriptor$1.f,isForced$2=isForced_1$1,path$o$1=path$q$1,bind$b$1=functionBindContext$1,createNonEnumerableProperty$5$1=createNonEnumerableProperty$6$1,hasOwn$d$1=hasOwnProperty_1$1,wrapConstructor$1=function(r){var t=function(e,o,l){if(this instanceof t){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,o)}return new r(e,o,l)}return apply$5$1(r,this,arguments)};return t.prototype=r.prototype,t},_export$1=function(r,t){var e=r.target,o=r.global,l=r.stat,h=r.proto,y=o?global$v$1:l?global$v$1[e]:(global$v$1[e]||{}).prototype,O=o?path$o$1:path$o$1[e]||createNonEnumerableProperty$5$1(path$o$1,e,{})[e],D=O.prototype,R,F,j,B,U,W,q,K,Y;for(B in t)R=isForced$2(o?B:e+(l?".":"#")+B,r.forced),F=!R&&y&&hasOwn$d$1(y,B),W=O[B],F&&(r.noTargetGet?(Y=getOwnPropertyDescriptor$4$1(y,B),q=Y&&Y.value):q=y[B]),U=F&&q?q:t[B],!(F&&typeof W==typeof U)&&(r.bind&&F?K=bind$b$1(U,global$v$1):r.wrap&&F?K=wrapConstructor$1(U):h&&isCallable$a$1(U)?K=uncurryThis$m$1(U):K=U,(r.sham||U&&U.sham||W&&W.sham)&&createNonEnumerableProperty$5$1(K,"sham",!0),createNonEnumerableProperty$5$1(O,B,K),h&&(j=e+"Prototype",hasOwn$d$1(path$o$1,j)||createNonEnumerableProperty$5$1(path$o$1,j,{}),createNonEnumerableProperty$5$1(path$o$1[j],B,U),r.real&&D&&!D[B]&&createNonEnumerableProperty$5$1(D,B,U)))},$$C$1=_export$1,DESCRIPTORS$c$1=descriptors$2,defineProperty$c$1=objectDefineProperty$1.f;$$C$1({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty$c$1,sham:!DESCRIPTORS$c$1},{defineProperty:defineProperty$c$1});var path$n$1=path$q$1,Object$6$1=path$n$1.Object,defineProperty$b$1=defineProperty$e$1.exports=function r(t,e,o){return Object$6$1.defineProperty(t,e,o)};Object$6$1.defineProperty.sham&&(defineProperty$b$1.sham=!0);var parent$V$1=defineProperty$e$1.exports,defineProperty$a$1=parent$V$1,parent$U$1=defineProperty$a$1,defineProperty$9$1=parent$U$1,parent$T$1=defineProperty$9$1,defineProperty$8$1=parent$T$1,defineProperty$7$1=defineProperty$8$1;function _defineProperties$1(r,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),defineProperty$7$1(r,o.key,o)}}function _createClass$1(r,t,e){return t&&_defineProperties$1(r.prototype,t),e&&_defineProperties$1(r,e),defineProperty$7$1(r,"prototype",{writable:!1}),r}function _defineProperty$1(r,t,e){return t in r?defineProperty$7$1(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var uncurryThis$l$1=functionUncurryThis$1,arraySlice$5$1=uncurryThis$l$1([].slice),global$u$1=global$M$1,uncurryThis$k$1=functionUncurryThis$1,aCallable$4$1=aCallable$7,isObject$a$1=isObject$f$1,hasOwn$c$1=hasOwnProperty_1$1,arraySlice$4$1=arraySlice$5$1,NATIVE_BIND$5=functionBindNative$1,Function$2$1=global$u$1.Function,concat$6$1=uncurryThis$k$1([].concat),join$1=uncurryThis$k$1([].join),factories$1={},construct$4$1=function(r,t,e){if(!hasOwn$c$1(factories$1,t)){for(var o=[],l=0;l<t;l++)o[l]="a["+l+"]";factories$1[t]=Function$2$1("C,a","return new C("+join$1(o,",")+")")}return factories$1[t](r,e)},functionBind$1=NATIVE_BIND$5?Function$2$1.bind:function r(t){var e=aCallable$4$1(this),o=e.prototype,l=arraySlice$4$1(arguments,1),h=function(){var O=concat$6$1(l,arraySlice$4$1(arguments));return this instanceof h?construct$4$1(e,O.length,O):e.apply(t,O)};return isObject$a$1(o)&&(h.prototype=o),h},$$B$1=_export$1,bind$a$1=functionBind$1;$$B$1({target:"Function",proto:!0,forced:Function.bind!==bind$a$1},{bind:bind$a$1});var path$m$1=path$q$1,entryVirtual$k=function(r){return path$m$1[r+"Prototype"]},entryVirtual$j=entryVirtual$k,bind$9$1=entryVirtual$j("Function").bind,isPrototypeOf$h$1=objectIsPrototypeOf$1,method$e$1=bind$9$1,FunctionPrototype$1$1=Function.prototype,bind$8$1=function(r){var t=r.bind;return r===FunctionPrototype$1$1||isPrototypeOf$h$1(FunctionPrototype$1$1,r)&&t===FunctionPrototype$1$1.bind?method$e$1:t},parent$S$1=bind$8$1,bind$7$1=parent$S$1,bind$6$1=bind$7$1,ceil$1=Math.ceil,floor$1$1=Math.floor,toIntegerOrInfinity$4$1=function(r){var t=+r;return t!==t||t===0?0:(t>0?floor$1$1:ceil$1)(t)},toIntegerOrInfinity$3$1=toIntegerOrInfinity$4$1,min$2$1=Math.min,toLength$1$1=function(r){return r>0?min$2$1(toIntegerOrInfinity$3$1(r),9007199254740991):0},toLength$2=toLength$1$1,lengthOfArrayLike$d=function(r){return toLength$2(r.length)},global$t$1=global$M$1,aCallable$3$1=aCallable$7,toObject$c$1=toObject$e,IndexedObject$2$1=indexedObject$1,lengthOfArrayLike$c=lengthOfArrayLike$d,TypeError$d$1=global$t$1.TypeError,createMethod$5$1=function(r){return function(t,e,o,l){aCallable$3$1(e);var h=toObject$c$1(t),y=IndexedObject$2$1(h),O=lengthOfArrayLike$c(h),D=r?O-1:0,R=r?-1:1;if(o<2)for(;;){if(D in y){l=y[D],D+=R;break}if(D+=R,r?D<0:O<=D)throw TypeError$d$1("Reduce of empty array with no initial value")}for(;r?D>=0:O>D;D+=R)D in y&&(l=e(l,y[D],D,h));return l}},arrayReduce$1={left:createMethod$5$1(!1),right:createMethod$5$1(!0)},fails$j$1=fails$r$1,arrayMethodIsStrict$5$1=function(r,t){var e=[][r];return!!e&&fails$j$1(function(){e.call(null,t||function(){return 1},1)})},classof$e=classofRaw$1$1,global$s$1=global$M$1,engineIsNode$1=classof$e(global$s$1.process)=="process",$$A$1=_export$1,$reduce$1=arrayReduce$1.left,arrayMethodIsStrict$4$1=arrayMethodIsStrict$5$1,CHROME_VERSION$1=engineV8Version$1,IS_NODE$1=engineIsNode$1,STRICT_METHOD$4$1=arrayMethodIsStrict$4$1("reduce"),CHROME_BUG$1=!IS_NODE$1&&CHROME_VERSION$1>79&&CHROME_VERSION$1<83;$$A$1({target:"Array",proto:!0,forced:!STRICT_METHOD$4$1||CHROME_BUG$1},{reduce:function r(t){var e=arguments.length;return $reduce$1(this,t,e,e>1?arguments[1]:void 0)}});var entryVirtual$i$1=entryVirtual$k,reduce$3$1=entryVirtual$i$1("Array").reduce,isPrototypeOf$g$1=objectIsPrototypeOf$1,method$d$1=reduce$3$1,ArrayPrototype$e$1=Array.prototype,reduce$2$1=function(r){var t=r.reduce;return r===ArrayPrototype$e$1||isPrototypeOf$g$1(ArrayPrototype$e$1,r)&&t===ArrayPrototype$e$1.reduce?method$d$1:t},parent$R$1=reduce$2$1,reduce$1$1=parent$R$1,reduce$4=reduce$1$1,classof$d$1=classofRaw$1$1,isArray$d$1=Array.isArray||function r(t){return classof$d$1(t)=="Array"},wellKnownSymbol$h$1=wellKnownSymbol$j$1,TO_STRING_TAG$3$1=wellKnownSymbol$h$1("toStringTag"),test$2$1={};test$2$1[TO_STRING_TAG$3$1]="z";var toStringTagSupport$1=String(test$2$1)==="[object z]",global$r$1=global$M$1,TO_STRING_TAG_SUPPORT$2$1=toStringTagSupport$1,isCallable$9$1=isCallable$h$1,classofRaw$2=classofRaw$1$1,wellKnownSymbol$g$1=wellKnownSymbol$j$1,TO_STRING_TAG$2$1=wellKnownSymbol$g$1("toStringTag"),Object$5$1=global$r$1.Object,CORRECT_ARGUMENTS$1=classofRaw$2(function(){return arguments}())=="Arguments",tryGet$1=function(r,t){try{return r[t]}catch{}},classof$c$1=TO_STRING_TAG_SUPPORT$2$1?classofRaw$2:function(r){var t,e,o;return r===void 0?"Undefined":r===null?"Null":typeof(e=tryGet$1(t=Object$5$1(r),TO_STRING_TAG$2$1))=="string"?e:CORRECT_ARGUMENTS$1?classofRaw$2(t):(o=classofRaw$2(t))=="Object"&&isCallable$9$1(t.callee)?"Arguments":o},uncurryThis$j$1=functionUncurryThis$1,isCallable$8$1=isCallable$h$1,store$1$1=sharedStore$1,functionToString$1=uncurryThis$j$1(Function.toString);isCallable$8$1(store$1$1.inspectSource)||(store$1$1.inspectSource=function(r){return functionToString$1(r)});var inspectSource$2$1=store$1$1.inspectSource,uncurryThis$i$1=functionUncurryThis$1,fails$i$1=fails$r$1,isCallable$7$1=isCallable$h$1,classof$b$1=classof$c$1,getBuiltIn$6$1=getBuiltIn$9$1,inspectSource$1$1=inspectSource$2$1,noop$3=function(){},empty$1=[],construct$3$1=getBuiltIn$6$1("Reflect","construct"),constructorRegExp$1=/^\s*(?:class|function)\b/,exec$2$1=uncurryThis$i$1(constructorRegExp$1.exec),INCORRECT_TO_STRING$1=!constructorRegExp$1.exec(noop$3),isConstructorModern$1=function r(t){if(!isCallable$7$1(t))return!1;try{return construct$3$1(noop$3,empty$1,t),!0}catch{return!1}},isConstructorLegacy$1=function r(t){if(!isCallable$7$1(t))return!1;switch(classof$b$1(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$1||!!exec$2$1(constructorRegExp$1,inspectSource$1$1(t))}catch{return!0}};isConstructorLegacy$1.sham=!0;var isConstructor$4$1=!construct$3$1||fails$i$1(function(){var r;return isConstructorModern$1(isConstructorModern$1.call)||!isConstructorModern$1(Object)||!isConstructorModern$1(function(){r=!0})||r})?isConstructorLegacy$1:isConstructorModern$1,global$q$1=global$M$1,isArray$c$1=isArray$d$1,isConstructor$3$1=isConstructor$4$1,isObject$9$1=isObject$f$1,wellKnownSymbol$f$1=wellKnownSymbol$j$1,SPECIES$3$1=wellKnownSymbol$f$1("species"),Array$5$1=global$q$1.Array,arraySpeciesConstructor$1$1=function(r){var t;return isArray$c$1(r)&&(t=r.constructor,isConstructor$3$1(t)&&(t===Array$5$1||isArray$c$1(t.prototype))?t=void 0:isObject$9$1(t)&&(t=t[SPECIES$3$1],t===null&&(t=void 0))),t===void 0?Array$5$1:t},arraySpeciesConstructor$2=arraySpeciesConstructor$1$1,arraySpeciesCreate$4=function(r,t){return new(arraySpeciesConstructor$2(r))(t===0?0:t)},bind$5$1=functionBindContext$1,uncurryThis$h$1=functionUncurryThis$1,IndexedObject$1$1=indexedObject$1,toObject$b$1=toObject$e,lengthOfArrayLike$b$1=lengthOfArrayLike$d,arraySpeciesCreate$3$1=arraySpeciesCreate$4,push$5$1=uncurryThis$h$1([].push),createMethod$4$1=function(r){var t=r==1,e=r==2,o=r==3,l=r==4,h=r==6,y=r==7,O=r==5||h;return function(D,R,F,j){for(var B=toObject$b$1(D),U=IndexedObject$1$1(B),W=bind$5$1(R,F),q=lengthOfArrayLike$b$1(U),K=0,Y=j||arraySpeciesCreate$3$1,X=t?Y(D,q):e||y?Y(D,0):void 0,J,Q;q>K;K++)if((O||K in U)&&(J=U[K],Q=W(J,K,B),r))if(t)X[K]=Q;else if(Q)switch(r){case 3:return!0;case 5:return J;case 6:return K;case 2:push$5$1(X,J)}else switch(r){case 4:return!1;case 7:push$5$1(X,J)}return h?-1:o||l?l:X}},arrayIteration$1={forEach:createMethod$4$1(0),map:createMethod$4$1(1),filter:createMethod$4$1(2),some:createMethod$4$1(3),every:createMethod$4$1(4),find:createMethod$4$1(5),findIndex:createMethod$4$1(6),filterReject:createMethod$4$1(7)},fails$h$1=fails$r$1,wellKnownSymbol$e$1=wellKnownSymbol$j$1,V8_VERSION$1$1=engineV8Version$1,SPECIES$2$1=wellKnownSymbol$e$1("species"),arrayMethodHasSpeciesSupport$5$1=function(r){return V8_VERSION$1$1>=51||!fails$h$1(function(){var t=[],e=t.constructor={};return e[SPECIES$2$1]=function(){return{foo:1}},t[r](Boolean).foo!==1})},$$z$1=_export$1,$filter$1=arrayIteration$1.filter,arrayMethodHasSpeciesSupport$4$1=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$3$1=arrayMethodHasSpeciesSupport$4$1("filter");$$z$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3$1},{filter:function r(t){return $filter$1(this,t,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$h$1=entryVirtual$k,filter$3$1=entryVirtual$h$1("Array").filter,isPrototypeOf$f$1=objectIsPrototypeOf$1,method$c$1=filter$3$1,ArrayPrototype$d$1=Array.prototype,filter$2$1=function(r){var t=r.filter;return r===ArrayPrototype$d$1||isPrototypeOf$f$1(ArrayPrototype$d$1,r)&&t===ArrayPrototype$d$1.filter?method$c$1:t},parent$Q$1=filter$2$1,filter$1$1=parent$Q$1,filter$4=filter$1$1,$$y$1=_export$1,$map$1=arrayIteration$1.map,arrayMethodHasSpeciesSupport$3$1=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$2$1=arrayMethodHasSpeciesSupport$3$1("map");$$y$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2$1},{map:function r(t){return $map$1(this,t,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$g$1=entryVirtual$k,map$6$1=entryVirtual$g$1("Array").map,isPrototypeOf$e$1=objectIsPrototypeOf$1,method$b$1=map$6$1,ArrayPrototype$c$1=Array.prototype,map$5$1=function(r){var t=r.map;return r===ArrayPrototype$c$1||isPrototypeOf$e$1(ArrayPrototype$c$1,r)&&t===ArrayPrototype$c$1.map?method$b$1:t},parent$P$1=map$5$1,map$4$1=parent$P$1,map$3$1=map$4$1,global$p$1=global$M$1,isArray$b$1=isArray$d$1,lengthOfArrayLike$a$1=lengthOfArrayLike$d,bind$4$1=functionBindContext$1,TypeError$c$1=global$p$1.TypeError,flattenIntoArray$1=function(r,t,e,o,l,h,y,O){for(var D=l,R=0,F=y?bind$4$1(y,O):!1,j,B;R<o;){if(R in e){if(j=F?F(e[R],R,t):e[R],h>0&&isArray$b$1(j))B=lengthOfArrayLike$a$1(j),D=flattenIntoArray$1(r,t,j,B,D,h-1)-1;else{if(D>=9007199254740991)throw TypeError$c$1("Exceed the acceptable array length");r[D]=j}D++}R++}return D},flattenIntoArray_1=flattenIntoArray$1,$$x$1=_export$1,flattenIntoArray=flattenIntoArray_1,aCallable$2$1=aCallable$7,toObject$a$1=toObject$e,lengthOfArrayLike$9$1=lengthOfArrayLike$d,arraySpeciesCreate$2$1=arraySpeciesCreate$4;$$x$1({target:"Array",proto:!0},{flatMap:function r(t){var e=toObject$a$1(this),o=lengthOfArrayLike$9$1(e),l;return aCallable$2$1(t),l=arraySpeciesCreate$2$1(e,0),l.length=flattenIntoArray(l,e,e,o,0,1,t,arguments.length>1?arguments[1]:void 0),l}});var entryVirtual$f$1=entryVirtual$k;entryVirtual$f$1("Array").flatMap;var global$o$1=global$M$1,classof$a$1=classof$c$1,String$2$1=global$o$1.String,toString$7$1=function(r){if(classof$a$1(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String$2$1(r)},uncurryThis$g$1=functionUncurryThis$1,toIntegerOrInfinity$2$1=toIntegerOrInfinity$4$1,toString$6$1=toString$7$1,requireObjectCoercible$2$1=requireObjectCoercible$5$1,charAt$2$1=uncurryThis$g$1("".charAt),charCodeAt$1$1=uncurryThis$g$1("".charCodeAt),stringSlice$2=uncurryThis$g$1("".slice),createMethod$3$1=function(r){return function(t,e){var o=toString$6$1(requireObjectCoercible$2$1(t)),l=toIntegerOrInfinity$2$1(e),h=o.length,y,O;return l<0||l>=h?r?"":void 0:(y=charCodeAt$1$1(o,l),y<55296||y>56319||l+1===h||(O=charCodeAt$1$1(o,l+1))<56320||O>57343?r?charAt$2$1(o,l):y:r?stringSlice$2(o,l,l+2):(y-55296<<10)+(O-56320)+65536)}},stringMultibyte$1={codeAt:createMethod$3$1(!1),charAt:createMethod$3$1(!0)},global$n$1=global$M$1,isCallable$6$1=isCallable$h$1,inspectSource$3=inspectSource$2$1,WeakMap$1$1=global$n$1.WeakMap,nativeWeakMap$1=isCallable$6$1(WeakMap$1$1)&&/native code/.test(inspectSource$3(WeakMap$1$1)),shared$2$1=shared$4$1.exports,uid$2$1=uid$4$1,keys$7=shared$2$1("keys"),sharedKey$4$1=function(r){return keys$7[r]||(keys$7[r]=uid$2$1(r))},hiddenKeys$6$1={},NATIVE_WEAK_MAP$2=nativeWeakMap$1,global$m$1=global$M$1,uncurryThis$f$1=functionUncurryThis$1,isObject$8$1=isObject$f$1,createNonEnumerableProperty$4$1=createNonEnumerableProperty$6$1,hasOwn$b$1=hasOwnProperty_1$1,shared$1$1=sharedStore$1,sharedKey$3$1=sharedKey$4$1,hiddenKeys$5$1=hiddenKeys$6$1,OBJECT_ALREADY_INITIALIZED$1="Object already initialized",TypeError$b$1=global$m$1.TypeError,WeakMap$3=global$m$1.WeakMap,set$3$1,get$8,has$1,enforce$1=function(r){return has$1(r)?get$8(r):set$3$1(r,{})},getterFor$1=function(r){return function(t){var e;if(!isObject$8$1(t)||(e=get$8(t)).type!==r)throw TypeError$b$1("Incompatible receiver, "+r+" required");return e}};if(NATIVE_WEAK_MAP$2||shared$1$1.state){var store$4=shared$1$1.state||(shared$1$1.state=new WeakMap$3),wmget$1=uncurryThis$f$1(store$4.get),wmhas$1=uncurryThis$f$1(store$4.has),wmset$1=uncurryThis$f$1(store$4.set);set$3$1=function(r,t){if(wmhas$1(store$4,r))throw new TypeError$b$1(OBJECT_ALREADY_INITIALIZED$1);return t.facade=r,wmset$1(store$4,r,t),t},get$8=function(r){return wmget$1(store$4,r)||{}},has$1=function(r){return wmhas$1(store$4,r)}}else{var STATE$1=sharedKey$3$1("state");hiddenKeys$5$1[STATE$1]=!0,set$3$1=function(r,t){if(hasOwn$b$1(r,STATE$1))throw new TypeError$b$1(OBJECT_ALREADY_INITIALIZED$1);return t.facade=r,createNonEnumerableProperty$4$1(r,STATE$1,t),t},get$8=function(r){return hasOwn$b$1(r,STATE$1)?r[STATE$1]:{}},has$1=function(r){return hasOwn$b$1(r,STATE$1)}}var internalState$1={set:set$3$1,get:get$8,has:has$1,enforce:enforce$1,getterFor:getterFor$1},DESCRIPTORS$b$1=descriptors$2,hasOwn$a$1=hasOwnProperty_1$1,FunctionPrototype$4=Function.prototype,getDescriptor$1=DESCRIPTORS$b$1&&Object.getOwnPropertyDescriptor,EXISTS$2=hasOwn$a$1(FunctionPrototype$4,"name"),PROPER$1=EXISTS$2&&function r(){}.name==="something",CONFIGURABLE$2=EXISTS$2&&(!DESCRIPTORS$b$1||DESCRIPTORS$b$1&&getDescriptor$1(FunctionPrototype$4,"name").configurable),functionName$1={EXISTS:EXISTS$2,PROPER:PROPER$1,CONFIGURABLE:CONFIGURABLE$2},objectDefineProperties$1={},toIntegerOrInfinity$1$1=toIntegerOrInfinity$4$1,max$3$1=Math.max,min$1$1=Math.min,toAbsoluteIndex$5$1=function(r,t){var e=toIntegerOrInfinity$1$1(r);return e<0?max$3$1(e+t,0):min$1$1(e,t)},toIndexedObject$9$1=toIndexedObject$b$1,toAbsoluteIndex$4$1=toAbsoluteIndex$5$1,lengthOfArrayLike$8$1=lengthOfArrayLike$d,createMethod$2$1=function(r){return function(t,e,o){var l=toIndexedObject$9$1(t),h=lengthOfArrayLike$8$1(l),y=toAbsoluteIndex$4$1(o,h),O;if(r&&e!=e){for(;h>y;)if(O=l[y++],O!=O)return!0}else for(;h>y;y++)if((r||y in l)&&l[y]===e)return r||y||0;return!r&&-1}},arrayIncludes$1={includes:createMethod$2$1(!0),indexOf:createMethod$2$1(!1)},uncurryThis$e$1=functionUncurryThis$1,hasOwn$9$1=hasOwnProperty_1$1,toIndexedObject$8$1=toIndexedObject$b$1,indexOf$5=arrayIncludes$1.indexOf,hiddenKeys$4$1=hiddenKeys$6$1,push$4$1=uncurryThis$e$1([].push),objectKeysInternal$1=function(r,t){var e=toIndexedObject$8$1(r),o=0,l=[],h;for(h in e)!hasOwn$9$1(hiddenKeys$4$1,h)&&hasOwn$9$1(e,h)&&push$4$1(l,h);for(;t.length>o;)hasOwn$9$1(e,h=t[o++])&&(~indexOf$5(l,h)||push$4$1(l,h));return l},enumBugKeys$3$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1$1=objectKeysInternal$1,enumBugKeys$2$1=enumBugKeys$3$1,objectKeys$4$1=Object.keys||function r(t){return internalObjectKeys$1$1(t,enumBugKeys$2$1)},DESCRIPTORS$a$1=descriptors$2,V8_PROTOTYPE_DEFINE_BUG$2=v8PrototypeDefineBug$1,definePropertyModule$3$1=objectDefineProperty$1,anObject$9$1=anObject$b$1,toIndexedObject$7$1=toIndexedObject$b$1,objectKeys$3$1=objectKeys$4$1;objectDefineProperties$1.f=DESCRIPTORS$a$1&&!V8_PROTOTYPE_DEFINE_BUG$2?Object.defineProperties:function r(t,e){anObject$9$1(t);for(var o=toIndexedObject$7$1(e),l=objectKeys$3$1(e),h=l.length,y=0,O;h>y;)definePropertyModule$3$1.f(t,O=l[y++],o[O]);return t};var getBuiltIn$5$1=getBuiltIn$9$1,html$1$1=getBuiltIn$5$1("document","documentElement"),anObject$8$1=anObject$b$1,definePropertiesModule$1$1=objectDefineProperties$1,enumBugKeys$1$1=enumBugKeys$3$1,hiddenKeys$3$1=hiddenKeys$6$1,html$2=html$1$1,documentCreateElement$2=documentCreateElement$1$1,sharedKey$2$1=sharedKey$4$1,GT$1=">",LT$1="<",PROTOTYPE$1$1="prototype",SCRIPT$1="script",IE_PROTO$1$1=sharedKey$2$1("IE_PROTO"),EmptyConstructor$1=function(){},scriptTag$1=function(r){return LT$1+SCRIPT$1+GT$1+r+LT$1+"/"+SCRIPT$1+GT$1},NullProtoObjectViaActiveX$1=function(r){r.write(scriptTag$1("")),r.close();var t=r.parentWindow.Object;return r=null,t},NullProtoObjectViaIFrame$1=function(){var r=documentCreateElement$2("iframe"),t="java"+SCRIPT$1+":",e;return r.style.display="none",html$2.appendChild(r),r.src=String(t),e=r.contentWindow.document,e.open(),e.write(scriptTag$1("document.F=Object")),e.close(),e.F},activeXDocument$1,NullProtoObject$1=function(){try{activeXDocument$1=new ActiveXObject("htmlfile")}catch{}NullProtoObject$1=typeof document!="undefined"?document.domain&&activeXDocument$1?NullProtoObjectViaActiveX$1(activeXDocument$1):NullProtoObjectViaIFrame$1():NullProtoObjectViaActiveX$1(activeXDocument$1);for(var r=enumBugKeys$1$1.length;r--;)delete NullProtoObject$1[PROTOTYPE$1$1][enumBugKeys$1$1[r]];return NullProtoObject$1()};hiddenKeys$3$1[IE_PROTO$1$1]=!0;var objectCreate$1=Object.create||function r(t,e){var o;return t!==null?(EmptyConstructor$1[PROTOTYPE$1$1]=anObject$8$1(t),o=new EmptyConstructor$1,EmptyConstructor$1[PROTOTYPE$1$1]=null,o[IE_PROTO$1$1]=t):o=NullProtoObject$1(),e===void 0?o:definePropertiesModule$1$1.f(o,e)},fails$g$1=fails$r$1,correctPrototypeGetter$1=!fails$g$1(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),global$l$1=global$M$1,hasOwn$8$1=hasOwnProperty_1$1,isCallable$5$1=isCallable$h$1,toObject$9$1=toObject$e,sharedKey$1$1=sharedKey$4$1,CORRECT_PROTOTYPE_GETTER$1$1=correctPrototypeGetter$1,IE_PROTO$2=sharedKey$1$1("IE_PROTO"),Object$4$1=global$l$1.Object,ObjectPrototype$2$1=Object$4$1.prototype,objectGetPrototypeOf$1=CORRECT_PROTOTYPE_GETTER$1$1?Object$4$1.getPrototypeOf:function(r){var t=toObject$9$1(r);if(hasOwn$8$1(t,IE_PROTO$2))return t[IE_PROTO$2];var e=t.constructor;return isCallable$5$1(e)&&t instanceof e?e.prototype:t instanceof Object$4$1?ObjectPrototype$2$1:null},createNonEnumerableProperty$3$1=createNonEnumerableProperty$6$1,redefine$4$1=function(r,t,e,o){o&&o.enumerable?r[t]=e:createNonEnumerableProperty$3$1(r,t,e)},fails$f$1=fails$r$1,isCallable$4$1=isCallable$h$1,create$a$1=objectCreate$1,getPrototypeOf$6$1=objectGetPrototypeOf$1,redefine$3$1=redefine$4$1,wellKnownSymbol$d$1=wellKnownSymbol$j$1,ITERATOR$5$1=wellKnownSymbol$d$1("iterator"),BUGGY_SAFARI_ITERATORS$1$1=!1,IteratorPrototype$1$1,PrototypeOfArrayIteratorPrototype$1,arrayIterator$1;[].keys&&(arrayIterator$1=[].keys(),"next"in arrayIterator$1?(PrototypeOfArrayIteratorPrototype$1=getPrototypeOf$6$1(getPrototypeOf$6$1(arrayIterator$1)),PrototypeOfArrayIteratorPrototype$1!==Object.prototype&&(IteratorPrototype$1$1=PrototypeOfArrayIteratorPrototype$1)):BUGGY_SAFARI_ITERATORS$1$1=!0);var NEW_ITERATOR_PROTOTYPE$1=IteratorPrototype$1$1==null||fails$f$1(function(){var r={};return IteratorPrototype$1$1[ITERATOR$5$1].call(r)!==r});NEW_ITERATOR_PROTOTYPE$1?IteratorPrototype$1$1={}:IteratorPrototype$1$1=create$a$1(IteratorPrototype$1$1);isCallable$4$1(IteratorPrototype$1$1[ITERATOR$5$1])||redefine$3$1(IteratorPrototype$1$1,ITERATOR$5$1,function(){return this});var iteratorsCore$1={IteratorPrototype:IteratorPrototype$1$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$1},TO_STRING_TAG_SUPPORT$1$1=toStringTagSupport$1,classof$9$1=classof$c$1,objectToString$1=TO_STRING_TAG_SUPPORT$1$1?{}.toString:function r(){return"[object "+classof$9$1(this)+"]"},TO_STRING_TAG_SUPPORT$3=toStringTagSupport$1,defineProperty$6$1=objectDefineProperty$1.f,createNonEnumerableProperty$2$1=createNonEnumerableProperty$6$1,hasOwn$7$1=hasOwnProperty_1$1,toString$5$1=objectToString$1,wellKnownSymbol$c$1=wellKnownSymbol$j$1,TO_STRING_TAG$1$1=wellKnownSymbol$c$1("toStringTag"),setToStringTag$5$1=function(r,t,e,o){if(r){var l=e?r:r.prototype;hasOwn$7$1(l,TO_STRING_TAG$1$1)||defineProperty$6$1(l,TO_STRING_TAG$1$1,{configurable:!0,value:t}),o&&!TO_STRING_TAG_SUPPORT$3&&createNonEnumerableProperty$2$1(l,"toString",toString$5$1)}},iterators$1={},IteratorPrototype$2=iteratorsCore$1.IteratorPrototype,create$9$1=objectCreate$1,createPropertyDescriptor$2$1=createPropertyDescriptor$5$1,setToStringTag$4$1=setToStringTag$5$1,Iterators$5$1=iterators$1,returnThis$1$1=function(){return this},createIteratorConstructor$1$1=function(r,t,e,o){var l=t+" Iterator";return r.prototype=create$9$1(IteratorPrototype$2,{next:createPropertyDescriptor$2$1(+!o,e)}),setToStringTag$4$1(r,l,!1,!0),Iterators$5$1[l]=returnThis$1$1,r},global$k$1=global$M$1,isCallable$3$1=isCallable$h$1,String$1$1=global$k$1.String,TypeError$a$1=global$k$1.TypeError,aPossiblePrototype$1$1=function(r){if(typeof r=="object"||isCallable$3$1(r))return r;throw TypeError$a$1("Can't set "+String$1$1(r)+" as a prototype")},uncurryThis$d$1=functionUncurryThis$1,anObject$7$1=anObject$b$1,aPossiblePrototype$2=aPossiblePrototype$1$1,objectSetPrototypeOf$1=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,t={},e;try{e=uncurryThis$d$1(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(t,[]),r=t instanceof Array}catch{}return function(l,h){return anObject$7$1(l),aPossiblePrototype$2(h),r?e(l,h):l.__proto__=h,l}}():void 0),$$w$1=_export$1,call$6$1=functionCall$1,FunctionName$1=functionName$1,createIteratorConstructor$2=createIteratorConstructor$1$1,getPrototypeOf$5$1=objectGetPrototypeOf$1,setToStringTag$3$1=setToStringTag$5$1,redefine$2$1=redefine$4$1,wellKnownSymbol$b$1=wellKnownSymbol$j$1,Iterators$4$1=iterators$1,IteratorsCore$1=iteratorsCore$1,PROPER_FUNCTION_NAME$1$1=FunctionName$1.PROPER,BUGGY_SAFARI_ITERATORS$2=IteratorsCore$1.BUGGY_SAFARI_ITERATORS,ITERATOR$4$1=wellKnownSymbol$b$1("iterator"),KEYS$1="keys",VALUES$1="values",ENTRIES$1="entries",returnThis$2=function(){return this},defineIterator$3$1=function(r,t,e,o,l,h,y){createIteratorConstructor$2(e,t,o);var O=function(Y){if(Y===l&&B)return B;if(!BUGGY_SAFARI_ITERATORS$2&&Y in F)return F[Y];switch(Y){case KEYS$1:return function(){return new e(this,Y)};case VALUES$1:return function(){return new e(this,Y)};case ENTRIES$1:return function(){return new e(this,Y)}}return function(){return new e(this)}},D=t+" Iterator",R=!1,F=r.prototype,j=F[ITERATOR$4$1]||F["@@iterator"]||l&&F[l],B=!BUGGY_SAFARI_ITERATORS$2&&j||O(l),U=t=="Array"&&F.entries||j,W,q,K;if(U&&(W=getPrototypeOf$5$1(U.call(new r)),W!==Object.prototype&&W.next&&(setToStringTag$3$1(W,D,!0,!0),Iterators$4$1[D]=returnThis$2)),PROPER_FUNCTION_NAME$1$1&&l==VALUES$1&&j&&j.name!==VALUES$1&&(R=!0,B=function(){return call$6$1(j,this)}),l)if(q={values:O(VALUES$1),keys:h?B:O(KEYS$1),entries:O(ENTRIES$1)},y)for(K in q)(BUGGY_SAFARI_ITERATORS$2||R||!(K in F))&&redefine$2$1(F,K,q[K]);else $$w$1({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS$2||R},q);return y&&F[ITERATOR$4$1]!==B&&redefine$2$1(F,ITERATOR$4$1,B,{name:l}),Iterators$4$1[t]=B,q},charAt$1$1=stringMultibyte$1.charAt,toString$4$1=toString$7$1,InternalStateModule$4$1=internalState$1,defineIterator$2$1=defineIterator$3$1,STRING_ITERATOR$1="String Iterator",setInternalState$4$1=InternalStateModule$4$1.set,getInternalState$2$1=InternalStateModule$4$1.getterFor(STRING_ITERATOR$1);defineIterator$2$1(String,"String",function(r){setInternalState$4$1(this,{type:STRING_ITERATOR$1,string:toString$4$1(r),index:0})},function r(){var t=getInternalState$2$1(this),e=t.string,o=t.index,l;return o>=e.length?{value:void 0,done:!0}:(l=charAt$1$1(e,o),t.index+=l.length,{value:l,done:!1})});var call$5$1=functionCall$1,anObject$6$1=anObject$b$1,getMethod$1$1=getMethod$3$1,iteratorClose$2$1=function(r,t,e){var o,l;anObject$6$1(r);try{if(o=getMethod$1$1(r,"return"),!o){if(t==="throw")throw e;return e}o=call$5$1(o,r)}catch(h){l=!0,o=h}if(t==="throw")throw e;if(l)throw o;return anObject$6$1(o),e},anObject$5$1=anObject$b$1,iteratorClose$1$1=iteratorClose$2$1,callWithSafeIterationClosing$1$1=function(r,t,e,o){try{return o?t(anObject$5$1(e)[0],e[1]):t(e)}catch(l){iteratorClose$1$1(r,"throw",l)}},wellKnownSymbol$a$1=wellKnownSymbol$j$1,Iterators$3$1=iterators$1,ITERATOR$3$1=wellKnownSymbol$a$1("iterator"),ArrayPrototype$a$1=Array.prototype,isArrayIteratorMethod$2$1=function(r){return r!==void 0&&(Iterators$3$1.Array===r||ArrayPrototype$a$1[ITERATOR$3$1]===r)},toPropertyKey$1$1=toPropertyKey$4$1,definePropertyModule$2$1=objectDefineProperty$1,createPropertyDescriptor$1$1=createPropertyDescriptor$5$1,createProperty$6$1=function(r,t,e){var o=toPropertyKey$1$1(t);o in r?definePropertyModule$2$1.f(r,o,createPropertyDescriptor$1$1(0,e)):r[o]=e},classof$8$1=classof$c$1,getMethod$4=getMethod$3$1,Iterators$2$1=iterators$1,wellKnownSymbol$9$1=wellKnownSymbol$j$1,ITERATOR$2$1=wellKnownSymbol$9$1("iterator"),getIteratorMethod$8$1=function(r){if(r!=null)return getMethod$4(r,ITERATOR$2$1)||getMethod$4(r,"@@iterator")||Iterators$2$1[classof$8$1(r)]},global$j$1=global$M$1,call$4$1=functionCall$1,aCallable$1$1=aCallable$7,anObject$4$1=anObject$b$1,tryToString$2$1=tryToString$4$1,getIteratorMethod$7$1=getIteratorMethod$8$1,TypeError$9$1=global$j$1.TypeError,getIterator$7=function(r,t){var e=arguments.length<2?getIteratorMethod$7$1(r):t;if(aCallable$1$1(e))return anObject$4$1(call$4$1(e,r));throw TypeError$9$1(tryToString$2$1(r)+" is not iterable")},global$i$1=global$M$1,bind$3$1=functionBindContext$1,call$3$1=functionCall$1,toObject$8$1=toObject$e,callWithSafeIterationClosing$2=callWithSafeIterationClosing$1$1,isArrayIteratorMethod$1$1=isArrayIteratorMethod$2$1,isConstructor$2$1=isConstructor$4$1,lengthOfArrayLike$7$1=lengthOfArrayLike$d,createProperty$5$1=createProperty$6$1,getIterator$6=getIterator$7,getIteratorMethod$6$1=getIteratorMethod$8$1,Array$4$1=global$i$1.Array,arrayFrom$1=function r(t){var e=toObject$8$1(t),o=isConstructor$2$1(this),l=arguments.length,h=l>1?arguments[1]:void 0,y=h!==void 0;y&&(h=bind$3$1(h,l>2?arguments[2]:void 0));var O=getIteratorMethod$6$1(e),D=0,R,F,j,B,U,W;if(O&&!(this==Array$4$1&&isArrayIteratorMethod$1$1(O)))for(B=getIterator$6(e,O),U=B.next,F=o?new this:[];!(j=call$3$1(U,B)).done;D++)W=y?callWithSafeIterationClosing$2(B,h,[j.value,D],!0):j.value,createProperty$5$1(F,D,W);else for(R=lengthOfArrayLike$7$1(e),F=o?new this(R):Array$4$1(R);R>D;D++)W=y?h(e[D],D):e[D],createProperty$5$1(F,D,W);return F.length=D,F},wellKnownSymbol$8$1=wellKnownSymbol$j$1,ITERATOR$1$1=wellKnownSymbol$8$1("iterator"),SAFE_CLOSING$1=!1;try{var called$1=0,iteratorWithReturn$1={next:function(){return{done:!!called$1++}},return:function(){SAFE_CLOSING$1=!0}};iteratorWithReturn$1[ITERATOR$1$1]=function(){return this},Array.from(iteratorWithReturn$1,function(){throw 2})}catch(r){}var checkCorrectnessOfIteration$1$1=function(r,t){if(!t&&!SAFE_CLOSING$1)return!1;var e=!1;try{var o={};o[ITERATOR$1$1]=function(){return{next:function(){return{done:e=!0}}}},r(o)}catch{}return e},$$v$1=_export$1,from$6$1=arrayFrom$1,checkCorrectnessOfIteration$2=checkCorrectnessOfIteration$1$1,INCORRECT_ITERATION$1=!checkCorrectnessOfIteration$2(function(r){Array.from(r)});$$v$1({target:"Array",stat:!0,forced:INCORRECT_ITERATION$1},{from:from$6$1});var path$l$1=path$q$1,from$5$1=path$l$1.Array.from,parent$N$1=from$5$1,from$4$1=parent$N$1,from$3$1=from$4$1,toIndexedObject$6$1=toIndexedObject$b$1,Iterators$1$1=iterators$1,InternalStateModule$3$1=internalState$1;objectDefineProperty$1.f;var defineIterator$1$1=defineIterator$3$1,ARRAY_ITERATOR$1="Array Iterator",setInternalState$3$1=InternalStateModule$3$1.set,getInternalState$1$1=InternalStateModule$3$1.getterFor(ARRAY_ITERATOR$1);defineIterator$1$1(Array,"Array",function(r,t){setInternalState$3$1(this,{type:ARRAY_ITERATOR$1,target:toIndexedObject$6$1(r),index:0,kind:t})},function(){var r=getInternalState$1$1(this),t=r.target,e=r.kind,o=r.index++;return!t||o>=t.length?(r.target=void 0,{value:void 0,done:!0}):e=="keys"?{value:o,done:!1}:e=="values"?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}},"values");Iterators$1$1.Arguments=Iterators$1$1.Array;var getIteratorMethod$5$1=getIteratorMethod$8$1,getIteratorMethod_1$1=getIteratorMethod$5$1,domIterables$1={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DOMIterables$4=domIterables$1,global$h$1=global$M$1,classof$7$1=classof$c$1,createNonEnumerableProperty$1$1=createNonEnumerableProperty$6$1,Iterators$6=iterators$1,wellKnownSymbol$7$1=wellKnownSymbol$j$1,TO_STRING_TAG$4=wellKnownSymbol$7$1("toStringTag");for(var COLLECTION_NAME$1 in DOMIterables$4){var Collection$1=global$h$1[COLLECTION_NAME$1],CollectionPrototype$1=Collection$1&&Collection$1.prototype;CollectionPrototype$1&&classof$7$1(CollectionPrototype$1)!==TO_STRING_TAG$4&&createNonEnumerableProperty$1$1(CollectionPrototype$1,TO_STRING_TAG$4,COLLECTION_NAME$1),Iterators$6[COLLECTION_NAME$1]=Iterators$6.Array}var parent$M$1=getIteratorMethod_1$1,getIteratorMethod$4$1=parent$M$1,parent$L$1=getIteratorMethod$4$1,getIteratorMethod$3$1=parent$L$1,parent$K$1=getIteratorMethod$3$1,getIteratorMethod$2$1=parent$K$1,getIteratorMethod$1$1=getIteratorMethod$2$1,objectGetOwnPropertyNames$1={},internalObjectKeys$2=objectKeysInternal$1,enumBugKeys$4=enumBugKeys$3$1,hiddenKeys$2$1=enumBugKeys$4.concat("length","prototype");objectGetOwnPropertyNames$1.f=Object.getOwnPropertyNames||function r(t){return internalObjectKeys$2(t,hiddenKeys$2$1)};var objectGetOwnPropertyNamesExternal$1={},global$g$1=global$M$1,toAbsoluteIndex$3$1=toAbsoluteIndex$5$1,lengthOfArrayLike$6$1=lengthOfArrayLike$d,createProperty$4$1=createProperty$6$1,Array$3$1=global$g$1.Array,max$2$1=Math.max,arraySliceSimple$1=function(r,t,e){for(var o=lengthOfArrayLike$6$1(r),l=toAbsoluteIndex$3$1(t,o),h=toAbsoluteIndex$3$1(e===void 0?o:e,o),y=Array$3$1(max$2$1(h-l,0)),O=0;l<h;l++,O++)createProperty$4$1(y,O,r[l]);return y.length=O,y},classof$6$1=classofRaw$1$1,toIndexedObject$5$1=toIndexedObject$b$1,$getOwnPropertyNames$1$1=objectGetOwnPropertyNames$1.f,arraySlice$3$1=arraySliceSimple$1,windowNames$1=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames$1=function(r){try{return $getOwnPropertyNames$1$1(r)}catch{return arraySlice$3$1(windowNames$1)}};objectGetOwnPropertyNamesExternal$1.f=function r(t){return windowNames$1&&classof$6$1(t)=="Window"?getWindowNames$1(t):$getOwnPropertyNames$1$1(toIndexedObject$5$1(t))};var objectGetOwnPropertySymbols$1={};objectGetOwnPropertySymbols$1.f=Object.getOwnPropertySymbols;var wellKnownSymbolWrapped$1={},wellKnownSymbol$6$1=wellKnownSymbol$j$1;wellKnownSymbolWrapped$1.f=wellKnownSymbol$6$1;var path$k$1=path$q$1,hasOwn$6$1=hasOwnProperty_1$1,wrappedWellKnownSymbolModule$1$1=wellKnownSymbolWrapped$1,defineProperty$5$1=objectDefineProperty$1.f,defineWellKnownSymbol$l$1=function(r){var t=path$k$1.Symbol||(path$k$1.Symbol={});hasOwn$6$1(t,r)||defineProperty$5$1(t,r,{value:wrappedWellKnownSymbolModule$1$1.f(r)})},$$u$1=_export$1,global$f$1=global$M$1,getBuiltIn$4$1=getBuiltIn$9$1,apply$4$1=functionApply$1,call$2$1=functionCall$1,uncurryThis$c$1=functionUncurryThis$1,DESCRIPTORS$9$1=descriptors$2,NATIVE_SYMBOL$3=nativeSymbol$1,fails$e$1=fails$r$1,hasOwn$5$1=hasOwnProperty_1$1,isArray$a$1=isArray$d$1,isCallable$2$1=isCallable$h$1,isObject$7$1=isObject$f$1,isPrototypeOf$c$1=objectIsPrototypeOf$1,isSymbol$4=isSymbol$3$1,anObject$3$1=anObject$b$1,toObject$7$1=toObject$e,toIndexedObject$4$1=toIndexedObject$b$1,toPropertyKey$5=toPropertyKey$4$1,$toString$1=toString$7$1,createPropertyDescriptor$6=createPropertyDescriptor$5$1,nativeObjectCreate$1=objectCreate$1,objectKeys$2$1=objectKeys$4$1,getOwnPropertyNamesModule$2$1=objectGetOwnPropertyNames$1,getOwnPropertyNamesExternal$1=objectGetOwnPropertyNamesExternal$1,getOwnPropertySymbolsModule$2$1=objectGetOwnPropertySymbols$1,getOwnPropertyDescriptorModule$1$1=objectGetOwnPropertyDescriptor$1,definePropertyModule$1$1=objectDefineProperty$1,definePropertiesModule$2=objectDefineProperties$1,propertyIsEnumerableModule$1$1=objectPropertyIsEnumerable$1,arraySlice$2$1=arraySlice$5$1,redefine$1$1=redefine$4$1,shared$5=shared$4$1.exports,sharedKey$5=sharedKey$4$1,hiddenKeys$1$1=hiddenKeys$6$1,uid$1$1=uid$4$1,wellKnownSymbol$5$1=wellKnownSymbol$j$1,wrappedWellKnownSymbolModule$2=wellKnownSymbolWrapped$1,defineWellKnownSymbol$k$1=defineWellKnownSymbol$l$1,setToStringTag$2$1=setToStringTag$5$1,InternalStateModule$2$1=internalState$1,$forEach$1$1=arrayIteration$1.forEach,HIDDEN$1=sharedKey$5("hidden"),SYMBOL$1="Symbol",PROTOTYPE$2="prototype",TO_PRIMITIVE$2=wellKnownSymbol$5$1("toPrimitive"),setInternalState$2$1=InternalStateModule$2$1.set,getInternalState$3=InternalStateModule$2$1.getterFor(SYMBOL$1),ObjectPrototype$1$1=Object[PROTOTYPE$2],$Symbol$1=global$f$1.Symbol,SymbolPrototype$1=$Symbol$1&&$Symbol$1[PROTOTYPE$2],TypeError$8$1=global$f$1.TypeError,QObject$1=global$f$1.QObject,$stringify$1$1=getBuiltIn$4$1("JSON","stringify"),nativeGetOwnPropertyDescriptor$1$1=getOwnPropertyDescriptorModule$1$1.f,nativeDefineProperty$1=definePropertyModule$1$1.f,nativeGetOwnPropertyNames$1=getOwnPropertyNamesExternal$1.f,nativePropertyIsEnumerable$1=propertyIsEnumerableModule$1$1.f,push$3$1=uncurryThis$c$1([].push),AllSymbols$1=shared$5("symbols"),ObjectPrototypeSymbols$1=shared$5("op-symbols"),StringToSymbolRegistry$1=shared$5("string-to-symbol-registry"),SymbolToStringRegistry$1=shared$5("symbol-to-string-registry"),WellKnownSymbolsStore$2=shared$5("wks"),USE_SETTER$1=!QObject$1||!QObject$1[PROTOTYPE$2]||!QObject$1[PROTOTYPE$2].findChild,setSymbolDescriptor$1=DESCRIPTORS$9$1&&fails$e$1(function(){return nativeObjectCreate$1(nativeDefineProperty$1({},"a",{get:function(){return nativeDefineProperty$1(this,"a",{value:7}).a}})).a!=7})?function(r,t,e){var o=nativeGetOwnPropertyDescriptor$1$1(ObjectPrototype$1$1,t);o&&delete ObjectPrototype$1$1[t],nativeDefineProperty$1(r,t,e),o&&r!==ObjectPrototype$1$1&&nativeDefineProperty$1(ObjectPrototype$1$1,t,o)}:nativeDefineProperty$1,wrap$1$1=function(r,t){var e=AllSymbols$1[r]=nativeObjectCreate$1(SymbolPrototype$1);return setInternalState$2$1(e,{type:SYMBOL$1,tag:r,description:t}),DESCRIPTORS$9$1||(e.description=t),e},$defineProperty$2=function r(t,e,o){t===ObjectPrototype$1$1&&$defineProperty$2(ObjectPrototypeSymbols$1,e,o),anObject$3$1(t);var l=toPropertyKey$5(e);return anObject$3$1(o),hasOwn$5$1(AllSymbols$1,l)?(o.enumerable?(hasOwn$5$1(t,HIDDEN$1)&&t[HIDDEN$1][l]&&(t[HIDDEN$1][l]=!1),o=nativeObjectCreate$1(o,{enumerable:createPropertyDescriptor$6(0,!1)})):(hasOwn$5$1(t,HIDDEN$1)||nativeDefineProperty$1(t,HIDDEN$1,createPropertyDescriptor$6(1,{})),t[HIDDEN$1][l]=!0),setSymbolDescriptor$1(t,l,o)):nativeDefineProperty$1(t,l,o)},$defineProperties$1=function r(t,e){anObject$3$1(t);var o=toIndexedObject$4$1(e),l=objectKeys$2$1(o).concat($getOwnPropertySymbols$1(o));return $forEach$1$1(l,function(h){(!DESCRIPTORS$9$1||call$2$1($propertyIsEnumerable$1$1,o,h))&&$defineProperty$2(t,h,o[h])}),t},$create$1=function r(t,e){return e===void 0?nativeObjectCreate$1(t):$defineProperties$1(nativeObjectCreate$1(t),e)},$propertyIsEnumerable$1$1=function r(t){var e=toPropertyKey$5(t),o=call$2$1(nativePropertyIsEnumerable$1,this,e);return this===ObjectPrototype$1$1&&hasOwn$5$1(AllSymbols$1,e)&&!hasOwn$5$1(ObjectPrototypeSymbols$1,e)?!1:o||!hasOwn$5$1(this,e)||!hasOwn$5$1(AllSymbols$1,e)||hasOwn$5$1(this,HIDDEN$1)&&this[HIDDEN$1][e]?o:!0},$getOwnPropertyDescriptor$3=function r(t,e){var o=toIndexedObject$4$1(t),l=toPropertyKey$5(e);if(!(o===ObjectPrototype$1$1&&hasOwn$5$1(AllSymbols$1,l)&&!hasOwn$5$1(ObjectPrototypeSymbols$1,l))){var h=nativeGetOwnPropertyDescriptor$1$1(o,l);return h&&hasOwn$5$1(AllSymbols$1,l)&&!(hasOwn$5$1(o,HIDDEN$1)&&o[HIDDEN$1][l])&&(h.enumerable=!0),h}},$getOwnPropertyNames$2=function r(t){var e=nativeGetOwnPropertyNames$1(toIndexedObject$4$1(t)),o=[];return $forEach$1$1(e,function(l){!hasOwn$5$1(AllSymbols$1,l)&&!hasOwn$5$1(hiddenKeys$1$1,l)&&push$3$1(o,l)}),o},$getOwnPropertySymbols$1=function r(t){var e=t===ObjectPrototype$1$1,o=nativeGetOwnPropertyNames$1(e?ObjectPrototypeSymbols$1:toIndexedObject$4$1(t)),l=[];return $forEach$1$1(o,function(h){hasOwn$5$1(AllSymbols$1,h)&&(!e||hasOwn$5$1(ObjectPrototype$1$1,h))&&push$3$1(l,AllSymbols$1[h])}),l};NATIVE_SYMBOL$3||($Symbol$1=function(){if(isPrototypeOf$c$1(SymbolPrototype$1,this))throw TypeError$8$1("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:$toString$1(arguments[0]),e=uid$1$1(t),o=function(l){this===ObjectPrototype$1$1&&call$2$1(o,ObjectPrototypeSymbols$1,l),hasOwn$5$1(this,HIDDEN$1)&&hasOwn$5$1(this[HIDDEN$1],e)&&(this[HIDDEN$1][e]=!1),setSymbolDescriptor$1(this,e,createPropertyDescriptor$6(1,l))};return DESCRIPTORS$9$1&&USE_SETTER$1&&setSymbolDescriptor$1(ObjectPrototype$1$1,e,{configurable:!0,set:o}),wrap$1$1(e,t)},SymbolPrototype$1=$Symbol$1[PROTOTYPE$2],redefine$1$1(SymbolPrototype$1,"toString",function(){return getInternalState$3(this).tag}),redefine$1$1($Symbol$1,"withoutSetter",function(r){return wrap$1$1(uid$1$1(r),r)}),propertyIsEnumerableModule$1$1.f=$propertyIsEnumerable$1$1,definePropertyModule$1$1.f=$defineProperty$2,definePropertiesModule$2.f=$defineProperties$1,getOwnPropertyDescriptorModule$1$1.f=$getOwnPropertyDescriptor$3,getOwnPropertyNamesModule$2$1.f=getOwnPropertyNamesExternal$1.f=$getOwnPropertyNames$2,getOwnPropertySymbolsModule$2$1.f=$getOwnPropertySymbols$1,wrappedWellKnownSymbolModule$2.f=function(r){return wrap$1$1(wellKnownSymbol$5$1(r),r)},DESCRIPTORS$9$1&&nativeDefineProperty$1(SymbolPrototype$1,"description",{configurable:!0,get:function(){return getInternalState$3(this).description}}));$$u$1({global:!0,wrap:!0,forced:!NATIVE_SYMBOL$3,sham:!NATIVE_SYMBOL$3},{Symbol:$Symbol$1});$forEach$1$1(objectKeys$2$1(WellKnownSymbolsStore$2),function(r){defineWellKnownSymbol$k$1(r)});$$u$1({target:SYMBOL$1,stat:!0,forced:!NATIVE_SYMBOL$3},{for:function(r){var t=$toString$1(r);if(hasOwn$5$1(StringToSymbolRegistry$1,t))return StringToSymbolRegistry$1[t];var e=$Symbol$1(t);return StringToSymbolRegistry$1[t]=e,SymbolToStringRegistry$1[e]=t,e},keyFor:function r(t){if(!isSymbol$4(t))throw TypeError$8$1(t+" is not a symbol");if(hasOwn$5$1(SymbolToStringRegistry$1,t))return SymbolToStringRegistry$1[t]},useSetter:function(){USE_SETTER$1=!0},useSimple:function(){USE_SETTER$1=!1}});$$u$1({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3,sham:!DESCRIPTORS$9$1},{create:$create$1,defineProperty:$defineProperty$2,defineProperties:$defineProperties$1,getOwnPropertyDescriptor:$getOwnPropertyDescriptor$3});$$u$1({target:"Object",stat:!0,forced:!NATIVE_SYMBOL$3},{getOwnPropertyNames:$getOwnPropertyNames$2,getOwnPropertySymbols:$getOwnPropertySymbols$1});$$u$1({target:"Object",stat:!0,forced:fails$e$1(function(){getOwnPropertySymbolsModule$2$1.f(1)})},{getOwnPropertySymbols:function r(t){return getOwnPropertySymbolsModule$2$1.f(toObject$7$1(t))}});if($stringify$1$1){var FORCED_JSON_STRINGIFY$1=!NATIVE_SYMBOL$3||fails$e$1(function(){var r=$Symbol$1();return $stringify$1$1([r])!="[null]"||$stringify$1$1({a:r})!="{}"||$stringify$1$1(Object(r))!="{}"});$$u$1({target:"JSON",stat:!0,forced:FORCED_JSON_STRINGIFY$1},{stringify:function(t,e,o){var l=arraySlice$2$1(arguments),h=e;if(!(!isObject$7$1(e)&&t===void 0||isSymbol$4(t)))return isArray$a$1(e)||(e=function(y,O){if(isCallable$2$1(h)&&(O=call$2$1(h,this,y,O)),!isSymbol$4(O))return O}),l[1]=e,apply$4$1($stringify$1$1,null,l)}})}if(!SymbolPrototype$1[TO_PRIMITIVE$2]){var valueOf$1=SymbolPrototype$1.valueOf;redefine$1$1(SymbolPrototype$1,TO_PRIMITIVE$2,function(r){return call$2$1(valueOf$1,this)})}setToStringTag$2$1($Symbol$1,SYMBOL$1);hiddenKeys$1$1[HIDDEN$1]=!0;var path$j$1=path$q$1,getOwnPropertySymbols$2$1=path$j$1.Object.getOwnPropertySymbols,parent$J$1=getOwnPropertySymbols$2$1,getOwnPropertySymbols$1$1=parent$J$1,getOwnPropertySymbols$3=getOwnPropertySymbols$1$1,getOwnPropertyDescriptor$3$1={exports:{}},$$t$1=_export$1,fails$d$1=fails$r$1,toIndexedObject$3$1=toIndexedObject$b$1,nativeGetOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor$1.f,DESCRIPTORS$8$1=descriptors$2,FAILS_ON_PRIMITIVES$3$1=fails$d$1(function(){nativeGetOwnPropertyDescriptor$2(1)}),FORCED$5$1=!DESCRIPTORS$8$1||FAILS_ON_PRIMITIVES$3$1;$$t$1({target:"Object",stat:!0,forced:FORCED$5$1,sham:!DESCRIPTORS$8$1},{getOwnPropertyDescriptor:function r(t,e){return nativeGetOwnPropertyDescriptor$2(toIndexedObject$3$1(t),e)}});var path$i$1=path$q$1,Object$3$1=path$i$1.Object,getOwnPropertyDescriptor$2$1=getOwnPropertyDescriptor$3$1.exports=function r(t,e){return Object$3$1.getOwnPropertyDescriptor(t,e)};Object$3$1.getOwnPropertyDescriptor.sham&&(getOwnPropertyDescriptor$2$1.sham=!0);var parent$I$1=getOwnPropertyDescriptor$3$1.exports,getOwnPropertyDescriptor$1$1=parent$I$1,getOwnPropertyDescriptor$9=getOwnPropertyDescriptor$1$1,getBuiltIn$3$1=getBuiltIn$9$1,uncurryThis$b$1=functionUncurryThis$1,getOwnPropertyNamesModule$1$1=objectGetOwnPropertyNames$1,getOwnPropertySymbolsModule$1$1=objectGetOwnPropertySymbols$1,anObject$2$1=anObject$b$1,concat$5$1=uncurryThis$b$1([].concat),ownKeys$6$1=getBuiltIn$3$1("Reflect","ownKeys")||function r(t){var e=getOwnPropertyNamesModule$1$1.f(anObject$2$1(t)),o=getOwnPropertySymbolsModule$1$1.f;return o?concat$5$1(e,o(t)):e},$$s$1=_export$1,DESCRIPTORS$7$1=descriptors$2,ownKeys$5$1=ownKeys$6$1,toIndexedObject$2$1=toIndexedObject$b$1,getOwnPropertyDescriptorModule$3=objectGetOwnPropertyDescriptor$1,createProperty$3$1=createProperty$6$1;$$s$1({target:"Object",stat:!0,sham:!DESCRIPTORS$7$1},{getOwnPropertyDescriptors:function r(t){for(var e=toIndexedObject$2$1(t),o=getOwnPropertyDescriptorModule$3.f,l=ownKeys$5$1(e),h={},y=0,O,D;l.length>y;)D=o(e,O=l[y++]),D!==void 0&&createProperty$3$1(h,O,D);return h}});var path$h$1=path$q$1,getOwnPropertyDescriptors$2$1=path$h$1.Object.getOwnPropertyDescriptors,parent$H$1=getOwnPropertyDescriptors$2$1,getOwnPropertyDescriptors$1$1=parent$H$1,getOwnPropertyDescriptors$3=getOwnPropertyDescriptors$1$1,defineProperties$4$1={exports:{}},$$r$1=_export$1,DESCRIPTORS$6$1=descriptors$2,defineProperties$3$1=objectDefineProperties$1.f;$$r$1({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties$3$1,sham:!DESCRIPTORS$6$1},{defineProperties:defineProperties$3$1});var path$g$1=path$q$1,Object$2$1=path$g$1.Object,defineProperties$2$1=defineProperties$4$1.exports=function r(t,e){return Object$2$1.defineProperties(t,e)};Object$2$1.defineProperties.sham&&(defineProperties$2$1.sham=!0);var parent$G$1=defineProperties$4$1.exports,defineProperties$1$1=parent$G$1,defineProperties$5=defineProperties$1$1,defineProperty$4$1=defineProperty$a$1,$$q$1=_export$1,isArray$9$1=isArray$d$1;$$q$1({target:"Array",stat:!0},{isArray:isArray$9$1});var path$f$1=path$q$1,isArray$8$1=path$f$1.Array.isArray,parent$F$1=isArray$8$1,isArray$7$1=parent$F$1,parent$E$1=isArray$7$1,isArray$6$1=parent$E$1,parent$D$1=isArray$6$1,isArray$5$1=parent$D$1,isArray$4$1=isArray$5$1;function _arrayWithHoles$1(r){if(isArray$4$1(r))return r}var $$p$1=_export$1,global$e$1=global$M$1,fails$c$1=fails$r$1,isArray$3$1=isArray$d$1,isObject$6$1=isObject$f$1,toObject$6$1=toObject$e,lengthOfArrayLike$5$1=lengthOfArrayLike$d,createProperty$2$1=createProperty$6$1,arraySpeciesCreate$1$1=arraySpeciesCreate$4,arrayMethodHasSpeciesSupport$2$1=arrayMethodHasSpeciesSupport$5$1,wellKnownSymbol$4$1=wellKnownSymbol$j$1,V8_VERSION$3=engineV8Version$1,IS_CONCAT_SPREADABLE$1=wellKnownSymbol$4$1("isConcatSpreadable"),MAX_SAFE_INTEGER$1$1=9007199254740991,MAXIMUM_ALLOWED_INDEX_EXCEEDED$1="Maximum allowed index exceeded",TypeError$7$1=global$e$1.TypeError,IS_CONCAT_SPREADABLE_SUPPORT$1=V8_VERSION$3>=51||!fails$c$1(function(){var r=[];return r[IS_CONCAT_SPREADABLE$1]=!1,r.concat()[0]!==r}),SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$2$1("concat"),isConcatSpreadable$1=function(r){if(!isObject$6$1(r))return!1;var t=r[IS_CONCAT_SPREADABLE$1];return t!==void 0?!!t:isArray$3$1(r)},FORCED$4$1=!IS_CONCAT_SPREADABLE_SUPPORT$1||!SPECIES_SUPPORT$1;$$p$1({target:"Array",proto:!0,forced:FORCED$4$1},{concat:function r(t){var e=toObject$6$1(this),o=arraySpeciesCreate$1$1(e,0),l=0,h,y,O,D,R;for(h=-1,O=arguments.length;h<O;h++)if(R=h===-1?e:arguments[h],isConcatSpreadable$1(R)){if(D=lengthOfArrayLike$5$1(R),l+D>MAX_SAFE_INTEGER$1$1)throw TypeError$7$1(MAXIMUM_ALLOWED_INDEX_EXCEEDED$1);for(y=0;y<D;y++,l++)y in R&&createProperty$2$1(o,l,R[y])}else{if(l>=MAX_SAFE_INTEGER$1$1)throw TypeError$7$1(MAXIMUM_ALLOWED_INDEX_EXCEEDED$1);createProperty$2$1(o,l++,R)}return o.length=l,o}});var defineWellKnownSymbol$j$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$j$1("asyncIterator");var defineWellKnownSymbol$i$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$i$1("hasInstance");var defineWellKnownSymbol$h$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$h$1("isConcatSpreadable");var defineWellKnownSymbol$g$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$g$1("iterator");var defineWellKnownSymbol$f$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$f$1("match");var defineWellKnownSymbol$e$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$e$1("matchAll");var defineWellKnownSymbol$d$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$d$1("replace");var defineWellKnownSymbol$c$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$c$1("search");var defineWellKnownSymbol$b$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$b$1("species");var defineWellKnownSymbol$a$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$a$1("split");var defineWellKnownSymbol$9$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$9$1("toPrimitive");var defineWellKnownSymbol$8$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$8$1("toStringTag");var defineWellKnownSymbol$7$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$7$1("unscopables");var global$d$1=global$M$1,setToStringTag$1$1=setToStringTag$5$1;setToStringTag$1$1(global$d$1.JSON,"JSON",!0);var path$e$1=path$q$1,symbol$5$1=path$e$1.Symbol,parent$C$1=symbol$5$1,symbol$4$1=parent$C$1,parent$B$1=symbol$4$1,symbol$3$1=parent$B$1,defineWellKnownSymbol$6$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$6$1("asyncDispose");var defineWellKnownSymbol$5$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$5$1("dispose");var defineWellKnownSymbol$4$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$4$1("matcher");var defineWellKnownSymbol$3$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$3$1("metadata");var defineWellKnownSymbol$2$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$2$1("observable");var defineWellKnownSymbol$1$1=defineWellKnownSymbol$l$1;defineWellKnownSymbol$1$1("patternMatch");var defineWellKnownSymbol$m=defineWellKnownSymbol$l$1;defineWellKnownSymbol$m("replaceAll");var parent$A$1=symbol$3$1,symbol$2$1=parent$A$1,symbol$1$1=symbol$2$1;function _iterableToArrayLimit$1(r,t){var e=r==null?null:typeof symbol$1$1!="undefined"&&getIteratorMethod$1$1(r)||r["@@iterator"];if(e!=null){var o=[],l=!0,h=!1,y,O;try{for(e=e.call(r);!(l=(y=e.next()).done)&&(o.push(y.value),!(t&&o.length===t));l=!0);}catch(D){h=!0,O=D}finally{try{!l&&e.return!=null&&e.return()}finally{if(h)throw O}}return o}}var $$o$1=_export$1,global$c$1=global$M$1,isArray$2$1=isArray$d$1,isConstructor$1$1=isConstructor$4$1,isObject$5$1=isObject$f$1,toAbsoluteIndex$2$1=toAbsoluteIndex$5$1,lengthOfArrayLike$4$1=lengthOfArrayLike$d,toIndexedObject$1$1=toIndexedObject$b$1,createProperty$1$1=createProperty$6$1,wellKnownSymbol$3$1=wellKnownSymbol$j$1,arrayMethodHasSpeciesSupport$1$1=arrayMethodHasSpeciesSupport$5$1,un$Slice$1=arraySlice$5$1,HAS_SPECIES_SUPPORT$1$1=arrayMethodHasSpeciesSupport$1$1("slice"),SPECIES$1$1=wellKnownSymbol$3$1("species"),Array$2$1=global$c$1.Array,max$1$1=Math.max;$$o$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1$1},{slice:function r(t,e){var o=toIndexedObject$1$1(this),l=lengthOfArrayLike$4$1(o),h=toAbsoluteIndex$2$1(t,l),y=toAbsoluteIndex$2$1(e===void 0?l:e,l),O,D,R;if(isArray$2$1(o)&&(O=o.constructor,isConstructor$1$1(O)&&(O===Array$2$1||isArray$2$1(O.prototype))?O=void 0:isObject$5$1(O)&&(O=O[SPECIES$1$1],O===null&&(O=void 0)),O===Array$2$1||O===void 0))return un$Slice$1(o,h,y);for(D=new(O===void 0?Array$2$1:O)(max$1$1(y-h,0)),R=0;h<y;h++,R++)h in o&&createProperty$1$1(D,R,o[h]);return D.length=R,D}});var entryVirtual$e$1=entryVirtual$k,slice$6$1=entryVirtual$e$1("Array").slice,isPrototypeOf$b$1=objectIsPrototypeOf$1,method$9$1=slice$6$1,ArrayPrototype$9$1=Array.prototype,slice$5$1=function(r){var t=r.slice;return r===ArrayPrototype$9$1||isPrototypeOf$b$1(ArrayPrototype$9$1,r)&&t===ArrayPrototype$9$1.slice?method$9$1:t},parent$z$1=slice$5$1,slice$4$1=parent$z$1,parent$y$1=slice$4$1,slice$3$1=parent$y$1,parent$x$1=slice$3$1,slice$2$1=parent$x$1,slice$1$1=slice$2$1,parent$w$1=from$4$1,from$2$1=parent$w$1,parent$v$1=from$2$1,from$1$1=parent$v$1,from$8=from$1$1;function _arrayLikeToArray$4$1(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}function _unsupportedIterableToArray$4$1(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$4$1(r,t);var o=slice$1$1(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$8(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$4$1(r,t)}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray$1(r,t){return _arrayWithHoles$1(r)||_iterableToArrayLimit$1(r,t)||_unsupportedIterableToArray$4$1(r,t)||_nonIterableRest$1()}var WrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped$1,iterator$5=WrappedWellKnownSymbolModule$1.f("iterator"),parent$u$1=iterator$5,iterator$4$1=parent$u$1,parent$t$1=iterator$4$1,iterator$3$1=parent$t$1,parent$s$1=iterator$3$1,iterator$2$1=parent$s$1,iterator$1$1=iterator$2$1;function _typeof$1(r){return _typeof$1=typeof symbol$1$1=="function"&&typeof iterator$1$1=="symbol"?function(t){return typeof t}:function(t){return t&&typeof symbol$1$1=="function"&&t.constructor===symbol$1$1&&t!==symbol$1$1.prototype?"symbol":typeof t},_typeof$1(r)}function _arrayWithoutHoles$1(r){if(isArray$4$1(r))return _arrayLikeToArray$4$1(r)}function _iterableToArray$1(r){if(typeof symbol$1$1!="undefined"&&getIteratorMethod$1$1(r)!=null||r["@@iterator"]!=null)return from$8(r)}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray$1(r){return _arrayWithoutHoles$1(r)||_iterableToArray$1(r)||_unsupportedIterableToArray$4$1(r)||_nonIterableSpread$1()}var symbol$6=symbol$4$1,entryVirtual$d$1=entryVirtual$k,concat$4$1=entryVirtual$d$1("Array").concat,isPrototypeOf$a$1=objectIsPrototypeOf$1,method$8$1=concat$4$1,ArrayPrototype$8$1=Array.prototype,concat$3$1=function(r){var t=r.concat;return r===ArrayPrototype$8$1||isPrototypeOf$a$1(ArrayPrototype$8$1,r)&&t===ArrayPrototype$8$1.concat?method$8$1:t},parent$r$1=concat$3$1,concat$2$1=parent$r$1,concat$1$1=concat$2$1,slice$7=slice$4$1,$$n$1=_export$1,ownKeys$4$1=ownKeys$6$1;$$n$1({target:"Reflect",stat:!0},{ownKeys:ownKeys$4$1});var path$d$1=path$q$1,ownKeys$3$1=path$d$1.Reflect.ownKeys,parent$q$1=ownKeys$3$1,ownKeys$2$1=parent$q$1,ownKeys$1$1=ownKeys$2$1,isArray$1$1=isArray$7$1,$$m$1=_export$1,toObject$5$1=toObject$e,nativeKeys$1=objectKeys$4$1,fails$b$1=fails$r$1,FAILS_ON_PRIMITIVES$2$1=fails$b$1(function(){nativeKeys$1(1)});$$m$1({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$2$1},{keys:function r(t){return nativeKeys$1(toObject$5$1(t))}});var path$c$1=path$q$1,keys$6=path$c$1.Object.keys,parent$p$1=keys$6,keys$5=parent$p$1,keys$4=keys$5,$$l$1=_export$1,global$b$1=global$M$1,uncurryThis$a$1=functionUncurryThis$1,Date$1$1=global$b$1.Date,getTime$1=uncurryThis$a$1(Date$1$1.prototype.getTime);$$l$1({target:"Date",stat:!0},{now:function r(){return getTime$1(new Date$1$1)}});var path$b$1=path$q$1;path$b$1.Date.now;var $forEach$2=arrayIteration$1.forEach,arrayMethodIsStrict$3$1=arrayMethodIsStrict$5$1,STRICT_METHOD$3$1=arrayMethodIsStrict$3$1("forEach"),arrayForEach$1=STRICT_METHOD$3$1?[].forEach:function r(t){return $forEach$2(this,t,arguments.length>1?arguments[1]:void 0)},$$k$1=_export$1,forEach$5$1=arrayForEach$1;$$k$1({target:"Array",proto:!0,forced:[].forEach!=forEach$5$1},{forEach:forEach$5$1});var entryVirtual$c$1=entryVirtual$k,forEach$4$1=entryVirtual$c$1("Array").forEach,parent$o$1=forEach$4$1,forEach$3$1=parent$o$1,classof$5$1=classof$c$1,hasOwn$4$1=hasOwnProperty_1$1,isPrototypeOf$9$1=objectIsPrototypeOf$1,method$7$1=forEach$3$1,ArrayPrototype$7$1=Array.prototype,DOMIterables$3={DOMTokenList:!0,NodeList:!0},forEach$2$1=function(r){var t=r.forEach;return r===ArrayPrototype$7$1||isPrototypeOf$9$1(ArrayPrototype$7$1,r)&&t===ArrayPrototype$7$1.forEach||hasOwn$4$1(DOMIterables$3,classof$5$1(r))?method$7$1:t},forEach$1$1=forEach$2$1,$$j$1=_export$1,uncurryThis$9$1=functionUncurryThis$1,isArray$e=isArray$d$1,un$Reverse$1=uncurryThis$9$1([].reverse),test$1$1=[1,2];$$j$1({target:"Array",proto:!0,forced:String(test$1$1)===String(test$1$1.reverse())},{reverse:function r(){return isArray$e(this)&&(this.length=this.length),un$Reverse$1(this)}});var entryVirtual$b$1=entryVirtual$k,reverse$3$1=entryVirtual$b$1("Array").reverse,isPrototypeOf$8$1=objectIsPrototypeOf$1,method$6$1=reverse$3$1,ArrayPrototype$6$1=Array.prototype,reverse$2$1=function(r){var t=r.reverse;return r===ArrayPrototype$6$1||isPrototypeOf$8$1(ArrayPrototype$6$1,r)&&t===ArrayPrototype$6$1.reverse?method$6$1:t},parent$n$1=reverse$2$1,reverse$1$1=parent$n$1,reverse$4=reverse$1$1,$$i$1=_export$1,global$a$1=global$M$1,toAbsoluteIndex$1$1=toAbsoluteIndex$5$1,toIntegerOrInfinity$5=toIntegerOrInfinity$4$1,lengthOfArrayLike$3$1=lengthOfArrayLike$d,toObject$4$1=toObject$e,arraySpeciesCreate$5=arraySpeciesCreate$4,createProperty$7=createProperty$6$1,arrayMethodHasSpeciesSupport$6=arrayMethodHasSpeciesSupport$5$1,HAS_SPECIES_SUPPORT$4=arrayMethodHasSpeciesSupport$6("splice"),TypeError$6$1=global$a$1.TypeError,max$4=Math.max,min$3=Math.min,MAX_SAFE_INTEGER$2=9007199254740991,MAXIMUM_ALLOWED_LENGTH_EXCEEDED$1="Maximum allowed length exceeded";$$i$1({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$4},{splice:function r(t,e){var o=toObject$4$1(this),l=lengthOfArrayLike$3$1(o),h=toAbsoluteIndex$1$1(t,l),y=arguments.length,O,D,R,F,j,B;if(y===0?O=D=0:y===1?(O=0,D=l-h):(O=y-2,D=min$3(max$4(toIntegerOrInfinity$5(e),0),l-h)),l+O-D>MAX_SAFE_INTEGER$2)throw TypeError$6$1(MAXIMUM_ALLOWED_LENGTH_EXCEEDED$1);for(R=arraySpeciesCreate$5(o,D),F=0;F<D;F++)j=h+F,j in o&&createProperty$7(R,F,o[j]);if(R.length=D,O<D){for(F=h;F<l-D;F++)j=F+D,B=F+O,j in o?o[B]=o[j]:delete o[B];for(F=l;F>l-D+O;F--)delete o[F-1]}else if(O>D)for(F=l-D;F>h;F--)j=F+D-1,B=F+O-1,j in o?o[B]=o[j]:delete o[B];for(F=0;F<O;F++)o[F+h]=arguments[F+2];return o.length=l-D+O,R}});var entryVirtual$a$1=entryVirtual$k,splice$3$1=entryVirtual$a$1("Array").splice,isPrototypeOf$7$1=objectIsPrototypeOf$1,method$5$1=splice$3$1,ArrayPrototype$5$1=Array.prototype,splice$2$1=function(r){var t=r.splice;return r===ArrayPrototype$5$1||isPrototypeOf$7$1(ArrayPrototype$5$1,r)&&t===ArrayPrototype$5$1.splice?method$5$1:t},parent$m$1=splice$2$1,splice$1$1=parent$m$1,splice$5=splice$1$1,DESCRIPTORS$5$1=descriptors$2,uncurryThis$8$1=functionUncurryThis$1,call$1$1=functionCall$1,fails$a$1=fails$r$1,objectKeys$1$1=objectKeys$4$1,getOwnPropertySymbolsModule$3=objectGetOwnPropertySymbols$1,propertyIsEnumerableModule$3=objectPropertyIsEnumerable$1,toObject$3$1=toObject$e,IndexedObject$4=indexedObject$1,$assign$1=Object.assign,defineProperty$3$1=Object.defineProperty,concat$7=uncurryThis$8$1([].concat),objectAssign$1=!$assign$1||fails$a$1(function(){if(DESCRIPTORS$5$1&&$assign$1({b:1},$assign$1(defineProperty$3$1({},"a",{enumerable:!0,get:function(){defineProperty$3$1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},t={},e=Symbol(),o="abcdefghijklmnopqrst";return r[e]=7,o.split("").forEach(function(l){t[l]=l}),$assign$1({},r)[e]!=7||objectKeys$1$1($assign$1({},t)).join("")!=o})?function r(t,e){for(var o=toObject$3$1(t),l=arguments.length,h=1,y=getOwnPropertySymbolsModule$3.f,O=propertyIsEnumerableModule$3.f;l>h;)for(var D=IndexedObject$4(arguments[h++]),R=y?concat$7(objectKeys$1$1(D),y(D)):objectKeys$1$1(D),F=R.length,j=0,B;F>j;)B=R[j++],(!DESCRIPTORS$5$1||call$1$1(O,D,B))&&(o[B]=D[B]);return o}:$assign$1,$$h$1=_export$1,assign$5$1=objectAssign$1;$$h$1({target:"Object",stat:!0,forced:Object.assign!==assign$5$1},{assign:assign$5$1});var path$a$1=path$q$1,assign$4$1=path$a$1.Object.assign,parent$l$1=assign$4$1,assign$3$1=parent$l$1,assign$2$1=assign$3$1,$$g$1=_export$1,$includes$1=arrayIncludes$1.includes;$$g$1({target:"Array",proto:!0},{includes:function r(t){return $includes$1(this,t,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$9$1=entryVirtual$k;entryVirtual$9$1("Array").includes;var isObject$4$1=isObject$f$1,classof$4$1=classofRaw$1$1,wellKnownSymbol$2$1=wellKnownSymbol$j$1,MATCH$1$1=wellKnownSymbol$2$1("match"),isRegexp$1=function(r){var t;return isObject$4$1(r)&&((t=r[MATCH$1$1])!==void 0?!!t:classof$4$1(r)=="RegExp")},global$9$1=global$M$1,isRegExp$1=isRegexp$1,TypeError$5$1=global$9$1.TypeError,notARegexp$1=function(r){if(isRegExp$1(r))throw TypeError$5$1("The method doesn't accept regular expressions");return r},wellKnownSymbol$1$1=wellKnownSymbol$j$1,MATCH$2=wellKnownSymbol$1$1("match"),correctIsRegexpLogic$1=function(r){var t=/./;try{"/./"[r](t)}catch{try{return t[MATCH$2]=!1,"/./"[r](t)}catch{}}return!1},$$f$1=_export$1,uncurryThis$7$1=functionUncurryThis$1,notARegExp$1=notARegexp$1,requireObjectCoercible$1$1=requireObjectCoercible$5$1,toString$3$1=toString$7$1,correctIsRegExpLogic$1=correctIsRegexpLogic$1,stringIndexOf$1=uncurryThis$7$1("".indexOf);$$f$1({target:"String",proto:!0,forced:!correctIsRegExpLogic$1("includes")},{includes:function r(t){return!!~stringIndexOf$1(toString$3$1(requireObjectCoercible$1$1(this)),toString$3$1(notARegExp$1(t)),arguments.length>1?arguments[1]:void 0)}});var entryVirtual$8$1=entryVirtual$k;entryVirtual$8$1("String").includes;var $$e$1=_export$1,fails$9$1=fails$r$1,toObject$2$1=toObject$e,nativeGetPrototypeOf$1=objectGetPrototypeOf$1,CORRECT_PROTOTYPE_GETTER$2=correctPrototypeGetter$1,FAILS_ON_PRIMITIVES$1$1=fails$9$1(function(){nativeGetPrototypeOf$1(1)});$$e$1({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$1$1,sham:!CORRECT_PROTOTYPE_GETTER$2},{getPrototypeOf:function r(t){return nativeGetPrototypeOf$1(toObject$2$1(t))}});var path$9$1=path$q$1,getPrototypeOf$4$1=path$9$1.Object.getPrototypeOf,parent$k$1=getPrototypeOf$4$1,getPrototypeOf$3$1=parent$k$1,DESCRIPTORS$4$1=descriptors$2,uncurryThis$6$1=functionUncurryThis$1,objectKeys$5=objectKeys$4$1,toIndexedObject$c=toIndexedObject$b$1,$propertyIsEnumerable$3=objectPropertyIsEnumerable$1.f,propertyIsEnumerable$1=uncurryThis$6$1($propertyIsEnumerable$3),push$2$1=uncurryThis$6$1([].push),createMethod$1$1=function(r){return function(t){for(var e=toIndexedObject$c(t),o=objectKeys$5(e),l=o.length,h=0,y=[],O;l>h;)O=o[h++],(!DESCRIPTORS$4$1||propertyIsEnumerable$1(e,O))&&push$2$1(y,r?[O,e[O]]:e[O]);return y}},objectToArray$1={entries:createMethod$1$1(!0),values:createMethod$1$1(!1)},$$d$1=_export$1,$values$1=objectToArray$1.values;$$d$1({target:"Object",stat:!0},{values:function r(t){return $values$1(t)}});var path$8$1=path$q$1;path$8$1.Object.values;var whitespaces$3$1=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,uncurryThis$5$1=functionUncurryThis$1,requireObjectCoercible$6=requireObjectCoercible$5$1,toString$2$1=toString$7$1,whitespaces$2$1=whitespaces$3$1,replace$1$1=uncurryThis$5$1("".replace),whitespace$1="["+whitespaces$2$1+"]",ltrim$1=RegExp("^"+whitespace$1+whitespace$1+"*"),rtrim$1=RegExp(whitespace$1+whitespace$1+"*$"),createMethod$6=function(r){return function(t){var e=toString$2$1(requireObjectCoercible$6(t));return r&1&&(e=replace$1$1(e,ltrim$1,"")),r&2&&(e=replace$1$1(e,rtrim$1,"")),e}},stringTrim$1={start:createMethod$6(1),end:createMethod$6(2),trim:createMethod$6(3)},global$8$1=global$M$1,fails$8$1=fails$r$1,uncurryThis$4$1=functionUncurryThis$1,toString$1$1=toString$7$1,trim$2=stringTrim$1.trim,whitespaces$1$1=whitespaces$3$1,$parseInt$1$1=global$8$1.parseInt,Symbol$1$1=global$8$1.Symbol,ITERATOR$7=Symbol$1$1&&Symbol$1$1.iterator,hex$2=/^[+-]?0x/i,exec$1$1=uncurryThis$4$1(hex$2.exec),FORCED$3$1=$parseInt$1$1(whitespaces$1$1+"08")!==8||$parseInt$1$1(whitespaces$1$1+"0x16")!==22||ITERATOR$7&&!fails$8$1(function(){$parseInt$1$1(Object(ITERATOR$7))}),numberParseInt$1=FORCED$3$1?function r(t,e){var o=trim$2(toString$1$1(t));return $parseInt$1$1(o,e>>>0||(exec$1$1(hex$2,o)?16:10))}:$parseInt$1$1,$$c$1=_export$1,$parseInt$2=numberParseInt$1;$$c$1({global:!0,forced:parseInt!=$parseInt$2},{parseInt:$parseInt$2});var path$7$1=path$q$1;path$7$1.parseInt;var $$b$1=_export$1,uncurryThis$3$1=functionUncurryThis$1,$IndexOf$1=arrayIncludes$1.indexOf,arrayMethodIsStrict$2$1=arrayMethodIsStrict$5$1,un$IndexOf$1=uncurryThis$3$1([].indexOf),NEGATIVE_ZERO$1=!!un$IndexOf$1&&1/un$IndexOf$1([1],1,-0)<0,STRICT_METHOD$2$1=arrayMethodIsStrict$2$1("indexOf");$$b$1({target:"Array",proto:!0,forced:NEGATIVE_ZERO$1||!STRICT_METHOD$2$1},{indexOf:function r(t){var e=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO$1?un$IndexOf$1(this,t,e)||0:$IndexOf$1(this,t,e)}});var entryVirtual$7$1=entryVirtual$k;entryVirtual$7$1("Array").indexOf;var PROPER_FUNCTION_NAME$2=functionName$1.PROPER,fails$7$1=fails$r$1,whitespaces$5=whitespaces$3$1,non$1="\u200B\x85\u180E",stringTrimForced$1=function(r){return fails$7$1(function(){return!!whitespaces$5[r]()||non$1[r]()!==non$1||PROPER_FUNCTION_NAME$2&&whitespaces$5[r].name!==r})},$$a$1=_export$1,$trim$1=stringTrim$1.trim,forcedStringTrimMethod$1=stringTrimForced$1;$$a$1({target:"String",proto:!0,forced:forcedStringTrimMethod$1("trim")},{trim:function r(){return $trim$1(this)}});var entryVirtual$6$1=entryVirtual$k;entryVirtual$6$1("String").trim;var $$9$1=_export$1,DESCRIPTORS$3$1=descriptors$2,create$8$1=objectCreate$1;$$9$1({target:"Object",stat:!0,sham:!DESCRIPTORS$3$1},{create:create$8$1});var path$6$1=path$q$1,Object$1$1=path$6$1.Object,create$7$1=function r(t,e){return Object$1$1.create(t,e)},parent$j$1=create$7$1,create$6$1=parent$j$1,create$5$1=create$6$1,$$8$1=_export$1,global$7$1=global$M$1,getBuiltIn$2$1=getBuiltIn$9$1,apply$3$1=functionApply$1,uncurryThis$2$1=functionUncurryThis$1,fails$6$1=fails$r$1,Array$1$1=global$7$1.Array,$stringify$2=getBuiltIn$2$1("JSON","stringify"),exec$3=uncurryThis$2$1(/./.exec),charAt$4=uncurryThis$2$1("".charAt),charCodeAt$2=uncurryThis$2$1("".charCodeAt),replace$2=uncurryThis$2$1("".replace),numberToString$1=uncurryThis$2$1(1 .toString),tester$1=/[\uD800-\uDFFF]/g,low$1=/^[\uD800-\uDBFF]$/,hi$1=/^[\uDC00-\uDFFF]$/,fix$1=function(r,t,e){var o=charAt$4(e,t-1),l=charAt$4(e,t+1);return exec$3(low$1,r)&&!exec$3(hi$1,l)||exec$3(hi$1,r)&&!exec$3(low$1,o)?"\\u"+numberToString$1(charCodeAt$2(r,0),16):r},FORCED$2$1=fails$6$1(function(){return $stringify$2("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify$2("\uDEAD")!=='"\\udead"'});$stringify$2&&$$8$1({target:"JSON",stat:!0,forced:FORCED$2$1},{stringify:function(t,e,o){for(var l=0,h=arguments.length,y=Array$1$1(h);l<h;l++)y[l]=arguments[l];var O=apply$3$1($stringify$2,null,y);return typeof O=="string"?replace$2(O,tester$1,fix$1):O}});var path$5$1=path$q$1,apply$2$1=functionApply$1;path$5$1.JSON||(path$5$1.JSON={stringify:JSON.stringify});var stringify$3$1=function r(t,e,o){return apply$2$1(path$5$1.JSON.stringify,null,arguments)},parent$i$1=stringify$3$1,stringify$2$1=parent$i$1,stringify$1$1=stringify$2$1,global$6$1=global$M$1,TypeError$4$1=global$6$1.TypeError,validateArgumentsLength$1$1=function(r,t){if(r<t)throw TypeError$4$1("Not enough arguments");return r},$$7$1=_export$1,global$5$1=global$M$1,apply$1$1=functionApply$1,isCallable$1$1=isCallable$h$1,userAgent$2$1=engineUserAgent$1,arraySlice$1$1=arraySlice$5$1,validateArgumentsLength$2=validateArgumentsLength$1$1,MSIE$1=/MSIE .\./.test(userAgent$2$1),Function$1$1=global$5$1.Function,wrap$2=function(r){return function(t,e){var o=validateArgumentsLength$2(arguments.length,1)>2,l=isCallable$1$1(t)?t:Function$1$1(t),h=o?arraySlice$1$1(arguments,2):void 0;return r(o?function(){apply$1$1(l,this,h)}:l,e)}};$$7$1({global:!0,bind:!0,forced:MSIE$1},{setTimeout:wrap$2(global$5$1.setTimeout),setInterval:wrap$2(global$5$1.setInterval)});var path$4$1=path$q$1,setTimeout$2$1=path$4$1.setTimeout,setTimeout$1$1=setTimeout$2$1,toObject$1$1=toObject$e,toAbsoluteIndex$6=toAbsoluteIndex$5$1,lengthOfArrayLike$2$1=lengthOfArrayLike$d,arrayFill$1=function r(t){for(var e=toObject$1$1(this),o=lengthOfArrayLike$2$1(e),l=arguments.length,h=toAbsoluteIndex$6(l>1?arguments[1]:void 0,o),y=l>2?arguments[2]:void 0,O=y===void 0?o:toAbsoluteIndex$6(y,o);O>h;)e[h++]=t;return e},$$6$1=_export$1,fill$6=arrayFill$1;$$6$1({target:"Array",proto:!0},{fill:fill$6});var entryVirtual$5$1=entryVirtual$k;entryVirtual$5$1("Array").fill;var componentEmitter$1={exports:{}};(function(r){r.exports=t;function t(o){if(o)return e(o)}function e(o){for(var l in t.prototype)o[l]=t.prototype[l];return o}t.prototype.on=t.prototype.addEventListener=function(o,l){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(l),this},t.prototype.once=function(o,l){function h(){this.off(o,h),l.apply(this,arguments)}return h.fn=l,this.on(o,h),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(o,l){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var h=this._callbacks["$"+o];if(!h)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var y,O=0;O<h.length;O++)if(y=h[O],y===l||y.fn===l){h.splice(O,1);break}return h.length===0&&delete this._callbacks["$"+o],this},t.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var l=new Array(arguments.length-1),h=this._callbacks["$"+o],y=1;y<arguments.length;y++)l[y-1]=arguments[y];if(h){h=h.slice(0);for(var y=0,O=h.length;y<O;++y)h[y].apply(this,l)}return this},t.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},t.prototype.hasListeners=function(o){return!!this.listeners(o).length}})(componentEmitter$1);var Emitter$1=componentEmitter$1.exports;/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _extends$1(){return _extends$1=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},_extends$1.apply(this,arguments)}function _inheritsLoose$1(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function _assertThisInitialized$1$1(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var assign$6;typeof Object.assign!="function"?assign$6=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var h in l)l.hasOwnProperty(h)&&(e[h]=l[h])}return e}:assign$6=Object.assign;var assign$1$2=assign$6,VENDOR_PREFIXES$1=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT$1=typeof document=="undefined"?{style:{}}:document.createElement("div"),TYPE_FUNCTION$1="function",round$2=Math.round,abs$2=Math.abs,now$4=Date.now;function prefixed$1(r,t){for(var e,o,l=t[0].toUpperCase()+t.slice(1),h=0;h<VENDOR_PREFIXES$1.length;){if(e=VENDOR_PREFIXES$1[h],o=e?e+l:t,o in r)return o;h++}}var win$1;typeof window=="undefined"?win$1={}:win$1=window;var PREFIXED_TOUCH_ACTION$1=prefixed$1(TEST_ELEMENT$1.style,"touchAction"),NATIVE_TOUCH_ACTION$1=PREFIXED_TOUCH_ACTION$1!==void 0;function getTouchActionProps$1(){if(!NATIVE_TOUCH_ACTION$1)return!1;var r={},t=win$1.CSS&&win$1.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return r[e]=t?win$1.CSS.supports("touch-action",e):!0}),r}var TOUCH_ACTION_COMPUTE$1="compute",TOUCH_ACTION_AUTO$1="auto",TOUCH_ACTION_MANIPULATION$1="manipulation",TOUCH_ACTION_NONE$1="none",TOUCH_ACTION_PAN_X$1="pan-x",TOUCH_ACTION_PAN_Y$1="pan-y",TOUCH_ACTION_MAP$1=getTouchActionProps$1(),MOBILE_REGEX$1=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH$1="ontouchstart"in win$1,SUPPORT_POINTER_EVENTS$1=prefixed$1(win$1,"PointerEvent")!==void 0,SUPPORT_ONLY_TOUCH$1=SUPPORT_TOUCH$1&&MOBILE_REGEX$1.test(navigator.userAgent),INPUT_TYPE_TOUCH$1="touch",INPUT_TYPE_PEN$1="pen",INPUT_TYPE_MOUSE$1="mouse",INPUT_TYPE_KINECT$1="kinect",COMPUTE_INTERVAL$1=25,INPUT_START$1=1,INPUT_MOVE$1=2,INPUT_END$1=4,INPUT_CANCEL$1=8,DIRECTION_NONE$1=1,DIRECTION_LEFT$1=2,DIRECTION_RIGHT$1=4,DIRECTION_UP$1=8,DIRECTION_DOWN$1=16,DIRECTION_HORIZONTAL$1=DIRECTION_LEFT$1|DIRECTION_RIGHT$1,DIRECTION_VERTICAL$1=DIRECTION_UP$1|DIRECTION_DOWN$1,DIRECTION_ALL$1=DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1,PROPS_XY$1=["x","y"],PROPS_CLIENT_XY$1=["clientX","clientY"];function each$2(r,t,e){var o;if(!!r)if(r.forEach)r.forEach(t,e);else if(r.length!==void 0)for(o=0;o<r.length;)t.call(e,r[o],o,r),o++;else for(o in r)r.hasOwnProperty(o)&&t.call(e,r[o],o,r)}function boolOrFn$1(r,t){return typeof r===TYPE_FUNCTION$1?r.apply(t&&t[0]||void 0,t):r}function inStr$1(r,t){return r.indexOf(t)>-1}function cleanTouchActions$1(r){if(inStr$1(r,TOUCH_ACTION_NONE$1))return TOUCH_ACTION_NONE$1;var t=inStr$1(r,TOUCH_ACTION_PAN_X$1),e=inStr$1(r,TOUCH_ACTION_PAN_Y$1);return t&&e?TOUCH_ACTION_NONE$1:t||e?t?TOUCH_ACTION_PAN_X$1:TOUCH_ACTION_PAN_Y$1:inStr$1(r,TOUCH_ACTION_MANIPULATION$1)?TOUCH_ACTION_MANIPULATION$1:TOUCH_ACTION_AUTO$1}var TouchAction$1=function(){function r(e,o){this.manager=e,this.set(o)}var t=r.prototype;return t.set=function(o){o===TOUCH_ACTION_COMPUTE$1&&(o=this.compute()),NATIVE_TOUCH_ACTION$1&&this.manager.element.style&&TOUCH_ACTION_MAP$1[o]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION$1]=o),this.actions=o.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var o=[];return each$2(this.manager.recognizers,function(l){boolOrFn$1(l.options.enable,[l])&&(o=o.concat(l.getTouchAction()))}),cleanTouchActions$1(o.join(" "))},t.preventDefaults=function(o){var l=o.srcEvent,h=o.offsetDirection;if(this.manager.session.prevented){l.preventDefault();return}var y=this.actions,O=inStr$1(y,TOUCH_ACTION_NONE$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_NONE$1],D=inStr$1(y,TOUCH_ACTION_PAN_Y$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_PAN_Y$1],R=inStr$1(y,TOUCH_ACTION_PAN_X$1)&&!TOUCH_ACTION_MAP$1[TOUCH_ACTION_PAN_X$1];if(O){var F=o.pointers.length===1,j=o.distance<2,B=o.deltaTime<250;if(F&&j&&B)return}if(!(R&&D)&&(O||D&&h&DIRECTION_HORIZONTAL$1||R&&h&DIRECTION_VERTICAL$1))return this.preventSrc(l)},t.preventSrc=function(o){this.manager.session.prevented=!0,o.preventDefault()},r}();function hasParent$1(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}function getCenter$1(r){var t=r.length;if(t===1)return{x:round$2(r[0].clientX),y:round$2(r[0].clientY)};for(var e=0,o=0,l=0;l<t;)e+=r[l].clientX,o+=r[l].clientY,l++;return{x:round$2(e/t),y:round$2(o/t)}}function simpleCloneInputData$1(r){for(var t=[],e=0;e<r.pointers.length;)t[e]={clientX:round$2(r.pointers[e].clientX),clientY:round$2(r.pointers[e].clientY)},e++;return{timeStamp:now$4(),pointers:t,center:getCenter$1(t),deltaX:r.deltaX,deltaY:r.deltaY}}function getDistance$1(r,t,e){e||(e=PROPS_XY$1);var o=t[e[0]]-r[e[0]],l=t[e[1]]-r[e[1]];return Math.sqrt(o*o+l*l)}function getAngle$1(r,t,e){e||(e=PROPS_XY$1);var o=t[e[0]]-r[e[0]],l=t[e[1]]-r[e[1]];return Math.atan2(l,o)*180/Math.PI}function getDirection$1(r,t){return r===t?DIRECTION_NONE$1:abs$2(r)>=abs$2(t)?r<0?DIRECTION_LEFT$1:DIRECTION_RIGHT$1:t<0?DIRECTION_UP$1:DIRECTION_DOWN$1}function computeDeltaXY$1(r,t){var e=t.center,o=r.offsetDelta||{},l=r.prevDelta||{},h=r.prevInput||{};(t.eventType===INPUT_START$1||h.eventType===INPUT_END$1)&&(l=r.prevDelta={x:h.deltaX||0,y:h.deltaY||0},o=r.offsetDelta={x:e.x,y:e.y}),t.deltaX=l.x+(e.x-o.x),t.deltaY=l.y+(e.y-o.y)}function getVelocity$1(r,t,e){return{x:t/r||0,y:e/r||0}}function getScale$1(r,t){return getDistance$1(t[0],t[1],PROPS_CLIENT_XY$1)/getDistance$1(r[0],r[1],PROPS_CLIENT_XY$1)}function getRotation$1(r,t){return getAngle$1(t[1],t[0],PROPS_CLIENT_XY$1)+getAngle$1(r[1],r[0],PROPS_CLIENT_XY$1)}function computeIntervalInputData$1(r,t){var e=r.lastInterval||t,o=t.timeStamp-e.timeStamp,l,h,y,O;if(t.eventType!==INPUT_CANCEL$1&&(o>COMPUTE_INTERVAL$1||e.velocity===void 0)){var D=t.deltaX-e.deltaX,R=t.deltaY-e.deltaY,F=getVelocity$1(o,D,R);h=F.x,y=F.y,l=abs$2(F.x)>abs$2(F.y)?F.x:F.y,O=getDirection$1(D,R),r.lastInterval=t}else l=e.velocity,h=e.velocityX,y=e.velocityY,O=e.direction;t.velocity=l,t.velocityX=h,t.velocityY=y,t.direction=O}function computeInputData$1(r,t){var e=r.session,o=t.pointers,l=o.length;e.firstInput||(e.firstInput=simpleCloneInputData$1(t)),l>1&&!e.firstMultiple?e.firstMultiple=simpleCloneInputData$1(t):l===1&&(e.firstMultiple=!1);var h=e.firstInput,y=e.firstMultiple,O=y?y.center:h.center,D=t.center=getCenter$1(o);t.timeStamp=now$4(),t.deltaTime=t.timeStamp-h.timeStamp,t.angle=getAngle$1(O,D),t.distance=getDistance$1(O,D),computeDeltaXY$1(e,t),t.offsetDirection=getDirection$1(t.deltaX,t.deltaY);var R=getVelocity$1(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=R.x,t.overallVelocityY=R.y,t.overallVelocity=abs$2(R.x)>abs$2(R.y)?R.x:R.y,t.scale=y?getScale$1(y.pointers,o):1,t.rotation=y?getRotation$1(y.pointers,o):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,computeIntervalInputData$1(e,t);var F=r.element,j=t.srcEvent,B;j.composedPath?B=j.composedPath()[0]:j.path?B=j.path[0]:B=j.target,hasParent$1(B,F)&&(F=B),t.target=F}function inputHandler$1(r,t,e){var o=e.pointers.length,l=e.changedPointers.length,h=t&INPUT_START$1&&o-l===0,y=t&(INPUT_END$1|INPUT_CANCEL$1)&&o-l===0;e.isFirst=!!h,e.isFinal=!!y,h&&(r.session={}),e.eventType=t,computeInputData$1(r,e),r.emit("hammer.input",e),r.recognize(e),r.session.prevInput=e}function splitStr$1(r){return r.trim().split(/\s+/g)}function addEventListeners$1(r,t,e){each$2(splitStr$1(t),function(o){r.addEventListener(o,e,!1)})}function removeEventListeners$1(r,t,e){each$2(splitStr$1(t),function(o){r.removeEventListener(o,e,!1)})}function getWindowForElement$1(r){var t=r.ownerDocument||r;return t.defaultView||t.parentWindow||window}var Input$1=function(){function r(e,o){var l=this;this.manager=e,this.callback=o,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(h){boolOrFn$1(e.options.enable,[e])&&l.handler(h)},this.init()}var t=r.prototype;return t.handler=function(){},t.init=function(){this.evEl&&addEventListeners$1(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners$1(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners$1(getWindowForElement$1(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&removeEventListeners$1(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners$1(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners$1(getWindowForElement$1(this.element),this.evWin,this.domHandler)},r}();function inArray$1(r,t,e){if(r.indexOf&&!e)return r.indexOf(t);for(var o=0;o<r.length;){if(e&&r[o][e]==t||!e&&r[o]===t)return o;o++}return-1}var POINTER_INPUT_MAP$1={pointerdown:INPUT_START$1,pointermove:INPUT_MOVE$1,pointerup:INPUT_END$1,pointercancel:INPUT_CANCEL$1,pointerout:INPUT_CANCEL$1},IE10_POINTER_TYPE_ENUM$1={2:INPUT_TYPE_TOUCH$1,3:INPUT_TYPE_PEN$1,4:INPUT_TYPE_MOUSE$1,5:INPUT_TYPE_KINECT$1},POINTER_ELEMENT_EVENTS$1="pointerdown",POINTER_WINDOW_EVENTS$1="pointermove pointerup pointercancel";win$1.MSPointerEvent&&!win$1.PointerEvent&&(POINTER_ELEMENT_EVENTS$1="MSPointerDown",POINTER_WINDOW_EVENTS$1="MSPointerMove MSPointerUp MSPointerCancel");var PointerEventInput$1=function(r){_inheritsLoose$1(t,r);function t(){var o,l=t.prototype;return l.evEl=POINTER_ELEMENT_EVENTS$1,l.evWin=POINTER_WINDOW_EVENTS$1,o=r.apply(this,arguments)||this,o.store=o.manager.session.pointerEvents=[],o}var e=t.prototype;return e.handler=function(l){var h=this.store,y=!1,O=l.type.toLowerCase().replace("ms",""),D=POINTER_INPUT_MAP$1[O],R=IE10_POINTER_TYPE_ENUM$1[l.pointerType]||l.pointerType,F=R===INPUT_TYPE_TOUCH$1,j=inArray$1(h,l.pointerId,"pointerId");D&INPUT_START$1&&(l.button===0||F)?j<0&&(h.push(l),j=h.length-1):D&(INPUT_END$1|INPUT_CANCEL$1)&&(y=!0),!(j<0)&&(h[j]=l,this.callback(this.manager,D,{pointers:h,changedPointers:[l],pointerType:R,srcEvent:l}),y&&h.splice(j,1))},t}(Input$1);function toArray$1(r){return Array.prototype.slice.call(r,0)}function uniqueArray$1(r,t,e){for(var o=[],l=[],h=0;h<r.length;){var y=t?r[h][t]:r[h];inArray$1(l,y)<0&&o.push(r[h]),l[h]=y,h++}return e&&(t?o=o.sort(function(O,D){return O[t]>D[t]}):o=o.sort()),o}var TOUCH_INPUT_MAP$1={touchstart:INPUT_START$1,touchmove:INPUT_MOVE$1,touchend:INPUT_END$1,touchcancel:INPUT_CANCEL$1},TOUCH_TARGET_EVENTS$1="touchstart touchmove touchend touchcancel",TouchInput$1=function(r){_inheritsLoose$1(t,r);function t(){var o;return t.prototype.evTarget=TOUCH_TARGET_EVENTS$1,o=r.apply(this,arguments)||this,o.targetIds={},o}var e=t.prototype;return e.handler=function(l){var h=TOUCH_INPUT_MAP$1[l.type],y=getTouches$1.call(this,l,h);!y||this.callback(this.manager,h,{pointers:y[0],changedPointers:y[1],pointerType:INPUT_TYPE_TOUCH$1,srcEvent:l})},t}(Input$1);function getTouches$1(r,t){var e=toArray$1(r.touches),o=this.targetIds;if(t&(INPUT_START$1|INPUT_MOVE$1)&&e.length===1)return o[e[0].identifier]=!0,[e,e];var l,h,y=toArray$1(r.changedTouches),O=[],D=this.target;if(h=e.filter(function(R){return hasParent$1(R.target,D)}),t===INPUT_START$1)for(l=0;l<h.length;)o[h[l].identifier]=!0,l++;for(l=0;l<y.length;)o[y[l].identifier]&&O.push(y[l]),t&(INPUT_END$1|INPUT_CANCEL$1)&&delete o[y[l].identifier],l++;if(!!O.length)return[uniqueArray$1(h.concat(O),"identifier",!0),O]}var MOUSE_INPUT_MAP$1={mousedown:INPUT_START$1,mousemove:INPUT_MOVE$1,mouseup:INPUT_END$1},MOUSE_ELEMENT_EVENTS$1="mousedown",MOUSE_WINDOW_EVENTS$1="mousemove mouseup",MouseInput$1=function(r){_inheritsLoose$1(t,r);function t(){var o,l=t.prototype;return l.evEl=MOUSE_ELEMENT_EVENTS$1,l.evWin=MOUSE_WINDOW_EVENTS$1,o=r.apply(this,arguments)||this,o.pressed=!1,o}var e=t.prototype;return e.handler=function(l){var h=MOUSE_INPUT_MAP$1[l.type];h&INPUT_START$1&&l.button===0&&(this.pressed=!0),h&INPUT_MOVE$1&&l.which!==1&&(h=INPUT_END$1),this.pressed&&(h&INPUT_END$1&&(this.pressed=!1),this.callback(this.manager,h,{pointers:[l],changedPointers:[l],pointerType:INPUT_TYPE_MOUSE$1,srcEvent:l}))},t}(Input$1),DEDUP_TIMEOUT$1=2500,DEDUP_DISTANCE$1=25;function setLastTouch$1(r){var t=r.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var o={x:e.clientX,y:e.clientY},l=this.lastTouches;this.lastTouches.push(o);var h=function(){var O=l.indexOf(o);O>-1&&l.splice(O,1)};setTimeout(h,DEDUP_TIMEOUT$1)}}function recordTouches$1(r,t){r&INPUT_START$1?(this.primaryTouch=t.changedPointers[0].identifier,setLastTouch$1.call(this,t)):r&(INPUT_END$1|INPUT_CANCEL$1)&&setLastTouch$1.call(this,t)}function isSyntheticEvent$1(r){for(var t=r.srcEvent.clientX,e=r.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var l=this.lastTouches[o],h=Math.abs(t-l.x),y=Math.abs(e-l.y);if(h<=DEDUP_DISTANCE$1&&y<=DEDUP_DISTANCE$1)return!0}return!1}var TouchMouseInput$1=function(){var r=function(t){_inheritsLoose$1(e,t);function e(l,h){var y;return y=t.call(this,l,h)||this,y.handler=function(O,D,R){var F=R.pointerType===INPUT_TYPE_TOUCH$1,j=R.pointerType===INPUT_TYPE_MOUSE$1;if(!(j&&R.sourceCapabilities&&R.sourceCapabilities.firesTouchEvents)){if(F)recordTouches$1.call(_assertThisInitialized$1$1(_assertThisInitialized$1$1(y)),D,R);else if(j&&isSyntheticEvent$1.call(_assertThisInitialized$1$1(_assertThisInitialized$1$1(y)),R))return;y.callback(O,D,R)}},y.touch=new TouchInput$1(y.manager,y.handler),y.mouse=new MouseInput$1(y.manager,y.handler),y.primaryTouch=null,y.lastTouches=[],y}var o=e.prototype;return o.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Input$1);return r}();function createInputInstance$1(r){var t,e=r.options.inputClass;return e?t=e:SUPPORT_POINTER_EVENTS$1?t=PointerEventInput$1:SUPPORT_ONLY_TOUCH$1?t=TouchInput$1:SUPPORT_TOUCH$1?t=TouchMouseInput$1:t=MouseInput$1,new t(r,inputHandler$1)}function invokeArrayArg$1(r,t,e){return Array.isArray(r)?(each$2(r,e[t],e),!0):!1}var STATE_POSSIBLE$1=1,STATE_BEGAN$1=2,STATE_CHANGED$1=4,STATE_ENDED$1=8,STATE_RECOGNIZED$1=STATE_ENDED$1,STATE_CANCELLED$1=16,STATE_FAILED$1=32,_uniqueId$1=1;function uniqueId$1(){return _uniqueId$1++}function getRecognizerByNameIfManager$1(r,t){var e=t.manager;return e?e.get(r):r}function stateStr$1(r){return r&STATE_CANCELLED$1?"cancel":r&STATE_ENDED$1?"end":r&STATE_CHANGED$1?"move":r&STATE_BEGAN$1?"start":""}var Recognizer$1=function(){function r(e){e===void 0&&(e={}),this.options=_extends$1({enable:!0},e),this.id=uniqueId$1(),this.manager=null,this.state=STATE_POSSIBLE$1,this.simultaneous={},this.requireFail=[]}var t=r.prototype;return t.set=function(o){return assign$1$2(this.options,o),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(o){if(invokeArrayArg$1(o,"recognizeWith",this))return this;var l=this.simultaneous;return o=getRecognizerByNameIfManager$1(o,this),l[o.id]||(l[o.id]=o,o.recognizeWith(this)),this},t.dropRecognizeWith=function(o){return invokeArrayArg$1(o,"dropRecognizeWith",this)?this:(o=getRecognizerByNameIfManager$1(o,this),delete this.simultaneous[o.id],this)},t.requireFailure=function(o){if(invokeArrayArg$1(o,"requireFailure",this))return this;var l=this.requireFail;return o=getRecognizerByNameIfManager$1(o,this),inArray$1(l,o)===-1&&(l.push(o),o.requireFailure(this)),this},t.dropRequireFailure=function(o){if(invokeArrayArg$1(o,"dropRequireFailure",this))return this;o=getRecognizerByNameIfManager$1(o,this);var l=inArray$1(this.requireFail,o);return l>-1&&this.requireFail.splice(l,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(o){return!!this.simultaneous[o.id]},t.emit=function(o){var l=this,h=this.state;function y(O){l.manager.emit(O,o)}h<STATE_ENDED$1&&y(l.options.event+stateStr$1(h)),y(l.options.event),o.additionalEvent&&y(o.additionalEvent),h>=STATE_ENDED$1&&y(l.options.event+stateStr$1(h))},t.tryEmit=function(o){if(this.canEmit())return this.emit(o);this.state=STATE_FAILED$1},t.canEmit=function(){for(var o=0;o<this.requireFail.length;){if(!(this.requireFail[o].state&(STATE_FAILED$1|STATE_POSSIBLE$1)))return!1;o++}return!0},t.recognize=function(o){var l=assign$1$2({},o);if(!boolOrFn$1(this.options.enable,[this,l])){this.reset(),this.state=STATE_FAILED$1;return}this.state&(STATE_RECOGNIZED$1|STATE_CANCELLED$1|STATE_FAILED$1)&&(this.state=STATE_POSSIBLE$1),this.state=this.process(l),this.state&(STATE_BEGAN$1|STATE_CHANGED$1|STATE_ENDED$1|STATE_CANCELLED$1)&&this.tryEmit(l)},t.process=function(o){},t.getTouchAction=function(){},t.reset=function(){},r}(),TapRecognizer$1=function(r){_inheritsLoose$1(t,r);function t(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends$1({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},o))||this,l.pTime=!1,l.pCenter=!1,l._timer=null,l._input=null,l.count=0,l}var e=t.prototype;return e.getTouchAction=function(){return[TOUCH_ACTION_MANIPULATION$1]},e.process=function(l){var h=this,y=this.options,O=l.pointers.length===y.pointers,D=l.distance<y.threshold,R=l.deltaTime<y.time;if(this.reset(),l.eventType&INPUT_START$1&&this.count===0)return this.failTimeout();if(D&&R&&O){if(l.eventType!==INPUT_END$1)return this.failTimeout();var F=this.pTime?l.timeStamp-this.pTime<y.interval:!0,j=!this.pCenter||getDistance$1(this.pCenter,l.center)<y.posThreshold;this.pTime=l.timeStamp,this.pCenter=l.center,!j||!F?this.count=1:this.count+=1,this._input=l;var B=this.count%y.taps;if(B===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){h.state=STATE_RECOGNIZED$1,h.tryEmit()},y.interval),STATE_BEGAN$1):STATE_RECOGNIZED$1}return STATE_FAILED$1},e.failTimeout=function(){var l=this;return this._timer=setTimeout(function(){l.state=STATE_FAILED$1},this.options.interval),STATE_FAILED$1},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===STATE_RECOGNIZED$1&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Recognizer$1),AttrRecognizer$1=function(r){_inheritsLoose$1(t,r);function t(o){return o===void 0&&(o={}),r.call(this,_extends$1({pointers:1},o))||this}var e=t.prototype;return e.attrTest=function(l){var h=this.options.pointers;return h===0||l.pointers.length===h},e.process=function(l){var h=this.state,y=l.eventType,O=h&(STATE_BEGAN$1|STATE_CHANGED$1),D=this.attrTest(l);return O&&(y&INPUT_CANCEL$1||!D)?h|STATE_CANCELLED$1:O||D?y&INPUT_END$1?h|STATE_ENDED$1:h&STATE_BEGAN$1?h|STATE_CHANGED$1:STATE_BEGAN$1:STATE_FAILED$1},t}(Recognizer$1);function directionStr$1(r){return r===DIRECTION_DOWN$1?"down":r===DIRECTION_UP$1?"up":r===DIRECTION_LEFT$1?"left":r===DIRECTION_RIGHT$1?"right":""}var PanRecognizer$1=function(r){_inheritsLoose$1(t,r);function t(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends$1({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL$1},o))||this,l.pX=null,l.pY=null,l}var e=t.prototype;return e.getTouchAction=function(){var l=this.options.direction,h=[];return l&DIRECTION_HORIZONTAL$1&&h.push(TOUCH_ACTION_PAN_Y$1),l&DIRECTION_VERTICAL$1&&h.push(TOUCH_ACTION_PAN_X$1),h},e.directionTest=function(l){var h=this.options,y=!0,O=l.distance,D=l.direction,R=l.deltaX,F=l.deltaY;return D&h.direction||(h.direction&DIRECTION_HORIZONTAL$1?(D=R===0?DIRECTION_NONE$1:R<0?DIRECTION_LEFT$1:DIRECTION_RIGHT$1,y=R!==this.pX,O=Math.abs(l.deltaX)):(D=F===0?DIRECTION_NONE$1:F<0?DIRECTION_UP$1:DIRECTION_DOWN$1,y=F!==this.pY,O=Math.abs(l.deltaY))),l.direction=D,y&&O>h.threshold&&D&h.direction},e.attrTest=function(l){return AttrRecognizer$1.prototype.attrTest.call(this,l)&&(this.state&STATE_BEGAN$1||!(this.state&STATE_BEGAN$1)&&this.directionTest(l))},e.emit=function(l){this.pX=l.deltaX,this.pY=l.deltaY;var h=directionStr$1(l.direction);h&&(l.additionalEvent=this.options.event+h),r.prototype.emit.call(this,l)},t}(AttrRecognizer$1),SwipeRecognizer$1=function(r){_inheritsLoose$1(t,r);function t(o){return o===void 0&&(o={}),r.call(this,_extends$1({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1,pointers:1},o))||this}var e=t.prototype;return e.getTouchAction=function(){return PanRecognizer$1.prototype.getTouchAction.call(this)},e.attrTest=function(l){var h=this.options.direction,y;return h&(DIRECTION_HORIZONTAL$1|DIRECTION_VERTICAL$1)?y=l.overallVelocity:h&DIRECTION_HORIZONTAL$1?y=l.overallVelocityX:h&DIRECTION_VERTICAL$1&&(y=l.overallVelocityY),r.prototype.attrTest.call(this,l)&&h&l.offsetDirection&&l.distance>this.options.threshold&&l.maxPointers===this.options.pointers&&abs$2(y)>this.options.velocity&&l.eventType&INPUT_END$1},e.emit=function(l){var h=directionStr$1(l.offsetDirection);h&&this.manager.emit(this.options.event+h,l),this.manager.emit(this.options.event,l)},t}(AttrRecognizer$1),PinchRecognizer$1=function(r){_inheritsLoose$1(t,r);function t(o){return o===void 0&&(o={}),r.call(this,_extends$1({event:"pinch",threshold:0,pointers:2},o))||this}var e=t.prototype;return e.getTouchAction=function(){return[TOUCH_ACTION_NONE$1]},e.attrTest=function(l){return r.prototype.attrTest.call(this,l)&&(Math.abs(l.scale-1)>this.options.threshold||this.state&STATE_BEGAN$1)},e.emit=function(l){if(l.scale!==1){var h=l.scale<1?"in":"out";l.additionalEvent=this.options.event+h}r.prototype.emit.call(this,l)},t}(AttrRecognizer$1),RotateRecognizer$1=function(r){_inheritsLoose$1(t,r);function t(o){return o===void 0&&(o={}),r.call(this,_extends$1({event:"rotate",threshold:0,pointers:2},o))||this}var e=t.prototype;return e.getTouchAction=function(){return[TOUCH_ACTION_NONE$1]},e.attrTest=function(l){return r.prototype.attrTest.call(this,l)&&(Math.abs(l.rotation)>this.options.threshold||this.state&STATE_BEGAN$1)},t}(AttrRecognizer$1),PressRecognizer$1=function(r){_inheritsLoose$1(t,r);function t(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends$1({event:"press",pointers:1,time:251,threshold:9},o))||this,l._timer=null,l._input=null,l}var e=t.prototype;return e.getTouchAction=function(){return[TOUCH_ACTION_AUTO$1]},e.process=function(l){var h=this,y=this.options,O=l.pointers.length===y.pointers,D=l.distance<y.threshold,R=l.deltaTime>y.time;if(this._input=l,!D||!O||l.eventType&(INPUT_END$1|INPUT_CANCEL$1)&&!R)this.reset();else if(l.eventType&INPUT_START$1)this.reset(),this._timer=setTimeout(function(){h.state=STATE_RECOGNIZED$1,h.tryEmit()},y.time);else if(l.eventType&INPUT_END$1)return STATE_RECOGNIZED$1;return STATE_FAILED$1},e.reset=function(){clearTimeout(this._timer)},e.emit=function(l){this.state===STATE_RECOGNIZED$1&&(l&&l.eventType&INPUT_END$1?this.manager.emit(this.options.event+"up",l):(this._input.timeStamp=now$4(),this.manager.emit(this.options.event,this._input)))},t}(Recognizer$1),defaults$3={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE$1,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},preset$1=[[RotateRecognizer$1,{enable:!1}],[PinchRecognizer$1,{enable:!1},["rotate"]],[SwipeRecognizer$1,{direction:DIRECTION_HORIZONTAL$1}],[PanRecognizer$1,{direction:DIRECTION_HORIZONTAL$1},["swipe"]],[TapRecognizer$1],[TapRecognizer$1,{event:"doubletap",taps:2},["tap"]],[PressRecognizer$1]],STOP$1=1,FORCED_STOP$1=2;function toggleCssProps$1(r,t){var e=r.element;if(!!e.style){var o;each$2(r.options.cssProps,function(l,h){o=prefixed$1(e.style,h),t?(r.oldCssProps[o]=e.style[o],e.style[o]=l):e.style[o]=r.oldCssProps[o]||""}),t||(r.oldCssProps={})}}function triggerDomEvent$1(r,t){var e=document.createEvent("Event");e.initEvent(r,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var Manager$1=function(){function r(e,o){var l=this;this.options=assign$1$2({},defaults$3,o||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=createInputInstance$1(this),this.touchAction=new TouchAction$1(this,this.options.touchAction),toggleCssProps$1(this,!0),each$2(this.options.recognizers,function(h){var y=l.add(new h[0](h[1]));h[2]&&y.recognizeWith(h[2]),h[3]&&y.requireFailure(h[3])},this)}var t=r.prototype;return t.set=function(o){return assign$1$2(this.options,o),o.touchAction&&this.touchAction.update(),o.inputTarget&&(this.input.destroy(),this.input.target=o.inputTarget,this.input.init()),this},t.stop=function(o){this.session.stopped=o?FORCED_STOP$1:STOP$1},t.recognize=function(o){var l=this.session;if(!l.stopped){this.touchAction.preventDefaults(o);var h,y=this.recognizers,O=l.curRecognizer;(!O||O&&O.state&STATE_RECOGNIZED$1)&&(l.curRecognizer=null,O=null);for(var D=0;D<y.length;)h=y[D],l.stopped!==FORCED_STOP$1&&(!O||h===O||h.canRecognizeWith(O))?h.recognize(o):h.reset(),!O&&h.state&(STATE_BEGAN$1|STATE_CHANGED$1|STATE_ENDED$1)&&(l.curRecognizer=h,O=h),D++}},t.get=function(o){if(o instanceof Recognizer$1)return o;for(var l=this.recognizers,h=0;h<l.length;h++)if(l[h].options.event===o)return l[h];return null},t.add=function(o){if(invokeArrayArg$1(o,"add",this))return this;var l=this.get(o.options.event);return l&&this.remove(l),this.recognizers.push(o),o.manager=this,this.touchAction.update(),o},t.remove=function(o){if(invokeArrayArg$1(o,"remove",this))return this;var l=this.get(o);if(o){var h=this.recognizers,y=inArray$1(h,l);y!==-1&&(h.splice(y,1),this.touchAction.update())}return this},t.on=function(o,l){if(o===void 0||l===void 0)return this;var h=this.handlers;return each$2(splitStr$1(o),function(y){h[y]=h[y]||[],h[y].push(l)}),this},t.off=function(o,l){if(o===void 0)return this;var h=this.handlers;return each$2(splitStr$1(o),function(y){l?h[y]&&h[y].splice(inArray$1(h[y],l),1):delete h[y]}),this},t.emit=function(o,l){this.options.domEvents&&triggerDomEvent$1(o,l);var h=this.handlers[o]&&this.handlers[o].slice();if(!(!h||!h.length)){l.type=o,l.preventDefault=function(){l.srcEvent.preventDefault()};for(var y=0;y<h.length;)h[y](l),y++}},t.destroy=function(){this.element&&toggleCssProps$1(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),SINGLE_TOUCH_INPUT_MAP$1={touchstart:INPUT_START$1,touchmove:INPUT_MOVE$1,touchend:INPUT_END$1,touchcancel:INPUT_CANCEL$1},SINGLE_TOUCH_TARGET_EVENTS$1="touchstart",SINGLE_TOUCH_WINDOW_EVENTS$1="touchstart touchmove touchend touchcancel",SingleTouchInput$1=function(r){_inheritsLoose$1(t,r);function t(){var o,l=t.prototype;return l.evTarget=SINGLE_TOUCH_TARGET_EVENTS$1,l.evWin=SINGLE_TOUCH_WINDOW_EVENTS$1,o=r.apply(this,arguments)||this,o.started=!1,o}var e=t.prototype;return e.handler=function(l){var h=SINGLE_TOUCH_INPUT_MAP$1[l.type];if(h===INPUT_START$1&&(this.started=!0),!!this.started){var y=normalizeSingleTouches$1.call(this,l,h);h&(INPUT_END$1|INPUT_CANCEL$1)&&y[0].length-y[1].length===0&&(this.started=!1),this.callback(this.manager,h,{pointers:y[0],changedPointers:y[1],pointerType:INPUT_TYPE_TOUCH$1,srcEvent:l})}},t}(Input$1);function normalizeSingleTouches$1(r,t){var e=toArray$1(r.touches),o=toArray$1(r.changedTouches);return t&(INPUT_END$1|INPUT_CANCEL$1)&&(e=uniqueArray$1(e.concat(o),"identifier",!0)),[e,o]}function deprecate$1(r,t,e){var o="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var l=new Error("get-stack-trace"),h=l&&l.stack?l.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",y=window.console&&(window.console.warn||window.console.log);return y&&y.call(window.console,o,h),r.apply(this,arguments)}}var extend$1=deprecate$1(function(r,t,e){for(var o=Object.keys(t),l=0;l<o.length;)(!e||e&&r[o[l]]===void 0)&&(r[o[l]]=t[o[l]]),l++;return r},"extend","Use `assign`."),merge$1$1=deprecate$1(function(r,t){return extend$1(r,t,!0)},"merge","Use `assign`.");function inherit$1(r,t,e){var o=t.prototype,l;l=r.prototype=Object.create(o),l.constructor=r,l._super=o,e&&assign$1$2(l,e)}function bindFn$1(r,t){return function(){return r.apply(t,arguments)}}var Hammer$3=function(){var r=function(e,o){return o===void 0&&(o={}),new Manager$1(e,_extends$1({recognizers:preset$1.concat()},o))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=DIRECTION_ALL$1,r.DIRECTION_DOWN=DIRECTION_DOWN$1,r.DIRECTION_LEFT=DIRECTION_LEFT$1,r.DIRECTION_RIGHT=DIRECTION_RIGHT$1,r.DIRECTION_UP=DIRECTION_UP$1,r.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL$1,r.DIRECTION_VERTICAL=DIRECTION_VERTICAL$1,r.DIRECTION_NONE=DIRECTION_NONE$1,r.DIRECTION_DOWN=DIRECTION_DOWN$1,r.INPUT_START=INPUT_START$1,r.INPUT_MOVE=INPUT_MOVE$1,r.INPUT_END=INPUT_END$1,r.INPUT_CANCEL=INPUT_CANCEL$1,r.STATE_POSSIBLE=STATE_POSSIBLE$1,r.STATE_BEGAN=STATE_BEGAN$1,r.STATE_CHANGED=STATE_CHANGED$1,r.STATE_ENDED=STATE_ENDED$1,r.STATE_RECOGNIZED=STATE_RECOGNIZED$1,r.STATE_CANCELLED=STATE_CANCELLED$1,r.STATE_FAILED=STATE_FAILED$1,r.Manager=Manager$1,r.Input=Input$1,r.TouchAction=TouchAction$1,r.TouchInput=TouchInput$1,r.MouseInput=MouseInput$1,r.PointerEventInput=PointerEventInput$1,r.TouchMouseInput=TouchMouseInput$1,r.SingleTouchInput=SingleTouchInput$1,r.Recognizer=Recognizer$1,r.AttrRecognizer=AttrRecognizer$1,r.Tap=TapRecognizer$1,r.Pan=PanRecognizer$1,r.Swipe=SwipeRecognizer$1,r.Pinch=PinchRecognizer$1,r.Rotate=RotateRecognizer$1,r.Press=PressRecognizer$1,r.on=addEventListeners$1,r.off=removeEventListeners$1,r.each=each$2,r.merge=merge$1$1,r.extend=extend$1,r.bindFn=bindFn$1,r.assign=assign$1$2,r.inherit=inherit$1,r.bindFn=bindFn$1,r.prefixed=prefixed$1,r.toArray=toArray$1,r.inArray=inArray$1,r.uniqueArray=uniqueArray$1,r.splitStr=splitStr$1,r.boolOrFn=boolOrFn$1,r.hasParent=hasParent$1,r.addEventListeners=addEventListeners$1,r.removeEventListeners=removeEventListeners$1,r.defaults=assign$1$2({},defaults$3,{preset:preset$1}),r}(),RealHammer$1=Hammer$3;function _createForOfIteratorHelper$3$1(r,t){var e=typeof symbol$6!="undefined"&&getIteratorMethod$1$1(r)||r["@@iterator"];if(!e){if(isArray$1$1(r)||(e=_unsupportedIterableToArray$3$1(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$3$1(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$3$1(r,t);var o=slice$7(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3$1(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$3$1(r,t)}}function _arrayLikeToArray$3$1(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}var DELETE=symbol$6("DELETE");function pureDeepObjectAssign(r){for(var t,e=arguments.length,o=new Array(e>1?e-1:0),l=1;l<e;l++)o[l-1]=arguments[l];return deepObjectAssign.apply(void 0,concat$1$1(t=[{},r]).call(t,o))}function deepObjectAssign(){var r=deepObjectAssignNonentry.apply(void 0,arguments);return stripDelete(r),r}function deepObjectAssignNonentry(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];if(t.length<2)return t[0];if(t.length>2){var o;return deepObjectAssignNonentry.apply(void 0,concat$1$1(o=[deepObjectAssign(t[0],t[1])]).call(o,_toConsumableArray$1(slice$7(t).call(t,2))))}var l=t[0],h=t[1],y=_createForOfIteratorHelper$3$1(ownKeys$1$1(h)),O;try{for(y.s();!(O=y.n()).done;){var D=O.value;Object.prototype.propertyIsEnumerable.call(h,D)&&(h[D]===DELETE?delete l[D]:l[D]!==null&&h[D]!==null&&_typeof$1(l[D])==="object"&&_typeof$1(h[D])==="object"&&!isArray$1$1(l[D])&&!isArray$1$1(h[D])?l[D]=deepObjectAssignNonentry(l[D],h[D]):l[D]=clone$2(h[D]))}}catch(R){y.e(R)}finally{y.f()}return l}function clone$2(r){return isArray$1$1(r)?map$3$1(r).call(r,function(t){return clone$2(t)}):_typeof$1(r)==="object"&&r!==null?deepObjectAssignNonentry({},r):r}function stripDelete(r){for(var t=0,e=keys$4(r);t<e.length;t++){var o=e[t];r[o]===DELETE?delete r[o]:_typeof$1(r[o])==="object"&&r[o]!==null&&stripDelete(r[o])}}function hammerMock$1(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get:function(){return{set:r}}}}var Hammer$1$1=typeof window!="undefined"?window.Hammer||RealHammer$1:function(){return hammerMock$1()};function Activator$1$1(r){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var o=Hammer$1$1(this._dom.overlay);o.on("tap",bind$6$1(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){o.destroy()});var l=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];forEach$1$1(l).call(l,function(h){o.on(h,function(y){y.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(h){_hasParent$1(h.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(h){("key"in h?h.key==="Escape":h.keyCode===27)&&t.deactivate()}}Emitter$1(Activator$1$1.prototype);Activator$1$1.current=null;Activator$1$1.prototype.destroy=function(){var r,t;this.deactivate();var e=_createForOfIteratorHelper$3$1(reverse$4(r=splice$5(t=this._cleanupQueue).call(t,0)).call(r)),o;try{for(e.s();!(o=e.n()).done;){var l=o.value;l()}}catch(h){e.e(h)}finally{e.f()}};Activator$1$1.prototype.activate=function(){Activator$1$1.current&&Activator$1$1.current.deactivate(),Activator$1$1.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Activator$1$1.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Activator$1$1.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function _hasParent$1(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}var global$4$1=global$M$1,isConstructor$5=isConstructor$4$1,tryToString$1$1=tryToString$4$1,TypeError$3$1=global$4$1.TypeError,aConstructor$1$1=function(r){if(isConstructor$5(r))return r;throw TypeError$3$1(tryToString$1$1(r)+" is not a constructor")},$$5$1=_export$1,getBuiltIn$1$1=getBuiltIn$9$1,apply$7=functionApply$1,bind$2$1=functionBind$1,aConstructor$2=aConstructor$1$1,anObject$1$1=anObject$b$1,isObject$3$1=isObject$f$1,create$4$1=objectCreate$1,fails$5$1=fails$r$1,nativeConstruct$1=getBuiltIn$1$1("Reflect","construct"),ObjectPrototype$3=Object.prototype,push$1$1=[].push,NEW_TARGET_BUG$1=fails$5$1(function(){function r(){}return!(nativeConstruct$1(function(){},[],r)instanceof r)}),ARGS_BUG$1=!fails$5$1(function(){nativeConstruct$1(function(){})}),FORCED$1$1=NEW_TARGET_BUG$1||ARGS_BUG$1;$$5$1({target:"Reflect",stat:!0,forced:FORCED$1$1,sham:FORCED$1$1},{construct:function r(t,e){aConstructor$2(t),anObject$1$1(e);var o=arguments.length<3?t:aConstructor$2(arguments[2]);if(ARGS_BUG$1&&!NEW_TARGET_BUG$1)return nativeConstruct$1(t,e,o);if(t==o){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var l=[null];return apply$7(push$1$1,l,e),new(apply$7(bind$2$1,t,l))}var h=o.prototype,y=create$4$1(isObject$3$1(h)?h:ObjectPrototype$3),O=apply$7(t,y,e);return isObject$3$1(O)?O:y}});var path$3$1=path$q$1,construct$2$1=path$3$1.Reflect.construct,parent$h$1=construct$2$1,construct$1$1=parent$h$1,construct$5=construct$1$1;function _assertThisInitialized$2(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var parent$g$1=create$6$1,create$3$1=parent$g$1,parent$f$1=create$3$1,create$2$1=parent$f$1,create$1$1=create$2$1,$$4$1=_export$1,setPrototypeOf$5$1=objectSetPrototypeOf$1;$$4$1({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$5$1});var path$2$1=path$q$1,setPrototypeOf$4$1=path$2$1.Object.setPrototypeOf,parent$e$1=setPrototypeOf$4$1,setPrototypeOf$3$1=parent$e$1,parent$d$1=setPrototypeOf$3$1,setPrototypeOf$2$1=parent$d$1,parent$c$1=setPrototypeOf$2$1,setPrototypeOf$1$1=parent$c$1,setPrototypeOf$6=setPrototypeOf$1$1;function _setPrototypeOf$1(r,t){return _setPrototypeOf$1=setPrototypeOf$6||function(o,l){return o.__proto__=l,o},_setPrototypeOf$1(r,t)}function _inherits$1(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=create$1$1(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),defineProperty$7$1(r,"prototype",{writable:!1}),t&&_setPrototypeOf$1(r,t)}function _possibleConstructorReturn$1(r,t){if(t&&(_typeof$1(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(r)}var parent$b$1=getPrototypeOf$3$1,getPrototypeOf$2$1=parent$b$1,parent$a$1=getPrototypeOf$2$1,getPrototypeOf$1$1=parent$a$1,getPrototypeOf$9=getPrototypeOf$1$1;function _getPrototypeOf$1(r){return _getPrototypeOf$1=setPrototypeOf$6?getPrototypeOf$9:function(e){return e.__proto__||getPrototypeOf$9(e)},_getPrototypeOf$1(r)}var runtime={exports:{}};(function(r){var t=function(e){var o=Object.prototype,l=o.hasOwnProperty,h,y=typeof Symbol=="function"?Symbol:{},O=y.iterator||"@@iterator",D=y.asyncIterator||"@@asyncIterator",R=y.toStringTag||"@@toStringTag";function F(se,le,fe){return Object.defineProperty(se,le,{value:fe,enumerable:!0,configurable:!0,writable:!0}),se[le]}try{F({},"")}catch{F=function(le,fe,ge){return le[fe]=ge}}function j(se,le,fe,ge){var ye=le&&le.prototype instanceof X?le:X,we=Object.create(ye.prototype),$e=new pe(ge||[]);return we._invoke=ie(se,fe,$e),we}e.wrap=j;function B(se,le,fe){try{return{type:"normal",arg:se.call(le,fe)}}catch(ge){return{type:"throw",arg:ge}}}var U="suspendedStart",W="suspendedYield",q="executing",K="completed",Y={};function X(){}function J(){}function Q(){}var Z={};F(Z,O,function(){return this});var ee=Object.getPrototypeOf,re=ee&&ee(ee(me([])));re&&re!==o&&l.call(re,O)&&(Z=re);var te=Q.prototype=X.prototype=Object.create(Z);J.prototype=Q,F(te,"constructor",Q),F(Q,"constructor",J),J.displayName=F(Q,R,"GeneratorFunction");function ne(se){["next","throw","return"].forEach(function(le){F(se,le,function(fe){return this._invoke(le,fe)})})}e.isGeneratorFunction=function(se){var le=typeof se=="function"&&se.constructor;return le?le===J||(le.displayName||le.name)==="GeneratorFunction":!1},e.mark=function(se){return Object.setPrototypeOf?Object.setPrototypeOf(se,Q):(se.__proto__=Q,F(se,R,"GeneratorFunction")),se.prototype=Object.create(te),se},e.awrap=function(se){return{__await:se}};function ae(se,le){function fe(we,$e,_e,Se){var Te=B(se[we],se,$e);if(Te.type==="throw")Se(Te.arg);else{var be=Te.arg,Oe=be.value;return Oe&&typeof Oe=="object"&&l.call(Oe,"__await")?le.resolve(Oe.__await).then(function(xe){fe("next",xe,_e,Se)},function(xe){fe("throw",xe,_e,Se)}):le.resolve(Oe).then(function(xe){be.value=xe,_e(be)},function(xe){return fe("throw",xe,_e,Se)})}}var ge;function ye(we,$e){function _e(){return new le(function(Se,Te){fe(we,$e,Se,Te)})}return ge=ge?ge.then(_e,_e):_e()}this._invoke=ye}ne(ae.prototype),F(ae.prototype,D,function(){return this}),e.AsyncIterator=ae,e.async=function(se,le,fe,ge,ye){ye===void 0&&(ye=Promise);var we=new ae(j(se,le,fe,ge),ye);return e.isGeneratorFunction(le)?we:we.next().then(function($e){return $e.done?$e.value:we.next()})};function ie(se,le,fe){var ge=U;return function(we,$e){if(ge===q)throw new Error("Generator is already running");if(ge===K){if(we==="throw")throw $e;return he()}for(fe.method=we,fe.arg=$e;;){var _e=fe.delegate;if(_e){var Se=oe(_e,fe);if(Se){if(Se===Y)continue;return Se}}if(fe.method==="next")fe.sent=fe._sent=fe.arg;else if(fe.method==="throw"){if(ge===U)throw ge=K,fe.arg;fe.dispatchException(fe.arg)}else fe.method==="return"&&fe.abrupt("return",fe.arg);ge=q;var Te=B(se,le,fe);if(Te.type==="normal"){if(ge=fe.done?K:W,Te.arg===Y)continue;return{value:Te.arg,done:fe.done}}else Te.type==="throw"&&(ge=K,fe.method="throw",fe.arg=Te.arg)}}}function oe(se,le){var fe=se.iterator[le.method];if(fe===h){if(le.delegate=null,le.method==="throw"){if(se.iterator.return&&(le.method="return",le.arg=h,oe(se,le),le.method==="throw"))return Y;le.method="throw",le.arg=new TypeError("The iterator does not provide a 'throw' method")}return Y}var ge=B(fe,se.iterator,le.arg);if(ge.type==="throw")return le.method="throw",le.arg=ge.arg,le.delegate=null,Y;var ye=ge.arg;if(!ye)return le.method="throw",le.arg=new TypeError("iterator result is not an object"),le.delegate=null,Y;if(ye.done)le[se.resultName]=ye.value,le.next=se.nextLoc,le.method!=="return"&&(le.method="next",le.arg=h);else return ye;return le.delegate=null,Y}ne(te),F(te,R,"Generator"),F(te,O,function(){return this}),F(te,"toString",function(){return"[object Generator]"});function ce(se){var le={tryLoc:se[0]};1 in se&&(le.catchLoc=se[1]),2 in se&&(le.finallyLoc=se[2],le.afterLoc=se[3]),this.tryEntries.push(le)}function ue(se){var le=se.completion||{};le.type="normal",delete le.arg,se.completion=le}function pe(se){this.tryEntries=[{tryLoc:"root"}],se.forEach(ce,this),this.reset(!0)}e.keys=function(se){var le=[];for(var fe in se)le.push(fe);return le.reverse(),function ge(){for(;le.length;){var ye=le.pop();if(ye in se)return ge.value=ye,ge.done=!1,ge}return ge.done=!0,ge}};function me(se){if(se){var le=se[O];if(le)return le.call(se);if(typeof se.next=="function")return se;if(!isNaN(se.length)){var fe=-1,ge=function ye(){for(;++fe<se.length;)if(l.call(se,fe))return ye.value=se[fe],ye.done=!1,ye;return ye.value=h,ye.done=!0,ye};return ge.next=ge}}return{next:he}}e.values=me;function he(){return{value:h,done:!0}}return pe.prototype={constructor:pe,reset:function(se){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(ue),!se)for(var le in this)le.charAt(0)==="t"&&l.call(this,le)&&!isNaN(+le.slice(1))&&(this[le]=h)},stop:function(){this.done=!0;var se=this.tryEntries[0],le=se.completion;if(le.type==="throw")throw le.arg;return this.rval},dispatchException:function(se){if(this.done)throw se;var le=this;function fe(Se,Te){return we.type="throw",we.arg=se,le.next=Se,Te&&(le.method="next",le.arg=h),!!Te}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var ye=this.tryEntries[ge],we=ye.completion;if(ye.tryLoc==="root")return fe("end");if(ye.tryLoc<=this.prev){var $e=l.call(ye,"catchLoc"),_e=l.call(ye,"finallyLoc");if($e&&_e){if(this.prev<ye.catchLoc)return fe(ye.catchLoc,!0);if(this.prev<ye.finallyLoc)return fe(ye.finallyLoc)}else if($e){if(this.prev<ye.catchLoc)return fe(ye.catchLoc,!0)}else if(_e){if(this.prev<ye.finallyLoc)return fe(ye.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(se,le){for(var fe=this.tryEntries.length-1;fe>=0;--fe){var ge=this.tryEntries[fe];if(ge.tryLoc<=this.prev&&l.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var ye=ge;break}}ye&&(se==="break"||se==="continue")&&ye.tryLoc<=le&&le<=ye.finallyLoc&&(ye=null);var we=ye?ye.completion:{};return we.type=se,we.arg=le,ye?(this.method="next",this.next=ye.finallyLoc,Y):this.complete(we)},complete:function(se,le){if(se.type==="throw")throw se.arg;return se.type==="break"||se.type==="continue"?this.next=se.arg:se.type==="return"?(this.rval=this.arg=se.arg,this.method="return",this.next="end"):se.type==="normal"&&le&&(this.next=le),Y},finish:function(se){for(var le=this.tryEntries.length-1;le>=0;--le){var fe=this.tryEntries[le];if(fe.finallyLoc===se)return this.complete(fe.completion,fe.afterLoc),ue(fe),Y}},catch:function(se){for(var le=this.tryEntries.length-1;le>=0;--le){var fe=this.tryEntries[le];if(fe.tryLoc===se){var ge=fe.completion;if(ge.type==="throw"){var ye=ge.arg;ue(fe)}return ye}}throw new Error("illegal catch attempt")},delegateYield:function(se,le,fe){return this.delegate={iterator:me(se),resultName:le,nextLoc:fe},this.method==="next"&&(this.arg=h),Y}},e}(r.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(runtime);var regenerator=runtime.exports,internalMetadata$1={exports:{}},fails$4$1=fails$r$1,arrayBufferNonExtensible$1=fails$4$1(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),fails$3$1=fails$r$1,isObject$2$1=isObject$f$1,classof$3$1=classofRaw$1$1,ARRAY_BUFFER_NON_EXTENSIBLE$1=arrayBufferNonExtensible$1,$isExtensible$1=Object.isExtensible,FAILS_ON_PRIMITIVES$5=fails$3$1(function(){$isExtensible$1(1)}),objectIsExtensible$1=FAILS_ON_PRIMITIVES$5||ARRAY_BUFFER_NON_EXTENSIBLE$1?function r(t){return!isObject$2$1(t)||ARRAY_BUFFER_NON_EXTENSIBLE$1&&classof$3$1(t)=="ArrayBuffer"?!1:$isExtensible$1?$isExtensible$1(t):!0}:$isExtensible$1,fails$2$1=fails$r$1,freezing$1=!fails$2$1(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$3$1=_export$1,uncurryThis$1$1=functionUncurryThis$1,hiddenKeys$7=hiddenKeys$6$1,isObject$1$1=isObject$f$1,hasOwn$3$1=hasOwnProperty_1$1,defineProperty$2$1=objectDefineProperty$1.f,getOwnPropertyNamesModule$3=objectGetOwnPropertyNames$1,getOwnPropertyNamesExternalModule$1=objectGetOwnPropertyNamesExternal$1,isExtensible$2=objectIsExtensible$1,uid$6=uid$4$1,FREEZING$1=freezing$1,REQUIRED$1=!1,METADATA$1=uid$6("meta"),id$3=0,setMetadata$1=function(r){defineProperty$2$1(r,METADATA$1,{value:{objectID:"O"+id$3++,weakData:{}}})},fastKey$1$1=function(r,t){if(!isObject$1$1(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!hasOwn$3$1(r,METADATA$1)){if(!isExtensible$2(r))return"F";if(!t)return"E";setMetadata$1(r)}return r[METADATA$1].objectID},getWeakData$2=function(r,t){if(!hasOwn$3$1(r,METADATA$1)){if(!isExtensible$2(r))return!0;if(!t)return!1;setMetadata$1(r)}return r[METADATA$1].weakData},onFreeze$1=function(r){return FREEZING$1&&REQUIRED$1&&isExtensible$2(r)&&!hasOwn$3$1(r,METADATA$1)&&setMetadata$1(r),r},enable$1=function(){meta$1.enable=function(){},REQUIRED$1=!0;var r=getOwnPropertyNamesModule$3.f,t=uncurryThis$1$1([].splice),e={};e[METADATA$1]=1,r(e).length&&(getOwnPropertyNamesModule$3.f=function(o){for(var l=r(o),h=0,y=l.length;h<y;h++)if(l[h]===METADATA$1){t(l,h,1);break}return l},$$3$1({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule$1.f}))},meta$1=internalMetadata$1.exports={enable:enable$1,fastKey:fastKey$1$1,getWeakData:getWeakData$2,onFreeze:onFreeze$1};hiddenKeys$7[METADATA$1]=!0;var global$3$1=global$M$1,bind$1$1=functionBindContext$1,call$e=functionCall$1,anObject$e=anObject$b$1,tryToString$5=tryToString$4$1,isArrayIteratorMethod$3=isArrayIteratorMethod$2$1,lengthOfArrayLike$1$1=lengthOfArrayLike$d,isPrototypeOf$6$1=objectIsPrototypeOf$1,getIterator$5=getIterator$7,getIteratorMethod$9=getIteratorMethod$8$1,iteratorClose$3=iteratorClose$2$1,TypeError$2$1=global$3$1.TypeError,Result$1=function(r,t){this.stopped=r,this.result=t},ResultPrototype$1=Result$1.prototype,iterate$2$1=function(r,t,e){var o=e&&e.that,l=!!(e&&e.AS_ENTRIES),h=!!(e&&e.IS_ITERATOR),y=!!(e&&e.INTERRUPTED),O=bind$1$1(t,o),D,R,F,j,B,U,W,q=function(Y){return D&&iteratorClose$3(D,"normal",Y),new Result$1(!0,Y)},K=function(Y){return l?(anObject$e(Y),y?O(Y[0],Y[1],q):O(Y[0],Y[1])):y?O(Y,q):O(Y)};if(h)D=r;else{if(R=getIteratorMethod$9(r),!R)throw TypeError$2$1(tryToString$5(r)+" is not iterable");if(isArrayIteratorMethod$3(R)){for(F=0,j=lengthOfArrayLike$1$1(r);j>F;F++)if(B=K(r[F]),B&&isPrototypeOf$6$1(ResultPrototype$1,B))return B;return new Result$1(!1)}D=getIterator$5(r,R)}for(U=D.next;!(W=call$e(U,D)).done;){try{B=K(W.value)}catch(Y){iteratorClose$3(D,"throw",Y)}if(typeof B=="object"&&B&&isPrototypeOf$6$1(ResultPrototype$1,B))return B}return new Result$1(!1)},global$2$1=global$M$1,isPrototypeOf$5$1=objectIsPrototypeOf$1,TypeError$1$1=global$2$1.TypeError,anInstance$2$1=function(r,t){if(isPrototypeOf$5$1(t,r))return r;throw TypeError$1$1("Incorrect invocation")},$$2$1=_export$1,global$1$1=global$M$1,InternalMetadataModule$2=internalMetadata$1.exports,fails$1$1=fails$r$1,createNonEnumerableProperty$7=createNonEnumerableProperty$6$1,iterate$1$1=iterate$2$1,anInstance$1$1=anInstance$2$1,isCallable$i=isCallable$h$1,isObject$l=isObject$f$1,setToStringTag$6=setToStringTag$5$1,defineProperty$1$1=objectDefineProperty$1.f,forEach$7=arrayIteration$1.forEach,DESCRIPTORS$2$1=descriptors$2,InternalStateModule$1$1=internalState$1,setInternalState$1$1=InternalStateModule$1$1.set,internalStateGetterFor$1$1=InternalStateModule$1$1.getterFor,collection$2$1=function(r,t,e){var o=r.indexOf("Map")!==-1,l=r.indexOf("Weak")!==-1,h=o?"set":"add",y=global$1$1[r],O=y&&y.prototype,D={},R;if(!DESCRIPTORS$2$1||!isCallable$i(y)||!(l||O.forEach&&!fails$1$1(function(){new y().entries().next()})))R=e.getConstructor(t,r,o,h),InternalMetadataModule$2.enable();else{R=t(function(B,U){setInternalState$1$1(anInstance$1$1(B,F),{type:r,collection:new y}),U!=null&&iterate$1$1(U,B[h],{that:B,AS_ENTRIES:o})});var F=R.prototype,j=internalStateGetterFor$1$1(r);forEach$7(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(B){var U=B=="add"||B=="set";B in O&&!(l&&B=="clear")&&createNonEnumerableProperty$7(F,B,function(W,q){var K=j(this).collection;if(!U&&l&&!isObject$l(W))return B=="get"?void 0:!1;var Y=K[B](W===0?0:W,q);return U?this:Y})}),l||defineProperty$1$1(F,"size",{configurable:!0,get:function(){return j(this).collection.size}})}return setToStringTag$6(R,r,!1,!0),D[r]=R,$$2$1({global:!0,forced:!0},D),l||e.setStrong(R,r,o),R},redefine$5=redefine$4$1,redefineAll$1$1=function(r,t,e){for(var o in t)e&&e.unsafe&&r[o]?r[o]=t[o]:redefine$5(r,o,t[o],e);return r},getBuiltIn$a=getBuiltIn$9$1,definePropertyModule$5=objectDefineProperty$1,wellKnownSymbol$k=wellKnownSymbol$j$1,DESCRIPTORS$1$1=descriptors$2,SPECIES$4=wellKnownSymbol$k("species"),setSpecies$1$1=function(r){var t=getBuiltIn$a(r),e=definePropertyModule$5.f;DESCRIPTORS$1$1&&t&&!t[SPECIES$4]&&e(t,SPECIES$4,{configurable:!0,get:function(){return this}})},defineProperty$f=objectDefineProperty$1.f,create$b=objectCreate$1,redefineAll$4=redefineAll$1$1,bind$e=functionBindContext$1,anInstance$4=anInstance$2$1,iterate$4=iterate$2$1,defineIterator$4=defineIterator$3$1,setSpecies$2=setSpecies$1$1,DESCRIPTORS$i=descriptors$2,fastKey$2=internalMetadata$1.exports.fastKey,InternalStateModule$6=internalState$1,setInternalState$6=InternalStateModule$6.set,internalStateGetterFor$3=InternalStateModule$6.getterFor,collectionStrong$2$1={getConstructor:function(r,t,e,o){var l=r(function(R,F){anInstance$4(R,h),setInternalState$6(R,{type:t,index:create$b(null),first:void 0,last:void 0,size:0}),DESCRIPTORS$i||(R.size=0),F!=null&&iterate$4(F,R[o],{that:R,AS_ENTRIES:e})}),h=l.prototype,y=internalStateGetterFor$3(t),O=function(R,F,j){var B=y(R),U=D(R,F),W,q;return U?U.value=j:(B.last=U={index:q=fastKey$2(F,!0),key:F,value:j,previous:W=B.last,next:void 0,removed:!1},B.first||(B.first=U),W&&(W.next=U),DESCRIPTORS$i?B.size++:R.size++,q!=="F"&&(B.index[q]=U)),R},D=function(R,F){var j=y(R),B=fastKey$2(F),U;if(B!=="F")return j.index[B];for(U=j.first;U;U=U.next)if(U.key==F)return U};return redefineAll$4(h,{clear:function(){for(var F=this,j=y(F),B=j.index,U=j.first;U;)U.removed=!0,U.previous&&(U.previous=U.previous.next=void 0),delete B[U.index],U=U.next;j.first=j.last=void 0,DESCRIPTORS$i?j.size=0:F.size=0},delete:function(R){var F=this,j=y(F),B=D(F,R);if(B){var U=B.next,W=B.previous;delete j.index[B.index],B.removed=!0,W&&(W.next=U),U&&(U.previous=W),j.first==B&&(j.first=U),j.last==B&&(j.last=W),DESCRIPTORS$i?j.size--:F.size--}return!!B},forEach:function(F){for(var j=y(this),B=bind$e(F,arguments.length>1?arguments[1]:void 0),U;U=U?U.next:j.first;)for(B(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(F){return!!D(this,F)}}),redefineAll$4(h,e?{get:function(F){var j=D(this,F);return j&&j.value},set:function(F,j){return O(this,F===0?0:F,j)}}:{add:function(F){return O(this,F=F===0?0:F,F)}}),DESCRIPTORS$i&&defineProperty$f(h,"size",{get:function(){return y(this).size}}),l},setStrong:function(r,t,e){var o=t+" Iterator",l=internalStateGetterFor$3(t),h=internalStateGetterFor$3(o);defineIterator$4(r,t,function(y,O){setInternalState$6(this,{type:o,target:y,state:l(y),kind:O,last:void 0})},function(){for(var y=h(this),O=y.kind,D=y.last;D&&D.removed;)D=D.previous;return!y.target||!(y.last=D=D?D.next:y.state.first)?(y.target=void 0,{value:void 0,done:!0}):O=="keys"?{value:D.key,done:!1}:O=="values"?{value:D.value,done:!1}:{value:[D.key,D.value],done:!1}},e?"entries":"values",!e,!0),setSpecies$2(t)}},collection$1$1=collection$2$1,collectionStrong$1$1=collectionStrong$2$1;collection$1$1("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1$1);var path$1$1=path$q$1,map$2$2=path$1$1.Map,parent$9$1=map$2$2,map$1$2=parent$9$1,map$8=map$1$2,$$1$1=_export$1,$some$1=arrayIteration$1.some,arrayMethodIsStrict$1$1=arrayMethodIsStrict$5$1,STRICT_METHOD$1$1=arrayMethodIsStrict$1$1("some");$$1$1({target:"Array",proto:!0,forced:!STRICT_METHOD$1$1},{some:function r(t){return $some$1(this,t,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$4$1=entryVirtual$k,some$3$1=entryVirtual$4$1("Array").some,isPrototypeOf$4$1=objectIsPrototypeOf$1,method$4$1=some$3$1,ArrayPrototype$4$1=Array.prototype,some$2$1=function(r){var t=r.some;return r===ArrayPrototype$4$1||isPrototypeOf$4$1(ArrayPrototype$4$1,r)&&t===ArrayPrototype$4$1.some?method$4$1:t},parent$8$1=some$2$1,some$1$1=parent$8$1,some$4=some$1$1,entryVirtual$3$1=entryVirtual$k,keys$3$1=entryVirtual$3$1("Array").keys,parent$7$1=keys$3$1,keys$2$1=parent$7$1,classof$2$1=classof$c$1,hasOwn$2$1=hasOwnProperty_1$1,isPrototypeOf$3$1=objectIsPrototypeOf$1,method$3$1=keys$2$1,ArrayPrototype$3$1=Array.prototype,DOMIterables$2$1={DOMTokenList:!0,NodeList:!0},keys$1$1=function(r){var t=r.keys;return r===ArrayPrototype$3$1||isPrototypeOf$3$1(ArrayPrototype$3$1,r)&&t===ArrayPrototype$3$1.keys||hasOwn$2$1(DOMIterables$2$1,classof$2$1(r))?method$3$1:t},keys$8=keys$1$1,arraySlice$6=arraySliceSimple$1,floor$2=Math.floor,mergeSort$1=function(r,t){var e=r.length,o=floor$2(e/2);return e<8?insertionSort$1(r,t):merge$4(r,mergeSort$1(arraySlice$6(r,0,o),t),mergeSort$1(arraySlice$6(r,o),t),t)},insertionSort$1=function(r,t){for(var e=r.length,o=1,l,h;o<e;){for(h=o,l=r[o];h&&t(r[h-1],l)>0;)r[h]=r[--h];h!==o++&&(r[h]=l)}return r},merge$4=function(r,t,e,o){for(var l=t.length,h=e.length,y=0,O=0;y<l||O<h;)r[y+O]=y<l&&O<h?o(t[y],e[O])<=0?t[y++]:e[O++]:y<l?t[y++]:e[O++];return r},arraySort$1=mergeSort$1,userAgent$1$1=engineUserAgent$1,firefox$1=userAgent$1$1.match(/firefox\/(\d+)/i),engineFfVersion$1=!!firefox$1&&+firefox$1[1],UA$1=engineUserAgent$1,engineIsIeOrEdge$1=/MSIE|Trident/.test(UA$1),userAgent$4=engineUserAgent$1,webkit$1=userAgent$4.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion$1=!!webkit$1&&+webkit$1[1],$$J=_export$1,uncurryThis$x=functionUncurryThis$1,aCallable$8=aCallable$7,toObject$f=toObject$e,lengthOfArrayLike$e=lengthOfArrayLike$d,toString$b=toString$7$1,fails$u=fails$r$1,internalSort$1=arraySort$1,arrayMethodIsStrict$7=arrayMethodIsStrict$5$1,FF$1=engineFfVersion$1,IE_OR_EDGE$1=engineIsIeOrEdge$1,V8$1=engineV8Version$1,WEBKIT$1=engineWebkitVersion$1,test$3=[],un$Sort$1=uncurryThis$x(test$3.sort),push$6=uncurryThis$x(test$3.push),FAILS_ON_UNDEFINED$1=fails$u(function(){test$3.sort(void 0)}),FAILS_ON_NULL$1=fails$u(function(){test$3.sort(null)}),STRICT_METHOD$6=arrayMethodIsStrict$7("sort"),STABLE_SORT$1=!fails$u(function(){if(V8$1)return V8$1<70;if(!(FF$1&&FF$1>3)){if(IE_OR_EDGE$1)return!0;if(WEBKIT$1)return WEBKIT$1<603;var r="",t,e,o,l;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(l=0;l<47;l++)test$3.push({k:e+l,v:o})}for(test$3.sort(function(h,y){return y.v-h.v}),l=0;l<test$3.length;l++)e=test$3[l].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!=="DGBEFHACIJK"}}),FORCED$7=FAILS_ON_UNDEFINED$1||!FAILS_ON_NULL$1||!STRICT_METHOD$6||!STABLE_SORT$1,getSortCompare$1=function(r){return function(t,e){return e===void 0?-1:t===void 0?1:r!==void 0?+r(t,e)||0:toString$b(t)>toString$b(e)?1:-1}};$$J({target:"Array",proto:!0,forced:FORCED$7},{sort:function r(t){t!==void 0&&aCallable$8(t);var e=toObject$f(this);if(STABLE_SORT$1)return t===void 0?un$Sort$1(e):un$Sort$1(e,t);var o=[],l=lengthOfArrayLike$e(e),h,y;for(y=0;y<l;y++)y in e&&push$6(o,e[y]);for(internalSort$1(o,getSortCompare$1(t)),h=o.length,y=0;y<h;)e[y]=o[y++];for(;y<l;)delete e[y++];return e}});var entryVirtual$2$1=entryVirtual$k,sort$3$1=entryVirtual$2$1("Array").sort,isPrototypeOf$2$1=objectIsPrototypeOf$1,method$2$1=sort$3$1,ArrayPrototype$2$1=Array.prototype,sort$2$1=function(r){var t=r.sort;return r===ArrayPrototype$2$1||isPrototypeOf$2$1(ArrayPrototype$2$1,r)&&t===ArrayPrototype$2$1.sort?method$2$1:t},parent$6$1=sort$2$1,sort$1$1=parent$6$1,sort$4=sort$1$1,entryVirtual$1$1=entryVirtual$k,values$3$1=entryVirtual$1$1("Array").values,parent$5$1=values$3$1,values$2$1=parent$5$1,classof$1$1=classof$c$1,hasOwn$1$1=hasOwnProperty_1$1,isPrototypeOf$1$1=objectIsPrototypeOf$1,method$1$1=values$2$1,ArrayPrototype$1$1=Array.prototype,DOMIterables$1$1={DOMTokenList:!0,NodeList:!0},values$1$1=function(r){var t=r.values;return r===ArrayPrototype$1$1||isPrototypeOf$1$1(ArrayPrototype$1$1,r)&&t===ArrayPrototype$1$1.values||hasOwn$1$1(DOMIterables$1$1,classof$1$1(r))?method$1$1:t},values$4=values$1$1,iterator$6=iterator$4$1,entryVirtual$l=entryVirtual$k,entries$3=entryVirtual$l("Array").entries,parent$4$1=entries$3,entries$2=parent$4$1,classof$g=classof$c$1,hasOwn$g=hasOwnProperty_1$1,isPrototypeOf$k=objectIsPrototypeOf$1,method$f=entries$2,ArrayPrototype$g=Array.prototype,DOMIterables$5={DOMTokenList:!0,NodeList:!0},entries$1=function(r){var t=r.entries;return r===ArrayPrototype$g||isPrototypeOf$k(ArrayPrototype$g,r)&&t===ArrayPrototype$g.entries||hasOwn$g(DOMIterables$5,classof$g(r))?method$f:t},entries=entries$1,getRandomValues$1,rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}var REGEX$1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(r){return typeof r=="string"&&REGEX$1.test(r)}var byteToHex$1=[];for(var i$1=0;i$1<256;++i$1)byteToHex$1.push((i$1+256).toString(16).substr(1));function stringify$4(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(byteToHex$1[r[t+0]]+byteToHex$1[r[t+1]]+byteToHex$1[r[t+2]]+byteToHex$1[r[t+3]]+"-"+byteToHex$1[r[t+4]]+byteToHex$1[r[t+5]]+"-"+byteToHex$1[r[t+6]]+byteToHex$1[r[t+7]]+"-"+byteToHex$1[r[t+8]]+byteToHex$1[r[t+9]]+"-"+byteToHex$1[r[t+10]]+byteToHex$1[r[t+11]]+byteToHex$1[r[t+12]]+byteToHex$1[r[t+13]]+byteToHex$1[r[t+14]]+byteToHex$1[r[t+15]]).toLowerCase();if(!validate$1(e))throw TypeError("Stringified UUID is invalid");return e}function v4$1(r,t,e){r=r||{};var o=r.random||(r.rng||rng$1)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){e=e||0;for(var l=0;l<16;++l)t[e+l]=o[l];return t}return stringify$4(o)}function isId(r){return typeof r=="string"||typeof r=="number"}var Queue=function(){function r(t){_classCallCheck$1(this,r),_defineProperty$1(this,"delay",void 0),_defineProperty$1(this,"max",void 0),_defineProperty$1(this,"_queue",[]),_defineProperty$1(this,"_timeout",null),_defineProperty$1(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}return _createClass$1(r,[{key:"setOptions",value:function(e){e&&typeof e.delay!="undefined"&&(this.delay=e.delay),e&&typeof e.max!="undefined"&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,o=this._extended.methods,l=0;l<o.length;l++){var h=o[l];h.original?e[h.name]=h.original:delete e[h.name]}this._extended=null}}},{key:"replace",value:function(e,o){var l=this,h=e[o];if(!h)throw new Error("Method "+o+" undefined");e[o]=function(){for(var y=arguments.length,O=new Array(y),D=0;D<y;D++)O[D]=arguments[D];l.queue({args:O,fn:h,context:this})}}},{key:"queue",value:function(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=setTimeout$1$1(function(){e.flush()},this.delay))}},{key:"flush",value:function(){var e,o;forEach$1$1(e=splice$5(o=this._queue).call(o,0)).call(e,function(l){l.fn.apply(l.context||l.fn,l.args||[])})}}],[{key:"extend",value:function(e,o){var l=new r(o);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=function(){l.flush()};var h=[{name:"flush",original:void 0}];if(o&&o.replace)for(var y=0;y<o.replace.length;y++){var O=o.replace[y];h.push({name:O,original:e[O]}),l.replace(e,O)}return l._extended={object:e,methods:h},l}}]),r}(),DataSetPart=function(){function r(){_classCallCheck$1(this,r),_defineProperty$1(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),_defineProperty$1(this,"subscribe",r.prototype.on),_defineProperty$1(this,"unsubscribe",r.prototype.off)}return _createClass$1(r,[{key:"_trigger",value:function(e,o,l){var h,y;if(e==="*")throw new Error("Cannot trigger event *");forEach$1$1(h=concat$1$1(y=[]).call(y,_toConsumableArray$1(this._subscribers[e]),_toConsumableArray$1(this._subscribers["*"]))).call(h,function(O){O(e,o,l!=null?l:null)})}},{key:"on",value:function(e,o){typeof o=="function"&&this._subscribers[e].push(o)}},{key:"off",value:function(e,o){var l;this._subscribers[e]=filter$4(l=this._subscribers[e]).call(l,function(h){return h!==o})}}]),r}(),collection$4=collection$2$1,collectionStrong$3=collectionStrong$2$1;collection$4("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},collectionStrong$3);var path$z=path$q$1,set$2$1=path$z.Set,parent$3$1=set$2$1,set$1$2=parent$3$1,set$5=set$1$2,getIterator$4=getIterator$7,getIterator_1=getIterator$4,parent$2$1=getIterator_1,getIterator$3=parent$2$1,parent$1$1=getIterator$3,getIterator$2$1=parent$1$1,parent$14=getIterator$2$1,getIterator$1$1=parent$14,getIterator$8=getIterator$1$1,_Symbol$iterator;function _createForOfIteratorHelper$2$1(r,t){var e=typeof symbol$6!="undefined"&&getIteratorMethod$1$1(r)||r["@@iterator"];if(!e){if(isArray$1$1(r)||(e=_unsupportedIterableToArray$2$1(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$2$1(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$2$1(r,t);var o=slice$7(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3$1(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$2$1(r,t)}}function _arrayLikeToArray$2$1(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}_Symbol$iterator=iterator$6;var DataStream=function(){function r(t){_classCallCheck$1(this,r),_defineProperty$1(this,"_pairs",void 0),this._pairs=t}return _createClass$1(r,[{key:_Symbol$iterator,value:regenerator.mark(function t(){var e,o,l,h,y;return regenerator.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:e=_createForOfIteratorHelper$2$1(this._pairs),D.prev=1,e.s();case 3:if((o=e.n()).done){D.next=9;break}return l=_slicedToArray$1(o.value,2),h=l[0],y=l[1],D.next=7,[h,y];case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),e.e(D.t0);case 14:return D.prev=14,e.f(),D.finish(14);case 17:case"end":return D.stop()}},t,this,[[1,11,14,17]])})},{key:"entries",value:regenerator.mark(function t(){var e,o,l,h,y;return regenerator.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:e=_createForOfIteratorHelper$2$1(this._pairs),D.prev=1,e.s();case 3:if((o=e.n()).done){D.next=9;break}return l=_slicedToArray$1(o.value,2),h=l[0],y=l[1],D.next=7,[h,y];case 7:D.next=3;break;case 9:D.next=14;break;case 11:D.prev=11,D.t0=D.catch(1),e.e(D.t0);case 14:return D.prev=14,e.f(),D.finish(14);case 17:case"end":return D.stop()}},t,this,[[1,11,14,17]])})},{key:"keys",value:regenerator.mark(function t(){var e,o,l,h;return regenerator.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:e=_createForOfIteratorHelper$2$1(this._pairs),O.prev=1,e.s();case 3:if((o=e.n()).done){O.next=9;break}return l=_slicedToArray$1(o.value,1),h=l[0],O.next=7,h;case 7:O.next=3;break;case 9:O.next=14;break;case 11:O.prev=11,O.t0=O.catch(1),e.e(O.t0);case 14:return O.prev=14,e.f(),O.finish(14);case 17:case"end":return O.stop()}},t,this,[[1,11,14,17]])})},{key:"values",value:regenerator.mark(function t(){var e,o,l,h;return regenerator.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:e=_createForOfIteratorHelper$2$1(this._pairs),O.prev=1,e.s();case 3:if((o=e.n()).done){O.next=9;break}return l=_slicedToArray$1(o.value,2),h=l[1],O.next=7,h;case 7:O.next=3;break;case 9:O.next=14;break;case 11:O.prev=11,O.t0=O.catch(1),e.e(O.t0);case 14:return O.prev=14,e.f(),O.finish(14);case 17:case"end":return O.stop()}},t,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var e;return map$3$1(e=_toConsumableArray$1(this._pairs)).call(e,function(o){return o[0]})}},{key:"toItemArray",value:function(){var e;return map$3$1(e=_toConsumableArray$1(this._pairs)).call(e,function(o){return o[1]})}},{key:"toEntryArray",value:function(){return _toConsumableArray$1(this._pairs)}},{key:"toObjectMap",value:function(){var e=create$5$1(null),o=_createForOfIteratorHelper$2$1(this._pairs),l;try{for(o.s();!(l=o.n()).done;){var h=_slicedToArray$1(l.value,2),y=h[0],O=h[1];e[y]=O}}catch(D){o.e(D)}finally{o.f()}return e}},{key:"toMap",value:function(){return new map$8(this._pairs)}},{key:"toIdSet",value:function(){return new set$5(this.toIdArray())}},{key:"toItemSet",value:function(){return new set$5(this.toItemArray())}},{key:"cache",value:function(){return new r(_toConsumableArray$1(this._pairs))}},{key:"distinct",value:function(e){var o=new set$5,l=_createForOfIteratorHelper$2$1(this._pairs),h;try{for(l.s();!(h=l.n()).done;){var y=_slicedToArray$1(h.value,2),O=y[0],D=y[1];o.add(e(D,O))}}catch(R){l.e(R)}finally{l.f()}return o}},{key:"filter",value:function(e){var o=this._pairs;return new r(_defineProperty$1({},iterator$6,regenerator.mark(function l(){var h,y,O,D,R;return regenerator.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:h=_createForOfIteratorHelper$2$1(o),j.prev=1,h.s();case 3:if((y=h.n()).done){j.next=10;break}if(O=_slicedToArray$1(y.value,2),D=O[0],R=O[1],!e(R,D)){j.next=8;break}return j.next=8,[D,R];case 8:j.next=3;break;case 10:j.next=15;break;case 12:j.prev=12,j.t0=j.catch(1),h.e(j.t0);case 15:return j.prev=15,h.f(),j.finish(15);case 18:case"end":return j.stop()}},l,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(e){var o=_createForOfIteratorHelper$2$1(this._pairs),l;try{for(o.s();!(l=o.n()).done;){var h=_slicedToArray$1(l.value,2),y=h[0],O=h[1];e(O,y)}}catch(D){o.e(D)}finally{o.f()}}},{key:"map",value:function(e){var o=this._pairs;return new r(_defineProperty$1({},iterator$6,regenerator.mark(function l(){var h,y,O,D,R;return regenerator.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:h=_createForOfIteratorHelper$2$1(o),j.prev=1,h.s();case 3:if((y=h.n()).done){j.next=9;break}return O=_slicedToArray$1(y.value,2),D=O[0],R=O[1],j.next=7,[D,e(R,D)];case 7:j.next=3;break;case 9:j.next=14;break;case 11:j.prev=11,j.t0=j.catch(1),h.e(j.t0);case 14:return j.prev=14,h.f(),j.finish(14);case 17:case"end":return j.stop()}},l,null,[[1,11,14,17]])})))}},{key:"max",value:function(e){var o=getIterator$8(this._pairs),l=o.next();if(l.done)return null;for(var h=l.value[1],y=e(l.value[1],l.value[0]);!(l=o.next()).done;){var O=_slicedToArray$1(l.value,2),D=O[0],R=O[1],F=e(R,D);F>y&&(y=F,h=R)}return h}},{key:"min",value:function(e){var o=getIterator$8(this._pairs),l=o.next();if(l.done)return null;for(var h=l.value[1],y=e(l.value[1],l.value[0]);!(l=o.next()).done;){var O=_slicedToArray$1(l.value,2),D=O[0],R=O[1],F=e(R,D);F<y&&(y=F,h=R)}return h}},{key:"reduce",value:function(e,o){var l=_createForOfIteratorHelper$2$1(this._pairs),h;try{for(l.s();!(h=l.n()).done;){var y=_slicedToArray$1(h.value,2),O=y[0],D=y[1];o=e(o,D,O)}}catch(R){l.e(R)}finally{l.f()}return o}},{key:"sort",value:function(e){var o=this;return new r(_defineProperty$1({},iterator$6,function(){var l;return getIterator$8(sort$4(l=_toConsumableArray$1(o._pairs)).call(l,function(h,y){var O=_slicedToArray$1(h,2),D=O[0],R=O[1],F=_slicedToArray$1(y,2),j=F[0],B=F[1];return e(R,B,D,j)}))}))}}]),r}();function ownKeys$7(r,t){var e=keys$4(r);if(getOwnPropertySymbols$3){var o=getOwnPropertySymbols$3(r);t&&(o=filter$4(o).call(o,function(l){return getOwnPropertyDescriptor$9(r,l).enumerable})),e.push.apply(e,o)}return e}function _objectSpread$4(r){for(var t=1;t<arguments.length;t++){var e,o,l=arguments[t]!=null?arguments[t]:{};t%2?forEach$1$1(e=ownKeys$7(Object(l),!0)).call(e,function(h){_defineProperty$1(r,h,l[h])}):getOwnPropertyDescriptors$3?defineProperties$5(r,getOwnPropertyDescriptors$3(l)):forEach$1$1(o=ownKeys$7(Object(l))).call(o,function(h){defineProperty$4$1(r,h,getOwnPropertyDescriptor$9(l,h))})}return r}function _createForOfIteratorHelper$1$1(r,t){var e=typeof symbol$6!="undefined"&&getIteratorMethod$1$1(r)||r["@@iterator"];if(!e){if(isArray$1$1(r)||(e=_unsupportedIterableToArray$1$1(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$1$1(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$1$1(r,t);var o=slice$7(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3$1(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$1$1(r,t)}}function _arrayLikeToArray$1$1(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}function _createSuper$1$1(r){var t=_isNativeReflectConstruct$1$1();return function(){var o=_getPrototypeOf$1(r),l;if(t){var h=_getPrototypeOf$1(this).constructor;l=construct$5(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn$1(this,l)}}function _isNativeReflectConstruct$1$1(){if(typeof Reflect=="undefined"||!construct$5||construct$5.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct$5(Boolean,[],function(){})),!0}catch{return!1}}function ensureFullItem(r,t){return r[t]==null&&(r[t]=v4$1()),r}var DataSet=function(r){_inherits$1(e,r);var t=_createSuper$1$1(e);function e(o,l){var h;return _classCallCheck$1(this,e),h=t.call(this),_defineProperty$1(_assertThisInitialized$2(h),"flush",void 0),_defineProperty$1(_assertThisInitialized$2(h),"length",void 0),_defineProperty$1(_assertThisInitialized$2(h),"_options",void 0),_defineProperty$1(_assertThisInitialized$2(h),"_data",void 0),_defineProperty$1(_assertThisInitialized$2(h),"_idProp",void 0),_defineProperty$1(_assertThisInitialized$2(h),"_queue",null),o&&!isArray$1$1(o)&&(l=o,o=[]),h._options=l||{},h._data=new map$8,h.length=0,h._idProp=h._options.fieldId||"id",o&&o.length&&h.add(o),h.setOptions(l),h}return _createClass$1(e,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(l){l&&l.queue!==void 0&&(l.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Queue.extend(this,{replace:["add","update","remove"]})),l.queue&&_typeof$1(l.queue)==="object"&&this._queue.setOptions(l.queue)))}},{key:"add",value:function(l,h){var y=this,O=[],D;if(isArray$1$1(l)){var R=map$3$1(l).call(l,function(B){return B[y._idProp]});if(some$4(R).call(R,function(B){return y._data.has(B)}))throw new Error("A duplicate id was found in the parameter array.");for(var F=0,j=l.length;F<j;F++)D=this._addItem(l[F]),O.push(D)}else if(l&&_typeof$1(l)==="object")D=this._addItem(l),O.push(D);else throw new Error("Unknown dataType");return O.length&&this._trigger("add",{items:O},h),O}},{key:"update",value:function(l,h){var y=this,O=[],D=[],R=[],F=[],j=this._idProp,B=function(Y){var X=Y[j];if(X!=null&&y._data.has(X)){var J=Y,Q=assign$2$1({},y._data.get(X)),Z=y._updateItem(J);D.push(Z),F.push(J),R.push(Q)}else{var ee=y._addItem(Y);O.push(ee)}};if(isArray$1$1(l))for(var U=0,W=l.length;U<W;U++)l[U]&&_typeof$1(l[U])==="object"?B(l[U]):console.warn("Ignoring input item, which is not an object at index "+U);else if(l&&_typeof$1(l)==="object")B(l);else throw new Error("Unknown dataType");if(O.length&&this._trigger("add",{items:O},h),D.length){var q={items:D,oldData:R,data:F};this._trigger("update",q,h)}return concat$1$1(O).call(O,D)}},{key:"updateOnly",value:function(l,h){var y,O=this;isArray$1$1(l)||(l=[l]);var D=map$3$1(y=map$3$1(l).call(l,function(F){var j=O._data.get(F[O._idProp]);if(j==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:j,update:F}})).call(y,function(F){var j=F.oldData,B=F.update,U=j[O._idProp],W=pureDeepObjectAssign(j,B);return O._data.set(U,W),{id:U,oldData:j,updatedData:W}});if(D.length){var R={items:map$3$1(D).call(D,function(F){return F.id}),oldData:map$3$1(D).call(D,function(F){return F.oldData}),data:map$3$1(D).call(D,function(F){return F.updatedData})};return this._trigger("update",R,h),R.items}else return[]}},{key:"get",value:function(l,h){var y=void 0,O=void 0,D=void 0;isId(l)?(y=l,D=h):isArray$1$1(l)?(O=l,D=h):D=l;var R=D&&D.returnType==="Object"?"Object":"Array",F=D&&filter$4(D),j=[],B=void 0,U=void 0,W=void 0;if(y!=null)B=this._data.get(y),B&&F&&!F(B)&&(B=void 0);else if(O!=null)for(var q=0,K=O.length;q<K;q++)B=this._data.get(O[q]),B!=null&&(!F||F(B))&&j.push(B);else{var Y;U=_toConsumableArray$1(keys$8(Y=this._data).call(Y));for(var X=0,J=U.length;X<J;X++)W=U[X],B=this._data.get(W),B!=null&&(!F||F(B))&&j.push(B)}if(D&&D.order&&y==null&&this._sort(j,D.order),D&&D.fields){var Q=D.fields;if(y!=null&&B!=null)B=this._filterFields(B,Q);else for(var Z=0,ee=j.length;Z<ee;Z++)j[Z]=this._filterFields(j[Z],Q)}if(R=="Object"){for(var re={},te=0,ne=j.length;te<ne;te++){var ae=j[te],ie=ae[this._idProp];re[ie]=ae}return re}else if(y!=null){var oe;return(oe=B)!==null&&oe!==void 0?oe:null}else return j}},{key:"getIds",value:function(l){var h=this._data,y=l&&filter$4(l),O=l&&l.order,D=_toConsumableArray$1(keys$8(h).call(h)),R=[];if(y)if(O){for(var F=[],j=0,B=D.length;j<B;j++){var U=D[j],W=this._data.get(U);W!=null&&y(W)&&F.push(W)}this._sort(F,O);for(var q=0,K=F.length;q<K;q++)R.push(F[q][this._idProp])}else for(var Y=0,X=D.length;Y<X;Y++){var J=D[Y],Q=this._data.get(J);Q!=null&&y(Q)&&R.push(Q[this._idProp])}else if(O){for(var Z=[],ee=0,re=D.length;ee<re;ee++){var te=D[ee];Z.push(h.get(te))}this._sort(Z,O);for(var ne=0,ae=Z.length;ne<ae;ne++)R.push(Z[ne][this._idProp])}else for(var ie=0,oe=D.length;ie<oe;ie++){var ce=D[ie],ue=h.get(ce);ue!=null&&R.push(ue[this._idProp])}return R}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(l,h){var y=h&&filter$4(h),O=this._data,D=_toConsumableArray$1(keys$8(O).call(O));if(h&&h.order)for(var R=this.get(h),F=0,j=R.length;F<j;F++){var B=R[F],U=B[this._idProp];l(B,U)}else for(var W=0,q=D.length;W<q;W++){var K=D[W],Y=this._data.get(K);Y!=null&&(!y||y(Y))&&l(Y,K)}}},{key:"map",value:function(l,h){for(var y=h&&filter$4(h),O=[],D=this._data,R=_toConsumableArray$1(keys$8(D).call(D)),F=0,j=R.length;F<j;F++){var B=R[F],U=this._data.get(B);U!=null&&(!y||y(U))&&O.push(l(U,B))}return h&&h.order&&this._sort(O,h.order),O}},{key:"_filterFields",value:function(l,h){var y;return l&&reduce$4(y=isArray$1$1(h)?h:keys$4(h)).call(y,function(O,D){return O[D]=l[D],O},{})}},{key:"_sort",value:function(l,h){if(typeof h=="string"){var y=h;sort$4(l).call(l,function(O,D){var R=O[y],F=D[y];return R>F?1:R<F?-1:0})}else if(typeof h=="function")sort$4(l).call(l,h);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(l,h){for(var y=[],O=[],D=isArray$1$1(l)?l:[l],R=0,F=D.length;R<F;R++){var j=this._remove(D[R]);if(j){var B=j[this._idProp];B!=null&&(y.push(B),O.push(j))}}return y.length&&this._trigger("remove",{items:y,oldData:O},h),y}},{key:"_remove",value:function(l){var h;if(isId(l)?h=l:l&&_typeof$1(l)==="object"&&(h=l[this._idProp]),h!=null&&this._data.has(h)){var y=this._data.get(h)||null;return this._data.delete(h),--this.length,y}return null}},{key:"clear",value:function(l){for(var h,y=_toConsumableArray$1(keys$8(h=this._data).call(h)),O=[],D=0,R=y.length;D<R;D++)O.push(this._data.get(y[D]));return this._data.clear(),this.length=0,this._trigger("remove",{items:y,oldData:O},l),y}},{key:"max",value:function(l){var h,y=null,O=null,D=_createForOfIteratorHelper$1$1(values$4(h=this._data).call(h)),R;try{for(D.s();!(R=D.n()).done;){var F=R.value,j=F[l];typeof j=="number"&&(O==null||j>O)&&(y=F,O=j)}}catch(B){D.e(B)}finally{D.f()}return y||null}},{key:"min",value:function(l){var h,y=null,O=null,D=_createForOfIteratorHelper$1$1(values$4(h=this._data).call(h)),R;try{for(D.s();!(R=D.n()).done;){var F=R.value,j=F[l];typeof j=="number"&&(O==null||j<O)&&(y=F,O=j)}}catch(B){D.e(B)}finally{D.f()}return y||null}},{key:"distinct",value:function(l){for(var h=this._data,y=_toConsumableArray$1(keys$8(h).call(h)),O=[],D=0,R=0,F=y.length;R<F;R++){for(var j=y[R],B=h.get(j),U=B[l],W=!1,q=0;q<D;q++)if(O[q]==U){W=!0;break}!W&&U!==void 0&&(O[D]=U,D++)}return O}},{key:"_addItem",value:function(l){var h=ensureFullItem(l,this._idProp),y=h[this._idProp];if(this._data.has(y))throw new Error("Cannot add item: item with id "+y+" already exists");return this._data.set(y,h),++this.length,y}},{key:"_updateItem",value:function(l){var h=l[this._idProp];if(h==null)throw new Error("Cannot update item: item has no id (item: "+stringify$1$1(l)+")");var y=this._data.get(h);if(!y)throw new Error("Cannot update item: no item with id "+h+" found");return this._data.set(h,_objectSpread$4(_objectSpread$4({},y),l)),h}},{key:"stream",value:function(l){if(l){var h=this._data;return new DataStream(_defineProperty$1({},iterator$6,regenerator.mark(function O(){var D,R,F,j;return regenerator.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:D=_createForOfIteratorHelper$1$1(l),U.prev=1,D.s();case 3:if((R=D.n()).done){U.next=11;break}if(F=R.value,j=h.get(F),j==null){U.next=9;break}return U.next=9,[F,j];case 9:U.next=3;break;case 11:U.next=16;break;case 13:U.prev=13,U.t0=U.catch(1),D.e(U.t0);case 16:return U.prev=16,D.f(),U.finish(16);case 19:case"end":return U.stop()}},O,null,[[1,13,16,19]])})))}else{var y;return new DataStream(_defineProperty$1({},iterator$6,bind$6$1(y=entries(this._data)).call(y,this._data)))}}}]),e}(DataSetPart);function isDataSetLike(r,t){return _typeof$1(t)==="object"&&t!==null&&r===t.idProp&&typeof t.add=="function"&&typeof t.clear=="function"&&typeof t.distinct=="function"&&typeof forEach$1$1(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof map$3$1(t)=="function"&&typeof t.max=="function"&&typeof t.min=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.remove=="function"&&typeof t.setOptions=="function"&&typeof t.stream=="function"&&typeof t.update=="function"&&typeof t.updateOnly=="function"}function isDataViewLike(r,t){return _typeof$1(t)==="object"&&t!==null&&r===t.idProp&&typeof forEach$1$1(t)=="function"&&typeof t.get=="function"&&typeof t.getDataSet=="function"&&typeof t.getIds=="function"&&typeof t.length=="number"&&typeof map$3$1(t)=="function"&&typeof t.off=="function"&&typeof t.on=="function"&&typeof t.stream=="function"&&isDataSetLike(r,t.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.2
 * @date    2022-03-28T20:13:51.046Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},check=function(r){return r&&r.Math==Math&&r},global$O=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),fails$t=function(r){try{return!!r()}catch{return!0}},fails$s=fails$t,functionBindNative=!fails$s(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")}),NATIVE_BIND$4=functionBindNative,FunctionPrototype$3=Function.prototype,apply$6=FunctionPrototype$3.apply,call$d=FunctionPrototype$3.call,functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$4?call$d.bind(apply$6):function(){return call$d.apply(apply$6,arguments)}),NATIVE_BIND$3=functionBindNative,FunctionPrototype$2=Function.prototype,bind$c=FunctionPrototype$2.bind,call$c=FunctionPrototype$2.call,uncurryThis$w=NATIVE_BIND$3&&bind$c.bind(call$c,call$c),functionUncurryThis=NATIVE_BIND$3?function(r){return r&&uncurryThis$w(r)}:function(r){return r&&function(){return call$c.apply(r,arguments)}},isCallable$h=function(r){return typeof r=="function"},objectGetOwnPropertyDescriptor={},fails$r=fails$t,descriptors$1=!fails$r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),NATIVE_BIND$2=functionBindNative,call$b=Function.prototype.call,functionCall=NATIVE_BIND$2?call$b.bind(call$b):function(){return call$b.apply(call$b,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable$2={}.propertyIsEnumerable,getOwnPropertyDescriptor$8=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$8&&!$propertyIsEnumerable$2.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function r(t){var e=getOwnPropertyDescriptor$8(this,t);return!!e&&e.enumerable}:$propertyIsEnumerable$2;var createPropertyDescriptor$5=function(r,t){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:t}},uncurryThis$v=functionUncurryThis,toString$a=uncurryThis$v({}.toString),stringSlice$1=uncurryThis$v("".slice),classofRaw$1=function(r){return stringSlice$1(toString$a(r),8,-1)},global$N=global$O,uncurryThis$u=functionUncurryThis,fails$q=fails$t,classof$d=classofRaw$1,Object$a=global$N.Object,split=uncurryThis$u("".split),indexedObject=fails$q(function(){return!Object$a("z").propertyIsEnumerable(0)})?function(r){return classof$d(r)=="String"?split(r,""):Object$a(r)}:Object$a,global$M=global$O,TypeError$i=global$M.TypeError,requireObjectCoercible$5=function(r){if(r==null)throw TypeError$i("Can't call method on "+r);return r},IndexedObject$3=indexedObject,requireObjectCoercible$4=requireObjectCoercible$5,toIndexedObject$b=function(r){return IndexedObject$3(requireObjectCoercible$4(r))},isCallable$g=isCallable$h,isObject$j=function(r){return typeof r=="object"?r!==null:isCallable$g(r)},path$y={},path$x=path$y,global$L=global$O,isCallable$f=isCallable$h,aFunction=function(r){return isCallable$f(r)?r:void 0},getBuiltIn$9=function(r,t){return arguments.length<2?aFunction(path$x[r])||aFunction(global$L[r]):path$x[r]&&path$x[r][t]||global$L[r]&&global$L[r][t]},uncurryThis$t=functionUncurryThis,objectIsPrototypeOf=uncurryThis$t({}.isPrototypeOf),getBuiltIn$8=getBuiltIn$9,engineUserAgent=getBuiltIn$8("navigator","userAgent")||"",global$K=global$O,userAgent$3=engineUserAgent,process=global$K.process,Deno=global$K.Deno,versions=process&&process.versions||Deno&&Deno.version,v8=versions&&versions.v8,match$2,version$1;v8&&(match$2=v8.split("."),version$1=match$2[0]>0&&match$2[0]<4?1:+(match$2[0]+match$2[1]));!version$1&&userAgent$3&&(match$2=userAgent$3.match(/Edge\/(\d+)/),(!match$2||match$2[1]>=74)&&(match$2=userAgent$3.match(/Chrome\/(\d+)/),match$2&&(version$1=+match$2[1])));var engineV8Version=version$1,V8_VERSION$2=engineV8Version,fails$p=fails$t,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails$p(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&V8_VERSION$2&&V8_VERSION$2<41}),NATIVE_SYMBOL$2=nativeSymbol,useSymbolAsUid=NATIVE_SYMBOL$2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",global$J=global$O,getBuiltIn$7=getBuiltIn$9,isCallable$e=isCallable$h,isPrototypeOf$j=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,Object$9=global$J.Object,isSymbol$3=USE_SYMBOL_AS_UID$1?function(r){return typeof r=="symbol"}:function(r){var t=getBuiltIn$7("Symbol");return isCallable$e(t)&&isPrototypeOf$j(t.prototype,Object$9(r))},global$I=global$O,String$4=global$I.String,tryToString$4=function(r){try{return String$4(r)}catch{return"Object"}},global$H=global$O,isCallable$d=isCallable$h,tryToString$3=tryToString$4,TypeError$h=global$H.TypeError,aCallable$6=function(r){if(isCallable$d(r))return r;throw TypeError$h(tryToString$3(r)+" is not a function")},aCallable$5=aCallable$6,getMethod$3=function(r,t){var e=r[t];return e==null?void 0:aCallable$5(e)},global$G=global$O,call$a=functionCall,isCallable$c=isCallable$h,isObject$i=isObject$j,TypeError$g=global$G.TypeError,ordinaryToPrimitive$1=function(r,t){var e,o;if(t==="string"&&isCallable$c(e=r.toString)&&!isObject$i(o=call$a(e,r))||isCallable$c(e=r.valueOf)&&!isObject$i(o=call$a(e,r))||t!=="string"&&isCallable$c(e=r.toString)&&!isObject$i(o=call$a(e,r)))return o;throw TypeError$g("Can't convert object to primitive value")},shared$4={exports:{}},global$F=global$O,defineProperty$e=Object.defineProperty,setGlobal$1=function(r,t){try{defineProperty$e(global$F,r,{value:t,configurable:!0,writable:!0})}catch{global$F[r]=t}return t},global$E=global$O,setGlobal=setGlobal$1,SHARED="__core-js_shared__",store$3=global$E[SHARED]||setGlobal(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$4.exports=function(r,t){return store$2[r]||(store$2[r]=t!==void 0?t:{})})("versions",[]).push({version:"3.21.1",mode:"pure",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});var global$D=global$O,requireObjectCoercible$3=requireObjectCoercible$5,Object$8=global$D.Object,toObject$d=function(r){return Object$8(requireObjectCoercible$3(r))},uncurryThis$s=functionUncurryThis,toObject$c=toObject$d,hasOwnProperty=uncurryThis$s({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function r(t,e){return hasOwnProperty(toObject$c(t),e)},uncurryThis$r=functionUncurryThis,id$2=0,postfix=Math.random(),toString$9=uncurryThis$r(1 .toString),uid$4=function(r){return"Symbol("+(r===void 0?"":r)+")_"+toString$9(++id$2+postfix,36)},global$C=global$O,shared$3=shared$4.exports,hasOwn$f=hasOwnProperty_1,uid$3=uid$4,NATIVE_SYMBOL$1=nativeSymbol,USE_SYMBOL_AS_UID=useSymbolAsUid,WellKnownSymbolsStore$1=shared$3("wks"),Symbol$3=global$C.Symbol,symbolFor=Symbol$3&&Symbol$3.for,createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$3:Symbol$3&&Symbol$3.withoutSetter||uid$3,wellKnownSymbol$j=function(r){if(!hasOwn$f(WellKnownSymbolsStore$1,r)||!(NATIVE_SYMBOL$1||typeof WellKnownSymbolsStore$1[r]=="string")){var t="Symbol."+r;NATIVE_SYMBOL$1&&hasOwn$f(Symbol$3,r)?WellKnownSymbolsStore$1[r]=Symbol$3[r]:USE_SYMBOL_AS_UID&&symbolFor?WellKnownSymbolsStore$1[r]=symbolFor(t):WellKnownSymbolsStore$1[r]=createWellKnownSymbol(t)}return WellKnownSymbolsStore$1[r]},global$B=global$O,call$9=functionCall,isObject$h=isObject$j,isSymbol$2=isSymbol$3,getMethod$2=getMethod$3,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$i=wellKnownSymbol$j,TypeError$f=global$B.TypeError,TO_PRIMITIVE$1=wellKnownSymbol$i("toPrimitive"),toPrimitive$1=function(r,t){if(!isObject$h(r)||isSymbol$2(r))return r;var e=getMethod$2(r,TO_PRIMITIVE$1),o;if(e){if(t===void 0&&(t="default"),o=call$9(e,r,t),!isObject$h(o)||isSymbol$2(o))return o;throw TypeError$f("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive(r,t)},toPrimitive=toPrimitive$1,isSymbol$1=isSymbol$3,toPropertyKey$4=function(r){var t=toPrimitive(r,"string");return isSymbol$1(t)?t:t+""},global$A=global$O,isObject$g=isObject$j,document$1=global$A.document,EXISTS$1=isObject$g(document$1)&&isObject$g(document$1.createElement),documentCreateElement$1=function(r){return EXISTS$1?document$1.createElement(r):{}},DESCRIPTORS$h=descriptors$1,fails$o=fails$t,createElement=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$h&&!fails$o(function(){return Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a!=7}),DESCRIPTORS$g=descriptors$1,call$8=functionCall,propertyIsEnumerableModule$2=objectPropertyIsEnumerable,createPropertyDescriptor$4=createPropertyDescriptor$5,toIndexedObject$a=toIndexedObject$b,toPropertyKey$3=toPropertyKey$4,hasOwn$e=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$g?$getOwnPropertyDescriptor$2:function r(t,e){if(t=toIndexedObject$a(t),e=toPropertyKey$3(e),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$2(t,e)}catch{}if(hasOwn$e(t,e))return createPropertyDescriptor$4(!call$8(propertyIsEnumerableModule$2.f,t,e),t[e])};var fails$n=fails$t,isCallable$b=isCallable$h,replacement=/#|\.prototype\./,isForced$1=function(r,t){var e=data[normalize(r)];return e==POLYFILL?!0:e==NATIVE?!1:isCallable$b(t)?fails$n(t):!!t},normalize=isForced$1.normalize=function(r){return String(r).replace(replacement,".").toLowerCase()},data=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,uncurryThis$q=functionUncurryThis,aCallable$4=aCallable$6,NATIVE_BIND$1=functionBindNative,bind$b=uncurryThis$q(uncurryThis$q.bind),functionBindContext=function(r,t){return aCallable$4(r),t===void 0?r:NATIVE_BIND$1?bind$b(r,t):function(){return r.apply(t,arguments)}},objectDefineProperty={},DESCRIPTORS$f=descriptors$1,fails$m=fails$t,v8PrototypeDefineBug=DESCRIPTORS$f&&fails$m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),global$z=global$O,isObject$f=isObject$j,String$3=global$z.String,TypeError$e=global$z.TypeError,anObject$d=function(r){if(isObject$f(r))return r;throw TypeError$e(String$3(r)+" is not an object")},global$y=global$O,DESCRIPTORS$e=descriptors$1,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$c=anObject$d,toPropertyKey$2=toPropertyKey$4,TypeError$d=global$y.TypeError,$defineProperty$1=Object.defineProperty,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$e?V8_PROTOTYPE_DEFINE_BUG$1?function r(t,e,o){if(anObject$c(t),e=toPropertyKey$2(e),anObject$c(o),typeof t=="function"&&e==="prototype"&&"value"in o&&WRITABLE in o&&!o[WRITABLE]){var l=$getOwnPropertyDescriptor$1(t,e);l&&l[WRITABLE]&&(t[e]=o.value,o={configurable:CONFIGURABLE$1 in o?o[CONFIGURABLE$1]:l[CONFIGURABLE$1],enumerable:ENUMERABLE in o?o[ENUMERABLE]:l[ENUMERABLE],writable:!1})}return $defineProperty$1(t,e,o)}:$defineProperty$1:function r(t,e,o){if(anObject$c(t),e=toPropertyKey$2(e),anObject$c(o),IE8_DOM_DEFINE)try{return $defineProperty$1(t,e,o)}catch{}if("get"in o||"set"in o)throw TypeError$d("Accessors not supported");return"value"in o&&(t[e]=o.value),t};var DESCRIPTORS$d=descriptors$1,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$3=createPropertyDescriptor$5,createNonEnumerableProperty$6=DESCRIPTORS$d?function(r,t,e){return definePropertyModule$4.f(r,t,createPropertyDescriptor$3(1,e))}:function(r,t,e){return r[t]=e,r},global$x=global$O,apply$5=functionApply,uncurryThis$p=functionUncurryThis,isCallable$a=isCallable$h,getOwnPropertyDescriptor$7=objectGetOwnPropertyDescriptor.f,isForced=isForced_1,path$w=path$y,bind$a=functionBindContext,createNonEnumerableProperty$5=createNonEnumerableProperty$6,hasOwn$d=hasOwnProperty_1,wrapConstructor=function(r){var t=function(e,o,l){if(this instanceof t){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,o)}return new r(e,o,l)}return apply$5(r,this,arguments)};return t.prototype=r.prototype,t},_export=function(r,t){var e=r.target,o=r.global,l=r.stat,h=r.proto,y=o?global$x:l?global$x[e]:(global$x[e]||{}).prototype,O=o?path$w:path$w[e]||createNonEnumerableProperty$5(path$w,e,{})[e],D=O.prototype,R,F,j,B,U,W,q,K,Y;for(B in t)R=isForced(o?B:e+(l?".":"#")+B,r.forced),F=!R&&y&&hasOwn$d(y,B),W=O[B],F&&(r.noTargetGet?(Y=getOwnPropertyDescriptor$7(y,B),q=Y&&Y.value):q=y[B]),U=F&&q?q:t[B],!(F&&typeof W==typeof U)&&(r.bind&&F?K=bind$a(U,global$x):r.wrap&&F?K=wrapConstructor(U):h&&isCallable$a(U)?K=uncurryThis$p(U):K=U,(r.sham||U&&U.sham||W&&W.sham)&&createNonEnumerableProperty$5(K,"sham",!0),createNonEnumerableProperty$5(O,B,K),h&&(j=e+"Prototype",hasOwn$d(path$w,j)||createNonEnumerableProperty$5(path$w,j,{}),createNonEnumerableProperty$5(path$w[j],B,U),r.real&&D&&!D[B]&&createNonEnumerableProperty$5(D,B,U)))},ceil=Math.ceil,floor$1=Math.floor,toIntegerOrInfinity$4=function(r){var t=+r;return t!==t||t===0?0:(t>0?floor$1:ceil)(t)},toIntegerOrInfinity$3=toIntegerOrInfinity$4,max$3=Math.max,min$2=Math.min,toAbsoluteIndex$5=function(r,t){var e=toIntegerOrInfinity$3(r);return e<0?max$3(e+t,0):min$2(e,t)},toIntegerOrInfinity$2=toIntegerOrInfinity$4,min$1=Math.min,toLength$1=function(r){return r>0?min$1(toIntegerOrInfinity$2(r),9007199254740991):0},toLength=toLength$1,lengthOfArrayLike$b=function(r){return toLength(r.length)},toIndexedObject$9=toIndexedObject$b,toAbsoluteIndex$4=toAbsoluteIndex$5,lengthOfArrayLike$a=lengthOfArrayLike$b,createMethod$5=function(r){return function(t,e,o){var l=toIndexedObject$9(t),h=lengthOfArrayLike$a(l),y=toAbsoluteIndex$4(o,h),O;if(r&&e!=e){for(;h>y;)if(O=l[y++],O!=O)return!0}else for(;h>y;y++)if((r||y in l)&&l[y]===e)return r||y||0;return!r&&-1}},arrayIncludes={includes:createMethod$5(!0),indexOf:createMethod$5(!1)},hiddenKeys$6={},uncurryThis$o=functionUncurryThis,hasOwn$c=hasOwnProperty_1,toIndexedObject$8=toIndexedObject$b,indexOf$4=arrayIncludes.indexOf,hiddenKeys$5=hiddenKeys$6,push$5=uncurryThis$o([].push),objectKeysInternal=function(r,t){var e=toIndexedObject$8(r),o=0,l=[],h;for(h in e)!hasOwn$c(hiddenKeys$5,h)&&hasOwn$c(e,h)&&push$5(l,h);for(;t.length>o;)hasOwn$c(e,h=t[o++])&&(~indexOf$4(l,h)||push$5(l,h));return l},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,objectKeys$4=Object.keys||function r(t){return internalObjectKeys$1(t,enumBugKeys$2)},objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var DESCRIPTORS$c=descriptors$1,uncurryThis$n=functionUncurryThis,call$7=functionCall,fails$l=fails$t,objectKeys$3=objectKeys$4,getOwnPropertySymbolsModule$2=objectGetOwnPropertySymbols,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,toObject$b=toObject$d,IndexedObject$2=indexedObject,$assign=Object.assign,defineProperty$d=Object.defineProperty,concat$6=uncurryThis$n([].concat),objectAssign=!$assign||fails$l(function(){if(DESCRIPTORS$c&&$assign({b:1},$assign(defineProperty$d({},"a",{enumerable:!0,get:function(){defineProperty$d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var r={},t={},e=Symbol(),o="abcdefghijklmnopqrst";return r[e]=7,o.split("").forEach(function(l){t[l]=l}),$assign({},r)[e]!=7||objectKeys$3($assign({},t)).join("")!=o})?function r(t,e){for(var o=toObject$b(t),l=arguments.length,h=1,y=getOwnPropertySymbolsModule$2.f,O=propertyIsEnumerableModule$1.f;l>h;)for(var D=IndexedObject$2(arguments[h++]),R=y?concat$6(objectKeys$3(D),y(D)):objectKeys$3(D),F=R.length,j=0,B;F>j;)B=R[j++],(!DESCRIPTORS$c||call$7(O,D,B))&&(o[B]=D[B]);return o}:$assign,$$I=_export,assign$5=objectAssign;$$I({target:"Object",stat:!0,forced:Object.assign!==assign$5},{assign:assign$5});var path$v=path$y,assign$4=path$v.Object.assign,parent$13=assign$4,assign$3=parent$13,assign$2=assign$3,uncurryThis$m=functionUncurryThis,arraySlice$5=uncurryThis$m([].slice),global$w=global$O,uncurryThis$l=functionUncurryThis,aCallable$3=aCallable$6,isObject$e=isObject$j,hasOwn$b=hasOwnProperty_1,arraySlice$4=arraySlice$5,NATIVE_BIND=functionBindNative,Function$2=global$w.Function,concat$5=uncurryThis$l([].concat),join=uncurryThis$l([].join),factories={},construct$4=function(r,t,e){if(!hasOwn$b(factories,t)){for(var o=[],l=0;l<t;l++)o[l]="a["+l+"]";factories[t]=Function$2("C,a","return new C("+join(o,",")+")")}return factories[t](r,e)},functionBind=NATIVE_BIND?Function$2.bind:function r(t){var e=aCallable$3(this),o=e.prototype,l=arraySlice$4(arguments,1),h=function(){var O=concat$5(l,arraySlice$4(arguments));return this instanceof h?construct$4(e,O.length,O):e.apply(t,O)};return isObject$e(o)&&(h.prototype=o),h},$$H=_export,bind$9=functionBind;$$H({target:"Function",proto:!0,forced:Function.bind!==bind$9},{bind:bind$9});var path$u=path$y,entryVirtual$i=function(r){return path$u[r+"Prototype"]},entryVirtual$h=entryVirtual$i,bind$8=entryVirtual$h("Function").bind,isPrototypeOf$i=objectIsPrototypeOf,method$e=bind$8,FunctionPrototype$1=Function.prototype,bind$7=function(r){var t=r.bind;return r===FunctionPrototype$1||isPrototypeOf$i(FunctionPrototype$1,r)&&t===FunctionPrototype$1.bind?method$e:t},parent$12=bind$7,bind$6=parent$12,bind$5=bind$6;function drawCircle(r,t,e,o){r.beginPath(),r.arc(t,e,o,0,2*Math.PI,!1),r.closePath()}function drawSquare(r,t,e,o){r.beginPath(),r.rect(t-o,e-o,o*2,o*2),r.closePath()}function drawTriangle(r,t,e,o){r.beginPath(),o*=1.15,e+=.275*o;var l=o*2,h=l/2,y=Math.sqrt(3)/6*l,O=Math.sqrt(l*l-h*h);r.moveTo(t,e-(O-y)),r.lineTo(t+h,e+y),r.lineTo(t-h,e+y),r.lineTo(t,e-(O-y)),r.closePath()}function drawTriangleDown(r,t,e,o){r.beginPath(),o*=1.15,e-=.275*o;var l=o*2,h=l/2,y=Math.sqrt(3)/6*l,O=Math.sqrt(l*l-h*h);r.moveTo(t,e+(O-y)),r.lineTo(t+h,e-y),r.lineTo(t-h,e-y),r.lineTo(t,e+(O-y)),r.closePath()}function drawStar(r,t,e,o){r.beginPath(),o*=.82,e+=.1*o;for(var l=0;l<10;l++){var h=l%2===0?o*1.3:o*.5;r.lineTo(t+h*Math.sin(l*2*Math.PI/10),e-h*Math.cos(l*2*Math.PI/10))}r.closePath()}function drawDiamond(r,t,e,o){r.beginPath(),r.lineTo(t,e+o),r.lineTo(t+o,e),r.lineTo(t,e-o),r.lineTo(t-o,e),r.closePath()}function drawRoundRect(r,t,e,o,l,h){var y=Math.PI/180;o-2*h<0&&(h=o/2),l-2*h<0&&(h=l/2),r.beginPath(),r.moveTo(t+h,e),r.lineTo(t+o-h,e),r.arc(t+o-h,e+h,h,y*270,y*360,!1),r.lineTo(t+o,e+l-h),r.arc(t+o-h,e+l-h,h,0,y*90,!1),r.lineTo(t+h,e+l),r.arc(t+h,e+l-h,h,y*90,y*180,!1),r.lineTo(t,e+h),r.arc(t+h,e+h,h,y*180,y*270,!1),r.closePath()}function drawEllipse(r,t,e,o,l){var h=.5522848,y=o/2*h,O=l/2*h,D=t+o,R=e+l,F=t+o/2,j=e+l/2;r.beginPath(),r.moveTo(t,j),r.bezierCurveTo(t,j-O,F-y,e,F,e),r.bezierCurveTo(F+y,e,D,j-O,D,j),r.bezierCurveTo(D,j+O,F+y,R,F,R),r.bezierCurveTo(F-y,R,t,j+O,t,j),r.closePath()}function drawDatabase(r,t,e,o,l){var h=.3333333333333333,y=o,O=l*h,D=.5522848,R=y/2*D,F=O/2*D,j=t+y,B=e+O,U=t+y/2,W=e+O/2,q=e+(l-O/2),K=e+l;r.beginPath(),r.moveTo(j,W),r.bezierCurveTo(j,W+F,U+R,B,U,B),r.bezierCurveTo(U-R,B,t,W+F,t,W),r.bezierCurveTo(t,W-F,U-R,e,U,e),r.bezierCurveTo(U+R,e,j,W-F,j,W),r.lineTo(j,q),r.bezierCurveTo(j,q+F,U+R,K,U,K),r.bezierCurveTo(U-R,K,t,q+F,t,q),r.lineTo(t,W)}function drawDashedLine(r,t,e,o,l,h){r.beginPath(),r.moveTo(t,e);for(var y=h.length,O=o-t,D=l-e,R=D/O,F=Math.sqrt(O*O+D*D),j=0,B=!0,U=0,W=+h[0];F>=.1;)W=+h[j++%y],W>F&&(W=F),U=Math.sqrt(W*W/(1+R*R)),U=O<0?-U:U,t+=U,e+=R*U,B===!0?r.lineTo(t,e):r.moveTo(t,e),F-=W,B=!B}function drawHexagon(r,t,e,o){r.beginPath();var l=6,h=Math.PI*2/l;r.moveTo(t+o,e);for(var y=1;y<l;y++)r.lineTo(t+o*Math.cos(h*y),e+o*Math.sin(h*y));r.closePath()}var shapeMap={circle:drawCircle,dashedLine:drawDashedLine,database:drawDatabase,diamond:drawDiamond,ellipse:drawEllipse,ellipse_vis:drawEllipse,hexagon:drawHexagon,roundRect:drawRoundRect,square:drawSquare,star:drawStar,triangle:drawTriangle,triangleDown:drawTriangleDown};function getShape(r){return Object.prototype.hasOwnProperty.call(shapeMap,r)?shapeMap[r]:function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),l=1;l<e;l++)o[l-1]=arguments[l];CanvasRenderingContext2D.prototype[r].call(t,o)}}var componentEmitter={exports:{}};(function(r){r.exports=t;function t(o){if(o)return e(o)}function e(o){for(var l in t.prototype)o[l]=t.prototype[l];return o}t.prototype.on=t.prototype.addEventListener=function(o,l){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(l),this},t.prototype.once=function(o,l){function h(){this.off(o,h),l.apply(this,arguments)}return h.fn=l,this.on(o,h),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(o,l){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var h=this._callbacks["$"+o];if(!h)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var y,O=0;O<h.length;O++)if(y=h[O],y===l||y.fn===l){h.splice(O,1);break}return h.length===0&&delete this._callbacks["$"+o],this},t.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var l=new Array(arguments.length-1),h=this._callbacks["$"+o],y=1;y<arguments.length;y++)l[y-1]=arguments[y];if(h){h=h.slice(0);for(var y=0,O=h.length;y<O;++y)h[y].apply(this,l)}return this},t.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},t.prototype.hasListeners=function(o){return!!this.listeners(o).length}})(componentEmitter);var Emitter=componentEmitter.exports,wellKnownSymbol$h=wellKnownSymbol$j,TO_STRING_TAG$3=wellKnownSymbol$h("toStringTag"),test$2={};test$2[TO_STRING_TAG$3]="z";var toStringTagSupport=String(test$2)==="[object z]",global$v=global$O,TO_STRING_TAG_SUPPORT$2=toStringTagSupport,isCallable$9=isCallable$h,classofRaw=classofRaw$1,wellKnownSymbol$g=wellKnownSymbol$j,TO_STRING_TAG$2=wellKnownSymbol$g("toStringTag"),Object$7=global$v.Object,CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments",tryGet=function(r,t){try{return r[t]}catch{}},classof$c=TO_STRING_TAG_SUPPORT$2?classofRaw:function(r){var t,e,o;return r===void 0?"Undefined":r===null?"Null":typeof(e=tryGet(t=Object$7(r),TO_STRING_TAG$2))=="string"?e:CORRECT_ARGUMENTS?classofRaw(t):(o=classofRaw(t))=="Object"&&isCallable$9(t.callee)?"Arguments":o},global$u=global$O,classof$b=classof$c,String$2=global$u.String,toString$8=function(r){if(classof$b(r)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String$2(r)},uncurryThis$k=functionUncurryThis,toIntegerOrInfinity$1=toIntegerOrInfinity$4,toString$7=toString$8,requireObjectCoercible$2=requireObjectCoercible$5,charAt$3=uncurryThis$k("".charAt),charCodeAt$1=uncurryThis$k("".charCodeAt),stringSlice=uncurryThis$k("".slice),createMethod$4=function(r){return function(t,e){var o=toString$7(requireObjectCoercible$2(t)),l=toIntegerOrInfinity$1(e),h=o.length,y,O;return l<0||l>=h?r?"":void 0:(y=charCodeAt$1(o,l),y<55296||y>56319||l+1===h||(O=charCodeAt$1(o,l+1))<56320||O>57343?r?charAt$3(o,l):y:r?stringSlice(o,l,l+2):(y-55296<<10)+(O-56320)+65536)}},stringMultibyte={codeAt:createMethod$4(!1),charAt:createMethod$4(!0)},uncurryThis$j=functionUncurryThis,isCallable$8=isCallable$h,store$1=sharedStore,functionToString=uncurryThis$j(Function.toString);isCallable$8(store$1.inspectSource)||(store$1.inspectSource=function(r){return functionToString(r)});var inspectSource$2=store$1.inspectSource,global$t=global$O,isCallable$7=isCallable$h,inspectSource$1=inspectSource$2,WeakMap$1=global$t.WeakMap,nativeWeakMap=isCallable$7(WeakMap$1)&&/native code/.test(inspectSource$1(WeakMap$1)),shared$2=shared$4.exports,uid$2=uid$4,keys$3=shared$2("keys"),sharedKey$4=function(r){return keys$3[r]||(keys$3[r]=uid$2(r))},NATIVE_WEAK_MAP$1=nativeWeakMap,global$s=global$O,uncurryThis$i=functionUncurryThis,isObject$d=isObject$j,createNonEnumerableProperty$4=createNonEnumerableProperty$6,hasOwn$a=hasOwnProperty_1,shared$1=sharedStore,sharedKey$3=sharedKey$4,hiddenKeys$4=hiddenKeys$6,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$c=global$s.TypeError,WeakMap$2=global$s.WeakMap,set$3,get$6,has,enforce=function(r){return has(r)?get$6(r):set$3(r,{})},getterFor=function(r){return function(t){var e;if(!isObject$d(t)||(e=get$6(t)).type!==r)throw TypeError$c("Incompatible receiver, "+r+" required");return e}};if(NATIVE_WEAK_MAP$1||shared$1.state){var store=shared$1.state||(shared$1.state=new WeakMap$2),wmget=uncurryThis$i(store.get),wmhas=uncurryThis$i(store.has),wmset=uncurryThis$i(store.set);set$3=function(r,t){if(wmhas(store,r))throw new TypeError$c(OBJECT_ALREADY_INITIALIZED);return t.facade=r,wmset(store,r,t),t},get$6=function(r){return wmget(store,r)||{}},has=function(r){return wmhas(store,r)}}else{var STATE=sharedKey$3("state");hiddenKeys$4[STATE]=!0,set$3=function(r,t){if(hasOwn$a(r,STATE))throw new TypeError$c(OBJECT_ALREADY_INITIALIZED);return t.facade=r,createNonEnumerableProperty$4(r,STATE,t),t},get$6=function(r){return hasOwn$a(r,STATE)?r[STATE]:{}},has=function(r){return hasOwn$a(r,STATE)}}var internalState={set:set$3,get:get$6,has,enforce,getterFor},DESCRIPTORS$b=descriptors$1,hasOwn$9=hasOwnProperty_1,FunctionPrototype=Function.prototype,getDescriptor=DESCRIPTORS$b&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$9(FunctionPrototype,"name"),PROPER=EXISTS&&function r(){}.name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS$b||DESCRIPTORS$b&&getDescriptor(FunctionPrototype,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},objectDefineProperties={},DESCRIPTORS$a=descriptors$1,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$3=objectDefineProperty,anObject$b=anObject$d,toIndexedObject$7=toIndexedObject$b,objectKeys$2=objectKeys$4;objectDefineProperties.f=DESCRIPTORS$a&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function r(t,e){anObject$b(t);for(var o=toIndexedObject$7(e),l=objectKeys$2(e),h=l.length,y=0,O;h>y;)definePropertyModule$3.f(t,O=l[y++],o[O]);return t};var getBuiltIn$6=getBuiltIn$9,html$1=getBuiltIn$6("document","documentElement"),anObject$a=anObject$d,definePropertiesModule$1=objectDefineProperties,enumBugKeys$1=enumBugKeys$3,hiddenKeys$3=hiddenKeys$6,html=html$1,documentCreateElement=documentCreateElement$1,sharedKey$2=sharedKey$4,GT=">",LT="<",PROTOTYPE$1="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$2("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(r){return LT+SCRIPT+GT+r+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(r){r.write(scriptTag("")),r.close();var t=r.parentWindow.Object;return r=null,t},NullProtoObjectViaIFrame=function(){var r=documentCreateElement("iframe"),t="java"+SCRIPT+":",e;return r.style.display="none",html.appendChild(r),r.src=String(t),e=r.contentWindow.document,e.open(),e.write(scriptTag("document.F=Object")),e.close(),e.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document!="undefined"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var r=enumBugKeys$1.length;r--;)delete NullProtoObject[PROTOTYPE$1][enumBugKeys$1[r]];return NullProtoObject()};hiddenKeys$3[IE_PROTO$1]=!0;var objectCreate=Object.create||function r(t,e){var o;return t!==null?(EmptyConstructor[PROTOTYPE$1]=anObject$a(t),o=new EmptyConstructor,EmptyConstructor[PROTOTYPE$1]=null,o[IE_PROTO$1]=t):o=NullProtoObject(),e===void 0?o:definePropertiesModule$1.f(o,e)},fails$k=fails$t,correctPrototypeGetter=!fails$k(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}),global$r=global$O,hasOwn$8=hasOwnProperty_1,isCallable$6=isCallable$h,toObject$a=toObject$d,sharedKey$1=sharedKey$4,CORRECT_PROTOTYPE_GETTER$1=correctPrototypeGetter,IE_PROTO=sharedKey$1("IE_PROTO"),Object$6=global$r.Object,ObjectPrototype$2=Object$6.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER$1?Object$6.getPrototypeOf:function(r){var t=toObject$a(r);if(hasOwn$8(t,IE_PROTO))return t[IE_PROTO];var e=t.constructor;return isCallable$6(e)&&t instanceof e?e.prototype:t instanceof Object$6?ObjectPrototype$2:null},createNonEnumerableProperty$3=createNonEnumerableProperty$6,redefine$4=function(r,t,e,o){o&&o.enumerable?r[t]=e:createNonEnumerableProperty$3(r,t,e)},fails$j=fails$t,isCallable$5=isCallable$h,create$a=objectCreate,getPrototypeOf$8=objectGetPrototypeOf,redefine$3=redefine$4,wellKnownSymbol$f=wellKnownSymbol$j,ITERATOR$6=wellKnownSymbol$f("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$1,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$8(getPrototypeOf$8(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$1=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=IteratorPrototype$1==null||fails$j(function(){var r={};return IteratorPrototype$1[ITERATOR$6].call(r)!==r});NEW_ITERATOR_PROTOTYPE?IteratorPrototype$1={}:IteratorPrototype$1=create$a(IteratorPrototype$1);isCallable$5(IteratorPrototype$1[ITERATOR$6])||redefine$3(IteratorPrototype$1,ITERATOR$6,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof$a=classof$c,objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function r(){return"[object "+classof$a(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,defineProperty$c=objectDefineProperty.f,createNonEnumerableProperty$2=createNonEnumerableProperty$6,hasOwn$7=hasOwnProperty_1,toString$6=objectToString,wellKnownSymbol$e=wellKnownSymbol$j,TO_STRING_TAG$1=wellKnownSymbol$e("toStringTag"),setToStringTag$5=function(r,t,e,o){if(r){var l=e?r:r.prototype;hasOwn$7(l,TO_STRING_TAG$1)||defineProperty$c(l,TO_STRING_TAG$1,{configurable:!0,value:t}),o&&!TO_STRING_TAG_SUPPORT&&createNonEnumerableProperty$2(l,"toString",toString$6)}},iterators={},IteratorPrototype=iteratorsCore.IteratorPrototype,create$9=objectCreate,createPropertyDescriptor$2=createPropertyDescriptor$5,setToStringTag$4=setToStringTag$5,Iterators$5=iterators,returnThis$1=function(){return this},createIteratorConstructor$1=function(r,t,e,o){var l=t+" Iterator";return r.prototype=create$9(IteratorPrototype,{next:createPropertyDescriptor$2(+!o,e)}),setToStringTag$4(r,l,!1,!0),Iterators$5[l]=returnThis$1,r},global$q=global$O,isCallable$4=isCallable$h,String$1=global$q.String,TypeError$b=global$q.TypeError,aPossiblePrototype$1=function(r){if(typeof r=="object"||isCallable$4(r))return r;throw TypeError$b("Can't set "+String$1(r)+" as a prototype")},uncurryThis$h=functionUncurryThis,anObject$9=anObject$d,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,t={},e;try{e=uncurryThis$h(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(t,[]),r=t instanceof Array}catch{}return function(l,h){return anObject$9(l),aPossiblePrototype(h),r?e(l,h):l.__proto__=h,l}}():void 0),$$G=_export,call$6=functionCall,FunctionName=functionName,createIteratorConstructor=createIteratorConstructor$1,getPrototypeOf$7=objectGetPrototypeOf,setToStringTag$3=setToStringTag$5,redefine$2=redefine$4,wellKnownSymbol$d=wellKnownSymbol$j,Iterators$4=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME$1=FunctionName.PROPER,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$5=wellKnownSymbol$d("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator$3=function(r,t,e,o,l,h,y){createIteratorConstructor(e,t,o);var O=function(Y){if(Y===l&&B)return B;if(!BUGGY_SAFARI_ITERATORS&&Y in F)return F[Y];switch(Y){case KEYS:return function(){return new e(this,Y)};case VALUES:return function(){return new e(this,Y)};case ENTRIES:return function(){return new e(this,Y)}}return function(){return new e(this)}},D=t+" Iterator",R=!1,F=r.prototype,j=F[ITERATOR$5]||F["@@iterator"]||l&&F[l],B=!BUGGY_SAFARI_ITERATORS&&j||O(l),U=t=="Array"&&F.entries||j,W,q,K;if(U&&(W=getPrototypeOf$7(U.call(new r)),W!==Object.prototype&&W.next&&(setToStringTag$3(W,D,!0,!0),Iterators$4[D]=returnThis)),PROPER_FUNCTION_NAME$1&&l==VALUES&&j&&j.name!==VALUES&&(R=!0,B=function(){return call$6(j,this)}),l)if(q={values:O(VALUES),keys:h?B:O(KEYS),entries:O(ENTRIES)},y)for(K in q)(BUGGY_SAFARI_ITERATORS||R||!(K in F))&&redefine$2(F,K,q[K]);else $$G({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS||R},q);return y&&F[ITERATOR$5]!==B&&redefine$2(F,ITERATOR$5,B,{name:l}),Iterators$4[t]=B,q},charAt$2=stringMultibyte.charAt,toString$5=toString$8,InternalStateModule$5=internalState,defineIterator$2=defineIterator$3,STRING_ITERATOR="String Iterator",setInternalState$5=InternalStateModule$5.set,getInternalState$2=InternalStateModule$5.getterFor(STRING_ITERATOR);defineIterator$2(String,"String",function(r){setInternalState$5(this,{type:STRING_ITERATOR,string:toString$5(r),index:0})},function r(){var t=getInternalState$2(this),e=t.string,o=t.index,l;return o>=e.length?{value:void 0,done:!0}:(l=charAt$2(e,o),t.index+=l.length,{value:l,done:!1})});var call$5=functionCall,anObject$8=anObject$d,getMethod$1=getMethod$3,iteratorClose$2=function(r,t,e){var o,l;anObject$8(r);try{if(o=getMethod$1(r,"return"),!o){if(t==="throw")throw e;return e}o=call$5(o,r)}catch(h){l=!0,o=h}if(t==="throw")throw e;if(l)throw o;return anObject$8(o),e},anObject$7=anObject$d,iteratorClose$1=iteratorClose$2,callWithSafeIterationClosing$1=function(r,t,e,o){try{return o?t(anObject$7(e)[0],e[1]):t(e)}catch(l){iteratorClose$1(r,"throw",l)}},wellKnownSymbol$c=wellKnownSymbol$j,Iterators$3=iterators,ITERATOR$4=wellKnownSymbol$c("iterator"),ArrayPrototype$f=Array.prototype,isArrayIteratorMethod$2=function(r){return r!==void 0&&(Iterators$3.Array===r||ArrayPrototype$f[ITERATOR$4]===r)},uncurryThis$g=functionUncurryThis,fails$i=fails$t,isCallable$3=isCallable$h,classof$9=classof$c,getBuiltIn$5=getBuiltIn$9,inspectSource=inspectSource$2,noop$2=function(){},empty=[],construct$3=getBuiltIn$5("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$2=uncurryThis$g(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.exec(noop$2),isConstructorModern=function r(t){if(!isCallable$3(t))return!1;try{return construct$3(noop$2,empty,t),!0}catch{return!1}},isConstructorLegacy=function r(t){if(!isCallable$3(t))return!1;switch(classof$9(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$2(constructorRegExp,inspectSource(t))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor$4=!construct$3||fails$i(function(){var r;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){r=!0})||r})?isConstructorLegacy:isConstructorModern,toPropertyKey$1=toPropertyKey$4,definePropertyModule$2=objectDefineProperty,createPropertyDescriptor$1=createPropertyDescriptor$5,createProperty$6=function(r,t,e){var o=toPropertyKey$1(t);o in r?definePropertyModule$2.f(r,o,createPropertyDescriptor$1(0,e)):r[o]=e},classof$8=classof$c,getMethod=getMethod$3,Iterators$2=iterators,wellKnownSymbol$b=wellKnownSymbol$j,ITERATOR$3=wellKnownSymbol$b("iterator"),getIteratorMethod$8=function(r){if(r!=null)return getMethod(r,ITERATOR$3)||getMethod(r,"@@iterator")||Iterators$2[classof$8(r)]},global$p=global$O,call$4=functionCall,aCallable$2=aCallable$6,anObject$6=anObject$d,tryToString$2=tryToString$4,getIteratorMethod$7=getIteratorMethod$8,TypeError$a=global$p.TypeError,getIterator$2=function(r,t){var e=arguments.length<2?getIteratorMethod$7(r):t;if(aCallable$2(e))return anObject$6(call$4(e,r));throw TypeError$a(tryToString$2(r)+" is not iterable")},global$o=global$O,bind$4=functionBindContext,call$3=functionCall,toObject$9=toObject$d,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod$1=isArrayIteratorMethod$2,isConstructor$3=isConstructor$4,lengthOfArrayLike$9=lengthOfArrayLike$b,createProperty$5=createProperty$6,getIterator$1=getIterator$2,getIteratorMethod$6=getIteratorMethod$8,Array$5=global$o.Array,arrayFrom=function r(t){var e=toObject$9(t),o=isConstructor$3(this),l=arguments.length,h=l>1?arguments[1]:void 0,y=h!==void 0;y&&(h=bind$4(h,l>2?arguments[2]:void 0));var O=getIteratorMethod$6(e),D=0,R,F,j,B,U,W;if(O&&!(this==Array$5&&isArrayIteratorMethod$1(O)))for(B=getIterator$1(e,O),U=B.next,F=o?new this:[];!(j=call$3(U,B)).done;D++)W=y?callWithSafeIterationClosing(B,h,[j.value,D],!0):j.value,createProperty$5(F,D,W);else for(R=lengthOfArrayLike$9(e),F=o?new this(R):Array$5(R);R>D;D++)W=y?h(e[D],D):e[D],createProperty$5(F,D,W);return F.length=D,F},wellKnownSymbol$a=wellKnownSymbol$j,ITERATOR$2=wellKnownSymbol$a("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$2]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(r){}var checkCorrectnessOfIteration$1=function(r,t){if(!t&&!SAFE_CLOSING)return!1;var e=!1;try{var o={};o[ITERATOR$2]=function(){return{next:function(){return{done:e=!0}}}},r(o)}catch{}return e},$$F=_export,from$6=arrayFrom,checkCorrectnessOfIteration=checkCorrectnessOfIteration$1,INCORRECT_ITERATION=!checkCorrectnessOfIteration(function(r){Array.from(r)});$$F({target:"Array",stat:!0,forced:INCORRECT_ITERATION},{from:from$6});var path$t=path$y,from$5=path$t.Array.from,parent$11=from$5,from$4=parent$11,from$3=from$4,toIndexedObject$6=toIndexedObject$b,Iterators$1=iterators,InternalStateModule$4=internalState;objectDefineProperty.f;var defineIterator$1=defineIterator$3,ARRAY_ITERATOR="Array Iterator",setInternalState$4=InternalStateModule$4.set,getInternalState$1=InternalStateModule$4.getterFor(ARRAY_ITERATOR);defineIterator$1(Array,"Array",function(r,t){setInternalState$4(this,{type:ARRAY_ITERATOR,target:toIndexedObject$6(r),index:0,kind:t})},function(){var r=getInternalState$1(this),t=r.target,e=r.kind,o=r.index++;return!t||o>=t.length?(r.target=void 0,{value:void 0,done:!0}):e=="keys"?{value:o,done:!1}:e=="values"?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}},"values");Iterators$1.Arguments=Iterators$1.Array;var getIteratorMethod$5=getIteratorMethod$8,getIteratorMethod_1=getIteratorMethod$5,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DOMIterables$2=domIterables,global$n=global$O,classof$7=classof$c,createNonEnumerableProperty$1=createNonEnumerableProperty$6,Iterators=iterators,wellKnownSymbol$9=wellKnownSymbol$j,TO_STRING_TAG=wellKnownSymbol$9("toStringTag");for(var COLLECTION_NAME in DOMIterables$2){var Collection=global$n[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;CollectionPrototype&&classof$7(CollectionPrototype)!==TO_STRING_TAG&&createNonEnumerableProperty$1(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),Iterators[COLLECTION_NAME]=Iterators.Array}var parent$10=getIteratorMethod_1,getIteratorMethod$4=parent$10,parent$$=getIteratorMethod$4,getIteratorMethod$3=parent$$,parent$_=getIteratorMethod$3,getIteratorMethod$2=parent$_,getIteratorMethod$1=getIteratorMethod$2,classof$6=classofRaw$1,isArray$c=Array.isArray||function r(t){return classof$6(t)=="Array"},objectGetOwnPropertyNames={},internalObjectKeys=objectKeysInternal,enumBugKeys=enumBugKeys$3,hiddenKeys$2=enumBugKeys.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function r(t){return internalObjectKeys(t,hiddenKeys$2)};var objectGetOwnPropertyNamesExternal={},global$m=global$O,toAbsoluteIndex$3=toAbsoluteIndex$5,lengthOfArrayLike$8=lengthOfArrayLike$b,createProperty$4=createProperty$6,Array$4=global$m.Array,max$2=Math.max,arraySliceSimple=function(r,t,e){for(var o=lengthOfArrayLike$8(r),l=toAbsoluteIndex$3(t,o),h=toAbsoluteIndex$3(e===void 0?o:e,o),y=Array$4(max$2(h-l,0)),O=0;l<h;l++,O++)createProperty$4(y,O,r[l]);return y.length=O,y},classof$5=classofRaw$1,toIndexedObject$5=toIndexedObject$b,$getOwnPropertyNames$1=objectGetOwnPropertyNames.f,arraySlice$3=arraySliceSimple,windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(r){try{return $getOwnPropertyNames$1(r)}catch{return arraySlice$3(windowNames)}};objectGetOwnPropertyNamesExternal.f=function r(t){return windowNames&&classof$5(t)=="Window"?getWindowNames(t):$getOwnPropertyNames$1(toIndexedObject$5(t))};var wellKnownSymbolWrapped={},wellKnownSymbol$8=wellKnownSymbol$j;wellKnownSymbolWrapped.f=wellKnownSymbol$8;var path$s=path$y,hasOwn$6=hasOwnProperty_1,wrappedWellKnownSymbolModule$1=wellKnownSymbolWrapped,defineProperty$b=objectDefineProperty.f,defineWellKnownSymbol$l=function(r){var t=path$s.Symbol||(path$s.Symbol={});hasOwn$6(t,r)||defineProperty$b(t,r,{value:wrappedWellKnownSymbolModule$1.f(r)})},global$l=global$O,isArray$b=isArray$c,isConstructor$2=isConstructor$4,isObject$c=isObject$j,wellKnownSymbol$7=wellKnownSymbol$j,SPECIES$3=wellKnownSymbol$7("species"),Array$3=global$l.Array,arraySpeciesConstructor$1=function(r){var t;return isArray$b(r)&&(t=r.constructor,isConstructor$2(t)&&(t===Array$3||isArray$b(t.prototype))?t=void 0:isObject$c(t)&&(t=t[SPECIES$3],t===null&&(t=void 0))),t===void 0?Array$3:t},arraySpeciesConstructor=arraySpeciesConstructor$1,arraySpeciesCreate$3=function(r,t){return new(arraySpeciesConstructor(r))(t===0?0:t)},bind$3=functionBindContext,uncurryThis$f=functionUncurryThis,IndexedObject$1=indexedObject,toObject$8=toObject$d,lengthOfArrayLike$7=lengthOfArrayLike$b,arraySpeciesCreate$2=arraySpeciesCreate$3,push$4=uncurryThis$f([].push),createMethod$3=function(r){var t=r==1,e=r==2,o=r==3,l=r==4,h=r==6,y=r==7,O=r==5||h;return function(D,R,F,j){for(var B=toObject$8(D),U=IndexedObject$1(B),W=bind$3(R,F),q=lengthOfArrayLike$7(U),K=0,Y=j||arraySpeciesCreate$2,X=t?Y(D,q):e||y?Y(D,0):void 0,J,Q;q>K;K++)if((O||K in U)&&(J=U[K],Q=W(J,K,B),r))if(t)X[K]=Q;else if(Q)switch(r){case 3:return!0;case 5:return J;case 6:return K;case 2:push$4(X,J)}else switch(r){case 4:return!1;case 7:push$4(X,J)}return h?-1:o||l?l:X}},arrayIteration={forEach:createMethod$3(0),map:createMethod$3(1),filter:createMethod$3(2),some:createMethod$3(3),every:createMethod$3(4),find:createMethod$3(5),findIndex:createMethod$3(6),filterReject:createMethod$3(7)},$$E=_export,global$k=global$O,getBuiltIn$4=getBuiltIn$9,apply$4=functionApply,call$2=functionCall,uncurryThis$e=functionUncurryThis,DESCRIPTORS$9=descriptors$1,NATIVE_SYMBOL=nativeSymbol,fails$h=fails$t,hasOwn$5=hasOwnProperty_1,isArray$a=isArray$c,isCallable$2=isCallable$h,isObject$b=isObject$j,isPrototypeOf$h=objectIsPrototypeOf,isSymbol=isSymbol$3,anObject$5=anObject$d,toObject$7=toObject$d,toIndexedObject$4=toIndexedObject$b,toPropertyKey=toPropertyKey$4,$toString=toString$8,createPropertyDescriptor=createPropertyDescriptor$5,nativeObjectCreate=objectCreate,objectKeys$1=objectKeys$4,getOwnPropertyNamesModule$2=objectGetOwnPropertyNames,getOwnPropertyNamesExternal=objectGetOwnPropertyNamesExternal,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,getOwnPropertyDescriptorModule$2=objectGetOwnPropertyDescriptor,definePropertyModule$1=objectDefineProperty,definePropertiesModule=objectDefineProperties,propertyIsEnumerableModule=objectPropertyIsEnumerable,arraySlice$2=arraySlice$5,redefine$1=redefine$4,shared=shared$4.exports,sharedKey=sharedKey$4,hiddenKeys$1=hiddenKeys$6,uid$1=uid$4,wellKnownSymbol$6=wellKnownSymbol$j,wrappedWellKnownSymbolModule=wellKnownSymbolWrapped,defineWellKnownSymbol$k=defineWellKnownSymbol$l,setToStringTag$2=setToStringTag$5,InternalStateModule$3=internalState,$forEach$1=arrayIteration.forEach,HIDDEN=sharedKey("hidden"),SYMBOL="Symbol",PROTOTYPE="prototype",TO_PRIMITIVE=wellKnownSymbol$6("toPrimitive"),setInternalState$3=InternalStateModule$3.set,getInternalState=InternalStateModule$3.getterFor(SYMBOL),ObjectPrototype$1=Object[PROTOTYPE],$Symbol=global$k.Symbol,SymbolPrototype=$Symbol&&$Symbol[PROTOTYPE],TypeError$9=global$k.TypeError,QObject=global$k.QObject,$stringify$1=getBuiltIn$4("JSON","stringify"),nativeGetOwnPropertyDescriptor$1=getOwnPropertyDescriptorModule$2.f,nativeDefineProperty=definePropertyModule$1.f,nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f,nativePropertyIsEnumerable=propertyIsEnumerableModule.f,push$3=uncurryThis$e([].push),AllSymbols=shared("symbols"),ObjectPrototypeSymbols=shared("op-symbols"),StringToSymbolRegistry=shared("string-to-symbol-registry"),SymbolToStringRegistry=shared("symbol-to-string-registry"),WellKnownSymbolsStore=shared("wks"),USE_SETTER=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDescriptor=DESCRIPTORS$9&&fails$h(function(){return nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a!=7})?function(r,t,e){var o=nativeGetOwnPropertyDescriptor$1(ObjectPrototype$1,t);o&&delete ObjectPrototype$1[t],nativeDefineProperty(r,t,e),o&&r!==ObjectPrototype$1&&nativeDefineProperty(ObjectPrototype$1,t,o)}:nativeDefineProperty,wrap$1=function(r,t){var e=AllSymbols[r]=nativeObjectCreate(SymbolPrototype);return setInternalState$3(e,{type:SYMBOL,tag:r,description:t}),DESCRIPTORS$9||(e.description=t),e},$defineProperty=function r(t,e,o){t===ObjectPrototype$1&&$defineProperty(ObjectPrototypeSymbols,e,o),anObject$5(t);var l=toPropertyKey(e);return anObject$5(o),hasOwn$5(AllSymbols,l)?(o.enumerable?(hasOwn$5(t,HIDDEN)&&t[HIDDEN][l]&&(t[HIDDEN][l]=!1),o=nativeObjectCreate(o,{enumerable:createPropertyDescriptor(0,!1)})):(hasOwn$5(t,HIDDEN)||nativeDefineProperty(t,HIDDEN,createPropertyDescriptor(1,{})),t[HIDDEN][l]=!0),setSymbolDescriptor(t,l,o)):nativeDefineProperty(t,l,o)},$defineProperties=function r(t,e){anObject$5(t);var o=toIndexedObject$4(e),l=objectKeys$1(o).concat($getOwnPropertySymbols(o));return $forEach$1(l,function(h){(!DESCRIPTORS$9||call$2($propertyIsEnumerable$1,o,h))&&$defineProperty(t,h,o[h])}),t},$create=function r(t,e){return e===void 0?nativeObjectCreate(t):$defineProperties(nativeObjectCreate(t),e)},$propertyIsEnumerable$1=function r(t){var e=toPropertyKey(t),o=call$2(nativePropertyIsEnumerable,this,e);return this===ObjectPrototype$1&&hasOwn$5(AllSymbols,e)&&!hasOwn$5(ObjectPrototypeSymbols,e)?!1:o||!hasOwn$5(this,e)||!hasOwn$5(AllSymbols,e)||hasOwn$5(this,HIDDEN)&&this[HIDDEN][e]?o:!0},$getOwnPropertyDescriptor=function r(t,e){var o=toIndexedObject$4(t),l=toPropertyKey(e);if(!(o===ObjectPrototype$1&&hasOwn$5(AllSymbols,l)&&!hasOwn$5(ObjectPrototypeSymbols,l))){var h=nativeGetOwnPropertyDescriptor$1(o,l);return h&&hasOwn$5(AllSymbols,l)&&!(hasOwn$5(o,HIDDEN)&&o[HIDDEN][l])&&(h.enumerable=!0),h}},$getOwnPropertyNames=function r(t){var e=nativeGetOwnPropertyNames(toIndexedObject$4(t)),o=[];return $forEach$1(e,function(l){!hasOwn$5(AllSymbols,l)&&!hasOwn$5(hiddenKeys$1,l)&&push$3(o,l)}),o},$getOwnPropertySymbols=function r(t){var e=t===ObjectPrototype$1,o=nativeGetOwnPropertyNames(e?ObjectPrototypeSymbols:toIndexedObject$4(t)),l=[];return $forEach$1(o,function(h){hasOwn$5(AllSymbols,h)&&(!e||hasOwn$5(ObjectPrototype$1,h))&&push$3(l,AllSymbols[h])}),l};NATIVE_SYMBOL||($Symbol=function(){if(isPrototypeOf$h(SymbolPrototype,this))throw TypeError$9("Symbol is not a constructor");var t=!arguments.length||arguments[0]===void 0?void 0:$toString(arguments[0]),e=uid$1(t),o=function(l){this===ObjectPrototype$1&&call$2(o,ObjectPrototypeSymbols,l),hasOwn$5(this,HIDDEN)&&hasOwn$5(this[HIDDEN],e)&&(this[HIDDEN][e]=!1),setSymbolDescriptor(this,e,createPropertyDescriptor(1,l))};return DESCRIPTORS$9&&USE_SETTER&&setSymbolDescriptor(ObjectPrototype$1,e,{configurable:!0,set:o}),wrap$1(e,t)},SymbolPrototype=$Symbol[PROTOTYPE],redefine$1(SymbolPrototype,"toString",function(){return getInternalState(this).tag}),redefine$1($Symbol,"withoutSetter",function(r){return wrap$1(uid$1(r),r)}),propertyIsEnumerableModule.f=$propertyIsEnumerable$1,definePropertyModule$1.f=$defineProperty,definePropertiesModule.f=$defineProperties,getOwnPropertyDescriptorModule$2.f=$getOwnPropertyDescriptor,getOwnPropertyNamesModule$2.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames,getOwnPropertySymbolsModule$1.f=$getOwnPropertySymbols,wrappedWellKnownSymbolModule.f=function(r){return wrap$1(wellKnownSymbol$6(r),r)},DESCRIPTORS$9&&nativeDefineProperty(SymbolPrototype,"description",{configurable:!0,get:function(){return getInternalState(this).description}}));$$E({global:!0,wrap:!0,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol});$forEach$1(objectKeys$1(WellKnownSymbolsStore),function(r){defineWellKnownSymbol$k(r)});$$E({target:SYMBOL,stat:!0,forced:!NATIVE_SYMBOL},{for:function(r){var t=$toString(r);if(hasOwn$5(StringToSymbolRegistry,t))return StringToSymbolRegistry[t];var e=$Symbol(t);return StringToSymbolRegistry[t]=e,SymbolToStringRegistry[e]=t,e},keyFor:function r(t){if(!isSymbol(t))throw TypeError$9(t+" is not a symbol");if(hasOwn$5(SymbolToStringRegistry,t))return SymbolToStringRegistry[t]},useSetter:function(){USE_SETTER=!0},useSimple:function(){USE_SETTER=!1}});$$E({target:"Object",stat:!0,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS$9},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});$$E({target:"Object",stat:!0,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});$$E({target:"Object",stat:!0,forced:fails$h(function(){getOwnPropertySymbolsModule$1.f(1)})},{getOwnPropertySymbols:function r(t){return getOwnPropertySymbolsModule$1.f(toObject$7(t))}});if($stringify$1){var FORCED_JSON_STRINGIFY=!NATIVE_SYMBOL||fails$h(function(){var r=$Symbol();return $stringify$1([r])!="[null]"||$stringify$1({a:r})!="{}"||$stringify$1(Object(r))!="{}"});$$E({target:"JSON",stat:!0,forced:FORCED_JSON_STRINGIFY},{stringify:function(t,e,o){var l=arraySlice$2(arguments),h=e;if(!(!isObject$b(e)&&t===void 0||isSymbol(t)))return isArray$a(e)||(e=function(y,O){if(isCallable$2(h)&&(O=call$2(h,this,y,O)),!isSymbol(O))return O}),l[1]=e,apply$4($stringify$1,null,l)}})}if(!SymbolPrototype[TO_PRIMITIVE]){var valueOf=SymbolPrototype.valueOf;redefine$1(SymbolPrototype,TO_PRIMITIVE,function(r){return call$2(valueOf,this)})}setToStringTag$2($Symbol,SYMBOL);hiddenKeys$1[HIDDEN]=!0;var path$r=path$y,getOwnPropertySymbols$2=path$r.Object.getOwnPropertySymbols,parent$Z=getOwnPropertySymbols$2,getOwnPropertySymbols$1=parent$Z,getOwnPropertySymbols=getOwnPropertySymbols$1,getOwnPropertyDescriptor$6={exports:{}},$$D=_export,fails$g=fails$t,toIndexedObject$3=toIndexedObject$b,nativeGetOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,DESCRIPTORS$8=descriptors$1,FAILS_ON_PRIMITIVES$4=fails$g(function(){nativeGetOwnPropertyDescriptor(1)}),FORCED$6=!DESCRIPTORS$8||FAILS_ON_PRIMITIVES$4;$$D({target:"Object",stat:!0,forced:FORCED$6,sham:!DESCRIPTORS$8},{getOwnPropertyDescriptor:function r(t,e){return nativeGetOwnPropertyDescriptor(toIndexedObject$3(t),e)}});var path$q=path$y,Object$5=path$q.Object,getOwnPropertyDescriptor$5=getOwnPropertyDescriptor$6.exports=function r(t,e){return Object$5.getOwnPropertyDescriptor(t,e)};Object$5.getOwnPropertyDescriptor.sham&&(getOwnPropertyDescriptor$5.sham=!0);var parent$Y=getOwnPropertyDescriptor$6.exports,getOwnPropertyDescriptor$4=parent$Y,getOwnPropertyDescriptor$3=getOwnPropertyDescriptor$4,getBuiltIn$3=getBuiltIn$9,uncurryThis$d=functionUncurryThis,getOwnPropertyNamesModule$1=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$4=anObject$d,concat$4=uncurryThis$d([].concat),ownKeys$6=getBuiltIn$3("Reflect","ownKeys")||function r(t){var e=getOwnPropertyNamesModule$1.f(anObject$4(t)),o=getOwnPropertySymbolsModule.f;return o?concat$4(e,o(t)):e},$$C=_export,DESCRIPTORS$7=descriptors$1,ownKeys$5=ownKeys$6,toIndexedObject$2=toIndexedObject$b,getOwnPropertyDescriptorModule$1=objectGetOwnPropertyDescriptor,createProperty$3=createProperty$6;$$C({target:"Object",stat:!0,sham:!DESCRIPTORS$7},{getOwnPropertyDescriptors:function r(t){for(var e=toIndexedObject$2(t),o=getOwnPropertyDescriptorModule$1.f,l=ownKeys$5(e),h={},y=0,O,D;l.length>y;)D=o(e,O=l[y++]),D!==void 0&&createProperty$3(h,O,D);return h}});var path$p=path$y,getOwnPropertyDescriptors$2=path$p.Object.getOwnPropertyDescriptors,parent$X=getOwnPropertyDescriptors$2,getOwnPropertyDescriptors$1=parent$X,getOwnPropertyDescriptors=getOwnPropertyDescriptors$1,defineProperties$4={exports:{}},$$B=_export,DESCRIPTORS$6=descriptors$1,defineProperties$3=objectDefineProperties.f;$$B({target:"Object",stat:!0,forced:Object.defineProperties!==defineProperties$3,sham:!DESCRIPTORS$6},{defineProperties:defineProperties$3});var path$o=path$y,Object$4=path$o.Object,defineProperties$2=defineProperties$4.exports=function r(t,e){return Object$4.defineProperties(t,e)};Object$4.defineProperties.sham&&(defineProperties$2.sham=!0);var parent$W=defineProperties$4.exports,defineProperties$1=parent$W,defineProperties=defineProperties$1,defineProperty$a={exports:{}},$$A=_export,DESCRIPTORS$5=descriptors$1,defineProperty$9=objectDefineProperty.f;$$A({target:"Object",stat:!0,forced:Object.defineProperty!==defineProperty$9,sham:!DESCRIPTORS$5},{defineProperty:defineProperty$9});var path$n=path$y,Object$3=path$n.Object,defineProperty$8=defineProperty$a.exports=function r(t,e,o){return Object$3.defineProperty(t,e,o)};Object$3.defineProperty.sham&&(defineProperty$8.sham=!0);var parent$V=defineProperty$a.exports,defineProperty$7=parent$V,defineProperty$6=defineProperty$7;function _classCallCheck(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var parent$U=defineProperty$7,defineProperty$5=parent$U,parent$T=defineProperty$5,defineProperty$4=parent$T,defineProperty$3=defineProperty$4;function _defineProperties(r,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),defineProperty$3(r,o.key,o)}}function _createClass(r,t,e){return t&&_defineProperties(r.prototype,t),e&&_defineProperties(r,e),defineProperty$3(r,"prototype",{writable:!1}),r}function _defineProperty(r,t,e){return t in r?defineProperty$3(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var $$z=_export,isArray$9=isArray$c;$$z({target:"Array",stat:!0},{isArray:isArray$9});var path$m=path$y,isArray$8=path$m.Array.isArray,parent$S=isArray$8,isArray$7=parent$S,parent$R=isArray$7,isArray$6=parent$R,parent$Q=isArray$6,isArray$5=parent$Q,isArray$4=isArray$5;function _arrayWithHoles(r){if(isArray$4(r))return r}var fails$f=fails$t,wellKnownSymbol$5=wellKnownSymbol$j,V8_VERSION$1=engineV8Version,SPECIES$2=wellKnownSymbol$5("species"),arrayMethodHasSpeciesSupport$5=function(r){return V8_VERSION$1>=51||!fails$f(function(){var t=[],e=t.constructor={};return e[SPECIES$2]=function(){return{foo:1}},t[r](Boolean).foo!==1})},$$y=_export,global$j=global$O,fails$e=fails$t,isArray$3=isArray$c,isObject$a=isObject$j,toObject$6=toObject$d,lengthOfArrayLike$6=lengthOfArrayLike$b,createProperty$2=createProperty$6,arraySpeciesCreate$1=arraySpeciesCreate$3,arrayMethodHasSpeciesSupport$4=arrayMethodHasSpeciesSupport$5,wellKnownSymbol$4=wellKnownSymbol$j,V8_VERSION=engineV8Version,IS_CONCAT_SPREADABLE=wellKnownSymbol$4("isConcatSpreadable"),MAX_SAFE_INTEGER$1=9007199254740991,MAXIMUM_ALLOWED_INDEX_EXCEEDED="Maximum allowed index exceeded",TypeError$8=global$j.TypeError,IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails$e(function(){var r=[];return r[IS_CONCAT_SPREADABLE]=!1,r.concat()[0]!==r}),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport$4("concat"),isConcatSpreadable=function(r){if(!isObject$a(r))return!1;var t=r[IS_CONCAT_SPREADABLE];return t!==void 0?!!t:isArray$3(r)},FORCED$5=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;$$y({target:"Array",proto:!0,forced:FORCED$5},{concat:function r(t){var e=toObject$6(this),o=arraySpeciesCreate$1(e,0),l=0,h,y,O,D,R;for(h=-1,O=arguments.length;h<O;h++)if(R=h===-1?e:arguments[h],isConcatSpreadable(R)){if(D=lengthOfArrayLike$6(R),l+D>MAX_SAFE_INTEGER$1)throw TypeError$8(MAXIMUM_ALLOWED_INDEX_EXCEEDED);for(y=0;y<D;y++,l++)y in R&&createProperty$2(o,l,R[y])}else{if(l>=MAX_SAFE_INTEGER$1)throw TypeError$8(MAXIMUM_ALLOWED_INDEX_EXCEEDED);createProperty$2(o,l++,R)}return o.length=l,o}});var defineWellKnownSymbol$j=defineWellKnownSymbol$l;defineWellKnownSymbol$j("asyncIterator");var defineWellKnownSymbol$i=defineWellKnownSymbol$l;defineWellKnownSymbol$i("hasInstance");var defineWellKnownSymbol$h=defineWellKnownSymbol$l;defineWellKnownSymbol$h("isConcatSpreadable");var defineWellKnownSymbol$g=defineWellKnownSymbol$l;defineWellKnownSymbol$g("iterator");var defineWellKnownSymbol$f=defineWellKnownSymbol$l;defineWellKnownSymbol$f("match");var defineWellKnownSymbol$e=defineWellKnownSymbol$l;defineWellKnownSymbol$e("matchAll");var defineWellKnownSymbol$d=defineWellKnownSymbol$l;defineWellKnownSymbol$d("replace");var defineWellKnownSymbol$c=defineWellKnownSymbol$l;defineWellKnownSymbol$c("search");var defineWellKnownSymbol$b=defineWellKnownSymbol$l;defineWellKnownSymbol$b("species");var defineWellKnownSymbol$a=defineWellKnownSymbol$l;defineWellKnownSymbol$a("split");var defineWellKnownSymbol$9=defineWellKnownSymbol$l;defineWellKnownSymbol$9("toPrimitive");var defineWellKnownSymbol$8=defineWellKnownSymbol$l;defineWellKnownSymbol$8("toStringTag");var defineWellKnownSymbol$7=defineWellKnownSymbol$l;defineWellKnownSymbol$7("unscopables");var global$i=global$O,setToStringTag$1=setToStringTag$5;setToStringTag$1(global$i.JSON,"JSON",!0);var path$l=path$y,symbol$5=path$l.Symbol,parent$P=symbol$5,symbol$4=parent$P,parent$O=symbol$4,symbol$3=parent$O,defineWellKnownSymbol$6=defineWellKnownSymbol$l;defineWellKnownSymbol$6("asyncDispose");var defineWellKnownSymbol$5=defineWellKnownSymbol$l;defineWellKnownSymbol$5("dispose");var defineWellKnownSymbol$4=defineWellKnownSymbol$l;defineWellKnownSymbol$4("matcher");var defineWellKnownSymbol$3=defineWellKnownSymbol$l;defineWellKnownSymbol$3("metadata");var defineWellKnownSymbol$2=defineWellKnownSymbol$l;defineWellKnownSymbol$2("observable");var defineWellKnownSymbol$1=defineWellKnownSymbol$l;defineWellKnownSymbol$1("patternMatch");var defineWellKnownSymbol=defineWellKnownSymbol$l;defineWellKnownSymbol("replaceAll");var parent$N=symbol$3,symbol$2=parent$N,symbol$1=symbol$2;function _iterableToArrayLimit(r,t){var e=r==null?null:typeof symbol$1!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(e!=null){var o=[],l=!0,h=!1,y,O;try{for(e=e.call(r);!(l=(y=e.next()).done)&&(o.push(y.value),!(t&&o.length===t));l=!0);}catch(D){h=!0,O=D}finally{try{!l&&e.return!=null&&e.return()}finally{if(h)throw O}}return o}}var $$x=_export,global$h=global$O,isArray$2=isArray$c,isConstructor$1=isConstructor$4,isObject$9=isObject$j,toAbsoluteIndex$2=toAbsoluteIndex$5,lengthOfArrayLike$5=lengthOfArrayLike$b,toIndexedObject$1=toIndexedObject$b,createProperty$1=createProperty$6,wellKnownSymbol$3=wellKnownSymbol$j,arrayMethodHasSpeciesSupport$3=arrayMethodHasSpeciesSupport$5,un$Slice=arraySlice$5,HAS_SPECIES_SUPPORT$3=arrayMethodHasSpeciesSupport$3("slice"),SPECIES$1=wellKnownSymbol$3("species"),Array$2=global$h.Array,max$1=Math.max;$$x({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$3},{slice:function r(t,e){var o=toIndexedObject$1(this),l=lengthOfArrayLike$5(o),h=toAbsoluteIndex$2(t,l),y=toAbsoluteIndex$2(e===void 0?l:e,l),O,D,R;if(isArray$2(o)&&(O=o.constructor,isConstructor$1(O)&&(O===Array$2||isArray$2(O.prototype))?O=void 0:isObject$9(O)&&(O=O[SPECIES$1],O===null&&(O=void 0)),O===Array$2||O===void 0))return un$Slice(o,h,y);for(D=new(O===void 0?Array$2:O)(max$1(y-h,0)),R=0;h<y;h++,R++)h in o&&createProperty$1(D,R,o[h]);return D.length=R,D}});var entryVirtual$g=entryVirtual$i,slice$6=entryVirtual$g("Array").slice,isPrototypeOf$g=objectIsPrototypeOf,method$d=slice$6,ArrayPrototype$e=Array.prototype,slice$5=function(r){var t=r.slice;return r===ArrayPrototype$e||isPrototypeOf$g(ArrayPrototype$e,r)&&t===ArrayPrototype$e.slice?method$d:t},parent$M=slice$5,slice$4=parent$M,parent$L=slice$4,slice$3=parent$L,parent$K=slice$3,slice$2=parent$K,slice$1=slice$2,parent$J=from$4,from$2=parent$J,parent$I=from$2,from$1=parent$I,from$7=from$1;function _arrayLikeToArray$8(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}function _unsupportedIterableToArray$8(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$8(r,t);var o=slice$1(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$7(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$8(r,t)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(r,t){return _arrayWithHoles(r)||_iterableToArrayLimit(r,t)||_unsupportedIterableToArray$8(r,t)||_nonIterableRest()}var WrappedWellKnownSymbolModule=wellKnownSymbolWrapped,iterator$4=WrappedWellKnownSymbolModule.f("iterator"),parent$H=iterator$4,iterator$3=parent$H,parent$G=iterator$3,iterator$2=parent$G,parent$F=iterator$2,iterator$1=parent$F,iterator=iterator$1;function _typeof(r){return _typeof=typeof symbol$1=="function"&&typeof iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof symbol$1=="function"&&t.constructor===symbol$1&&t!==symbol$1.prototype?"symbol":typeof t},_typeof(r)}function _arrayWithoutHoles(r){if(isArray$4(r))return _arrayLikeToArray$8(r)}function _iterableToArray(r){if(typeof symbol$1!="undefined"&&getIteratorMethod$1(r)!=null||r["@@iterator"]!=null)return from$7(r)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray$8(r)||_nonIterableSpread()}var symbol=symbol$4,entryVirtual$f=entryVirtual$i,concat$3=entryVirtual$f("Array").concat,isPrototypeOf$f=objectIsPrototypeOf,method$c=concat$3,ArrayPrototype$d=Array.prototype,concat$2=function(r){var t=r.concat;return r===ArrayPrototype$d||isPrototypeOf$f(ArrayPrototype$d,r)&&t===ArrayPrototype$d.concat?method$c:t},parent$E=concat$2,concat$1=parent$E,concat=concat$1,slice=slice$4,$$w=_export,ownKeys$4=ownKeys$6;$$w({target:"Reflect",stat:!0},{ownKeys:ownKeys$4});var path$k=path$y;path$k.Reflect.ownKeys;var isArray$1=isArray$7,$$v=_export,$map=arrayIteration.map,arrayMethodHasSpeciesSupport$2=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$2=arrayMethodHasSpeciesSupport$2("map");$$v({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$2},{map:function r(t){return $map(this,t,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$e=entryVirtual$i,map$6=entryVirtual$e("Array").map,isPrototypeOf$e=objectIsPrototypeOf,method$b=map$6,ArrayPrototype$c=Array.prototype,map$5=function(r){var t=r.map;return r===ArrayPrototype$c||isPrototypeOf$e(ArrayPrototype$c,r)&&t===ArrayPrototype$c.map?method$b:t},parent$D=map$5,map$4=parent$D,map$3=map$4,$$u=_export,toObject$5=toObject$d,nativeKeys=objectKeys$4,fails$d=fails$t,FAILS_ON_PRIMITIVES$3=fails$d(function(){nativeKeys(1)});$$u({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$3},{keys:function r(t){return nativeKeys(toObject$5(t))}});var path$j=path$y,keys$2=path$j.Object.keys,parent$C=keys$2,keys$1=parent$C,keys=keys$1,$$t=_export,global$g=global$O,uncurryThis$c=functionUncurryThis,Date$1=global$g.Date,getTime=uncurryThis$c(Date$1.prototype.getTime);$$t({target:"Date",stat:!0},{now:function r(){return getTime(new Date$1)}});var path$i=path$y,now$3=path$i.Date.now,parent$B=now$3,now$2=parent$B,now$1=now$2,fails$c=fails$t,arrayMethodIsStrict$6=function(r,t){var e=[][r];return!!e&&fails$c(function(){e.call(null,t||function(){return 1},1)})},$forEach=arrayIteration.forEach,arrayMethodIsStrict$5=arrayMethodIsStrict$6,STRICT_METHOD$5=arrayMethodIsStrict$5("forEach"),arrayForEach=STRICT_METHOD$5?[].forEach:function r(t){return $forEach(this,t,arguments.length>1?arguments[1]:void 0)},$$s=_export,forEach$6=arrayForEach;$$s({target:"Array",proto:!0,forced:[].forEach!=forEach$6},{forEach:forEach$6});var entryVirtual$d=entryVirtual$i,forEach$5=entryVirtual$d("Array").forEach,parent$A=forEach$5,forEach$4=parent$A,classof$4=classof$c,hasOwn$4=hasOwnProperty_1,isPrototypeOf$d=objectIsPrototypeOf,method$a=forEach$4,ArrayPrototype$b=Array.prototype,DOMIterables$1={DOMTokenList:!0,NodeList:!0},forEach$3=function(r){var t=r.forEach;return r===ArrayPrototype$b||isPrototypeOf$d(ArrayPrototype$b,r)&&t===ArrayPrototype$b.forEach||hasOwn$4(DOMIterables$1,classof$4(r))?method$a:t},forEach$2=forEach$3,$$r=_export,uncurryThis$b=functionUncurryThis,isArray$d=isArray$c,un$Reverse=uncurryThis$b([].reverse),test$1=[1,2];$$r({target:"Array",proto:!0,forced:String(test$1)===String(test$1.reverse())},{reverse:function r(){return isArray$d(this)&&(this.length=this.length),un$Reverse(this)}});var entryVirtual$c=entryVirtual$i,reverse$3=entryVirtual$c("Array").reverse,isPrototypeOf$c=objectIsPrototypeOf,method$9=reverse$3,ArrayPrototype$a=Array.prototype,reverse$2=function(r){var t=r.reverse;return r===ArrayPrototype$a||isPrototypeOf$c(ArrayPrototype$a,r)&&t===ArrayPrototype$a.reverse?method$9:t},parent$z=reverse$2,reverse$1=parent$z,reverse=reverse$1,$$q=_export,global$f=global$O,toAbsoluteIndex$1=toAbsoluteIndex$5,toIntegerOrInfinity=toIntegerOrInfinity$4,lengthOfArrayLike$4=lengthOfArrayLike$b,toObject$4=toObject$d,arraySpeciesCreate=arraySpeciesCreate$3,createProperty=createProperty$6,arrayMethodHasSpeciesSupport$1=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport$1("splice"),TypeError$7=global$f.TypeError,max=Math.max,min=Math.min,MAX_SAFE_INTEGER=9007199254740991,MAXIMUM_ALLOWED_LENGTH_EXCEEDED="Maximum allowed length exceeded";$$q({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1},{splice:function r(t,e){var o=toObject$4(this),l=lengthOfArrayLike$4(o),h=toAbsoluteIndex$1(t,l),y=arguments.length,O,D,R,F,j,B;if(y===0?O=D=0:y===1?(O=0,D=l-h):(O=y-2,D=min(max(toIntegerOrInfinity(e),0),l-h)),l+O-D>MAX_SAFE_INTEGER)throw TypeError$7(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);for(R=arraySpeciesCreate(o,D),F=0;F<D;F++)j=h+F,j in o&&createProperty(R,F,o[j]);if(R.length=D,O<D){for(F=h;F<l-D;F++)j=F+D,B=F+O,j in o?o[B]=o[j]:delete o[B];for(F=l;F>l-D+O;F--)delete o[F-1]}else if(O>D)for(F=l-D;F>h;F--)j=F+D-1,B=F+O-1,j in o?o[B]=o[j]:delete o[B];for(F=0;F<O;F++)o[F+h]=arguments[F+2];return o.length=l-D+O,R}});var entryVirtual$b=entryVirtual$i,splice$4=entryVirtual$b("Array").splice,isPrototypeOf$b=objectIsPrototypeOf,method$8=splice$4,ArrayPrototype$9=Array.prototype,splice$3=function(r){var t=r.splice;return r===ArrayPrototype$9||isPrototypeOf$b(ArrayPrototype$9,r)&&t===ArrayPrototype$9.splice?method$8:t},parent$y=splice$3,splice$2=parent$y,splice$1=splice$2,$$p=_export,$includes=arrayIncludes.includes;$$p({target:"Array",proto:!0},{includes:function r(t){return $includes(this,t,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$a=entryVirtual$i,includes$4=entryVirtual$a("Array").includes,isObject$8=isObject$j,classof$3=classofRaw$1,wellKnownSymbol$2=wellKnownSymbol$j,MATCH$1=wellKnownSymbol$2("match"),isRegexp=function(r){var t;return isObject$8(r)&&((t=r[MATCH$1])!==void 0?!!t:classof$3(r)=="RegExp")},global$e=global$O,isRegExp=isRegexp,TypeError$6=global$e.TypeError,notARegexp=function(r){if(isRegExp(r))throw TypeError$6("The method doesn't accept regular expressions");return r},wellKnownSymbol$1=wellKnownSymbol$j,MATCH=wellKnownSymbol$1("match"),correctIsRegexpLogic=function(r){var t=/./;try{"/./"[r](t)}catch{try{return t[MATCH]=!1,"/./"[r](t)}catch{}}return!1},$$o=_export,uncurryThis$a=functionUncurryThis,notARegExp=notARegexp,requireObjectCoercible$1=requireObjectCoercible$5,toString$4=toString$8,correctIsRegExpLogic=correctIsRegexpLogic,stringIndexOf=uncurryThis$a("".indexOf);$$o({target:"String",proto:!0,forced:!correctIsRegExpLogic("includes")},{includes:function r(t){return!!~stringIndexOf(toString$4(requireObjectCoercible$1(this)),toString$4(notARegExp(t)),arguments.length>1?arguments[1]:void 0)}});var entryVirtual$9=entryVirtual$i,includes$3=entryVirtual$9("String").includes,isPrototypeOf$a=objectIsPrototypeOf,arrayMethod=includes$4,stringMethod=includes$3,ArrayPrototype$8=Array.prototype,StringPrototype=String.prototype,includes$2=function(r){var t=r.includes;return r===ArrayPrototype$8||isPrototypeOf$a(ArrayPrototype$8,r)&&t===ArrayPrototype$8.includes?arrayMethod:typeof r=="string"||r===StringPrototype||isPrototypeOf$a(StringPrototype,r)&&t===StringPrototype.includes?stringMethod:t},parent$x=includes$2,includes$1=parent$x,includes=includes$1,$$n=_export,fails$b=fails$t,toObject$3=toObject$d,nativeGetPrototypeOf=objectGetPrototypeOf,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,FAILS_ON_PRIMITIVES$2=fails$b(function(){nativeGetPrototypeOf(1)});$$n({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES$2,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function r(t){return nativeGetPrototypeOf(toObject$3(t))}});var path$h=path$y,getPrototypeOf$6=path$h.Object.getPrototypeOf,parent$w=getPrototypeOf$6,getPrototypeOf$5=parent$w,getPrototypeOf$4=getPrototypeOf$5,$$m=_export,$filter=arrayIteration.filter,arrayMethodHasSpeciesSupport=arrayMethodHasSpeciesSupport$5,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("filter");$$m({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{filter:function r(t){return $filter(this,t,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$8=entryVirtual$i,filter$3=entryVirtual$8("Array").filter,isPrototypeOf$9=objectIsPrototypeOf,method$7=filter$3,ArrayPrototype$7=Array.prototype,filter$2=function(r){var t=r.filter;return r===ArrayPrototype$7||isPrototypeOf$9(ArrayPrototype$7,r)&&t===ArrayPrototype$7.filter?method$7:t},parent$v=filter$2,filter$1=parent$v,filter=filter$1,DESCRIPTORS$4=descriptors$1,uncurryThis$9=functionUncurryThis,objectKeys=objectKeys$4,toIndexedObject=toIndexedObject$b,$propertyIsEnumerable=objectPropertyIsEnumerable.f,propertyIsEnumerable=uncurryThis$9($propertyIsEnumerable),push$2=uncurryThis$9([].push),createMethod$2=function(r){return function(t){for(var e=toIndexedObject(t),o=objectKeys(e),l=o.length,h=0,y=[],O;l>h;)O=o[h++],(!DESCRIPTORS$4||propertyIsEnumerable(e,O))&&push$2(y,r?[O,e[O]]:e[O]);return y}},objectToArray={entries:createMethod$2(!0),values:createMethod$2(!1)},$$l=_export,$values=objectToArray.values;$$l({target:"Object",stat:!0},{values:function r(t){return $values(t)}});var path$g=path$y;path$g.Object.values;var whitespaces$4=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,uncurryThis$8=functionUncurryThis,requireObjectCoercible=requireObjectCoercible$5,toString$3=toString$8,whitespaces$3=whitespaces$4,replace$1=uncurryThis$8("".replace),whitespace="["+whitespaces$3+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod$1=function(r){return function(t){var e=toString$3(requireObjectCoercible(t));return r&1&&(e=replace$1(e,ltrim,"")),r&2&&(e=replace$1(e,rtrim,"")),e}},stringTrim={start:createMethod$1(1),end:createMethod$1(2),trim:createMethod$1(3)},global$d=global$O,fails$a=fails$t,uncurryThis$7=functionUncurryThis,toString$2=toString$8,trim$1=stringTrim.trim,whitespaces$2=whitespaces$4,$parseInt$1=global$d.parseInt,Symbol$2=global$d.Symbol,ITERATOR$1=Symbol$2&&Symbol$2.iterator,hex$1=/^[+-]?0x/i,exec$1=uncurryThis$7(hex$1.exec),FORCED$4=$parseInt$1(whitespaces$2+"08")!==8||$parseInt$1(whitespaces$2+"0x16")!==22||ITERATOR$1&&!fails$a(function(){$parseInt$1(Object(ITERATOR$1))}),numberParseInt=FORCED$4?function r(t,e){var o=trim$1(toString$2(t));return $parseInt$1(o,e>>>0||(exec$1(hex$1,o)?16:10))}:$parseInt$1,$$k=_export,$parseInt=numberParseInt;$$k({global:!0,forced:parseInt!=$parseInt},{parseInt:$parseInt});var path$f=path$y,_parseInt$2=path$f.parseInt,parent$u=_parseInt$2,_parseInt$1=parent$u,_parseInt=_parseInt$1,$$j=_export,uncurryThis$6=functionUncurryThis,$IndexOf=arrayIncludes.indexOf,arrayMethodIsStrict$4=arrayMethodIsStrict$6,un$IndexOf=uncurryThis$6([].indexOf),NEGATIVE_ZERO=!!un$IndexOf&&1/un$IndexOf([1],1,-0)<0,STRICT_METHOD$4=arrayMethodIsStrict$4("indexOf");$$j({target:"Array",proto:!0,forced:NEGATIVE_ZERO||!STRICT_METHOD$4},{indexOf:function r(t){var e=arguments.length>1?arguments[1]:void 0;return NEGATIVE_ZERO?un$IndexOf(this,t,e)||0:$IndexOf(this,t,e)}});var entryVirtual$7=entryVirtual$i,indexOf$3=entryVirtual$7("Array").indexOf,isPrototypeOf$8=objectIsPrototypeOf,method$6=indexOf$3,ArrayPrototype$6=Array.prototype,indexOf$2=function(r){var t=r.indexOf;return r===ArrayPrototype$6||isPrototypeOf$8(ArrayPrototype$6,r)&&t===ArrayPrototype$6.indexOf?method$6:t},parent$t=indexOf$2,indexOf$1=parent$t,indexOf=indexOf$1,PROPER_FUNCTION_NAME=functionName.PROPER,fails$9=fails$t,whitespaces$1=whitespaces$4,non="\u200B\x85\u180E",stringTrimForced=function(r){return fails$9(function(){return!!whitespaces$1[r]()||non[r]()!==non||PROPER_FUNCTION_NAME&&whitespaces$1[r].name!==r})},$$i=_export,$trim=stringTrim.trim,forcedStringTrimMethod=stringTrimForced;$$i({target:"String",proto:!0,forced:forcedStringTrimMethod("trim")},{trim:function r(){return $trim(this)}});var entryVirtual$6=entryVirtual$i;entryVirtual$6("String").trim;var $$h=_export,DESCRIPTORS$3=descriptors$1,create$8=objectCreate;$$h({target:"Object",stat:!0,sham:!DESCRIPTORS$3},{create:create$8});var path$e=path$y,Object$2=path$e.Object,create$7=function r(t,e){return Object$2.create(t,e)},parent$s=create$7,create$6=parent$s,create$5=create$6,$$g=_export,global$c=global$O,getBuiltIn$2=getBuiltIn$9,apply$3=functionApply,uncurryThis$5=functionUncurryThis,fails$8=fails$t,Array$1=global$c.Array,$stringify=getBuiltIn$2("JSON","stringify"),exec=uncurryThis$5(/./.exec),charAt$1=uncurryThis$5("".charAt),charCodeAt=uncurryThis$5("".charCodeAt),replace=uncurryThis$5("".replace),numberToString=uncurryThis$5(1 .toString),tester=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi=/^[\uDC00-\uDFFF]$/,fix=function(r,t,e){var o=charAt$1(e,t-1),l=charAt$1(e,t+1);return exec(low,r)&&!exec(hi,l)||exec(hi,r)&&!exec(low,o)?"\\u"+numberToString(charCodeAt(r,0),16):r},FORCED$3=fails$8(function(){return $stringify("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify("\uDEAD")!=='"\\udead"'});$stringify&&$$g({target:"JSON",stat:!0,forced:FORCED$3},{stringify:function(t,e,o){for(var l=0,h=arguments.length,y=Array$1(h);l<h;l++)y[l]=arguments[l];var O=apply$3($stringify,null,y);return typeof O=="string"?replace(O,tester,fix):O}});var path$d=path$y,apply$2=functionApply;path$d.JSON||(path$d.JSON={stringify:JSON.stringify});var stringify$3=function r(t,e,o){return apply$2(path$d.JSON.stringify,null,arguments)},parent$r=stringify$3,stringify$2=parent$r,stringify$1=stringify$2,global$b=global$O,TypeError$5=global$b.TypeError,validateArgumentsLength$1=function(r,t){if(r<t)throw TypeError$5("Not enough arguments");return r},$$f=_export,global$a=global$O,apply$1=functionApply,isCallable$1=isCallable$h,userAgent$2=engineUserAgent,arraySlice$1=arraySlice$5,validateArgumentsLength=validateArgumentsLength$1,MSIE=/MSIE .\./.test(userAgent$2),Function$1=global$a.Function,wrap=function(r){return function(t,e){var o=validateArgumentsLength(arguments.length,1)>2,l=isCallable$1(t)?t:Function$1(t),h=o?arraySlice$1(arguments,2):void 0;return r(o?function(){apply$1(l,this,h)}:l,e)}};$$f({global:!0,bind:!0,forced:MSIE},{setTimeout:wrap(global$a.setTimeout),setInterval:wrap(global$a.setInterval)});var path$c=path$y,setTimeout$2=path$c.setTimeout,setTimeout$1=setTimeout$2,toObject$2=toObject$d,toAbsoluteIndex=toAbsoluteIndex$5,lengthOfArrayLike$3=lengthOfArrayLike$b,arrayFill=function r(t){for(var e=toObject$2(this),o=lengthOfArrayLike$3(e),l=arguments.length,h=toAbsoluteIndex(l>1?arguments[1]:void 0,o),y=l>2?arguments[2]:void 0,O=y===void 0?o:toAbsoluteIndex(y,o);O>h;)e[h++]=t;return e},$$e=_export,fill$4=arrayFill;$$e({target:"Array",proto:!0},{fill:fill$4});var entryVirtual$5=entryVirtual$i,fill$3=entryVirtual$5("Array").fill,isPrototypeOf$7=objectIsPrototypeOf,method$5=fill$3,ArrayPrototype$5=Array.prototype,fill$2=function(r){var t=r.fill;return r===ArrayPrototype$5||isPrototypeOf$7(ArrayPrototype$5,r)&&t===ArrayPrototype$5.fill?method$5:t},parent$q=fill$2,fill$1=parent$q,fill$5=fill$1;/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _extends(){return _extends=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},_extends.apply(this,arguments)}function _inheritsLoose(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function _assertThisInitialized$1(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var assign$1;typeof Object.assign!="function"?assign$1=function(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var h in l)l.hasOwnProperty(h)&&(e[h]=l[h])}return e}:assign$1=Object.assign;var assign$1$1=assign$1,VENDOR_PREFIXES=["","webkit","Moz","MS","ms","o"],TEST_ELEMENT=typeof document=="undefined"?{style:{}}:document.createElement("div"),TYPE_FUNCTION="function",round$1=Math.round,abs$1=Math.abs,now=Date.now;function prefixed(r,t){for(var e,o,l=t[0].toUpperCase()+t.slice(1),h=0;h<VENDOR_PREFIXES.length;){if(e=VENDOR_PREFIXES[h],o=e?e+l:t,o in r)return o;h++}}var win;typeof window=="undefined"?win={}:win=window;var PREFIXED_TOUCH_ACTION=prefixed(TEST_ELEMENT.style,"touchAction"),NATIVE_TOUCH_ACTION=PREFIXED_TOUCH_ACTION!==void 0;function getTouchActionProps(){if(!NATIVE_TOUCH_ACTION)return!1;var r={},t=win.CSS&&win.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return r[e]=t?win.CSS.supports("touch-action",e):!0}),r}var TOUCH_ACTION_COMPUTE="compute",TOUCH_ACTION_AUTO="auto",TOUCH_ACTION_MANIPULATION="manipulation",TOUCH_ACTION_NONE="none",TOUCH_ACTION_PAN_X="pan-x",TOUCH_ACTION_PAN_Y="pan-y",TOUCH_ACTION_MAP=getTouchActionProps(),MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER_EVENTS=prefixed(win,"PointerEvent")!==void 0,SUPPORT_ONLY_TOUCH=SUPPORT_TOUCH&&MOBILE_REGEX.test(navigator.userAgent),INPUT_TYPE_TOUCH="touch",INPUT_TYPE_PEN="pen",INPUT_TYPE_MOUSE="mouse",INPUT_TYPE_KINECT="kinect",COMPUTE_INTERVAL=25,INPUT_START=1,INPUT_MOVE=2,INPUT_END=4,INPUT_CANCEL=8,DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_HORIZONTAL=DIRECTION_LEFT|DIRECTION_RIGHT,DIRECTION_VERTICAL=DIRECTION_UP|DIRECTION_DOWN,DIRECTION_ALL=DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,PROPS_XY=["x","y"],PROPS_CLIENT_XY=["clientX","clientY"];function each$1(r,t,e){var o;if(!!r)if(r.forEach)r.forEach(t,e);else if(r.length!==void 0)for(o=0;o<r.length;)t.call(e,r[o],o,r),o++;else for(o in r)r.hasOwnProperty(o)&&t.call(e,r[o],o,r)}function boolOrFn(r,t){return typeof r===TYPE_FUNCTION?r.apply(t&&t[0]||void 0,t):r}function inStr(r,t){return r.indexOf(t)>-1}function cleanTouchActions(r){if(inStr(r,TOUCH_ACTION_NONE))return TOUCH_ACTION_NONE;var t=inStr(r,TOUCH_ACTION_PAN_X),e=inStr(r,TOUCH_ACTION_PAN_Y);return t&&e?TOUCH_ACTION_NONE:t||e?t?TOUCH_ACTION_PAN_X:TOUCH_ACTION_PAN_Y:inStr(r,TOUCH_ACTION_MANIPULATION)?TOUCH_ACTION_MANIPULATION:TOUCH_ACTION_AUTO}var TouchAction=function(){function r(e,o){this.manager=e,this.set(o)}var t=r.prototype;return t.set=function(o){o===TOUCH_ACTION_COMPUTE&&(o=this.compute()),NATIVE_TOUCH_ACTION&&this.manager.element.style&&TOUCH_ACTION_MAP[o]&&(this.manager.element.style[PREFIXED_TOUCH_ACTION]=o),this.actions=o.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var o=[];return each$1(this.manager.recognizers,function(l){boolOrFn(l.options.enable,[l])&&(o=o.concat(l.getTouchAction()))}),cleanTouchActions(o.join(" "))},t.preventDefaults=function(o){var l=o.srcEvent,h=o.offsetDirection;if(this.manager.session.prevented){l.preventDefault();return}var y=this.actions,O=inStr(y,TOUCH_ACTION_NONE)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_NONE],D=inStr(y,TOUCH_ACTION_PAN_Y)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y],R=inStr(y,TOUCH_ACTION_PAN_X)&&!TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];if(O){var F=o.pointers.length===1,j=o.distance<2,B=o.deltaTime<250;if(F&&j&&B)return}if(!(R&&D)&&(O||D&&h&DIRECTION_HORIZONTAL||R&&h&DIRECTION_VERTICAL))return this.preventSrc(l)},t.preventSrc=function(o){this.manager.session.prevented=!0,o.preventDefault()},r}();function hasParent(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}function getCenter(r){var t=r.length;if(t===1)return{x:round$1(r[0].clientX),y:round$1(r[0].clientY)};for(var e=0,o=0,l=0;l<t;)e+=r[l].clientX,o+=r[l].clientY,l++;return{x:round$1(e/t),y:round$1(o/t)}}function simpleCloneInputData(r){for(var t=[],e=0;e<r.pointers.length;)t[e]={clientX:round$1(r.pointers[e].clientX),clientY:round$1(r.pointers[e].clientY)},e++;return{timeStamp:now(),pointers:t,center:getCenter(t),deltaX:r.deltaX,deltaY:r.deltaY}}function getDistance(r,t,e){e||(e=PROPS_XY);var o=t[e[0]]-r[e[0]],l=t[e[1]]-r[e[1]];return Math.sqrt(o*o+l*l)}function getAngle(r,t,e){e||(e=PROPS_XY);var o=t[e[0]]-r[e[0]],l=t[e[1]]-r[e[1]];return Math.atan2(l,o)*180/Math.PI}function getDirection(r,t){return r===t?DIRECTION_NONE:abs$1(r)>=abs$1(t)?r<0?DIRECTION_LEFT:DIRECTION_RIGHT:t<0?DIRECTION_UP:DIRECTION_DOWN}function computeDeltaXY(r,t){var e=t.center,o=r.offsetDelta||{},l=r.prevDelta||{},h=r.prevInput||{};(t.eventType===INPUT_START||h.eventType===INPUT_END)&&(l=r.prevDelta={x:h.deltaX||0,y:h.deltaY||0},o=r.offsetDelta={x:e.x,y:e.y}),t.deltaX=l.x+(e.x-o.x),t.deltaY=l.y+(e.y-o.y)}function getVelocity(r,t,e){return{x:t/r||0,y:e/r||0}}function getScale(r,t){return getDistance(t[0],t[1],PROPS_CLIENT_XY)/getDistance(r[0],r[1],PROPS_CLIENT_XY)}function getRotation(r,t){return getAngle(t[1],t[0],PROPS_CLIENT_XY)+getAngle(r[1],r[0],PROPS_CLIENT_XY)}function computeIntervalInputData(r,t){var e=r.lastInterval||t,o=t.timeStamp-e.timeStamp,l,h,y,O;if(t.eventType!==INPUT_CANCEL&&(o>COMPUTE_INTERVAL||e.velocity===void 0)){var D=t.deltaX-e.deltaX,R=t.deltaY-e.deltaY,F=getVelocity(o,D,R);h=F.x,y=F.y,l=abs$1(F.x)>abs$1(F.y)?F.x:F.y,O=getDirection(D,R),r.lastInterval=t}else l=e.velocity,h=e.velocityX,y=e.velocityY,O=e.direction;t.velocity=l,t.velocityX=h,t.velocityY=y,t.direction=O}function computeInputData(r,t){var e=r.session,o=t.pointers,l=o.length;e.firstInput||(e.firstInput=simpleCloneInputData(t)),l>1&&!e.firstMultiple?e.firstMultiple=simpleCloneInputData(t):l===1&&(e.firstMultiple=!1);var h=e.firstInput,y=e.firstMultiple,O=y?y.center:h.center,D=t.center=getCenter(o);t.timeStamp=now(),t.deltaTime=t.timeStamp-h.timeStamp,t.angle=getAngle(O,D),t.distance=getDistance(O,D),computeDeltaXY(e,t),t.offsetDirection=getDirection(t.deltaX,t.deltaY);var R=getVelocity(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=R.x,t.overallVelocityY=R.y,t.overallVelocity=abs$1(R.x)>abs$1(R.y)?R.x:R.y,t.scale=y?getScale(y.pointers,o):1,t.rotation=y?getRotation(y.pointers,o):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,computeIntervalInputData(e,t);var F=r.element,j=t.srcEvent,B;j.composedPath?B=j.composedPath()[0]:j.path?B=j.path[0]:B=j.target,hasParent(B,F)&&(F=B),t.target=F}function inputHandler(r,t,e){var o=e.pointers.length,l=e.changedPointers.length,h=t&INPUT_START&&o-l===0,y=t&(INPUT_END|INPUT_CANCEL)&&o-l===0;e.isFirst=!!h,e.isFinal=!!y,h&&(r.session={}),e.eventType=t,computeInputData(r,e),r.emit("hammer.input",e),r.recognize(e),r.session.prevInput=e}function splitStr(r){return r.trim().split(/\s+/g)}function addEventListeners(r,t,e){each$1(splitStr(t),function(o){r.addEventListener(o,e,!1)})}function removeEventListeners(r,t,e){each$1(splitStr(t),function(o){r.removeEventListener(o,e,!1)})}function getWindowForElement(r){var t=r.ownerDocument||r;return t.defaultView||t.parentWindow||window}var Input=function(){function r(e,o){var l=this;this.manager=e,this.callback=o,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(h){boolOrFn(e.options.enable,[e])&&l.handler(h)},this.init()}var t=r.prototype;return t.handler=function(){},t.init=function(){this.evEl&&addEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&addEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&addEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&removeEventListeners(this.element,this.evEl,this.domHandler),this.evTarget&&removeEventListeners(this.target,this.evTarget,this.domHandler),this.evWin&&removeEventListeners(getWindowForElement(this.element),this.evWin,this.domHandler)},r}();function inArray(r,t,e){if(r.indexOf&&!e)return r.indexOf(t);for(var o=0;o<r.length;){if(e&&r[o][e]==t||!e&&r[o]===t)return o;o++}return-1}var POINTER_INPUT_MAP={pointerdown:INPUT_START,pointermove:INPUT_MOVE,pointerup:INPUT_END,pointercancel:INPUT_CANCEL,pointerout:INPUT_CANCEL},IE10_POINTER_TYPE_ENUM={2:INPUT_TYPE_TOUCH,3:INPUT_TYPE_PEN,4:INPUT_TYPE_MOUSE,5:INPUT_TYPE_KINECT},POINTER_ELEMENT_EVENTS="pointerdown",POINTER_WINDOW_EVENTS="pointermove pointerup pointercancel";win.MSPointerEvent&&!win.PointerEvent&&(POINTER_ELEMENT_EVENTS="MSPointerDown",POINTER_WINDOW_EVENTS="MSPointerMove MSPointerUp MSPointerCancel");var PointerEventInput=function(r){_inheritsLoose(t,r);function t(){var o,l=t.prototype;return l.evEl=POINTER_ELEMENT_EVENTS,l.evWin=POINTER_WINDOW_EVENTS,o=r.apply(this,arguments)||this,o.store=o.manager.session.pointerEvents=[],o}var e=t.prototype;return e.handler=function(l){var h=this.store,y=!1,O=l.type.toLowerCase().replace("ms",""),D=POINTER_INPUT_MAP[O],R=IE10_POINTER_TYPE_ENUM[l.pointerType]||l.pointerType,F=R===INPUT_TYPE_TOUCH,j=inArray(h,l.pointerId,"pointerId");D&INPUT_START&&(l.button===0||F)?j<0&&(h.push(l),j=h.length-1):D&(INPUT_END|INPUT_CANCEL)&&(y=!0),!(j<0)&&(h[j]=l,this.callback(this.manager,D,{pointers:h,changedPointers:[l],pointerType:R,srcEvent:l}),y&&h.splice(j,1))},t}(Input);function toArray(r){return Array.prototype.slice.call(r,0)}function uniqueArray(r,t,e){for(var o=[],l=[],h=0;h<r.length;){var y=t?r[h][t]:r[h];inArray(l,y)<0&&o.push(r[h]),l[h]=y,h++}return e&&(t?o=o.sort(function(O,D){return O[t]>D[t]}):o=o.sort()),o}var TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},TOUCH_TARGET_EVENTS="touchstart touchmove touchend touchcancel",TouchInput=function(r){_inheritsLoose(t,r);function t(){var o;return t.prototype.evTarget=TOUCH_TARGET_EVENTS,o=r.apply(this,arguments)||this,o.targetIds={},o}var e=t.prototype;return e.handler=function(l){var h=TOUCH_INPUT_MAP[l.type],y=getTouches.call(this,l,h);!y||this.callback(this.manager,h,{pointers:y[0],changedPointers:y[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:l})},t}(Input);function getTouches(r,t){var e=toArray(r.touches),o=this.targetIds;if(t&(INPUT_START|INPUT_MOVE)&&e.length===1)return o[e[0].identifier]=!0,[e,e];var l,h,y=toArray(r.changedTouches),O=[],D=this.target;if(h=e.filter(function(R){return hasParent(R.target,D)}),t===INPUT_START)for(l=0;l<h.length;)o[h[l].identifier]=!0,l++;for(l=0;l<y.length;)o[y[l].identifier]&&O.push(y[l]),t&(INPUT_END|INPUT_CANCEL)&&delete o[y[l].identifier],l++;if(!!O.length)return[uniqueArray(h.concat(O),"identifier",!0),O]}var MOUSE_INPUT_MAP={mousedown:INPUT_START,mousemove:INPUT_MOVE,mouseup:INPUT_END},MOUSE_ELEMENT_EVENTS="mousedown",MOUSE_WINDOW_EVENTS="mousemove mouseup",MouseInput=function(r){_inheritsLoose(t,r);function t(){var o,l=t.prototype;return l.evEl=MOUSE_ELEMENT_EVENTS,l.evWin=MOUSE_WINDOW_EVENTS,o=r.apply(this,arguments)||this,o.pressed=!1,o}var e=t.prototype;return e.handler=function(l){var h=MOUSE_INPUT_MAP[l.type];h&INPUT_START&&l.button===0&&(this.pressed=!0),h&INPUT_MOVE&&l.which!==1&&(h=INPUT_END),this.pressed&&(h&INPUT_END&&(this.pressed=!1),this.callback(this.manager,h,{pointers:[l],changedPointers:[l],pointerType:INPUT_TYPE_MOUSE,srcEvent:l}))},t}(Input),DEDUP_TIMEOUT=2500,DEDUP_DISTANCE=25;function setLastTouch(r){var t=r.changedPointers,e=t[0];if(e.identifier===this.primaryTouch){var o={x:e.clientX,y:e.clientY},l=this.lastTouches;this.lastTouches.push(o);var h=function(){var O=l.indexOf(o);O>-1&&l.splice(O,1)};setTimeout(h,DEDUP_TIMEOUT)}}function recordTouches(r,t){r&INPUT_START?(this.primaryTouch=t.changedPointers[0].identifier,setLastTouch.call(this,t)):r&(INPUT_END|INPUT_CANCEL)&&setLastTouch.call(this,t)}function isSyntheticEvent(r){for(var t=r.srcEvent.clientX,e=r.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var l=this.lastTouches[o],h=Math.abs(t-l.x),y=Math.abs(e-l.y);if(h<=DEDUP_DISTANCE&&y<=DEDUP_DISTANCE)return!0}return!1}var TouchMouseInput=function(){var r=function(t){_inheritsLoose(e,t);function e(l,h){var y;return y=t.call(this,l,h)||this,y.handler=function(O,D,R){var F=R.pointerType===INPUT_TYPE_TOUCH,j=R.pointerType===INPUT_TYPE_MOUSE;if(!(j&&R.sourceCapabilities&&R.sourceCapabilities.firesTouchEvents)){if(F)recordTouches.call(_assertThisInitialized$1(_assertThisInitialized$1(y)),D,R);else if(j&&isSyntheticEvent.call(_assertThisInitialized$1(_assertThisInitialized$1(y)),R))return;y.callback(O,D,R)}},y.touch=new TouchInput(y.manager,y.handler),y.mouse=new MouseInput(y.manager,y.handler),y.primaryTouch=null,y.lastTouches=[],y}var o=e.prototype;return o.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Input);return r}();function createInputInstance(r){var t,e=r.options.inputClass;return e?t=e:SUPPORT_POINTER_EVENTS?t=PointerEventInput:SUPPORT_ONLY_TOUCH?t=TouchInput:SUPPORT_TOUCH?t=TouchMouseInput:t=MouseInput,new t(r,inputHandler)}function invokeArrayArg(r,t,e){return Array.isArray(r)?(each$1(r,e[t],e),!0):!1}var STATE_POSSIBLE=1,STATE_BEGAN=2,STATE_CHANGED=4,STATE_ENDED=8,STATE_RECOGNIZED=STATE_ENDED,STATE_CANCELLED=16,STATE_FAILED=32,_uniqueId=1;function uniqueId(){return _uniqueId++}function getRecognizerByNameIfManager(r,t){var e=t.manager;return e?e.get(r):r}function stateStr(r){return r&STATE_CANCELLED?"cancel":r&STATE_ENDED?"end":r&STATE_CHANGED?"move":r&STATE_BEGAN?"start":""}var Recognizer=function(){function r(e){e===void 0&&(e={}),this.options=_extends({enable:!0},e),this.id=uniqueId(),this.manager=null,this.state=STATE_POSSIBLE,this.simultaneous={},this.requireFail=[]}var t=r.prototype;return t.set=function(o){return assign$1$1(this.options,o),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(o){if(invokeArrayArg(o,"recognizeWith",this))return this;var l=this.simultaneous;return o=getRecognizerByNameIfManager(o,this),l[o.id]||(l[o.id]=o,o.recognizeWith(this)),this},t.dropRecognizeWith=function(o){return invokeArrayArg(o,"dropRecognizeWith",this)?this:(o=getRecognizerByNameIfManager(o,this),delete this.simultaneous[o.id],this)},t.requireFailure=function(o){if(invokeArrayArg(o,"requireFailure",this))return this;var l=this.requireFail;return o=getRecognizerByNameIfManager(o,this),inArray(l,o)===-1&&(l.push(o),o.requireFailure(this)),this},t.dropRequireFailure=function(o){if(invokeArrayArg(o,"dropRequireFailure",this))return this;o=getRecognizerByNameIfManager(o,this);var l=inArray(this.requireFail,o);return l>-1&&this.requireFail.splice(l,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(o){return!!this.simultaneous[o.id]},t.emit=function(o){var l=this,h=this.state;function y(O){l.manager.emit(O,o)}h<STATE_ENDED&&y(l.options.event+stateStr(h)),y(l.options.event),o.additionalEvent&&y(o.additionalEvent),h>=STATE_ENDED&&y(l.options.event+stateStr(h))},t.tryEmit=function(o){if(this.canEmit())return this.emit(o);this.state=STATE_FAILED},t.canEmit=function(){for(var o=0;o<this.requireFail.length;){if(!(this.requireFail[o].state&(STATE_FAILED|STATE_POSSIBLE)))return!1;o++}return!0},t.recognize=function(o){var l=assign$1$1({},o);if(!boolOrFn(this.options.enable,[this,l])){this.reset(),this.state=STATE_FAILED;return}this.state&(STATE_RECOGNIZED|STATE_CANCELLED|STATE_FAILED)&&(this.state=STATE_POSSIBLE),this.state=this.process(l),this.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED|STATE_CANCELLED)&&this.tryEmit(l)},t.process=function(o){},t.getTouchAction=function(){},t.reset=function(){},r}(),TapRecognizer=function(r){_inheritsLoose(t,r);function t(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},o))||this,l.pTime=!1,l.pCenter=!1,l._timer=null,l._input=null,l.count=0,l}var e=t.prototype;return e.getTouchAction=function(){return[TOUCH_ACTION_MANIPULATION]},e.process=function(l){var h=this,y=this.options,O=l.pointers.length===y.pointers,D=l.distance<y.threshold,R=l.deltaTime<y.time;if(this.reset(),l.eventType&INPUT_START&&this.count===0)return this.failTimeout();if(D&&R&&O){if(l.eventType!==INPUT_END)return this.failTimeout();var F=this.pTime?l.timeStamp-this.pTime<y.interval:!0,j=!this.pCenter||getDistance(this.pCenter,l.center)<y.posThreshold;this.pTime=l.timeStamp,this.pCenter=l.center,!j||!F?this.count=1:this.count+=1,this._input=l;var B=this.count%y.taps;if(B===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){h.state=STATE_RECOGNIZED,h.tryEmit()},y.interval),STATE_BEGAN):STATE_RECOGNIZED}return STATE_FAILED},e.failTimeout=function(){var l=this;return this._timer=setTimeout(function(){l.state=STATE_FAILED},this.options.interval),STATE_FAILED},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===STATE_RECOGNIZED&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Recognizer),AttrRecognizer=function(r){_inheritsLoose(t,r);function t(o){return o===void 0&&(o={}),r.call(this,_extends({pointers:1},o))||this}var e=t.prototype;return e.attrTest=function(l){var h=this.options.pointers;return h===0||l.pointers.length===h},e.process=function(l){var h=this.state,y=l.eventType,O=h&(STATE_BEGAN|STATE_CHANGED),D=this.attrTest(l);return O&&(y&INPUT_CANCEL||!D)?h|STATE_CANCELLED:O||D?y&INPUT_END?h|STATE_ENDED:h&STATE_BEGAN?h|STATE_CHANGED:STATE_BEGAN:STATE_FAILED},t}(Recognizer);function directionStr(r){return r===DIRECTION_DOWN?"down":r===DIRECTION_UP?"up":r===DIRECTION_LEFT?"left":r===DIRECTION_RIGHT?"right":""}var PanRecognizer=function(r){_inheritsLoose(t,r);function t(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends({event:"pan",threshold:10,pointers:1,direction:DIRECTION_ALL},o))||this,l.pX=null,l.pY=null,l}var e=t.prototype;return e.getTouchAction=function(){var l=this.options.direction,h=[];return l&DIRECTION_HORIZONTAL&&h.push(TOUCH_ACTION_PAN_Y),l&DIRECTION_VERTICAL&&h.push(TOUCH_ACTION_PAN_X),h},e.directionTest=function(l){var h=this.options,y=!0,O=l.distance,D=l.direction,R=l.deltaX,F=l.deltaY;return D&h.direction||(h.direction&DIRECTION_HORIZONTAL?(D=R===0?DIRECTION_NONE:R<0?DIRECTION_LEFT:DIRECTION_RIGHT,y=R!==this.pX,O=Math.abs(l.deltaX)):(D=F===0?DIRECTION_NONE:F<0?DIRECTION_UP:DIRECTION_DOWN,y=F!==this.pY,O=Math.abs(l.deltaY))),l.direction=D,y&&O>h.threshold&&D&h.direction},e.attrTest=function(l){return AttrRecognizer.prototype.attrTest.call(this,l)&&(this.state&STATE_BEGAN||!(this.state&STATE_BEGAN)&&this.directionTest(l))},e.emit=function(l){this.pX=l.deltaX,this.pY=l.deltaY;var h=directionStr(l.direction);h&&(l.additionalEvent=this.options.event+h),r.prototype.emit.call(this,l)},t}(AttrRecognizer),SwipeRecognizer=function(r){_inheritsLoose(t,r);function t(o){return o===void 0&&(o={}),r.call(this,_extends({event:"swipe",threshold:10,velocity:.3,direction:DIRECTION_HORIZONTAL|DIRECTION_VERTICAL,pointers:1},o))||this}var e=t.prototype;return e.getTouchAction=function(){return PanRecognizer.prototype.getTouchAction.call(this)},e.attrTest=function(l){var h=this.options.direction,y;return h&(DIRECTION_HORIZONTAL|DIRECTION_VERTICAL)?y=l.overallVelocity:h&DIRECTION_HORIZONTAL?y=l.overallVelocityX:h&DIRECTION_VERTICAL&&(y=l.overallVelocityY),r.prototype.attrTest.call(this,l)&&h&l.offsetDirection&&l.distance>this.options.threshold&&l.maxPointers===this.options.pointers&&abs$1(y)>this.options.velocity&&l.eventType&INPUT_END},e.emit=function(l){var h=directionStr(l.offsetDirection);h&&this.manager.emit(this.options.event+h,l),this.manager.emit(this.options.event,l)},t}(AttrRecognizer),PinchRecognizer=function(r){_inheritsLoose(t,r);function t(o){return o===void 0&&(o={}),r.call(this,_extends({event:"pinch",threshold:0,pointers:2},o))||this}var e=t.prototype;return e.getTouchAction=function(){return[TOUCH_ACTION_NONE]},e.attrTest=function(l){return r.prototype.attrTest.call(this,l)&&(Math.abs(l.scale-1)>this.options.threshold||this.state&STATE_BEGAN)},e.emit=function(l){if(l.scale!==1){var h=l.scale<1?"in":"out";l.additionalEvent=this.options.event+h}r.prototype.emit.call(this,l)},t}(AttrRecognizer),RotateRecognizer=function(r){_inheritsLoose(t,r);function t(o){return o===void 0&&(o={}),r.call(this,_extends({event:"rotate",threshold:0,pointers:2},o))||this}var e=t.prototype;return e.getTouchAction=function(){return[TOUCH_ACTION_NONE]},e.attrTest=function(l){return r.prototype.attrTest.call(this,l)&&(Math.abs(l.rotation)>this.options.threshold||this.state&STATE_BEGAN)},t}(AttrRecognizer),PressRecognizer=function(r){_inheritsLoose(t,r);function t(o){var l;return o===void 0&&(o={}),l=r.call(this,_extends({event:"press",pointers:1,time:251,threshold:9},o))||this,l._timer=null,l._input=null,l}var e=t.prototype;return e.getTouchAction=function(){return[TOUCH_ACTION_AUTO]},e.process=function(l){var h=this,y=this.options,O=l.pointers.length===y.pointers,D=l.distance<y.threshold,R=l.deltaTime>y.time;if(this._input=l,!D||!O||l.eventType&(INPUT_END|INPUT_CANCEL)&&!R)this.reset();else if(l.eventType&INPUT_START)this.reset(),this._timer=setTimeout(function(){h.state=STATE_RECOGNIZED,h.tryEmit()},y.time);else if(l.eventType&INPUT_END)return STATE_RECOGNIZED;return STATE_FAILED},e.reset=function(){clearTimeout(this._timer)},e.emit=function(l){this.state===STATE_RECOGNIZED&&(l&&l.eventType&INPUT_END?this.manager.emit(this.options.event+"up",l):(this._input.timeStamp=now(),this.manager.emit(this.options.event,this._input)))},t}(Recognizer),defaults$2={domEvents:!1,touchAction:TOUCH_ACTION_COMPUTE,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},preset=[[RotateRecognizer,{enable:!1}],[PinchRecognizer,{enable:!1},["rotate"]],[SwipeRecognizer,{direction:DIRECTION_HORIZONTAL}],[PanRecognizer,{direction:DIRECTION_HORIZONTAL},["swipe"]],[TapRecognizer],[TapRecognizer,{event:"doubletap",taps:2},["tap"]],[PressRecognizer]],STOP=1,FORCED_STOP=2;function toggleCssProps(r,t){var e=r.element;if(!!e.style){var o;each$1(r.options.cssProps,function(l,h){o=prefixed(e.style,h),t?(r.oldCssProps[o]=e.style[o],e.style[o]=l):e.style[o]=r.oldCssProps[o]||""}),t||(r.oldCssProps={})}}function triggerDomEvent(r,t){var e=document.createEvent("Event");e.initEvent(r,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}var Manager=function(){function r(e,o){var l=this;this.options=assign$1$1({},defaults$2,o||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=createInputInstance(this),this.touchAction=new TouchAction(this,this.options.touchAction),toggleCssProps(this,!0),each$1(this.options.recognizers,function(h){var y=l.add(new h[0](h[1]));h[2]&&y.recognizeWith(h[2]),h[3]&&y.requireFailure(h[3])},this)}var t=r.prototype;return t.set=function(o){return assign$1$1(this.options,o),o.touchAction&&this.touchAction.update(),o.inputTarget&&(this.input.destroy(),this.input.target=o.inputTarget,this.input.init()),this},t.stop=function(o){this.session.stopped=o?FORCED_STOP:STOP},t.recognize=function(o){var l=this.session;if(!l.stopped){this.touchAction.preventDefaults(o);var h,y=this.recognizers,O=l.curRecognizer;(!O||O&&O.state&STATE_RECOGNIZED)&&(l.curRecognizer=null,O=null);for(var D=0;D<y.length;)h=y[D],l.stopped!==FORCED_STOP&&(!O||h===O||h.canRecognizeWith(O))?h.recognize(o):h.reset(),!O&&h.state&(STATE_BEGAN|STATE_CHANGED|STATE_ENDED)&&(l.curRecognizer=h,O=h),D++}},t.get=function(o){if(o instanceof Recognizer)return o;for(var l=this.recognizers,h=0;h<l.length;h++)if(l[h].options.event===o)return l[h];return null},t.add=function(o){if(invokeArrayArg(o,"add",this))return this;var l=this.get(o.options.event);return l&&this.remove(l),this.recognizers.push(o),o.manager=this,this.touchAction.update(),o},t.remove=function(o){if(invokeArrayArg(o,"remove",this))return this;var l=this.get(o);if(o){var h=this.recognizers,y=inArray(h,l);y!==-1&&(h.splice(y,1),this.touchAction.update())}return this},t.on=function(o,l){if(o===void 0||l===void 0)return this;var h=this.handlers;return each$1(splitStr(o),function(y){h[y]=h[y]||[],h[y].push(l)}),this},t.off=function(o,l){if(o===void 0)return this;var h=this.handlers;return each$1(splitStr(o),function(y){l?h[y]&&h[y].splice(inArray(h[y],l),1):delete h[y]}),this},t.emit=function(o,l){this.options.domEvents&&triggerDomEvent(o,l);var h=this.handlers[o]&&this.handlers[o].slice();if(!(!h||!h.length)){l.type=o,l.preventDefault=function(){l.srcEvent.preventDefault()};for(var y=0;y<h.length;)h[y](l),y++}},t.destroy=function(){this.element&&toggleCssProps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},r}(),SINGLE_TOUCH_INPUT_MAP={touchstart:INPUT_START,touchmove:INPUT_MOVE,touchend:INPUT_END,touchcancel:INPUT_CANCEL},SINGLE_TOUCH_TARGET_EVENTS="touchstart",SINGLE_TOUCH_WINDOW_EVENTS="touchstart touchmove touchend touchcancel",SingleTouchInput=function(r){_inheritsLoose(t,r);function t(){var o,l=t.prototype;return l.evTarget=SINGLE_TOUCH_TARGET_EVENTS,l.evWin=SINGLE_TOUCH_WINDOW_EVENTS,o=r.apply(this,arguments)||this,o.started=!1,o}var e=t.prototype;return e.handler=function(l){var h=SINGLE_TOUCH_INPUT_MAP[l.type];if(h===INPUT_START&&(this.started=!0),!!this.started){var y=normalizeSingleTouches.call(this,l,h);h&(INPUT_END|INPUT_CANCEL)&&y[0].length-y[1].length===0&&(this.started=!1),this.callback(this.manager,h,{pointers:y[0],changedPointers:y[1],pointerType:INPUT_TYPE_TOUCH,srcEvent:l})}},t}(Input);function normalizeSingleTouches(r,t){var e=toArray(r.touches),o=toArray(r.changedTouches);return t&(INPUT_END|INPUT_CANCEL)&&(e=uniqueArray(e.concat(o),"identifier",!0)),[e,o]}function deprecate(r,t,e){var o="DEPRECATED METHOD: "+t+`
`+e+` AT 
`;return function(){var l=new Error("get-stack-trace"),h=l&&l.stack?l.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",y=window.console&&(window.console.warn||window.console.log);return y&&y.call(window.console,o,h),r.apply(this,arguments)}}var extend=deprecate(function(r,t,e){for(var o=Object.keys(t),l=0;l<o.length;)(!e||e&&r[o[l]]===void 0)&&(r[o[l]]=t[o[l]]),l++;return r},"extend","Use `assign`."),merge$2=deprecate(function(r,t){return extend(r,t,!0)},"merge","Use `assign`.");function inherit(r,t,e){var o=t.prototype,l;l=r.prototype=Object.create(o),l.constructor=r,l._super=o,e&&assign$1$1(l,e)}function bindFn(r,t){return function(){return r.apply(t,arguments)}}var Hammer$2=function(){var r=function(e,o){return o===void 0&&(o={}),new Manager(e,_extends({recognizers:preset.concat()},o))};return r.VERSION="2.0.17-rc",r.DIRECTION_ALL=DIRECTION_ALL,r.DIRECTION_DOWN=DIRECTION_DOWN,r.DIRECTION_LEFT=DIRECTION_LEFT,r.DIRECTION_RIGHT=DIRECTION_RIGHT,r.DIRECTION_UP=DIRECTION_UP,r.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,r.DIRECTION_VERTICAL=DIRECTION_VERTICAL,r.DIRECTION_NONE=DIRECTION_NONE,r.DIRECTION_DOWN=DIRECTION_DOWN,r.INPUT_START=INPUT_START,r.INPUT_MOVE=INPUT_MOVE,r.INPUT_END=INPUT_END,r.INPUT_CANCEL=INPUT_CANCEL,r.STATE_POSSIBLE=STATE_POSSIBLE,r.STATE_BEGAN=STATE_BEGAN,r.STATE_CHANGED=STATE_CHANGED,r.STATE_ENDED=STATE_ENDED,r.STATE_RECOGNIZED=STATE_RECOGNIZED,r.STATE_CANCELLED=STATE_CANCELLED,r.STATE_FAILED=STATE_FAILED,r.Manager=Manager,r.Input=Input,r.TouchAction=TouchAction,r.TouchInput=TouchInput,r.MouseInput=MouseInput,r.PointerEventInput=PointerEventInput,r.TouchMouseInput=TouchMouseInput,r.SingleTouchInput=SingleTouchInput,r.Recognizer=Recognizer,r.AttrRecognizer=AttrRecognizer,r.Tap=TapRecognizer,r.Pan=PanRecognizer,r.Swipe=SwipeRecognizer,r.Pinch=PinchRecognizer,r.Rotate=RotateRecognizer,r.Press=PressRecognizer,r.on=addEventListeners,r.off=removeEventListeners,r.each=each$1,r.merge=merge$2,r.extend=extend,r.bindFn=bindFn,r.assign=assign$1$1,r.inherit=inherit,r.bindFn=bindFn,r.prefixed=prefixed,r.toArray=toArray,r.inArray=inArray,r.uniqueArray=uniqueArray,r.splitStr=splitStr,r.boolOrFn=boolOrFn,r.hasParent=hasParent,r.addEventListeners=addEventListeners,r.removeEventListeners=removeEventListeners,r.defaults=assign$1$1({},defaults$2,{preset}),r}(),RealHammer=Hammer$2;function _createForOfIteratorHelper$7(r,t){var e=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!e){if(isArray$1(r)||(e=_unsupportedIterableToArray$7(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$7(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$7(r,t);var o=slice(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$7(r,t)}}function _arrayLikeToArray$7(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}symbol("DELETE");function Alea(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];return AleaImplementation(t.length?t:[now$1()])}function AleaImplementation(r){var t=mashSeed(r),e=_slicedToArray(t,3),o=e[0],l=e[1],h=e[2],y=1,O=function(){var R=2091639*o+y*23283064365386963e-26;return o=l,l=h,h=R-(y=R|0)};return O.uint32=function(){return O()*4294967296},O.fract53=function(){return O()+(O()*2097152|0)*11102230246251565e-32},O.algorithm="Alea",O.seed=r,O.version="0.9",O}function mashSeed(){for(var r=Mash(),t=r(" "),e=r(" "),o=r(" "),l=0;l<arguments.length;l++)t-=r(l<0||arguments.length<=l?void 0:arguments[l]),t<0&&(t+=1),e-=r(l<0||arguments.length<=l?void 0:arguments[l]),e<0&&(e+=1),o-=r(l<0||arguments.length<=l?void 0:arguments[l]),o<0&&(o+=1);return[t,e,o]}function Mash(){var r=4022871197;return function(t){for(var e=t.toString(),o=0;o<e.length;o++){r+=e.charCodeAt(o);var l=.02519603282416938*r;r=l>>>0,l-=r,l*=r,r=l>>>0,l-=r,r+=l*4294967296}return(r>>>0)*23283064365386963e-26}}function hammerMock(){var r=function(){};return{on:r,off:r,destroy:r,emit:r,get:function(){return{set:r}}}}var Hammer$1=typeof window!="undefined"?window.Hammer||RealHammer:function(){return hammerMock()};function Activator$1(r){var t=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:r,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){t._dom.overlay.parentNode.removeChild(t._dom.overlay)});var o=Hammer$1(this._dom.overlay);o.on("tap",bind$5(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){o.destroy()});var l=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];forEach$2(l).call(l,function(h){o.on(h,function(y){y.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(h){_hasParent(h.target,r)||t.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",t._onClick)})),this._escListener=function(h){("key"in h?h.key==="Escape":h.keyCode===27)&&t.deactivate()}}Emitter(Activator$1.prototype);Activator$1.current=null;Activator$1.prototype.destroy=function(){var r,t;this.deactivate();var e=_createForOfIteratorHelper$7(reverse(r=splice$1(t=this._cleanupQueue).call(t,0)).call(r)),o;try{for(e.s();!(o=e.n()).done;){var l=o.value;l()}}catch(h){e.e(h)}finally{e.f()}};Activator$1.prototype.activate=function(){Activator$1.current&&Activator$1.current.deactivate(),Activator$1.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Activator$1.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Activator$1.prototype._onTapOverlay=function(r){this.activate(),r.srcEvent.stopPropagation()};function _hasParent(r,t){for(;r;){if(r===t)return!0;r=r.parentNode}return!1}var fullHexRE=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,shortHexRE=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rgbRE=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,rgbaRE=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function recursiveDOMDelete(r){if(r)for(;r.hasChildNodes()===!0;){var t=r.firstChild;t&&(recursiveDOMDelete(t),r.removeChild(t))}}function isString(r){return r instanceof String||typeof r=="string"}function isObject$7(r){return _typeof(r)==="object"&&r!==null}function copyOrDelete(r,t,e,o){var l=!1;o===!0&&(l=t[e]===null&&r[e]!==void 0),l?delete r[e]:r[e]=t[e]}function fillIfDefined(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var o in r)if(t[o]!==void 0)if(t[o]===null||_typeof(t[o])!=="object")copyOrDelete(r,t,o,e);else{var l=r[o],h=t[o];isObject$7(l)&&isObject$7(h)&&fillIfDefined(l,h,e)}}function selectiveDeepExtend(r,t,e){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(isArray$1(e))throw new TypeError("Arrays are not supported by deepExtend");for(var l=0;l<r.length;l++){var h=r[l];if(Object.prototype.hasOwnProperty.call(e,h))if(e[h]&&e[h].constructor===Object)t[h]===void 0&&(t[h]={}),t[h].constructor===Object?deepExtend(t[h],e[h],!1,o):copyOrDelete(t,e,h,o);else{if(isArray$1(e[h]))throw new TypeError("Arrays are not supported by deepExtend");copyOrDelete(t,e,h,o)}}return t}function selectiveNotDeepExtend(r,t,e){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(isArray$1(e))throw new TypeError("Arrays are not supported by deepExtend");for(var l in e)if(!!Object.prototype.hasOwnProperty.call(e,l)&&!includes(r).call(r,l))if(e[l]&&e[l].constructor===Object)t[l]===void 0&&(t[l]={}),t[l].constructor===Object?deepExtend(t[l],e[l]):copyOrDelete(t,e,l,o);else if(isArray$1(e[l])){t[l]=[];for(var h=0;h<e[l].length;h++)t[l].push(e[l][h])}else copyOrDelete(t,e,l,o);return t}function deepExtend(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)||e===!0)if(_typeof(t[l])==="object"&&t[l]!==null&&getPrototypeOf$4(t[l])===Object.prototype)r[l]===void 0?r[l]=deepExtend({},t[l],e):_typeof(r[l])==="object"&&r[l]!==null&&getPrototypeOf$4(r[l])===Object.prototype?deepExtend(r[l],t[l],e):copyOrDelete(r,t,l,o);else if(isArray$1(t[l])){var h;r[l]=slice(h=t[l]).call(h)}else copyOrDelete(r,t,l,o);return r}function copyAndExtendArray(r,t){var e;return concat(e=[]).call(e,_toConsumableArray(r),[t])}function copyArray(r){return slice(r).call(r)}function getAbsoluteLeft(r){return r.getBoundingClientRect().left}function getAbsoluteTop(r){return r.getBoundingClientRect().top}function forEach$1(r,t){if(isArray$1(r))for(var e=r.length,o=0;o<e;o++)t(r[o],o,r);else for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&t(r[l],l,r)}function addEventListener(r,t,e,o){if(r.addEventListener){var l;o===void 0&&(o=!1),t==="mousewheel"&&includes(l=navigator.userAgent).call(l,"Firefox")&&(t="DOMMouseScroll"),r.addEventListener(t,e,o)}else r.attachEvent("on"+t,e)}function removeEventListener(r,t,e,o){if(r.removeEventListener){var l;o===void 0&&(o=!1),t==="mousewheel"&&includes(l=navigator.userAgent).call(l,"Firefox")&&(t="DOMMouseScroll"),r.removeEventListener(t,e,o)}else r.detachEvent("on"+t,e)}function hexToRGB(r){var t;switch(r.length){case 3:case 4:return t=shortHexRE.exec(r),t?{r:_parseInt(t[1]+t[1],16),g:_parseInt(t[2]+t[2],16),b:_parseInt(t[3]+t[3],16)}:null;case 6:case 7:return t=fullHexRE.exec(r),t?{r:_parseInt(t[1],16),g:_parseInt(t[2],16),b:_parseInt(t[3],16)}:null;default:return null}}function overrideOpacity(r,t){if(includes(r).call(r,"rgba"))return r;if(includes(r).call(r,"rgb")){var e=r.substr(indexOf(r).call(r,"(")+1).replace(")","").split(",");return"rgba("+e[0]+","+e[1]+","+e[2]+","+t+")"}else{var o=hexToRGB(r);return o==null?r:"rgba("+o.r+","+o.g+","+o.b+","+t+")"}}function RGBToHex(r,t,e){var o;return"#"+slice(o=((1<<24)+(r<<16)+(t<<8)+e).toString(16)).call(o,1)}function parseColor(r,t){if(isString(r)){var e=r;if(isValidRGB(e)){var o,l=map$3(o=e.substr(4).substr(0,e.length-5).split(",")).call(o,function(B){return _parseInt(B)});e=RGBToHex(l[0],l[1],l[2])}if(isValidHex(e)===!0){var h=hexToHSV(e),y={h:h.h,s:h.s*.8,v:Math.min(1,h.v*1.02)},O={h:h.h,s:Math.min(1,h.s*1.25),v:h.v*.8},D=HSVToHex(O.h,O.s,O.v),R=HSVToHex(y.h,y.s,y.v);return{background:e,border:D,highlight:{background:R,border:D},hover:{background:R,border:D}}}else return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else if(t){var F={background:r.background||t.background,border:r.border||t.border,highlight:isString(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||t.highlight.background,border:r.highlight&&r.highlight.border||t.highlight.border},hover:isString(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||t.hover.border,background:r.hover&&r.hover.background||t.hover.background}};return F}else{var j={background:r.background||void 0,border:r.border||void 0,highlight:isString(r.highlight)?{border:r.highlight,background:r.highlight}:{background:r.highlight&&r.highlight.background||void 0,border:r.highlight&&r.highlight.border||void 0},hover:isString(r.hover)?{border:r.hover,background:r.hover}:{border:r.hover&&r.hover.border||void 0,background:r.hover&&r.hover.background||void 0}};return j}}function RGBToHSV(r,t,e){r=r/255,t=t/255,e=e/255;var o=Math.min(r,Math.min(t,e)),l=Math.max(r,Math.max(t,e));if(o===l)return{h:0,s:0,v:o};var h=r===o?t-e:e===o?r-t:e-r,y=r===o?3:e===o?1:5,O=60*(y-h/(l-o))/360,D=(l-o)/l,R=l;return{h:O,s:D,v:R}}function HSVToRGB(r,t,e){var o,l,h,y=Math.floor(r*6),O=r*6-y,D=e*(1-t),R=e*(1-O*t),F=e*(1-(1-O)*t);switch(y%6){case 0:o=e,l=F,h=D;break;case 1:o=R,l=e,h=D;break;case 2:o=D,l=e,h=F;break;case 3:o=D,l=R,h=e;break;case 4:o=F,l=D,h=e;break;case 5:o=e,l=D,h=R;break}return{r:Math.floor(o*255),g:Math.floor(l*255),b:Math.floor(h*255)}}function HSVToHex(r,t,e){var o=HSVToRGB(r,t,e);return RGBToHex(o.r,o.g,o.b)}function hexToHSV(r){var t=hexToRGB(r);if(!t)throw new TypeError("'".concat(r,"' is not a valid color."));return RGBToHSV(t.r,t.g,t.b)}function isValidHex(r){var t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r);return t}function isValidRGB(r){return rgbRE.test(r)}function isValidRGBA(r){return rgbaRE.test(r)}function bridgeObject(r){if(r===null||_typeof(r)!=="object")return null;if(r instanceof Element)return r;var t=create$5(r);for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&_typeof(r[e])=="object"&&(t[e]=bridgeObject(r[e]));return t}function mergeOptions(r,t,e){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=function(W){return W!=null},h=function(W){return W!==null&&_typeof(W)==="object"},y=function(W){for(var q in W)if(Object.prototype.hasOwnProperty.call(W,q))return!1;return!0};if(!h(r))throw new Error("Parameter mergeTarget must be an object");if(!h(t))throw new Error("Parameter options must be an object");if(!l(e))throw new Error("Parameter option must have a value");if(!h(o))throw new Error("Parameter globalOptions must be an object");var O=function(W,q,K){h(W[K])||(W[K]={});var Y=q[K],X=W[K];for(var J in Y)Object.prototype.hasOwnProperty.call(Y,J)&&(X[J]=Y[J])},D=t[e],R=h(o)&&!y(o),F=R?o[e]:void 0,j=F?F.enabled:void 0;if(D!==void 0){if(typeof D=="boolean"){h(r[e])||(r[e]={}),r[e].enabled=D;return}if(D===null&&!h(r[e]))if(l(F))r[e]=create$5(F);else return;if(!!h(D)){var B=!0;D.enabled!==void 0?B=D.enabled:j!==void 0&&(B=F.enabled),O(r,t,e),r[e].enabled=B}}}var easingFunctions={linear:function r(t){return t},easeInQuad:function r(t){return t*t},easeOutQuad:function r(t){return t*(2-t)},easeInOutQuad:function r(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function r(t){return t*t*t},easeOutCubic:function r(t){return--t*t*t+1},easeInOutCubic:function r(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function r(t){return t*t*t*t},easeOutQuart:function r(t){return 1- --t*t*t*t},easeInOutQuart:function r(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function r(t){return t*t*t*t*t},easeOutQuint:function r(t){return 1+--t*t*t*t*t},easeInOutQuint:function r(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function topMost(r,t){var e;isArray$1(t)||(t=[t]);var o=_createForOfIteratorHelper$7(r),l;try{for(o.s();!(l=o.n()).done;){var h=l.value;if(h){e=h[t[0]];for(var y=1;y<t.length;y++)e&&(e=e[t[y]]);if(typeof e!="undefined")break}}}catch(O){o.e(O)}finally{o.f()}return e}var htmlColors={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ColorPicker$1=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;_classCallCheck(this,r),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return _createClass(r,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(e){if(typeof e=="string")return htmlColors[e]}},{key:"setColor",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e!=="none"){var l,h=this._isColorString(e);if(h!==void 0&&(e=h),isString(e)===!0){if(isValidRGB(e)===!0){var y=e.substr(4).substr(0,e.length-5).split(",");l={r:y[0],g:y[1],b:y[2],a:1}}else if(isValidRGBA(e)===!0){var O=e.substr(5).substr(0,e.length-6).split(",");l={r:O[0],g:O[1],b:O[2],a:O[3]}}else if(isValidHex(e)===!0){var D=hexToRGB(e);l={r:D.r,g:D.g,b:D.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var R=e.a!==void 0?e.a:"1.0";l={r:e.r,g:e.g,b:e.b,a:R}}if(l===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+stringify$1(e));this._setColor(l,o)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o===!0&&(this.previousColor=assign$2({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout$1(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;o===!0&&(this.initialColor=assign$2({},e)),this.color=e;var l=RGBToHSV(e.r,e.g,e.b),h=2*Math.PI,y=this.r*l.s,O=this.centerCoordinates.x+y*Math.sin(h*l.h),D=this.centerCoordinates.y+y*Math.cos(h*l.h);this.colorPickerSelector.style.left=O-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=D-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var o=RGBToHSV(this.color.r,this.color.g,this.color.b);o.v=e/100;var l=HSVToRGB(o.h,o.s,o.v);l.a=this.color.a,this.color=l,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,o=RGBToHSV(e.r,e.g,e.b),l=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1)),l.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var h=this.colorPickerCanvas.clientWidth,y=this.colorPickerCanvas.clientHeight;l.clearRect(0,0,h,y),l.putImageData(this.hueCircle,0,0),l.fillStyle="rgba(0,0,0,"+(1-o.v)+")",l.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),fill$5(l).call(l),this.brightnessRange.value=100*o.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,o,l,h;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var O=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(O.webkitBackingStorePixelRatio||O.mozBackingStorePixelRatio||O.msBackingStorePixelRatio||O.oBackingStorePixelRatio||O.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var y=document.createElement("DIV");y.style.color="red",y.style.fontWeight="bold",y.style.padding="10px",y.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(y)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var D=this;this.opacityRange.onchange=function(){D._setOpacity(this.value)},this.opacityRange.oninput=function(){D._setOpacity(this.value)},this.brightnessRange.onchange=function(){D._setBrightness(this.value)},this.brightnessRange.oninput=function(){D._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=bind$5(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=bind$5(o=this._apply).call(o,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=bind$5(l=this._save).call(l,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=bind$5(h=this._loadLast).call(h,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new Hammer$1(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(o){o.isFirst&&e._moveSelector(o)}),this.hammer.on("tap",function(o){e._moveSelector(o)}),this.hammer.on("panstart",function(o){e._moveSelector(o)}),this.hammer.on("panmove",function(o){e._moveSelector(o)}),this.hammer.on("panend",function(o){e._moveSelector(o)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.colorPickerCanvas.clientWidth,l=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,o,l);var h,y,O,D;this.centerCoordinates={x:o*.5,y:l*.5},this.r=.49*o;var R=2*Math.PI/360,F=1/360,j=1/this.r,B;for(O=0;O<360;O++)for(D=0;D<this.r;D++)h=this.centerCoordinates.x+D*Math.sin(R*O),y=this.centerCoordinates.y+D*Math.cos(R*O),B=HSVToRGB(O*F,D*j,1),e.fillStyle="rgb("+B.r+","+B.g+","+B.b+")",e.fillRect(h-.5,y-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,o,l)}this.generated=!0}},{key:"_moveSelector",value:function(e){var o=this.colorPickerDiv.getBoundingClientRect(),l=e.center.x-o.left,h=e.center.y-o.top,y=.5*this.colorPickerDiv.clientHeight,O=.5*this.colorPickerDiv.clientWidth,D=l-O,R=h-y,F=Math.atan2(D,R),j=.98*Math.min(Math.sqrt(D*D+R*R),O),B=Math.cos(F)*j+y,U=Math.sin(F)*j+O;this.colorPickerSelector.style.top=B-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=U-.5*this.colorPickerSelector.clientWidth+"px";var W=F/(2*Math.PI);W=W<0?W+1:W;var q=j/this.r,K=RGBToHSV(this.color.r,this.color.g,this.color.b);K.h=W,K.s=q;var Y=HSVToRGB(K.h,K.s,K.v);Y.a=this.color.a,this.color=Y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),r}();function wrapInTag(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];if(t.length<1)throw new TypeError("Invalid arguments.");if(t.length===1)return document.createTextNode(t[0]);var o=document.createElement(t[0]);return o.appendChild(wrapInTag.apply(void 0,_toConsumableArray(slice(t).call(t,1)))),o}var Configurator$1=function(){function r(t,e,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};_classCallCheck(this,r),this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=h,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},assign$2(this.options,this.defaultOptions),this.configureOptions=o,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ColorPicker$1(l),this.wrapper=void 0}return _createClass(r,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var o=!0;if(typeof e=="string")this.options.filter=e;else if(isArray$1(e))this.options.filter=e.join();else if(_typeof(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),filter(e)!==void 0&&(this.options.filter=filter(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(o=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,o=e):typeof e=="function"&&(this.options.filter=e,o=!0);filter(this.options)===!1&&(o=!1),this.options.enabled=o}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=filter(this.options),o=0,l=!1;for(var h in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,h)&&(this.allowCreation=!1,l=!1,typeof e=="function"?(l=e(h,[]),l=l||this._handleObject(this.configureOptions[h],[h],!0)):(e===!0||indexOf(e).call(e,h)!==-1)&&(l=!0),l!==!1&&(this.allowCreation=!0,o>0&&this._makeItem([]),this._makeHeader(h),this._handleObject(this.configureOptions[h],[h])),o++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var o=this.moduleOptions,l=0;l<e.length;l++)if(o[e[l]]!==void 0)o=o[e[l]];else{o=void 0;break}return o}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var l=arguments.length,h=new Array(l>1?l-1:0),y=1;y<l;y++)h[y-1]=arguments[y];return forEach$2(h).call(h,function(O){o.appendChild(O)}),this.domElements.push(o),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var o=document.createElement("div");o.className="vis-configuration vis-config-header",o.innerText=e,this._makeItem([],o)}},{key:"_makeLabel",value:function(e,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=document.createElement("div");if(h.className="vis-configuration vis-config-label vis-config-s"+o.length,l===!0){for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(wrapInTag("i","b",e))}else h.innerText=e+":";return h}},{key:"_makeDropdown",value:function(e,o,l){var h=document.createElement("select");h.className="vis-configuration vis-config-select";var y=0;o!==void 0&&indexOf(e).call(e,o)!==-1&&(y=indexOf(e).call(e,o));for(var O=0;O<e.length;O++){var D=document.createElement("option");D.value=e[O],O===y&&(D.selected="selected"),D.innerText=e[O],h.appendChild(D)}var R=this;h.onchange=function(){R._update(this.value,l)};var F=this._makeLabel(l[l.length-1],l);this._makeItem(l,F,h)}},{key:"_makeRange",value:function(e,o,l){var h=e[0],y=e[1],O=e[2],D=e[3],R=document.createElement("input");R.className="vis-configuration vis-config-range";try{R.type="range",R.min=y,R.max=O}catch{}R.step=D;var F="",j=0;if(o!==void 0){var B=1.2;o<0&&o*B<y?(R.min=Math.ceil(o*B),j=R.min,F="range increased"):o/B<y&&(R.min=Math.ceil(o/B),j=R.min,F="range increased"),o*B>O&&O!==1&&(R.max=Math.ceil(o*B),j=R.max,F="range increased"),R.value=o}else R.value=h;var U=document.createElement("input");U.className="vis-configuration vis-config-rangeinput",U.value=R.value;var W=this;R.onchange=function(){U.value=this.value,W._update(Number(this.value),l)},R.oninput=function(){U.value=this.value};var q=this._makeLabel(l[l.length-1],l),K=this._makeItem(l,q,R,U);F!==""&&this.popupHistory[K]!==j&&(this.popupHistory[K]=j,this._setupPopup(F,K))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var o=document.createElement("div");o.className="vis-configuration vis-config-button",o.innerText="generate options",o.onclick=function(){e._printOptions()},o.onmouseover=function(){o.className="vis-configuration vis-config-button hover"},o.onmouseout=function(){o.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(o)}}},{key:"_setupPopup",value:function(e,o){var l=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var h=document.createElement("div");h.id="vis-configuration-popup",h.className="vis-configuration-popup",h.innerText=e,h.onclick=function(){l._removePopup()},this.popupCounter+=1,this.popupDiv={html:h,index:o}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var o=this.domElements[this.popupDiv.index],l=o.getBoundingClientRect();this.popupDiv.html.style.left=l.left+"px",this.popupDiv.html.style.top=l.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout$1(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout$1(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,o,l){var h=document.createElement("input");h.type="checkbox",h.className="vis-configuration vis-config-checkbox",h.checked=e,o!==void 0&&(h.checked=o,o!==e&&(_typeof(e)==="object"?o!==e.enabled&&this.changedOptions.push({path:l,value:o}):this.changedOptions.push({path:l,value:o})));var y=this;h.onchange=function(){y._update(this.checked,l)};var O=this._makeLabel(l[l.length-1],l);this._makeItem(l,O,h)}},{key:"_makeTextInput",value:function(e,o,l){var h=document.createElement("input");h.type="text",h.className="vis-configuration vis-config-text",h.value=o,o!==e&&this.changedOptions.push({path:l,value:o});var y=this;h.onchange=function(){y._update(this.value,l)};var O=this._makeLabel(l[l.length-1],l);this._makeItem(l,O,h)}},{key:"_makeColorField",value:function(e,o,l){var h=this,y=e[1],O=document.createElement("div");o=o===void 0?y:o,o!=="none"?(O.className="vis-configuration vis-config-colorBlock",O.style.backgroundColor=o):O.className="vis-configuration vis-config-colorBlock none",o=o===void 0?y:o,O.onclick=function(){h._showColorPicker(o,O,l)};var D=this._makeLabel(l[l.length-1],l);this._makeItem(l,D,O)}},{key:"_showColorPicker",value:function(e,o,l){var h=this;o.onclick=function(){},this.colorPicker.insertTo(o),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(y){var O="rgba("+y.r+","+y.g+","+y.b+","+y.a+")";o.style.backgroundColor=O,h._update(O,l)}),this.colorPicker.setCloseCallback(function(){o.onclick=function(){h._showColorPicker(e,o,l)}})}},{key:"_handleObject",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=!1,y=filter(this.options),O=!1;for(var D in e)if(Object.prototype.hasOwnProperty.call(e,D)){h=!0;var R=e[D],F=copyAndExtendArray(o,D);if(typeof y=="function"&&(h=y(D,o),h===!1&&!isArray$1(R)&&typeof R!="string"&&typeof R!="boolean"&&R instanceof Object&&(this.allowCreation=!1,h=this._handleObject(R,F,!0),this.allowCreation=l===!1)),h!==!1){O=!0;var j=this._getValue(F);if(isArray$1(R))this._handleArray(R,j,F);else if(typeof R=="string")this._makeTextInput(R,j,F);else if(typeof R=="boolean")this._makeCheckbox(R,j,F);else if(R instanceof Object){if(!this.hideOption(o,D,this.moduleOptions))if(R.enabled!==void 0){var B=copyAndExtendArray(F,"enabled"),U=this._getValue(B);if(U===!0){var W=this._makeLabel(D,F,!0);this._makeItem(F,W),O=this._handleObject(R,F)||O}else this._makeCheckbox(R,U,F)}else{var q=this._makeLabel(D,F,!0);this._makeItem(F,q),O=this._handleObject(R,F)||O}}else console.error("dont know how to handle",R,D,F)}}return O}},{key:"_handleArray",value:function(e,o,l){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,o,l),e[1]!==o&&this.changedOptions.push({path:l,value:o})):typeof e[0]=="string"?(this._makeDropdown(e,o,l),e[0]!==o&&this.changedOptions.push({path:l,value:o})):typeof e[0]=="number"&&(this._makeRange(e,o,l),e[0]!==o&&this.changedOptions.push({path:l,value:Number(o)}))}},{key:"_update",value:function(e,o){var l=this._constructOptions(e,o);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",l),this.initialized=!0,this.parent.setOptions(l)}},{key:"_constructOptions",value:function(e,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=l;e=e==="true"?!0:e,e=e==="false"?!1:e;for(var y=0;y<o.length;y++)o[y]!=="global"&&(h[o[y]]===void 0&&(h[o[y]]={}),y!==o.length-1?h=h[o[y]]:h[o[y]]=e);return l}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(wrapInTag("pre","const options = "+stringify$1(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},o=0;o<this.changedOptions.length;o++)this._constructOptions(this.changedOptions[o].value,this.changedOptions[o].path,e);return e}}]),r}(),Popup$1=function(){function r(t,e){_classCallCheck(this,r),this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return _createClass(r,[{key:"setPosition",value:function(e,o){this.x=_parseInt(e),this.y=_parseInt(o)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var o=this.frame.clientHeight,l=this.frame.clientWidth,h=this.frame.parentNode.clientHeight,y=this.frame.parentNode.clientWidth,O=0,D=0;if(this.overflowMethod=="flip"){var R=!1,F=!0;this.y-o<this.padding&&(F=!1),this.x+l>y-this.padding&&(R=!0),R?O=this.x-l:O=this.x,F?D=this.y-o:D=this.y}else D=this.y-o,D+o+this.padding>h&&(D=h-o-this.padding),D<this.padding&&(D=this.padding),O=this.x,O+l+this.padding>y&&(O=y-l-this.padding),O<this.padding&&(O=this.padding);this.frame.style.left=O+"px",this.frame.style.top=D+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),r}(),errorFound=!1,allOptions$1,VALIDATOR_PRINT_STYLE$1="background: #FFeeee; color: #dd0000",Validator$1=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"validate",value:function(e,o,l){errorFound=!1,allOptions$1=o;var h=o;return l!==void 0&&(h=o[l]),r.parse(e,h,[]),errorFound}},{key:"parse",value:function(e,o,l){for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&r.check(h,e,o,l)}},{key:"check",value:function(e,o,l,h){if(l[e]===void 0&&l.__any__===void 0){r.getSuggestion(e,l,h);return}var y=e,O=!0;l[e]===void 0&&l.__any__!==void 0&&(y="__any__",O=r.getType(o[e])==="object");var D=l[y];O&&D.__type__!==void 0&&(D=D.__type__),r.checkFields(e,o,l,y,D,h)}},{key:"checkFields",value:function(e,o,l,h,y,O){var D=function(B){console.error("%c"+B+r.printLocation(O,e),VALIDATOR_PRINT_STYLE$1)},R=r.getType(o[e]),F=y[R];F!==void 0?r.getType(F)==="array"&&indexOf(F).call(F,o[e])===-1?(D('Invalid option detected in "'+e+'". Allowed values are:'+r.print(F)+' not "'+o[e]+'". '),errorFound=!0):R==="object"&&h!=="__any__"&&(O=copyAndExtendArray(O,e),r.parse(o[e],l[h],O)):y.any===void 0&&(D('Invalid type received for "'+e+'". Expected: '+r.print(keys(y))+". Received ["+R+'] "'+o[e]+'"'),errorFound=!0)}},{key:"getType",value:function(e){var o=_typeof(e);return o==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":isArray$1(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":o==="number"?"number":o==="boolean"?"boolean":o==="string"?"string":o===void 0?"undefined":o}},{key:"getSuggestion",value:function(e,o,l){var h=r.findInOptions(e,o,l,!1),y=r.findInOptions(e,allOptions$1,[],!0),O=8,D=4,R;h.indexMatch!==void 0?R=" in "+r.printLocation(h.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+h.indexMatch+`"?

`:y.distance<=D&&h.distance>y.distance?R=" in "+r.printLocation(h.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+r.printLocation(y.path,y.closestMatch,""):h.distance<=O?R='. Did you mean "'+h.closestMatch+'"?'+r.printLocation(h.path,e):R=". Did you mean one of these: "+r.print(keys(o))+r.printLocation(l,e),console.error('%cUnknown option detected: "'+e+'"'+R,VALIDATOR_PRINT_STYLE$1),errorFound=!0}},{key:"findInOptions",value:function(e,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,y=1e9,O="",D=[],R=e.toLowerCase(),F=void 0;for(var j in o){var B=void 0;if(o[j].__type__!==void 0&&h===!0){var U=r.findInOptions(e,o[j],copyAndExtendArray(l,j));y>U.distance&&(O=U.closestMatch,D=U.path,y=U.distance,F=U.indexMatch)}else{var W;indexOf(W=j.toLowerCase()).call(W,R)!==-1&&(F=j),B=r.levenshteinDistance(e,j),y>B&&(O=j,D=copyArray(l),y=B)}}return{closestMatch:O,path:D,distance:y,indexMatch:F}}},{key:"printLocation",value:function(e,o){for(var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,h=`

`+l+`options = {
`,y=0;y<e.length;y++){for(var O=0;O<y+1;O++)h+="  ";h+=e[y]+`: {
`}for(var D=0;D<e.length+1;D++)h+="  ";h+=o+`
`;for(var R=0;R<e.length+1;R++){for(var F=0;F<e.length-R;F++)h+="  ";h+=`}
`}return h+`

`}},{key:"print",value:function(e){return stringify$1(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,o){if(e.length===0)return o.length;if(o.length===0)return e.length;var l=[],h;for(h=0;h<=o.length;h++)l[h]=[h];var y;for(y=0;y<=e.length;y++)l[0][y]=y;for(h=1;h<=o.length;h++)for(y=1;y<=e.length;y++)o.charAt(h-1)==e.charAt(y-1)?l[h][y]=l[h-1][y-1]:l[h][y]=Math.min(l[h-1][y-1]+1,Math.min(l[h][y-1]+1,l[h-1][y]+1));return l[o.length][e.length]}}]),r}(),Activator=Activator$1,Configurator=Configurator$1,Hammer=Hammer$1,Popup=Popup$1,VALIDATOR_PRINT_STYLE=VALIDATOR_PRINT_STYLE$1,Validator=Validator$1;function parseDOT(r){return dot$1=r,parseGraph()}var NODE_ATTR_MAPPING={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},EDGE_ATTR_MAPPING=create$5(NODE_ATTR_MAPPING);EDGE_ATTR_MAPPING.color="color.color";EDGE_ATTR_MAPPING.style="dashes";var TOKENTYPE={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},DELIMITERS={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},dot$1="",index$1=0,c="",token="",tokenType=TOKENTYPE.NULL;function first(){index$1=0,c=dot$1.charAt(0)}function next(){index$1++,c=dot$1.charAt(index$1)}function nextPreview(){return dot$1.charAt(index$1+1)}function isAlphaNumeric(r){var t=r.charCodeAt(0);return t<47?t===35||t===46:t<59?t>47:t<91?t>64:t<96?t===95:t<123?t>96:!1}function merge$1(r,t){if(r||(r={}),t)for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function setValue(r,t,e){for(var o=t.split("."),l=r;o.length;){var h=o.shift();o.length?(l[h]||(l[h]={}),l=l[h]):l[h]=e}}function addNode(r,t){for(var e,o,l=null,h=[r],y=r;y.parent;)h.push(y.parent),y=y.parent;if(y.nodes){for(e=0,o=y.nodes.length;e<o;e++)if(t.id===y.nodes[e].id){l=y.nodes[e];break}}for(l||(l={id:t.id},r.node&&(l.attr=merge$1(l.attr,r.node))),e=h.length-1;e>=0;e--){var O,D=h[e];D.nodes||(D.nodes=[]),indexOf(O=D.nodes).call(O,l)===-1&&D.nodes.push(l)}t.attr&&(l.attr=merge$1(l.attr,t.attr))}function addEdge(r,t){if(r.edges||(r.edges=[]),r.edges.push(t),r.edge){var e=merge$1({},r.edge);t.attr=merge$1(e,t.attr)}}function createEdge(r,t,e,o,l){var h={from:t,to:e,type:o};return r.edge&&(h.attr=merge$1({},r.edge)),h.attr=merge$1(h.attr||{},l),l!=null&&l.hasOwnProperty("arrows")&&l.arrows!=null&&(h.arrows={to:{enabled:!0,type:l.arrows.type}},l.arrows=null),h}function getToken(){for(tokenType=TOKENTYPE.NULL,token="";c===" "||c==="	"||c===`
`||c==="\r";)next();do{var r=!1;if(c==="#"){for(var t=index$1-1;dot$1.charAt(t)===" "||dot$1.charAt(t)==="	";)t--;if(dot$1.charAt(t)===`
`||dot$1.charAt(t)===""){for(;c!=""&&c!=`
`;)next();r=!0}}if(c==="/"&&nextPreview()==="/"){for(;c!=""&&c!=`
`;)next();r=!0}if(c==="/"&&nextPreview()==="*"){for(;c!="";)if(c==="*"&&nextPreview()==="/"){next(),next();break}else next();r=!0}for(;c===" "||c==="	"||c===`
`||c==="\r";)next()}while(r);if(c===""){tokenType=TOKENTYPE.DELIMITER;return}var e=c+nextPreview();if(DELIMITERS[e]){tokenType=TOKENTYPE.DELIMITER,token=e,next(),next();return}if(DELIMITERS[c]){tokenType=TOKENTYPE.DELIMITER,token=c,next();return}if(isAlphaNumeric(c)||c==="-"){for(token+=c,next();isAlphaNumeric(c);)token+=c,next();token==="false"?token=!1:token==="true"?token=!0:isNaN(Number(token))||(token=Number(token)),tokenType=TOKENTYPE.IDENTIFIER;return}if(c==='"'){for(next();c!=""&&(c!='"'||c==='"'&&nextPreview()==='"');)c==='"'?(token+=c,next()):c==="\\"&&nextPreview()==="n"?(token+=`
`,next()):token+=c,next();if(c!='"')throw newSyntaxError('End of string " expected');next(),tokenType=TOKENTYPE.IDENTIFIER;return}for(tokenType=TOKENTYPE.UNKNOWN;c!="";)token+=c,next();throw new SyntaxError('Syntax error in part "'+chop(token,30)+'"')}function parseGraph(){var r={};if(first(),getToken(),token==="strict"&&(r.strict=!0,getToken()),(token==="graph"||token==="digraph")&&(r.type=token,getToken()),tokenType===TOKENTYPE.IDENTIFIER&&(r.id=token,getToken()),token!="{")throw newSyntaxError("Angle bracket { expected");if(getToken(),parseStatements(r),token!="}")throw newSyntaxError("Angle bracket } expected");if(getToken(),token!=="")throw newSyntaxError("End of file expected");return getToken(),delete r.node,delete r.edge,delete r.graph,r}function parseStatements(r){for(;token!==""&&token!="}";)parseStatement(r),token===";"&&getToken()}function parseStatement(r){var t=parseSubgraph(r);if(t){parseEdge$1(r,t);return}var e=parseAttributeStatement(r);if(!e){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");var o=token;if(getToken(),token==="="){if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier expected");r[o]=token,getToken()}else parseNodeStatement(r,o)}}function parseSubgraph(r){var t=null;if(token==="subgraph"&&(t={},t.type="subgraph",getToken(),tokenType===TOKENTYPE.IDENTIFIER&&(t.id=token,getToken())),token==="{"){if(getToken(),t||(t={}),t.parent=r,t.node=r.node,t.edge=r.edge,t.graph=r.graph,parseStatements(t),token!="}")throw newSyntaxError("Angle bracket } expected");getToken(),delete t.node,delete t.edge,delete t.graph,delete t.parent,r.subgraphs||(r.subgraphs=[]),r.subgraphs.push(t)}return t}function parseAttributeStatement(r){return token==="node"?(getToken(),r.node=parseAttributeList(),"node"):token==="edge"?(getToken(),r.edge=parseAttributeList(),"edge"):token==="graph"?(getToken(),r.graph=parseAttributeList(),"graph"):null}function parseNodeStatement(r,t){var e={id:t},o=parseAttributeList();o&&(e.attr=o),addNode(r,e),parseEdge$1(r,t)}function parseEdge$1(r,t){for(;token==="->"||token==="--";){var e,o=token;getToken();var l=parseSubgraph(r);if(l)e=l;else{if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Identifier or subgraph expected");e=token,addNode(r,{id:e}),getToken()}var h=parseAttributeList(),y=createEdge(r,t,e,o,h);addEdge(r,y),t=e}}function parseAttributeList(){for(var r,t=null,e={dashed:!0,solid:!1,dotted:[1,5]},o={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},l=new Array,h=new Array;token==="[";){for(getToken(),t={};token!==""&&token!="]";){if(tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute name expected");var y=token;if(getToken(),token!="=")throw newSyntaxError("Equal sign = expected");if(getToken(),tokenType!=TOKENTYPE.IDENTIFIER)throw newSyntaxError("Attribute value expected");var O=token;y==="style"&&(O=e[O]);var D;y==="arrowhead"&&(D=o[O],y="arrows",O={to:{enabled:!0,type:D}}),y==="arrowtail"&&(D=o[O],y="arrows",O={from:{enabled:!0,type:D}}),l.push({attr:t,name:y,value:O}),h.push(y),getToken(),token==","&&getToken()}if(token!="]")throw newSyntaxError("Bracket ] expected");getToken()}if(includes(h).call(h,"dir")){var R={};for(R.arrows={},r=0;r<l.length;r++)if(l[r].name==="arrows")if(l[r].value.to!=null)R.arrows.to=r;else if(l[r].value.from!=null)R.arrows.from=r;else throw newSyntaxError("Invalid value of arrows");else l[r].name==="dir"&&(R.dir=r);var F=l[R.dir].value;if(!includes(h).call(h,"arrows"))if(F==="both")l.push({attr:l[R.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),R.arrows.to=l.length-1,l.push({attr:l[R.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),R.arrows.from=l.length-1;else if(F==="forward")l.push({attr:l[R.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),R.arrows.to=l.length-1;else if(F==="back")l.push({attr:l[R.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),R.arrows.from=l.length-1;else if(F==="none")l.push({attr:l[R.dir].attr,name:"arrows",value:""}),R.arrows.to=l.length-1;else throw newSyntaxError('Invalid dir type "'+F+'"');var j,B;if(F==="both")R.arrows.to&&R.arrows.from?(B=l[R.arrows.to].value.to.type,j=l[R.arrows.from].value.from.type,l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:B},from:{enabled:!0,type:j}}},splice$1(l).call(l,R.arrows.from,1)):R.arrows.to?(B=l[R.arrows.to].value.to.type,j="arrow",l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:B},from:{enabled:!0,type:j}}}):R.arrows.from&&(B="arrow",j=l[R.arrows.from].value.from.type,l[R.arrows.from]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{to:{enabled:!0,type:B},from:{enabled:!0,type:j}}});else if(F==="back")R.arrows.to&&R.arrows.from?(B="",j=l[R.arrows.from].value.from.type,l[R.arrows.from]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{to:{enabled:!0,type:B},from:{enabled:!0,type:j}}}):R.arrows.to?(B="",j="arrow",R.arrows.from=R.arrows.to,l[R.arrows.from]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{to:{enabled:!0,type:B},from:{enabled:!0,type:j}}}):R.arrows.from&&(B="",j=l[R.arrows.from].value.from.type,l[R.arrows.to]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{to:{enabled:!0,type:B},from:{enabled:!0,type:j}}}),l[R.arrows.from]={attr:l[R.arrows.from].attr,name:l[R.arrows.from].name,value:{from:{enabled:!0,type:l[R.arrows.from].value.from.type}}};else if(F==="none"){var U;R.arrows.to?U=R.arrows.to:U=R.arrows.from,l[U]={attr:l[U].attr,name:l[U].name,value:""}}else if(F==="forward")R.arrows.to&&R.arrows.from?(B=l[R.arrows.to].value.to.type,j="",l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:B},from:{enabled:!0,type:j}}}):R.arrows.to?(B=l[R.arrows.to].value.to.type,j="",l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:B},from:{enabled:!0,type:j}}}):R.arrows.from&&(B="arrow",j="",R.arrows.to=R.arrows.from,l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:B},from:{enabled:!0,type:j}}}),l[R.arrows.to]={attr:l[R.arrows.to].attr,name:l[R.arrows.to].name,value:{to:{enabled:!0,type:l[R.arrows.to].value.to.type}}};else throw newSyntaxError('Invalid dir type "'+F+'"');splice$1(l).call(l,R.dir,1)}var W;if(includes(h).call(h,"penwidth")){var q=[];for(W=l.length,r=0;r<W;r++)l[r].name!=="width"&&(l[r].name==="penwidth"&&(l[r].name="width"),q.push(l[r]));l=q}for(W=l.length,r=0;r<W;r++)setValue(l[r].attr,l[r].name,l[r].value);return t}function newSyntaxError(r){return new SyntaxError(r+', got "'+chop(token,30)+'" (char '+index$1+")")}function chop(r,t){return r.length<=t?r:r.substr(0,27)+"..."}function forEach2(r,t,e){isArray$1(r)?forEach$2(r).call(r,function(o){isArray$1(t)?forEach$2(t).call(t,function(l){e(o,l)}):e(o,t)}):isArray$1(t)?forEach$2(t).call(t,function(o){e(r,o)}):e(r,t)}function setProp(r,t,e){for(var o=t.split("."),l=o.pop(),h=r,y=0;y<o.length;y++){var O=o[y];O in h||(h[O]={}),h=h[O]}return h[l]=e,r}function convertAttr(r,t){var e={};for(var o in r)if(r.hasOwnProperty(o)){var l=t[o];isArray$1(l)?forEach$2(l).call(l,function(h){setProp(e,h,r[o])}):typeof l=="string"?setProp(e,l,r[o]):setProp(e,o,r[o])}return e}function DOTToGraph(r){var t=parseDOT(r),e={nodes:[],edges:[],options:{}};if(t.nodes){var o;forEach$2(o=t.nodes).call(o,function(y){var O={id:y.id,label:String(y.label||y.id)};merge$1(O,convertAttr(y.attr,NODE_ATTR_MAPPING)),O.image&&(O.shape="image"),e.nodes.push(O)})}if(t.edges){var l,h=function(O){var D={from:O.from,to:O.to};return merge$1(D,convertAttr(O.attr,EDGE_ATTR_MAPPING)),D.arrows==null&&O.type==="->"&&(D.arrows="to"),D};forEach$2(l=t.edges).call(l,function(y){var O,D;if(y.from instanceof Object?O=y.from.nodes:O={id:y.from},y.to instanceof Object?D=y.to.nodes:D={id:y.to},y.from instanceof Object&&y.from.edges){var R;forEach$2(R=y.from.edges).call(R,function(j){var B=h(j);e.edges.push(B)})}if(forEach2(O,D,function(j,B){var U=createEdge(e,j.id,B.id,y.type,y.attr),W=h(U);e.edges.push(W)}),y.to instanceof Object&&y.to.edges){var F;forEach$2(F=y.to.edges).call(F,function(j){var B=h(j);e.edges.push(B)})}})}return t.attr&&(e.options=t.attr),e}function parseGephi(r,t){var e,o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};t!=null&&(t.fixed!=null&&(o.nodes.fixed=t.fixed),t.parseColor!=null&&(o.nodes.parseColor=t.parseColor),t.inheritColor!=null&&(o.edges.inheritColor=t.inheritColor));var l=r.edges,h=map$3(l).call(l,function(O){var D={from:O.source,id:O.id,to:O.target};return O.attributes!=null&&(D.attributes=O.attributes),O.label!=null&&(D.label=O.label),O.attributes!=null&&O.attributes.title!=null&&(D.title=O.attributes.title),O.type==="Directed"&&(D.arrows="to"),O.color&&o.edges.inheritColor===!1&&(D.color=O.color),D}),y=map$3(e=r.nodes).call(e,function(O){var D={id:O.id,fixed:o.nodes.fixed&&O.x!=null&&O.y!=null};return O.attributes!=null&&(D.attributes=O.attributes),O.label!=null&&(D.label=O.label),O.size!=null&&(D.size=O.size),O.attributes!=null&&O.attributes.title!=null&&(D.title=O.attributes.title),O.title!=null&&(D.title=O.title),O.x!=null&&(D.x=O.x),O.y!=null&&(D.y=O.y),O.color!=null&&(o.nodes.parseColor===!0?D.color=O.color:D.color={background:O.color,border:O.color,highlight:{background:O.color,border:O.color},hover:{background:O.color,border:O.color}}),D});return{nodes:y,edges:h}}var en={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xFCgen",addNode:"Knoten hinzuf\xFCgen",back:"Zur\xFCck",close:"Schlie\xDFen",createEdgeError:"Es ist nicht m\xF6glich, Kanten mit Clustern zu verbinden.",del:"L\xF6sche Auswahl",deleteClusterError:"Cluster k\xF6nnen nicht gel\xF6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xF6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es={addDescription:"Haga clic en un lugar vac\xEDo para colocar un nuevo nodo.",addEdge:"A\xF1adir arista",addNode:"A\xF1adir nodo",back:"Atr\xE1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xF3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt={addDescription:"Clique em um espa\xE7o em branco para adicionar um novo n\xF3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xF3",back:"Voltar",close:"Fechar",createEdgeError:"N\xE3o foi poss\xEDvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xE3o puderam ser removidos.",edgeDescription:"Clique em um n\xF3 e arraste a aresta at\xE9 outro n\xF3 para conect\xE1-los",edit:"Editar",editClusterError:"Clusters n\xE3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xF3 para conect\xE1-los",editNode:"Editar n\xF3"},ru={addDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0431\u043E\u0434\u043D\u043E\u0435 \u043C\u0435\u0441\u0442\u043E, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043D\u043E\u0432\u044B\u0439 \u0443\u0437\u0435\u043B.",addEdge:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u043E",addNode:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0443\u0437\u0435\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u044B\u0432\u0430\u0442\u044C",createEdgeError:"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0440\u0435\u0431\u0440\u0430 \u0432 \u043A\u043B\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0435",deleteClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435 \u043C\u043E\u0433\u0443\u0442 \u0431\u044B\u0442\u044C \u0443\u0434\u0430\u043B\u0435\u043D\u044B",edgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u0443\u0437\u0435\u043B \u0438 \u043F\u0440\u043E\u0442\u044F\u043D\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043E \u043A \u0434\u0440\u0443\u0433\u043E\u043C\u0443 \u0443\u0437\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",editClusterError:"\u041A\u043B\u0430\u0441\u0442\u0435\u0440\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0440\u0435\u0431\u0440\u043E",editEdgeDescription:"\u041A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u044B\u0435 \u0442\u043E\u0447\u043A\u0438 \u0438 \u043F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043B, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u043D\u0435\u043C\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u0437\u0435\u043B"},cn={addDescription:"\u5355\u51FB\u7A7A\u767D\u5904\u653E\u7F6E\u65B0\u8282\u70B9\u3002",addEdge:"\u6DFB\u52A0\u8FDE\u63A5\u7EBF",addNode:"\u6DFB\u52A0\u8282\u70B9",back:"\u8FD4\u56DE",close:"\u95DC\u9589",createEdgeError:"\u65E0\u6CD5\u5C06\u8FDE\u63A5\u7EBF\u8FDE\u63A5\u5230\u7FA4\u96C6\u3002",del:"\u5220\u9664\u9009\u5B9A",deleteClusterError:"\u65E0\u6CD5\u5220\u9664\u7FA4\u96C6\u3002",edgeDescription:"\u5355\u51FB\u67D0\u4E2A\u8282\u70B9\u5E76\u5C06\u8BE5\u8FDE\u63A5\u7EBF\u62D6\u52A8\u5230\u53E6\u4E00\u4E2A\u8282\u70B9\u4EE5\u8FDE\u63A5\u5B83\u4EEC\u3002",edit:"\u7F16\u8F91",editClusterError:"\u65E0\u6CD5\u7F16\u8F91\u7FA4\u96C6\u3002",editEdge:"\u7F16\u8F91\u8FDE\u63A5\u7EBF",editEdgeDescription:"\u5355\u51FB\u63A7\u5236\u8282\u70B9\u5E76\u5C06\u5B83\u4EEC\u62D6\u5230\u8282\u70B9\u4E0A\u8FDE\u63A5\u3002",editNode:"\u7F16\u8F91\u8282\u70B9"},uk={addDescription:"K\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0456\u043B\u044C\u043D\u0435 \u043C\u0456\u0441\u0446\u0435, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u043D\u043E\u0432\u0438\u0439 \u0432\u0443\u0437\u043E\u043B.",addEdge:"\u0414\u043E\u0434\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",addNode:"\u0414\u043E\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B",back:"\u041D\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438",createEdgeError:"\u041D\u0435 \u043C\u043E\u0436\u043B\u0438\u0432\u043E \u043E\u0431'\u0454\u0434\u043D\u0430\u0442\u0438 \u043A\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043F\u0443.",del:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043E\u0431\u0440\u0430\u043D\u0435",deleteClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435 \u043C\u043E\u0436\u0443\u0442\u044C \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043B\u0435\u043D\u0456.",edgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u0432\u0443\u0437\u043E\u043B \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u043A\u0440\u0430\u0439 \u0434\u043E \u0456\u043D\u0448\u043E\u0433\u043E \u0432\u0443\u0437\u043B\u0430, \u0449\u043E\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043D\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043F\u0438 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0456 \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043A\u0440\u0430\u0439",editEdgeDescription:"\u041A\u043B\u0456\u043A\u043D\u0456\u0442\u044C \u043D\u0430 \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u0456 \u0442\u043E\u0447\u043A\u0438 \u0456 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0457\u0445 \u0443 \u0432\u0443\u0437\u043E\u043B, \u0449\u043E\u0431 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0438\u0441\u044F \u0434\u043E \u043D\u044C\u043E\u0433\u043E.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043E\u043B"},fr={addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xE9er un lien vers un cluster.",del:"Effacer la s\xE9lection",deleteClusterError:"Les clusters ne peuvent pas \xEAtre effac\xE9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xC9diter",editClusterError:"Les clusters ne peuvent pas \xEAtre \xE9dit\xE9s.",editEdge:"\xC9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xF4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xC9diter le n\u0153ud"},cs={addDescription:"Kluknut\xEDm do pr\xE1zdn\xE9ho prostoru m\u016F\u017Eete p\u0159idat nov\xFD vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011Bt",close:"Zav\u0159\xEDt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xFDb\u011Br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017Een\xEDm z jednoho vrcholu do druh\xE9ho m\u016F\u017Eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017Een\xEDm kontroln\xEDho vrcholu hrany ji m\u016F\u017Eete p\u0159ipojit k jin\xE9mu vrcholu.",editNode:"Upravit vrchol"},locales=Object.freeze({__proto__:null,en,de,es,it,nl,pt,ru,cn,uk,fr,cs});function normalizeLanguageCode(r,t){try{var e=t.split(/[-_ /]/,2),o=_slicedToArray(e,2),l=o[0],h=o[1],y=l!=null?l.toLowerCase():null,O=h!=null?h.toUpperCase():null;if(y&&O){var D=y+"-"+O;if(Object.prototype.hasOwnProperty.call(r,D))return D;var R;console.warn(concat(R="Unknown variant ".concat(O," of language ")).call(R,y,"."))}if(y){var F=y;if(Object.prototype.hasOwnProperty.call(r,F))return F;console.warn("Unknown language ".concat(y))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(j){return console.error(j),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}var CachedImage=function(){function r(){_classCallCheck(this,r),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return _createClass(r,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,o=this.image.height;this.width=e,this.height=o;var l=Math.floor(o/2),h=Math.floor(o/4),y=Math.floor(o/8),O=Math.floor(o/16),D=Math.floor(e/2),R=Math.floor(e/4),F=Math.floor(e/8),j=Math.floor(e/16);this.canvas.width=3*R,this.canvas.height=l,this.coordinates=[[0,0,D,l],[D,0,R,h],[D,h,F,y],[5*F,h,j,O]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),o=this.coordinates[0];e.drawImage(this.image,o[0],o[1],o[2],o[3]);for(var l=1;l<this.NUM_ITERATIONS;l++){var h=this.coordinates[l-1],y=this.coordinates[l];e.drawImage(this.canvas,h[0],h[1],h[2],h[3],y[0],y[1],y[2],y[3])}}},{key:"drawImageAtPosition",value:function(e,o,l,h,y,O){if(!!this.initialized())if(o>2){o*=.5;for(var D=0;o>2&&D<this.NUM_ITERATIONS;)o*=.5,D+=1;D>=this.NUM_ITERATIONS&&(D=this.NUM_ITERATIONS-1);var R=this.coordinates[D];e.drawImage(this.canvas,R[0],R[1],R[2],R[3],l,h,y,O)}else e.drawImage(this.image,l,h,y,O)}}]),r}(),Images=function(){function r(t){_classCallCheck(this,r),this.images={},this.imageBroken={},this.callback=t}return _createClass(r,[{key:"_tryloadBrokenUrl",value:function(e,o,l){if(!(e===void 0||l===void 0)){if(o===void 0){console.warn("No broken url image defined");return}l.image.onerror=function(){console.error("Could not load brokenImage:",o)},l.image.src=o}}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,o){var l=this,h=this.images[e];if(h)return h;var y=new CachedImage;return this.images[e]=y,y.image.onload=function(){l._fixImageCoordinates(y.image),y.init(),l._redrawWithImage(y)},y.image.onerror=function(){console.error("Could not load image:",e),l._tryloadBrokenUrl(e,o,y)},y.image.src=e,y}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),r}(),internalMetadata={exports:{}},fails$7=fails$t,arrayBufferNonExtensible=fails$7(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}}),fails$6=fails$t,isObject$6=isObject$j,classof$2=classofRaw$1,ARRAY_BUFFER_NON_EXTENSIBLE=arrayBufferNonExtensible,$isExtensible=Object.isExtensible,FAILS_ON_PRIMITIVES$1=fails$6(function(){$isExtensible(1)}),objectIsExtensible=FAILS_ON_PRIMITIVES$1||ARRAY_BUFFER_NON_EXTENSIBLE?function r(t){return!isObject$6(t)||ARRAY_BUFFER_NON_EXTENSIBLE&&classof$2(t)=="ArrayBuffer"?!1:$isExtensible?$isExtensible(t):!0}:$isExtensible,fails$5=fails$t,freezing=!fails$5(function(){return Object.isExtensible(Object.preventExtensions({}))}),$$d=_export,uncurryThis$4=functionUncurryThis,hiddenKeys=hiddenKeys$6,isObject$5=isObject$j,hasOwn$3=hasOwnProperty_1,defineProperty$2=objectDefineProperty.f,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertyNamesExternalModule=objectGetOwnPropertyNamesExternal,isExtensible$1=objectIsExtensible,uid$5=uid$4,FREEZING=freezing,REQUIRED=!1,METADATA=uid$5("meta"),id$1=0,setMetadata=function(r){defineProperty$2(r,METADATA,{value:{objectID:"O"+id$1++,weakData:{}}})},fastKey$1=function(r,t){if(!isObject$5(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!hasOwn$3(r,METADATA)){if(!isExtensible$1(r))return"F";if(!t)return"E";setMetadata(r)}return r[METADATA].objectID},getWeakData$1=function(r,t){if(!hasOwn$3(r,METADATA)){if(!isExtensible$1(r))return!0;if(!t)return!1;setMetadata(r)}return r[METADATA].weakData},onFreeze=function(r){return FREEZING&&REQUIRED&&isExtensible$1(r)&&!hasOwn$3(r,METADATA)&&setMetadata(r),r},enable=function(){meta.enable=function(){},REQUIRED=!0;var r=getOwnPropertyNamesModule.f,t=uncurryThis$4([].splice),e={};e[METADATA]=1,r(e).length&&(getOwnPropertyNamesModule.f=function(o){for(var l=r(o),h=0,y=l.length;h<y;h++)if(l[h]===METADATA){t(l,h,1);break}return l},$$d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:getOwnPropertyNamesExternalModule.f}))},meta=internalMetadata.exports={enable,fastKey:fastKey$1,getWeakData:getWeakData$1,onFreeze};hiddenKeys[METADATA]=!0;var global$9=global$O,bind$2=functionBindContext,call$1=functionCall,anObject$3=anObject$d,tryToString$1=tryToString$4,isArrayIteratorMethod=isArrayIteratorMethod$2,lengthOfArrayLike$2=lengthOfArrayLike$b,isPrototypeOf$6=objectIsPrototypeOf,getIterator=getIterator$2,getIteratorMethod=getIteratorMethod$8,iteratorClose=iteratorClose$2,TypeError$4=global$9.TypeError,Result=function(r,t){this.stopped=r,this.result=t},ResultPrototype=Result.prototype,iterate$3=function(r,t,e){var o=e&&e.that,l=!!(e&&e.AS_ENTRIES),h=!!(e&&e.IS_ITERATOR),y=!!(e&&e.INTERRUPTED),O=bind$2(t,o),D,R,F,j,B,U,W,q=function(Y){return D&&iteratorClose(D,"normal",Y),new Result(!0,Y)},K=function(Y){return l?(anObject$3(Y),y?O(Y[0],Y[1],q):O(Y[0],Y[1])):y?O(Y,q):O(Y)};if(h)D=r;else{if(R=getIteratorMethod(r),!R)throw TypeError$4(tryToString$1(r)+" is not iterable");if(isArrayIteratorMethod(R)){for(F=0,j=lengthOfArrayLike$2(r);j>F;F++)if(B=K(r[F]),B&&isPrototypeOf$6(ResultPrototype,B))return B;return new Result(!1)}D=getIterator(r,R)}for(U=D.next;!(W=call$1(U,D)).done;){try{B=K(W.value)}catch(Y){iteratorClose(D,"throw",Y)}if(typeof B=="object"&&B&&isPrototypeOf$6(ResultPrototype,B))return B}return new Result(!1)},global$8=global$O,isPrototypeOf$5=objectIsPrototypeOf,TypeError$3=global$8.TypeError,anInstance$3=function(r,t){if(isPrototypeOf$5(t,r))return r;throw TypeError$3("Incorrect invocation")},$$c=_export,global$7=global$O,InternalMetadataModule$1=internalMetadata.exports,fails$4=fails$t,createNonEnumerableProperty=createNonEnumerableProperty$6,iterate$2=iterate$3,anInstance$2=anInstance$3,isCallable=isCallable$h,isObject$4=isObject$j,setToStringTag=setToStringTag$5,defineProperty$1=objectDefineProperty.f,forEach=arrayIteration.forEach,DESCRIPTORS$2=descriptors$1,InternalStateModule$2=internalState,setInternalState$2=InternalStateModule$2.set,internalStateGetterFor$2=InternalStateModule$2.getterFor,collection$3=function(r,t,e){var o=r.indexOf("Map")!==-1,l=r.indexOf("Weak")!==-1,h=o?"set":"add",y=global$7[r],O=y&&y.prototype,D={},R;if(!DESCRIPTORS$2||!isCallable(y)||!(l||O.forEach&&!fails$4(function(){new y().entries().next()})))R=e.getConstructor(t,r,o,h),InternalMetadataModule$1.enable();else{R=t(function(B,U){setInternalState$2(anInstance$2(B,F),{type:r,collection:new y}),U!=null&&iterate$2(U,B[h],{that:B,AS_ENTRIES:o})});var F=R.prototype,j=internalStateGetterFor$2(r);forEach(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(B){var U=B=="add"||B=="set";B in O&&!(l&&B=="clear")&&createNonEnumerableProperty(F,B,function(W,q){var K=j(this).collection;if(!U&&l&&!isObject$4(W))return B=="get"?void 0:!1;var Y=K[B](W===0?0:W,q);return U?this:Y})}),l||defineProperty$1(F,"size",{configurable:!0,get:function(){return j(this).collection.size}})}return setToStringTag(R,r,!1,!0),D[r]=R,$$c({global:!0,forced:!0},D),l||e.setStrong(R,r,o),R},redefine=redefine$4,redefineAll$3=function(r,t,e){for(var o in t)e&&e.unsafe&&r[o]?r[o]=t[o]:redefine(r,o,t[o],e);return r},getBuiltIn$1=getBuiltIn$9,definePropertyModule=objectDefineProperty,wellKnownSymbol=wellKnownSymbol$j,DESCRIPTORS$1=descriptors$1,SPECIES=wellKnownSymbol("species"),setSpecies$1=function(r){var t=getBuiltIn$1(r),e=definePropertyModule.f;DESCRIPTORS$1&&t&&!t[SPECIES]&&e(t,SPECIES,{configurable:!0,get:function(){return this}})},defineProperty=objectDefineProperty.f,create$4=objectCreate,redefineAll$2=redefineAll$3,bind$1=functionBindContext,anInstance$1=anInstance$3,iterate$1=iterate$3,defineIterator=defineIterator$3,setSpecies=setSpecies$1,DESCRIPTORS=descriptors$1,fastKey=internalMetadata.exports.fastKey,InternalStateModule$1=internalState,setInternalState$1=InternalStateModule$1.set,internalStateGetterFor$1=InternalStateModule$1.getterFor,collectionStrong$2={getConstructor:function(r,t,e,o){var l=r(function(R,F){anInstance$1(R,h),setInternalState$1(R,{type:t,index:create$4(null),first:void 0,last:void 0,size:0}),DESCRIPTORS||(R.size=0),F!=null&&iterate$1(F,R[o],{that:R,AS_ENTRIES:e})}),h=l.prototype,y=internalStateGetterFor$1(t),O=function(R,F,j){var B=y(R),U=D(R,F),W,q;return U?U.value=j:(B.last=U={index:q=fastKey(F,!0),key:F,value:j,previous:W=B.last,next:void 0,removed:!1},B.first||(B.first=U),W&&(W.next=U),DESCRIPTORS?B.size++:R.size++,q!=="F"&&(B.index[q]=U)),R},D=function(R,F){var j=y(R),B=fastKey(F),U;if(B!=="F")return j.index[B];for(U=j.first;U;U=U.next)if(U.key==F)return U};return redefineAll$2(h,{clear:function(){for(var F=this,j=y(F),B=j.index,U=j.first;U;)U.removed=!0,U.previous&&(U.previous=U.previous.next=void 0),delete B[U.index],U=U.next;j.first=j.last=void 0,DESCRIPTORS?j.size=0:F.size=0},delete:function(R){var F=this,j=y(F),B=D(F,R);if(B){var U=B.next,W=B.previous;delete j.index[B.index],B.removed=!0,W&&(W.next=U),U&&(U.previous=W),j.first==B&&(j.first=U),j.last==B&&(j.last=W),DESCRIPTORS?j.size--:F.size--}return!!B},forEach:function(F){for(var j=y(this),B=bind$1(F,arguments.length>1?arguments[1]:void 0),U;U=U?U.next:j.first;)for(B(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(F){return!!D(this,F)}}),redefineAll$2(h,e?{get:function(F){var j=D(this,F);return j&&j.value},set:function(F,j){return O(this,F===0?0:F,j)}}:{add:function(F){return O(this,F=F===0?0:F,F)}}),DESCRIPTORS&&defineProperty(h,"size",{get:function(){return y(this).size}}),l},setStrong:function(r,t,e){var o=t+" Iterator",l=internalStateGetterFor$1(t),h=internalStateGetterFor$1(o);defineIterator(r,t,function(y,O){setInternalState$1(this,{type:o,target:y,state:l(y),kind:O,last:void 0})},function(){for(var y=h(this),O=y.kind,D=y.last;D&&D.removed;)D=D.previous;return!y.target||!(y.last=D=D?D.next:y.state.first)?(y.target=void 0,{value:void 0,done:!0}):O=="keys"?{value:D.key,done:!1}:O=="values"?{value:D.value,done:!1}:{value:[D.key,D.value],done:!1}},e?"entries":"values",!e,!0),setSpecies(t)}},collection$2=collection$3,collectionStrong$1=collectionStrong$2;collection$2("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},collectionStrong$1);var path$b=path$y,map$2$1=path$b.Map,parent$p=map$2$1,map$1$1=parent$p,map$7=map$1$1,Groups=function(){function r(){_classCallCheck(this,r),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},assign$2(this.options,this.defaultOptions)}return _createClass(r,[{key:"setOptions",value:function(e){var o=["useDefaultGroups"];if(e!==void 0){for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&indexOf(o).call(o,l)===-1){var h=e[l];this.add(l,h)}}}},{key:"clear",value:function(){this._groups=new map$7,this._groupNames=[]}},{key:"get",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=this._groups.get(e);if(l===void 0&&o)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var h=this._groupIndex%this._groupNames.length;++this._groupIndex,l={},l.color=this._groups.get(this._groupNames[h]),this._groups.set(e,l)}else{var y=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,l={},l.color=this._defaultGroups[y],this._groups.set(e,l)}return l}},{key:"add",value:function(e,o){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,o),o}}]),r}(),$$b=_export;$$b({target:"Number",stat:!0},{isNaN:function r(t){return t!=t}});var path$a=path$y,isNan$2=path$a.Number.isNaN,parent$o=isNan$2,isNan$1=parent$o,isNan=isNan$1,global$6=global$O,globalIsFinite=global$6.isFinite,numberIsFinite$1=Number.isFinite||function r(t){return typeof t=="number"&&globalIsFinite(t)},$$a=_export,numberIsFinite=numberIsFinite$1;$$a({target:"Number",stat:!0},{isFinite:numberIsFinite});var path$9=path$y,_isFinite$2=path$9.Number.isFinite,parent$n=_isFinite$2,_isFinite$1=parent$n,_isFinite=_isFinite$1,$$9=_export,$some=arrayIteration.some,arrayMethodIsStrict$3=arrayMethodIsStrict$6,STRICT_METHOD$3=arrayMethodIsStrict$3("some");$$9({target:"Array",proto:!0,forced:!STRICT_METHOD$3},{some:function r(t){return $some(this,t,arguments.length>1?arguments[1]:void 0)}});var entryVirtual$4=entryVirtual$i,some$3=entryVirtual$4("Array").some,isPrototypeOf$4=objectIsPrototypeOf,method$4=some$3,ArrayPrototype$4=Array.prototype,some$2=function(r){var t=r.some;return r===ArrayPrototype$4||isPrototypeOf$4(ArrayPrototype$4,r)&&t===ArrayPrototype$4.some?method$4:t},parent$m=some$2,some$1=parent$m,some=some$1,global$5=global$O,fails$3=fails$t,uncurryThis$3=functionUncurryThis,toString$1=toString$8,trim=stringTrim.trim,whitespaces=whitespaces$4,charAt=uncurryThis$3("".charAt),n$ParseFloat=global$5.parseFloat,Symbol$1=global$5.Symbol,ITERATOR=Symbol$1&&Symbol$1.iterator,FORCED$2=1/n$ParseFloat(whitespaces+"-0")!==-1/0||ITERATOR&&!fails$3(function(){n$ParseFloat(Object(ITERATOR))}),numberParseFloat=FORCED$2?function r(t){var e=trim(toString$1(t)),o=n$ParseFloat(e);return o===0&&charAt(e,0)=="-"?-0:o}:n$ParseFloat,$$8=_export,$parseFloat=numberParseFloat;$$8({global:!0,forced:parseFloat!=$parseFloat},{parseFloat:$parseFloat});var path$8=path$y,_parseFloat$2=path$8.parseFloat,parent$l=_parseFloat$2,_parseFloat$1=parent$l,_parseFloat=_parseFloat$1,$$7=_export,fails$2=fails$t,getOwnPropertyNames$3=objectGetOwnPropertyNamesExternal.f,FAILS_ON_PRIMITIVES=fails$2(function(){return!Object.getOwnPropertyNames(1)});$$7({target:"Object",stat:!0,forced:FAILS_ON_PRIMITIVES},{getOwnPropertyNames:getOwnPropertyNames$3});var path$7=path$y,Object$1=path$7.Object,getOwnPropertyNames$2=function r(t){return Object$1.getOwnPropertyNames(t)},parent$k=getOwnPropertyNames$2,getOwnPropertyNames$1=parent$k,getOwnPropertyNames=getOwnPropertyNames$1;function choosify(r,t){var e=["node","edge","label"],o=!0,l=topMost(t,"chosen");if(typeof l=="boolean")o=l;else if(_typeof(l)==="object"){if(indexOf(e).call(e,r)===-1)throw new Error("choosify: subOption '"+r+"' should be one of '"+e.join("', '")+"'");var h=topMost(t,["chosen",r]);(typeof h=="boolean"||typeof h=="function")&&(o=h)}return o}function pointInRect(r,t,e){if(r.width<=0||r.height<=0)return!1;if(e!==void 0){var o={x:t.x-e.x,y:t.y-e.y};if(e.angle!==0){var l=-e.angle,h={x:Math.cos(l)*o.x-Math.sin(l)*o.y,y:Math.sin(l)*o.x+Math.cos(l)*o.y};t=h}else t=o}var y=r.x+r.width,O=r.y+r.width;return r.left<t.x&&y>t.x&&r.top<t.y&&O>t.y}function isValidLabel(r){return typeof r=="string"&&r!==""}function getSelfRefCoordinates(r,t,e,o){var l=o.x,h=o.y;if(typeof o.distanceToBorder=="function"){var y=o.distanceToBorder(r,t),O=Math.sin(t)*y,D=Math.cos(t)*y;D===y?(l+=y,h=o.y):O===y?(l=o.x,h-=y):(l+=D,h-=O)}else o.shape.width>o.shape.height?(l=o.x+o.shape.width*.5,h=o.y-e):(l=o.x+e,h=o.y-o.shape.height*.5);return{x:l,y:h}}var entryVirtual$3=entryVirtual$i,values$3=entryVirtual$3("Array").values,parent$j=values$3,values$2=parent$j,classof$1=classof$c,hasOwn$2=hasOwnProperty_1,isPrototypeOf$3=objectIsPrototypeOf,method$3=values$2,ArrayPrototype$3=Array.prototype,DOMIterables={DOMTokenList:!0,NodeList:!0},values$1=function(r){var t=r.values;return r===ArrayPrototype$3||isPrototypeOf$3(ArrayPrototype$3,r)&&t===ArrayPrototype$3.values||hasOwn$2(DOMIterables,classof$1(r))?method$3:t},values=values$1,LabelAccumulator=function(){function r(t){_classCallCheck(this,r),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return _createClass(r,[{key:"_add",value:function(e,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var h=o;(o===void 0||o==="")&&(h=" ");var y=this.measureText(h,l),O=assign$2({},values(y));O.text=o,O.width=y.width,O.mod=l,(o===void 0||o==="")&&(O.width=0),this.lines[e].blocks.push(O),this.lines[e].width+=O.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,o)}},{key:"newLine",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,o),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var o=this.lines[e],l=0;if(o.blocks!==void 0)for(var h=0;h<o.blocks.length;h++){var y=o.blocks[h];l<y.height&&(l=y.height)}o.height=l}}},{key:"determineLabelSize",value:function(){for(var e=0,o=0,l=0;l<this.lines.length;l++){var h=this.lines[l];h.width>e&&(e=h.width),o+=h.height}this.width=e,this.height=o}},{key:"removeEmptyBlocks",value:function(){for(var e=[],o=0;o<this.lines.length;o++){var l=this.lines[o];if(l.blocks.length!==0&&!(o===this.lines.length-1&&l.width===0)){var h={};assign$2(h,l),h.blocks=[];for(var y=void 0,O=[],D=0;D<l.blocks.length;D++){var R=l.blocks[D];R.width!==0?O.push(R):y===void 0&&(y=R)}O.length===0&&y!==void 0&&O.push(y),h.blocks=O,e.push(h)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),r}(),tagPattern={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},MarkupAccumulator=function(){function r(t){_classCallCheck(this,r),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return _createClass(r,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,o){return!this.mono&&!this[e]&&this.match(o)?(this.setTag(e),!0):!1}},{key:"match",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=this.prepareRegExp(e),h=_slicedToArray(l,2),y=h[0],O=h[1],D=y.test(this.text.substr(this.position,O));return D&&o&&(this.position+=O-1),D}},{key:"parseEndTag",value:function(e,o,l){var h=this.mod()===e;return e==="mono"?h=h&&this.mono:h=h&&!this.mono,h&&this.match(o)?(l!==void 0?(this.position===this.text.length-1||this.match(l,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}},{key:"replace",value:function(e,o){return this.match(e)?(this.add(o),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(e){var o,l;if(e instanceof RegExp)l=e,o=1;else{var h=tagPattern[e];h!==void 0?l=h:l=new RegExp(e),o=e.length}return[l,o]}}]),r}(),LabelSplitter=function(){function r(t,e,o,l){var h=this;_classCallCheck(this,r),this.ctx=t,this.parent=e,this.selected=o,this.hover=l;var y=function(D,R){if(D===void 0)return 0;var F=h.parent.getFormattingValues(t,o,l,R),j=0;if(D!==""){var B=h.ctx.measureText(D);j=B.width}return{width:j,values:F}};this.lines=new LabelAccumulator(y)}return _createClass(r,[{key:"process",value:function(e){if(!isValidLabel(e))return this.lines.finalize();var o=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);var l=String(e).split(`
`),h=l.length;if(o.multi)for(var y=0;y<h;y++){var O=this.splitBlocks(l[y],o.multi);if(O!==void 0){if(O.length===0){this.lines.newLine("");continue}if(o.maxWdt>0)for(var D=0;D<O.length;D++){var R=O[D].mod,F=O[D].text;this.splitStringIntoLines(F,R,!0)}else for(var j=0;j<O.length;j++){var B=O[j].mod,U=O[j].text;this.lines.append(U,B)}this.lines.newLine()}}else if(o.maxWdt>0)for(var W=0;W<h;W++)this.splitStringIntoLines(l[W]);else for(var q=0;q<h;q++)this.lines.newLine(l[q]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var o="none";return e==="markdown"||e==="md"?o="markdown":(e===!0||e==="html")&&(o="html"),o}},{key:"splitHtmlBlocks",value:function(e){for(var o=new MarkupAccumulator(e),l=function(D){if(/&/.test(D)){var R=o.replace(o.text,"&lt;","<")||o.replace(o.text,"&amp;","&");return R||o.add("&"),!0}return!1};o.position<o.text.length;){var h=o.text.charAt(o.position),y=o.parseWS(h)||/</.test(h)&&(o.parseStartTag("bold","<b>")||o.parseStartTag("ital","<i>")||o.parseStartTag("mono","<code>")||o.parseEndTag("bold","</b>")||o.parseEndTag("ital","</i>")||o.parseEndTag("mono","</code>"))||l(h);y||o.add(h),o.position++}return o.emitBlock(),o.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var o=this,l=new MarkupAccumulator(e),h=!0,y=function(F){return/\\/.test(F)?(l.position<o.text.length+1&&(l.position++,F=o.text.charAt(l.position),/ \t/.test(F)?l.spacing=!0:(l.add(F),h=!1)),!0):!1};l.position<l.text.length;){var O=l.text.charAt(l.position),D=l.parseWS(O)||y(O)||(h||l.spacing)&&(l.parseStartTag("bold","*")||l.parseStartTag("ital","_")||l.parseStartTag("mono","`"))||l.parseEndTag("bold","*","afterBold")||l.parseEndTag("ital","_","afterItal")||l.parseEndTag("mono","`","afterMono");D||(l.add(O),h=!1),l.position++}return l.emitBlock(),l.blocks}},{key:"splitBlocks",value:function(e,o){var l=this.decodeMarkupSystem(o);if(l==="none")return[{text:e,mod:"normal"}];if(l==="markdown")return this.splitMarkdownBlocks(e);if(l==="html")return this.splitHtmlBlocks(e)}},{key:"overMaxWidth",value:function(e){var o=this.ctx.measureText(e).width;return this.lines.curWidth()+o>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var o="",l=0;l<e.length;){var h=o===""?"":" ",y=o+h+e[l];if(this.overMaxWidth(y))break;o=y,l++}return l}},{key:"getLongestFitWord",value:function(e){for(var o=0;o<e.length&&!this.overMaxWidth(slice(e).call(e,0,o));)o++;return o}},{key:"splitStringIntoLines",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,o),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var h=e.split("\r");h.length>0;){var y=this.getLongestFit(h);if(y===0){var O=h[0],D=this.getLongestFitWord(O);this.lines.newLine(slice(O).call(O,0,D),o),h[0]=slice(O).call(O,D)}else{var R=y;h[y-1]===" "?y--:h[R]===" "&&R++;var F=slice(h).call(h,0,y).join("");y==h.length&&l?this.lines.append(F,o):this.lines.newLine(F,o),h=slice(h).call(h,R)}}}}]),r}(),multiFontStyle=["bold","ital","boldital","mono"],Label$1=function(){function r(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;_classCallCheck(this,r),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=o}return _createClass(r,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),isValidLabel(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(_typeof(e.font)==="object"){var o=e.font.size;o!==void 0&&(this.baseSize=o)}}}},{key:"initFontOptions",value:function(e){var o=this;if(forEach$1(multiFontStyle,function(l){o.fontOptions[l]={}}),r.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}forEach$1(e,function(l,h){l!=null&&_typeof(l)!=="object"&&(o.fontOptions[h]=l)})}},{key:"constrain",value:function(e){var o={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},l=topMost(e,"widthConstraint");if(typeof l=="number")o.maxWdt=Number(l),o.minWdt=Number(l);else if(_typeof(l)==="object"){var h=topMost(e,["widthConstraint","maximum"]);typeof h=="number"&&(o.maxWdt=Number(h));var y=topMost(e,["widthConstraint","minimum"]);typeof y=="number"&&(o.minWdt=Number(y))}var O=topMost(e,"heightConstraint");if(typeof O=="number")o.minHgt=Number(O);else if(_typeof(O)==="object"){var D=topMost(e,["heightConstraint","minimum"]);typeof D=="number"&&(o.minHgt=Number(D));var R=topMost(e,["heightConstraint","valign"]);typeof R=="string"&&(R==="top"||R==="bottom")&&(o.valign=R)}return o}},{key:"update",value:function(e,o){this.setOptions(e,!0),this.propagateFonts(o),deepExtend(this.fontOptions,this.constrain(o)),this.fontOptions.chooser=choosify("label",o)}},{key:"adjustSizes",value:function(e){var o=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=o,this.fontOptions.minWdt-=o);var l=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=l)}},{key:"addFontOptionsToPile",value:function(e,o){for(var l=0;l<o.length;++l)this.addFontToPile(e,o[l])}},{key:"addFontToPile",value:function(e,o){if(o!==void 0&&!(o.font===void 0||o.font===null)){var l=o.font;e.push(l)}}},{key:"getBasicOptions",value:function(e){for(var o={},l=0;l<e.length;++l){var h=e[l],y={};r.parseFontString(y,h)&&(h=y),forEach$1(h,function(O,D){O!==void 0&&(Object.prototype.hasOwnProperty.call(o,D)||(indexOf(multiFontStyle).call(multiFontStyle,D)!==-1?o[D]={}:o[D]=O))})}return o}},{key:"getFontOption",value:function(e,o,l){for(var h,y=0;y<e.length;++y){var O=e[y];if(Object.prototype.hasOwnProperty.call(O,o)){if(h=O[o],h==null)continue;var D={};if(r.parseFontString(D,h)&&(h=D),Object.prototype.hasOwnProperty.call(h,l))return h[l]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,l))return this.fontOptions[l];throw new Error("Did not find value for multi-font for property: '"+l+"'")}},{key:"getFontOptions",value:function(e,o){for(var l={},h=["color","size","face","mod","vadjust"],y=0;y<h.length;++y){var O=h[y];l[O]=this.getFontOption(e,o,O)}return l}},{key:"propagateFonts",value:function(e){var o=this,l=[];this.addFontOptionsToPile(l,e),this.fontOptions=this.getBasicOptions(l);for(var h=function(D){var R=multiFontStyle[D],F=o.fontOptions[R],j=o.getFontOptions(l,R);forEach$1(j,function(B,U){F[U]=B}),F.size=Number(F.size),F.vadjust=Number(F.vadjust)},y=0;y<multiFontStyle.length;++y)h(y)}},{key:"draw",value:function(e,o,l,h,y){var O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var D=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&D<this.elementOptions.scaling.label.drawThreshold-1||(D>=this.elementOptions.scaling.label.maxVisible&&(D=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,h,y,o,l,O),this._drawBackground(e),this._drawText(e,o,this.size.yLine,O,D))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var o=this.getSize();e.fillRect(o.left,o.top,o.width,o.height)}}},{key:"_drawText",value:function(e,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",y=arguments.length>4?arguments[4]:void 0,O=this._setAlignment(e,o,l,h),D=_slicedToArray(O,2);o=D[0],l=D[1],e.textAlign="left",o=o-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(l-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(l+=(this.size.height-this.size.labelHeight)/2));for(var R=0;R<this.lineCount;R++){var F=this.lines[R];if(F&&F.blocks){var j=0;this.isEdgeLabel||this.fontOptions.align==="center"?j+=(this.size.width-F.width)/2:this.fontOptions.align==="right"&&(j+=this.size.width-F.width);for(var B=0;B<F.blocks.length;B++){var U=F.blocks[B];e.font=U.font;var W=this._getColor(U.color,y,U.strokeColor),q=_slicedToArray(W,2),K=q[0],Y=q[1];U.strokeWidth>0&&(e.lineWidth=U.strokeWidth,e.strokeStyle=Y,e.lineJoin="round"),e.fillStyle=K,U.strokeWidth>0&&e.strokeText(U.text,o+j,l+U.vadjust),e.fillText(U.text,o+j,l+U.vadjust),j+=U.width}l+=F.height}}}},{key:"_setAlignment",value:function(e,o,l,h){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){o=0,l=0;var y=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",l-=2*y):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",l+=2*y):e.textBaseline="middle"}else e.textBaseline=h;return[o,l]}},{key:"_getColor",value:function(e,o,l){var h=e||"#000000",y=l||"#ffffff";if(o<=this.elementOptions.scaling.label.drawThreshold){var O=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-o)));h=overrideOpacity(h,O),y=overrideOpacity(y,O)}return[h,y]}},{key:"getTextSize",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,o,l),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=2,o=this.size.left,l=this.size.top-.5*e;if(this.isEdgeLabel){var h=-this.size.width*.5;switch(this.fontOptions.align){case"middle":o=h,l=-this.size.height*.5;break;case"top":o=h,l=-(this.size.height+e);break;case"bottom":o=h,l=e;break}}var y={left:o,top:l,width:this.size.width,height:this.size.height};return y}},{key:"calculateLabelSize",value:function(e,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,o,l),this.size.left=h-this.size.width*.5,this.size.top=y-this.size.height*.5,this.size.yLine=y+(1-this.lineCount)*.5*this.fontOptions.size,O==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,o,l,h){var y=function(F,j,B){return j==="normal"?B==="mod"?"":F[B]:F[j][B]!==void 0?F[j][B]:F[B]},O={color:y(this.fontOptions,h,"color"),size:y(this.fontOptions,h,"size"),face:y(this.fontOptions,h,"face"),mod:y(this.fontOptions,h,"mod"),vadjust:y(this.fontOptions,h,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(o||l)&&(h==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?O.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(O,this.elementOptions.id,o,l));var D="";return O.mod!==void 0&&O.mod!==""&&(D+=O.mod+" "),D+=O.size+"px "+O.face,e.font=D.replace(/"/g,""),O.font=e.font,O.height=O.size,O}},{key:"differentState",value:function(e,o){return e!==this.selectedState||o!==this.hoverState}},{key:"_processLabelText",value:function(e,o,l,h){var y=new LabelSplitter(e,this,o,l);return y.process(h)}},{key:"_processLabel",value:function(e,o,l){if(!(this.labelDirty===!1&&!this.differentState(o,l))){var h=this._processLabelText(e,o,l,this.elementOptions.label);this.fontOptions.minWdt>0&&h.width<this.fontOptions.minWdt&&(h.width=this.fontOptions.minWdt),this.size.labelHeight=h.height,this.fontOptions.minHgt>0&&h.height<this.fontOptions.minHgt&&(h.height=this.fontOptions.minHgt),this.lines=h.lines,this.lineCount=h.lines.length,this.size.width=h.width,this.size.height=h.height,this.selectedState=o,this.hoverState=l,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var e=this.fontOptions.size*this.body.view.scale;return!(e<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,o){if(!o||typeof o!="string")return!1;var l=o.split(" ");return e.size=+l[0].replace("px",""),e.face=l[1],e.color=l[2],!0}}]),r}(),global$4=global$O,isConstructor=isConstructor$4,tryToString=tryToString$4,TypeError$2=global$4.TypeError,aConstructor$1=function(r){if(isConstructor(r))return r;throw TypeError$2(tryToString(r)+" is not a constructor")},$$6=_export,getBuiltIn=getBuiltIn$9,apply=functionApply,bind=functionBind,aConstructor=aConstructor$1,anObject$2=anObject$d,isObject$3=isObject$j,create$3=objectCreate,fails$1=fails$t,nativeConstruct=getBuiltIn("Reflect","construct"),ObjectPrototype=Object.prototype,push$1=[].push,NEW_TARGET_BUG=fails$1(function(){function r(){}return!(nativeConstruct(function(){},[],r)instanceof r)}),ARGS_BUG=!fails$1(function(){nativeConstruct(function(){})}),FORCED$1=NEW_TARGET_BUG||ARGS_BUG;$$6({target:"Reflect",stat:!0,forced:FORCED$1,sham:FORCED$1},{construct:function r(t,e){aConstructor(t),anObject$2(e);var o=arguments.length<3?t:aConstructor(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(t,e,o);if(t==o){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var l=[null];return apply(push$1,l,e),new(apply(bind,t,l))}var h=o.prototype,y=create$3(isObject$3(h)?h:ObjectPrototype),O=apply(t,y,e);return isObject$3(O)?O:y}});var path$6=path$y,construct$2=path$6.Reflect.construct,parent$i=construct$2,construct$1=parent$i,construct=construct$1,parent$h=create$6,create$2=parent$h,parent$g=create$2,create$1=parent$g,create=create$1,$$5=_export,setPrototypeOf$5=objectSetPrototypeOf;$$5({target:"Object",stat:!0},{setPrototypeOf:setPrototypeOf$5});var path$5=path$y,setPrototypeOf$4=path$5.Object.setPrototypeOf,parent$f=setPrototypeOf$4,setPrototypeOf$3=parent$f,parent$e=setPrototypeOf$3,setPrototypeOf$2=parent$e,parent$d=setPrototypeOf$2,setPrototypeOf$1=parent$d,setPrototypeOf=setPrototypeOf$1;function _setPrototypeOf(r,t){return _setPrototypeOf=setPrototypeOf||function(o,l){return o.__proto__=l,o},_setPrototypeOf(r,t)}function _inherits(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),defineProperty$3(r,"prototype",{writable:!1}),t&&_setPrototypeOf(r,t)}function _assertThisInitialized(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _possibleConstructorReturn(r,t){if(t&&(_typeof(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(r)}var parent$c=getPrototypeOf$5,getPrototypeOf$3=parent$c,parent$b=getPrototypeOf$3,getPrototypeOf$2=parent$b,getPrototypeOf$1=getPrototypeOf$2;function _getPrototypeOf(r){return _getPrototypeOf=setPrototypeOf?getPrototypeOf$1:function(e){return e.__proto__||getPrototypeOf$1(e)},_getPrototypeOf(r)}var NodeBase=function(){function r(t,e,o){_classCallCheck(this,r),this.body=e,this.labelModule=o,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return _createClass(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(_typeof(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,o){var l=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(o)),Math.abs(this.height/2/Math.sin(o)))+l}},{key:"enableShadow",value:function(e,o){o.shadow&&(e.shadowColor=o.shadowColor,e.shadowBlur=o.shadowSize,e.shadowOffsetX=o.shadowX,e.shadowOffsetY=o.shadowY)}},{key:"disableShadow",value:function(e,o){o.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,o){if(o.borderDashes!==!1)if(e.setLineDash!==void 0){var l=o.borderDashes;l===!0&&(l=[5,15]),e.setLineDash(l)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,o.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,o){o.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,o.borderDashes=!1))}},{key:"needsRefresh",value:function(e,o){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,o)}},{key:"initContextForDraw",value:function(e,o){var l=o.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,l),e.strokeStyle=o.borderColor,e.fillStyle=o.color}},{key:"performStroke",value:function(e,o){var l=o.borderWidth/this.body.view.scale;e.save(),l>0&&(this.enableBorderDashes(e,o),e.stroke(),this.disableBorderDashes(e,o)),e.restore()}},{key:"performFill",value:function(e,o){e.save(),e.fillStyle=o.color,this.enableShadow(e,o),fill$5(e).call(e),this.disableShadow(e,o),e.restore(),this.performStroke(e,o)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,o,l,h,y){l!==void 0&&this.resize(l,h,y),this.left=e-this.width/2,this.top=o-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,o,l,h,y){this._updateBoundingBox(e,o,l,h,y)}},{key:"getDimensionsFromLabel",value:function(e,o,l){this.textSize=this.labelModule.getTextSize(e,o,l);var h=this.textSize.width,y=this.textSize.height,O=14;return h===0&&(h=O,y=O),{width:h,height:y}}}]),r}();function _createSuper$s(r){var t=_isNativeReflectConstruct$s();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$s(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Box$1=function(r){_inherits(e,r);var t=_createSuper$s(e);function e(o,l,h){var y;return _classCallCheck(this,e),y=t.call(this,o,l,h),y._setMargins(h),y}return _createClass(e,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(h,y)){var O=this.getDimensionsFromLabel(l,h,y);this.width=O.width+this.margin.right+this.margin.left,this.height=O.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width/2,this.top=y-this.height/2,this.initContextForDraw(l,R),drawRoundRect(l,this.left,this.top,this.width,this.height,R.borderRadius),this.performFill(l,R),this.updateBoundingBox(h,y,l,O,D),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,O,D)}},{key:"updateBoundingBox",value:function(l,h,y,O,D){this._updateBoundingBox(l,h,y,O,D);var R=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(R)}},{key:"distanceToBorder",value:function(l,h){l&&this.resize(l);var y=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(h)),Math.abs(this.height/2/Math.sin(h)))+y}}]),e}(NodeBase);function _createSuper$r(r){var t=_isNativeReflectConstruct$r();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$r(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CircleImageBase=function(r){_inherits(e,r);var t=_createSuper$r(e);function e(o,l,h){var y;return _classCallCheck(this,e),y=t.call(this,o,l,h),y.labelOffset=0,y.selected=!1,y}return _createClass(e,[{key:"setOptions",value:function(l,h,y){this.options=l,h===void 0&&y===void 0||this.setImages(h,y)}},{key:"setImages",value:function(l,h){h&&this.selected?(this.imageObj=h,this.imageObjAlt=l):(this.imageObj=l,this.imageObjAlt=h)}},{key:"switchImages",value:function(l){var h=l&&!this.selected||!l&&this.selected;if(this.selected=l,this.imageObjAlt!==void 0&&h){var y=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=y}}},{key:"_getImagePadding",value:function(){var l={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var h=this.options.imagePadding;_typeof(h)=="object"?(l.top=h.top,l.right=h.right,l.bottom=h.bottom,l.left=h.left):(l.top=h,l.right=h,l.bottom=h,l.left=h)}return l}},{key:"_resizeImage",value:function(){var l,h;if(this.options.shapeProperties.useImageSize===!1){var y=1,O=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?y=this.imageObj.width/this.imageObj.height:O=this.imageObj.height/this.imageObj.width),l=this.options.size*2*y,h=this.options.size*2*O}else{var D=this._getImagePadding();l=this.imageObj.width+D.left+D.right,h=this.imageObj.height+D.top+D.bottom}this.width=l,this.height=h,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(l,h,y,O){this.initContextForDraw(l,O),drawCircle(l,h,y,O.size),this.performFill(l,O)}},{key:"_drawImageAtPosition",value:function(l,h){if(this.imageObj.width!=0){l.globalAlpha=h.opacity!==void 0?h.opacity:1,this.enableShadow(l,h);var y=1;this.options.shapeProperties.interpolation===!0&&(y=this.imageObj.width/this.width/this.body.view.scale);var O=this._getImagePadding(),D=this.left+O.left,R=this.top+O.top,F=this.width-O.left-O.right,j=this.height-O.top-O.bottom;this.imageObj.drawImageAtPosition(l,y,D,R,F,j),this.disableShadow(l,h)}}},{key:"_drawImageLabel",value:function(l,h,y,O,D){var R=0;if(this.height!==void 0){R=this.height*.5;var F=this.labelModule.getTextSize(l,O,D);F.lineCount>=1&&(R+=F.height/2)}var j=y+R;this.options.label&&(this.labelOffset=R),this.labelModule.draw(l,h,j,O,D,"hanging")}}]),e}(NodeBase);function _createSuper$q(r){var t=_isNativeReflectConstruct$q();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$q(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Circle$1=function(r){_inherits(e,r);var t=_createSuper$q(e);function e(o,l,h){var y;return _classCallCheck(this,e),y=t.call(this,o,l,h),y._setMargins(h),y}return _createClass(e,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(h,y)){var O=this.getDimensionsFromLabel(l,h,y),D=Math.max(O.width+this.margin.right+this.margin.left,O.height+this.margin.top+this.margin.bottom);this.options.size=D/2,this.width=D,this.height=D,this.radius=this.width/2}}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width/2,this.top=y-this.height/2,this._drawRawCircle(l,h,y,R),this.updateBoundingBox(h,y),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,y,O,D)}},{key:"updateBoundingBox",value:function(l,h){this.boundingBox.top=h-this.options.size,this.boundingBox.left=l-this.options.size,this.boundingBox.right=l+this.options.size,this.boundingBox.bottom=h+this.options.size}},{key:"distanceToBorder",value:function(l){return l&&this.resize(l),this.width*.5}}]),e}(CircleImageBase);function _createSuper$p(r){var t=_isNativeReflectConstruct$p();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$p(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CircularImage=function(r){_inherits(e,r);var t=_createSuper$p(e);function e(o,l,h,y,O){var D;return _classCallCheck(this,e),D=t.call(this,o,l,h),D.setImages(y,O),D}return _createClass(e,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,O=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(O){var D=this.options.size*2;this.width=D,this.height=D,this.radius=.5*this.width;return}this.needsRefresh(h,y)&&this._resizeImage()}},{key:"draw",value:function(l,h,y,O,D,R){this.switchImages(O),this.resize();var F=h,j=y;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=h,this.top=y,F+=this.width/2,j+=this.height/2):(this.left=h-this.width/2,this.top=y-this.height/2),this._drawRawCircle(l,F,j,R),l.save(),l.clip(),this._drawImageAtPosition(l,R),l.restore(),this._drawImageLabel(l,F,j,O,D),this.updateBoundingBox(h,y)}},{key:"updateBoundingBox",value:function(l,h){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=h,this.boundingBox.left=l,this.boundingBox.right=l+this.options.size*2,this.boundingBox.bottom=h+this.options.size*2):(this.boundingBox.top=h-this.options.size,this.boundingBox.left=l-this.options.size,this.boundingBox.right=l+this.options.size,this.boundingBox.bottom=h+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(l){return l&&this.resize(l),this.width*.5}}]),e}(CircleImageBase);function _createSuper$o(r){var t=_isNativeReflectConstruct$o();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$o(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var ShapeBase=function(r){_inherits(e,r);var t=_createSuper$o(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(h,y)){var D,R;this.labelModule.getTextSize(l,h,y);var F=2*O.size;this.width=(D=this.customSizeWidth)!==null&&D!==void 0?D:F,this.height=(R=this.customSizeHeight)!==null&&R!==void 0?R:F,this.radius=.5*this.width}}},{key:"_drawShape",value:function(l,h,y,O,D,R,F,j){var B=this;return this.resize(l,R,F,j),this.left=O-this.width/2,this.top=D-this.height/2,this.initContextForDraw(l,j),getShape(h)(l,O,D,j.size),this.performFill(l,j),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(l.font=(R?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),l.fillStyle=this.options.icon.color||"black",l.textAlign="center",l.textBaseline="middle",l.fillText(this.options.icon.code,O,D)),{drawExternalLabel:function(){if(B.options.label!==void 0){B.labelModule.calculateLabelSize(l,R,F,O,D,"hanging");var W=D+.5*B.height+.5*B.labelModule.size.height;B.labelModule.draw(l,O,W,R,F,"hanging")}B.updateBoundingBox(O,D)}}}},{key:"updateBoundingBox",value:function(l,h){this.boundingBox.top=h-this.options.size,this.boundingBox.left=l-this.options.size,this.boundingBox.right=l+this.options.size,this.boundingBox.bottom=h+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(NodeBase);function ownKeys$3(r,t){var e=keys(r);if(getOwnPropertySymbols){var o=getOwnPropertySymbols(r);t&&(o=filter(o).call(o,function(l){return getOwnPropertyDescriptor$3(r,l).enumerable})),e.push.apply(e,o)}return e}function _objectSpread$3(r){for(var t=1;t<arguments.length;t++){var e,o,l=arguments[t]!=null?arguments[t]:{};t%2?forEach$2(e=ownKeys$3(Object(l),!0)).call(e,function(h){_defineProperty(r,h,l[h])}):getOwnPropertyDescriptors?defineProperties(r,getOwnPropertyDescriptors(l)):forEach$2(o=ownKeys$3(Object(l))).call(o,function(h){defineProperty$6(r,h,getOwnPropertyDescriptor$3(l,h))})}return r}function _createSuper$n(r){var t=_isNativeReflectConstruct$n();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$n(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CustomShape=function(r){_inherits(e,r);var t=_createSuper$n(e);function e(o,l,h,y){var O;return _classCallCheck(this,e),O=t.call(this,o,l,h,y),O.ctxRenderer=y,O}return _createClass(e,[{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D,R),this.left=h-this.width/2,this.top=y-this.height/2,l.save();var F=this.ctxRenderer({ctx:l,id:this.options.id,x:h,y,state:{selected:O,hover:D},style:_objectSpread$3({},R),label:this.options.label});if(F.drawNode!=null&&F.drawNode(),l.restore(),F.drawExternalLabel){var j=F.drawExternalLabel;F.drawExternalLabel=function(){l.save(),j(),l.restore()}}return F.nodeDimensions&&(this.customSizeWidth=F.nodeDimensions.width,this.customSizeHeight=F.nodeDimensions.height),F}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(ShapeBase);function _createSuper$m(r){var t=_isNativeReflectConstruct$m();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$m(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Database=function(r){_inherits(e,r);var t=_createSuper$m(e);function e(o,l,h){var y;return _classCallCheck(this,e),y=t.call(this,o,l,h),y._setMargins(h),y}return _createClass(e,[{key:"resize",value:function(l,h,y){if(this.needsRefresh(h,y)){var O=this.getDimensionsFromLabel(l,h,y),D=O.width+this.margin.right+this.margin.left;this.width=D,this.height=D,this.radius=this.width/2}}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width/2,this.top=y-this.height/2,this.initContextForDraw(l,R),drawDatabase(l,h-this.width/2,y-this.height/2,this.width,this.height),this.performFill(l,R),this.updateBoundingBox(h,y,l,O,D),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,O,D)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(NodeBase);function _createSuper$l(r){var t=_isNativeReflectConstruct$l();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$l(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Diamond$1=function(r){_inherits(e,r);var t=_createSuper$l(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"diamond",4,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(ShapeBase);function _createSuper$k(r){var t=_isNativeReflectConstruct$k();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$k(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Dot=function(r){_inherits(e,r);var t=_createSuper$k(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"circle",2,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l){return l&&this.resize(l),this.options.size}}]),e}(ShapeBase);function _createSuper$j(r){var t=_isNativeReflectConstruct$j();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$j(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Ellipse=function(r){_inherits(e,r);var t=_createSuper$j(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(h,y)){var O=this.getDimensionsFromLabel(l,h,y);this.height=O.height*2,this.width=O.width+O.height,this.radius=.5*this.width}}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width*.5,this.top=y-this.height*.5,this.initContextForDraw(l,R),drawEllipse(l,this.left,this.top,this.width,this.height),this.performFill(l,R),this.updateBoundingBox(h,y,l,O,D),this.labelModule.draw(l,h,y,O,D)}},{key:"distanceToBorder",value:function(l,h){l&&this.resize(l);var y=this.width*.5,O=this.height*.5,D=Math.sin(h)*y,R=Math.cos(h)*O;return y*O/Math.sqrt(D*D+R*R)}}]),e}(NodeBase);function _createSuper$i(r){var t=_isNativeReflectConstruct$i();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$i(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Icon=function(r){_inherits(e,r);var t=_createSuper$i(e);function e(o,l,h){var y;return _classCallCheck(this,e),y=t.call(this,o,l,h),y._setMargins(h),y}return _createClass(e,[{key:"resize",value:function(l,h,y){this.needsRefresh(h,y)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(l,h,y,O,D,R){var F=this;return this.resize(l,O,D),this.options.icon.size=this.options.icon.size||50,this.left=h-this.width/2,this.top=y-this.height/2,this._icon(l,h,y,O,D,R),{drawExternalLabel:function(){if(F.options.label!==void 0){var B=5;F.labelModule.draw(l,F.left+F.iconSize.width/2+F.margin.left,y+F.height/2+B,O)}F.updateBoundingBox(h,y)}}}},{key:"updateBoundingBox",value:function(l,h){if(this.boundingBox.top=h-this.options.icon.size*.5,this.boundingBox.left=l-this.options.icon.size*.5,this.boundingBox.right=l+this.options.icon.size*.5,this.boundingBox.bottom=h+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var y=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+y)}}},{key:"_icon",value:function(l,h,y,O,D,R){var F=Number(this.options.icon.size);this.options.icon.code!==void 0?(l.font=[this.options.icon.weight!=null?this.options.icon.weight:O?"bold":"",(this.options.icon.weight!=null&&O?5:0)+F+"px",this.options.icon.face].join(" "),l.fillStyle=this.options.icon.color||"black",l.textAlign="center",l.textBaseline="middle",this.enableShadow(l,R),l.fillText(this.options.icon.code,h,y),this.disableShadow(l,R)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(NodeBase);function _createSuper$h(r){var t=_isNativeReflectConstruct$h();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$h(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Image$2=function(r){_inherits(e,r);var t=_createSuper$h(e);function e(o,l,h,y,O){var D;return _classCallCheck(this,e),D=t.call(this,o,l,h),D.setImages(y,O),D}return _createClass(e,[{key:"resize",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,O=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(O){var D=this.options.size*2;this.width=D,this.height=D;return}this.needsRefresh(h,y)&&this._resizeImage()}},{key:"draw",value:function(l,h,y,O,D,R){l.save(),this.switchImages(O),this.resize();var F=h,j=y;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=h,this.top=y,F+=this.width/2,j+=this.height/2):(this.left=h-this.width/2,this.top=y-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var B=this.options.borderWidth,U=this.options.borderWidthSelected||2*this.options.borderWidth,W=(O?U:B)/this.body.view.scale;l.lineWidth=Math.min(this.width,W),l.beginPath();var q=O?this.options.color.highlight.border:D?this.options.color.hover.border:this.options.color.border,K=O?this.options.color.highlight.background:D?this.options.color.hover.background:this.options.color.background;R.opacity!==void 0&&(q=overrideOpacity(q,R.opacity),K=overrideOpacity(K,R.opacity)),l.strokeStyle=q,l.fillStyle=K,l.rect(this.left-.5*l.lineWidth,this.top-.5*l.lineWidth,this.width+l.lineWidth,this.height+l.lineWidth),fill$5(l).call(l),this.performStroke(l,R),l.closePath()}this._drawImageAtPosition(l,R),this._drawImageLabel(l,F,j,O,D),this.updateBoundingBox(h,y),l.restore()}},{key:"updateBoundingBox",value:function(l,h){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=l,this.top=h):(this.left=l-this.width/2,this.top=h-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(CircleImageBase);function _createSuper$g(r){var t=_isNativeReflectConstruct$g();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$g(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Square=function(r){_inherits(e,r);var t=_createSuper$g(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"square",2,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(ShapeBase);function _createSuper$f(r){var t=_isNativeReflectConstruct$f();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$f(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Hexagon=function(r){_inherits(e,r);var t=_createSuper$f(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"hexagon",4,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(ShapeBase);function _createSuper$e(r){var t=_isNativeReflectConstruct$e();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$e(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Star=function(r){_inherits(e,r);var t=_createSuper$e(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"star",4,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(ShapeBase);function _createSuper$d(r){var t=_isNativeReflectConstruct$d();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$d(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Text=function(r){_inherits(e,r);var t=_createSuper$d(e);function e(o,l,h){var y;return _classCallCheck(this,e),y=t.call(this,o,l,h),y._setMargins(h),y}return _createClass(e,[{key:"resize",value:function(l,h,y){this.needsRefresh(h,y)&&(this.textSize=this.labelModule.getTextSize(l,h,y),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(l,h,y,O,D,R){this.resize(l,O,D),this.left=h-this.width/2,this.top=y-this.height/2,this.enableShadow(l,R),this.labelModule.draw(l,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,O,D),this.disableShadow(l,R),this.updateBoundingBox(h,y,l,O,D)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(NodeBase);function _createSuper$c(r){var t=_isNativeReflectConstruct$c();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$c(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Triangle$1=function(r){_inherits(e,r);var t=_createSuper$c(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"triangle",3,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(ShapeBase);function _createSuper$b(r){var t=_isNativeReflectConstruct$b();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$b(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var TriangleDown=function(r){_inherits(e,r);var t=_createSuper$b(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"draw",value:function(l,h,y,O,D,R){return this._drawShape(l,"triangleDown",3,h,y,O,D,R)}},{key:"distanceToBorder",value:function(l,h){return this._distanceToBorder(l,h)}}]),e}(ShapeBase);function ownKeys$2(r,t){var e=keys(r);if(getOwnPropertySymbols){var o=getOwnPropertySymbols(r);t&&(o=filter(o).call(o,function(l){return getOwnPropertyDescriptor$3(r,l).enumerable})),e.push.apply(e,o)}return e}function _objectSpread$2(r){for(var t=1;t<arguments.length;t++){var e,o,l=arguments[t]!=null?arguments[t]:{};t%2?forEach$2(e=ownKeys$2(Object(l),!0)).call(e,function(h){_defineProperty(r,h,l[h])}):getOwnPropertyDescriptors?defineProperties(r,getOwnPropertyDescriptors(l)):forEach$2(o=ownKeys$2(Object(l))).call(o,function(h){defineProperty$6(r,h,getOwnPropertyDescriptor$3(l,h))})}return r}var Node$1=function(){function r(t,e,o,l,h,y){_classCallCheck(this,r),this.options=bridgeObject(h),this.globalOptions=h,this.defaultOptions=y,this.body=e,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=l,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Label$1(this.body,this.options,!1),this.setOptions(t)}return _createClass(r,[{key:"attachEdge",value:function(e){var o;indexOf(o=this.edges).call(o,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var o,l=indexOf(o=this.edges).call(o,e);if(l!=-1){var h;splice$1(h=this.edges).call(h,l,1)}}},{key:"setOptions",value:function(e){var o=this.options.shape;if(!!e){if(typeof e.color!="undefined"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");r.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=_parseInt(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=_parseInt(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=_parseFloat(e.value)),r.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var l=[e,this.options,this.defaultOptions];return this.chooser=choosify("node",l),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&r.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(o),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var o=this.options.opacity;e.borderColor=overrideOpacity(e.borderColor,o),e.color=overrideOpacity(e.color,o),e.shadowColor=overrideOpacity(e.shadowColor,o)}return e}},{key:"updateLabelModule",value:function(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),r.updateGroupOptions(this.options,_objectSpread$2(_objectSpread$2({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var o=this.grouplist.get(this.options.group,!1),l=[e,this.options,o,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,l),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Box$1(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Circle$1(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new CircularImage(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new CustomShape(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Database(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Diamond$1(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Dot(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Ellipse(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Icon(this.options,this.body,this.labelModule);break;case"image":this.shape=new Image$2(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Square(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Hexagon(this.options,this.body,this.labelModule);break;case"star":this.shape=new Star(this.options,this.body,this.labelModule);break;case"text":this.shape=new Text(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Triangle$1(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new TriangleDown(this.options,this.body,this.labelModule);break;default:this.shape=new Ellipse(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,o){return this.shape.distanceToBorder(e,o)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,o,l){if(this.options.value!==void 0){var h=this.options.scaling.customScalingFunction(e,o,l,this.options.value),y=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var O=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+h*O}this.options.size=this.options.scaling.min+h*y}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var o=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,o)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var o=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,o)}},{key:"getItemsOnPoint",value:function(e){var o=[];return this.labelModule.visible()&&pointInRect(this.labelModule.getSize(),e)&&o.push({nodeId:this.id,labelId:0}),pointInRect(this.shape.boundingBox,e)&&o.push({nodeId:this.id}),o}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,o,l){var h;if(l!==void 0){var y=e.group;if(o!==void 0&&o.group!==void 0&&y!==o.group)throw new Error("updateGroupOptions: group values in options don't match.");var O=typeof y=="number"||typeof y=="string"&&y!="";if(!!O){var D=l.get(y);D.opacity!==void 0&&o.opacity===void 0&&(r.checkOpacity(D.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+D.opacity),D.opacity=void 0));var R=filter(h=getOwnPropertyNames(o)).call(h,function(F){return o[F]!=null});R.push("font"),selectiveNotDeepExtend(R,e,D),e.color=parseColor(e.color)}}}},{key:"parseOptions",value:function(e,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=arguments.length>4?arguments[4]:void 0,O=["color","fixed","shadow"];if(selectiveNotDeepExtend(O,e,o,l),r.checkMass(o),e.opacity!==void 0&&(r.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),o.opacity!==void 0&&(r.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0)),o.shapeProperties&&!r.checkCoordinateOrigin(o.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+o.shapeProperties.coordinateOrigin),mergeOptions(e,o,"shadow",h),o.color!==void 0&&o.color!==null){var D=parseColor(o.color);fillIfDefined(e.color,D)}else l===!0&&o.color===null&&(e.color=bridgeObject(h.color));o.fixed!==void 0&&o.fixed!==null&&(typeof o.fixed=="boolean"?(e.fixed.x=o.fixed,e.fixed.y=o.fixed):(o.fixed.x!==void 0&&typeof o.fixed.x=="boolean"&&(e.fixed.x=o.fixed.x),o.fixed.y!==void 0&&typeof o.fixed.y=="boolean"&&(e.fixed.y=o.fixed.y))),l===!0&&o.font===null&&(e.font=bridgeObject(h.font)),r.updateGroupOptions(e,o,y),o.scaling!==void 0&&mergeOptions(e.scaling,o.scaling,"label",h.scaling)}},{key:"checkMass",value:function(e,o){if(e.mass!==void 0&&e.mass<=0){var l="";o!==void 0&&(l=" in node id: "+o),console.error("%cNegative or zero mass disallowed"+l+", setting mass to 1.",VALIDATOR_PRINT_STYLE),e.mass=1}}}]),r}();function _createForOfIteratorHelper$6(r,t){var e=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!e){if(isArray$1(r)||(e=_unsupportedIterableToArray$6(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$6(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$6(r,t);var o=slice(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$6(r,t)}}function _arrayLikeToArray$6(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}var NodesHandler=function(){function r(t,e,o,l){var h,y=this;if(_classCallCheck(this,r),this.body=t,this.images=e,this.groups=o,this.layoutEngine=l,this.body.functions.createNode=bind$5(h=this.create).call(h,this),this.nodesListeners={add:function(D,R){y.add(R.items)},update:function(D,R){y.update(R.items,R.data,R.oldData)},remove:function(D,R){y.remove(R.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(D,R,F,j){if(R===D)return .5;var B=1/(R-D);return Math.max(0,(j-D)*B)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=bridgeObject(this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var e,o,l=this;this.body.emitter.on("refreshNodes",bind$5(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",bind$5(o=this.refresh).call(o,this)),this.body.emitter.on("destroy",function(){forEach$1(l.nodesListeners,function(h,y){l.body.data.nodes&&l.body.data.nodes.off(y,h)}),delete l.body.functions.createNode,delete l.nodesListeners.add,delete l.nodesListeners.update,delete l.nodesListeners.remove,delete l.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if(Node$1.parseOptions(this.options,e),e.opacity!==void 0&&(isNan(e.opacity)||!_isFinite(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].updateShape();if(typeof e.font!="undefined"||typeof e.widthConstraint!="undefined"||typeof e.heightConstraint!="undefined")for(var l=0,h=keys(this.body.nodes);l<h.length;l++){var y=h[l];this.body.nodes[y].updateLabelModule(),this.body.nodes[y].needsRefresh()}if(e.size!==void 0)for(var O in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,O)&&this.body.nodes[O].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=this.body.data.nodes;if(isDataViewLike("id",e))this.body.data.nodes=e;else if(isArray$1(e))this.body.data.nodes=new DataSet,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new DataSet;else throw new TypeError("Array or DataSet expected");if(l&&forEach$1(this.nodesListeners,function(O,D){l.off(D,O)}),this.body.nodes={},this.body.data.nodes){var h=this;forEach$1(this.nodesListeners,function(O,D){h.body.data.nodes.on(D,O)});var y=this.body.data.nodes.getIds();this.add(y,!0)}o===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l,h=[],y=0;y<e.length;y++){l=e[y];var O=this.body.data.nodes.get(l),D=this.create(O);h.push(D),this.body.nodes[l]=D}this.layoutEngine.positionInitially(h),o===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,o,l){for(var h=this.body.nodes,y=!1,O=0;O<e.length;O++){var D=e[O],R=h[D],F=o[O];R!==void 0?R.setOptions(F)&&(y=!0):(y=!0,R=this.create(F),h[D]=R)}!y&&l!==void 0&&(y=some(o).call(o,function(j,B){var U=l[B];return U&&U.level!==j.level})),y===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var o=this.body.nodes,l=0;l<e.length;l++){var h=e[l];delete o[h]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Node$1;return new o(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;forEach$1(this.body.nodes,function(l,h){var y=e.body.data.nodes.get(h);y!==void 0&&(o===!0&&l.setOptions({x:null,y:null}),l.setOptions({fixed:!1}),l.setOptions(y))})}},{key:"getPositions",value:function(e){var o={};if(e!==void 0){if(isArray$1(e)===!0){for(var l=0;l<e.length;l++)if(this.body.nodes[e[l]]!==void 0){var h=this.body.nodes[e[l]];o[e[l]]={x:Math.round(h.x),y:Math.round(h.y)}}}else if(this.body.nodes[e]!==void 0){var y=this.body.nodes[e];o[e]={x:Math.round(y.x),y:Math.round(y.y)}}}else for(var O=0;O<this.body.nodeIndices.length;O++){var D=this.body.nodes[this.body.nodeIndices[O]];o[this.body.nodeIndices[O]]={x:Math.round(D.x),y:Math.round(D.y)}}return o}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e=[],o=this.body.data.nodes.getDataSet(),l=_createForOfIteratorHelper$6(o.get()),h;try{for(l.s();!(h=l.n()).done;){var y=h.value,O=y.id,D=this.body.nodes[O],R=Math.round(D.x),F=Math.round(D.y);(y.x!==R||y.y!==F)&&e.push({id:O,x:R,y:F})}}catch(j){l.e(j)}finally{l.f()}o.update(e)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,o){var l=[];if(this.body.nodes[e]!==void 0)for(var h=this.body.nodes[e],y={},O=0;O<h.edges.length;O++){var D=h.edges[O];o!=="to"&&D.toId==h.id?y[D.fromId]===void 0&&(l.push(D.fromId),y[D.fromId]=!0):o!=="from"&&D.fromId==h.id&&y[D.toId]===void 0&&(l.push(D.toId),y[D.toId]=!0)}return l}},{key:"getConnectedEdges",value:function(e){var o=[];if(this.body.nodes[e]!==void 0)for(var l=this.body.nodes[e],h=0;h<l.edges.length;h++)o.push(l.edges[h].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return o}},{key:"moveNode",value:function(e,o,l){var h=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(o),this.body.nodes[e].y=Number(l),setTimeout$1(function(){h.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),r}(),hasOwn$1=hasOwnProperty_1,isDataDescriptor$1=function(r){return r!==void 0&&(hasOwn$1(r,"value")||hasOwn$1(r,"writable"))},$$4=_export,call=functionCall,isObject$2=isObject$j,anObject$1=anObject$d,isDataDescriptor=isDataDescriptor$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,getPrototypeOf=objectGetPrototypeOf;function get$5(r,t){var e=arguments.length<3?r:arguments[2],o,l;if(anObject$1(r)===e)return r[t];if(o=getOwnPropertyDescriptorModule.f(r,t),o)return isDataDescriptor(o)?o.value:o.get===void 0?void 0:call(o.get,e);if(isObject$2(l=getPrototypeOf(r)))return get$5(l,t,e)}$$4({target:"Reflect",stat:!0},{get:get$5});var path$4=path$y,get$4=path$4.Reflect.get,parent$a=get$4,get$3=parent$a,parent$9=get$3,get$2=parent$9,parent$8=get$2,get$1=parent$8,get$7=get$1,parent$7=getOwnPropertyDescriptor$4,getOwnPropertyDescriptor$2=parent$7,parent$6=getOwnPropertyDescriptor$2,getOwnPropertyDescriptor$1=parent$6,getOwnPropertyDescriptor=getOwnPropertyDescriptor$1;function _superPropBase(r,t){for(;!Object.prototype.hasOwnProperty.call(r,t)&&(r=_getPrototypeOf(r),r!==null););return r}function _get(){return typeof Reflect!="undefined"&&get$7?_get=get$7:_get=function(t,e,o){var l=_superPropBase(t,e);if(!!l){var h=getOwnPropertyDescriptor(l,e);return h.get?h.get.call(arguments.length<3?t:o):h.value}},_get.apply(this,arguments)}var $$3=_export,$hypot=Math.hypot,abs=Math.abs,sqrt=Math.sqrt,BUGGY=!!$hypot&&$hypot(1/0,NaN)!==1/0;$$3({target:"Math",stat:!0,forced:BUGGY},{hypot:function r(t,e){for(var o=0,l=0,h=arguments.length,y=0,O,D;l<h;)O=abs(arguments[l++]),y<O?(D=y/O,o=o*D*D+1,y=O):O>0?(D=O/y,o+=D*D):o+=O;return y===1/0?1/0:y*sqrt(o)}});var path$3=path$y,hypot$2=path$3.Math.hypot,parent$5=hypot$2,hypot$1=parent$5,hypot=hypot$1;function _createSuper$a(r){var t=_isNativeReflectConstruct$a();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$a(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var EndPoint=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"transform",value:function(e,o){isArray$1(e)||(e=[e]);for(var l=o.point.x,h=o.point.y,y=o.angle,O=o.length,D=0;D<e.length;++D){var R=e[D],F=R.x*Math.cos(y)-R.y*Math.sin(y),j=R.x*Math.sin(y)+R.y*Math.cos(y);R.x=l+O*F,R.y=h+O*j}}},{key:"drawPath",value:function(e,o){e.beginPath(),e.moveTo(o[0].x,o[0].y);for(var l=1;l<o.length;++l)e.lineTo(o[l].x,o[l].y);e.closePath()}}]),r}(),Image$1=function(r){_inherits(e,r);var t=_createSuper$a(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,null,[{key:"draw",value:function(l,h){if(h.image){l.save(),l.translate(h.point.x,h.point.y),l.rotate(Math.PI/2+h.angle);var y=h.imageWidth!=null?h.imageWidth:h.image.width,O=h.imageHeight!=null?h.imageHeight:h.image.height;h.image.drawImageAtPosition(l,1,-y/2,0,y,O),l.restore()}return!1}}]),e}(EndPoint),Arrow=function(r){_inherits(e,r);var t=_createSuper$a(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,null,[{key:"draw",value:function(l,h){var y=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return EndPoint.transform(y,h),EndPoint.drawPath(l,y),!0}}]),e}(EndPoint),Crow=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return EndPoint.transform(l,o),EndPoint.drawPath(e,l),!0}}]),r}(),Curve=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l={x:-.4,y:0};EndPoint.transform(l,o),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var h=Math.PI,y=o.angle-h/2,O=o.angle+h/2;return e.beginPath(),e.arc(l.x,l.y,o.length*.4,y,O,!1),e.stroke(),!0}}]),r}(),InvertedCurve=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l={x:-.3,y:0};EndPoint.transform(l,o),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var h=Math.PI,y=o.angle+h/2,O=o.angle+3*h/2;return e.beginPath(),e.arc(l.x,l.y,o.length*.4,y,O,!1),e.stroke(),!0}}]),r}(),Triangle=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return EndPoint.transform(l,o),EndPoint.drawPath(e,l),!0}}]),r}(),InvertedTriangle=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return EndPoint.transform(l,o),EndPoint.drawPath(e,l),!0}}]),r}(),Circle=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l={x:-.4,y:0};return EndPoint.transform(l,o),drawCircle(e,l.x,l.y,o.length*.4),!0}}]),r}(),Bar=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return EndPoint.transform(l,o),EndPoint.drawPath(e,l),!0}}]),r}(),Box=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return EndPoint.transform(l,o),EndPoint.drawPath(e,l),!0}}]),r}(),Diamond=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return EndPoint.transform(l,o),EndPoint.drawPath(e,l),!0}}]),r}(),Vee=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return EndPoint.transform(l,o),EndPoint.drawPath(e,l),!0}}]),r}(),EndPoints=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"draw",value:function(e,o){var l;switch(o.type&&(l=o.type.toLowerCase()),l){case"image":return Image$1.draw(e,o);case"circle":return Circle.draw(e,o);case"box":return Box.draw(e,o);case"crow":return Crow.draw(e,o);case"curve":return Curve.draw(e,o);case"diamond":return Diamond.draw(e,o);case"inv_curve":return InvertedCurve.draw(e,o);case"triangle":return Triangle.draw(e,o);case"inv_triangle":return InvertedTriangle.draw(e,o);case"bar":return Bar.draw(e,o);case"vee":return Vee.draw(e,o);case"arrow":default:return Arrow.draw(e,o)}}}]),r}();function ownKeys$1(r,t){var e=keys(r);if(getOwnPropertySymbols){var o=getOwnPropertySymbols(r);t&&(o=filter(o).call(o,function(l){return getOwnPropertyDescriptor$3(r,l).enumerable})),e.push.apply(e,o)}return e}function _objectSpread$1(r){for(var t=1;t<arguments.length;t++){var e,o,l=arguments[t]!=null?arguments[t]:{};t%2?forEach$2(e=ownKeys$1(Object(l),!0)).call(e,function(h){_defineProperty(r,h,l[h])}):getOwnPropertyDescriptors?defineProperties(r,getOwnPropertyDescriptors(l)):forEach$2(o=ownKeys$1(Object(l))).call(o,function(h){defineProperty$6(r,h,getOwnPropertyDescriptor$3(l,h))})}return r}var EdgeBase=function(){function r(t,e,o){_classCallCheck(this,r),this._body=e,this._labelModule=o,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return _createClass(r,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,o,l,h){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,o),e.lineWidth=o.width,o.dashes!==!1?this._drawDashedLine(e,o,y):this._drawLine(e,o,y)}},{key:"_drawLine",value:function(e,o,l,h,y){if(this.from!=this.to)this._line(e,o,l,h,y);else{var O=this._getCircleData(e),D=_slicedToArray(O,3),R=D[0],F=D[1],j=D[2];this._circle(e,o,R,F,j)}}},{key:"_drawDashedLine",value:function(e,o,l,h,y){e.lineCap="round";var O=isArray$1(o.dashes)?o.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(O),e.lineDashOffset=0,this.from!=this.to)this._line(e,o,l);else{var D=this._getCircleData(e),R=_slicedToArray(D,3),F=R[0],j=R[1],B=R[2];this._circle(e,o,F,j,B)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)drawDashedLine(e,this.from.x,this.from.y,this.to.x,this.to.y,O);else{var U=this._getCircleData(e),W=_slicedToArray(U,3),q=W[0],K=W[1],Y=W[2];this._circle(e,o,q,K,Y)}this.enableShadow(e,o),e.stroke(),this.disableShadow(e,o)}}},{key:"findBorderPosition",value:function(e,o,l){return this.from!=this.to?this._findBorderPosition(e,o,l):this._findBorderPositionCircle(e,o,l)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var o,l=slice(o=this._getCircleData(e)).call(o,0,2),h=_slicedToArray(l,2),y=h[0],O=h[1];return{from:this._findBorderPositionCircle(this.from,e,{x:y,y:O,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:y,y:O,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var o=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var l=getSelfRefCoordinates(e,this.options.selfReference.angle,o,this.from);return[l.x,l.y,o]}},{key:"_pointOnCircle",value:function(e,o,l,h){var y=h*2*Math.PI;return{x:e+l*Math.cos(y),y:o-l*Math.sin(y)}}},{key:"_findBorderPositionCircle",value:function(e,o,l){var h=l.x,y=l.y,O=l.low,D=l.high,R=l.direction,F=10,j=this.options.selfReference.size,B=.05,U,W=(O+D)*.5,q=0;this.options.arrowStrikethrough===!0&&(R===-1?q=this.options.endPointOffset.from:R===1&&(q=this.options.endPointOffset.to));var K=0;do{W=(O+D)*.5,U=this._pointOnCircle(h,y,j,W);var Y=Math.atan2(e.y-U.y,e.x-U.x),X=e.distanceToBorder(o,Y)+q,J=Math.sqrt(Math.pow(U.x-e.x,2)+Math.pow(U.y-e.y,2)),Q=X-J;if(Math.abs(Q)<B)break;Q>0?R>0?O=W:D=W:R>0?D=W:O=W,++K}while(O<=D&&K<F);return _objectSpread$1(_objectSpread$1({},U),{},{t:W})}},{key:"getLineWidth",value:function(e,o){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):o===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,o){if(o.inheritsColor!==!1){if(o.inheritsColor==="both"&&this.from.id!==this.to.id){var l=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),h=this.from.options.color.highlight.border,y=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(h=overrideOpacity(this.from.options.color.border,o.opacity),y=overrideOpacity(this.to.options.color.border,o.opacity)):this.from.selected===!0&&this.to.selected===!1?y=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(h=this.from.options.color.border),l.addColorStop(0,h),l.addColorStop(1,y),l}return o.inheritsColor==="to"?overrideOpacity(this.to.options.color.border,o.opacity):overrideOpacity(this.from.options.color.border,o.opacity)}else return overrideOpacity(o.color,o.opacity)}},{key:"_circle",value:function(e,o,l,h,y){this.enableShadow(e,o);var O=0,D=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var R=this.options.selfReference.angle,F=this.options.selfReference.angle+Math.PI,j=this._findBorderPositionCircle(this.from,e,{x:l,y:h,low:R,high:F,direction:-1}),B=this._findBorderPositionCircle(this.from,e,{x:l,y:h,low:R,high:F,direction:1});O=Math.atan2(j.y-h,j.x-l),D=Math.atan2(B.y-h,B.x-l)}e.beginPath(),e.arc(l,h,y,O,D,!1),e.stroke(),this.disableShadow(e,o)}},{key:"getDistanceToEdge",value:function(e,o,l,h,y,O){if(this.from!=this.to)return this._getDistanceToEdge(e,o,l,h,y,O);var D=this._getCircleData(void 0),R=_slicedToArray(D,3),F=R[0],j=R[1],B=R[2],U=F-y,W=j-O;return Math.abs(Math.sqrt(U*U+W*W)-B)}},{key:"_getDistanceToLine",value:function(e,o,l,h,y,O){var D=l-e,R=h-o,F=D*D+R*R,j=((y-e)*D+(O-o)*R)/F;j>1?j=1:j<0&&(j=0);var B=e+j*D,U=o+j*R,W=B-y,q=U-O;return Math.sqrt(W*W+q*q)}},{key:"getArrowData",value:function(e,o,l,h,y,O){var D,R,F,j,B,U,W,q=O.width;o==="from"?(F=this.from,j=this.to,B=O.fromArrowScale<0,U=Math.abs(O.fromArrowScale),W=O.fromArrowType):o==="to"?(F=this.to,j=this.from,B=O.toArrowScale<0,U=Math.abs(O.toArrowScale),W=O.toArrowType):(F=this.to,j=this.from,B=O.middleArrowScale<0,U=Math.abs(O.middleArrowScale),W=O.middleArrowType);var K=15*U+3*q;if(F!=j){var Y=hypot(F.x-j.x,F.y-j.y),X=K/Y;if(o!=="middle")if(this.options.smooth.enabled===!0){var J=this._findBorderPosition(F,e,{via:l}),Q=this.getPoint(J.t+X*(o==="from"?1:-1),l);D=Math.atan2(J.y-Q.y,J.x-Q.x),R=J}else D=Math.atan2(F.y-j.y,F.x-j.x),R=this._findBorderPosition(F,e);else{var Z=(B?-X:X)/2,ee=this.getPoint(.5+Z,l),re=this.getPoint(.5-Z,l);D=Math.atan2(ee.y-re.y,ee.x-re.x),R=this.getPoint(.5,l)}}else{var te=this._getCircleData(e),ne=_slicedToArray(te,3),ae=ne[0],ie=ne[1],oe=ne[2];if(o==="from"){var ce=this.options.selfReference.angle,ue=this.options.selfReference.angle+Math.PI,pe=this._findBorderPositionCircle(this.from,e,{x:ae,y:ie,low:ce,high:ue,direction:-1});D=pe.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,R=pe}else if(o==="to"){var me=this.options.selfReference.angle,he=this.options.selfReference.angle+Math.PI,se=this._findBorderPositionCircle(this.from,e,{x:ae,y:ie,low:me,high:he,direction:1});D=se.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,R=se}else{var le=this.options.selfReference.angle/(2*Math.PI);R=this._pointOnCircle(ae,ie,oe,le),D=le*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var fe=R.x-K*.9*Math.cos(D),ge=R.y-K*.9*Math.sin(D),ye={x:fe,y:ge};return{point:R,core:ye,angle:D,length:K,type:W}}},{key:"drawArrowHead",value:function(e,o,l,h,y){e.strokeStyle=this.getColor(e,o),e.fillStyle=e.strokeStyle,e.lineWidth=o.width;var O=EndPoints.draw(e,y);O&&(this.enableShadow(e,o),fill$5(e).call(e),this.disableShadow(e,o))}},{key:"enableShadow",value:function(e,o){o.shadow===!0&&(e.shadowColor=o.shadowColor,e.shadowBlur=o.shadowSize,e.shadowOffsetX=o.shadowX,e.shadowOffsetY=o.shadowY)}},{key:"disableShadow",value:function(e,o){o.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,o){if(o.background!==!1){var l={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=o.backgroundColor,e.lineWidth=o.backgroundSize,this.setStrokeDashed(e,o.backgroundDashes),e.stroke(),e.strokeStyle=l.strokeStyle,e.lineWidth=l.lineWidth,e.dashes=l.dashes,this.setStrokeDashed(e,o.dashes)}}},{key:"setStrokeDashed",value:function(e,o){if(o!==!1)if(e.setLineDash!==void 0){var l=isArray$1(o)?o:[5,5];e.setLineDash(l)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),r}();function ownKeys(r,t){var e=keys(r);if(getOwnPropertySymbols){var o=getOwnPropertySymbols(r);t&&(o=filter(o).call(o,function(l){return getOwnPropertyDescriptor$3(r,l).enumerable})),e.push.apply(e,o)}return e}function _objectSpread(r){for(var t=1;t<arguments.length;t++){var e,o,l=arguments[t]!=null?arguments[t]:{};t%2?forEach$2(e=ownKeys(Object(l),!0)).call(e,function(h){_defineProperty(r,h,l[h])}):getOwnPropertyDescriptors?defineProperties(r,getOwnPropertyDescriptors(l)):forEach$2(o=ownKeys(Object(l))).call(o,function(h){defineProperty$6(r,h,getOwnPropertyDescriptor$3(l,h))})}return r}function _createSuper$9(r){var t=_isNativeReflectConstruct$9();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$9(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeBase=function(r){_inherits(e,r);var t=_createSuper$9(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"_findBorderPositionBezier",value:function(l,h){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),O=10,D=.2,R=!1,F=1,j=0,B=this.to,U,W,q=this.options.endPointOffset?this.options.endPointOffset.to:0;l.id===this.from.id&&(B=this.from,R=!0,q=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(q=0);var K=0;do{W=(j+F)*.5,U=this.getPoint(W,y);var Y=Math.atan2(B.y-U.y,B.x-U.x),X=B.distanceToBorder(h,Y)+q,J=Math.sqrt(Math.pow(U.x-B.x,2)+Math.pow(U.y-B.y,2)),Q=X-J;if(Math.abs(Q)<D)break;Q<0?R===!1?j=W:F=W:R===!1?F=W:j=W,++K}while(j<=F&&K<O);return _objectSpread(_objectSpread({},U),{},{t:W})}},{key:"_getDistanceToBezierEdge",value:function(l,h,y,O,D,R,F){var j=1e9,B,U,W,q,K,Y=l,X=h;for(U=1;U<10;U++)W=.1*U,q=Math.pow(1-W,2)*l+2*W*(1-W)*F.x+Math.pow(W,2)*y,K=Math.pow(1-W,2)*h+2*W*(1-W)*F.y+Math.pow(W,2)*O,U>0&&(B=this._getDistanceToLine(Y,X,q,K,D,R),j=B<j?B:j),Y=q,X=K;return j}},{key:"_bezierCurve",value:function(l,h,y,O){l.beginPath(),l.moveTo(this.fromPoint.x,this.fromPoint.y),y!=null&&y.x!=null?O!=null&&O.x!=null?l.bezierCurveTo(y.x,y.y,O.x,O.y,this.toPoint.x,this.toPoint.y):l.quadraticCurveTo(y.x,y.y,this.toPoint.x,this.toPoint.y):l.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(l,h),this.enableShadow(l,h),l.stroke(),this.disableShadow(l,h)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(EdgeBase);function _createSuper$8(r){var t=_isNativeReflectConstruct$8();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$8(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeDynamic=function(r){_inherits(e,r);var t=_createSuper$8(e);function e(o,l,h){var y;return _classCallCheck(this,e),y=t.call(this,o,l,h),y.via=y.via,y._boundFunction=function(){y.positionBezierNode()},y._body.emitter.on("_repositionBezierNodes",y._boundFunction),y}return _createClass(e,[{key:"setOptions",value:function(l){_get(_getPrototypeOf(e.prototype),"setOptions",this).call(this,l);var h=!1;this.options.physics!==l.physics&&(h=!0),this.options=l,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),h===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var l="edgeId:"+this.id,h=this._body.functions.createNode({id:l,shape:"circle",physics:!0,hidden:!0});this._body.nodes[l]=h,this.via=h,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(l,h,y){this._bezierCurve(l,h,y)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var y=this._getCircleData(),O=_slicedToArray(y,3),D=O[0],R=O[1],F=O[2],j=2*Math.PI*(1-l);return{x:D+F*Math.sin(j),y:R+F-F*(1-Math.cos(j))}}else return{x:Math.pow(1-l,2)*this.fromPoint.x+2*l*(1-l)*h.x+Math.pow(l,2)*this.toPoint.x,y:Math.pow(1-l,2)*this.fromPoint.y+2*l*(1-l)*h.y+Math.pow(l,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(l,h){return this._findBorderPositionBezier(l,h,this.via)}},{key:"_getDistanceToEdge",value:function(l,h,y,O,D,R){return this._getDistanceToBezierEdge(l,h,y,O,D,R,this.via)}}]),e}(BezierEdgeBase);function _createSuper$7(r){var t=_isNativeReflectConstruct$7();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$7(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var BezierEdgeStatic=function(r){_inherits(e,r);var t=_createSuper$7(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"_line",value:function(l,h,y){this._bezierCurve(l,h,y)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var l=this.options.smooth.roundness,h=this.options.smooth.type,y=Math.abs(this.from.x-this.to.x),O=Math.abs(this.from.y-this.to.y);if(h==="discrete"||h==="diagonalCross"){var D,R;y<=O?D=R=l*O:D=R=l*y,this.from.x>this.to.x&&(D=-D),this.from.y>=this.to.y&&(R=-R);var F=this.from.x+D,j=this.from.y+R;return h==="discrete"&&(y<=O?F=y<l*O?this.from.x:F:j=O<l*y?this.from.y:j),{x:F,y:j}}else if(h==="straightCross"){var B=(1-l)*y,U=(1-l)*O;return y<=O?(B=0,this.from.y<this.to.y&&(U=-U)):(this.from.x<this.to.x&&(B=-B),U=0),{x:this.to.x+B,y:this.to.y+U}}else if(h==="horizontal"){var W=(1-l)*y;return this.from.x<this.to.x&&(W=-W),{x:this.to.x+W,y:this.from.y}}else if(h==="vertical"){var q=(1-l)*O;return this.from.y<this.to.y&&(q=-q),{x:this.from.x,y:this.to.y+q}}else if(h==="curvedCW"){y=this.to.x-this.from.x,O=this.from.y-this.to.y;var K=Math.sqrt(y*y+O*O),Y=Math.PI,X=Math.atan2(O,y),J=(X+(l*.5+.5)*Y)%(2*Y);return{x:this.from.x+(l*.5+.5)*K*Math.sin(J),y:this.from.y+(l*.5+.5)*K*Math.cos(J)}}else if(h==="curvedCCW"){y=this.to.x-this.from.x,O=this.from.y-this.to.y;var Q=Math.sqrt(y*y+O*O),Z=Math.PI,ee=Math.atan2(O,y),re=(ee+(-l*.5+.5)*Z)%(2*Z);return{x:this.from.x+(l*.5+.5)*Q*Math.sin(re),y:this.from.y+(l*.5+.5)*Q*Math.cos(re)}}else{var te,ne;y<=O?te=ne=l*O:te=ne=l*y,this.from.x>this.to.x&&(te=-te),this.from.y>=this.to.y&&(ne=-ne);var ae=this.from.x+te,ie=this.from.y+ne;return y<=O?this.from.x<=this.to.x?ae=this.to.x<ae?this.to.x:ae:ae=this.to.x>ae?this.to.x:ae:this.from.y>=this.to.y?ie=this.to.y>ie?this.to.y:ie:ie=this.to.y<ie?this.to.y:ie,{x:ae,y:ie}}}},{key:"_findBorderPosition",value:function(l,h){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(l,h,y.via)}},{key:"_getDistanceToEdge",value:function(l,h,y,O,D,R){var F=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(l,h,y,O,D,R,F)}},{key:"getPoint",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),y=l,O=Math.pow(1-y,2)*this.fromPoint.x+2*y*(1-y)*h.x+Math.pow(y,2)*this.toPoint.x,D=Math.pow(1-y,2)*this.fromPoint.y+2*y*(1-y)*h.y+Math.pow(y,2)*this.toPoint.y;return{x:O,y:D}}}]),e}(BezierEdgeBase);function _createSuper$6(r){var t=_isNativeReflectConstruct$6();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$6(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CubicBezierEdgeBase=function(r){_inherits(e,r);var t=_createSuper$6(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"_getDistanceToBezierEdge2",value:function(l,h,y,O,D,R,F,j){for(var B=1e9,U=l,W=h,q=[0,0,0,0],K=1;K<10;K++){var Y=.1*K;q[0]=Math.pow(1-Y,3),q[1]=3*Y*Math.pow(1-Y,2),q[2]=3*Math.pow(Y,2)*(1-Y),q[3]=Math.pow(Y,3);var X=q[0]*l+q[1]*F.x+q[2]*j.x+q[3]*y,J=q[0]*h+q[1]*F.y+q[2]*j.y+q[3]*O;if(K>0){var Q=this._getDistanceToLine(U,W,X,J,D,R);B=Q<B?Q:B}U=X,W=J}return B}}]),e}(BezierEdgeBase);function _createSuper$5(r){var t=_isNativeReflectConstruct$5();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$5(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var CubicBezierEdge=function(r){_inherits(e,r);var t=_createSuper$5(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"_line",value:function(l,h,y){var O=y[0],D=y[1];this._bezierCurve(l,h,O,D)}},{key:"_getViaCoordinates",value:function(){var l=this.from.x-this.to.x,h=this.from.y-this.to.y,y,O,D,R,F=this.options.smooth.roundness;return(Math.abs(l)>Math.abs(h)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(O=this.from.y,R=this.to.y,y=this.from.x-F*l,D=this.to.x+F*l):(O=this.from.y-F*h,R=this.to.y+F*h,y=this.from.x,D=this.to.x),[{x:y,y:O},{x:D,y:R}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(l,h){return this._findBorderPositionBezier(l,h)}},{key:"_getDistanceToEdge",value:function(l,h,y,O,D,R){var F=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),j=_slicedToArray(F,2),B=j[0],U=j[1];return this._getDistanceToBezierEdge2(l,h,y,O,D,R,B,U)}},{key:"getPoint",value:function(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),y=_slicedToArray(h,2),O=y[0],D=y[1],R=l,F=[Math.pow(1-R,3),3*R*Math.pow(1-R,2),3*Math.pow(R,2)*(1-R),Math.pow(R,3)],j=F[0]*this.fromPoint.x+F[1]*O.x+F[2]*D.x+F[3]*this.toPoint.x,B=F[0]*this.fromPoint.y+F[1]*O.y+F[2]*D.y+F[3]*this.toPoint.y;return{x:j,y:B}}}]),e}(CubicBezierEdgeBase);function _createSuper$4(r){var t=_isNativeReflectConstruct$4();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$4(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var StraightEdge=function(r){_inherits(e,r);var t=_createSuper$4(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"_line",value:function(l,h){l.beginPath(),l.moveTo(this.fromPoint.x,this.fromPoint.y),l.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(l,h),l.stroke(),this.disableShadow(l,h)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(l){return{x:(1-l)*this.fromPoint.x+l*this.toPoint.x,y:(1-l)*this.fromPoint.y+l*this.toPoint.y}}},{key:"_findBorderPosition",value:function(l,h){var y=this.to,O=this.from;l.id===this.from.id&&(y=this.from,O=this.to);var D=Math.atan2(y.y-O.y,y.x-O.x),R=y.x-O.x,F=y.y-O.y,j=Math.sqrt(R*R+F*F),B=l.distanceToBorder(h,D),U=(j-B)/j;return{x:(1-U)*O.x+U*y.x,y:(1-U)*O.y+U*y.y,t:0}}},{key:"_getDistanceToEdge",value:function(l,h,y,O,D,R){return this._getDistanceToLine(l,h,y,O,D,R)}}]),e}(EdgeBase),Edge=function(){function r(t,e,o,l,h){if(_classCallCheck(this,r),e===void 0)throw new Error("No body provided");this.options=bridgeObject(l),this.globalOptions=l,this.defaultOptions=h,this.body=e,this.imagelist=o,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Label$1(this.body,this.options,!0),this.setOptions(t)}return _createClass(r,[{key:"setOptions",value:function(e){if(!!e){var o=typeof e.physics!="undefined"&&this.options.physics!==e.physics||typeof e.hidden!="undefined"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from!="undefined"&&this.options.from!==e.from||typeof e.to!="undefined"&&this.options.to!==e.to;r.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=_parseFloat(e.value));var l=[e,this.options,this.defaultOptions];return this.chooser=choosify("edge",l),this.updateLabelModule(e),o=this.updateEdgeType()||o,this._setInteractionWidths(),this.connect(),o}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,o=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,l=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,h=this.options.color.inherit,y={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:l,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:o,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:h?void 0:this.options.color.color,inheritsColor:h,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var O=this.options.selectionWidth;typeof O=="function"?y.width=O(y.width):typeof O=="number"&&(y.width+=O),y.width=Math.max(y.width,.3/this.body.view.scale),y.color=this.options.color.highlight,y.shadow=this.options.shadow.enabled}else if(this.hover){var D=this.options.hoverWidth;typeof D=="function"?y.width=D(y.width):typeof D=="number"&&(y.width+=D),y.width=Math.max(y.width,.3/this.body.view.scale),y.color=this.options.color.hover,y.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(y,this.options.id,this.selected,this.hover),y.color!==void 0&&(y.inheritsColor=!1),y.shadow===!1&&(y.shadowColor!==this.options.shadow.color||y.shadowSize!==this.options.shadow.size||y.shadowX!==this.options.shadow.x||y.shadowY!==this.options.shadow.y)&&(y.shadow=!0));else y.shadow=this.options.shadow.enabled,y.width=Math.max(y.width,.3/this.body.view.scale);return y}},{key:"updateLabelModule",value:function(e){var o=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,o),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,o=!1,l=!0;return this.edgeType!==void 0&&((this.edgeType instanceof BezierEdgeDynamic&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof CubicBezierEdge&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof BezierEdgeStatic&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof StraightEdge&&e.type.enabled===!1)&&(l=!1),l===!0&&(o=this.cleanup())),l===!0?e.enabled===!0?e.type==="dynamic"?(o=!0,this.edgeType=new BezierEdgeDynamic(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new CubicBezierEdge(this.options,this.body,this.labelModule):this.edgeType=new BezierEdgeStatic(this.options,this.body,this.labelModule):this.edgeType=new StraightEdge(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),o}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,o,l){if(this.options.value!==void 0){var h=this.options.scaling.customScalingFunction(e,o,l,this.options.value),y=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var O=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+h*O}this.options.width=this.options.scaling.min+h*y}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var o=this.getFormattingValues();if(!o.hidden){var l=this.edgeType.getViaNode();this.edgeType.drawLine(e,o,this.selected,this.hover,l),this.drawLabel(e,l)}}},{key:"drawArrows",value:function(e){var o=this.getFormattingValues();if(!o.hidden){var l=this.edgeType.getViaNode(),h={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,o.fromArrow&&(h.from=this.edgeType.getArrowData(e,"from",l,this.selected,this.hover,o),o.arrowStrikethrough===!1&&(this.edgeType.fromPoint=h.from.core),o.fromArrowSrc&&(h.from.image=this.imagelist.load(o.fromArrowSrc)),o.fromArrowImageWidth&&(h.from.imageWidth=o.fromArrowImageWidth),o.fromArrowImageHeight&&(h.from.imageHeight=o.fromArrowImageHeight)),o.toArrow&&(h.to=this.edgeType.getArrowData(e,"to",l,this.selected,this.hover,o),o.arrowStrikethrough===!1&&(this.edgeType.toPoint=h.to.core),o.toArrowSrc&&(h.to.image=this.imagelist.load(o.toArrowSrc)),o.toArrowImageWidth&&(h.to.imageWidth=o.toArrowImageWidth),o.toArrowImageHeight&&(h.to.imageHeight=o.toArrowImageHeight)),o.middleArrow&&(h.middle=this.edgeType.getArrowData(e,"middle",l,this.selected,this.hover,o),o.middleArrowSrc&&(h.middle.image=this.imagelist.load(o.middleArrowSrc)),o.middleArrowImageWidth&&(h.middle.imageWidth=o.middleArrowImageWidth),o.middleArrowImageHeight&&(h.middle.imageHeight=o.middleArrowImageHeight)),o.fromArrow&&this.edgeType.drawArrowHead(e,o,this.selected,this.hover,h.from),o.middleArrow&&this.edgeType.drawArrowHead(e,o,this.selected,this.hover,h.middle),o.toArrow&&this.edgeType.drawArrowHead(e,o,this.selected,this.hover,h.to)}}},{key:"drawLabel",value:function(e,o){if(this.options.label!==void 0){var l=this.from,h=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);var y;if(l.id!=h.id){this.labelModule.pointToSelf=!1,y=this.edgeType.getPoint(.5,o),e.save();var O=this._getRotation(e);O.angle!=0&&(e.translate(O.x,O.y),e.rotate(O.angle)),this.labelModule.draw(e,y.x,y.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var D=getSelfRefCoordinates(e,this.options.selfReference.angle,this.options.selfReference.size,l);y=this._pointOnCircle(D.x,D.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,y.x,y.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var o=[];if(this.labelModule.visible()){var l=this._getRotation();pointInRect(this.labelModule.getSize(),e,l)&&o.push({edgeId:this.id,labelId:0})}var h={left:e.x,top:e.y};return this.isOverlappingWith(h)&&o.push({edgeId:this.id}),o}},{key:"isOverlappingWith",value:function(e){if(this.connected){var o=10,l=this.from.x,h=this.from.y,y=this.to.x,O=this.to.y,D=e.left,R=e.top,F=this.edgeType.getDistanceToEdge(l,h,y,O,D,R);return F<o}else return!1}},{key:"_getRotation",value:function(e){var o=this.edgeType.getViaNode(),l=this.edgeType.getPoint(.5,o);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,l.x,l.y);var h={x:l.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return h;var y=this.from.y-this.to.y,O=this.from.x-this.to.x,D=Math.atan2(y,O);return(D<-1&&O<0||D>0&&O<0)&&(D+=Math.PI),h.angle=D,h}},{key:"_pointOnCircle",value:function(e,o,l,h){return{x:e+l*Math.cos(h),y:o-l*Math.sin(h)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,O=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(selectiveDeepExtend(O,e,o,l),o.endPointOffset!==void 0&&o.endPointOffset.from!==void 0&&(_isFinite(o.endPointOffset.from)?e.endPointOffset.from=o.endPointOffset.from:(e.endPointOffset.from=h.endPointOffset.from!==void 0?h.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),o.endPointOffset!==void 0&&o.endPointOffset.to!==void 0&&(_isFinite(o.endPointOffset.to)?e.endPointOffset.to=o.endPointOffset.to:(e.endPointOffset.to=h.endPointOffset.to!==void 0?h.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),isValidLabel(o.label)?e.label=o.label:isValidLabel(e.label)||(e.label=void 0),mergeOptions(e,o,"smooth",h),mergeOptions(e,o,"shadow",h),mergeOptions(e,o,"background",h),o.dashes!==void 0&&o.dashes!==null?e.dashes=o.dashes:l===!0&&o.dashes===null&&(e.dashes=create$5(h.dashes)),o.scaling!==void 0&&o.scaling!==null?(o.scaling.min!==void 0&&(e.scaling.min=o.scaling.min),o.scaling.max!==void 0&&(e.scaling.max=o.scaling.max),mergeOptions(e.scaling,o.scaling,"label",h.scaling)):l===!0&&o.scaling===null&&(e.scaling=create$5(h.scaling)),o.arrows!==void 0&&o.arrows!==null)if(typeof o.arrows=="string"){var D=o.arrows.toLowerCase();e.arrows.to.enabled=indexOf(D).call(D,"to")!=-1,e.arrows.middle.enabled=indexOf(D).call(D,"middle")!=-1,e.arrows.from.enabled=indexOf(D).call(D,"from")!=-1}else if(_typeof(o.arrows)==="object")mergeOptions(e.arrows,o.arrows,"to",h.arrows),mergeOptions(e.arrows,o.arrows,"middle",h.arrows),mergeOptions(e.arrows,o.arrows,"from",h.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+stringify$1(o.arrows));else l===!0&&o.arrows===null&&(e.arrows=create$5(h.arrows));if(o.color!==void 0&&o.color!==null){var R=isString(o.color)?{color:o.color,highlight:o.color,hover:o.color,inherit:!1,opacity:1}:o.color,F=e.color;if(y)deepExtend(F,h.color,!1,l);else for(var j in F)Object.prototype.hasOwnProperty.call(F,j)&&delete F[j];if(isString(F))F.color=F,F.highlight=F,F.hover=F,F.inherit=!1,R.opacity===void 0&&(F.opacity=1);else{var B=!1;R.color!==void 0&&(F.color=R.color,B=!0),R.highlight!==void 0&&(F.highlight=R.highlight,B=!0),R.hover!==void 0&&(F.hover=R.hover,B=!0),R.inherit!==void 0&&(F.inherit=R.inherit),R.opacity!==void 0&&(F.opacity=Math.min(1,Math.max(0,R.opacity))),B===!0?F.inherit=!1:F.inherit===void 0&&(F.inherit="from")}}else l===!0&&o.color===null&&(e.color=bridgeObject(h.color));l===!0&&o.font===null&&(e.font=bridgeObject(h.font)),Object.prototype.hasOwnProperty.call(o,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=o.selfReferenceSize)}}]),r}(),EdgesHandler=function(){function r(t,e,o){var l,h=this;_classCallCheck(this,r),this.body=t,this.images=e,this.groups=o,this.body.functions.createEdge=bind$5(l=this.create).call(l,this),this.edgesListeners={add:function(O,D){h.add(D.items)},update:function(O,D){h.update(D.items)},remove:function(O,D){h.remove(D.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(O,D,R,F){if(D===O)return .5;var j=1/(D-O);return Math.max(0,(F-O)*j)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var e=this,o,l;this.body.emitter.on("_forceDisableDynamicCurves",function(h){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;h==="dynamic"&&(h="continuous");var O=!1;for(var D in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,D)){var R=e.body.edges[D],F=e.body.data.edges.get(D);if(F!=null){var j=F.smooth;j!==void 0&&j.enabled===!0&&j.type==="dynamic"&&(h===void 0?R.setOptions({smooth:!1}):R.setOptions({smooth:{type:h}}),O=!0)}}y===!0&&O===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges()}),this.body.emitter.on("refreshEdges",bind$5(o=this.refresh).call(o,this)),this.body.emitter.on("refresh",bind$5(l=this.refresh).call(l,this)),this.body.emitter.on("destroy",function(){forEach$1(e.edgesListeners,function(h,y){e.body.data.edges&&e.body.data.edges.off(y,h)}),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){Edge.parseOptions(this.options,e,!0,this.defaultOptions,!0);var o=!1;if(e.smooth!==void 0)for(var l in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,l)&&(o=this.body.edges[l].updateEdgeType()||o);if(e.font!==void 0)for(var h in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,h)&&this.body.edges[h].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||o===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var o=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=this.body.data.edges;if(isDataViewLike("id",e))this.body.data.edges=e;else if(isArray$1(e))this.body.data.edges=new DataSet,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new DataSet;else throw new TypeError("Array or DataSet expected");if(h&&forEach$1(this.edgesListeners,function(O,D){h.off(D,O)}),this.body.edges={},this.body.data.edges){forEach$1(this.edgesListeners,function(O,D){o.body.data.edges.on(D,O)});var y=this.body.data.edges.getIds();this.add(y,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),l===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=this.body.edges,h=this.body.data.edges,y=0;y<e.length;y++){var O=e[y],D=l[O];D&&D.disconnect();var R=h.get(O,{showInternalIds:!0});l[O]=this.create(R)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),o===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var o=this.body.edges,l=this.body.data.edges,h=!1,y=0;y<e.length;y++){var O=e[y],D=l.get(O),R=o[O];R!==void 0?(R.disconnect(),h=R.setOptions(D)||h,R.connect()):(this.body.edges[O]=this.create(D),h=!0)}h===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length!==0){var l=this.body.edges;forEach$1(e,function(h){var y=l[h];y!==void 0&&y.remove()}),o&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;forEach$1(this.body.edges,function(o,l){var h=e.body.data.edges.get(l);h!==void 0&&o.setOptions(h)})}},{key:"create",value:function(e){return new Edge(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,o=this.body.nodes,l=this.body.edges;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(o[e].edges=[]);for(e in l)if(Object.prototype.hasOwnProperty.call(l,e)){var h=l[e];h.from=null,h.to=null,h.connect()}}},{key:"getConnectedNodes",value:function(e){var o=[];if(this.body.edges[e]!==void 0){var l=this.body.edges[e];l.fromId!==void 0&&o.push(l.fromId),l.toId!==void 0&&o.push(l.toId)}return o}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,o=[];forEach$1(this.body.edges,function(l,h){var y=e.body.nodes[l.toId],O=e.body.nodes[l.fromId];y!==void 0&&y.isCluster===!0||O!==void 0&&O.isCluster===!0||(y===void 0||O===void 0)&&o.push(h)}),this.remove(o,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var o=this.body.edges,l=[];forEach$2(e).call(e,function(h,y){var O=o[y];O===void 0&&l.push(y)}),this.add(l,!0)}}}]),r}(),BarnesHutSolver=function(){function r(t,e,o){_classCallCheck(this,r),this.body=t,this.physicsBody=e,this.barnesHutTree,this.setOptions(o),this._rng=Alea("BARNES HUT SOLVER")}return _createClass(r,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,o=this.body.nodes,l=this.physicsBody.physicsNodeIndices,h=l.length,y=this._formBarnesHutTree(o,l);this.barnesHutTree=y;for(var O=0;O<h;O++)e=o[l[O]],e.options.mass>0&&this._getForceContributions(y.root,e)}}},{key:"_getForceContributions",value:function(e,o){this._getForceContribution(e.children.NW,o),this._getForceContribution(e.children.NE,o),this._getForceContribution(e.children.SW,o),this._getForceContribution(e.children.SE,o)}},{key:"_getForceContribution",value:function(e,o){if(e.childrenCount>0){var l=e.centerOfMass.x-o.x,h=e.centerOfMass.y-o.y,y=Math.sqrt(l*l+h*h);y*e.calcSize>this.thetaInversed?this._calculateForces(y,l,h,o,e):e.childrenCount===4?this._getForceContributions(e,o):e.children.data.id!=o.id&&this._calculateForces(y,l,h,o,e)}}},{key:"_calculateForces",value:function(e,o,l,h,y){e===0&&(e=.1,o=e),this.overlapAvoidanceFactor<1&&h.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*h.shape.radius,e-h.shape.radius));var O=this.options.gravitationalConstant*y.mass*h.options.mass/Math.pow(e,3),D=o*O,R=l*O;this.physicsBody.forces[h.id].x+=D,this.physicsBody.forces[h.id].y+=R}},{key:"_formBarnesHutTree",value:function(e,o){for(var l,h=o.length,y=e[o[0]].x,O=e[o[0]].y,D=e[o[0]].x,R=e[o[0]].y,F=1;F<h;F++){var j=e[o[F]],B=j.x,U=j.y;j.options.mass>0&&(B<y&&(y=B),B>D&&(D=B),U<O&&(O=U),U>R&&(R=U))}var W=Math.abs(D-y)-Math.abs(R-O);W>0?(O-=.5*W,R+=.5*W):(y+=.5*W,D-=.5*W);var q=1e-5,K=Math.max(q,Math.abs(D-y)),Y=.5*K,X=.5*(y+D),J=.5*(O+R),Q={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:X-Y,maxX:X+Y,minY:J-Y,maxY:J+Y},size:K,calcSize:1/K,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(Q.root);for(var Z=0;Z<h;Z++)l=e[o[Z]],l.options.mass>0&&this._placeInTree(Q.root,l);return Q}},{key:"_updateBranchMass",value:function(e,o){var l=e.centerOfMass,h=e.mass+o.options.mass,y=1/h;l.x=l.x*e.mass+o.x*o.options.mass,l.x*=y,l.y=l.y*e.mass+o.y*o.options.mass,l.y*=y,e.mass=h;var O=Math.max(Math.max(o.height,o.radius),o.width);e.maxWidth=e.maxWidth<O?O:e.maxWidth}},{key:"_placeInTree",value:function(e,o,l){(l!=!0||l===void 0)&&this._updateBranchMass(e,o);var h=e.children.NW.range,y;h.maxX>o.x?h.maxY>o.y?y="NW":y="SW":h.maxY>o.y?y="NE":y="SE",this._placeInRegion(e,o,y)}},{key:"_placeInRegion",value:function(e,o,l){var h=e.children[l];switch(h.childrenCount){case 0:h.children.data=o,h.childrenCount=1,this._updateBranchMass(h,o);break;case 1:h.children.data.x===o.x&&h.children.data.y===o.y?(o.x+=this._rng(),o.y+=this._rng()):(this._splitBranch(h),this._placeInTree(h,o));break;case 4:this._placeInTree(h,o);break}}},{key:"_splitBranch",value:function(e){var o=null;e.childrenCount===1&&(o=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),o!=null&&this._placeInTree(e,o)}},{key:"_insertRegion",value:function(e,o){var l,h,y,O,D=.5*e.size;switch(o){case"NW":l=e.range.minX,h=e.range.minX+D,y=e.range.minY,O=e.range.minY+D;break;case"NE":l=e.range.minX+D,h=e.range.maxX,y=e.range.minY,O=e.range.minY+D;break;case"SW":l=e.range.minX,h=e.range.minX+D,y=e.range.minY+D,O=e.range.maxY;break;case"SE":l=e.range.minX+D,h=e.range.maxX,y=e.range.minY+D,O=e.range.maxY;break}e.children[o]={centerOfMass:{x:0,y:0},mass:0,range:{minX:l,maxX:h,minY:y,maxY:O},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,o){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,o))}},{key:"_drawBranch",value:function(e,o,l){l===void 0&&(l="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,o),this._drawBranch(e.children.NE,o),this._drawBranch(e.children.SE,o),this._drawBranch(e.children.SW,o)),o.strokeStyle=l,o.beginPath(),o.moveTo(e.range.minX,e.range.minY),o.lineTo(e.range.maxX,e.range.minY),o.stroke(),o.beginPath(),o.moveTo(e.range.maxX,e.range.minY),o.lineTo(e.range.maxX,e.range.maxY),o.stroke(),o.beginPath(),o.moveTo(e.range.maxX,e.range.maxY),o.lineTo(e.range.minX,e.range.maxY),o.stroke(),o.beginPath(),o.moveTo(e.range.minX,e.range.maxY),o.lineTo(e.range.minX,e.range.minY),o.stroke()}}]),r}(),RepulsionSolver=function(){function r(t,e,o){_classCallCheck(this,r),this._rng=Alea("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,o,l,h,y,O,D,R,F=this.body.nodes,j=this.physicsBody.physicsNodeIndices,B=this.physicsBody.forces,U=this.options.nodeDistance,W=-2/3/U,q=4/3,K=0;K<j.length-1;K++){D=F[j[K]];for(var Y=K+1;Y<j.length;Y++)R=F[j[Y]],e=R.x-D.x,o=R.y-D.y,l=Math.sqrt(e*e+o*o),l===0&&(l=.1*this._rng(),e=l),l<2*U&&(l<.5*U?O=1:O=W*l+q,O=O/l,h=e*O,y=o*O,B[D.id].x-=h,B[D.id].y-=y,B[R.id].x+=h,B[R.id].y+=y)}}}]),r}(),HierarchicalRepulsionSolver=function(){function r(t,e,o){_classCallCheck(this,r),this.body=t,this.physicsBody=e,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,o=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,h=this.options.nodeDistance,y=0;y<o.length-1;y++)for(var O=e[o[y]],D=y+1;D<o.length;D++){var R=e[o[D]];if(O.level===R.level){var F=h+this.overlapAvoidanceFactor*((O.shape.radius||0)/2+(R.shape.radius||0)/2),j=R.x-O.x,B=R.y-O.y,U=Math.sqrt(j*j+B*B),W=.05,q=void 0;U<F?q=-Math.pow(W*U,2)+Math.pow(W*F,2):q=0,U!==0&&(q=q/U);var K=j*q,Y=B*q;l[O.id].x-=K,l[O.id].y-=Y,l[R.id].x+=K,l[R.id].y+=Y}}}}]),r}(),SpringSolver=function(){function r(t,e,o){_classCallCheck(this,r),this.body=t,this.physicsBody=e,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,o,l=this.physicsBody.physicsEdgeIndices,h=this.body.edges,y,O,D,R=0;R<l.length;R++)o=h[l[R]],o.connected===!0&&o.toId!==o.fromId&&this.body.nodes[o.toId]!==void 0&&this.body.nodes[o.fromId]!==void 0&&(o.edgeType.via!==void 0?(e=o.options.length===void 0?this.options.springLength:o.options.length,y=o.to,O=o.edgeType.via,D=o.from,this._calculateSpringForce(y,O,.5*e),this._calculateSpringForce(O,D,.5*e)):(e=o.options.length===void 0?this.options.springLength*1.5:o.options.length,this._calculateSpringForce(o.from,o.to,e)))}},{key:"_calculateSpringForce",value:function(e,o,l){var h=e.x-o.x,y=e.y-o.y,O=Math.max(Math.sqrt(h*h+y*y),.01),D=this.options.springConstant*(l-O)/O,R=h*D,F=y*D;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=R,this.physicsBody.forces[e.id].y+=F),this.physicsBody.forces[o.id]!==void 0&&(this.physicsBody.forces[o.id].x-=R,this.physicsBody.forces[o.id].y-=F)}}]),r}(),HierarchicalSpringSolver=function(){function r(t,e,o){_classCallCheck(this,r),this.body=t,this.physicsBody=e,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,o,l,h,y,O,D,R,F=this.body.edges,j=.5,B=this.physicsBody.physicsEdgeIndices,U=this.physicsBody.physicsNodeIndices,W=this.physicsBody.forces,q=0;q<U.length;q++){var K=U[q];W[K].springFx=0,W[K].springFy=0}for(var Y=0;Y<B.length;Y++)o=F[B[Y]],o.connected===!0&&(e=o.options.length===void 0?this.options.springLength:o.options.length,l=o.from.x-o.to.x,h=o.from.y-o.to.y,R=Math.sqrt(l*l+h*h),R=R===0?.01:R,D=this.options.springConstant*(e-R)/R,y=l*D,O=h*D,o.to.level!=o.from.level?(W[o.toId]!==void 0&&(W[o.toId].springFx-=y,W[o.toId].springFy-=O),W[o.fromId]!==void 0&&(W[o.fromId].springFx+=y,W[o.fromId].springFy+=O)):(W[o.toId]!==void 0&&(W[o.toId].x-=j*y,W[o.toId].y-=j*O),W[o.fromId]!==void 0&&(W[o.fromId].x+=j*y,W[o.fromId].y+=j*O)));D=1;for(var X,J,Q=0;Q<U.length;Q++){var Z=U[Q];X=Math.min(D,Math.max(-D,W[Z].springFx)),J=Math.min(D,Math.max(-D,W[Z].springFy)),W[Z].x+=X,W[Z].y+=J}for(var ee=0,re=0,te=0;te<U.length;te++){var ne=U[te];ee+=W[ne].x,re+=W[ne].y}for(var ae=ee/U.length,ie=re/U.length,oe=0;oe<U.length;oe++){var ce=U[oe];W[ce].x-=ae,W[ce].y-=ie}}}]),r}(),CentralGravitySolver=function(){function r(t,e,o){_classCallCheck(this,r),this.body=t,this.physicsBody=e,this.setOptions(o)}return _createClass(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,o,l,h,y=this.body.nodes,O=this.physicsBody.physicsNodeIndices,D=this.physicsBody.forces,R=0;R<O.length;R++){var F=O[R];h=y[F],e=-h.x,o=-h.y,l=Math.sqrt(e*e+o*o),this._calculateForces(l,e,o,D,h)}}},{key:"_calculateForces",value:function(e,o,l,h,y){var O=e===0?0:this.options.centralGravity/e;h[y.id].x=o*O,h[y.id].y=l*O}}]),r}();function _createSuper$3(r){var t=_isNativeReflectConstruct$3();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$3(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var ForceAtlas2BasedRepulsionSolver=function(r){_inherits(e,r);var t=_createSuper$3(e);function e(o,l,h){var y;return _classCallCheck(this,e),y=t.call(this,o,l,h),y._rng=Alea("FORCE ATLAS 2 BASED REPULSION SOLVER"),y}return _createClass(e,[{key:"_calculateForces",value:function(l,h,y,O,D){l===0&&(l=.1*this._rng(),h=l),this.overlapAvoidanceFactor<1&&O.shape.radius&&(l=Math.max(.1+this.overlapAvoidanceFactor*O.shape.radius,l-O.shape.radius));var R=O.edges.length+1,F=this.options.gravitationalConstant*D.mass*O.options.mass*R/Math.pow(l,2),j=h*F,B=y*F;this.physicsBody.forces[O.id].x+=j,this.physicsBody.forces[O.id].y+=B}}]),e}(BarnesHutSolver);function _createSuper$2(r){var t=_isNativeReflectConstruct$2();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$2(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var ForceAtlas2BasedCentralGravitySolver=function(r){_inherits(e,r);var t=_createSuper$2(e);function e(o,l,h){return _classCallCheck(this,e),t.call(this,o,l,h)}return _createClass(e,[{key:"_calculateForces",value:function(l,h,y,O,D){if(l>0){var R=D.edges.length+1,F=this.options.centralGravity*R*D.options.mass;O[D.id].x=h*F,O[D.id].y=y*F}}}]),e}(CentralGravitySolver),PhysicsEngine=function(){function r(t){_classCallCheck(this,r),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},assign$2(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,selectiveNotDeepExtend(["stabilization"],this.options,e),mergeOptions(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var o=this.options.wind;o&&((typeof o.x!="number"||isNan(o.x))&&(o.x=0),(typeof o.y!="number"||isNan(o.y))&&(o.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new ForceAtlas2BasedRepulsionSolver(this.body,this.physicsBody,e),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,e),this.gravitySolver=new ForceAtlas2BasedCentralGravitySolver(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new RepulsionSolver(this.body,this.physicsBody,e),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,e),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new HierarchicalRepulsionSolver(this.body,this.physicsBody,e),this.edgesSolver=new HierarchicalSpringSolver(this.body,this.physicsBody,e),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new BarnesHutSolver(this.body,this.physicsBody,e),this.edgesSolver=new SpringSolver(this.body,this.physicsBody,e),this.gravitySolver=new CentralGravitySolver(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=bind$5(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=now$1();this.physicsTick();var o=now$1()-e;(o<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout$1(function(){e.body.emitter.emit("stabilized",{iterations:o}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var e=1.2;this._evaluateStepQuality()===!0?this.timestep=e*this.timestep:this.timestep/e<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/e))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var e=this.adaptiveCounter%this.adaptiveInterval===0;e?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,o=this.body.edges;for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&e[l].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[l].id);for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&o[h].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(o[h].id);for(var y=0;y<this.physicsBody.physicsNodeIndices.length;y++){var O=this.physicsBody.physicsNodeIndices[y];this.physicsBody.forces[O]={x:0,y:0},this.physicsBody.velocities[O]===void 0&&(this.physicsBody.velocities[O]={x:0,y:0})}for(var D in this.physicsBody.velocities)e[D]===void 0&&delete this.physicsBody.velocities[D]}},{key:"revert",value:function(){var e=keys(this.previousStates),o=this.body.nodes,l=this.physicsBody.velocities;this.referenceState={};for(var h=0;h<e.length;h++){var y=e[h];o[y]!==void 0?o[y].options.physics===!0&&(this.referenceState[y]={positions:{x:o[y].x,y:o[y].y}},l[y].x=this.previousStates[y].vx,l[y].y=this.previousStates[y].vy,o[y].x=this.previousStates[y].x,o[y].y=this.previousStates[y].y):delete this.previousStates[y]}}},{key:"_evaluateStepQuality",value:function(){var e,o,l,h=this.body.nodes,y=this.referenceState,O=.3;for(var D in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,D)&&h[D]!==void 0&&(e=h[D].x-y[D].positions.x,o=h[D].y-y[D].positions.y,l=Math.sqrt(Math.pow(e,2)+Math.pow(o,2)),l>O))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,o=0,l=0,h=5,y=0;y<e.length;y++){var O=e[y],D=this._performStep(O);o=Math.max(o,D),l+=D}this.adaptiveTimestepEnabled=l/e.length<h,this.stabilized=o<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,o,l){var h=this.modelOptions.damping*e,y=(o-h)/l;e+=y*this.timestep;var O=this.options.maxVelocity||1e9;return Math.abs(e)>O&&(e=e>0?O:-O),e}},{key:"_performStep",value:function(e){var o=this.body.nodes[e],l=this.physicsBody.forces[e];this.options.wind&&(l.x+=this.options.wind.x,l.y+=this.options.wind.y);var h=this.physicsBody.velocities[e];this.previousStates[e]={x:o.x,y:o.y,vx:h.x,vy:h.y},o.options.fixed.x===!1?(h.x=this.calculateComponentVelocity(h.x,l.x,o.options.mass),o.x+=h.x*this.timestep):(l.x=0,h.x=0),o.options.fixed.y===!1?(h.y=this.calculateComponentVelocity(h.y,l.y,o.options.mass),o.y+=h.y*this.timestep):(l.y=0,h.y=0);var y=Math.sqrt(Math.pow(h.x,2)+Math.pow(h.y,2));return y}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&e[o].x&&e[o].y){var l=e[o].options.fixed;this.freezeCache[o]={x:l.x,y:l.y},l.x=!0,l.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&this.freezeCache[o]!==void 0&&(e[o].options.fixed.x=this.freezeCache[o].x,e[o].options.fixed.y=this.freezeCache[o].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof o!="number"&&(o=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",o)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=o,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout$1(function(){return e._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,o=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},l=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&l();for(var h=0;o()&&h<this.options.stabilization.updateInterval;)this.physicsTick(),h++;if(l(),o()){var y;setTimeout$1(bind$5(y=this._stabilizationBatch).call(y,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var o=0;o<this.physicsBody.physicsNodeIndices.length;o++){var l=this.physicsBody.physicsNodeIndices[o],h=this.body.nodes[l],y=this.physicsBody.forces[l],O=20,D=.03,R=Math.sqrt(Math.pow(y.x,2)+Math.pow(y.x,2)),F=Math.min(Math.max(5,R),15),j=3*F,B=HSVToHex((180-Math.min(1,Math.max(0,D*R))*180)/360,1,1),U={x:h.x+O*y.x,y:h.y+O*y.y};e.lineWidth=F,e.strokeStyle=B,e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(U.x,U.y),e.stroke();var W=Math.atan2(y.y,y.x);e.fillStyle=B,EndPoints.draw(e,{type:"arrow",point:U,angle:W,length:j}),fill$5(e).call(e)}}}]),r}(),getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(r){return typeof r=="string"&&REGEX.test(r)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(byteToHex[r[t+0]]+byteToHex[r[t+1]]+byteToHex[r[t+2]]+byteToHex[r[t+3]]+"-"+byteToHex[r[t+4]]+byteToHex[r[t+5]]+"-"+byteToHex[r[t+6]]+byteToHex[r[t+7]]+"-"+byteToHex[r[t+8]]+byteToHex[r[t+9]]+"-"+byteToHex[r[t+10]]+byteToHex[r[t+11]]+byteToHex[r[t+12]]+byteToHex[r[t+13]]+byteToHex[r[t+14]]+byteToHex[r[t+15]]).toLowerCase();if(!validate(e))throw TypeError("Stringified UUID is invalid");return e}function v4(r,t,e){r=r||{};var o=r.random||(r.rng||rng)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){e=e||0;for(var l=0;l<16;++l)t[e+l]=o[l];return t}return stringify(o)}var NetworkUtil=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"getRange",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=1e9,h=-1e9,y=1e9,O=-1e9,D;if(o.length>0)for(var R=0;R<o.length;R++)D=e[o[R]],y>D.shape.boundingBox.left&&(y=D.shape.boundingBox.left),O<D.shape.boundingBox.right&&(O=D.shape.boundingBox.right),l>D.shape.boundingBox.top&&(l=D.shape.boundingBox.top),h<D.shape.boundingBox.bottom&&(h=D.shape.boundingBox.bottom);return y===1e9&&O===-1e9&&l===1e9&&h===-1e9&&(l=0,h=0,y=0,O=0),{minX:y,maxX:O,minY:l,maxY:h}}},{key:"getRangeCore",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=1e9,h=-1e9,y=1e9,O=-1e9,D;if(o.length>0)for(var R=0;R<o.length;R++)D=e[o[R]],y>D.x&&(y=D.x),O<D.x&&(O=D.x),l>D.y&&(l=D.y),h<D.y&&(h=D.y);return y===1e9&&O===-1e9&&l===1e9&&h===-1e9&&(l=0,h=0,y=0,O=0),{minX:y,maxX:O,minY:l,maxY:h}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,o){var l={};return o===void 0||o==="node"?(deepExtend(l,e.options,!0),l.x=e.x,l.y=e.y,l.amountOfConnections=e.edges.length):deepExtend(l,e.options,!0),l}}]),r}();function _createSuper$1(r){var t=_isNativeReflectConstruct$1();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct$1(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var Cluster=function(r){_inherits(e,r);var t=_createSuper$1(e);function e(o,l,h,y,O,D){var R;return _classCallCheck(this,e),R=t.call(this,o,l,h,y,O,D),R.isCluster=!0,R.containedNodes={},R.containedEdges={},R}return _createClass(e,[{key:"_openChildCluster",value:function(l){var h=this,y=this.body.nodes[l];if(this.containedNodes[l]===void 0)throw new Error("node with id: "+l+" not in current cluster");if(!y.isCluster)throw new Error("node with id: "+l+" is not a cluster");delete this.containedNodes[l],forEach$1(y.edges,function(O){delete h.containedEdges[O.id]}),forEach$1(y.containedNodes,function(O,D){h.containedNodes[D]=O}),y.containedNodes={},forEach$1(y.containedEdges,function(O,D){h.containedEdges[D]=O}),y.containedEdges={},forEach$1(y.edges,function(O){forEach$1(h.edges,function(D){var R,F,j=indexOf(R=D.clusteringEdgeReplacingIds).call(R,O.id);j!==-1&&(forEach$1(O.clusteringEdgeReplacingIds,function(B){D.clusteringEdgeReplacingIds.push(B),h.body.edges[B].edgeReplacedById=D.id}),splice$1(F=D.clusteringEdgeReplacingIds).call(F,j,1))})}),y.edges=[]}}]),e}(Node$1),ClusterEngine=function(){function r(t){var e=this;_classCallCheck(this,r),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},assign$2(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}return _createClass(r,[{key:"clusterByHubsize",value:function(e,o){e===void 0?e=this._getHubSize():_typeof(e)==="object"&&(o=this._checkOptions(e),e=this._getHubSize());for(var l=[],h=0;h<this.body.nodeIndices.length;h++){var y=this.body.nodes[this.body.nodeIndices[h]];y.edges.length>=e&&l.push(y.id)}for(var O=0;O<l.length;O++)this.clusterByConnection(l[O],o,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(o.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");o=this._checkOptions(o);var h={},y={};forEach$1(this.body.nodes,function(O,D){O.options&&o.joinCondition(O.options)===!0&&(h[D]=O,forEach$1(O.edges,function(R){e.clusteredEdges[R.id]===void 0&&(y[R.id]=R)}))}),this._cluster(h,y,o,l)}},{key:"clusterByEdgeCount",value:function(e,o){var l=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;o=this._checkOptions(o);for(var y=[],O={},D,R,F,j=function(q){var K={},Y={},X=l.body.nodeIndices[q],J=l.body.nodes[X];if(O[X]===void 0){F=0,R=[];for(var Q=0;Q<J.edges.length;Q++)D=J.edges[Q],l.clusteredEdges[D.id]===void 0&&(D.toId!==D.fromId&&F++,R.push(D));if(F===e){for(var Z=function(ue){if(o.joinCondition===void 0||o.joinCondition===null)return!0;var pe=NetworkUtil.cloneOptions(ue);return o.joinCondition(pe)},ee=!0,re=0;re<R.length;re++){D=R[re];var te=l._getConnectedId(D,X);if(Z(J))Y[D.id]=D,K[X]=J,K[te]=l.body.nodes[te],O[X]=!0;else{ee=!1;break}}if(keys(K).length>0&&keys(Y).length>0&&ee===!0){var ne=function(){for(var ue=0;ue<y.length;++ue)for(var pe in K)if(y[ue].nodes[pe]!==void 0)return y[ue]},ae=ne();if(ae!==void 0){for(var ie in K)ae.nodes[ie]===void 0&&(ae.nodes[ie]=K[ie]);for(var oe in Y)ae.edges[oe]===void 0&&(ae.edges[oe]=Y[oe])}else y.push({nodes:K,edges:Y})}}}},B=0;B<this.body.nodeIndices.length;B++)j(B);for(var U=0;U<y.length;U++)this._cluster(y[U].nodes,y[U].edges,o,!1);h===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,o)}},{key:"clusterBridges",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,o)}},{key:"clusterByConnection",value:function(e,o){var l,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var y=this.body.nodes[e];o=this._checkOptions(o,y),o.clusterNodeProperties.x===void 0&&(o.clusterNodeProperties.x=y.x),o.clusterNodeProperties.y===void 0&&(o.clusterNodeProperties.y=y.y),o.clusterNodeProperties.fixed===void 0&&(o.clusterNodeProperties.fixed={},o.clusterNodeProperties.fixed.x=y.options.fixed.x,o.clusterNodeProperties.fixed.y=y.options.fixed.y);var O={},D={},R=y.id,F=NetworkUtil.cloneOptions(y);O[R]=y;for(var j=0;j<y.edges.length;j++){var B=y.edges[j];if(this.clusteredEdges[B.id]===void 0){var U=this._getConnectedId(B,R);if(this.clusteredNodes[U]===void 0)if(U!==R)if(o.joinCondition===void 0)D[B.id]=B,O[U]=this.body.nodes[U];else{var W=NetworkUtil.cloneOptions(this.body.nodes[U]);o.joinCondition(F,W)===!0&&(D[B.id]=B,O[U]=this.body.nodes[U])}else D[B.id]=B}}var q=map$3(l=keys(O)).call(l,function(Q){return O[Q].id});for(var K in O)if(!!Object.prototype.hasOwnProperty.call(O,K))for(var Y=O[K],X=0;X<Y.edges.length;X++){var J=Y.edges[X];indexOf(q).call(q,this._getConnectedId(J,Y.id))>-1&&(D[J.id]=J)}this._cluster(O,D,o,h)}},{key:"_createClusterEdges",value:function(e,o,l,h){for(var y,O,D,R,F,j,B=keys(e),U=[],W=0;W<B.length;W++){O=B[W],D=e[O];for(var q=0;q<D.edges.length;q++)y=D.edges[q],this.clusteredEdges[y.id]===void 0&&(y.toId==y.fromId?o[y.id]=y:y.toId==O?(R=l.id,F=y.fromId,j=F):(R=y.toId,F=l.id,j=R),e[j]===void 0&&U.push({edge:y,fromId:F,toId:R}))}for(var K=[],Y=function(re){for(var te=0;te<K.length;te++){var ne=K[te],ae=re.fromId===ne.fromId&&re.toId===ne.toId,ie=re.fromId===ne.toId&&re.toId===ne.fromId;if(ae||ie)return ne}return null},X=0;X<U.length;X++){var J=U[X],Q=J.edge,Z=Y(J);Z===null?(Z=this._createClusteredEdge(J.fromId,J.toId,Q,h),K.push(Z)):Z.clusteringEdgeReplacingIds.push(Q.id),this.body.edges[Q.id].edgeReplacedById=Z.id,this._backupEdgeOptions(Q),Q.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,y=[];for(var O in e)Object.prototype.hasOwnProperty.call(e,O)&&this.clusteredNodes[O]!==void 0&&y.push(O);for(var D=0;D<y.length;++D)delete e[y[D]];if(keys(e).length!=0&&!(keys(e).length==1&&l.clusterNodeProperties.allowSingleNodeCluster!=!0)){var R=deepExtend({},l.clusterNodeProperties);if(l.processProperties!==void 0){var F=[];for(var j in e)if(Object.prototype.hasOwnProperty.call(e,j)){var B=NetworkUtil.cloneOptions(e[j]);F.push(B)}var U=[];for(var W in o)if(Object.prototype.hasOwnProperty.call(o,W)&&W.substr(0,12)!=="clusterEdge:"){var q=NetworkUtil.cloneOptions(o[W],"edge");U.push(q)}if(R=l.processProperties(R,F,U),!R)throw new Error("The processProperties function does not return properties!")}R.id===void 0&&(R.id="cluster:"+v4());var K=R.id;R.label===void 0&&(R.label="cluster");var Y=void 0;R.x===void 0&&(Y=this._getClusterPosition(e),R.x=Y.x),R.y===void 0&&(Y===void 0&&(Y=this._getClusterPosition(e)),R.y=Y.y),R.id=K;var X=this.body.functions.createNode(R,Cluster);X.containedNodes=e,X.containedEdges=o,X.clusterEdgeProperties=l.clusterEdgeProperties,this.body.nodes[R.id]=X,this._clusterEdges(e,o,R,l.clusterEdgeProperties),R.id=void 0,h===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var o=this.clusteredEdges[e.id];o!==void 0&&(e.setOptions({physics:o.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var o=keys(e),l=e[o[0]].x,h=e[o[0]].x,y=e[o[0]].y,O=e[o[0]].y,D,R=1;R<o.length;R++)D=e[o[R]],l=D.x<l?D.x:l,h=D.x>h?D.x:h,y=D.y<y?D.y:y,O=D.y>O?D.y:O;return{x:.5*(l+h),y:.5*(y+O)}}},{key:"openCluster",value:function(e,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var h=this.body.nodes[e];if(h===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(h.isCluster!==!0||h.containedNodes===void 0||h.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var y=this.findNode(e),O=indexOf(y).call(y,e)-1;if(O>=0){var D=y[O],R=this.body.nodes[D];R._openChildCluster(e),delete this.body.nodes[e],l===!0&&this.body.emitter.emit("_dataChanged");return}var F=h.containedNodes,j=h.containedEdges;if(o!==void 0&&o.releaseFunction!==void 0&&typeof o.releaseFunction=="function"){var B={},U={x:h.x,y:h.y};for(var W in F)if(Object.prototype.hasOwnProperty.call(F,W)){var q=this.body.nodes[W];B[W]={x:q.x,y:q.y}}var K=o.releaseFunction(U,B);for(var Y in F)if(Object.prototype.hasOwnProperty.call(F,Y)){var X=this.body.nodes[Y];K[Y]!==void 0&&(X.x=K[Y].x===void 0?h.x:K[Y].x,X.y=K[Y].y===void 0?h.y:K[Y].y)}}else forEach$1(F,function(se){se.options.fixed.x===!1&&(se.x=h.x),se.options.fixed.y===!1&&(se.y=h.y)});for(var J in F)if(Object.prototype.hasOwnProperty.call(F,J)){var Q=this.body.nodes[J];Q.vx=h.vx,Q.vy=h.vy,Q.setOptions({physics:!0}),delete this.clusteredNodes[J]}for(var Z=[],ee=0;ee<h.edges.length;ee++)Z.push(h.edges[ee]);for(var re=0;re<Z.length;re++){for(var te=Z[re],ne=this._getConnectedId(te,e),ae=this.clusteredNodes[ne],ie=0;ie<te.clusteringEdgeReplacingIds.length;ie++){var oe=te.clusteringEdgeReplacingIds[ie],ce=this.body.edges[oe];if(ce!==void 0)if(ae!==void 0){var ue=this.body.nodes[ae.clusterId];ue.containedEdges[ce.id]=ce,delete j[ce.id];var pe=ce.fromId,me=ce.toId;ce.toId==ne?me=ae.clusterId:pe=ae.clusterId,this._createClusteredEdge(pe,me,ce,ue.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(ce)}te.remove()}for(var he in j)Object.prototype.hasOwnProperty.call(j,he)&&this._restoreEdge(j[he]);delete this.body.nodes[e],l===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var o=[];if(this.isCluster(e)===!0){var l=this.body.nodes[e].containedNodes;for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&o.push(this.body.nodes[h].id)}return o}},{key:"findNode",value:function(e){for(var o=[],l=100,h=0,y;this.clusteredNodes[e]!==void 0&&h<l;){if(y=this.body.nodes[e],y===void 0)return[];o.push(y.id),e=this.clusteredNodes[e].clusterId,h++}return y=this.body.nodes[e],y===void 0?[]:(o.push(y.id),reverse(o).call(o),o)}},{key:"updateClusteredNode",value:function(e,o){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(o===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(o),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,o){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(o===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var l=this.getClusteredEdges(e),h=0;h<l.length;h++){var y=this.body.edges[l[h]];y.setOptions(o)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var o=[],l=100,h=0;e!==void 0&&this.body.edges[e]!==void 0&&h<l;)o.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,h++;return reverse(o).call(o),o}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var o=[e],l=[],h=[],y=100,O=0;o.length>0&&O<y;){var D=o.pop();if(D!==void 0){var R=this.body.edges[D];if(R!==void 0){O++;var F=R.clusteringEdgeReplacingIds;if(F===void 0)h.push(D);else for(var j=0;j<F.length;++j){var B=F[j];indexOf(o).call(o,F)!==-1||indexOf(l).call(l,F)!==-1||o.push(B)}l.push(D)}}}return h}},{key:"_getConnectedId",value:function(e,o){return e.toId!=o?e.toId:(e.fromId!=o,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,o=0,l=0,h=0,y=0;y<this.body.nodeIndices.length;y++){var O=this.body.nodes[this.body.nodeIndices[y]];O.edges.length>h&&(h=O.edges.length),e+=O.edges.length,o+=Math.pow(O.edges.length,2),l+=1}e=e/l,o=o/l;var D=o-Math.pow(e,2),R=Math.sqrt(D),F=Math.floor(e+2*R);return F>h&&(F=h),F}},{key:"_createClusteredEdge",value:function(e,o,l,h,y){var O=NetworkUtil.cloneOptions(l,"edge");deepExtend(O,h),O.from=e,O.to=o,O.id="clusterEdge:"+v4(),y!==void 0&&deepExtend(O,y);var D=this.body.functions.createEdge(O);return D.clusteringEdgeReplacingIds=[l.id],D.connect(),this.body.edges[D.id]=D,D}},{key:"_clusterEdges",value:function(e,o,l,h){if(o instanceof Edge){var y=o,O={};O[y.id]=y,o=O}if(e instanceof Node$1){var D=e,R={};R[D.id]=D,e=R}if(l==null)throw new Error("_clusterEdges: parameter clusterNode required");h===void 0&&(h=l.clusterEdgeProperties),this._createClusterEdges(e,o,l,h);for(var F in o)if(Object.prototype.hasOwnProperty.call(o,F)&&this.body.edges[F]!==void 0){var j=this.body.edges[F];this._backupEdgeOptions(j),j.setOptions({physics:!1})}for(var B in e)Object.prototype.hasOwnProperty.call(e,B)&&(this.clusteredNodes[B]={clusterId:l.id,node:this.body.nodes[B]},this.body.nodes[B].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var o=this.clusteredNodes[e];if(o!==void 0){var l=o.clusterId;if(l!==void 0)return this.body.nodes[l]}}}},{key:"_filter",value:function(e,o){var l=[];return forEach$1(e,function(h){o(h)&&l.push(h)}),l}},{key:"_updateState",value:function(){var e=this,o,l=[],h={},y=function(W){forEach$1(e.body.nodes,function(q){q.isCluster===!0&&W(q)})};for(o in this.clusteredNodes)if(!!Object.prototype.hasOwnProperty.call(this.clusteredNodes,o)){var O=this.body.nodes[o];O===void 0&&l.push(o)}y(function(U){for(var W=0;W<l.length;W++)delete U.containedNodes[l[W]]});for(var D=0;D<l.length;D++)delete this.clusteredNodes[l[D]];forEach$1(this.clusteredEdges,function(U){var W=e.body.edges[U];(W===void 0||!W.endPointsValid())&&(h[U]=U)}),y(function(U){forEach$1(U.containedEdges,function(W,q){!W.endPointsValid()&&!h[q]&&(h[q]=q)})}),forEach$1(this.body.edges,function(U,W){var q=!0,K=U.clusteringEdgeReplacingIds;if(K!==void 0){var Y=0;forEach$1(K,function(X){var J=e.body.edges[X];J!==void 0&&J.endPointsValid()&&(Y+=1)}),q=Y>0}(!U.endPointsValid()||!q)&&(h[W]=W)}),y(function(U){forEach$1(h,function(W){delete U.containedEdges[W],forEach$1(U.edges,function(q,K){if(q.id===W){U.edges[K]=null;return}q.clusteringEdgeReplacingIds=e._filter(q.clusteringEdgeReplacingIds,function(Y){return!h[Y]})}),U.edges=e._filter(U.edges,function(q){return q!==null})})}),forEach$1(h,function(U){delete e.clusteredEdges[U]}),forEach$1(h,function(U){delete e.body.edges[U]});var R=keys(this.body.edges);forEach$1(R,function(U){var W=e.body.edges[U],q=e._isClusteredNode(W.fromId)||e._isClusteredNode(W.toId);if(q!==e._isClusteredEdge(W.id))if(q){var K=e._getClusterNodeForNode(W.fromId);K!==void 0&&e._clusterEdges(e.body.nodes[W.fromId],W,K);var Y=e._getClusterNodeForNode(W.toId);Y!==void 0&&e._clusterEdges(e.body.nodes[W.toId],W,Y)}else delete e._clusterEdges[U],e._restoreEdge(W)});for(var F=!1,j=!0,B=function(){var W=[];y(function(K){var Y=keys(K.containedNodes).length,X=K.options.allowSingleNodeCluster===!0;(X&&Y<1||!X&&Y<2)&&W.push(K.id)});for(var q=0;q<W.length;++q)e.openCluster(W[q],{},!1);j=W.length>0,F=F||j};j;)B();F&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),r}();function _createForOfIteratorHelper$5(r,t){var e=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!e){if(isArray$1(r)||(e=_unsupportedIterableToArray$5(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$5(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$5(r,t);var o=slice(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$5(r,t)}}function _arrayLikeToArray$5(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}function _initRequestAnimationFrame(){var r;window!==void 0&&(r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),r===void 0?window.requestAnimationFrame=function(t){t()}:window.requestAnimationFrame=r}var CanvasRenderer=function(){function r(t,e){_classCallCheck(this,r),_initRequestAnimationFrame(),this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},assign$2(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var e=this,o;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("zoom",function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=setTimeout$1(function(){var l;e.zooming=!1,bind$5(l=e._requestRedraw).call(l,e)()},250)}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",bind$5(o=this._requestRedraw).call(o,this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(e!==void 0){var o=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];selectiveDeepExtend(o,this.options,e)}}},{key:"_requestNextFrame",value:function(e,o){if(typeof window!="undefined"){var l,h=window;return this.requiresTimeout===!0?l=setTimeout$1(e,o):h.requestAnimationFrame&&(l=h.requestAnimationFrame(e)),l}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var e;this.renderTimer=this._requestNextFrame(bind$5(e=this._renderStep).call(e,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var o={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var l=this.canvas.getContext(),h=this.canvas.frame.canvas.clientWidth,y=this.canvas.frame.canvas.clientHeight;if(l.clearRect(0,0,h,y),this.canvas.frame.clientWidth===0)return;if(l.save(),l.translate(this.body.view.translation.x,this.body.view.translation.y),l.scale(this.body.view.scale,this.body.view.scale),l.beginPath(),this.body.emitter.emit("beforeDrawing",l),l.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(l),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var O=this._drawNodes(l,e),D=O.drawExternalLabels;o.drawExternalLabels=D}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(l),o.drawExternalLabels!=null&&o.drawExternalLabels(),e===!1&&this._drawSelectionBox(l),l.beginPath(),this.body.emitter.emit("afterDrawing",l),l.closePath(),l.restore(),e===!0&&l.clearRect(0,0,h,y)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var o=this.body.nodes,l;for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(l=o[h],l.resize(e),l.updateBoundingBox(e,l.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=this.body.nodes,h=this.body.nodeIndices,y,O=[],D=[],R=20,F=this.canvas.DOMtoCanvas({x:-R,y:-R}),j=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+R,y:this.canvas.frame.canvas.clientHeight+R}),B={top:F.y,left:F.x,bottom:j.y,right:j.x},U=[],W=0;W<h.length;W++)if(y=l[h[W]],y.hover)D.push(h[W]);else if(y.isSelected())O.push(h[W]);else if(o===!0){var q=y.draw(e);q.drawExternalLabel!=null&&U.push(q.drawExternalLabel)}else if(y.isBoundingBoxOverlappingWith(B)===!0){var K=y.draw(e);K.drawExternalLabel!=null&&U.push(K.drawExternalLabel)}else y.updateBoundingBox(e,y.selected);var Y,X=O.length,J=D.length;for(Y=0;Y<X;Y++){y=l[O[Y]];var Q=y.draw(e);Q.drawExternalLabel!=null&&U.push(Q.drawExternalLabel)}for(Y=0;Y<J;Y++){y=l[D[Y]];var Z=y.draw(e);Z.drawExternalLabel!=null&&U.push(Z.drawExternalLabel)}return{drawExternalLabels:function(){var re=_createForOfIteratorHelper$5(U),te;try{for(re.s();!(te=re.n()).done;){var ne=te.value;ne()}}catch(ae){re.e(ae)}finally{re.f()}}}}},{key:"_drawEdges",value:function(e){for(var o=this.body.edges,l=this.body.edgeIndices,h=0;h<l.length;h++){var y=o[l[h]];y.connected===!0&&y.draw(e)}}},{key:"_drawArrows",value:function(e){for(var o=this.body.edges,l=this.body.edgeIndices,h=0;h<l.length;h++){var y=o[l[h]];y.connected===!0&&y.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window!="undefined"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,indexOf(e).call(e,"msie 9.0")!=-1?this.requiresTimeout=!0:indexOf(e).call(e,"safari")!=-1&&indexOf(e).call(e,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var o=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,l=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,o,l),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,o,l),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),r}(),path$2=path$y,setInterval$1=path$2.setInterval,setInterval$2=setInterval$1;function onTouch(r,t){t.inputHandler=function(e){e.isFirst&&t(e)},r.on("hammer.input",t.inputHandler)}function onRelease(r,t){return t.inputHandler=function(e){e.isFinal&&t(e)},r.on("hammer.input",t.inputHandler)}var Canvas=function(){function r(t){_classCallCheck(this,r),this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},assign$2(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var e=this,o;this.body.emitter.once("resize",function(l){l.width!==0&&(e.body.view.translation.x=l.width*.5),l.height!==0&&(e.body.view.translation.y=l.height*.5)}),this.body.emitter.on("setSize",bind$5(o=this.setSize).call(o,this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var o=this;if(e!==void 0){var l=["width","height","autoResize"];selectiveDeepExtend(l,this.options,e)}if(this._cleanUp(),this.options.autoResize===!0){var h;if(window.ResizeObserver){var y=new ResizeObserver(function(){var F=o.setSize();F===!0&&o.body.emitter.emit("_requestRedraw")}),O=this.frame;y.observe(O),this._cleanupCallbacks.push(function(){y.unobserve(O)})}else{var D=setInterval$2(function(){var F=o.setSize();F===!0&&o.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(D)})}var R=bind$5(h=this._onResize).call(h,this);addEventListener(window,"resize",R),this._cleanupCallbacks.push(function(){removeEventListener(window,"resize",R)})}}},{key:"_cleanUp",value:function(){var e,o,l;forEach$2(e=reverse(o=splice$1(l=this._cleanupCallbacks).call(l,0)).call(o)).call(e,function(h){try{h()}catch(y){console.error(y)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,o=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,l=this.cameraState.scale;e!=1&&o!=1?l=this.cameraState.scale*.5*(e+o):e!=1?l=this.cameraState.scale*e:o!=1&&(l=this.cameraState.scale*o),this.body.view.scale=l;var h=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),y={x:h.x-this.cameraState.position.x,y:h.y-this.cameraState.position.y};this.body.view.translation.x+=y.x*this.body.view.scale,this.body.view.translation.y+=y.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(indexOf(e).call(e,"%")!==-1||indexOf(e).call(e,"px")!==-1)return e;if(indexOf(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Hammer(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Hammer.DIRECTION_ALL}),onTouch(this.hammer,function(o){e.body.eventListeners.onTouch(o)}),this.hammer.on("tap",function(o){e.body.eventListeners.onTap(o)}),this.hammer.on("doubletap",function(o){e.body.eventListeners.onDoubleTap(o)}),this.hammer.on("press",function(o){e.body.eventListeners.onHold(o)}),this.hammer.on("panstart",function(o){e.body.eventListeners.onDragStart(o)}),this.hammer.on("panmove",function(o){e.body.eventListeners.onDrag(o)}),this.hammer.on("panend",function(o){e.body.eventListeners.onDragEnd(o)}),this.hammer.on("pinch",function(o){e.body.eventListeners.onPinch(o)}),this.frame.canvas.addEventListener("wheel",function(o){e.body.eventListeners.onMouseWheel(o)}),this.frame.canvas.addEventListener("mousemove",function(o){e.body.eventListeners.onMouseMove(o)}),this.frame.canvas.addEventListener("contextmenu",function(o){e.body.eventListeners.onContext(o)}),this.hammerFrame=new Hammer(this.frame),onRelease(this.hammerFrame,function(o){e.body.eventListeners.onRelease(o)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),o=this._prepareValue(o);var l=!1,h=this.frame.canvas.width,y=this.frame.canvas.height,O=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||o!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=o)this._getCameraState(O),this.frame.style.width=e,this.frame.style.height=o,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=o,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},l=!0;else{var D=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),R=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==D||this.frame.canvas.height!==R)&&this._getCameraState(O),this.frame.canvas.width!==D&&(this.frame.canvas.width=D,l=!0),this.frame.canvas.height!==R&&(this.frame.canvas.height=R,l=!0)}return l===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(h/this.pixelRatio),oldHeight:Math.round(y/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,l}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var o=1;typeof window!="undefined"&&(o=window.devicePixelRatio||1);var l=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return o/l}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),r}();function normalizeFitOptions(r,t){var e=assign$2({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},r!=null?r:{});if(!isArray$1(e.nodes))throw new TypeError("Nodes has to be an array of ids.");if(e.nodes.length===0&&(e.nodes=t),!(typeof e.minZoomLevel=="number"&&e.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof e.maxZoomLevel=="number"&&e.minZoomLevel<=e.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return e}var View=function(){function r(t,e){var o,l=this,h;_classCallCheck(this,r),this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",bind$5(o=this.fit).call(o,this)),this.body.emitter.on("animationFinished",function(){l.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",bind$5(h=this.releaseNode).call(h,this))}return _createClass(r,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=normalizeFitOptions(e,this.body.nodeIndices);var l=this.canvas.frame.canvas.clientWidth,h=this.canvas.frame.canvas.clientHeight,y,O;if(l===0||h===0)O=1,y=NetworkUtil.getRange(this.body.nodes,e.nodes);else if(o===!0){var D=0;for(var R in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,R)){var F=this.body.nodes[R];F.predefinedPosition===!0&&(D+=1)}if(D>.5*this.body.nodeIndices.length){this.fit(e,!1);return}y=NetworkUtil.getRange(this.body.nodes,e.nodes);var j=this.body.nodeIndices.length;O=12.662/(j+7.4147)+.0964822;var B=Math.min(l/600,h/600);O*=B}else{this.body.emitter.emit("_resizeNodes"),y=NetworkUtil.getRange(this.body.nodes,e.nodes);var U=Math.abs(y.maxX-y.minX)*1.1,W=Math.abs(y.maxY-y.minY)*1.1,q=l/U,K=h/W;O=q<=K?q:K}O>e.maxZoomLevel?O=e.maxZoomLevel:O<e.minZoomLevel&&(O=e.minZoomLevel);var Y=NetworkUtil.findCenter(y),X={position:Y,scale:O,animation:e.animation};this.moveTo(X)}},{key:"focus",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var l={x:this.body.nodes[e].x,y:this.body.nodes[e].y};o.position=l,o.lockedOnNode=e,this.moveTo(o)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!_isFinite(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!_isFinite(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!_isFinite(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!_isFinite(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),l={x:o.x-e.position.x,y:o.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+l.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+l.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var h;this.viewFunction=bind$5(h=this._lockedRedraw).call(h,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var y;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=bind$5(y=this._transitionRedraw).call(y,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),l={x:o.x-e.x,y:o.y-e.y},h=this.body.view.translation,y={x:h.x+l.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:h.y+l.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=y}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var o=easingFunctions[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*o,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*o,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*o},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var l;this.viewFunction=bind$5(l=this._lockedRedraw).call(l,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),r}();function keycharm(r){var t=r&&r.preventDefault||!1,e=r&&r.container||window,o={},l={keydown:{},keyup:{}},h={},y;for(y=97;y<=122;y++)h[String.fromCharCode(y)]={code:65+(y-97),shift:!1};for(y=65;y<=90;y++)h[String.fromCharCode(y)]={code:y,shift:!0};for(y=0;y<=9;y++)h[""+y]={code:48+y,shift:!1};for(y=1;y<=12;y++)h["F"+y]={code:111+y,shift:!1};for(y=0;y<=9;y++)h["num"+y]={code:96+y,shift:!1};h["num*"]={code:106,shift:!1},h["num+"]={code:107,shift:!1},h["num-"]={code:109,shift:!1},h["num/"]={code:111,shift:!1},h["num."]={code:110,shift:!1},h.left={code:37,shift:!1},h.up={code:38,shift:!1},h.right={code:39,shift:!1},h.down={code:40,shift:!1},h.space={code:32,shift:!1},h.enter={code:13,shift:!1},h.shift={code:16,shift:void 0},h.esc={code:27,shift:!1},h.backspace={code:8,shift:!1},h.tab={code:9,shift:!1},h.ctrl={code:17,shift:!1},h.alt={code:18,shift:!1},h.delete={code:46,shift:!1},h.pageup={code:33,shift:!1},h.pagedown={code:34,shift:!1},h["="]={code:187,shift:!1},h["-"]={code:189,shift:!1},h["]"]={code:221,shift:!1},h["["]={code:219,shift:!1};var O=function(F){R(F,"keydown")},D=function(F){R(F,"keyup")},R=function(F,j){if(l[j][F.keyCode]!==void 0){for(var B=l[j][F.keyCode],U=0;U<B.length;U++)(B[U].shift===void 0||B[U].shift==!0&&F.shiftKey==!0||B[U].shift==!1&&F.shiftKey==!1)&&B[U].fn(F);t==!0&&F.preventDefault()}};return o.bind=function(F,j,B){if(B===void 0&&(B="keydown"),h[F]===void 0)throw new Error("unsupported key: "+F);l[B][h[F].code]===void 0&&(l[B][h[F].code]=[]),l[B][h[F].code].push({fn:j,shift:h[F].shift})},o.bindAll=function(F,j){j===void 0&&(j="keydown");for(var B in h)h.hasOwnProperty(B)&&o.bind(B,F,j)},o.getKey=function(F){for(var j in h)if(h.hasOwnProperty(j)){if(F.shiftKey==!0&&h[j].shift==!0&&F.keyCode==h[j].code)return j;if(F.shiftKey==!1&&h[j].shift==!1&&F.keyCode==h[j].code)return j;if(F.keyCode==h[j].code&&j=="shift")return j}return"unknown key, currently not supported"},o.unbind=function(F,j,B){if(B===void 0&&(B="keydown"),h[F]===void 0)throw new Error("unsupported key: "+F);if(j!==void 0){var U=[],W=l[B][h[F].code];if(W!==void 0)for(var q=0;q<W.length;q++)W[q].fn==j&&W[q].shift==h[F].shift||U.push(l[B][h[F].code][q]);l[B][h[F].code]=U}else l[B][h[F].code]=[]},o.reset=function(){l={keydown:{},keyup:{}}},o.destroy=function(){l={keydown:{},keyup:{}},e.removeEventListener("keydown",O,!0),e.removeEventListener("keyup",D,!0)},e.addEventListener("keydown",O,!0),e.addEventListener("keyup",D,!0),o}var NavigationHandler=function(){function r(t,e){var o=this;_classCallCheck(this,r),this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){o.activated=!0,o.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){o.activated=!1,o.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){o.keycharm!==void 0&&o.keycharm.destroy()}),this.options={}}return _createClass(r,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var o=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],l=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var h=0;h<o.length;h++){this.navigationDOM[o[h]]=document.createElement("div"),this.navigationDOM[o[h]].className="vis-button vis-"+o[h],this.navigationDOM.wrapper.appendChild(this.navigationDOM[o[h]]);var y=new Hammer(this.navigationDOM[o[h]]);if(l[h]==="_fit"){var O;onTouch(y,bind$5(O=this._fit).call(O,this))}else{var D;onTouch(y,bind$5(D=this.bindToRedraw).call(D,this,l[h]))}this.navigationHammers.push(y)}var R=new Hammer(this.canvas.frame);onRelease(R,function(){e._stopMovement()}),this.navigationHammers.push(R),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){if(this.boundFunctions[e]===void 0){var o;this.boundFunctions[e]=bind$5(o=this[e]).call(o,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,o=this.body.view.scale*(1+this.options.keyboard.speed.zoom),l=this.body.view.translation,h=o/e,y=(1-h)*this.canvas.canvasViewCenter.x+l.x*h,O=(1-h)*this.canvas.canvasViewCenter.y+l.y*h;this.body.view.scale=o,this.body.view.translation={x:y,y:O},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,o=this.body.view.scale/(1+this.options.keyboard.speed.zoom),l=this.body.view.translation,h=o/e,y=(1-h)*this.canvas.canvasViewCenter.x+l.x*h,O=(1-h)*this.canvas.canvasViewCenter.y+l.y*h;this.body.view.scale=o,this.body.view.translation={x:y,y:O},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=keycharm({container:window,preventDefault:!0}):this.keycharm=keycharm({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae;bind$5(o=this.keycharm).call(o,"up",function(){e.bindToRedraw("_moveUp")},"keydown"),bind$5(l=this.keycharm).call(l,"down",function(){e.bindToRedraw("_moveDown")},"keydown"),bind$5(h=this.keycharm).call(h,"left",function(){e.bindToRedraw("_moveLeft")},"keydown"),bind$5(y=this.keycharm).call(y,"right",function(){e.bindToRedraw("_moveRight")},"keydown"),bind$5(O=this.keycharm).call(O,"=",function(){e.bindToRedraw("_zoomIn")},"keydown"),bind$5(D=this.keycharm).call(D,"num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),bind$5(R=this.keycharm).call(R,"num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),bind$5(F=this.keycharm).call(F,"-",function(){e.bindToRedraw("_zoomOut")},"keydown"),bind$5(j=this.keycharm).call(j,"[",function(){e.bindToRedraw("_zoomOut")},"keydown"),bind$5(B=this.keycharm).call(B,"]",function(){e.bindToRedraw("_zoomIn")},"keydown"),bind$5(U=this.keycharm).call(U,"pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),bind$5(W=this.keycharm).call(W,"pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),bind$5(q=this.keycharm).call(q,"up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),bind$5(K=this.keycharm).call(K,"down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),bind$5(Y=this.keycharm).call(Y,"left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),bind$5(X=this.keycharm).call(X,"right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),bind$5(J=this.keycharm).call(J,"=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(Q=this.keycharm).call(Q,"num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(Z=this.keycharm).call(Z,"num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),bind$5(ee=this.keycharm).call(ee,"-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),bind$5(re=this.keycharm).call(re,"[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),bind$5(te=this.keycharm).call(te,"]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(ne=this.keycharm).call(ne,"pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),bind$5(ae=this.keycharm).call(ae,"pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")}}}]),r}();function _createForOfIteratorHelper$4(r,t){var e=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!e){if(isArray$1(r)||(e=_unsupportedIterableToArray$4(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$4(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$4(r,t);var o=slice(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$4(r,t)}}function _arrayLikeToArray$4(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}var InteractionHandler=function(){function r(t,e,o){var l,h,y,O,D,R,F,j,B,U,W,q,K;_classCallCheck(this,r),this.body=t,this.canvas=e,this.selectionHandler=o,this.navigationHandler=new NavigationHandler(t,e),this.body.eventListeners.onTap=bind$5(l=this.onTap).call(l,this),this.body.eventListeners.onTouch=bind$5(h=this.onTouch).call(h,this),this.body.eventListeners.onDoubleTap=bind$5(y=this.onDoubleTap).call(y,this),this.body.eventListeners.onHold=bind$5(O=this.onHold).call(O,this),this.body.eventListeners.onDragStart=bind$5(D=this.onDragStart).call(D,this),this.body.eventListeners.onDrag=bind$5(R=this.onDrag).call(R,this),this.body.eventListeners.onDragEnd=bind$5(F=this.onDragEnd).call(F,this),this.body.eventListeners.onMouseWheel=bind$5(j=this.onMouseWheel).call(j,this),this.body.eventListeners.onPinch=bind$5(B=this.onPinch).call(B,this),this.body.eventListeners.onMouseMove=bind$5(U=this.onMouseMove).call(U,this),this.body.eventListeners.onRelease=bind$5(W=this.onRelease).call(W,this),this.body.eventListeners.onContext=bind$5(q=this.onContext).call(q,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=bind$5(K=this.getPointer).call(K,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},assign$2(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(e!==void 0){var o=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];selectiveNotDeepExtend(o,this.options,e),mergeOptions(this.options,e,"keyboard"),e.tooltip&&(assign$2(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=parseColor(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var o=this.getPointer(e.center),l=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(o,l),this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("click",e,o)}},{key:"onDoubleTap",value:function(e){var o=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,o)}},{key:"onHold",value:function(e){var o=this.getPointer(e.center),l=this.selectionHandler.options.multiselect;this.checkSelectionChanges(o,l),this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("click",e,o),this.selectionHandler.generateClickEvent("hold",e,o)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var o=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,o),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var o=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,o)}},{key:"checkSelectionChanges",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,o){var l=function(y,O){for(var D=[],R=0;R<y.length;R++){var F=y[R];indexOf(O).call(O,F)===-1&&D.push(F)}return D};return{nodes:l(e.nodes,o.nodes),edges:l(e.edges,o.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var o=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=assign$2({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var l=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(l.x),y:this.canvas._YconvertDOMtoCanvas(l.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(l.x),y:this.canvas._YconvertDOMtoCanvas(l.y)}}if(o!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=o.id,o.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[o.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var h=_createForOfIteratorHelper$4(this.selectionHandler.getSelectedNodes()),y;try{for(h.s();!(y=h.n()).done;){var O=y.value,D={id:O.id,node:O,x:O.x,y:O.y,xFixed:O.options.fixed.x,yFixed:O.options.fixed.y};O.options.fixed.x=!0,O.options.fixed.y=!0,this.drag.selection.push(D)}}catch(R){h.e(R)}finally{h.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var o=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var l=this.getPointer(e.center),h=this.drag.selection;if(h&&h.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,l);var y=l.x-this.drag.pointer.x,O=l.y-this.drag.pointer.y;forEach$2(h).call(h,function(F){var j=F.node;F.xFixed===!1&&(j.x=o.canvas._XconvertDOMtoCanvas(o.canvas._XconvertCanvasToDOM(F.x)+y)),F.yFixed===!1&&(j.y=o.canvas._YconvertDOMtoCanvas(o.canvas._YconvertCanvasToDOM(F.y)+O))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,l,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(l.x),y:this.canvas._YconvertDOMtoCanvas(l.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,l,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}var D=l.x-this.drag.pointer.x,R=l.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+D,y:this.drag.translation.y+R},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var o=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var l;this.body.selectionBox.show=!1;var h=this.body.selectionBox.position,y={minX:Math.min(h.start.x,h.end.x),minY:Math.min(h.start.y,h.end.y),maxX:Math.max(h.start.x,h.end.x),maxY:Math.max(h.start.y,h.end.y)},O=filter(l=this.body.nodeIndices).call(l,function(F){var j=o.body.nodes[F];return j.x>=y.minX&&j.x<=y.maxX&&j.y>=y.minY&&j.y<=y.maxY});forEach$2(O).call(O,function(F){return o.selectionHandler.selectObject(o.body.nodes[F])});var D=this.getPointer(e.center);this.selectionHandler.commitAndEmit(D,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var R=this.drag.selection;R&&R.length?(forEach$2(R).call(R,function(F){F.node.options.fixed.x=F.xFixed,F.node.options.fixed.y=F.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var o=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var l=this.pinch.scale*e.scale;this.zoom(l,o)}},{key:"zoom",value:function(e,o){if(this.options.zoomView===!0){var l=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var h=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(h=this.canvas.DOMtoCanvas(this.drag.pointer));var y=this.body.view.translation,O=e/l,D=(1-O)*o.x+y.x*O,R=(1-O)*o.y+y.y*O;if(this.body.view.scale=e,this.body.view.translation={x:D,y:R},h!=null){var F=this.canvas.canvasToDOM(h);this.drag.pointer.x=F.x,this.drag.pointer.y=F.y}this.body.emitter.emit("_requestRedraw"),l<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:o}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:o})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var o=this.body.view.scale;o*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var l=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(o,l)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var o=this,l=this.getPointer({x:e.clientX,y:e.clientY}),h=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(l),this.popup.hidden===!1&&(h=!0,this.popup.setPosition(l.x+3,l.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),h===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout$1(function(){return o._checkShowPopup(l)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,l)}},{key:"_checkShowPopup",value:function(e){var o=this.canvas._XconvertDOMtoCanvas(e.x),l=this.canvas._YconvertDOMtoCanvas(e.y),h={left:o,top:l,right:o,bottom:l},y=this.popupObj===void 0?void 0:this.popupObj.id,O=!1,D="node";if(this.popupObj===void 0){for(var R=this.body.nodeIndices,F=this.body.nodes,j,B=[],U=0;U<R.length;U++)j=F[R[U]],j.isOverlappingWith(h)===!0&&(O=!0,j.getTitle()!==void 0&&B.push(R[U]));B.length>0&&(this.popupObj=F[B[B.length-1]],O=!0)}if(this.popupObj===void 0&&O===!1){for(var W=this.body.edgeIndices,q=this.body.edges,K,Y=[],X=0;X<W.length;X++)K=q[W[X]],K.isOverlappingWith(h)===!0&&K.connected===!0&&K.getTitle()!==void 0&&Y.push(W[X]);Y.length>0&&(this.popupObj=q[Y[Y.length-1]],D="edge")}this.popupObj!==void 0?this.popupObj.id!==y&&(this.popup===void 0&&(this.popup=new Popup(this.canvas.frame)),this.popup.popupTargetType=D,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var o=this.selectionHandler._pointerToPositionObject(e),l=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(l=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(o),l===!0)){var h=this.selectionHandler.getNodeAt(e);l=h===void 0?!1:h.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(l=this.body.edges[this.popup.popupTargetId].isOverlappingWith(o));l===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),r}(),collection$1=collection$3,collectionStrong=collectionStrong$2;collection$1("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},collectionStrong);var path$1=path$y,set$2=path$1.Set,parent$4=set$2,set$1$1=parent$4,set$4=set$1$1,uncurryThis$2=functionUncurryThis,redefineAll$1=redefineAll$3,getWeakData=internalMetadata.exports.getWeakData,anObject=anObject$d,isObject$1=isObject$j,anInstance=anInstance$3,iterate=iterate$3,ArrayIterationModule=arrayIteration,hasOwn=hasOwnProperty_1,InternalStateModule=internalState,setInternalState=InternalStateModule.set,internalStateGetterFor=InternalStateModule.getterFor,find=ArrayIterationModule.find,findIndex=ArrayIterationModule.findIndex,splice=uncurryThis$2([].splice),id=0,uncaughtFrozenStore=function(r){return r.frozen||(r.frozen=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.entries=[]},findUncaughtFrozen=function(r,t){return find(r.entries,function(e){return e[0]===t})};UncaughtFrozenStore.prototype={get:function(r){var t=findUncaughtFrozen(this,r);if(t)return t[1]},has:function(r){return!!findUncaughtFrozen(this,r)},set:function(r,t){var e=findUncaughtFrozen(this,r);e?e[1]=t:this.entries.push([r,t])},delete:function(r){var t=findIndex(this.entries,function(e){return e[0]===r});return~t&&splice(this.entries,t,1),!!~t}};var collectionWeak$1={getConstructor:function(r,t,e,o){var l=r(function(D,R){anInstance(D,h),setInternalState(D,{type:t,id:id++,frozen:void 0}),R!=null&&iterate(R,D[o],{that:D,AS_ENTRIES:e})}),h=l.prototype,y=internalStateGetterFor(t),O=function(D,R,F){var j=y(D),B=getWeakData(anObject(R),!0);return B===!0?uncaughtFrozenStore(j).set(R,F):B[j.id]=F,D};return redefineAll$1(h,{delete:function(D){var R=y(this);if(!isObject$1(D))return!1;var F=getWeakData(D);return F===!0?uncaughtFrozenStore(R).delete(D):F&&hasOwn(F,R.id)&&delete F[R.id]},has:function(R){var F=y(this);if(!isObject$1(R))return!1;var j=getWeakData(R);return j===!0?uncaughtFrozenStore(F).has(R):j&&hasOwn(j,F.id)}}),redefineAll$1(h,e?{get:function(R){var F=y(this);if(isObject$1(R)){var j=getWeakData(R);return j===!0?uncaughtFrozenStore(F).get(R):j?j[F.id]:void 0}},set:function(R,F){return O(this,R,F)}}:{add:function(R){return O(this,R,!0)}}),l}},global$3=global$O,uncurryThis$1=functionUncurryThis,redefineAll=redefineAll$3,InternalMetadataModule=internalMetadata.exports,collection=collection$3,collectionWeak=collectionWeak$1,isObject$k=isObject$j,isExtensible=objectIsExtensible,enforceInternalState=internalState.enforce,NATIVE_WEAK_MAP=nativeWeakMap,IS_IE11=!global$3.ActiveXObject&&"ActiveXObject"in global$3,InternalWeakMap,wrapper=function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},$WeakMap=collection("WeakMap",wrapper,collectionWeak);if(NATIVE_WEAK_MAP&&IS_IE11){InternalWeakMap=collectionWeak.getConstructor(wrapper,"WeakMap",!0),InternalMetadataModule.enable();var WeakMapPrototype=$WeakMap.prototype,nativeDelete=uncurryThis$1(WeakMapPrototype.delete),nativeHas=uncurryThis$1(WeakMapPrototype.has),nativeGet=uncurryThis$1(WeakMapPrototype.get),nativeSet=uncurryThis$1(WeakMapPrototype.set);redefineAll(WeakMapPrototype,{delete:function(r){if(isObject$k(r)&&!isExtensible(r)){var t=enforceInternalState(this);return t.frozen||(t.frozen=new InternalWeakMap),nativeDelete(this,r)||t.frozen.delete(r)}return nativeDelete(this,r)},has:function(t){if(isObject$k(t)&&!isExtensible(t)){var e=enforceInternalState(this);return e.frozen||(e.frozen=new InternalWeakMap),nativeHas(this,t)||e.frozen.has(t)}return nativeHas(this,t)},get:function(t){if(isObject$k(t)&&!isExtensible(t)){var e=enforceInternalState(this);return e.frozen||(e.frozen=new InternalWeakMap),nativeHas(this,t)?nativeGet(this,t):e.frozen.get(t)}return nativeGet(this,t)},set:function(t,e){if(isObject$k(t)&&!isExtensible(t)){var o=enforceInternalState(this);o.frozen||(o.frozen=new InternalWeakMap),nativeHas(this,t)?nativeSet(this,t,e):o.frozen.set(t,e)}else nativeSet(this,t,e);return this}})}var path=path$y,weakMap$2=path.WeakMap,parent$3=weakMap$2,weakMap$1=parent$3,weakMap=weakMap$1;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __classPrivateFieldGet(r,t,e,o){if(e==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?o:e==="a"?o.call(r):o?o.value:t.get(r)}function __classPrivateFieldSet(r,t,e,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!l:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(r,e):l?l.value=e:t.set(r,e),e}function _createForOfIteratorHelper$3(r,t){var e=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!e){if(isArray$1(r)||(e=_unsupportedIterableToArray$3(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$3(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$3(r,t);var o=slice(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$3(r,t)}}function _arrayLikeToArray$3(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}var _SingleTypeSelectionAccumulator_previousSelection,_SingleTypeSelectionAccumulator_selection,_SelectionAccumulator_nodes,_SelectionAccumulator_edges,_SelectionAccumulator_commitHandler;function diffSets(r,t){var e=new set$4,o=_createForOfIteratorHelper$3(t),l;try{for(o.s();!(l=o.n()).done;){var h=l.value;r.has(h)||e.add(h)}}catch(y){o.e(y)}finally{o.f()}return e}var SingleTypeSelectionAccumulator=function(){function r(){_classCallCheck(this,r),_SingleTypeSelectionAccumulator_previousSelection.set(this,new set$4),_SingleTypeSelectionAccumulator_selection.set(this,new set$4)}return _createClass(r,[{key:"size",get:function(){return __classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").size}},{key:"add",value:function(){for(var e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];for(var h=0,y=o;h<y.length;h++){var O=y[h];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").add(O)}}},{key:"delete",value:function(){for(var e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];for(var h=0,y=o;h<y.length;h++){var O=y[h];__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").delete(O)}}},{key:"clear",value:function(){__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f").clear()}},{key:"getSelection",value:function(){return _toConsumableArray(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))}},{key:"getChanges",value:function(){return{added:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"))),deleted:_toConsumableArray(diffSets(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"),__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),previous:_toConsumableArray(new set$4(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f"))),current:_toConsumableArray(new set$4(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_previousSelection,__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_selection,"f"),"f"),__classPrivateFieldSet(this,_SingleTypeSelectionAccumulator_selection,new set$4(__classPrivateFieldGet(this,_SingleTypeSelectionAccumulator_previousSelection,"f")),"f");var o=_createForOfIteratorHelper$3(e.added),l;try{for(o.s();!(l=o.n()).done;){var h=l.value;h.select()}}catch(R){o.e(R)}finally{o.f()}var y=_createForOfIteratorHelper$3(e.deleted),O;try{for(y.s();!(O=y.n()).done;){var D=O.value;D.unselect()}}catch(R){y.e(R)}finally{y.f()}return e}}]),r}();_SingleTypeSelectionAccumulator_previousSelection=new weakMap,_SingleTypeSelectionAccumulator_selection=new weakMap;var SelectionAccumulator=function(){function r(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};_classCallCheck(this,r),_SelectionAccumulator_nodes.set(this,new SingleTypeSelectionAccumulator),_SelectionAccumulator_edges.set(this,new SingleTypeSelectionAccumulator),_SelectionAccumulator_commitHandler.set(this,void 0),__classPrivateFieldSet(this,_SelectionAccumulator_commitHandler,t,"f")}return _createClass(r,[{key:"sizeNodes",get:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").size}},{key:"sizeEdges",get:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").size}},{key:"getNodes",value:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").getSelection()}},{key:"getEdges",value:function(){return __classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").delete(e)}},{key:"deleteEdges",value:function(e){__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").delete(e)}},{key:"clear",value:function(){__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").clear(),__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").clear()}},{key:"commit",value:function(){for(var e,o,l={nodes:__classPrivateFieldGet(this,_SelectionAccumulator_nodes,"f").commit(),edges:__classPrivateFieldGet(this,_SelectionAccumulator_edges,"f").commit()},h=arguments.length,y=new Array(h),O=0;O<h;O++)y[O]=arguments[O];return(e=__classPrivateFieldGet(this,_SelectionAccumulator_commitHandler,"f")).call.apply(e,concat(o=[this,l]).call(o,y)),l}}]),r}();_SelectionAccumulator_nodes=new weakMap,_SelectionAccumulator_edges=new weakMap,_SelectionAccumulator_commitHandler=new weakMap;function _createForOfIteratorHelper$2(r,t){var e=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!e){if(isArray$1(r)||(e=_unsupportedIterableToArray$2(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$2(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$2(r,t);var o=slice(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$2(r,t)}}function _arrayLikeToArray$2(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}var SelectionHandler=function(){function r(t,e){var o=this;_classCallCheck(this,r),this.body=t,this.canvas=e,this._selectionAccumulator=new SelectionAccumulator,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},assign$2(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}return _createClass(r,[{key:"setOptions",value:function(e){if(e!==void 0){var o=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];selectiveDeepExtend(o,this.options,e)}}},{key:"selectOnPoint",value:function(e){var o=!1;if(this.options.selectable===!0){var l=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),l!==void 0&&(o=this.selectObject(l)),this.body.emitter.emit("_requestRedraw")}return o}},{key:"selectAdditionalOnPoint",value:function(e){var o=!1;if(this.options.selectable===!0){var l=this.getNodeAt(e)||this.getEdgeAt(e);l!==void 0&&(o=!0,l.isSelected()===!0?this.deselectObject(l):this.selectObject(l),this.body.emitter.emit("_requestRedraw"))}return o}},{key:"_initBaseEvent",value:function(e,o){var l={};return l.pointer={DOM:{x:o.x,y:o.y},canvas:this.canvas.DOMtoCanvas(o)},l.event=e,l}},{key:"generateClickEvent",value:function(e,o,l,h){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,O=this._initBaseEvent(o,l);if(y===!0)O.nodes=[],O.edges=[];else{var D=this.getSelection();O.nodes=D.nodes,O.edges=D.edges}h!==void 0&&(O.previousSelection=h),e=="click"&&(O.items=this.getClickedItems(l)),o.controlEdge!==void 0&&(O.controlEdge=o.controlEdge),this.body.emitter.emit(e,O)}},{key:"selectObject",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof Node$1){if(o===!0){var l;(l=this._selectionAccumulator).addEdges.apply(l,_toConsumableArray(e.edges))}this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var o=[],l=this.body.nodes,h=0;h<this.body.nodeIndices.length;h++){var y=this.body.nodeIndices[h];l[y].isOverlappingWith(e)&&o.push(y)}return o}},{key:"_pointerToPositionObject",value:function(e){var o=this.canvas.DOMtoCanvas(e);return{left:o.x-1,top:o.y+1,right:o.x+1,bottom:o.y-1}}},{key:"getNodeAt",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=this._pointerToPositionObject(e),h=this._getAllNodesOverlappingWith(l);if(h.length>0)return o===!0?this.body.nodes[h[h.length-1]]:h[h.length-1]}},{key:"_getEdgesOverlappingWith",value:function(e,o){for(var l=this.body.edges,h=0;h<this.body.edgeIndices.length;h++){var y=this.body.edgeIndices[h];l[y].isOverlappingWith(e)&&o.push(y)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var o=[];return this._getEdgesOverlappingWith(e,o),o}},{key:"getEdgeAt",value:function(e){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=this.canvas.DOMtoCanvas(e),h=10,y=null,O=this.body.edges,D=0;D<this.body.edgeIndices.length;D++){var R=this.body.edgeIndices[D],F=O[R];if(F.connected){var j=F.from.x,B=F.from.y,U=F.to.x,W=F.to.y,q=F.edgeType.getDistanceToEdge(j,B,U,W,l.x,l.y);q<h&&(y=R,h=q)}}if(y!==null)return o===!0?this.body.edges[y]:y}},{key:"_addToHover",value:function(e){e instanceof Node$1?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){if(e instanceof Node$1){var o;this._selectionAccumulator.deleteNodes(e),(o=this._selectionAccumulator).deleteEdges.apply(o,_toConsumableArray(e.edges))}else this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var o=0;o<e.edges.length;o++){var l=e.edges[o];l.hover=!0,this._addToHover(l)}}},{key:"emitBlurEvent",value:function(e,o,l){var h=this._initBaseEvent(e,o);l.hover===!0&&(l.hover=!1,l instanceof Node$1?(h.node=l.id,this.body.emitter.emit("blurNode",h)):(h.edge=l.id,this.body.emitter.emit("blurEdge",h)))}},{key:"emitHoverEvent",value:function(e,o,l){var h=this._initBaseEvent(e,o),y=!1;return l.hover===!1&&(l.hover=!0,this._addToHover(l),y=!0,l instanceof Node$1?(h.node=l.id,this.body.emitter.emit("hoverNode",h)):(h.edge=l.id,this.body.emitter.emit("hoverEdge",h))),y}},{key:"hoverObject",value:function(e,o){var l=this.getNodeAt(o);l===void 0&&(l=this.getEdgeAt(o));var h=!1;for(var y in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,y)&&(l===void 0||l instanceof Node$1&&l.id!=y||l instanceof Edge)&&(this.emitBlurEvent(e,o,this.hoverObj.nodes[y]),delete this.hoverObj.nodes[y],h=!0);for(var O in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,O)&&(h===!0?(this.hoverObj.edges[O].hover=!1,delete this.hoverObj.edges[O]):(l===void 0||l instanceof Edge&&l.id!=O||l instanceof Node$1&&!l.hover)&&(this.emitBlurEvent(e,o,this.hoverObj.edges[O]),delete this.hoverObj.edges[O],h=!0));if(l!==void 0){var D=keys(this.hoverObj.edges).length,R=keys(this.hoverObj.nodes).length,F=l instanceof Edge&&D===0&&R===0,j=l instanceof Node$1&&D===0&&R===0;(h||F||j)&&(h=this.emitHoverEvent(e,o,l)),l instanceof Node$1&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(l)}h===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,o){var l=!1,h=this._selectionAccumulator.commit(),y={nodes:h.nodes.previous,edges:h.edges.previous};h.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",o,e,y),l=!0),h.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",o,e,y),l=!0),h.nodes.added.length>0&&(this.generateClickEvent("selectNode",o,e),l=!0),h.edges.added.length>0&&(this.generateClickEvent("selectEdge",o,e),l=!0),l===!0&&this.generateClickEvent("select",o,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return map$3(e=this._selectionAccumulator.getNodes()).call(e,function(o){return o.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return map$3(e=this._selectionAccumulator.getEdges()).call(e,function(o){return o.id})}},{key:"setSelection",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((o.unselectAll||o.unselectAll===void 0)&&this.unselectAll(),e.nodes){var l=_createForOfIteratorHelper$2(e.nodes),h;try{for(l.s();!(h=l.n()).done;){var y=h.value,O=this.body.nodes[y];if(!O)throw new RangeError('Node with id "'+y+'" not found');this.selectObject(O,o.highlightEdges)}}catch(B){l.e(B)}finally{l.f()}}if(e.edges){var D=_createForOfIteratorHelper$2(e.edges),R;try{for(D.s();!(R=D.n()).done;){var F=R.value,j=this.body.edges[F];if(!j)throw new RangeError('Edge with id "'+F+'" not found');this.selectObject(j)}}catch(B){D.e(B)}finally{D.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:o})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var o in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,o.id)||this._selectionAccumulator.deleteEdges(o)}},{key:"getClickedItems",value:function(e){for(var o=this.canvas.DOMtoCanvas(e),l=[],h=this.body.nodeIndices,y=this.body.nodes,O=h.length-1;O>=0;O--){var D=y[h[O]],R=D.getItemsOnPoint(o);l.push.apply(l,R)}for(var F=this.body.edgeIndices,j=this.body.edges,B=F.length-1;B>=0;B--){var U=j[F[B]],W=U.getItemsOnPoint(o);l.push.apply(l,W)}return l}}]),r}(),arraySlice=arraySliceSimple,floor=Math.floor,mergeSort=function(r,t){var e=r.length,o=floor(e/2);return e<8?insertionSort(r,t):merge$3(r,mergeSort(arraySlice(r,0,o),t),mergeSort(arraySlice(r,o),t),t)},insertionSort=function(r,t){for(var e=r.length,o=1,l,h;o<e;){for(h=o,l=r[o];h&&t(r[h-1],l)>0;)r[h]=r[--h];h!==o++&&(r[h]=l)}return r},merge$3=function(r,t,e,o){for(var l=t.length,h=e.length,y=0,O=0;y<l||O<h;)r[y+O]=y<l&&O<h?o(t[y],e[O])<=0?t[y++]:e[O++]:y<l?t[y++]:e[O++];return r},arraySort=mergeSort,userAgent$1=engineUserAgent,firefox=userAgent$1.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],UA=engineUserAgent,engineIsIeOrEdge=/MSIE|Trident/.test(UA),userAgent=engineUserAgent,webkit=userAgent.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit&&+webkit[1],$$2=_export,uncurryThis=functionUncurryThis,aCallable$1=aCallable$6,toObject$1=toObject$d,lengthOfArrayLike$1=lengthOfArrayLike$b,toString=toString$8,fails=fails$t,internalSort=arraySort,arrayMethodIsStrict$2=arrayMethodIsStrict$6,FF=engineFfVersion,IE_OR_EDGE=engineIsIeOrEdge,V8=engineV8Version,WEBKIT=engineWebkitVersion,test=[],un$Sort=uncurryThis(test.sort),push=uncurryThis(test.push),FAILS_ON_UNDEFINED=fails(function(){test.sort(void 0)}),FAILS_ON_NULL=fails(function(){test.sort(null)}),STRICT_METHOD$2=arrayMethodIsStrict$2("sort"),STABLE_SORT=!fails(function(){if(V8)return V8<70;if(!(FF&&FF>3)){if(IE_OR_EDGE)return!0;if(WEBKIT)return WEBKIT<603;var r="",t,e,o,l;for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(l=0;l<47;l++)test.push({k:e+l,v:o})}for(test.sort(function(h,y){return y.v-h.v}),l=0;l<test.length;l++)e=test[l].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return r!=="DGBEFHACIJK"}}),FORCED=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD$2||!STABLE_SORT,getSortCompare=function(r){return function(t,e){return e===void 0?-1:t===void 0?1:r!==void 0?+r(t,e)||0:toString(t)>toString(e)?1:-1}};$$2({target:"Array",proto:!0,forced:FORCED},{sort:function r(t){t!==void 0&&aCallable$1(t);var e=toObject$1(this);if(STABLE_SORT)return t===void 0?un$Sort(e):un$Sort(e,t);var o=[],l=lengthOfArrayLike$1(e),h,y;for(y=0;y<l;y++)y in e&&push(o,e[y]);for(internalSort(o,getSortCompare(t)),h=o.length,y=0;y<h;)e[y]=o[y++];for(;y<l;)delete e[y++];return e}});var entryVirtual$2=entryVirtual$i,sort$3=entryVirtual$2("Array").sort,isPrototypeOf$2=objectIsPrototypeOf,method$2=sort$3,ArrayPrototype$2=Array.prototype,sort$2=function(r){var t=r.sort;return r===ArrayPrototype$2||isPrototypeOf$2(ArrayPrototype$2,r)&&t===ArrayPrototype$2.sort?method$2:t},parent$2=sort$2,sort$1=parent$2,sort=sort$1,global$2=global$O,aCallable=aCallable$6,toObject=toObject$d,IndexedObject=indexedObject,lengthOfArrayLike=lengthOfArrayLike$b,TypeError$1=global$2.TypeError,createMethod=function(r){return function(t,e,o,l){aCallable(e);var h=toObject(t),y=IndexedObject(h),O=lengthOfArrayLike(h),D=r?O-1:0,R=r?-1:1;if(o<2)for(;;){if(D in y){l=y[D],D+=R;break}if(D+=R,r?D<0:O<=D)throw TypeError$1("Reduce of empty array with no initial value")}for(;r?D>=0:O>D;D+=R)D in y&&(l=e(l,y[D],D,h));return l}},arrayReduce={left:createMethod(!1),right:createMethod(!0)},classof=classofRaw$1,global$1=global$O,engineIsNode=classof(global$1.process)=="process",$$1=_export,$reduce=arrayReduce.left,arrayMethodIsStrict$1=arrayMethodIsStrict$6,CHROME_VERSION=engineV8Version,IS_NODE=engineIsNode,STRICT_METHOD$1=arrayMethodIsStrict$1("reduce"),CHROME_BUG=!IS_NODE&&CHROME_VERSION>79&&CHROME_VERSION<83;$$1({target:"Array",proto:!0,forced:!STRICT_METHOD$1||CHROME_BUG},{reduce:function r(t){var e=arguments.length;return $reduce(this,t,e,e>1?arguments[1]:void 0)}});var entryVirtual$1=entryVirtual$i,reduce$3=entryVirtual$1("Array").reduce,isPrototypeOf$1=objectIsPrototypeOf,method$1=reduce$3,ArrayPrototype$1=Array.prototype,reduce$2=function(r){var t=r.reduce;return r===ArrayPrototype$1||isPrototypeOf$1(ArrayPrototype$1,r)&&t===ArrayPrototype$1.reduce?method$1:t},parent$1=reduce$2,reduce$1=parent$1,reduce=reduce$1,timsort$1={};(function(r){(function(t,e){e(r)})(commonjsGlobal,function(t){t.__esModule=!0,t.sort=K;function e(Y,X){if(!(Y instanceof X))throw new TypeError("Cannot call a class as a function")}var o=32,l=7,h=256,y=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function O(Y){return Y<1e5?Y<100?Y<10?0:1:Y<1e4?Y<1e3?2:3:4:Y<1e7?Y<1e6?5:6:Y<1e9?Y<1e8?7:8:9}function D(Y,X){if(Y===X)return 0;if(~~Y===Y&&~~X===X){if(Y===0||X===0)return Y<X?-1:1;if(Y<0||X<0){if(X>=0)return-1;if(Y>=0)return 1;Y=-Y,X=-X}var J=O(Y),Q=O(X),Z=0;return J<Q?(Y*=y[Q-J-1],X/=10,Z=-1):J>Q&&(X*=y[J-Q-1],Y/=10,Z=1),Y===X?Z:Y<X?-1:1}var ee=String(Y),re=String(X);return ee===re?0:ee<re?-1:1}function R(Y){for(var X=0;Y>=o;)X|=Y&1,Y>>=1;return Y+X}function F(Y,X,J,Q){var Z=X+1;if(Z===J)return 1;if(Q(Y[Z++],Y[X])<0){for(;Z<J&&Q(Y[Z],Y[Z-1])<0;)Z++;j(Y,X,Z)}else for(;Z<J&&Q(Y[Z],Y[Z-1])>=0;)Z++;return Z-X}function j(Y,X,J){for(J--;X<J;){var Q=Y[X];Y[X++]=Y[J],Y[J--]=Q}}function B(Y,X,J,Q,Z){for(Q===X&&Q++;Q<J;Q++){for(var ee=Y[Q],re=X,te=Q;re<te;){var ne=re+te>>>1;Z(ee,Y[ne])<0?te=ne:re=ne+1}var ae=Q-re;switch(ae){case 3:Y[re+3]=Y[re+2];case 2:Y[re+2]=Y[re+1];case 1:Y[re+1]=Y[re];break;default:for(;ae>0;)Y[re+ae]=Y[re+ae-1],ae--}Y[re]=ee}}function U(Y,X,J,Q,Z,ee){var re=0,te=0,ne=1;if(ee(Y,X[J+Z])>0){for(te=Q-Z;ne<te&&ee(Y,X[J+Z+ne])>0;)re=ne,ne=(ne<<1)+1,ne<=0&&(ne=te);ne>te&&(ne=te),re+=Z,ne+=Z}else{for(te=Z+1;ne<te&&ee(Y,X[J+Z-ne])<=0;)re=ne,ne=(ne<<1)+1,ne<=0&&(ne=te);ne>te&&(ne=te);var ae=re;re=Z-ne,ne=Z-ae}for(re++;re<ne;){var ie=re+(ne-re>>>1);ee(Y,X[J+ie])>0?re=ie+1:ne=ie}return ne}function W(Y,X,J,Q,Z,ee){var re=0,te=0,ne=1;if(ee(Y,X[J+Z])<0){for(te=Z+1;ne<te&&ee(Y,X[J+Z-ne])<0;)re=ne,ne=(ne<<1)+1,ne<=0&&(ne=te);ne>te&&(ne=te);var ae=re;re=Z-ne,ne=Z-ae}else{for(te=Q-Z;ne<te&&ee(Y,X[J+Z+ne])>=0;)re=ne,ne=(ne<<1)+1,ne<=0&&(ne=te);ne>te&&(ne=te),re+=Z,ne+=Z}for(re++;re<ne;){var ie=re+(ne-re>>>1);ee(Y,X[J+ie])<0?ne=ie:re=ie+1}return ne}var q=function(){function Y(X,J){e(this,Y),this.array=null,this.compare=null,this.minGallop=l,this.length=0,this.tmpStorageLength=h,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=X,this.compare=J,this.length=X.length,this.length<2*h&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return Y.prototype.pushRun=function(J,Q){this.runStart[this.stackSize]=J,this.runLength[this.stackSize]=Q,this.stackSize+=1},Y.prototype.mergeRuns=function(){for(;this.stackSize>1;){var J=this.stackSize-2;if(J>=1&&this.runLength[J-1]<=this.runLength[J]+this.runLength[J+1]||J>=2&&this.runLength[J-2]<=this.runLength[J]+this.runLength[J-1])this.runLength[J-1]<this.runLength[J+1]&&J--;else if(this.runLength[J]>this.runLength[J+1])break;this.mergeAt(J)}},Y.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var J=this.stackSize-2;J>0&&this.runLength[J-1]<this.runLength[J+1]&&J--,this.mergeAt(J)}},Y.prototype.mergeAt=function(J){var Q=this.compare,Z=this.array,ee=this.runStart[J],re=this.runLength[J],te=this.runStart[J+1],ne=this.runLength[J+1];this.runLength[J]=re+ne,J===this.stackSize-3&&(this.runStart[J+1]=this.runStart[J+2],this.runLength[J+1]=this.runLength[J+2]),this.stackSize--;var ae=W(Z[te],Z,ee,re,0,Q);ee+=ae,re-=ae,re!==0&&(ne=U(Z[ee+re-1],Z,te,ne,ne-1,Q),ne!==0&&(re<=ne?this.mergeLow(ee,re,te,ne):this.mergeHigh(ee,re,te,ne)))},Y.prototype.mergeLow=function(J,Q,Z,ee){var re=this.compare,te=this.array,ne=this.tmp,ae=0;for(ae=0;ae<Q;ae++)ne[ae]=te[J+ae];var ie=0,oe=Z,ce=J;if(te[ce++]=te[oe++],--ee===0){for(ae=0;ae<Q;ae++)te[ce+ae]=ne[ie+ae];return}if(Q===1){for(ae=0;ae<ee;ae++)te[ce+ae]=te[oe+ae];te[ce+ee]=ne[ie];return}for(var ue=this.minGallop;;){var pe=0,me=0,he=!1;do if(re(te[oe],ne[ie])<0){if(te[ce++]=te[oe++],me++,pe=0,--ee===0){he=!0;break}}else if(te[ce++]=ne[ie++],pe++,me=0,--Q===1){he=!0;break}while((pe|me)<ue);if(he)break;do{if(pe=W(te[oe],ne,ie,Q,0,re),pe!==0){for(ae=0;ae<pe;ae++)te[ce+ae]=ne[ie+ae];if(ce+=pe,ie+=pe,Q-=pe,Q<=1){he=!0;break}}if(te[ce++]=te[oe++],--ee===0){he=!0;break}if(me=U(ne[ie],te,oe,ee,0,re),me!==0){for(ae=0;ae<me;ae++)te[ce+ae]=te[oe+ae];if(ce+=me,oe+=me,ee-=me,ee===0){he=!0;break}}if(te[ce++]=ne[ie++],--Q===1){he=!0;break}ue--}while(pe>=l||me>=l);if(he)break;ue<0&&(ue=0),ue+=2}if(this.minGallop=ue,ue<1&&(this.minGallop=1),Q===1){for(ae=0;ae<ee;ae++)te[ce+ae]=te[oe+ae];te[ce+ee]=ne[ie]}else{if(Q===0)throw new Error("mergeLow preconditions were not respected");for(ae=0;ae<Q;ae++)te[ce+ae]=ne[ie+ae]}},Y.prototype.mergeHigh=function(J,Q,Z,ee){var re=this.compare,te=this.array,ne=this.tmp,ae=0;for(ae=0;ae<ee;ae++)ne[ae]=te[Z+ae];var ie=J+Q-1,oe=ee-1,ce=Z+ee-1,ue=0,pe=0;if(te[ce--]=te[ie--],--Q===0){for(ue=ce-(ee-1),ae=0;ae<ee;ae++)te[ue+ae]=ne[ae];return}if(ee===1){for(ce-=Q,ie-=Q,pe=ce+1,ue=ie+1,ae=Q-1;ae>=0;ae--)te[pe+ae]=te[ue+ae];te[ce]=ne[oe];return}for(var me=this.minGallop;;){var he=0,se=0,le=!1;do if(re(ne[oe],te[ie])<0){if(te[ce--]=te[ie--],he++,se=0,--Q===0){le=!0;break}}else if(te[ce--]=ne[oe--],se++,he=0,--ee===1){le=!0;break}while((he|se)<me);if(le)break;do{if(he=Q-W(ne[oe],te,J,Q,Q-1,re),he!==0){for(ce-=he,ie-=he,Q-=he,pe=ce+1,ue=ie+1,ae=he-1;ae>=0;ae--)te[pe+ae]=te[ue+ae];if(Q===0){le=!0;break}}if(te[ce--]=ne[oe--],--ee===1){le=!0;break}if(se=ee-U(te[ie],ne,0,ee,ee-1,re),se!==0){for(ce-=se,oe-=se,ee-=se,pe=ce+1,ue=oe+1,ae=0;ae<se;ae++)te[pe+ae]=ne[ue+ae];if(ee<=1){le=!0;break}}if(te[ce--]=te[ie--],--Q===0){le=!0;break}me--}while(he>=l||se>=l);if(le)break;me<0&&(me=0),me+=2}if(this.minGallop=me,me<1&&(this.minGallop=1),ee===1){for(ce-=Q,ie-=Q,pe=ce+1,ue=ie+1,ae=Q-1;ae>=0;ae--)te[pe+ae]=te[ue+ae];te[ce]=ne[oe]}else{if(ee===0)throw new Error("mergeHigh preconditions were not respected");for(ue=ce-(ee-1),ae=0;ae<ee;ae++)te[ue+ae]=ne[ae]}},Y}();function K(Y,X,J,Q){if(!Array.isArray(Y))throw new TypeError("Can only sort arrays");X?typeof X!="function"&&(Q=J,J=X,X=D):X=D,J||(J=0),Q||(Q=Y.length);var Z=Q-J;if(!(Z<2)){var ee=0;if(Z<o){ee=F(Y,J,Q,X),B(Y,J,Q,J+ee,X);return}var re=new q(Y,X),te=R(Z);do{if(ee=F(Y,J,Q,X),ee<te){var ne=Z;ne>te&&(ne=te),B(Y,J,J+ne,J+ee,X),ee=ne}re.pushRun(J,ee),re.mergeRuns(),Z-=ee,J+=ee}while(Z!==0);re.forceMergeRuns()}}})})(timsort$1);var timsort=timsort$1;function _createSuper(r){var t=_isNativeReflectConstruct();return function(){var o=_getPrototypeOf(r),l;if(t){var h=_getPrototypeOf(this).constructor;l=construct(o,arguments,h)}else l=o.apply(this,arguments);return _possibleConstructorReturn(this,l)}}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!construct||construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(construct(Boolean,[],function(){})),!0}catch{return!1}}var DirectionInterface=function(){function r(){_classCallCheck(this,r)}return _createClass(r,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,o,l),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,o){this.fake_use(e,o),this.abstract()}},{key:"shift",value:function(e,o){this.fake_use(e,o),this.abstract()}}]),r}(),VerticalStrategy=function(r){_inherits(e,r);var t=_createSuper(e);function e(o){var l;return _classCallCheck(this,e),l=t.call(this),l.layout=o,l}return _createClass(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(l){return l.x}},{key:"setPosition",value:function(l,h){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;y!==void 0&&this.layout.hierarchical.addToOrdering(l,y),l.x=h}},{key:"getTreeSize",value:function(l){var h=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,l);return{min:h.min_x,max:h.max_x}}},{key:"sort",value:function(l){timsort.sort(l,function(h,y){return h.x-y.x})}},{key:"fix",value:function(l,h){l.y=this.layout.options.hierarchical.levelSeparation*h,l.options.fixed.y=!0}},{key:"shift",value:function(l,h){this.layout.body.nodes[l].x+=h}}]),e}(DirectionInterface),HorizontalStrategy=function(r){_inherits(e,r);var t=_createSuper(e);function e(o){var l;return _classCallCheck(this,e),l=t.call(this),l.layout=o,l}return _createClass(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(l){return l.y}},{key:"setPosition",value:function(l,h){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;y!==void 0&&this.layout.hierarchical.addToOrdering(l,y),l.y=h}},{key:"getTreeSize",value:function(l){var h=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,l);return{min:h.min_y,max:h.max_y}}},{key:"sort",value:function(l){timsort.sort(l,function(h,y){return h.y-y.y})}},{key:"fix",value:function(l,h){l.x=this.layout.options.hierarchical.levelSeparation*h,l.options.fixed.x=!0}},{key:"shift",value:function(l,h){this.layout.body.nodes[l].y+=h}}]),e}(DirectionInterface),$=_export,$every=arrayIteration.every,arrayMethodIsStrict=arrayMethodIsStrict$6,STRICT_METHOD=arrayMethodIsStrict("every");$({target:"Array",proto:!0,forced:!STRICT_METHOD},{every:function r(t){return $every(this,t,arguments.length>1?arguments[1]:void 0)}});var entryVirtual=entryVirtual$i,every$3=entryVirtual("Array").every,isPrototypeOf=objectIsPrototypeOf,method=every$3,ArrayPrototype=Array.prototype,every$2=function(r){var t=r.every;return r===ArrayPrototype||isPrototypeOf(ArrayPrototype,r)&&t===ArrayPrototype.every?method:t},parent=every$2,every$1=parent,every=every$1;function _createForOfIteratorHelper$1(r,t){var e=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!e){if(isArray$1(r)||(e=_unsupportedIterableToArray$1(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray$1(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray$1(r,t);var o=slice(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$1(r,t)}}function _arrayLikeToArray$1(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}function fillLevelsByDirectionCyclic(r,t){var e=new set$4;return forEach$2(r).call(r,function(o){var l;forEach$2(l=o.edges).call(l,function(h){h.connected&&e.add(h)})}),forEach$2(e).call(e,function(o){var l=o.from.id,h=o.to.id;t[l]==null&&(t[l]=0),(t[h]==null||t[l]>=t[h])&&(t[h]=t[l]+1)}),t}function fillLevelsByDirectionLeaves(r){return fillLevelsByDirection(function(t){var e,o;return every(e=filter(o=t.edges).call(o,function(l){return r.has(l.toId)})).call(e,function(l){return l.to===t})},function(t,e){return e>t},"from",r)}function fillLevelsByDirectionRoots(r){return fillLevelsByDirection(function(t){var e,o;return every(e=filter(o=t.edges).call(o,function(l){return r.has(l.toId)})).call(e,function(l){return l.from===t})},function(t,e){return e<t},"to",r)}function fillLevelsByDirection(r,t,e,o){var l,h=create$5(null),y=reduce(l=_toConsumableArray(values(o).call(o))).call(l,function(U,W){return U+1+W.edges.length},0),O=e+"Id",D=e==="to"?1:-1,R=_createForOfIteratorHelper$1(o),F;try{var j=function(){var W=_slicedToArray(F.value,2),q=W[0],K=W[1];if(!o.has(q)||!r(K))return"continue";h[q]=0;for(var Y=[K],X=0,J=void 0,Q=function(){var re,te;if(!o.has(q))return"continue";var ne=h[J.id]+D;if(forEach$2(re=filter(te=J.edges).call(te,function(ae){return ae.connected&&ae.to!==ae.from&&ae[e]!==J&&o.has(ae.toId)&&o.has(ae.fromId)})).call(re,function(ae){var ie=ae[O],oe=h[ie];(oe==null||t(ne,oe))&&(h[ie]=ne,Y.push(ae[e]))}),X>y)return{v:{v:fillLevelsByDirectionCyclic(o,h)}};++X};J=Y.pop();){var Z=Q();if(Z!=="continue"&&_typeof(Z)==="object")return Z.v}};for(R.s();!(F=R.n()).done;){var B=j();if(B!=="continue"&&_typeof(B)==="object")return B.v}}catch(U){R.e(U)}finally{R.f()}return h}var HierarchicalStatus=function(){function r(){_classCallCheck(this,r),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return _createClass(r,[{key:"addRelation",value:function(e,o){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(o),this.parentReference[o]===void 0&&(this.parentReference[o]=[]),this.parentReference[o].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,o){o!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=o,this.treeIndex=Math.max(o,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var o=this,l={},h=function y(O){if(l[O]!==void 0)return l[O];var D=o.levels[O];if(o.childrenReference[O]){var R=o.childrenReference[O];if(R.length>0)for(var F=0;F<R.length;F++)D=Math.max(D,y(R[F]))}return l[O]=D,D};return h(e)}},{key:"levelDownstream",value:function(e,o){this.levels[o.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[o.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var o=1e9;for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&this.levels[l]!==void 0&&(o=Math.min(this.levels[l],o));for(var h in e)Object.prototype.hasOwnProperty.call(e,h)&&this.levels[h]!==void 0&&(this.levels[h]-=o)}},{key:"getTreeSize",value:function(e,o){var l=1e9,h=-1e9,y=1e9,O=-1e9;for(var D in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,D)&&this.trees[D]===o){var R=e[D];l=Math.min(R.x,l),h=Math.max(R.x,h),y=Math.min(R.y,y),O=Math.max(R.y,O)}return{min_x:l,max_x:h,min_y:y,max_y:O}}},{key:"hasSameParent",value:function(e,o){var l=this.parentReference[e.id],h=this.parentReference[o.id];if(l===void 0||h===void 0)return!1;for(var y=0;y<l.length;y++)for(var O=0;O<h.length;O++)if(l[y]==h[O])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,o){return this.trees[e.id]===this.trees[o.id]}},{key:"getLevels",value:function(){return keys(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,o){this.distributionOrdering[o]===void 0&&(this.distributionOrdering[o]=[]);var l=!1,h=this.distributionOrdering[o];for(var y in h)if(h[y]===e){l=!0;break}l||(this.distributionOrdering[o].push(e),this.distributionIndex[e.id]=this.distributionOrdering[o].length-1)}}]),r}(),LayoutEngine=function(){function r(t){_classCallCheck(this,r),this.body=t,this._resetRNG(Math.random()+":"+now$1()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},assign$2(this.options,this.defaultOptions),this.bindEventListeners()}return _createClass(r,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var o=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",o,!1)}})}},{key:"setOptions",value:function(e,o){if(e!==void 0){var l=this.options.hierarchical,h=l.enabled;if(selectiveDeepExtend(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),mergeOptions(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),l.enabled===!0)return h===!0&&this.body.emitter.emit("refresh",!0),l.direction==="RL"||l.direction==="DU"?l.levelSeparation>0&&(l.levelSeparation*=-1):l.levelSeparation<0&&(l.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(o);if(h===!0)return this.body.emitter.emit("refresh"),deepExtend(o,this.optionsBackup)}return o}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=Alea(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var o=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:o.enabled===void 0?!0:o.enabled,solver:"hierarchicalRepulsion"},o.enabled=o.enabled===void 0?!0:o.enabled,o.solver=o.solver||"barnesHut"):_typeof(e.physics)==="object"?(o.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,o.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(o.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var l=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:l};else{var h=e.edges.smooth;h.type!==void 0&&h.type!=="dynamic"&&(l=h.type),this.optionsBackup.edges={smooth:{enabled:h.enabled===void 0?!0:h.enabled,type:h.type===void 0?"dynamic":h.type,roundness:h.roundness===void 0?.5:h.roundness,forceDirection:h.forceDirection===void 0?!1:h.forceDirection}},e.edges.smooth={enabled:h.enabled===void 0?!0:h.enabled,type:l,roundness:h.roundness===void 0?.5:h.roundness,forceDirection:h.forceDirection===void 0?!1:h.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",l)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var o=e.length+50,l=0;l<e.length;l++){var h=e[l],y=2*Math.PI*this._rng();h.x===void 0&&(h.x=o*Math.cos(y)),h.y===void 0&&(h.y=o*Math.sin(y))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,o=0,l=0;l<e.length;l++){var h=this.body.nodes[e[l]];h.predefinedPosition===!0&&(o+=1)}if(o<.5*e.length){var y=10,O=0,D=this.options.clusterThreshold,R={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>D){for(var F=e.length;e.length>D&&O<=y;){O+=1;var j=e.length;O%3===0?this.body.modules.clustering.clusterBridges(R):this.body.modules.clustering.clusterOutliers(R);var B=e.length;if(j==B&&O%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*F)})}O>y&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var U=70,W=0;W<e.length;W++){var q=this.body.nodes[e[W]];q.predefinedPosition===!1&&(q.x+=(.5-this._rng())*U,q.y+=(.5-this._rng())*U)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=NetworkUtil.getRangeCore(this.body.nodes,this.body.nodeIndices),o=NetworkUtil.findCenter(e),l=0;l<this.body.nodeIndices.length;l++){var h=this.body.nodes[this.body.nodeIndices[l]];h.x-=o.x,h.y-=o.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var o=0;o<this.body.nodeIndices.length;o++)this.body.nodes[this.body.nodeIndices[o]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[o],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,o,l=!1,h=!1;this.lastNodeOnLevel={},this.hierarchical=new HierarchicalStatus;for(o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&(e=this.body.nodes[o],e.options.level!==void 0?(l=!0,this.hierarchical.levels[o]=e.options.level):h=!0);if(h===!0&&l===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(h===!0){var y=this.options.hierarchical.sortMethod;y==="hubsize"?this._determineLevelsByHubsize():y==="directed"?this._determineLevelsDirected():y==="custom"&&this._determineLevelsCustomCallback()}for(var O in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,O)&&this.hierarchical.ensureLevel(O);var D=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(D),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,o=!1,l={},h=function(){for(var J=O(),Q=0,Z=0;Z<J.length-1;Z++){var ee=J[Z].max-J[Z+1].min;Q+=ee+e.options.hierarchical.treeSpacing,y(Z+1,Q)}},y=function(J,Q){var Z=e.hierarchical.trees;for(var ee in Z)Object.prototype.hasOwnProperty.call(Z,ee)&&Z[ee]===J&&e.direction.shift(ee,Q)},O=function(){for(var J=[],Q=0;Q<e.hierarchical.numTrees();Q++)J.push(e.direction.getTreeSize(Q));return J},D=function X(J,Q){if(!Q[J.id]&&(Q[J.id]=!0,e.hierarchical.childrenReference[J.id])){var Z=e.hierarchical.childrenReference[J.id];if(Z.length>0)for(var ee=0;ee<Z.length;ee++)X(e.body.nodes[Z[ee]],Q)}},R=function(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,Z=1e9,ee=1e9,re=1e9,te=-1e9;for(var ne in J)if(Object.prototype.hasOwnProperty.call(J,ne)){var ae=e.body.nodes[ne],ie=e.hierarchical.levels[ae.id],oe=e.direction.getPosition(ae),ce=e._getSpaceAroundNode(ae,J),ue=_slicedToArray(ce,2),pe=ue[0],me=ue[1];Z=Math.min(pe,Z),ee=Math.min(me,ee),ie<=Q&&(re=Math.min(oe,re),te=Math.max(oe,te))}return[re,te,Z,ee]},F=function(J,Q){var Z=e.hierarchical.getMaxLevel(J.id),ee=e.hierarchical.getMaxLevel(Q.id);return Math.min(Z,ee)},j=function(J,Q,Z){for(var ee=e.hierarchical,re=0;re<Q.length;re++){var te=Q[re],ne=ee.distributionOrdering[te];if(ne.length>1)for(var ae=0;ae<ne.length-1;ae++){var ie=ne[ae],oe=ne[ae+1];ee.hasSameParent(ie,oe)&&ee.inSameSubNetwork(ie,oe)&&J(ie,oe,Z)}}},B=function(J,Q){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ee=e.direction.getPosition(J),re=e.direction.getPosition(Q),te=Math.abs(re-ee),ne=e.options.hierarchical.nodeSpacing;if(te>ne){var ae={},ie={};D(J,ae),D(Q,ie);var oe=F(J,Q),ce=R(ae,oe),ue=R(ie,oe),pe=ce[1],me=ue[0],he=ue[2],se=Math.abs(pe-me);if(se>ne){var le=pe-me+ne;le<-he+ne&&(le=-he+ne),le<0&&(e._shiftBlock(Q.id,le),o=!0,Z===!0&&e._centerParent(Q))}}},U=function(J,Q){for(var Z=Q.id,ee=Q.edges,re=e.hierarchical.levels[Q.id],te=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,ne={},ae=[],ie=0;ie<ee.length;ie++){var oe=ee[ie];if(oe.toId!=oe.fromId){var ce=oe.toId==Z?oe.from:oe.to;ne[ee[ie].id]=ce,e.hierarchical.levels[ce.id]<re&&ae.push(oe)}}var ue=function(ge,ye){for(var we=0,$e=0;$e<ye.length;$e++)if(ne[ye[$e].id]!==void 0){var _e=e.direction.getPosition(ne[ye[$e].id])-ge;we+=_e/Math.sqrt(_e*_e+te)}return we},pe=function(ge,ye){for(var we=0,$e=0;$e<ye.length;$e++)if(ne[ye[$e].id]!==void 0){var _e=e.direction.getPosition(ne[ye[$e].id])-ge;we-=te*Math.pow(_e*_e+te,-1.5)}return we},me=function(ge,ye){for(var we=e.direction.getPosition(Q),$e={},_e=0;_e<ge;_e++){var Se=ue(we,ye),Te=pe(we,ye),be=40,Oe=Math.max(-be,Math.min(be,Math.round(Se/Te)));if(we=we-Oe,$e[we]!==void 0)break;$e[we]=_e}return we},he=function(ge){var ye=e.direction.getPosition(Q);if(l[Q.id]===void 0){var we={};D(Q,we),l[Q.id]=we}var $e=R(l[Q.id]),_e=$e[2],Se=$e[3],Te=ge-ye,be=0;Te>0?be=Math.min(Te,Se-e.options.hierarchical.nodeSpacing):Te<0&&(be=-Math.min(-Te,_e-e.options.hierarchical.nodeSpacing)),be!=0&&(e._shiftBlock(Q.id,be),o=!0)},se=function(ge){var ye=e.direction.getPosition(Q),we=e._getSpaceAroundNode(Q),$e=_slicedToArray(we,2),_e=$e[0],Se=$e[1],Te=ge-ye,be=ye;Te>0?be=Math.min(ye+(Se-e.options.hierarchical.nodeSpacing),ge):Te<0&&(be=Math.max(ye-(_e-e.options.hierarchical.nodeSpacing),ge)),be!==ye&&(e.direction.setPosition(Q,be),o=!0)},le=me(J,ae);he(le),le=me(J,ee),se(le)},W=function(J){var Q=e.hierarchical.getLevels();Q=reverse(Q).call(Q);for(var Z=0;Z<J;Z++){o=!1;for(var ee=0;ee<Q.length;ee++)for(var re=Q[ee],te=e.hierarchical.distributionOrdering[re],ne=0;ne<te.length;ne++)U(1e3,te[ne]);if(o!==!0)break}},q=function(J){var Q=e.hierarchical.getLevels();Q=reverse(Q).call(Q);for(var Z=0;Z<J&&(o=!1,j(B,Q,!0),o===!0);Z++);},K=function(){for(var J in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,J)&&e._centerParent(e.body.nodes[J])},Y=function(){var J=e.hierarchical.getLevels();J=reverse(J).call(J);for(var Q=0;Q<J.length;Q++)for(var Z=J[Q],ee=e.hierarchical.distributionOrdering[Z],re=0;re<ee.length;re++)e._centerParent(ee[re])};this.options.hierarchical.blockShifting===!0&&(q(5),K()),this.options.hierarchical.edgeMinimization===!0&&W(20),this.options.hierarchical.parentCentralization===!0&&Y(),h()}},{key:"_getSpaceAroundNode",value:function(e,o){var l=!0;o===void 0&&(l=!1);var h=this.hierarchical.levels[e.id];if(h!==void 0){var y=this.hierarchical.distributionIndex[e.id],O=this.direction.getPosition(e),D=this.hierarchical.distributionOrdering[h],R=1e9,F=1e9;if(y!==0){var j=D[y-1];if(l===!0&&o[j.id]===void 0||l===!1){var B=this.direction.getPosition(j);R=O-B}}if(y!=D.length-1){var U=D[y+1];if(l===!0&&o[U.id]===void 0||l===!1){var W=this.direction.getPosition(U);F=Math.min(F,W-O)}}return[R,F]}else return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var o=this.hierarchical.parentReference[e.id],l=0;l<o.length;l++){var h=o[l],y=this.body.nodes[h],O=this.hierarchical.childrenReference[h];if(O!==void 0){var D=this._getCenterPosition(O),R=this.direction.getPosition(y),F=this._getSpaceAroundNode(y),j=_slicedToArray(F,2),B=j[0],U=j[1],W=R-D;(W<0&&Math.abs(W)<U-this.options.hierarchical.nodeSpacing||W>0&&Math.abs(W)<B-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(y,D)}}}},{key:"_placeNodesByHierarchy",value:function(e){this.positionedNodes={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l,h=keys(e[o]);h=this._indexArrayToNodes(h),sort(l=this.direction).call(l,h);for(var y=0,O=0;O<h.length;O++){var D=h[O];if(this.positionedNodes[D.id]===void 0){var R=this.options.hierarchical.nodeSpacing,F=R*y;y>0&&(F=this.direction.getPosition(h[O-1])+R),this.direction.setPosition(D,F,o),this._validatePositionAndContinue(D,o,F),y++}}}}},{key:"_placeBranchNodes",value:function(e,o){var l,h=this.hierarchical.childrenReference[e];if(h!==void 0){for(var y=[],O=0;O<h.length;O++)y.push(this.body.nodes[h[O]]);sort(l=this.direction).call(l,y);for(var D=0;D<y.length;D++){var R=y[D],F=this.hierarchical.levels[R.id];if(F>o&&this.positionedNodes[R.id]===void 0){var j=this.options.hierarchical.nodeSpacing,B=void 0;D===0?B=this.direction.getPosition(this.body.nodes[e]):B=this.direction.getPosition(y[D-1])+j,this.direction.setPosition(R,B,F),this._validatePositionAndContinue(R,F,B)}else return}var U=this._getCenterPosition(y);this.direction.setPosition(this.body.nodes[e],U,o)}}},{key:"_validatePositionAndContinue",value:function(e,o,l){if(!!this.hierarchical.isTree){if(this.lastNodeOnLevel[o]!==void 0){var h=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[o]]);if(l-h<this.options.hierarchical.nodeSpacing){var y=h+this.options.hierarchical.nodeSpacing-l,O=this._findCommonParent(this.lastNodeOnLevel[o],e.id);this._shiftBlock(O.withChild,y)}}this.lastNodeOnLevel[o]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,o)}}},{key:"_indexArrayToNodes",value:function(e){for(var o=[],l=0;l<e.length;l++)o.push(this.body.nodes[e[l]]);return o}},{key:"_getDistribution",value:function(){var e={},o,l;for(o in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,o)){l=this.body.nodes[o];var h=this.hierarchical.levels[o]===void 0?0:this.hierarchical.levels[o];this.direction.fix(l,h),e[h]===void 0&&(e[h]={}),e[h][o]=l}return e}},{key:"_getActiveEdges",value:function(e){var o=this,l=[];return forEach$1(e.edges,function(h){var y;indexOf(y=o.body.edgeIndices).call(y,h.id)!==-1&&l.push(h)}),l}},{key:"_getHubSizes",value:function(){var e=this,o={},l=this.body.nodeIndices;forEach$1(l,function(y){var O=e.body.nodes[y],D=e._getActiveEdges(O).length;o[D]=!0});var h=[];return forEach$1(o,function(y){h.push(Number(y))}),sort(timsort).call(timsort,h,function(y,O){return O-y}),h}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,o=function(R,F){e.hierarchical.levelDownstream(R,F)},l=this._getHubSizes(),h=function(R){var F=l[R];if(F===0)return"break";forEach$1(e.body.nodeIndices,function(j){var B=e.body.nodes[j];F===e._getActiveEdges(B).length&&e._crawlNetwork(o,j)})},y=0;y<l.length;++y){var O=h(y);if(O==="break")break}}},{key:"_determineLevelsCustomCallback",value:function(){var e=this,o=1e5,l=function(O,D,R){},h=function(O,D,R){var F=e.hierarchical.levels[O.id];F===void 0&&(F=e.hierarchical.levels[O.id]=o);var j=l(NetworkUtil.cloneOptions(O,"node"),NetworkUtil.cloneOptions(D,"node"),NetworkUtil.cloneOptions(R,"edge"));e.hierarchical.levels[D.id]=F+j};this._crawlNetwork(h),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,o=this,l=reduce(e=this.body.nodeIndices).call(e,function(h,y){return h.set(y,o.body.nodes[y]),h},new map$7);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=fillLevelsByDirectionRoots(l):this.hierarchical.levels=fillLevelsByDirectionLeaves(l),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this,o=function(h,y){e.hierarchical.levels[y.id]>e.hierarchical.levels[h.id]&&e.hierarchical.addRelation(h.id,y.id)};this._crawlNetwork(o),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},l=arguments.length>1?arguments[1]:void 0,h={},y=function B(U,W){if(h[U.id]===void 0){e.hierarchical.setTreeIndex(U,W),h[U.id]=!0;for(var q,K=e._getActiveEdges(U),Y=0;Y<K.length;Y++){var X=K[Y];X.connected===!0&&(X.toId==U.id?q=X.from:q=X.to,U.id!=q.id&&(o(U,q,X),B(q,W)))}}};if(l===void 0)for(var O=0,D=0;D<this.body.nodeIndices.length;D++){var R=this.body.nodeIndices[D];if(h[R]===void 0){var F=this.body.nodes[R];y(F,O),O+=1}}else{var j=this.body.nodes[l];if(j===void 0){console.error("Node not found:",l);return}y(j)}}},{key:"_shiftBlock",value:function(e,o){var l=this,h={},y=function O(D){if(!h[D]){h[D]=!0,l.direction.shift(D,o);var R=l.hierarchical.childrenReference[D];if(R!==void 0)for(var F=0;F<R.length;F++)O(R[F])}};y(e)}},{key:"_findCommonParent",value:function(e,o){var l=this,h={},y=function D(R,F){var j=l.hierarchical.parentReference[F];if(j!==void 0)for(var B=0;B<j.length;B++){var U=j[B];R[U]=!0,D(R,U)}},O=function D(R,F){var j=l.hierarchical.parentReference[F];if(j!==void 0)for(var B=0;B<j.length;B++){var U=j[B];if(R[U]!==void 0)return{foundParent:U,withChild:F};var W=D(R,U);if(W.foundParent!==null)return W}return{foundParent:null,withChild:F}};return y(h,e),O(h,o)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";e?this.direction=new VerticalStrategy(this):this.direction=new HorizontalStrategy(this)}},{key:"_getCenterPosition",value:function(e){for(var o=1e9,l=-1e9,h=0;h<e.length;h++){var y=void 0;if(e[h].id!==void 0)y=e[h];else{var O=e[h];y=this.body.nodes[O]}var D=this.direction.getPosition(y);o=Math.min(o,D),l=Math.max(l,D)}return .5*(o+l)}}]),r}();function _createForOfIteratorHelper(r,t){var e=typeof symbol!="undefined"&&getIteratorMethod$1(r)||r["@@iterator"];if(!e){if(isArray$1(r)||(e=_unsupportedIterableToArray(r))||t&&r&&typeof r.length=="number"){e&&(r=e);var o=0,l=function(){};return{s:l,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(R){throw R},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,y=!1,O;return{s:function(){e=e.call(r)},n:function(){var R=e.next();return h=R.done,R},e:function(R){y=!0,O=R},f:function(){try{!h&&e.return!=null&&e.return()}finally{if(y)throw O}}}}function _unsupportedIterableToArray(r,t){var e;if(!!r){if(typeof r=="string")return _arrayLikeToArray(r,t);var o=slice(e=Object.prototype.toString.call(r)).call(e,8,-1);if(o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set")return from$3(r);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(r,t)}}function _arrayLikeToArray(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}var ManipulationSystem=function(){function r(t,e,o,l){var h=this,y,O;_classCallCheck(this,r),this.body=t,this.canvas=e,this.selectionHandler=o,this.interactionHandler=l,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},assign$2(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){h._clean()}),this.body.emitter.on("_dataChanged",bind$5(y=this._restore).call(y,this)),this.body.emitter.on("_resetData",bind$5(O=this._restore).call(O,this))}return _createClass(r,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,o,l){o!==void 0&&(o.locale!==void 0?this.options.locale=o.locale:this.options.locale=l.locale,o.locales!==void 0?this.options.locales=o.locales:this.options.locales=l.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,deepExtend(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,o;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var l=this.selectionHandler.getSelectedNodeCount(),h=this.selectionHandler.getSelectedEdgeCount(),y=l+h,O=this.options.locales[this.options.locale],D=!1;this.options.addNode!==!1&&(this._createAddNodeButton(O),D=!0),this.options.addEdge!==!1&&(D===!0?this._createSeperator(1):D=!0,this._createAddEdgeButton(O)),l===1&&typeof this.options.editNode=="function"?(D===!0?this._createSeperator(2):D=!0,this._createEditNodeButton(O)):h===1&&l===0&&this.options.editEdge!==!1&&(D===!0?this._createSeperator(3):D=!0,this._createEditEdgeButton(O)),y!==0&&(l>0&&this.options.deleteNode!==!1?(D===!0&&this._createSeperator(4),this._createDeleteButton(O)):l===0&&this.options.deleteEdge!==!1&&(D===!0&&this._createSeperator(4),this._createDeleteButton(O))),this._bindElementEvents(this.closeDiv,bind$5(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",bind$5(o=this.showManipulatorToolbar).call(o,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var o,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,bind$5(o=this.toggleEditMode).call(o,this))}this._temporaryBindEvent("click",bind$5(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var o=this.selectionHandler.getSelectedNodes()[0];if(o!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(o.isCluster!==!0){var l=deepExtend({},o.options,!1);if(l.x=o.x,l.y=o.y,this.options.editNode.length===2)this.options.editNode(l,function(h){h!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(h),e.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,o,l,h,y;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var O,D=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(D),this._createSeperator(),this._createDescription(D.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,bind$5(O=this.toggleEditMode).call(O,this))}this._temporaryBindUI("onTouch",bind$5(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",bind$5(o=this._finishConnect).call(o,this)),this._temporaryBindUI("onDrag",bind$5(l=this._dragControlNode).call(l,this)),this._temporaryBindUI("onRelease",bind$5(h=this._finishConnect).call(h,this)),this._temporaryBindUI("onDragStart",bind$5(y=this._dragStartEdge).call(y,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",_typeof(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from.id,e.to.id);return}if(this.guiEnabled===!0){var o,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,bind$5(o=this.toggleEditMode).call(o,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var h,y,O,D,R=this.body.edges[this.edgeBeingEditedId],F=this._getNewTargetNode(R.from.x,R.from.y),j=this._getNewTargetNode(R.to.x,R.to.y);this.temporaryIds.nodes.push(F.id),this.temporaryIds.nodes.push(j.id),this.body.nodes[F.id]=F,this.body.nodeIndices.push(F.id),this.body.nodes[j.id]=j,this.body.nodeIndices.push(j.id),this._temporaryBindUI("onTouch",bind$5(h=this._controlNodeTouch).call(h,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",bind$5(y=this._controlNodeDragStart).call(y,this)),this._temporaryBindUI("onDrag",bind$5(O=this._controlNodeDrag).call(O,this)),this._temporaryBindUI("onDragEnd",bind$5(D=this._controlNodeDragEnd).call(D,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(B){var U=R.edgeType.findBorderPositions(B);F.selected===!1&&(F.x=U.from.x,F.y=U.from.y),j.selected===!1&&(j.x=U.to.x,j.y=U.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var o=this.selectionHandler.getSelectedNodeIds(),l=this.selectionHandler.getSelectedEdgeIds(),h=void 0;if(o.length>0){for(var y=0;y<o.length;y++)if(this.body.nodes[o[y]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(h=this.options.deleteNode)}else l.length>0&&typeof this.options.deleteEdge=="function"&&(h=this.options.deleteEdge);if(typeof h=="function"){var O={nodes:o,edges:l};if(h.length===2)h(O,function(D){D!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(D.edges),e.body.data.nodes.getDataSet().remove(D.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(l),this.body.data.nodes.getDataSet().remove(o),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,o;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(o=this.options.locales[this.options.locale])===null||o===void 0?void 0:o.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(e,o){var l=deepExtend({},this.options.controlNodeStyle);l.id="targetNode"+v4(),l.hidden=!1,l.physics=!1,l.x=e,l.y=o;var h=this.body.functions.createNode(l);return h.shape.boundingBox={left:e,right:e,top:o,bottom:o},h}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},recursiveDOMDelete(this.editModeDiv);var o=this.options.locales[this.options.locale],l=this._createButton("editMode","vis-edit vis-edit-mode",o.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(l),this._bindElementEvents(l,bind$5(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(recursiveDOMDelete(this.editModeDiv),recursiveDOMDelete(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,o=_createForOfIteratorHelper(splice$1(e=this._domEventListenerCleanupQueue).call(e,0)),l;try{for(o.s();!(l=o.n()).done;){var h=l.value;h()}}catch(y){o.e(y)}finally{o.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),recursiveDOMDelete(this.manipulationDiv),recursiveDOMDelete(this.editModeDiv),recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var o,l=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.addNodeMode).call(o,this))}},{key:"_createAddEdgeButton",value:function(e){var o,l=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.addEdgeMode).call(o,this))}},{key:"_createEditNodeButton",value:function(e){var o,l=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.editNode).call(o,this))}},{key:"_createEditEdgeButton",value:function(e){var o,l=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.editEdgeMode).call(o,this))}},{key:"_createDeleteButton",value:function(e){var o,l;this.options.rtl?l="vis-delete-rtl":l="vis-delete";var h=this._createButton("delete",l,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(h),this._bindElementEvents(h,bind$5(o=this.deleteSelected).call(o,this))}},{key:"_createBackButton",value:function(e){var o,l=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(l),this._bindElementEvents(l,bind$5(o=this.showManipulatorToolbar).call(o,this))}},{key:"_createButton",value:function(e,o,l){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+o,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=h,this.manipulationDOM[e+"Label"].innerText=l,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,o){this.temporaryEventFunctions.push({event:e,boundFunction:o}),this.body.emitter.on(e,o)}},{key:"_temporaryBindUI",value:function(e,o){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=o;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+stringify$1(keys(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var o=this.temporaryEventFunctions[e].event,l=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(o,l)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,o){var l=new Hammer(e,{});onTouch(l,o),this._domEventListenerCleanupQueue.push(function(){l.destroy()});var h=function(O){var D=O.keyCode,R=O.key;(R==="Enter"||R===" "||D===13||D===32)&&o()};e.addEventListener("keyup",h,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",h,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var o;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var l=indexOf(o=this.body.edgeIndices).call(o,this.temporaryIds.edges[e]);if(l!==-1){var h;splice$1(h=this.body.edgeIndices).call(h,l,1)}}for(var y=0;y<this.temporaryIds.nodes.length;y++){var O;delete this.body.nodes[this.temporaryIds.nodes[y]];var D=indexOf(O=this.body.nodeIndices).call(O,this.temporaryIds.nodes[y]);if(D!==-1){var R;splice$1(R=this.body.nodeIndices).call(R,D,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=assign$2({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,o=this.selectionHandler._pointerToPositionObject(e),l=this.body.nodes[this.temporaryIds.nodes[0]],h=this.body.nodes[this.temporaryIds.nodes[1]],y=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var O=l.isOverlappingWith(o),D=h.isOverlappingWith(o);O===!0?(this.selectedControlNode=l,y.edgeType.from=l):D===!0&&(this.selectedControlNode=h,y.edgeType.to=h),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var o=this.body.functions.getPointer(e.center),l=this.canvas.DOMtoCanvas(o);this.selectedControlNode!==void 0?(this.selectedControlNode.x=l.x,this.selectedControlNode.y=l.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var o=this.body.functions.getPointer(e.center),l=this.selectionHandler._pointerToPositionObject(o),h=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var y=this.selectionHandler._getAllNodesOverlappingWith(l),O=void 0,D=y.length-1;D>=0;D--)if(y[D]!==this.selectedControlNode.id){O=this.body.nodes[y[D]];break}if(O!==void 0&&this.selectedControlNode!==void 0)if(O.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var R=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===R.id?this._performEditEdge(O.id,h.to.id):this._performEditEdge(h.from.id,O.id)}else h.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=assign$2({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var o=this.lastTouch,l=this.selectionHandler.getNodeAt(o);if(l!==void 0)if(l.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var h=this._getNewTargetNode(l.x,l.y);this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id);var y=this.body.functions.createEdge({id:"connectionEdge"+v4(),from:l.id,to:h.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[y.id]=y,this.body.edgeIndices.push(y.id),this.temporaryIds.nodes.push(h.id),this.temporaryIds.edges.push(y.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var o=this.body.functions.getPointer(e.center),l=this.selectionHandler._pointerToPositionObject(o),h=void 0;this.temporaryIds.edges[0]!==void 0&&(h=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var y=this.selectionHandler._getAllNodesOverlappingWith(l),O=void 0,D=y.length-1;D>=0;D--){var R;if(indexOf(R=this.temporaryIds.nodes).call(R,y[D])===-1){O=this.body.nodes[y[D]];break}}if(e.controlEdge={from:h,to:O?O.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,o),this.temporaryIds.nodes[0]!==void 0){var F=this.body.nodes[this.temporaryIds.nodes[0]];F.x=this.canvas._XconvertDOMtoCanvas(o.x),F.y=this.canvas._YconvertDOMtoCanvas(o.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var o=this.body.functions.getPointer(e.center),l=this.selectionHandler._pointerToPositionObject(o),h=void 0;this.temporaryIds.edges[0]!==void 0&&(h=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var y=this.selectionHandler._getAllNodesOverlappingWith(l),O=void 0,D=y.length-1;D>=0;D--){var R;if(indexOf(R=this.temporaryIds.nodes).call(R,y[D])===-1){O=this.body.nodes[y[D]];break}}this._cleanupTemporaryNodesAndEdges(),O!==void 0&&(O.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[h]!==void 0&&this.body.nodes[O.id]!==void 0&&this._performAddEdge(h,O.id)),e.controlEdge={from:h,to:O?O.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,o),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var o=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,o,void 0,!0)}},{key:"_performAddNode",value:function(e){var o=this,l={id:v4(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(l,function(h){h!=null&&o.inMode==="addNode"&&o.body.data.nodes.getDataSet().add(h),o.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(l),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,o){var l=this,h={from:e,to:o};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(h,function(y){y!=null&&l.inMode==="addEdge"&&(l.body.data.edges.getDataSet().add(y),l.selectionHandler.unselectAll(),l.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(h),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,o){var l=this,h={id:this.edgeBeingEditedId,from:e,to:o,label:this.body.data.edges.get(this.edgeBeingEditedId).label},y=this.options.editEdge;if(_typeof(y)==="object"&&(y=y.editWithoutDrag),typeof y=="function")if(y.length===2)y(h,function(O){O==null||l.inMode!=="editEdge"?(l.body.edges[h.id].updateEdgeType(),l.body.emitter.emit("_redraw"),l.showManipulatorToolbar()):(l.body.data.edges.getDataSet().update(O),l.selectionHandler.unselectAll(),l.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(h),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),r}(),string="string",bool="boolean",number="number",array="array",object="object",dom="dom",any="any",endPoints=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],nodeOptions={borderWidth:{number},borderWidthSelected:{number,undefined:"undefined"},brokenImage:{string,undefined:"undefined"},chosen:{label:{boolean:bool,function:"function"},node:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{border:{string},background:{string},highlight:{border:{string},background:{string},__type__:{object,string}},hover:{border:{string},background:{string},__type__:{object,string}},__type__:{object,string}},opacity:{number,undefined:"undefined"},fixed:{x:{boolean:bool},y:{boolean:bool},__type__:{object,boolean:bool}},font:{align:{string},color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},group:{string,number,undefined:"undefined"},heightConstraint:{minimum:{number},valign:{string},__type__:{object,boolean:bool,number}},hidden:{boolean:bool},icon:{face:{string},code:{string},size:{number},color:{string},weight:{string,number},__type__:{object}},id:{string,number},image:{selected:{string,undefined:"undefined"},unselected:{string,undefined:"undefined"},__type__:{object,string}},imagePadding:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},level:{number,undefined:"undefined"},margin:{top:{number},right:{number},bottom:{number},left:{number},__type__:{object,number}},mass:{number},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:bool,array},borderRadius:{number},interpolation:{boolean:bool},useImageSize:{boolean:bool},useBorderWithImage:{boolean:bool},coordinateOrigin:{string:["center","top-left"]},__type__:{object}},size:{number},title:{string,dom,undefined:"undefined"},value:{number,undefined:"undefined"},widthConstraint:{minimum:{number},maximum:{number},__type__:{object,boolean:bool,number}},x:{number},y:{number},__type__:{object}},allOptions={configure:{enabled:{boolean:bool},filter:{boolean:bool,string,array,function:"function"},container:{dom},showButton:{boolean:bool},__type__:{object,boolean:bool,string,array,function:"function"}},edges:{arrows:{to:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageHeight:{number},imageWidth:{number},src:{string},__type__:{object,boolean:bool}},middle:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},from:{enabled:{boolean:bool},scaleFactor:{number},type:{string:endPoints},imageWidth:{number},imageHeight:{number},src:{string},__type__:{object,boolean:bool}},__type__:{string:["from","to","middle"],object}},endPointOffset:{from:{number},to:{number},__type__:{object,number}},arrowStrikethrough:{boolean:bool},background:{enabled:{boolean:bool},color:{string},size:{number},dashes:{boolean:bool,array},__type__:{object,boolean:bool}},chosen:{label:{boolean:bool,function:"function"},edge:{boolean:bool,function:"function"},__type__:{object,boolean:bool}},color:{color:{string},highlight:{string},hover:{string},inherit:{string:["from","to","both"],boolean:bool},opacity:{number},__type__:{object,string}},dashes:{boolean:bool,array},font:{color:{string},size:{number},face:{string},background:{string},strokeWidth:{number},strokeColor:{string},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number},multi:{boolean:bool,string},bold:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},boldital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},ital:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},mono:{color:{string},size:{number},face:{string},mod:{string},vadjust:{number},__type__:{object,string}},__type__:{object,string}},hidden:{boolean:bool},hoverWidth:{function:"function",number},label:{string,undefined:"undefined"},labelHighlightBold:{boolean:bool},length:{number,undefined:"undefined"},physics:{boolean:bool},scaling:{min:{number},max:{number},label:{enabled:{boolean:bool},min:{number},max:{number},maxVisible:{number},drawThreshold:{number},__type__:{object,boolean:bool}},customScalingFunction:{function:"function"},__type__:{object}},selectionWidth:{function:"function",number},selfReferenceSize:{number},selfReference:{size:{number},angle:{number},renderBehindTheNode:{boolean:bool},__type__:{object}},shadow:{enabled:{boolean:bool},color:{string},size:{number},x:{number},y:{number},__type__:{object,boolean:bool}},smooth:{enabled:{boolean:bool},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number},forceDirection:{string:["horizontal","vertical","none"],boolean:bool},__type__:{object,boolean:bool}},title:{string,undefined:"undefined"},width:{number},widthConstraint:{maximum:{number},__type__:{object,boolean:bool,number}},value:{number,undefined:"undefined"},__type__:{object}},groups:{useDefaultGroups:{boolean:bool},__any__:nodeOptions,__type__:{object}},interaction:{dragNodes:{boolean:bool},dragView:{boolean:bool},hideEdgesOnDrag:{boolean:bool},hideEdgesOnZoom:{boolean:bool},hideNodesOnDrag:{boolean:bool},hover:{boolean:bool},keyboard:{enabled:{boolean:bool},speed:{x:{number},y:{number},zoom:{number},__type__:{object}},bindToWindow:{boolean:bool},autoFocus:{boolean:bool},__type__:{object,boolean:bool}},multiselect:{boolean:bool},navigationButtons:{boolean:bool},selectable:{boolean:bool},selectConnectedEdges:{boolean:bool},hoverConnectedEdges:{boolean:bool},tooltipDelay:{number},zoomView:{boolean:bool},zoomSpeed:{number},__type__:{object}},layout:{randomSeed:{undefined:"undefined",number,string},improvedLayout:{boolean:bool},clusterThreshold:{number},hierarchical:{enabled:{boolean:bool},levelSeparation:{number},nodeSpacing:{number},treeSpacing:{number},blockShifting:{boolean:bool},edgeMinimization:{boolean:bool},parentCentralization:{boolean:bool},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object,boolean:bool}},__type__:{object}},manipulation:{enabled:{boolean:bool},initiallyActive:{boolean:bool},addNode:{boolean:bool,function:"function"},addEdge:{boolean:bool,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object,boolean:bool,function:"function"}},deleteNode:{boolean:bool,function:"function"},deleteEdge:{boolean:bool,function:"function"},controlNodeStyle:nodeOptions,__type__:{object,boolean:bool}},nodes:nodeOptions,physics:{enabled:{boolean:bool},barnesHut:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},forceAtlas2Based:{theta:{number},gravitationalConstant:{number},centralGravity:{number},springLength:{number},springConstant:{number},damping:{number},avoidOverlap:{number},__type__:{object}},repulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},__type__:{object}},hierarchicalRepulsion:{centralGravity:{number},springLength:{number},springConstant:{number},nodeDistance:{number},damping:{number},avoidOverlap:{number},__type__:{object}},maxVelocity:{number},minVelocity:{number},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:bool},iterations:{number},updateInterval:{number},onlyDynamicEdges:{boolean:bool},fit:{boolean:bool},__type__:{object,boolean:bool}},timestep:{number},adaptiveTimestep:{boolean:bool},wind:{x:{number},y:{number},__type__:{object}},__type__:{object,boolean:bool}},autoResize:{boolean:bool},clickToUse:{boolean:bool},locale:{string},locales:{__any__:{any},__type__:{object}},height:{string},width:{string},__type__:{object}},configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},configuratorHideOption=function r(t,e,o){var l;return!!(includes(t).call(t,"physics")&&includes(l=configureOptions.physics.solver).call(l,e)&&o.physics.solver!==e&&e!=="wind")},FloydWarshall=function(){function r(){_classCallCheck(this,r)}return _createClass(r,[{key:"getDistances",value:function(e,o,l){for(var h={},y=e.edges,O=0;O<o.length;O++){var D=o[O],R={};h[D]=R;for(var F=0;F<o.length;F++)R[o[F]]=O==F?0:1e9}for(var j=0;j<l.length;j++){var B=y[l[j]];B.connected===!0&&h[B.fromId]!==void 0&&h[B.toId]!==void 0&&(h[B.fromId][B.toId]=1,h[B.toId][B.fromId]=1)}for(var U=o.length,W=0;W<U;W++)for(var q=o[W],K=h[q],Y=0;Y<U-1;Y++)for(var X=o[Y],J=h[X],Q=Y+1;Q<U;Q++){var Z=o[Q],ee=h[Z],re=Math.min(J[Z],J[q]+K[Z]);J[Z]=re,ee[X]=re}return h}}]),r}(),KamadaKawai=function(){function r(t,e,o){_classCallCheck(this,r),this.body=t,this.springLength=e,this.springConstant=o,this.distanceSolver=new FloydWarshall}return _createClass(r,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=this.distanceSolver.getDistances(this.body,e,o);this._createL_matrix(h),this._createK_matrix(h),this._createE_matrix();for(var y=.01,O=1,D=0,R=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),F=5,j=1e9,B=0,U=0,W=0,q=0,K=0;j>y&&D<R;){D+=1;var Y=this._getHighestEnergyNode(l),X=_slicedToArray(Y,4);for(B=X[0],j=X[1],U=X[2],W=X[3],q=j,K=0;q>O&&K<F;){K+=1,this._moveNode(B,U,W);var J=this._getEnergy(B),Q=_slicedToArray(J,3);q=Q[0],U=Q[1],W=Q[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var o=this.body.nodeIndices,l=this.body.nodes,h=0,y=o[0],O=0,D=0,R=0;R<o.length;R++){var F=o[R];if(l[F].predefinedPosition!==!0||l[F].isCluster===!0&&e===!0||l[F].options.fixed.x!==!0||l[F].options.fixed.y!==!0){var j=this._getEnergy(F),B=_slicedToArray(j,3),U=B[0],W=B[1],q=B[2];h<U&&(h=U,y=F,O=W,D=q)}}return[y,h,O,D]}},{key:"_getEnergy",value:function(e){var o=_slicedToArray(this.E_sums[e],2),l=o[0],h=o[1],y=Math.sqrt(Math.pow(l,2)+Math.pow(h,2));return[y,l,h]}},{key:"_moveNode",value:function(e,o,l){for(var h=this.body.nodeIndices,y=this.body.nodes,O=0,D=0,R=0,F=y[e].x,j=y[e].y,B=this.K_matrix[e],U=this.L_matrix[e],W=0;W<h.length;W++){var q=h[W];if(q!==e){var K=y[q].x,Y=y[q].y,X=B[q],J=U[q],Q=1/Math.pow(Math.pow(F-K,2)+Math.pow(j-Y,2),1.5);O+=X*(1-J*Math.pow(j-Y,2)*Q),D+=X*(J*(F-K)*(j-Y)*Q),R+=X*(1-J*Math.pow(F-K,2)*Q)}}var Z=O,ee=D,re=o,te=R,ne=l,ae=(re/Z+ne/ee)/(ee/Z-te/ee),ie=-(ee*ae+re)/Z;y[e].x+=ie,y[e].y+=ae,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var o=this.body.nodeIndices,l=this.springLength;this.L_matrix=[];for(var h=0;h<o.length;h++){this.L_matrix[o[h]]={};for(var y=0;y<o.length;y++)this.L_matrix[o[h]][o[y]]=l*e[o[h]][o[y]]}}},{key:"_createK_matrix",value:function(e){var o=this.body.nodeIndices,l=this.springConstant;this.K_matrix=[];for(var h=0;h<o.length;h++){this.K_matrix[o[h]]={};for(var y=0;y<o.length;y++)this.K_matrix[o[h]][o[y]]=l*Math.pow(e[o[h]][o[y]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,o=this.body.nodes;this.E_matrix={},this.E_sums={};for(var l=0;l<e.length;l++)this.E_matrix[e[l]]=[];for(var h=0;h<e.length;h++){for(var y=e[h],O=o[y].x,D=o[y].y,R=0,F=0,j=h;j<e.length;j++){var B=e[j];if(B!==y){var U=o[B].x,W=o[B].y,q=1/Math.sqrt(Math.pow(O-U,2)+Math.pow(D-W,2));this.E_matrix[y][j]=[this.K_matrix[y][B]*(O-U-this.L_matrix[y][B]*(O-U)*q),this.K_matrix[y][B]*(D-W-this.L_matrix[y][B]*(D-W)*q)],this.E_matrix[B][h]=this.E_matrix[y][j],R+=this.E_matrix[y][j][0],F+=this.E_matrix[y][j][1]}}this.E_sums[y]=[R,F]}}},{key:"_updateE_matrix",value:function(e){for(var o=this.body.nodeIndices,l=this.body.nodes,h=this.E_matrix[e],y=this.K_matrix[e],O=this.L_matrix[e],D=l[e].x,R=l[e].y,F=0,j=0,B=0;B<o.length;B++){var U=o[B];if(U!==e){var W=h[B],q=W[0],K=W[1],Y=l[U].x,X=l[U].y,J=1/Math.sqrt(Math.pow(D-Y,2)+Math.pow(R-X,2)),Q=y[U]*(D-Y-O[U]*(D-Y)*J),Z=y[U]*(R-X-O[U]*(R-X)*J);h[B]=[Q,Z],F+=Q,j+=Z;var ee=this.E_sums[U];ee[0]+=Q-q,ee[1]+=Z-K}}this.E_sums[e]=[F,j]}}]),r}();function Network(r,t,e){var o,l,h,y,O=this;if(!(this instanceof Network))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales,clickToUse:!1},assign$2(this.options,this.defaultOptions),this.body={container:r,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:bind$5(o=this.on).call(o,this),off:bind$5(l=this.off).call(l,this),emit:bind$5(h=this.emit).call(h,this),once:bind$5(y=this.once).call(y,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Images(function(){return O.body.emitter.emit("_requestRedraw")}),this.groups=new Groups,this.canvas=new Canvas(this.body),this.selectionHandler=new SelectionHandler(this.body,this.canvas),this.interactionHandler=new InteractionHandler(this.body,this.canvas,this.selectionHandler),this.view=new View(this.body,this.canvas),this.renderer=new CanvasRenderer(this.body,this.canvas),this.physics=new PhysicsEngine(this.body),this.layoutEngine=new LayoutEngine(this.body),this.clustering=new ClusterEngine(this.body),this.manipulation=new ManipulationSystem(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new NodesHandler(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new EdgesHandler(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new KamadaKawai(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(e),this.setData(t)}Emitter(Network.prototype);Network.prototype.setOptions=function(r){var t=this;if(r===null&&(r=void 0),r!==void 0){var e=Validator.validate(r,allOptions);e===!0&&console.error("%cErrors have been found in the supplied options object.",VALIDATOR_PRINT_STYLE);var o=["locale","locales","clickToUse"];if(selectiveDeepExtend(o,this.options,r),r.locale!==void 0&&(r.locale=normalizeLanguageCode(r.locales||this.options.locales,r.locale)),r=this.layoutEngine.setOptions(r.layout,r),this.canvas.setOptions(r),this.groups.setOptions(r.groups),this.nodesHandler.setOptions(r.nodes),this.edgesHandler.setOptions(r.edges),this.physics.setOptions(r.physics),this.manipulation.setOptions(r.manipulation,r,this.options),this.interactionHandler.setOptions(r.interaction),this.renderer.setOptions(r.interaction),this.selectionHandler.setOptions(r.interaction),r.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in r&&(this.configurator||(this.configurator=new Configurator(this,this.body.container,configureOptions,this.canvas.pixelRatio,configuratorHideOption)),this.configurator.setOptions(r.configure)),this.configurator&&this.configurator.options.enabled===!0){var l={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};deepExtend(l.nodes,this.nodesHandler.options),deepExtend(l.edges,this.edgesHandler.options),deepExtend(l.layout,this.layoutEngine.options),deepExtend(l.interaction,this.selectionHandler.options),deepExtend(l.interaction,this.renderer.options),deepExtend(l.interaction,this.interactionHandler.options),deepExtend(l.manipulation,this.manipulation.options),deepExtend(l.physics,this.physics.options),deepExtend(l.global,this.canvas.options),deepExtend(l.global,this.options),this.configurator.setModuleOptions(l)}r.clickToUse!==void 0?r.clickToUse===!0?this.activator===void 0&&(this.activator=new Activator(this.canvas.frame),this.activator.on("change",function(){t.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};Network.prototype._updateVisibleIndices=function(){var r=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&!this.clustering._isClusteredNode(e)&&r[e].options.hidden===!1&&this.body.nodeIndices.push(r[e].id);for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var l=t[o],h=r[l.fromId],y=r[l.toId],O=h!==void 0&&y!==void 0,D=!this.clustering._isClusteredEdge(o)&&l.options.hidden===!1&&O&&h.options.hidden===!1&&y.options.hidden===!1;D&&this.body.edgeIndices.push(l.id)}};Network.prototype.bindEventListeners=function(){var r=this;this.body.emitter.on("_dataChanged",function(){r.edgesHandler._updateState(),r.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){r.clustering._updateState(),r._updateVisibleIndices(),r._updateValueRange(r.body.nodes),r._updateValueRange(r.body.edges),r.body.emitter.emit("startSimulation"),r.body.emitter.emit("_requestRedraw")})};Network.prototype.setData=function(r){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),r&&r.dot&&(r.nodes||r.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(r&&r.options),r&&r.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=DOTToGraph(r.dot);this.setData(t);return}else if(r&&r.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var e=parseGephi(r.gephi);this.setData(e);return}else this.nodesHandler.setData(r&&r.nodes,!0),this.edgesHandler.setData(r&&r.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};Network.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var r in this.body.nodes)!Object.prototype.hasOwnProperty.call(this.body.nodes,r)||delete this.body.nodes[r];for(var t in this.body.edges)!Object.prototype.hasOwnProperty.call(this.body.edges,t)||delete this.body.edges[t];recursiveDOMDelete(this.body.container)};Network.prototype._updateValueRange=function(r){var t,e=void 0,o=void 0,l=0;for(t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var h=r[t].getValue();h!==void 0&&(e=e===void 0?h:Math.min(h,e),o=o===void 0?h:Math.max(h,o),l+=h)}if(e!==void 0&&o!==void 0)for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&r[t].setValueRange(e,o,l)};Network.prototype.isActive=function(){return!this.activator||this.activator.active};Network.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Network.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Network.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Network.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Network.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Network.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Network.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Network.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Network.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Network.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Network.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Network.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Network.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Network.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Network.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Network.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Network.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Network.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Network.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Network.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Network.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};Network.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Network.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Network.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Network.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Network.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Network.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Network.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Network.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Network.prototype.getConnectedNodes=function(r){return this.body.nodes[r]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};Network.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Network.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Network.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Network.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Network.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Network.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Network.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Network.prototype.getNodeAt=function(){var r=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Network.prototype.getEdgeAt=function(){var r=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return r!==void 0&&r.id!==void 0?r.id:r};Network.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Network.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Network.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};Network.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Network.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Network.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Network.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Network.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Network.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Network.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Network.prototype.getOptionsFromConfigurator=function(){var r={};return this.configurator&&(r=this.configurator.getOptions.apply(this.configurator)),r};var visNetwork="",editor_svelte_svelte_type_style_lang="";function create_if_block_6$2(r){let t,e,o,l,h;return{c(){t=element("div"),e=text("Enregistr\xE9 \xE0 "),o=text(r[6]),l=text(" \u2705"),set_style(t,"position","absolute"),set_style(t,"top","10px"),set_style(t,"right","20px"),set_style(t,"opacity",".5"),set_style(t,"width","fit-content")},m(y,O){insert(y,t,O),append(t,e),append(t,o),append(t,l)},p(y,O){O[0]&64&&set_data(o,y[6])},i(y){h||add_render_callback(()=>{h=create_in_transition(t,fly,{x:50}),h.start()})},o:noop$4,d(y){y&&detach(t)}}}function create_else_block_4(r){let t;return{c(){t=element("div"),t.innerHTML=`<div class="p-3 py-md-1 position-absolute" style="font-size:2rem;"><img src="assets/LOGO_JTV_ALT.svg" alt="logo jetevois" style="height:120px; opacity:.05"/></div> 
        <h2>Bienvenue dans le cr\xE9ateur de sondage de R\xE9tine \u{1F917}</h2> 
        <p class="mb-0 opacity-75" style="font-family:Lexend Deca">Cette interface vous permet de cr\xE9er votre premier questionnaire et pr\xE9visualiser vos modifications en direct.<br/>
          Inscrivez-vous gratuitement \xE0 R\xE9tine afin d\u2019enregistrer vos modifications et pr\xE9parer la diffusion de votre sondage !</p>`,attr(t,"class","mx-auto mb-2 mt-4 mt-md-0 px-md-4 text-start")},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_5$3(r){let t,e,o;return{c(){t=element("input"),attr(t,"class","mx-auto svelte-tjoabk"),attr(t,"type","text"),attr(t,"id","titreSond"),attr(t,"placeholder","Nom du projet"),attr(t,"maxlength","100")},m(l,h){insert(l,t,h),set_input_value(t,r[1].nom_proj),e||(o=[listen(t,"input",r[17]),listen(t,"change",r[14])],e=!0)},p(l,h){h[0]&2&&t.value!==l[1].nom_proj&&set_input_value(t,l[1].nom_proj)},d(l){l&&detach(t),e=!1,run_all(o)}}}function create_else_block_3(r){let t;return{c(){t=element("i"),attr(t,"class","bx bx-zoom-in")},m(e,o){insert(e,t,o)},d(e){e&&detach(t)}}}function create_if_block_4$3(r){let t;return{c(){t=element("i"),attr(t,"class","bx bx-zoom-out")},m(e,o){insert(e,t,o)},d(e){e&&detach(t)}}}function create_else_block_2(r){let t;return{c(){t=element("i"),attr(t,"class","bx bx-collapse")},m(e,o){insert(e,t,o)},d(e){e&&detach(t)}}}function create_if_block_3$3(r){let t;return{c(){t=element("i"),attr(t,"class","bx bx-expand")},m(e,o){insert(e,t,o)},d(e){e&&detach(t)}}}function create_else_block_1$2(r){let t;return{c(){t=element("div"),t.innerHTML='<div class="h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-tjoabk" style="background-color: #dbd6e37d; border-radius: 10px; color: #3c3c3c; font-family: Lexend;">Connectez vous pour charger un mod\xE8le de notre base de donn\xE9es, et personnaliser votre sondage.</div>',attr(t,"class","col-12 col-md-8 py-2 pr-1 pl-0 hvr-float"),set_style(t,"height","100px")},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_2$5(r){let t,e,o,l,h,y,O;return{c(){t=element("div"),e=element("div"),e.textContent="\u{1F4DA} Charger",o=space(),l=element("div"),h=element("div"),h.textContent="\u{1F3A8} Design",attr(e,"class","h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-tjoabk"),set_style(e,"background-color","#dbd6e37d"),set_style(e,"border-radius","10px"),set_style(e,"color","#3c3c3c"),set_style(e,"font-family","Lexend"),attr(t,"class","col-12 col-md-4 py-2 pr-1 pl-0 hvr-float"),set_style(t,"height","100px"),attr(h,"class","h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-tjoabk"),set_style(h,"background-color","#dbd6e37d"),set_style(h,"border-radius","10px"),set_style(h,"color","#3c3c3c"),set_style(h,"font-family","Lexend"),attr(l,"class","col-12 col-md-4 py-2 pr-1 pl-0 hvr-float"),set_style(l,"height","100px")},m(D,R){insert(D,t,R),append(t,e),insert(D,o,R),insert(D,l,R),append(l,h),y||(O=[listen(e,"click",r[18]),listen(h,"click",r[19])],y=!0)},p:noop$4,d(D){D&&detach(t),D&&detach(o),D&&detach(l),y=!1,run_all(O)}}}function create_else_block$5(r){let t,e,o;return{c(){t=element("div"),t.innerHTML='<h3 class="m-0" style="line-height: 0.6;">Inscription</h3>',attr(t,"class","h-100 d-flex align-items-center justify-content-center"),set_style(t,"background-color","#6219d8"),set_style(t,"border-radius","10px"),set_style(t,"color","white"),set_style(t,"cursor","pointer")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[21]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_if_block_1$5(r){let t,e,o;return{c(){t=element("div"),t.innerHTML=`<h3 class="m-0" style="line-height: 0.6;">Lancer<br/> 
              <span style="font-size: 0.9rem;">le sondage !</span></h3>`,attr(t,"class","h-100 d-flex align-items-center justify-content-center"),set_style(t,"background-color","#6219d8"),set_style(t,"border-radius","10px"),set_style(t,"color","white"),set_style(t,"cursor","pointer")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[20]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_catch_block$6(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block$6(r){let t,e,o,l,h;return e=new Chat({props:{chatContent:r[1]}}),{c(){t=element("div"),create_component(e.$$.fragment),attr(t,"class","w-100 h-100 d-flex align-items-center justify-content-center svelte-tjoabk"),set_style(t,"border-radius","15px")},m(y,O){insert(y,t,O),mount_component(e,t,null),h=!0},p(y,O){const D={};O[0]&2&&(D.chatContent=y[1]),e.$set(D)},i(y){h||(transition_in(e.$$.fragment,y),add_render_callback(()=>{l&&l.end(1),o=create_in_transition(t,blur,{duration:1e3}),o.start()}),h=!0)},o(y){transition_out(e.$$.fragment,y),o&&o.invalidate(),l=create_out_transition(t,blur,{duration:1e3}),h=!1},d(y){y&&detach(t),destroy_component(e),y&&l&&l.end()}}}function create_pending_block$6(r){let t;return{c(){t=element("div"),attr(t,"class","svelte-tjoabk")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_if_block$7(r){let t,e,o,l,h,y,O,D;const R=[r[8].props||{}];function F(U){r[23](U)}var j=r[8].component;function B(U){let W={};for(let q=0;q<R.length;q+=1)W=assign$7(W,R[q]);return U[1]!==void 0&&(W.sondageEnCreation=U[1]),{props:W}}return j&&(t=new j(B(r)),binding_callbacks.push(()=>bind$f(t,"sondageEnCreation",F))),{c(){t&&create_component(t.$$.fragment),o=space(),l=element("div"),attr(l,"class","backdrop svelte-tjoabk")},m(U,W){t&&mount_component(t,U,W),insert(U,o,W),insert(U,l,W),y=!0,O||(D=listen(l,"click",r[24]),O=!0)},p(U,W){const q=W[0]&256?get_spread_update(R,[get_spread_object(U[8].props||{})]):{};if(!e&&W[0]&2&&(e=!0,q.sondageEnCreation=U[1],add_flush_callback(()=>e=!1)),j!==(j=U[8].component)){if(t){group_outros();const K=t;transition_out(K.$$.fragment,1,0,()=>{destroy_component(K,1)}),check_outros()}j?(t=new j(B(U)),binding_callbacks.push(()=>bind$f(t,"sondageEnCreation",F)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,o.parentNode,o)):t=null}else j&&t.$set(q)},i(U){y||(t&&transition_in(t.$$.fragment,U),add_render_callback(()=>{h||(h=create_bidirectional_transition(l,fade,{},!0)),h.run(1)}),y=!0)},o(U){t&&transition_out(t.$$.fragment,U),h||(h=create_bidirectional_transition(l,fade,{},!1)),h.run(0),y=!1},d(U){t&&destroy_component(t,U),U&&detach(o),U&&detach(l),U&&h&&h.end(),O=!1,D()}}}function create_default_slot$5(r){let t,e,o=r[8]&&create_if_block$7(r);return{c(){o&&o.c(),t=empty$2()},m(l,h){o&&o.m(l,h),insert(l,t,h),e=!0},p(l,h){l[8]?o?(o.p(l,h),h[0]&256&&transition_in(o,1)):(o=create_if_block$7(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){e||(transition_in(o),e=!0)},o(l){transition_out(o),e=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$g(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe,ge,ye,we,$e,_e=r[6]!=""&&!r[2]&&create_if_block_6$2(r);function Se(De,Ie){return De[2]?create_else_block_4:create_if_block_5$3}let Te=Se(r),be=Te(r);function Oe(De,Ie){return De[5]?create_if_block_4$3:create_else_block_3}let xe=Oe(r),Ee=xe(r);function Ce(De,Ie){return De[4]?create_else_block_2:create_if_block_3$3}let ve=Ce(r),Pe=ve(r);function Me(De,Ie){return De[2]?create_else_block_1$2:create_if_block_2$5}let Ne=Me(r),Be=Ne(r);function Fe(De,Ie){return De[2]?create_else_block$5:create_if_block_1$5}let Re=Fe(r),ke=Re(r),Le={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$6,then:create_then_block$6,catch:create_catch_block$6,blocks:[,,,]};return handle_promise(pe=r[10](r[3]),Le),ge=new Modals({props:{$$slots:{default:[create_default_slot$5]},$$scope:{ctx:r}}}),{c(){t=space(),e=element("div"),_e&&_e.c(),o=space(),l=element("div"),be.c(),h=space(),y=element("div"),O=element("div"),D=element("div"),R=text("\u23F2\uFE0F Dur\xE9e estim\xE9e : "),F=text(r[7]),j=space(),B=element("div"),U=element("div"),Ee.c(),W=space(),q=element("div"),Pe.c(),K=space(),Y=element("div"),X=element("div"),X.textContent="Chargement...",Q=space(),Z=element("hr"),ee=space(),re=element("div"),Be.c(),te=space(),ne=element("div"),ke.c(),ie=space(),oe=element("div"),ce=element("div"),ue=element("div"),Le.block.c(),he=space(),se=element("div"),le=element("button"),le.textContent="\u267B\uFE0F R\xE9initialiser",fe=space(),create_component(ge.$$.fragment),attr(l,"class","col-12 w-100 text-center py-3"),attr(D,"class","dureeEstim svelte-tjoabk"),attr(U,"class","hvr-bounce-in me-2"),attr(q,"class","hvr-bounce-in"),attr(B,"class","expandBtn svelte-tjoabk"),attr(Y,"id","nodeGraph"),attr(Y,"style",J=r[4]?"max-height:95vh; min-height:80vh;":""),attr(Y,"class","svelte-tjoabk"),attr(O,"class","cellZone w-100 svelte-tjoabk"),attr(Z,"class","w-75 mt-4 mx-auto"),attr(ne,"class","col-12 col-md-4 py-1 pl-1 pr-0 hvr-float"),set_style(ne,"height","100px"),attr(re,"class","row"),attr(y,"class",ae=r[4]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"),attr(ue,"class","gridForAnimation svelte-tjoabk"),attr(ce,"class","iphone-x mx-auto my-4 svelte-tjoabk"),attr(le,"class","screenBtn px-4 py-2 svelte-tjoabk"),attr(se,"class","mt-4 text-center"),attr(oe,"id","creaUserView"),attr(oe,"class","col-12 col-lg-4 p-3 text-center"),attr(e,"id","studio"),attr(e,"class","row p-1 svelte-tjoabk")},m(De,Ie){insert(De,t,Ie),insert(De,e,Ie),_e&&_e.m(e,null),append(e,o),append(e,l),be.m(l,null),append(e,h),append(e,y),append(y,O),append(O,D),append(D,R),append(D,F),append(O,j),append(O,B),append(B,U),Ee.m(U,null),append(B,W),append(B,q),Pe.m(q,null),append(O,K),append(O,Y),append(Y,X),append(y,Q),append(y,Z),append(y,ee),append(y,re),Be.m(re,null),append(re,te),append(re,ne),ke.m(ne,null),append(e,ie),append(e,oe),append(oe,ce),append(ce,ue),Le.block.m(ue,Le.anchor=null),Le.mount=()=>ue,Le.anchor=null,append(oe,he),append(oe,se),append(se,le),insert(De,fe,Ie),mount_component(ge,De,Ie),ye=!0,we||($e=[listen(U,"click",r[12]),listen(q,"click",r[11]),action_destroyer(r[15].call(null,X)),listen(le,"click",r[22])],we=!0)},p(De,Ie){r=De,r[6]!=""&&!r[2]?_e?(_e.p(r,Ie),Ie[0]&68&&transition_in(_e,1)):(_e=create_if_block_6$2(r),_e.c(),transition_in(_e,1),_e.m(e,o)):_e&&(_e.d(1),_e=null),Te===(Te=Se(r))&&be?be.p(r,Ie):(be.d(1),be=Te(r),be&&(be.c(),be.m(l,null))),(!ye||Ie[0]&128)&&set_data(F,r[7]),xe!==(xe=Oe(r))&&(Ee.d(1),Ee=xe(r),Ee&&(Ee.c(),Ee.m(U,null))),ve!==(ve=Ce(r))&&(Pe.d(1),Pe=ve(r),Pe&&(Pe.c(),Pe.m(q,null))),(!ye||Ie[0]&16&&J!==(J=r[4]?"max-height:95vh; min-height:80vh;":""))&&attr(Y,"style",J),Ne===(Ne=Me(r))&&Be?Be.p(r,Ie):(Be.d(1),Be=Ne(r),Be&&(Be.c(),Be.m(re,te))),Re===(Re=Fe(r))&&ke?ke.p(r,Ie):(ke.d(1),ke=Re(r),ke&&(ke.c(),ke.m(ne,null))),(!ye||Ie[0]&16&&ae!==(ae=r[4]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"))&&attr(y,"class",ae),Le.ctx=r,Ie[0]&8&&pe!==(pe=r[10](r[3]))&&handle_promise(pe,Le)||update_await_block_branch(Le,r,Ie);const Ve={};Ie[0]&258|Ie[1]&8&&(Ve.$$scope={dirty:Ie,ctx:r}),ge.$set(Ve)},i(De){ye||(transition_in(_e),transition_in(Le.block),me||add_render_callback(()=>{me=create_in_transition(ce,fly,{y:50,duration:600,delay:100}),me.start()}),transition_in(ge.$$.fragment,De),ye=!0)},o(De){for(let Ie=0;Ie<3;Ie+=1){const Ve=Le.blocks[Ie];transition_out(Ve)}transition_out(ge.$$.fragment,De),ye=!1},d(De){De&&detach(t),De&&detach(e),_e&&_e.d(),be.d(),Ee.d(),Pe.d(),Be.d(),ke.d(),Le.block.d(),Le.token=null,Le=null,De&&detach(fe),destroy_component(ge,De),we=!1,run_all($e)}}}function instance$e(r,t,e){let o,l;component_subscribe(r,modals,fe=>e(16,l=fe));let{demoMode:h=!1}=t;function y(fe){activePageStore.set(fe)}const O=async fe=>{};let D=0,R=!1;function F(){R?e(4,R=!1):e(4,R=!0),B()}let j=!0;function B(){j?(ne.fit(),e(5,j=!1)):(ne.focus("end",{scale:R?.7:.8,offset:q.jsonContent.length>5?{x:0,y:190}:{x:0,y:50}}),e(5,j=!0))}let U=["#6219D8","#AD5C6C","#5260BC","#734AE4"],{idSondage:W=null}=t,{sondageEnCreation:q={v:2,nom_proj:"Brouillon",color:U[Math.floor(Math.random()*U.length)],logo:"",jsonContent:[{idr:"start",q:"Bienvenue dans ce sondage ! \u{1F917} ",suiv:[{idr:"end",cond:[]}],a:{type:"1c",a:["D\xE9marrer \u{1F680}"]}},{idr:"end",suiv:[],q:"Merci pour votre participation ! \u{1F389}",a:{type:"fin"}}]}}=t,K="";function Y(){h==!0&&X!=JSON.stringify(q)&&localStorage.setItem("currentSondage",JSON.stringify(q)),X!=JSON.stringify(q)&&h==!1&&(W!=null?updateSave(q,W).then(fe=>{e(6,K=new Date().toLocaleString().split(" ")[1])}).catch(fe=>{alert(fe)}):firstSave(q).then(fe=>{e(0,W=fe),e(6,K=new Date().toLocaleString().split(" ")[1])}).catch(fe=>{alert(fe)}))}let X;localStorage.getItem("currentSondage")!=null&&(q=JSON.parse(localStorage.getItem("currentSondage")),h||(Y(),localStorage.removeItem("currentSondage"))),X=JSON.stringify(q);let J;function Q(){let fe=q.jsonContent.length*8-10;fe>60?e(7,J=Math.floor(fe/60).toString()+" min, "+(fe%60).toString()+" sec"):e(7,J=fe.toString()+" secondes")}const Z=()=>{ae(),console.log(q.jsonContent),Y(),Q(),e(3,D++,D),B()};var ee=null;const re=()=>{clearInterval(ee),ee=setInterval(function(){Y(),clearInterval(ee)},1e3)};onMount(()=>{Z()});const te=fe=>{let ge={id:fe.split(";")[0],sondageEnCreation:q,majTree:Z};fe.split(";")[0]!="new"?ge.questionData=structuredClone(q.jsonContent.find(ye=>ye.idr==fe.split(";")[0])):ge.prevQPosition=q.jsonContent.findIndex(ye=>ye.idr==fe.split(";")[1]),openModal(ModalCellEdit,ge)};var ne;function ae(){let fe=q.jsonContent.map(be=>{let Oe=q.jsonContent.findIndex(ve=>ve.idr==be.idr),xe,Ee,Ce;switch(Oe){case 0:xe={background:"#6219D8",border:"#6219D8"},Ee={color:"white"},Ce=!0;break;case q.jsonContent.length-1:xe={background:"#2FCC72",border:"#2FCC72"},Ee={color:"white"},Ce=!0;break;default:xe={background:"white",border:"#6219D8"},Ee={color:"#343434"},Ce=!1}return{id:be.idr,label:be.q,suiv:be.suiv,type:be.a.type,color:xe,font:Ee,fixed:Ce}}),ge=[];for(var ye in fe){let be=fe[ye].id;for(var we in fe[ye].suiv){let Oe=fe[ye].suiv[we].idr;if(Oe!="end"){let xe=fe[ye].suiv[we].cond.length>0?fe[ye].suiv[we].cond[1]:"",Ee="";xe!=""&&["mc","1c"].includes(q.jsonContent.find(Ce=>Ce.idr==fe[ye].suiv[we].cond[0]).a.type)?fe[ye].suiv[we].cond[2].toString().split("&&&&&").length>1?Ee=fe[ye].suiv[we].cond[2].split("&&&&&").map(ve=>q.jsonContent.find(Pe=>Pe.idr==fe[ye].suiv[we].cond[0]).a.a[ve]).join(", "):Ee=q.jsonContent.find(Ce=>Ce.idr==fe[ye].suiv[we].cond[0]).a.a[fe[ye].suiv[we].cond[2]]:xe!=""&&["num"].includes(q.jsonContent.find(Ce=>Ce.idr==fe[ye].suiv[we].cond[0]).a.type)&&(Ee=fe[ye].suiv[we].cond[2]),ge.push({from:be,to:Oe,id:`link;${be};${Oe}`,label:xe+Ee})}else{let xe="new;"+be;fe.push({id:xe,label:q.jsonContent.filter(Ee=>Ee.suiv.some(Ce=>Ce.idr=="end")).length==1?"\u2795 Nouvelle question":"\u2795",color:{border:"grey",background:"white"},shapeProperties:{borderDashes:[5,5]},widthConstraint:{minimum:40}}),ge.push({from:be,to:xe}),ge.push({from:xe,to:"end"})}}}var $e=new DataSet(fe),_e=new DataSet(ge),Se={nodes:$e,edges:_e},Te={autoResize:!0,height:"100%",width:"100%",locale:"fr",interaction:{dragNodes:!0,navigationButtons:!1,hover:!0,zoomSpeed:.4},physics:{enabled:!0,maxVelocity:10,hierarchicalRepulsion:{avoidOverlap:2,springConstant:.001,centralGravity:20},wind:{x:1.5}},layout:{hierarchical:{direction:"UD",sortMethod:"directed",shakeTowards:"roots",levelSeparation:100}},edges:{width:2,arrows:{to:{enabled:!0,scaleFactor:.5}},font:{color:"grey"},smooth:{enabled:!0,type:"discrete"}},nodes:{shape:"box",shapeProperties:{borderRadius:20},borderWidth:1.5,margin:16,widthConstraint:{maximum:300,minimum:100}}};ne=new Network(document.getElementById("nodeGraph"),Se,Te),ne.on("hoverNode",function(be){ne.canvas.body.container.style.cursor="pointer"}),ne.on("click",function(be){be.nodes.length!=0&&(fe.find(Oe=>Oe.id==be.nodes[0]),be.nodes.length>0&&te(be.nodes[0]))}),ne.on("stabilizationIterationsDone",function(){ne.setOptions({physics:!1})})}function ie(fe){setTimeout(()=>{ne=null,ae()},800)}function oe(){q.nom_proj=this.value,e(1,q)}const ce=()=>openModal(ModalTemplateLoad,{sondageEnCreation:q,updateFun:Z}),ue=()=>openModal(ModalDesignSond,{sondageEnCreation:q,updateFun:Z}),pe=()=>{W!=null?validateSondage(q,W,y):alert("Veuillez d'abord enregistrer votre sondage en modifiant une question ou le titre.")},me=()=>openModal(AuthModule,{}),he=()=>{e(3,D++,D),console.log(q)};function se(fe){q=fe,e(1,q)}const le=()=>{closeModal()};return r.$$set=fe=>{"demoMode"in fe&&e(2,h=fe.demoMode),"idSondage"in fe&&e(0,W=fe.idSondage),"sondageEnCreation"in fe&&e(1,q=fe.sondageEnCreation)},r.$$.update=()=>{r.$$.dirty[0]&65536&&e(8,o=l[l.length-1])},[W,q,h,D,R,j,K,J,o,y,O,F,B,Z,re,ie,l,oe,ce,ue,pe,me,he,se,le]}class Editor extends SvelteComponent{constructor(t){super(),init(this,t,instance$e,create_fragment$g,safe_not_equal,{demoMode:2,idSondage:0,sondageEnCreation:1},null,[-1,-1])}}const countOccurrences=(r,t)=>r.reduce((e,o)=>o===t?e+1:e,0),getDaysArray=function(r,t){for(var e=[],o=new Date(r);o<=new Date(t);o.setDate(o.getDate()+1))e.push(new Date(o));return e};function uuidv4(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,r=>(r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>r/4).toString(16))}let scaleParam={x:{grid:{display:!1},ticks:{stepSize:1,maxTicksLimit:20,beginAtZero:!0}},y:{grid:{display:!1},ticks:{beginAtZero:!0,maxTicksLimit:5}}},deferredConfig={xOffset:150,yOffset:"30%",delay:100},chartColors=["#23BE6E4D","#7798AB4D","#6219D84D","#DB54614D","#42BFDD4D","#E7BB734D","#F08CAE4D","#A297154D","#4C4C474D","#F588514D"];async function dlData(r){var t=new Headers;return t.append("Authorization","Token "+xxgc("rtnt")),t.append("Content-Type","application/json"),fetch(`${rtnUrl}sondage/edit/x/${r}/`,{method:"GET",headers:t,redirect:"follow"}).then(e=>e.blob()).then(e=>{var o=window.URL.createObjectURL(e);window.location.assign(o)})}async function delSondRtn(r,t){Swal.fire({title:"Supprimer le sondage?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#6219D8",cancelButtonColor:"#2FCC72",confirmButtonText:"Supprimer le sondage",cancelButtonText:"Annuler"}).then(e=>{if(e.isConfirmed){var o=new Headers;return o.append("Authorization","Token "+xxgc("rtnt")),fetch(`${rtnUrl}sondages/edit/${r}/`,{method:"DELETE",headers:o,redirect:"follow"}).then(l=>l.text()).then(l=>(Swal.fire("Sondage supprim\xE9","Votre sondage ainsi que les r\xE9ponses ont \xE9t\xE9 supprim\xE9s.","success"),t("projects"),l)).catch(l=>l)}})}async function shareQueryGET(r){var t=new Headers;return t.append("Authorization","Token "+xxgc("rtnt")),t.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/edit/share/${r}/`,{method:"GET",headers:t,redirect:"follow"}).then(e=>e.text()).then(e=>JSON.parse(e)).catch(e=>e)}async function shareQueryCREATE(r){var t=new Headers;return t.append("Authorization","Token "+xxgc("rtnt")),t.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/edit/share/${r}/`,{method:"PUT",headers:t,redirect:"follow",body:JSON.stringify({share_id:uuidv4().toString(),share_pw:uuidv4().toString()})}).then(e=>e.text()).then(e=>JSON.parse(e)).catch(e=>e)}async function shareQueryDELETE(r){var t=new Headers;return t.append("Authorization","Token "+xxgc("rtnt")),t.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/edit/share/${r}/`,{method:"PUT",headers:t,redirect:"follow",body:JSON.stringify({share_id:"no",share_pw:"no"})}).then(e=>e.text()).then(e=>JSON.parse(e)).catch(e=>e)}var projetCard_svelte_svelte_type_style_lang="";function create_fragment$f(r){let t,e,o,l,h,y,O,D=r[0].nom_proj+"",R,F,j,B,U=r[0].crea_date.split("T")[0]+"",W,q,K,Y=r[1]?"Brouillon":r[0].reponse.length.toString()+" r\xE9ponses",X,J,Q;return{c(){t=element("div"),e=element("div"),o=element("img"),h=space(),y=element("div"),O=element("div"),R=text(D),F=space(),j=element("div"),B=element("div"),W=text(U),q=space(),K=element("div"),X=text(Y),attr(o,"class","w-100"),src_url_equal(o.src,l=r[1]?"/assets/icons/delete.svg":"/assets/icons/share.svg")||attr(o,"src",l),attr(o,"alt","bouton partger"),attr(e,"class","threeDot hvr-bounce-in svelte-33rzr5"),set_style(O,"font-size",r[4]+"rem"),attr(y,"class","cardTop w-100 h-75 m-0 svelte-33rzr5"),set_style(y,"background-color",r[1]?"grey":r[0].color),attr(B,"class","d-fk"),attr(j,"class","px-3 flex-fill d-flex justify-content-between align-items-center w-100"),attr(t,"class","neuProjet d-flex align-items-center justify-content-stretch flex-column hvr-float svelte-33rzr5")},m(Z,ee){insert(Z,t,ee),append(t,e),append(e,o),append(t,h),append(t,y),append(y,O),append(O,R),append(t,F),append(t,j),append(j,B),append(B,W),append(j,q),append(j,K),append(K,X),J||(Q=[listen(e,"click",stop_propagation(r[2])),listen(t,"click",r[3])],J=!0)},p(Z,[ee]){ee&1&&D!==(D=Z[0].nom_proj+"")&&set_data(R,D),ee&1&&set_style(y,"background-color",Z[1]?"grey":Z[0].color),ee&1&&U!==(U=Z[0].crea_date.split("T")[0]+"")&&set_data(W,U),ee&1&&Y!==(Y=Z[1]?"Brouillon":Z[0].reponse.length.toString()+" r\xE9ponses")&&set_data(X,Y)},i:noop$4,o:noop$4,d(Z){Z&&detach(t),J=!1,run_all(Q)}}}function instance$d(r,t,e){function o(U){activePageStore.set(U)}let{sondage:l}=t,{loadSondage:h}=t,{updateFun:y}=t,{loadSView:O}=t,{shareFunction:D}=t,R=l.reponse.length==0&&l.priv==!0;const F=()=>{R?delSondRtn(l.id,y):D(),window.event.stopPropagation()},j=()=>{R?(e(0,l.jsonContent=JSON.parse(l.jsonContent),l),h(l,l.id)):(O(l),o("projectView"))};let B=l.nom_proj.length<35?"1.8":"1.1";return r.$$set=U=>{"sondage"in U&&e(0,l=U.sondage),"loadSondage"in U&&e(5,h=U.loadSondage),"updateFun"in U&&e(6,y=U.updateFun),"loadSView"in U&&e(7,O=U.loadSView),"shareFunction"in U&&e(8,D=U.shareFunction)},[l,R,F,j,B,h,y,O,D]}class ProjetCard extends SvelteComponent{constructor(t){super(),init(this,t,instance$d,create_fragment$f,safe_not_equal,{sondage:0,loadSondage:5,updateFun:6,loadSView:7,shareFunction:8})}}var projectsList_svelte_svelte_type_style_lang="";function get_each_context$3(r,t,e){const o=r.slice();return o[11]=t[e],o[13]=e,o}function create_catch_block$5(r){let t,e=r[14]+"",o;return{c(){t=element("div"),o=text(e)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&4&&e!==(e=l[14]+"")&&set_data(o,e)},i:noop$4,o:noop$4,d(l){l&&detach(t)}}}function create_then_block$5(r){let t=[],e=new Map,o,l,h=r[10].reverse();const y=O=>O[11].id;for(let O=0;O<h.length;O+=1){let D=get_each_context$3(r,h,O),R=y(D);e.set(R,t[O]=create_each_block$3(R,D))}return{c(){for(let O=0;O<t.length;O+=1)t[O].c();o=empty$2()},m(O,D){for(let R=0;R<t.length;R+=1)t[R].m(O,D);insert(O,o,D),l=!0},p(O,D){D&23&&(h=O[10].reverse(),group_outros(),t=update_keyed_each(t,D,y,1,O,h,e,o.parentNode,outro_and_destroy_block,create_each_block$3,o,get_each_context$3),check_outros())},i(O){if(!l){for(let D=0;D<h.length;D+=1)transition_in(t[D]);l=!0}},o(O){for(let D=0;D<t.length;D+=1)transition_out(t[D]);l=!1},d(O){for(let D=0;D<t.length;D+=1)t[D].d(O);O&&detach(o)}}}function create_each_block$3(r,t){let e,o,l,h,y;function O(){return t[7](t[11])}return o=new ProjetCard({props:{loadSondage:t[0],sondage:t[11],loadSView:t[1],shareFunction:O,updateFun:t[4]}}),{key:r,first:null,c(){e=element("div"),create_component(o.$$.fragment),l=space(),attr(e,"class","col-12 col-sm-6 col-lg-4 mb-5"),this.first=e},m(D,R){insert(D,e,R),mount_component(o,e,null),append(e,l),y=!0},p(D,R){t=D;const F={};R&1&&(F.loadSondage=t[0]),R&4&&(F.sondage=t[11]),R&2&&(F.loadSView=t[1]),R&4&&(F.shareFunction=O),o.$set(F)},i(D){y||(transition_in(o.$$.fragment,D),h||add_render_callback(()=>{h=create_in_transition(e,fly,{x:-20,delay:t[13]*30}),h.start()}),y=!0)},o(D){transition_out(o.$$.fragment,D),y=!1},d(D){D&&detach(e),destroy_component(o)}}}function create_pending_block$5(r){let t;return{c(){t=element("div")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_if_block$6(r){let t,e,o,l,h,y,O;const D=[r[3].props||{}];var R=r[3].component;function F(j){let B={};for(let U=0;U<D.length;U+=1)B=assign$7(B,D[U]);return{props:B}}return R&&(t=new R(F())),{c(){t&&create_component(t.$$.fragment),e=space(),o=element("div"),attr(o,"class","backdrop svelte-ie5mt5")},m(j,B){t&&mount_component(t,j,B),insert(j,e,B),insert(j,o,B),h=!0,y||(O=listen(o,"click",r[8]),y=!0)},p(j,B){const U=B&8?get_spread_update(D,[get_spread_object(j[3].props||{})]):{};if(R!==(R=j[3].component)){if(t){group_outros();const W=t;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(t=new R(F()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else R&&t.$set(U)},i(j){h||(t&&transition_in(t.$$.fragment,j),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(j){t&&transition_out(t.$$.fragment,j),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(j){t&&destroy_component(t,j),j&&detach(e),j&&detach(o),j&&l&&l.end(),y=!1,O()}}}function create_default_slot$4(r){let t,e,o=r[3]&&create_if_block$6(r);return{c(){o&&o.c(),t=empty$2()},m(l,h){o&&o.m(l,h),insert(l,t,h),e=!0},p(l,h){l[3]?o?(o.p(l,h),h&8&&transition_in(o,1)):(o=create_if_block$6(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){e||(transition_in(o),e=!0)},o(l){transition_out(o),e=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$e(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$5,then:create_then_block$5,catch:create_catch_block$5,value:10,error:14,blocks:[,,,]};return handle_promise(U=r[2],J),q=new Modals({props:{$$slots:{default:[create_default_slot$4]},$$scope:{ctx:r}}}),{c(){t=element("div"),e=element("h1"),e.textContent="Vos sondages",o=space(),l=element("h6"),l.textContent="Retrouvez l\u2019ensemble de vos sondages, qu\u2019ils soient en brouillon (gris) ou publi\xE9s (en couleur)",h=space(),y=element("div"),O=space(),D=element("div"),R=element("div"),F=element("div"),j=element("div"),j.innerHTML=`Cr\xE9er un<br/>
          nouveau projet`,B=space(),J.block.c(),W=space(),create_component(q.$$.fragment),attr(e,"class","py-2 mb-1 text-left"),attr(l,"class","ps-1 opacity-75"),attr(y,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),attr(j,"class","neuProjet d-flex align-items-center justify-content-center text-center svelte-ie5mt5"),set_style(j,"height","200px"),attr(F,"class","col-12 col-sm-6 col-lg-4 mb-4"),attr(R,"class","row"),set_style(D,"min-height","100vh"),attr(t,"id","mesSondages"),attr(t,"class","p-3 w-100 mx-auto"),set_style(t,"max-width","1100px")},m(Q,Z){insert(Q,t,Z),append(t,e),append(t,o),append(t,l),append(t,h),append(t,y),append(t,O),append(t,D),append(D,R),append(R,F),append(F,j),append(R,B),J.block.m(R,J.anchor=null),J.mount=()=>R,J.anchor=null,insert(Q,W,Z),mount_component(q,Q,Z),K=!0,Y||(X=listen(j,"click",r[6]),Y=!0)},p(Q,[Z]){r=Q,J.ctx=r,Z&4&&U!==(U=r[2])&&handle_promise(U,J)||update_await_block_branch(J,r,Z);const ee={};Z&32776&&(ee.$$scope={dirty:Z,ctx:r}),q.$set(ee)},i(Q){K||(transition_in(J.block),transition_in(q.$$.fragment,Q),K=!0)},o(Q){for(let Z=0;Z<3;Z+=1){const ee=J.blocks[Z];transition_out(ee)}transition_out(q.$$.fragment,Q),K=!1},d(Q){Q&&detach(t),J.block.d(),J.token=null,J=null,Q&&detach(W),destroy_component(q,Q),Y=!1,X()}}}function instance$c(r,t,e){let o,l;component_subscribe(r,modals,U=>e(5,l=U));let{loadSondage:h}=t,{loadSView:y}=t;async function O(){var U=new Headers;U.append("Authorization","Token "+xxgc("rtnt")),U.append("Content-Type","application/json");var W={method:"GET",headers:U,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",W).then(q=>q.text()).then(q=>JSON.parse(q)).catch(q=>q)}let D=O();const R=()=>{e(2,D=O())},F=()=>h("new"),j=U=>{openModal(ModalDiffuse,{proj:U})},B=()=>{closeModal()};return r.$$set=U=>{"loadSondage"in U&&e(0,h=U.loadSondage),"loadSView"in U&&e(1,y=U.loadSView)},r.$$.update=()=>{r.$$.dirty&32&&e(3,o=l[l.length-1])},[h,y,D,o,R,l,F,j,B]}class ProjectsList extends SvelteComponent{constructor(t){super(),init(this,t,instance$c,create_fragment$e,safe_not_equal,{loadSondage:0,loadSView:1})}}var modalPostEditSond_svelte_svelte_type_style_lang="";function get_each_context$2(r,t,e){const o=r.slice();return o[10]=t[e],o[11]=t,o[12]=e,o}function create_each_block$2(r){let t,e,o;function l(){r[8].call(t,r[12])}return{c(){t=element("textarea"),attr(t,"class","fieldQ p-2 svelte-iqfjkt"),attr(t,"placeholder","Comment est votre blanquette ?"),attr(t,"maxlength","600")},m(h,y){insert(h,t,y),set_input_value(t,r[3][r[12]].q),e||(o=listen(t,"input",l),e=!0)},p(h,y){r=h,y&8&&set_input_value(t,r[3][r[12]].q)},d(h){h&&detach(t),e=!1,o()}}}function create_fragment$d(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae=r[3],ie=[];for(let oe=0;oe<ae.length;oe+=1)ie[oe]=create_each_block$2(get_each_context$2(r,ae,oe));return{c(){t=element("div"),e=element("div"),o=element("div"),l=element("h3"),l.textContent="\xC9diter le sondage \u270F\uFE0F",h=space(),y=element("div"),O=element("h5"),O.textContent="Titre",D=space(),R=element("input"),F=space(),j=element("div"),B=element("h5"),B.textContent="Questions",U=space(),W=element("div");for(let oe=0;oe<ie.length;oe+=1)ie[oe].c();q=space(),K=element("div"),Y=element("button"),Y.textContent="Fermer",X=space(),J=element("button"),J.textContent="Supprimer",Q=space(),Z=element("button"),Z.textContent="Sauvegarder",attr(l,"class","text-center mb-4"),attr(R,"class","p-2 svelte-iqfjkt"),attr(R,"type","text"),attr(y,"class","secEdit svelte-iqfjkt"),set_style(W,"max-height","350px"),set_style(W,"overflow-y","auto"),set_style(W,"padding-right","10px"),attr(j,"class","secEdit svelte-iqfjkt"),attr(o,"class","container p-2"),attr(Y,"class","hvr-grow svelte-iqfjkt"),attr(J,"class","hvr-grow svelte-iqfjkt"),set_style(J,"background-color","red"),set_style(J,"color","white"),attr(Z,"class","hvr-grow svelte-iqfjkt"),set_style(Z,"background-color","#6219D8"),set_style(Z,"color","white"),attr(K,"class","actions svelte-iqfjkt"),attr(e,"class","contents svelte-iqfjkt"),attr(t,"role","dialog"),attr(t,"class","modal svelte-iqfjkt")},m(oe,ce){insert(oe,t,ce),append(t,e),append(e,o),append(o,l),append(o,h),append(o,y),append(y,O),append(y,D),append(y,R),set_input_value(R,r[2]),append(o,F),append(o,j),append(j,B),append(j,U),append(j,W);for(let ue=0;ue<ie.length;ue+=1)ie[ue].m(W,null);append(e,q),append(e,K),append(K,Y),append(K,X),append(K,J),append(K,Q),append(K,Z),re=!0,te||(ne=[listen(R,"input",r[7]),listen(Y,"click",closeModal),listen(J,"click",r[9]),listen(Z,"click",r[4]),listen(t,"introstart",r[5]),listen(t,"outroend",r[6])],te=!0)},p(oe,[ce]){if(ce&4&&R.value!==oe[2]&&set_input_value(R,oe[2]),ce&8){ae=oe[3];let ue;for(ue=0;ue<ae.length;ue+=1){const pe=get_each_context$2(oe,ae,ue);ie[ue]?ie[ue].p(pe,ce):(ie[ue]=create_each_block$2(pe),ie[ue].c(),ie[ue].m(W,null))}for(;ue<ie.length;ue+=1)ie[ue].d(1);ie.length=ae.length}},i(oe){re||(add_render_callback(()=>{ee||(ee=create_bidirectional_transition(t,fly,{y:50},!0)),ee.run(1)}),re=!0)},o(oe){ee||(ee=create_bidirectional_transition(t,fly,{y:50},!1)),ee.run(0),re=!1},d(oe){oe&&detach(t),destroy_each(ie,oe),oe&&ee&&ee.end(),te=!1,run_all(ne)}}}function instance$b(r,t,e){let{proj:o}=t,{changePage:l}=t,h=o.nom_proj,y=JSON.parse(o.jsonContent);function O(){const U=structuredClone(o);U.nom_proj=h,U.jsonContent=y,updateSave(U,U.id,"false"),closeModal(),l("projects")}function D(U){bubble.call(this,r,U)}function R(U){bubble.call(this,r,U)}function F(){h=this.value,e(2,h)}function j(U){y[U].q=this.value,e(3,y)}const B=()=>{delSondRtn(o.id,l),closeModal()};return r.$$set=U=>{"proj"in U&&e(0,o=U.proj),"changePage"in U&&e(1,l=U.changePage)},[o,l,h,y,O,D,R,F,j,B]}class ModalPostEditSond extends SvelteComponent{constructor(t){super(),init(this,t,instance$b,create_fragment$d,safe_not_equal,{proj:0,changePage:1})}}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const requestAnimFrame=function(){return typeof window=="undefined"?function(r){return r()}:window.requestAnimationFrame}();function throttled(r,t,e){const o=e||(y=>Array.prototype.slice.call(y));let l=!1,h=[];return function(...y){h=o(y),l||(l=!0,requestAnimFrame.call(window,()=>{l=!1,r.apply(t,h)}))}}function debounce(r,t){let e;return function(...o){return t?(clearTimeout(e),e=setTimeout(r,t,o)):r.apply(this,o),t}}const _toLeftRightCenter=r=>r==="start"?"left":r==="end"?"right":"center",_alignStartEnd=(r,t,e)=>r==="start"?t:r==="end"?e:(t+e)/2,_textX=(r,t,e,o)=>r===(o?"left":"right")?e:r==="center"?(t+e)/2:t;function noop$1(){}const uid=function(){let r=0;return function(){return r++}}();function isNullOrUndef(r){return r===null||typeof r=="undefined"}function isArray(r){if(Array.isArray&&Array.isArray(r))return!0;const t=Object.prototype.toString.call(r);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function isObject(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}const isNumberFinite=r=>(typeof r=="number"||r instanceof Number)&&isFinite(+r);function finiteOrDefault(r,t){return isNumberFinite(r)?r:t}function valueOrDefault(r,t){return typeof r=="undefined"?t:r}const toPercentage=(r,t)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:r/t,toDimension=(r,t)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*t:+r;function callback(r,t,e){if(r&&typeof r.call=="function")return r.apply(e,t)}function each(r,t,e,o){let l,h,y;if(isArray(r))if(h=r.length,o)for(l=h-1;l>=0;l--)t.call(e,r[l],l);else for(l=0;l<h;l++)t.call(e,r[l],l);else if(isObject(r))for(y=Object.keys(r),h=y.length,l=0;l<h;l++)t.call(e,r[y[l]],y[l])}function _elementsEqual(r,t){let e,o,l,h;if(!r||!t||r.length!==t.length)return!1;for(e=0,o=r.length;e<o;++e)if(l=r[e],h=t[e],l.datasetIndex!==h.datasetIndex||l.index!==h.index)return!1;return!0}function clone$1(r){if(isArray(r))return r.map(clone$1);if(isObject(r)){const t=Object.create(null),e=Object.keys(r),o=e.length;let l=0;for(;l<o;++l)t[e[l]]=clone$1(r[e[l]]);return t}return r}function isValidKey(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function _merger(r,t,e,o){if(!isValidKey(r))return;const l=t[r],h=e[r];isObject(l)&&isObject(h)?merge(l,h,o):t[r]=clone$1(h)}function merge(r,t,e){const o=isArray(t)?t:[t],l=o.length;if(!isObject(r))return r;e=e||{};const h=e.merger||_merger;for(let y=0;y<l;++y){if(t=o[y],!isObject(t))continue;const O=Object.keys(t);for(let D=0,R=O.length;D<R;++D)h(O[D],r,t,e)}return r}function mergeIf(r,t){return merge(r,t,{merger:_mergerIf})}function _mergerIf(r,t,e){if(!isValidKey(r))return;const o=t[r],l=e[r];isObject(o)&&isObject(l)?mergeIf(o,l):Object.prototype.hasOwnProperty.call(t,r)||(t[r]=clone$1(l))}const emptyString="",dot=".";function indexOfDotOrLength(r,t){const e=r.indexOf(dot,t);return e===-1?r.length:e}function resolveObjectKey(r,t){if(t===emptyString)return r;let e=0,o=indexOfDotOrLength(t,e);for(;r&&o>e;)r=r[t.slice(e,o)],e=o+1,o=indexOfDotOrLength(t,e);return r}function _capitalize(r){return r.charAt(0).toUpperCase()+r.slice(1)}const defined=r=>typeof r!="undefined",isFunction=r=>typeof r=="function",setsEqual=(r,t)=>{if(r.size!==t.size)return!1;for(const e of r)if(!t.has(e))return!1;return!0};function _isClickEvent(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function niceNum(r){const t=Math.round(r);r=almostEquals(r,t,r/1e3)?t:r;const e=Math.pow(10,Math.floor(log10(r))),o=r/e;return(o<=1?1:o<=2?2:o<=5?5:10)*e}function _factorize(r){const t=[],e=Math.sqrt(r);let o;for(o=1;o<e;o++)r%o===0&&(t.push(o),t.push(r/o));return e===(e|0)&&t.push(e),t.sort((l,h)=>l-h).pop(),t}function isNumber(r){return!isNaN(parseFloat(r))&&isFinite(r)}function almostEquals(r,t,e){return Math.abs(r-t)<e}function almostWhole(r,t){const e=Math.round(r);return e-t<=r&&e+t>=r}function _setMinAndMaxByKey(r,t,e){let o,l,h;for(o=0,l=r.length;o<l;o++)h=r[o][e],isNaN(h)||(t.min=Math.min(t.min,h),t.max=Math.max(t.max,h))}function toRadians(r){return r*(PI/180)}function toDegrees(r){return r*(180/PI)}function _decimalPlaces(r){if(!isNumberFinite(r))return;let t=1,e=0;for(;Math.round(r*t)/t!==r;)t*=10,e++;return e}function getAngleFromPoint(r,t){const e=t.x-r.x,o=t.y-r.y,l=Math.sqrt(e*e+o*o);let h=Math.atan2(o,e);return h<-.5*PI&&(h+=TAU),{angle:h,distance:l}}function distanceBetweenPoints(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function _angleDiff(r,t){return(r-t+PITAU)%TAU-PI}function _normalizeAngle(r){return(r%TAU+TAU)%TAU}function _angleBetween(r,t,e,o){const l=_normalizeAngle(r),h=_normalizeAngle(t),y=_normalizeAngle(e),O=_normalizeAngle(h-l),D=_normalizeAngle(y-l),R=_normalizeAngle(l-h),F=_normalizeAngle(l-y);return l===h||l===y||o&&h===y||O>D&&R<F}function _limitValue(r,t,e){return Math.max(t,Math.min(e,r))}function _int16Range(r){return _limitValue(r,-32768,32767)}function _isBetween(r,t,e,o=1e-6){return r>=Math.min(t,e)-o&&r<=Math.max(t,e)+o}const atEdge=r=>r===0||r===1,elasticIn=(r,t,e)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-t)*TAU/e)),elasticOut=(r,t,e)=>Math.pow(2,-10*r)*Math.sin((r-t)*TAU/e)+1,effects={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*HALF_PI)+1,easeOutSine:r=>Math.sin(r*HALF_PI),easeInOutSine:r=>-.5*(Math.cos(PI*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>atEdge(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>atEdge(r)?r:elasticIn(r,.075,.3),easeOutElastic:r=>atEdge(r)?r:elasticOut(r,.075,.3),easeInOutElastic(r){return atEdge(r)?r:r<.5?.5*elasticIn(r*2,.1125,.45):.5+.5*elasticOut(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let t=1.70158;return(r/=.5)<1?.5*(r*r*(((t*=1.525)+1)*r-t)):.5*((r-=2)*r*(((t*=1.525)+1)*r+t)+2)},easeInBounce:r=>1-effects.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?effects.easeInBounce(r*2)*.5:effects.easeOutBounce(r*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function round(r){return r+.5|0}const lim=(r,t,e)=>Math.max(Math.min(r,e),t);function p2b(r){return lim(round(r*2.55),0,255)}function n2b(r){return lim(round(r*255),0,255)}function b2n(r){return lim(round(r/2.55)/100,0,1)}function n2p(r){return lim(round(r*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=r=>hex[r&15],h2=r=>hex[(r&240)>>4]+hex[r&15],eq=r=>(r&240)>>4===(r&15),isShort=r=>eq(r.r)&&eq(r.g)&&eq(r.b)&&eq(r.a);function hexParse(r){var t=r.length,e;return r[0]==="#"&&(t===4||t===5?e={r:255&map$1[r[1]]*17,g:255&map$1[r[2]]*17,b:255&map$1[r[3]]*17,a:t===5?map$1[r[4]]*17:255}:(t===7||t===9)&&(e={r:map$1[r[1]]<<4|map$1[r[2]],g:map$1[r[3]]<<4|map$1[r[4]],b:map$1[r[5]]<<4|map$1[r[6]],a:t===9?map$1[r[7]]<<4|map$1[r[8]]:255})),e}const alpha=(r,t)=>r<255?t(r):"";function hexString(r){var t=isShort(r)?h1:h2;return r?"#"+t(r.r)+t(r.g)+t(r.b)+alpha(r.a,t):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(r,t,e){const o=t*Math.min(e,1-e),l=(h,y=(h+r/30)%12)=>e-o*Math.max(Math.min(y-3,9-y,1),-1);return[l(0),l(8),l(4)]}function hsv2rgbn(r,t,e){const o=(l,h=(l+r/60)%6)=>e-e*t*Math.max(Math.min(h,4-h,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(r,t,e){const o=hsl2rgbn(r,1,.5);let l;for(t+e>1&&(l=1/(t+e),t*=l,e*=l),l=0;l<3;l++)o[l]*=1-t-e,o[l]+=t;return o}function hueValue(r,t,e,o,l){return r===l?(t-e)/o+(t<e?6:0):t===l?(e-r)/o+2:(r-t)/o+4}function rgb2hsl(r){const e=r.r/255,o=r.g/255,l=r.b/255,h=Math.max(e,o,l),y=Math.min(e,o,l),O=(h+y)/2;let D,R,F;return h!==y&&(F=h-y,R=O>.5?F/(2-h-y):F/(h+y),D=hueValue(e,o,l,F,h),D=D*60+.5),[D|0,R||0,O]}function calln(r,t,e,o){return(Array.isArray(t)?r(t[0],t[1],t[2]):r(t,e,o)).map(n2b)}function hsl2rgb(r,t,e){return calln(hsl2rgbn,r,t,e)}function hwb2rgb(r,t,e){return calln(hwb2rgbn,r,t,e)}function hsv2rgb(r,t,e){return calln(hsv2rgbn,r,t,e)}function hue(r){return(r%360+360)%360}function hueParse(r){const t=HUE_RE.exec(r);let e=255,o;if(!t)return;t[5]!==o&&(e=t[6]?p2b(+t[5]):n2b(+t[5]));const l=hue(+t[2]),h=+t[3]/100,y=+t[4]/100;return t[1]==="hwb"?o=hwb2rgb(l,h,y):t[1]==="hsv"?o=hsv2rgb(l,h,y):o=hsl2rgb(l,h,y),{r:o[0],g:o[1],b:o[2],a:e}}function rotate(r,t){var e=rgb2hsl(r);e[0]=hue(e[0]+t),e=hsl2rgb(e),r.r=e[0],r.g=e[1],r.b=e[2]}function hslString(r){if(!r)return;const t=rgb2hsl(r),e=t[0],o=n2p(t[1]),l=n2p(t[2]);return r.a<255?`hsla(${e}, ${o}%, ${l}%, ${b2n(r.a)})`:`hsl(${e}, ${o}%, ${l}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const r={},t=Object.keys(names$1),e=Object.keys(map$2);let o,l,h,y,O;for(o=0;o<t.length;o++){for(y=O=t[o],l=0;l<e.length;l++)h=e[l],O=O.replace(h,map$2[h]);h=parseInt(names$1[y],16),r[O]=[h>>16&255,h>>8&255,h&255]}return r}let names;function nameParse(r){names||(names=unpack(),names.transparent=[0,0,0,0]);const t=names[r.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(r){const t=RGB_RE.exec(r);let e=255,o,l,h;if(!!t){if(t[7]!==o){const y=+t[7];e=t[8]?p2b(y):lim(y*255,0,255)}return o=+t[1],l=+t[3],h=+t[5],o=255&(t[2]?p2b(o):lim(o,0,255)),l=255&(t[4]?p2b(l):lim(l,0,255)),h=255&(t[6]?p2b(h):lim(h,0,255)),{r:o,g:l,b:h,a:e}}}function rgbString(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${b2n(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const to=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,from=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function interpolate$1(r,t,e){const o=from(b2n(r.r)),l=from(b2n(r.g)),h=from(b2n(r.b));return{r:n2b(to(o+e*(from(b2n(t.r))-o))),g:n2b(to(l+e*(from(b2n(t.g))-l))),b:n2b(to(h+e*(from(b2n(t.b))-h))),a:r.a+e*(t.a-r.a)}}function modHSL(r,t,e){if(r){let o=rgb2hsl(r);o[t]=Math.max(0,Math.min(o[t]+o[t]*e,t===0?360:1)),o=hsl2rgb(o),r.r=o[0],r.g=o[1],r.b=o[2]}}function clone(r,t){return r&&Object.assign(t||{},r)}function fromObject(r){var t={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(t={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(t.a=n2b(r[3]))):(t=clone(r,{r:0,g:0,b:0,a:1}),t.a=n2b(t.a)),t}function functionParse(r){return r.charAt(0)==="r"?rgbParse(r):hueParse(r)}class Color{constructor(t){if(t instanceof Color)return t;const e=typeof t;let o;e==="object"?o=fromObject(t):e==="string"&&(o=hexParse(t)||nameParse(t)||functionParse(t)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var t=clone(this._rgb);return t&&(t.a=b2n(t.a)),t}set rgb(t){this._rgb=fromObject(t)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(t,e){if(t){const o=this.rgb,l=t.rgb;let h;const y=e===h?.5:e,O=2*y-1,D=o.a-l.a,R=((O*D===-1?O:(O+D)/(1+O*D))+1)/2;h=1-R,o.r=255&R*o.r+h*l.r+.5,o.g=255&R*o.g+h*l.g+.5,o.b=255&R*o.b+h*l.b+.5,o.a=y*o.a+(1-y)*l.a,this.rgb=o}return this}interpolate(t,e){return t&&(this._rgb=interpolate$1(this._rgb,t._rgb,e)),this}clone(){return new Color(this.rgb)}alpha(t){return this._rgb.a=n2b(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=round(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return modHSL(this._rgb,2,t),this}darken(t){return modHSL(this._rgb,2,-t),this}saturate(t){return modHSL(this._rgb,1,t),this}desaturate(t){return modHSL(this._rgb,1,-t),this}rotate(t){return rotate(this._rgb,t),this}}function index_esm(r){return new Color(r)}function isPatternOrGradient(r){if(r&&typeof r=="object"){const t=r.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function color(r){return isPatternOrGradient(r)?r:index_esm(r)}function getHoverColor(r){return isPatternOrGradient(r)?r:index_esm(r).saturate(.5).darken(.1).hexString()}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(r,t){if(!t)return r;const e=t.split(".");for(let o=0,l=e.length;o<l;++o){const h=e[o];r=r[h]||(r[h]=Object.create(null))}return r}function set$1(r,t,e){return typeof t=="string"?merge(getScope$1(r,t),e):merge(getScope$1(r,""),t)}class Defaults{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,o)=>getHoverColor(o.backgroundColor),this.hoverBorderColor=(e,o)=>getHoverColor(o.borderColor),this.hoverColor=(e,o)=>getHoverColor(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return set$1(this,t,e)}get(t){return getScope$1(this,t)}describe(t,e){return set$1(descriptors,t,e)}override(t,e){return set$1(overrides,t,e)}route(t,e,o,l){const h=getScope$1(this,t),y=getScope$1(this,o),O="_"+e;Object.defineProperties(h,{[O]:{value:h[e],writable:!0},[e]:{enumerable:!0,get(){const D=this[O],R=y[l];return isObject(D)?Object.assign({},R,D):valueOrDefault(D,R)},set(D){this[O]=D}}})}}var defaults$1=new Defaults({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function toFontString(r){return!r||isNullOrUndef(r.size)||isNullOrUndef(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function _measureText(r,t,e,o,l){let h=t[l];return h||(h=t[l]=r.measureText(l).width,e.push(l)),h>o&&(o=h),o}function _longestText(r,t,e,o){o=o||{};let l=o.data=o.data||{},h=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(l=o.data={},h=o.garbageCollect=[],o.font=t),r.save(),r.font=t;let y=0;const O=e.length;let D,R,F,j,B;for(D=0;D<O;D++)if(j=e[D],j!=null&&isArray(j)!==!0)y=_measureText(r,l,h,y,j);else if(isArray(j))for(R=0,F=j.length;R<F;R++)B=j[R],B!=null&&!isArray(B)&&(y=_measureText(r,l,h,y,B));r.restore();const U=h.length/2;if(U>e.length){for(D=0;D<U;D++)delete l[h[D]];h.splice(0,U)}return y}function _alignPixel(r,t,e){const o=r.currentDevicePixelRatio,l=e!==0?Math.max(e/2,.5):0;return Math.round((t-l)*o)/o+l}function clearCanvas(r,t){t=t||r.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,r.width,r.height),t.restore()}function drawPoint(r,t,e,o){let l,h,y,O,D;const R=t.pointStyle,F=t.rotation,j=t.radius;let B=(F||0)*RAD_PER_DEG;if(R&&typeof R=="object"&&(l=R.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){r.save(),r.translate(e,o),r.rotate(B),r.drawImage(R,-R.width/2,-R.height/2,R.width,R.height),r.restore();return}if(!(isNaN(j)||j<=0)){switch(r.beginPath(),R){default:r.arc(e,o,j,0,TAU),r.closePath();break;case"triangle":r.moveTo(e+Math.sin(B)*j,o-Math.cos(B)*j),B+=TWO_THIRDS_PI,r.lineTo(e+Math.sin(B)*j,o-Math.cos(B)*j),B+=TWO_THIRDS_PI,r.lineTo(e+Math.sin(B)*j,o-Math.cos(B)*j),r.closePath();break;case"rectRounded":D=j*.516,O=j-D,h=Math.cos(B+QUARTER_PI)*O,y=Math.sin(B+QUARTER_PI)*O,r.arc(e-h,o-y,D,B-PI,B-HALF_PI),r.arc(e+y,o-h,D,B-HALF_PI,B),r.arc(e+h,o+y,D,B,B+HALF_PI),r.arc(e-y,o+h,D,B+HALF_PI,B+PI),r.closePath();break;case"rect":if(!F){O=Math.SQRT1_2*j,r.rect(e-O,o-O,2*O,2*O);break}B+=QUARTER_PI;case"rectRot":h=Math.cos(B)*j,y=Math.sin(B)*j,r.moveTo(e-h,o-y),r.lineTo(e+y,o-h),r.lineTo(e+h,o+y),r.lineTo(e-y,o+h),r.closePath();break;case"crossRot":B+=QUARTER_PI;case"cross":h=Math.cos(B)*j,y=Math.sin(B)*j,r.moveTo(e-h,o-y),r.lineTo(e+h,o+y),r.moveTo(e+y,o-h),r.lineTo(e-y,o+h);break;case"star":h=Math.cos(B)*j,y=Math.sin(B)*j,r.moveTo(e-h,o-y),r.lineTo(e+h,o+y),r.moveTo(e+y,o-h),r.lineTo(e-y,o+h),B+=QUARTER_PI,h=Math.cos(B)*j,y=Math.sin(B)*j,r.moveTo(e-h,o-y),r.lineTo(e+h,o+y),r.moveTo(e+y,o-h),r.lineTo(e-y,o+h);break;case"line":h=Math.cos(B)*j,y=Math.sin(B)*j,r.moveTo(e-h,o-y),r.lineTo(e+h,o+y);break;case"dash":r.moveTo(e,o),r.lineTo(e+Math.cos(B)*j,o+Math.sin(B)*j);break}r.fill(),t.borderWidth>0&&r.stroke()}}function _isPointInArea(r,t,e){return e=e||.5,!t||r&&r.x>t.left-e&&r.x<t.right+e&&r.y>t.top-e&&r.y<t.bottom+e}function clipArea(r,t){r.save(),r.beginPath(),r.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),r.clip()}function unclipArea(r){r.restore()}function _steppedLineTo(r,t,e,o,l){if(!t)return r.lineTo(e.x,e.y);if(l==="middle"){const h=(t.x+e.x)/2;r.lineTo(h,t.y),r.lineTo(h,e.y)}else l==="after"!=!!o?r.lineTo(t.x,e.y):r.lineTo(e.x,t.y);r.lineTo(e.x,e.y)}function _bezierCurveTo(r,t,e,o){if(!t)return r.lineTo(e.x,e.y);r.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?e.cp2x:e.cp1x,o?e.cp2y:e.cp1y,e.x,e.y)}function renderText(r,t,e,o,l,h={}){const y=isArray(t)?t:[t],O=h.strokeWidth>0&&h.strokeColor!=="";let D,R;for(r.save(),r.font=l.string,setRenderOpts(r,h),D=0;D<y.length;++D)R=y[D],O&&(h.strokeColor&&(r.strokeStyle=h.strokeColor),isNullOrUndef(h.strokeWidth)||(r.lineWidth=h.strokeWidth),r.strokeText(R,e,o,h.maxWidth)),r.fillText(R,e,o,h.maxWidth),decorateText(r,e,o,R,h),o+=l.lineHeight;r.restore()}function setRenderOpts(r,t){t.translation&&r.translate(t.translation[0],t.translation[1]),isNullOrUndef(t.rotation)||r.rotate(t.rotation),t.color&&(r.fillStyle=t.color),t.textAlign&&(r.textAlign=t.textAlign),t.textBaseline&&(r.textBaseline=t.textBaseline)}function decorateText(r,t,e,o,l){if(l.strikethrough||l.underline){const h=r.measureText(o),y=t-h.actualBoundingBoxLeft,O=t+h.actualBoundingBoxRight,D=e-h.actualBoundingBoxAscent,R=e+h.actualBoundingBoxDescent,F=l.strikethrough?(D+R)/2:R;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=l.decorationWidth||2,r.moveTo(y,F),r.lineTo(O,F),r.stroke()}}function addRoundedRectPath(r,t){const{x:e,y:o,w:l,h,radius:y}=t;r.arc(e+y.topLeft,o+y.topLeft,y.topLeft,-HALF_PI,PI,!0),r.lineTo(e,o+h-y.bottomLeft),r.arc(e+y.bottomLeft,o+h-y.bottomLeft,y.bottomLeft,PI,HALF_PI,!0),r.lineTo(e+l-y.bottomRight,o+h),r.arc(e+l-y.bottomRight,o+h-y.bottomRight,y.bottomRight,HALF_PI,0,!0),r.lineTo(e+l,o+y.topRight),r.arc(e+l-y.topRight,o+y.topRight,y.topRight,0,-HALF_PI,!0),r.lineTo(e+y.topLeft,o)}const LINE_HEIGHT=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),FONT_STYLE=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function toLineHeight(r,t){const e=(""+r).match(LINE_HEIGHT);if(!e||e[1]==="normal")return t*1.2;switch(r=+e[2],e[3]){case"px":return r;case"%":r/=100;break}return t*r}const numberOrZero=r=>+r||0;function _readValueToProps(r,t){const e={},o=isObject(t),l=o?Object.keys(t):t,h=isObject(r)?o?y=>valueOrDefault(r[y],r[t[y]]):y=>r[y]:()=>r;for(const y of l)e[y]=numberOrZero(h(y));return e}function toTRBL(r){return _readValueToProps(r,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(r){return _readValueToProps(r,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(r){const t=toTRBL(r);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function toFont(r,t){r=r||{},t=t||defaults$1.font;let e=valueOrDefault(r.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let o=valueOrDefault(r.style,t.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o="");const l={family:valueOrDefault(r.family,t.family),lineHeight:toLineHeight(valueOrDefault(r.lineHeight,t.lineHeight),e),size:e,style:o,weight:valueOrDefault(r.weight,t.weight),string:""};return l.string=toFontString(l),l}function resolve(r,t,e,o){let l=!0,h,y,O;for(h=0,y=r.length;h<y;++h)if(O=r[h],O!==void 0&&(t!==void 0&&typeof O=="function"&&(O=O(t),l=!1),e!==void 0&&isArray(O)&&(O=O[e%O.length],l=!1),O!==void 0))return o&&!l&&(o.cacheable=!1),O}function _addGrace(r,t,e){const{min:o,max:l}=r,h=toDimension(t,(l-o)/2),y=(O,D)=>e&&O===0?0:O+D;return{min:y(o,-Math.abs(h)),max:y(l,h)}}function createContext(r,t){return Object.assign(Object.create(r),t)}function _lookup(r,t,e){e=e||(y=>r[y]<t);let o=r.length-1,l=0,h;for(;o-l>1;)h=l+o>>1,e(h)?l=h:o=h;return{lo:l,hi:o}}const _lookupByKey=(r,t,e)=>_lookup(r,e,o=>r[o][t]<e),_rlookupByKey=(r,t,e)=>_lookup(r,e,o=>r[o][t]>=e);function _filterBetween(r,t,e){let o=0,l=r.length;for(;o<l&&r[o]<t;)o++;for(;l>o&&r[l-1]>e;)l--;return o>0||l<r.length?r.slice(o,l):r}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(r,t){if(r._chartjs){r._chartjs.listeners.push(t);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),arrayEvents.forEach(e=>{const o="_onData"+_capitalize(e),l=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(...h){const y=l.apply(this,h);return r._chartjs.listeners.forEach(O=>{typeof O[o]=="function"&&O[o](...h)}),y}})})}function unlistenArrayEvents(r,t){const e=r._chartjs;if(!e)return;const o=e.listeners,l=o.indexOf(t);l!==-1&&o.splice(l,1),!(o.length>0)&&(arrayEvents.forEach(h=>{delete r[h]}),delete r._chartjs)}function _arrayUnique(r){const t=new Set;let e,o;for(e=0,o=r.length;e<o;++e)t.add(r[e]);return t.size===o?r:Array.from(t)}function _createResolver(r,t=[""],e=r,o,l=()=>r[0]){defined(o)||(o=_resolve("_fallback",r));const h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:e,_fallback:o,_getTarget:l,override:y=>_createResolver([y,...r],t,e,o)};return new Proxy(h,{deleteProperty(y,O){return delete y[O],delete y._keys,delete r[0][O],!0},get(y,O){return _cached(y,O,()=>_resolveWithPrefixes(O,t,r,y))},getOwnPropertyDescriptor(y,O){return Reflect.getOwnPropertyDescriptor(y._scopes[0],O)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(y,O){return getKeysFromAllScopes(y).includes(O)},ownKeys(y){return getKeysFromAllScopes(y)},set(y,O,D){const R=y._storage||(y._storage=l());return y[O]=R[O]=D,delete y._keys,!0}})}function _attachContext(r,t,e,o){const l={_cacheable:!1,_proxy:r,_context:t,_subProxy:e,_stack:new Set,_descriptors:_descriptors(r,o),setContext:h=>_attachContext(r,h,e,o),override:h=>_attachContext(r.override(h),t,e,o)};return new Proxy(l,{deleteProperty(h,y){return delete h[y],delete r[y],!0},get(h,y,O){return _cached(h,y,()=>_resolveWithContext(h,y,O))},getOwnPropertyDescriptor(h,y){return h._descriptors.allKeys?Reflect.has(r,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,y)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(h,y){return Reflect.has(r,y)},ownKeys(){return Reflect.ownKeys(r)},set(h,y,O){return r[y]=O,delete h[y],!0}})}function _descriptors(r,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:o=t.indexable,_allKeys:l=t.allKeys}=r;return{allKeys:l,scriptable:e,indexable:o,isScriptable:isFunction(e)?e:()=>e,isIndexable:isFunction(o)?o:()=>o}}const readKey=(r,t)=>r?r+_capitalize(t):t,needsSubResolver=(r,t)=>isObject(t)&&r!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function _cached(r,t,e){if(Object.prototype.hasOwnProperty.call(r,t))return r[t];const o=e();return r[t]=o,o}function _resolveWithContext(r,t,e){const{_proxy:o,_context:l,_subProxy:h,_descriptors:y}=r;let O=o[t];return isFunction(O)&&y.isScriptable(t)&&(O=_resolveScriptable(t,O,r,e)),isArray(O)&&O.length&&(O=_resolveArray(t,O,r,y.isIndexable)),needsSubResolver(t,O)&&(O=_attachContext(O,l,h&&h[t],y)),O}function _resolveScriptable(r,t,e,o){const{_proxy:l,_context:h,_subProxy:y,_stack:O}=e;if(O.has(r))throw new Error("Recursion detected: "+Array.from(O).join("->")+"->"+r);return O.add(r),t=t(h,y||o),O.delete(r),needsSubResolver(r,t)&&(t=createSubResolver(l._scopes,l,r,t)),t}function _resolveArray(r,t,e,o){const{_proxy:l,_context:h,_subProxy:y,_descriptors:O}=e;if(defined(h.index)&&o(r))t=t[h.index%t.length];else if(isObject(t[0])){const D=t,R=l._scopes.filter(F=>F!==D);t=[];for(const F of D){const j=createSubResolver(R,l,r,F);t.push(_attachContext(j,h,y&&y[r],O))}}return t}function resolveFallback(r,t,e){return isFunction(r)?r(t,e):r}const getScope=(r,t)=>r===!0?t:typeof r=="string"?resolveObjectKey(t,r):void 0;function addScopes(r,t,e,o,l){for(const h of t){const y=getScope(e,h);if(y){r.add(y);const O=resolveFallback(y._fallback,e,l);if(defined(O)&&O!==e&&O!==o)return O}else if(y===!1&&defined(o)&&e!==o)return null}return!1}function createSubResolver(r,t,e,o){const l=t._rootScopes,h=resolveFallback(t._fallback,e,o),y=[...r,...l],O=new Set;O.add(o);let D=addScopesFromKey(O,y,e,h||e,o);return D===null||defined(h)&&h!==e&&(D=addScopesFromKey(O,y,h,D,o),D===null)?!1:_createResolver(Array.from(O),[""],l,h,()=>subGetTarget(t,e,o))}function addScopesFromKey(r,t,e,o,l){for(;e;)e=addScopes(r,t,e,o,l);return e}function subGetTarget(r,t,e){const o=r._getTarget();t in o||(o[t]={});const l=o[t];return isArray(l)&&isObject(e)?e:l}function _resolveWithPrefixes(r,t,e,o){let l;for(const h of t)if(l=_resolve(readKey(h,r),e),defined(l))return needsSubResolver(r,l)?createSubResolver(e,o,r,l):l}function _resolve(r,t){for(const e of t){if(!e)continue;const o=e[r];if(defined(o))return o}}function getKeysFromAllScopes(r){let t=r._keys;return t||(t=r._keys=resolveKeysFromAllScopes(r._scopes)),t}function resolveKeysFromAllScopes(r){const t=new Set;for(const e of r)for(const o of Object.keys(e).filter(l=>!l.startsWith("_")))t.add(o);return Array.from(t)}function _parseObjectDataRadialScale(r,t,e,o){const{iScale:l}=r,{key:h="r"}=this._parsing,y=new Array(o);let O,D,R,F;for(O=0,D=o;O<D;++O)R=O+e,F=t[R],y[O]={r:l.parse(resolveObjectKey(F,h),R)};return y}const EPSILON=Number.EPSILON||1e-14,getPoint=(r,t)=>t<r.length&&!r[t].skip&&r[t],getValueAxis=r=>r==="x"?"y":"x";function splineCurve(r,t,e,o){const l=r.skip?t:r,h=t,y=e.skip?t:e,O=distanceBetweenPoints(h,l),D=distanceBetweenPoints(y,h);let R=O/(O+D),F=D/(O+D);R=isNaN(R)?0:R,F=isNaN(F)?0:F;const j=o*R,B=o*F;return{previous:{x:h.x-j*(y.x-l.x),y:h.y-j*(y.y-l.y)},next:{x:h.x+B*(y.x-l.x),y:h.y+B*(y.y-l.y)}}}function monotoneAdjust(r,t,e){const o=r.length;let l,h,y,O,D,R=getPoint(r,0);for(let F=0;F<o-1;++F)if(D=R,R=getPoint(r,F+1),!(!D||!R)){if(almostEquals(t[F],0,EPSILON)){e[F]=e[F+1]=0;continue}l=e[F]/t[F],h=e[F+1]/t[F],O=Math.pow(l,2)+Math.pow(h,2),!(O<=9)&&(y=3/Math.sqrt(O),e[F]=l*y*t[F],e[F+1]=h*y*t[F])}}function monotoneCompute(r,t,e="x"){const o=getValueAxis(e),l=r.length;let h,y,O,D=getPoint(r,0);for(let R=0;R<l;++R){if(y=O,O=D,D=getPoint(r,R+1),!O)continue;const F=O[e],j=O[o];y&&(h=(F-y[e])/3,O[`cp1${e}`]=F-h,O[`cp1${o}`]=j-h*t[R]),D&&(h=(D[e]-F)/3,O[`cp2${e}`]=F+h,O[`cp2${o}`]=j+h*t[R])}}function splineCurveMonotone(r,t="x"){const e=getValueAxis(t),o=r.length,l=Array(o).fill(0),h=Array(o);let y,O,D,R=getPoint(r,0);for(y=0;y<o;++y)if(O=D,D=R,R=getPoint(r,y+1),!!D){if(R){const F=R[t]-D[t];l[y]=F!==0?(R[e]-D[e])/F:0}h[y]=O?R?sign(l[y-1])!==sign(l[y])?0:(l[y-1]+l[y])/2:l[y-1]:l[y]}monotoneAdjust(r,l,h),monotoneCompute(r,h,t)}function capControlPoint(r,t,e){return Math.max(Math.min(r,e),t)}function capBezierPoints(r,t){let e,o,l,h,y,O=_isPointInArea(r[0],t);for(e=0,o=r.length;e<o;++e)y=h,h=O,O=e<o-1&&_isPointInArea(r[e+1],t),h&&(l=r[e],y&&(l.cp1x=capControlPoint(l.cp1x,t.left,t.right),l.cp1y=capControlPoint(l.cp1y,t.top,t.bottom)),O&&(l.cp2x=capControlPoint(l.cp2x,t.left,t.right),l.cp2y=capControlPoint(l.cp2y,t.top,t.bottom)))}function _updateBezierControlPoints(r,t,e,o,l){let h,y,O,D;if(t.spanGaps&&(r=r.filter(R=>!R.skip)),t.cubicInterpolationMode==="monotone")splineCurveMonotone(r,l);else{let R=o?r[r.length-1]:r[0];for(h=0,y=r.length;h<y;++h)O=r[h],D=splineCurve(R,O,r[Math.min(h+1,y-(o?0:1))%y],t.tension),O.cp1x=D.previous.x,O.cp1y=D.previous.y,O.cp2x=D.next.x,O.cp2y=D.next.y,R=O}t.capBezierPoints&&capBezierPoints(r,e)}function _isDomSupported(){return typeof window!="undefined"&&typeof document!="undefined"}function _getParentNode(r){let t=r.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function parseMaxStyle(r,t,e){let o;return typeof r=="string"?(o=parseInt(r,10),r.indexOf("%")!==-1&&(o=o/100*t.parentNode[e])):o=r,o}const getComputedStyle$1=r=>window.getComputedStyle(r,null);function getStyle(r,t){return getComputedStyle$1(r).getPropertyValue(t)}const positions=["top","right","bottom","left"];function getPositionedStyle(r,t,e){const o={};e=e?"-"+e:"";for(let l=0;l<4;l++){const h=positions[l];o[h]=parseFloat(r[t+"-"+h+e])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(r,t,e)=>(r>0||t>0)&&(!e||!e.shadowRoot);function getCanvasPosition(r,t){const e=r.touches,o=e&&e.length?e[0]:r,{offsetX:l,offsetY:h}=o;let y=!1,O,D;if(useOffsetPos(l,h,r.target))O=l,D=h;else{const R=t.getBoundingClientRect();O=o.clientX-R.left,D=o.clientY-R.top,y=!0}return{x:O,y:D,box:y}}function getRelativePosition(r,t){if("native"in r)return r;const{canvas:e,currentDevicePixelRatio:o}=t,l=getComputedStyle$1(e),h=l.boxSizing==="border-box",y=getPositionedStyle(l,"padding"),O=getPositionedStyle(l,"border","width"),{x:D,y:R,box:F}=getCanvasPosition(r,e),j=y.left+(F&&O.left),B=y.top+(F&&O.top);let{width:U,height:W}=t;return h&&(U-=y.width+O.width,W-=y.height+O.height),{x:Math.round((D-j)/U*e.width/o),y:Math.round((R-B)/W*e.height/o)}}function getContainerSize(r,t,e){let o,l;if(t===void 0||e===void 0){const h=_getParentNode(r);if(!h)t=r.clientWidth,e=r.clientHeight;else{const y=h.getBoundingClientRect(),O=getComputedStyle$1(h),D=getPositionedStyle(O,"border","width"),R=getPositionedStyle(O,"padding");t=y.width-R.width-D.width,e=y.height-R.height-D.height,o=parseMaxStyle(O.maxWidth,h,"clientWidth"),l=parseMaxStyle(O.maxHeight,h,"clientHeight")}}return{width:t,height:e,maxWidth:o||INFINITY,maxHeight:l||INFINITY}}const round1=r=>Math.round(r*10)/10;function getMaximumSize(r,t,e,o){const l=getComputedStyle$1(r),h=getPositionedStyle(l,"margin"),y=parseMaxStyle(l.maxWidth,r,"clientWidth")||INFINITY,O=parseMaxStyle(l.maxHeight,r,"clientHeight")||INFINITY,D=getContainerSize(r,t,e);let{width:R,height:F}=D;if(l.boxSizing==="content-box"){const j=getPositionedStyle(l,"border","width"),B=getPositionedStyle(l,"padding");R-=B.width+j.width,F-=B.height+j.height}return R=Math.max(0,R-h.width),F=Math.max(0,o?Math.floor(R/o):F-h.height),R=round1(Math.min(R,y,D.maxWidth)),F=round1(Math.min(F,O,D.maxHeight)),R&&!F&&(F=round1(R/2)),{width:R,height:F}}function retinaScale(r,t,e){const o=t||1,l=Math.floor(r.height*o),h=Math.floor(r.width*o);r.height=l/o,r.width=h/o;const y=r.canvas;return y.style&&(e||!y.style.height&&!y.style.width)&&(y.style.height=`${r.height}px`,y.style.width=`${r.width}px`),r.currentDevicePixelRatio!==o||y.height!==l||y.width!==h?(r.currentDevicePixelRatio=o,y.height=l,y.width=h,r.ctx.setTransform(o,0,0,o,0,0),!0):!1}const supportsEventListenerOptions=function(){let r=!1;try{const t={get passive(){return r=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return r}();function readUsedSize(r,t){const e=getStyle(r,t),o=e&&e.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(r,t,e,o){return{x:r.x+e*(t.x-r.x),y:r.y+e*(t.y-r.y)}}function _steppedInterpolation(r,t,e,o){return{x:r.x+e*(t.x-r.x),y:o==="middle"?e<.5?r.y:t.y:o==="after"?e<1?r.y:t.y:e>0?t.y:r.y}}function _bezierInterpolation(r,t,e,o){const l={x:r.cp2x,y:r.cp2y},h={x:t.cp1x,y:t.cp1y},y=_pointInLine(r,l,e),O=_pointInLine(l,h,e),D=_pointInLine(h,t,e),R=_pointInLine(y,O,e),F=_pointInLine(O,D,e);return _pointInLine(R,F,e)}const intlCache=new Map;function getNumberFormat(r,t){t=t||{};const e=r+JSON.stringify(t);let o=intlCache.get(e);return o||(o=new Intl.NumberFormat(r,t),intlCache.set(e,o)),o}function formatNumber(r,t,e){return getNumberFormat(t,e).format(r)}const getRightToLeftAdapter=function(r,t){return{x(e){return r+r+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,o){return e-o},leftForLtr(e,o){return e-o}}},getLeftToRightAdapter=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,t){return r+t},leftForLtr(r,t){return r}}};function getRtlAdapter(r,t,e){return r?getRightToLeftAdapter(t,e):getLeftToRightAdapter()}function overrideTextDirection(r,t){let e,o;(t==="ltr"||t==="rtl")&&(e=r.canvas.style,o=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),r.prevTextDirection=o)}function restoreTextDirection(r,t){t!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",t[0],t[1]))}function propertyFn(r){return r==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(t,e)=>t-e,normalize:t=>t}}function normalizeSegment({start:r,end:t,count:e,loop:o,style:l}){return{start:r%e,end:t%e,loop:o&&(t-r+1)%e===0,style:l}}function getSegment(r,t,e){const{property:o,start:l,end:h}=e,{between:y,normalize:O}=propertyFn(o),D=t.length;let{start:R,end:F,loop:j}=r,B,U;if(j){for(R+=D,F+=D,B=0,U=D;B<U&&y(O(t[R%D][o]),l,h);++B)R--,F--;R%=D,F%=D}return F<R&&(F+=D),{start:R,end:F,loop:j,style:r.style}}function _boundSegment(r,t,e){if(!e)return[r];const{property:o,start:l,end:h}=e,y=t.length,{compare:O,between:D,normalize:R}=propertyFn(o),{start:F,end:j,loop:B,style:U}=getSegment(r,t,e),W=[];let q=!1,K=null,Y,X,J;const Q=()=>D(l,J,Y)&&O(l,J)!==0,Z=()=>O(h,Y)===0||D(h,J,Y),ee=()=>q||Q(),re=()=>!q||Z();for(let te=F,ne=F;te<=j;++te)X=t[te%y],!X.skip&&(Y=R(X[o]),Y!==J&&(q=D(Y,l,h),K===null&&ee()&&(K=O(Y,l)===0?te:ne),K!==null&&re()&&(W.push(normalizeSegment({start:K,end:te,loop:B,count:y,style:U})),K=null),ne=te,J=Y));return K!==null&&W.push(normalizeSegment({start:K,end:j,loop:B,count:y,style:U})),W}function _boundSegments(r,t){const e=[],o=r.segments;for(let l=0;l<o.length;l++){const h=_boundSegment(o[l],r.points,t);h.length&&e.push(...h)}return e}function findStartAndEnd(r,t,e,o){let l=0,h=t-1;if(e&&!o)for(;l<t&&!r[l].skip;)l++;for(;l<t&&r[l].skip;)l++;for(l%=t,e&&(h+=l);h>l&&r[h%t].skip;)h--;return h%=t,{start:l,end:h}}function solidSegments(r,t,e,o){const l=r.length,h=[];let y=t,O=r[t],D;for(D=t+1;D<=e;++D){const R=r[D%l];R.skip||R.stop?O.skip||(o=!1,h.push({start:t%l,end:(D-1)%l,loop:o}),t=y=R.stop?D:null):(y=D,O.skip&&(t=D)),O=R}return y!==null&&h.push({start:t%l,end:y%l,loop:o}),h}function _computeSegments(r,t){const e=r.points,o=r.options.spanGaps,l=e.length;if(!l)return[];const h=!!r._loop,{start:y,end:O}=findStartAndEnd(e,l,h,o);if(o===!0)return splitByStyles(r,[{start:y,end:O,loop:h}],e,t);const D=O<y?O+l:O,R=!!r._fullLoop&&y===0&&O===l-1;return splitByStyles(r,solidSegments(e,y,D,R),e,t)}function splitByStyles(r,t,e,o){return!o||!o.setContext||!e?t:doSplitByStyles(r,t,e,o)}function doSplitByStyles(r,t,e,o){const l=r._chart.getContext(),h=readStyle(r.options),{_datasetIndex:y,options:{spanGaps:O}}=r,D=e.length,R=[];let F=h,j=t[0].start,B=j;function U(W,q,K,Y){const X=O?-1:1;if(W!==q){for(W+=D;e[W%D].skip;)W-=X;for(;e[q%D].skip;)q+=X;W%D!==q%D&&(R.push({start:W%D,end:q%D,loop:K,style:Y}),F=Y,j=q%D)}}for(const W of t){j=O?j:W.start;let q=e[j%D],K;for(B=j+1;B<=W.end;B++){const Y=e[B%D];K=readStyle(o.setContext(createContext(l,{type:"segment",p0:q,p1:Y,p0DataIndex:(B-1)%D,p1DataIndex:B%D,datasetIndex:y}))),styleChanged(K,F)&&U(j,B-1,W.loop,F),q=Y,F=K}j<B-1&&U(j,B-1,W.loop,F)}return R}function readStyle(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function styleChanged(r,t){return t&&JSON.stringify(r)!==JSON.stringify(t)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,o,l){const h=e.listeners[l],y=e.duration;h.forEach(O=>O({chart:t,initial:e.initial,numSteps:y,currentStep:Math.min(o-e.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const h=o.items;let y=h.length-1,O=!1,D;for(;y>=0;--y)D=h[y],D._active?(D._total>o.duration&&(o.duration=D._total),D.tick(t),O=!0):(h[y]=h[h.length-1],h.pop());O&&(l.draw(),this._notify(l,o,t,"progress")),h.length||(o.running=!1,this._notify(l,o,t,"complete"),o.initial=!1),e+=h.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let o=e.get(t);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,o)),o}listen(t,e,o){this._getAnims(t).listeners[e].push(o)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const o=e.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(r,t,e){return e>.5?t:r},color(r,t,e){const o=color(r||transparent),l=o.valid&&color(t||transparent);return l&&l.valid?l.mix(o,e).hexString():t},number(r,t,e){return r+(t-r)*e}};class Animation{constructor(t,e,o,l){const h=e[o];l=resolve([t.to,l,h,t.from]);const y=resolve([t.from,h,l]);this._active=!0,this._fn=t.fn||interpolators[t.type||typeof y],this._easing=effects[t.easing]||effects.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=o,this._from=y,this._to=l,this._promises=void 0}active(){return this._active}update(t,e,o){if(this._active){this._notify(!1);const l=this._target[this._prop],h=o-this._start,y=this._duration-h;this._start=o,this._duration=Math.floor(Math.max(y,t.duration)),this._total+=h,this._loop=!!t.loop,this._to=resolve([t.to,e,l,t.from]),this._from=resolve([t.from,l,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,o=this._duration,l=this._prop,h=this._from,y=this._loop,O=this._to;let D;if(this._active=h!==O&&(y||e<o),!this._active){this._target[l]=O,this._notify(!0);return}if(e<0){this._target[l]=h;return}D=e/o%2,D=y&&D>1?2-D:D,D=this._easing(Math.min(1,Math.max(0,D))),this._target[l]=this._fn(h,O,D)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,o)=>{t.push({res:e,rej:o})})}_notify(t){const e=t?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][e]()}}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];defaults$1.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const animationOptions=Object.keys(defaults$1.animation);defaults$1.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:r=>r!=="onProgress"&&r!=="onComplete"&&r!=="fn"});defaults$1.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}});defaults$1.describe("animations",{_fallback:"animation"});defaults$1.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:r=>r|0}}}});class Animations{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!isObject(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const l=t[o];if(!isObject(l))return;const h={};for(const y of animationOptions)h[y]=l[y];(isArray(l.properties)&&l.properties||[o]).forEach(y=>{(y===o||!e.has(y))&&e.set(y,h)})})}_animateOptions(t,e){const o=e.options,l=resolveTargetOptions(t,o);if(!l)return[];const h=this._createAnimations(l,o);return o.$shared&&awaitAll(t.options.$animations,o).then(()=>{t.options=o},()=>{}),h}_createAnimations(t,e){const o=this._properties,l=[],h=t.$animations||(t.$animations={}),y=Object.keys(e),O=Date.now();let D;for(D=y.length-1;D>=0;--D){const R=y[D];if(R.charAt(0)==="$")continue;if(R==="options"){l.push(...this._animateOptions(t,e));continue}const F=e[R];let j=h[R];const B=o.get(R);if(j)if(B&&j.active()){j.update(B,F,O);continue}else j.cancel();if(!B||!B.duration){t[R]=F;continue}h[R]=j=new Animation(B,t,R,F),l.push(j)}return l}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const o=this._createAnimations(t,e);if(o.length)return animator.add(this._chart,o),!0}}function awaitAll(r,t){const e=[],o=Object.keys(t);for(let l=0;l<o.length;l++){const h=r[o[l]];h&&h.active()&&e.push(h.wait())}return Promise.all(e)}function resolveTargetOptions(r,t){if(!t)return;let e=r.options;if(!e){r.options=t;return}return e.$shared&&(r.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function scaleClip(r,t){const e=r&&r.options||{},o=e.reverse,l=e.min===void 0?t:0,h=e.max===void 0?t:0;return{start:o?h:l,end:o?l:h}}function defaultClip(r,t,e){if(e===!1)return!1;const o=scaleClip(r,e),l=scaleClip(t,e);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}function toClip(r){let t,e,o,l;return isObject(r)?(t=r.top,e=r.right,o=r.bottom,l=r.left):t=e=o=l=r,{top:t,right:e,bottom:o,left:l,disabled:r===!1}}function getSortedDatasetIndices(r,t){const e=[],o=r._getSortedDatasetMetas(t);let l,h;for(l=0,h=o.length;l<h;++l)e.push(o[l].index);return e}function applyStack(r,t,e,o={}){const l=r.keys,h=o.mode==="single";let y,O,D,R;if(t!==null){for(y=0,O=l.length;y<O;++y){if(D=+l[y],D===e){if(o.all)continue;break}R=r.values[D],isNumberFinite(R)&&(h||t===0||sign(t)===sign(R))&&(t+=R)}return t}}function convertObjectDataToArray(r){const t=Object.keys(r),e=new Array(t.length);let o,l,h;for(o=0,l=t.length;o<l;++o)h=t[o],e[o]={x:h,y:r[h]};return e}function isStacked(r,t){const e=r&&r.options.stacked;return e||e===void 0&&t.stack!==void 0}function getStackKey(r,t,e){return`${r.id}.${t.id}.${e.stack||e.type}`}function getUserBounds(r){const{min:t,max:e,minDefined:o,maxDefined:l}=r.getUserBounds();return{min:o?t:Number.NEGATIVE_INFINITY,max:l?e:Number.POSITIVE_INFINITY}}function getOrCreateStack(r,t,e){const o=r[t]||(r[t]={});return o[e]||(o[e]={})}function getLastIndexInStack(r,t,e,o){for(const l of t.getMatchingVisibleMetas(o).reverse()){const h=r[l.index];if(e&&h>0||!e&&h<0)return l.index}return null}function updateStacks(r,t){const{chart:e,_cachedMeta:o}=r,l=e._stacks||(e._stacks={}),{iScale:h,vScale:y,index:O}=o,D=h.axis,R=y.axis,F=getStackKey(h,y,o),j=t.length;let B;for(let U=0;U<j;++U){const W=t[U],{[D]:q,[R]:K}=W,Y=W._stacks||(W._stacks={});B=Y[R]=getOrCreateStack(l,F,q),B[O]=K,B._top=getLastIndexInStack(B,y,!0,o.type),B._bottom=getLastIndexInStack(B,y,!1,o.type)}}function getFirstScaleId(r,t){const e=r.scales;return Object.keys(e).filter(o=>e[o].axis===t).shift()}function createDatasetContext(r,t){return createContext(r,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function createDataContext(r,t,e){return createContext(r,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function clearStacks(r,t){const e=r.controller.index,o=r.vScale&&r.vScale.axis;if(!!o){t=t||r._parsed;for(const l of t){const h=l._stacks;if(!h||h[o]===void 0||h[o][e]===void 0)return;delete h[o][e]}}}const isDirectUpdateMode=r=>r==="reset"||r==="none",cloneIfNotShared=(r,t)=>t?r:Object.assign({},r),createStack=(r,t,e)=>r&&!t.hidden&&t._stacked&&{keys:getSortedDatasetIndices(e,!0),values:null};class DatasetController{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=isStacked(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&clearStacks(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,o=this.getDataset(),l=(j,B,U,W)=>j==="x"?B:j==="r"?W:U,h=e.xAxisID=valueOrDefault(o.xAxisID,getFirstScaleId(t,"x")),y=e.yAxisID=valueOrDefault(o.yAxisID,getFirstScaleId(t,"y")),O=e.rAxisID=valueOrDefault(o.rAxisID,getFirstScaleId(t,"r")),D=e.indexAxis,R=e.iAxisID=l(D,h,y,O),F=e.vAxisID=l(D,y,h,O);e.xScale=this.getScaleForId(h),e.yScale=this.getScaleForId(y),e.rScale=this.getScaleForId(O),e.iScale=this.getScaleForId(R),e.vScale=this.getScaleForId(F)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),t._stacked&&clearStacks(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),o=this._data;if(isObject(e))this._data=convertObjectDataToArray(e);else if(o!==e){if(o){unlistenArrayEvents(o,this);const l=this._cachedMeta;clearStacks(l),l._parsed=[]}e&&Object.isExtensible(e)&&listenArrayEvents(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const h=e._stacked;e._stacked=isStacked(e.vScale,e),e.stack!==o.stack&&(l=!0,clearStacks(e),e.stack=o.stack),this._resyncElements(t),(l||h!==e._stacked)&&updateStacks(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:o,_data:l}=this,{iScale:h,_stacked:y}=o,O=h.axis;let D=t===0&&e===l.length?!0:o._sorted,R=t>0&&o._parsed[t-1],F,j,B;if(this._parsing===!1)o._parsed=l,o._sorted=!0,B=l;else{isArray(l[t])?B=this.parseArrayData(o,l,t,e):isObject(l[t])?B=this.parseObjectData(o,l,t,e):B=this.parsePrimitiveData(o,l,t,e);const U=()=>j[O]===null||R&&j[O]<R[O];for(F=0;F<e;++F)o._parsed[F+t]=j=B[F],D&&(U()&&(D=!1),R=j);o._sorted=D}y&&updateStacks(this,B)}parsePrimitiveData(t,e,o,l){const{iScale:h,vScale:y}=t,O=h.axis,D=y.axis,R=h.getLabels(),F=h===y,j=new Array(l);let B,U,W;for(B=0,U=l;B<U;++B)W=B+o,j[B]={[O]:F||h.parse(R[W],W),[D]:y.parse(e[W],W)};return j}parseArrayData(t,e,o,l){const{xScale:h,yScale:y}=t,O=new Array(l);let D,R,F,j;for(D=0,R=l;D<R;++D)F=D+o,j=e[F],O[D]={x:h.parse(j[0],F),y:y.parse(j[1],F)};return O}parseObjectData(t,e,o,l){const{xScale:h,yScale:y}=t,{xAxisKey:O="x",yAxisKey:D="y"}=this._parsing,R=new Array(l);let F,j,B,U;for(F=0,j=l;F<j;++F)B=F+o,U=e[B],R[F]={x:h.parse(resolveObjectKey(U,O),B),y:y.parse(resolveObjectKey(U,D),B)};return R}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,o){const l=this.chart,h=this._cachedMeta,y=e[t.axis],O={keys:getSortedDatasetIndices(l,!0),values:e._stacks[t.axis]};return applyStack(O,y,h.index,{mode:o})}updateRangeFromParsed(t,e,o,l){const h=o[e.axis];let y=h===null?NaN:h;const O=l&&o._stacks[e.axis];l&&O&&(l.values=O,y=applyStack(l,h,this._cachedMeta.index)),t.min=Math.min(t.min,y),t.max=Math.max(t.max,y)}getMinMax(t,e){const o=this._cachedMeta,l=o._parsed,h=o._sorted&&t===o.iScale,y=l.length,O=this._getOtherScale(t),D=createStack(e,o,this.chart),R={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:F,max:j}=getUserBounds(O);let B,U;function W(){U=l[B];const q=U[O.axis];return!isNumberFinite(U[t.axis])||F>q||j<q}for(B=0;B<y&&!(!W()&&(this.updateRangeFromParsed(R,t,U,D),h));++B);if(h){for(B=y-1;B>=0;--B)if(!W()){this.updateRangeFromParsed(R,t,U,D);break}}return R}getAllParsedValues(t){const e=this._cachedMeta._parsed,o=[];let l,h,y;for(l=0,h=e.length;l<h;++l)y=e[l][t.axis],isNumberFinite(y)&&o.push(y);return o}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,o=e.iScale,l=e.vScale,h=this.getParsed(t);return{label:o?""+o.getLabelForValue(h[o.axis]):"",value:l?""+l.getLabelForValue(h[l.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=toClip(valueOrDefault(this.options.clip,defaultClip(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,o=this._cachedMeta,l=o.data||[],h=e.chartArea,y=[],O=this._drawStart||0,D=this._drawCount||l.length-O,R=this.options.drawActiveElementsOnTop;let F;for(o.dataset&&o.dataset.draw(t,h,O,D),F=O;F<O+D;++F){const j=l[F];j.hidden||(j.active&&R?y.push(j):j.draw(t,h))}for(F=0;F<y.length;++F)y[F].draw(t,h)}getStyle(t,e){const o=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,e,o){const l=this.getDataset();let h;if(t>=0&&t<this._cachedMeta.data.length){const y=this._cachedMeta.data[t];h=y.$context||(y.$context=createDataContext(this.getContext(),t,y)),h.parsed=this.getParsed(t),h.raw=l.data[t],h.index=h.dataIndex=t}else h=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),h.dataset=l,h.index=h.datasetIndex=this.index;return h.active=!!e,h.mode=o,h}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",o){const l=e==="active",h=this._cachedDataOpts,y=t+"-"+e,O=h[y],D=this.enableOptionSharing&&defined(o);if(O)return cloneIfNotShared(O,D);const R=this.chart.config,F=R.datasetElementScopeKeys(this._type,t),j=l?[`${t}Hover`,"hover",t,""]:[t,""],B=R.getOptionScopes(this.getDataset(),F),U=Object.keys(defaults$1.elements[t]),W=()=>this.getContext(o,l),q=R.resolveNamedOptions(B,U,W,j);return q.$shared&&(q.$shared=D,h[y]=Object.freeze(cloneIfNotShared(q,D))),q}_resolveAnimations(t,e,o){const l=this.chart,h=this._cachedDataOpts,y=`animation-${e}`,O=h[y];if(O)return O;let D;if(l.options.animation!==!1){const F=this.chart.config,j=F.datasetAnimationScopeKeys(this._type,e),B=F.getOptionScopes(this.getDataset(),j);D=F.createResolver(B,this.getContext(t,o,e))}const R=new Animations(l,D&&D.animations);return D&&D._cacheable&&(h[y]=Object.freeze(R)),R}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||isDirectUpdateMode(t)||this.chart._animationsDisabled}updateElement(t,e,o,l){isDirectUpdateMode(l)?Object.assign(t,o):this._resolveAnimations(e,l).update(t,o)}updateSharedOptions(t,e,o){t&&!isDirectUpdateMode(e)&&this._resolveAnimations(void 0,e).update(t,o)}_setStyle(t,e,o,l){t.active=l;const h=this.getStyle(e,l);this._resolveAnimations(e,o,l).update(t,{options:!l&&this.getSharedOptions(h)||h})}removeHoverStyle(t,e,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,e,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,o=this._cachedMeta.data;for(const[O,D,R]of this._syncList)this[O](D,R);this._syncList=[];const l=o.length,h=e.length,y=Math.min(h,l);y&&this.parse(0,y),h>l?this._insertElements(l,h-l,t):h<l&&this._removeElements(h,l-h)}_insertElements(t,e,o=!0){const l=this._cachedMeta,h=l.data,y=t+e;let O;const D=R=>{for(R.length+=e,O=R.length-1;O>=y;O--)R[O]=R[O-e]};for(D(h),O=t;O<y;++O)h[O]=new this.dataElementType;this._parsing&&D(l._parsed),this.parse(t,e),o&&this.updateElements(h,t,e,"reset")}updateElements(t,e,o,l){}_removeElements(t,e){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(t,e);o._stacked&&clearStacks(o,l)}o.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,o,l]=t;this[e](o,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}DatasetController.defaults={};DatasetController.prototype.datasetElementType=null;DatasetController.prototype.dataElementType=null;function getAllScaleValues(r,t){if(!r._cache.$bar){const e=r.getMatchingVisibleMetas(t);let o=[];for(let l=0,h=e.length;l<h;l++)o=o.concat(e[l].controller.getAllParsedValues(r));r._cache.$bar=_arrayUnique(o.sort((l,h)=>l-h))}return r._cache.$bar}function computeMinSampleSize(r){const t=r.iScale,e=getAllScaleValues(t,r.type);let o=t._length,l,h,y,O;const D=()=>{y===32767||y===-32768||(defined(O)&&(o=Math.min(o,Math.abs(y-O)||o)),O=y)};for(l=0,h=e.length;l<h;++l)y=t.getPixelForValue(e[l]),D();for(O=void 0,l=0,h=t.ticks.length;l<h;++l)y=t.getPixelForTick(l),D();return o}function computeFitCategoryTraits(r,t,e,o){const l=e.barThickness;let h,y;return isNullOrUndef(l)?(h=t.min*e.categoryPercentage,y=e.barPercentage):(h=l*o,y=1),{chunk:h/o,ratio:y,start:t.pixels[r]-h/2}}function computeFlexCategoryTraits(r,t,e,o){const l=t.pixels,h=l[r];let y=r>0?l[r-1]:null,O=r<l.length-1?l[r+1]:null;const D=e.categoryPercentage;y===null&&(y=h-(O===null?t.end-t.start:O-h)),O===null&&(O=h+h-y);const R=h-(h-Math.min(y,O))/2*D;return{chunk:Math.abs(O-y)/2*D/o,ratio:e.barPercentage,start:R}}function parseFloatBar(r,t,e,o){const l=e.parse(r[0],o),h=e.parse(r[1],o),y=Math.min(l,h),O=Math.max(l,h);let D=y,R=O;Math.abs(y)>Math.abs(O)&&(D=O,R=y),t[e.axis]=R,t._custom={barStart:D,barEnd:R,start:l,end:h,min:y,max:O}}function parseValue(r,t,e,o){return isArray(r)?parseFloatBar(r,t,e,o):t[e.axis]=e.parse(r,o),t}function parseArrayOrPrimitive(r,t,e,o){const l=r.iScale,h=r.vScale,y=l.getLabels(),O=l===h,D=[];let R,F,j,B;for(R=e,F=e+o;R<F;++R)B=t[R],j={},j[l.axis]=O||l.parse(y[R],R),D.push(parseValue(B,j,h,R));return D}function isFloatBar(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function barSign(r,t,e){return r!==0?sign(r):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function borderProps(r){let t,e,o,l,h;return r.horizontal?(t=r.base>r.x,e="left",o="right"):(t=r.base<r.y,e="bottom",o="top"),t?(l="end",h="start"):(l="start",h="end"),{start:e,end:o,reverse:t,top:l,bottom:h}}function setBorderSkipped(r,t,e,o){let l=t.borderSkipped;const h={};if(!l){r.borderSkipped=h;return}const{start:y,end:O,reverse:D,top:R,bottom:F}=borderProps(r);l==="middle"&&e&&(r.enableBorderRadius=!0,(e._top||0)===o?l=R:(e._bottom||0)===o?l=F:(h[parseEdge(F,y,O,D)]=!0,l=R)),h[parseEdge(l,y,O,D)]=!0,r.borderSkipped=h}function parseEdge(r,t,e,o){return o?(r=swap(r,t,e),r=startEnd(r,e,t)):r=startEnd(r,t,e),r}function swap(r,t,e){return r===t?e:r===e?t:r}function startEnd(r,t,e){return r==="start"?t:r==="end"?e:r}function setInflateAmount(r,{inflateAmount:t},e){r.inflateAmount=t==="auto"?e===1?.33:0:t}class BarController extends DatasetController{parsePrimitiveData(t,e,o,l){return parseArrayOrPrimitive(t,e,o,l)}parseArrayData(t,e,o,l){return parseArrayOrPrimitive(t,e,o,l)}parseObjectData(t,e,o,l){const{iScale:h,vScale:y}=t,{xAxisKey:O="x",yAxisKey:D="y"}=this._parsing,R=h.axis==="x"?O:D,F=y.axis==="x"?O:D,j=[];let B,U,W,q;for(B=o,U=o+l;B<U;++B)q=e[B],W={},W[h.axis]=h.parse(resolveObjectKey(q,R),B),j.push(parseValue(resolveObjectKey(q,F),W,y,B));return j}updateRangeFromParsed(t,e,o,l){super.updateRangeFromParsed(t,e,o,l);const h=o._custom;h&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,h.min),t.max=Math.max(t.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:o,vScale:l}=e,h=this.getParsed(t),y=h._custom,O=isFloatBar(y)?"["+y.start+", "+y.end+"]":""+l.getLabelForValue(h[l.axis]);return{label:""+o.getLabelForValue(h[o.axis]),value:O}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,o,l){const h=l==="reset",{index:y,_cachedMeta:{vScale:O}}=this,D=O.getBasePixel(),R=O.isHorizontal(),F=this._getRuler(),j=this.resolveDataElementOptions(e,l),B=this.getSharedOptions(j),U=this.includeOptions(l,B);this.updateSharedOptions(B,l,j);for(let W=e;W<e+o;W++){const q=this.getParsed(W),K=h||isNullOrUndef(q[O.axis])?{base:D,head:D}:this._calculateBarValuePixels(W),Y=this._calculateBarIndexPixels(W,F),X=(q._stacks||{})[O.axis],J={horizontal:R,base:K.base,enableBorderRadius:!X||isFloatBar(q._custom)||y===X._top||y===X._bottom,x:R?K.head:Y.center,y:R?Y.center:K.head,height:R?Y.size:Math.abs(K.size),width:R?Math.abs(K.size):Y.size};U&&(J.options=B||this.resolveDataElementOptions(W,t[W].active?"active":l));const Q=J.options||t[W].options;setBorderSkipped(J,Q,X,y),setInflateAmount(J,Q,F.ratio),this.updateElement(t[W],W,J,l)}}_getStacks(t,e){const l=this._cachedMeta.iScale,h=l.getMatchingVisibleMetas(this._type),y=l.options.stacked,O=h.length,D=[];let R,F;for(R=0;R<O;++R)if(F=h[R],!!F.controller.options.grouped){if(typeof e!="undefined"){const j=F.controller.getParsed(e)[F.controller._cachedMeta.vScale.axis];if(isNullOrUndef(j)||isNaN(j))continue}if((y===!1||D.indexOf(F.stack)===-1||y===void 0&&F.stack===void 0)&&D.push(F.stack),F.index===t)break}return D.length||D.push(void 0),D}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,o){const l=this._getStacks(t,o),h=e!==void 0?l.indexOf(e):-1;return h===-1?l.length-1:h}_getRuler(){const t=this.options,e=this._cachedMeta,o=e.iScale,l=[];let h,y;for(h=0,y=e.data.length;h<y;++h)l.push(o.getPixelForValue(this.getParsed(h)[o.axis],h));const O=t.barThickness;return{min:O||computeMinSampleSize(e),pixels:l,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:t.grouped,ratio:O?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:o},options:{base:l,minBarLength:h}}=this,y=l||0,O=this.getParsed(t),D=O._custom,R=isFloatBar(D);let F=O[e.axis],j=0,B=o?this.applyStack(e,O,o):F,U,W;B!==F&&(j=B-F,B=F),R&&(F=D.barStart,B=D.barEnd-D.barStart,F!==0&&sign(F)!==sign(D.barEnd)&&(j=0),j+=F);const q=!isNullOrUndef(l)&&!R?l:j;let K=e.getPixelForValue(q);if(this.chart.getDataVisibility(t)?U=e.getPixelForValue(j+B):U=K,W=U-K,Math.abs(W)<h){W=barSign(W,e,y)*h,F===y&&(K-=W/2);const Y=e.getPixelForDecimal(0),X=e.getPixelForDecimal(1),J=Math.min(Y,X),Q=Math.max(Y,X);K=Math.max(Math.min(K,Q),J),U=K+W}if(K===e.getPixelForValue(y)){const Y=sign(W)*e.getLineWidthForValue(y)/2;K+=Y,W-=Y}return{size:W,base:K,head:U,center:U+W/2}}_calculateBarIndexPixels(t,e){const o=e.scale,l=this.options,h=l.skipNull,y=valueOrDefault(l.maxBarThickness,1/0);let O,D;if(e.grouped){const R=h?this._getStackCount(t):e.stackCount,F=l.barThickness==="flex"?computeFlexCategoryTraits(t,e,l,R):computeFitCategoryTraits(t,e,l,R),j=this._getStackIndex(this.index,this._cachedMeta.stack,h?t:void 0);O=F.start+F.chunk*j+F.chunk/2,D=Math.min(y,F.chunk*F.ratio)}else O=o.getPixelForValue(this.getParsed(t)[o.axis],t),D=Math.min(y,e.min*e.ratio);return{base:O-D/2,head:O+D/2,center:O,size:D}}draw(){const t=this._cachedMeta,e=t.vScale,o=t.data,l=o.length;let h=0;for(;h<l;++h)this.getParsed(h)[e.axis]!==null&&o[h].draw(this._ctx)}}BarController.id="bar";BarController.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};BarController.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,o,l){const h=super.parsePrimitiveData(t,e,o,l);for(let y=0;y<h.length;y++)h[y]._custom=this.resolveDataElementOptions(y+o).radius;return h}parseArrayData(t,e,o,l){const h=super.parseArrayData(t,e,o,l);for(let y=0;y<h.length;y++){const O=e[o+y];h[y]._custom=valueOrDefault(O[2],this.resolveDataElementOptions(y+o).radius)}return h}parseObjectData(t,e,o,l){const h=super.parseObjectData(t,e,o,l);for(let y=0;y<h.length;y++){const O=e[o+y];h[y]._custom=valueOrDefault(O&&O.r&&+O.r,this.resolveDataElementOptions(y+o).radius)}return h}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let o=t.length-1;o>=0;--o)e=Math.max(e,t[o].size(this.resolveDataElementOptions(o))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:o,yScale:l}=e,h=this.getParsed(t),y=o.getLabelForValue(h.x),O=l.getLabelForValue(h.y),D=h._custom;return{label:e.label,value:"("+y+", "+O+(D?", "+D:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,o,l){const h=l==="reset",{iScale:y,vScale:O}=this._cachedMeta,D=this.resolveDataElementOptions(e,l),R=this.getSharedOptions(D),F=this.includeOptions(l,R),j=y.axis,B=O.axis;for(let U=e;U<e+o;U++){const W=t[U],q=!h&&this.getParsed(U),K={},Y=K[j]=h?y.getPixelForDecimal(.5):y.getPixelForValue(q[j]),X=K[B]=h?O.getBasePixel():O.getPixelForValue(q[B]);K.skip=isNaN(Y)||isNaN(X),F&&(K.options=this.resolveDataElementOptions(U,W.active?"active":l),h&&(K.options.radius=0)),this.updateElement(W,U,K,l)}this.updateSharedOptions(R,l,D)}resolveDataElementOptions(t,e){const o=this.getParsed(t);let l=super.resolveDataElementOptions(t,e);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const h=l.radius;return e!=="active"&&(l.radius=0),l.radius+=valueOrDefault(o&&o._custom,h),l}}BubbleController.id="bubble";BubbleController.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};BubbleController.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function getRatioAndOffset(r,t,e){let o=1,l=1,h=0,y=0;if(t<TAU){const O=r,D=O+t,R=Math.cos(O),F=Math.sin(O),j=Math.cos(D),B=Math.sin(D),U=(J,Q,Z)=>_angleBetween(J,O,D,!0)?1:Math.max(Q,Q*e,Z,Z*e),W=(J,Q,Z)=>_angleBetween(J,O,D,!0)?-1:Math.min(Q,Q*e,Z,Z*e),q=U(0,R,j),K=U(HALF_PI,F,B),Y=W(PI,R,j),X=W(PI+HALF_PI,F,B);o=(q-Y)/2,l=(K-X)/2,h=-(q+Y)/2,y=-(K+X)/2}return{ratioX:o,ratioY:l,offsetX:h,offsetY:y}}class DoughnutController extends DatasetController{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const o=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=o;else{let h=D=>+o[D];if(isObject(o[t])){const{key:D="value"}=this._parsing;h=R=>+resolveObjectKey(o[R],D)}let y,O;for(y=t,O=t+e;y<O;++y)l._parsed[y]=h(y)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let t=TAU,e=-TAU;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){const l=this.chart.getDatasetMeta(o).controller,h=l._getRotation(),y=l._getCircumference();t=Math.min(t,h),e=Math.max(e,h+y)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:o}=e,l=this._cachedMeta,h=l.data,y=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,O=Math.max((Math.min(o.width,o.height)-y)/2,0),D=Math.min(toPercentage(this.options.cutout,O),1),R=this._getRingWeight(this.index),{circumference:F,rotation:j}=this._getRotationExtents(),{ratioX:B,ratioY:U,offsetX:W,offsetY:q}=getRatioAndOffset(j,F,D),K=(o.width-y)/B,Y=(o.height-y)/U,X=Math.max(Math.min(K,Y)/2,0),J=toDimension(this.options.radius,X),Q=Math.max(J*D,0),Z=(J-Q)/this._getVisibleDatasetWeightTotal();this.offsetX=W*J,this.offsetY=q*J,l.total=this.calculateTotal(),this.outerRadius=J-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*R,0),this.updateElements(h,0,h.length,t)}_circumference(t,e){const o=this.options,l=this._cachedMeta,h=this._getCircumference();return e&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*h/TAU)}updateElements(t,e,o,l){const h=l==="reset",y=this.chart,O=y.chartArea,R=y.options.animation,F=(O.left+O.right)/2,j=(O.top+O.bottom)/2,B=h&&R.animateScale,U=B?0:this.innerRadius,W=B?0:this.outerRadius,q=this.resolveDataElementOptions(e,l),K=this.getSharedOptions(q),Y=this.includeOptions(l,K);let X=this._getRotation(),J;for(J=0;J<e;++J)X+=this._circumference(J,h);for(J=e;J<e+o;++J){const Q=this._circumference(J,h),Z=t[J],ee={x:F+this.offsetX,y:j+this.offsetY,startAngle:X,endAngle:X+Q,circumference:Q,outerRadius:W,innerRadius:U};Y&&(ee.options=K||this.resolveDataElementOptions(J,Z.active?"active":l)),X+=Q,this.updateElement(Z,J,ee,l)}this.updateSharedOptions(K,l,q)}calculateTotal(){const t=this._cachedMeta,e=t.data;let o=0,l;for(l=0;l<e.length;l++){const h=t._parsed[l];h!==null&&!isNaN(h)&&this.chart.getDataVisibility(l)&&!e[l].hidden&&(o+=Math.abs(h))}return o}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?TAU*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(e._parsed[t],o.options.locale);return{label:l[t]||"",value:h}}getMaxBorderWidth(t){let e=0;const o=this.chart;let l,h,y,O,D;if(!t){for(l=0,h=o.data.datasets.length;l<h;++l)if(o.isDatasetVisible(l)){y=o.getDatasetMeta(l),t=y.data,O=y.controller;break}}if(!t)return 0;for(l=0,h=t.length;l<h;++l)D=O.resolveDataElementOptions(l),D.borderAlign!=="inner"&&(e=Math.max(e,D.borderWidth||0,D.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let o=0,l=t.length;o<l;++o){const h=this.resolveDataElementOptions(o);e=Math.max(e,h.offset||0,h.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(e+=this._getRingWeight(o));return e}_getRingWeight(t){return Math.max(valueOrDefault(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}DoughnutController.id="doughnut";DoughnutController.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};DoughnutController.descriptors={_scriptable:r=>r!=="spacing",_indexable:r=>r!=="spacing"};DoughnutController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const t=r.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=r.legend.options;return t.labels.map((o,l)=>{const y=r.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:e,hidden:!r.getDataVisibility(l),index:l}})}return[]}},onClick(r,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){let t=r.label;const e=": "+r.formattedValue;return isArray(t)?(t=t.slice(),t[0]+=e):t+=e,t}}}}};class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:o,data:l=[],_dataset:h}=e,y=this.chart._animationsDisabled;let{start:O,count:D}=getStartAndCountOfVisiblePoints(e,l,y);this._drawStart=O,this._drawCount=D,scaleRangesChanged(e)&&(O=0,D=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!h._decimated,o.points=l;const R=this.resolveDatasetElementOptions(t);this.options.showLine||(R.borderWidth=0),R.segment=this.options.segment,this.updateElement(o,void 0,{animated:!y,options:R},t),this.updateElements(l,O,D,t)}updateElements(t,e,o,l){const h=l==="reset",{iScale:y,vScale:O,_stacked:D,_dataset:R}=this._cachedMeta,F=this.resolveDataElementOptions(e,l),j=this.getSharedOptions(F),B=this.includeOptions(l,j),U=y.axis,W=O.axis,{spanGaps:q,segment:K}=this.options,Y=isNumber(q)?q:Number.POSITIVE_INFINITY,X=this.chart._animationsDisabled||h||l==="none";let J=e>0&&this.getParsed(e-1);for(let Q=e;Q<e+o;++Q){const Z=t[Q],ee=this.getParsed(Q),re=X?Z:{},te=isNullOrUndef(ee[W]),ne=re[U]=y.getPixelForValue(ee[U],Q),ae=re[W]=h||te?O.getBasePixel():O.getPixelForValue(D?this.applyStack(O,ee,D):ee[W],Q);re.skip=isNaN(ne)||isNaN(ae)||te,re.stop=Q>0&&Math.abs(ee[U]-J[U])>Y,K&&(re.parsed=ee,re.raw=R.data[Q]),B&&(re.options=j||this.resolveDataElementOptions(Q,Z.active?"active":l)),X||this.updateElement(Z,Q,re,l),J=ee}this.updateSharedOptions(j,l,F)}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,o=e.options&&e.options.borderWidth||0,l=t.data||[];if(!l.length)return o;const h=l[0].size(this.resolveDataElementOptions(0)),y=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,h,y)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}LineController.id="line";LineController.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};LineController.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function getStartAndCountOfVisiblePoints(r,t,e){const o=t.length;let l=0,h=o;if(r._sorted){const{iScale:y,_parsed:O}=r,D=y.axis,{min:R,max:F,minDefined:j,maxDefined:B}=y.getUserBounds();j&&(l=_limitValue(Math.min(_lookupByKey(O,y.axis,R).lo,e?o:_lookupByKey(t,D,y.getPixelForValue(R)).lo),0,o-1)),B?h=_limitValue(Math.max(_lookupByKey(O,y.axis,F).hi+1,e?0:_lookupByKey(t,D,y.getPixelForValue(F)).hi+1),l,o)-l:h=o-l}return{start:l,count:h}}function scaleRangesChanged(r){const{xScale:t,yScale:e,_scaleRanges:o}=r,l={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!o)return r._scaleRanges=l,!0;const h=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==e.min||o.ymax!==e.max;return Object.assign(o,l),h}class PolarAreaController extends DatasetController{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(e._parsed[t].r,o.options.locale);return{label:l[t]||"",value:h}}parseObjectData(t,e,o,l){return _parseObjectDataRadialScale.bind(this)(t,e,o,l)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((o,l)=>{const h=this.getParsed(l).r;!isNaN(h)&&this.chart.getDataVisibility(l)&&(h<e.min&&(e.min=h),h>e.max&&(e.max=h))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,o=t.options,l=Math.min(e.right-e.left,e.bottom-e.top),h=Math.max(l/2,0),y=Math.max(o.cutoutPercentage?h/100*o.cutoutPercentage:1,0),O=(h-y)/t.getVisibleDatasetCount();this.outerRadius=h-O*this.index,this.innerRadius=this.outerRadius-O}updateElements(t,e,o,l){const h=l==="reset",y=this.chart,D=y.options.animation,R=this._cachedMeta.rScale,F=R.xCenter,j=R.yCenter,B=R.getIndexAngle(0)-.5*PI;let U=B,W;const q=360/this.countVisibleElements();for(W=0;W<e;++W)U+=this._computeAngle(W,l,q);for(W=e;W<e+o;W++){const K=t[W];let Y=U,X=U+this._computeAngle(W,l,q),J=y.getDataVisibility(W)?R.getDistanceFromCenterForValue(this.getParsed(W).r):0;U=X,h&&(D.animateScale&&(J=0),D.animateRotate&&(Y=X=B));const Q={x:F,y:j,innerRadius:0,outerRadius:J,startAngle:Y,endAngle:X,options:this.resolveDataElementOptions(W,K.active?"active":l)};this.updateElement(K,W,Q,l)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((o,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&e++}),e}_computeAngle(t,e,o){return this.chart.getDataVisibility(t)?toRadians(this.resolveDataElementOptions(t,e).angle||o):0}}PolarAreaController.id="polarArea";PolarAreaController.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};PolarAreaController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const t=r.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:e}}=r.legend.options;return t.labels.map((o,l)=>{const y=r.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:e,hidden:!r.getDataVisibility(l),index:l}})}return[]}},onClick(r,t,e){e.chart.toggleDataVisibility(t.index),e.chart.update()}},tooltip:{callbacks:{title(){return""},label(r){return r.chart.data.labels[r.dataIndex]+": "+r.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class PieController extends DoughnutController{}PieController.id="pie";PieController.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class RadarController extends DatasetController{getLabelAndValue(t){const e=this._cachedMeta.vScale,o=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(o[e.axis])}}parseObjectData(t,e,o,l){return _parseObjectDataRadialScale.bind(this)(t,e,o,l)}update(t){const e=this._cachedMeta,o=e.dataset,l=e.data||[],h=e.iScale.getLabels();if(o.points=l,t!=="resize"){const y=this.resolveDatasetElementOptions(t);this.options.showLine||(y.borderWidth=0);const O={_loop:!0,_fullLoop:h.length===l.length,options:y};this.updateElement(o,void 0,O,t)}this.updateElements(l,0,l.length,t)}updateElements(t,e,o,l){const h=this._cachedMeta.rScale,y=l==="reset";for(let O=e;O<e+o;O++){const D=t[O],R=this.resolveDataElementOptions(O,D.active?"active":l),F=h.getPointPositionForValue(O,this.getParsed(O).r),j=y?h.xCenter:F.x,B=y?h.yCenter:F.y,U={x:j,y:B,angle:F.angle,skip:isNaN(j)||isNaN(B),options:R};this.updateElement(D,O,U,l)}}}RadarController.id="radar";RadarController.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};RadarController.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ScatterController extends LineController{}ScatterController.id="scatter";ScatterController.defaults={showLine:!1,fill:!1};ScatterController.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(r){return"("+r.label+", "+r.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PolarAreaController,PieController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapter{constructor(t){this.options=t||{}}formats(){return abstract()}parse(t,e){return abstract()}format(t,e){return abstract()}add(t,e,o){return abstract()}diff(t,e,o){return abstract()}startOf(t,e,o){return abstract()}endOf(t,e){return abstract()}}DateAdapter.override=function(r){Object.assign(DateAdapter.prototype,r)};var adapters={_date:DateAdapter};function binarySearch(r,t,e,o){const{controller:l,data:h,_sorted:y}=r,O=l._cachedMeta.iScale;if(O&&t===O.axis&&t!=="r"&&y&&h.length){const D=O._reversePixels?_rlookupByKey:_lookupByKey;if(o){if(l._sharedOptions){const R=h[0],F=typeof R.getRange=="function"&&R.getRange(t);if(F){const j=D(h,t,e-F),B=D(h,t,e+F);return{lo:j.lo,hi:B.hi}}}}else return D(h,t,e)}return{lo:0,hi:h.length-1}}function evaluateInteractionItems(r,t,e,o,l){const h=r.getSortedVisibleDatasetMetas(),y=e[t];for(let O=0,D=h.length;O<D;++O){const{index:R,data:F}=h[O],{lo:j,hi:B}=binarySearch(h[O],t,y,l);for(let U=j;U<=B;++U){const W=F[U];W.skip||o(W,R,U)}}}function getDistanceMetricForAxis(r){const t=r.indexOf("x")!==-1,e=r.indexOf("y")!==-1;return function(o,l){const h=t?Math.abs(o.x-l.x):0,y=e?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(h,2)+Math.pow(y,2))}}function getIntersectItems(r,t,e,o,l){const h=[];return!l&&!r.isPointInArea(t)||evaluateInteractionItems(r,e,t,function(O,D,R){!l&&!_isPointInArea(O,r.chartArea,0)||O.inRange(t.x,t.y,o)&&h.push({element:O,datasetIndex:D,index:R})},!0),h}function getNearestRadialItems(r,t,e,o){let l=[];function h(y,O,D){const{startAngle:R,endAngle:F}=y.getProps(["startAngle","endAngle"],o),{angle:j}=getAngleFromPoint(y,{x:t.x,y:t.y});_angleBetween(j,R,F)&&l.push({element:y,datasetIndex:O,index:D})}return evaluateInteractionItems(r,e,t,h),l}function getNearestCartesianItems(r,t,e,o,l,h){let y=[];const O=getDistanceMetricForAxis(e);let D=Number.POSITIVE_INFINITY;function R(F,j,B){const U=F.inRange(t.x,t.y,l);if(o&&!U)return;const W=F.getCenterPoint(l);if(!(!!h||r.isPointInArea(W))&&!U)return;const K=O(t,W);K<D?(y=[{element:F,datasetIndex:j,index:B}],D=K):K===D&&y.push({element:F,datasetIndex:j,index:B})}return evaluateInteractionItems(r,e,t,R),y}function getNearestItems(r,t,e,o,l,h){return!h&&!r.isPointInArea(t)?[]:e==="r"&&!o?getNearestRadialItems(r,t,e,l):getNearestCartesianItems(r,t,e,o,l,h)}function getAxisItems(r,t,e,o,l){const h=[],y=e==="x"?"inXRange":"inYRange";let O=!1;return evaluateInteractionItems(r,e,t,(D,R,F)=>{D[y](t[e],l)&&(h.push({element:D,datasetIndex:R,index:F}),O=O||D.inRange(t.x,t.y,l))}),o&&!O?[]:h}var Interaction={evaluateInteractionItems,modes:{index(r,t,e,o){const l=getRelativePosition(t,r),h=e.axis||"x",y=e.includeInvisible||!1,O=e.intersect?getIntersectItems(r,l,h,o,y):getNearestItems(r,l,h,!1,o,y),D=[];return O.length?(r.getSortedVisibleDatasetMetas().forEach(R=>{const F=O[0].index,j=R.data[F];j&&!j.skip&&D.push({element:j,datasetIndex:R.index,index:F})}),D):[]},dataset(r,t,e,o){const l=getRelativePosition(t,r),h=e.axis||"xy",y=e.includeInvisible||!1;let O=e.intersect?getIntersectItems(r,l,h,o,y):getNearestItems(r,l,h,!1,o,y);if(O.length>0){const D=O[0].datasetIndex,R=r.getDatasetMeta(D).data;O=[];for(let F=0;F<R.length;++F)O.push({element:R[F],datasetIndex:D,index:F})}return O},point(r,t,e,o){const l=getRelativePosition(t,r),h=e.axis||"xy",y=e.includeInvisible||!1;return getIntersectItems(r,l,h,o,y)},nearest(r,t,e,o){const l=getRelativePosition(t,r),h=e.axis||"xy",y=e.includeInvisible||!1;return getNearestItems(r,l,h,e.intersect,o,y)},x(r,t,e,o){const l=getRelativePosition(t,r);return getAxisItems(r,l,"x",e.intersect,o)},y(r,t,e,o){const l=getRelativePosition(t,r);return getAxisItems(r,l,"y",e.intersect,o)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(r,t){return r.filter(e=>e.pos===t)}function filterDynamicPositionByAxis(r,t){return r.filter(e=>STATIC_POSITIONS.indexOf(e.pos)===-1&&e.box.axis===t)}function sortByWeight(r,t){return r.sort((e,o)=>{const l=t?o:e,h=t?e:o;return l.weight===h.weight?l.index-h.index:l.weight-h.weight})}function wrapBoxes(r){const t=[];let e,o,l,h,y,O;for(e=0,o=(r||[]).length;e<o;++e)l=r[e],{position:h,options:{stack:y,stackWeight:O=1}}=l,t.push({index:e,box:l,pos:h,horizontal:l.isHorizontal(),weight:l.weight,stack:y&&h+y,stackWeight:O});return t}function buildStacks(r){const t={};for(const e of r){const{stack:o,pos:l,stackWeight:h}=e;if(!o||!STATIC_POSITIONS.includes(l))continue;const y=t[o]||(t[o]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=h}return t}function setLayoutDims(r,t){const e=buildStacks(r),{vBoxMaxWidth:o,hBoxMaxHeight:l}=t;let h,y,O;for(h=0,y=r.length;h<y;++h){O=r[h];const{fullSize:D}=O.box,R=e[O.stack],F=R&&O.stackWeight/R.weight;O.horizontal?(O.width=F?F*o:D&&t.availableWidth,O.height=l):(O.width=o,O.height=F?F*l:D&&t.availableHeight)}return e}function buildLayoutBoxes(r){const t=wrapBoxes(r),e=sortByWeight(t.filter(R=>R.box.fullSize),!0),o=sortByWeight(filterByPosition(t,"left"),!0),l=sortByWeight(filterByPosition(t,"right")),h=sortByWeight(filterByPosition(t,"top"),!0),y=sortByWeight(filterByPosition(t,"bottom")),O=filterDynamicPositionByAxis(t,"x"),D=filterDynamicPositionByAxis(t,"y");return{fullSize:e,leftAndTop:o.concat(h),rightAndBottom:l.concat(D).concat(y).concat(O),chartArea:filterByPosition(t,"chartArea"),vertical:o.concat(l).concat(D),horizontal:h.concat(y).concat(O)}}function getCombinedMax(r,t,e,o){return Math.max(r[e],t[e])+Math.max(r[o],t[o])}function updateMaxPadding(r,t){r.top=Math.max(r.top,t.top),r.left=Math.max(r.left,t.left),r.bottom=Math.max(r.bottom,t.bottom),r.right=Math.max(r.right,t.right)}function updateDims(r,t,e,o){const{pos:l,box:h}=e,y=r.maxPadding;if(!isObject(l)){e.size&&(r[l]-=e.size);const j=o[e.stack]||{size:0,count:1};j.size=Math.max(j.size,e.horizontal?h.height:h.width),e.size=j.size/j.count,r[l]+=e.size}h.getPadding&&updateMaxPadding(y,h.getPadding());const O=Math.max(0,t.outerWidth-getCombinedMax(y,r,"left","right")),D=Math.max(0,t.outerHeight-getCombinedMax(y,r,"top","bottom")),R=O!==r.w,F=D!==r.h;return r.w=O,r.h=D,e.horizontal?{same:R,other:F}:{same:F,other:R}}function handleMaxPadding(r){const t=r.maxPadding;function e(o){const l=Math.max(t[o]-r[o],0);return r[o]+=l,l}r.y+=e("top"),r.x+=e("left"),e("right"),e("bottom")}function getMargins(r,t){const e=t.maxPadding;function o(l){const h={left:0,top:0,right:0,bottom:0};return l.forEach(y=>{h[y]=Math.max(t[y],e[y])}),h}return o(r?["left","right"]:["top","bottom"])}function fitBoxes(r,t,e,o){const l=[];let h,y,O,D,R,F;for(h=0,y=r.length,R=0;h<y;++h){O=r[h],D=O.box,D.update(O.width||t.w,O.height||t.h,getMargins(O.horizontal,t));const{same:j,other:B}=updateDims(t,e,O,o);R|=j&&l.length,F=F||B,D.fullSize||l.push(O)}return R&&fitBoxes(l,t,e,o)||F}function setBoxDims(r,t,e,o,l){r.top=e,r.left=t,r.right=t+o,r.bottom=e+l,r.width=o,r.height=l}function placeBoxes(r,t,e,o){const l=e.padding;let{x:h,y}=t;for(const O of r){const D=O.box,R=o[O.stack]||{count:1,placed:0,weight:1},F=O.stackWeight/R.weight||1;if(O.horizontal){const j=t.w*F,B=R.size||D.height;defined(R.start)&&(y=R.start),D.fullSize?setBoxDims(D,l.left,y,e.outerWidth-l.right-l.left,B):setBoxDims(D,t.left+R.placed,y,j,B),R.start=y,R.placed+=j,y=D.bottom}else{const j=t.h*F,B=R.size||D.width;defined(R.start)&&(h=R.start),D.fullSize?setBoxDims(D,h,l.top,B,e.outerHeight-l.bottom-l.top):setBoxDims(D,h,t.top+R.placed,B,j),R.start=h,R.placed+=j,h=D.right}}t.x=h,t.y=y}defaults$1.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var layouts={addBox(r,t){r.boxes||(r.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},r.boxes.push(t)},removeBox(r,t){const e=r.boxes?r.boxes.indexOf(t):-1;e!==-1&&r.boxes.splice(e,1)},configure(r,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(r,t,e,o){if(!r)return;const l=toPadding(r.options.layout.padding),h=Math.max(t-l.width,0),y=Math.max(e-l.height,0),O=buildLayoutBoxes(r.boxes),D=O.vertical,R=O.horizontal;each(r.boxes,q=>{typeof q.beforeLayout=="function"&&q.beforeLayout()});const F=D.reduce((q,K)=>K.box.options&&K.box.options.display===!1?q:q+1,0)||1,j=Object.freeze({outerWidth:t,outerHeight:e,padding:l,availableWidth:h,availableHeight:y,vBoxMaxWidth:h/2/F,hBoxMaxHeight:y/2}),B=Object.assign({},l);updateMaxPadding(B,toPadding(o));const U=Object.assign({maxPadding:B,w:h,h:y,x:l.left,y:l.top},l),W=setLayoutDims(D.concat(R),j);fitBoxes(O.fullSize,U,j,W),fitBoxes(D,U,j,W),fitBoxes(R,U,j,W)&&fitBoxes(D,U,j,W),handleMaxPadding(U),placeBoxes(O.leftAndTop,U,j,W),U.x+=U.w,U.y+=U.h,placeBoxes(O.rightAndBottom,U,j,W),r.chartArea={left:U.left,top:U.top,right:U.left+U.w,bottom:U.top+U.h,height:U.h,width:U.w},each(O.chartArea,q=>{const K=q.box;Object.assign(K,r.chartArea),K.update(U.w,U.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,o){}removeEventListener(t,e,o){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,o,l){return e=Math.max(0,e||t.width),o=o||t.height,{width:e,height:Math.max(0,l?Math.floor(e/l):o)}}isAttached(t){return!0}updateConfig(t){}}class BasicPlatform extends BasePlatform{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const EXPANDO_KEY$1="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=r=>r===null||r==="";function initCanvas(r,t){const e=r.style,o=r.getAttribute("height"),l=r.getAttribute("width");if(r[EXPANDO_KEY$1]={initial:{height:o,width:l,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",isNullOrEmpty(l)){const h=readUsedSize(r,"width");h!==void 0&&(r.width=h)}if(isNullOrEmpty(o))if(r.style.height==="")r.height=r.width/(t||2);else{const h=readUsedSize(r,"height");h!==void 0&&(r.height=h)}return r}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(r,t,e){r.addEventListener(t,e,eventListenerOptions)}function removeListener(r,t,e){r.canvas.removeEventListener(t,e,eventListenerOptions)}function fromNativeEvent(r,t){const e=EVENT_TYPES[r.type]||r.type,{x:o,y:l}=getRelativePosition(r,t);return{type:e,chart:t,native:r,x:o!==void 0?o:null,y:l!==void 0?l:null}}function nodeListContains(r,t){for(const e of r)if(e===t||e.contains(t))return!0}function createAttachObserver(r,t,e){const o=r.canvas,l=new MutationObserver(h=>{let y=!1;for(const O of h)y=y||nodeListContains(O.addedNodes,o),y=y&&!nodeListContains(O.removedNodes,o);y&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}function createDetachObserver(r,t,e){const o=r.canvas,l=new MutationObserver(h=>{let y=!1;for(const O of h)y=y||nodeListContains(O.removedNodes,o),y=y&&!nodeListContains(O.addedNodes,o);y&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const r=window.devicePixelRatio;r!==oldDevicePixelRatio&&(oldDevicePixelRatio=r,drpListeningCharts.forEach((t,e)=>{e.currentDevicePixelRatio!==r&&t()}))}function listenDevicePixelRatioChanges(r,t){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(r,t)}function unlistenDevicePixelRatioChanges(r){drpListeningCharts.delete(r),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(r,t,e){const o=r.canvas,l=o&&_getParentNode(o);if(!l)return;const h=throttled((O,D)=>{const R=l.clientWidth;e(O,D),R<l.clientWidth&&e()},window),y=new ResizeObserver(O=>{const D=O[0],R=D.contentRect.width,F=D.contentRect.height;R===0&&F===0||h(R,F)});return y.observe(l),listenDevicePixelRatioChanges(r,h),y}function releaseObserver(r,t,e){e&&e.disconnect(),t==="resize"&&unlistenDevicePixelRatioChanges(r)}function createProxyAndListen(r,t,e){const o=r.canvas,l=throttled(h=>{r.ctx!==null&&e(fromNativeEvent(h,r))},r,h=>{const y=h[0];return[y,y.offsetX,y.offsetY]});return addListener(o,t,l),l}class DomPlatform extends BasePlatform{acquireContext(t,e){const o=t&&t.getContext&&t.getContext("2d");return o&&o.canvas===t?(initCanvas(t,e),o):null}releaseContext(t){const e=t.canvas;if(!e[EXPANDO_KEY$1])return!1;const o=e[EXPANDO_KEY$1].initial;["height","width"].forEach(h=>{const y=o[h];isNullOrUndef(y)?e.removeAttribute(h):e.setAttribute(h,y)});const l=o.style||{};return Object.keys(l).forEach(h=>{e.style[h]=l[h]}),e.width=e.width,delete e[EXPANDO_KEY$1],!0}addEventListener(t,e,o){this.removeEventListener(t,e);const l=t.$proxies||(t.$proxies={}),y={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[e]||createProxyAndListen;l[e]=y(t,e,o)}removeEventListener(t,e){const o=t.$proxies||(t.$proxies={}),l=o[e];if(!l)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[e]||removeListener)(t,e,l),o[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,o,l){return getMaximumSize(t,e,o,l)}isAttached(t){const e=_getParentNode(t);return!!(e&&e.isConnected)}}function _detectPlatform(r){return!_isDomSupported()||typeof OffscreenCanvas!="undefined"&&r instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element$1{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:o}=this.getProps(["x","y"],t);return{x:e,y:o}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(t,e){const o=this.$animations;if(!e||!o)return this;const l={};return t.forEach(h=>{l[h]=o[h]&&o[h].active()?o[h]._to:this[h]}),l}}Element$1.defaults={};Element$1.defaultRoutes=void 0;const formatters$4={values(r){return isArray(r)?r:""+r},numeric(r,t,e){if(r===0)return"0";const o=this.chart.options.locale;let l,h=r;if(e.length>1){const R=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(R<1e-4||R>1e15)&&(l="scientific"),h=calculateDelta(r,e)}const y=log10(Math.abs(h)),O=Math.max(Math.min(-1*Math.floor(y),20),0),D={notation:l,minimumFractionDigits:O,maximumFractionDigits:O};return Object.assign(D,this.options.ticks.format),formatNumber(r,o,D)},logarithmic(r,t,e){if(r===0)return"0";const o=r/Math.pow(10,Math.floor(log10(r)));return o===1||o===2||o===5?formatters$4.numeric.call(this,r,t,e):""}};function calculateDelta(r,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&r!==Math.floor(r)&&(e=r-Math.floor(r)),e}var Ticks={formatters:formatters$4};defaults$1.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(r,t)=>t.lineWidth,tickColor:(r,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});defaults$1.route("scale.ticks","color","","color");defaults$1.route("scale.grid","color","","borderColor");defaults$1.route("scale.grid","borderColor","","borderColor");defaults$1.route("scale.title","color","","color");defaults$1.describe("scale",{_fallback:!1,_scriptable:r=>!r.startsWith("before")&&!r.startsWith("after")&&r!=="callback"&&r!=="parser",_indexable:r=>r!=="borderDash"&&r!=="tickBorderDash"});defaults$1.describe("scales",{_fallback:"scale"});defaults$1.describe("scale.ticks",{_scriptable:r=>r!=="backdropPadding"&&r!=="callback",_indexable:r=>r!=="backdropPadding"});function autoSkip(r,t){const e=r.options.ticks,o=e.maxTicksLimit||determineMaxTicks(r),l=e.major.enabled?getMajorIndices(t):[],h=l.length,y=l[0],O=l[h-1],D=[];if(h>o)return skipMajors(t,D,l,h/o),D;const R=calculateSpacing(l,t,o);if(h>0){let F,j;const B=h>1?Math.round((O-y)/(h-1)):null;for(skip(t,D,R,isNullOrUndef(B)?0:y-B,y),F=0,j=h-1;F<j;F++)skip(t,D,R,l[F],l[F+1]);return skip(t,D,R,O,isNullOrUndef(B)?t.length:O+B),D}return skip(t,D,R),D}function determineMaxTicks(r){const t=r.options.offset,e=r._tickSize(),o=r._length/e+(t?0:1),l=r._maxLength/e;return Math.floor(Math.min(o,l))}function calculateSpacing(r,t,e){const o=getEvenSpacing(r),l=t.length/e;if(!o)return Math.max(l,1);const h=_factorize(o);for(let y=0,O=h.length-1;y<O;y++){const D=h[y];if(D>l)return D}return Math.max(l,1)}function getMajorIndices(r){const t=[];let e,o;for(e=0,o=r.length;e<o;e++)r[e].major&&t.push(e);return t}function skipMajors(r,t,e,o){let l=0,h=e[0],y;for(o=Math.ceil(o),y=0;y<r.length;y++)y===h&&(t.push(r[y]),l++,h=e[l*o])}function skip(r,t,e,o,l){const h=valueOrDefault(o,0),y=Math.min(valueOrDefault(l,r.length),r.length);let O=0,D,R,F;for(e=Math.ceil(e),l&&(D=l-o,e=D/Math.floor(D/e)),F=h;F<0;)O++,F=Math.round(h+O*e);for(R=Math.max(h,0);R<y;R++)R===F&&(t.push(r[R]),O++,F=Math.round(h+O*e))}function getEvenSpacing(r){const t=r.length;let e,o;if(t<2)return!1;for(o=r[0],e=1;e<t;++e)if(r[e]-r[e-1]!==o)return!1;return o}const reverseAlign=r=>r==="left"?"right":r==="right"?"left":r,offsetFromEdge=(r,t,e)=>t==="top"||t==="left"?r[t]+e:r[t]-e;function sample(r,t){const e=[],o=r.length/t,l=r.length;let h=0;for(;h<l;h+=o)e.push(r[Math.floor(h)]);return e}function getPixelForGridLine(r,t,e){const o=r.ticks.length,l=Math.min(t,o-1),h=r._startPixel,y=r._endPixel,O=1e-6;let D=r.getPixelForTick(l),R;if(!(e&&(o===1?R=Math.max(D-h,y-D):t===0?R=(r.getPixelForTick(1)-D)/2:R=(D-r.getPixelForTick(l-1))/2,D+=l<t?R:-R,D<h-O||D>y+O)))return D}function garbageCollect(r,t){each(r,e=>{const o=e.gc,l=o.length/2;let h;if(l>t){for(h=0;h<l;++h)delete e.data[o[h]];o.splice(0,l)}})}function getTickMarkLength(r){return r.drawTicks?r.tickLength:0}function getTitleHeight(r,t){if(!r.display)return 0;const e=toFont(r.font,t),o=toPadding(r.padding);return(isArray(r.text)?r.text.length:1)*e.lineHeight+o.height}function createScaleContext(r,t){return createContext(r,{scale:t,type:"scale"})}function createTickContext(r,t,e){return createContext(r,{tick:e,index:t,type:"tick"})}function titleAlign(r,t,e){let o=_toLeftRightCenter(r);return(e&&t!=="right"||!e&&t==="right")&&(o=reverseAlign(o)),o}function titleArgs(r,t,e,o){const{top:l,left:h,bottom:y,right:O,chart:D}=r,{chartArea:R,scales:F}=D;let j=0,B,U,W;const q=y-l,K=O-h;if(r.isHorizontal()){if(U=_alignStartEnd(o,h,O),isObject(e)){const Y=Object.keys(e)[0],X=e[Y];W=F[Y].getPixelForValue(X)+q-t}else e==="center"?W=(R.bottom+R.top)/2+q-t:W=offsetFromEdge(r,e,t);B=O-h}else{if(isObject(e)){const Y=Object.keys(e)[0],X=e[Y];U=F[Y].getPixelForValue(X)-K+t}else e==="center"?U=(R.left+R.right)/2-K+t:U=offsetFromEdge(r,e,t);W=_alignStartEnd(o,y,l),j=e==="left"?-HALF_PI:HALF_PI}return{titleX:U,titleY:W,maxWidth:B,rotation:j}}class Scale extends Element$1{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:o,_suggestedMax:l}=this;return t=finiteOrDefault(t,Number.POSITIVE_INFINITY),e=finiteOrDefault(e,Number.NEGATIVE_INFINITY),o=finiteOrDefault(o,Number.POSITIVE_INFINITY),l=finiteOrDefault(l,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(t,o),max:finiteOrDefault(e,l),minDefined:isNumberFinite(t),maxDefined:isNumberFinite(e)}}getMinMax(t){let{min:e,max:o,minDefined:l,maxDefined:h}=this.getUserBounds(),y;if(l&&h)return{min:e,max:o};const O=this.getMatchingVisibleMetas();for(let D=0,R=O.length;D<R;++D)y=O[D].controller.getMinMax(this,t),l||(e=Math.min(e,y.min)),h||(o=Math.max(o,y.max));return e=h&&e>o?o:e,o=l&&e>o?e:o,{min:finiteOrDefault(e,finiteOrDefault(o,e)),max:finiteOrDefault(o,finiteOrDefault(e,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(t,e,o){const{beginAtZero:l,grace:h,ticks:y}=this.options,O=y.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,h,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const D=O<this.ticks.length;this._convertTicksToLabels(D?sample(this.ticks,O):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||y.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),D&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,o;this.isHorizontal()?(e=this.left,o=this.right):(e=this.top,o=this.bottom,t=!t),this._startPixel=e,this._endPixel=o,this._reversePixels=t,this._length=o-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),callback(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let o,l,h;for(o=0,l=t.length;o<l;o++)h=t[o],h.label=callback(e.callback,[h.value,o,t],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,o=this.ticks.length,l=e.minRotation||0,h=e.maxRotation;let y=l,O,D,R;if(!this._isVisible()||!e.display||l>=h||o<=1||!this.isHorizontal()){this.labelRotation=l;return}const F=this._getLabelSizes(),j=F.widest.width,B=F.highest.height,U=_limitValue(this.chart.width-j,0,this.maxWidth);O=t.offset?this.maxWidth/o:U/(o-1),j+6>O&&(O=U/(o-(t.offset?.5:1)),D=this.maxHeight-getTickMarkLength(t.grid)-e.padding-getTitleHeight(t.title,this.chart.options.font),R=Math.sqrt(j*j+B*B),y=toDegrees(Math.min(Math.asin(_limitValue((F.highest.height+6)/O,-1,1)),Math.asin(_limitValue(D/R,-1,1))-Math.asin(_limitValue(B/R,-1,1)))),y=Math.max(l,Math.min(h,y))),this.labelRotation=y}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:o,title:l,grid:h}}=this,y=this._isVisible(),O=this.isHorizontal();if(y){const D=getTitleHeight(l,e.options.font);if(O?(t.width=this.maxWidth,t.height=getTickMarkLength(h)+D):(t.height=this.maxHeight,t.width=getTickMarkLength(h)+D),o.display&&this.ticks.length){const{first:R,last:F,widest:j,highest:B}=this._getLabelSizes(),U=o.padding*2,W=toRadians(this.labelRotation),q=Math.cos(W),K=Math.sin(W);if(O){const Y=o.mirror?0:K*j.width+q*B.height;t.height=Math.min(this.maxHeight,t.height+Y+U)}else{const Y=o.mirror?0:q*j.width+K*B.height;t.width=Math.min(this.maxWidth,t.width+Y+U)}this._calculatePadding(R,F,K,q)}}this._handleMargins(),O?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,o,l){const{ticks:{align:h,padding:y},position:O}=this.options,D=this.labelRotation!==0,R=O!=="top"&&this.axis==="x";if(this.isHorizontal()){const F=this.getPixelForTick(0)-this.left,j=this.right-this.getPixelForTick(this.ticks.length-1);let B=0,U=0;D?R?(B=l*t.width,U=o*e.height):(B=o*t.height,U=l*e.width):h==="start"?U=e.width:h==="end"?B=t.width:h!=="inner"&&(B=t.width/2,U=e.width/2),this.paddingLeft=Math.max((B-F+y)*this.width/(this.width-F),0),this.paddingRight=Math.max((U-j+y)*this.width/(this.width-j),0)}else{let F=e.height/2,j=t.height/2;h==="start"?(F=0,j=t.height):h==="end"&&(F=e.height,j=0),this.paddingTop=F+y,this.paddingBottom=j+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,o;for(e=0,o=t.length;e<o;e++)isNullOrUndef(t[e].label)&&(t.splice(e,1),o--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let o=this.ticks;e<o.length&&(o=sample(o,e)),this._labelSizes=t=this._computeLabelSizes(o,o.length)}return t}_computeLabelSizes(t,e){const{ctx:o,_longestTextCache:l}=this,h=[],y=[];let O=0,D=0,R,F,j,B,U,W,q,K,Y,X,J;for(R=0;R<e;++R){if(B=t[R].label,U=this._resolveTickFontOptions(R),o.font=W=U.string,q=l[W]=l[W]||{data:{},gc:[]},K=U.lineHeight,Y=X=0,!isNullOrUndef(B)&&!isArray(B))Y=_measureText(o,q.data,q.gc,Y,B),X=K;else if(isArray(B))for(F=0,j=B.length;F<j;++F)J=B[F],!isNullOrUndef(J)&&!isArray(J)&&(Y=_measureText(o,q.data,q.gc,Y,J),X+=K);h.push(Y),y.push(X),O=Math.max(Y,O),D=Math.max(X,D)}garbageCollect(l,e);const Q=h.indexOf(O),Z=y.indexOf(D),ee=re=>({width:h[re]||0,height:y[re]||0});return{first:ee(0),last:ee(e-1),widest:ee(Q),highest:ee(Z),widths:h,heights:y}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const o=e[t];return o.$context||(o.$context=createTickContext(this.getContext(),t,o))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=toRadians(this.labelRotation),o=Math.abs(Math.cos(e)),l=Math.abs(Math.sin(e)),h=this._getLabelSizes(),y=t.autoSkipPadding||0,O=h?h.widest.width+y:0,D=h?h.highest.height+y:0;return this.isHorizontal()?D*o>O*l?O/o:D/l:D*l<O*o?D/o:O/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,o=this.chart,l=this.options,{grid:h,position:y}=l,O=h.offset,D=this.isHorizontal(),F=this.ticks.length+(O?1:0),j=getTickMarkLength(h),B=[],U=h.setContext(this.getContext()),W=U.drawBorder?U.borderWidth:0,q=W/2,K=function(pe){return _alignPixel(o,pe,W)};let Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe;if(y==="top")Y=K(this.bottom),ee=this.bottom-j,te=Y-q,ae=K(t.top)+q,oe=t.bottom;else if(y==="bottom")Y=K(this.top),ae=t.top,oe=K(t.bottom)-q,ee=Y+q,te=this.top+j;else if(y==="left")Y=K(this.right),Z=this.right-j,re=Y-q,ne=K(t.left)+q,ie=t.right;else if(y==="right")Y=K(this.left),ne=t.left,ie=K(t.right)-q,Z=Y+q,re=this.left+j;else if(e==="x"){if(y==="center")Y=K((t.top+t.bottom)/2+.5);else if(isObject(y)){const pe=Object.keys(y)[0],me=y[pe];Y=K(this.chart.scales[pe].getPixelForValue(me))}ae=t.top,oe=t.bottom,ee=Y+q,te=ee+j}else if(e==="y"){if(y==="center")Y=K((t.left+t.right)/2);else if(isObject(y)){const pe=Object.keys(y)[0],me=y[pe];Y=K(this.chart.scales[pe].getPixelForValue(me))}Z=Y-q,re=Z-j,ne=t.left,ie=t.right}const ce=valueOrDefault(l.ticks.maxTicksLimit,F),ue=Math.max(1,Math.ceil(F/ce));for(X=0;X<F;X+=ue){const pe=h.setContext(this.getContext(X)),me=pe.lineWidth,he=pe.color,se=h.borderDash||[],le=pe.borderDashOffset,fe=pe.tickWidth,ge=pe.tickColor,ye=pe.tickBorderDash||[],we=pe.tickBorderDashOffset;J=getPixelForGridLine(this,X,O),J!==void 0&&(Q=_alignPixel(o,J,me),D?Z=re=ne=ie=Q:ee=te=ae=oe=Q,B.push({tx1:Z,ty1:ee,tx2:re,ty2:te,x1:ne,y1:ae,x2:ie,y2:oe,width:me,color:he,borderDash:se,borderDashOffset:le,tickWidth:fe,tickColor:ge,tickBorderDash:ye,tickBorderDashOffset:we}))}return this._ticksLength=F,this._borderValue=Y,B}_computeLabelItems(t){const e=this.axis,o=this.options,{position:l,ticks:h}=o,y=this.isHorizontal(),O=this.ticks,{align:D,crossAlign:R,padding:F,mirror:j}=h,B=getTickMarkLength(o.grid),U=B+F,W=j?-F:U,q=-toRadians(this.labelRotation),K=[];let Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce="middle";if(l==="top")ee=this.bottom-W,re=this._getXAxisLabelAlignment();else if(l==="bottom")ee=this.top+W,re=this._getXAxisLabelAlignment();else if(l==="left"){const pe=this._getYAxisLabelAlignment(B);re=pe.textAlign,Z=pe.x}else if(l==="right"){const pe=this._getYAxisLabelAlignment(B);re=pe.textAlign,Z=pe.x}else if(e==="x"){if(l==="center")ee=(t.top+t.bottom)/2+U;else if(isObject(l)){const pe=Object.keys(l)[0],me=l[pe];ee=this.chart.scales[pe].getPixelForValue(me)+U}re=this._getXAxisLabelAlignment()}else if(e==="y"){if(l==="center")Z=(t.left+t.right)/2-U;else if(isObject(l)){const pe=Object.keys(l)[0],me=l[pe];Z=this.chart.scales[pe].getPixelForValue(me)}re=this._getYAxisLabelAlignment(B).textAlign}e==="y"&&(D==="start"?ce="top":D==="end"&&(ce="bottom"));const ue=this._getLabelSizes();for(Y=0,X=O.length;Y<X;++Y){J=O[Y],Q=J.label;const pe=h.setContext(this.getContext(Y));te=this.getPixelForTick(Y)+h.labelOffset,ne=this._resolveTickFontOptions(Y),ae=ne.lineHeight,ie=isArray(Q)?Q.length:1;const me=ie/2,he=pe.color,se=pe.textStrokeColor,le=pe.textStrokeWidth;let fe=re;y?(Z=te,re==="inner"&&(Y===X-1?fe=this.options.reverse?"left":"right":Y===0?fe=this.options.reverse?"right":"left":fe="center"),l==="top"?R==="near"||q!==0?oe=-ie*ae+ae/2:R==="center"?oe=-ue.highest.height/2-me*ae+ae:oe=-ue.highest.height+ae/2:R==="near"||q!==0?oe=ae/2:R==="center"?oe=ue.highest.height/2-me*ae:oe=ue.highest.height-ie*ae,j&&(oe*=-1)):(ee=te,oe=(1-ie)*ae/2);let ge;if(pe.showLabelBackdrop){const ye=toPadding(pe.backdropPadding),we=ue.heights[Y],$e=ue.widths[Y];let _e=ee+oe-ye.top,Se=Z-ye.left;switch(ce){case"middle":_e-=we/2;break;case"bottom":_e-=we;break}switch(re){case"center":Se-=$e/2;break;case"right":Se-=$e;break}ge={left:Se,top:_e,width:$e+ye.width,height:we+ye.height,color:pe.backdropColor}}K.push({rotation:q,label:Q,font:ne,color:he,strokeColor:se,strokeWidth:le,textOffset:oe,textAlign:fe,textBaseline:ce,translation:[Z,ee],backdrop:ge})}return K}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-toRadians(this.labelRotation))return t==="top"?"left":"right";let l="center";return e.align==="start"?l="left":e.align==="end"?l="right":e.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:o,mirror:l,padding:h}}=this.options,y=this._getLabelSizes(),O=t+h,D=y.widest.width;let R,F;return e==="left"?l?(F=this.right+h,o==="near"?R="left":o==="center"?(R="center",F+=D/2):(R="right",F+=D)):(F=this.right-O,o==="near"?R="right":o==="center"?(R="center",F-=D/2):(R="left",F=this.left)):e==="right"?l?(F=this.left+h,o==="near"?R="right":o==="center"?(R="center",F-=D/2):(R="left",F-=D)):(F=this.left+O,o==="near"?R="left":o==="center"?(R="center",F+=D/2):(R="right",F=this.right)):R="right",{textAlign:R,x:F}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:o,top:l,width:h,height:y}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(o,l,h,y),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const l=this.ticks.findIndex(h=>h.value===t);return l>=0?e.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const e=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let h,y;const O=(D,R,F)=>{!F.width||!F.color||(o.save(),o.lineWidth=F.width,o.strokeStyle=F.color,o.setLineDash(F.borderDash||[]),o.lineDashOffset=F.borderDashOffset,o.beginPath(),o.moveTo(D.x,D.y),o.lineTo(R.x,R.y),o.stroke(),o.restore())};if(e.display)for(h=0,y=l.length;h<y;++h){const D=l[h];e.drawOnChartArea&&O({x:D.x1,y:D.y1},{x:D.x2,y:D.y2},D),e.drawTicks&&O({x:D.tx1,y:D.ty1},{x:D.tx2,y:D.ty2},{color:D.tickColor,width:D.tickWidth,borderDash:D.tickBorderDash,borderDashOffset:D.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:o}}=this,l=o.setContext(this.getContext()),h=o.drawBorder?l.borderWidth:0;if(!h)return;const y=o.setContext(this.getContext(0)).lineWidth,O=this._borderValue;let D,R,F,j;this.isHorizontal()?(D=_alignPixel(t,this.left,h)-h/2,R=_alignPixel(t,this.right,y)+y/2,F=j=O):(F=_alignPixel(t,this.top,h)-h/2,j=_alignPixel(t,this.bottom,y)+y/2,D=R=O),e.save(),e.lineWidth=l.borderWidth,e.strokeStyle=l.borderColor,e.beginPath(),e.moveTo(D,F),e.lineTo(R,j),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&clipArea(o,l);const h=this._labelItems||(this._labelItems=this._computeLabelItems(t));let y,O;for(y=0,O=h.length;y<O;++y){const D=h[y],R=D.font,F=D.label;D.backdrop&&(o.fillStyle=D.backdrop.color,o.fillRect(D.backdrop.left,D.backdrop.top,D.backdrop.width,D.backdrop.height));let j=D.textOffset;renderText(o,F,0,j,R,D)}l&&unclipArea(o)}drawTitle(){const{ctx:t,options:{position:e,title:o,reverse:l}}=this;if(!o.display)return;const h=toFont(o.font),y=toPadding(o.padding),O=o.align;let D=h.lineHeight/2;e==="bottom"||e==="center"||isObject(e)?(D+=y.bottom,isArray(o.text)&&(D+=h.lineHeight*(o.text.length-1))):D+=y.top;const{titleX:R,titleY:F,maxWidth:j,rotation:B}=titleArgs(this,D,e,O);renderText(t,o.text,0,0,h,{color:o.color,maxWidth:j,rotation:B,textAlign:titleAlign(O,e,l),textBaseline:"middle",translation:[R,F]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,o=valueOrDefault(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:e,draw:l=>{this.draw(l)}}]:[{z:o,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o+1,draw:()=>{this.drawBorder()}},{z:e,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let h,y;for(h=0,y=e.length;h<y;++h){const O=e[h];O[o]===this.id&&(!t||O.type===t)&&l.push(O)}return l}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return toFont(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class TypedRegistry{constructor(t,e,o){this.type=t,this.scope=e,this.override=o,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let o;isIChartComponent(e)&&(o=this.register(e));const l=this.items,h=t.id,y=this.scope+"."+h;if(!h)throw new Error("class does not have id: "+t);return h in l||(l[h]=t,registerDefaults(t,y,o),this.override&&defaults$1.override(t.id,t.overrides)),y}get(t){return this.items[t]}unregister(t){const e=this.items,o=t.id,l=this.scope;o in e&&delete e[o],l&&o in defaults$1[l]&&(delete defaults$1[l][o],this.override&&delete overrides[o])}}function registerDefaults(r,t,e){const o=merge(Object.create(null),[e?defaults$1.get(e):{},defaults$1.get(t),r.defaults]);defaults$1.set(t,o),r.defaultRoutes&&routeDefaults(t,r.defaultRoutes),r.descriptors&&defaults$1.describe(t,r.descriptors)}function routeDefaults(r,t){Object.keys(t).forEach(e=>{const o=e.split("."),l=o.pop(),h=[r].concat(o).join("."),y=t[e].split("."),O=y.pop(),D=y.join(".");defaults$1.route(h,l,D,O)})}function isIChartComponent(r){return"id"in r&&"defaults"in r}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,o){[...e].forEach(l=>{const h=o||this._getRegistryForType(l);o||h.isForType(l)||h===this.plugins&&l.id?this._exec(t,h,l):each(l,y=>{const O=o||this._getRegistryForType(y);this._exec(t,O,y)})})}_exec(t,e,o){const l=_capitalize(t);callback(o["before"+l],[],o),e[t](o),callback(o["after"+l],[],o)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const o=this._typedRegistries[e];if(o.isForType(t))return o}return this.plugins}_get(t,e,o){const l=e.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+o+".");return l}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(t,e,o,l){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const h=l?this._descriptors(t).filter(l):this._descriptors(t),y=this._notify(h,t,e,o);return e==="afterDestroy"&&(this._notify(h,t,"stop"),this._notify(this._init,t,"uninstall")),y}_notify(t,e,o,l){l=l||{};for(const h of t){const y=h.plugin,O=y[o],D=[e,l,h.options];if(callback(O,D,y)===!1&&l.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const o=t&&t.config,l=valueOrDefault(o.options&&o.options.plugins,{}),h=allPlugins(o);return l===!1&&!e?[]:createDescriptors(t,h,l,e)}_notifyStateChanges(t){const e=this._oldCache||[],o=this._cache,l=(h,y)=>h.filter(O=>!y.some(D=>O.plugin.id===D.plugin.id));this._notify(l(e,o),t,"stop"),this._notify(l(o,e),t,"start")}}function allPlugins(r){const t=[],e=Object.keys(registry.plugins.items);for(let l=0;l<e.length;l++)t.push(registry.getPlugin(e[l]));const o=r.plugins||[];for(let l=0;l<o.length;l++){const h=o[l];t.indexOf(h)===-1&&t.push(h)}return t}function getOpts(r,t){return!t&&r===!1?null:r===!0?{}:r}function createDescriptors(r,t,e,o){const l=[],h=r.getContext();for(let y=0;y<t.length;y++){const O=t[y],D=O.id,R=getOpts(e[D],o);R!==null&&l.push({plugin:O,options:pluginOpts(r.config,O,R,h)})}return l}function pluginOpts(r,t,e,o){const l=r.pluginScopeKeys(t),h=r.getOptionScopes(e,l);return r.createResolver(h,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(r,t){const e=defaults$1.datasets[r]||{};return((t.datasets||{})[r]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function getAxisFromDefaultScaleID(r,t){let e=r;return r==="_index_"?e=t:r==="_value_"&&(e=t==="x"?"y":"x"),e}function getDefaultScaleIDFromAxis(r,t){return r===t?"_index_":"_value_"}function axisFromPosition(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function determineAxis(r,t){return r==="x"||r==="y"?r:t.axis||axisFromPosition(t.position)||r.charAt(0).toLowerCase()}function mergeScaleConfig(r,t){const e=overrides[r.type]||{scales:{}},o=t.scales||{},l=getIndexAxis(r.type,t),h=Object.create(null),y=Object.create(null);return Object.keys(o).forEach(O=>{const D=o[O];if(!isObject(D))return console.error(`Invalid scale configuration for scale: ${O}`);if(D._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${O}`);const R=determineAxis(O,D),F=getDefaultScaleIDFromAxis(R,l),j=e.scales||{};h[R]=h[R]||O,y[O]=mergeIf(Object.create(null),[{axis:R},D,j[R],j[F]])}),r.data.datasets.forEach(O=>{const D=O.type||r.type,R=O.indexAxis||getIndexAxis(D,t),j=(overrides[D]||{}).scales||{};Object.keys(j).forEach(B=>{const U=getAxisFromDefaultScaleID(B,R),W=O[U+"AxisID"]||h[U]||U;y[W]=y[W]||Object.create(null),mergeIf(y[W],[{axis:U},o[W],j[B]])})}),Object.keys(y).forEach(O=>{const D=y[O];mergeIf(D,[defaults$1.scales[D.type],defaults$1.scale])}),y}function initOptions(r){const t=r.options||(r.options={});t.plugins=valueOrDefault(t.plugins,{}),t.scales=mergeScaleConfig(r,t)}function initData(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function initConfig(r){return r=r||{},r.data=initData(r.data),initOptions(r),r}const keyCache=new Map,keysCached=new Set;function cachedKeys(r,t){let e=keyCache.get(r);return e||(e=t(),keyCache.set(r,e),keysCached.add(e)),e}const addIfFound=(r,t,e)=>{const o=resolveObjectKey(t,e);o!==void 0&&r.add(o)};class Config{constructor(t){this._config=initConfig(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=initData(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),initOptions(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return cachedKeys(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return cachedKeys(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return cachedKeys(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,o=this.type;return cachedKeys(`${o}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const o=this._scopeCache;let l=o.get(t);return(!l||e)&&(l=new Map,o.set(t,l)),l}getOptionScopes(t,e,o){const{options:l,type:h}=this,y=this._cachedScopes(t,o),O=y.get(e);if(O)return O;const D=new Set;e.forEach(F=>{t&&(D.add(t),F.forEach(j=>addIfFound(D,t,j))),F.forEach(j=>addIfFound(D,l,j)),F.forEach(j=>addIfFound(D,overrides[h]||{},j)),F.forEach(j=>addIfFound(D,defaults$1,j)),F.forEach(j=>addIfFound(D,descriptors,j))});const R=Array.from(D);return R.length===0&&R.push(Object.create(null)),keysCached.has(e)&&y.set(e,R),R}chartOptionScopes(){const{options:t,type:e}=this;return[t,overrides[e]||{},defaults$1.datasets[e]||{},{type:e},defaults$1,descriptors]}resolveNamedOptions(t,e,o,l=[""]){const h={$shared:!0},{resolver:y,subPrefixes:O}=getResolver(this._resolverCache,t,l);let D=y;if(needContext(y,e)){h.$shared=!1,o=isFunction(o)?o():o;const R=this.createResolver(t,o,O);D=_attachContext(y,o,R)}for(const R of e)h[R]=D[R];return h}createResolver(t,e,o=[""],l){const{resolver:h}=getResolver(this._resolverCache,t,o);return isObject(e)?_attachContext(h,e,void 0,l):h}}function getResolver(r,t,e){let o=r.get(t);o||(o=new Map,r.set(t,o));const l=e.join();let h=o.get(l);return h||(h={resolver:_createResolver(t,e),subPrefixes:e.filter(O=>!O.toLowerCase().includes("hover"))},o.set(l,h)),h}const hasFunction=r=>isObject(r)&&Object.getOwnPropertyNames(r).reduce((t,e)=>t||isFunction(r[e]),!1);function needContext(r,t){const{isScriptable:e,isIndexable:o}=_descriptors(r);for(const l of t){const h=e(l),y=o(l),O=(y||h)&&r[l];if(h&&(isFunction(O)||hasFunction(O))||y&&isArray(O))return!0}return!1}var version="3.8.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(r,t){return r==="top"||r==="bottom"||KNOWN_POSITIONS.indexOf(r)===-1&&t==="x"}function compare2Level(r,t){return function(e,o){return e[r]===o[r]?e[t]-o[t]:e[r]-o[r]}}function onAnimationsComplete(r){const t=r.chart,e=t.options.animation;t.notifyPlugins("afterRender"),callback(e&&e.onComplete,[r],t)}function onAnimationProgress(r){const t=r.chart,e=t.options.animation;callback(e&&e.onProgress,[r],t)}function getCanvas(r){return _isDomSupported()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const instances={},getChart=r=>{const t=getCanvas(r);return Object.values(instances).filter(e=>e.canvas===t).pop()};function moveNumericKeys(r,t,e){const o=Object.keys(r);for(const l of o){const h=+l;if(h>=t){const y=r[l];delete r[l],(e>0||h>t)&&(r[h+e]=y)}}}function determineLastEvent(r,t,e,o){return!e||r.type==="mouseout"?null:o?t:r}class Chart{constructor(t,e){const o=this.config=new Config(e),l=getCanvas(t),h=getChart(l);if(h)throw new Error("Canvas is already in use. Chart with ID '"+h.id+"' must be destroyed before the canvas can be reused.");const y=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_detectPlatform(l)),this.platform.updateConfig(o);const O=this.platform.acquireContext(l,y.aspectRatio),D=O&&O.canvas,R=D&&D.height,F=D&&D.width;if(this.id=uid(),this.ctx=O,this.canvas=D,this.width=F,this.height=R,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(j=>this.update(j),y.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!O||!D){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:o,height:l,_aspectRatio:h}=this;return isNullOrUndef(t)?e&&h?h:l?o/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(t,e){animator.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const o=this.options,l=this.canvas,h=o.maintainAspectRatio&&this.aspectRatio,y=this.platform.getMaximumSize(l,t,e,h),O=o.devicePixelRatio||this.platform.getDevicePixelRatio(),D=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,retinaScale(this,O,!0)&&(this.notifyPlugins("resize",{size:y}),callback(o.onResize,[this,y],this),this.attached&&this._doResize(D)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};each(e,(o,l)=>{o.id=l})}buildOrUpdateScales(){const t=this.options,e=t.scales,o=this.scales,l=Object.keys(o).reduce((y,O)=>(y[O]=!1,y),{});let h=[];e&&(h=h.concat(Object.keys(e).map(y=>{const O=e[y],D=determineAxis(y,O),R=D==="r",F=D==="x";return{options:O,dposition:R?"chartArea":F?"bottom":"left",dtype:R?"radialLinear":F?"category":"linear"}}))),each(h,y=>{const O=y.options,D=O.id,R=determineAxis(D,O),F=valueOrDefault(O.type,y.dtype);(O.position===void 0||positionIsHorizontal(O.position,R)!==positionIsHorizontal(y.dposition))&&(O.position=y.dposition),l[D]=!0;let j=null;if(D in o&&o[D].type===F)j=o[D];else{const B=registry.getScale(F);j=new B({id:D,type:F,ctx:this.ctx,chart:this}),o[j.id]=j}j.init(O,t)}),each(l,(y,O)=>{y||delete o[O]}),each(o,y=>{layouts.configure(this,y,y.options),layouts.addBox(this,y)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,o=t.length;if(t.sort((l,h)=>l.index-h.index),o>e){for(let l=e;l<o;++l)this._destroyDatasetMeta(l);t.splice(e,o-e)}this._sortedMetasets=t.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((o,l)=>{e.filter(h=>h===o._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=e.length;o<l;o++){const h=e[o];let y=this.getDatasetMeta(o);const O=h.type||this.config.type;if(y.type&&y.type!==O&&(this._destroyDatasetMeta(o),y=this.getDatasetMeta(o)),y.type=O,y.indexAxis=h.indexAxis||getIndexAxis(O,this.options),y.order=h.order||0,y.index=o,y.label=""+h.label,y.visible=this.isDatasetVisible(o),y.controller)y.controller.updateIndex(o),y.controller.linkScales();else{const D=registry.getController(O),{datasetElementType:R,dataElementType:F}=defaults$1.datasets[O];Object.assign(D.prototype,{dataElementType:registry.getElement(F),datasetElementType:R&&registry.getElement(R)}),y.controller=new D(this,o),t.push(y.controller)}}return this._updateMetasets(),t}_resetElements(){each(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const o=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const h=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let R=0,F=this.data.datasets.length;R<F;R++){const{controller:j}=this.getDatasetMeta(R),B=!l&&h.indexOf(j)===-1;j.buildOrUpdateElements(B),y=Math.max(+j.getMaxOverflow(),y)}y=this._minPadding=o.layout.autoPadding?y:0,this._updateLayout(y),l||each(h,R=>{R.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(compare2Level("z","_idx"));const{_active:O,_lastEvent:D}=this;D?this._eventHandler(D,!0):O.length&&this._updateHoverStyles(O,O,!0),this.render()}_updateScales(){each(this.scales,t=>{layouts.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),o=new Set(t.events);(!setsEqual(e,o)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:h}of e){const y=o==="_removeElements"?-h:h;moveNumericKeys(t,l,y)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,o=h=>new Set(t.filter(y=>y[0]===h).map((y,O)=>O+","+y.splice(1).join(","))),l=o(0);for(let h=1;h<e;h++)if(!setsEqual(l,o(h)))return;return Array.from(l).map(h=>h.split(",")).map(h=>({method:h[1],start:+h[2],count:+h[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,t);const e=this.chartArea,o=e.width<=0||e.height<=0;this._layers=[],each(this.boxes,l=>{o&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,h)=>{l._idx=h}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,o=this.data.datasets.length;e<o;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,o=this.data.datasets.length;e<o;++e)this._updateDataset(e,isFunction(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const o=this.getDatasetMeta(t),l={meta:o,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(o.controller._update(e),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resize(o,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,o=[];let l,h;for(l=0,h=e.length;l<h;++l){const y=e[l];(!t||y.visible)&&o.push(y)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,o=t._clip,l=!o.disabled,h=this.chartArea,y={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",y)!==!1&&(l&&clipArea(e,{left:o.left===!1?0:h.left-o.left,right:o.right===!1?this.width:h.right+o.right,top:o.top===!1?0:h.top-o.top,bottom:o.bottom===!1?this.height:h.bottom+o.bottom}),t.controller.draw(),l&&unclipArea(e),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}isPointInArea(t){return _isPointInArea(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,o,l){const h=Interaction.modes[e];return typeof h=="function"?h(this,t,o,l):[]}getDatasetMeta(t){const e=this.data.datasets[t],o=this._metasets;let l=o.filter(h=>h&&h._dataset===e).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const o=this.getDatasetMeta(t);return typeof o.hidden=="boolean"?!o.hidden:!e.hidden}setDatasetVisibility(t,e){const o=this.getDatasetMeta(t);o.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,o){const l=o?"show":"hide",h=this.getDatasetMeta(t),y=h.controller._resolveAnimations(void 0,l);defined(e)?(h.data[e].hidden=!o,this.update()):(this.setDatasetVisibility(t,o),y.update(h,{visible:o}),this.update(O=>O.datasetIndex===t?l:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),animator.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),clearCanvas(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,o=(h,y)=>{e.addEventListener(this,h,y),t[h]=y},l=(h,y,O)=>{h.offsetX=y,h.offsetY=O,this._eventHandler(h)};each(this.options.events,h=>o(h,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,o=(D,R)=>{e.addEventListener(this,D,R),t[D]=R},l=(D,R)=>{t[D]&&(e.removeEventListener(this,D,R),delete t[D])},h=(D,R)=>{this.canvas&&this.resize(D,R)};let y;const O=()=>{l("attach",O),this.attached=!0,this.resize(),o("resize",h),o("detach",y)};y=()=>{this.attached=!1,l("resize",h),this._stop(),this._resize(0,0),o("attach",O)},e.isAttached(this.canvas)?O():y()}unbindEvents(){each(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},each(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,o){const l=o?"set":"remove";let h,y,O,D;for(e==="dataset"&&(h=this.getDatasetMeta(t[0].datasetIndex),h.controller["_"+l+"DatasetHoverStyle"]()),O=0,D=t.length;O<D;++O){y=t[O];const R=y&&this.getDatasetMeta(y.datasetIndex).controller;R&&R[l+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],o=t.map(({datasetIndex:h,index:y})=>{const O=this.getDatasetMeta(h);if(!O)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:O.data[y],index:y}});!_elementsEqual(o,e)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,e))}notifyPlugins(t,e,o){return this._plugins.notify(this,t,e,o)}_updateHoverStyles(t,e,o){const l=this.options.hover,h=(D,R)=>D.filter(F=>!R.some(j=>F.datasetIndex===j.datasetIndex&&F.index===j.index)),y=h(e,t),O=o?t:h(t,e);y.length&&this.updateHoverStyle(y,l.mode,!1),O.length&&l.mode&&this.updateHoverStyle(O,l.mode,!0)}_eventHandler(t,e){const o={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},l=y=>(y.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",o,l)===!1)return;const h=this._handleEvent(t,e,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(h||o.changed)&&this.render(),this}_handleEvent(t,e,o){const{_active:l=[],options:h}=this,y=e,O=this._getActiveElements(t,l,o,y),D=_isClickEvent(t),R=determineLastEvent(t,this._lastEvent,o,D);o&&(this._lastEvent=null,callback(h.onHover,[t,O,this],this),D&&callback(h.onClick,[t,O,this],this));const F=!_elementsEqual(O,l);return(F||e)&&(this._active=O,this._updateHoverStyles(O,l,e)),this._lastEvent=R,F}_getActiveElements(t,e,o,l){if(t.type==="mouseout")return[];if(!o)return e;const h=this.options.hover;return this.getElementsAtEventForMode(t,h.mode,h,l)}}const invalidatePlugins=()=>each(Chart.instances,r=>r._plugins.invalidate()),enumerable=!0;Object.defineProperties(Chart,{defaults:{enumerable,value:defaults$1},instances:{enumerable,value:instances},overrides:{enumerable,value:overrides},registry:{enumerable,value:registry},version:{enumerable,value:version},getChart:{enumerable,value:getChart},register:{enumerable,value:(...r)=>{registry.add(...r),invalidatePlugins()}},unregister:{enumerable,value:(...r)=>{registry.remove(...r),invalidatePlugins()}}});function clipArc(r,t,e){const{startAngle:o,pixelMargin:l,x:h,y,outerRadius:O,innerRadius:D}=t;let R=l/O;r.beginPath(),r.arc(h,y,O,o-R,e+R),D>l?(R=l/D,r.arc(h,y,D,e+R,o-R,!0)):r.arc(h,y,l,e+HALF_PI,o-HALF_PI),r.closePath(),r.clip()}function toRadiusCorners(r){return _readValueToProps(r,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(r,t,e,o){const l=toRadiusCorners(r.options.borderRadius),h=(e-t)/2,y=Math.min(h,o*t/2),O=D=>{const R=(e-Math.min(h,D))*o/2;return _limitValue(D,0,Math.min(h,R))};return{outerStart:O(l.outerStart),outerEnd:O(l.outerEnd),innerStart:_limitValue(l.innerStart,0,y),innerEnd:_limitValue(l.innerEnd,0,y)}}function rThetaToXY(r,t,e,o){return{x:e+r*Math.cos(t),y:o+r*Math.sin(t)}}function pathArc(r,t,e,o,l){const{x:h,y,startAngle:O,pixelMargin:D,innerRadius:R}=t,F=Math.max(t.outerRadius+o+e-D,0),j=R>0?R+o+e+D:0;let B=0;const U=l-O;if(o){const me=R>0?R-o:0,he=F>0?F-o:0,se=(me+he)/2,le=se!==0?U*se/(se+o):U;B=(U-le)/2}const W=Math.max(.001,U*F-e/PI)/F,q=(U-W)/2,K=O+q+B,Y=l-q-B,{outerStart:X,outerEnd:J,innerStart:Q,innerEnd:Z}=parseBorderRadius$1(t,j,F,Y-K),ee=F-X,re=F-J,te=K+X/ee,ne=Y-J/re,ae=j+Q,ie=j+Z,oe=K+Q/ae,ce=Y-Z/ie;if(r.beginPath(),r.arc(h,y,F,te,ne),J>0){const me=rThetaToXY(re,ne,h,y);r.arc(me.x,me.y,J,ne,Y+HALF_PI)}const ue=rThetaToXY(ie,Y,h,y);if(r.lineTo(ue.x,ue.y),Z>0){const me=rThetaToXY(ie,ce,h,y);r.arc(me.x,me.y,Z,Y+HALF_PI,ce+Math.PI)}if(r.arc(h,y,j,Y-Z/j,K+Q/j,!0),Q>0){const me=rThetaToXY(ae,oe,h,y);r.arc(me.x,me.y,Q,oe+Math.PI,K-HALF_PI)}const pe=rThetaToXY(ee,K,h,y);if(r.lineTo(pe.x,pe.y),X>0){const me=rThetaToXY(ee,te,h,y);r.arc(me.x,me.y,X,K-HALF_PI,te)}r.closePath()}function drawArc(r,t,e,o){const{fullCircles:l,startAngle:h,circumference:y}=t;let O=t.endAngle;if(l){pathArc(r,t,e,o,h+TAU);for(let D=0;D<l;++D)r.fill();isNaN(y)||(O=h+y%TAU,y%TAU===0&&(O+=TAU))}return pathArc(r,t,e,o,O),r.fill(),O}function drawFullCircleBorders(r,t,e){const{x:o,y:l,startAngle:h,pixelMargin:y,fullCircles:O}=t,D=Math.max(t.outerRadius-y,0),R=t.innerRadius+y;let F;for(e&&clipArc(r,t,h+TAU),r.beginPath(),r.arc(o,l,R,h+TAU,h,!0),F=0;F<O;++F)r.stroke();for(r.beginPath(),r.arc(o,l,D,h,h+TAU),F=0;F<O;++F)r.stroke()}function drawBorder(r,t,e,o,l){const{options:h}=t,{borderWidth:y,borderJoinStyle:O}=h,D=h.borderAlign==="inner";!y||(D?(r.lineWidth=y*2,r.lineJoin=O||"round"):(r.lineWidth=y,r.lineJoin=O||"bevel"),t.fullCircles&&drawFullCircleBorders(r,t,D),D&&clipArc(r,t,l),pathArc(r,t,e,o,l),r.stroke())}class ArcElement extends Element$1{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,o){const l=this.getProps(["x","y"],o),{angle:h,distance:y}=getAngleFromPoint(l,{x:t,y:e}),{startAngle:O,endAngle:D,innerRadius:R,outerRadius:F,circumference:j}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),B=this.options.spacing/2,W=valueOrDefault(j,D-O)>=TAU||_angleBetween(h,O,D),q=_isBetween(y,R+B,F+B);return W&&q}getCenterPoint(t){const{x:e,y:o,startAngle:l,endAngle:h,innerRadius:y,outerRadius:O}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:D,spacing:R}=this.options,F=(l+h)/2,j=(y+O+R+D)/2;return{x:e+Math.cos(F)*j,y:o+Math.sin(F)*j}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:o}=this,l=(e.offset||0)/2,h=(e.spacing||0)/2;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=o>TAU?Math.floor(o/TAU):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let y=0;if(l){y=l/2;const D=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(D)*y,Math.sin(D)*y),this.circumference>=PI&&(y=l)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const O=drawArc(t,this,y,h);drawBorder(t,this,y,h,O),t.restore()}}ArcElement.id="arc";ArcElement.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};ArcElement.defaultRoutes={backgroundColor:"backgroundColor"};function setStyle(r,t,e=t){r.lineCap=valueOrDefault(e.borderCapStyle,t.borderCapStyle),r.setLineDash(valueOrDefault(e.borderDash,t.borderDash)),r.lineDashOffset=valueOrDefault(e.borderDashOffset,t.borderDashOffset),r.lineJoin=valueOrDefault(e.borderJoinStyle,t.borderJoinStyle),r.lineWidth=valueOrDefault(e.borderWidth,t.borderWidth),r.strokeStyle=valueOrDefault(e.borderColor,t.borderColor)}function lineTo(r,t,e){r.lineTo(e.x,e.y)}function getLineMethod(r){return r.stepped?_steppedLineTo:r.tension||r.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(r,t,e={}){const o=r.length,{start:l=0,end:h=o-1}=e,{start:y,end:O}=t,D=Math.max(l,y),R=Math.min(h,O),F=l<y&&h<y||l>O&&h>O;return{count:o,start:D,loop:t.loop,ilen:R<D&&!F?o+R-D:R-D}}function pathSegment(r,t,e,o){const{points:l,options:h}=t,{count:y,start:O,loop:D,ilen:R}=pathVars(l,e,o),F=getLineMethod(h);let{move:j=!0,reverse:B}=o||{},U,W,q;for(U=0;U<=R;++U)W=l[(O+(B?R-U:U))%y],!W.skip&&(j?(r.moveTo(W.x,W.y),j=!1):F(r,q,W,B,h.stepped),q=W);return D&&(W=l[(O+(B?R:0))%y],F(r,q,W,B,h.stepped)),!!D}function fastPathSegment(r,t,e,o){const l=t.points,{count:h,start:y,ilen:O}=pathVars(l,e,o),{move:D=!0,reverse:R}=o||{};let F=0,j=0,B,U,W,q,K,Y;const X=Q=>(y+(R?O-Q:Q))%h,J=()=>{q!==K&&(r.lineTo(F,K),r.lineTo(F,q),r.lineTo(F,Y))};for(D&&(U=l[X(0)],r.moveTo(U.x,U.y)),B=0;B<=O;++B){if(U=l[X(B)],U.skip)continue;const Q=U.x,Z=U.y,ee=Q|0;ee===W?(Z<q?q=Z:Z>K&&(K=Z),F=(j*F+Q)/++j):(J(),r.lineTo(Q,Z),W=ee,j=0,q=K=Z),Y=Z}J()}function _getSegmentMethod(r){const t=r.options,e=t.borderDash&&t.borderDash.length;return!r._decimated&&!r._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?fastPathSegment:pathSegment}function _getInterpolationMethod(r){return r.stepped?_steppedInterpolation:r.tension||r.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(r,t,e,o){let l=t._path;l||(l=t._path=new Path2D,t.path(l,e,o)&&l.closePath()),setStyle(r,t.options),r.stroke(l)}function strokePathDirect(r,t,e,o){const{segments:l,options:h}=t,y=_getSegmentMethod(t);for(const O of l)setStyle(r,h,O.style),r.beginPath(),y(r,t,O,{start:e,end:e+o-1})&&r.closePath(),r.stroke()}const usePath2D=typeof Path2D=="function";function draw(r,t,e,o){usePath2D&&!t.options.segment?strokePathWithCache(r,t,e,o):strokePathDirect(r,t,e,o)}class LineElement extends Element$1{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const l=o.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,o,t,l,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,o=t.length;return o&&e[t[o-1].end]}interpolate(t,e){const o=this.options,l=t[e],h=this.points,y=_boundSegments(this,{property:e,start:l,end:l});if(!y.length)return;const O=[],D=_getInterpolationMethod(o);let R,F;for(R=0,F=y.length;R<F;++R){const{start:j,end:B}=y[R],U=h[j],W=h[B];if(U===W){O.push(U);continue}const q=Math.abs((l-U[e])/(W[e]-U[e])),K=D(U,W,q,o.stepped);K[e]=t[e],O.push(K)}return O.length===1?O[0]:O}pathSegment(t,e,o){return _getSegmentMethod(this)(t,this,e,o)}path(t,e,o){const l=this.segments,h=_getSegmentMethod(this);let y=this._loop;e=e||0,o=o||this.points.length-e;for(const O of l)y&=h(t,this,O,{start:e,end:e+o-1});return!!y}draw(t,e,o,l){const h=this.options||{};(this.points||[]).length&&h.borderWidth&&(t.save(),draw(t,this,o,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}LineElement.id="line";LineElement.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};LineElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};LineElement.descriptors={_scriptable:!0,_indexable:r=>r!=="borderDash"&&r!=="fill"};function inRange$1(r,t,e,o){const l=r.options,{[e]:h}=r.getProps([e],o);return Math.abs(t-h)<l.radius+l.hitRadius}class PointElement extends Element$1{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,o){const l=this.options,{x:h,y}=this.getProps(["x","y"],o);return Math.pow(t-h,2)+Math.pow(e-y,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,e){return inRange$1(this,t,"x",e)}inYRange(t,e){return inRange$1(this,t,"y",e)}getCenterPoint(t){const{x:e,y:o}=this.getProps(["x","y"],t);return{x:e,y:o}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const o=e&&t.borderWidth||0;return(e+o)*2}draw(t,e){const o=this.options;this.skip||o.radius<.1||!_isPointInArea(this,e,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,drawPoint(t,o,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}PointElement.id="point";PointElement.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};PointElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function getBarBounds(r,t){const{x:e,y:o,base:l,width:h,height:y}=r.getProps(["x","y","base","width","height"],t);let O,D,R,F,j;return r.horizontal?(j=y/2,O=Math.min(e,l),D=Math.max(e,l),R=o-j,F=o+j):(j=h/2,O=e-j,D=e+j,R=Math.min(o,l),F=Math.max(o,l)),{left:O,top:R,right:D,bottom:F}}function skipOrLimit(r,t,e,o){return r?0:_limitValue(t,e,o)}function parseBorderWidth(r,t,e){const o=r.options.borderWidth,l=r.borderSkipped,h=toTRBL(o);return{t:skipOrLimit(l.top,h.top,0,e),r:skipOrLimit(l.right,h.right,0,t),b:skipOrLimit(l.bottom,h.bottom,0,e),l:skipOrLimit(l.left,h.left,0,t)}}function parseBorderRadius(r,t,e){const{enableBorderRadius:o}=r.getProps(["enableBorderRadius"]),l=r.options.borderRadius,h=toTRBLCorners(l),y=Math.min(t,e),O=r.borderSkipped,D=o||isObject(l);return{topLeft:skipOrLimit(!D||O.top||O.left,h.topLeft,0,y),topRight:skipOrLimit(!D||O.top||O.right,h.topRight,0,y),bottomLeft:skipOrLimit(!D||O.bottom||O.left,h.bottomLeft,0,y),bottomRight:skipOrLimit(!D||O.bottom||O.right,h.bottomRight,0,y)}}function boundingRects$1(r){const t=getBarBounds(r),e=t.right-t.left,o=t.bottom-t.top,l=parseBorderWidth(r,e/2,o/2),h=parseBorderRadius(r,e/2,o/2);return{outer:{x:t.left,y:t.top,w:e,h:o,radius:h},inner:{x:t.left+l.l,y:t.top+l.t,w:e-l.l-l.r,h:o-l.t-l.b,radius:{topLeft:Math.max(0,h.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,h.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,h.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,h.bottomRight-Math.max(l.b,l.r))}}}}function inRange(r,t,e,o){const l=t===null,h=e===null,O=r&&!(l&&h)&&getBarBounds(r,o);return O&&(l||_isBetween(t,O.left,O.right))&&(h||_isBetween(e,O.top,O.bottom))}function hasRadius(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function addNormalRectPath(r,t){r.rect(t.x,t.y,t.w,t.h)}function inflateRect(r,t,e={}){const o=r.x!==e.x?-t:0,l=r.y!==e.y?-t:0,h=(r.x+r.w!==e.x+e.w?t:0)-o,y=(r.y+r.h!==e.y+e.h?t:0)-l;return{x:r.x+o,y:r.y+l,w:r.w+h,h:r.h+y,radius:r.radius}}class BarElement extends Element$1{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:o,backgroundColor:l}}=this,{inner:h,outer:y}=boundingRects$1(this),O=hasRadius(y.radius)?addRoundedRectPath:addNormalRectPath;t.save(),(y.w!==h.w||y.h!==h.h)&&(t.beginPath(),O(t,inflateRect(y,e,h)),t.clip(),O(t,inflateRect(h,-e,y)),t.fillStyle=o,t.fill("evenodd")),t.beginPath(),O(t,inflateRect(h,e)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,e,o){return inRange(this,t,e,o)}inXRange(t,e){return inRange(this,t,null,e)}inYRange(t,e){return inRange(this,null,t,e)}getCenterPoint(t){const{x:e,y:o,base:l,horizontal:h}=this.getProps(["x","y","base","horizontal"],t);return{x:h?(e+l)/2:e,y:h?o:(o+l)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}BarElement.id="bar";BarElement.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};BarElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var elements=Object.freeze({__proto__:null,ArcElement,LineElement,PointElement,BarElement});function lttbDecimation(r,t,e,o,l){const h=l.samples||o;if(h>=e)return r.slice(t,t+e);const y=[],O=(e-2)/(h-2);let D=0;const R=t+e-1;let F=t,j,B,U,W,q;for(y[D++]=r[F],j=0;j<h-2;j++){let K=0,Y=0,X;const J=Math.floor((j+1)*O)+1+t,Q=Math.min(Math.floor((j+2)*O)+1,e)+t,Z=Q-J;for(X=J;X<Q;X++)K+=r[X].x,Y+=r[X].y;K/=Z,Y/=Z;const ee=Math.floor(j*O)+1+t,re=Math.min(Math.floor((j+1)*O)+1,e)+t,{x:te,y:ne}=r[F];for(U=W=-1,X=ee;X<re;X++)W=.5*Math.abs((te-K)*(r[X].y-ne)-(te-r[X].x)*(Y-ne)),W>U&&(U=W,B=r[X],q=X);y[D++]=B,F=q}return y[D++]=r[R],y}function minMaxDecimation(r,t,e,o){let l=0,h=0,y,O,D,R,F,j,B,U,W,q;const K=[],Y=t+e-1,X=r[t].x,Q=r[Y].x-X;for(y=t;y<t+e;++y){O=r[y],D=(O.x-X)/Q*o,R=O.y;const Z=D|0;if(Z===F)R<W?(W=R,j=y):R>q&&(q=R,B=y),l=(h*l+O.x)/++h;else{const ee=y-1;if(!isNullOrUndef(j)&&!isNullOrUndef(B)){const re=Math.min(j,B),te=Math.max(j,B);re!==U&&re!==ee&&K.push(nt(rt({},r[re]),{x:l})),te!==U&&te!==ee&&K.push(nt(rt({},r[te]),{x:l}))}y>0&&ee!==U&&K.push(r[ee]),K.push(O),F=Z,h=0,W=q=R,j=B=U=y}}return K}function cleanDecimatedDataset(r){if(r._decimated){const t=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{value:t})}}function cleanDecimatedData(r){r.data.datasets.forEach(t=>{cleanDecimatedDataset(t)})}function getStartAndCountOfVisiblePointsSimplified(r,t){const e=t.length;let o=0,l;const{iScale:h}=r,{min:y,max:O,minDefined:D,maxDefined:R}=h.getUserBounds();return D&&(o=_limitValue(_lookupByKey(t,h.axis,y).lo,0,e-1)),R?l=_limitValue(_lookupByKey(t,h.axis,O).hi+1,o,e)-o:l=e-o,{start:o,count:l}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,t,e)=>{if(!e.enabled){cleanDecimatedData(r);return}const o=r.width;r.data.datasets.forEach((l,h)=>{const{_data:y,indexAxis:O}=l,D=r.getDatasetMeta(h),R=y||l.data;if(resolve([O,r.options.indexAxis])==="y"||!D.controller.supportsDecimation)return;const F=r.scales[D.xAxisID];if(F.type!=="linear"&&F.type!=="time"||r.options.parsing)return;let{start:j,count:B}=getStartAndCountOfVisiblePointsSimplified(D,R);const U=e.threshold||4*o;if(B<=U){cleanDecimatedDataset(l);return}isNullOrUndef(y)&&(l._data=R,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(q){this._data=q}}));let W;switch(e.algorithm){case"lttb":W=lttbDecimation(R,j,B,o,e);break;case"min-max":W=minMaxDecimation(R,j,B,o);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}l._decimated=W})},destroy(r){cleanDecimatedData(r)}};function _segments(r,t,e){const o=r.segments,l=r.points,h=t.points,y=[];for(const O of o){let{start:D,end:R}=O;R=_findSegmentEnd(D,R,l);const F=_getBounds(e,l[D],l[R],O.loop);if(!t.segments){y.push({source:O,target:F,start:l[D],end:l[R]});continue}const j=_boundSegments(t,F);for(const B of j){const U=_getBounds(e,h[B.start],h[B.end],B.loop),W=_boundSegment(O,l,U);for(const q of W)y.push({source:q,target:B,start:{[e]:_getEdge(F,U,"start",Math.max)},end:{[e]:_getEdge(F,U,"end",Math.min)}})}}return y}function _getBounds(r,t,e,o){if(o)return;let l=t[r],h=e[r];return r==="angle"&&(l=_normalizeAngle(l),h=_normalizeAngle(h)),{property:r,start:l,end:h}}function _pointsFromSegments(r,t){const{x:e=null,y:o=null}=r||{},l=t.points,h=[];return t.segments.forEach(({start:y,end:O})=>{O=_findSegmentEnd(y,O,l);const D=l[y],R=l[O];o!==null?(h.push({x:D.x,y:o}),h.push({x:R.x,y:o})):e!==null&&(h.push({x:e,y:D.y}),h.push({x:e,y:R.y}))}),h}function _findSegmentEnd(r,t,e){for(;t>r;t--){const o=e[t];if(!isNaN(o.x)&&!isNaN(o.y))break}return t}function _getEdge(r,t,e,o){return r&&t?o(r[e],t[e]):r?r[e]:t?t[e]:0}function _createBoundaryLine(r,t){let e=[],o=!1;return isArray(r)?(o=!0,e=r):e=_pointsFromSegments(r,t),e.length?new LineElement({points:e,options:{tension:0},_loop:o,_fullLoop:o}):null}function _resolveTarget(r,t,e){let l=r[t].fill;const h=[t];let y;if(!e)return l;for(;l!==!1&&h.indexOf(l)===-1;){if(!isNumberFinite(l))return l;if(y=r[l],!y)return!1;if(y.visible)return l;h.push(l),l=y.fill}return!1}function _decodeFill(r,t,e){const o=parseFillOption(r);if(isObject(o))return isNaN(o.value)?!1:o;let l=parseFloat(o);return isNumberFinite(l)&&Math.floor(l)===l?decodeTargetIndex(o[0],t,l,e):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function decodeTargetIndex(r,t,e,o){return(r==="-"||r==="+")&&(e=t+e),e===t||e<0||e>=o?!1:e}function _getTargetPixel(r,t){let e=null;return r==="start"?e=t.bottom:r==="end"?e=t.top:isObject(r)?e=t.getPixelForValue(r.value):t.getBasePixel&&(e=t.getBasePixel()),e}function _getTargetValue(r,t,e){let o;return r==="start"?o=e:r==="end"?o=t.options.reverse?t.min:t.max:isObject(r)?o=r.value:o=t.getBaseValue(),o}function parseFillOption(r){const t=r.options,e=t.fill;let o=valueOrDefault(e&&e.target,e);return o===void 0&&(o=!!t.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function _buildStackLine(r){const{scale:t,index:e,line:o}=r,l=[],h=o.segments,y=o.points,O=getLinesBelow(t,e);O.push(_createBoundaryLine({x:null,y:t.bottom},o));for(let D=0;D<h.length;D++){const R=h[D];for(let F=R.start;F<=R.end;F++)addPointsBelow(l,y[F],O)}return new LineElement({points:l,options:{}})}function getLinesBelow(r,t){const e=[],o=r.getMatchingVisibleMetas("line");for(let l=0;l<o.length;l++){const h=o[l];if(h.index===t)break;h.hidden||e.unshift(h.dataset)}return e}function addPointsBelow(r,t,e){const o=[];for(let l=0;l<e.length;l++){const h=e[l],{first:y,last:O,point:D}=findPoint(h,t,"x");if(!(!D||y&&O)){if(y)o.unshift(D);else if(r.push(D),!O)break}}r.push(...o)}function findPoint(r,t,e){const o=r.interpolate(t,e);if(!o)return{};const l=o[e],h=r.segments,y=r.points;let O=!1,D=!1;for(let R=0;R<h.length;R++){const F=h[R],j=y[F.start][e],B=y[F.end][e];if(_isBetween(l,j,B)){O=l===j,D=l===B;break}}return{first:O,last:D,point:o}}class simpleArc{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,o){const{x:l,y:h,radius:y}=this;return e=e||{start:0,end:TAU},t.arc(l,h,y,e.end,e.start,!0),!o.bounds}interpolate(t){const{x:e,y:o,radius:l}=this,h=t.angle;return{x:e+Math.cos(h)*l,y:o+Math.sin(h)*l,angle:h}}}function _getTarget(r){const{chart:t,fill:e,line:o}=r;if(isNumberFinite(e))return getLineByIndex(t,e);if(e==="stack")return _buildStackLine(r);if(e==="shape")return!0;const l=computeBoundary(r);return l instanceof simpleArc?l:_createBoundaryLine(l,o)}function getLineByIndex(r,t){const e=r.getDatasetMeta(t);return e&&r.isDatasetVisible(t)?e.dataset:null}function computeBoundary(r){return(r.scale||{}).getPointPositionForValue?computeCircularBoundary(r):computeLinearBoundary(r)}function computeLinearBoundary(r){const{scale:t={},fill:e}=r,o=_getTargetPixel(e,t);if(isNumberFinite(o)){const l=t.isHorizontal();return{x:l?o:null,y:l?null:o}}return null}function computeCircularBoundary(r){const{scale:t,fill:e}=r,o=t.options,l=t.getLabels().length,h=o.reverse?t.max:t.min,y=_getTargetValue(e,t,h),O=[];if(o.grid.circular){const D=t.getPointPositionForValue(0,h);return new simpleArc({x:D.x,y:D.y,radius:t.getDistanceFromCenterForValue(y)})}for(let D=0;D<l;++D)O.push(t.getPointPositionForValue(D,y));return O}function _drawfill(r,t,e){const o=_getTarget(t),{line:l,scale:h,axis:y}=t,O=l.options,D=O.fill,R=O.backgroundColor,{above:F=R,below:j=R}=D||{};o&&l.points.length&&(clipArea(r,e),doFill(r,{line:l,target:o,above:F,below:j,area:e,scale:h,axis:y}),unclipArea(r))}function doFill(r,t){const{line:e,target:o,above:l,below:h,area:y,scale:O}=t,D=e._loop?"angle":t.axis;r.save(),D==="x"&&h!==l&&(clipVertical(r,o,y.top),fill(r,{line:e,target:o,color:l,scale:O,property:D}),r.restore(),r.save(),clipVertical(r,o,y.bottom)),fill(r,{line:e,target:o,color:h,scale:O,property:D}),r.restore()}function clipVertical(r,t,e){const{segments:o,points:l}=t;let h=!0,y=!1;r.beginPath();for(const O of o){const{start:D,end:R}=O,F=l[D],j=l[_findSegmentEnd(D,R,l)];h?(r.moveTo(F.x,F.y),h=!1):(r.lineTo(F.x,e),r.lineTo(F.x,F.y)),y=!!t.pathSegment(r,O,{move:y}),y?r.closePath():r.lineTo(j.x,e)}r.lineTo(t.first().x,e),r.closePath(),r.clip()}function fill(r,t){const{line:e,target:o,property:l,color:h,scale:y}=t,O=_segments(e,o,l);for(const{source:D,target:R,start:F,end:j}of O){const{style:{backgroundColor:B=h}={}}=D,U=o!==!0;r.save(),r.fillStyle=B,clipBounds(r,y,U&&_getBounds(l,F,j)),r.beginPath();const W=!!e.pathSegment(r,D);let q;if(U){W?r.closePath():interpolatedLineTo(r,o,j,l);const K=!!o.pathSegment(r,R,{move:W,reverse:!0});q=W&&K,q||interpolatedLineTo(r,o,F,l)}r.closePath(),r.fill(q?"evenodd":"nonzero"),r.restore()}}function clipBounds(r,t,e){const{top:o,bottom:l}=t.chart.chartArea,{property:h,start:y,end:O}=e||{};h==="x"&&(r.beginPath(),r.rect(y,o,O-y,l-o),r.clip())}function interpolatedLineTo(r,t,e,o){const l=t.interpolate(e,o);l&&r.lineTo(l.x,l.y)}var index={id:"filler",afterDatasetsUpdate(r,t,e){const o=(r.data.datasets||[]).length,l=[];let h,y,O,D;for(y=0;y<o;++y)h=r.getDatasetMeta(y),O=h.dataset,D=null,O&&O.options&&O instanceof LineElement&&(D={visible:r.isDatasetVisible(y),index:y,fill:_decodeFill(O,y,o),chart:r,axis:h.controller.options.indexAxis,scale:h.vScale,line:O}),h.$filler=D,l.push(D);for(y=0;y<o;++y)D=l[y],!(!D||D.fill===!1)&&(D.fill=_resolveTarget(l,y,e.propagate))},beforeDraw(r,t,e){const o=e.drawTime==="beforeDraw",l=r.getSortedVisibleDatasetMetas(),h=r.chartArea;for(let y=l.length-1;y>=0;--y){const O=l[y].$filler;!O||(O.line.updateControlPoints(h,O.axis),o&&_drawfill(r.ctx,O,h))}},beforeDatasetsDraw(r,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const o=r.getSortedVisibleDatasetMetas();for(let l=o.length-1;l>=0;--l){const h=o[l].$filler;h&&_drawfill(r.ctx,h,r.chartArea)}},beforeDatasetDraw(r,t,e){const o=t.meta.$filler;!o||o.fill===!1||e.drawTime!=="beforeDatasetDraw"||_drawfill(r.ctx,o,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(r,t)=>{let{boxHeight:e=t,boxWidth:o=t}=r;return r.usePointStyle&&(e=Math.min(e,t),o=Math.min(o,t)),{boxWidth:o,boxHeight:e,itemHeight:Math.max(t,e)}},itemsEqual=(r,t)=>r!==null&&t!==null&&r.datasetIndex===t.datasetIndex&&r.index===t.index;class Legend extends Element$1{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,o){this.maxWidth=t,this.maxHeight=e,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=callback(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(o=>t.filter(o,this.chart.data))),t.sort&&(e=e.sort((o,l)=>t.sort(o,l,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const o=t.labels,l=toFont(o.font),h=l.size,y=this._computeTitleHeight(),{boxWidth:O,itemHeight:D}=getBoxSize(o,h);let R,F;e.font=l.string,this.isHorizontal()?(R=this.maxWidth,F=this._fitRows(y,h,O,D)+10):(F=this.maxHeight,R=this._fitCols(y,h,O,D)+10),this.width=Math.min(R,t.maxWidth||this.maxWidth),this.height=Math.min(F,t.maxHeight||this.maxHeight)}_fitRows(t,e,o,l){const{ctx:h,maxWidth:y,options:{labels:{padding:O}}}=this,D=this.legendHitBoxes=[],R=this.lineWidths=[0],F=l+O;let j=t;h.textAlign="left",h.textBaseline="middle";let B=-1,U=-F;return this.legendItems.forEach((W,q)=>{const K=o+e/2+h.measureText(W.text).width;(q===0||R[R.length-1]+K+2*O>y)&&(j+=F,R[R.length-(q>0?0:1)]=0,U+=F,B++),D[q]={left:0,top:U,row:B,width:K,height:l},R[R.length-1]+=K+O}),j}_fitCols(t,e,o,l){const{ctx:h,maxHeight:y,options:{labels:{padding:O}}}=this,D=this.legendHitBoxes=[],R=this.columnSizes=[],F=y-t;let j=O,B=0,U=0,W=0,q=0;return this.legendItems.forEach((K,Y)=>{const X=o+e/2+h.measureText(K.text).width;Y>0&&U+l+2*O>F&&(j+=B+O,R.push({width:B,height:U}),W+=B+O,q++,B=U=0),D[Y]={left:W,top:U,col:q,width:X,height:l},B=Math.max(B,X),U+=l+O}),j+=B,R.push({width:B,height:U}),j}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:o,labels:{padding:l},rtl:h}}=this,y=getRtlAdapter(h,this.left,this.width);if(this.isHorizontal()){let O=0,D=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[O]);for(const R of e)O!==R.row&&(O=R.row,D=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[O])),R.top+=this.top+t+l,R.left=y.leftForLtr(y.x(D),R.width),D+=R.width+l}else{let O=0,D=_alignStartEnd(o,this.top+t+l,this.bottom-this.columnSizes[O].height);for(const R of e)R.col!==O&&(O=R.col,D=_alignStartEnd(o,this.top+t+l,this.bottom-this.columnSizes[O].height)),R.top=D,R.left+=this.left+l,R.left=y.leftForLtr(y.x(R.left),R.width),D+=R.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;clipArea(t,this),this._draw(),unclipArea(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:o,ctx:l}=this,{align:h,labels:y}=t,O=defaults$1.color,D=getRtlAdapter(t.rtl,this.left,this.width),R=toFont(y.font),{color:F,padding:j}=y,B=R.size,U=B/2;let W;this.drawTitle(),l.textAlign=D.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=R.string;const{boxWidth:q,boxHeight:K,itemHeight:Y}=getBoxSize(y,B),X=function(re,te,ne){if(isNaN(q)||q<=0||isNaN(K)||K<0)return;l.save();const ae=valueOrDefault(ne.lineWidth,1);if(l.fillStyle=valueOrDefault(ne.fillStyle,O),l.lineCap=valueOrDefault(ne.lineCap,"butt"),l.lineDashOffset=valueOrDefault(ne.lineDashOffset,0),l.lineJoin=valueOrDefault(ne.lineJoin,"miter"),l.lineWidth=ae,l.strokeStyle=valueOrDefault(ne.strokeStyle,O),l.setLineDash(valueOrDefault(ne.lineDash,[])),y.usePointStyle){const ie={radius:q*Math.SQRT2/2,pointStyle:ne.pointStyle,rotation:ne.rotation,borderWidth:ae},oe=D.xPlus(re,q/2),ce=te+U;drawPoint(l,ie,oe,ce)}else{const ie=te+Math.max((B-K)/2,0),oe=D.leftForLtr(re,q),ce=toTRBLCorners(ne.borderRadius);l.beginPath(),Object.values(ce).some(ue=>ue!==0)?addRoundedRectPath(l,{x:oe,y:ie,w:q,h:K,radius:ce}):l.rect(oe,ie,q,K),l.fill(),ae!==0&&l.stroke()}l.restore()},J=function(re,te,ne){renderText(l,ne.text,re,te+Y/2,R,{strikethrough:ne.hidden,textAlign:D.textAlign(ne.textAlign)})},Q=this.isHorizontal(),Z=this._computeTitleHeight();Q?W={x:_alignStartEnd(h,this.left+j,this.right-o[0]),y:this.top+j+Z,line:0}:W={x:this.left+j,y:_alignStartEnd(h,this.top+Z+j,this.bottom-e[0].height),line:0},overrideTextDirection(this.ctx,t.textDirection);const ee=Y+j;this.legendItems.forEach((re,te)=>{l.strokeStyle=re.fontColor||F,l.fillStyle=re.fontColor||F;const ne=l.measureText(re.text).width,ae=D.textAlign(re.textAlign||(re.textAlign=y.textAlign)),ie=q+U+ne;let oe=W.x,ce=W.y;D.setWidth(this.width),Q?te>0&&oe+ie+j>this.right&&(ce=W.y+=ee,W.line++,oe=W.x=_alignStartEnd(h,this.left+j,this.right-o[W.line])):te>0&&ce+ee>this.bottom&&(oe=W.x=oe+e[W.line].width+j,W.line++,ce=W.y=_alignStartEnd(h,this.top+Z+j,this.bottom-e[W.line].height));const ue=D.x(oe);X(ue,ce,re),oe=_textX(ae,oe+q+U,Q?oe+ie:this.right,t.rtl),J(D.x(oe),ce,re),Q?W.x+=ie+j:W.y+=ee}),restoreTextDirection(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,o=toFont(e.font),l=toPadding(e.padding);if(!e.display)return;const h=getRtlAdapter(t.rtl,this.left,this.width),y=this.ctx,O=e.position,D=o.size/2,R=l.top+D;let F,j=this.left,B=this.width;if(this.isHorizontal())B=Math.max(...this.lineWidths),F=this.top+R,j=_alignStartEnd(t.align,j,this.right-B);else{const W=this.columnSizes.reduce((q,K)=>Math.max(q,K.height),0);F=R+_alignStartEnd(t.align,this.top,this.bottom-W-t.labels.padding-this._computeTitleHeight())}const U=_alignStartEnd(O,j,j+B);y.textAlign=h.textAlign(_toLeftRightCenter(O)),y.textBaseline="middle",y.strokeStyle=e.color,y.fillStyle=e.color,y.font=o.string,renderText(y,e.text,U,F,o)}_computeTitleHeight(){const t=this.options.title,e=toFont(t.font),o=toPadding(t.padding);return t.display?e.lineHeight+o.height:0}_getLegendItemAt(t,e){let o,l,h;if(_isBetween(t,this.left,this.right)&&_isBetween(e,this.top,this.bottom)){for(h=this.legendHitBoxes,o=0;o<h.length;++o)if(l=h[o],_isBetween(t,l.left,l.left+l.width)&&_isBetween(e,l.top,l.top+l.height))return this.legendItems[o]}return null}handleEvent(t){const e=this.options;if(!isListened(t.type,e))return;const o=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,h=itemsEqual(l,o);l&&!h&&callback(e.onLeave,[t,l,this],this),this._hoveredItem=o,o&&!h&&callback(e.onHover,[t,o,this],this)}else o&&callback(e.onClick,[t,o,this],this)}}function isListened(r,t){return!!((r==="mousemove"||r==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(r==="click"||r==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(r,t,e){const o=r.legend=new Legend({ctx:r.ctx,options:e,chart:r});layouts.configure(r,o,e),layouts.addBox(r,o)},stop(r){layouts.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,t,e){const o=r.legend;layouts.configure(r,o,e),o.options=e},afterUpdate(r){const t=r.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(r,t){t.replay||r.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,t,e){const o=t.datasetIndex,l=e.chart;l.isDatasetVisible(o)?(l.hide(o),t.hidden=!0):(l.show(o),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){const t=r.data.datasets,{labels:{usePointStyle:e,pointStyle:o,textAlign:l,color:h}}=r.legend.options;return r._getSortedDatasetMetas().map(y=>{const O=y.controller.getStyle(e?0:void 0),D=toPadding(O.borderWidth);return{text:t[y.index].label,fillStyle:O.backgroundColor,fontColor:h,hidden:!y.visible,lineCap:O.borderCapStyle,lineDash:O.borderDash,lineDashOffset:O.borderDashOffset,lineJoin:O.borderJoinStyle,lineWidth:(D.width+D.height)/4,strokeStyle:O.borderColor,pointStyle:o||O.pointStyle,rotation:O.rotation,textAlign:l||O.textAlign,borderRadius:0,datasetIndex:y.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}};class Title extends Element$1{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const l=isArray(o.text)?o.text.length:1;this._padding=toPadding(o.padding);const h=l*toFont(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=h:this.width=h}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:o,bottom:l,right:h,options:y}=this,O=y.align;let D=0,R,F,j;return this.isHorizontal()?(F=_alignStartEnd(O,o,h),j=e+t,R=h-o):(y.position==="left"?(F=o+t,j=_alignStartEnd(O,l,e),D=PI*-.5):(F=h-t,j=_alignStartEnd(O,e,l),D=PI*.5),R=l-e),{titleX:F,titleY:j,maxWidth:R,rotation:D}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const o=toFont(e.font),h=o.lineHeight/2+this._padding.top,{titleX:y,titleY:O,maxWidth:D,rotation:R}=this._drawArgs(h);renderText(t,e.text,0,0,o,{color:e.color,maxWidth:D,rotation:R,textAlign:_toLeftRightCenter(e.align),textBaseline:"middle",translation:[y,O]})}}function createTitle(r,t){const e=new Title({ctx:r.ctx,options:t,chart:r});layouts.configure(r,e,t),layouts.addBox(r,e),r.titleBlock=e}var plugin_title={id:"title",_element:Title,start(r,t,e){createTitle(r,e)},stop(r){const t=r.titleBlock;layouts.removeBox(r,t),delete r.titleBlock},beforeUpdate(r,t,e){const o=r.titleBlock;layouts.configure(r,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(r,t,e){const o=new Title({ctx:r.ctx,options:e,chart:r});layouts.configure(r,o,e),layouts.addBox(r,o),map.set(r,o)},stop(r){layouts.removeBox(r,map.get(r)),map.delete(r)},beforeUpdate(r,t,e){const o=map.get(r);layouts.configure(r,o,e),o.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners$1={average(r){if(!r.length)return!1;let t,e,o=0,l=0,h=0;for(t=0,e=r.length;t<e;++t){const y=r[t].element;if(y&&y.hasValue()){const O=y.tooltipPosition();o+=O.x,l+=O.y,++h}}return{x:o/h,y:l/h}},nearest(r,t){if(!r.length)return!1;let e=t.x,o=t.y,l=Number.POSITIVE_INFINITY,h,y,O;for(h=0,y=r.length;h<y;++h){const D=r[h].element;if(D&&D.hasValue()){const R=D.getCenterPoint(),F=distanceBetweenPoints(t,R);F<l&&(l=F,O=D)}}if(O){const D=O.tooltipPosition();e=D.x,o=D.y}return{x:e,y:o}}};function pushOrConcat(r,t){return t&&(isArray(t)?Array.prototype.push.apply(r,t):r.push(t)),r}function splitNewlines(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function createTooltipItem(r,t){const{element:e,datasetIndex:o,index:l}=t,h=r.getDatasetMeta(o).controller,{label:y,value:O}=h.getLabelAndValue(l);return{chart:r,label:y,parsed:h.getParsed(l),raw:r.data.datasets[o].data[l],formattedValue:O,dataset:h.getDataset(),dataIndex:l,datasetIndex:o,element:e}}function getTooltipSize(r,t){const e=r.chart.ctx,{body:o,footer:l,title:h}=r,{boxWidth:y,boxHeight:O}=t,D=toFont(t.bodyFont),R=toFont(t.titleFont),F=toFont(t.footerFont),j=h.length,B=l.length,U=o.length,W=toPadding(t.padding);let q=W.height,K=0,Y=o.reduce((Q,Z)=>Q+Z.before.length+Z.lines.length+Z.after.length,0);if(Y+=r.beforeBody.length+r.afterBody.length,j&&(q+=j*R.lineHeight+(j-1)*t.titleSpacing+t.titleMarginBottom),Y){const Q=t.displayColors?Math.max(O,D.lineHeight):D.lineHeight;q+=U*Q+(Y-U)*D.lineHeight+(Y-1)*t.bodySpacing}B&&(q+=t.footerMarginTop+B*F.lineHeight+(B-1)*t.footerSpacing);let X=0;const J=function(Q){K=Math.max(K,e.measureText(Q).width+X)};return e.save(),e.font=R.string,each(r.title,J),e.font=D.string,each(r.beforeBody.concat(r.afterBody),J),X=t.displayColors?y+2+t.boxPadding:0,each(o,Q=>{each(Q.before,J),each(Q.lines,J),each(Q.after,J)}),X=0,e.font=F.string,each(r.footer,J),e.restore(),K+=W.width,{width:K,height:q}}function determineYAlign(r,t){const{y:e,height:o}=t;return e<o/2?"top":e>r.height-o/2?"bottom":"center"}function doesNotFitWithAlign(r,t,e,o){const{x:l,width:h}=o,y=e.caretSize+e.caretPadding;if(r==="left"&&l+h+y>t.width||r==="right"&&l-h-y<0)return!0}function determineXAlign(r,t,e,o){const{x:l,width:h}=e,{width:y,chartArea:{left:O,right:D}}=r;let R="center";return o==="center"?R=l<=(O+D)/2?"left":"right":l<=h/2?R="left":l>=y-h/2&&(R="right"),doesNotFitWithAlign(R,r,t,e)&&(R="center"),R}function determineAlignment(r,t,e){const o=e.yAlign||t.yAlign||determineYAlign(r,e);return{xAlign:e.xAlign||t.xAlign||determineXAlign(r,t,e,o),yAlign:o}}function alignX(r,t){let{x:e,width:o}=r;return t==="right"?e-=o:t==="center"&&(e-=o/2),e}function alignY(r,t,e){let{y:o,height:l}=r;return t==="top"?o+=e:t==="bottom"?o-=l+e:o-=l/2,o}function getBackgroundPoint(r,t,e,o){const{caretSize:l,caretPadding:h,cornerRadius:y}=r,{xAlign:O,yAlign:D}=e,R=l+h,{topLeft:F,topRight:j,bottomLeft:B,bottomRight:U}=toTRBLCorners(y);let W=alignX(t,O);const q=alignY(t,D,R);return D==="center"?O==="left"?W+=R:O==="right"&&(W-=R):O==="left"?W-=Math.max(F,B)+l:O==="right"&&(W+=Math.max(j,U)+l),{x:_limitValue(W,0,o.width-t.width),y:_limitValue(q,0,o.height-t.height)}}function getAlignedX(r,t,e){const o=toPadding(e.padding);return t==="center"?r.x+r.width/2:t==="right"?r.x+r.width-o.right:r.x+o.left}function getBeforeAfterBodyLines(r){return pushOrConcat([],splitNewlines(r))}function createTooltipContext(r,t,e){return createContext(r,{tooltip:t,tooltipItems:e,type:"tooltip"})}function overrideCallbacks(r,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?r.override(e):r}class Tooltip extends Element$1{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&e.options.animation&&o.animations,h=new Animations(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:o}=e,l=o.beforeTitle.apply(this,[t]),h=o.title.apply(this,[t]),y=o.afterTitle.apply(this,[t]);let O=[];return O=pushOrConcat(O,splitNewlines(l)),O=pushOrConcat(O,splitNewlines(h)),O=pushOrConcat(O,splitNewlines(y)),O}getBeforeBody(t,e){return getBeforeAfterBodyLines(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:o}=e,l=[];return each(t,h=>{const y={before:[],lines:[],after:[]},O=overrideCallbacks(o,h);pushOrConcat(y.before,splitNewlines(O.beforeLabel.call(this,h))),pushOrConcat(y.lines,O.label.call(this,h)),pushOrConcat(y.after,splitNewlines(O.afterLabel.call(this,h))),l.push(y)}),l}getAfterBody(t,e){return getBeforeAfterBodyLines(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:o}=e,l=o.beforeFooter.apply(this,[t]),h=o.footer.apply(this,[t]),y=o.afterFooter.apply(this,[t]);let O=[];return O=pushOrConcat(O,splitNewlines(l)),O=pushOrConcat(O,splitNewlines(h)),O=pushOrConcat(O,splitNewlines(y)),O}_createItems(t){const e=this._active,o=this.chart.data,l=[],h=[],y=[];let O=[],D,R;for(D=0,R=e.length;D<R;++D)O.push(createTooltipItem(this.chart,e[D]));return t.filter&&(O=O.filter((F,j,B)=>t.filter(F,j,B,o))),t.itemSort&&(O=O.sort((F,j)=>t.itemSort(F,j,o))),each(O,F=>{const j=overrideCallbacks(t.callbacks,F);l.push(j.labelColor.call(this,F)),h.push(j.labelPointStyle.call(this,F)),y.push(j.labelTextColor.call(this,F))}),this.labelColors=l,this.labelPointStyles=h,this.labelTextColors=y,this.dataPoints=O,O}update(t,e){const o=this.options.setContext(this.getContext()),l=this._active;let h,y=[];if(!l.length)this.opacity!==0&&(h={opacity:0});else{const O=positioners$1[o.position].call(this,l,this._eventPosition);y=this._createItems(o),this.title=this.getTitle(y,o),this.beforeBody=this.getBeforeBody(y,o),this.body=this.getBody(y,o),this.afterBody=this.getAfterBody(y,o),this.footer=this.getFooter(y,o);const D=this._size=getTooltipSize(this,o),R=Object.assign({},O,D),F=determineAlignment(this.chart,o,R),j=getBackgroundPoint(o,R,F,this.chart);this.xAlign=F.xAlign,this.yAlign=F.yAlign,h={opacity:1,x:j.x,y:j.y,width:D.width,height:D.height,caretX:O.x,caretY:O.y}}this._tooltipItems=y,this.$context=void 0,h&&this._resolveAnimations().update(this,h),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,o,l){const h=this.getCaretPosition(t,o,l);e.lineTo(h.x1,h.y1),e.lineTo(h.x2,h.y2),e.lineTo(h.x3,h.y3)}getCaretPosition(t,e,o){const{xAlign:l,yAlign:h}=this,{caretSize:y,cornerRadius:O}=o,{topLeft:D,topRight:R,bottomLeft:F,bottomRight:j}=toTRBLCorners(O),{x:B,y:U}=t,{width:W,height:q}=e;let K,Y,X,J,Q,Z;return h==="center"?(Q=U+q/2,l==="left"?(K=B,Y=K-y,J=Q+y,Z=Q-y):(K=B+W,Y=K+y,J=Q-y,Z=Q+y),X=K):(l==="left"?Y=B+Math.max(D,F)+y:l==="right"?Y=B+W-Math.max(R,j)-y:Y=this.caretX,h==="top"?(J=U,Q=J-y,K=Y-y,X=Y+y):(J=U+q,Q=J+y,K=Y+y,X=Y-y),Z=J),{x1:K,x2:Y,x3:X,y1:J,y2:Q,y3:Z}}drawTitle(t,e,o){const l=this.title,h=l.length;let y,O,D;if(h){const R=getRtlAdapter(o.rtl,this.x,this.width);for(t.x=getAlignedX(this,o.titleAlign,o),e.textAlign=R.textAlign(o.titleAlign),e.textBaseline="middle",y=toFont(o.titleFont),O=o.titleSpacing,e.fillStyle=o.titleColor,e.font=y.string,D=0;D<h;++D)e.fillText(l[D],R.x(t.x),t.y+y.lineHeight/2),t.y+=y.lineHeight+O,D+1===h&&(t.y+=o.titleMarginBottom-O)}}_drawColorBox(t,e,o,l,h){const y=this.labelColors[o],O=this.labelPointStyles[o],{boxHeight:D,boxWidth:R,boxPadding:F}=h,j=toFont(h.bodyFont),B=getAlignedX(this,"left",h),U=l.x(B),W=D<j.lineHeight?(j.lineHeight-D)/2:0,q=e.y+W;if(h.usePointStyle){const K={radius:Math.min(R,D)/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:1},Y=l.leftForLtr(U,R)+R/2,X=q+D/2;t.strokeStyle=h.multiKeyBackground,t.fillStyle=h.multiKeyBackground,drawPoint(t,K,Y,X),t.strokeStyle=y.borderColor,t.fillStyle=y.backgroundColor,drawPoint(t,K,Y,X)}else{t.lineWidth=y.borderWidth||1,t.strokeStyle=y.borderColor,t.setLineDash(y.borderDash||[]),t.lineDashOffset=y.borderDashOffset||0;const K=l.leftForLtr(U,R-F),Y=l.leftForLtr(l.xPlus(U,1),R-F-2),X=toTRBLCorners(y.borderRadius);Object.values(X).some(J=>J!==0)?(t.beginPath(),t.fillStyle=h.multiKeyBackground,addRoundedRectPath(t,{x:K,y:q,w:R,h:D,radius:X}),t.fill(),t.stroke(),t.fillStyle=y.backgroundColor,t.beginPath(),addRoundedRectPath(t,{x:Y,y:q+1,w:R-2,h:D-2,radius:X}),t.fill()):(t.fillStyle=h.multiKeyBackground,t.fillRect(K,q,R,D),t.strokeRect(K,q,R,D),t.fillStyle=y.backgroundColor,t.fillRect(Y,q+1,R-2,D-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,e,o){const{body:l}=this,{bodySpacing:h,bodyAlign:y,displayColors:O,boxHeight:D,boxWidth:R,boxPadding:F}=o,j=toFont(o.bodyFont);let B=j.lineHeight,U=0;const W=getRtlAdapter(o.rtl,this.x,this.width),q=function(te){e.fillText(te,W.x(t.x+U),t.y+B/2),t.y+=B+h},K=W.textAlign(y);let Y,X,J,Q,Z,ee,re;for(e.textAlign=y,e.textBaseline="middle",e.font=j.string,t.x=getAlignedX(this,K,o),e.fillStyle=o.bodyColor,each(this.beforeBody,q),U=O&&K!=="right"?y==="center"?R/2+F:R+2+F:0,Q=0,ee=l.length;Q<ee;++Q){for(Y=l[Q],X=this.labelTextColors[Q],e.fillStyle=X,each(Y.before,q),J=Y.lines,O&&J.length&&(this._drawColorBox(e,t,Q,W,o),B=Math.max(j.lineHeight,D)),Z=0,re=J.length;Z<re;++Z)q(J[Z]),B=j.lineHeight;each(Y.after,q)}U=0,B=j.lineHeight,each(this.afterBody,q),t.y-=h}drawFooter(t,e,o){const l=this.footer,h=l.length;let y,O;if(h){const D=getRtlAdapter(o.rtl,this.x,this.width);for(t.x=getAlignedX(this,o.footerAlign,o),t.y+=o.footerMarginTop,e.textAlign=D.textAlign(o.footerAlign),e.textBaseline="middle",y=toFont(o.footerFont),e.fillStyle=o.footerColor,e.font=y.string,O=0;O<h;++O)e.fillText(l[O],D.x(t.x),t.y+y.lineHeight/2),t.y+=y.lineHeight+o.footerSpacing}}drawBackground(t,e,o,l){const{xAlign:h,yAlign:y}=this,{x:O,y:D}=t,{width:R,height:F}=o,{topLeft:j,topRight:B,bottomLeft:U,bottomRight:W}=toTRBLCorners(l.cornerRadius);e.fillStyle=l.backgroundColor,e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.beginPath(),e.moveTo(O+j,D),y==="top"&&this.drawCaret(t,e,o,l),e.lineTo(O+R-B,D),e.quadraticCurveTo(O+R,D,O+R,D+B),y==="center"&&h==="right"&&this.drawCaret(t,e,o,l),e.lineTo(O+R,D+F-W),e.quadraticCurveTo(O+R,D+F,O+R-W,D+F),y==="bottom"&&this.drawCaret(t,e,o,l),e.lineTo(O+U,D+F),e.quadraticCurveTo(O,D+F,O,D+F-U),y==="center"&&h==="left"&&this.drawCaret(t,e,o,l),e.lineTo(O,D+j),e.quadraticCurveTo(O,D,O+j,D),e.closePath(),e.fill(),l.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,o=this.$animations,l=o&&o.x,h=o&&o.y;if(l||h){const y=positioners$1[t.position].call(this,this._active,this._eventPosition);if(!y)return;const O=this._size=getTooltipSize(this,t),D=Object.assign({},y,this._size),R=determineAlignment(e,t,D),F=getBackgroundPoint(t,D,R,e);(l._to!==F.x||h._to!==F.y)&&(this.xAlign=R.xAlign,this.yAlign=R.yAlign,this.width=O.width,this.height=O.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,F))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(e);const l={width:this.width,height:this.height},h={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const y=toPadding(e.padding),O=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&O&&(t.save(),t.globalAlpha=o,this.drawBackground(h,t,l,e),overrideTextDirection(t,e.textDirection),h.y+=y.top,this.drawTitle(h,t,e),this.drawBody(h,t,e),this.drawFooter(h,t,e),restoreTextDirection(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const o=this._active,l=t.map(({datasetIndex:O,index:D})=>{const R=this.chart.getDatasetMeta(O);if(!R)throw new Error("Cannot find a dataset at index "+O);return{datasetIndex:O,element:R.data[D],index:D}}),h=!_elementsEqual(o,l),y=this._positionChanged(l,e);(h||y)&&(this._active=l,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,o=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,h=this._active||[],y=this._getActiveElements(t,h,e,o),O=this._positionChanged(y,t),D=e||!_elementsEqual(y,h)||O;return D&&(this._active=y,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),D}_getActiveElements(t,e,o,l){const h=this.options;if(t.type==="mouseout")return[];if(!l)return e;const y=this.chart.getElementsAtEventForMode(t,h.mode,h,o);return h.reverse&&y.reverse(),y}_positionChanged(t,e){const{caretX:o,caretY:l,options:h}=this,y=positioners$1[h.position].call(this,t,e);return y!==!1&&(o!==y.x||l!==y.y)}}Tooltip.positioners=positioners$1;var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners:positioners$1,afterInit(r,t,e){e&&(r.tooltip=new Tooltip({chart:r,options:e}))},beforeUpdate(r,t,e){r.tooltip&&r.tooltip.initialize(e)},reset(r,t,e){r.tooltip&&r.tooltip.initialize(e)},afterDraw(r){const t=r.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(r.notifyPlugins("beforeTooltipDraw",e)===!1)return;t.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",e)}},afterEvent(r,t){if(r.tooltip){const e=t.replay;r.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,t)=>t.bodyFont.size,boxWidth:(r,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:noop$1,title(r){if(r.length>0){const t=r[0],e=t.chart.data.labels,o=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(o>0&&t.dataIndex<o)return e[t.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let t=r.dataset.label||"";t&&(t+=": ");const e=r.formattedValue;return isNullOrUndef(e)||(t+=e),t},labelColor(r){const e=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const e=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(r,t,e,o)=>(typeof t=="string"?(e=r.push(t)-1,o.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function findOrAddLabel(r,t,e,o){const l=r.indexOf(t);if(l===-1)return addIfString(r,t,e,o);const h=r.lastIndexOf(t);return l!==h?e:l}const validIndex=(r,t)=>r===null?null:_limitValue(Math.round(r),0,t);class CategoryScale extends Scale{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const o=this.getLabels();for(const{index:l,label:h}of e)o[l]===h&&o.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(isNullOrUndef(t))return null;const o=this.getLabels();return e=isFinite(e)&&o[e]===t?e:findOrAddLabel(o,t,valueOrDefault(e,t),this._addedLabels),validIndex(e,o.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(o=0),e||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const t=this.min,e=this.max,o=this.options.offset,l=[];let h=this.getLabels();h=t===0&&e===h.length-1?h:h.slice(t,e+1),this._valueRange=Math.max(h.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let y=t;y<=e;y++)l.push({value:y});return l}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}CategoryScale.id="category";CategoryScale.defaults={ticks:{callback:CategoryScale.prototype.getLabelForValue}};function generateTicks$1(r,t){const e=[],{bounds:l,step:h,min:y,max:O,precision:D,count:R,maxTicks:F,maxDigits:j,includeBounds:B}=r,U=h||1,W=F-1,{min:q,max:K}=t,Y=!isNullOrUndef(y),X=!isNullOrUndef(O),J=!isNullOrUndef(R),Q=(K-q)/(j+1);let Z=niceNum((K-q)/W/U)*U,ee,re,te,ne;if(Z<1e-14&&!Y&&!X)return[{value:q},{value:K}];ne=Math.ceil(K/Z)-Math.floor(q/Z),ne>W&&(Z=niceNum(ne*Z/W/U)*U),isNullOrUndef(D)||(ee=Math.pow(10,D),Z=Math.ceil(Z*ee)/ee),l==="ticks"?(re=Math.floor(q/Z)*Z,te=Math.ceil(K/Z)*Z):(re=q,te=K),Y&&X&&h&&almostWhole((O-y)/h,Z/1e3)?(ne=Math.round(Math.min((O-y)/Z,F)),Z=(O-y)/ne,re=y,te=O):J?(re=Y?y:re,te=X?O:te,ne=R-1,Z=(te-re)/ne):(ne=(te-re)/Z,almostEquals(ne,Math.round(ne),Z/1e3)?ne=Math.round(ne):ne=Math.ceil(ne));const ae=Math.max(_decimalPlaces(Z),_decimalPlaces(re));ee=Math.pow(10,isNullOrUndef(D)?ae:D),re=Math.round(re*ee)/ee,te=Math.round(te*ee)/ee;let ie=0;for(Y&&(B&&re!==y?(e.push({value:y}),re<y&&ie++,almostEquals(Math.round((re+ie*Z)*ee)/ee,y,relativeLabelSize(y,Q,r))&&ie++):re<y&&ie++);ie<ne;++ie)e.push({value:Math.round((re+ie*Z)*ee)/ee});return X&&B&&te!==O?e.length&&almostEquals(e[e.length-1].value,O,relativeLabelSize(O,Q,r))?e[e.length-1].value=O:e.push({value:O}):(!X||te===O)&&e.push({value:te}),e}function relativeLabelSize(r,t,{horizontal:e,minRotation:o}){const l=toRadians(o),h=(e?Math.sin(l):Math.cos(l))||.001,y=.75*t*(""+r).length;return Math.min(t/h,y)}class LinearScaleBase extends Scale{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return isNullOrUndef(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:o}=this.getUserBounds();let{min:l,max:h}=this;const y=D=>l=e?l:D,O=D=>h=o?h:D;if(t){const D=sign(l),R=sign(h);D<0&&R<0?O(0):D>0&&R>0&&y(0)}if(l===h){let D=1;(h>=Number.MAX_SAFE_INTEGER||l<=Number.MIN_SAFE_INTEGER)&&(D=Math.abs(h*.05)),O(h+D),t||y(l-D)}this.min=l,this.max=h}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:o}=t,l;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),e=e||11),e&&(l=Math.min(e,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let o=this.getTickLimit();o=Math.max(2,o);const l={maxTicks:o,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},h=this._range||this,y=generateTicks$1(l,h);return t.bounds==="ticks"&&_setMinAndMaxByKey(y,this,"value"),t.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const t=this.ticks;let e=this.min,o=this.max;if(super.configure(),this.options.offset&&t.length){const l=(o-e)/Math.max(t.length-1,1)/2;e-=l,o+=l}this._startValue=e,this._endValue=o,this._valueRange=o-e}getLabelForValue(t){return formatNumber(t,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=isNumberFinite(t)?t:0,this.max=isNumberFinite(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,o=toRadians(this.options.ticks.minRotation),l=(t?Math.sin(o):Math.cos(o))||.001,h=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,h.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}LinearScale.id="linear";LinearScale.defaults={ticks:{callback:Ticks.formatters.numeric}};function isMajor(r){return r/Math.pow(10,Math.floor(log10(r)))===1}function generateTicks(r,t){const e=Math.floor(log10(t.max)),o=Math.ceil(t.max/Math.pow(10,e)),l=[];let h=finiteOrDefault(r.min,Math.pow(10,Math.floor(log10(t.min)))),y=Math.floor(log10(h)),O=Math.floor(h/Math.pow(10,y)),D=y<0?Math.pow(10,Math.abs(y)):1;do l.push({value:h,major:isMajor(h)}),++O,O===10&&(O=1,++y,D=y>=0?1:D),h=Math.round(O*Math.pow(10,y)*D)/D;while(y<e||y===e&&O<o);const R=finiteOrDefault(r.max,h);return l.push({value:R,major:isMajor(h)}),l}class LogarithmicScale extends Scale{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const o=LinearScaleBase.prototype.parse.apply(this,[t,e]);if(o===0){this._zero=!0;return}return isNumberFinite(o)&&o>0?o:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=isNumberFinite(t)?Math.max(0,t):null,this.max=isNumberFinite(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let o=this.min,l=this.max;const h=D=>o=t?o:D,y=D=>l=e?l:D,O=(D,R)=>Math.pow(10,Math.floor(log10(D))+R);o===l&&(o<=0?(h(1),y(10)):(h(O(o,-1)),y(O(l,1)))),o<=0&&h(O(l,-1)),l<=0&&y(O(o,1)),this._zero&&this.min!==this._suggestedMin&&o===O(this.min,0)&&h(O(o,-1)),this.min=o,this.max=l}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},o=generateTicks(e,this);return t.bounds==="ticks"&&_setMinAndMaxByKey(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(t){return t===void 0?"0":formatNumber(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=log10(t),this._valueRange=log10(this.max)-log10(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(log10(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}LogarithmicScale.id="logarithmic";LogarithmicScale.defaults={ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}};function getTickBackdropHeight(r){const t=r.ticks;if(t.display&&r.display){const e=toPadding(t.backdropPadding);return valueOrDefault(t.font&&t.font.size,defaults$1.font.size)+e.height}return 0}function measureLabelSize(r,t,e){return e=isArray(e)?e:[e],{w:_longestText(r,t.string,e),h:e.length*t.lineHeight}}function determineLimits(r,t,e,o,l){return r===o||r===l?{start:t-e/2,end:t+e/2}:r<o||r>l?{start:t-e,end:t}:{start:t,end:t+e}}function fitWithPointLabels(r){const t={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},e=Object.assign({},t),o=[],l=[],h=r._pointLabels.length,y=r.options.pointLabels,O=y.centerPointLabels?PI/h:0;for(let D=0;D<h;D++){const R=y.setContext(r.getPointLabelContext(D));l[D]=R.padding;const F=r.getPointPosition(D,r.drawingArea+l[D],O),j=toFont(R.font),B=measureLabelSize(r.ctx,j,r._pointLabels[D]);o[D]=B;const U=_normalizeAngle(r.getIndexAngle(D)+O),W=Math.round(toDegrees(U)),q=determineLimits(W,F.x,B.w,0,180),K=determineLimits(W,F.y,B.h,90,270);updateLimits(e,t,U,q,K)}r.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),r._pointLabelItems=buildPointLabelItems(r,o,l)}function updateLimits(r,t,e,o,l){const h=Math.abs(Math.sin(e)),y=Math.abs(Math.cos(e));let O=0,D=0;o.start<t.l?(O=(t.l-o.start)/h,r.l=Math.min(r.l,t.l-O)):o.end>t.r&&(O=(o.end-t.r)/h,r.r=Math.max(r.r,t.r+O)),l.start<t.t?(D=(t.t-l.start)/y,r.t=Math.min(r.t,t.t-D)):l.end>t.b&&(D=(l.end-t.b)/y,r.b=Math.max(r.b,t.b+D))}function buildPointLabelItems(r,t,e){const o=[],l=r._pointLabels.length,h=r.options,y=getTickBackdropHeight(h)/2,O=r.drawingArea,D=h.pointLabels.centerPointLabels?PI/l:0;for(let R=0;R<l;R++){const F=r.getPointPosition(R,O+y+e[R],D),j=Math.round(toDegrees(_normalizeAngle(F.angle+HALF_PI))),B=t[R],U=yForAngle(F.y,B.h,j),W=getTextAlignForAngle(j),q=leftForTextAlign(F.x,B.w,W);o.push({x:F.x,y:U,textAlign:W,left:q,top:U,right:q+B.w,bottom:U+B.h})}return o}function getTextAlignForAngle(r){return r===0||r===180?"center":r<180?"left":"right"}function leftForTextAlign(r,t,e){return e==="right"?r-=t:e==="center"&&(r-=t/2),r}function yForAngle(r,t,e){return e===90||e===270?r-=t/2:(e>270||e<90)&&(r-=t),r}function drawPointLabels(r,t){const{ctx:e,options:{pointLabels:o}}=r;for(let l=t-1;l>=0;l--){const h=o.setContext(r.getPointLabelContext(l)),y=toFont(h.font),{x:O,y:D,textAlign:R,left:F,top:j,right:B,bottom:U}=r._pointLabelItems[l],{backdropColor:W}=h;if(!isNullOrUndef(W)){const q=toTRBLCorners(h.borderRadius),K=toPadding(h.backdropPadding);e.fillStyle=W;const Y=F-K.left,X=j-K.top,J=B-F+K.width,Q=U-j+K.height;Object.values(q).some(Z=>Z!==0)?(e.beginPath(),addRoundedRectPath(e,{x:Y,y:X,w:J,h:Q,radius:q}),e.fill()):e.fillRect(Y,X,J,Q)}renderText(e,r._pointLabels[l],O,D+y.lineHeight/2,y,{color:h.color,textAlign:R,textBaseline:"middle"})}}function pathRadiusLine(r,t,e,o){const{ctx:l}=r;if(e)l.arc(r.xCenter,r.yCenter,t,0,TAU);else{let h=r.getPointPosition(0,t);l.moveTo(h.x,h.y);for(let y=1;y<o;y++)h=r.getPointPosition(y,t),l.lineTo(h.x,h.y)}}function drawRadiusLine(r,t,e,o){const l=r.ctx,h=t.circular,{color:y,lineWidth:O}=t;!h&&!o||!y||!O||e<0||(l.save(),l.strokeStyle=y,l.lineWidth=O,l.setLineDash(t.borderDash),l.lineDashOffset=t.borderDashOffset,l.beginPath(),pathRadiusLine(r,e,h,o),l.closePath(),l.stroke(),l.restore())}function createPointLabelContext(r,t,e){return createContext(r,{label:e,index:t,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=toPadding(getTickBackdropHeight(this.options)/2),e=this.width=this.maxWidth-t.width,o=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+o/2+t.top),this.drawingArea=Math.floor(Math.min(e,o)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=isNumberFinite(t)&&!isNaN(t)?t:0,this.max=isNumberFinite(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(t){LinearScaleBase.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,o)=>{const l=callback(this.options.pointLabels.callback,[e,o],this);return l||l===0?l:""}).filter((e,o)=>this.chart.getDataVisibility(o))}fit(){const t=this.options;t.display&&t.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,o,l){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((o-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,o,l))}getIndexAngle(t){const e=TAU/(this._pointLabels.length||1),o=this.options.startAngle||0;return _normalizeAngle(t*e+toRadians(o))}getDistanceFromCenterForValue(t){if(isNullOrUndef(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(isNullOrUndef(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const o=e[t];return createPointLabelContext(this.getContext(),t,o)}}getPointPosition(t,e,o=0){const l=this.getIndexAngle(t)-HALF_PI+o;return{x:Math.cos(l)*e+this.xCenter,y:Math.sin(l)*e+this.yCenter,angle:l}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:o,right:l,bottom:h}=this._pointLabelItems[t];return{left:e,top:o,right:l,bottom:h}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const o=this.ctx;o.save(),o.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),o.closePath(),o.fillStyle=t,o.fill(),o.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:o,grid:l}=e,h=this._pointLabels.length;let y,O,D;if(e.pointLabels.display&&drawPointLabels(this,h),l.display&&this.ticks.forEach((R,F)=>{if(F!==0){O=this.getDistanceFromCenterForValue(R.value);const j=l.setContext(this.getContext(F-1));drawRadiusLine(this,j,O,h)}}),o.display){for(t.save(),y=h-1;y>=0;y--){const R=o.setContext(this.getPointLabelContext(y)),{color:F,lineWidth:j}=R;!j||!F||(t.lineWidth=j,t.strokeStyle=F,t.setLineDash(R.borderDash),t.lineDashOffset=R.borderDashOffset,O=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),D=this.getPointPosition(y,O),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(D.x,D.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,o=e.ticks;if(!o.display)return;const l=this.getIndexAngle(0);let h,y;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(l),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((O,D)=>{if(D===0&&!e.reverse)return;const R=o.setContext(this.getContext(D)),F=toFont(R.font);if(h=this.getDistanceFromCenterForValue(this.ticks[D].value),R.showLabelBackdrop){t.font=F.string,y=t.measureText(O.label).width,t.fillStyle=R.backdropColor;const j=toPadding(R.backdropPadding);t.fillRect(-y/2-j.left,-h-F.size/2-j.top,y+j.width,F.size+j.height)}renderText(t,O.label,0,-h,F,{color:R.color})}),t.restore()}drawTitle(){}}RadialLinearScale.id="radialLinear";RadialLinearScale.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(r){return r},padding:5,centerPointLabels:!1}};RadialLinearScale.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};RadialLinearScale.descriptors={angleLines:{_fallback:"grid"}};const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(r,t){return r-t}function parse$1(r,t){if(isNullOrUndef(t))return null;const e=r._adapter,{parser:o,round:l,isoWeekday:h}=r._parseOpts;let y=t;return typeof o=="function"&&(y=o(y)),isNumberFinite(y)||(y=typeof o=="string"?e.parse(y,o):e.parse(y)),y===null?null:(l&&(y=l==="week"&&(isNumber(h)||h===!0)?e.startOf(y,"isoWeek",h):e.startOf(y,l)),+y)}function determineUnitForAutoTicks(r,t,e,o){const l=UNITS.length;for(let h=UNITS.indexOf(r);h<l-1;++h){const y=INTERVALS[UNITS[h]],O=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((e-t)/(O*y.size))<=o)return UNITS[h]}return UNITS[l-1]}function determineUnitForFormatting(r,t,e,o,l){for(let h=UNITS.length-1;h>=UNITS.indexOf(e);h--){const y=UNITS[h];if(INTERVALS[y].common&&r._adapter.diff(l,o,y)>=t-1)return y}return UNITS[e?UNITS.indexOf(e):0]}function determineMajorUnit(r){for(let t=UNITS.indexOf(r)+1,e=UNITS.length;t<e;++t)if(INTERVALS[UNITS[t]].common)return UNITS[t]}function addTick(r,t,e){if(!e)r[t]=!0;else if(e.length){const{lo:o,hi:l}=_lookup(e,t),h=e[o]>=t?e[o]:e[l];r[h]=!0}}function setMajorTicks(r,t,e,o){const l=r._adapter,h=+l.startOf(t[0].value,o),y=t[t.length-1].value;let O,D;for(O=h;O<=y;O=+l.add(O,1,o))D=e[O],D>=0&&(t[D].major=!0);return t}function ticksFromTimestamps(r,t,e){const o=[],l={},h=t.length;let y,O;for(y=0;y<h;++y)O=t[y],l[O]=y,o.push({value:O,major:!1});return h===0||!e?o:setMajorTicks(r,o,l,e)}class TimeScale extends Scale{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const o=t.time||(t.time={}),l=this._adapter=new adapters._date(t.adapters.date);mergeIf(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:parse$1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,o=t.time.unit||"day";let{min:l,max:h,minDefined:y,maxDefined:O}=this.getUserBounds();function D(R){!y&&!isNaN(R.min)&&(l=Math.min(l,R.min)),!O&&!isNaN(R.max)&&(h=Math.max(h,R.max))}(!y||!O)&&(D(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&D(this.getMinMax(!1))),l=isNumberFinite(l)&&!isNaN(l)?l:+e.startOf(Date.now(),o),h=isNumberFinite(h)&&!isNaN(h)?h:+e.endOf(Date.now(),o)+1,this.min=Math.min(l,h-1),this.max=Math.max(l+1,h)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],o=t[t.length-1]),{min:e,max:o}}buildTicks(){const t=this.options,e=t.time,o=t.ticks,l=o.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const h=this.min,y=this.max,O=_filterBetween(l,h,y);return this._unit=e.unit||(o.autoSkip?determineUnitForAutoTicks(e.minUnit,this.min,this.max,this._getLabelCapacity(h)):determineUnitForFormatting(this,O.length,e.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(l),t.reverse&&O.reverse(),ticksFromTimestamps(this,O,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let e=0,o=0,l,h;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?e=1-l:e=(this.getDecimalForValue(t[1])-l)/2,h=this.getDecimalForValue(t[t.length-1]),t.length===1?o=h:o=(h-this.getDecimalForValue(t[t.length-2]))/2);const y=t.length<3?.5:.25;e=_limitValue(e,0,y),o=_limitValue(o,0,y),this._offsets={start:e,end:o,factor:1/(e+1+o)}}_generate(){const t=this._adapter,e=this.min,o=this.max,l=this.options,h=l.time,y=h.unit||determineUnitForAutoTicks(h.minUnit,e,o,this._getLabelCapacity(e)),O=valueOrDefault(h.stepSize,1),D=y==="week"?h.isoWeekday:!1,R=isNumber(D)||D===!0,F={};let j=e,B,U;if(R&&(j=+t.startOf(j,"isoWeek",D)),j=+t.startOf(j,R?"day":y),t.diff(o,e,y)>1e5*O)throw new Error(e+" and "+o+" are too far apart with stepSize of "+O+" "+y);const W=l.ticks.source==="data"&&this.getDataTimestamps();for(B=j,U=0;B<o;B=+t.add(B,O,y),U++)addTick(F,B,W);return(B===o||l.bounds==="ticks"||U===1)&&addTick(F,B,W),Object.keys(F).sort((q,K)=>q-K).map(q=>+q)}getLabelForValue(t){const e=this._adapter,o=this.options.time;return o.tooltipFormat?e.format(t,o.tooltipFormat):e.format(t,o.displayFormats.datetime)}_tickFormatFunction(t,e,o,l){const h=this.options,y=h.time.displayFormats,O=this._unit,D=this._majorUnit,R=O&&y[O],F=D&&y[D],j=o[e],B=D&&F&&j&&j.major,U=this._adapter.format(t,l||(B?F:R)),W=h.ticks.callback;return W?callback(W,[U,e,o],this):U}generateTickLabels(t){let e,o,l;for(e=0,o=t.length;e<o;++e)l=t[e],l.label=this._tickFormatFunction(l.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+o)*e.factor)}getValueForPixel(t){const e=this._offsets,o=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,o=this.ctx.measureText(t).width,l=toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),h=Math.cos(l),y=Math.sin(l),O=this._resolveTickFontOptions(0).size;return{w:o*h+O*y,h:o*y+O*h}}_getLabelCapacity(t){const e=this.options.time,o=e.displayFormats,l=o[e.unit]||o.millisecond,h=this._tickFormatFunction(t,0,ticksFromTimestamps(this,[t],this._majorUnit),l),y=this._getLabelSize(h),O=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return O>0?O:1}getDataTimestamps(){let t=this._cache.data||[],e,o;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(e=0,o=l.length;e<o;++e)t=t.concat(l[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,o;if(t.length)return t;const l=this.getLabels();for(e=0,o=l.length;e<o;++e)t.push(parse$1(this,l[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return _arrayUnique(t.sort(sorter))}}TimeScale.id="time";TimeScale.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function interpolate(r,t,e){let o=0,l=r.length-1,h,y,O,D;e?(t>=r[o].pos&&t<=r[l].pos&&({lo:o,hi:l}=_lookupByKey(r,"pos",t)),{pos:h,time:O}=r[o],{pos:y,time:D}=r[l]):(t>=r[o].time&&t<=r[l].time&&({lo:o,hi:l}=_lookupByKey(r,"time",t)),{time:h,pos:O}=r[o],{time:y,pos:D}=r[l]);const R=y-h;return R?O+(D-O)*(t-h)/R:O}class TimeSeriesScale extends TimeScale{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=interpolate(e,this.min),this._tableRange=interpolate(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:o}=this,l=[],h=[];let y,O,D,R,F;for(y=0,O=t.length;y<O;++y)R=t[y],R>=e&&R<=o&&l.push(R);if(l.length<2)return[{time:e,pos:0},{time:o,pos:1}];for(y=0,O=l.length;y<O;++y)F=l[y+1],D=l[y-1],R=l[y],Math.round((F+D)/2)!==R&&h.push({time:R,pos:y/(O-1)});return h}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),o=this.getLabelTimestamps();return e.length&&o.length?t=this.normalize(e.concat(o)):t=e.length?e:o,t=this._cache.all=t,t}getDecimalForValue(t){return(interpolate(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,o=this.getDecimalForPixel(t)/e.factor-e.end;return interpolate(this._table,o*this._tableRange+this._minPos,!0)}}TimeSeriesScale.id="timeseries";TimeSeriesScale.defaults=TimeScale.defaults;var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];Chart.register(...registerables);/*!
 * chartjs-plugin-datalabels v2.0.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2021 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var devicePixelRatio=function(){if(typeof window!="undefined"){if(window.devicePixelRatio)return window.devicePixelRatio;var r=window.screen;if(r)return(r.deviceXDPI||1)/(r.logicalXDPI||1)}return 1}(),utils={toTextLines:function(r){var t=[],e;for(r=[].concat(r);r.length;)e=r.pop(),typeof e=="string"?t.unshift.apply(t,e.split(`
`)):Array.isArray(e)?r.push.apply(r,e):isNullOrUndef(r)||t.unshift(""+e);return t},textSize:function(r,t,e){var o=[].concat(t),l=o.length,h=r.font,y=0,O;for(r.font=e.string,O=0;O<l;++O)y=Math.max(r.measureText(o[O]).width,y);return r.font=h,{height:l*e.lineHeight,width:y}},bound:function(r,t,e){return Math.max(r,Math.min(t,e))},arrayDiff:function(r,t){var e=r.slice(),o=[],l,h,y,O;for(l=0,y=t.length;l<y;++l)O=t[l],h=e.indexOf(O),h===-1?o.push([O,1]):e.splice(h,1);for(l=0,y=e.length;l<y;++l)o.push([e[l],-1]);return o},rasterize:function(r){return Math.round(r*devicePixelRatio)/devicePixelRatio}};function orient(r,t){var e=t.x,o=t.y;if(e===null)return{x:0,y:-1};if(o===null)return{x:1,y:0};var l=r.x-e,h=r.y-o,y=Math.sqrt(l*l+h*h);return{x:y?l/y:0,y:y?h/y:-1}}function aligned(r,t,e,o,l){switch(l){case"center":e=o=0;break;case"bottom":e=0,o=1;break;case"right":e=1,o=0;break;case"left":e=-1,o=0;break;case"top":e=0,o=-1;break;case"start":e=-e,o=-o;break;case"end":break;default:l*=Math.PI/180,e=Math.cos(l),o=Math.sin(l);break}return{x:r,y:t,vx:e,vy:o}}var R_INSIDE=0,R_LEFT=1,R_RIGHT=2,R_BOTTOM=4,R_TOP=8;function region(r,t,e){var o=R_INSIDE;return r<e.left?o|=R_LEFT:r>e.right&&(o|=R_RIGHT),t<e.top?o|=R_TOP:t>e.bottom&&(o|=R_BOTTOM),o}function clipped(r,t){for(var e=r.x0,o=r.y0,l=r.x1,h=r.y1,y=region(e,o,t),O=region(l,h,t),D,R,F;!(!(y|O)||y&O);)D=y||O,D&R_TOP?(R=e+(l-e)*(t.top-o)/(h-o),F=t.top):D&R_BOTTOM?(R=e+(l-e)*(t.bottom-o)/(h-o),F=t.bottom):D&R_RIGHT?(F=o+(h-o)*(t.right-e)/(l-e),R=t.right):D&R_LEFT&&(F=o+(h-o)*(t.left-e)/(l-e),R=t.left),D===y?(e=R,o=F,y=region(e,o,t)):(l=R,h=F,O=region(l,h,t));return{x0:e,x1:l,y0:o,y1:h}}function compute$1(r,t){var e=t.anchor,o=r,l,h;return t.clamp&&(o=clipped(o,t.area)),e==="start"?(l=o.x0,h=o.y0):e==="end"?(l=o.x1,h=o.y1):(l=(o.x0+o.x1)/2,h=(o.y0+o.y1)/2),aligned(l,h,r.vx,r.vy,t.align)}var positioners={arc:function(r,t){var e=(r.startAngle+r.endAngle)/2,o=Math.cos(e),l=Math.sin(e),h=r.innerRadius,y=r.outerRadius;return compute$1({x0:r.x+o*h,y0:r.y+l*h,x1:r.x+o*y,y1:r.y+l*y,vx:o,vy:l},t)},point:function(r,t){var e=orient(r,t.origin),o=e.x*r.options.radius,l=e.y*r.options.radius;return compute$1({x0:r.x-o,y0:r.y-l,x1:r.x+o,y1:r.y+l,vx:e.x,vy:e.y},t)},bar:function(r,t){var e=orient(r,t.origin),o=r.x,l=r.y,h=0,y=0;return r.horizontal?(o=Math.min(r.x,r.base),h=Math.abs(r.base-r.x)):(l=Math.min(r.y,r.base),y=Math.abs(r.base-r.y)),compute$1({x0:o,y0:l+y,x1:o+h,y1:l,vx:e.x,vy:e.y},t)},fallback:function(r,t){var e=orient(r,t.origin);return compute$1({x0:r.x,y0:r.y,x1:r.x,y1:r.y,vx:e.x,vy:e.y},t)}},rasterize=utils.rasterize;function boundingRects(r){var t=r.borderWidth||0,e=r.padding,o=r.size.height,l=r.size.width,h=-l/2,y=-o/2;return{frame:{x:h-e.left-t,y:y-e.top-t,w:l+e.width+t*2,h:o+e.height+t*2},text:{x:h,y,w:l,h:o}}}function getScaleOrigin(r,t){var e=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!e)return null;if(e.xCenter!==void 0&&e.yCenter!==void 0)return{x:e.xCenter,y:e.yCenter};var o=e.getBasePixel();return r.horizontal?{x:o,y:null}:{x:null,y:o}}function getPositioner(r){return r instanceof ArcElement?positioners.arc:r instanceof PointElement?positioners.point:r instanceof BarElement?positioners.bar:positioners.fallback}function drawRoundedRect(r,t,e,o,l,h){var y=Math.PI/2;if(h){var O=Math.min(h,l/2,o/2),D=t+O,R=e+O,F=t+o-O,j=e+l-O;r.moveTo(t,R),D<F&&R<j?(r.arc(D,R,O,-Math.PI,-y),r.arc(F,R,O,-y,0),r.arc(F,j,O,0,y),r.arc(D,j,O,y,Math.PI)):D<F?(r.moveTo(D,e),r.arc(F,R,O,-y,y),r.arc(D,R,O,y,Math.PI+y)):R<j?(r.arc(D,R,O,-Math.PI,0),r.arc(D,j,O,0,Math.PI)):r.arc(D,R,O,-Math.PI,Math.PI),r.closePath(),r.moveTo(t,e)}else r.rect(t,e,o,l)}function drawFrame(r,t,e){var o=e.backgroundColor,l=e.borderColor,h=e.borderWidth;!o&&(!l||!h)||(r.beginPath(),drawRoundedRect(r,rasterize(t.x)+h/2,rasterize(t.y)+h/2,rasterize(t.w)-h,rasterize(t.h)-h,e.borderRadius),r.closePath(),o&&(r.fillStyle=o,r.fill()),l&&h&&(r.strokeStyle=l,r.lineWidth=h,r.lineJoin="miter",r.stroke()))}function textGeometry(r,t,e){var o=e.lineHeight,l=r.w,h=r.x,y=r.y+o/2;return t==="center"?h+=l/2:(t==="end"||t==="right")&&(h+=l),{h:o,w:l,x:h,y}}function drawTextLine(r,t,e){var o=r.shadowBlur,l=e.stroked,h=rasterize(e.x),y=rasterize(e.y),O=rasterize(e.w);l&&r.strokeText(t,h,y,O),e.filled&&(o&&l&&(r.shadowBlur=0),r.fillText(t,h,y,O),o&&l&&(r.shadowBlur=o))}function drawText(r,t,e,o){var l=o.textAlign,h=o.color,y=!!h,O=o.font,D=t.length,R=o.textStrokeColor,F=o.textStrokeWidth,j=R&&F,B;if(!(!D||!y&&!j))for(e=textGeometry(e,l,O),r.font=O.string,r.textAlign=l,r.textBaseline="middle",r.shadowBlur=o.textShadowBlur,r.shadowColor=o.textShadowColor,y&&(r.fillStyle=h),j&&(r.lineJoin="round",r.lineWidth=F,r.strokeStyle=R),B=0,D=t.length;B<D;++B)drawTextLine(r,t[B],{stroked:j,filled:y,w:e.w,x:e.x,y:e.y+e.h*B})}var Label=function(r,t,e,o){var l=this;l._config=r,l._index=o,l._model=null,l._rects=null,l._ctx=t,l._el=e};merge(Label.prototype,{_modelize:function(r,t,e,o){var l=this,h=l._index,y=toFont(resolve([e.font,{}],o,h)),O=resolve([e.color,defaults$1.color],o,h);return{align:resolve([e.align,"center"],o,h),anchor:resolve([e.anchor,"center"],o,h),area:o.chart.chartArea,backgroundColor:resolve([e.backgroundColor,null],o,h),borderColor:resolve([e.borderColor,null],o,h),borderRadius:resolve([e.borderRadius,0],o,h),borderWidth:resolve([e.borderWidth,0],o,h),clamp:resolve([e.clamp,!1],o,h),clip:resolve([e.clip,!1],o,h),color:O,display:r,font:y,lines:t,offset:resolve([e.offset,0],o,h),opacity:resolve([e.opacity,1],o,h),origin:getScaleOrigin(l._el,o),padding:toPadding(resolve([e.padding,0],o,h)),positioner:getPositioner(l._el),rotation:resolve([e.rotation,0],o,h)*(Math.PI/180),size:utils.textSize(l._ctx,t,y),textAlign:resolve([e.textAlign,"start"],o,h),textShadowBlur:resolve([e.textShadowBlur,0],o,h),textShadowColor:resolve([e.textShadowColor,O],o,h),textStrokeColor:resolve([e.textStrokeColor,O],o,h),textStrokeWidth:resolve([e.textStrokeWidth,0],o,h)}},update:function(r){var t=this,e=null,o=null,l=t._index,h=t._config,y,O,D,R=resolve([h.display,!0],r,l);R&&(y=r.dataset.data[l],O=valueOrDefault(callback(h.formatter,[y,r]),y),D=isNullOrUndef(O)?[]:utils.toTextLines(O),D.length&&(e=t._modelize(R,D,h,r),o=boundingRects(e))),t._model=e,t._rects=o},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(r,t){var e=this,o=r.ctx,l=e._model,h=e._rects,y;!this.visible()||(o.save(),l.clip&&(y=l.area,o.beginPath(),o.rect(y.left,y.top,y.right-y.left,y.bottom-y.top),o.clip()),o.globalAlpha=utils.bound(0,l.opacity,1),o.translate(rasterize(t.x),rasterize(t.y)),o.rotate(l.rotation),drawFrame(o,h.frame,l),drawText(o,l.lines,h.text,l),o.restore())}});var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated(r,t,e){var o=Math.cos(e),l=Math.sin(e),h=t.x,y=t.y;return{x:h+o*(r.x-h)-l*(r.y-y),y:y+l*(r.x-h)+o*(r.y-y)}}function projected(r,t){var e=MAX_INTEGER,o=MIN_INTEGER,l=t.origin,h,y,O,D,R;for(h=0;h<r.length;++h)y=r[h],O=y.x-l.x,D=y.y-l.y,R=t.vx*O+t.vy*D,e=Math.min(e,R),o=Math.max(o,R);return{min:e,max:o}}function toAxis(r,t){var e=t.x-r.x,o=t.y-r.y,l=Math.sqrt(e*e+o*o);return{vx:(t.x-r.x)/l,vy:(t.y-r.y)/l,origin:r,ln:l}}var HitBox=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};merge(HitBox.prototype,{center:function(){var r=this._rect;return{x:r.x+r.w/2,y:r.y+r.h/2}},update:function(r,t,e){this._rotation=e,this._rect={x:t.x+r.x,y:t.y+r.y,w:t.w,h:t.h}},contains:function(r){var t=this,e=1,o=t._rect;return r=rotated(r,t.center(),-t._rotation),!(r.x<o.x-e||r.y<o.y-e||r.x>o.x+o.w+e*2||r.y>o.y+o.h+e*2)},intersects:function(r){var t=this._points(),e=r._points(),o=[toAxis(t[0],t[1]),toAxis(t[0],t[3])],l,h,y;for(this._rotation!==r._rotation&&o.push(toAxis(e[0],e[1]),toAxis(e[0],e[3])),l=0;l<o.length;++l)if(h=projected(t,o[l]),y=projected(e,o[l]),h.max<y.min||y.max<h.min)return!1;return!0},_points:function(){var r=this,t=r._rect,e=r._rotation,o=r.center();return[rotated({x:t.x,y:t.y},o,e),rotated({x:t.x+t.w,y:t.y},o,e),rotated({x:t.x+t.w,y:t.y+t.h},o,e),rotated({x:t.x,y:t.y+t.h},o,e)]}});function coordinates(r,t,e){var o=t.positioner(r,t),l=o.vx,h=o.vy;if(!l&&!h)return{x:o.x,y:o.y};var y=e.w,O=e.h,D=t.rotation,R=Math.abs(y/2*Math.cos(D))+Math.abs(O/2*Math.sin(D)),F=Math.abs(y/2*Math.sin(D))+Math.abs(O/2*Math.cos(D)),j=1/Math.max(Math.abs(l),Math.abs(h));return R*=l*j,F*=h*j,R+=t.offset*l,F+=t.offset*h,{x:o.x+R,y:o.y+F}}function collide(r,t){var e,o,l,h;for(e=r.length-1;e>=0;--e)for(l=r[e].$layout,o=e-1;o>=0&&l._visible;--o)h=r[o].$layout,h._visible&&l._box.intersects(h._box)&&t(l,h);return r}function compute(r){var t,e,o,l,h,y,O;for(t=0,e=r.length;t<e;++t)o=r[t],l=o.$layout,l._visible&&(O=new Proxy(o._el,{get:(D,R)=>D.getProps([R],!0)[R]}),h=o.geometry(),y=coordinates(O,o.model(),h),l._box.update(y,h,o.rotation()));return collide(r,function(D,R){var F=D._hidable,j=R._hidable;F&&j||j?R._visible=!1:F&&(D._visible=!1)})}var layout={prepare:function(r){var t=[],e,o,l,h,y;for(e=0,l=r.length;e<l;++e)for(o=0,h=r[e].length;o<h;++o)y=r[e][o],t.push(y),y.$layout={_box:new HitBox,_hidable:!1,_visible:!0,_set:e,_idx:o};return t.sort(function(O,D){var R=O.$layout,F=D.$layout;return R._idx===F._idx?F._set-R._set:F._idx-R._idx}),this.update(t),t},update:function(r){var t=!1,e,o,l,h,y;for(e=0,o=r.length;e<o;++e)l=r[e],h=l.model(),y=l.$layout,y._hidable=h&&h.display==="auto",y._visible=l.visible(),t|=y._hidable;t&&compute(r)},lookup:function(r,t){var e,o;for(e=r.length-1;e>=0;--e)if(o=r[e].$layout,o&&o._visible&&o._box.contains(t))return r[e];return null},draw:function(r,t){var e,o,l,h,y,O;for(e=0,o=t.length;e<o;++e)l=t[e],h=l.$layout,h._visible&&(y=l.geometry(),O=coordinates(l._el,l.model(),y),h._box.update(O,y,l.rotation()),l.draw(r,O))}},formatter=function(r){if(isNullOrUndef(r))return null;var t=r,e,o,l;if(isObject(r))if(!isNullOrUndef(r.label))t=r.label;else if(!isNullOrUndef(r.r))t=r.r;else for(t="",e=Object.keys(r),l=0,o=e.length;l<o;++l)t+=(l!==0?", ":"")+e[l]+": "+r[e[l]];return""+t},defaults={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},EXPANDO_KEY="$datalabels",DEFAULT_KEY="$default";function configure(r,t){var e=r.datalabels,o={},l=[],h,y;return e===!1?null:(e===!0&&(e={}),t=merge({},[t,e]),h=t.labels||{},y=Object.keys(h),delete t.labels,y.length?y.forEach(function(O){h[O]&&l.push(merge({},[t,h[O],{_key:O}]))}):l.push(t),o=l.reduce(function(O,D){return each(D.listeners||{},function(R,F){O[F]=O[F]||{},O[F][D._key||DEFAULT_KEY]=R}),delete D.listeners,O},{}),{labels:l,listeners:o})}function dispatchEvent(r,t,e){if(!!t){var o=e.$context,l=e.$groups,h;!t[l._set]||(h=t[l._set][l._key],!!h&&callback(h,[o])===!0&&(r[EXPANDO_KEY]._dirty=!0,e.update(o)))}}function dispatchMoveEvents(r,t,e,o){var l,h;!e&&!o||(e?o?e!==o&&(h=l=!0):h=!0:l=!0,h&&dispatchEvent(r,t.leave,e),l&&dispatchEvent(r,t.enter,o))}function handleMoveEvents(r,t){var e=r[EXPANDO_KEY],o=e._listeners,l,h;if(!(!o.enter&&!o.leave)){if(t.type==="mousemove")h=layout.lookup(e._labels,t);else if(t.type!=="mouseout")return;l=e._hovered,e._hovered=h,dispatchMoveEvents(r,o,l,h)}}function handleClickEvents(r,t){var e=r[EXPANDO_KEY],o=e._listeners.click,l=o&&layout.lookup(e._labels,t);l&&dispatchEvent(r,o,l)}var plugin$1={id:"datalabels",defaults,beforeInit:function(r){r[EXPANDO_KEY]={_actives:[]}},beforeUpdate:function(r){var t=r[EXPANDO_KEY];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(r,t,e){var o=t.index,l=r[EXPANDO_KEY],h=l._datasets[o]=[],y=r.isDatasetVisible(o),O=r.data.datasets[o],D=configure(O,e),R=t.meta.data||[],F=r.ctx,j,B,U,W,q,K,Y,X;for(F.save(),j=0,U=R.length;j<U;++j)if(Y=R[j],Y[EXPANDO_KEY]=[],y&&Y&&r.getDataVisibility(j)&&!Y.skip)for(B=0,W=D.labels.length;B<W;++B)q=D.labels[B],K=q._key,X=new Label(q,F,Y,j),X.$groups={_set:o,_key:K||DEFAULT_KEY},X.$context={active:!1,chart:r,dataIndex:j,dataset:O,datasetIndex:o},X.update(X.$context),Y[EXPANDO_KEY].push(X),h.push(X);F.restore(),merge(l._listeners,D.listeners,{merger:function(J,Q,Z){Q[J]=Q[J]||{},Q[J][t.index]=Z[J],l._listened=!0}})},afterUpdate:function(r,t){r[EXPANDO_KEY]._labels=layout.prepare(r[EXPANDO_KEY]._datasets,t)},afterDatasetsDraw:function(r){layout.draw(r,r[EXPANDO_KEY]._labels)},beforeEvent:function(r,t){if(r[EXPANDO_KEY]._listened){var e=t.event;switch(e.type){case"mousemove":case"mouseout":handleMoveEvents(r,e);break;case"click":handleClickEvents(r,e);break}}},afterEvent:function(r){var t=r[EXPANDO_KEY],e=t._actives,o=t._actives=r.getActiveElements(),l=utils.arrayDiff(e,o),h,y,O,D,R,F,j;for(h=0,y=l.length;h<y;++h)if(R=l[h],R[1])for(j=R[0].element[EXPANDO_KEY]||[],O=0,D=j.length;O<D;++O)F=j[O],F.$context.active=R[1]===1,F.update(F.$context);(t._dirty||l.length)&&(layout.update(t._labels),r.render()),delete t._dirty}},noop={value:function(){}};function dispatch$1(){for(var r=0,t=arguments.length,e={},o;r<t;++r){if(!(o=arguments[r]+"")||o in e||/[\s.]/.test(o))throw new Error("illegal type: "+o);e[o]=[]}return new Dispatch(e)}function Dispatch(r){this._=r}function parseTypenames(r,t){return r.trim().split(/^|\s+/).map(function(e){var o="",l=e.indexOf(".");if(l>=0&&(o=e.slice(l+1),e=e.slice(0,l)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:o}})}Dispatch.prototype=dispatch$1.prototype={constructor:Dispatch,on:function(r,t){var e=this._,o=parseTypenames(r+"",e),l,h=-1,y=o.length;if(arguments.length<2){for(;++h<y;)if((l=(r=o[h]).type)&&(l=get(e[l],r.name)))return l;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++h<y;)if(l=(r=o[h]).type)e[l]=set(e[l],r.name,t);else if(t==null)for(l in e)e[l]=set(e[l],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new Dispatch(r)},call:function(r,t){if((l=arguments.length-2)>0)for(var e=new Array(l),o=0,l,h;o<l;++o)e[o]=arguments[o+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(h=this._[r],o=0,l=h.length;o<l;++o)h[o].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var o=this._[r],l=0,h=o.length;l<h;++l)o[l].value.apply(t,e)}};function get(r,t){for(var e=0,o=r.length,l;e<o;++e)if((l=r[e]).name===t)return l.value}function set(r,t,e){for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r[o]=noop,r=r.slice(0,o).concat(r.slice(o+1));break}return e!=null&&r.push({name:t,value:e}),r}var src=Object.freeze(Object.defineProperty({__proto__:null,dispatch:dispatch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(src),dispatch=require$$0.dispatch,cloudRadians=Math.PI/180,cw=1<<11>>5,ch=1<<11,d3Cloud=function(){var r=[256,256],t=cloudText,e=cloudFont,o=cloudFontSize,l=cloudFontNormal,h=cloudFontNormal,y=cloudRotate,O=cloudPadding,D=archimedeanSpiral,R=[],F=1/0,j=dispatch("word","end"),B=null,U=Math.random,W={},q=cloudCanvas;W.canvas=function(X){return arguments.length?(q=functor(X),W):q},W.start=function(){var X=K(q()),J=zeroArray((r[0]>>5)*r[1]),Q=null,Z=R.length,ee=-1,re=[],te=R.map(function(ae,ie){return ae.text=t.call(this,ae,ie),ae.font=e.call(this,ae,ie),ae.style=l.call(this,ae,ie),ae.weight=h.call(this,ae,ie),ae.rotate=y.call(this,ae,ie),ae.size=~~o.call(this,ae,ie),ae.padding=O.call(this,ae,ie),ae}).sort(function(ae,ie){return ie.size-ae.size});return B&&clearInterval(B),B=setInterval(ne,0),ne(),W;function ne(){for(var ae=Date.now();Date.now()-ae<F&&++ee<Z&&B;){var ie=te[ee];ie.x=r[0]*(U()+.5)>>1,ie.y=r[1]*(U()+.5)>>1,cloudSprite(X,ie,te,ee),ie.hasText&&Y(J,ie,Q)&&(re.push(ie),j.call("word",W,ie),Q?cloudBounds(Q,ie):Q=[{x:ie.x+ie.x0,y:ie.y+ie.y0},{x:ie.x+ie.x1,y:ie.y+ie.y1}],ie.x-=r[0]>>1,ie.y-=r[1]>>1)}ee>=Z&&(W.stop(),j.call("end",W,re,Q))}},W.stop=function(){return B&&(clearInterval(B),B=null),W};function K(X){X.width=X.height=1;var J=Math.sqrt(X.getContext("2d").getImageData(0,0,1,1).data.length>>2);X.width=(cw<<5)/J,X.height=ch/J;var Q=X.getContext("2d");return Q.fillStyle=Q.strokeStyle="red",Q.textAlign="center",{context:Q,ratio:J}}function Y(X,J,Q){r[0],r[1];for(var Z=J.x,ee=J.y,re=Math.sqrt(r[0]*r[0]+r[1]*r[1]),te=D(r),ne=U()<.5?1:-1,ae=-ne,ie,oe,ce;(ie=te(ae+=ne))&&(oe=~~ie[0],ce=~~ie[1],!(Math.min(Math.abs(oe),Math.abs(ce))>=re));)if(J.x=Z+oe,J.y=ee+ce,!(J.x+J.x0<0||J.y+J.y0<0||J.x+J.x1>r[0]||J.y+J.y1>r[1])&&(!Q||!cloudCollide(J,X,r[0]))&&(!Q||collideRects(J,Q))){for(var ue=J.sprite,pe=J.width>>5,me=r[0]>>5,he=J.x-(pe<<4),se=he&127,le=32-se,fe=J.y1-J.y0,ge=(J.y+J.y0)*me+(he>>5),ye,we=0;we<fe;we++){ye=0;for(var $e=0;$e<=pe;$e++)X[ge+$e]|=ye<<le|($e<pe?(ye=ue[we*pe+$e])>>>se:0);ge+=me}return delete J.sprite,!0}return!1}return W.timeInterval=function(X){return arguments.length?(F=X==null?1/0:X,W):F},W.words=function(X){return arguments.length?(R=X,W):R},W.size=function(X){return arguments.length?(r=[+X[0],+X[1]],W):r},W.font=function(X){return arguments.length?(e=functor(X),W):e},W.fontStyle=function(X){return arguments.length?(l=functor(X),W):l},W.fontWeight=function(X){return arguments.length?(h=functor(X),W):h},W.rotate=function(X){return arguments.length?(y=functor(X),W):y},W.text=function(X){return arguments.length?(t=functor(X),W):t},W.spiral=function(X){return arguments.length?(D=spirals[X]||X,W):D},W.fontSize=function(X){return arguments.length?(o=functor(X),W):o},W.padding=function(X){return arguments.length?(O=functor(X),W):O},W.random=function(X){return arguments.length?(U=X,W):U},W.on=function(){var X=j.on.apply(j,arguments);return X===j?W:X},W};function cloudText(r){return r.text}function cloudFont(){return"serif"}function cloudFontNormal(){return"normal"}function cloudFontSize(r){return Math.sqrt(r.value)}function cloudRotate(){return(~~(Math.random()*6)-3)*30}function cloudPadding(){return 1}function cloudSprite(r,t,e,o){if(!t.sprite){var l=r.context,h=r.ratio;l.clearRect(0,0,(cw<<5)/h,ch/h);var y=0,O=0,D=0,R=e.length;for(--o;++o<R;){t=e[o],l.save(),l.font=t.style+" "+t.weight+" "+~~((t.size+1)/h)+"px "+t.font;var F=l.measureText(t.text+"m").width*h,j=t.size<<1;if(t.rotate){var B=Math.sin(t.rotate*cloudRadians),U=Math.cos(t.rotate*cloudRadians),W=F*U,q=F*B,K=j*U,Y=j*B;F=Math.max(Math.abs(W+Y),Math.abs(W-Y))+31>>5<<5,j=~~Math.max(Math.abs(q+K),Math.abs(q-K))}else F=F+31>>5<<5;if(j>D&&(D=j),y+F>=cw<<5&&(y=0,O+=D,D=0),O+j>=ch)break;l.translate((y+(F>>1))/h,(O+(j>>1))/h),t.rotate&&l.rotate(t.rotate*cloudRadians),l.fillText(t.text,0,0),t.padding&&(l.lineWidth=2*t.padding,l.strokeText(t.text,0,0)),l.restore(),t.width=F,t.height=j,t.xoff=y,t.yoff=O,t.x1=F>>1,t.y1=j>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,y+=F}for(var X=l.getImageData(0,0,(cw<<5)/h,ch/h).data,J=[];--o>=0;)if(t=e[o],!!t.hasText){for(var F=t.width,Q=F>>5,j=t.y1-t.y0,Z=0;Z<j*Q;Z++)J[Z]=0;if(y=t.xoff,y==null)return;O=t.yoff;for(var ee=0,re=-1,te=0;te<j;te++){for(var Z=0;Z<F;Z++){var ne=Q*te+(Z>>5),ae=X[(O+te)*(cw<<5)+(y+Z)<<2]?1<<31-Z%32:0;J[ne]|=ae,ee|=ae}ee?re=te:(t.y0++,j--,te--,O++)}t.y1=t.y0+re,t.sprite=J.slice(0,(t.y1-t.y0)*Q)}}}function cloudCollide(r,t,e){e>>=5;for(var o=r.sprite,l=r.width>>5,h=r.x-(l<<4),y=h&127,O=32-y,D=r.y1-r.y0,R=(r.y+r.y0)*e+(h>>5),F,j=0;j<D;j++){F=0;for(var B=0;B<=l;B++)if((F<<O|(B<l?(F=o[j*l+B])>>>y:0))&t[R+B])return!0;R+=e}return!1}function cloudBounds(r,t){var e=r[0],o=r[1];t.x+t.x0<e.x&&(e.x=t.x+t.x0),t.y+t.y0<e.y&&(e.y=t.y+t.y0),t.x+t.x1>o.x&&(o.x=t.x+t.x1),t.y+t.y1>o.y&&(o.y=t.y+t.y1)}function collideRects(r,t){return r.x+r.x1>t[0].x&&r.x+r.x0<t[1].x&&r.y+r.y1>t[0].y&&r.y+r.y0<t[1].y}function archimedeanSpiral(r){var t=r[0]/r[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function rectangularSpiral(r){var t=4,e=t*r[0]/r[1],o=0,l=0;return function(h){var y=h<0?-1:1;switch(Math.sqrt(1+4*y*h)-y&3){case 0:o+=e;break;case 1:l+=t;break;case 2:o-=e;break;default:l-=t;break}return[o,l]}}function zeroArray(r){for(var t=[],e=-1;++e<r;)t[e]=0;return t}function cloudCanvas(){return document.createElement("canvas")}function functor(r){return typeof r=="function"?r:function(){return r}}var spirals={archimedean:archimedeanSpiral,rectangular:rectangularSpiral};class WordElement extends Element$1{static computeRotation(t,e){if(t.rotationSteps<=1)return 0;if(t.minRotation===t.maxRotation)return t.minRotation;const o=Math.min(t.rotationSteps,Math.floor(e()*t.rotationSteps))/(t.rotationSteps-1),l=t.maxRotation-t.minRotation;return t.minRotation+o*l}inRange(t,e){const o=this.getProps(["x","y","width","height","scale"]);if(o.scale<=0)return!1;const l=Number.isNaN(t)?o.x:t,h=Number.isNaN(e)?o.y:e;return l>=o.x-o.width/2&&l<=o.x+o.width/2&&h>=o.y-o.height/2&&h<=o.y+o.height/2}inXRange(t){return this.inRange(t,Number.NaN)}inYRange(t){return this.inRange(Number.NaN,t)}getCenterPoint(){return this.getProps(["x","y"])}tooltipPosition(){return this.getCenterPoint()}draw(t){const{options:e}=this,o=this.getProps(["x","y","width","height","text","scale"]);if(o.scale<=0)return;t.save();const l=toFont(nt(rt({},e),{size:e.size*o.scale}));t.font=l.string,t.fillStyle=e.color,t.textAlign="center",t.translate(o.x,o.y),t.rotate(e.rotate/180*Math.PI),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.strokeText(o.text,0,0)),t.fillText(o.text,0,0),t.restore()}}WordElement.id="word";WordElement.defaults={minRotation:-90,maxRotation:0,rotationSteps:2,padding:1,strokeStyle:void 0,size:r=>r.parsed.y,hoverColor:"#ababab"};WordElement.defaultRoutes={color:"color",family:"font.family",style:"font.style",weight:"font.weight",lineHeight:"font.lineHeight"};function patchController(r,t,e,o=[],l=[]){registry.addControllers(e),Array.isArray(o)?registry.addElements(...o):registry.addElements(o),Array.isArray(l)?registry.addScales(...l):registry.addScales(l);const h=t;return h.type=r,h}function rnd(r=Date.now()){let t=typeof r=="number"?r:Array.from(r).reduce((e,o)=>e+o.charCodeAt(0),0);return()=>(t=(t*9301+49297)%233280,t/233280)}class WordCloudController extends DatasetController{constructor(){super(...arguments),this.wordLayout=d3Cloud().text(t=>t.text).padding(t=>t.options.padding).rotate(t=>t.options.rotate).font(t=>t.options.family).fontSize(t=>t.options.size).fontStyle(t=>t.options.style).fontWeight(t=>{var e;return(e=t.options.weight)!==null&&e!==void 0?e:1}),this.rand=Math.random}update(t){super.update(t),this.rand=rnd(this.chart.id);const o=this._cachedMeta.data||[];this.updateElements(o,0,o.length,t)}updateElements(t,e,o,l){var h,y,O,D;this.wordLayout.stop();const R=this._cachedMeta.xScale,F=this._cachedMeta.yScale,j=R.right-R.left,B=F.bottom-F.top,U=this.chart.data.labels,W=[];for(let K=e;K<e+o;K+=1){const Y=this.resolveDataElementOptions(K,l);Y.rotate==null&&(Y.rotate=WordElement.computeRotation(Y,this.rand));const X={options:rt(rt({},toFont(Y)),Y),x:(y=(h=this._cachedMeta.xScale)===null||h===void 0?void 0:h.getPixelForDecimal(.5))!==null&&y!==void 0?y:0,y:(D=(O=this._cachedMeta.yScale)===null||O===void 0?void 0:O.getPixelForDecimal(.5))!==null&&D!==void 0?D:0,width:10,height:10,scale:1,index:K,text:U[K]};W.push(X)}if(l==="reset"){W.forEach(K=>{this.updateElement(t[K.index],K.index,K,l)});return}this.wordLayout.random(this.rand).words(W);const q=(K=1,Y=3)=>{this.wordLayout.size([j*K,B*K]).on("end",(X,J)=>{if(X.length<U.length){if(Y>0){q(K*1.2,Y-1);return}console.warn("cannot fit all text elements in three tries")}const Q=J[1].x-J[0].x,Z=J[1].y-J[0].y,re=this.options.fit?Math.min(j/Q,B/Z):1,te=new Set(U.map((ne,ae)=>ae));X.forEach(ne=>{te.delete(ne.index),this.updateElement(t[ne.index],ne.index,{options:ne.options,scale:re,x:R.left+re*ne.x+j/2,y:F.top+re*ne.y+B/2,width:re*ne.width,height:re*ne.height,text:ne.text},l)}),te.forEach(ne=>this.updateElement(t[ne],ne,{scale:0},l))}).start()};q()}draw(){const t=this._cachedMeta.data,{ctx:e}=this.chart;t.forEach(o=>o.draw(e))}getLabelAndValue(t){const e=super.getLabelAndValue(t),o=this.chart.data.labels;return e.label=o[t],e}}WordCloudController.id="wordCloud";WordCloudController.defaults={datasets:{fit:!0,animation:{colors:{properties:["color","strokeStyle"]},numbers:{properties:["x","y","size","rotate"]}}},maintainAspectRatio:!1,dataElementType:WordElement.id};WordCloudController.overrides={scales:{x:{type:"linear",min:-1,max:1,display:!1},y:{type:"linear",min:-1,max:1,display:!1}}};class WordCloudChart extends Chart{constructor(t,e){super(t,patchController("wordCloud",e,WordCloudController,WordElement))}}WordCloudChart.id=WordCloudController.id;function toInteger(r){if(r===null||r===!0||r===!1)return NaN;var t=Number(r);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function requiredArgs(r,t){if(t.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+t.length+" present")}function toDate(r){requiredArgs(1,arguments);var t=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&t==="[object Date]"?new Date(r.getTime()):typeof r=="number"||t==="[object Number]"?new Date(r):((typeof r=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function addDays(r,t){requiredArgs(2,arguments);var e=toDate(r),o=toInteger(t);return isNaN(o)?new Date(NaN):(o&&e.setDate(e.getDate()+o),e)}function addMonths(r,t){requiredArgs(2,arguments);var e=toDate(r),o=toInteger(t);if(isNaN(o))return new Date(NaN);if(!o)return e;var l=e.getDate(),h=new Date(e.getTime());h.setMonth(e.getMonth()+o+1,0);var y=h.getDate();return l>=y?h:(e.setFullYear(h.getFullYear(),h.getMonth(),l),e)}function addMilliseconds(r,t){requiredArgs(2,arguments);var e=toDate(r).getTime(),o=toInteger(t);return new Date(e+o)}var MILLISECONDS_IN_HOUR$1=36e5;function addHours(r,t){requiredArgs(2,arguments);var e=toInteger(t);return addMilliseconds(r,e*MILLISECONDS_IN_HOUR$1)}function startOfWeek(r,t){requiredArgs(1,arguments);var e=t||{},o=e.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=e.weekStartsOn==null?h:toInteger(e.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=toDate(r),D=O.getDay(),R=(D<y?7:0)+D-y;return O.setDate(O.getDate()-R),O.setHours(0,0,0,0),O}function getTimezoneOffsetInMilliseconds(r){var t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),r.getTime()-t.getTime()}function startOfDay(r){requiredArgs(1,arguments);var t=toDate(r);return t.setHours(0,0,0,0),t}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(r,t){requiredArgs(2,arguments);var e=startOfDay(r),o=startOfDay(t),l=e.getTime()-getTimezoneOffsetInMilliseconds(e),h=o.getTime()-getTimezoneOffsetInMilliseconds(o);return Math.round((l-h)/MILLISECONDS_IN_DAY$1)}var MILLISECONDS_IN_MINUTE$1=6e4;function addMinutes(r,t){requiredArgs(2,arguments);var e=toInteger(t);return addMilliseconds(r,e*MILLISECONDS_IN_MINUTE$1)}function addQuarters(r,t){requiredArgs(2,arguments);var e=toInteger(t),o=e*3;return addMonths(r,o)}function addSeconds(r,t){requiredArgs(2,arguments);var e=toInteger(t);return addMilliseconds(r,e*1e3)}function addWeeks(r,t){requiredArgs(2,arguments);var e=toInteger(t),o=e*7;return addDays(r,o)}function addYears(r,t){requiredArgs(2,arguments);var e=toInteger(t);return addMonths(r,e*12)}function compareAsc(r,t){requiredArgs(2,arguments);var e=toDate(r),o=toDate(t),l=e.getTime()-o.getTime();return l<0?-1:l>0?1:l}var millisecondsInMinute=6e4,millisecondsInHour=36e5;function isDate(r){return requiredArgs(1,arguments),r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function isValid(r){if(requiredArgs(1,arguments),!isDate(r)&&typeof r!="number")return!1;var t=toDate(r);return!isNaN(Number(t))}function differenceInCalendarMonths(r,t){requiredArgs(2,arguments);var e=toDate(r),o=toDate(t),l=e.getFullYear()-o.getFullYear(),h=e.getMonth()-o.getMonth();return l*12+h}function differenceInCalendarYears(r,t){requiredArgs(2,arguments);var e=toDate(r),o=toDate(t);return e.getFullYear()-o.getFullYear()}function compareLocalAsc(r,t){var e=r.getFullYear()-t.getFullYear()||r.getMonth()-t.getMonth()||r.getDate()-t.getDate()||r.getHours()-t.getHours()||r.getMinutes()-t.getMinutes()||r.getSeconds()-t.getSeconds()||r.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function differenceInDays(r,t){requiredArgs(2,arguments);var e=toDate(r),o=toDate(t),l=compareLocalAsc(e,o),h=Math.abs(differenceInCalendarDays(e,o));e.setDate(e.getDate()-l*h);var y=Number(compareLocalAsc(e,o)===-l),O=l*(h-y);return O===0?0:O}function differenceInMilliseconds(r,t){return requiredArgs(2,arguments),toDate(r).getTime()-toDate(t).getTime()}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},defaultRoundingMethod="trunc";function getRoundingMethod(r){return r?roundingMap[r]:roundingMap[defaultRoundingMethod]}function differenceInHours(r,t,e){requiredArgs(2,arguments);var o=differenceInMilliseconds(r,t)/millisecondsInHour;return getRoundingMethod(e==null?void 0:e.roundingMethod)(o)}function differenceInMinutes(r,t,e){requiredArgs(2,arguments);var o=differenceInMilliseconds(r,t)/millisecondsInMinute;return getRoundingMethod(e==null?void 0:e.roundingMethod)(o)}function endOfDay(r){requiredArgs(1,arguments);var t=toDate(r);return t.setHours(23,59,59,999),t}function endOfMonth(r){requiredArgs(1,arguments);var t=toDate(r),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function isLastDayOfMonth(r){requiredArgs(1,arguments);var t=toDate(r);return endOfDay(t).getTime()===endOfMonth(t).getTime()}function differenceInMonths(r,t){requiredArgs(2,arguments);var e=toDate(r),o=toDate(t),l=compareAsc(e,o),h=Math.abs(differenceInCalendarMonths(e,o)),y;if(h<1)y=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-l*h);var O=compareAsc(e,o)===-l;isLastDayOfMonth(toDate(r))&&h===1&&compareAsc(r,o)===1&&(O=!1),y=l*(h-Number(O))}return y===0?0:y}function differenceInQuarters(r,t,e){requiredArgs(2,arguments);var o=differenceInMonths(r,t)/3;return getRoundingMethod(e==null?void 0:e.roundingMethod)(o)}function differenceInSeconds(r,t,e){requiredArgs(2,arguments);var o=differenceInMilliseconds(r,t)/1e3;return getRoundingMethod(e==null?void 0:e.roundingMethod)(o)}function differenceInWeeks(r,t,e){requiredArgs(2,arguments);var o=differenceInDays(r,t)/7;return getRoundingMethod(e==null?void 0:e.roundingMethod)(o)}function differenceInYears(r,t){requiredArgs(2,arguments);var e=toDate(r),o=toDate(t),l=compareAsc(e,o),h=Math.abs(differenceInCalendarYears(e,o));e.setFullYear(1584),o.setFullYear(1584);var y=compareAsc(e,o)===-l,O=l*(h-Number(y));return O===0?0:O}function startOfMinute(r){requiredArgs(1,arguments);var t=toDate(r);return t.setSeconds(0,0),t}function startOfQuarter(r){requiredArgs(1,arguments);var t=toDate(r),e=t.getMonth(),o=e-e%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}function startOfMonth(r){requiredArgs(1,arguments);var t=toDate(r);return t.setDate(1),t.setHours(0,0,0,0),t}function startOfYear(r){requiredArgs(1,arguments);var t=toDate(r),e=new Date(0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}function endOfYear(r){requiredArgs(1,arguments);var t=toDate(r),e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),t}function endOfHour(r){requiredArgs(1,arguments);var t=toDate(r);return t.setMinutes(59,59,999),t}function endOfWeek(r,t){requiredArgs(1,arguments);var e=t||{},o=e.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=e.weekStartsOn==null?h:toInteger(e.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=toDate(r),D=O.getDay(),R=(D<y?-7:0)+6-(D-y);return O.setDate(O.getDate()+R),O.setHours(23,59,59,999),O}function endOfMinute(r){requiredArgs(1,arguments);var t=toDate(r);return t.setSeconds(59,999),t}function endOfQuarter(r){requiredArgs(1,arguments);var t=toDate(r),e=t.getMonth(),o=e-e%3+3;return t.setMonth(o,0),t.setHours(23,59,59,999),t}function endOfSecond(r){requiredArgs(1,arguments);var t=toDate(r);return t.setMilliseconds(999),t}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(r,t,e){var o,l=formatDistanceLocale[r];return typeof l=="string"?o=l:t===1?o=l.one:o=l.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+o:o+" ago":o},formatDistance$1=formatDistance,dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(r,t,e,o){return formatRelativeLocale[r]},formatRelative$1=formatRelative,eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(r,t){var e=Number(r),o=e%100;if(o>20||o<10)switch(o%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize,matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(r){return parseInt(r,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;function subMilliseconds(r,t){requiredArgs(2,arguments);var e=toInteger(t);return addMilliseconds(r,-e)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(r){requiredArgs(1,arguments);var t=toDate(r),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var o=t.getTime(),l=e-o;return Math.floor(l/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(r){requiredArgs(1,arguments);var t=1,e=toDate(r),o=e.getUTCDay(),l=(o<t?7:0)+o-t;return e.setUTCDate(e.getUTCDate()-l),e.setUTCHours(0,0,0,0),e}function getUTCISOWeekYear(r){requiredArgs(1,arguments);var t=toDate(r),e=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(e+1,0,4),o.setUTCHours(0,0,0,0);var l=startOfUTCISOWeek(o),h=new Date(0);h.setUTCFullYear(e,0,4),h.setUTCHours(0,0,0,0);var y=startOfUTCISOWeek(h);return t.getTime()>=l.getTime()?e+1:t.getTime()>=y.getTime()?e:e-1}function startOfUTCISOWeekYear(r){requiredArgs(1,arguments);var t=getUTCISOWeekYear(r),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var o=startOfUTCISOWeek(e);return o}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(r){requiredArgs(1,arguments);var t=toDate(r),e=startOfUTCISOWeek(t).getTime()-startOfUTCISOWeekYear(t).getTime();return Math.round(e/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(r,t){requiredArgs(1,arguments);var e=t||{},o=e.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=e.weekStartsOn==null?h:toInteger(e.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=toDate(r),D=O.getUTCDay(),R=(D<y?7:0)+D-y;return O.setUTCDate(O.getUTCDate()-R),O.setUTCHours(0,0,0,0),O}function getUTCWeekYear(r,t){requiredArgs(1,arguments);var e=toDate(r),o=e.getUTCFullYear(),l=t||{},h=l.locale,y=h&&h.options&&h.options.firstWeekContainsDate,O=y==null?1:toInteger(y),D=l.firstWeekContainsDate==null?O:toInteger(l.firstWeekContainsDate);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=new Date(0);R.setUTCFullYear(o+1,0,D),R.setUTCHours(0,0,0,0);var F=startOfUTCWeek(R,t),j=new Date(0);j.setUTCFullYear(o,0,D),j.setUTCHours(0,0,0,0);var B=startOfUTCWeek(j,t);return e.getTime()>=F.getTime()?o+1:e.getTime()>=B.getTime()?o:o-1}function startOfUTCWeekYear(r,t){requiredArgs(1,arguments);var e=t||{},o=e.locale,l=o&&o.options&&o.options.firstWeekContainsDate,h=l==null?1:toInteger(l),y=e.firstWeekContainsDate==null?h:toInteger(e.firstWeekContainsDate),O=getUTCWeekYear(r,t),D=new Date(0);D.setUTCFullYear(O,0,y),D.setUTCHours(0,0,0,0);var R=startOfUTCWeek(D,t);return R}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(r,t){requiredArgs(1,arguments);var e=toDate(r),o=startOfUTCWeek(e,t).getTime()-startOfUTCWeekYear(e,t).getTime();return Math.round(o/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(r,t){for(var e=r<0?"-":"",o=Math.abs(r).toString();o.length<t;)o="0"+o;return e+o}var formatters$2={y:function(r,t){var e=r.getUTCFullYear(),o=e>0?e:1-e;return addLeadingZeros(t==="yy"?o%100:o,t.length)},M:function(r,t){var e=r.getUTCMonth();return t==="M"?String(e+1):addLeadingZeros(e+1,2)},d:function(r,t){return addLeadingZeros(r.getUTCDate(),t.length)},a:function(r,t){var e=r.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h:function(r,t){return addLeadingZeros(r.getUTCHours()%12||12,t.length)},H:function(r,t){return addLeadingZeros(r.getUTCHours(),t.length)},m:function(r,t){return addLeadingZeros(r.getUTCMinutes(),t.length)},s:function(r,t){return addLeadingZeros(r.getUTCSeconds(),t.length)},S:function(r,t){var e=t.length,o=r.getUTCMilliseconds(),l=Math.floor(o*Math.pow(10,e-3));return addLeadingZeros(l,t.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(r,t,e){var o=r.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(o,{width:"abbreviated"});case"GGGGG":return e.era(o,{width:"narrow"});case"GGGG":default:return e.era(o,{width:"wide"})}},y:function(r,t,e){if(t==="yo"){var o=r.getUTCFullYear(),l=o>0?o:1-o;return e.ordinalNumber(l,{unit:"year"})}return formatters$3.y(r,t)},Y:function(r,t,e,o){var l=getUTCWeekYear(r,o),h=l>0?l:1-l;if(t==="YY"){var y=h%100;return addLeadingZeros(y,2)}return t==="Yo"?e.ordinalNumber(h,{unit:"year"}):addLeadingZeros(h,t.length)},R:function(r,t){var e=getUTCISOWeekYear(r);return addLeadingZeros(e,t.length)},u:function(r,t){var e=r.getUTCFullYear();return addLeadingZeros(e,t.length)},Q:function(r,t,e){var o=Math.ceil((r.getUTCMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return addLeadingZeros(o,2);case"Qo":return e.ordinalNumber(o,{unit:"quarter"});case"QQQ":return e.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(o,{width:"wide",context:"formatting"})}},q:function(r,t,e){var o=Math.ceil((r.getUTCMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return addLeadingZeros(o,2);case"qo":return e.ordinalNumber(o,{unit:"quarter"});case"qqq":return e.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(o,{width:"wide",context:"standalone"})}},M:function(r,t,e){var o=r.getUTCMonth();switch(t){case"M":case"MM":return formatters$3.M(r,t);case"Mo":return e.ordinalNumber(o+1,{unit:"month"});case"MMM":return e.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(o,{width:"wide",context:"formatting"})}},L:function(r,t,e){var o=r.getUTCMonth();switch(t){case"L":return String(o+1);case"LL":return addLeadingZeros(o+1,2);case"Lo":return e.ordinalNumber(o+1,{unit:"month"});case"LLL":return e.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(o,{width:"wide",context:"standalone"})}},w:function(r,t,e,o){var l=getUTCWeek(r,o);return t==="wo"?e.ordinalNumber(l,{unit:"week"}):addLeadingZeros(l,t.length)},I:function(r,t,e){var o=getUTCISOWeek(r);return t==="Io"?e.ordinalNumber(o,{unit:"week"}):addLeadingZeros(o,t.length)},d:function(r,t,e){return t==="do"?e.ordinalNumber(r.getUTCDate(),{unit:"date"}):formatters$3.d(r,t)},D:function(r,t,e){var o=getUTCDayOfYear(r);return t==="Do"?e.ordinalNumber(o,{unit:"dayOfYear"}):addLeadingZeros(o,t.length)},E:function(r,t,e){var o=r.getUTCDay();switch(t){case"E":case"EE":case"EEE":return e.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(o,{width:"short",context:"formatting"});case"EEEE":default:return e.day(o,{width:"wide",context:"formatting"})}},e:function(r,t,e,o){var l=r.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(h);case"ee":return addLeadingZeros(h,2);case"eo":return e.ordinalNumber(h,{unit:"day"});case"eee":return e.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(l,{width:"short",context:"formatting"});case"eeee":default:return e.day(l,{width:"wide",context:"formatting"})}},c:function(r,t,e,o){var l=r.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(h);case"cc":return addLeadingZeros(h,t.length);case"co":return e.ordinalNumber(h,{unit:"day"});case"ccc":return e.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(l,{width:"narrow",context:"standalone"});case"cccccc":return e.day(l,{width:"short",context:"standalone"});case"cccc":default:return e.day(l,{width:"wide",context:"standalone"})}},i:function(r,t,e){var o=r.getUTCDay(),l=o===0?7:o;switch(t){case"i":return String(l);case"ii":return addLeadingZeros(l,t.length);case"io":return e.ordinalNumber(l,{unit:"day"});case"iii":return e.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(o,{width:"short",context:"formatting"});case"iiii":default:return e.day(o,{width:"wide",context:"formatting"})}},a:function(r,t,e){var o=r.getUTCHours(),l=o/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(r,t,e){var o=r.getUTCHours(),l;switch(o===12?l=dayPeriodEnum.noon:o===0?l=dayPeriodEnum.midnight:l=o/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(r,t,e){var o=r.getUTCHours(),l;switch(o>=17?l=dayPeriodEnum.evening:o>=12?l=dayPeriodEnum.afternoon:o>=4?l=dayPeriodEnum.morning:l=dayPeriodEnum.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(r,t,e){if(t==="ho"){var o=r.getUTCHours()%12;return o===0&&(o=12),e.ordinalNumber(o,{unit:"hour"})}return formatters$3.h(r,t)},H:function(r,t,e){return t==="Ho"?e.ordinalNumber(r.getUTCHours(),{unit:"hour"}):formatters$3.H(r,t)},K:function(r,t,e){var o=r.getUTCHours()%12;return t==="Ko"?e.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,t.length)},k:function(r,t,e){var o=r.getUTCHours();return o===0&&(o=24),t==="ko"?e.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,t.length)},m:function(r,t,e){return t==="mo"?e.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):formatters$3.m(r,t)},s:function(r,t,e){return t==="so"?e.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):formatters$3.s(r,t)},S:function(r,t){return formatters$3.S(r,t)},X:function(r,t,e,o){var l=o._originalDate||r,h=l.getTimezoneOffset();if(h===0)return"Z";switch(t){case"X":return formatTimezoneWithOptionalMinutes(h);case"XXXX":case"XX":return formatTimezone(h);case"XXXXX":case"XXX":default:return formatTimezone(h,":")}},x:function(r,t,e,o){var l=o._originalDate||r,h=l.getTimezoneOffset();switch(t){case"x":return formatTimezoneWithOptionalMinutes(h);case"xxxx":case"xx":return formatTimezone(h);case"xxxxx":case"xxx":default:return formatTimezone(h,":")}},O:function(r,t,e,o){var l=o._originalDate||r,h=l.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(h,":");case"OOOO":default:return"GMT"+formatTimezone(h,":")}},z:function(r,t,e,o){var l=o._originalDate||r,h=l.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(h,":");case"zzzz":default:return"GMT"+formatTimezone(h,":")}},t:function(r,t,e,o){var l=o._originalDate||r,h=Math.floor(l.getTime()/1e3);return addLeadingZeros(h,t.length)},T:function(r,t,e,o){var l=o._originalDate||r,h=l.getTime();return addLeadingZeros(h,t.length)}};function formatTimezoneShort(r,t){var e=r>0?"-":"+",o=Math.abs(r),l=Math.floor(o/60),h=o%60;if(h===0)return e+String(l);var y=t||"";return e+String(l)+y+addLeadingZeros(h,2)}function formatTimezoneWithOptionalMinutes(r,t){if(r%60===0){var e=r>0?"-":"+";return e+addLeadingZeros(Math.abs(r)/60,2)}return formatTimezone(r,t)}function formatTimezone(r,t){var e=t||"",o=r>0?"-":"+",l=Math.abs(r),h=addLeadingZeros(Math.floor(l/60),2),y=addLeadingZeros(l%60,2);return o+h+e+y}var formatters$1=formatters;function dateLongFormatter(r,t){switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function timeLongFormatter(r,t){switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function dateTimeLongFormatter(r,t){var e=r.match(/(P+)(p+)?/)||[],o=e[1],l=e[2];if(!l)return dateLongFormatter(r,t);var h;switch(o){case"P":h=t.dateTime({width:"short"});break;case"PP":h=t.dateTime({width:"medium"});break;case"PPP":h=t.dateTime({width:"long"});break;case"PPPP":default:h=t.dateTime({width:"full"});break}return h.replace("{{date}}",dateLongFormatter(o,t)).replace("{{time}}",timeLongFormatter(l,t))}var longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(r){return protectedDayOfYearTokens.indexOf(r)!==-1}function isProtectedWeekYearToken(r){return protectedWeekYearTokens.indexOf(r)!==-1}function throwProtectedError(r,t,e){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://git.io/fxCyr"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://git.io/fxCyr"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://git.io/fxCyr"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://git.io/fxCyr"))}var formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(r,t,e){requiredArgs(2,arguments);var o=String(t),l=e||{},h=l.locale||defaultLocale,y=h.options&&h.options.firstWeekContainsDate,O=y==null?1:toInteger(y),D=l.firstWeekContainsDate==null?O:toInteger(l.firstWeekContainsDate);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=h.options&&h.options.weekStartsOn,F=R==null?0:toInteger(R),j=l.weekStartsOn==null?F:toInteger(l.weekStartsOn);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!h.localize)throw new RangeError("locale must contain localize property");if(!h.formatLong)throw new RangeError("locale must contain formatLong property");var B=toDate(r);if(!isValid(B))throw new RangeError("Invalid time value");var U=getTimezoneOffsetInMilliseconds(B),W=subMilliseconds(B,U),q={firstWeekContainsDate:D,weekStartsOn:j,locale:h,_originalDate:B},K=o.match(longFormattingTokensRegExp$1).map(function(Y){var X=Y[0];if(X==="p"||X==="P"){var J=longFormatters$1[X];return J(Y,h.formatLong,q)}return Y}).join("").match(formattingTokensRegExp$1).map(function(Y){if(Y==="''")return"'";var X=Y[0];if(X==="'")return cleanEscapedString$1(Y);var J=formatters$1[X];if(J)return!l.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(Y)&&throwProtectedError(Y,t,r),!l.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(Y)&&throwProtectedError(Y,t,r),J(W,Y,h.localize,q);if(X.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return Y}).join("");return K}function cleanEscapedString$1(r){return r.match(escapedStringRegExp$1)[1].replace(doubleQuoteRegExp$1,"'")}function assign(r,t){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");t=t||{};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r}function setUTCDay(r,t,e){requiredArgs(2,arguments);var o=e||{},l=o.locale,h=l&&l.options&&l.options.weekStartsOn,y=h==null?0:toInteger(h),O=o.weekStartsOn==null?y:toInteger(o.weekStartsOn);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(r),R=toInteger(t),F=D.getUTCDay(),j=R%7,B=(j+7)%7,U=(B<O?7:0)+R-F;return D.setUTCDate(D.getUTCDate()+U),D}function setUTCISODay(r,t){requiredArgs(2,arguments);var e=toInteger(t);e%7===0&&(e=e-7);var o=1,l=toDate(r),h=l.getUTCDay(),y=e%7,O=(y+7)%7,D=(O<o?7:0)+e-h;return l.setUTCDate(l.getUTCDate()+D),l}function setUTCISOWeek(r,t){requiredArgs(2,arguments);var e=toDate(r),o=toInteger(t),l=getUTCISOWeek(e)-o;return e.setUTCDate(e.getUTCDate()-l*7),e}function setUTCWeek(r,t,e){requiredArgs(2,arguments);var o=toDate(r),l=toInteger(t),h=getUTCWeek(o,e)-l;return o.setUTCDate(o.getUTCDate()-h*7),o}var MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_SECOND=1e3,numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function parseNumericPattern(r,t,e){var o=t.match(r);if(!o)return null;var l=parseInt(o[0],10);return{value:e?e(l):l,rest:t.slice(o[0].length)}}function parseTimezonePattern(r,t){var e=t.match(r);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};var o=e[1]==="+"?1:-1,l=e[2]?parseInt(e[2],10):0,h=e[3]?parseInt(e[3],10):0,y=e[5]?parseInt(e[5],10):0;return{value:o*(l*MILLISECONDS_IN_HOUR+h*MILLISECONDS_IN_MINUTE+y*MILLISECONDS_IN_SECOND),rest:t.slice(e[0].length)}}function parseAnyDigitsSigned(r,t){return parseNumericPattern(numericPatterns.anyDigitsSigned,r,t)}function parseNDigits(r,t,e){switch(r){case 1:return parseNumericPattern(numericPatterns.singleDigit,t,e);case 2:return parseNumericPattern(numericPatterns.twoDigits,t,e);case 3:return parseNumericPattern(numericPatterns.threeDigits,t,e);case 4:return parseNumericPattern(numericPatterns.fourDigits,t,e);default:return parseNumericPattern(new RegExp("^\\d{1,"+r+"}"),t,e)}}function parseNDigitsSigned(r,t,e){switch(r){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,t,e);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,t,e);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,t,e);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,t,e);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+r+"}"),t,e)}}function dayPeriodEnumToHours(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(r,t){var e=t>0,o=e?t:1-t,l;if(o<=50)l=r||100;else{var h=o+50,y=Math.floor(h/100)*100,O=r>=h%100;l=r+y-(O?100:0)}return e?l:1-l}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex$1(r){return r%400===0||r%4===0&&r%100!==0}var parsers={G:{priority:140,parse:function(r,t,e,o){switch(t){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"})||e.era(r,{width:"narrow"});case"GGGGG":return e.era(r,{width:"narrow"});case"GGGG":default:return e.era(r,{width:"wide"})||e.era(r,{width:"abbreviated"})||e.era(r,{width:"narrow"})}},set:function(r,t,e,o){return t.era=e,r.setUTCFullYear(e,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(r,t,e,o){var l=function(h){return{year:h,isTwoDigitYear:t==="yy"}};switch(t){case"y":return parseNDigits(4,r,l);case"yo":return e.ordinalNumber(r,{unit:"year",valueCallback:l});default:return parseNDigits(t.length,r,l)}},validate:function(r,t,e){return t.isTwoDigitYear||t.year>0},set:function(r,t,e,o){var l=r.getUTCFullYear();if(e.isTwoDigitYear){var h=normalizeTwoDigitYear(e.year,l);return r.setUTCFullYear(h,0,1),r.setUTCHours(0,0,0,0),r}var y=!("era"in t)||t.era===1?e.year:1-e.year;return r.setUTCFullYear(y,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(r,t,e,o){var l=function(h){return{year:h,isTwoDigitYear:t==="YY"}};switch(t){case"Y":return parseNDigits(4,r,l);case"Yo":return e.ordinalNumber(r,{unit:"year",valueCallback:l});default:return parseNDigits(t.length,r,l)}},validate:function(r,t,e){return t.isTwoDigitYear||t.year>0},set:function(r,t,e,o){var l=getUTCWeekYear(r,o);if(e.isTwoDigitYear){var h=normalizeTwoDigitYear(e.year,l);return r.setUTCFullYear(h,0,o.firstWeekContainsDate),r.setUTCHours(0,0,0,0),startOfUTCWeek(r,o)}var y=!("era"in t)||t.era===1?e.year:1-e.year;return r.setUTCFullYear(y,0,o.firstWeekContainsDate),r.setUTCHours(0,0,0,0),startOfUTCWeek(r,o)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(r,t,e,o){return parseNDigitsSigned(t==="R"?4:t.length,r)},set:function(r,t,e,o){var l=new Date(0);return l.setUTCFullYear(e,0,4),l.setUTCHours(0,0,0,0),startOfUTCISOWeek(l)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(r,t,e,o){return parseNDigitsSigned(t==="u"?4:t.length,r)},set:function(r,t,e,o){return r.setUTCFullYear(e,0,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(r,t,e,o){switch(t){case"Q":case"QQ":return parseNDigits(t.length,r);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"})||e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(r,{width:"wide",context:"formatting"})||e.quarter(r,{width:"abbreviated",context:"formatting"})||e.quarter(r,{width:"narrow",context:"formatting"})}},validate:function(r,t,e){return t>=1&&t<=4},set:function(r,t,e,o){return r.setUTCMonth((e-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(r,t,e,o){switch(t){case"q":case"qq":return parseNDigits(t.length,r);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"})||e.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(r,{width:"wide",context:"standalone"})||e.quarter(r,{width:"abbreviated",context:"standalone"})||e.quarter(r,{width:"narrow",context:"standalone"})}},validate:function(r,t,e){return t>=1&&t<=4},set:function(r,t,e,o){return r.setUTCMonth((e-1)*3,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(r,t,e,o){var l=function(h){return h-1};switch(t){case"M":return parseNumericPattern(numericPatterns.month,r,l);case"MM":return parseNDigits(2,r,l);case"Mo":return e.ordinalNumber(r,{unit:"month",valueCallback:l});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"})||e.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(r,{width:"wide",context:"formatting"})||e.month(r,{width:"abbreviated",context:"formatting"})||e.month(r,{width:"narrow",context:"formatting"})}},validate:function(r,t,e){return t>=0&&t<=11},set:function(r,t,e,o){return r.setUTCMonth(e,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(r,t,e,o){var l=function(h){return h-1};switch(t){case"L":return parseNumericPattern(numericPatterns.month,r,l);case"LL":return parseNDigits(2,r,l);case"Lo":return e.ordinalNumber(r,{unit:"month",valueCallback:l});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"})||e.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(r,{width:"wide",context:"standalone"})||e.month(r,{width:"abbreviated",context:"standalone"})||e.month(r,{width:"narrow",context:"standalone"})}},validate:function(r,t,e){return t>=0&&t<=11},set:function(r,t,e,o){return r.setUTCMonth(e,1),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(r,t,e,o){switch(t){case"w":return parseNumericPattern(numericPatterns.week,r);case"wo":return e.ordinalNumber(r,{unit:"week"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){return t>=1&&t<=53},set:function(r,t,e,o){return startOfUTCWeek(setUTCWeek(r,e,o),o)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(r,t,e,o){switch(t){case"I":return parseNumericPattern(numericPatterns.week,r);case"Io":return e.ordinalNumber(r,{unit:"week"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){return t>=1&&t<=53},set:function(r,t,e,o){return startOfUTCISOWeek(setUTCISOWeek(r,e,o),o)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(r,t,e,o){switch(t){case"d":return parseNumericPattern(numericPatterns.date,r);case"do":return e.ordinalNumber(r,{unit:"date"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){var o=r.getUTCFullYear(),l=isLeapYearIndex$1(o),h=r.getUTCMonth();return l?t>=1&&t<=DAYS_IN_MONTH_LEAP_YEAR[h]:t>=1&&t<=DAYS_IN_MONTH[h]},set:function(r,t,e,o){return r.setUTCDate(e),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(r,t,e,o){switch(t){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,r);case"Do":return e.ordinalNumber(r,{unit:"date"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){var o=r.getUTCFullYear(),l=isLeapYearIndex$1(o);return l?t>=1&&t<=366:t>=1&&t<=365},set:function(r,t,e,o){return r.setUTCMonth(0,e),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(r,t,e,o){switch(t){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"})||e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return e.day(r,{width:"wide",context:"formatting"})||e.day(r,{width:"abbreviated",context:"formatting"})||e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,t,e){return t>=0&&t<=6},set:function(r,t,e,o){return r=setUTCDay(r,e,o),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(r,t,e,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(t){case"e":case"ee":return parseNDigits(t.length,r,l);case"eo":return e.ordinalNumber(r,{unit:"day",valueCallback:l});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"})||e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return e.day(r,{width:"wide",context:"formatting"})||e.day(r,{width:"abbreviated",context:"formatting"})||e.day(r,{width:"short",context:"formatting"})||e.day(r,{width:"narrow",context:"formatting"})}},validate:function(r,t,e){return t>=0&&t<=6},set:function(r,t,e,o){return r=setUTCDay(r,e,o),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(r,t,e,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(t){case"c":case"cc":return parseNDigits(t.length,r,l);case"co":return e.ordinalNumber(r,{unit:"day",valueCallback:l});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"})||e.day(r,{width:"short",context:"standalone"})||e.day(r,{width:"narrow",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"})||e.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return e.day(r,{width:"wide",context:"standalone"})||e.day(r,{width:"abbreviated",context:"standalone"})||e.day(r,{width:"short",context:"standalone"})||e.day(r,{width:"narrow",context:"standalone"})}},validate:function(r,t,e){return t>=0&&t<=6},set:function(r,t,e,o){return r=setUTCDay(r,e,o),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(r,t,e,o){var l=function(h){return h===0?7:h};switch(t){case"i":case"ii":return parseNDigits(t.length,r);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting",valueCallback:l})||e.day(r,{width:"short",context:"formatting",valueCallback:l})||e.day(r,{width:"narrow",context:"formatting",valueCallback:l});case"iiiii":return e.day(r,{width:"narrow",context:"formatting",valueCallback:l});case"iiiiii":return e.day(r,{width:"short",context:"formatting",valueCallback:l})||e.day(r,{width:"narrow",context:"formatting",valueCallback:l});case"iiii":default:return e.day(r,{width:"wide",context:"formatting",valueCallback:l})||e.day(r,{width:"abbreviated",context:"formatting",valueCallback:l})||e.day(r,{width:"short",context:"formatting",valueCallback:l})||e.day(r,{width:"narrow",context:"formatting",valueCallback:l})}},validate:function(r,t,e){return t>=1&&t<=7},set:function(r,t,e,o){return r=setUTCISODay(r,e,o),r.setUTCHours(0,0,0,0),r},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(r,t,e,o){switch(t){case"a":case"aa":case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})||e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,t,e,o){return r.setUTCHours(dayPeriodEnumToHours(e),0,0,0),r},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(r,t,e,o){switch(t){case"b":case"bb":case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})||e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,t,e,o){return r.setUTCHours(dayPeriodEnumToHours(e),0,0,0),r},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(r,t,e,o){switch(t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})||e.dayPeriod(r,{width:"abbreviated",context:"formatting"})||e.dayPeriod(r,{width:"narrow",context:"formatting"})}},set:function(r,t,e,o){return r.setUTCHours(dayPeriodEnumToHours(e),0,0,0),r},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(r,t,e,o){switch(t){case"h":return parseNumericPattern(numericPatterns.hour12h,r);case"ho":return e.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){return t>=1&&t<=12},set:function(r,t,e,o){var l=r.getUTCHours()>=12;return l&&e<12?r.setUTCHours(e+12,0,0,0):!l&&e===12?r.setUTCHours(0,0,0,0):r.setUTCHours(e,0,0,0),r},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(r,t,e,o){switch(t){case"H":return parseNumericPattern(numericPatterns.hour23h,r);case"Ho":return e.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){return t>=0&&t<=23},set:function(r,t,e,o){return r.setUTCHours(e,0,0,0),r},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(r,t,e,o){switch(t){case"K":return parseNumericPattern(numericPatterns.hour11h,r);case"Ko":return e.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){return t>=0&&t<=11},set:function(r,t,e,o){var l=r.getUTCHours()>=12;return l&&e<12?r.setUTCHours(e+12,0,0,0):r.setUTCHours(e,0,0,0),r},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(r,t,e,o){switch(t){case"k":return parseNumericPattern(numericPatterns.hour24h,r);case"ko":return e.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){return t>=1&&t<=24},set:function(r,t,e,o){var l=e<=24?e%24:e;return r.setUTCHours(l,0,0,0),r},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(r,t,e,o){switch(t){case"m":return parseNumericPattern(numericPatterns.minute,r);case"mo":return e.ordinalNumber(r,{unit:"minute"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){return t>=0&&t<=59},set:function(r,t,e,o){return r.setUTCMinutes(e,0,0),r},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(r,t,e,o){switch(t){case"s":return parseNumericPattern(numericPatterns.second,r);case"so":return e.ordinalNumber(r,{unit:"second"});default:return parseNDigits(t.length,r)}},validate:function(r,t,e){return t>=0&&t<=59},set:function(r,t,e,o){return r.setUTCSeconds(e,0),r},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(r,t,e,o){var l=function(h){return Math.floor(h*Math.pow(10,-t.length+3))};return parseNDigits(t.length,r,l)},set:function(r,t,e,o){return r.setUTCMilliseconds(e),r},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(r,t,e,o){switch(t){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,r);case"XX":return parseTimezonePattern(timezonePatterns.basic,r);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,r);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,r);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,r)}},set:function(r,t,e,o){return t.timestampIsSet?r:new Date(r.getTime()-e)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(r,t,e,o){switch(t){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,r);case"xx":return parseTimezonePattern(timezonePatterns.basic,r);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,r);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,r);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,r)}},set:function(r,t,e,o){return t.timestampIsSet?r:new Date(r.getTime()-e)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(r,t,e,o){return parseAnyDigitsSigned(r)},set:function(r,t,e,o){return[new Date(e*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(r,t,e,o){return parseAnyDigitsSigned(r)},set:function(r,t,e,o){return[new Date(e),{timestampIsSet:!0}]},incompatibleTokens:"*"}},parsers$1=parsers,TIMEZONE_UNIT_PRIORITY=10,formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(r,t,e,o){requiredArgs(3,arguments);var l=String(r),h=String(t),y=o||{},O=y.locale||defaultLocale;if(!O.match)throw new RangeError("locale must contain match property");var D=O.options&&O.options.firstWeekContainsDate,R=D==null?1:toInteger(D),F=y.firstWeekContainsDate==null?R:toInteger(y.firstWeekContainsDate);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=O.options&&O.options.weekStartsOn,B=j==null?0:toInteger(j),U=y.weekStartsOn==null?B:toInteger(y.weekStartsOn);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(h==="")return l===""?toDate(e):new Date(NaN);var W={firstWeekContainsDate:F,weekStartsOn:U,locale:O},q=[{priority:TIMEZONE_UNIT_PRIORITY,subPriority:-1,set:dateToSystemTimezone,index:0}],K,Y=h.match(longFormattingTokensRegExp).map(function(he){var se=he[0];if(se==="p"||se==="P"){var le=longFormatters$1[se];return le(he,O.formatLong,W)}return he}).join("").match(formattingTokensRegExp),X=[];for(K=0;K<Y.length;K++){var J=Y[K];!y.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(J)&&throwProtectedError(J,h,r),!y.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(J)&&throwProtectedError(J,h,r);var Q=J[0],Z=parsers$1[Q];if(Z){var ee=Z.incompatibleTokens;if(Array.isArray(ee)){for(var re=void 0,te=0;te<X.length;te++){var ne=X[te].token;if(ee.indexOf(ne)!==-1||ne===Q){re=X[te];break}}if(re)throw new RangeError("The format string mustn't contain `".concat(re.fullToken,"` and `").concat(J,"` at the same time"))}else if(Z.incompatibleTokens==="*"&&X.length)throw new RangeError("The format string mustn't contain `".concat(J,"` and any other token at the same time"));X.push({token:Q,fullToken:J});var ae=Z.parse(l,J,O.match,W);if(!ae)return new Date(NaN);q.push({priority:Z.priority,subPriority:Z.subPriority||0,set:Z.set,validate:Z.validate,value:ae.value,index:q.length}),l=ae.rest}else{if(Q.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");if(J==="''"?J="'":Q==="'"&&(J=cleanEscapedString(J)),l.indexOf(J)===0)l=l.slice(J.length);else return new Date(NaN)}}if(l.length>0&&notWhitespaceRegExp.test(l))return new Date(NaN);var ie=q.map(function(he){return he.priority}).sort(function(he,se){return se-he}).filter(function(he,se,le){return le.indexOf(he)===se}).map(function(he){return q.filter(function(se){return se.priority===he}).sort(function(se,le){return le.subPriority-se.subPriority})}).map(function(he){return he[0]}),oe=toDate(e);if(isNaN(oe))return new Date(NaN);var ce=subMilliseconds(oe,getTimezoneOffsetInMilliseconds(oe)),ue={};for(K=0;K<ie.length;K++){var pe=ie[K];if(pe.validate&&!pe.validate(ce,pe.value,W))return new Date(NaN);var me=pe.set(ce,ue,pe.value,W);me[0]?(ce=me[0],assign(ue,me[1])):ce=me}return ce}function dateToSystemTimezone(r,t){if(t.timestampIsSet)return r;var e=new Date(0);return e.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),e.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),e}function cleanEscapedString(r){return r.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function startOfHour(r){requiredArgs(1,arguments);var t=toDate(r);return t.setMinutes(0,0,0),t}function startOfSecond(r){requiredArgs(1,arguments);var t=toDate(r);return t.setMilliseconds(0),t}function parseISO(r,t){requiredArgs(1,arguments);var e=t||{},o=e.additionalDigits==null?2:toInteger(e.additionalDigits);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var l=splitDateString(r),h;if(l.date){var y=parseYear(l.date,o);h=parseDate(y.restDateString,y.year)}if(!h||isNaN(h.getTime()))return new Date(NaN);var O=h.getTime(),D=0,R;if(l.time&&(D=parseTime(l.time),isNaN(D)))return new Date(NaN);if(l.timezone){if(R=parseTimezone(l.timezone),isNaN(R))return new Date(NaN)}else{var F=new Date(O+D),j=new Date(0);return j.setFullYear(F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate()),j.setHours(F.getUTCHours(),F.getUTCMinutes(),F.getUTCSeconds(),F.getUTCMilliseconds()),j}return new Date(O+D+R)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(r){var t={},e=r.split(patterns.dateTimeDelimiter),o;if(e.length>2)return t;if(/:/.test(e[0])?o=e[0]:(t.date=e[0],o=e[1],patterns.timeZoneDelimiter.test(t.date)&&(t.date=r.split(patterns.timeZoneDelimiter)[0],o=r.substr(t.date.length,r.length))),o){var l=patterns.timezone.exec(o);l?(t.time=o.replace(l[1],""),t.timezone=l[1]):t.time=o}return t}function parseYear(r,t){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=r.match(e);if(!o)return{year:NaN,restDateString:""};var l=o[1]?parseInt(o[1]):null,h=o[2]?parseInt(o[2]):null;return{year:h===null?l:h*100,restDateString:r.slice((o[1]||o[2]).length)}}function parseDate(r,t){if(t===null)return new Date(NaN);var e=r.match(dateRegex);if(!e)return new Date(NaN);var o=!!e[4],l=parseDateUnit(e[1]),h=parseDateUnit(e[2])-1,y=parseDateUnit(e[3]),O=parseDateUnit(e[4]),D=parseDateUnit(e[5])-1;if(o)return validateWeekDate(t,O,D)?dayOfISOWeekYear(t,O,D):new Date(NaN);var R=new Date(0);return!validateDate(t,h,y)||!validateDayOfYearDate(t,l)?new Date(NaN):(R.setUTCFullYear(t,h,Math.max(l,y)),R)}function parseDateUnit(r){return r?parseInt(r):1}function parseTime(r){var t=r.match(timeRegex);if(!t)return NaN;var e=parseTimeUnit(t[1]),o=parseTimeUnit(t[2]),l=parseTimeUnit(t[3]);return validateTime(e,o,l)?e*millisecondsInHour+o*millisecondsInMinute+l*1e3:NaN}function parseTimeUnit(r){return r&&parseFloat(r.replace(",","."))||0}function parseTimezone(r){if(r==="Z")return 0;var t=r.match(timezoneRegex);if(!t)return 0;var e=t[1]==="+"?-1:1,o=parseInt(t[2]),l=t[3]&&parseInt(t[3])||0;return validateTimezone(o,l)?e*(o*millisecondsInHour+l*millisecondsInMinute):NaN}function dayOfISOWeekYear(r,t,e){var o=new Date(0);o.setUTCFullYear(r,0,4);var l=o.getUTCDay()||7,h=(t-1)*7+e+1-l;return o.setUTCDate(o.getUTCDate()+h),o}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(r){return r%400===0||r%4===0&&r%100!==0}function validateDate(r,t,e){return t>=0&&t<=11&&e>=1&&e<=(daysInMonths[t]||(isLeapYearIndex(r)?29:28))}function validateDayOfYearDate(r,t){return t>=1&&t<=(isLeapYearIndex(r)?366:365)}function validateWeekDate(r,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function validateTime(r,t,e){return r===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&r>=0&&r<25}function validateTimezone(r,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v1.1.0-beta.1
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const FORMATS={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};adapters._date.override({_id:"date-fns",formats:function(){return FORMATS},parse:function(r,t){if(r===null||typeof r=="undefined")return null;const e=typeof r;return e==="number"||r instanceof Date?r=toDate(r):e==="string"&&(typeof t=="string"?r=parse(r,t,new Date,this.options):r=parseISO(r,this.options)),isValid(r)?r.getTime():null},format:function(r,t){return format(r,t,this.options)},add:function(r,t,e){switch(e){case"millisecond":return addMilliseconds(r,t);case"second":return addSeconds(r,t);case"minute":return addMinutes(r,t);case"hour":return addHours(r,t);case"day":return addDays(r,t);case"week":return addWeeks(r,t);case"month":return addMonths(r,t);case"quarter":return addQuarters(r,t);case"year":return addYears(r,t);default:return r}},diff:function(r,t,e){switch(e){case"millisecond":return differenceInMilliseconds(r,t);case"second":return differenceInSeconds(r,t);case"minute":return differenceInMinutes(r,t);case"hour":return differenceInHours(r,t);case"day":return differenceInDays(r,t);case"week":return differenceInWeeks(r,t);case"month":return differenceInMonths(r,t);case"quarter":return differenceInQuarters(r,t);case"year":return differenceInYears(r,t);default:return 0}},startOf:function(r,t,e){switch(t){case"second":return startOfSecond(r);case"minute":return startOfMinute(r);case"hour":return startOfHour(r);case"day":return startOfDay(r);case"week":return startOfWeek(r);case"isoWeek":return startOfWeek(r,{weekStartsOn:+e});case"month":return startOfMonth(r);case"quarter":return startOfQuarter(r);case"year":return startOfYear(r);default:return r}},endOf:function(r,t){switch(t){case"second":return endOfSecond(r);case"minute":return endOfMinute(r);case"hour":return endOfHour(r);case"day":return endOfDay(r);case"week":return endOfWeek(r);case"month":return endOfMonth(r);case"quarter":return endOfQuarter(r);case"year":return endOfYear(r);default:return r}}});/*!
 * chartjs-plugin-deferred v2.0.0
 * https://chartjs-plugin-deferred.netlify.app
 * (c) 2016-2022 chartjs-plugin-deferred contributors
 * Released under the MIT license
 */var STUB_KEY="$chartjs_deferred",MODEL_KEY="$deferred";function defer(r,t){t?window.setTimeout(r,t):requestAnimFrame.call(window,r)}function computeOffset(r,t){var e=parseInt(r,10);return isNaN(e)?0:typeof r=="string"&&r.indexOf("%")!==-1?e/100*t:e}function chartInViewport(r){var t=r[MODEL_KEY].options,e=r.canvas;if(!e||e.offsetParent===null)return!1;var o=e.getBoundingClientRect(),l=computeOffset(t.yOffset||0,o.height),h=computeOffset(t.xOffset||0,o.width);return o.right-h>=0&&o.bottom-l>=0&&o.left+h<=window.innerWidth&&o.top+l<=window.innerHeight}function onScroll(r){var t=r.target,e=t[STUB_KEY];e.ticking||(e.ticking=!0,defer(function(){var o=e.charts.slice(),l=o.length,h,y;for(y=0;y<l;++y)h=o[y],chartInViewport(h)&&(unwatch(h),h[MODEL_KEY].appeared=!0,h.update());e.ticking=!1}))}function isScrollable(r){var t=r.nodeType;if(t===Node.ELEMENT_NODE){var e=getStyle(r,"overflow-x"),o=getStyle(r,"overflow-y");return e==="auto"||e==="scroll"||o==="auto"||o==="scroll"}return r.nodeType===Node.DOCUMENT_NODE}function watch(r){for(var t=r.canvas,e=t.parentElement,o,l;e;)isScrollable(e)&&(o=e[STUB_KEY]||(e[STUB_KEY]={}),l=o.charts||(o.charts=[]),l.length===0&&e.addEventListener("scroll",onScroll),l.push(r),r[MODEL_KEY].elements.push(e)),e=e.parentElement||e.ownerDocument}function unwatch(r){r[MODEL_KEY].elements.forEach(function(t){var e=t[STUB_KEY].charts;e.splice(e.indexOf(r),1),e.length||(t.removeEventListener("scroll",onScroll),delete t[STUB_KEY])}),r[MODEL_KEY].elements=[]}var plugin={id:"deferred",defaults:{xOffset:0,yOffset:0,delay:0},beforeInit:function(r,t,e){r[MODEL_KEY]={options:e,appeared:!1,delayed:!1,loaded:!1,elements:[]},watch(r)},beforeDatasetsUpdate:function(r,t,e){var o=r[MODEL_KEY];if(!o.loaded){if(!o.appeared&&!chartInViewport(r))return!1;if(o.appeared=!0,o.loaded=!0,unwatch(r),e.delay>0)return o.delayed=!0,defer(function(){r.ctx&&(o.delayed=!1,r.update())},e.delay),!1}if(o.delayed)return!1},destroy:function(r){unwatch(r)}},aos$1={exports:{}};(function(r,t){(function(e,o){r.exports=o()})(commonjsGlobal$2,function(){return function(e){function o(h){if(l[h])return l[h].exports;var y=l[h]={exports:{},id:h,loaded:!1};return e[h].call(y.exports,y,y.exports,o),y.loaded=!0,y.exports}var l={};return o.m=e,o.c=l,o.p="dist/",o(0)}([function(e,o,l){function h(ue){return ue&&ue.__esModule?ue:{default:ue}}var y=Object.assign||function(ue){for(var pe=1;pe<arguments.length;pe++){var me=arguments[pe];for(var he in me)Object.prototype.hasOwnProperty.call(me,he)&&(ue[he]=me[he])}return ue},O=l(1),D=(h(O),l(6)),R=h(D),F=l(7),j=h(F),B=l(8),U=h(B),W=l(9),q=h(W),K=l(10),Y=h(K),X=l(11),J=h(X),Q=l(14),Z=h(Q),ee=[],re=!1,te={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ne=function(){var ue=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ue&&(re=!0),re)return ee=(0,J.default)(ee,te),(0,Y.default)(ee,te.once),ee},ae=function(){ee=(0,Z.default)(),ne()},ie=function(){ee.forEach(function(ue,pe){ue.node.removeAttribute("data-aos"),ue.node.removeAttribute("data-aos-easing"),ue.node.removeAttribute("data-aos-duration"),ue.node.removeAttribute("data-aos-delay")})},oe=function(ue){return ue===!0||ue==="mobile"&&q.default.mobile()||ue==="phone"&&q.default.phone()||ue==="tablet"&&q.default.tablet()||typeof ue=="function"&&ue()===!0},ce=function(ue){te=y(te,ue),ee=(0,Z.default)();var pe=document.all&&!window.atob;return oe(te.disable)||pe?ie():(te.disableMutationObserver||U.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),te.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",te.easing),document.querySelector("body").setAttribute("data-aos-duration",te.duration),document.querySelector("body").setAttribute("data-aos-delay",te.delay),te.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?ne(!0):te.startEvent==="load"?window.addEventListener(te.startEvent,function(){ne(!0)}):document.addEventListener(te.startEvent,function(){ne(!0)}),window.addEventListener("resize",(0,j.default)(ne,te.debounceDelay,!0)),window.addEventListener("orientationchange",(0,j.default)(ne,te.debounceDelay,!0)),window.addEventListener("scroll",(0,R.default)(function(){(0,Y.default)(ee,te.once)},te.throttleDelay)),te.disableMutationObserver||U.default.ready("[data-aos]",ae),ee)};e.exports={init:ce,refresh:ne,refreshHard:ae}},function(e,o){},,,,,function(e,o){(function(l){function h(oe,ce,ue){function pe(Pe){var Me=$e,Ne=_e;return $e=_e=void 0,xe=Pe,Te=oe.apply(Ne,Me)}function me(Pe){return xe=Pe,be=setTimeout(le,ce),Ee?pe(Pe):Te}function he(Pe){var Me=Pe-Oe,Ne=Pe-xe,Be=ce-Me;return Ce?ae(Be,Se-Ne):Be}function se(Pe){var Me=Pe-Oe,Ne=Pe-xe;return Oe===void 0||Me>=ce||Me<0||Ce&&Ne>=Se}function le(){var Pe=ie();return se(Pe)?fe(Pe):void(be=setTimeout(le,he(Pe)))}function fe(Pe){return be=void 0,ve&&$e?pe(Pe):($e=_e=void 0,Te)}function ge(){be!==void 0&&clearTimeout(be),xe=0,$e=Oe=_e=be=void 0}function ye(){return be===void 0?Te:fe(ie())}function we(){var Pe=ie(),Me=se(Pe);if($e=arguments,_e=this,Oe=Pe,Me){if(be===void 0)return me(Oe);if(Ce)return be=setTimeout(le,ce),pe(Oe)}return be===void 0&&(be=setTimeout(le,ce)),Te}var $e,_e,Se,Te,be,Oe,xe=0,Ee=!1,Ce=!1,ve=!0;if(typeof oe!="function")throw new TypeError(B);return ce=F(ce)||0,O(ue)&&(Ee=!!ue.leading,Ce="maxWait"in ue,Se=Ce?ne(F(ue.maxWait)||0,ce):Se,ve="trailing"in ue?!!ue.trailing:ve),we.cancel=ge,we.flush=ye,we}function y(oe,ce,ue){var pe=!0,me=!0;if(typeof oe!="function")throw new TypeError(B);return O(ue)&&(pe="leading"in ue?!!ue.leading:pe,me="trailing"in ue?!!ue.trailing:me),h(oe,ce,{leading:pe,maxWait:ce,trailing:me})}function O(oe){var ce=typeof oe=="undefined"?"undefined":j(oe);return!!oe&&(ce=="object"||ce=="function")}function D(oe){return!!oe&&(typeof oe=="undefined"?"undefined":j(oe))=="object"}function R(oe){return(typeof oe=="undefined"?"undefined":j(oe))=="symbol"||D(oe)&&te.call(oe)==W}function F(oe){if(typeof oe=="number")return oe;if(R(oe))return U;if(O(oe)){var ce=typeof oe.valueOf=="function"?oe.valueOf():oe;oe=O(ce)?ce+"":ce}if(typeof oe!="string")return oe===0?oe:+oe;oe=oe.replace(q,"");var ue=Y.test(oe);return ue||X.test(oe)?J(oe.slice(2),ue?2:8):K.test(oe)?U:+oe}var j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},B="Expected a function",U=NaN,W="[object Symbol]",q=/^\s+|\s+$/g,K=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,X=/^0o[0-7]+$/i,J=parseInt,Q=(typeof l=="undefined"?"undefined":j(l))=="object"&&l&&l.Object===Object&&l,Z=(typeof self=="undefined"?"undefined":j(self))=="object"&&self&&self.Object===Object&&self,ee=Q||Z||Function("return this")(),re=Object.prototype,te=re.toString,ne=Math.max,ae=Math.min,ie=function(){return ee.Date.now()};e.exports=y}).call(o,function(){return this}())},function(e,o){(function(l){function h(ie,oe,ce){function ue(ve){var Pe=we,Me=$e;return we=$e=void 0,Oe=ve,Se=ie.apply(Me,Pe)}function pe(ve){return Oe=ve,Te=setTimeout(se,oe),xe?ue(ve):Se}function me(ve){var Pe=ve-be,Me=ve-Oe,Ne=oe-Pe;return Ee?ne(Ne,_e-Me):Ne}function he(ve){var Pe=ve-be,Me=ve-Oe;return be===void 0||Pe>=oe||Pe<0||Ee&&Me>=_e}function se(){var ve=ae();return he(ve)?le(ve):void(Te=setTimeout(se,me(ve)))}function le(ve){return Te=void 0,Ce&&we?ue(ve):(we=$e=void 0,Se)}function fe(){Te!==void 0&&clearTimeout(Te),Oe=0,we=be=$e=Te=void 0}function ge(){return Te===void 0?Se:le(ae())}function ye(){var ve=ae(),Pe=he(ve);if(we=arguments,$e=this,be=ve,Pe){if(Te===void 0)return pe(be);if(Ee)return Te=setTimeout(se,oe),ue(be)}return Te===void 0&&(Te=setTimeout(se,oe)),Se}var we,$e,_e,Se,Te,be,Oe=0,xe=!1,Ee=!1,Ce=!0;if(typeof ie!="function")throw new TypeError(j);return oe=R(oe)||0,y(ce)&&(xe=!!ce.leading,Ee="maxWait"in ce,_e=Ee?te(R(ce.maxWait)||0,oe):_e,Ce="trailing"in ce?!!ce.trailing:Ce),ye.cancel=fe,ye.flush=ge,ye}function y(ie){var oe=typeof ie=="undefined"?"undefined":F(ie);return!!ie&&(oe=="object"||oe=="function")}function O(ie){return!!ie&&(typeof ie=="undefined"?"undefined":F(ie))=="object"}function D(ie){return(typeof ie=="undefined"?"undefined":F(ie))=="symbol"||O(ie)&&re.call(ie)==U}function R(ie){if(typeof ie=="number")return ie;if(D(ie))return B;if(y(ie)){var oe=typeof ie.valueOf=="function"?ie.valueOf():ie;ie=y(oe)?oe+"":oe}if(typeof ie!="string")return ie===0?ie:+ie;ie=ie.replace(W,"");var ce=K.test(ie);return ce||Y.test(ie)?X(ie.slice(2),ce?2:8):q.test(ie)?B:+ie}var F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},j="Expected a function",B=NaN,U="[object Symbol]",W=/^\s+|\s+$/g,q=/^[-+]0x[0-9a-f]+$/i,K=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,X=parseInt,J=(typeof l=="undefined"?"undefined":F(l))=="object"&&l&&l.Object===Object&&l,Q=(typeof self=="undefined"?"undefined":F(self))=="object"&&self&&self.Object===Object&&self,Z=J||Q||Function("return this")(),ee=Object.prototype,re=ee.toString,te=Math.max,ne=Math.min,ae=function(){return Z.Date.now()};e.exports=h}).call(o,function(){return this}())},function(e,o){function l(F){var j=void 0,B=void 0;for(j=0;j<F.length;j+=1)if(B=F[j],B.dataset&&B.dataset.aos||B.children&&l(B.children))return!0;return!1}function h(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function y(){return!!h()}function O(F,j){var B=window.document,U=h(),W=new U(D);R=j,W.observe(B.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function D(F){F&&F.forEach(function(j){var B=Array.prototype.slice.call(j.addedNodes),U=Array.prototype.slice.call(j.removedNodes),W=B.concat(U);if(l(W))return R()})}Object.defineProperty(o,"__esModule",{value:!0});var R=function(){};o.default={isSupported:y,ready:O}},function(e,o){function l(B,U){if(!(B instanceof U))throw new TypeError("Cannot call a class as a function")}function h(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function B(U,W){for(var q=0;q<W.length;q++){var K=W[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(U,K.key,K)}}return function(U,W,q){return W&&B(U.prototype,W),q&&B(U,q),U}}(),O=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,D=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,R=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,F=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,j=function(){function B(){l(this,B)}return y(B,[{key:"phone",value:function(){var U=h();return!(!O.test(U)&&!D.test(U.substr(0,4)))}},{key:"mobile",value:function(){var U=h();return!(!R.test(U)&&!F.test(U.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),B}();o.default=new j},function(e,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(y,O,D){var R=y.node.getAttribute("data-aos-once");O>y.position?y.node.classList.add("aos-animate"):typeof R!="undefined"&&(R==="false"||!D&&R!=="true")&&y.node.classList.remove("aos-animate")},h=function(y,O){var D=window.pageYOffset,R=window.innerHeight;y.forEach(function(F,j){l(F,R+D,O)})};o.default=h},function(e,o,l){function h(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(12),O=h(y),D=function(R,F){return R.forEach(function(j,B){j.node.classList.add("aos-init"),j.position=(0,O.default)(j.node,F.offset)}),R};o.default=D},function(e,o,l){function h(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(13),O=h(y),D=function(R,F){var j=0,B=0,U=window.innerHeight,W={offset:R.getAttribute("data-aos-offset"),anchor:R.getAttribute("data-aos-anchor"),anchorPlacement:R.getAttribute("data-aos-anchor-placement")};switch(W.offset&&!isNaN(W.offset)&&(B=parseInt(W.offset)),W.anchor&&document.querySelectorAll(W.anchor)&&(R=document.querySelectorAll(W.anchor)[0]),j=(0,O.default)(R).top,W.anchorPlacement){case"top-bottom":break;case"center-bottom":j+=R.offsetHeight/2;break;case"bottom-bottom":j+=R.offsetHeight;break;case"top-center":j+=U/2;break;case"bottom-center":j+=U/2+R.offsetHeight;break;case"center-center":j+=U/2+R.offsetHeight/2;break;case"top-top":j+=U;break;case"bottom-top":j+=R.offsetHeight+U;break;case"center-top":j+=R.offsetHeight/2+U}return W.anchorPlacement||W.offset||isNaN(F)||(B=F),j+B};o.default=D},function(e,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){for(var y=0,O=0;h&&!isNaN(h.offsetLeft)&&!isNaN(h.offsetTop);)y+=h.offsetLeft-(h.tagName!="BODY"?h.scrollLeft:0),O+=h.offsetTop-(h.tagName!="BODY"?h.scrollTop:0),h=h.offsetParent;return{top:O,left:y}};o.default=l},function(e,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){return h=h||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(h,function(y){return{node:y}})};o.default=l}])})})(aos$1);var AOS=getDefaultExportFromCjs(aos$1.exports),aos="",projectView_svelte_svelte_type_style_lang="";const{document:document_1}=globals;function create_if_block_5$2(r){let t,e,o;return{c(){t=element("div"),t.innerHTML='<i class="bx bx-arrow-back"></i>',attr(t,"class","backArrow hvr-forward svelte-1763sy5")},m(l,h){insert(l,t,h),e||(o=listen(t,"click",r[12]),e=!0)},p:noop$4,d(l){l&&detach(t),e=!1,o()}}}function create_if_block_4$2(r){let t,e,o,l,h,y;return{c(){t=element("div"),t.textContent="\u274C Supprimer filtre",attr(t,"class","supprFiltre hvr-grow svelte-1763sy5")},m(O,D){insert(O,t,D),l=!0,h||(y=listen(t,"click",r[14]),h=!0)},p:noop$4,i(O){l||(add_render_callback(()=>{o&&o.end(1),e=create_in_transition(t,fly,{y:50}),e.start()}),l=!0)},o(O){e&&e.invalidate(),o=create_out_transition(t,fly,{y:50}),l=!1},d(O){O&&detach(t),O&&o&&o.end(),h=!1,y()}}}function create_catch_block_1$1(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block$4(r){let t;function e(h,y){return h[35].time.length>0?create_if_block_1$4:create_else_block_1$1}let l=e(r)(r);return{c(){l.c(),t=empty$2()},m(h,y){l.m(h,y),insert(h,t,y)},p(h,y){l.p(h,y)},i(h){transition_in(l)},o:noop$4,d(h){l.d(h),h&&detach(t)}}}function create_else_block_1$1(r){let t,e,o,l,h,y,O,D,R,F,j,B,U;return{c(){t=element("div"),e=element("div"),e.innerHTML='<lottie-player src="https://assets1.lottiefiles.com/private_files/lf30_oqpbtola.json" background="transparent" speed="1" style="width:200px; margin:auto;" autoplay="" loop=""></lottie-player>',o=space(),l=element("div"),h=element("h3"),h.textContent="Pas encore de r\xE9ponses \u{1F622}",y=space(),O=element("p"),O.textContent="Vos graphiques s'afficheront automatiquement ici d\xE8s la premi\xE8re r\xE9ponse \xE0 ce sondage.",D=space(),R=element("div"),R.textContent="Partager le sondage \u{1F680}",F=space(),j=element("div"),j.textContent="\u270F\uFE0F \xC9diter le sondage",attr(e,"class","pr-0 pr-md-4"),attr(O,"class","pr-3 mb-4"),attr(R,"class","shareBtn me-4 svelte-1763sy5"),attr(j,"class","shareBtn svelte-1763sy5"),attr(l,"class","margin:auto;"),attr(t,"class","noData d-flex flex-column flex-md-row justify-content-around align-items-center svelte-1763sy5")},m(W,q){insert(W,t,q),append(t,e),append(t,o),append(t,l),append(l,h),append(l,y),append(l,O),append(l,D),append(l,R),append(l,F),append(l,j),B||(U=[listen(R,"click",r[23]),listen(j,"click",r[24])],B=!0)},p:noop$4,i:noop$4,o:noop$4,d(W){W&&detach(t),B=!1,run_all(U)}}}function create_if_block_1$4(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe,ge,ye,we,$e,_e,Se,Te,be,Oe,xe,Ee,Ce,ve,Pe,Me,Ne,Be,Fe=r[1].length==0&&create_if_block_2$4(r);return{c(){t=element("div"),e=space(),o=element("div"),l=element("div"),h=element("div"),h.textContent="\u{1F680} Partager le sondage",O=space(),D=element("div"),D.textContent="\u270F\uFE0F \xC9diter le sondage",F=space(),j=element("div"),j.textContent="\u26A1 Exporter les donn\xE9es",U=space(),W=element("div"),q=element("div"),K=element("div"),Y=element("h4"),Y.textContent="Filtrer les donn\xE9es",X=space(),J=element("div"),Q=element("div"),Q.textContent="1.",Z=space(),ee=element("select"),re=element("option"),re.textContent="D\xE9sactiv\xE9",te=space(),ne=element("select"),ae=element("option"),ae.textContent="\xE9gal \xE0",ie=element("option"),ie.textContent="sup\xE9rieur ou \xE9gal \xE0",oe=element("option"),oe.textContent="inf\xE9rieur ou \xE9gal \xE0",ce=space(),ue=element("span"),ue.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',pe=space(),me=element("div"),he=element("div"),he.textContent="2.",se=space(),le=element("select"),fe=element("option"),fe.textContent="D\xE9sactiv\xE9",ge=space(),ye=element("select"),we=element("option"),we.textContent="\xE9gal \xE0",$e=element("option"),$e.textContent="sup\xE9rieur ou \xE9gal \xE0",_e=element("option"),_e.textContent="inf\xE9rieur ou \xE9gal \xE0",Se=space(),Te=element("span"),Te.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',be=space(),Oe=element("div"),xe=element("button"),xe.innerHTML='<i class="bx bx-filter-alt pe-1"></i>Appliquer le filtre',Ee=space(),Fe&&Fe.c(),Ce=space(),ve=element("div"),Pe=space(),Me=element("span"),attr(t,"id","headerBar"),attr(t,"class","text-center w-100 py-2 mb-3 mt-3"),attr(h,"class","shareBtnTitle hvr-grow mx-2 svelte-1763sy5"),attr(D,"class","shareBtnTitle hvr-grow mx-2 svelte-1763sy5"),attr(j,"class","shareBtnTitle hvr-grow mx-2 svelte-1763sy5"),attr(l,"class","d-flex align-items-center justify-content-start flex-wrap px-4"),attr(o,"class","mx-auto"),set_style(o,"max-width","1100px"),attr(Y,"class","mb-3"),set_style(Q,"font-size","1.2rem"),attr(Q,"class","mr-3"),re.__value="dis",re.value=re.__value,attr(ee,"class","rtnFilterSelect"),ae.__value="==",ae.value=ae.__value,ie.__value=">=",ie.value=ie.__value,oe.__value="<=",oe.value=oe.__value,attr(ne,"class","rtnFilterSelect"),ne.disabled=!0,attr(J,"class","align-items-center d-flex justify-content-center p-2"),set_style(he,"font-size","1.2rem"),attr(he,"class","mr-3"),fe.__value="dis",fe.value=fe.__value,attr(le,"class","rtnFilterSelect"),we.__value="==",we.value=we.__value,$e.__value=">=",$e.value=$e.__value,_e.__value="<=",_e.value=_e.__value,attr(ye,"class","rtnFilterSelect"),ye.disabled=!0,attr(me,"class","align-items-center d-flex justify-content-center p-2"),attr(xe,"class","hvr-grow px-3"),set_style(xe,"min-width","100px"),set_style(xe,"border-radius","10px"),set_style(xe,"border-width","0px"),set_style(xe,"padding","8px 15px"),attr(Oe,"class","mt-3 mx-auto px-4 text-end"),attr(K,"class","neuProjetSimple p-4 text-left m-0 svelte-1763sy5"),set_style(K,"color","white"),set_style(K,"background-color","#6219d8"),attr(K,"data-aos","fade-up"),attr(K,"data-aos-delay","100"),attr(q,"id","filtreZone"),attr(q,"class","col-12 col-lg-6 p-3 m-0"),attr(ve,"class","mb-2"),attr(W,"id","mesResultats"),attr(W,"class","row p-0 p-md-1 mx-auto w-100"),set_style(W,"max-width","1100px")},m(Re,ke){insert(Re,t,ke),insert(Re,e,ke),insert(Re,o,ke),append(o,l),append(l,h),append(l,O),append(l,D),append(l,F),append(l,j),insert(Re,U,ke),insert(Re,W,ke),append(W,q),append(q,K),append(K,Y),append(K,X),append(K,J),append(J,Q),append(J,Z),append(J,ee),append(ee,re),append(J,te),append(J,ne),append(ne,ae),append(ne,ie),append(ne,oe),append(J,ce),append(J,ue),append(K,pe),append(K,me),append(me,he),append(me,se),append(me,le),append(le,fe),append(me,ge),append(me,ye),append(ye,we),append(ye,$e),append(ye,_e),append(me,Se),append(me,Te),append(K,be),append(K,Oe),append(Oe,xe),append(W,Ee),Fe&&Fe.m(W,null),append(W,Ce),append(W,ve),insert(Re,Pe,ke),insert(Re,Me,ke),Ne||(Be=[listen(h,"click",r[15]),listen(D,"click",r[16]),listen(j,"click",r[17]),listen(xe,"click",r[18]),action_destroyer(r[10].call(null,Me,r[35]))],Ne=!0)},p(Re,ke){r=Re,r[1].length==0?Fe?Fe.p(r,ke):(Fe=create_if_block_2$4(r),Fe.c(),Fe.m(W,Ce)):Fe&&(Fe.d(1),Fe=null)},i(Re){y||add_render_callback(()=>{y=create_in_transition(h,fly,{y:20}),y.start()}),R||add_render_callback(()=>{R=create_in_transition(D,fly,{y:30}),R.start()}),B||add_render_callback(()=>{B=create_in_transition(j,fly,{y:40}),B.start()})},o:noop$4,d(Re){Re&&detach(t),Re&&detach(e),Re&&detach(o),Re&&detach(U),Re&&detach(W),Fe&&Fe.d(),Re&&detach(Pe),Re&&detach(Me),Ne=!1,run_all(Be)}}}function create_if_block_2$4(r){let t,e,o,l,h,y={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$1,then:create_then_block_1$1,catch:create_catch_block$4,value:36};return handle_promise(h=r[2],y),{c(){t=element("div"),e=element("div"),o=element("h4"),o.textContent="\u{1F517} Partager les donn\xE9es",l=space(),y.block.c(),attr(o,"class","mb-3"),attr(e,"class","neuProjetSimple p-4 h-100 m-0 svelte-1763sy5"),attr(e,"data-aos","fade-up"),attr(e,"data-aos-delay","100"),attr(t,"class","col-12 col-lg-6 p-4")},m(O,D){insert(O,t,D),append(t,e),append(e,o),append(e,l),y.block.m(e,y.anchor=null),y.mount=()=>e,y.anchor=null},p(O,D){r=O,y.ctx=r,D[0]&4&&h!==(h=r[2])&&handle_promise(h,y)||update_await_block_branch(y,r,D)},d(O){O&&detach(t),y.block.d(),y.token=null,y=null}}}function create_catch_block$4(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_then_block_1$1(r){let t;function e(h,y){return h[36].share_id=="no"?create_if_block_3$2:create_else_block$4}let o=e(r),l=o(r);return{c(){t=element("div"),l.c(),attr(t,"class","p-1")},m(h,y){insert(h,t,y),l.m(t,null)},p(h,y){o===(o=e(h))&&l?l.p(h,y):(l.d(1),l=o(h),l&&(l.c(),l.m(t,null)))},d(h){h&&detach(t),l.d()}}}function create_else_block$4(r){let t,e,o,l,h,y=r[36].share_id+"",O,D,R,F,j=r[36].share_pw+"",B,U,W,q,K,Y,X,J,Q,Z;function ee(){return r[20](r[36])}function re(){return r[21](r[36])}return{c(){t=element("p"),t.textContent=`Seules les personnes disposant du lien et du mot de passe pourront visualiser les r\xE9sultats de ce sondage. Vous pouvez supprimer le\r
                      partage \xE0 tout moment pour r\xE9streindre \xE0 nouveau la vue des r\xE9sultats \xE0 ce compte uniquement.`,e=space(),o=element("div"),l=element("p"),h=text("\u{1F517} retine.io/res#"),O=text(y),D=space(),R=element("p"),F=text("\u{1F512} "),B=text(j),U=space(),W=element("br"),q=space(),K=element("div"),K.textContent="\u274C Supprimer le partage",Y=space(),X=element("div"),J=text(r[3]),attr(t,"class","text-justify"),set_style(t,"opacity",".8"),set_style(t,"font-size",".85rem"),attr(l,"class","svelte-1763sy5"),attr(R,"class","svelte-1763sy5"),attr(K,"class","screenBtn hvr-grow mr-auto d-inline-block"),set_style(K,"font-size","1rem"),attr(X,"class","d-inline-block ml-4"),attr(o,"class","shareIds svelte-1763sy5")},m(te,ne){insert(te,t,ne),insert(te,e,ne),insert(te,o,ne),append(o,l),append(l,h),append(l,O),append(o,D),append(o,R),append(R,F),append(R,B),append(o,U),append(o,W),append(o,q),append(o,K),append(o,Y),append(o,X),append(X,J),Q||(Z=[listen(l,"click",ee),listen(R,"click",re),listen(K,"click",r[22])],Q=!0)},p(te,ne){r=te,ne[0]&4&&y!==(y=r[36].share_id+"")&&set_data(O,y),ne[0]&4&&j!==(j=r[36].share_pw+"")&&set_data(B,j),ne[0]&8&&set_data(J,r[3])},d(te){te&&detach(t),te&&detach(e),te&&detach(o),Q=!1,run_all(Z)}}}function create_if_block_3$2(r){let t,e,o,l,h;return{c(){t=element("p"),t.textContent="R\xE9tine vous permet de partager les r\xE9sultats de ce sondage avec n'importe qui de mani\xE8re s\xE9curis\xE9e.",e=space(),o=element("div"),o.textContent="\u{1F512} G\xE9n\xE9rer un lien de partage s\xE9curis\xE9",attr(o,"class","screenBtn hvr-grow m-auto"),set_style(o,"font-size","1.1rem")},m(y,O){insert(y,t,O),insert(y,e,O),insert(y,o,O),l||(h=listen(o,"click",r[19]),l=!0)},p:noop$4,d(y){y&&detach(t),y&&detach(e),y&&detach(o),l=!1,h()}}}function create_pending_block_1$1(r){return{c:noop$4,m:noop$4,p:noop$4,d:noop$4}}function create_pending_block$4(r){let t,e;return{c(){t=element("div"),t.innerHTML='<lottie-player src="assets/lottie/loadingresult.json" background="#FAF7FF" speed="1" style="width:500px; margin:auto;" autoplay="" loop=""></lottie-player>',attr(t,"class","w-100 mt-5 text-center py-4 d-flex align-items-center justify-content-center"),set_style(t,"height","50vh")},m(o,l){insert(o,t,l)},p:noop$4,i(o){e||add_render_callback(()=>{e=create_in_transition(t,fly,{y:20}),e.start()})},o:noop$4,d(o){o&&detach(t)}}}function create_if_block$5(r){let t,e,o,l,h,y,O;const D=[r[5].props||{}];var R=r[5].component;function F(j){let B={};for(let U=0;U<D.length;U+=1)B=assign$7(B,D[U]);return{props:B}}return R&&(t=new R(F())),{c(){t&&create_component(t.$$.fragment),e=space(),o=element("div"),attr(o,"class","backdrop svelte-1763sy5")},m(j,B){t&&mount_component(t,j,B),insert(j,e,B),insert(j,o,B),h=!0,y||(O=listen(o,"click",r[25]),y=!0)},p(j,B){const U=B[0]&32?get_spread_update(D,[get_spread_object(j[5].props||{})]):{};if(R!==(R=j[5].component)){if(t){group_outros();const W=t;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(t=new R(F()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else R&&t.$set(U)},i(j){h||(t&&transition_in(t.$$.fragment,j),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(j){t&&transition_out(t.$$.fragment,j),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(j){t&&destroy_component(t,j),j&&detach(e),j&&detach(o),j&&l&&l.end(),y=!1,O()}}}function create_default_slot$3(r){let t,e,o=r[5]&&create_if_block$5(r);return{c(){o&&o.c(),t=empty$2()},m(l,h){o&&o.m(l,h),insert(l,t,h),e=!0},p(l,h){l[5]?o?(o.p(l,h),h[0]&32&&transition_in(o,1)):(o=create_if_block$5(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){e||(transition_in(o),e=!0)},o(l){transition_out(o),e=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$c(r){let t,e,o,l,h,y,O,D,R,F=r[0].nom_proj+"",j,B,U,W,q,K,Y,X,J=r[1].length==0&&create_if_block_5$2(r),Q=r[4]&&create_if_block_4$2(r),Z={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block$4,then:create_then_block$4,catch:create_catch_block_1$1,value:35};return handle_promise(r[7],Z),q=new Modals({props:{$$slots:{default:[create_default_slot$3]},$$scope:{ctx:r}}}),{c(){t=element("link"),e=element("script"),l=space(),h=element("div"),J&&J.c(),y=space(),O=element("div"),O.textContent="Rafra\xEEchir \u{1F4A6}",D=space(),R=element("h1"),j=text(F),B=space(),Q&&Q.c(),U=space(),Z.block.c(),W=space(),create_component(q.$$.fragment),attr(t,"rel","stylesheet"),attr(t,"href","assets/graphs.css"),src_url_equal(e.src,o="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js")||attr(e,"src",o),attr(e,"integrity","sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="),attr(e,"crossorigin","anonymous"),attr(e,"referrerpolicy","no-referrer"),attr(O,"id","refreshBtn"),attr(O,"class","refreshBtn hvr-grow svelte-1763sy5"),attr(R,"class","projBigTitle py-2 text-center svelte-1763sy5"),set_style(h,"min-height","100vh")},m(ee,re){append(document_1.head,t),append(document_1.head,e),insert(ee,l,re),insert(ee,h,re),J&&J.m(h,null),append(h,y),append(h,O),append(h,D),append(h,R),append(R,j),append(h,B),Q&&Q.m(h,null),append(h,U),Z.block.m(h,Z.anchor=null),Z.mount=()=>h,Z.anchor=null,insert(ee,W,re),mount_component(q,ee,re),K=!0,Y||(X=listen(O,"click",r[13]),Y=!0)},p(ee,re){r=ee,r[1].length==0?J?J.p(r,re):(J=create_if_block_5$2(r),J.c(),J.m(h,y)):J&&(J.d(1),J=null),(!K||re[0]&1)&&F!==(F=r[0].nom_proj+"")&&set_data(j,F),r[4]?Q?(Q.p(r,re),re[0]&16&&transition_in(Q,1)):(Q=create_if_block_4$2(r),Q.c(),transition_in(Q,1),Q.m(h,U)):Q&&(group_outros(),transition_out(Q,1,1,()=>{Q=null}),check_outros()),update_await_block_branch(Z,r,re);const te={};re[0]&32|re[1]&64&&(te.$$scope={dirty:re,ctx:r}),q.$set(te)},i(ee){K||(transition_in(Q),transition_in(Z.block),transition_in(q.$$.fragment,ee),K=!0)},o(ee){transition_out(Q),transition_out(q.$$.fragment,ee),K=!1},d(ee){detach(t),detach(e),ee&&detach(l),ee&&detach(h),J&&J.d(),Q&&Q.d(),Z.block.d(),Z.token=null,Z=null,ee&&detach(W),destroy_component(q,ee),Y=!1,X()}}}function instance$a(r,t,e){let o,l;component_subscribe(r,modals,le=>e(11,l=le));function h(le){activePageStore.set(le)}let{projData:y}=t,{invit:O=[]}=t,D,R,F;var j={};let B=`<div class="neuProjetSimple p-4 text-center" data-aos="fade-up" data-aos-delay="100">
      <div>
          <h5>##TTRQUEST##</h5>
          <div class="nbRepGraph">\u{1F9CD} ##REPS## r\xE9pondants</div>
          <div class="filtrWatermark nbRepGraph"></div>
          <div class="canvContain"></div>
      </div>
      <div class="d-flex align-items-center justify-content-between">
        <button class="screenBtn" onclick="copyGraph(this.parentElement.previousSibling.previousSibling)">\u{1F4C4} Copier le graphique</button>
      </div>
    </div>`,U;O.length==0&&(U=shareQueryGET(y.id));async function W(le={fltr1:"",fltr2:""}){if(O.length==0){var fe=new Headers;fe.append("Authorization","Token "+xxgc("rtnt")),fe.append("Content-Type","application/json");var ge={method:"POST",headers:fe,redirect:"follow",body:JSON.stringify(le)};return fetch(`${rtnUrl}reps/${y.id}/`,ge).then(ye=>ye.text()).then(ye=>JSON.parse(ye)).catch(ye=>ye)}else{var fe=new Headers;fe.append("Content-Type","application/json");let we=le;we.sid=O[0],we.spw=O[1];var ge={method:"POST",headers:fe,redirect:"follow",body:JSON.stringify(le)};return fetch(`${rtnUrl}repspub/`,ge).then(_e=>_e.text()).then(_e=>JSON.parse(_e)).catch(_e=>_e)}}let q=W();const K=async(le={fltr1:"",fltr2:""})=>{document.getElementById("refreshBtn").style.backgroundColor="#2FCC72";let fe=await W(le);console.log(fe),fe.data=Object.values(fe.data);let ge=Object.keys(j);if(fe.time.length==0)alert("Aucune donn\xE9es \xE0 afficher.");else{D(fe.time),R(fe.client),F(fe);for(var ye=0;ye<ge.length;ye++)try{j[ge[ye]](fe.data.find(_e=>_e.n==ge[ye]))}catch(_e){console.log(_e)}let $e=document.getElementsByClassName("filtrWatermark");for(var we=0;we<$e.length;we++)if(le.fltr1!=""||le.fltr2!=""){let _e="",Se="";le.fltr1!=""&&(_e=`Q${le.fltr1[0]} ${le.fltr1[1]} ${le.fltr1[2]}`),le.fltr2!=""&&(Se=`& ${le.fltr2[0]} ${le.fltr2[1]} ${le.fltr2[2]}`),$e[we].innerHTML=`- R\xE9sultats filtr\xE9s : r\xE9p. ${_e} ${Se}`,e(4,Q=!0)}else $e[we].innerHTML="",e(4,Q=!1)}setTimeout(()=>{document.getElementById("refreshBtn").style.backgroundColor=""},500)},Y=()=>{let le,fe;document.querySelectorAll(".rtnFilterSelect")[0].value!="dis"?le=[document.querySelectorAll(".rtnFilterSelect")[0].value,document.querySelectorAll(".rtnFilterSelect")[1].value,document.querySelectorAll(".rtnFilterSelect")[2].value]:le="",document.querySelectorAll(".rtnFilterSelect")[3].value!="dis"?fe=[document.querySelectorAll(".rtnFilterSelect")[3].value,document.querySelectorAll(".rtnFilterSelect")[4].value,document.querySelectorAll(".rtnFilterSelect")[5].value]:fe="",K({fltr1:le,fltr2:fe})};function X(le,fe){if(console.log(fe),fe.time.length==0)return;let ge=y,ye=JSON.parse(ge.jsonContent),we=document.querySelector("#mesResultats");fe.data=Object.values(fe.data);let $e=document.createElement("div"),_e;$e.id="timeRepGraph",$e.classList.add("col-12","col-lg-12","p-3"),$e.innerHTML=B,$e.querySelector(".canvContain").innerHTML="<canvas></canvas>",we.insertAdjacentElement("afterbegin",$e),D=Ee=>{let Ce=document.querySelector("#timeRepGraph");Ce.querySelector("h5").innerHTML="Evolution du nombre de r\xE9ponses",Ce.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Ee.length.toString()+" r\xE9pondants",Ee=Ee.map(Pe=>new Date(Date.parse(Pe.replaceAll("-","/").split(" ")[0])).toISOString().split("T")[0]);let ve=getDaysArray(Ee[0],Ee[Ee.length-1]).map(Pe=>Pe.toISOString().slice(0,10));typeof _e=="undefined"?_e=new Chart(Ce.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:ve,datasets:[{data:ve.map(Pe=>countOccurrences(Ee,Pe)),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}}):(_e.data.labels=ve,_e.data.datasets[0].data=ve.map(Pe=>countOccurrences(Ee,Pe)),_e.update())},D(fe.time);let Se=document.createElement("div"),Te;Se.id="deviceRepGraph",Se.classList.add("col-12","col-lg-6","p-3"),Se.innerHTML=B,Se.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>"),we.insertAdjacentElement("beforeend",Se),R=Ee=>{let Ce=document.querySelector("#deviceRepGraph");Ce.querySelector("h5").innerHTML="Appareils utilis\xE9s par les r\xE9pondants",Ce.querySelector(".nbRepGraph").innerHTML=`\u{1F9CD} ${Object.values(Ee).reduce((ve,Pe)=>ve+Pe).toString()} r\xE9pondants`,typeof Te=="undefined"?Te=new Chart(Ce.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"doughnut",data:{labels:Object.keys(Ee),datasets:[{data:Object.values(Ee),backgroundColor:chartColors}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(ve,Pe)=>{let Me=0;return Pe.chart.data.datasets[0].data.map(Fe=>{Me+=Fe}),Pe.chart.data.labels[Pe.dataIndex]+`
`+(ve*100/Me).toFixed(1)+"%"},textAlign:"center"},deferred:deferredConfig}}}):(Te.data.labels=Object.keys(Ee),Te.data.datasets[0].data=Object.values(Ee),Te.update())},R(fe.client);let be=document.createElement("div"),Oe;be.id="dureeRepGraph",be.classList.add("col-12","col-lg-6","p-3"),be.innerHTML=B,be.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>"),we.insertAdjacentElement("beforeend",be),F=Ee=>{let Ce=document.querySelector("#dureeRepGraph");Ce.querySelector("h5").innerHTML="Temps de r\xE9ponse au sondage",Ce.querySelector(".nbRepGraph").innerHTML=`\u{1F9CD} ${Ee.time.length} r\xE9pondants`,typeof Oe=="undefined"?Oe=new Chart(Ce.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:["Minimum","Moyenne","Maximum"],datasets:[{data:Object.values(Ee.ans_time),backgroundColor:["#23BE6E4D","#7798AB4D","#DB54614D"]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:scaleParam,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(ve,Pe)=>(Pe.chart.data.datasets[0].data.map(Be=>{}),ve+"s"),textAlign:"center"},deferred:deferredConfig}}}):(Oe.data.datasets[0].data=Object.values(Ee.ans_time),Oe.update())},F(fe);const xe=Ee=>{Ee.srcElement.value=="dis"?(Ee.srcElement.nextElementSibling.disabled=!0,Ee.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0):(Ee.srcElement.nextElementSibling.disabled=!1,Ee.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!1,["num"].includes(fe.data[Ee.srcElement.value].t)?(Ee.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',Ee.srcElement.nextElementSibling.nextElementSibling.innerHTML='<input class="rtnFilterSelect" type="number" style="width:100px;">'):["mc","1c"].includes(fe.data[Ee.srcElement.value].t)?(Ee.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=" disabled>sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=" disabled>inf\xE9rieur ou \xE9gal \xE0</option>',Ee.srcElement.nextElementSibling.nextElementSibling.innerHTML=`<select class="rtnFilterSelect" >
        ${Object.keys(fe.data[Ee.srcElement.value].d).map(Ce=>`<option value="${Ce}">${Ce}</option>`).join("")}</select>`):["5s"].includes(fe.data[Ee.srcElement.value].t)?(Ee.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',Ee.srcElement.nextElementSibling.nextElementSibling.innerHTML='<select class="rtnFilterSelect"><option value="1">\u2B50</option><option value="2">\u2B50\u2B50</option><option value="3">\u2B50\u2B50\u2B50</option><option value="4">\u2B50\u2B50\u2B50\u2B50</option><option value="5">\u2B50\u2B50\u2B50\u2B50\u2B50</option></select>'):(Ee.srcElement.nextElementSibling.disabled=!0,Ee.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0))};document.querySelectorAll(".rtnFilterSelect")[0].addEventListener("change",xe),document.querySelectorAll(".rtnFilterSelect")[3].addEventListener("change",xe);for(let Ee in fe.data){let Ce=ye.find(ve=>ve.idr==fe.data[Ee].n);if(!(Ce.a.type=="1c"&&Ce.a.a.length==1)){document.querySelectorAll(".rtnFilterSelect")[0].insertAdjacentHTML("beforeend",`<option value='${Ee}'>${Ce.q}</option`),document.querySelectorAll(".rtnFilterSelect")[3].insertAdjacentHTML("beforeend",`<option value='${Ee}'>${Ce.q}</option`);let ve=document.createElement("div");switch(ve.classList.add("col-12","col-lg-6","p-3"),ve.innerHTML=B.replace("##TTRQUEST##",Ee.toString()+". "+Ce.q),ve.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+fe.data[Ee].nbrep.toString()+" r\xE9pondants",fe.data[Ee].t){case"mc":case"1c":let Pe=fe.data[Ee];ve.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>");let Me=new Chart(ve.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"doughnut",data:{labels:Object.keys(Pe.d),datasets:[{data:Object.values(Pe.d),backgroundColor:chartColors}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(je,Xe)=>{let tt=0;return Xe.chart.data.datasets[0].data.map(Qe=>{tt+=Qe}),Xe.chart.data.labels[Xe.dataIndex].toString().replace(/(.*?\s.*?\s)/g,`$1
`)+`
`+(je*100/tt).toFixed(1)+"%"},textAlign:"center"},deferred:deferredConfig}}});j[fe.data[Ee].n]=je=>{je!=null?(Me.data.labels=Object.keys(je.d),Me.data.datasets[0].data=Object.values(je.d),Me.update(),ve.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+je.nbrep.toString()+" r\xE9pondants",ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};break;case"cl":let Ne=`<canvas id="realCanvCont"></canvas>
            <div id="realScoreCont">
                <div id="gauge2" class="mx-auto w-100 gauge-container three" style="max-width: 200px;"><span class="label"></span></div>
                <div class="starContain py-2 px-3 text-start m-auto" style="font-size: 0.8rem; opacity: 0.9; border-radius: 10px;">
                    \u{1F4A1} Score de sentiment moyen calcul\xE9 par R\xE9tine \xE0 l'aide d'intelligences artificielles. (0 = tr\xE8s n\xE9gatif, 100 = tr\xE8s positif).
                </div>
            </div>`;ve.querySelector(".canvContain").insertAdjacentHTML("afterbegin",Ne);let Be=fe.data[Ee];setTimeout(()=>{let je=Gauge(ve.querySelector("#gauge2"),{max:100,value:0,color(We){return We<60?"#6219D8":We<25?"#E74C3C":"#2FCC72"},label(We){if(We<10)return`\u{1F621}
`+Math.round(We);if(We<25)return`\u{1F615}
`+Math.round(We);if(We<50)return`\u{1F610}
`+Math.round(We);if(We<75)return`\u{1F642}
`+Math.round(We);if(We<=100)return`\u{1F603}
`+Math.round(We)}});setTimeout(()=>{je.setValueAnimated(Be.d.sentMoy*100,1.5)},100);let Xe=new WordCloudChart(ve.querySelector("canvas").getContext("2d"),{type:"wordCloud",data:{labels:Object.keys(Be.d.nuage),datasets:[{label:"",color:"#6219D8",data:Object.values(Be.d.nuage).map(We=>15+We*Math.min(125/Object.values(Be.d.nuage).length,8))}]},options:{plugins:{legend:{display:!1},tooltips:{mode:"label",callbacks:{label(We,Qe){var qe=We.index;return Qe.labels[qe]+": "+Qe.datasets[0].data[qe]}}},deferred:deferredConfig}}});j[fe.data[Ee].n]=We=>{We!=null?(je.setValueAnimated(We.d.sentMoy*100,1.5),Xe.data.labels=Object.keys(We.d.nuage),Xe.data.datasets[0].data=Object.values(We.d.nuage).map(Qe=>15+Qe*Math.min(125/Object.values(We.d.nuage).length,8)),ve.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+We.nbrep.toString()+" r\xE9pondants",Xe.update(),ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};const tt=We=>{if(We.target.dataset.state=="simple"){ve.querySelector("#realScoreCont").style.display="",ve.querySelector("#realCanvCont").style.display="none";let Qe=je.getValue();je.setValue(0),je.setValueAnimated(Qe),We.target.dataset.state="detail"}else ve.querySelector("#realScoreCont").style.display="none",ve.querySelector("#realCanvCont").style.display="",Xe.reset(),Xe.update(),We.target.dataset.state="simple"};let Ge=document.createElement("button");Ge.innerHTML="\u2795 D\xE9tails",Ge.className="screenBtn",Ge.dataset.state="simple",Ge.addEventListener("click",tt,!1),ve.querySelector(".screenBtn").insertAdjacentElement("afterend",Ge),Ge.click()},1);break;case"5s":let Fe=["\u2B50\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50","\u2B50\u2B50","\u2B50"],Re=fe.data[Ee],ke='<canvas id ="realCanvCont" style="display:none;"></canvas><div class="starContain py-5"></div>',Le=`<div class="mb-3">Note moyenne de ##STARS##</div>
            <div class="stars">
              <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg>
              <div class="cover" style="width: ##PERCENT##%;"></div>
            </div>`;ve.querySelector(".canvContain").innerHTML=ke,ve.querySelector(".starContain").innerHTML=Le.replace("##PERCENT##",(100-Re.d.main*100/5).toString()).replace("##STARS##",Re.d.main);let De=new Chart(ve.querySelector("#realCanvCont"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Fe,datasets:[{data:[Re.d.detail[5],Re.d.detail[4],Re.d.detail[3],Re.d.detail[2],Re.d.detail[1]],backgroundColor:"#6219D8",borderRadius:5}]},options:{indexAxis:"y",scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,reversed:!0},datalabels:{color:"white"}}}});j[fe.data[Ee].n]=je=>{je!=null?(ve.querySelector(".starContain").innerHTML=Le.replace("##PERCENT##",(100-je.d.main*100/5).toString()).replace("##STARS##",je.d.main),De.data.datasets[0].data=[je.d.detail[5],je.d.detail[4],je.d.detail[3],je.d.detail[2],je.d.detail[1]],De.update(),ve.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+je.nbrep.toString()+" r\xE9pondants",ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};const Ie=je=>{je.target.dataset.state=="simple"?(ve.querySelector(".starContain").style.display="",ve.querySelector("canvas").style.display="none",je.target.dataset.state="detail"):(ve.querySelector(".starContain").style.display="none",ve.querySelector("canvas").style.display="",De.reset(),De.update(),je.target.dataset.state="simple")};let Ve=document.createElement("button");Ve.innerHTML="\u2795 D\xE9tails",Ve.className="screenBtn",Ve.dataset.state="yes",Ve.addEventListener("click",Ie,!1),ve.querySelector(".screenBtn").insertAdjacentElement("afterend",Ve);break;case"num":let Ue=fe.data[Ee].d;ve.querySelector(".canvContain").innerHTML="<canvas></canvas>";let ze=Ce.a.a[2].replaceAll(" ","")!=""?`(en ${Ce.a.a[2]})`:"";ve.querySelector("h5").insertAdjacentHTML("beforeend",`<span style='font-size:1rem;opacity:.6;'>${ze}</span>`);let Ae=new Chart(ve.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Object.keys(Ue.detail).map(je=>je.replaceAll(".0","")),datasets:[{label:"Moyenne",data:[{x:Ue.main,y:Math.max.apply(Math,Object.values(Ue.detail))+1}],backgroundColor:"#2FCC72",type:"bar",xAxisID:"x1",maxBarThickness:8,datalabels:{display:!0,color:"black",textAlign:"center",align:-135,clamp:!0,offset:30,formatter(je,Xe){return console.log(Xe.dataset.data[0]),`Moyenne
`+Xe.dataset.data[0].x.toString()}}},{label:"R\xE9partition",data:Object.values(Ue.detail),backgroundColor:"#6219D8",borderRadius:5,datalabels:{display:!0,color:"white",formatter(je,Xe){return je==0?"":je}}}]},options:{scales:{y:{display:!1,grid:{drawOnChartArea:!1}},x:{display:!0,position:"bottom",grid:{drawOnChartArea:!1}},x1:{type:"linear",display:!1,position:"bottom",min:parseInt(Object.keys(Ue.detail)[0].split(",")[0].replace(".0","").replace(/\D/g,"")),max:parseInt(Object.keys(Ue.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),grid:{drawOnChartArea:!1}}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{padding:10}},tooltip:{filter(je){return je.datasetIndex===0}},datalabels:{display:!1},deferred:deferredConfig}}});j[fe.data[Ee].n]=je=>{je!=null?(Ae.data.labels=Object.keys(je.d.detail).map(Xe=>Xe.replaceAll(".0","")),Ae.data.datasets[0].data=[{x:je.d.main,y:Math.max.apply(Math,Object.values(je.d.detail))+1}],Ae.data.datasets[1].data=Object.values(je.d.detail),Ae.options.scales.x1.min=parseInt(Object.keys(je.d.detail).at(0).split(",").at(0).replace(".0","").replace(/\D/g,"")),Ae.options.scales.x1.max=parseInt(Object.keys(je.d.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),Ae.update(),ve.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+je.nbrep.toString()+" r\xE9pondants",ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};break;case"cal":let He=fe.data[Ee].d;ve.querySelector(".canvContain").innerHTML="<canvas></canvas>";let Ke=new Chart(ve.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Object.keys(He.dates).map(je=>new Date(Date.parse(je))),datasets:[{data:Object.values(He.dates),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm"}},grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0}},y:{display:!1}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}});j[fe.data[Ee].n]=je=>{je!=null?(Ke.data.labels=Object.keys(je.d.dates).map(Xe=>new Date(Date.parse(Xe)).toString()),Ke.data.datasets[0].data=Object.values(je.d.dates),Ke.update(),ve.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+je.nbrep.toString()+" r\xE9pondants",ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display=""):ve.querySelector(".nbRepGraph").parentElement.parentElement.parentElement.style.display="none"};break}we.insertAdjacentElement("beforeend",ve)}}}AOS.init();let J="",Q=!1;const Z=()=>h("projects"),ee=()=>K(),re=()=>K(),te=()=>openModal(ModalDiffuse,{proj:y}),ne=()=>openModal(ModalPostEditSond,{proj:y,changePage:h}),ae=()=>dlData(y.id),ie=()=>Y(),oe=()=>{e(2,U=shareQueryCREATE(y.id))},ce=le=>{navigator.clipboard.writeText(`retine.io/res#${le.share_id}`),e(3,J="Lien copi\xE9!")},ue=le=>{navigator.clipboard.writeText(le.share_pw),e(3,J="Mot de passe copi\xE9!")},pe=()=>{e(2,U=shareQueryDELETE(y.id))},me=()=>openModal(ModalDiffuse,{proj:y}),he=()=>openModal(ModalPostEditSond,{proj:y,changePage:h}),se=()=>{closeModal()};return r.$$set=le=>{"projData"in le&&e(0,y=le.projData),"invit"in le&&e(1,O=le.invit)},r.$$.update=()=>{r.$$.dirty[0]&2048&&e(5,o=l[l.length-1])},[y,O,U,J,Q,o,h,q,K,Y,X,l,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se]}class ProjectView extends SvelteComponent{constructor(t){super(),init(this,t,instance$a,create_fragment$c,safe_not_equal,{projData:0,invit:1},null,[-1,-1])}}var modalMessage_svelte_svelte_type_style_lang="";function create_fragment$b(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q;return{c(){t=element("div"),e=element("div"),o=element("div"),l=element("h3"),h=text(r[0]),y=space(),O=element("p"),D=text(r[1]),R=space(),F=element("div"),j=element("button"),j.textContent="Ok",attr(l,"class","text-center mb-4"),attr(O,"class","mb-0"),attr(o,"class","container p-2"),attr(j,"class","hvr-grow svelte-1ikpws9"),attr(F,"class","actions svelte-1ikpws9"),attr(e,"class","contents svelte-1ikpws9"),attr(t,"role","dialog"),attr(t,"class","modal svelte-1ikpws9")},m(K,Y){insert(K,t,Y),append(t,e),append(e,o),append(o,l),append(l,h),append(o,y),append(o,O),append(O,D),append(e,R),append(e,F),append(F,j),U=!0,W||(q=[listen(j,"click",closeModal),listen(t,"introstart",r[2]),listen(t,"outroend",r[3])],W=!0)},p(K,[Y]){(!U||Y&1)&&set_data(h,K[0]),(!U||Y&2)&&set_data(D,K[1])},i(K){U||(add_render_callback(()=>{B||(B=create_bidirectional_transition(t,fly,{y:50},!0)),B.run(1)}),U=!0)},o(K){B||(B=create_bidirectional_transition(t,fly,{y:50},!1)),B.run(0),U=!1},d(K){K&&detach(t),K&&B&&B.end(),W=!1,run_all(q)}}}function instance$9(r,t,e){let{title:o}=t,{msg:l}=t;function h(O){bubble.call(this,r,O)}function y(O){bubble.call(this,r,O)}return r.$$set=O=>{"title"in O&&e(0,o=O.title),"msg"in O&&e(1,l=O.msg)},[o,l,h,y]}class ModalMessage extends SvelteComponent{constructor(t){super(),init(this,t,instance$9,create_fragment$b,safe_not_equal,{title:0,msg:1})}}var projetLine_svelte_svelte_type_style_lang="";function create_if_block$4(r){let t,e=r[0].reponse.length.toString()+" r\xE9p.",o;return{c(){t=element("div"),o=text(e)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&1&&e!==(e=l[0].reponse.length.toString()+" r\xE9p.")&&set_data(o,e)},d(l){l&&detach(t)}}}function create_fragment$a(r){let t,e,o,l=r[0].nom_proj+"",h,y,O,D,R=r[0].crea_date.split("T")[0]+"",F,j,B,U,W,q,K,Y,X=!r[1]&&create_if_block$4(r);return{c(){t=element("div"),e=element("div"),o=element("div"),h=text(l),y=space(),O=element("div"),D=element("div"),F=text(R),j=space(),X&&X.c(),B=space(),U=element("div"),W=element("img"),attr(e,"class","p-1 pr-1 w-100 h-75 m-0"),attr(D,"class","d-fk"),attr(O,"class","px-3 flex-fill d-flex justify-content-between align-items-center w-100 text-center"),attr(W,"class","w-100"),src_url_equal(W.src,q=r[1]?"/assets/icons/delete.svg":"/assets/icons/share.svg")||attr(W,"src",q),attr(W,"alt","bouton partger"),attr(U,"class","threeDot hvr-bounce-in svelte-11fxtas"),attr(U,"style",r[1]?"background-color: #E74C3C;":"background-color: #6219d8;"),attr(t,"class","neuProjet d-flex align-items-center justify-content-around hvr-forward svelte-11fxtas")},m(J,Q){insert(J,t,Q),append(t,e),append(e,o),append(o,h),append(t,y),append(t,O),append(O,D),append(D,F),append(O,j),X&&X.m(O,null),append(t,B),append(t,U),append(U,W),K||(Y=[listen(U,"click",stop_propagation(r[2])),listen(t,"click",r[3])],K=!0)},p(J,[Q]){Q&1&&l!==(l=J[0].nom_proj+"")&&set_data(h,l),Q&1&&R!==(R=J[0].crea_date.split("T")[0]+"")&&set_data(F,R),J[1]||X.p(J,Q)},i:noop$4,o:noop$4,d(J){J&&detach(t),X&&X.d(),K=!1,run_all(Y)}}}function instance$8(r,t,e){let{sondage:o}=t,{loadSondage:l}=t,{updateFun:h}=t,{loadSView:y}=t,{shareFunction:O}=t,D=o.reponse.length==0&&o.priv==!0;const R=()=>{D?delSondRtn(o.id,h):O(),window.event.stopPropagation()},F=()=>{D?(e(0,o.jsonContent=JSON.parse(o.jsonContent),o),l(o,o.id)):y(o)};return r.$$set=j=>{"sondage"in j&&e(0,o=j.sondage),"loadSondage"in j&&e(4,l=j.loadSondage),"updateFun"in j&&e(5,h=j.updateFun),"loadSView"in j&&e(6,y=j.loadSView),"shareFunction"in j&&e(7,O=j.shareFunction)},[o,D,R,F,l,h,y,O]}class ProjetLine extends SvelteComponent{constructor(t){super(),init(this,t,instance$8,create_fragment$a,safe_not_equal,{sondage:0,loadSondage:4,updateFun:5,loadSView:6,shareFunction:7})}}var summary_svelte_svelte_type_style_lang="";function get_each_context$1(r,t,e){const o=r.slice();return o[24]=t[e],o[26]=e,o}function get_each_context_1$1(r,t,e){const o=r.slice();return o[24]=t[e],o[26]=e,o}function create_catch_block_2(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_then_block_2(r){let t;function e(h,y){return h[2].length>0?create_if_block_6$1:create_else_block$3}let o=e(r),l=o(r);return{c(){l.c(),t=empty$2()},m(h,y){l.m(h,y),insert(h,t,y)},p(h,y){o===(o=e(h))&&l?l.p(h,y):(l.d(1),l=o(h),l&&(l.c(),transition_in(l,1),l.m(t.parentNode,t)))},i(h){transition_in(l)},o:noop$4,d(h){l.d(h),h&&detach(t)}}}function create_else_block$3(r){let t,e,o;return{c(){t=element("div"),e=element("div"),e.innerHTML=`<div class="d-flex flex-column flex-md-row justify-content-around align-items-center"><div class="pr-0 pr-md-4"><lottie-player src="https://assets1.lottiefiles.com/packages/lf20_e8zq5gga.json" background="transparent" speed="1" style="width:250px; margin:auto;" autoplay=""></lottie-player></div> 
                <div class="margin:auto;"><h4>Bienvenue sur R\xE9tine \u{1F680}</h4> 
                  <p>Voici votre tableau de bord, qui vous donnera une vue d&#39;ensemble de vos projets les plus r\xE9cents.</p> 
                  <p>Cr\xE9ez d\xE8s \xE0 pr\xE9sent votre premier sondage, \xE0 partir de 0 ou en chargeant un de nos mod\xE8les adapt\xE9 \xE0 votre situation !</p></div></div>`,attr(e,"class","neuProjet p-4 svelte-vvqaki"),attr(t,"class","col-12 col-sm-12 col-lg-12")},m(l,h){insert(l,t,h),append(t,e)},p:noop$4,i(l){o||add_render_callback(()=>{o=create_in_transition(e,fly,{y:50,duration:600,delay:50}),o.start()})},o:noop$4,d(l){l&&detach(t)}}}function create_if_block_6$1(r){let t,e,o,l,h,y,O,D,R,F,j,B;return{c(){t=element("div"),e=element("div"),o=element("h4"),o.textContent="Derni\xE8res r\xE9ponses \xE0 vos sondages",l=space(),h=element("div"),y=element("canvas"),O=space(),D=element("div"),R=element("button"),R.textContent="\u{1F4C4} Copier le graphique",attr(y,"id","repChart"),attr(h,"class","flex-fill p-3"),attr(R,"class","screenBtn hvr-grow svelte-vvqaki"),attr(D,"class","d-flex align-items-center justify-content-between"),attr(e,"class","neuProjet p-4 d-flex flex-column justify-content-between svelte-vvqaki"),set_style(e,"height","420px"),attr(t,"class","col-12 mb-3")},m(U,W){insert(U,t,W),append(t,e),append(e,o),append(e,l),append(e,h),append(h,y),append(e,O),append(e,D),append(D,R),j||(B=[action_destroyer(r[7].call(null,y)),listen(R,"click",r[11])],j=!0)},p:noop$4,i(U){F||add_render_callback(()=>{F=create_in_transition(e,fly,{y:50,duration:600,delay:50}),F.start()})},o:noop$4,d(U){U&&detach(t),j=!1,run_all(B)}}}function create_pending_block_2(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_catch_block_1(r){let t,e=r[28]+"",o;return{c(){t=element("div"),o=text(e)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&16&&e!==(e=l[28]+"")&&set_data(o,e)},i:noop$4,o:noop$4,d(l){l&&detach(t)}}}function create_then_block_1(r){let t=r[23].filter(func_1).length>0,e,o=r[23].filter(func$1).length>0,l,h,y=t&&create_if_block_4$1(r),O=o&&create_if_block_2$3(r);return{c(){y&&y.c(),e=space(),O&&O.c(),l=empty$2()},m(D,R){y&&y.m(D,R),insert(D,e,R),O&&O.m(D,R),insert(D,l,R),h=!0},p(D,R){R&16&&(t=D[23].filter(func_1).length>0),t?y?(y.p(D,R),R&16&&transition_in(y,1)):(y=create_if_block_4$1(D),y.c(),transition_in(y,1),y.m(e.parentNode,e)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros()),R&16&&(o=D[23].filter(func$1).length>0),o?O?(O.p(D,R),R&16&&transition_in(O,1)):(O=create_if_block_2$3(D),O.c(),transition_in(O,1),O.m(l.parentNode,l)):O&&(group_outros(),transition_out(O,1,1,()=>{O=null}),check_outros())},i(D){h||(transition_in(y),transition_in(O),h=!0)},o(D){transition_out(y),transition_out(O),h=!1},d(D){y&&y.d(D),D&&detach(e),O&&O.d(D),D&&detach(l)}}}function create_if_block_4$1(r){let t,e,o,l,h=[],y=new Map,O,D,R=r[23].reverse().filter(func_2);const F=j=>j[24].id;for(let j=0;j<R.length;j+=1){let B=get_each_context_1$1(r,R,j),U=F(B);y.set(U,h[j]=create_each_block_1$1(U,B))}return{c(){t=element("div"),e=element("div"),o=element("h4"),o.textContent="Vos sondages r\xE9cents",l=space();for(let j=0;j<h.length;j+=1)h[j].c();attr(o,"class","mb-4"),attr(e,"class","neuProjet px-3 py-4 svelte-vvqaki"),attr(t,"class","col-12 col-sm-6 col-lg-6 mb-4")},m(j,B){insert(j,t,B),append(t,e),append(e,o),append(e,l);for(let U=0;U<h.length;U+=1)h[U].m(e,null);D=!0},p(j,B){B&275&&(R=j[23].reverse().filter(func_2),group_outros(),h=update_keyed_each(h,B,F,1,j,R,y,e,outro_and_destroy_block,create_each_block_1$1,null,get_each_context_1$1),check_outros())},i(j){if(!D){for(let B=0;B<R.length;B+=1)transition_in(h[B]);O||add_render_callback(()=>{O=create_in_transition(e,fly,{y:50,duration:600,delay:200}),O.start()}),D=!0}},o(j){for(let B=0;B<h.length;B+=1)transition_out(h[B]);D=!1},d(j){j&&detach(t);for(let B=0;B<h.length;B+=1)h[B].d()}}}function create_if_block_5$1(r){let t,e,o,l,h,y;function O(){return r[14](r[24])}return e=new ProjetLine({props:{loadSondage:r[0],sondage:r[24],loadSView:r[1],shareFunction:O,updateFun:r[8]}}),{c(){t=element("div"),create_component(e.$$.fragment),o=space(),l=element("hr"),h=space(),attr(l,"class","projectSep svelte-vvqaki")},m(D,R){insert(D,t,R),mount_component(e,t,null),append(t,o),append(t,l),append(t,h),y=!0},p(D,R){r=D;const F={};R&1&&(F.loadSondage=r[0]),R&16&&(F.sondage=r[24]),R&2&&(F.loadSView=r[1]),R&16&&(F.shareFunction=O),e.$set(F)},i(D){y||(transition_in(e.$$.fragment,D),y=!0)},o(D){transition_out(e.$$.fragment,D),y=!1},d(D){D&&detach(t),destroy_component(e)}}}function create_each_block_1$1(r,t){let e,o,l,h=t[26]<7&&create_if_block_5$1(t);return{key:r,first:null,c(){e=empty$2(),h&&h.c(),o=empty$2(),this.first=e},m(y,O){insert(y,e,O),h&&h.m(y,O),insert(y,o,O),l=!0},p(y,O){t=y,t[26]<7?h?(h.p(t,O),O&16&&transition_in(h,1)):(h=create_if_block_5$1(t),h.c(),transition_in(h,1),h.m(o.parentNode,o)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros())},i(y){l||(transition_in(h),l=!0)},o(y){transition_out(h),l=!1},d(y){y&&detach(e),h&&h.d(y),y&&detach(o)}}}function create_if_block_2$3(r){let t,e,o,l,h=[],y=new Map,O,D,R=r[23].reverse().filter(func_4);const F=j=>j[24].id;for(let j=0;j<R.length;j+=1){let B=get_each_context$1(r,R,j),U=F(B);y.set(U,h[j]=create_each_block$1(U,B))}return{c(){t=element("div"),e=element("div"),o=element("h4"),o.textContent="Reprenez vos brouillons",l=space();for(let j=0;j<h.length;j+=1)h[j].c();attr(o,"class","mb-4"),attr(e,"class","neuProjet px-3 py-4 svelte-vvqaki"),attr(t,"class","col-12 col-sm-6 col-lg-6 mb-4")},m(j,B){insert(j,t,B),append(t,e),append(e,o),append(e,l);for(let U=0;U<h.length;U+=1)h[U].m(e,null);D=!0},p(j,B){B&275&&(R=j[23].reverse().filter(func_4),group_outros(),h=update_keyed_each(h,B,F,1,j,R,y,e,outro_and_destroy_block,create_each_block$1,null,get_each_context$1),check_outros())},i(j){if(!D){for(let B=0;B<R.length;B+=1)transition_in(h[B]);O||add_render_callback(()=>{O=create_in_transition(e,fly,{y:50,duration:600,delay:300}),O.start()}),D=!0}},o(j){for(let B=0;B<h.length;B+=1)transition_out(h[B]);D=!1},d(j){j&&detach(t);for(let B=0;B<h.length;B+=1)h[B].d()}}}function create_if_block_3$1(r){let t,e,o,l,h,y;function O(){return r[15](r[24])}return e=new ProjetLine({props:{loadSondage:r[0],sondage:r[24],loadSView:r[1],shareFunction:O,updateFun:r[8]}}),{c(){t=element("div"),create_component(e.$$.fragment),o=space(),l=element("hr"),h=space(),attr(l,"class","projectSep svelte-vvqaki")},m(D,R){insert(D,t,R),mount_component(e,t,null),append(t,o),append(t,l),append(t,h),y=!0},p(D,R){r=D;const F={};R&1&&(F.loadSondage=r[0]),R&16&&(F.sondage=r[24]),R&2&&(F.loadSView=r[1]),R&16&&(F.shareFunction=O),e.$set(F)},i(D){y||(transition_in(e.$$.fragment,D),y=!0)},o(D){transition_out(e.$$.fragment,D),y=!1},d(D){D&&detach(t),destroy_component(e)}}}function create_each_block$1(r,t){let e,o,l,h=t[26]<7&&create_if_block_3$1(t);return{key:r,first:null,c(){e=empty$2(),h&&h.c(),o=empty$2(),this.first=e},m(y,O){insert(y,e,O),h&&h.m(y,O),insert(y,o,O),l=!0},p(y,O){t=y,t[26]<7?h?(h.p(t,O),O&16&&transition_in(h,1)):(h=create_if_block_3$1(t),h.c(),transition_in(h,1),h.m(o.parentNode,o)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros())},i(y){l||(transition_in(h),l=!0)},o(y){transition_out(h),l=!1},d(y){y&&detach(e),h&&h.d(y),y&&detach(o)}}}function create_pending_block_1(r){let t;return{c(){t=element("div"),attr(t,"class","col-12")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_catch_block$3(r){let t,e,o,l,h,y,O,D,R;return{c(){t=element("div"),e=element("div"),o=element("div"),l=element("div"),l.innerHTML=`<h4>Vous avez l&#39;offre gratuite.</h4>
                Cliquez ce bouton pour b\xE9n\xE9ficier de l&#39;exp\xE9rience compl\xE8te R\xE9tine.`,h=space(),y=element("div"),y.textContent="Passer \xE0 R\xE9tine Pro \u{1F680}",attr(y,"class","btnAbonnement hvr-grow svelte-vvqaki"),attr(o,"class","d-flex align-items-center justify-content-between flex-column flex-md-row"),attr(e,"class","neuProjet p-4 svelte-vvqaki"),set_style(e,"min-height","100px",1),attr(t,"class","col-12 mt-4")},m(F,j){insert(F,t,j),append(t,e),append(e,o),append(o,l),append(o,h),append(o,y),D||(R=listen(y,"click",r[16]),D=!0)},p:noop$4,i(F){O||add_render_callback(()=>{O=create_in_transition(e,fly,{x:-80,delay:250}),O.start()})},o:noop$4,d(F){F&&detach(t),D=!1,R()}}}function create_then_block$3(r){let t,e=r[22].plan==2&&create_if_block_1$3(r);return{c(){e&&e.c(),t=empty$2()},m(o,l){e&&e.m(o,l),insert(o,t,l)},p(o,l){o[22].plan==2&&e.p(o,l)},i(o){transition_in(e)},o:noop$4,d(o){e&&e.d(o),o&&detach(t)}}}function create_if_block_1$3(r){let t,e,o,l,h,y,O,D,R,F,j=r[22].date_fin.split("T")[0]+"",B,U,W;return{c(){t=element("div"),e=element("div"),o=element("div"),l=element("div"),l.textContent="\u2705",h=space(),y=element("div"),O=element("h4"),O.textContent="Vous avez l'offre R\xE9tine Pro.",D=space(),R=element("div"),F=text("Jusqu'au "),B=text(j),U=text("."),attr(l,"class","text-center"),set_style(l,"flex","1"),set_style(l,"font-size","2rem"),attr(R,"class","opacity-50"),set_style(y,"flex","5"),attr(o,"class","d-flex align-items-center justify-content-around flex-column flex-md-row"),attr(e,"class","neuProjet p-4 svelte-vvqaki"),set_style(e,"min-height","100px",1),attr(t,"class","col-12 col-md-6 mb-4")},m(q,K){insert(q,t,K),append(t,e),append(e,o),append(o,l),append(o,h),append(o,y),append(y,O),append(y,D),append(y,R),append(R,F),append(R,B),append(R,U)},p:noop$4,i(q){W||add_render_callback(()=>{W=create_in_transition(e,fly,{x:-80,delay:250}),W.start()})},o:noop$4,d(q){q&&detach(t)}}}function create_pending_block$3(r){let t;return{c(){t=element("div"),t.textContent="Chargement..."},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_if_block$3(r){let t,e,o,l,h,y,O;const D=[r[5].props||{}];var R=r[5].component;function F(j){let B={};for(let U=0;U<D.length;U+=1)B=assign$7(B,D[U]);return{props:B}}return R&&(t=new R(F())),{c(){t&&create_component(t.$$.fragment),e=space(),o=element("div"),attr(o,"class","backdrop svelte-vvqaki")},m(j,B){t&&mount_component(t,j,B),insert(j,e,B),insert(j,o,B),h=!0,y||(O=listen(o,"click",r[17]),y=!0)},p(j,B){const U=B&32?get_spread_update(D,[get_spread_object(j[5].props||{})]):{};if(R!==(R=j[5].component)){if(t){group_outros();const W=t;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(t=new R(F()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else R&&t.$set(U)},i(j){h||(t&&transition_in(t.$$.fragment,j),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(j){t&&transition_out(t.$$.fragment,j),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(j){t&&destroy_component(t,j),j&&detach(e),j&&detach(o),j&&l&&l.end(),y=!1,O()}}}function create_default_slot$2(r){let t,e,o=r[5]&&create_if_block$3(r);return{c(){o&&o.c(),t=empty$2()},m(l,h){o&&o.m(l,h),insert(l,t,h),e=!0},p(l,h){l[5]?o?(o.p(l,h),h&32&&transition_in(o,1)):(o=create_if_block$3(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){e||(transition_in(o),e=!0)},o(l){transition_out(o),e=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$9(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me={ctx:r,current:null,token:null,hasCatch:!1,pending:create_pending_block_2,then:create_then_block_2,catch:create_catch_block_2,value:22};handle_promise(U=r[3],me);let he={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block_1,then:create_then_block_1,catch:create_catch_block_1,value:23,error:28,blocks:[,,,]};handle_promise(ne=r[4],he);let se={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$3,then:create_then_block$3,catch:create_catch_block$3,value:22};return handle_promise(r[9],se),oe=new Modals({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:r}}}),{c(){t=element("script"),o=space(),l=element("div"),h=element("h1"),h.textContent="Tableau de bord",y=space(),O=element("h6"),O.textContent="Vue d\u2019ensemble de votre activit\xE9 sur R\xE9tine",D=space(),R=element("div"),F=space(),j=element("div"),B=element("div"),me.block.c(),W=space(),q=element("div"),K=element("div"),Y=element("div"),X=element("div"),X.textContent="\u{1F58C}\uFE0F Cr\xE9er un nouveau projet",Q=space(),Z=element("div"),ee=element("div"),ee.textContent="\u{1F4DA} Charger un mod\xE8le",te=space(),he.block.c(),ae=space(),se.block.c(),ie=space(),create_component(oe.$$.fragment),src_url_equal(t.src,e="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js")||attr(t,"src",e),attr(t,"integrity","sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="),attr(t,"crossorigin","anonymous"),attr(t,"referrerpolicy","no-referrer"),attr(h,"class","py-2 mb-1 text-left"),attr(O,"class","ps-3 opacity-75"),attr(R,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),attr(X,"class","btnCreate hvr-float d-flex align-items-center justify-content-center text-center svelte-vvqaki"),attr(Y,"class","col-6 my-2"),attr(ee,"class","btnCreate hvr-float d-flex align-items-center justify-content-center text-center svelte-vvqaki"),set_style(ee,"background-color","#E7BB734D"),set_style(ee,"color","black"),attr(Z,"class","col-6 my-2"),attr(K,"class","row"),attr(q,"class","col-12 col-sm-12 col-lg-12 my-4"),attr(B,"class","row"),set_style(j,"min-height","100vh"),attr(l,"id","monDashboard"),attr(l,"class","row p-3 w-100 mx-auto mb-5"),set_style(l,"max-width","1100px")},m(le,fe){append(document.head,t),insert(le,o,fe),insert(le,l,fe),append(l,h),append(l,y),append(l,O),append(l,D),append(l,R),append(l,F),append(l,j),append(j,B),me.block.m(B,me.anchor=null),me.mount=()=>B,me.anchor=W,append(B,W),append(B,q),append(q,K),append(K,Y),append(Y,X),append(K,Q),append(K,Z),append(Z,ee),append(B,te),he.block.m(B,he.anchor=null),he.mount=()=>B,he.anchor=ae,append(B,ae),se.block.m(B,se.anchor=null),se.mount=()=>B,se.anchor=null,insert(le,ie,fe),mount_component(oe,le,fe),ce=!0,ue||(pe=[listen(X,"click",r[12]),listen(ee,"click",r[13])],ue=!0)},p(le,[fe]){r=le,me.ctx=r,fe&8&&U!==(U=r[3])&&handle_promise(U,me)||update_await_block_branch(me,r,fe),he.ctx=r,fe&16&&ne!==(ne=r[4])&&handle_promise(ne,he)||update_await_block_branch(he,r,fe),update_await_block_branch(se,r,fe);const ge={};fe&536870944&&(ge.$$scope={dirty:fe,ctx:r}),oe.$set(ge)},i(le){ce||(transition_in(me.block),J||add_render_callback(()=>{J=create_in_transition(X,fly,{y:50,duration:600,delay:200}),J.start()}),re||add_render_callback(()=>{re=create_in_transition(ee,fly,{y:50,duration:600,delay:200}),re.start()}),transition_in(he.block),transition_in(se.block),transition_in(oe.$$.fragment,le),ce=!0)},o(le){for(let fe=0;fe<3;fe+=1){const ge=he.blocks[fe];transition_out(ge)}transition_out(oe.$$.fragment,le),ce=!1},d(le){detach(t),le&&detach(o),le&&detach(l),me.block.d(),me.token=null,me=null,he.block.d(),he.token=null,he=null,se.block.d(),se.token=null,se=null,le&&detach(ie),destroy_component(oe,le),ue=!1,run_all(pe)}}}const func$1=r=>r.priv,func_1=r=>!r.priv,func_2=r=>!r.priv,func_4=r=>r.reponse.length==0&&r.priv;function instance$7(r,t,e){let o,l;component_subscribe(r,modals,ne=>e(10,l=ne));function h(ne){activePageStore.set(ne)}(xxgc("rtnt")==null||xxgc("rtnu")==null)&&(window.location.href="/"),onMount(()=>{window.location.href.includes("#confirmpay")&&setTimeout(()=>{openModal(ModalMessage,{title:"\u23F1\uFE0F Paiement en cours de v\xE9rification",msg:"Nous allons proc\xE9der \xE0 des v\xE9rifications internes, votre abonnement sera actif sous 12h. Merci de votre confiance."})},800)});let{loadSondage:y}=t,{loadSView:O}=t,D=[];var R=new Headers;R.append("Authorization","Token "+xxgc("rtnt")),R.append("Content-Type","application/json");async function F(){var ne={method:"GET",headers:R,redirect:"follow"};return fetch(rtnUrl+"summaryreps/",ne).then(ae=>ae.text()).then(async ae=>{e(2,D=JSON.parse(ae))}).catch(ae=>ae)}let j=F();function B(ne){if(D.length>0){let ae=getDaysArray(new Date().setDate(new Date().getDate()-30),new Date().setDate(new Date().getDate())).map(ie=>ie.toISOString().slice(0,10)).map(ie=>ie.replaceAll("-","/"));e(2,D=D.map((ie,oe)=>({label:ie.label,data:ae.map(ce=>countOccurrences(ie.data.map(ue=>ue.replaceAll("-","/").split(" ")[0].split("T")[0]),ce)),tension:.2,borderColor:ie.color,backgroundColor:ie.color,borderRadius:5}))),new Chart(ne,{type:"line",data:{labels:ae,datasets:D},options:{scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},datalabels:{color:"white"}}}})}}async function U(){var ne={method:"GET",headers:R,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",ne).then(ae=>ae.text()).then(ae=>JSON.parse(ae)).catch(ae=>ae)}let W=U();const q=()=>{e(4,W=U()),e(3,j=F())};async function K(){var ne={method:"GET",headers:R,redirect:"follow"};return fetch(rtnUrl+"myplan/",ne).then(ae=>{if(ae.ok)return ae.text();throw new Error("Something went wrong")}).then(ae=>JSON.parse(ae)).catch(ae=>{throw new Error("Something went wrong")})}let Y=K();const X=ne=>copyGraph(ne.target.parentElement.previousSibling.previousSibling),J=()=>y("new"),Q=()=>h("templates"),Z=ne=>{openModal(ModalDiffuse,{proj:ne})},ee=ne=>{openModal(ModalDiffuse,{proj:ne})},re=()=>openModal(ModalSubscribe),te=()=>{closeModal()};return r.$$set=ne=>{"loadSondage"in ne&&e(0,y=ne.loadSondage),"loadSView"in ne&&e(1,O=ne.loadSView)},r.$$.update=()=>{r.$$.dirty&1024&&e(5,o=l[l.length-1])},[y,O,D,j,W,o,h,B,q,Y,l,X,J,Q,Z,ee,re,te]}class Summary extends SvelteComponent{constructor(t){super(),init(this,t,instance$7,create_fragment$9,safe_not_equal,{loadSondage:0,loadSView:1})}}var templateCard_svelte_svelte_type_style_lang="";function create_fragment$8(r){let t,e,o,l,h,y,O,D=r[0].cible+"",R,F,j,B=r[0].duree+"",U,W,q,K=r[0].desc+"",Y,X,J,Q,Z;return{c(){t=element("div"),e=element("div"),o=text(r[1]),l=space(),h=element("div"),y=element("ul"),O=element("li"),R=text(D),F=space(),j=element("li"),U=text(B),W=space(),q=element("li"),Y=text(K),X=space(),J=element("div"),J.textContent="Utiliser",attr(e,"class","header svelte-rijapz"),attr(O,"class","svelte-rijapz"),attr(j,"class","svelte-rijapz"),attr(q,"class","svelte-rijapz"),attr(y,"class","listDesc svelte-rijapz"),attr(h,"class","body ml-3 my-2 svelte-rijapz"),attr(J,"class","button hvr-grow svelte-rijapz"),attr(t,"class","neuProjet text-center hvr-float svelte-rijapz")},m(ee,re){insert(ee,t,re),append(t,e),append(e,o),append(t,l),append(t,h),append(h,y),append(y,O),append(O,R),append(y,F),append(y,j),append(j,U),append(y,W),append(y,q),append(q,Y),append(t,X),append(t,J),Q||(Z=listen(J,"click",r[2]),Q=!0)},p(ee,[re]){re&2&&set_data(o,ee[1]),re&1&&D!==(D=ee[0].cible+"")&&set_data(R,D),re&1&&B!==(B=ee[0].duree+"")&&set_data(U,B),re&1&&K!==(K=ee[0].desc+"")&&set_data(Y,K)},i:noop$4,o:noop$4,d(ee){ee&&detach(t),Q=!1,Z()}}}function instance$6(r,t,e){let{loadSondage:o}=t,{nom_proj:l}=t,{category:h}=t,{id:y}=t,{description:O}=t;O=JSON.parse(O);async function D(){var F=new Headers;return F.append("Authorization","Token "+xxgc("rtnt")),F.append("Content-Type","application/json"),fetch(`${rtnUrl}templates/${y}/`,{method:"GET",headers:F,redirect:"follow"}).then(j=>j.text()).then(j=>JSON.parse(j)).catch(j=>j)}const R=async()=>{let F=await D();F.jsonContent=JSON.parse(F.jsonContent),o(F,null)};return r.$$set=F=>{"loadSondage"in F&&e(3,o=F.loadSondage),"nom_proj"in F&&e(1,l=F.nom_proj),"category"in F&&e(4,h=F.category),"id"in F&&e(5,y=F.id),"description"in F&&e(0,O=F.description)},[O,l,R,o,h,y]}class TemplateCard extends SvelteComponent{constructor(t){super(),init(this,t,instance$6,create_fragment$8,safe_not_equal,{loadSondage:3,nom_proj:1,category:4,id:5,description:0})}}function get_each_context(r,t,e){const o=r.slice();return o[5]=t[e],o[7]=e,o}function get_each_context_1(r,t,e){const o=r.slice();return o[8]=t[e],o[10]=e,o}function create_catch_block$2(r){let t,e=r[11]+"",o;return{c(){t=element("div"),o=text(e)},m(l,h){insert(l,t,h),append(t,o)},p:noop$4,i:noop$4,o:noop$4,d(l){l&&detach(t)}}}function create_then_block$2(r){let t,e,o=[...new Set(r[4].map(func))],l=[];for(let y=0;y<o.length;y+=1)l[y]=create_each_block(get_each_context(r,o,y));const h=y=>transition_out(l[y],1,1,()=>{l[y]=null});return{c(){t=element("div");for(let y=0;y<l.length;y+=1)l[y].c();attr(t,"class","row")},m(y,O){insert(y,t,O);for(let D=0;D<l.length;D+=1)l[D].m(t,null);e=!0},p(y,O){if(O&3){o=[...new Set(y[4].map(func))];let D;for(D=0;D<o.length;D+=1){const R=get_each_context(y,o,D);l[D]?(l[D].p(R,O),transition_in(l[D],1)):(l[D]=create_each_block(R),l[D].c(),transition_in(l[D],1),l[D].m(t,null))}for(group_outros(),D=o.length;D<l.length;D+=1)h(D);check_outros()}},i(y){if(!e){for(let O=0;O<o.length;O+=1)transition_in(l[O]);e=!0}},o(y){l=l.filter(Boolean);for(let O=0;O<l.length;O+=1)transition_out(l[O]);e=!1},d(y){y&&detach(t),destroy_each(l,y)}}}function create_each_block_1(r){let t,e,o,l,h;const y=[r[8],{loadSondage:r[0]}];let O={};for(let D=0;D<y.length;D+=1)O=assign$7(O,y[D]);return e=new TemplateCard({props:O}),{c(){t=element("div"),create_component(e.$$.fragment),o=space(),attr(t,"class","col-12 col-sm-6 col-lg-4 mb-5")},m(D,R){insert(D,t,R),mount_component(e,t,null),append(t,o),h=!0},p(D,R){const F=R&3?get_spread_update(y,[R&2&&get_spread_object(D[8]),R&1&&{loadSondage:D[0]}]):{};e.$set(F)},i(D){h||(transition_in(e.$$.fragment,D),l||add_render_callback(()=>{l=create_in_transition(t,fly,{x:-20,delay:r[10]*200*r[7]}),l.start()}),h=!0)},o(D){transition_out(e.$$.fragment,D),h=!1},d(D){D&&detach(t),destroy_component(e)}}}function create_each_block(r){let t,e,o=r[5]+"",l,h,y,O;function D(...B){return r[2](r[5],...B)}let R=r[4].filter(D),F=[];for(let B=0;B<R.length;B+=1)F[B]=create_each_block_1(get_each_context_1(r,R,B));const j=B=>transition_out(F[B],1,1,()=>{F[B]=null});return{c(){t=element("div"),e=element("h2"),l=text(o),h=space();for(let B=0;B<F.length;B+=1)F[B].c();y=empty$2(),attr(t,"class","col-12 mb-4 border-bottom")},m(B,U){insert(B,t,U),append(t,e),append(e,l),insert(B,h,U);for(let W=0;W<F.length;W+=1)F[W].m(B,U);insert(B,y,U),O=!0},p(B,U){if(r=B,U&3){R=r[4].filter(D);let W;for(W=0;W<R.length;W+=1){const q=get_each_context_1(r,R,W);F[W]?(F[W].p(q,U),transition_in(F[W],1)):(F[W]=create_each_block_1(q),F[W].c(),transition_in(F[W],1),F[W].m(y.parentNode,y))}for(group_outros(),W=R.length;W<F.length;W+=1)j(W);check_outros()}},i(B){if(!O){for(let U=0;U<R.length;U+=1)transition_in(F[U]);O=!0}},o(B){F=F.filter(Boolean);for(let U=0;U<F.length;U+=1)transition_out(F[U]);O=!1},d(B){B&&detach(t),B&&detach(h),destroy_each(F,B),B&&detach(y)}}}function create_pending_block$2(r){let t;return{c(){t=element("div")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_fragment$7(r){let t,e,o,l,h,y,O,D,R,F={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$2,then:create_then_block$2,catch:create_catch_block$2,value:4,error:11,blocks:[,,,]};return handle_promise(r[1],F),{c(){t=element("div"),e=element("h1"),e.textContent="Galerie de mod\xE8les",o=space(),l=element("h6"),l.textContent=`R\xE9tine vous propose des mod\xE8les de sondages pr\xEAts \xE0 l'emploi (modifiables), bas\xE9s sur les meilleures pratiques \xE0 adopter afin de maximiser les taux de\r
    r\xE9ponse et obtenir des donn\xE9es qualitatives`,h=space(),y=element("div"),O=space(),D=element("div"),F.block.c(),attr(e,"class","py-2 mb-1 text-left"),attr(l,"class","ps-3 opacity-75"),attr(y,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-3 mb-4"),set_style(D,"min-height","100vh"),attr(t,"id","lesTemplates"),attr(t,"class","row p-3 w-100 mx-auto"),set_style(t,"max-width","1100px")},m(j,B){insert(j,t,B),append(t,e),append(t,o),append(t,l),append(t,h),append(t,y),append(t,O),append(t,D),F.block.m(D,F.anchor=null),F.mount=()=>D,F.anchor=null,R=!0},p(j,[B]){r=j,update_await_block_branch(F,r,B)},i(j){R||(transition_in(F.block),R=!0)},o(j){for(let B=0;B<3;B+=1){const U=F.blocks[B];transition_out(U)}R=!1},d(j){j&&detach(t),F.block.d(),F.token=null,F=null}}}const func=r=>r.category;function instance$5(r,t,e){let{loadSondage:o}=t;async function l(){var O=new Headers;O.append("Authorization","Token "+xxgc("rtnt")),O.append("Content-Type","application/json");var D={method:"GET",headers:O,redirect:"follow"};return fetch(rtnUrl+"templates/",D).then(R=>R.text()).then(R=>JSON.parse(R)).catch(R=>R)}let h=l();const y=(O,D)=>D.category==O;return r.$$set=O=>{"loadSondage"in O&&e(0,o=O.loadSondage)},[o,h,y]}class Templates extends SvelteComponent{constructor(t){super(),init(this,t,instance$5,create_fragment$7,safe_not_equal,{loadSondage:0})}}var _dash_svelte_svelte_type_style_lang="";function create_if_block_7(r){let t,e;return t=new Account({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p:noop$4,i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_if_block_6(r){let t,e;return t=new Campagnes({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p:noop$4,i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_if_block_5(r){let t,e;return t=new Templates({props:{loadSondage:r[3]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p:noop$4,i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_if_block_4(r){let t,e;return t=new ProjectView({props:{projData:r[2]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p(o,l){const h={};l&4&&(h.projData=o[2]),t.$set(h)},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_if_block_3(r){let t,e;return t=new ProjectsList({props:{loadSondage:r[3],loadSView:r[4]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p:noop$4,i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_if_block_1$2(r){let t,e,o,l;const h=[create_if_block_2$2,create_else_block$2],y=[];function O(D,R){return D[1].proj.jsonContent.length!=0?0:1}return t=O(r),e=y[t]=h[t](r),{c(){e.c(),o=empty$2()},m(D,R){y[t].m(D,R),insert(D,o,R),l=!0},p(D,R){let F=t;t=O(D),t===F?y[t].p(D,R):(group_outros(),transition_out(y[F],1,1,()=>{y[F]=null}),check_outros(),e=y[t],e?e.p(D,R):(e=y[t]=h[t](D),e.c()),transition_in(e,1),e.m(o.parentNode,o))},i(D){l||(transition_in(e),l=!0)},o(D){transition_out(e),l=!1},d(D){y[t].d(D),D&&detach(o)}}}function create_if_block$2(r){let t,e;return t=new Summary({props:{loadSondage:r[3],loadSView:r[4]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p:noop$4,i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_else_block$2(r){let t,e;return t=new Editor({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p:noop$4,i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_if_block_2$2(r){let t,e;return t=new Editor({props:{sondageEnCreation:r[1].proj,idSondage:r[1].id}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p(o,l){const h={};l&2&&(h.sondageEnCreation=o[1].proj),l&2&&(h.idSondage=o[1].id),t.$set(h)},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_key_block(r){let t,e,o,l,h,y;const O=[create_if_block$2,create_if_block_1$2,create_if_block_3,create_if_block_4,create_if_block_5,create_if_block_6,create_if_block_7],D=[];function R(F,j){return F[0]==="summary"?0:F[0]==="editor"?1:F[0]==="projects"?2:F[0]==="projectView"?3:F[0]==="templates"?4:F[0]==="contacts"?5:F[0]==="account"?6:-1}return~(e=R(r))&&(o=D[e]=O[e](r)),{c(){t=element("div"),o&&o.c(),attr(t,"class","svelte-1icmhhc")},m(F,j){insert(F,t,j),~e&&D[e].m(t,null),y=!0},p(F,j){let B=e;e=R(F),e===B?~e&&D[e].p(F,j):(o&&(group_outros(),transition_out(D[B],1,1,()=>{D[B]=null}),check_outros()),~e?(o=D[e],o?o.p(F,j):(o=D[e]=O[e](F),o.c()),transition_in(o,1),o.m(t,null)):o=null)},i(F){y||(transition_in(o),add_render_callback(()=>{h&&h.end(1),l=create_in_transition(t,fly,{x:-100}),l.start()}),y=!0)},o(F){transition_out(o),l&&l.invalidate(),h=create_out_transition(t,fly,{x:-50}),y=!1},d(F){F&&detach(t),~e&&D[e].d(),F&&h&&h.end()}}}function create_fragment$6(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe,ge,ye,we,$e,_e,Se,Te,be,Oe,xe,Ee,Ce,ve,Pe,Me,Ne,Be,Fe,Re,ke,Le,De=r[0],Ie,Ve,Ue,ze=create_key_block(r);return{c(){t=element("script"),o=element("script"),h=element("script"),O=space(),D=element("div"),R=element("div"),F=element("nav"),j=element("div"),B=element("div"),U=element("div"),U.innerHTML='<img src="assets/faviconBlanc.ico" style="height:24px;" alt="Logo de r\xE9tine" class="svelte-1icmhhc"/>',W=space(),q=element("div"),K=element("a"),Y=element("i"),X=space(),J=element("span"),J.textContent="Dashboard",Z=space(),ee=element("a"),re=element("i"),te=space(),ne=element("span"),ne.textContent="Cr\xE9er",ie=space(),oe=element("a"),ce=element("i"),ue=space(),pe=element("span"),pe.textContent="Projets",he=space(),se=element("a"),le=element("i"),fe=space(),ge=element("span"),ge.textContent="Mod\xE8les",we=space(),$e=element("a"),_e=element("i"),Se=space(),Te=element("span"),Te.textContent="Contacts",Oe=space(),xe=element("div"),Ee=element("a"),Ce=element("i"),ve=space(),Pe=element("span"),Pe.textContent="Mon compte",Ne=space(),Be=element("a"),Be.innerHTML='<i class="bx bx-log-out nav_icon svelte-1icmhhc"></i>  <span class="nav_name svelte-1icmhhc">D\xE9connexion</span>',Fe=space(),Re=element("div"),ke=element("main"),Le=element("div"),ze.c(),src_url_equal(t.src,e="/assets/scripts/svg-gauge.min.js")||attr(t,"src",e),attr(t,"class","svelte-1icmhhc"),src_url_equal(o.src,l="/assets/scripts/graphFunctions.js")||attr(o,"src",l),attr(o,"class","svelte-1icmhhc"),src_url_equal(h.src,y="https://js.stripe.com/v3/")||attr(h,"src",y),attr(h,"class","svelte-1icmhhc"),attr(U,"class","p-0 mb-2 svelte-1icmhhc"),set_style(U,"font-family","Lexend"),set_style(U,"color","white"),set_style(U,"font-size","1.2rem"),set_style(U,"font-weight","600"),set_style(U,"cursor","pointer"),attr(B,"class","nav_link navbar-brand svelte-1icmhhc"),attr(Y,"class","bx bxs-home nav_icon svelte-1icmhhc"),attr(J,"class","nav_name svelte-1icmhhc"),attr(K,"href","#"),attr(K,"class",Q=null_to_empty(r[0]=="summary"?"nav_link active":"nav_link ")+" svelte-1icmhhc"),attr(re,"class","bx bx-paint nav_icon svelte-1icmhhc"),attr(ne,"class","nav_name svelte-1icmhhc"),attr(ee,"href","#"),attr(ee,"id","creatorTabBtn"),attr(ee,"class",ae=null_to_empty(r[0]=="editor"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(ce,"class","bx bx-grid-alt nav_icon svelte-1icmhhc"),attr(pe,"class","nav_name svelte-1icmhhc"),attr(oe,"href","#"),attr(oe,"class",me=null_to_empty(r[0]=="projects"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(le,"class","bx bx-library nav_icon svelte-1icmhhc"),attr(ge,"class","nav_name svelte-1icmhhc"),attr(se,"href","#"),attr(se,"class",ye=null_to_empty(r[0]=="templates"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(_e,"class","bx bxs-megaphone nav_icon svelte-1icmhhc"),attr(Te,"class","nav_name svelte-1icmhhc"),attr($e,"href","#"),attr($e,"class",be=null_to_empty(r[0]=="contacts"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(q,"class","nav_list svelte-1icmhhc"),attr(j,"class","svelte-1icmhhc"),attr(Ce,"class","bx bxs-user-account nav_icon svelte-1icmhhc"),attr(Pe,"class","nav_name svelte-1icmhhc"),attr(Ee,"href","#"),attr(Ee,"class",Me=null_to_empty(r[0]=="account"?"nav_link active":"nav_link")+" svelte-1icmhhc"),attr(Be,"href","#"),attr(Be,"class","nav_link svelte-1icmhhc"),attr(xe,"class","svelte-1icmhhc"),attr(F,"class","nav svelte-1icmhhc"),attr(R,"class","l-navbar svelte-1icmhhc"),attr(Le,"class","gridForAnimation svelte-1icmhhc"),attr(ke,"class","pt-3 px-1 pb-5 d-flex flex-column align-items-center justify-content-center svelte-1icmhhc"),set_style(ke,"min-height","100vh"),attr(Re,"class","container-fluid px-0 px-md-1 svelte-1icmhhc"),attr(D,"class","body-pd svelte-1icmhhc")},m(Ae,He){append(document.head,t),append(document.head,o),append(document.head,h),insert(Ae,O,He),insert(Ae,D,He),append(D,R),append(R,F),append(F,j),append(j,B),append(B,U),append(j,W),append(j,q),append(q,K),append(K,Y),append(K,X),append(K,J),append(q,Z),append(q,ee),append(ee,re),append(ee,te),append(ee,ne),append(q,ie),append(q,oe),append(oe,ce),append(oe,ue),append(oe,pe),append(q,he),append(q,se),append(se,le),append(se,fe),append(se,ge),append(q,we),append(q,$e),append($e,_e),append($e,Se),append($e,Te),append(F,Oe),append(F,xe),append(xe,Ee),append(Ee,Ce),append(Ee,ve),append(Ee,Pe),append(xe,Ne),append(xe,Be),append(D,Fe),append(D,Re),append(Re,ke),append(ke,Le),ze.m(Le,null),Ie=!0,Ve||(Ue=[listen(U,"click",r[5]),listen(K,"click",r[6]),listen(ee,"click",r[7]),listen(oe,"click",r[8]),listen(se,"click",r[9]),listen($e,"click",r[10]),listen(Ee,"click",r[11]),listen(Be,"click",r[12])],Ve=!0)},p(Ae,[He]){(!Ie||He&1&&Q!==(Q=null_to_empty(Ae[0]=="summary"?"nav_link active":"nav_link ")+" svelte-1icmhhc"))&&attr(K,"class",Q),(!Ie||He&1&&ae!==(ae=null_to_empty(Ae[0]=="editor"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(ee,"class",ae),(!Ie||He&1&&me!==(me=null_to_empty(Ae[0]=="projects"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(oe,"class",me),(!Ie||He&1&&ye!==(ye=null_to_empty(Ae[0]=="templates"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(se,"class",ye),(!Ie||He&1&&be!==(be=null_to_empty(Ae[0]=="contacts"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr($e,"class",be),(!Ie||He&1&&Me!==(Me=null_to_empty(Ae[0]=="account"?"nav_link active":"nav_link")+" svelte-1icmhhc"))&&attr(Ee,"class",Me),He&1&&safe_not_equal(De,De=Ae[0])?(group_outros(),transition_out(ze,1,1,noop$4),check_outros(),ze=create_key_block(Ae),ze.c(),transition_in(ze,1),ze.m(Le,null)):ze.p(Ae,He)},i(Ae){Ie||(transition_in(ze),Ie=!0)},o(Ae){transition_out(ze),Ie=!1},d(Ae){detach(t),detach(o),detach(h),Ae&&detach(O),Ae&&detach(D),ze.d(Ae),Ve=!1,run_all(Ue)}}}function instance$4(r,t,e){let o;activePageStore.subscribe(K=>{e(0,o=K)});let l={proj:{v:vSondage,nom_proj:"",color:"",logo:"",jsonContent:[]},id:null};const h=(K,Y=null)=>{K=="new"?e(1,l={proj:{v:vSondage,nom_proj:"",color:"",logo:"",jsonContent:[]},id:Y}):e(1,l={v:vSondage,proj:K,id:Y}),e(0,o="editor")};let y;return[o,l,y,h,K=>{e(2,y=K),e(0,o="projectView")},()=>e(0,o="summary"),()=>e(0,o="summary"),()=>{h("new")},()=>e(0,o="projects"),()=>e(0,o="templates"),()=>e(0,o="contacts"),()=>e(0,o="account"),()=>{xxec("rtnt"),xxec("rtnu"),window.location.href="/"}]}class Dash extends SvelteComponent{constructor(t){super(),init(this,t,instance$4,create_fragment$6,safe_not_equal,{})}}var sondage_svelte_svelte_type_style_lang="";function create_catch_block$1(r){let t=r[5]+"",e;return{c(){e=text(t)},m(o,l){insert(o,e,l)},p:noop$4,i:noop$4,o:noop$4,d(o){o&&detach(e)}}}function create_then_block$1(r){let t,e,o,l,h,y;return l=new Chat({props:{chatContent:r[4],scode:r[0]}}),{c(){t=element("div"),e=element("div"),o=element("div"),create_component(l.$$.fragment),attr(o,"class","w-100 h-100"),attr(e,"class","containerR svelte-lpd35z"),attr(t,"class","body svelte-lpd35z"),set_style(t,"background-color",r[4].color)},m(O,D){insert(O,t,D),append(t,e),append(e,o),mount_component(l,o,null),y=!0},p:noop$4,i(O){y||(transition_in(l.$$.fragment,O),h||add_render_callback(()=>{h=create_in_transition(o,blur,{duration:200}),h.start()}),y=!0)},o(O){transition_out(l.$$.fragment,O),y=!1},d(O){O&&detach(t),destroy_component(l)}}}function create_pending_block$1(r){return{c:noop$4,m:noop$4,p:noop$4,i:noop$4,o:noop$4,d:noop$4}}function create_fragment$5(r){let t,e,o={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block$1,then:create_then_block$1,catch:create_catch_block$1,value:4,error:5,blocks:[,,,]};return handle_promise(r[1],o),{c(){t=empty$2(),o.block.c()},m(l,h){insert(l,t,h),o.block.m(l,o.anchor=h),o.mount=()=>t.parentNode,o.anchor=t,e=!0},p(l,[h]){r=l,update_await_block_branch(o,r,h)},i(l){e||(transition_in(o.block),e=!0)},o(l){for(let h=0;h<3;h+=1){const y=o.blocks[h];transition_out(y)}e=!1},d(l){l&&detach(t),o.block.d(l),o.token=null,o=null}}}function instance$3(r){let t=window.location.href.split("#");async function e(){var l=new Headers;return l.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/pub/${t[1]}/`,{method:"GET",headers:l,redirect:"follow"}).then(h=>h.text()).then(h=>{let y=JSON.parse(h);return y.jsonContent=JSON.parse(y.jsonContent),console.log(y),y}).catch(h=>{throw new Error(h)})}let o=e();return[t,o]}class Sondage extends SvelteComponent{constructor(t){super(),init(this,t,instance$3,create_fragment$5,safe_not_equal,{})}}var publicEditor_svelte_svelte_type_style_lang="";function create_fragment$4(r){let t,e,o;return e=new Editor({props:{demoMode:!0}}),{c(){t=element("div"),create_component(e.$$.fragment),attr(t,"class","editorContainer svelte-laokcu")},m(l,h){insert(l,t,h),mount_component(e,t,null),o=!0},p:noop$4,i(l){o||(transition_in(e.$$.fragment,l),o=!0)},o(l){transition_out(e.$$.fragment,l),o=!1},d(l){l&&detach(t),destroy_component(e)}}}class PublicEditor extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment$4,safe_not_equal,{})}}var tuto_svelte_svelte_type_style_lang="";function create_fragment$3(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y;return{c(){t=element("div"),e=element("h1"),e.textContent="\u{1F4D6} Documentation",o=space(),l=element("div"),h=space(),y=element("div"),O=element("div"),D=element("div"),D.innerHTML=`<div class="d-flex flex-column flex-md-row justify-content-around align-items-center"><div class="pr-0 pr-md-4"><lottie-player src="https://assets1.lottiefiles.com/packages/lf20_e8zq5gga.json" background="transparent" speed="1" style="width:250px; margin:auto;" autoplay=""></lottie-player></div> 
          <div class="m-auto h-100"><h5>Bienvenue dans ce tutoriel d\u2019utilisation de la plateforme R\xE9tine !</h5> 
            <p>Si jamais une zone d\u2019ombre subsiste ou que vous rencontrez un probl\xE8me technique, \xE9crivez-nous \xE0 bonjour@retine.io</p></div></div>`,F=space(),j=element("div"),B=element("div"),B.innerHTML=`<h5>1. Se connecter</h5> 
        <p>Pour vous connecter \xE0 votre espace R\xE9tine, rendez-vous sur retine.io puis cliquez sur le bouton \u201CMon compte\u201D. Cliquez sur \u201CD\xE9j\xE0 un compte ?\u201D si vous
          poss\xE9dez d\xE9j\xE0 vos identifiants.</p> 
        <div class="pr-0 pr-md-4">vid\xE9o</div>`,W=space(),q=element("div"),K=element("div"),K.innerHTML=`<h5>2. Naviguer sur la plateforme</h5> 
        <p>Une fois connect\xE9, vous arrivez sur votre tableau de bord. Cette page r\xE9sume votre activit\xE9, en pr\xE9sentant le nombre de r\xE9ponses que vos sondages ont
          obtenus r\xE9cemment. Elle vous permet \xE9galement de cr\xE9er un nouveau sondage, charger un template ou encore acc\xE9der \xE0 vos sondages (publi\xE9s ou encore au
          statut de brouillon).</p> 
        <p>La navigation se fait librement gr\xE2ce \xE0 la barre lat\xE9rale, sur la gauche, qui vous permet d\u2019acc\xE9der aux onglets suivants :</p> 
        <ul><li>\u{1F3E0} : votre tableau de bord</li> 
          <li>\u{1F58C}\uFE0F : l\u2019**interface de cr\xE9ation** de sondages</li> 
          <li>\u{1F522} : l\u2019**ensemble de vos sondages** (publi\xE9s &amp; brouillons) ainsi que l\u2019acc\xE8s aux **r\xE9sultats**</li> 
          <li>\u{1F4DA} : la **galerie de templates** (des mod\xE8les de sondages pr\xE9con\xE7us par notre \xE9quipe)</li> 
          <li>\u{1F508} : l\u2019onglet de gestion des **campagnes**, vous permettant de cr\xE9er des listes de diffusion et de partager vos sondages</li></ul> 
        <div class="pr-0 pr-md-4">vid\xE9o</div>`,attr(e,"class","py-2 mb-3 text-center"),attr(l,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3"),attr(D,"class","neuProjet p-2 p-md-4 svelte-15aqkil"),attr(O,"class","col-12 col-sm-12 col-lg-12 mb-4"),attr(B,"class","neuProjet p-2 p-md-4 svelte-15aqkil"),attr(j,"class","col-12 col-sm-12 col-lg-12 mb-4"),attr(K,"class","neuProjet p-2 p-md-4 svelte-15aqkil"),attr(q,"class","col-12 col-sm-12 col-lg-12 mb-4"),attr(y,"id","monDashboard"),attr(y,"class","row p-3 w-100 mx-auto mb-5"),set_style(y,"max-width","1100px"),attr(t,"class","body p-1 p-md-5 svelte-15aqkil")},m(X,J){insert(X,t,J),append(t,e),append(t,o),append(t,l),append(t,h),append(t,y),append(y,O),append(O,D),append(y,F),append(y,j),append(j,B),append(y,W),append(y,q),append(q,K)},p:noop$4,i(X){R||add_render_callback(()=>{R=create_in_transition(D,fly,{y:50,duration:600,delay:50}),R.start()}),U||add_render_callback(()=>{U=create_in_transition(B,fly,{y:50,duration:600,delay:50}),U.start()}),Y||add_render_callback(()=>{Y=create_in_transition(K,fly,{y:50,duration:600,delay:50}),Y.start()})},o:noop$4,d(X){X&&detach(t)}}}function instance$2(r){return window.location.href="https://pierrebaptiste.notion.site/R-tine-Tutoriel-d5bafafecca840feb9c40f6e6d05c6b3",[]}class Tuto extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$3,safe_not_equal,{})}}var publicProjectView_svelte_svelte_type_style_lang="";function create_catch_block(r){let t;return{c(){t=text("Erreur")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_then_block(r){let t,e,o,l;const h=[create_if_block$1,create_else_block$1],y=[];function O(D,R){return D[2]?0:1}return t=O(r),e=y[t]=h[t](r),{c(){e.c(),o=empty$2()},m(D,R){y[t].m(D,R),insert(D,o,R),l=!0},p(D,R){let F=t;t=O(D),t===F?y[t].p(D,R):(group_outros(),transition_out(y[F],1,1,()=>{y[F]=null}),check_outros(),e=y[t],e?e.p(D,R):(e=y[t]=h[t](D),e.c()),transition_in(e,1),e.m(o.parentNode,o))},i(D){l||(transition_in(e),l=!0)},o(D){transition_out(e),l=!1},d(D){y[t].d(D),D&&detach(o)}}}function create_else_block$1(r){let t,e,o,l;function h(D,R){return D[8].nom_proj!=null?create_if_block_1$1:create_else_block_1}let O=h(r)(r);return{c(){t=element("div"),e=element("div"),O.c(),attr(e,"class","cardConnex p-4 p-md-5 svelte-1h3xw5e"),attr(t,"class","lockScreen container-fluid d-flex align-items-center justify-content-center svelte-1h3xw5e"),set_style(t,"background-color",r[8].color)},m(D,R){insert(D,t,R),append(t,e),O.m(e,null),l=!0},p(D,R){O.p(D,R)},i(D){l||(o&&o.end(1),l=!0)},o(D){o=create_out_transition(t,fly,{y:-20,duration:500}),l=!1},d(D){D&&detach(t),O.d(),D&&o&&o.end()}}}function create_if_block$1(r){let t,e;return t=new ProjectView({props:{projData:r[8],invit:[r[3],r[0]]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},p(o,l){const h={};l&1&&(h.invit=[o[3],o[0]]),t.$set(h)},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_else_block_1(r){let t;return{c(){t=element("div"),t.textContent="Lien incorrect.",attr(t,"class","text-center")},m(e,o){insert(e,t,o)},p:noop$4,d(e){e&&detach(t)}}}function create_if_block_1$1(r){let t,e,o,l,h,y=r[8].nom_proj+"",O,D,R,F,j,B,U,W,q,K,Y,X,J,Q=r[1]!=""&&create_if_block_2$1(r);return{c(){t=element("h2"),t.textContent="Connexion aux r\xE9sultats",e=space(),o=element("p"),l=text("Saissez votre code pour acc\xE9der aux r\xE9sultats de "),h=element("span"),O=text(y),D=text("."),R=space(),F=element("div"),j=element("div"),B=element("input"),U=space(),W=element("div"),q=element("div"),q.innerHTML='<i class="bx bx-right-arrow-alt"></i>',K=space(),Y=element("div"),Q&&Q.c(),set_style(h,"color",r[8].color),attr(B,"class","inputCode svelte-1h3xw5e"),attr(B,"type","text"),attr(B,"maxlength","50"),attr(B,"placeholder","Code d'acc\xE8s..."),attr(j,"class","col-9"),attr(q,"class","unlockBtn hvr-grow svelte-1h3xw5e"),attr(W,"class","col-3"),attr(F,"class","py-3 row")},m(Z,ee){insert(Z,t,ee),insert(Z,e,ee),insert(Z,o,ee),append(o,l),append(o,h),append(h,O),append(o,D),insert(Z,R,ee),insert(Z,F,ee),append(F,j),append(j,B),set_input_value(B,r[0]),append(F,U),append(F,W),append(W,q),insert(Z,K,ee),insert(Z,Y,ee),Q&&Q.m(Y,null),X||(J=[listen(B,"input",r[6]),listen(q,"click",r[4])],X=!0)},p(Z,ee){ee&1&&B.value!==Z[0]&&set_input_value(B,Z[0]),Z[1]!=""?Q?Q.p(Z,ee):(Q=create_if_block_2$1(Z),Q.c(),Q.m(Y,null)):Q&&(Q.d(1),Q=null)},d(Z){Z&&detach(t),Z&&detach(e),Z&&detach(o),Z&&detach(R),Z&&detach(F),Z&&detach(K),Z&&detach(Y),Q&&Q.d(),X=!1,run_all(J)}}}function create_if_block_2$1(r){let t;return{c(){t=text(r[1])},m(e,o){insert(e,t,o)},p(e,o){o&2&&set_data(t,e[1])},d(e){e&&detach(t)}}}function create_pending_block(r){let t;return{c(){t=text("Chargement...")},m(e,o){insert(e,t,o)},p:noop$4,i:noop$4,o:noop$4,d(e){e&&detach(t)}}}function create_fragment$2(r){let t,e,o,l,h,y,O,D,R={ctx:r,current:null,token:null,hasCatch:!0,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:8,error:9,blocks:[,,,]};return handle_promise(r[5],R),{c(){t=element("link"),e=element("script"),l=element("script"),y=space(),O=element("div"),R.block.c(),attr(t,"rel","stylesheet"),attr(t,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),src_url_equal(e.src,o="/assets/scripts/svg-gauge.min.js")||attr(e,"src",o),src_url_equal(l.src,h="/assets/scripts/graphFunctions.js")||attr(l,"src",h),attr(O,"class","body svelte-1h3xw5e")},m(F,j){append(document.head,t),append(document.head,e),append(document.head,l),insert(F,y,j),insert(F,O,j),R.block.m(O,R.anchor=null),R.mount=()=>O,R.anchor=null,D=!0},p(F,[j]){r=F,update_await_block_branch(R,r,j)},i(F){D||(transition_in(R.block),D=!0)},o(F){for(let j=0;j<3;j+=1){const B=R.blocks[j];transition_out(B)}D=!1},d(F){detach(t),detach(e),detach(l),F&&detach(y),F&&detach(O),R.block.d(),R.token=null,R=null}}}function instance$1(r,t,e){let o=window.location.href.split("#")[1],l="",h="",y=!1;function O(){var j=new Headers;j.append("Content-Type","application/json");var B={method:"POST",headers:j,redirect:"follow",body:JSON.stringify({sid:o,spw:l,fltr1:"",fltr2:""})};return fetch(`${rtnUrl}repspub/`,B).then(U=>{if(U.ok){e(2,y=!0);return}else throw e(1,h="Mot de passe incorrect."),new Error("Something went wrong")}).catch(U=>U)}async function D(){var j=new Headers;j.append("Content-Type","application/json");var B={method:"GET",headers:j,redirect:"follow"};return fetch(`${rtnUrl}sondpub/${o}`,B).then(U=>U.text()).then(U=>JSON.parse(U)).catch(U=>U)}let R=D();function F(){l=this.value,e(0,l)}return[l,h,y,o,O,R,F]}class PublicProjectView extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$2,safe_not_equal,{})}}var indexJE_svelte_svelte_type_style_lang="";function create_if_block_1(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re;function te(ie,oe){return xxgc("rtnt")!=null&&xxgc("rtnt")!=null?create_if_block_2:create_else_block}let ae=te()(r);return{c(){ae.c(),t=space(),e=element("img"),l=space(),h=element("div"),y=element("div"),O=element("span"),D=element("div"),R=element("div"),R.innerHTML='<span style="color:#6219D8">R\xE9tine</span> pour <span class="colortxt svelte-13i3k95">J.E</span>',j=space(),B=element("h2"),B.innerHTML="La nouvelle \xE8re <br/>de l&#39;opinion",W=space(),q=element("button"),q.textContent="\u26A1 Cr\xE9er un sondage 2.0",Y=space(),X=element("div"),J=element("div"),Q=element("div"),Q.innerHTML='<div class="w-100 h-100 d-flex align-items-center justify-content-center svelte-13i3k95" style="border-radius: 15px;"><iframe class="integratedSondage svelte-13i3k95" id="sondageRetine" title="Mon sondage R\xE9tine" src="https://retine.io/sondage#843a213"></iframe></div>',attr(e,"class","logoJtvBig svelte-13i3k95"),src_url_equal(e.src,o="assets/LOGO_JTV_ALT.svg")||attr(e,"src",o),attr(e,"alt","logo de Jetevois"),set_style(e,"width","90vw"),set_style(e,"max-width","800px"),set_style(e,"left","50%"),set_style(e,"top","50%"),set_style(e,"transform","translate(-50%,-50%)"),set_style(e,"animation","float 2s ease-in-out infinite"),attr(R,"class","retineTitle svelte-13i3k95"),attr(B,"class","retineSlogan svelte-13i3k95"),attr(q,"class","neuBtnClear mt-4 svelte-13i3k95"),attr(D,"class","centerTitle h-100 text-center text-md-start d-flex align-items-center align-items-md-start justify-content-center svelte-13i3k95"),attr(y,"class","col-12 col-md-6"),attr(Q,"class","iphone-x mx-auto my-4 h-100 svelte-13i3k95"),attr(J,"class","d-flex align-items-center justify-content-center"),set_style(J,"height","100%"),attr(X,"class","col-12 col-md-6 p-4 p-md-0"),attr(h,"class","row h-100 w-100 p-1 p-md-4")},m(ie,oe){ae.m(ie,oe),insert(ie,t,oe),insert(ie,e,oe),insert(ie,l,oe),insert(ie,h,oe),append(h,y),append(y,O),append(O,D),append(D,R),append(D,j),append(D,B),append(D,W),append(D,q),append(h,Y),append(h,X),append(X,J),append(J,Q),ee||(re=listen(q,"click",r[7]),ee=!0)},p(ie,oe){ae.p(ie,oe)},i(ie){F||add_render_callback(()=>{F=create_in_transition(R,fly,{y:50,duration:500,delay:100}),F.start()}),U||add_render_callback(()=>{U=create_in_transition(B,fly,{y:50,duration:500,delay:200}),U.start()}),K||add_render_callback(()=>{K=create_in_transition(q,fly,{y:50,duration:500,delay:300}),K.start()}),Z||add_render_callback(()=>{Z=create_in_transition(Q,fly,{y:50,duration:700,delay:400}),Z.start()})},o:noop$4,d(ie){ae.d(ie),ie&&detach(t),ie&&detach(e),ie&&detach(l),ie&&detach(h),ee=!1,re()}}}function create_else_block(r){let t,e,o,l;return{c(){t=element("div"),e=element("button"),e.innerHTML=`<i class="bx bx-log-in" width="1.4em" color="white" style="padding-right:5px"></i> 
            <div>Connexion | Inscription</div>`,attr(e,"class","purpleBtn svelte-13i3k95"),attr(t,"class","connexBtn svelte-13i3k95")},m(h,y){insert(h,t,y),append(t,e),o||(l=listen(e,"click",r[6]),o=!0)},p:noop$4,d(h){h&&detach(t),o=!1,l()}}}function create_if_block_2(r){let t,e,o,l;return{c(){t=element("div"),e=element("button"),e.innerHTML=`<i class="bx bx-log-in" width="1.4em" color="white" style="padding-right:5px"></i> 
            <div>Mon tableau de bord</div>`,attr(e,"class","purpleBtn svelte-13i3k95"),attr(t,"class","connexBtn svelte-13i3k95")},m(h,y){insert(h,t,y),append(t,e),o||(l=listen(e,"click",r[5]),o=!0)},p:noop$4,d(h){h&&detach(t),o=!1,l()}}}function create_if_block(r){let t,e,o,l,h,y,O;const D=[r[3].props||{}];var R=r[3].component;function F(j){let B={};for(let U=0;U<D.length;U+=1)B=assign$7(B,D[U]);return{props:B}}return R&&(t=new R(F())),{c(){t&&create_component(t.$$.fragment),e=space(),o=element("div"),attr(o,"class","backdrop svelte-13i3k95")},m(j,B){t&&mount_component(t,j,B),insert(j,e,B),insert(j,o,B),h=!0,y||(O=listen(o,"click",r[13]),y=!0)},p(j,B){const U=B&8?get_spread_update(D,[get_spread_object(j[3].props||{})]):{};if(R!==(R=j[3].component)){if(t){group_outros();const W=t;transition_out(W.$$.fragment,1,0,()=>{destroy_component(W,1)}),check_outros()}R?(t=new R(F()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,e.parentNode,e)):t=null}else R&&t.$set(U)},i(j){h||(t&&transition_in(t.$$.fragment,j),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(j){t&&transition_out(t.$$.fragment,j),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(j){t&&destroy_component(t,j),j&&detach(e),j&&detach(o),j&&l&&l.end(),y=!1,O()}}}function create_default_slot$1(r){let t,e,o=r[3]&&create_if_block(r);return{c(){o&&o.c(),t=empty$2()},m(l,h){o&&o.m(l,h),insert(l,t,h),e=!0},p(l,h){l[3]?o?(o.p(l,h),h&8&&transition_in(o,1)):(o=create_if_block(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){e||(transition_in(o),e=!0)},o(l){transition_out(o),e=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$1(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W,q,K,Y,X,J,Q,Z,ee,re,te,ne,ae,ie,oe,ce,ue,pe,me,he,se,le,fe,ge,ye,we,$e,_e,Se,Te,be,Oe,xe,Ee,Ce,ve,Pe,Me,Ne,Be,Fe,Re,ke,Le,De,Ie,Ve,Ue,ze,Ae,He,Ke,je,Xe,tt,Ge,We,Qe,qe,Je,at,lt,ot,dt=r[1]?"62\u20AC":"69\u20AC",_t,ht,wt,ft,St,mt,Et,vt,Tt,ct,kt,gt,Pt,yt,$t,st,ut,bt,Ot,et=r[0]&&create_if_block_1(r);function Dt(Ye){r[11](Ye)}let Ct={};return r[1]!==void 0&&(Ct.checked=r[1]),je=new Switch({props:Ct}),binding_callbacks.push(()=>bind$f(je,"checked",Dt)),st=new Modals({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:r}}}),{c(){t=element("link"),e=space(),o=element("div"),l=element("div"),et&&et.c(),h=space(),y=element("div"),O=space(),D=element("div"),R=element("h1"),R.innerHTML='<span style="color:#6219D8">R\xE9tine</span> est un outil de sondage <br/>pens\xE9 pour les <span class="colortxt svelte-13i3k95">Junior Entreprises</span>',F=space(),j=element("div"),B=element("div"),U=element("div"),W=element("div"),q=element("div"),K=element("h4"),K.textContent="1. Cr\xE9ez",Y=space(),X=element("p"),J=text("Facilement des questionnaires modernes, interactifs et "),Q=element("span"),Q.textContent="engageants.",Z=space(),ee=element("div"),re=element("div"),te=element("h4"),te.textContent="2. Collectez",ne=space(),ae=element("p"),ie=text("Des r\xE9ponses aupr\xE8s de vos cibles, gr\xE2ce \xE0 une interface "),oe=element("span"),oe.textContent="maximisant les taux de r\xE9ponses.",ce=space(),ue=element("p"),ue.textContent="Diffusez vos enqu\xEAtes par mail, lien, QR code, HTML...",pe=space(),me=element("div"),he=element("div"),se=element("h4"),se.textContent="3. Analysez",le=space(),fe=element("p"),ge=text("Les r\xE9sultats gr\xE2ce \xE0 un dashboard et \xE0 l\u2019IA int\xE9gr\xE9e et conservez la "),ye=element("span"),ye.textContent="plus-value p\xE9dagogique.",we=space(),$e=element("p"),_e=text("G\xE9n\xE9rez un "),Se=element("span"),Se.textContent="lien d\u2019acc\xE8s aux r\xE9ponses",Te=text(", s\xE9curis\xE9, pour vos consultants et clients."),be=space(),Oe=element("div"),Oe.innerHTML='<div class="productImages p-3 svelte-13i3k95"><img class="h-100 m-auto" src="assets/landing/pad.png" alt="product"/></div>',xe=space(),Ee=element("div"),Ce=space(),ve=element("div"),ve.innerHTML=`<h1 class="mx-auto mb-5">Adapt\xE9 \xE0 tous vos <span class="colortxt svelte-13i3k95">usages</span></h1> 

    <div class="row p-3"><div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">Etude de <br/>satisfaction \u2B50</div></div></div> 
      <div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">Etude de <br/>march\xE9 \u{1F4C8}</div></div></div> 
      <div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">Etude de <br/>notori\xE9t\xE9 \u{1F440}</div></div></div> 
      <div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">Etude de <br/>positionnement \u{1F4A1}</div></div></div> 
      <div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">Entretiens <br/>qualitatifs \u{1F64B}</div></div></div> 
      <div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">Enqu\xEAtes <br/>quantitatives \u200D\u{1F4BB}</div></div></div> 
      <div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">Inscriptions <br/>\xE9v\xE8nementielles \u{1F516}</div></div></div> 
      <div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">Exp\xE9rience <br/>client \u{1F5E3}\uFE0F</div></div></div> 
      <div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">Exp\xE9rience <br/>employ\xE9 \u{1F5E3}\uFE0F</div></div></div> 
      <div class="col-3 p-3"><div class="neuTile text-start svelte-13i3k95"><div class="usagesText svelte-13i3k95">....</div></div></div></div>`,Pe=space(),Me=element("div"),Ne=space(),Be=element("div"),Be.innerHTML=`<h1 class="mx-auto mb-5">Connect\xE9 \xE0 tous les <span class="colortxt svelte-13i3k95">\xE9cosyst\xE8mes</span></h1> 

    <div><div class="d-flex flex-row flex-wrap align-items-center justify-content-center px-4"><div class="p-3"><div class="neuTile w-100 text-start svelte-13i3k95"><div class="ecosysText svelte-13i3k95"><img src="https://cdn.worldvectorlogo.com/logos/office-1.svg" alt="slack logo" class="svelte-13i3k95"/></div></div></div> 
        <div class="p-3"><div class="neuTile w-100 text-start svelte-13i3k95"><div class="ecosysText svelte-13i3k95"><img src="https://www.vectorlogo.zone/logos/google/google-icon.svg" alt="slack logo" class="svelte-13i3k95"/></div></div></div> 
        <div class="p-3"><div class="neuTile w-100 text-start svelte-13i3k95"><div class="ecosysText svelte-13i3k95"><img src="https://cdn.worldvectorlogo.com/logos/official-gmail-icon-2020-.svg" alt="slack logo" class="svelte-13i3k95"/></div></div></div> 
        <div class="p-3"><div class="neuTile w-100 text-start svelte-13i3k95"><div class="ecosysText svelte-13i3k95"><img src="https://cdn.worldvectorlogo.com/logos/slack-new-logo.svg" alt="slack logo" class="svelte-13i3k95"/></div></div></div> 
        <div class="p-3"><div class="neuTile w-100 text-start svelte-13i3k95"><div class="ecosysText svelte-13i3k95"><img src="https://cdn.worldvectorlogo.com/logos/trello.svg" alt="slack logo" class="svelte-13i3k95"/></div></div></div> 
        <div class="p-3"><div class="neuTile w-100 text-start svelte-13i3k95"><div class="ecosysText svelte-13i3k95"><img src="https://cdn.worldvectorlogo.com/logos/notion-2.svg" alt="slack logo" class="svelte-13i3k95"/></div></div></div> 
        <div class="p-3"><div class="neuTile w-100 text-start svelte-13i3k95"><div class="ecosysText svelte-13i3k95"><img src="https://cdn.worldvectorlogo.com/logos/discord.svg" alt="slack logo" class="svelte-13i3k95"/></div></div></div> 
        <div class="p-3"><div class="neuTile w-100 text-start svelte-13i3k95"><div class="ecosysText svelte-13i3k95"><img src="https://www.vectorlogo.zone/logos/airtable/airtable-icon.svg" alt="slack logo" class="svelte-13i3k95"/></div></div></div></div></div>`,Fe=space(),Re=element("div"),ke=space(),Le=element("div"),De=space(),Ie=element("div"),Ve=element("h1"),Ve.innerHTML='Le tout, \xE0 un <span class="colortxt svelte-13i3k95">prix comp\xE9titif</span>',Ue=space(),ze=element("div"),Ae=element("div"),Ae.textContent="Mensuel",He=space(),Ke=element("div"),create_component(je.$$.fragment),tt=space(),Ge=element("div"),Ge.textContent="Annuel (-10%)",We=space(),Qe=element("div"),qe=element("div"),Je=element("div"),at=element("div"),at.textContent="R\xE9tine Pro",lt=space(),ot=element("h1"),_t=text(dt),ht=element("span"),ht.textContent="/mois",wt=space(),ft=element("span"),ft.textContent="(TTC)",St=space(),mt=element("p"),mt.textContent="La pleine puissance de R\xE9tine, calibr\xE9e pour les professionnels",Et=space(),vt=element("ul"),vt.innerHTML=`<li>Fonctionnalit\xE9s compl\xE8tes de R\xE9tine (cr\xE9ation des sondages, envoi massif et analyse)</li> 
            <li>Acc\xE8s \xE0 l\u2019ensemble des templates de sondages (50+)</li> 
            <li>Nombre de r\xE9pondants illimit\xE9s</li> 
            <li>Nombre de contacts illimit\xE9s</li> 
            <li>Support 7/7</li>`,Tt=space(),ct=element("div"),ct.textContent="C'est parti \u{1F680}",kt=space(),gt=element("div"),gt.innerHTML=`<div class="priceCard neuPriceCard neuTile hvr-float flex-grow-1 svelte-13i3k95" style="height:fit-content; background-color:#FAF7FF "><div class="tickk svelte-13i3k95">Un besoin particulier ?</div> 
          <p class="svelte-13i3k95">R\xE9tine vous accompagne sur-mesure</p> 
          <ul class="svelte-13i3k95"><li>Ciblage des r\xE9pondants</li> 
            <li>Cr\xE9ation de questionnaires</li> 
            <li>Optimisation des campagnes</li></ul> 
          <a style="color:black; text-decoration:none;" href="mailto:bonjour@retine.io"><div class="priceActionButton svelte-13i3k95">Contactez nous \u{1F680}</div></a></div>`,Pt=space(),yt=element("footer"),yt.innerHTML=`<a class="footerPill svelte-13i3k95" style="text-decoration:none;" href="https://jetevois.fr/" target="_noref">R\xE9tine est un produit cr\xE9\xE9 <br class="d-inline d-md-none"/>par le studio <img src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois" class="svelte-13i3k95"/> 
      <strong>Je te vois</strong></a> 
    <div class="footerLegal svelte-13i3k95">\xA9 2020-2022 / <a href="https://retine.io/ml.pdf" class="mx-2 svelte-13i3k95">Mentions l\xE9gales</a> 

      <div class="socialIcon svelte-13i3k95"><a href="https://www.linkedin.com/company/retine" rel="noopener" target="_blank" class="icon-17 linkedin svelte-13i3k95" title="LinkedIn"><svg viewBox="0 0 512 512"><path d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z"></path></svg></a></div> 
      <div class="socialIcon svelte-13i3k95"><a href="https://twitter.com/RetineApp" rel="noopener" target="_blank" class="icon-26 twitter svelte-13i3k95" title="Twitter"><svg viewBox="0 0 512 512"><path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"></path></svg></a></div> 
      <div class="socialIcon svelte-13i3k95"><a href="https://www.instagram.com/retineapp/" rel="noopener" target="_blank" class="icon-15 instagram svelte-13i3k95" title="Instagram"><svg viewBox="0 0 512 512"><g><path d="M256 109.3c47.8 0 53.4 0.2 72.3 1 17.4 0.8 26.9 3.7 33.2 6.2 8.4 3.2 14.3 7.1 20.6 13.4 6.3 6.3 10.1 12.2 13.4 20.6 2.5 6.3 5.4 15.8 6.2 33.2 0.9 18.9 1 24.5 1 72.3s-0.2 53.4-1 72.3c-0.8 17.4-3.7 26.9-6.2 33.2 -3.2 8.4-7.1 14.3-13.4 20.6 -6.3 6.3-12.2 10.1-20.6 13.4 -6.3 2.5-15.8 5.4-33.2 6.2 -18.9 0.9-24.5 1-72.3 1s-53.4-0.2-72.3-1c-17.4-0.8-26.9-3.7-33.2-6.2 -8.4-3.2-14.3-7.1-20.6-13.4 -6.3-6.3-10.1-12.2-13.4-20.6 -2.5-6.3-5.4-15.8-6.2-33.2 -0.9-18.9-1-24.5-1-72.3s0.2-53.4 1-72.3c0.8-17.4 3.7-26.9 6.2-33.2 3.2-8.4 7.1-14.3 13.4-20.6 6.3-6.3 12.2-10.1 20.6-13.4 6.3-2.5 15.8-5.4 33.2-6.2C202.6 109.5 208.2 109.3 256 109.3M256 77.1c-48.6 0-54.7 0.2-73.8 1.1 -19 0.9-32.1 3.9-43.4 8.3 -11.8 4.6-21.7 10.7-31.7 20.6 -9.9 9.9-16.1 19.9-20.6 31.7 -4.4 11.4-7.4 24.4-8.3 43.4 -0.9 19.1-1.1 25.2-1.1 73.8 0 48.6 0.2 54.7 1.1 73.8 0.9 19 3.9 32.1 8.3 43.4 4.6 11.8 10.7 21.7 20.6 31.7 9.9 9.9 19.9 16.1 31.7 20.6 11.4 4.4 24.4 7.4 43.4 8.3 19.1 0.9 25.2 1.1 73.8 1.1s54.7-0.2 73.8-1.1c19-0.9 32.1-3.9 43.4-8.3 11.8-4.6 21.7-10.7 31.7-20.6 9.9-9.9 16.1-19.9 20.6-31.7 4.4-11.4 7.4-24.4 8.3-43.4 0.9-19.1 1.1-25.2 1.1-73.8s-0.2-54.7-1.1-73.8c-0.9-19-3.9-32.1-8.3-43.4 -4.6-11.8-10.7-21.7-20.6-31.7 -9.9-9.9-19.9-16.1-31.7-20.6 -11.4-4.4-24.4-7.4-43.4-8.3C310.7 77.3 304.6 77.1 256 77.1L256 77.1z"></path><path d="M256 164.1c-50.7 0-91.9 41.1-91.9 91.9s41.1 91.9 91.9 91.9 91.9-41.1 91.9-91.9S306.7 164.1 256 164.1zM256 315.6c-32.9 0-59.6-26.7-59.6-59.6s26.7-59.6 59.6-59.6 59.6 26.7 59.6 59.6S288.9 315.6 256 315.6z"></path><circle cx="351.5" cy="160.5" r="21.5"></circle></g></svg></a></div></div>`,$t=space(),create_component(st.$$.fragment),attr(t,"rel","stylesheet"),attr(t,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),attr(l,"class","landingHead pt-5 svelte-13i3k95"),attr(y,"class","SEPARATOR svelte-13i3k95"),attr(R,"class","mx-auto mb-5"),attr(Q,"class","svelte-13i3k95"),toggle_class(Q,"colorrtn",r[2]!=1),attr(X,"class","svelte-13i3k95"),attr(q,"class","neuTile hvr-grow text-start svelte-13i3k95"),toggle_class(q,"selectedTile",r[2]==1),attr(W,"class","col-12 p-3"),attr(oe,"class","svelte-13i3k95"),toggle_class(oe,"colorrtn",r[2]!=2),attr(ae,"class","svelte-13i3k95"),attr(ue,"class","svelte-13i3k95"),attr(re,"class","neuTile hvr-grow text-start svelte-13i3k95"),toggle_class(re,"selectedTile",r[2]==2),attr(ee,"class","col-12 p-3"),attr(ye,"class","svelte-13i3k95"),toggle_class(ye,"colorrtn",r[2]!=3),attr(fe,"class","svelte-13i3k95"),attr(Se,"class","svelte-13i3k95"),toggle_class(Se,"colorrtn",r[2]!=3),attr($e,"class","svelte-13i3k95"),attr(he,"class","neuTile hvr-grow text-start svelte-13i3k95"),toggle_class(he,"selectedTile",r[2]==3),attr(me,"class","col-12 p-3"),attr(U,"class","row"),attr(B,"class","col-12 col-md-5"),attr(Oe,"class","col-12 col-md-7"),attr(j,"class","row w-100 p-4"),attr(D,"class","landingTwo mx-auto pt-5 pt-md-0 svelte-13i3k95"),set_style(D,"max-width","1100px"),attr(Ee,"class","SEPARATOR svelte-13i3k95"),attr(ve,"class","landingTwo mx-auto pt-5 pt-md-0 svelte-13i3k95"),set_style(ve,"max-width","1100px"),attr(Me,"class","SEPARATOR svelte-13i3k95"),attr(Be,"class","landingTwo mx-auto pt-5 pt-md-0 svelte-13i3k95"),set_style(Be,"max-width","1100px"),attr(Re,"class","SEPARATOR svelte-13i3k95"),attr(Le,"class","landingThree pt-5 pt-md-0 svelte-13i3k95"),attr(Ve,"class","mb-4 mx-auto"),attr(Ke,"class","mx-3"),attr(ze,"class","d-flex align-items-center justify-content-center mb-4 mt-2"),attr(at,"class","tickk svelte-13i3k95"),set_style(ht,"font-size","1.8rem"),set_style(ft,"font-size","1rem"),attr(ot,"class","svelte-13i3k95"),attr(mt,"class","svelte-13i3k95"),attr(vt,"class","svelte-13i3k95"),attr(ct,"class","priceActionButton svelte-13i3k95"),attr(Je,"class","priceCard hvr-float svelte-13i3k95"),set_style(Je,"color","white"),set_style(Je,"background-color","#BA1349"),attr(qe,"class","col-12 col-md-8 p-3"),attr(gt,"class","col-12 col-md-4 p-3 "),attr(Qe,"class","row w-100"),set_style(Qe,"max-width","1000px"),attr(Ie,"class","landingFour pt-5 pt-md-0 pb-5 svelte-13i3k95"),attr(yt,"class","footer svelte-13i3k95"),attr(o,"class","main svelte-13i3k95"),set_style(o,"background-color","#FAF7FF")},m(Ye,Ze){append(document.head,t),insert(Ye,e,Ze),insert(Ye,o,Ze),append(o,l),et&&et.m(l,null),append(o,h),append(o,y),append(o,O),append(o,D),append(D,R),append(D,F),append(D,j),append(j,B),append(B,U),append(U,W),append(W,q),append(q,K),append(q,Y),append(q,X),append(X,J),append(X,Q),append(U,Z),append(U,ee),append(ee,re),append(re,te),append(re,ne),append(re,ae),append(ae,ie),append(ae,oe),append(re,ce),append(re,ue),append(U,pe),append(U,me),append(me,he),append(he,se),append(he,le),append(he,fe),append(fe,ge),append(fe,ye),append(he,we),append(he,$e),append($e,_e),append($e,Se),append($e,Te),append(j,be),append(j,Oe),append(o,xe),append(o,Ee),append(o,Ce),append(o,ve),append(o,Pe),append(o,Me),append(o,Ne),append(o,Be),append(o,Fe),append(o,Re),append(o,ke),append(o,Le),append(o,De),append(o,Ie),append(Ie,Ve),append(Ie,Ue),append(Ie,ze),append(ze,Ae),append(ze,He),append(ze,Ke),mount_component(je,Ke,null),append(ze,tt),append(ze,Ge),append(Ie,We),append(Ie,Qe),append(Qe,qe),append(qe,Je),append(Je,at),append(Je,lt),append(Je,ot),append(ot,_t),append(ot,ht),append(ot,wt),append(ot,ft),append(Je,St),append(Je,mt),append(Je,Et),append(Je,vt),append(Je,Tt),append(Je,ct),append(Qe,kt),append(Qe,gt),append(o,Pt),append(o,yt),insert(Ye,$t,Ze),mount_component(st,Ye,Ze),ut=!0,bt||(Ot=[listen(q,"mouseover",r[8]),listen(re,"mouseover",r[9]),listen(he,"mouseover",r[10]),listen(ct,"click",r[12])],bt=!0)},p(Ye,[Ze]){Ye[0]?et?(et.p(Ye,Ze),Ze&1&&transition_in(et,1)):(et=create_if_block_1(Ye),et.c(),transition_in(et,1),et.m(l,null)):et&&(et.d(1),et=null),Ze&4&&toggle_class(Q,"colorrtn",Ye[2]!=1),Ze&4&&toggle_class(q,"selectedTile",Ye[2]==1),Ze&4&&toggle_class(oe,"colorrtn",Ye[2]!=2),Ze&4&&toggle_class(re,"selectedTile",Ye[2]==2),Ze&4&&toggle_class(ye,"colorrtn",Ye[2]!=3),Ze&4&&toggle_class(Se,"colorrtn",Ye[2]!=3),Ze&4&&toggle_class(he,"selectedTile",Ye[2]==3);const xt={};!Xe&&Ze&2&&(Xe=!0,xt.checked=Ye[1],add_flush_callback(()=>Xe=!1)),je.$set(xt),(!ut||Ze&2)&&dt!==(dt=Ye[1]?"62\u20AC":"69\u20AC")&&set_data(_t,dt);const It={};Ze&131080&&(It.$$scope={dirty:Ze,ctx:Ye}),st.$set(It)},i(Ye){ut||(transition_in(et),transition_in(je.$$.fragment,Ye),transition_in(st.$$.fragment,Ye),ut=!0)},o(Ye){transition_out(je.$$.fragment,Ye),transition_out(st.$$.fragment,Ye),ut=!1},d(Ye){detach(t),Ye&&detach(e),Ye&&detach(o),et&&et.d(),destroy_component(je),Ye&&detach($t),destroy_component(st,Ye),bt=!1,run_all(Ot)}}}function instance(r,t,e){let o,l;component_subscribe(r,modals,Y=>e(4,l=Y));let h=!1;onMount(()=>{e(0,h=!0),window.location.href.includes("#confirm")?setTimeout(()=>{openModal(AuthModule,{page2:"connex",msg:"\u2705 Adresse e-mail v\xE9rifi\xE9e ! Vous pouvez maintenant vous connecter et acc\xE9der \xE0 votre compte."})},600):window.location.href.includes("#login")&&setTimeout(()=>{openModal(AuthModule,{page2:"connex",msg:""})},600)});let y=!1,O=1;const D=()=>window.location.href="/dashboard",R=()=>openModal(AuthModule,{}),F=()=>navigate("demo"),j=()=>e(2,O=1),B=()=>e(2,O=2),U=()=>e(2,O=3);function W(Y){y=Y,e(1,y)}const q=()=>openModal(AuthModule,{msg:"Vous cr\xE9ez un compte R\xE9tine qui vous permettra d'utiliser tout le potentiel de R\xE9tine."}),K=()=>{closeModal()};return r.$$.update=()=>{r.$$.dirty&16&&e(3,o=l[l.length-1])},[h,y,O,o,l,D,R,F,j,B,U,W,q,K]}class IndexJE extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment$1,safe_not_equal,{})}}function create_default_slot_7(r){let t,e;return t=new Home({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_default_slot_6(r){let t,e;return t=new Dash({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_default_slot_5(r){let t,e;return t=new Sondage({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_default_slot_4(r){let t,e;return t=new PublicEditor({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_default_slot_3(r){let t,e;return t=new Tuto({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_default_slot_2(r){let t,e;return t=new PublicProjectView({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_default_slot_1(r){let t,e;return t=new IndexJE({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),e=!0},i(o){e||(transition_in(t.$$.fragment,o),e=!0)},o(o){transition_out(t.$$.fragment,o),e=!1},d(o){destroy_component(t,o)}}}function create_default_slot(r){let t,e,o,l,h,y,O,D,R,F,j,B,U,W;return t=new Route({props:{path:"/",$$slots:{default:[create_default_slot_7]},$$scope:{ctx:r}}}),o=new Route({props:{path:"dashboard",$$slots:{default:[create_default_slot_6]},$$scope:{ctx:r}}}),h=new Route({props:{path:"sondage",$$slots:{default:[create_default_slot_5]},$$scope:{ctx:r}}}),O=new Route({props:{path:"demo",$$slots:{default:[create_default_slot_4]},$$scope:{ctx:r}}}),R=new Route({props:{path:"tuto",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:r}}}),j=new Route({props:{path:"res",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:r}}}),U=new Route({props:{path:"/junior-entreprises",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:r}}}),{c(){create_component(t.$$.fragment),e=space(),create_component(o.$$.fragment),l=space(),create_component(h.$$.fragment),y=space(),create_component(O.$$.fragment),D=space(),create_component(R.$$.fragment),F=space(),create_component(j.$$.fragment),B=space(),create_component(U.$$.fragment)},m(q,K){mount_component(t,q,K),insert(q,e,K),mount_component(o,q,K),insert(q,l,K),mount_component(h,q,K),insert(q,y,K),mount_component(O,q,K),insert(q,D,K),mount_component(R,q,K),insert(q,F,K),mount_component(j,q,K),insert(q,B,K),mount_component(U,q,K),W=!0},p(q,K){const Y={};K&1&&(Y.$$scope={dirty:K,ctx:q}),t.$set(Y);const X={};K&1&&(X.$$scope={dirty:K,ctx:q}),o.$set(X);const J={};K&1&&(J.$$scope={dirty:K,ctx:q}),h.$set(J);const Q={};K&1&&(Q.$$scope={dirty:K,ctx:q}),O.$set(Q);const Z={};K&1&&(Z.$$scope={dirty:K,ctx:q}),R.$set(Z);const ee={};K&1&&(ee.$$scope={dirty:K,ctx:q}),j.$set(ee);const re={};K&1&&(re.$$scope={dirty:K,ctx:q}),U.$set(re)},i(q){W||(transition_in(t.$$.fragment,q),transition_in(o.$$.fragment,q),transition_in(h.$$.fragment,q),transition_in(O.$$.fragment,q),transition_in(R.$$.fragment,q),transition_in(j.$$.fragment,q),transition_in(U.$$.fragment,q),W=!0)},o(q){transition_out(t.$$.fragment,q),transition_out(o.$$.fragment,q),transition_out(h.$$.fragment,q),transition_out(O.$$.fragment,q),transition_out(R.$$.fragment,q),transition_out(j.$$.fragment,q),transition_out(U.$$.fragment,q),W=!1},d(q){destroy_component(t,q),q&&detach(e),destroy_component(o,q),q&&detach(l),destroy_component(h,q),q&&detach(y),destroy_component(O,q),q&&detach(D),destroy_component(R,q),q&&detach(F),destroy_component(j,q),q&&detach(B),destroy_component(U,q)}}}function create_fragment(r){let t,e,o,l,h,y,O,D,R,F,j,B;return j=new Router({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:r}}}),{c(){t=element("link"),e=element("link"),o=element("link"),l=element("link"),h=element("script"),O=element("link"),D=element("link"),R=space(),F=element("main"),create_component(j.$$.fragment),attr(t,"href","https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"),attr(t,"rel","stylesheet"),attr(t,"integrity","sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"),attr(t,"crossorigin","anonymous"),attr(e,"href","https://fonts.googleapis.com/css2?family=Raleway:wght@500&display=swap"),attr(e,"rel","stylesheet"),attr(o,"href","https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@400&display=swap"),attr(o,"rel","stylesheet"),attr(l,"href","https://fonts.googleapis.com/css2?family=Lexend&display=swap"),attr(l,"rel","stylesheet"),src_url_equal(h.src,y="https://cdn.jsdelivr.net/npm/sweetalert2@11")||attr(h,"src",y),attr(O,"rel","stylesheet"),attr(O,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),attr(D,"rel","stylesheet"),attr(D,"href","assets/generalStyle.css")},m(U,W){append(document.head,t),append(document.head,e),append(document.head,o),append(document.head,l),append(document.head,h),append(document.head,O),append(document.head,D),insert(U,R,W),insert(U,F,W),mount_component(j,F,null),B=!0},p(U,[W]){const q={};W&1&&(q.$$scope={dirty:W,ctx:U}),j.$set(q)},i(U){B||(transition_in(j.$$.fragment,U),B=!0)},o(U){transition_out(j.$$.fragment,U),B=!1},d(U){detach(t),detach(e),detach(o),detach(l),detach(h),detach(O),detach(D),U&&detach(R),U&&detach(F),destroy_component(j)}}}class App extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment,safe_not_equal,{})}}new App({target:document.getElementById("app")});
