var Qt=Object.defineProperty,Zt=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var Xt=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var Jt=(e,t,r)=>t in e?Qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zt=(e,t)=>{for(var r in t||(t={}))ee.call(t,r)&&Jt(e,r,t[r]);if(Xt)for(var r of Xt(t))ne.call(t,r)&&Jt(e,r,t[r]);return e},Vt=(e,t)=>Zt(e,te(t));const p$1=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function r(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerpolicy&&(h.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?h.credentials="include":l.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=r(l);fetch(l.href,h)}};p$1();function noop$2(){}const identity=e=>e;function assign$1(e,t){for(const r in t)e[r]=t[r];return e}function is_promise(e){return e&&typeof e=="object"&&typeof e.then=="function"}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let src_url_equal_anchor;function src_url_equal(e,t){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href}function is_empty(e){return Object.keys(e).length===0}function subscribe(e,...t){if(e==null)return noop$2;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function get_store_value(e){let t;return subscribe(e,r=>t=r)(),t}function component_subscribe(e,t,r){e.$$.on_destroy.push(subscribe(t,r))}function create_slot(e,t,r,o){if(e){const l=get_slot_context(e,t,r,o);return e[0](l)}}function get_slot_context(e,t,r,o){return e[1]&&o?assign$1(r.ctx.slice(),e[1](o(t))):r.ctx}function get_slot_changes(e,t,r,o){if(e[2]&&o){const l=e[2](o(r));if(t.dirty===void 0)return l;if(typeof l=="object"){const h=[],y=Math.max(t.dirty.length,l.length);for(let D=0;D<y;D+=1)h[D]=t.dirty[D]|l[D];return h}return t.dirty|l}return t.dirty}function update_slot_base(e,t,r,o,l,h){if(l){const y=get_slot_context(t,r,o,h);e.p(y,l)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let o=0;o<r;o++)t[o]=-1;return t}return-1}function exclude_internal_props(e){const t={};for(const r in e)r[0]!=="$"&&(t[r]=e[r]);return t}function compute_rest_props(e,t){const r={};t=new Set(t);for(const o in e)!t.has(o)&&o[0]!=="$"&&(r[o]=e[o]);return r}function null_to_empty(e){return e==null?"":e}function set_store_value(e,t,r){return e.set(r),t}function action_destroyer(e){return e&&is_function(e.destroy)?e.destroy:noop$2}const is_client=typeof window!="undefined";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop$2;const tasks=new Set;function run_tasks(e){tasks.forEach(t=>{t.c(e)||(tasks.delete(t),t.f())}),tasks.size!==0&&raf(run_tasks)}function loop(e){let t;return tasks.size===0&&raf(run_tasks),{promise:new Promise(r=>{tasks.add(t={c:e,f:r})}),abort(){tasks.delete(t)}}}function append(e,t){e.appendChild(t)}function get_root_for_style(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function append_empty_stylesheet(e){const t=element("style");return append_stylesheet(get_root_for_style(e),t),t.sheet}function append_stylesheet(e,t){append(e.head||e,t)}function insert(e,t,r){e.insertBefore(t,r||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,r,o){return e.addEventListener(t,r,o),()=>e.removeEventListener(t,r,o)}function stop_propagation(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function attr(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function set_svg_attributes(e,t){for(const r in t)attr(e,r,t[r])}function to_number(e){return e===""?null:+e}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_input_value(e,t){e.value=t==null?"":t}function set_style(e,t,r,o){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,o?"important":"")}function select_option(e,t){for(let r=0;r<e.options.length;r+=1){const o=e.options[r];if(o.__value===t){o.selected=!0;return}}e.selectedIndex=-1}function select_value(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function custom_event(e,t,{bubbles:r=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,r,o,t),l}const managed_styles=new Map;let active=0;function hash(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function create_style_information(e,t){const r={stylesheet:append_empty_stylesheet(t),rules:{}};return managed_styles.set(e,r),r}function create_rule(e,t,r,o,l,h,y,D=0){const O=16.666/o;let F=`{
`;for(let G=0;G<=1;G+=O){const Y=t+(r-t)*h(G);F+=G*100+`%{${y(Y,1-Y)}}
`}const R=F+`100% {${y(r,1-r)}}
}`,B=`__svelte_${hash(R)}_${D}`,j=get_root_for_style(e),{stylesheet:U,rules:q}=managed_styles.get(j)||create_style_information(j,e);q[B]||(q[B]=!0,U.insertRule(`@keyframes ${B} ${R}`,U.cssRules.length));const W=e.style.animation||"";return e.style.animation=`${W?`${W}, `:""}${B} ${o}ms linear ${l}ms 1 both`,active+=1,B}function delete_rule(e,t){const r=(e.style.animation||"").split(", "),o=r.filter(t?h=>h.indexOf(t)<0:h=>h.indexOf("__svelte")===-1),l=r.length-o.length;l&&(e.style.animation=o.join(", "),active-=l,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(e=>{const{stylesheet:t}=e;let r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.rules={}}),managed_styles.clear())})}function create_animation(e,t,r,o){if(!t)return noop$2;const l=e.getBoundingClientRect();if(t.left===l.left&&t.right===l.right&&t.top===l.top&&t.bottom===l.bottom)return noop$2;const{delay:h=0,duration:y=300,easing:D=identity,start:O=now()+h,end:F=O+y,tick:R=noop$2,css:B}=r(e,{from:t,to:l},o);let j=!0,U=!1,q;function W(){B&&(q=create_rule(e,0,1,y,h,D,B)),h||(U=!0)}function G(){B&&delete_rule(e,q),j=!1}return loop(Y=>{if(!U&&Y>=O&&(U=!0),U&&Y>=F&&(R(1,0),G()),!j)return!1;if(U){const K=Y-O,X=0+1*D(K/y);R(X,1-X)}return!0}),W(),R(0,1),G}function fix_position(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:r,height:o}=t,l=e.getBoundingClientRect();e.style.position="absolute",e.style.width=r,e.style.height=o,add_transform(e,l)}}function add_transform(e,t){const r=e.getBoundingClientRect();if(t.left!==r.left||t.top!==r.top){const o=getComputedStyle(e),l=o.transform==="none"?"":o.transform;e.style.transform=`${l} translate(${t.left-r.left}px, ${t.top-r.top}px)`}}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function setContext(e,t){return get_current_component().$$.context.set(e,t),t}function getContext(e){return get_current_component().$$.context.get(e)}function bubble(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach(o=>o.call(this,t))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){const e=current_component;do{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const r=render_callbacks[t];seen_callbacks.has(r)||(seen_callbacks.add(r),r())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch$2(e,t,r){e.dispatchEvent(custom_event(`${t?"intro":"outro"}${r}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,r,o){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),o&&(r&&e.d(1),o())}),e.o(t)}}const null_transition={duration:0};function create_in_transition(e,t,r){let o=t(e,r),l=!1,h,y,D=0;function O(){h&&delete_rule(e,h)}function F(){const{delay:B=0,duration:j=300,easing:U=identity,tick:q=noop$2,css:W}=o||null_transition;W&&(h=create_rule(e,0,1,j,B,U,W,D++)),q(0,1);const G=now()+B,Y=G+j;y&&y.abort(),l=!0,add_render_callback(()=>dispatch$2(e,!0,"start")),y=loop(K=>{if(l){if(K>=Y)return q(1,0),dispatch$2(e,!0,"end"),O(),l=!1;if(K>=G){const X=U((K-G)/j);q(X,1-X)}}return l})}let R=!1;return{start(){R||(R=!0,delete_rule(e),is_function(o)?(o=o(),wait().then(F)):F())},invalidate(){R=!1},end(){l&&(O(),l=!1)}}}function create_out_transition(e,t,r){let o=t(e,r),l=!0,h;const y=outros;y.r+=1;function D(){const{delay:O=0,duration:F=300,easing:R=identity,tick:B=noop$2,css:j}=o||null_transition;j&&(h=create_rule(e,1,0,F,O,R,j));const U=now()+O,q=U+F;add_render_callback(()=>dispatch$2(e,!1,"start")),loop(W=>{if(l){if(W>=q)return B(0,1),dispatch$2(e,!1,"end"),--y.r||run_all(y.c),!1;if(W>=U){const G=R((W-U)/F);B(1-G,G)}}return l})}return is_function(o)?wait().then(()=>{o=o(),D()}):D(),{end(O){O&&o.tick&&o.tick(1,0),l&&(h&&delete_rule(e,h),l=!1)}}}function create_bidirectional_transition(e,t,r,o){let l=t(e,r),h=o?0:1,y=null,D=null,O=null;function F(){O&&delete_rule(e,O)}function R(j,U){const q=j.b-h;return U*=Math.abs(q),{a:h,b:j.b,d:q,duration:U,start:j.start,end:j.start+U,group:j.group}}function B(j){const{delay:U=0,duration:q=300,easing:W=identity,tick:G=noop$2,css:Y}=l||null_transition,K={start:now()+U,b:j};j||(K.group=outros,outros.r+=1),y||D?D=K:(Y&&(F(),O=create_rule(e,h,j,q,U,W,Y)),j&&G(0,1),y=R(K,q),add_render_callback(()=>dispatch$2(e,j,"start")),loop(X=>{if(D&&X>D.start&&(y=R(D,q),D=null,dispatch$2(e,y.b,"start"),Y&&(F(),O=create_rule(e,h,y.b,y.duration,0,W,l.css))),y){if(X>=y.end)G(h=y.b,1-h),dispatch$2(e,y.b,"end"),D||(y.b?F():--y.group.r||run_all(y.group.c)),y=null;else if(X>=y.start){const J=X-y.start;h=y.a+y.d*W(J/y.duration),G(h,1-h)}}return!!(y||D)}))}return{run(j){is_function(l)?wait().then(()=>{l=l(),B(j)}):B(j)},end(){F(),y=D=null}}}function handle_promise(e,t){const r=t.token={};function o(l,h,y,D){if(t.token!==r)return;t.resolved=D;let O=t.ctx;y!==void 0&&(O=O.slice(),O[y]=D);const F=l&&(t.current=l)(O);let R=!1;t.block&&(t.blocks?t.blocks.forEach((B,j)=>{j!==h&&B&&(group_outros(),transition_out(B,1,1,()=>{t.blocks[j]===B&&(t.blocks[j]=null)}),check_outros())}):t.block.d(1),F.c(),transition_in(F,1),F.m(t.mount(),t.anchor),R=!0),t.block=F,t.blocks&&(t.blocks[h]=F),R&&flush()}if(is_promise(e)){const l=get_current_component();if(e.then(h=>{set_current_component(l),o(t.then,1,t.value,h),set_current_component(null)},h=>{if(set_current_component(l),o(t.catch,2,t.error,h),set_current_component(null),!t.hasCatch)throw h}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}}function update_await_block_branch(e,t,r){const o=t.slice(),{resolved:l}=e;e.current===e.then&&(o[e.value]=l),e.current===e.catch&&(o[e.error]=l),e.block.p(o,r)}const globals=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function destroy_block(e,t){e.d(1),t.delete(e.key)}function outro_and_destroy_block(e,t){transition_out(e,1,1,()=>{t.delete(e.key)})}function fix_and_outro_and_destroy_block(e,t){e.f(),outro_and_destroy_block(e,t)}function update_keyed_each(e,t,r,o,l,h,y,D,O,F,R,B){let j=e.length,U=h.length,q=j;const W={};for(;q--;)W[e[q].key]=q;const G=[],Y=new Map,K=new Map;for(q=U;q--;){const et=B(l,h,q),nt=r(et);let Z=y.get(nt);Z?o&&Z.p(et,t):(Z=F(nt,et),Z.c()),Y.set(nt,G[q]=Z),nt in W&&K.set(nt,Math.abs(q-W[nt]))}const X=new Set,J=new Set;function Q(et){transition_in(et,1),et.m(D,R),y.set(et.key,et),R=et.first,U--}for(;j&&U;){const et=G[U-1],nt=e[j-1],Z=et.key,it=nt.key;et===nt?(R=et.first,j--,U--):Y.has(it)?!y.has(Z)||X.has(Z)?Q(et):J.has(it)?j--:K.get(Z)>K.get(it)?(J.add(Z),Q(et)):(X.add(it),j--):(O(nt,y),j--)}for(;j--;){const et=e[j];Y.has(et.key)||O(et,y)}for(;U;)Q(G[U-1]);return G}function get_spread_update(e,t){const r={},o={},l={$$scope:1};let h=e.length;for(;h--;){const y=e[h],D=t[h];if(D){for(const O in y)O in D||(o[O]=1);for(const O in D)l[O]||(r[O]=D[O],l[O]=1);e[h]=D}else for(const O in y)l[O]=1}for(const y in o)y in r||(r[y]=void 0);return r}function get_spread_object(e){return typeof e=="object"&&e!==null?e:{}}function bind(e,t,r){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=r,r(e.$$.ctx[o]))}function create_component(e){e&&e.c()}function mount_component(e,t,r,o){const{fragment:l,on_mount:h,on_destroy:y,after_update:D}=e.$$;l&&l.m(t,r),o||add_render_callback(()=>{const O=h.map(run).filter(is_function);y?y.push(...O):run_all(O),e.$$.on_mount=[]}),D.forEach(add_render_callback)}function destroy_component(e,t){const r=e.$$;r.fragment!==null&&(run_all(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(e,t){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,r,o,l,h,y,D=[-1]){const O=current_component;set_current_component(e);const F=e.$$={fragment:null,ctx:null,props:h,update:noop$2,not_equal:l,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(O?O.$$.context:[])),callbacks:blank_object(),dirty:D,skip_bound:!1,root:t.target||O.$$.root};y&&y(F.root);let R=!1;if(F.ctx=r?r(e,t.props||{},(B,j,...U)=>{const q=U.length?U[0]:j;return F.ctx&&l(F.ctx[B],F.ctx[B]=q)&&(!F.skip_bound&&F.bound[B]&&F.bound[B](q),R&&make_dirty(e,B)),j}):[],F.update(),R=!0,run_all(F.before_update),F.fragment=o?o(F.ctx):!1,t.target){if(t.hydrate){const B=children(t.target);F.fragment&&F.fragment.l(B),B.forEach(detach)}else F.fragment&&F.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}set_current_component(O)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$2}$on(t,r){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(r),()=>{const l=o.indexOf(r);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function create_fragment$q(e){let t,r,o,l=[e[0],{fill:"currentColor"},{viewBox:"0 0 24 24"}],h={};for(let y=0;y<l.length;y+=1)h=assign$1(h,l[y]);return{c(){t=svg_element("svg"),r=svg_element("path"),o=svg_element("path"),attr(r,"d","m13 16 5-4-5-4v3H4v2h9z"),attr(o,"d","M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"),set_svg_attributes(t,h)},m(y,D){insert(y,t,D),append(t,r),append(t,o)},p(y,[D]){set_svg_attributes(t,h=get_spread_update(l,[D&1&&y[0],{fill:"currentColor"},{viewBox:"0 0 24 24"}]))},i:noop$2,o:noop$2,d(y){y&&detach(t)}}}function instance$p(e,t,r){return e.$$set=o=>{r(0,t=assign$1(assign$1({},t),exclude_internal_props(o)))},t=exclude_internal_props(t),[t]}class Log_in extends SvelteComponent{constructor(t){super(),init(this,t,instance$p,create_fragment$q,safe_not_equal,{})}}function cubicInOut(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function cubicOut(e){const t=e-1;return t*t*t+1}function quadIn(e){return e*e}function blur(e,{delay:t=0,duration:r=400,easing:o=cubicInOut,amount:l=5,opacity:h=0}={}){const y=getComputedStyle(e),D=+y.opacity,O=y.filter==="none"?"":y.filter,F=D*(1-h);return{delay:t,duration:r,easing:o,css:(R,B)=>`opacity: ${D-F*B}; filter: ${O} blur(${B*l}px);`}}function fade(e,{delay:t=0,duration:r=400,easing:o=identity}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:o,css:h=>`opacity: ${h*l}`}}function fly(e,{delay:t=0,duration:r=400,easing:o=cubicOut,x:l=0,y:h=0,opacity:y=0}={}){const D=getComputedStyle(e),O=+D.opacity,F=D.transform==="none"?"":D.transform,R=O*(1-y);return{delay:t,duration:r,easing:o,css:(B,j)=>`
			transform: ${F} translate(${(1-B)*l}px, ${(1-B)*h}px);
			opacity: ${O-R*j}`}}function scale(e,{delay:t=0,duration:r=400,easing:o=cubicOut,start:l=0,opacity:h=0}={}){const y=getComputedStyle(e),D=+y.opacity,O=y.transform==="none"?"":y.transform,F=1-l,R=D*(1-h);return{delay:t,duration:r,easing:o,css:(B,j)=>`
			transform: ${O} scale(${1-F*j});
			opacity: ${D-R*j}
		`}}var Confetti_svelte_svelte_type_style_lang="";const subscriber_queue=[];function readable(e,t){return{subscribe:writable(e,t).subscribe}}function writable(e,t=noop$2){let r;const o=new Set;function l(D){if(safe_not_equal(e,D)&&(e=D,r)){const O=!subscriber_queue.length;for(const F of o)F[1](),subscriber_queue.push(F,e);if(O){for(let F=0;F<subscriber_queue.length;F+=2)subscriber_queue[F][0](subscriber_queue[F+1]);subscriber_queue.length=0}}}function h(D){l(D(e))}function y(D,O=noop$2){const F=[D,O];return o.add(F),o.size===1&&(r=t(l)||noop$2),D(e),()=>{o.delete(F),o.size===0&&(r(),r=null)}}return{set:l,update:h,subscribe:y}}function derived(e,t,r){const o=!Array.isArray(e),l=o?[e]:e,h=t.length<2;return readable(r,y=>{let D=!1;const O=[];let F=0,R=noop$2;const B=()=>{if(F)return;R();const U=t(o?O[0]:O,y);h?y(U):R=is_function(U)?U:noop$2},j=l.map((U,q)=>subscribe(U,W=>{O[q]=W,F&=~(1<<q),D&&B()},()=>{F|=1<<q}));return D=!0,B(),function(){run_all(j),R()}})}let url="https://retinereq.jetevois.fr/";const rtnUrl=url;let activePageStore=writable("summary");function xxsc(e,t,r){var o="";if(r){var l=new Date;l.setTime(l.getTime()+r*24*60*60*1e3),o="; expires="+l.toUTCString()}document.cookie=e+"="+(t||"")+o+"; path=/"}function xxgc(e){for(var t=e+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var l=r[o];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(t)==0)return l.substring(t.length,l.length)}return null}const isUndefined=e=>typeof e=="undefined",isFunction$1=e=>typeof e=="function",isNumber$1=e=>typeof e=="number";function createCounter(){let e=0;return()=>e++}function createGlobalId(){return Math.random().toString(36).substring(2)}const isSSR=typeof window=="undefined";function addListener$1(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}const createKey=e=>`@@svnav-ctx__${e}`,LOCATION=createKey("LOCATION"),ROUTER=createKey("ROUTER"),ROUTE=createKey("ROUTE"),ROUTE_PARAMS=createKey("ROUTE_PARAMS"),FOCUS_ELEM=createKey("FOCUS_ELEM"),paramRegex=/^:(.+)/,startsWith=(e,t)=>e.substr(0,t.length)===t,isRootSegment=e=>e==="",isDynamic=e=>paramRegex.test(e),isSplat=e=>e[0]==="*",stripSplat=e=>e.replace(/\*.*$/,""),stripSlashes=e=>e.replace(/(^\/+|\/+$)/g,"");function segmentize(e,t=!1){const r=stripSlashes(e).split("/");return t?r.filter(Boolean):r}const addQuery=(e,t)=>e+(t?`?${t}`:""),normalizePath=e=>`/${stripSlashes(e)}`;function join(...e){const t=o=>segmentize(o,!0).join("/"),r=e.map(t).join("/");return normalizePath(r)}const LINK_ID=1,ROUTE_ID=2,ROUTER_ID=3,USE_FOCUS_ID=4,USE_LOCATION_ID=5,USE_MATCH_ID=6,USE_NAVIGATE_ID=7,USE_PARAMS_ID=8,USE_RESOLVABLE_ID=9,USE_RESOLVE_ID=10,NAVIGATE_ID=11,labels={[LINK_ID]:"Link",[ROUTE_ID]:"Route",[ROUTER_ID]:"Router",[USE_FOCUS_ID]:"useFocus",[USE_LOCATION_ID]:"useLocation",[USE_MATCH_ID]:"useMatch",[USE_NAVIGATE_ID]:"useNavigate",[USE_PARAMS_ID]:"useParams",[USE_RESOLVABLE_ID]:"useResolvable",[USE_RESOLVE_ID]:"useResolve",[NAVIGATE_ID]:"navigate"},createLabel=e=>labels[e];function createIdentifier(e,t){let r;return e===ROUTE_ID?r=t.path?`path="${t.path}"`:"default":e===LINK_ID?r=`to="${t.to}"`:e===ROUTER_ID&&(r=`basepath="${t.basepath||""}"`),`<${createLabel(e)} ${r||""} />`}function createMessage(e,t,r,o){const l=r&&createIdentifier(o||e,r),h=l?`

Occurred in: ${l}`:"",y=createLabel(e),D=isFunction$1(t)?t(y):t;return`<${y}> ${D}${h}`}const createMessageHandler=e=>(...t)=>e(createMessage(...t)),fail=createMessageHandler(e=>{throw new Error(e)}),warn=createMessageHandler(console.warn),SEGMENT_POINTS=4,STATIC_POINTS=3,DYNAMIC_POINTS=2,SPLAT_PENALTY=1,ROOT_POINTS=1;function rankRoute(e,t){const r=e.default?0:segmentize(e.fullPath).reduce((o,l)=>{let h=o;return h+=SEGMENT_POINTS,isRootSegment(l)?h+=ROOT_POINTS:isDynamic(l)?h+=DYNAMIC_POINTS:isSplat(l)?h-=SEGMENT_POINTS+SPLAT_PENALTY:h+=STATIC_POINTS,h},0);return{route:e,score:r,index:t}}function rankRoutes(e){return e.map(rankRoute).sort((t,r)=>t.score<r.score?1:t.score>r.score?-1:t.index-r.index)}function pick(e,t){let r,o;const[l]=t.split("?"),h=segmentize(l),y=h[0]==="",D=rankRoutes(e);for(let O=0,F=D.length;O<F;O++){const{route:R}=D[O];let B=!1;const j={},U=Y=>Vt(zt({},R),{params:j,uri:Y});if(R.default){o=U(t);continue}const q=segmentize(R.fullPath),W=Math.max(h.length,q.length);let G=0;for(;G<W;G++){const Y=q[G],K=h[G];if(!isUndefined(Y)&&isSplat(Y)){const J=Y==="*"?"*":Y.slice(1);j[J]=h.slice(G).map(decodeURIComponent).join("/");break}if(isUndefined(K)){B=!0;break}const X=paramRegex.exec(Y);if(X&&!y){const J=decodeURIComponent(K);j[X[1]]=J}else if(Y!==K){B=!0;break}}if(!B){r=U(join(...h.slice(0,G)));break}}return r||o||null}function match$2(e,t){return pick([e],t)}function resolve$1(e,t){if(startsWith(e,"/"))return e;const[r,o]=e.split("?"),[l]=t.split("?"),h=segmentize(r),y=segmentize(l);if(h[0]==="")return addQuery(l,o);if(!startsWith(h[0],".")){const F=y.concat(h).join("/");return addQuery((l==="/"?"":"/")+F,o)}const D=y.concat(h),O=[];return D.forEach(F=>{F===".."?O.pop():F!=="."&&O.push(F)}),addQuery(`/${O.join("/")}`,o)}function normalizeLocation(e,t){const{pathname:r,hash:o="",search:l="",state:h}=e,y=segmentize(t,!0),D=segmentize(r,!0);for(;y.length;)y[0]!==D[0]&&fail(ROUTER_ID,`Invalid state: All locations must begin with the basepath "${t}", found "${r}"`),y.shift(),D.shift();return{pathname:join(...D),hash:o,search:l,state:h}}const normalizeUrlFragment=e=>e.length===1?"":e;function createLocation(e){const t=e.indexOf("?"),r=e.indexOf("#"),o=t!==-1,l=r!==-1,h=l?normalizeUrlFragment(e.substr(r)):"",y=l?e.substr(0,r):e,D=o?normalizeUrlFragment(y.substr(t)):"";return{pathname:o?y.substr(0,t):y,search:D,hash:h}}function resolveLink(e,t,r){return join(r,resolve$1(e,t))}function extractBaseUri(e,t){const r=normalizePath(stripSplat(e)),o=segmentize(r,!0),l=segmentize(t,!0).slice(0,o.length),h=match$2({fullPath:r},join(...l));return h&&h.uri}const POP="POP",PUSH="PUSH",REPLACE="REPLACE";function getLocation(e){return Vt(zt({},e.location),{pathname:encodeURI(decodeURI(e.location.pathname)),state:e.history.state,_key:e.history.state&&e.history.state._key||"initial"})}function createHistory(e){let t=[],r=getLocation(e),o=POP;const l=(h=t)=>h.forEach(y=>y({location:r,action:o}));return{get location(){return r},listen(h){t.push(h);const y=()=>{r=getLocation(e),o=POP,l([h])};l([h]);const D=addListener$1(e,"popstate",y);return()=>{D(),t=t.filter(O=>O!==h)}},navigate(h,y){const{state:D={},replace:O=!1}=y||{};if(o=O?REPLACE:PUSH,isNumber$1(h))y&&warn(NAVIGATE_ID,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),o=POP,e.history.go(h);else{const F=Vt(zt({},D),{_key:createGlobalId()});try{e.history[O?"replaceState":"pushState"](F,"",h)}catch{e.location[O?"replace":"assign"](h)}}r=getLocation(e),l()}}}function createStackFrame(e,t){return Vt(zt({},createLocation(t)),{state:e})}function createMemorySource(e="/"){let t=0,r=[createStackFrame(null,e)];return{get entries(){return r},get location(){return r[t]},addEventListener(){},removeEventListener(){},history:{get state(){return r[t].state},pushState(o,l,h){t++,r=r.slice(0,t),r.push(createStackFrame(o,h))},replaceState(o,l,h){r[t]=createStackFrame(o,h)},go(o){const l=t+o;l<0||l>r.length-1||(t=l)}}}}const canUseDOM=!!(!isSSR&&window.document&&window.document.createElement),isEmbeddedPage=!isSSR&&window.location.origin==="null",globalHistory=createHistory(canUseDOM&&!isEmbeddedPage?window:createMemorySource());let focusCandidate=null,initialNavigation=!0;function isAbove(e,t){const r=document.querySelectorAll("[data-svnav-router]");for(let o=0;o<r.length;o++){const l=r[o],h=Number(l.dataset.svnavRouter);if(h===e)return!0;if(h===t)return!1}return!1}function pushFocusCandidate(e){(!focusCandidate||e.level>focusCandidate.level||e.level===focusCandidate.level&&isAbove(e.routerId,focusCandidate.routerId))&&(focusCandidate=e)}function clearFocusCandidate(){focusCandidate=null}function initialNavigationOccurred(){initialNavigation=!1}function focus(e){if(!e)return!1;const t="tabindex";try{if(!e.hasAttribute(t)){e.setAttribute(t,"-1");let r;r=addListener$1(e,"blur",()=>{e.removeAttribute(t),r()})}return e.focus(),document.activeElement===e}catch{return!1}}function isEndMarker(e,t){return Number(e.dataset.svnavRouteEnd)===t}function isHeading(e){return/^H[1-6]$/i.test(e.tagName)}function query(e,t=document){return t.querySelector(e)}function queryHeading(e){let r=query(`[data-svnav-route-start="${e}"]`).nextElementSibling;for(;!isEndMarker(r,e);){if(isHeading(r))return r;const o=query("h1,h2,h3,h4,h5,h6",r);if(o)return o;r=r.nextElementSibling}return null}function handleFocus(e){Promise.resolve(get_store_value(e.focusElement)).then(t=>{const r=t||queryHeading(e.id);r||warn(ROUTER_ID,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,e,ROUTE_ID),!focus(r)&&focus(document.documentElement)})}const createTriggerFocus=(e,t,r)=>(o,l)=>tick().then(()=>{if(!focusCandidate||initialNavigation){initialNavigationOccurred();return}if(o&&handleFocus(focusCandidate.route),e.announcements&&l){const{path:h,fullPath:y,meta:D,params:O,uri:F}=focusCandidate.route,R=e.createAnnouncement({path:h,fullPath:y,meta:D,params:O,uri:F},get_store_value(r));Promise.resolve(R).then(B=>{t.set(B)})}clearFocusCandidate()}),visuallyHiddenStyle="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function create_if_block$i(e){let t,r;return{c(){t=element("div"),r=text(e[0]),attr(t,"role","status"),attr(t,"aria-atomic","true"),attr(t,"aria-live","polite"),attr(t,"style",visuallyHiddenStyle)},m(o,l){insert(o,t,l),append(t,r)},p(o,l){l[0]&1&&set_data(r,o[0])},d(o){o&&detach(t)}}}function create_fragment$p(e){let t,r,o,l,h;const y=e[20].default,D=create_slot(y,e,e[19],null);let O=e[2]&&e[4]&&e[1].announcements&&create_if_block$i(e);return{c(){t=element("div"),r=space(),D&&D.c(),o=space(),O&&O.c(),l=empty(),set_style(t,"display","none"),attr(t,"aria-hidden","true"),attr(t,"data-svnav-router",e[3])},m(F,R){insert(F,t,R),insert(F,r,R),D&&D.m(F,R),insert(F,o,R),O&&O.m(F,R),insert(F,l,R),h=!0},p(F,R){D&&D.p&&(!h||R[0]&524288)&&update_slot_base(D,y,F,F[19],h?get_slot_changes(y,F[19],R,null):get_all_dirty_from_scope(F[19]),null),F[2]&&F[4]&&F[1].announcements&&O.p(F,R)},i(F){h||(transition_in(D,F),h=!0)},o(F){transition_out(D,F),h=!1},d(F){F&&detach(t),F&&detach(r),D&&D.d(F),F&&detach(o),O&&O.d(F),F&&detach(l)}}}const createId$1=createCounter(),defaultBasepath="/";function instance$o(e,t,r){let o,l,h,y,D,{$$slots:O={},$$scope:F}=t,{basepath:R=defaultBasepath}=t,{url:B=null}=t,{history:j=globalHistory}=t,{primary:U=!0}=t,{a11y:q={}}=t;const W=zt({createAnnouncement:ht=>`Navigated to ${ht.uri}`,announcements:!0},q),G=R,Y=normalizePath(R),K=getContext(LOCATION),X=getContext(ROUTER),J=!K,Q=createId$1(),et=U&&!(X&&!X.manageFocus),nt=writable("");component_subscribe(e,nt,ht=>r(0,D=ht));const Z=writable([]);component_subscribe(e,Z,ht=>r(18,y=ht));const it=writable(null);component_subscribe(e,it,ht=>r(16,l=ht));let rt=!1;const tt=J?0:X.level+1,lt=J?writable((()=>normalizeLocation(isSSR?createLocation(B):j.location,Y))()):K;component_subscribe(e,lt,ht=>r(15,o=ht));const ot=writable(o);component_subscribe(e,ot,ht=>r(17,h=ht));const dt=createTriggerFocus(W,nt,lt),ut=ht=>_t=>_t.filter(yt=>yt.id!==ht);function at(ht){if(isSSR){if(rt)return;const _t=match$2(ht,o.pathname);if(_t)return rt=!0,_t}else Z.update(_t=>{const yt=ut(ht.id)(_t);return yt.push(ht),yt})}function st(ht){Z.update(ut(ht))}return!J&&R!==defaultBasepath&&warn(ROUTER_ID,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:R}),J&&(onMount(()=>j.listen(_t=>{const yt=normalizeLocation(_t.location,Y);ot.set(o),lt.set(yt)})),setContext(LOCATION,lt)),setContext(ROUTER,{activeRoute:it,registerRoute:at,unregisterRoute:st,manageFocus:et,level:tt,id:Q,history:J?j:X.history,basepath:J?Y:X.basepath}),e.$$set=ht=>{"basepath"in ht&&r(10,R=ht.basepath),"url"in ht&&r(11,B=ht.url),"history"in ht&&r(12,j=ht.history),"primary"in ht&&r(13,U=ht.primary),"a11y"in ht&&r(14,q=ht.a11y),"$$scope"in ht&&r(19,F=ht.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&1024&&R!==G&&warn(ROUTER_ID,'You cannot change the "basepath" prop. It is ignored.'),e.$$.dirty[0]&294912){const ht=pick(y,o.pathname);it.set(ht)}if(e.$$.dirty[0]&163840&&J){const ht=!!o.hash,_t=!ht&&et,yt=!ht||o.pathname!==h.pathname;dt(_t,yt)}e.$$.dirty[0]&65536&&et&&l&&l.primary&&pushFocusCandidate({level:tt,routerId:Q,route:l})},[D,W,J,Q,et,nt,Z,it,lt,ot,R,B,j,U,q,o,l,h,y,F,O]}class Router extends SvelteComponent{constructor(t){super(),init(this,t,instance$o,create_fragment$p,safe_not_equal,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}}function usePreflightCheck(e,t,r=ROUTER,o=ROUTER_ID){getContext(r)||fail(e,h=>`You cannot use ${h} outside of a ${createLabel(o)}.`,t)}const toReadonly=e=>{const{subscribe:t}=getContext(e);return{subscribe:t}};function useLocation(){return usePreflightCheck(USE_LOCATION_ID),toReadonly(LOCATION)}function useHistory(){const{history:e}=getContext(ROUTER);return e}function useRouteBase(){const e=getContext(ROUTE);return e?derived(e,t=>t.base):writable("/")}function useResolve(){usePreflightCheck(USE_RESOLVE_ID);const e=useRouteBase(),{basepath:t}=getContext(ROUTER);return o=>resolveLink(o,get_store_value(e),t)}function useNavigate(){usePreflightCheck(USE_NAVIGATE_ID);const e=useResolve(),{navigate:t}=useHistory();return(o,l)=>{const h=isNumber$1(o)?o:e(o);return t(h,l)}}const get_default_slot_changes=e=>({params:e&16,location:e&8}),get_default_slot_context=e=>({params:isSSR?get_store_value(e[9]):e[4],location:e[3],navigate:e[10]});function create_if_block$h(e){let t,r;return t=new Router({props:{primary:e[1],$$slots:{default:[create_default_slot$6]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p(o,l){const h={};l&2&&(h.primary=o[1]),l&264217&&(h.$$scope={dirty:l,ctx:o}),t.$set(h)},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_else_block$8(e){let t;const r=e[17].default,o=create_slot(r,e,e[18],get_default_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),t=!0},p(l,h){o&&o.p&&(!t||h&262168)&&update_slot_base(o,r,l,l[18],t?get_slot_changes(r,l[18],h,get_default_slot_changes):get_all_dirty_from_scope(l[18]),get_default_slot_context)},i(l){t||(transition_in(o,l),t=!0)},o(l){transition_out(o,l),t=!1},d(l){o&&o.d(l)}}}function create_if_block_1$d(e){let t,r,o;const l=[{location:e[3]},{navigate:e[10]},isSSR?get_store_value(e[9]):e[4],e[11]];var h=e[0];function y(D){let O={};for(let F=0;F<l.length;F+=1)O=assign$1(O,l[F]);return{props:O}}return h&&(t=new h(y())),{c(){t&&create_component(t.$$.fragment),r=empty()},m(D,O){t&&mount_component(t,D,O),insert(D,r,O),o=!0},p(D,O){const F=O&3608?get_spread_update(l,[O&8&&{location:D[3]},O&1024&&{navigate:D[10]},O&528&&get_spread_object(isSSR?get_store_value(D[9]):D[4]),O&2048&&get_spread_object(D[11])]):{};if(h!==(h=D[0])){if(t){group_outros();const R=t;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}h?(t=new h(y()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else h&&t.$set(F)},i(D){o||(t&&transition_in(t.$$.fragment,D),o=!0)},o(D){t&&transition_out(t.$$.fragment,D),o=!1},d(D){D&&detach(r),t&&destroy_component(t,D)}}}function create_default_slot$6(e){let t,r,o,l;const h=[create_if_block_1$d,create_else_block$8],y=[];function D(O,F){return O[0]!==null?0:1}return t=D(e),r=y[t]=h[t](e),{c(){r.c(),o=empty()},m(O,F){y[t].m(O,F),insert(O,o,F),l=!0},p(O,F){let R=t;t=D(O),t===R?y[t].p(O,F):(group_outros(),transition_out(y[R],1,1,()=>{y[R]=null}),check_outros(),r=y[t],r?r.p(O,F):(r=y[t]=h[t](O),r.c()),transition_in(r,1),r.m(o.parentNode,o))},i(O){l||(transition_in(r),l=!0)},o(O){transition_out(r),l=!1},d(O){y[t].d(O),O&&detach(o)}}}function create_fragment$o(e){let t,r,o,l,h,y=e[2]&&create_if_block$h(e);return{c(){t=element("div"),r=space(),y&&y.c(),o=space(),l=element("div"),set_style(t,"display","none"),attr(t,"aria-hidden","true"),attr(t,"data-svnav-route-start",e[5]),set_style(l,"display","none"),attr(l,"aria-hidden","true"),attr(l,"data-svnav-route-end",e[5])},m(D,O){insert(D,t,O),insert(D,r,O),y&&y.m(D,O),insert(D,o,O),insert(D,l,O),h=!0},p(D,[O]){D[2]?y?(y.p(D,O),O&4&&transition_in(y,1)):(y=create_if_block$h(D),y.c(),transition_in(y,1),y.m(o.parentNode,o)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(D){h||(transition_in(y),h=!0)},o(D){transition_out(y),h=!1},d(D){D&&detach(t),D&&detach(r),y&&y.d(D),D&&detach(o),D&&detach(l)}}}const createId=createCounter();function instance$n(e,t,r){let o;const l=["path","component","meta","primary"];let h=compute_rest_props(t,l),y,D,O,F,{$$slots:R={},$$scope:B}=t,{path:j=""}=t,{component:U=null}=t,{meta:q={}}=t,{primary:W=!0}=t;usePreflightCheck(ROUTE_ID,t);const G=createId(),{registerRoute:Y,unregisterRoute:K,activeRoute:X}=getContext(ROUTER);component_subscribe(e,X,tt=>r(15,y=tt));const J=useRouteBase();component_subscribe(e,J,tt=>r(16,O=tt));const Q=useLocation();component_subscribe(e,Q,tt=>r(3,D=tt));const et=writable(null);let nt;const Z=writable(),it=writable({});component_subscribe(e,it,tt=>r(4,F=tt)),setContext(ROUTE,Z),setContext(ROUTE_PARAMS,it),setContext(FOCUS_ELEM,et);const rt=useNavigate();return isSSR||onDestroy(()=>K(G)),e.$$set=tt=>{r(23,t=assign$1(assign$1({},t),exclude_internal_props(tt))),r(11,h=compute_rest_props(t,l)),"path"in tt&&r(12,j=tt.path),"component"in tt&&r(0,U=tt.component),"meta"in tt&&r(13,q=tt.meta),"primary"in tt&&r(1,W=tt.primary),"$$scope"in tt&&r(18,B=tt.$$scope)},e.$$.update=()=>{if(e.$$.dirty&77834){const tt=j==="",ct=join(O,j),lt={id:G,path:j,meta:q,default:tt,fullPath:tt?"":ct,base:tt?O:extractBaseUri(ct,D.pathname),primary:W,focusElement:et};Z.set(lt),r(14,nt=Y(lt))}if(e.$$.dirty&49152&&r(2,o=!!(nt||y&&y.id===G)),e.$$.dirty&49156&&o){const{params:tt}=nt||y;it.set(tt)}},t=exclude_internal_props(t),[U,W,o,D,F,G,X,J,Q,it,rt,h,j,q,nt,y,O,R,B]}class Route extends SvelteComponent{constructor(t){super(),init(this,t,instance$n,create_fragment$o,safe_not_equal,{path:12,component:0,meta:13,primary:1})}}var authModule_svelte_svelte_type_style_lang="";function create_if_block_2$7(e){let t;return{c(){t=element("div"),t.innerHTML=`<lottie-player src="https://assets6.lottiefiles.com/packages/lf20_kwefwdy6.json" background="transparent" speed="1" style="height:150px; max-width:200px; margin:auto;" autoplay=""></lottie-player> 
            <div style="color:#6219d8; text-align:center; margin-top:16px;">Un e-mail de v\xE9rification vous a \xE9t\xE9 envoy\xE9 pour finaliser votre inscription.</div>`},m(r,o){insert(r,t,o)},p:noop$2,d(r){r&&detach(t)}}}function create_if_block_1$c(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt;return{c(){t=element("div"),t.textContent="Cr\xE9ez votre compte R\xE9tine",r=space(),o=element("label"),l=text("Identifiant :"),h=element("input"),y=space(),D=element("label"),O=text("Mot de passe :"),F=element("input"),R=space(),B=element("label"),j=text("Confirmation mot de passe :"),U=element("input"),q=space(),W=element("div"),G=text(e[4]),Y=space(),K=element("div"),X=element("div"),X.textContent="D\xE9j\xE0 un compte ?",J=space(),Q=element("button"),Q.textContent="Inscription",set_style(t,"color","#6219d8"),set_style(t,"text-align","center"),set_style(t,"margin-bottom","16px"),attr(h,"type","text"),attr(h,"placeholder","bruce@wayne.com"),attr(h,"class","svelte-2lvvga"),attr(F,"type","password"),attr(F,"class","svelte-2lvvga"),attr(D,"for","mdp"),attr(U,"type","password"),attr(U,"class","svelte-2lvvga"),attr(B,"for","mdp"),attr(W,"class","errorMsg svelte-2lvvga"),attr(X,"class","optionTwo svelte-2lvvga"),attr(Q,"class","svelte-2lvvga"),set_style(K,"display","flex"),set_style(K,"flex-direction","row"),set_style(K,"align-items","center")},m(Z,it){insert(Z,t,it),insert(Z,r,it),insert(Z,o,it),append(o,l),append(o,h),set_input_value(h,e[1]),insert(Z,y,it),insert(Z,D,it),append(D,O),append(D,F),set_input_value(F,e[2]),insert(Z,R,it),insert(Z,B,it),append(B,j),append(B,U),set_input_value(U,e[3]),insert(Z,q,it),insert(Z,W,it),append(W,G),insert(Z,Y,it),insert(Z,K,it),append(K,X),append(K,J),append(K,Q),et||(nt=[listen(h,"input",e[10]),listen(F,"input",e[11]),listen(U,"input",e[12]),listen(X,"click",e[5]),listen(Q,"click",e[7])],et=!0)},p(Z,it){it&2&&h.value!==Z[1]&&set_input_value(h,Z[1]),it&4&&F.value!==Z[2]&&set_input_value(F,Z[2]),it&8&&U.value!==Z[3]&&set_input_value(U,Z[3]),it&16&&set_data(G,Z[4])},d(Z){Z&&detach(t),Z&&detach(r),Z&&detach(o),Z&&detach(y),Z&&detach(D),Z&&detach(R),Z&&detach(B),Z&&detach(q),Z&&detach(W),Z&&detach(Y),Z&&detach(K),et=!1,run_all(nt)}}}function create_if_block$g(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y;return{c(){t=element("label"),r=text("Identifiant :"),o=element("input"),l=space(),h=element("label"),y=text("Mot de passe :"),D=element("input"),O=space(),F=element("div"),R=text(e[4]),B=space(),j=element("div"),U=element("div"),U.textContent="Pas encore de compte ?",q=space(),W=element("button"),W.textContent="Connexion",attr(o,"placeholder","bruce@wayne.com"),attr(o,"type","text"),attr(o,"class","svelte-2lvvga"),attr(t,"for","id"),attr(D,"type","password"),attr(D,"class","svelte-2lvvga"),attr(h,"for","mdp"),attr(F,"class","errorMsg svelte-2lvvga"),attr(U,"class","optionTwo svelte-2lvvga"),attr(W,"class","svelte-2lvvga"),set_style(j,"display","flex"),set_style(j,"flex-direction","row"),set_style(j,"align-items","center")},m(K,X){insert(K,t,X),append(t,r),append(t,o),set_input_value(o,e[1]),insert(K,l,X),insert(K,h,X),append(h,y),append(h,D),set_input_value(D,e[2]),insert(K,O,X),insert(K,F,X),append(F,R),insert(K,B,X),insert(K,j,X),append(j,U),append(j,q),append(j,W),G||(Y=[listen(o,"input",e[8]),listen(D,"input",e[9]),listen(U,"click",e[5]),listen(W,"click",e[6])],G=!0)},p(K,X){X&2&&o.value!==K[1]&&set_input_value(o,K[1]),X&4&&D.value!==K[2]&&set_input_value(D,K[2]),X&16&&set_data(R,K[4])},d(K){K&&detach(t),K&&detach(l),K&&detach(h),K&&detach(O),K&&detach(F),K&&detach(B),K&&detach(j),G=!1,run_all(Y)}}}function create_key_block$1(e){let t,r,o,l;function h(O,F){if(O[0]=="connex")return create_if_block$g;if(O[0]=="inscr")return create_if_block_1$c;if(O[0]=="success")return create_if_block_2$7}let y=h(e),D=y&&y(e);return{c(){t=element("div"),D&&D.c(),attr(t,"class","svelte-2lvvga")},m(O,F){insert(O,t,F),D&&D.m(t,null),l=!0},p(O,F){y===(y=h(O))&&D?D.p(O,F):(D&&D.d(1),D=y&&y(O),D&&(D.c(),D.m(t,null)))},i(O){l||(add_render_callback(()=>{o&&o.end(1),r=create_in_transition(t,fly,{x:30}),r.start()}),l=!0)},o(O){r&&r.invalidate(),o=create_out_transition(t,fly,{x:-30}),l=!1},d(O){O&&detach(t),D&&D.d(),O&&o&&o.end()}}}function create_fragment$n(e){let t,r,o=e[0],l,h,y,D=create_key_block$1(e);return{c(){t=element("div"),r=element("div"),D.c(),attr(r,"class","floatingLogin svelte-2lvvga")},m(O,F){insert(O,t,F),append(t,r),D.m(r,null),y=!0},p(O,[F]){F&1&&safe_not_equal(o,o=O[0])?(group_outros(),transition_out(D,1,1,noop$2),check_outros(),D=create_key_block$1(O),D.c(),transition_in(D,1),D.m(r,null)):D.p(O,F)},i(O){y||(transition_in(D),add_render_callback(()=>{h&&h.end(1),l=create_in_transition(t,fly,{y:100,duration:300}),l.start()}),y=!0)},o(O){transition_out(D),l&&l.invalidate(),h=create_out_transition(t,fade,{}),y=!1},d(O){O&&detach(t),D.d(O),O&&h&&h.end()}}}function instance$m(e,t,r){const o=useNavigate();let l="inscr";const h=()=>{l=="inscr"?r(0,l="connex"):r(0,l="inscr")};let y="",D="",O="",F="";const R=()=>{y==""||D==""?r(4,F="Veuillez remplir tous les champs ci-dessus."):(r(4,F=""),U(y,D).then(X=>{r(4,F=X)}))},B=()=>{y==""||D==""||O==""?r(4,F="Veuillez remplir tous les champs ci-dessus."):(r(4,F=""),j(y,D,O).then(X=>{r(4,F=X)}))};function j(X,J,Q){let et=new Headers;et.append("Content-Type","application/json");let nt=JSON.stringify({email:X,password1:J,password2:Q}),Z={method:"POST",headers:et,body:nt,redirect:"follow"};return new Promise((it,rt)=>{fetch(rtnUrl+"auth/registration/",Z).then(tt=>tt.text()).then(tt=>{Object.keys(JSON.parse(tt))[0]=="non_field_errors"?it("Les mots de passe ne sont pas identiques."):Object.keys(JSON.parse(tt))[0]=="email"?it("Adresse mail non-valide ou d\xE9j\xE0 utilis\xE9e."):Object.keys(JSON.parse(tt))[0]=="password1"?it("Le mot de passe doit contenir au moins 8 caract\xE8res."):JSON.parse(tt)[Object.keys(JSON.parse(tt))[0]]=="Verification e-mail sent."&&(r(0,l="success"),it("Un e-mail de verification vous a \xE9t\xE9 envoy\xE9."))}).catch(tt=>it(tt))})}function U(X,J){let Q=new Headers;Q.append("Content-Type","application/json");let et=JSON.stringify({username:X,password:J}),nt={method:"POST",headers:Q,body:et,redirect:"follow"};return new Promise((Z,it)=>{fetch(rtnUrl+"authenticate/",nt).then(rt=>rt.text()).then(rt=>{Object.keys(JSON.parse(rt))[0]=="non_field_errors"?Z("Identifiants incorrects."):(xxsc("rtnt",JSON.parse(rt).token,30),xxsc("rtnu",JSON.parse(rt).id,30),o("dashboard"),Z("Connexion effectu\xE9e. Bienvenue sur R\xE9tine."))}).catch(rt=>console.log(rt))})}function q(){y=this.value,r(1,y)}function W(){D=this.value,r(2,D)}function G(){y=this.value,r(1,y)}function Y(){D=this.value,r(2,D)}function K(){O=this.value,r(3,O)}return[l,y,D,O,F,h,R,B,q,W,G,Y,K]}class AuthModule extends SvelteComponent{constructor(t){super(),init(this,t,instance$m,create_fragment$n,safe_not_equal,{})}}var switch_svelte_svelte_type_style_lang="";function create_fragment$m(e){let t,r,o,l,h,y;return{c(){t=element("label"),r=element("input"),o=space(),l=element("span"),attr(r,"type","checkbox"),attr(r,"class","svelte-1awcgxz"),attr(l,"class","slider svelte-1awcgxz"),attr(t,"class","switch svelte-1awcgxz")},m(D,O){insert(D,t,O),append(t,r),r.checked=e[0],append(t,o),append(t,l),h||(y=listen(r,"change",e[1]),h=!0)},p(D,[O]){O&1&&(r.checked=D[0])},i:noop$2,o:noop$2,d(D){D&&detach(t),h=!1,y()}}}function instance$l(e,t,r){let{checked:o=!1}=t;function l(){o=this.checked,r(0,o)}return e.$$set=h=>{"checked"in h&&r(0,o=h.checked)},[o,l]}class Switch extends SvelteComponent{constructor(t){super(),init(this,t,instance$l,create_fragment$m,safe_not_equal,{checked:0})}}var index_svelte_svelte_type_style_lang="";function create_if_block$f(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot;o=new Log_in({props:{width:"1.4em",color:"white",style:"padding-right:5px"}});let dt=e[1]&&create_if_block_1$b();return{c(){t=element("div"),r=element("button"),create_component(o.$$.fragment),l=space(),h=element("div"),h.textContent="Mon compte",y=space(),dt&&dt.c(),D=space(),O=element("img"),R=space(),B=element("div"),j=element("div"),U=element("span"),q=element("div"),W=element("div"),W.textContent="R\xE9tine",Y=space(),K=element("h2"),K.innerHTML="La nouvelle \xE8re <br/>de l&#39;opinion",J=space(),Q=element("button"),Q.textContent="\u26A1 Cr\xE9er un sondage 2.0",nt=space(),Z=element("div"),it=element("div"),rt=element("div"),rt.innerHTML='<div class="w-100 h-100 d-flex align-items-center justify-content-center svelte-cbim6t" style="border-radius: 15px;"><iframe class="integratedSondage svelte-cbim6t" id="sondageRetine" title="Mon sondage R\xE9tine" src="https://retine.io/sondage#843a213"></iframe></div>',attr(r,"class","purpleBtn svelte-cbim6t"),attr(t,"class","connexBtn svelte-cbim6t"),attr(O,"class","logoJtvBig svelte-cbim6t"),src_url_equal(O.src,F="assets/LOGO_JTV_ALT.svg")||attr(O,"src",F),attr(O,"alt","logo de Jetevois"),set_style(O,"width","90vw"),set_style(O,"max-width","800px"),set_style(O,"left","50%"),set_style(O,"top","50%"),set_style(O,"transform","translate(-50%,-50%)"),set_style(O,"animation","float 2s ease-in-out infinite"),attr(W,"class","retineTitle svelte-cbim6t"),attr(K,"class","retineSlogan svelte-cbim6t"),attr(Q,"class","neuBtnClear mt-4 svelte-cbim6t"),attr(q,"class","centerTitle h-100 text-center text-md-left d-flex align-items-center align-items-md-start justify-content-center svelte-cbim6t"),attr(j,"class","col-12 col-md-6"),attr(rt,"class","iphone-x mx-auto my-4 h-100 svelte-cbim6t"),attr(it,"class","d-flex align-items-center justify-content-center"),set_style(it,"height","100%"),attr(Z,"class","col-12 col-md-6 p-4 p-md-0"),attr(B,"class","row h-100 w-100 p-1 p-md-4")},m(ut,at){insert(ut,t,at),append(t,r),mount_component(o,r,null),append(r,l),append(r,h),append(t,y),dt&&dt.m(t,null),insert(ut,D,at),insert(ut,O,at),insert(ut,R,at),insert(ut,B,at),append(B,j),append(j,U),append(U,q),append(q,W),append(q,Y),append(q,K),append(q,J),append(q,Q),append(B,nt),append(B,Z),append(Z,it),append(it,rt),ct=!0,lt||(ot=listen(r,"click",e[3]),lt=!0)},p(ut,at){ut[1]?dt?at&2&&transition_in(dt,1):(dt=create_if_block_1$b(),dt.c(),transition_in(dt,1),dt.m(t,null)):dt&&(group_outros(),transition_out(dt,1,1,()=>{dt=null}),check_outros())},i(ut){ct||(transition_in(o.$$.fragment,ut),transition_in(dt),G||add_render_callback(()=>{G=create_in_transition(W,fly,{y:50,duration:500,delay:100}),G.start()}),X||add_render_callback(()=>{X=create_in_transition(K,fly,{y:50,duration:500,delay:200}),X.start()}),et||add_render_callback(()=>{et=create_in_transition(Q,fly,{y:50,duration:500,delay:300}),et.start()}),tt||add_render_callback(()=>{tt=create_in_transition(rt,fly,{y:50,duration:700,delay:400}),tt.start()}),ct=!0)},o(ut){transition_out(o.$$.fragment,ut),transition_out(dt),ct=!1},d(ut){ut&&detach(t),destroy_component(o),dt&&dt.d(),ut&&detach(D),ut&&detach(O),ut&&detach(R),ut&&detach(B),lt=!1,ot()}}}function create_if_block_1$b(e){let t,r;return t=new AuthModule({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_fragment$l(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot,dt=e[2]?"62\u20AC":"69\u20AC",ut,at,st,ht,_t,yt,ft,vt,pt,mt,gt,xt,kt,Pt,St,Et=e[0]&&create_if_block$f(e);function Mt(wt){e[4](wt)}let bt={};return e[2]!==void 0&&(bt.checked=e[2]),K=new Switch({props:bt}),binding_callbacks.push(()=>bind(K,"checked",Mt)),{c(){t=element("div"),r=element("div"),Et&&Et.c(),o=space(),l=element("div"),l.innerHTML=`<div class="purpleRect svelte-cbim6t"><img class="logoJtvBig svelte-cbim6t" style="top:0px; opacity:.1;" src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois"/> 
      <h2 class="lTwoTitle svelte-cbim6t">Vos clients vont adorer r\xE9pondre,<br/>Vous allez adorer sonder</h2> 
      <div class="row w-100" style="max-width:950px;"><div class="col-12 col-md-4 mb-2"><div class="lTwoCard hvr-float svelte-cbim6t"><div><div class="numberFact svelte-cbim6t">30%</div> 
              <div class="textFact svelte-cbim6t">plus rapide de r\xE9pondre \xE0 un sondage R\xE9tine qu\u2019\xE0 tout autre sondage en ligne</div></div> 
            <div class="footerFact svelte-cbim6t">\u{1F3C6} Interface chat innovante</div></div></div> 
        <div class="col-12 col-md-4 mb-2"><div class="lTwoCard hvr-float svelte-cbim6t"><div><div class="numberFact svelte-cbim6t">87%</div> 
              <div class="textFact svelte-cbim6t">des r\xE9pondants pr\xE9f\xE8rent r\xE9pondre \xE0 des sondages R\xE9tine</div></div> 
            <div class="footerFact svelte-cbim6t">\u{1F3C6} Sondages ludiques et modernes</div></div></div> 
        <div class="col-12 col-md-4 mb-2"><div class="lTwoCard hvr-float svelte-cbim6t"><div><div class="numberFact svelte-cbim6t">2 <span style="font-size:3rem">clics</span></div> 
              <div class="textFact svelte-cbim6t">pour analyser les correlations, tendances, r\xE9ponses filtr\xE9es...</div></div> 
            <div class="footerFact svelte-cbim6t">\u{1F3C6} Interface chat innovante</div></div></div></div></div>`,h=space(),y=element("div"),y.innerHTML=`<img class="logoJtvBig svelte-cbim6t" style="top:0px; opacity:.05; width:20%!important; min-width:300px;" src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois"/> 
    <h1 class="mb-5 mx-auto">10 bonnes raisons de choisir R\xE9tine</h1> 
    <div class="parent-gridRet svelte-cbim6t"><div class="div1-gridRet hvr-float svelte-cbim6t"><img src="assets/LOGO_JTV_ALT_white.svg" alt="logo de Jetevois" style="position: ;absolute; opacity: .2; transform:translateY(-15px)" class="svelte-cbim6t"/> 
        <p style="position:absolute; color:white; font-size:2.4rem" class="svelte-cbim6t">R\xE9tine</p></div> 
      <div class="div2-gridRet hvr-float svelte-cbim6t"><img src="assets/landing/icone-dashboards-retine.svg" alt="Tableau de bord interactif" class="svelte-cbim6t"/> 
        <p class="svelte-cbim6t">Tableau de bord interactif</p></div> 
      <div class="div3-gridRet hvr-float svelte-cbim6t"><img src="assets/landing/illus-retine-templates.svg" alt="Templates professionnels" class="svelte-cbim6t"/> 
        <p class="svelte-cbim6t">Templates professionnels</p></div> 
      <div class="div4-gridRet hvr-float svelte-cbim6t"><p class="svelte-cbim6t">IA d\xE9di\xE9e \xE0 l&#39;analyse des r\xE9ponses</p> 
        <img src="assets/landing/illus-retine-analyse-quali.png" alt="Analyse du sentiment des r\xE9pondants" class="svelte-cbim6t"/></div> 
      <div class="div5-gridRet hvr-float svelte-cbim6t">\u{1F534} R\xE9sultats en temps r\xE9el</div> 
      <div class="div6-gridRet hvr-float svelte-cbim6t"><img src="assets/landing/illus-retine-max-taux-reponse.svg" alt="Taux de reponse maximis\xE9" class="svelte-cbim6t"/> 
        <p class="pl-md-3 svelte-cbim6t">Maximisation du taux de r\xE9ponse</p></div> 
      <div class="div7-gridRet hvr-float svelte-cbim6t"><img src="assets/landing/illus-retine-personalisation.svg" alt="Personnalisation du design des questionnaires" class="svelte-cbim6t"/> 
        <p class="pl-md-3 svelte-cbim6t">Personnalisation du design des questionnaires</p></div> 
      <div class="div8-gridRet hvr-float svelte-cbim6t"><p class="pl-md-4 svelte-cbim6t">Export des r\xE9sultats</p> 
        <img class="py-3 svelte-cbim6t" src="assets/landing/grid(3).png" alt="export en csv"/></div> 
      <div class="div9-gridRet hvr-float svelte-cbim6t"><img src="assets/landing/grid(6).png" alt="filtre" class="svelte-cbim6t"/> 
        <p class="svelte-cbim6t">Filtrage intelligent des r\xE9ponses</p></div> 
      <div class="div10-gridRet hvr-float svelte-cbim6t"><p class="pl-md-3 svelte-cbim6t">Donn\xE9es s\xE9curis\xE9es et h\xE9berg\xE9es en France</p> 
        <img class="pr-md-4 svelte-cbim6t" src="assets/landing/grid(4).png" alt="nuage s\xE9curis\xE9"/></div> 
      <div class="div11-gridRet hvr-float svelte-cbim6t"><img class="p-0 svelte-cbim6t" src="assets/landing/grid(5).png" alt="export en csv"/> 
        <p class="svelte-cbim6t">Accompagnement au ciblage des r\xE9pondants</p></div></div>`,D=space(),O=element("div"),F=element("img"),B=space(),j=element("h2"),j.textContent="Il y a forc\xE9ment une offre pour vous",U=space(),q=element("div"),W=element("div"),W.textContent="Mensuel",G=space(),Y=element("div"),create_component(K.$$.fragment),J=space(),Q=element("div"),Q.textContent="Annuel (-10%)",et=space(),nt=element("div"),Z=element("div"),Z.innerHTML=`<div class="priceCard hvr-float svelte-cbim6t" style="background-color: white; color: black; border: 3px #E3E3E3 solid"><div class="tickk svelte-cbim6t">D\xE9couverte</div> 
          <h1 class="svelte-cbim6t">Gratuit</h1> 
          <p class="svelte-cbim6t">La formule id\xE9ale pour d\xE9couvrir et tester R\xE9tine</p> 
          <ul class="svelte-cbim6t"><li>Fonctionnalit\xE9s basiques de R\xE9tine (cr\xE9ation des sondages, lien de partage et analyse des r\xE9sultats)</li> 
            <li>Acc\xE8s \xE0 10 templates de sondages</li> 
            <li>Nombre de r\xE9pondants limit\xE9 \xE0 30 par sondage</li></ul> 
          <div class="priceActionButton svelte-cbim6t">Je d\xE9couvre \u{1F440}</div></div>`,it=space(),rt=element("div"),tt=element("div"),ct=element("div"),ct.textContent="R\xE9tine Pro",lt=space(),ot=element("h1"),ut=text(dt),at=element("span"),at.textContent="/mois",st=space(),ht=element("span"),ht.textContent="(TTC)",_t=space(),yt=element("p"),yt.textContent="La pleine puissance de R\xE9tine, calibr\xE9e pour les profesionnels",ft=space(),vt=element("ul"),vt.innerHTML=`<li>Fonctionnalit\xE9s compl\xE8tes de R\xE9tine (cr\xE9ation des sondages, envoi massif et analyse)</li> 
            <li>Acc\xE8s \xE0 l\u2019ensemble des templates de sondages (50+)</li> 
            <li>Nombre de r\xE9pondants illimit\xE9s</li> 
            <li>Nombre de contacts illimit\xE9s</li> 
            <li>Support 7/7</li>`,pt=space(),mt=element("div"),mt.textContent="C'est parti \u{1F680}",gt=space(),xt=element("div"),xt.innerHTML=`<div class="priceCard hvr-float mb-4 svelte-cbim6t" style="height:fit-content; background-color:white;"><div class="tickk svelte-cbim6t" style="font-size:1.1rem;">\u23F1\uFE0F Prochaines fonctionnalit\xE9s</div> 
          <ul class="mb-0 svelte-cbim6t" style="font-size:.9rem;"><li>De nouveaux modules de sondages innovants</li> 
            <li>L\u2019export des r\xE9sultats au format slides (PDF &amp; PPT)</li> 
            <li>De nouvelles options de diffusion de sondages</li></ul></div> 
        <div class="priceCard neuPriceCard hvr-float flex-grow-1 svelte-cbim6t" style="height:fit-content; background-color:#F5E4D5 "><div class="tickk svelte-cbim6t">Un besoin particulier ?</div> 
          <p class="svelte-cbim6t">R\xE9tine vous accompagne sur-mesure</p> 
          <ul class="svelte-cbim6t"><li>Ciblage des r\xE9pondants</li> 
            <li>Cr\xE9ation de questionnaires</li> 
            <li>Optimisation des campagnes</li></ul> 
          <div class="priceActionButton svelte-cbim6t">Contactez nous \u{1F680}</div></div>`,kt=space(),Pt=element("footer"),Pt.innerHTML=`<div class="footerPill svelte-cbim6t">R\xE9tine est un produit cr\xE9\xE9 <br class="d-inline d-md-none"/>par le studio <img src="assets/LOGO_JTV_ALT.svg" alt="logo de Jetevois" class="svelte-cbim6t"/> 
      <strong>Je te vois</strong></div> 
    <div class="footerLegal svelte-cbim6t">\xA9 2020-2022 / <a href="#" class="mx-2 svelte-cbim6t">Mentions l\xE9gales</a> 

      <div class="socialIcon svelte-cbim6t"><a href="https://www.linkedin.com/company/je-te-vois" rel="noopener" target="_blank" class="icon-17 linkedin svelte-cbim6t" title="LinkedIn"><svg viewBox="0 0 512 512"><path d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z"></path></svg></a></div> 
      <div class="socialIcon svelte-cbim6t"><a href="https://twitter.com/JeTeVoisFR" rel="noopener" target="_blank" class="icon-26 twitter svelte-cbim6t" title="Twitter"><svg viewBox="0 0 512 512"><path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"></path></svg></a></div> 
      <div class="socialIcon svelte-cbim6t"><a href="https://instagram.com/jetevoisfr" rel="noopener" target="_blank" class="icon-15 instagram svelte-cbim6t" title="Instagram"><svg viewBox="0 0 512 512"><g><path d="M256 109.3c47.8 0 53.4 0.2 72.3 1 17.4 0.8 26.9 3.7 33.2 6.2 8.4 3.2 14.3 7.1 20.6 13.4 6.3 6.3 10.1 12.2 13.4 20.6 2.5 6.3 5.4 15.8 6.2 33.2 0.9 18.9 1 24.5 1 72.3s-0.2 53.4-1 72.3c-0.8 17.4-3.7 26.9-6.2 33.2 -3.2 8.4-7.1 14.3-13.4 20.6 -6.3 6.3-12.2 10.1-20.6 13.4 -6.3 2.5-15.8 5.4-33.2 6.2 -18.9 0.9-24.5 1-72.3 1s-53.4-0.2-72.3-1c-17.4-0.8-26.9-3.7-33.2-6.2 -8.4-3.2-14.3-7.1-20.6-13.4 -6.3-6.3-10.1-12.2-13.4-20.6 -2.5-6.3-5.4-15.8-6.2-33.2 -0.9-18.9-1-24.5-1-72.3s0.2-53.4 1-72.3c0.8-17.4 3.7-26.9 6.2-33.2 3.2-8.4 7.1-14.3 13.4-20.6 6.3-6.3 12.2-10.1 20.6-13.4 6.3-2.5 15.8-5.4 33.2-6.2C202.6 109.5 208.2 109.3 256 109.3M256 77.1c-48.6 0-54.7 0.2-73.8 1.1 -19 0.9-32.1 3.9-43.4 8.3 -11.8 4.6-21.7 10.7-31.7 20.6 -9.9 9.9-16.1 19.9-20.6 31.7 -4.4 11.4-7.4 24.4-8.3 43.4 -0.9 19.1-1.1 25.2-1.1 73.8 0 48.6 0.2 54.7 1.1 73.8 0.9 19 3.9 32.1 8.3 43.4 4.6 11.8 10.7 21.7 20.6 31.7 9.9 9.9 19.9 16.1 31.7 20.6 11.4 4.4 24.4 7.4 43.4 8.3 19.1 0.9 25.2 1.1 73.8 1.1s54.7-0.2 73.8-1.1c19-0.9 32.1-3.9 43.4-8.3 11.8-4.6 21.7-10.7 31.7-20.6 9.9-9.9 16.1-19.9 20.6-31.7 4.4-11.4 7.4-24.4 8.3-43.4 0.9-19.1 1.1-25.2 1.1-73.8s-0.2-54.7-1.1-73.8c-0.9-19-3.9-32.1-8.3-43.4 -4.6-11.8-10.7-21.7-20.6-31.7 -9.9-9.9-19.9-16.1-31.7-20.6 -11.4-4.4-24.4-7.4-43.4-8.3C310.7 77.3 304.6 77.1 256 77.1L256 77.1z"></path><path d="M256 164.1c-50.7 0-91.9 41.1-91.9 91.9s41.1 91.9 91.9 91.9 91.9-41.1 91.9-91.9S306.7 164.1 256 164.1zM256 315.6c-32.9 0-59.6-26.7-59.6-59.6s26.7-59.6 59.6-59.6 59.6 26.7 59.6 59.6S288.9 315.6 256 315.6z"></path><circle cx="351.5" cy="160.5" r="21.5"></circle></g></svg></a></div></div>`,attr(r,"class","landingHead pt-5 svelte-cbim6t"),attr(l,"class","landingTwo pt-5 pt-md-0 svelte-cbim6t"),attr(y,"class","landingThree pt-5 pt-md-0 svelte-cbim6t"),attr(F,"class","logoJtvBig svelte-cbim6t"),set_style(F,"top","0px"),set_style(F,"opacity",".05"),set_style(F,"width","20%",1),set_style(F,"min-width","300px"),src_url_equal(F.src,R="assets/LOGO_JTV_ALT.svg")||attr(F,"src",R),attr(F,"alt","logo de Jetevois"),attr(j,"class","mb-4 mx-auto"),attr(Y,"class","mx-3"),attr(q,"class","d-flex align-items-center justify-content-center mb-4"),attr(Z,"class","col-12 col-md-4 p-3"),attr(ct,"class","tickk svelte-cbim6t"),set_style(at,"font-size","1.8rem"),set_style(ht,"font-size","1rem"),attr(ot,"class","svelte-cbim6t"),attr(yt,"class","svelte-cbim6t"),attr(vt,"class","svelte-cbim6t"),attr(mt,"class","priceActionButton svelte-cbim6t"),attr(tt,"class","priceCard hvr-float svelte-cbim6t"),set_style(tt,"color","white"),set_style(tt,"background-color","#6219D8"),attr(rt,"class","col-12 col-md-4 p-3"),attr(xt,"class","col-12 col-md-4 p-3 d-flex flex-column"),attr(nt,"class","row w-100"),set_style(nt,"max-width","1200px"),attr(O,"class","landingFour pt-5 pt-md-0 svelte-cbim6t"),attr(Pt,"class","footer svelte-cbim6t"),attr(t,"class","main svelte-cbim6t")},m(wt,Ct){insert(wt,t,Ct),append(t,r),Et&&Et.m(r,null),append(t,o),append(t,l),append(t,h),append(t,y),append(t,D),append(t,O),append(O,F),append(O,B),append(O,j),append(O,U),append(O,q),append(q,W),append(q,G),append(q,Y),mount_component(K,Y,null),append(q,J),append(q,Q),append(O,et),append(O,nt),append(nt,Z),append(nt,it),append(nt,rt),append(rt,tt),append(tt,ct),append(tt,lt),append(tt,ot),append(ot,ut),append(ot,at),append(ot,st),append(ot,ht),append(tt,_t),append(tt,yt),append(tt,ft),append(tt,vt),append(tt,pt),append(tt,mt),append(nt,gt),append(nt,xt),append(t,kt),append(t,Pt),St=!0},p(wt,[Ct]){wt[0]?Et?(Et.p(wt,Ct),Ct&1&&transition_in(Et,1)):(Et=create_if_block$f(wt),Et.c(),transition_in(Et,1),Et.m(r,null)):Et&&(group_outros(),transition_out(Et,1,1,()=>{Et=null}),check_outros());const Tt={};!X&&Ct&4&&(X=!0,Tt.checked=wt[2],add_flush_callback(()=>X=!1)),K.$set(Tt),(!St||Ct&4)&&dt!==(dt=wt[2]?"62\u20AC":"69\u20AC")&&set_data(ut,dt)},i(wt){St||(transition_in(Et),transition_in(K.$$.fragment,wt),St=!0)},o(wt){transition_out(Et),transition_out(K.$$.fragment,wt),St=!1},d(wt){wt&&detach(t),Et&&Et.d(),destroy_component(K)}}}function instance$k(e,t,r){let o=!1;onMount(()=>r(0,o=!0));let l=!1;const h=()=>{l?r(1,l=!1):r(1,l=!0)};let y=!1;function D(O){y=O,r(2,y)}return[o,l,y,h,D]}class Home extends SvelteComponent{constructor(t){super(),init(this,t,instance$k,create_fragment$l,safe_not_equal,{})}}const countOccurrences=(e,t)=>e.reduce((r,o)=>o===t?r+1:r,0),getDaysArray=function(e,t){for(var r=[],o=new Date(e);o<=new Date(t);o.setDate(o.getDate()+1))r.push(new Date(o));return r};let scaleParam={x:{grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0}},y:{grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0,maxTicksLimit:5}}},deferredConfig={xOffset:150,yOffset:"30%",delay:100},chartColors=["#23BE6E4D","#7798AB4D","#6219D84D","#DB54614D","#42BFDD4D","#E7BB734D","#F08CAE4D","#A297154D","#4C4C474D","#F588514D"];async function dlData(e){var t=new Headers;return t.append("Authorization","Token "+xxgc("rtnt")),t.append("Content-Type","application/json"),fetch(`${rtnUrl}sondage/edit/x/${e}/`,{method:"GET",headers:t,redirect:"follow"}).then(r=>r.blob()).then(r=>{var o=window.URL.createObjectURL(r);window.location.assign(o)})}async function delSondRtn(e,t){Swal.fire({title:"Supprimer le sondage?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#6219D8",cancelButtonColor:"#2FCC72",confirmButtonText:"Supprimer le sondage",cancelButtonText:"Annuler"}).then(r=>{if(r.isConfirmed){var o=new Headers;return o.append("Authorization","Token "+xxgc("rtnt")),fetch(`${rtnUrl}sondages/edit/${e}/`,{method:"DELETE",headers:o,redirect:"follow"}).then(l=>l.text()).then(l=>(Swal.fire("Sondage supprim\xE9","Votre sondage ainsi que les r\xE9ponses ont \xE9t\xE9 supprim\xE9s.","success"),t("projects"),l)).catch(l=>l)}})}const exitBeforeEnter=writable(!1),transitioning=writable(null),modals=writable([]),action=writable(null);function closeModals(e=1){if(get_store_value(transitioning))return;const t=get_store_value(modals).length;get_store_value(exitBeforeEnter)&&t>0&&transitioning.set(!0),exitBeforeEnter.set(!1),action.set("pop"),pop(e)}function closeModal(){return closeModals(1)}function openModal(e,t,r){get_store_value(transitioning)||(action.set("push"),get_store_value(exitBeforeEnter)&&get_store_value(modals).length&&transitioning.set(!0),exitBeforeEnter.set(!1),r!=null&&r.replace?modals.update(o=>[...o.slice(0,o.length-1),{component:e,props:t}]):modals.update(o=>[...o,{component:e,props:t}]))}function pop(e=1){modals.update(t=>t.slice(0,Math.max(0,t.length-e)))}function get_each_context$8(e,t,r){const o=e.slice();return o[9]=t[r],o[11]=r,o}const get_loading_slot_changes=e=>({}),get_loading_slot_context=e=>({}),get_backdrop_slot_changes=e=>({}),get_backdrop_slot_context=e=>({});function create_if_block_1$a(e){let t;const r=e[4].backdrop,o=create_slot(r,e,e[3],get_backdrop_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),t=!0},p(l,h){o&&o.p&&(!t||h&8)&&update_slot_base(o,r,l,l[3],t?get_slot_changes(r,l[3],h,get_backdrop_slot_changes):get_all_dirty_from_scope(l[3]),get_backdrop_slot_context)},i(l){t||(transition_in(o,l),t=!0)},o(l){transition_out(o,l),t=!1},d(l){o&&o.d(l)}}}function create_else_block$7(e){let t,r,o;const l=[{isOpen:e[11]===e[0].length-1&&!e[1]},e[9].props];var h=e[9].component;function y(D){let O={};for(let F=0;F<l.length;F+=1)O=assign$1(O,l[F]);return{props:O}}return h&&(t=new h(y()),t.$on("introstart",e[7]),t.$on("outroend",e[8])),{c(){t&&create_component(t.$$.fragment),r=empty()},m(D,O){t&&mount_component(t,D,O),insert(D,r,O),o=!0},p(D,O){const F=O&3?get_spread_update(l,[{isOpen:D[11]===D[0].length-1&&!D[1]},O&1&&get_spread_object(D[9].props)]):{};if(h!==(h=D[9].component)){if(t){group_outros();const R=t;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}h?(t=new h(y()),t.$on("introstart",D[7]),t.$on("outroend",D[8]),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else h&&t.$set(F)},i(D){o||(t&&transition_in(t.$$.fragment,D),o=!0)},o(D){t&&transition_out(t.$$.fragment,D),o=!1},d(D){D&&detach(r),t&&destroy_component(t,D)}}}function create_if_block$e(e){let t,r,o,l={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block$a,then:create_then_block$a,catch:create_catch_block$a,value:12,blocks:[,,,]};return handle_promise(r=getComponent(e[9].component),l),{c(){t=empty(),l.block.c()},m(h,y){insert(h,t,y),l.block.m(h,l.anchor=y),l.mount=()=>t.parentNode,l.anchor=t,o=!0},p(h,y){e=h,l.ctx=e,y&1&&r!==(r=getComponent(e[9].component))&&handle_promise(r,l)||update_await_block_branch(l,e,y)},i(h){o||(transition_in(l.block),o=!0)},o(h){for(let y=0;y<3;y+=1){const D=l.blocks[y];transition_out(D)}o=!1},d(h){h&&detach(t),l.block.d(h),l.token=null,l=null}}}function create_catch_block$a(e){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block$a(e){let t,r,o;const l=[{isOpen:e[11]===e[0].length-1&&!e[1]},e[9].props];var h=e[12];function y(D){let O={};for(let F=0;F<l.length;F+=1)O=assign$1(O,l[F]);return{props:O}}return h&&(t=new h(y()),t.$on("introstart",e[5]),t.$on("outroend",e[6])),{c(){t&&create_component(t.$$.fragment),r=space()},m(D,O){t&&mount_component(t,D,O),insert(D,r,O),o=!0},p(D,O){const F=O&3?get_spread_update(l,[{isOpen:D[11]===D[0].length-1&&!D[1]},O&1&&get_spread_object(D[9].props)]):{};if(h!==(h=D[12])){if(t){group_outros();const R=t;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}h?(t=new h(y()),t.$on("introstart",D[5]),t.$on("outroend",D[6]),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else h&&t.$set(F)},i(D){o||(t&&transition_in(t.$$.fragment,D),o=!0)},o(D){t&&transition_out(t.$$.fragment,D),o=!1},d(D){t&&destroy_component(t,D),D&&detach(r)}}}function create_pending_block$a(e){let t,r;const o=e[4].loading,l=create_slot(o,e,e[3],get_loading_slot_context);return{c(){l&&l.c(),t=space()},m(h,y){l&&l.m(h,y),insert(h,t,y),r=!0},p(h,y){l&&l.p&&(!r||y&8)&&update_slot_base(l,o,h,h[3],r?get_slot_changes(o,h[3],y,get_loading_slot_changes):get_all_dirty_from_scope(h[3]),get_loading_slot_context)},i(h){r||(transition_in(l,h),r=!0)},o(h){transition_out(l,h),r=!1},d(h){l&&l.d(h),h&&detach(t)}}}function create_each_block$8(e,t){let r,o,l,h,y,D;const O=[create_if_block$e,create_else_block$7],F=[];function R(B,j){return j&1&&(o=null),o==null&&(o=!!isLazyModal(B[9].component)),o?0:1}return l=R(t,-1),h=F[l]=O[l](t),{key:e,first:null,c(){r=empty(),h.c(),y=empty(),this.first=r},m(B,j){insert(B,r,j),F[l].m(B,j),insert(B,y,j),D=!0},p(B,j){t=B;let U=l;l=R(t,j),l===U?F[l].p(t,j):(group_outros(),transition_out(F[U],1,1,()=>{F[U]=null}),check_outros(),h=F[l],h?h.p(t,j):(h=F[l]=O[l](t),h.c()),transition_in(h,1),h.m(y.parentNode,y))},i(B){D||(transition_in(h),D=!0)},o(B){transition_out(h),D=!1},d(B){B&&detach(r),F[l].d(B),B&&detach(y)}}}function fallback_block(e){let t=[],r=new Map,o,l,h=e[0];const y=D=>D[11];for(let D=0;D<h.length;D+=1){let O=get_each_context$8(e,h,D),F=y(O);r.set(F,t[D]=create_each_block$8(F,O))}return{c(){for(let D=0;D<t.length;D+=1)t[D].c();o=empty()},m(D,O){for(let F=0;F<t.length;F+=1)t[F].m(D,O);insert(D,o,O),l=!0},p(D,O){O&15&&(h=D[0],group_outros(),t=update_keyed_each(t,O,y,1,D,h,r,o.parentNode,outro_and_destroy_block,create_each_block$8,o,get_each_context$8),check_outros())},i(D){if(!l){for(let O=0;O<h.length;O+=1)transition_in(t[O]);l=!0}},o(D){for(let O=0;O<t.length;O+=1)transition_out(t[O]);l=!1},d(D){for(let O=0;O<t.length;O+=1)t[O].d(D);D&&detach(o)}}}function create_fragment$k(e){let t,r,o=e[0].length>0&&create_if_block_1$a(e);const l=e[4].default,h=create_slot(l,e,e[3],null),y=h||fallback_block(e);return{c(){o&&o.c(),t=space(),y&&y.c()},m(D,O){o&&o.m(D,O),insert(D,t,O),y&&y.m(D,O),r=!0},p(D,[O]){D[0].length>0?o?(o.p(D,O),O&1&&transition_in(o,1)):(o=create_if_block_1$a(D),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros()),h?h.p&&(!r||O&8)&&update_slot_base(h,l,D,D[3],r?get_slot_changes(l,D[3],O,null):get_all_dirty_from_scope(D[3]),null):y&&y.p&&(!r||O&15)&&y.p(D,r?O:-1)},i(D){r||(transition_in(o),transition_in(y,D),r=!0)},o(D){transition_out(o),transition_out(y,D),r=!1},d(D){o&&o.d(D),D&&detach(t),y&&y.d(D)}}}function isLazyModal(e){return typeof e.prototype=="undefined"}async function getComponent(e){return e().then(t=>t.default)}function instance$j(e,t,r){let o,l,h;component_subscribe(e,modals,j=>r(0,o=j)),component_subscribe(e,transitioning,j=>r(1,l=j)),component_subscribe(e,exitBeforeEnter,j=>r(2,h=j));let{$$slots:y={},$$scope:D}=t;const O=()=>{set_store_value(exitBeforeEnter,h=!0,h)},F=()=>{set_store_value(transitioning,l=!1,l)},R=()=>{set_store_value(exitBeforeEnter,h=!0,h)},B=()=>{set_store_value(transitioning,l=!1,l)};return e.$$set=j=>{"$$scope"in j&&r(3,D=j.$$scope)},[o,l,h,D,y,O,F,R,B]}class Modals extends SvelteComponent{constructor(t){super(),init(this,t,instance$j,create_fragment$k,safe_not_equal,{})}}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),t}var browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},utils$2={};let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$2.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};utils$2.getSymbolTotalCodewords=function(t){return CODEWORDS_COUNT[t]};utils$2.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};utils$2.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=t};utils$2.isKanjiModeEnabled=function(){return typeof toSJISFunction!="undefined"};utils$2.toSJIS=function(t){return toSJISFunction(t)};var errorCorrectionLevel={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},e.from=function(o,l){if(e.isValid(o))return o;try{return t(o)}catch{return l}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1;function BitMatrix$1(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}BitMatrix$1.prototype.set=function(e,t,r,o){const l=e*this.size+t;this.data[l]=r,o&&(this.reservedBit[l]=!0)};BitMatrix$1.prototype.get=function(e,t){return this.data[e*this.size+t]};BitMatrix$1.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};BitMatrix$1.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(e){const t=utils$2.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const l=Math.floor(o/7)+2,h=t(o),y=h===145?26:Math.ceil((h-13)/(2*l-2))*2,D=[h-7];for(let O=1;O<l-1;O++)D[O]=D[O-1]-y;return D.push(6),D.reverse()},e.getPositions=function(o){const l=[],h=e.getRowColCoords(o),y=h.length;for(let D=0;D<y;D++)for(let O=0;O<y;O++)D===0&&O===0||D===0&&O===y-1||D===y-1&&O===0||l.push([h[D],h[O]]);return l}})(alignmentPattern);var finderPattern={};const getSymbolSize=utils$2.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function(t){const r=getSymbolSize(t);return[[0,0],[r-FINDER_PATTERN_SIZE,0],[0,r-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(l){return l!=null&&l!==""&&!isNaN(l)&&l>=0&&l<=7},e.from=function(l){return e.isValid(l)?parseInt(l,10):void 0},e.getPenaltyN1=function(l){const h=l.size;let y=0,D=0,O=0,F=null,R=null;for(let B=0;B<h;B++){D=O=0,F=R=null;for(let j=0;j<h;j++){let U=l.get(B,j);U===F?D++:(D>=5&&(y+=t.N1+(D-5)),F=U,D=1),U=l.get(j,B),U===R?O++:(O>=5&&(y+=t.N1+(O-5)),R=U,O=1)}D>=5&&(y+=t.N1+(D-5)),O>=5&&(y+=t.N1+(O-5))}return y},e.getPenaltyN2=function(l){const h=l.size;let y=0;for(let D=0;D<h-1;D++)for(let O=0;O<h-1;O++){const F=l.get(D,O)+l.get(D,O+1)+l.get(D+1,O)+l.get(D+1,O+1);(F===4||F===0)&&y++}return y*t.N2},e.getPenaltyN3=function(l){const h=l.size;let y=0,D=0,O=0;for(let F=0;F<h;F++){D=O=0;for(let R=0;R<h;R++)D=D<<1&2047|l.get(F,R),R>=10&&(D===1488||D===93)&&y++,O=O<<1&2047|l.get(R,F),R>=10&&(O===1488||O===93)&&y++}return y*t.N3},e.getPenaltyN4=function(l){let h=0;const y=l.data.length;for(let O=0;O<y;O++)h+=l.data[O];return Math.abs(Math.ceil(h*100/y/5)-10)*t.N4};function r(o,l,h){switch(o){case e.Patterns.PATTERN000:return(l+h)%2===0;case e.Patterns.PATTERN001:return l%2===0;case e.Patterns.PATTERN010:return h%3===0;case e.Patterns.PATTERN011:return(l+h)%3===0;case e.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(h/3))%2===0;case e.Patterns.PATTERN101:return l*h%2+l*h%3===0;case e.Patterns.PATTERN110:return(l*h%2+l*h%3)%2===0;case e.Patterns.PATTERN111:return(l*h%3+(l+h)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(l,h){const y=h.size;for(let D=0;D<y;D++)for(let O=0;O<y;O++)h.isReserved(O,D)||h.xor(O,D,r(l,O,D))},e.getBestMask=function(l,h){const y=Object.keys(e.Patterns).length;let D=0,O=1/0;for(let F=0;F<y;F++){h(F),e.applyMask(F,l);const R=e.getPenaltyN1(l)+e.getPenaltyN2(l)+e.getPenaltyN3(l)+e.getPenaltyN4(l);e.applyMask(F,l),R<O&&(O=R,D=F)}return D}})(maskPattern);var errorCorrectionCode={};const ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function(t,r){switch(r){case ECLevel$1.L:return EC_BLOCKS_TABLE[(t-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(t-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(t-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(t-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function(t,r){switch(r){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(t-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(t-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(t-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(t-1)*4+3];default:return}};var polynomial={},galoisField={};const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)EXP_TABLE[r]=t,LOG_TABLE[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)EXP_TABLE[r]=EXP_TABLE[r-255]})();galoisField.log=function(t){if(t<1)throw new Error("log("+t+")");return LOG_TABLE[t]};galoisField.exp=function(t){return EXP_TABLE[t]};galoisField.mul=function(t,r){return t===0||r===0?0:EXP_TABLE[LOG_TABLE[t]+LOG_TABLE[r]]};(function(e){const t=galoisField;e.mul=function(o,l){const h=new Uint8Array(o.length+l.length-1);for(let y=0;y<o.length;y++)for(let D=0;D<l.length;D++)h[y+D]^=t.mul(o[y],l[D]);return h},e.mod=function(o,l){let h=new Uint8Array(o);for(;h.length-l.length>=0;){const y=h[0];for(let O=0;O<l.length;O++)h[O]^=t.mul(l[O],y);let D=0;for(;D<h.length&&h[D]===0;)D++;h=h.slice(D)}return h},e.generateECPolynomial=function(o){let l=new Uint8Array([1]);for(let h=0;h<o;h++)l=e.mul(l,new Uint8Array([1,t.exp(h)]));return l}})(polynomial);const Polynomial=polynomial;function ReedSolomonEncoder$1(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function(t){this.degree=t,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const o=Polynomial.mod(r,this.genPoly),l=this.degree-o.length;if(l>0){const h=new Uint8Array(this.degree);return h.set(o,l),h}return o};var reedSolomonEncoder=ReedSolomonEncoder$1,version$1={},mode={},versionCheck={};versionCheck.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var regex={};const numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+";let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function(t){return TEST_KANJI.test(t)};regex.testNumeric=function(t){return TEST_NUMERIC.test(t)};regex.testAlphanumeric=function(t){return TEST_ALPHANUMERIC.test(t)};(function(e){const t=versionCheck,r=regex;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(h,y){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!t.isValid(y))throw new Error("Invalid version: "+y);return y>=1&&y<10?h.ccBits[0]:y<27?h.ccBits[1]:h.ccBits[2]},e.getBestModeForData=function(h){return r.testNumeric(h)?e.NUMERIC:r.testAlphanumeric(h)?e.ALPHANUMERIC:r.testKanji(h)?e.KANJI:e.BYTE},e.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},e.isValid=function(h){return h&&h.bit&&h.ccBits};function o(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+l)}}e.from=function(h,y){if(e.isValid(h))return h;try{return o(h)}catch{return y}}})(mode);(function(e){const t=utils$2,r=errorCorrectionCode,o=errorCorrectionLevel,l=mode,h=versionCheck,y=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,D=t.getBCHDigit(y);function O(j,U,q){for(let W=1;W<=40;W++)if(U<=e.getCapacity(W,q,j))return W}function F(j,U){return l.getCharCountIndicator(j,U)+4}function R(j,U){let q=0;return j.forEach(function(W){q+=F(W.mode,U)+W.getBitsLength()}),q}function B(j,U){for(let q=1;q<=40;q++)if(R(j,q)<=e.getCapacity(q,U,l.MIXED))return q}e.from=function(U,q){return h.isValid(U)?parseInt(U,10):q},e.getCapacity=function(U,q,W){if(!h.isValid(U))throw new Error("Invalid QR Code version");typeof W=="undefined"&&(W=l.BYTE);const G=t.getSymbolTotalCodewords(U),Y=r.getTotalCodewordsCount(U,q),K=(G-Y)*8;if(W===l.MIXED)return K;const X=K-F(W,U);switch(W){case l.NUMERIC:return Math.floor(X/10*3);case l.ALPHANUMERIC:return Math.floor(X/11*2);case l.KANJI:return Math.floor(X/13);case l.BYTE:default:return Math.floor(X/8)}},e.getBestVersionForData=function(U,q){let W;const G=o.from(q,o.M);if(Array.isArray(U)){if(U.length>1)return B(U,G);if(U.length===0)return 1;W=U[0]}else W=U;return O(W.mode,W.getLength(),G)},e.getEncodedBits=function(U){if(!h.isValid(U)||U<7)throw new Error("Invalid QR Code version");let q=U<<12;for(;t.getBCHDigit(q)-D>=0;)q^=y<<t.getBCHDigit(q)-D;return U<<12|q}})(version$1);var formatInfo={};const Utils$3=utils$2,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function(t,r){const o=t.bit<<3|r;let l=o<<10;for(;Utils$3.getBCHDigit(l)-G15_BCH>=0;)l^=G15<<Utils$3.getBCHDigit(l)-G15_BCH;return(o<<10|l)^G15_MASK};var segments={};const Mode$4=mode;function NumericData(e){this.mode=Mode$4.NUMERIC,this.data=e.toString()}NumericData.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};NumericData.prototype.getLength=function(){return this.data.length};NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function(t){let r,o,l;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),l=parseInt(o,10),t.put(l,10);const h=this.data.length-r;h>0&&(o=this.data.substr(r),l=parseInt(o,10),t.put(l,h*3+1))};var numericData=NumericData;const Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(e){this.mode=Mode$3.ALPHANUMERIC,this.data=e}AlphanumericData.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};AlphanumericData.prototype.getLength=function(){return this.data.length};AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let o=ALPHA_NUM_CHARS.indexOf(this.data[r])*45;o+=ALPHA_NUM_CHARS.indexOf(this.data[r+1]),t.put(o,11)}this.data.length%2&&t.put(ALPHA_NUM_CHARS.indexOf(this.data[r]),6)};var alphanumericData=AlphanumericData,encodeUtf8$1=function(t){for(var r=[],o=t.length,l=0;l<o;l++){var h=t.charCodeAt(l);if(h>=55296&&h<=56319&&o>l+1){var y=t.charCodeAt(l+1);y>=56320&&y<=57343&&(h=(h-55296)*1024+y-56320+65536,l+=1)}if(h<128){r.push(h);continue}if(h<2048){r.push(h>>6|192),r.push(h&63|128);continue}if(h<55296||h>=57344&&h<65536){r.push(h>>12|224),r.push(h>>6&63|128),r.push(h&63|128);continue}if(h>=65536&&h<=1114111){r.push(h>>18|240),r.push(h>>12&63|128),r.push(h>>6&63|128),r.push(h&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const encodeUtf8=encodeUtf8$1,Mode$2=mode;function ByteData(e){this.mode=Mode$2.BYTE,this.data=new Uint8Array(encodeUtf8(e))}ByteData.getBitsLength=function(t){return t*8};ByteData.prototype.getLength=function(){return this.data.length};ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var byteData=ByteData;const Mode$1=mode,Utils$2=utils$2;function KanjiData(e){this.mode=Mode$1.KANJI,this.data=e}KanjiData.getBitsLength=function(t){return t*13};KanjiData.prototype.getLength=function(){return this.data.length};KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=Utils$2.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,o,l){var h={},y={};y[o]=0;var D=t.PriorityQueue.make();D.push(o,0);for(var O,F,R,B,j,U,q,W,G;!D.empty();){O=D.pop(),F=O.value,B=O.cost,j=r[F]||{};for(R in j)j.hasOwnProperty(R)&&(U=j[R],q=B+U,W=y[R],G=typeof y[R]=="undefined",(G||W>q)&&(y[R]=q,D.push(R,q),h[R]=F))}if(typeof l!="undefined"&&typeof y[l]=="undefined"){var Y=["Could not find a path from ",o," to ",l,"."].join("");throw new Error(Y)}return h},extract_shortest_path_from_predecessor_list:function(r,o){for(var l=[],h=o;h;)l.push(h),h=r[h];return l.reverse(),l},find_path:function(r,o,l){var h=t.single_source_shortest_paths(r,o,l);return t.extract_shortest_path_from_predecessor_list(h,l)},PriorityQueue:{make:function(r){var o=t.PriorityQueue,l={},h;r=r||{};for(h in o)o.hasOwnProperty(h)&&(l[h]=o[h]);return l.queue=[],l.sorter=r.sorter||o.default_sorter,l},default_sorter:function(r,o){return r.cost-o.cost},push:function(r,o){var l={value:r,cost:o};this.queue.push(l),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(dijkstra);(function(e){const t=mode,r=numericData,o=alphanumericData,l=byteData,h=kanjiData,y=regex,D=utils$2,O=dijkstra.exports;function F(Y){return unescape(encodeURIComponent(Y)).length}function R(Y,K,X){const J=[];let Q;for(;(Q=Y.exec(X))!==null;)J.push({data:Q[0],index:Q.index,mode:K,length:Q[0].length});return J}function B(Y){const K=R(y.NUMERIC,t.NUMERIC,Y),X=R(y.ALPHANUMERIC,t.ALPHANUMERIC,Y);let J,Q;return D.isKanjiModeEnabled()?(J=R(y.BYTE,t.BYTE,Y),Q=R(y.KANJI,t.KANJI,Y)):(J=R(y.BYTE_KANJI,t.BYTE,Y),Q=[]),K.concat(X,J,Q).sort(function(nt,Z){return nt.index-Z.index}).map(function(nt){return{data:nt.data,mode:nt.mode,length:nt.length}})}function j(Y,K){switch(K){case t.NUMERIC:return r.getBitsLength(Y);case t.ALPHANUMERIC:return o.getBitsLength(Y);case t.KANJI:return h.getBitsLength(Y);case t.BYTE:return l.getBitsLength(Y)}}function U(Y){return Y.reduce(function(K,X){const J=K.length-1>=0?K[K.length-1]:null;return J&&J.mode===X.mode?(K[K.length-1].data+=X.data,K):(K.push(X),K)},[])}function q(Y){const K=[];for(let X=0;X<Y.length;X++){const J=Y[X];switch(J.mode){case t.NUMERIC:K.push([J,{data:J.data,mode:t.ALPHANUMERIC,length:J.length},{data:J.data,mode:t.BYTE,length:J.length}]);break;case t.ALPHANUMERIC:K.push([J,{data:J.data,mode:t.BYTE,length:J.length}]);break;case t.KANJI:K.push([J,{data:J.data,mode:t.BYTE,length:F(J.data)}]);break;case t.BYTE:K.push([{data:J.data,mode:t.BYTE,length:F(J.data)}])}}return K}function W(Y,K){const X={},J={start:{}};let Q=["start"];for(let et=0;et<Y.length;et++){const nt=Y[et],Z=[];for(let it=0;it<nt.length;it++){const rt=nt[it],tt=""+et+it;Z.push(tt),X[tt]={node:rt,lastCount:0},J[tt]={};for(let ct=0;ct<Q.length;ct++){const lt=Q[ct];X[lt]&&X[lt].node.mode===rt.mode?(J[lt][tt]=j(X[lt].lastCount+rt.length,rt.mode)-j(X[lt].lastCount,rt.mode),X[lt].lastCount+=rt.length):(X[lt]&&(X[lt].lastCount=rt.length),J[lt][tt]=j(rt.length,rt.mode)+4+t.getCharCountIndicator(rt.mode,K))}}Q=Z}for(let et=0;et<Q.length;et++)J[Q[et]].end=0;return{map:J,table:X}}function G(Y,K){let X;const J=t.getBestModeForData(Y);if(X=t.from(K,J),X!==t.BYTE&&X.bit<J.bit)throw new Error('"'+Y+'" cannot be encoded with mode '+t.toString(X)+`.
 Suggested mode is: `+t.toString(J));switch(X===t.KANJI&&!D.isKanjiModeEnabled()&&(X=t.BYTE),X){case t.NUMERIC:return new r(Y);case t.ALPHANUMERIC:return new o(Y);case t.KANJI:return new h(Y);case t.BYTE:return new l(Y)}}e.fromArray=function(K){return K.reduce(function(X,J){return typeof J=="string"?X.push(G(J,null)):J.data&&X.push(G(J.data,J.mode)),X},[])},e.fromString=function(K,X){const J=B(K,D.isKanjiModeEnabled()),Q=q(J),et=W(Q,X),nt=O.find_path(et.map,"start","end"),Z=[];for(let it=1;it<nt.length-1;it++)Z.push(et.table[nt[it]].node);return e.fromArray(U(Z))},e.rawSplit=function(K){return e.fromArray(B(K,D.isKanjiModeEnabled()))}})(segments);const Utils$1=utils$2,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version$1,FormatInfo=formatInfo,Mode=mode,Segments=segments;function setupFinderPattern(e,t){const r=e.size,o=FinderPattern.getPositions(t);for(let l=0;l<o.length;l++){const h=o[l][0],y=o[l][1];for(let D=-1;D<=7;D++)if(!(h+D<=-1||r<=h+D))for(let O=-1;O<=7;O++)y+O<=-1||r<=y+O||(D>=0&&D<=6&&(O===0||O===6)||O>=0&&O<=6&&(D===0||D===6)||D>=2&&D<=4&&O>=2&&O<=4?e.set(h+D,y+O,!0,!0):e.set(h+D,y+O,!1,!0))}}function setupTimingPattern(e){const t=e.size;for(let r=8;r<t-8;r++){const o=r%2===0;e.set(r,6,o,!0),e.set(6,r,o,!0)}}function setupAlignmentPattern(e,t){const r=AlignmentPattern.getPositions(t);for(let o=0;o<r.length;o++){const l=r[o][0],h=r[o][1];for(let y=-2;y<=2;y++)for(let D=-2;D<=2;D++)y===-2||y===2||D===-2||D===2||y===0&&D===0?e.set(l+y,h+D,!0,!0):e.set(l+y,h+D,!1,!0)}}function setupVersionInfo(e,t){const r=e.size,o=Version.getEncodedBits(t);let l,h,y;for(let D=0;D<18;D++)l=Math.floor(D/3),h=D%3+r-8-3,y=(o>>D&1)===1,e.set(l,h,y,!0),e.set(h,l,y,!0)}function setupFormatInfo(e,t,r){const o=e.size,l=FormatInfo.getEncodedBits(t,r);let h,y;for(h=0;h<15;h++)y=(l>>h&1)===1,h<6?e.set(h,8,y,!0):h<8?e.set(h+1,8,y,!0):e.set(o-15+h,8,y,!0),h<8?e.set(8,o-h-1,y,!0):h<9?e.set(8,15-h-1+1,y,!0):e.set(8,15-h-1,y,!0);e.set(o-8,8,1,!0)}function setupData(e,t){const r=e.size;let o=-1,l=r-1,h=7,y=0;for(let D=r-1;D>0;D-=2)for(D===6&&D--;;){for(let O=0;O<2;O++)if(!e.isReserved(l,D-O)){let F=!1;y<t.length&&(F=(t[y]>>>h&1)===1),e.set(l,D-O,F),h--,h===-1&&(y++,h=7)}if(l+=o,l<0||r<=l){l-=o,o=-o;break}}}function createData(e,t,r){const o=new BitBuffer;r.forEach(function(O){o.put(O.mode.bit,4),o.put(O.getLength(),Mode.getCharCountIndicator(O.mode,e)),O.write(o)});const l=Utils$1.getSymbolTotalCodewords(e),h=ECCode.getTotalCodewordsCount(e,t),y=(l-h)*8;for(o.getLengthInBits()+4<=y&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const D=(y-o.getLengthInBits())/8;for(let O=0;O<D;O++)o.put(O%2?17:236,8);return createCodewords(o,e,t)}function createCodewords(e,t,r){const o=Utils$1.getSymbolTotalCodewords(t),l=ECCode.getTotalCodewordsCount(t,r),h=o-l,y=ECCode.getBlocksCount(t,r),D=o%y,O=y-D,F=Math.floor(o/y),R=Math.floor(h/y),B=R+1,j=F-R,U=new ReedSolomonEncoder(j);let q=0;const W=new Array(y),G=new Array(y);let Y=0;const K=new Uint8Array(e.buffer);for(let nt=0;nt<y;nt++){const Z=nt<O?R:B;W[nt]=K.slice(q,q+Z),G[nt]=U.encode(W[nt]),q+=Z,Y=Math.max(Y,Z)}const X=new Uint8Array(o);let J=0,Q,et;for(Q=0;Q<Y;Q++)for(et=0;et<y;et++)Q<W[et].length&&(X[J++]=W[et][Q]);for(Q=0;Q<j;Q++)for(et=0;et<y;et++)X[J++]=G[et][Q];return X}function createSymbol(e,t,r,o){let l;if(Array.isArray(e))l=Segments.fromArray(e);else if(typeof e=="string"){let F=t;if(!F){const R=Segments.rawSplit(e);F=Version.getBestVersionForData(R,r)}l=Segments.fromString(e,F||40)}else throw new Error("Invalid data");const h=Version.getBestVersionForData(l,r);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=h;else if(t<h)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+h+`.
`);const y=createData(t,r,l),D=Utils$1.getSymbolSize(t),O=new BitMatrix(D);return setupFinderPattern(O,t),setupTimingPattern(O),setupAlignmentPattern(O,t),setupFormatInfo(O,r,0),t>=7&&setupVersionInfo(O,t),setupData(O,y),isNaN(o)&&(o=MaskPattern.getBestMask(O,setupFormatInfo.bind(null,O,r))),MaskPattern.applyMask(o,O),setupFormatInfo(O,r,o),{modules:O,version:t,errorCorrectionLevel:r,maskPattern:o,segments:l}}qrcode.create=function(t,r){if(typeof t=="undefined"||t==="")throw new Error("No input text");let o=ECLevel.M,l,h;return typeof r!="undefined"&&(o=ECLevel.from(r.errorCorrectionLevel,ECLevel.M),l=Version.from(r.version),h=MaskPattern.from(r.maskPattern),r.toSJISFunc&&Utils$1.setToSJISFunction(r.toSJISFunc)),createSymbol(t,l,o,h)};var canvas={},utils$1={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+r);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(h){return[h,h]}))),o.length===6&&o.push("F","F");const l=parseInt(o.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const l=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,h=o.width&&o.width>=21?o.width:void 0,y=o.scale||4;return{width:h,scale:h?4:y,margin:l,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,l){return l.width&&l.width>=o+l.margin*2?l.width/(o+l.margin*2):l.scale},e.getImageWidth=function(o,l){const h=e.getScale(o,l);return Math.floor((o+l.margin*2)*h)},e.qrToImageData=function(o,l,h){const y=l.modules.size,D=l.modules.data,O=e.getScale(y,h),F=Math.floor((y+h.margin*2)*O),R=h.margin*O,B=[h.color.light,h.color.dark];for(let j=0;j<F;j++)for(let U=0;U<F;U++){let q=(j*F+U)*4,W=h.color.light;if(j>=R&&U>=R&&j<F-R&&U<F-R){const G=Math.floor((j-R)/O),Y=Math.floor((U-R)/O);W=B[D[G*y+Y]?1:0]}o[q++]=W.r,o[q++]=W.g,o[q++]=W.b,o[q]=W.a}}})(utils$1);(function(e){const t=utils$1;function r(l,h,y){l.clearRect(0,0,h.width,h.height),h.style||(h.style={}),h.height=y,h.width=y,h.style.height=y+"px",h.style.width=y+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(h,y,D){let O=D,F=y;typeof O=="undefined"&&(!y||!y.getContext)&&(O=y,y=void 0),y||(F=o()),O=t.getOptions(O);const R=t.getImageWidth(h.modules.size,O),B=F.getContext("2d"),j=B.createImageData(R,R);return t.qrToImageData(j.data,h,O),r(B,F,R),B.putImageData(j,0,0),F},e.renderToDataURL=function(h,y,D){let O=D;typeof O=="undefined"&&(!y||!y.getContext)&&(O=y,y=void 0),O||(O={});const F=e.render(h,y,O),R=O.type||"image/png",B=O.rendererOpts||{};return F.toDataURL(R,B.quality)}})(canvas);var svgTag={};const Utils=utils$1;function getColorAttrib(e,t){const r=e.a/255,o=t+'="'+e.hex+'"';return r<1?o+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':o}function svgCmd(e,t,r){let o=e+t;return typeof r!="undefined"&&(o+=" "+r),o}function qrToPath(e,t,r){let o="",l=0,h=!1,y=0;for(let D=0;D<e.length;D++){const O=Math.floor(D%t),F=Math.floor(D/t);!O&&!h&&(h=!0),e[D]?(y++,D>0&&O>0&&e[D-1]||(o+=h?svgCmd("M",O+r,.5+F+r):svgCmd("m",l,0),l=0,h=!1),O+1<t&&e[D+1]||(o+=svgCmd("h",y),y=0)):l++}return o}svgTag.render=function(t,r,o){const l=Utils.getOptions(r),h=t.modules.size,y=t.modules.data,D=h+l.margin*2,O=l.color.light.a?"<path "+getColorAttrib(l.color.light,"fill")+' d="M0 0h'+D+"v"+D+'H0z"/>':"",F="<path "+getColorAttrib(l.color.dark,"stroke")+' d="'+qrToPath(y,h,l.margin)+'"/>',R='viewBox="0 0 '+D+" "+D+'"',B=l.width?'width="'+l.width+'" height="'+l.width+'" ':"",j='<svg xmlns="http://www.w3.org/2000/svg" '+B+R+' shape-rendering="crispEdges">'+O+F+`</svg>
`;return typeof o=="function"&&o(null,j),j};const canPromise=canPromise$1,QRCode=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(e,t,r,o,l){const h=[].slice.call(arguments,1),y=h.length,D=typeof h[y-1]=="function";if(!D&&!canPromise())throw new Error("Callback required as last argument");if(D){if(y<2)throw new Error("Too few arguments provided");y===2?(l=r,r=t,t=o=void 0):y===3&&(t.getContext&&typeof l=="undefined"?(l=o,o=void 0):(l=o,o=r,r=t,t=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(r=t,t=o=void 0):y===2&&!t.getContext&&(o=r,r=t,t=void 0),new Promise(function(O,F){try{const R=QRCode.create(r,o);O(e(R,t,o))}catch(R){F(R)}})}try{const O=QRCode.create(r,o);l(null,e(O,t,o))}catch(O){l(O)}}browser.create=QRCode.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(e,t,r){return SvgRenderer.render(e,r)});var modalDiffuse_svelte_svelte_type_style_lang="";function get_each_context$7(e,t,r){const o=e.slice();return o[32]=t[r],o[34]=r,o}function create_if_block_5$3(e){let t,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block$9,then:create_then_block$9,catch:create_catch_block_1$3,value:1};return handle_promise(e[9],o),{c(){t=element("div"),o.block.c()},m(l,h){insert(l,t,h),o.block.m(t,o.anchor=null),o.mount=()=>t,o.anchor=null},p(l,h){e=l,update_await_block_branch(o,e,h)},i(l){r||add_render_callback(()=>{r=create_in_transition(t,fly,{x:20,duration:200}),r.start()})},o:noop$2,d(l){l&&detach(t),o.block.d(),o.token=null,o=null}}}function create_if_block_4$4(e){let t,r,o,l,h,y=`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${e[0].id_rtn}"></iframe>`,D,O,F,R,B,j;return{c(){t=element("div"),r=element("div"),r.innerHTML=`Collez ce code l\xE0 o\xF9 vous le souhaitez dans la balise <i>body</i> de votre page pour permettre \xE0 vos visiteurs de r\xE9pondre au sondage sans changer de
            page.`,o=space(),l=element("div"),h=element("div"),D=text(y),O=space(),F=element("i"),attr(r,"class","text-left"),attr(F,"class","copyBtn bx bxs-copy svelte-1qrymeq"),attr(l,"class","htmlCode my-3 svelte-1qrymeq")},m(U,q){insert(U,t,q),append(t,r),append(t,o),append(t,l),append(l,h),append(h,D),append(l,O),append(l,F),B||(j=listen(F,"click",e[19]),B=!0)},p(U,q){q[0]&1&&y!==(y=`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${U[0].id_rtn}"></iframe>`)&&set_data(D,y)},i(U){R||add_render_callback(()=>{R=create_in_transition(t,fly,{x:20,duration:200}),R.start()})},o:noop$2,d(U){U&&detach(t),B=!1,j()}}}function create_if_block_3$5(e){let t,r,o,l,h,y,D,O,F,R,B,j;return{c(){t=element("div"),r=element("div"),r.textContent="Un sond\xE9 n'aura plus qu'\xE0 scanner ce code avec son smartphone ou tablette pour r\xE9pondre au sondage.",o=space(),l=element("div"),h=element("i"),y=space(),D=element("canvas"),O=space(),F=element("span"),attr(r,"class","text-left mb-3"),set_style(h,"position","absolute"),set_style(h,"top","0px"),set_style(h,"right","0px"),attr(h,"class","copyBtn bx bxs-copy svelte-1qrymeq"),attr(D,"id","qrcode"),attr(l,"class","qrCode svelte-1qrymeq"),set_style(l,"position","relative")},m(U,q){insert(U,t,q),append(t,r),append(t,o),append(t,l),append(l,h),append(l,y),append(l,D),append(l,O),append(l,F),B||(j=[listen(h,"click",e[18]),action_destroyer(e[6].call(null,F))],B=!0)},p:noop$2,i(U){R||add_render_callback(()=>{R=create_in_transition(t,fly,{x:20,duration:200}),R.start()})},o:noop$2,d(U){U&&detach(t),B=!1,run_all(j)}}}function create_if_block_2$6(e){let t,r,o,l,h,y=`retine.io/sondage#${e[0].id_rtn}`,D,O,F,R,B,j;return{c(){t=element("div"),r=element("div"),r.textContent="Toute personne poss\xE9dant ce lien pourra r\xE9pondre au sondage depuis un t\xE9l\xE9phone, tablette ou ordinateur.",o=space(),l=element("div"),h=element("div"),D=text(y),O=space(),F=element("i"),attr(r,"class","text-left"),attr(F,"class","copyBtn bx bxs-copy svelte-1qrymeq"),attr(l,"class","linkTile my-3 svelte-1qrymeq")},m(U,q){insert(U,t,q),append(t,r),append(t,o),append(t,l),append(l,h),append(h,D),append(l,O),append(l,F),B||(j=listen(F,"click",e[17]),B=!0)},p(U,q){q[0]&1&&y!==(y=`retine.io/sondage#${U[0].id_rtn}`)&&set_data(D,y)},i(U){R||add_render_callback(()=>{R=create_in_transition(t,fly,{x:20,duration:200}),R.start()})},o:noop$2,d(U){U&&detach(t),B=!1,j()}}}function create_catch_block_1$3(e){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block$9(e){let t,r,o,l,h=[],y=new Map,D,O,F,R,B,j=e[1];const U=W=>W[34];for(let W=0;W<j.length;W+=1){let G=get_each_context$7(e,j,W),Y=U(G);y.set(Y,h[W]=create_each_block$7(Y,G))}let q={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block_1$3,then:create_then_block_1$3,catch:create_catch_block$9,value:31};return handle_promise(e[8],q),{c(){t=element("div"),r=element("div"),r.textContent="\u{1F4C7} Liste d\xE9stinataire pour l'envoi du sondage :",o=space(),l=element("select");for(let W=0;W<h.length;W+=1)h[W].c();D=space(),O=element("hr"),F=space(),q.block.c(),attr(r,"class","p-1"),attr(l,"class","selectList svelte-1qrymeq"),attr(l,"name","contactlist"),e[4].to===void 0&&add_render_callback(()=>e[20].call(l)),attr(O,"class","w-75 mx-auto my-3"),attr(t,"class","text-left")},m(W,G){insert(W,t,G),append(t,r),append(t,o),append(t,l);for(let Y=0;Y<h.length;Y+=1)h[Y].m(l,null);select_option(l,e[4].to),append(t,D),append(t,O),append(t,F),q.block.m(t,q.anchor=null),q.mount=()=>t,q.anchor=null,R||(B=listen(l,"change",e[20]),R=!0)},p(W,G){e=W,G[0]&512&&(j=e[1],h=update_keyed_each(h,G,U,1,e,j,y,l,destroy_block,create_each_block$7,null,get_each_context$7)),G[0]&528&&select_option(l,e[4].to),update_await_block_branch(q,e,G)},d(W){W&&detach(t);for(let G=0;G<h.length;G+=1)h[G].d();q.block.d(),q.token=null,q=null,R=!1,B()}}}function create_each_block$7(e,t){let r,o=t[32].nom+"",l,h;return{key:e,first:null,c(){r=element("option"),l=text(o),r.__value=h=t[32].id,r.value=r.__value,this.first=r},m(y,D){insert(y,r,D),append(r,l)},p(y,D){t=y},d(y){y&&detach(r)}}}function create_catch_block$9(e){let t,r,o,l,h;return{c(){t=element("div"),t.textContent="Vous devez avoir R\xE9tine pro pour lancer des campagnes de mail \u{1F440}",r=space(),o=element("div"),o.textContent="\u2728 S'abonner \xE0 R\xE9tine Pro \u2728",attr(o,"class","btnSubscribe svelte-1qrymeq")},m(y,D){insert(y,t,D),insert(y,r,D),insert(y,o,D),l||(h=listen(o,"click",e[23]),l=!0)},p:noop$2,d(y){y&&detach(t),y&&detach(r),y&&detach(o),l=!1,h()}}}function create_then_block_1$3(e){let t,r,o,l,h,y;return{c(){t=element("div"),r=element("input"),o=space(),l=element("textarea"),attr(r,"class","mailObj svelte-1qrymeq"),attr(r,"type","text"),attr(r,"placeholder","Objet du mail..."),attr(l,"class","mailObj svelte-1qrymeq"),attr(l,"placeholder","Message personnalis\xE9 inclu dans le mail..."),attr(l,"rows","3"),attr(l,"maxlength","240")},m(D,O){insert(D,t,O),append(t,r),set_input_value(r,e[4].subject),append(t,o),append(t,l),set_input_value(l,e[4].text),h||(y=[listen(r,"input",e[21]),listen(l,"input",e[22])],h=!0)},p(D,O){O[0]&528&&r.value!==D[4].subject&&set_input_value(r,D[4].subject),O[0]&528&&set_input_value(l,D[4].text)},d(D){D&&detach(t),h=!1,run_all(y)}}}function create_pending_block_1$3(e){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_pending_block$9(e){let t;return{c(){t=text("Chargement...")},m(r,o){insert(r,t,o)},p:noop$2,d(r){r&&detach(t)}}}function create_if_block_1$9(e){let t,r,o,l,h;return{c(){t=element("div"),r=text(e[3])},m(y,D){insert(y,t,D),append(t,r),h=!0},p(y,D){(!h||D[0]&8)&&set_data(r,y[3])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(t,fade,{duration:200}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(t,fade,{duration:600}),h=!1},d(y){y&&detach(t),y&&l&&l.end()}}}function create_if_block$d(e){let t,r,o;return{c(){t=element("button"),t.textContent="Envoyer",set_style(t,"background-color","#6219d8"),set_style(t,"color","white"),attr(t,"class","svelte-1qrymeq")},m(l,h){insert(l,t,h),r||(o=listen(t,"click",e[24]),r=!0)},p:noop$2,d(l){l&&detach(t),r=!1,o()}}}function create_fragment$j(e){let t,r,o,l=e[0].nom_proj+"",h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot,dt,ut,at,st,ht;function _t(mt,gt){if(mt[2]=="lien")return create_if_block_2$6;if(mt[2]=="qr")return create_if_block_3$5;if(mt[2]=="html")return create_if_block_4$4;if(mt[2]=="mail")return create_if_block_5$3}let yt=_t(e),ft=yt&&yt(e),vt=e[3]!=""&&create_if_block_1$9(e),pt=e[2]=="mail"&&create_if_block$d(e);return{c(){t=element("div"),r=element("div"),o=element("h4"),h=text(l),y=element("br"),D=space(),O=element("div"),F=element("div"),R=text("Lien"),j=space(),U=element("div"),q=text("QR"),G=space(),Y=element("div"),K=text("HTML"),J=space(),Q=element("div"),et=text("Mail"),Z=space(),it=element("div"),ft&&ft.c(),rt=space(),tt=element("div"),vt&&vt.c(),ct=space(),lt=element("div"),ot=element("button"),ot.textContent="Fermer",dt=space(),pt&&pt.c(),attr(o,"class","mb-2 text-center"),attr(F,"class",B="tab "+(e[2]=="lien"?"active":"")+" svelte-1qrymeq"),attr(U,"class",W="tab "+(e[2]=="qr"?"active":"")+" svelte-1qrymeq"),attr(Y,"class",X="tab "+(e[2]=="html"?"active":"")+" svelte-1qrymeq"),attr(Q,"class",nt="tab "+(e[2]=="mail"?"active":"")+" svelte-1qrymeq"),attr(O,"class","tabs my-2 svelte-1qrymeq"),attr(it,"class","container p-2 text-center d-flex justify-content-center flex-column"),set_style(it,"min-height","220px"),attr(tt,"class","reactMsg svelte-1qrymeq"),attr(ot,"class","svelte-1qrymeq"),attr(lt,"class","actions svelte-1qrymeq"),attr(r,"class","contents svelte-1qrymeq"),attr(t,"role","dialog"),attr(t,"class","modal svelte-1qrymeq")},m(mt,gt){insert(mt,t,gt),append(t,r),append(r,o),append(o,h),append(o,y),append(r,D),append(r,O),append(O,F),append(F,R),append(O,j),append(O,U),append(U,q),append(O,G),append(O,Y),append(Y,K),append(O,J),append(O,Q),append(Q,et),append(r,Z),append(r,it),ft&&ft.m(it,null),append(r,rt),append(r,tt),vt&&vt.m(tt,null),append(r,ct),append(r,lt),append(lt,ot),append(lt,dt),pt&&pt.m(lt,null),at=!0,st||(ht=[listen(F,"click",e[13]),listen(U,"click",e[14]),listen(Y,"click",e[15]),listen(Q,"click",e[16]),listen(ot,"click",closeModal),listen(t,"introstart",e[11]),listen(t,"outroend",e[12])],st=!0)},p(mt,gt){(!at||gt[0]&1)&&l!==(l=mt[0].nom_proj+"")&&set_data(h,l),(!at||gt[0]&4&&B!==(B="tab "+(mt[2]=="lien"?"active":"")+" svelte-1qrymeq"))&&attr(F,"class",B),(!at||gt[0]&4&&W!==(W="tab "+(mt[2]=="qr"?"active":"")+" svelte-1qrymeq"))&&attr(U,"class",W),(!at||gt[0]&4&&X!==(X="tab "+(mt[2]=="html"?"active":"")+" svelte-1qrymeq"))&&attr(Y,"class",X),(!at||gt[0]&4&&nt!==(nt="tab "+(mt[2]=="mail"?"active":"")+" svelte-1qrymeq"))&&attr(Q,"class",nt),yt===(yt=_t(mt))&&ft?ft.p(mt,gt):(ft&&ft.d(1),ft=yt&&yt(mt),ft&&(ft.c(),transition_in(ft,1),ft.m(it,null))),mt[3]!=""?vt?(vt.p(mt,gt),gt[0]&8&&transition_in(vt,1)):(vt=create_if_block_1$9(mt),vt.c(),transition_in(vt,1),vt.m(tt,null)):vt&&(group_outros(),transition_out(vt,1,1,()=>{vt=null}),check_outros()),mt[2]=="mail"?pt?pt.p(mt,gt):(pt=create_if_block$d(mt),pt.c(),pt.m(lt,null)):pt&&(pt.d(1),pt=null)},i(mt){at||(transition_in(ft),transition_in(vt),add_render_callback(()=>{ut||(ut=create_bidirectional_transition(t,fly,{y:50},!0)),ut.run(1)}),at=!0)},o(mt){transition_out(vt),ut||(ut=create_bidirectional_transition(t,fly,{y:50},!1)),ut.run(0),at=!1},d(mt){mt&&detach(t),ft&&ft.d(),vt&&vt.d(),pt&&pt.d(),mt&&ut&&ut.end(),st=!1,run_all(ht)}}}function instance$i(e,t,r){function o(at){activePageStore.set(at)}let{proj:l}=t,{contactlist:h=[]}=t,y="lien";function D(at){browser.toCanvas(document.getElementById("qrcode"),`https://retine.io/sondage#${l.id_rtn}`,{width:200,height:200})}let O="";function F(at){r(3,O=at),setTimeout(()=>{r(3,O="")},2e3)}let R={sond:`https://retine.io/sondage#${l.id_rtn}`,to:"",subject:"",text:""};var B=new Headers;B.append("Authorization","Token "+xxgc("rtnt")),B.append("Content-Type","application/json");var j={method:"GET",headers:B,redirect:"follow"};async function U(){return fetch(rtnUrl+"myplan/",j).then(at=>{if(at.ok)return at.text();throw new Error("Something went wrong")}).then(at=>JSON.parse(at)).catch(at=>{throw new Error("Something went wrong")})}let q=U();async function W(){return fetch(rtnUrl+"contactlist/",j).then(at=>at.text()).then(at=>(r(4,R.to=JSON.parse(at)[0].id,R),JSON.parse(at))).catch(at=>at)}let G=W(),Y=!1;async function K(){if(!Y){var at={method:"POST",headers:B,redirect:"follow",body:JSON.stringify(R)};return Y=!0,fetch(rtnUrl+"sondagesend/",at).then(st=>{if(st.ok){F("Campagne mail lanc\xE9e avec succ\xE8s !"),setTimeout(()=>{closeModal()},2e3);return}else throw Y=!1,new Error("Une erreur s'est produite...")}).catch(st=>(F("Une erreur s'est produite..."),st))}}function X(at){bubble.call(this,e,at)}function J(at){bubble.call(this,e,at)}const Q=()=>r(2,y="lien"),et=()=>r(2,y="qr"),nt=()=>r(2,y="html"),Z=()=>r(2,y="mail"),it=()=>{navigator.clipboard.writeText("retine.io/sondage#"+l.id_rtn),F("Lien copi\xE9 dans le presse-papier !")},rt=at=>{document.getElementById("qrcode").toBlob(st=>navigator.clipboard.write([new ClipboardItem({"image/png":st})])),F("Image copi\xE9e dans le presse-papier !")},tt=()=>{navigator.clipboard.writeText(`<iframe id="sondageRetine" title="Mon sondage R\xE9tine" width="300" height="500" style="border-radius: 20px;border-style:solid; border-color: #6219d8;"  src="https://retine.io/sondage#${l.id_rtn}"></iframe>`),F("Code copi\xE9 dans le presse-papier !")};function ct(){R.to=select_value(this),r(4,R),r(9,G)}function lt(){R.subject=this.value,r(4,R),r(9,G)}function ot(){R.text=this.value,r(4,R),r(9,G)}const dt=()=>{closeModal(),o("account")},ut=()=>{R.subject==""||R.text==""?F("Veuillez remplir tous les champs !"):K()};return e.$$set=at=>{"proj"in at&&r(0,l=at.proj),"contactlist"in at&&r(1,h=at.contactlist)},[l,h,y,O,R,o,D,F,q,G,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot,dt,ut]}class ModalDiffuse extends SvelteComponent{constructor(t){super(),init(this,t,instance$i,create_fragment$j,safe_not_equal,{proj:0,contactlist:1},null,[-1,-1])}}var projetCard_svelte_svelte_type_style_lang="";function create_if_block$c(e){let t,r,o,l,h,y,D;const O=[e[1].props||{}];var F=e[1].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(t=new F(R())),{c(){t&&create_component(t.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-3yqkbr")},m(B,j){t&&mount_component(t,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",e[10]),y=!0)},p(B,j){const U=j&2?get_spread_update(O,[get_spread_object(B[1].props||{})]):{};if(F!==(F=B[1].component)){if(t){group_outros();const q=t;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(t=new F(R()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else F&&t.$set(U)},i(B){h||(t&&transition_in(t.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{duration:200},!0)),l.run(1)}),h=!0)},o(B){t&&transition_out(t.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{duration:200},!1)),l.run(0),h=!1},d(B){t&&destroy_component(t,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$5(e){let t,r,o=e[1]&&create_if_block$c(e);return{c(){o&&o.c(),t=empty()},m(l,h){o&&o.m(l,h),insert(l,t,h),r=!0},p(l,h){l[1]?o?(o.p(l,h),h&2&&transition_in(o,1)):(o=create_if_block$c(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$i(e){let t,r,o,l,h,y,D,O=e[0].nom_proj+"",F,R,B,j,U=e[0].crea_date.split("T")[0]+"",q,W,G,Y=e[2]?"Brouillon":e[0].reponse.length.toString()+" r\xE9ponses",K,X,J,Q,et,nt;return J=new Modals({props:{$$slots:{default:[create_default_slot$5]},$$scope:{ctx:e}}}),{c(){t=element("div"),r=element("div"),o=element("img"),h=space(),y=element("div"),D=element("div"),F=text(O),R=space(),B=element("div"),j=element("div"),q=text(U),W=space(),G=element("div"),K=text(Y),X=space(),create_component(J.$$.fragment),attr(o,"class","w-100"),src_url_equal(o.src,l=e[2]?"/assets/icons/delete.svg":"/assets/icons/share.svg")||attr(o,"src",l),attr(o,"alt","bouton partger"),attr(r,"class","threeDot hvr-bounce-in svelte-3yqkbr"),set_style(D,"font-size",e[5]+"rem"),attr(y,"class","cardTop p-3 pr-5 w-100 h-75 m-0 svelte-3yqkbr"),set_style(y,"background-color",e[2]?"grey":e[0].color),attr(j,"class","d-fk"),attr(B,"class","px-3 flex-fill d-flex justify-content-between align-items-center w-100"),attr(t,"class","neuProjet d-flex align-items-center justify-content-stretch flex-column hvr-float svelte-3yqkbr")},m(Z,it){insert(Z,t,it),append(t,r),append(r,o),append(t,h),append(t,y),append(y,D),append(D,F),append(t,R),append(t,B),append(B,j),append(j,q),append(B,W),append(B,G),append(G,K),insert(Z,X,it),mount_component(J,Z,it),Q=!0,et||(nt=[listen(r,"click",stop_propagation(e[3])),listen(t,"click",e[4])],et=!0)},p(Z,[it]){(!Q||it&1)&&O!==(O=Z[0].nom_proj+"")&&set_data(F,O),(!Q||it&1)&&set_style(y,"background-color",Z[2]?"grey":Z[0].color),(!Q||it&1)&&U!==(U=Z[0].crea_date.split("T")[0]+"")&&set_data(q,U),(!Q||it&1)&&Y!==(Y=Z[2]?"Brouillon":Z[0].reponse.length.toString()+" r\xE9ponses")&&set_data(K,Y);const rt={};it&4098&&(rt.$$scope={dirty:it,ctx:Z}),J.$set(rt)},i(Z){Q||(transition_in(J.$$.fragment,Z),Q=!0)},o(Z){transition_out(J.$$.fragment,Z),Q=!1},d(Z){Z&&detach(t),Z&&detach(X),destroy_component(J,Z),et=!1,run_all(nt)}}}function instance$h(e,t,r){let o,l;component_subscribe(e,modals,W=>r(9,l=W));function h(W){activePageStore.set(W)}let{sondage:y}=t,{loadSondage:D}=t,{updateFun:O}=t,{loadSView:F}=t,R=y.reponse.length==0&&y.priv==!0;const B=()=>{R?delSondRtn(y.id,O):openModal(ModalDiffuse,{proj:y}),window.event.stopPropagation()},j=()=>{R?(r(0,y.jsonContent=JSON.parse(y.jsonContent),y),D(y,y.id)):(F(y),h("projectView"))};let U=y.nom_proj.length<35?"1.8":"1.1";const q=()=>{closeModal()};return e.$$set=W=>{"sondage"in W&&r(0,y=W.sondage),"loadSondage"in W&&r(6,D=W.loadSondage),"updateFun"in W&&r(7,O=W.updateFun),"loadSView"in W&&r(8,F=W.loadSView)},e.$$.update=()=>{e.$$.dirty&512&&r(1,o=l[l.length-1])},[y,o,R,B,j,U,D,O,F,l,q]}class ProjetCard extends SvelteComponent{constructor(t){super(),init(this,t,instance$h,create_fragment$i,safe_not_equal,{sondage:0,loadSondage:6,updateFun:7,loadSView:8})}}var projectsList_svelte_svelte_type_style_lang="";function get_each_context$6(e,t,r){const o=e.slice();return o[7]=t[r],o[9]=r,o}function create_catch_block$8(e){let t,r=e[10]+"",o;return{c(){t=element("div"),o=text(r)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&4&&r!==(r=l[10]+"")&&set_data(o,r)},i:noop$2,o:noop$2,d(l){l&&detach(t)}}}function create_then_block$8(e){let t=[],r=new Map,o,l,h=e[6];const y=D=>D[7].id;for(let D=0;D<h.length;D+=1){let O=get_each_context$6(e,h,D),F=y(O);r.set(F,t[D]=create_each_block$6(F,O))}return{c(){for(let D=0;D<t.length;D+=1)t[D].c();o=empty()},m(D,O){for(let F=0;F<t.length;F+=1)t[F].m(D,O);insert(D,o,O),l=!0},p(D,O){O&15&&(h=D[6],group_outros(),t=update_keyed_each(t,O,y,1,D,h,r,o.parentNode,outro_and_destroy_block,create_each_block$6,o,get_each_context$6),check_outros())},i(D){if(!l){for(let O=0;O<h.length;O+=1)transition_in(t[O]);l=!0}},o(D){for(let O=0;O<t.length;O+=1)transition_out(t[O]);l=!1},d(D){for(let O=0;O<t.length;O+=1)t[O].d(D);D&&detach(o)}}}function create_each_block$6(e,t){let r,o,l,h,y;return o=new ProjetCard({props:{loadSondage:t[0],sondage:t[7],loadSView:t[1],updateFun:t[3]}}),{key:e,first:null,c(){r=element("div"),create_component(o.$$.fragment),l=space(),attr(r,"class","col-12 col-sm-6 col-lg-4 mb-5"),this.first=r},m(D,O){insert(D,r,O),mount_component(o,r,null),append(r,l),y=!0},p(D,O){t=D;const F={};O&1&&(F.loadSondage=t[0]),O&4&&(F.sondage=t[7]),O&2&&(F.loadSView=t[1]),o.$set(F)},i(D){y||(transition_in(o.$$.fragment,D),h||add_render_callback(()=>{h=create_in_transition(r,fly,{x:-20,delay:t[9]*60}),h.start()}),y=!0)},o(D){transition_out(o.$$.fragment,D),y=!1},d(D){D&&detach(r),destroy_component(o)}}}function create_pending_block$8(e){let t;return{c(){t=element("div")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_fragment$h(e){let t,r,o,l,h,y,D,O,F,R,B,j,U={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$8,then:create_then_block$8,catch:create_catch_block$8,value:6,error:10,blocks:[,,,]};return handle_promise(F=e[2],U),{c(){t=element("h1"),t.textContent="Liste des sondages",r=space(),o=element("div"),l=space(),h=element("div"),y=element("div"),D=element("div"),D.innerHTML=`Cr\xE9er un<br/>
      nouveau projet`,O=space(),U.block.c(),attr(t,"class","py-2 mb-3 text-center"),attr(o,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3"),attr(D,"class","neuProjet d-flex align-items-center justify-content-center text-center svelte-tbw97b"),set_style(D,"height","200px"),attr(y,"class","col-12 col-sm-6 col-lg-4 mb-4"),attr(h,"id","mesSondages"),attr(h,"class","row p-3 w-100 mx-auto"),set_style(h,"max-width","1100px")},m(q,W){insert(q,t,W),insert(q,r,W),insert(q,o,W),insert(q,l,W),insert(q,h,W),append(h,y),append(y,D),append(h,O),U.block.m(h,U.anchor=null),U.mount=()=>h,U.anchor=null,R=!0,B||(j=listen(D,"click",e[4]),B=!0)},p(q,[W]){e=q,U.ctx=e,W&4&&F!==(F=e[2])&&handle_promise(F,U)||update_await_block_branch(U,e,W)},i(q){R||(transition_in(U.block),R=!0)},o(q){for(let W=0;W<3;W+=1){const G=U.blocks[W];transition_out(G)}R=!1},d(q){q&&detach(t),q&&detach(r),q&&detach(o),q&&detach(l),q&&detach(h),U.block.d(),U.token=null,U=null,B=!1,j()}}}function instance$g(e,t,r){let{loadSondage:o}=t,{loadSView:l}=t;async function h(){var F=new Headers;F.append("Authorization","Token "+xxgc("rtnt")),F.append("Content-Type","application/json");var R={method:"GET",headers:F,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",R).then(B=>B.text()).then(B=>JSON.parse(B)).catch(B=>B)}let y=h();const D=()=>{r(2,y=h())},O=()=>o("new");return e.$$set=F=>{"loadSondage"in F&&r(0,o=F.loadSondage),"loadSView"in F&&r(1,l=F.loadSView)},[o,l,y,D,O]}class ProjectsList extends SvelteComponent{constructor(t){super(),init(this,t,instance$g,create_fragment$h,safe_not_equal,{loadSondage:0,loadSView:1})}}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const requestAnimFrame=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function throttled(e,t,r){const o=r||(y=>Array.prototype.slice.call(y));let l=!1,h=[];return function(...y){h=o(y),l||(l=!0,requestAnimFrame.call(window,()=>{l=!1,e.apply(t,h)}))}}function debounce(e,t){let r;return function(...o){return t?(clearTimeout(r),r=setTimeout(e,t,o)):e.apply(this,o),t}}const _toLeftRightCenter=e=>e==="start"?"left":e==="end"?"right":"center",_alignStartEnd=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,_textX=(e,t,r,o)=>e===(o?"left":"right")?r:e==="center"?(t+r)/2:t;function noop$1(){}const uid=function(){let e=0;return function(){return e++}}();function isNullOrUndef(e){return e===null||typeof e=="undefined"}function isArray(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function isObject(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const isNumberFinite=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function finiteOrDefault(e,t){return isNumberFinite(e)?e:t}function valueOrDefault(e,t){return typeof e=="undefined"?t:e}const toPercentage=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,toDimension=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function callback(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function each(e,t,r,o){let l,h,y;if(isArray(e))if(h=e.length,o)for(l=h-1;l>=0;l--)t.call(r,e[l],l);else for(l=0;l<h;l++)t.call(r,e[l],l);else if(isObject(e))for(y=Object.keys(e),h=y.length,l=0;l<h;l++)t.call(r,e[y[l]],y[l])}function _elementsEqual(e,t){let r,o,l,h;if(!e||!t||e.length!==t.length)return!1;for(r=0,o=e.length;r<o;++r)if(l=e[r],h=t[r],l.datasetIndex!==h.datasetIndex||l.index!==h.index)return!1;return!0}function clone$1(e){if(isArray(e))return e.map(clone$1);if(isObject(e)){const t=Object.create(null),r=Object.keys(e),o=r.length;let l=0;for(;l<o;++l)t[r[l]]=clone$1(e[r[l]]);return t}return e}function isValidKey(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function _merger(e,t,r,o){if(!isValidKey(e))return;const l=t[e],h=r[e];isObject(l)&&isObject(h)?merge(l,h,o):t[e]=clone$1(h)}function merge(e,t,r){const o=isArray(t)?t:[t],l=o.length;if(!isObject(e))return e;r=r||{};const h=r.merger||_merger;for(let y=0;y<l;++y){if(t=o[y],!isObject(t))continue;const D=Object.keys(t);for(let O=0,F=D.length;O<F;++O)h(D[O],e,t,r)}return e}function mergeIf(e,t){return merge(e,t,{merger:_mergerIf})}function _mergerIf(e,t,r){if(!isValidKey(e))return;const o=t[e],l=r[e];isObject(o)&&isObject(l)?mergeIf(o,l):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=clone$1(l))}const emptyString="",dot=".";function indexOfDotOrLength(e,t){const r=e.indexOf(dot,t);return r===-1?e.length:r}function resolveObjectKey(e,t){if(t===emptyString)return e;let r=0,o=indexOfDotOrLength(t,r);for(;e&&o>r;)e=e[t.slice(r,o)],r=o+1,o=indexOfDotOrLength(t,r);return e}function _capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}const defined=e=>typeof e!="undefined",isFunction=e=>typeof e=="function",setsEqual=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function _isClickEvent(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function niceNum(e){const t=Math.round(e);e=almostEquals(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(log10(e))),o=e/r;return(o<=1?1:o<=2?2:o<=5?5:10)*r}function _factorize(e){const t=[],r=Math.sqrt(e);let o;for(o=1;o<r;o++)e%o===0&&(t.push(o),t.push(e/o));return r===(r|0)&&t.push(r),t.sort((l,h)=>l-h).pop(),t}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function almostEquals(e,t,r){return Math.abs(e-t)<r}function almostWhole(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function _setMinAndMaxByKey(e,t,r){let o,l,h;for(o=0,l=e.length;o<l;o++)h=e[o][r],isNaN(h)||(t.min=Math.min(t.min,h),t.max=Math.max(t.max,h))}function toRadians(e){return e*(PI/180)}function toDegrees(e){return e*(180/PI)}function _decimalPlaces(e){if(!isNumberFinite(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function getAngleFromPoint(e,t){const r=t.x-e.x,o=t.y-e.y,l=Math.sqrt(r*r+o*o);let h=Math.atan2(o,r);return h<-.5*PI&&(h+=TAU),{angle:h,distance:l}}function distanceBetweenPoints(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _angleDiff(e,t){return(e-t+PITAU)%TAU-PI}function _normalizeAngle(e){return(e%TAU+TAU)%TAU}function _angleBetween(e,t,r,o){const l=_normalizeAngle(e),h=_normalizeAngle(t),y=_normalizeAngle(r),D=_normalizeAngle(h-l),O=_normalizeAngle(y-l),F=_normalizeAngle(l-h),R=_normalizeAngle(l-y);return l===h||l===y||o&&h===y||D>O&&F<R}function _limitValue(e,t,r){return Math.max(t,Math.min(r,e))}function _int16Range(e){return _limitValue(e,-32768,32767)}function _isBetween(e,t,r,o=1e-6){return e>=Math.min(t,r)-o&&e<=Math.max(t,r)+o}const atEdge=e=>e===0||e===1,elasticIn=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*TAU/r)),elasticOut=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*TAU/r)+1,effects={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*HALF_PI)+1,easeOutSine:e=>Math.sin(e*HALF_PI),easeInOutSine:e=>-.5*(Math.cos(PI*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>atEdge(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>atEdge(e)?e:elasticIn(e,.075,.3),easeOutElastic:e=>atEdge(e)?e:elasticOut(e,.075,.3),easeInOutElastic(e){return atEdge(e)?e:e<.5?.5*elasticIn(e*2,.1125,.45):.5+.5*elasticOut(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-effects.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?effects.easeInBounce(e*2)*.5:effects.easeOutBounce(e*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function round(e){return e+.5|0}const lim=(e,t,r)=>Math.max(Math.min(e,r),t);function p2b(e){return lim(round(e*2.55),0,255)}function n2b(e){return lim(round(e*255),0,255)}function b2n(e){return lim(round(e/2.55)/100,0,1)}function n2p(e){return lim(round(e*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=e=>hex[e&15],h2=e=>hex[(e&240)>>4]+hex[e&15],eq=e=>(e&240)>>4===(e&15),isShort=e=>eq(e.r)&&eq(e.g)&&eq(e.b)&&eq(e.a);function hexParse(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&map$1[e[1]]*17,g:255&map$1[e[2]]*17,b:255&map$1[e[3]]*17,a:t===5?map$1[e[4]]*17:255}:(t===7||t===9)&&(r={r:map$1[e[1]]<<4|map$1[e[2]],g:map$1[e[3]]<<4|map$1[e[4]],b:map$1[e[5]]<<4|map$1[e[6]],a:t===9?map$1[e[7]]<<4|map$1[e[8]]:255})),r}const alpha=(e,t)=>e<255?t(e):"";function hexString(e){var t=isShort(e)?h1:h2;return e?"#"+t(e.r)+t(e.g)+t(e.b)+alpha(e.a,t):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(e,t,r){const o=t*Math.min(r,1-r),l=(h,y=(h+e/30)%12)=>r-o*Math.max(Math.min(y-3,9-y,1),-1);return[l(0),l(8),l(4)]}function hsv2rgbn(e,t,r){const o=(l,h=(l+e/60)%6)=>r-r*t*Math.max(Math.min(h,4-h,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(e,t,r){const o=hsl2rgbn(e,1,.5);let l;for(t+r>1&&(l=1/(t+r),t*=l,r*=l),l=0;l<3;l++)o[l]*=1-t-r,o[l]+=t;return o}function hueValue(e,t,r,o,l){return e===l?(t-r)/o+(t<r?6:0):t===l?(r-e)/o+2:(e-t)/o+4}function rgb2hsl(e){const r=e.r/255,o=e.g/255,l=e.b/255,h=Math.max(r,o,l),y=Math.min(r,o,l),D=(h+y)/2;let O,F,R;return h!==y&&(R=h-y,F=D>.5?R/(2-h-y):R/(h+y),O=hueValue(r,o,l,R,h),O=O*60+.5),[O|0,F||0,D]}function calln(e,t,r,o){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,o)).map(n2b)}function hsl2rgb(e,t,r){return calln(hsl2rgbn,e,t,r)}function hwb2rgb(e,t,r){return calln(hwb2rgbn,e,t,r)}function hsv2rgb(e,t,r){return calln(hsv2rgbn,e,t,r)}function hue(e){return(e%360+360)%360}function hueParse(e){const t=HUE_RE.exec(e);let r=255,o;if(!t)return;t[5]!==o&&(r=t[6]?p2b(+t[5]):n2b(+t[5]));const l=hue(+t[2]),h=+t[3]/100,y=+t[4]/100;return t[1]==="hwb"?o=hwb2rgb(l,h,y):t[1]==="hsv"?o=hsv2rgb(l,h,y):o=hsl2rgb(l,h,y),{r:o[0],g:o[1],b:o[2],a:r}}function rotate(e,t){var r=rgb2hsl(e);r[0]=hue(r[0]+t),r=hsl2rgb(r),e.r=r[0],e.g=r[1],e.b=r[2]}function hslString(e){if(!e)return;const t=rgb2hsl(e),r=t[0],o=n2p(t[1]),l=n2p(t[2]);return e.a<255?`hsla(${r}, ${o}%, ${l}%, ${b2n(e.a)})`:`hsl(${r}, ${o}%, ${l}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const e={},t=Object.keys(names$1),r=Object.keys(map$2);let o,l,h,y,D;for(o=0;o<t.length;o++){for(y=D=t[o],l=0;l<r.length;l++)h=r[l],D=D.replace(h,map$2[h]);h=parseInt(names$1[y],16),e[D]=[h>>16&255,h>>8&255,h&255]}return e}let names;function nameParse(e){names||(names=unpack(),names.transparent=[0,0,0,0]);const t=names[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(e){const t=RGB_RE.exec(e);let r=255,o,l,h;if(!!t){if(t[7]!==o){const y=+t[7];r=t[8]?p2b(y):lim(y*255,0,255)}return o=+t[1],l=+t[3],h=+t[5],o=255&(t[2]?p2b(o):lim(o,0,255)),l=255&(t[4]?p2b(l):lim(l,0,255)),h=255&(t[6]?p2b(h):lim(h,0,255)),{r:o,g:l,b:h,a:r}}}function rgbString(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${b2n(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const to=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,from=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function interpolate$1(e,t,r){const o=from(b2n(e.r)),l=from(b2n(e.g)),h=from(b2n(e.b));return{r:n2b(to(o+r*(from(b2n(t.r))-o))),g:n2b(to(l+r*(from(b2n(t.g))-l))),b:n2b(to(h+r*(from(b2n(t.b))-h))),a:e.a+r*(t.a-e.a)}}function modHSL(e,t,r){if(e){let o=rgb2hsl(e);o[t]=Math.max(0,Math.min(o[t]+o[t]*r,t===0?360:1)),o=hsl2rgb(o),e.r=o[0],e.g=o[1],e.b=o[2]}}function clone(e,t){return e&&Object.assign(t||{},e)}function fromObject(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=n2b(e[3]))):(t=clone(e,{r:0,g:0,b:0,a:1}),t.a=n2b(t.a)),t}function functionParse(e){return e.charAt(0)==="r"?rgbParse(e):hueParse(e)}class Color{constructor(t){if(t instanceof Color)return t;const r=typeof t;let o;r==="object"?o=fromObject(t):r==="string"&&(o=hexParse(t)||nameParse(t)||functionParse(t)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var t=clone(this._rgb);return t&&(t.a=b2n(t.a)),t}set rgb(t){this._rgb=fromObject(t)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(t,r){if(t){const o=this.rgb,l=t.rgb;let h;const y=r===h?.5:r,D=2*y-1,O=o.a-l.a,F=((D*O===-1?D:(D+O)/(1+D*O))+1)/2;h=1-F,o.r=255&F*o.r+h*l.r+.5,o.g=255&F*o.g+h*l.g+.5,o.b=255&F*o.b+h*l.b+.5,o.a=y*o.a+(1-y)*l.a,this.rgb=o}return this}interpolate(t,r){return t&&(this._rgb=interpolate$1(this._rgb,t._rgb,r)),this}clone(){return new Color(this.rgb)}alpha(t){return this._rgb.a=n2b(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=round(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return modHSL(this._rgb,2,t),this}darken(t){return modHSL(this._rgb,2,-t),this}saturate(t){return modHSL(this._rgb,1,t),this}desaturate(t){return modHSL(this._rgb,1,-t),this}rotate(t){return rotate(this._rgb,t),this}}function index_esm(e){return new Color(e)}function isPatternOrGradient(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function color(e){return isPatternOrGradient(e)?e:index_esm(e)}function getHoverColor(e){return isPatternOrGradient(e)?e:index_esm(e).saturate(.5).darken(.1).hexString()}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(e,t){if(!t)return e;const r=t.split(".");for(let o=0,l=r.length;o<l;++o){const h=r[o];e=e[h]||(e[h]=Object.create(null))}return e}function set$1(e,t,r){return typeof t=="string"?merge(getScope$1(e,t),r):merge(getScope$1(e,""),t)}class Defaults{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>getHoverColor(o.backgroundColor),this.hoverBorderColor=(r,o)=>getHoverColor(o.borderColor),this.hoverColor=(r,o)=>getHoverColor(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,r){return set$1(this,t,r)}get(t){return getScope$1(this,t)}describe(t,r){return set$1(descriptors,t,r)}override(t,r){return set$1(overrides,t,r)}route(t,r,o,l){const h=getScope$1(this,t),y=getScope$1(this,o),D="_"+r;Object.defineProperties(h,{[D]:{value:h[r],writable:!0},[r]:{enumerable:!0,get(){const O=this[D],F=y[l];return isObject(O)?Object.assign({},F,O):valueOrDefault(O,F)},set(O){this[D]=O}}})}}var defaults$1=new Defaults({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function toFontString(e){return!e||isNullOrUndef(e.size)||isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function _measureText(e,t,r,o,l){let h=t[l];return h||(h=t[l]=e.measureText(l).width,r.push(l)),h>o&&(o=h),o}function _longestText(e,t,r,o){o=o||{};let l=o.data=o.data||{},h=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(l=o.data={},h=o.garbageCollect=[],o.font=t),e.save(),e.font=t;let y=0;const D=r.length;let O,F,R,B,j;for(O=0;O<D;O++)if(B=r[O],B!=null&&isArray(B)!==!0)y=_measureText(e,l,h,y,B);else if(isArray(B))for(F=0,R=B.length;F<R;F++)j=B[F],j!=null&&!isArray(j)&&(y=_measureText(e,l,h,y,j));e.restore();const U=h.length/2;if(U>r.length){for(O=0;O<U;O++)delete l[h[O]];h.splice(0,U)}return y}function _alignPixel(e,t,r){const o=e.currentDevicePixelRatio,l=r!==0?Math.max(r/2,.5):0;return Math.round((t-l)*o)/o+l}function clearCanvas(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function drawPoint(e,t,r,o){let l,h,y,D,O;const F=t.pointStyle,R=t.rotation,B=t.radius;let j=(R||0)*RAD_PER_DEG;if(F&&typeof F=="object"&&(l=F.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){e.save(),e.translate(r,o),e.rotate(j),e.drawImage(F,-F.width/2,-F.height/2,F.width,F.height),e.restore();return}if(!(isNaN(B)||B<=0)){switch(e.beginPath(),F){default:e.arc(r,o,B,0,TAU),e.closePath();break;case"triangle":e.moveTo(r+Math.sin(j)*B,o-Math.cos(j)*B),j+=TWO_THIRDS_PI,e.lineTo(r+Math.sin(j)*B,o-Math.cos(j)*B),j+=TWO_THIRDS_PI,e.lineTo(r+Math.sin(j)*B,o-Math.cos(j)*B),e.closePath();break;case"rectRounded":O=B*.516,D=B-O,h=Math.cos(j+QUARTER_PI)*D,y=Math.sin(j+QUARTER_PI)*D,e.arc(r-h,o-y,O,j-PI,j-HALF_PI),e.arc(r+y,o-h,O,j-HALF_PI,j),e.arc(r+h,o+y,O,j,j+HALF_PI),e.arc(r-y,o+h,O,j+HALF_PI,j+PI),e.closePath();break;case"rect":if(!R){D=Math.SQRT1_2*B,e.rect(r-D,o-D,2*D,2*D);break}j+=QUARTER_PI;case"rectRot":h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+y,o-h),e.lineTo(r+h,o+y),e.lineTo(r-y,o+h),e.closePath();break;case"crossRot":j+=QUARTER_PI;case"cross":h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+h,o+y),e.moveTo(r+y,o-h),e.lineTo(r-y,o+h);break;case"star":h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+h,o+y),e.moveTo(r+y,o-h),e.lineTo(r-y,o+h),j+=QUARTER_PI,h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+h,o+y),e.moveTo(r+y,o-h),e.lineTo(r-y,o+h);break;case"line":h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+h,o+y);break;case"dash":e.moveTo(r,o),e.lineTo(r+Math.cos(j)*B,o+Math.sin(j)*B);break}e.fill(),t.borderWidth>0&&e.stroke()}}function _isPointInArea(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function clipArea(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function unclipArea(e){e.restore()}function _steppedLineTo(e,t,r,o,l){if(!t)return e.lineTo(r.x,r.y);if(l==="middle"){const h=(t.x+r.x)/2;e.lineTo(h,t.y),e.lineTo(h,r.y)}else l==="after"!=!!o?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function _bezierCurveTo(e,t,r,o){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?r.cp2x:r.cp1x,o?r.cp2y:r.cp1y,r.x,r.y)}function renderText(e,t,r,o,l,h={}){const y=isArray(t)?t:[t],D=h.strokeWidth>0&&h.strokeColor!=="";let O,F;for(e.save(),e.font=l.string,setRenderOpts(e,h),O=0;O<y.length;++O)F=y[O],D&&(h.strokeColor&&(e.strokeStyle=h.strokeColor),isNullOrUndef(h.strokeWidth)||(e.lineWidth=h.strokeWidth),e.strokeText(F,r,o,h.maxWidth)),e.fillText(F,r,o,h.maxWidth),decorateText(e,r,o,F,h),o+=l.lineHeight;e.restore()}function setRenderOpts(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),isNullOrUndef(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function decorateText(e,t,r,o,l){if(l.strikethrough||l.underline){const h=e.measureText(o),y=t-h.actualBoundingBoxLeft,D=t+h.actualBoundingBoxRight,O=r-h.actualBoundingBoxAscent,F=r+h.actualBoundingBoxDescent,R=l.strikethrough?(O+F)/2:F;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=l.decorationWidth||2,e.moveTo(y,R),e.lineTo(D,R),e.stroke()}}function addRoundedRectPath(e,t){const{x:r,y:o,w:l,h,radius:y}=t;e.arc(r+y.topLeft,o+y.topLeft,y.topLeft,-HALF_PI,PI,!0),e.lineTo(r,o+h-y.bottomLeft),e.arc(r+y.bottomLeft,o+h-y.bottomLeft,y.bottomLeft,PI,HALF_PI,!0),e.lineTo(r+l-y.bottomRight,o+h),e.arc(r+l-y.bottomRight,o+h-y.bottomRight,y.bottomRight,HALF_PI,0,!0),e.lineTo(r+l,o+y.topRight),e.arc(r+l-y.topRight,o+y.topRight,y.topRight,0,-HALF_PI,!0),e.lineTo(r+y.topLeft,o)}const LINE_HEIGHT=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),FONT_STYLE=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function toLineHeight(e,t){const r=(""+e).match(LINE_HEIGHT);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const numberOrZero=e=>+e||0;function _readValueToProps(e,t){const r={},o=isObject(t),l=o?Object.keys(t):t,h=isObject(e)?o?y=>valueOrDefault(e[y],e[t[y]]):y=>e[y]:()=>e;for(const y of l)r[y]=numberOrZero(h(y));return r}function toTRBL(e){return _readValueToProps(e,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(e){return _readValueToProps(e,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(e){const t=toTRBL(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function toFont(e,t){e=e||{},t=t||defaults$1.font;let r=valueOrDefault(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let o=valueOrDefault(e.style,t.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o="");const l={family:valueOrDefault(e.family,t.family),lineHeight:toLineHeight(valueOrDefault(e.lineHeight,t.lineHeight),r),size:r,style:o,weight:valueOrDefault(e.weight,t.weight),string:""};return l.string=toFontString(l),l}function resolve(e,t,r,o){let l=!0,h,y,D;for(h=0,y=e.length;h<y;++h)if(D=e[h],D!==void 0&&(t!==void 0&&typeof D=="function"&&(D=D(t),l=!1),r!==void 0&&isArray(D)&&(D=D[r%D.length],l=!1),D!==void 0))return o&&!l&&(o.cacheable=!1),D}function _addGrace(e,t,r){const{min:o,max:l}=e,h=toDimension(t,(l-o)/2),y=(D,O)=>r&&D===0?0:D+O;return{min:y(o,-Math.abs(h)),max:y(l,h)}}function createContext(e,t){return Object.assign(Object.create(e),t)}function _lookup(e,t,r){r=r||(y=>e[y]<t);let o=e.length-1,l=0,h;for(;o-l>1;)h=l+o>>1,r(h)?l=h:o=h;return{lo:l,hi:o}}const _lookupByKey=(e,t,r)=>_lookup(e,r,o=>e[o][t]<r),_rlookupByKey=(e,t,r)=>_lookup(e,r,o=>e[o][t]>=r);function _filterBetween(e,t,r){let o=0,l=e.length;for(;o<l&&e[o]<t;)o++;for(;l>o&&e[l-1]>r;)l--;return o>0||l<e.length?e.slice(o,l):e}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),arrayEvents.forEach(r=>{const o="_onData"+_capitalize(r),l=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...h){const y=l.apply(this,h);return e._chartjs.listeners.forEach(D=>{typeof D[o]=="function"&&D[o](...h)}),y}})})}function unlistenArrayEvents(e,t){const r=e._chartjs;if(!r)return;const o=r.listeners,l=o.indexOf(t);l!==-1&&o.splice(l,1),!(o.length>0)&&(arrayEvents.forEach(h=>{delete e[h]}),delete e._chartjs)}function _arrayUnique(e){const t=new Set;let r,o;for(r=0,o=e.length;r<o;++r)t.add(e[r]);return t.size===o?e:Array.from(t)}function _createResolver(e,t=[""],r=e,o,l=()=>e[0]){defined(o)||(o=_resolve("_fallback",e));const h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:o,_getTarget:l,override:y=>_createResolver([y,...e],t,r,o)};return new Proxy(h,{deleteProperty(y,D){return delete y[D],delete y._keys,delete e[0][D],!0},get(y,D){return _cached(y,D,()=>_resolveWithPrefixes(D,t,e,y))},getOwnPropertyDescriptor(y,D){return Reflect.getOwnPropertyDescriptor(y._scopes[0],D)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(y,D){return getKeysFromAllScopes(y).includes(D)},ownKeys(y){return getKeysFromAllScopes(y)},set(y,D,O){const F=y._storage||(y._storage=l());return y[D]=F[D]=O,delete y._keys,!0}})}function _attachContext(e,t,r,o){const l={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:_descriptors(e,o),setContext:h=>_attachContext(e,h,r,o),override:h=>_attachContext(e.override(h),t,r,o)};return new Proxy(l,{deleteProperty(h,y){return delete h[y],delete e[y],!0},get(h,y,D){return _cached(h,y,()=>_resolveWithContext(h,y,D))},getOwnPropertyDescriptor(h,y){return h._descriptors.allKeys?Reflect.has(e,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,y)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(h,y){return Reflect.has(e,y)},ownKeys(){return Reflect.ownKeys(e)},set(h,y,D){return e[y]=D,delete h[y],!0}})}function _descriptors(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:o=t.indexable,_allKeys:l=t.allKeys}=e;return{allKeys:l,scriptable:r,indexable:o,isScriptable:isFunction(r)?r:()=>r,isIndexable:isFunction(o)?o:()=>o}}const readKey=(e,t)=>e?e+_capitalize(t):t,needsSubResolver=(e,t)=>isObject(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function _cached(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const o=r();return e[t]=o,o}function _resolveWithContext(e,t,r){const{_proxy:o,_context:l,_subProxy:h,_descriptors:y}=e;let D=o[t];return isFunction(D)&&y.isScriptable(t)&&(D=_resolveScriptable(t,D,e,r)),isArray(D)&&D.length&&(D=_resolveArray(t,D,e,y.isIndexable)),needsSubResolver(t,D)&&(D=_attachContext(D,l,h&&h[t],y)),D}function _resolveScriptable(e,t,r,o){const{_proxy:l,_context:h,_subProxy:y,_stack:D}=r;if(D.has(e))throw new Error("Recursion detected: "+Array.from(D).join("->")+"->"+e);return D.add(e),t=t(h,y||o),D.delete(e),needsSubResolver(e,t)&&(t=createSubResolver(l._scopes,l,e,t)),t}function _resolveArray(e,t,r,o){const{_proxy:l,_context:h,_subProxy:y,_descriptors:D}=r;if(defined(h.index)&&o(e))t=t[h.index%t.length];else if(isObject(t[0])){const O=t,F=l._scopes.filter(R=>R!==O);t=[];for(const R of O){const B=createSubResolver(F,l,e,R);t.push(_attachContext(B,h,y&&y[e],D))}}return t}function resolveFallback(e,t,r){return isFunction(e)?e(t,r):e}const getScope=(e,t)=>e===!0?t:typeof e=="string"?resolveObjectKey(t,e):void 0;function addScopes(e,t,r,o,l){for(const h of t){const y=getScope(r,h);if(y){e.add(y);const D=resolveFallback(y._fallback,r,l);if(defined(D)&&D!==r&&D!==o)return D}else if(y===!1&&defined(o)&&r!==o)return null}return!1}function createSubResolver(e,t,r,o){const l=t._rootScopes,h=resolveFallback(t._fallback,r,o),y=[...e,...l],D=new Set;D.add(o);let O=addScopesFromKey(D,y,r,h||r,o);return O===null||defined(h)&&h!==r&&(O=addScopesFromKey(D,y,h,O,o),O===null)?!1:_createResolver(Array.from(D),[""],l,h,()=>subGetTarget(t,r,o))}function addScopesFromKey(e,t,r,o,l){for(;r;)r=addScopes(e,t,r,o,l);return r}function subGetTarget(e,t,r){const o=e._getTarget();t in o||(o[t]={});const l=o[t];return isArray(l)&&isObject(r)?r:l}function _resolveWithPrefixes(e,t,r,o){let l;for(const h of t)if(l=_resolve(readKey(h,e),r),defined(l))return needsSubResolver(e,l)?createSubResolver(r,o,e,l):l}function _resolve(e,t){for(const r of t){if(!r)continue;const o=r[e];if(defined(o))return o}}function getKeysFromAllScopes(e){let t=e._keys;return t||(t=e._keys=resolveKeysFromAllScopes(e._scopes)),t}function resolveKeysFromAllScopes(e){const t=new Set;for(const r of e)for(const o of Object.keys(r).filter(l=>!l.startsWith("_")))t.add(o);return Array.from(t)}function _parseObjectDataRadialScale(e,t,r,o){const{iScale:l}=e,{key:h="r"}=this._parsing,y=new Array(o);let D,O,F,R;for(D=0,O=o;D<O;++D)F=D+r,R=t[F],y[D]={r:l.parse(resolveObjectKey(R,h),F)};return y}const EPSILON=Number.EPSILON||1e-14,getPoint=(e,t)=>t<e.length&&!e[t].skip&&e[t],getValueAxis=e=>e==="x"?"y":"x";function splineCurve(e,t,r,o){const l=e.skip?t:e,h=t,y=r.skip?t:r,D=distanceBetweenPoints(h,l),O=distanceBetweenPoints(y,h);let F=D/(D+O),R=O/(D+O);F=isNaN(F)?0:F,R=isNaN(R)?0:R;const B=o*F,j=o*R;return{previous:{x:h.x-B*(y.x-l.x),y:h.y-B*(y.y-l.y)},next:{x:h.x+j*(y.x-l.x),y:h.y+j*(y.y-l.y)}}}function monotoneAdjust(e,t,r){const o=e.length;let l,h,y,D,O,F=getPoint(e,0);for(let R=0;R<o-1;++R)if(O=F,F=getPoint(e,R+1),!(!O||!F)){if(almostEquals(t[R],0,EPSILON)){r[R]=r[R+1]=0;continue}l=r[R]/t[R],h=r[R+1]/t[R],D=Math.pow(l,2)+Math.pow(h,2),!(D<=9)&&(y=3/Math.sqrt(D),r[R]=l*y*t[R],r[R+1]=h*y*t[R])}}function monotoneCompute(e,t,r="x"){const o=getValueAxis(r),l=e.length;let h,y,D,O=getPoint(e,0);for(let F=0;F<l;++F){if(y=D,D=O,O=getPoint(e,F+1),!D)continue;const R=D[r],B=D[o];y&&(h=(R-y[r])/3,D[`cp1${r}`]=R-h,D[`cp1${o}`]=B-h*t[F]),O&&(h=(O[r]-R)/3,D[`cp2${r}`]=R+h,D[`cp2${o}`]=B+h*t[F])}}function splineCurveMonotone(e,t="x"){const r=getValueAxis(t),o=e.length,l=Array(o).fill(0),h=Array(o);let y,D,O,F=getPoint(e,0);for(y=0;y<o;++y)if(D=O,O=F,F=getPoint(e,y+1),!!O){if(F){const R=F[t]-O[t];l[y]=R!==0?(F[r]-O[r])/R:0}h[y]=D?F?sign(l[y-1])!==sign(l[y])?0:(l[y-1]+l[y])/2:l[y-1]:l[y]}monotoneAdjust(e,l,h),monotoneCompute(e,h,t)}function capControlPoint(e,t,r){return Math.max(Math.min(e,r),t)}function capBezierPoints(e,t){let r,o,l,h,y,D=_isPointInArea(e[0],t);for(r=0,o=e.length;r<o;++r)y=h,h=D,D=r<o-1&&_isPointInArea(e[r+1],t),h&&(l=e[r],y&&(l.cp1x=capControlPoint(l.cp1x,t.left,t.right),l.cp1y=capControlPoint(l.cp1y,t.top,t.bottom)),D&&(l.cp2x=capControlPoint(l.cp2x,t.left,t.right),l.cp2y=capControlPoint(l.cp2y,t.top,t.bottom)))}function _updateBezierControlPoints(e,t,r,o,l){let h,y,D,O;if(t.spanGaps&&(e=e.filter(F=>!F.skip)),t.cubicInterpolationMode==="monotone")splineCurveMonotone(e,l);else{let F=o?e[e.length-1]:e[0];for(h=0,y=e.length;h<y;++h)D=e[h],O=splineCurve(F,D,e[Math.min(h+1,y-(o?0:1))%y],t.tension),D.cp1x=O.previous.x,D.cp1y=O.previous.y,D.cp2x=O.next.x,D.cp2y=O.next.y,F=D}t.capBezierPoints&&capBezierPoints(e,r)}function _isDomSupported(){return typeof window!="undefined"&&typeof document!="undefined"}function _getParentNode(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function parseMaxStyle(e,t,r){let o;return typeof e=="string"?(o=parseInt(e,10),e.indexOf("%")!==-1&&(o=o/100*t.parentNode[r])):o=e,o}const getComputedStyle$1=e=>window.getComputedStyle(e,null);function getStyle(e,t){return getComputedStyle$1(e).getPropertyValue(t)}const positions=["top","right","bottom","left"];function getPositionedStyle(e,t,r){const o={};r=r?"-"+r:"";for(let l=0;l<4;l++){const h=positions[l];o[h]=parseFloat(e[t+"-"+h+r])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function getCanvasPosition(e,t){const r=e.touches,o=r&&r.length?r[0]:e,{offsetX:l,offsetY:h}=o;let y=!1,D,O;if(useOffsetPos(l,h,e.target))D=l,O=h;else{const F=t.getBoundingClientRect();D=o.clientX-F.left,O=o.clientY-F.top,y=!0}return{x:D,y:O,box:y}}function getRelativePosition(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:o}=t,l=getComputedStyle$1(r),h=l.boxSizing==="border-box",y=getPositionedStyle(l,"padding"),D=getPositionedStyle(l,"border","width"),{x:O,y:F,box:R}=getCanvasPosition(e,r),B=y.left+(R&&D.left),j=y.top+(R&&D.top);let{width:U,height:q}=t;return h&&(U-=y.width+D.width,q-=y.height+D.height),{x:Math.round((O-B)/U*r.width/o),y:Math.round((F-j)/q*r.height/o)}}function getContainerSize(e,t,r){let o,l;if(t===void 0||r===void 0){const h=_getParentNode(e);if(!h)t=e.clientWidth,r=e.clientHeight;else{const y=h.getBoundingClientRect(),D=getComputedStyle$1(h),O=getPositionedStyle(D,"border","width"),F=getPositionedStyle(D,"padding");t=y.width-F.width-O.width,r=y.height-F.height-O.height,o=parseMaxStyle(D.maxWidth,h,"clientWidth"),l=parseMaxStyle(D.maxHeight,h,"clientHeight")}}return{width:t,height:r,maxWidth:o||INFINITY,maxHeight:l||INFINITY}}const round1=e=>Math.round(e*10)/10;function getMaximumSize(e,t,r,o){const l=getComputedStyle$1(e),h=getPositionedStyle(l,"margin"),y=parseMaxStyle(l.maxWidth,e,"clientWidth")||INFINITY,D=parseMaxStyle(l.maxHeight,e,"clientHeight")||INFINITY,O=getContainerSize(e,t,r);let{width:F,height:R}=O;if(l.boxSizing==="content-box"){const B=getPositionedStyle(l,"border","width"),j=getPositionedStyle(l,"padding");F-=j.width+B.width,R-=j.height+B.height}return F=Math.max(0,F-h.width),R=Math.max(0,o?Math.floor(F/o):R-h.height),F=round1(Math.min(F,y,O.maxWidth)),R=round1(Math.min(R,D,O.maxHeight)),F&&!R&&(R=round1(F/2)),{width:F,height:R}}function retinaScale(e,t,r){const o=t||1,l=Math.floor(e.height*o),h=Math.floor(e.width*o);e.height=l/o,e.width=h/o;const y=e.canvas;return y.style&&(r||!y.style.height&&!y.style.width)&&(y.style.height=`${e.height}px`,y.style.width=`${e.width}px`),e.currentDevicePixelRatio!==o||y.height!==l||y.width!==h?(e.currentDevicePixelRatio=o,y.height=l,y.width=h,e.ctx.setTransform(o,0,0,o,0,0),!0):!1}const supportsEventListenerOptions=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function readUsedSize(e,t){const r=getStyle(e,t),o=r&&r.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(e,t,r,o){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function _steppedInterpolation(e,t,r,o){return{x:e.x+r*(t.x-e.x),y:o==="middle"?r<.5?e.y:t.y:o==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function _bezierInterpolation(e,t,r,o){const l={x:e.cp2x,y:e.cp2y},h={x:t.cp1x,y:t.cp1y},y=_pointInLine(e,l,r),D=_pointInLine(l,h,r),O=_pointInLine(h,t,r),F=_pointInLine(y,D,r),R=_pointInLine(D,O,r);return _pointInLine(F,R,r)}const intlCache=new Map;function getNumberFormat(e,t){t=t||{};const r=e+JSON.stringify(t);let o=intlCache.get(r);return o||(o=new Intl.NumberFormat(e,t),intlCache.set(r,o)),o}function formatNumber(e,t,r){return getNumberFormat(t,r).format(e)}const getRightToLeftAdapter=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,o){return r-o},leftForLtr(r,o){return r-o}}},getLeftToRightAdapter=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function getRtlAdapter(e,t,r){return e?getRightToLeftAdapter(t,r):getLeftToRightAdapter()}function overrideTextDirection(e,t){let r,o;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,o=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=o)}function restoreTextDirection(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function propertyFn(e){return e==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(t,r)=>t-r,normalize:t=>t}}function normalizeSegment({start:e,end:t,count:r,loop:o,style:l}){return{start:e%r,end:t%r,loop:o&&(t-e+1)%r===0,style:l}}function getSegment(e,t,r){const{property:o,start:l,end:h}=r,{between:y,normalize:D}=propertyFn(o),O=t.length;let{start:F,end:R,loop:B}=e,j,U;if(B){for(F+=O,R+=O,j=0,U=O;j<U&&y(D(t[F%O][o]),l,h);++j)F--,R--;F%=O,R%=O}return R<F&&(R+=O),{start:F,end:R,loop:B,style:e.style}}function _boundSegment(e,t,r){if(!r)return[e];const{property:o,start:l,end:h}=r,y=t.length,{compare:D,between:O,normalize:F}=propertyFn(o),{start:R,end:B,loop:j,style:U}=getSegment(e,t,r),q=[];let W=!1,G=null,Y,K,X;const J=()=>O(l,X,Y)&&D(l,X)!==0,Q=()=>D(h,Y)===0||O(h,X,Y),et=()=>W||J(),nt=()=>!W||Q();for(let Z=R,it=R;Z<=B;++Z)K=t[Z%y],!K.skip&&(Y=F(K[o]),Y!==X&&(W=O(Y,l,h),G===null&&et()&&(G=D(Y,l)===0?Z:it),G!==null&&nt()&&(q.push(normalizeSegment({start:G,end:Z,loop:j,count:y,style:U})),G=null),it=Z,X=Y));return G!==null&&q.push(normalizeSegment({start:G,end:B,loop:j,count:y,style:U})),q}function _boundSegments(e,t){const r=[],o=e.segments;for(let l=0;l<o.length;l++){const h=_boundSegment(o[l],e.points,t);h.length&&r.push(...h)}return r}function findStartAndEnd(e,t,r,o){let l=0,h=t-1;if(r&&!o)for(;l<t&&!e[l].skip;)l++;for(;l<t&&e[l].skip;)l++;for(l%=t,r&&(h+=l);h>l&&e[h%t].skip;)h--;return h%=t,{start:l,end:h}}function solidSegments(e,t,r,o){const l=e.length,h=[];let y=t,D=e[t],O;for(O=t+1;O<=r;++O){const F=e[O%l];F.skip||F.stop?D.skip||(o=!1,h.push({start:t%l,end:(O-1)%l,loop:o}),t=y=F.stop?O:null):(y=O,D.skip&&(t=O)),D=F}return y!==null&&h.push({start:t%l,end:y%l,loop:o}),h}function _computeSegments(e,t){const r=e.points,o=e.options.spanGaps,l=r.length;if(!l)return[];const h=!!e._loop,{start:y,end:D}=findStartAndEnd(r,l,h,o);if(o===!0)return splitByStyles(e,[{start:y,end:D,loop:h}],r,t);const O=D<y?D+l:D,F=!!e._fullLoop&&y===0&&D===l-1;return splitByStyles(e,solidSegments(r,y,O,F),r,t)}function splitByStyles(e,t,r,o){return!o||!o.setContext||!r?t:doSplitByStyles(e,t,r,o)}function doSplitByStyles(e,t,r,o){const l=e._chart.getContext(),h=readStyle(e.options),{_datasetIndex:y,options:{spanGaps:D}}=e,O=r.length,F=[];let R=h,B=t[0].start,j=B;function U(q,W,G,Y){const K=D?-1:1;if(q!==W){for(q+=O;r[q%O].skip;)q-=K;for(;r[W%O].skip;)W+=K;q%O!==W%O&&(F.push({start:q%O,end:W%O,loop:G,style:Y}),R=Y,B=W%O)}}for(const q of t){B=D?B:q.start;let W=r[B%O],G;for(j=B+1;j<=q.end;j++){const Y=r[j%O];G=readStyle(o.setContext(createContext(l,{type:"segment",p0:W,p1:Y,p0DataIndex:(j-1)%O,p1DataIndex:j%O,datasetIndex:y}))),styleChanged(G,R)&&U(B,j-1,q.loop,R),W=Y,R=G}B<j-1&&U(B,j-1,q.loop,R)}return F}function readStyle(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function styleChanged(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,o,l){const h=r.listeners[l],y=r.duration;h.forEach(D=>D({chart:t,initial:r.initial,numSteps:y,currentStep:Math.min(o-r.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const h=o.items;let y=h.length-1,D=!1,O;for(;y>=0;--y)O=h[y],O._active?(O._total>o.duration&&(o.duration=O._total),O.tick(t),D=!0):(h[y]=h[h.length-1],h.pop());D&&(l.draw(),this._notify(l,o,t,"progress")),h.length||(o.running=!1,this._notify(l,o,t,"complete"),o.initial=!1),r+=h.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let o=r.get(t);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,o)),o}listen(t,r,o){this._getAnims(t).listeners[r].push(o)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);!r||(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const o=r.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const o=color(e||transparent),l=o.valid&&color(t||transparent);return l&&l.valid?l.mix(o,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class Animation{constructor(t,r,o,l){const h=r[o];l=resolve([t.to,l,h,t.from]);const y=resolve([t.from,h,l]);this._active=!0,this._fn=t.fn||interpolators[t.type||typeof y],this._easing=effects[t.easing]||effects.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=o,this._from=y,this._to=l,this._promises=void 0}active(){return this._active}update(t,r,o){if(this._active){this._notify(!1);const l=this._target[this._prop],h=o-this._start,y=this._duration-h;this._start=o,this._duration=Math.floor(Math.max(y,t.duration)),this._total+=h,this._loop=!!t.loop,this._to=resolve([t.to,r,l,t.from]),this._from=resolve([t.from,l,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,o=this._duration,l=this._prop,h=this._from,y=this._loop,D=this._to;let O;if(this._active=h!==D&&(y||r<o),!this._active){this._target[l]=D,this._notify(!0);return}if(r<0){this._target[l]=h;return}O=r/o%2,O=y&&O>1?2-O:O,O=this._easing(Math.min(1,Math.max(0,O))),this._target[l]=this._fn(h,D,O)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,o)=>{t.push({res:r,rej:o})})}_notify(t){const r=t?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][r]()}}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];defaults$1.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const animationOptions=Object.keys(defaults$1.animation);defaults$1.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});defaults$1.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}});defaults$1.describe("animations",{_fallback:"animation"});defaults$1.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class Animations{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!isObject(t))return;const r=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const l=t[o];if(!isObject(l))return;const h={};for(const y of animationOptions)h[y]=l[y];(isArray(l.properties)&&l.properties||[o]).forEach(y=>{(y===o||!r.has(y))&&r.set(y,h)})})}_animateOptions(t,r){const o=r.options,l=resolveTargetOptions(t,o);if(!l)return[];const h=this._createAnimations(l,o);return o.$shared&&awaitAll(t.options.$animations,o).then(()=>{t.options=o},()=>{}),h}_createAnimations(t,r){const o=this._properties,l=[],h=t.$animations||(t.$animations={}),y=Object.keys(r),D=Date.now();let O;for(O=y.length-1;O>=0;--O){const F=y[O];if(F.charAt(0)==="$")continue;if(F==="options"){l.push(...this._animateOptions(t,r));continue}const R=r[F];let B=h[F];const j=o.get(F);if(B)if(j&&B.active()){B.update(j,R,D);continue}else B.cancel();if(!j||!j.duration){t[F]=R;continue}h[F]=B=new Animation(j,t,F,R),l.push(B)}return l}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const o=this._createAnimations(t,r);if(o.length)return animator.add(this._chart,o),!0}}function awaitAll(e,t){const r=[],o=Object.keys(t);for(let l=0;l<o.length;l++){const h=e[o[l]];h&&h.active()&&r.push(h.wait())}return Promise.all(r)}function resolveTargetOptions(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function scaleClip(e,t){const r=e&&e.options||{},o=r.reverse,l=r.min===void 0?t:0,h=r.max===void 0?t:0;return{start:o?h:l,end:o?l:h}}function defaultClip(e,t,r){if(r===!1)return!1;const o=scaleClip(e,r),l=scaleClip(t,r);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}function toClip(e){let t,r,o,l;return isObject(e)?(t=e.top,r=e.right,o=e.bottom,l=e.left):t=r=o=l=e,{top:t,right:r,bottom:o,left:l,disabled:e===!1}}function getSortedDatasetIndices(e,t){const r=[],o=e._getSortedDatasetMetas(t);let l,h;for(l=0,h=o.length;l<h;++l)r.push(o[l].index);return r}function applyStack(e,t,r,o={}){const l=e.keys,h=o.mode==="single";let y,D,O,F;if(t!==null){for(y=0,D=l.length;y<D;++y){if(O=+l[y],O===r){if(o.all)continue;break}F=e.values[O],isNumberFinite(F)&&(h||t===0||sign(t)===sign(F))&&(t+=F)}return t}}function convertObjectDataToArray(e){const t=Object.keys(e),r=new Array(t.length);let o,l,h;for(o=0,l=t.length;o<l;++o)h=t[o],r[o]={x:h,y:e[h]};return r}function isStacked(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function getStackKey(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function getUserBounds(e){const{min:t,max:r,minDefined:o,maxDefined:l}=e.getUserBounds();return{min:o?t:Number.NEGATIVE_INFINITY,max:l?r:Number.POSITIVE_INFINITY}}function getOrCreateStack(e,t,r){const o=e[t]||(e[t]={});return o[r]||(o[r]={})}function getLastIndexInStack(e,t,r,o){for(const l of t.getMatchingVisibleMetas(o).reverse()){const h=e[l.index];if(r&&h>0||!r&&h<0)return l.index}return null}function updateStacks(e,t){const{chart:r,_cachedMeta:o}=e,l=r._stacks||(r._stacks={}),{iScale:h,vScale:y,index:D}=o,O=h.axis,F=y.axis,R=getStackKey(h,y,o),B=t.length;let j;for(let U=0;U<B;++U){const q=t[U],{[O]:W,[F]:G}=q,Y=q._stacks||(q._stacks={});j=Y[F]=getOrCreateStack(l,R,W),j[D]=G,j._top=getLastIndexInStack(j,y,!0,o.type),j._bottom=getLastIndexInStack(j,y,!1,o.type)}}function getFirstScaleId(e,t){const r=e.scales;return Object.keys(r).filter(o=>r[o].axis===t).shift()}function createDatasetContext(e,t){return createContext(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function createDataContext(e,t,r){return createContext(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function clearStacks(e,t){const r=e.controller.index,o=e.vScale&&e.vScale.axis;if(!!o){t=t||e._parsed;for(const l of t){const h=l._stacks;if(!h||h[o]===void 0||h[o][r]===void 0)return;delete h[o][r]}}}const isDirectUpdateMode=e=>e==="reset"||e==="none",cloneIfNotShared=(e,t)=>t?e:Object.assign({},e),createStack=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:getSortedDatasetIndices(r,!0),values:null};class DatasetController{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=isStacked(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&clearStacks(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,o=this.getDataset(),l=(B,j,U,q)=>B==="x"?j:B==="r"?q:U,h=r.xAxisID=valueOrDefault(o.xAxisID,getFirstScaleId(t,"x")),y=r.yAxisID=valueOrDefault(o.yAxisID,getFirstScaleId(t,"y")),D=r.rAxisID=valueOrDefault(o.rAxisID,getFirstScaleId(t,"r")),O=r.indexAxis,F=r.iAxisID=l(O,h,y,D),R=r.vAxisID=l(O,y,h,D);r.xScale=this.getScaleForId(h),r.yScale=this.getScaleForId(y),r.rScale=this.getScaleForId(D),r.iScale=this.getScaleForId(F),r.vScale=this.getScaleForId(R)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),t._stacked&&clearStacks(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),o=this._data;if(isObject(r))this._data=convertObjectDataToArray(r);else if(o!==r){if(o){unlistenArrayEvents(o,this);const l=this._cachedMeta;clearStacks(l),l._parsed=[]}r&&Object.isExtensible(r)&&listenArrayEvents(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const h=r._stacked;r._stacked=isStacked(r.vScale,r),r.stack!==o.stack&&(l=!0,clearStacks(r),r.stack=o.stack),this._resyncElements(t),(l||h!==r._stacked)&&updateStacks(this,r._parsed)}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:o,_data:l}=this,{iScale:h,_stacked:y}=o,D=h.axis;let O=t===0&&r===l.length?!0:o._sorted,F=t>0&&o._parsed[t-1],R,B,j;if(this._parsing===!1)o._parsed=l,o._sorted=!0,j=l;else{isArray(l[t])?j=this.parseArrayData(o,l,t,r):isObject(l[t])?j=this.parseObjectData(o,l,t,r):j=this.parsePrimitiveData(o,l,t,r);const U=()=>B[D]===null||F&&B[D]<F[D];for(R=0;R<r;++R)o._parsed[R+t]=B=j[R],O&&(U()&&(O=!1),F=B);o._sorted=O}y&&updateStacks(this,j)}parsePrimitiveData(t,r,o,l){const{iScale:h,vScale:y}=t,D=h.axis,O=y.axis,F=h.getLabels(),R=h===y,B=new Array(l);let j,U,q;for(j=0,U=l;j<U;++j)q=j+o,B[j]={[D]:R||h.parse(F[q],q),[O]:y.parse(r[q],q)};return B}parseArrayData(t,r,o,l){const{xScale:h,yScale:y}=t,D=new Array(l);let O,F,R,B;for(O=0,F=l;O<F;++O)R=O+o,B=r[R],D[O]={x:h.parse(B[0],R),y:y.parse(B[1],R)};return D}parseObjectData(t,r,o,l){const{xScale:h,yScale:y}=t,{xAxisKey:D="x",yAxisKey:O="y"}=this._parsing,F=new Array(l);let R,B,j,U;for(R=0,B=l;R<B;++R)j=R+o,U=r[j],F[R]={x:h.parse(resolveObjectKey(U,D),j),y:y.parse(resolveObjectKey(U,O),j)};return F}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,o){const l=this.chart,h=this._cachedMeta,y=r[t.axis],D={keys:getSortedDatasetIndices(l,!0),values:r._stacks[t.axis]};return applyStack(D,y,h.index,{mode:o})}updateRangeFromParsed(t,r,o,l){const h=o[r.axis];let y=h===null?NaN:h;const D=l&&o._stacks[r.axis];l&&D&&(l.values=D,y=applyStack(l,h,this._cachedMeta.index)),t.min=Math.min(t.min,y),t.max=Math.max(t.max,y)}getMinMax(t,r){const o=this._cachedMeta,l=o._parsed,h=o._sorted&&t===o.iScale,y=l.length,D=this._getOtherScale(t),O=createStack(r,o,this.chart),F={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:R,max:B}=getUserBounds(D);let j,U;function q(){U=l[j];const W=U[D.axis];return!isNumberFinite(U[t.axis])||R>W||B<W}for(j=0;j<y&&!(!q()&&(this.updateRangeFromParsed(F,t,U,O),h));++j);if(h){for(j=y-1;j>=0;--j)if(!q()){this.updateRangeFromParsed(F,t,U,O);break}}return F}getAllParsedValues(t){const r=this._cachedMeta._parsed,o=[];let l,h,y;for(l=0,h=r.length;l<h;++l)y=r[l][t.axis],isNumberFinite(y)&&o.push(y);return o}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,o=r.iScale,l=r.vScale,h=this.getParsed(t);return{label:o?""+o.getLabelForValue(h[o.axis]):"",value:l?""+l.getLabelForValue(h[l.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=toClip(valueOrDefault(this.options.clip,defaultClip(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,o=this._cachedMeta,l=o.data||[],h=r.chartArea,y=[],D=this._drawStart||0,O=this._drawCount||l.length-D,F=this.options.drawActiveElementsOnTop;let R;for(o.dataset&&o.dataset.draw(t,h,D,O),R=D;R<D+O;++R){const B=l[R];B.hidden||(B.active&&F?y.push(B):B.draw(t,h))}for(R=0;R<y.length;++R)y[R].draw(t,h)}getStyle(t,r){const o=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,r,o){const l=this.getDataset();let h;if(t>=0&&t<this._cachedMeta.data.length){const y=this._cachedMeta.data[t];h=y.$context||(y.$context=createDataContext(this.getContext(),t,y)),h.parsed=this.getParsed(t),h.raw=l.data[t],h.index=h.dataIndex=t}else h=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),h.dataset=l,h.index=h.datasetIndex=this.index;return h.active=!!r,h.mode=o,h}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",o){const l=r==="active",h=this._cachedDataOpts,y=t+"-"+r,D=h[y],O=this.enableOptionSharing&&defined(o);if(D)return cloneIfNotShared(D,O);const F=this.chart.config,R=F.datasetElementScopeKeys(this._type,t),B=l?[`${t}Hover`,"hover",t,""]:[t,""],j=F.getOptionScopes(this.getDataset(),R),U=Object.keys(defaults$1.elements[t]),q=()=>this.getContext(o,l),W=F.resolveNamedOptions(j,U,q,B);return W.$shared&&(W.$shared=O,h[y]=Object.freeze(cloneIfNotShared(W,O))),W}_resolveAnimations(t,r,o){const l=this.chart,h=this._cachedDataOpts,y=`animation-${r}`,D=h[y];if(D)return D;let O;if(l.options.animation!==!1){const R=this.chart.config,B=R.datasetAnimationScopeKeys(this._type,r),j=R.getOptionScopes(this.getDataset(),B);O=R.createResolver(j,this.getContext(t,o,r))}const F=new Animations(l,O&&O.animations);return O&&O._cacheable&&(h[y]=Object.freeze(F)),F}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||isDirectUpdateMode(t)||this.chart._animationsDisabled}updateElement(t,r,o,l){isDirectUpdateMode(l)?Object.assign(t,o):this._resolveAnimations(r,l).update(t,o)}updateSharedOptions(t,r,o){t&&!isDirectUpdateMode(r)&&this._resolveAnimations(void 0,r).update(t,o)}_setStyle(t,r,o,l){t.active=l;const h=this.getStyle(r,l);this._resolveAnimations(r,o,l).update(t,{options:!l&&this.getSharedOptions(h)||h})}removeHoverStyle(t,r,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,r,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,o=this._cachedMeta.data;for(const[D,O,F]of this._syncList)this[D](O,F);this._syncList=[];const l=o.length,h=r.length,y=Math.min(h,l);y&&this.parse(0,y),h>l?this._insertElements(l,h-l,t):h<l&&this._removeElements(h,l-h)}_insertElements(t,r,o=!0){const l=this._cachedMeta,h=l.data,y=t+r;let D;const O=F=>{for(F.length+=r,D=F.length-1;D>=y;D--)F[D]=F[D-r]};for(O(h),D=t;D<y;++D)h[D]=new this.dataElementType;this._parsing&&O(l._parsed),this.parse(t,r),o&&this.updateElements(h,t,r,"reset")}updateElements(t,r,o,l){}_removeElements(t,r){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(t,r);o._stacked&&clearStacks(o,l)}o.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,o,l]=t;this[r](o,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}DatasetController.defaults={};DatasetController.prototype.datasetElementType=null;DatasetController.prototype.dataElementType=null;function getAllScaleValues(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let o=[];for(let l=0,h=r.length;l<h;l++)o=o.concat(r[l].controller.getAllParsedValues(e));e._cache.$bar=_arrayUnique(o.sort((l,h)=>l-h))}return e._cache.$bar}function computeMinSampleSize(e){const t=e.iScale,r=getAllScaleValues(t,e.type);let o=t._length,l,h,y,D;const O=()=>{y===32767||y===-32768||(defined(D)&&(o=Math.min(o,Math.abs(y-D)||o)),D=y)};for(l=0,h=r.length;l<h;++l)y=t.getPixelForValue(r[l]),O();for(D=void 0,l=0,h=t.ticks.length;l<h;++l)y=t.getPixelForTick(l),O();return o}function computeFitCategoryTraits(e,t,r,o){const l=r.barThickness;let h,y;return isNullOrUndef(l)?(h=t.min*r.categoryPercentage,y=r.barPercentage):(h=l*o,y=1),{chunk:h/o,ratio:y,start:t.pixels[e]-h/2}}function computeFlexCategoryTraits(e,t,r,o){const l=t.pixels,h=l[e];let y=e>0?l[e-1]:null,D=e<l.length-1?l[e+1]:null;const O=r.categoryPercentage;y===null&&(y=h-(D===null?t.end-t.start:D-h)),D===null&&(D=h+h-y);const F=h-(h-Math.min(y,D))/2*O;return{chunk:Math.abs(D-y)/2*O/o,ratio:r.barPercentage,start:F}}function parseFloatBar(e,t,r,o){const l=r.parse(e[0],o),h=r.parse(e[1],o),y=Math.min(l,h),D=Math.max(l,h);let O=y,F=D;Math.abs(y)>Math.abs(D)&&(O=D,F=y),t[r.axis]=F,t._custom={barStart:O,barEnd:F,start:l,end:h,min:y,max:D}}function parseValue(e,t,r,o){return isArray(e)?parseFloatBar(e,t,r,o):t[r.axis]=r.parse(e,o),t}function parseArrayOrPrimitive(e,t,r,o){const l=e.iScale,h=e.vScale,y=l.getLabels(),D=l===h,O=[];let F,R,B,j;for(F=r,R=r+o;F<R;++F)j=t[F],B={},B[l.axis]=D||l.parse(y[F],F),O.push(parseValue(j,B,h,F));return O}function isFloatBar(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function barSign(e,t,r){return e!==0?sign(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function borderProps(e){let t,r,o,l,h;return e.horizontal?(t=e.base>e.x,r="left",o="right"):(t=e.base<e.y,r="bottom",o="top"),t?(l="end",h="start"):(l="start",h="end"),{start:r,end:o,reverse:t,top:l,bottom:h}}function setBorderSkipped(e,t,r,o){let l=t.borderSkipped;const h={};if(!l){e.borderSkipped=h;return}const{start:y,end:D,reverse:O,top:F,bottom:R}=borderProps(e);l==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===o?l=F:(r._bottom||0)===o?l=R:(h[parseEdge(R,y,D,O)]=!0,l=F)),h[parseEdge(l,y,D,O)]=!0,e.borderSkipped=h}function parseEdge(e,t,r,o){return o?(e=swap(e,t,r),e=startEnd(e,r,t)):e=startEnd(e,t,r),e}function swap(e,t,r){return e===t?r:e===r?t:e}function startEnd(e,t,r){return e==="start"?t:e==="end"?r:e}function setInflateAmount(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class BarController extends DatasetController{parsePrimitiveData(t,r,o,l){return parseArrayOrPrimitive(t,r,o,l)}parseArrayData(t,r,o,l){return parseArrayOrPrimitive(t,r,o,l)}parseObjectData(t,r,o,l){const{iScale:h,vScale:y}=t,{xAxisKey:D="x",yAxisKey:O="y"}=this._parsing,F=h.axis==="x"?D:O,R=y.axis==="x"?D:O,B=[];let j,U,q,W;for(j=o,U=o+l;j<U;++j)W=r[j],q={},q[h.axis]=h.parse(resolveObjectKey(W,F),j),B.push(parseValue(resolveObjectKey(W,R),q,y,j));return B}updateRangeFromParsed(t,r,o,l){super.updateRangeFromParsed(t,r,o,l);const h=o._custom;h&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,h.min),t.max=Math.max(t.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:o,vScale:l}=r,h=this.getParsed(t),y=h._custom,D=isFloatBar(y)?"["+y.start+", "+y.end+"]":""+l.getLabelForValue(h[l.axis]);return{label:""+o.getLabelForValue(h[o.axis]),value:D}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,o,l){const h=l==="reset",{index:y,_cachedMeta:{vScale:D}}=this,O=D.getBasePixel(),F=D.isHorizontal(),R=this._getRuler(),B=this.resolveDataElementOptions(r,l),j=this.getSharedOptions(B),U=this.includeOptions(l,j);this.updateSharedOptions(j,l,B);for(let q=r;q<r+o;q++){const W=this.getParsed(q),G=h||isNullOrUndef(W[D.axis])?{base:O,head:O}:this._calculateBarValuePixels(q),Y=this._calculateBarIndexPixels(q,R),K=(W._stacks||{})[D.axis],X={horizontal:F,base:G.base,enableBorderRadius:!K||isFloatBar(W._custom)||y===K._top||y===K._bottom,x:F?G.head:Y.center,y:F?Y.center:G.head,height:F?Y.size:Math.abs(G.size),width:F?Math.abs(G.size):Y.size};U&&(X.options=j||this.resolveDataElementOptions(q,t[q].active?"active":l));const J=X.options||t[q].options;setBorderSkipped(X,J,K,y),setInflateAmount(X,J,R.ratio),this.updateElement(t[q],q,X,l)}}_getStacks(t,r){const l=this._cachedMeta.iScale,h=l.getMatchingVisibleMetas(this._type),y=l.options.stacked,D=h.length,O=[];let F,R;for(F=0;F<D;++F)if(R=h[F],!!R.controller.options.grouped){if(typeof r!="undefined"){const B=R.controller.getParsed(r)[R.controller._cachedMeta.vScale.axis];if(isNullOrUndef(B)||isNaN(B))continue}if((y===!1||O.indexOf(R.stack)===-1||y===void 0&&R.stack===void 0)&&O.push(R.stack),R.index===t)break}return O.length||O.push(void 0),O}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,o){const l=this._getStacks(t,o),h=r!==void 0?l.indexOf(r):-1;return h===-1?l.length-1:h}_getRuler(){const t=this.options,r=this._cachedMeta,o=r.iScale,l=[];let h,y;for(h=0,y=r.data.length;h<y;++h)l.push(o.getPixelForValue(this.getParsed(h)[o.axis],h));const D=t.barThickness;return{min:D||computeMinSampleSize(r),pixels:l,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:t.grouped,ratio:D?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:o},options:{base:l,minBarLength:h}}=this,y=l||0,D=this.getParsed(t),O=D._custom,F=isFloatBar(O);let R=D[r.axis],B=0,j=o?this.applyStack(r,D,o):R,U,q;j!==R&&(B=j-R,j=R),F&&(R=O.barStart,j=O.barEnd-O.barStart,R!==0&&sign(R)!==sign(O.barEnd)&&(B=0),B+=R);const W=!isNullOrUndef(l)&&!F?l:B;let G=r.getPixelForValue(W);if(this.chart.getDataVisibility(t)?U=r.getPixelForValue(B+j):U=G,q=U-G,Math.abs(q)<h){q=barSign(q,r,y)*h,R===y&&(G-=q/2);const Y=r.getPixelForDecimal(0),K=r.getPixelForDecimal(1),X=Math.min(Y,K),J=Math.max(Y,K);G=Math.max(Math.min(G,J),X),U=G+q}if(G===r.getPixelForValue(y)){const Y=sign(q)*r.getLineWidthForValue(y)/2;G+=Y,q-=Y}return{size:q,base:G,head:U,center:U+q/2}}_calculateBarIndexPixels(t,r){const o=r.scale,l=this.options,h=l.skipNull,y=valueOrDefault(l.maxBarThickness,1/0);let D,O;if(r.grouped){const F=h?this._getStackCount(t):r.stackCount,R=l.barThickness==="flex"?computeFlexCategoryTraits(t,r,l,F):computeFitCategoryTraits(t,r,l,F),B=this._getStackIndex(this.index,this._cachedMeta.stack,h?t:void 0);D=R.start+R.chunk*B+R.chunk/2,O=Math.min(y,R.chunk*R.ratio)}else D=o.getPixelForValue(this.getParsed(t)[o.axis],t),O=Math.min(y,r.min*r.ratio);return{base:D-O/2,head:D+O/2,center:D,size:O}}draw(){const t=this._cachedMeta,r=t.vScale,o=t.data,l=o.length;let h=0;for(;h<l;++h)this.getParsed(h)[r.axis]!==null&&o[h].draw(this._ctx)}}BarController.id="bar";BarController.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};BarController.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,o,l){const h=super.parsePrimitiveData(t,r,o,l);for(let y=0;y<h.length;y++)h[y]._custom=this.resolveDataElementOptions(y+o).radius;return h}parseArrayData(t,r,o,l){const h=super.parseArrayData(t,r,o,l);for(let y=0;y<h.length;y++){const D=r[o+y];h[y]._custom=valueOrDefault(D[2],this.resolveDataElementOptions(y+o).radius)}return h}parseObjectData(t,r,o,l){const h=super.parseObjectData(t,r,o,l);for(let y=0;y<h.length;y++){const D=r[o+y];h[y]._custom=valueOrDefault(D&&D.r&&+D.r,this.resolveDataElementOptions(y+o).radius)}return h}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let o=t.length-1;o>=0;--o)r=Math.max(r,t[o].size(this.resolveDataElementOptions(o))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,{xScale:o,yScale:l}=r,h=this.getParsed(t),y=o.getLabelForValue(h.x),D=l.getLabelForValue(h.y),O=h._custom;return{label:r.label,value:"("+y+", "+D+(O?", "+O:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,o,l){const h=l==="reset",{iScale:y,vScale:D}=this._cachedMeta,O=this.resolveDataElementOptions(r,l),F=this.getSharedOptions(O),R=this.includeOptions(l,F),B=y.axis,j=D.axis;for(let U=r;U<r+o;U++){const q=t[U],W=!h&&this.getParsed(U),G={},Y=G[B]=h?y.getPixelForDecimal(.5):y.getPixelForValue(W[B]),K=G[j]=h?D.getBasePixel():D.getPixelForValue(W[j]);G.skip=isNaN(Y)||isNaN(K),R&&(G.options=this.resolveDataElementOptions(U,q.active?"active":l),h&&(G.options.radius=0)),this.updateElement(q,U,G,l)}this.updateSharedOptions(F,l,O)}resolveDataElementOptions(t,r){const o=this.getParsed(t);let l=super.resolveDataElementOptions(t,r);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const h=l.radius;return r!=="active"&&(l.radius=0),l.radius+=valueOrDefault(o&&o._custom,h),l}}BubbleController.id="bubble";BubbleController.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};BubbleController.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function getRatioAndOffset(e,t,r){let o=1,l=1,h=0,y=0;if(t<TAU){const D=e,O=D+t,F=Math.cos(D),R=Math.sin(D),B=Math.cos(O),j=Math.sin(O),U=(X,J,Q)=>_angleBetween(X,D,O,!0)?1:Math.max(J,J*r,Q,Q*r),q=(X,J,Q)=>_angleBetween(X,D,O,!0)?-1:Math.min(J,J*r,Q,Q*r),W=U(0,F,B),G=U(HALF_PI,R,j),Y=q(PI,F,B),K=q(PI+HALF_PI,R,j);o=(W-Y)/2,l=(G-K)/2,h=-(W+Y)/2,y=-(G+K)/2}return{ratioX:o,ratioY:l,offsetX:h,offsetY:y}}class DoughnutController extends DatasetController{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const o=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=o;else{let h=O=>+o[O];if(isObject(o[t])){const{key:O="value"}=this._parsing;h=F=>+resolveObjectKey(o[F],O)}let y,D;for(y=t,D=t+r;y<D;++y)l._parsed[y]=h(y)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let t=TAU,r=-TAU;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){const l=this.chart.getDatasetMeta(o).controller,h=l._getRotation(),y=l._getCircumference();t=Math.min(t,h),r=Math.max(r,h+y)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:o}=r,l=this._cachedMeta,h=l.data,y=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,D=Math.max((Math.min(o.width,o.height)-y)/2,0),O=Math.min(toPercentage(this.options.cutout,D),1),F=this._getRingWeight(this.index),{circumference:R,rotation:B}=this._getRotationExtents(),{ratioX:j,ratioY:U,offsetX:q,offsetY:W}=getRatioAndOffset(B,R,O),G=(o.width-y)/j,Y=(o.height-y)/U,K=Math.max(Math.min(G,Y)/2,0),X=toDimension(this.options.radius,K),J=Math.max(X*O,0),Q=(X-J)/this._getVisibleDatasetWeightTotal();this.offsetX=q*X,this.offsetY=W*X,l.total=this.calculateTotal(),this.outerRadius=X-Q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Q*F,0),this.updateElements(h,0,h.length,t)}_circumference(t,r){const o=this.options,l=this._cachedMeta,h=this._getCircumference();return r&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*h/TAU)}updateElements(t,r,o,l){const h=l==="reset",y=this.chart,D=y.chartArea,F=y.options.animation,R=(D.left+D.right)/2,B=(D.top+D.bottom)/2,j=h&&F.animateScale,U=j?0:this.innerRadius,q=j?0:this.outerRadius,W=this.resolveDataElementOptions(r,l),G=this.getSharedOptions(W),Y=this.includeOptions(l,G);let K=this._getRotation(),X;for(X=0;X<r;++X)K+=this._circumference(X,h);for(X=r;X<r+o;++X){const J=this._circumference(X,h),Q=t[X],et={x:R+this.offsetX,y:B+this.offsetY,startAngle:K,endAngle:K+J,circumference:J,outerRadius:q,innerRadius:U};Y&&(et.options=G||this.resolveDataElementOptions(X,Q.active?"active":l)),K+=J,this.updateElement(Q,X,et,l)}this.updateSharedOptions(G,l,W)}calculateTotal(){const t=this._cachedMeta,r=t.data;let o=0,l;for(l=0;l<r.length;l++){const h=t._parsed[l];h!==null&&!isNaN(h)&&this.chart.getDataVisibility(l)&&!r[l].hidden&&(o+=Math.abs(h))}return o}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?TAU*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(r._parsed[t],o.options.locale);return{label:l[t]||"",value:h}}getMaxBorderWidth(t){let r=0;const o=this.chart;let l,h,y,D,O;if(!t){for(l=0,h=o.data.datasets.length;l<h;++l)if(o.isDatasetVisible(l)){y=o.getDatasetMeta(l),t=y.data,D=y.controller;break}}if(!t)return 0;for(l=0,h=t.length;l<h;++l)O=D.resolveDataElementOptions(l),O.borderAlign!=="inner"&&(r=Math.max(r,O.borderWidth||0,O.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let o=0,l=t.length;o<l;++o){const h=this.resolveDataElementOptions(o);r=Math.max(r,h.offset||0,h.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(r+=this._getRingWeight(o));return r}_getRingWeight(t){return Math.max(valueOrDefault(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}DoughnutController.id="doughnut";DoughnutController.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};DoughnutController.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};DoughnutController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((o,l)=>{const y=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const r=": "+e.formattedValue;return isArray(t)?(t=t.slice(),t[0]+=r):t+=r,t}}}}};class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:o,data:l=[],_dataset:h}=r,y=this.chart._animationsDisabled;let{start:D,count:O}=getStartAndCountOfVisiblePoints(r,l,y);this._drawStart=D,this._drawCount=O,scaleRangesChanged(r)&&(D=0,O=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!h._decimated,o.points=l;const F=this.resolveDatasetElementOptions(t);this.options.showLine||(F.borderWidth=0),F.segment=this.options.segment,this.updateElement(o,void 0,{animated:!y,options:F},t),this.updateElements(l,D,O,t)}updateElements(t,r,o,l){const h=l==="reset",{iScale:y,vScale:D,_stacked:O,_dataset:F}=this._cachedMeta,R=this.resolveDataElementOptions(r,l),B=this.getSharedOptions(R),j=this.includeOptions(l,B),U=y.axis,q=D.axis,{spanGaps:W,segment:G}=this.options,Y=isNumber(W)?W:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||h||l==="none";let X=r>0&&this.getParsed(r-1);for(let J=r;J<r+o;++J){const Q=t[J],et=this.getParsed(J),nt=K?Q:{},Z=isNullOrUndef(et[q]),it=nt[U]=y.getPixelForValue(et[U],J),rt=nt[q]=h||Z?D.getBasePixel():D.getPixelForValue(O?this.applyStack(D,et,O):et[q],J);nt.skip=isNaN(it)||isNaN(rt)||Z,nt.stop=J>0&&Math.abs(et[U]-X[U])>Y,G&&(nt.parsed=et,nt.raw=F.data[J]),j&&(nt.options=B||this.resolveDataElementOptions(J,Q.active?"active":l)),K||this.updateElement(Q,J,nt,l),X=et}this.updateSharedOptions(B,l,R)}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,o=r.options&&r.options.borderWidth||0,l=t.data||[];if(!l.length)return o;const h=l[0].size(this.resolveDataElementOptions(0)),y=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,h,y)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}LineController.id="line";LineController.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};LineController.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function getStartAndCountOfVisiblePoints(e,t,r){const o=t.length;let l=0,h=o;if(e._sorted){const{iScale:y,_parsed:D}=e,O=y.axis,{min:F,max:R,minDefined:B,maxDefined:j}=y.getUserBounds();B&&(l=_limitValue(Math.min(_lookupByKey(D,y.axis,F).lo,r?o:_lookupByKey(t,O,y.getPixelForValue(F)).lo),0,o-1)),j?h=_limitValue(Math.max(_lookupByKey(D,y.axis,R).hi+1,r?0:_lookupByKey(t,O,y.getPixelForValue(R)).hi+1),l,o)-l:h=o-l}return{start:l,count:h}}function scaleRangesChanged(e){const{xScale:t,yScale:r,_scaleRanges:o}=e,l={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!o)return e._scaleRanges=l,!0;const h=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==r.min||o.ymax!==r.max;return Object.assign(o,l),h}class PolarAreaController extends DatasetController{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(r._parsed[t].r,o.options.locale);return{label:l[t]||"",value:h}}parseObjectData(t,r,o,l){return _parseObjectDataRadialScale.bind(this)(t,r,o,l)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((o,l)=>{const h=this.getParsed(l).r;!isNaN(h)&&this.chart.getDataVisibility(l)&&(h<r.min&&(r.min=h),h>r.max&&(r.max=h))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,o=t.options,l=Math.min(r.right-r.left,r.bottom-r.top),h=Math.max(l/2,0),y=Math.max(o.cutoutPercentage?h/100*o.cutoutPercentage:1,0),D=(h-y)/t.getVisibleDatasetCount();this.outerRadius=h-D*this.index,this.innerRadius=this.outerRadius-D}updateElements(t,r,o,l){const h=l==="reset",y=this.chart,O=y.options.animation,F=this._cachedMeta.rScale,R=F.xCenter,B=F.yCenter,j=F.getIndexAngle(0)-.5*PI;let U=j,q;const W=360/this.countVisibleElements();for(q=0;q<r;++q)U+=this._computeAngle(q,l,W);for(q=r;q<r+o;q++){const G=t[q];let Y=U,K=U+this._computeAngle(q,l,W),X=y.getDataVisibility(q)?F.getDistanceFromCenterForValue(this.getParsed(q).r):0;U=K,h&&(O.animateScale&&(X=0),O.animateRotate&&(Y=K=j));const J={x:R,y:B,innerRadius:0,outerRadius:X,startAngle:Y,endAngle:K,options:this.resolveDataElementOptions(q,G.active?"active":l)};this.updateElement(G,q,J,l)}}countVisibleElements(){const t=this._cachedMeta;let r=0;return t.data.forEach((o,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&r++}),r}_computeAngle(t,r,o){return this.chart.getDataVisibility(t)?toRadians(this.resolveDataElementOptions(t,r).angle||o):0}}PolarAreaController.id="polarArea";PolarAreaController.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};PolarAreaController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((o,l)=>{const y=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class PieController extends DoughnutController{}PieController.id="pie";PieController.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class RadarController extends DatasetController{getLabelAndValue(t){const r=this._cachedMeta.vScale,o=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(o[r.axis])}}parseObjectData(t,r,o,l){return _parseObjectDataRadialScale.bind(this)(t,r,o,l)}update(t){const r=this._cachedMeta,o=r.dataset,l=r.data||[],h=r.iScale.getLabels();if(o.points=l,t!=="resize"){const y=this.resolveDatasetElementOptions(t);this.options.showLine||(y.borderWidth=0);const D={_loop:!0,_fullLoop:h.length===l.length,options:y};this.updateElement(o,void 0,D,t)}this.updateElements(l,0,l.length,t)}updateElements(t,r,o,l){const h=this._cachedMeta.rScale,y=l==="reset";for(let D=r;D<r+o;D++){const O=t[D],F=this.resolveDataElementOptions(D,O.active?"active":l),R=h.getPointPositionForValue(D,this.getParsed(D).r),B=y?h.xCenter:R.x,j=y?h.yCenter:R.y,U={x:B,y:j,angle:R.angle,skip:isNaN(B)||isNaN(j),options:F};this.updateElement(O,D,U,l)}}}RadarController.id="radar";RadarController.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};RadarController.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ScatterController extends LineController{}ScatterController.id="scatter";ScatterController.defaults={showLine:!1,fill:!1};ScatterController.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PolarAreaController,PieController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapter{constructor(t){this.options=t||{}}formats(){return abstract()}parse(t,r){return abstract()}format(t,r){return abstract()}add(t,r,o){return abstract()}diff(t,r,o){return abstract()}startOf(t,r,o){return abstract()}endOf(t,r){return abstract()}}DateAdapter.override=function(e){Object.assign(DateAdapter.prototype,e)};var adapters={_date:DateAdapter};function binarySearch(e,t,r,o){const{controller:l,data:h,_sorted:y}=e,D=l._cachedMeta.iScale;if(D&&t===D.axis&&t!=="r"&&y&&h.length){const O=D._reversePixels?_rlookupByKey:_lookupByKey;if(o){if(l._sharedOptions){const F=h[0],R=typeof F.getRange=="function"&&F.getRange(t);if(R){const B=O(h,t,r-R),j=O(h,t,r+R);return{lo:B.lo,hi:j.hi}}}}else return O(h,t,r)}return{lo:0,hi:h.length-1}}function evaluateInteractionItems(e,t,r,o,l){const h=e.getSortedVisibleDatasetMetas(),y=r[t];for(let D=0,O=h.length;D<O;++D){const{index:F,data:R}=h[D],{lo:B,hi:j}=binarySearch(h[D],t,y,l);for(let U=B;U<=j;++U){const q=R[U];q.skip||o(q,F,U)}}}function getDistanceMetricForAxis(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(o,l){const h=t?Math.abs(o.x-l.x):0,y=r?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(h,2)+Math.pow(y,2))}}function getIntersectItems(e,t,r,o,l){const h=[];return!l&&!e.isPointInArea(t)||evaluateInteractionItems(e,r,t,function(D,O,F){!l&&!_isPointInArea(D,e.chartArea,0)||D.inRange(t.x,t.y,o)&&h.push({element:D,datasetIndex:O,index:F})},!0),h}function getNearestRadialItems(e,t,r,o){let l=[];function h(y,D,O){const{startAngle:F,endAngle:R}=y.getProps(["startAngle","endAngle"],o),{angle:B}=getAngleFromPoint(y,{x:t.x,y:t.y});_angleBetween(B,F,R)&&l.push({element:y,datasetIndex:D,index:O})}return evaluateInteractionItems(e,r,t,h),l}function getNearestCartesianItems(e,t,r,o,l,h){let y=[];const D=getDistanceMetricForAxis(r);let O=Number.POSITIVE_INFINITY;function F(R,B,j){const U=R.inRange(t.x,t.y,l);if(o&&!U)return;const q=R.getCenterPoint(l);if(!(!!h||e.isPointInArea(q))&&!U)return;const G=D(t,q);G<O?(y=[{element:R,datasetIndex:B,index:j}],O=G):G===O&&y.push({element:R,datasetIndex:B,index:j})}return evaluateInteractionItems(e,r,t,F),y}function getNearestItems(e,t,r,o,l,h){return!h&&!e.isPointInArea(t)?[]:r==="r"&&!o?getNearestRadialItems(e,t,r,l):getNearestCartesianItems(e,t,r,o,l,h)}function getAxisItems(e,t,r,o,l){const h=[],y=r==="x"?"inXRange":"inYRange";let D=!1;return evaluateInteractionItems(e,r,t,(O,F,R)=>{O[y](t[r],l)&&(h.push({element:O,datasetIndex:F,index:R}),D=D||O.inRange(t.x,t.y,l))}),o&&!D?[]:h}var Interaction={evaluateInteractionItems,modes:{index(e,t,r,o){const l=getRelativePosition(t,e),h=r.axis||"x",y=r.includeInvisible||!1,D=r.intersect?getIntersectItems(e,l,h,o,y):getNearestItems(e,l,h,!1,o,y),O=[];return D.length?(e.getSortedVisibleDatasetMetas().forEach(F=>{const R=D[0].index,B=F.data[R];B&&!B.skip&&O.push({element:B,datasetIndex:F.index,index:R})}),O):[]},dataset(e,t,r,o){const l=getRelativePosition(t,e),h=r.axis||"xy",y=r.includeInvisible||!1;let D=r.intersect?getIntersectItems(e,l,h,o,y):getNearestItems(e,l,h,!1,o,y);if(D.length>0){const O=D[0].datasetIndex,F=e.getDatasetMeta(O).data;D=[];for(let R=0;R<F.length;++R)D.push({element:F[R],datasetIndex:O,index:R})}return D},point(e,t,r,o){const l=getRelativePosition(t,e),h=r.axis||"xy",y=r.includeInvisible||!1;return getIntersectItems(e,l,h,o,y)},nearest(e,t,r,o){const l=getRelativePosition(t,e),h=r.axis||"xy",y=r.includeInvisible||!1;return getNearestItems(e,l,h,r.intersect,o,y)},x(e,t,r,o){const l=getRelativePosition(t,e);return getAxisItems(e,l,"x",r.intersect,o)},y(e,t,r,o){const l=getRelativePosition(t,e);return getAxisItems(e,l,"y",r.intersect,o)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(e,t){return e.filter(r=>r.pos===t)}function filterDynamicPositionByAxis(e,t){return e.filter(r=>STATIC_POSITIONS.indexOf(r.pos)===-1&&r.box.axis===t)}function sortByWeight(e,t){return e.sort((r,o)=>{const l=t?o:r,h=t?r:o;return l.weight===h.weight?l.index-h.index:l.weight-h.weight})}function wrapBoxes(e){const t=[];let r,o,l,h,y,D;for(r=0,o=(e||[]).length;r<o;++r)l=e[r],{position:h,options:{stack:y,stackWeight:D=1}}=l,t.push({index:r,box:l,pos:h,horizontal:l.isHorizontal(),weight:l.weight,stack:y&&h+y,stackWeight:D});return t}function buildStacks(e){const t={};for(const r of e){const{stack:o,pos:l,stackWeight:h}=r;if(!o||!STATIC_POSITIONS.includes(l))continue;const y=t[o]||(t[o]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=h}return t}function setLayoutDims(e,t){const r=buildStacks(e),{vBoxMaxWidth:o,hBoxMaxHeight:l}=t;let h,y,D;for(h=0,y=e.length;h<y;++h){D=e[h];const{fullSize:O}=D.box,F=r[D.stack],R=F&&D.stackWeight/F.weight;D.horizontal?(D.width=R?R*o:O&&t.availableWidth,D.height=l):(D.width=o,D.height=R?R*l:O&&t.availableHeight)}return r}function buildLayoutBoxes(e){const t=wrapBoxes(e),r=sortByWeight(t.filter(F=>F.box.fullSize),!0),o=sortByWeight(filterByPosition(t,"left"),!0),l=sortByWeight(filterByPosition(t,"right")),h=sortByWeight(filterByPosition(t,"top"),!0),y=sortByWeight(filterByPosition(t,"bottom")),D=filterDynamicPositionByAxis(t,"x"),O=filterDynamicPositionByAxis(t,"y");return{fullSize:r,leftAndTop:o.concat(h),rightAndBottom:l.concat(O).concat(y).concat(D),chartArea:filterByPosition(t,"chartArea"),vertical:o.concat(l).concat(O),horizontal:h.concat(y).concat(D)}}function getCombinedMax(e,t,r,o){return Math.max(e[r],t[r])+Math.max(e[o],t[o])}function updateMaxPadding(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function updateDims(e,t,r,o){const{pos:l,box:h}=r,y=e.maxPadding;if(!isObject(l)){r.size&&(e[l]-=r.size);const B=o[r.stack]||{size:0,count:1};B.size=Math.max(B.size,r.horizontal?h.height:h.width),r.size=B.size/B.count,e[l]+=r.size}h.getPadding&&updateMaxPadding(y,h.getPadding());const D=Math.max(0,t.outerWidth-getCombinedMax(y,e,"left","right")),O=Math.max(0,t.outerHeight-getCombinedMax(y,e,"top","bottom")),F=D!==e.w,R=O!==e.h;return e.w=D,e.h=O,r.horizontal?{same:F,other:R}:{same:R,other:F}}function handleMaxPadding(e){const t=e.maxPadding;function r(o){const l=Math.max(t[o]-e[o],0);return e[o]+=l,l}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function getMargins(e,t){const r=t.maxPadding;function o(l){const h={left:0,top:0,right:0,bottom:0};return l.forEach(y=>{h[y]=Math.max(t[y],r[y])}),h}return o(e?["left","right"]:["top","bottom"])}function fitBoxes(e,t,r,o){const l=[];let h,y,D,O,F,R;for(h=0,y=e.length,F=0;h<y;++h){D=e[h],O=D.box,O.update(D.width||t.w,D.height||t.h,getMargins(D.horizontal,t));const{same:B,other:j}=updateDims(t,r,D,o);F|=B&&l.length,R=R||j,O.fullSize||l.push(D)}return F&&fitBoxes(l,t,r,o)||R}function setBoxDims(e,t,r,o,l){e.top=r,e.left=t,e.right=t+o,e.bottom=r+l,e.width=o,e.height=l}function placeBoxes(e,t,r,o){const l=r.padding;let{x:h,y}=t;for(const D of e){const O=D.box,F=o[D.stack]||{count:1,placed:0,weight:1},R=D.stackWeight/F.weight||1;if(D.horizontal){const B=t.w*R,j=F.size||O.height;defined(F.start)&&(y=F.start),O.fullSize?setBoxDims(O,l.left,y,r.outerWidth-l.right-l.left,j):setBoxDims(O,t.left+F.placed,y,B,j),F.start=y,F.placed+=B,y=O.bottom}else{const B=t.h*R,j=F.size||O.width;defined(F.start)&&(h=F.start),O.fullSize?setBoxDims(O,h,l.top,j,r.outerHeight-l.bottom-l.top):setBoxDims(O,h,t.top+F.placed,j,B),F.start=h,F.placed+=B,h=O.right}}t.x=h,t.y=y}defaults$1.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var layouts={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,o){if(!e)return;const l=toPadding(e.options.layout.padding),h=Math.max(t-l.width,0),y=Math.max(r-l.height,0),D=buildLayoutBoxes(e.boxes),O=D.vertical,F=D.horizontal;each(e.boxes,W=>{typeof W.beforeLayout=="function"&&W.beforeLayout()});const R=O.reduce((W,G)=>G.box.options&&G.box.options.display===!1?W:W+1,0)||1,B=Object.freeze({outerWidth:t,outerHeight:r,padding:l,availableWidth:h,availableHeight:y,vBoxMaxWidth:h/2/R,hBoxMaxHeight:y/2}),j=Object.assign({},l);updateMaxPadding(j,toPadding(o));const U=Object.assign({maxPadding:j,w:h,h:y,x:l.left,y:l.top},l),q=setLayoutDims(O.concat(F),B);fitBoxes(D.fullSize,U,B,q),fitBoxes(O,U,B,q),fitBoxes(F,U,B,q)&&fitBoxes(O,U,B,q),handleMaxPadding(U),placeBoxes(D.leftAndTop,U,B,q),U.x+=U.w,U.y+=U.h,placeBoxes(D.rightAndBottom,U,B,q),e.chartArea={left:U.left,top:U.top,right:U.left+U.w,bottom:U.top+U.h,height:U.h,width:U.w},each(D.chartArea,W=>{const G=W.box;Object.assign(G,e.chartArea),G.update(U.w,U.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,o){}removeEventListener(t,r,o){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,o,l){return r=Math.max(0,r||t.width),o=o||t.height,{width:r,height:Math.max(0,l?Math.floor(r/l):o)}}isAttached(t){return!0}updateConfig(t){}}class BasicPlatform extends BasePlatform{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const EXPANDO_KEY$1="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=e=>e===null||e==="";function initCanvas(e,t){const r=e.style,o=e.getAttribute("height"),l=e.getAttribute("width");if(e[EXPANDO_KEY$1]={initial:{height:o,width:l,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",isNullOrEmpty(l)){const h=readUsedSize(e,"width");h!==void 0&&(e.width=h)}if(isNullOrEmpty(o))if(e.style.height==="")e.height=e.width/(t||2);else{const h=readUsedSize(e,"height");h!==void 0&&(e.height=h)}return e}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(e,t,r){e.addEventListener(t,r,eventListenerOptions)}function removeListener(e,t,r){e.canvas.removeEventListener(t,r,eventListenerOptions)}function fromNativeEvent(e,t){const r=EVENT_TYPES[e.type]||e.type,{x:o,y:l}=getRelativePosition(e,t);return{type:r,chart:t,native:e,x:o!==void 0?o:null,y:l!==void 0?l:null}}function nodeListContains(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function createAttachObserver(e,t,r){const o=e.canvas,l=new MutationObserver(h=>{let y=!1;for(const D of h)y=y||nodeListContains(D.addedNodes,o),y=y&&!nodeListContains(D.removedNodes,o);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}function createDetachObserver(e,t,r){const o=e.canvas,l=new MutationObserver(h=>{let y=!1;for(const D of h)y=y||nodeListContains(D.removedNodes,o),y=y&&!nodeListContains(D.addedNodes,o);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const e=window.devicePixelRatio;e!==oldDevicePixelRatio&&(oldDevicePixelRatio=e,drpListeningCharts.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function listenDevicePixelRatioChanges(e,t){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(e,t)}function unlistenDevicePixelRatioChanges(e){drpListeningCharts.delete(e),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(e,t,r){const o=e.canvas,l=o&&_getParentNode(o);if(!l)return;const h=throttled((D,O)=>{const F=l.clientWidth;r(D,O),F<l.clientWidth&&r()},window),y=new ResizeObserver(D=>{const O=D[0],F=O.contentRect.width,R=O.contentRect.height;F===0&&R===0||h(F,R)});return y.observe(l),listenDevicePixelRatioChanges(e,h),y}function releaseObserver(e,t,r){r&&r.disconnect(),t==="resize"&&unlistenDevicePixelRatioChanges(e)}function createProxyAndListen(e,t,r){const o=e.canvas,l=throttled(h=>{e.ctx!==null&&r(fromNativeEvent(h,e))},e,h=>{const y=h[0];return[y,y.offsetX,y.offsetY]});return addListener(o,t,l),l}class DomPlatform extends BasePlatform{acquireContext(t,r){const o=t&&t.getContext&&t.getContext("2d");return o&&o.canvas===t?(initCanvas(t,r),o):null}releaseContext(t){const r=t.canvas;if(!r[EXPANDO_KEY$1])return!1;const o=r[EXPANDO_KEY$1].initial;["height","width"].forEach(h=>{const y=o[h];isNullOrUndef(y)?r.removeAttribute(h):r.setAttribute(h,y)});const l=o.style||{};return Object.keys(l).forEach(h=>{r.style[h]=l[h]}),r.width=r.width,delete r[EXPANDO_KEY$1],!0}addEventListener(t,r,o){this.removeEventListener(t,r);const l=t.$proxies||(t.$proxies={}),y={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[r]||createProxyAndListen;l[r]=y(t,r,o)}removeEventListener(t,r){const o=t.$proxies||(t.$proxies={}),l=o[r];if(!l)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[r]||removeListener)(t,r,l),o[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,o,l){return getMaximumSize(t,r,o,l)}isAttached(t){const r=_getParentNode(t);return!!(r&&r.isConnected)}}function _detectPlatform(e){return!_isDomSupported()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:r,y:o}=this.getProps(["x","y"],t);return{x:r,y:o}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(t,r){const o=this.$animations;if(!r||!o)return this;const l={};return t.forEach(h=>{l[h]=o[h]&&o[h].active()?o[h]._to:this[h]}),l}}Element.defaults={};Element.defaultRoutes=void 0;const formatters$4={values(e){return isArray(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const o=this.chart.options.locale;let l,h=e;if(r.length>1){const F=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(F<1e-4||F>1e15)&&(l="scientific"),h=calculateDelta(e,r)}const y=log10(Math.abs(h)),D=Math.max(Math.min(-1*Math.floor(y),20),0),O={notation:l,minimumFractionDigits:D,maximumFractionDigits:D};return Object.assign(O,this.options.ticks.format),formatNumber(e,o,O)},logarithmic(e,t,r){if(e===0)return"0";const o=e/Math.pow(10,Math.floor(log10(e)));return o===1||o===2||o===5?formatters$4.numeric.call(this,e,t,r):""}};function calculateDelta(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var Ticks={formatters:formatters$4};defaults$1.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});defaults$1.route("scale.ticks","color","","color");defaults$1.route("scale.grid","color","","borderColor");defaults$1.route("scale.grid","borderColor","","borderColor");defaults$1.route("scale.title","color","","color");defaults$1.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});defaults$1.describe("scales",{_fallback:"scale"});defaults$1.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function autoSkip(e,t){const r=e.options.ticks,o=r.maxTicksLimit||determineMaxTicks(e),l=r.major.enabled?getMajorIndices(t):[],h=l.length,y=l[0],D=l[h-1],O=[];if(h>o)return skipMajors(t,O,l,h/o),O;const F=calculateSpacing(l,t,o);if(h>0){let R,B;const j=h>1?Math.round((D-y)/(h-1)):null;for(skip(t,O,F,isNullOrUndef(j)?0:y-j,y),R=0,B=h-1;R<B;R++)skip(t,O,F,l[R],l[R+1]);return skip(t,O,F,D,isNullOrUndef(j)?t.length:D+j),O}return skip(t,O,F),O}function determineMaxTicks(e){const t=e.options.offset,r=e._tickSize(),o=e._length/r+(t?0:1),l=e._maxLength/r;return Math.floor(Math.min(o,l))}function calculateSpacing(e,t,r){const o=getEvenSpacing(e),l=t.length/r;if(!o)return Math.max(l,1);const h=_factorize(o);for(let y=0,D=h.length-1;y<D;y++){const O=h[y];if(O>l)return O}return Math.max(l,1)}function getMajorIndices(e){const t=[];let r,o;for(r=0,o=e.length;r<o;r++)e[r].major&&t.push(r);return t}function skipMajors(e,t,r,o){let l=0,h=r[0],y;for(o=Math.ceil(o),y=0;y<e.length;y++)y===h&&(t.push(e[y]),l++,h=r[l*o])}function skip(e,t,r,o,l){const h=valueOrDefault(o,0),y=Math.min(valueOrDefault(l,e.length),e.length);let D=0,O,F,R;for(r=Math.ceil(r),l&&(O=l-o,r=O/Math.floor(O/r)),R=h;R<0;)D++,R=Math.round(h+D*r);for(F=Math.max(h,0);F<y;F++)F===R&&(t.push(e[F]),D++,R=Math.round(h+D*r))}function getEvenSpacing(e){const t=e.length;let r,o;if(t<2)return!1;for(o=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==o)return!1;return o}const reverseAlign=e=>e==="left"?"right":e==="right"?"left":e,offsetFromEdge=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r;function sample(e,t){const r=[],o=e.length/t,l=e.length;let h=0;for(;h<l;h+=o)r.push(e[Math.floor(h)]);return r}function getPixelForGridLine(e,t,r){const o=e.ticks.length,l=Math.min(t,o-1),h=e._startPixel,y=e._endPixel,D=1e-6;let O=e.getPixelForTick(l),F;if(!(r&&(o===1?F=Math.max(O-h,y-O):t===0?F=(e.getPixelForTick(1)-O)/2:F=(O-e.getPixelForTick(l-1))/2,O+=l<t?F:-F,O<h-D||O>y+D)))return O}function garbageCollect(e,t){each(e,r=>{const o=r.gc,l=o.length/2;let h;if(l>t){for(h=0;h<l;++h)delete r.data[o[h]];o.splice(0,l)}})}function getTickMarkLength(e){return e.drawTicks?e.tickLength:0}function getTitleHeight(e,t){if(!e.display)return 0;const r=toFont(e.font,t),o=toPadding(e.padding);return(isArray(e.text)?e.text.length:1)*r.lineHeight+o.height}function createScaleContext(e,t){return createContext(e,{scale:t,type:"scale"})}function createTickContext(e,t,r){return createContext(e,{tick:r,index:t,type:"tick"})}function titleAlign(e,t,r){let o=_toLeftRightCenter(e);return(r&&t!=="right"||!r&&t==="right")&&(o=reverseAlign(o)),o}function titleArgs(e,t,r,o){const{top:l,left:h,bottom:y,right:D,chart:O}=e,{chartArea:F,scales:R}=O;let B=0,j,U,q;const W=y-l,G=D-h;if(e.isHorizontal()){if(U=_alignStartEnd(o,h,D),isObject(r)){const Y=Object.keys(r)[0],K=r[Y];q=R[Y].getPixelForValue(K)+W-t}else r==="center"?q=(F.bottom+F.top)/2+W-t:q=offsetFromEdge(e,r,t);j=D-h}else{if(isObject(r)){const Y=Object.keys(r)[0],K=r[Y];U=R[Y].getPixelForValue(K)-G+t}else r==="center"?U=(F.left+F.right)/2-G+t:U=offsetFromEdge(e,r,t);q=_alignStartEnd(o,y,l),B=r==="left"?-HALF_PI:HALF_PI}return{titleX:U,titleY:q,maxWidth:j,rotation:B}}class Scale extends Element{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:o,_suggestedMax:l}=this;return t=finiteOrDefault(t,Number.POSITIVE_INFINITY),r=finiteOrDefault(r,Number.NEGATIVE_INFINITY),o=finiteOrDefault(o,Number.POSITIVE_INFINITY),l=finiteOrDefault(l,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(t,o),max:finiteOrDefault(r,l),minDefined:isNumberFinite(t),maxDefined:isNumberFinite(r)}}getMinMax(t){let{min:r,max:o,minDefined:l,maxDefined:h}=this.getUserBounds(),y;if(l&&h)return{min:r,max:o};const D=this.getMatchingVisibleMetas();for(let O=0,F=D.length;O<F;++O)y=D[O].controller.getMinMax(this,t),l||(r=Math.min(r,y.min)),h||(o=Math.max(o,y.max));return r=h&&r>o?o:r,o=l&&r>o?r:o,{min:finiteOrDefault(r,finiteOrDefault(o,r)),max:finiteOrDefault(o,finiteOrDefault(r,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(t,r,o){const{beginAtZero:l,grace:h,ticks:y}=this.options,D=y.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,h,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const O=D<this.ticks.length;this._convertTicksToLabels(O?sample(this.ticks,D):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||y.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),O&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,o;this.isHorizontal()?(r=this.left,o=this.right):(r=this.top,o=this.bottom,t=!t),this._startPixel=r,this._endPixel=o,this._reversePixels=t,this._length=o-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),callback(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let o,l,h;for(o=0,l=t.length;o<l;o++)h=t[o],h.label=callback(r.callback,[h.value,o,t],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,o=this.ticks.length,l=r.minRotation||0,h=r.maxRotation;let y=l,D,O,F;if(!this._isVisible()||!r.display||l>=h||o<=1||!this.isHorizontal()){this.labelRotation=l;return}const R=this._getLabelSizes(),B=R.widest.width,j=R.highest.height,U=_limitValue(this.chart.width-B,0,this.maxWidth);D=t.offset?this.maxWidth/o:U/(o-1),B+6>D&&(D=U/(o-(t.offset?.5:1)),O=this.maxHeight-getTickMarkLength(t.grid)-r.padding-getTitleHeight(t.title,this.chart.options.font),F=Math.sqrt(B*B+j*j),y=toDegrees(Math.min(Math.asin(_limitValue((R.highest.height+6)/D,-1,1)),Math.asin(_limitValue(O/F,-1,1))-Math.asin(_limitValue(j/F,-1,1)))),y=Math.max(l,Math.min(h,y))),this.labelRotation=y}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:o,title:l,grid:h}}=this,y=this._isVisible(),D=this.isHorizontal();if(y){const O=getTitleHeight(l,r.options.font);if(D?(t.width=this.maxWidth,t.height=getTickMarkLength(h)+O):(t.height=this.maxHeight,t.width=getTickMarkLength(h)+O),o.display&&this.ticks.length){const{first:F,last:R,widest:B,highest:j}=this._getLabelSizes(),U=o.padding*2,q=toRadians(this.labelRotation),W=Math.cos(q),G=Math.sin(q);if(D){const Y=o.mirror?0:G*B.width+W*j.height;t.height=Math.min(this.maxHeight,t.height+Y+U)}else{const Y=o.mirror?0:W*B.width+G*j.height;t.width=Math.min(this.maxWidth,t.width+Y+U)}this._calculatePadding(F,R,G,W)}}this._handleMargins(),D?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,o,l){const{ticks:{align:h,padding:y},position:D}=this.options,O=this.labelRotation!==0,F=D!=="top"&&this.axis==="x";if(this.isHorizontal()){const R=this.getPixelForTick(0)-this.left,B=this.right-this.getPixelForTick(this.ticks.length-1);let j=0,U=0;O?F?(j=l*t.width,U=o*r.height):(j=o*t.height,U=l*r.width):h==="start"?U=r.width:h==="end"?j=t.width:h!=="inner"&&(j=t.width/2,U=r.width/2),this.paddingLeft=Math.max((j-R+y)*this.width/(this.width-R),0),this.paddingRight=Math.max((U-B+y)*this.width/(this.width-B),0)}else{let R=r.height/2,B=t.height/2;h==="start"?(R=0,B=t.height):h==="end"&&(R=r.height,B=0),this.paddingTop=R+y,this.paddingBottom=B+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,o;for(r=0,o=t.length;r<o;r++)isNullOrUndef(t[r].label)&&(t.splice(r,1),o--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let o=this.ticks;r<o.length&&(o=sample(o,r)),this._labelSizes=t=this._computeLabelSizes(o,o.length)}return t}_computeLabelSizes(t,r){const{ctx:o,_longestTextCache:l}=this,h=[],y=[];let D=0,O=0,F,R,B,j,U,q,W,G,Y,K,X;for(F=0;F<r;++F){if(j=t[F].label,U=this._resolveTickFontOptions(F),o.font=q=U.string,W=l[q]=l[q]||{data:{},gc:[]},G=U.lineHeight,Y=K=0,!isNullOrUndef(j)&&!isArray(j))Y=_measureText(o,W.data,W.gc,Y,j),K=G;else if(isArray(j))for(R=0,B=j.length;R<B;++R)X=j[R],!isNullOrUndef(X)&&!isArray(X)&&(Y=_measureText(o,W.data,W.gc,Y,X),K+=G);h.push(Y),y.push(K),D=Math.max(Y,D),O=Math.max(K,O)}garbageCollect(l,r);const J=h.indexOf(D),Q=y.indexOf(O),et=nt=>({width:h[nt]||0,height:y[nt]||0});return{first:et(0),last:et(r-1),widest:et(J),highest:et(Q),widths:h,heights:y}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const o=r[t];return o.$context||(o.$context=createTickContext(this.getContext(),t,o))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=toRadians(this.labelRotation),o=Math.abs(Math.cos(r)),l=Math.abs(Math.sin(r)),h=this._getLabelSizes(),y=t.autoSkipPadding||0,D=h?h.widest.width+y:0,O=h?h.highest.height+y:0;return this.isHorizontal()?O*o>D*l?D/o:O/l:O*l<D*o?O/o:D/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,o=this.chart,l=this.options,{grid:h,position:y}=l,D=h.offset,O=this.isHorizontal(),R=this.ticks.length+(D?1:0),B=getTickMarkLength(h),j=[],U=h.setContext(this.getContext()),q=U.drawBorder?U.borderWidth:0,W=q/2,G=function(dt){return _alignPixel(o,dt,q)};let Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct;if(y==="top")Y=G(this.bottom),et=this.bottom-B,Z=Y-W,rt=G(t.top)+W,ct=t.bottom;else if(y==="bottom")Y=G(this.top),rt=t.top,ct=G(t.bottom)-W,et=Y+W,Z=this.top+B;else if(y==="left")Y=G(this.right),Q=this.right-B,nt=Y-W,it=G(t.left)+W,tt=t.right;else if(y==="right")Y=G(this.left),it=t.left,tt=G(t.right)-W,Q=Y+W,nt=this.left+B;else if(r==="x"){if(y==="center")Y=G((t.top+t.bottom)/2+.5);else if(isObject(y)){const dt=Object.keys(y)[0],ut=y[dt];Y=G(this.chart.scales[dt].getPixelForValue(ut))}rt=t.top,ct=t.bottom,et=Y+W,Z=et+B}else if(r==="y"){if(y==="center")Y=G((t.left+t.right)/2);else if(isObject(y)){const dt=Object.keys(y)[0],ut=y[dt];Y=G(this.chart.scales[dt].getPixelForValue(ut))}Q=Y-W,nt=Q-B,it=t.left,tt=t.right}const lt=valueOrDefault(l.ticks.maxTicksLimit,R),ot=Math.max(1,Math.ceil(R/lt));for(K=0;K<R;K+=ot){const dt=h.setContext(this.getContext(K)),ut=dt.lineWidth,at=dt.color,st=h.borderDash||[],ht=dt.borderDashOffset,_t=dt.tickWidth,yt=dt.tickColor,ft=dt.tickBorderDash||[],vt=dt.tickBorderDashOffset;X=getPixelForGridLine(this,K,D),X!==void 0&&(J=_alignPixel(o,X,ut),O?Q=nt=it=tt=J:et=Z=rt=ct=J,j.push({tx1:Q,ty1:et,tx2:nt,ty2:Z,x1:it,y1:rt,x2:tt,y2:ct,width:ut,color:at,borderDash:st,borderDashOffset:ht,tickWidth:_t,tickColor:yt,tickBorderDash:ft,tickBorderDashOffset:vt}))}return this._ticksLength=R,this._borderValue=Y,j}_computeLabelItems(t){const r=this.axis,o=this.options,{position:l,ticks:h}=o,y=this.isHorizontal(),D=this.ticks,{align:O,crossAlign:F,padding:R,mirror:B}=h,j=getTickMarkLength(o.grid),U=j+R,q=B?-R:U,W=-toRadians(this.labelRotation),G=[];let Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt="middle";if(l==="top")et=this.bottom-q,nt=this._getXAxisLabelAlignment();else if(l==="bottom")et=this.top+q,nt=this._getXAxisLabelAlignment();else if(l==="left"){const dt=this._getYAxisLabelAlignment(j);nt=dt.textAlign,Q=dt.x}else if(l==="right"){const dt=this._getYAxisLabelAlignment(j);nt=dt.textAlign,Q=dt.x}else if(r==="x"){if(l==="center")et=(t.top+t.bottom)/2+U;else if(isObject(l)){const dt=Object.keys(l)[0],ut=l[dt];et=this.chart.scales[dt].getPixelForValue(ut)+U}nt=this._getXAxisLabelAlignment()}else if(r==="y"){if(l==="center")Q=(t.left+t.right)/2-U;else if(isObject(l)){const dt=Object.keys(l)[0],ut=l[dt];Q=this.chart.scales[dt].getPixelForValue(ut)}nt=this._getYAxisLabelAlignment(j).textAlign}r==="y"&&(O==="start"?lt="top":O==="end"&&(lt="bottom"));const ot=this._getLabelSizes();for(Y=0,K=D.length;Y<K;++Y){X=D[Y],J=X.label;const dt=h.setContext(this.getContext(Y));Z=this.getPixelForTick(Y)+h.labelOffset,it=this._resolveTickFontOptions(Y),rt=it.lineHeight,tt=isArray(J)?J.length:1;const ut=tt/2,at=dt.color,st=dt.textStrokeColor,ht=dt.textStrokeWidth;let _t=nt;y?(Q=Z,nt==="inner"&&(Y===K-1?_t=this.options.reverse?"left":"right":Y===0?_t=this.options.reverse?"right":"left":_t="center"),l==="top"?F==="near"||W!==0?ct=-tt*rt+rt/2:F==="center"?ct=-ot.highest.height/2-ut*rt+rt:ct=-ot.highest.height+rt/2:F==="near"||W!==0?ct=rt/2:F==="center"?ct=ot.highest.height/2-ut*rt:ct=ot.highest.height-tt*rt,B&&(ct*=-1)):(et=Z,ct=(1-tt)*rt/2);let yt;if(dt.showLabelBackdrop){const ft=toPadding(dt.backdropPadding),vt=ot.heights[Y],pt=ot.widths[Y];let mt=et+ct-ft.top,gt=Q-ft.left;switch(lt){case"middle":mt-=vt/2;break;case"bottom":mt-=vt;break}switch(nt){case"center":gt-=pt/2;break;case"right":gt-=pt;break}yt={left:gt,top:mt,width:pt+ft.width,height:vt+ft.height,color:dt.backdropColor}}G.push({rotation:W,label:J,font:it,color:at,strokeColor:st,strokeWidth:ht,textOffset:ct,textAlign:_t,textBaseline:lt,translation:[Q,et],backdrop:yt})}return G}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-toRadians(this.labelRotation))return t==="top"?"left":"right";let l="center";return r.align==="start"?l="left":r.align==="end"?l="right":r.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:o,mirror:l,padding:h}}=this.options,y=this._getLabelSizes(),D=t+h,O=y.widest.width;let F,R;return r==="left"?l?(R=this.right+h,o==="near"?F="left":o==="center"?(F="center",R+=O/2):(F="right",R+=O)):(R=this.right-D,o==="near"?F="right":o==="center"?(F="center",R-=O/2):(F="left",R=this.left)):r==="right"?l?(R=this.left+h,o==="near"?F="right":o==="center"?(F="center",R-=O/2):(F="left",R-=O)):(R=this.left+D,o==="near"?F="left":o==="center"?(F="center",R+=O/2):(F="right",R=this.right)):F="right",{textAlign:F,x:R}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:o,top:l,width:h,height:y}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(o,l,h,y),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const l=this.ticks.findIndex(h=>h.value===t);return l>=0?r.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const r=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let h,y;const D=(O,F,R)=>{!R.width||!R.color||(o.save(),o.lineWidth=R.width,o.strokeStyle=R.color,o.setLineDash(R.borderDash||[]),o.lineDashOffset=R.borderDashOffset,o.beginPath(),o.moveTo(O.x,O.y),o.lineTo(F.x,F.y),o.stroke(),o.restore())};if(r.display)for(h=0,y=l.length;h<y;++h){const O=l[h];r.drawOnChartArea&&D({x:O.x1,y:O.y1},{x:O.x2,y:O.y2},O),r.drawTicks&&D({x:O.tx1,y:O.ty1},{x:O.tx2,y:O.ty2},{color:O.tickColor,width:O.tickWidth,borderDash:O.tickBorderDash,borderDashOffset:O.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{grid:o}}=this,l=o.setContext(this.getContext()),h=o.drawBorder?l.borderWidth:0;if(!h)return;const y=o.setContext(this.getContext(0)).lineWidth,D=this._borderValue;let O,F,R,B;this.isHorizontal()?(O=_alignPixel(t,this.left,h)-h/2,F=_alignPixel(t,this.right,y)+y/2,R=B=D):(R=_alignPixel(t,this.top,h)-h/2,B=_alignPixel(t,this.bottom,y)+y/2,O=F=D),r.save(),r.lineWidth=l.borderWidth,r.strokeStyle=l.borderColor,r.beginPath(),r.moveTo(O,R),r.lineTo(F,B),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&clipArea(o,l);const h=this._labelItems||(this._labelItems=this._computeLabelItems(t));let y,D;for(y=0,D=h.length;y<D;++y){const O=h[y],F=O.font,R=O.label;O.backdrop&&(o.fillStyle=O.backdrop.color,o.fillRect(O.backdrop.left,O.backdrop.top,O.backdrop.width,O.backdrop.height));let B=O.textOffset;renderText(o,R,0,B,F,O)}l&&unclipArea(o)}drawTitle(){const{ctx:t,options:{position:r,title:o,reverse:l}}=this;if(!o.display)return;const h=toFont(o.font),y=toPadding(o.padding),D=o.align;let O=h.lineHeight/2;r==="bottom"||r==="center"||isObject(r)?(O+=y.bottom,isArray(o.text)&&(O+=h.lineHeight*(o.text.length-1))):O+=y.top;const{titleX:F,titleY:R,maxWidth:B,rotation:j}=titleArgs(this,O,r,D);renderText(t,o.text,0,0,h,{color:o.color,maxWidth:B,rotation:j,textAlign:titleAlign(D,r,l),textBaseline:"middle",translation:[F,R]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,o=valueOrDefault(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:r,draw:l=>{this.draw(l)}}]:[{z:o,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o+1,draw:()=>{this.drawBorder()}},{z:r,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let h,y;for(h=0,y=r.length;h<y;++h){const D=r[h];D[o]===this.id&&(!t||D.type===t)&&l.push(D)}return l}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return toFont(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class TypedRegistry{constructor(t,r,o){this.type=t,this.scope=r,this.override=o,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let o;isIChartComponent(r)&&(o=this.register(r));const l=this.items,h=t.id,y=this.scope+"."+h;if(!h)throw new Error("class does not have id: "+t);return h in l||(l[h]=t,registerDefaults(t,y,o),this.override&&defaults$1.override(t.id,t.overrides)),y}get(t){return this.items[t]}unregister(t){const r=this.items,o=t.id,l=this.scope;o in r&&delete r[o],l&&o in defaults$1[l]&&(delete defaults$1[l][o],this.override&&delete overrides[o])}}function registerDefaults(e,t,r){const o=merge(Object.create(null),[r?defaults$1.get(r):{},defaults$1.get(t),e.defaults]);defaults$1.set(t,o),e.defaultRoutes&&routeDefaults(t,e.defaultRoutes),e.descriptors&&defaults$1.describe(t,e.descriptors)}function routeDefaults(e,t){Object.keys(t).forEach(r=>{const o=r.split("."),l=o.pop(),h=[e].concat(o).join("."),y=t[r].split("."),D=y.pop(),O=y.join(".");defaults$1.route(h,l,O,D)})}function isIChartComponent(e){return"id"in e&&"defaults"in e}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,o){[...r].forEach(l=>{const h=o||this._getRegistryForType(l);o||h.isForType(l)||h===this.plugins&&l.id?this._exec(t,h,l):each(l,y=>{const D=o||this._getRegistryForType(y);this._exec(t,D,y)})})}_exec(t,r,o){const l=_capitalize(t);callback(o["before"+l],[],o),r[t](o),callback(o["after"+l],[],o)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const o=this._typedRegistries[r];if(o.isForType(t))return o}return this.plugins}_get(t,r,o){const l=r.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+o+".");return l}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(t,r,o,l){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const h=l?this._descriptors(t).filter(l):this._descriptors(t),y=this._notify(h,t,r,o);return r==="afterDestroy"&&(this._notify(h,t,"stop"),this._notify(this._init,t,"uninstall")),y}_notify(t,r,o,l){l=l||{};for(const h of t){const y=h.plugin,D=y[o],O=[r,l,h.options];if(callback(D,O,y)===!1&&l.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const o=t&&t.config,l=valueOrDefault(o.options&&o.options.plugins,{}),h=allPlugins(o);return l===!1&&!r?[]:createDescriptors(t,h,l,r)}_notifyStateChanges(t){const r=this._oldCache||[],o=this._cache,l=(h,y)=>h.filter(D=>!y.some(O=>D.plugin.id===O.plugin.id));this._notify(l(r,o),t,"stop"),this._notify(l(o,r),t,"start")}}function allPlugins(e){const t=[],r=Object.keys(registry.plugins.items);for(let l=0;l<r.length;l++)t.push(registry.getPlugin(r[l]));const o=e.plugins||[];for(let l=0;l<o.length;l++){const h=o[l];t.indexOf(h)===-1&&t.push(h)}return t}function getOpts(e,t){return!t&&e===!1?null:e===!0?{}:e}function createDescriptors(e,t,r,o){const l=[],h=e.getContext();for(let y=0;y<t.length;y++){const D=t[y],O=D.id,F=getOpts(r[O],o);F!==null&&l.push({plugin:D,options:pluginOpts(e.config,D,F,h)})}return l}function pluginOpts(e,t,r,o){const l=e.pluginScopeKeys(t),h=e.getOptionScopes(r,l);return e.createResolver(h,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(e,t){const r=defaults$1.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function getAxisFromDefaultScaleID(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function getDefaultScaleIDFromAxis(e,t){return e===t?"_index_":"_value_"}function axisFromPosition(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function determineAxis(e,t){return e==="x"||e==="y"?e:t.axis||axisFromPosition(t.position)||e.charAt(0).toLowerCase()}function mergeScaleConfig(e,t){const r=overrides[e.type]||{scales:{}},o=t.scales||{},l=getIndexAxis(e.type,t),h=Object.create(null),y=Object.create(null);return Object.keys(o).forEach(D=>{const O=o[D];if(!isObject(O))return console.error(`Invalid scale configuration for scale: ${D}`);if(O._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${D}`);const F=determineAxis(D,O),R=getDefaultScaleIDFromAxis(F,l),B=r.scales||{};h[F]=h[F]||D,y[D]=mergeIf(Object.create(null),[{axis:F},O,B[F],B[R]])}),e.data.datasets.forEach(D=>{const O=D.type||e.type,F=D.indexAxis||getIndexAxis(O,t),B=(overrides[O]||{}).scales||{};Object.keys(B).forEach(j=>{const U=getAxisFromDefaultScaleID(j,F),q=D[U+"AxisID"]||h[U]||U;y[q]=y[q]||Object.create(null),mergeIf(y[q],[{axis:U},o[q],B[j]])})}),Object.keys(y).forEach(D=>{const O=y[D];mergeIf(O,[defaults$1.scales[O.type],defaults$1.scale])}),y}function initOptions(e){const t=e.options||(e.options={});t.plugins=valueOrDefault(t.plugins,{}),t.scales=mergeScaleConfig(e,t)}function initData(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function initConfig(e){return e=e||{},e.data=initData(e.data),initOptions(e),e}const keyCache=new Map,keysCached=new Set;function cachedKeys(e,t){let r=keyCache.get(e);return r||(r=t(),keyCache.set(e,r),keysCached.add(r)),r}const addIfFound=(e,t,r)=>{const o=resolveObjectKey(t,r);o!==void 0&&e.add(o)};class Config{constructor(t){this._config=initConfig(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=initData(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),initOptions(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return cachedKeys(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return cachedKeys(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return cachedKeys(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,o=this.type;return cachedKeys(`${o}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const o=this._scopeCache;let l=o.get(t);return(!l||r)&&(l=new Map,o.set(t,l)),l}getOptionScopes(t,r,o){const{options:l,type:h}=this,y=this._cachedScopes(t,o),D=y.get(r);if(D)return D;const O=new Set;r.forEach(R=>{t&&(O.add(t),R.forEach(B=>addIfFound(O,t,B))),R.forEach(B=>addIfFound(O,l,B)),R.forEach(B=>addIfFound(O,overrides[h]||{},B)),R.forEach(B=>addIfFound(O,defaults$1,B)),R.forEach(B=>addIfFound(O,descriptors,B))});const F=Array.from(O);return F.length===0&&F.push(Object.create(null)),keysCached.has(r)&&y.set(r,F),F}chartOptionScopes(){const{options:t,type:r}=this;return[t,overrides[r]||{},defaults$1.datasets[r]||{},{type:r},defaults$1,descriptors]}resolveNamedOptions(t,r,o,l=[""]){const h={$shared:!0},{resolver:y,subPrefixes:D}=getResolver(this._resolverCache,t,l);let O=y;if(needContext(y,r)){h.$shared=!1,o=isFunction(o)?o():o;const F=this.createResolver(t,o,D);O=_attachContext(y,o,F)}for(const F of r)h[F]=O[F];return h}createResolver(t,r,o=[""],l){const{resolver:h}=getResolver(this._resolverCache,t,o);return isObject(r)?_attachContext(h,r,void 0,l):h}}function getResolver(e,t,r){let o=e.get(t);o||(o=new Map,e.set(t,o));const l=r.join();let h=o.get(l);return h||(h={resolver:_createResolver(t,r),subPrefixes:r.filter(D=>!D.toLowerCase().includes("hover"))},o.set(l,h)),h}const hasFunction=e=>isObject(e)&&Object.getOwnPropertyNames(e).reduce((t,r)=>t||isFunction(e[r]),!1);function needContext(e,t){const{isScriptable:r,isIndexable:o}=_descriptors(e);for(const l of t){const h=r(l),y=o(l),D=(y||h)&&e[l];if(h&&(isFunction(D)||hasFunction(D))||y&&isArray(D))return!0}return!1}var version="3.8.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(e,t){return e==="top"||e==="bottom"||KNOWN_POSITIONS.indexOf(e)===-1&&t==="x"}function compare2Level(e,t){return function(r,o){return r[e]===o[e]?r[t]-o[t]:r[e]-o[e]}}function onAnimationsComplete(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),callback(r&&r.onComplete,[e],t)}function onAnimationProgress(e){const t=e.chart,r=t.options.animation;callback(r&&r.onProgress,[e],t)}function getCanvas(e){return _isDomSupported()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const instances={},getChart=e=>{const t=getCanvas(e);return Object.values(instances).filter(r=>r.canvas===t).pop()};function moveNumericKeys(e,t,r){const o=Object.keys(e);for(const l of o){const h=+l;if(h>=t){const y=e[l];delete e[l],(r>0||h>t)&&(e[h+r]=y)}}}function determineLastEvent(e,t,r,o){return!r||e.type==="mouseout"?null:o?t:e}class Chart{constructor(t,r){const o=this.config=new Config(r),l=getCanvas(t),h=getChart(l);if(h)throw new Error("Canvas is already in use. Chart with ID '"+h.id+"' must be destroyed before the canvas can be reused.");const y=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_detectPlatform(l)),this.platform.updateConfig(o);const D=this.platform.acquireContext(l,y.aspectRatio),O=D&&D.canvas,F=O&&O.height,R=O&&O.width;if(this.id=uid(),this.ctx=D,this.canvas=O,this.width=R,this.height=F,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(B=>this.update(B),y.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!D||!O){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:o,height:l,_aspectRatio:h}=this;return isNullOrUndef(t)?r&&h?h:l?o/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(t,r){animator.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const o=this.options,l=this.canvas,h=o.maintainAspectRatio&&this.aspectRatio,y=this.platform.getMaximumSize(l,t,r,h),D=o.devicePixelRatio||this.platform.getDevicePixelRatio(),O=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,retinaScale(this,D,!0)&&(this.notifyPlugins("resize",{size:y}),callback(o.onResize,[this,y],this),this.attached&&this._doResize(O)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};each(r,(o,l)=>{o.id=l})}buildOrUpdateScales(){const t=this.options,r=t.scales,o=this.scales,l=Object.keys(o).reduce((y,D)=>(y[D]=!1,y),{});let h=[];r&&(h=h.concat(Object.keys(r).map(y=>{const D=r[y],O=determineAxis(y,D),F=O==="r",R=O==="x";return{options:D,dposition:F?"chartArea":R?"bottom":"left",dtype:F?"radialLinear":R?"category":"linear"}}))),each(h,y=>{const D=y.options,O=D.id,F=determineAxis(O,D),R=valueOrDefault(D.type,y.dtype);(D.position===void 0||positionIsHorizontal(D.position,F)!==positionIsHorizontal(y.dposition))&&(D.position=y.dposition),l[O]=!0;let B=null;if(O in o&&o[O].type===R)B=o[O];else{const j=registry.getScale(R);B=new j({id:O,type:R,ctx:this.ctx,chart:this}),o[B.id]=B}B.init(D,t)}),each(l,(y,D)=>{y||delete o[D]}),each(o,y=>{layouts.configure(this,y,y.options),layouts.addBox(this,y)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,o=t.length;if(t.sort((l,h)=>l.index-h.index),o>r){for(let l=r;l<o;++l)this._destroyDatasetMeta(l);t.splice(r,o-r)}this._sortedMetasets=t.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((o,l)=>{r.filter(h=>h===o._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=r.length;o<l;o++){const h=r[o];let y=this.getDatasetMeta(o);const D=h.type||this.config.type;if(y.type&&y.type!==D&&(this._destroyDatasetMeta(o),y=this.getDatasetMeta(o)),y.type=D,y.indexAxis=h.indexAxis||getIndexAxis(D,this.options),y.order=h.order||0,y.index=o,y.label=""+h.label,y.visible=this.isDatasetVisible(o),y.controller)y.controller.updateIndex(o),y.controller.linkScales();else{const O=registry.getController(D),{datasetElementType:F,dataElementType:R}=defaults$1.datasets[D];Object.assign(O.prototype,{dataElementType:registry.getElement(R),datasetElementType:F&&registry.getElement(F)}),y.controller=new O(this,o),t.push(y.controller)}}return this._updateMetasets(),t}_resetElements(){each(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const o=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const h=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let F=0,R=this.data.datasets.length;F<R;F++){const{controller:B}=this.getDatasetMeta(F),j=!l&&h.indexOf(B)===-1;B.buildOrUpdateElements(j),y=Math.max(+B.getMaxOverflow(),y)}y=this._minPadding=o.layout.autoPadding?y:0,this._updateLayout(y),l||each(h,F=>{F.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(compare2Level("z","_idx"));const{_active:D,_lastEvent:O}=this;O?this._eventHandler(O,!0):D.length&&this._updateHoverStyles(D,D,!0),this.render()}_updateScales(){each(this.scales,t=>{layouts.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),o=new Set(t.events);(!setsEqual(r,o)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:h}of r){const y=o==="_removeElements"?-h:h;moveNumericKeys(t,l,y)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,o=h=>new Set(t.filter(y=>y[0]===h).map((y,D)=>D+","+y.splice(1).join(","))),l=o(0);for(let h=1;h<r;h++)if(!setsEqual(l,o(h)))return;return Array.from(l).map(h=>h.split(",")).map(h=>({method:h[1],start:+h[2],count:+h[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,t);const r=this.chartArea,o=r.width<=0||r.height<=0;this._layers=[],each(this.boxes,l=>{o&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,h)=>{l._idx=h}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,o=this.data.datasets.length;r<o;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,o=this.data.datasets.length;r<o;++r)this._updateDataset(r,isFunction(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const o=this.getDatasetMeta(t),l={meta:o,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(o.controller._update(r),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resize(o,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,o=[];let l,h;for(l=0,h=r.length;l<h;++l){const y=r[l];(!t||y.visible)&&o.push(y)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,o=t._clip,l=!o.disabled,h=this.chartArea,y={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",y)!==!1&&(l&&clipArea(r,{left:o.left===!1?0:h.left-o.left,right:o.right===!1?this.width:h.right+o.right,top:o.top===!1?0:h.top-o.top,bottom:o.bottom===!1?this.height:h.bottom+o.bottom}),t.controller.draw(),l&&unclipArea(r),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}isPointInArea(t){return _isPointInArea(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,o,l){const h=Interaction.modes[r];return typeof h=="function"?h(this,t,o,l):[]}getDatasetMeta(t){const r=this.data.datasets[t],o=this._metasets;let l=o.filter(h=>h&&h._dataset===r).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const o=this.getDatasetMeta(t);return typeof o.hidden=="boolean"?!o.hidden:!r.hidden}setDatasetVisibility(t,r){const o=this.getDatasetMeta(t);o.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,o){const l=o?"show":"hide",h=this.getDatasetMeta(t),y=h.controller._resolveAnimations(void 0,l);defined(r)?(h.data[r].hidden=!o,this.update()):(this.setDatasetVisibility(t,o),y.update(h,{visible:o}),this.update(D=>D.datasetIndex===t?l:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),animator.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),clearCanvas(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,o=(h,y)=>{r.addEventListener(this,h,y),t[h]=y},l=(h,y,D)=>{h.offsetX=y,h.offsetY=D,this._eventHandler(h)};each(this.options.events,h=>o(h,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,o=(O,F)=>{r.addEventListener(this,O,F),t[O]=F},l=(O,F)=>{t[O]&&(r.removeEventListener(this,O,F),delete t[O])},h=(O,F)=>{this.canvas&&this.resize(O,F)};let y;const D=()=>{l("attach",D),this.attached=!0,this.resize(),o("resize",h),o("detach",y)};y=()=>{this.attached=!1,l("resize",h),this._stop(),this._resize(0,0),o("attach",D)},r.isAttached(this.canvas)?D():y()}unbindEvents(){each(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},each(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,o){const l=o?"set":"remove";let h,y,D,O;for(r==="dataset"&&(h=this.getDatasetMeta(t[0].datasetIndex),h.controller["_"+l+"DatasetHoverStyle"]()),D=0,O=t.length;D<O;++D){y=t[D];const F=y&&this.getDatasetMeta(y.datasetIndex).controller;F&&F[l+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],o=t.map(({datasetIndex:h,index:y})=>{const D=this.getDatasetMeta(h);if(!D)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:D.data[y],index:y}});!_elementsEqual(o,r)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,r))}notifyPlugins(t,r,o){return this._plugins.notify(this,t,r,o)}_updateHoverStyles(t,r,o){const l=this.options.hover,h=(O,F)=>O.filter(R=>!F.some(B=>R.datasetIndex===B.datasetIndex&&R.index===B.index)),y=h(r,t),D=o?t:h(t,r);y.length&&this.updateHoverStyle(y,l.mode,!1),D.length&&l.mode&&this.updateHoverStyle(D,l.mode,!0)}_eventHandler(t,r){const o={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},l=y=>(y.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",o,l)===!1)return;const h=this._handleEvent(t,r,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(h||o.changed)&&this.render(),this}_handleEvent(t,r,o){const{_active:l=[],options:h}=this,y=r,D=this._getActiveElements(t,l,o,y),O=_isClickEvent(t),F=determineLastEvent(t,this._lastEvent,o,O);o&&(this._lastEvent=null,callback(h.onHover,[t,D,this],this),O&&callback(h.onClick,[t,D,this],this));const R=!_elementsEqual(D,l);return(R||r)&&(this._active=D,this._updateHoverStyles(D,l,r)),this._lastEvent=F,R}_getActiveElements(t,r,o,l){if(t.type==="mouseout")return[];if(!o)return r;const h=this.options.hover;return this.getElementsAtEventForMode(t,h.mode,h,l)}}const invalidatePlugins=()=>each(Chart.instances,e=>e._plugins.invalidate()),enumerable=!0;Object.defineProperties(Chart,{defaults:{enumerable,value:defaults$1},instances:{enumerable,value:instances},overrides:{enumerable,value:overrides},registry:{enumerable,value:registry},version:{enumerable,value:version},getChart:{enumerable,value:getChart},register:{enumerable,value:(...e)=>{registry.add(...e),invalidatePlugins()}},unregister:{enumerable,value:(...e)=>{registry.remove(...e),invalidatePlugins()}}});function clipArc(e,t,r){const{startAngle:o,pixelMargin:l,x:h,y,outerRadius:D,innerRadius:O}=t;let F=l/D;e.beginPath(),e.arc(h,y,D,o-F,r+F),O>l?(F=l/O,e.arc(h,y,O,r+F,o-F,!0)):e.arc(h,y,l,r+HALF_PI,o-HALF_PI),e.closePath(),e.clip()}function toRadiusCorners(e){return _readValueToProps(e,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(e,t,r,o){const l=toRadiusCorners(e.options.borderRadius),h=(r-t)/2,y=Math.min(h,o*t/2),D=O=>{const F=(r-Math.min(h,O))*o/2;return _limitValue(O,0,Math.min(h,F))};return{outerStart:D(l.outerStart),outerEnd:D(l.outerEnd),innerStart:_limitValue(l.innerStart,0,y),innerEnd:_limitValue(l.innerEnd,0,y)}}function rThetaToXY(e,t,r,o){return{x:r+e*Math.cos(t),y:o+e*Math.sin(t)}}function pathArc(e,t,r,o,l){const{x:h,y,startAngle:D,pixelMargin:O,innerRadius:F}=t,R=Math.max(t.outerRadius+o+r-O,0),B=F>0?F+o+r+O:0;let j=0;const U=l-D;if(o){const ut=F>0?F-o:0,at=R>0?R-o:0,st=(ut+at)/2,ht=st!==0?U*st/(st+o):U;j=(U-ht)/2}const q=Math.max(.001,U*R-r/PI)/R,W=(U-q)/2,G=D+W+j,Y=l-W-j,{outerStart:K,outerEnd:X,innerStart:J,innerEnd:Q}=parseBorderRadius$1(t,B,R,Y-G),et=R-K,nt=R-X,Z=G+K/et,it=Y-X/nt,rt=B+J,tt=B+Q,ct=G+J/rt,lt=Y-Q/tt;if(e.beginPath(),e.arc(h,y,R,Z,it),X>0){const ut=rThetaToXY(nt,it,h,y);e.arc(ut.x,ut.y,X,it,Y+HALF_PI)}const ot=rThetaToXY(tt,Y,h,y);if(e.lineTo(ot.x,ot.y),Q>0){const ut=rThetaToXY(tt,lt,h,y);e.arc(ut.x,ut.y,Q,Y+HALF_PI,lt+Math.PI)}if(e.arc(h,y,B,Y-Q/B,G+J/B,!0),J>0){const ut=rThetaToXY(rt,ct,h,y);e.arc(ut.x,ut.y,J,ct+Math.PI,G-HALF_PI)}const dt=rThetaToXY(et,G,h,y);if(e.lineTo(dt.x,dt.y),K>0){const ut=rThetaToXY(et,Z,h,y);e.arc(ut.x,ut.y,K,G-HALF_PI,Z)}e.closePath()}function drawArc(e,t,r,o){const{fullCircles:l,startAngle:h,circumference:y}=t;let D=t.endAngle;if(l){pathArc(e,t,r,o,h+TAU);for(let O=0;O<l;++O)e.fill();isNaN(y)||(D=h+y%TAU,y%TAU===0&&(D+=TAU))}return pathArc(e,t,r,o,D),e.fill(),D}function drawFullCircleBorders(e,t,r){const{x:o,y:l,startAngle:h,pixelMargin:y,fullCircles:D}=t,O=Math.max(t.outerRadius-y,0),F=t.innerRadius+y;let R;for(r&&clipArc(e,t,h+TAU),e.beginPath(),e.arc(o,l,F,h+TAU,h,!0),R=0;R<D;++R)e.stroke();for(e.beginPath(),e.arc(o,l,O,h,h+TAU),R=0;R<D;++R)e.stroke()}function drawBorder(e,t,r,o,l){const{options:h}=t,{borderWidth:y,borderJoinStyle:D}=h,O=h.borderAlign==="inner";!y||(O?(e.lineWidth=y*2,e.lineJoin=D||"round"):(e.lineWidth=y,e.lineJoin=D||"bevel"),t.fullCircles&&drawFullCircleBorders(e,t,O),O&&clipArc(e,t,l),pathArc(e,t,r,o,l),e.stroke())}class ArcElement extends Element{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,o){const l=this.getProps(["x","y"],o),{angle:h,distance:y}=getAngleFromPoint(l,{x:t,y:r}),{startAngle:D,endAngle:O,innerRadius:F,outerRadius:R,circumference:B}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),j=this.options.spacing/2,q=valueOrDefault(B,O-D)>=TAU||_angleBetween(h,D,O),W=_isBetween(y,F+j,R+j);return q&&W}getCenterPoint(t){const{x:r,y:o,startAngle:l,endAngle:h,innerRadius:y,outerRadius:D}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:O,spacing:F}=this.options,R=(l+h)/2,B=(y+D+F+O)/2;return{x:r+Math.cos(R)*B,y:o+Math.sin(R)*B}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:o}=this,l=(r.offset||0)/2,h=(r.spacing||0)/2;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=o>TAU?Math.floor(o/TAU):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let y=0;if(l){y=l/2;const O=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(O)*y,Math.sin(O)*y),this.circumference>=PI&&(y=l)}t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor;const D=drawArc(t,this,y,h);drawBorder(t,this,y,h,D),t.restore()}}ArcElement.id="arc";ArcElement.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};ArcElement.defaultRoutes={backgroundColor:"backgroundColor"};function setStyle(e,t,r=t){e.lineCap=valueOrDefault(r.borderCapStyle,t.borderCapStyle),e.setLineDash(valueOrDefault(r.borderDash,t.borderDash)),e.lineDashOffset=valueOrDefault(r.borderDashOffset,t.borderDashOffset),e.lineJoin=valueOrDefault(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=valueOrDefault(r.borderWidth,t.borderWidth),e.strokeStyle=valueOrDefault(r.borderColor,t.borderColor)}function lineTo(e,t,r){e.lineTo(r.x,r.y)}function getLineMethod(e){return e.stepped?_steppedLineTo:e.tension||e.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(e,t,r={}){const o=e.length,{start:l=0,end:h=o-1}=r,{start:y,end:D}=t,O=Math.max(l,y),F=Math.min(h,D),R=l<y&&h<y||l>D&&h>D;return{count:o,start:O,loop:t.loop,ilen:F<O&&!R?o+F-O:F-O}}function pathSegment(e,t,r,o){const{points:l,options:h}=t,{count:y,start:D,loop:O,ilen:F}=pathVars(l,r,o),R=getLineMethod(h);let{move:B=!0,reverse:j}=o||{},U,q,W;for(U=0;U<=F;++U)q=l[(D+(j?F-U:U))%y],!q.skip&&(B?(e.moveTo(q.x,q.y),B=!1):R(e,W,q,j,h.stepped),W=q);return O&&(q=l[(D+(j?F:0))%y],R(e,W,q,j,h.stepped)),!!O}function fastPathSegment(e,t,r,o){const l=t.points,{count:h,start:y,ilen:D}=pathVars(l,r,o),{move:O=!0,reverse:F}=o||{};let R=0,B=0,j,U,q,W,G,Y;const K=J=>(y+(F?D-J:J))%h,X=()=>{W!==G&&(e.lineTo(R,G),e.lineTo(R,W),e.lineTo(R,Y))};for(O&&(U=l[K(0)],e.moveTo(U.x,U.y)),j=0;j<=D;++j){if(U=l[K(j)],U.skip)continue;const J=U.x,Q=U.y,et=J|0;et===q?(Q<W?W=Q:Q>G&&(G=Q),R=(B*R+J)/++B):(X(),e.lineTo(J,Q),q=et,B=0,W=G=Q),Y=Q}X()}function _getSegmentMethod(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?fastPathSegment:pathSegment}function _getInterpolationMethod(e){return e.stepped?_steppedInterpolation:e.tension||e.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(e,t,r,o){let l=t._path;l||(l=t._path=new Path2D,t.path(l,r,o)&&l.closePath()),setStyle(e,t.options),e.stroke(l)}function strokePathDirect(e,t,r,o){const{segments:l,options:h}=t,y=_getSegmentMethod(t);for(const D of l)setStyle(e,h,D.style),e.beginPath(),y(e,t,D,{start:r,end:r+o-1})&&e.closePath(),e.stroke()}const usePath2D=typeof Path2D=="function";function draw(e,t,r,o){usePath2D&&!t.options.segment?strokePathWithCache(e,t,r,o):strokePathDirect(e,t,r,o)}class LineElement extends Element{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const l=o.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,o,t,l,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,o=t.length;return o&&r[t[o-1].end]}interpolate(t,r){const o=this.options,l=t[r],h=this.points,y=_boundSegments(this,{property:r,start:l,end:l});if(!y.length)return;const D=[],O=_getInterpolationMethod(o);let F,R;for(F=0,R=y.length;F<R;++F){const{start:B,end:j}=y[F],U=h[B],q=h[j];if(U===q){D.push(U);continue}const W=Math.abs((l-U[r])/(q[r]-U[r])),G=O(U,q,W,o.stepped);G[r]=t[r],D.push(G)}return D.length===1?D[0]:D}pathSegment(t,r,o){return _getSegmentMethod(this)(t,this,r,o)}path(t,r,o){const l=this.segments,h=_getSegmentMethod(this);let y=this._loop;r=r||0,o=o||this.points.length-r;for(const D of l)y&=h(t,this,D,{start:r,end:r+o-1});return!!y}draw(t,r,o,l){const h=this.options||{};(this.points||[]).length&&h.borderWidth&&(t.save(),draw(t,this,o,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}LineElement.id="line";LineElement.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};LineElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};LineElement.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function inRange$1(e,t,r,o){const l=e.options,{[r]:h}=e.getProps([r],o);return Math.abs(t-h)<l.radius+l.hitRadius}class PointElement extends Element{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,o){const l=this.options,{x:h,y}=this.getProps(["x","y"],o);return Math.pow(t-h,2)+Math.pow(r-y,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,r){return inRange$1(this,t,"x",r)}inYRange(t,r){return inRange$1(this,t,"y",r)}getCenterPoint(t){const{x:r,y:o}=this.getProps(["x","y"],t);return{x:r,y:o}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const o=r&&t.borderWidth||0;return(r+o)*2}draw(t,r){const o=this.options;this.skip||o.radius<.1||!_isPointInArea(this,r,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,drawPoint(t,o,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}PointElement.id="point";PointElement.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};PointElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function getBarBounds(e,t){const{x:r,y:o,base:l,width:h,height:y}=e.getProps(["x","y","base","width","height"],t);let D,O,F,R,B;return e.horizontal?(B=y/2,D=Math.min(r,l),O=Math.max(r,l),F=o-B,R=o+B):(B=h/2,D=r-B,O=r+B,F=Math.min(o,l),R=Math.max(o,l)),{left:D,top:F,right:O,bottom:R}}function skipOrLimit(e,t,r,o){return e?0:_limitValue(t,r,o)}function parseBorderWidth(e,t,r){const o=e.options.borderWidth,l=e.borderSkipped,h=toTRBL(o);return{t:skipOrLimit(l.top,h.top,0,r),r:skipOrLimit(l.right,h.right,0,t),b:skipOrLimit(l.bottom,h.bottom,0,r),l:skipOrLimit(l.left,h.left,0,t)}}function parseBorderRadius(e,t,r){const{enableBorderRadius:o}=e.getProps(["enableBorderRadius"]),l=e.options.borderRadius,h=toTRBLCorners(l),y=Math.min(t,r),D=e.borderSkipped,O=o||isObject(l);return{topLeft:skipOrLimit(!O||D.top||D.left,h.topLeft,0,y),topRight:skipOrLimit(!O||D.top||D.right,h.topRight,0,y),bottomLeft:skipOrLimit(!O||D.bottom||D.left,h.bottomLeft,0,y),bottomRight:skipOrLimit(!O||D.bottom||D.right,h.bottomRight,0,y)}}function boundingRects$1(e){const t=getBarBounds(e),r=t.right-t.left,o=t.bottom-t.top,l=parseBorderWidth(e,r/2,o/2),h=parseBorderRadius(e,r/2,o/2);return{outer:{x:t.left,y:t.top,w:r,h:o,radius:h},inner:{x:t.left+l.l,y:t.top+l.t,w:r-l.l-l.r,h:o-l.t-l.b,radius:{topLeft:Math.max(0,h.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,h.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,h.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,h.bottomRight-Math.max(l.b,l.r))}}}}function inRange(e,t,r,o){const l=t===null,h=r===null,D=e&&!(l&&h)&&getBarBounds(e,o);return D&&(l||_isBetween(t,D.left,D.right))&&(h||_isBetween(r,D.top,D.bottom))}function hasRadius(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function addNormalRectPath(e,t){e.rect(t.x,t.y,t.w,t.h)}function inflateRect(e,t,r={}){const o=e.x!==r.x?-t:0,l=e.y!==r.y?-t:0,h=(e.x+e.w!==r.x+r.w?t:0)-o,y=(e.y+e.h!==r.y+r.h?t:0)-l;return{x:e.x+o,y:e.y+l,w:e.w+h,h:e.h+y,radius:e.radius}}class BarElement extends Element{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:o,backgroundColor:l}}=this,{inner:h,outer:y}=boundingRects$1(this),D=hasRadius(y.radius)?addRoundedRectPath:addNormalRectPath;t.save(),(y.w!==h.w||y.h!==h.h)&&(t.beginPath(),D(t,inflateRect(y,r,h)),t.clip(),D(t,inflateRect(h,-r,y)),t.fillStyle=o,t.fill("evenodd")),t.beginPath(),D(t,inflateRect(h,r)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,r,o){return inRange(this,t,r,o)}inXRange(t,r){return inRange(this,t,null,r)}inYRange(t,r){return inRange(this,null,t,r)}getCenterPoint(t){const{x:r,y:o,base:l,horizontal:h}=this.getProps(["x","y","base","horizontal"],t);return{x:h?(r+l)/2:r,y:h?o:(o+l)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}BarElement.id="bar";BarElement.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};BarElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var elements=Object.freeze({__proto__:null,ArcElement,LineElement,PointElement,BarElement});function lttbDecimation(e,t,r,o,l){const h=l.samples||o;if(h>=r)return e.slice(t,t+r);const y=[],D=(r-2)/(h-2);let O=0;const F=t+r-1;let R=t,B,j,U,q,W;for(y[O++]=e[R],B=0;B<h-2;B++){let G=0,Y=0,K;const X=Math.floor((B+1)*D)+1+t,J=Math.min(Math.floor((B+2)*D)+1,r)+t,Q=J-X;for(K=X;K<J;K++)G+=e[K].x,Y+=e[K].y;G/=Q,Y/=Q;const et=Math.floor(B*D)+1+t,nt=Math.min(Math.floor((B+1)*D)+1,r)+t,{x:Z,y:it}=e[R];for(U=q=-1,K=et;K<nt;K++)q=.5*Math.abs((Z-G)*(e[K].y-it)-(Z-e[K].x)*(Y-it)),q>U&&(U=q,j=e[K],W=K);y[O++]=j,R=W}return y[O++]=e[F],y}function minMaxDecimation(e,t,r,o){let l=0,h=0,y,D,O,F,R,B,j,U,q,W;const G=[],Y=t+r-1,K=e[t].x,J=e[Y].x-K;for(y=t;y<t+r;++y){D=e[y],O=(D.x-K)/J*o,F=D.y;const Q=O|0;if(Q===R)F<q?(q=F,B=y):F>W&&(W=F,j=y),l=(h*l+D.x)/++h;else{const et=y-1;if(!isNullOrUndef(B)&&!isNullOrUndef(j)){const nt=Math.min(B,j),Z=Math.max(B,j);nt!==U&&nt!==et&&G.push(Vt(zt({},e[nt]),{x:l})),Z!==U&&Z!==et&&G.push(Vt(zt({},e[Z]),{x:l}))}y>0&&et!==U&&G.push(e[et]),G.push(D),R=Q,h=0,q=W=F,B=j=U=y}}return G}function cleanDecimatedDataset(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function cleanDecimatedData(e){e.data.datasets.forEach(t=>{cleanDecimatedDataset(t)})}function getStartAndCountOfVisiblePointsSimplified(e,t){const r=t.length;let o=0,l;const{iScale:h}=e,{min:y,max:D,minDefined:O,maxDefined:F}=h.getUserBounds();return O&&(o=_limitValue(_lookupByKey(t,h.axis,y).lo,0,r-1)),F?l=_limitValue(_lookupByKey(t,h.axis,D).hi+1,o,r)-o:l=r-o,{start:o,count:l}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,r)=>{if(!r.enabled){cleanDecimatedData(e);return}const o=e.width;e.data.datasets.forEach((l,h)=>{const{_data:y,indexAxis:D}=l,O=e.getDatasetMeta(h),F=y||l.data;if(resolve([D,e.options.indexAxis])==="y"||!O.controller.supportsDecimation)return;const R=e.scales[O.xAxisID];if(R.type!=="linear"&&R.type!=="time"||e.options.parsing)return;let{start:B,count:j}=getStartAndCountOfVisiblePointsSimplified(O,F);const U=r.threshold||4*o;if(j<=U){cleanDecimatedDataset(l);return}isNullOrUndef(y)&&(l._data=F,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(W){this._data=W}}));let q;switch(r.algorithm){case"lttb":q=lttbDecimation(F,B,j,o,r);break;case"min-max":q=minMaxDecimation(F,B,j,o);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}l._decimated=q})},destroy(e){cleanDecimatedData(e)}};function _segments(e,t,r){const o=e.segments,l=e.points,h=t.points,y=[];for(const D of o){let{start:O,end:F}=D;F=_findSegmentEnd(O,F,l);const R=_getBounds(r,l[O],l[F],D.loop);if(!t.segments){y.push({source:D,target:R,start:l[O],end:l[F]});continue}const B=_boundSegments(t,R);for(const j of B){const U=_getBounds(r,h[j.start],h[j.end],j.loop),q=_boundSegment(D,l,U);for(const W of q)y.push({source:W,target:j,start:{[r]:_getEdge(R,U,"start",Math.max)},end:{[r]:_getEdge(R,U,"end",Math.min)}})}}return y}function _getBounds(e,t,r,o){if(o)return;let l=t[e],h=r[e];return e==="angle"&&(l=_normalizeAngle(l),h=_normalizeAngle(h)),{property:e,start:l,end:h}}function _pointsFromSegments(e,t){const{x:r=null,y:o=null}=e||{},l=t.points,h=[];return t.segments.forEach(({start:y,end:D})=>{D=_findSegmentEnd(y,D,l);const O=l[y],F=l[D];o!==null?(h.push({x:O.x,y:o}),h.push({x:F.x,y:o})):r!==null&&(h.push({x:r,y:O.y}),h.push({x:r,y:F.y}))}),h}function _findSegmentEnd(e,t,r){for(;t>e;t--){const o=r[t];if(!isNaN(o.x)&&!isNaN(o.y))break}return t}function _getEdge(e,t,r,o){return e&&t?o(e[r],t[r]):e?e[r]:t?t[r]:0}function _createBoundaryLine(e,t){let r=[],o=!1;return isArray(e)?(o=!0,r=e):r=_pointsFromSegments(e,t),r.length?new LineElement({points:r,options:{tension:0},_loop:o,_fullLoop:o}):null}function _resolveTarget(e,t,r){let l=e[t].fill;const h=[t];let y;if(!r)return l;for(;l!==!1&&h.indexOf(l)===-1;){if(!isNumberFinite(l))return l;if(y=e[l],!y)return!1;if(y.visible)return l;h.push(l),l=y.fill}return!1}function _decodeFill(e,t,r){const o=parseFillOption(e);if(isObject(o))return isNaN(o.value)?!1:o;let l=parseFloat(o);return isNumberFinite(l)&&Math.floor(l)===l?decodeTargetIndex(o[0],t,l,r):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function decodeTargetIndex(e,t,r,o){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=o?!1:r}function _getTargetPixel(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:isObject(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function _getTargetValue(e,t,r){let o;return e==="start"?o=r:e==="end"?o=t.options.reverse?t.min:t.max:isObject(e)?o=e.value:o=t.getBaseValue(),o}function parseFillOption(e){const t=e.options,r=t.fill;let o=valueOrDefault(r&&r.target,r);return o===void 0&&(o=!!t.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function _buildStackLine(e){const{scale:t,index:r,line:o}=e,l=[],h=o.segments,y=o.points,D=getLinesBelow(t,r);D.push(_createBoundaryLine({x:null,y:t.bottom},o));for(let O=0;O<h.length;O++){const F=h[O];for(let R=F.start;R<=F.end;R++)addPointsBelow(l,y[R],D)}return new LineElement({points:l,options:{}})}function getLinesBelow(e,t){const r=[],o=e.getMatchingVisibleMetas("line");for(let l=0;l<o.length;l++){const h=o[l];if(h.index===t)break;h.hidden||r.unshift(h.dataset)}return r}function addPointsBelow(e,t,r){const o=[];for(let l=0;l<r.length;l++){const h=r[l],{first:y,last:D,point:O}=findPoint(h,t,"x");if(!(!O||y&&D)){if(y)o.unshift(O);else if(e.push(O),!D)break}}e.push(...o)}function findPoint(e,t,r){const o=e.interpolate(t,r);if(!o)return{};const l=o[r],h=e.segments,y=e.points;let D=!1,O=!1;for(let F=0;F<h.length;F++){const R=h[F],B=y[R.start][r],j=y[R.end][r];if(_isBetween(l,B,j)){D=l===B,O=l===j;break}}return{first:D,last:O,point:o}}class simpleArc{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,o){const{x:l,y:h,radius:y}=this;return r=r||{start:0,end:TAU},t.arc(l,h,y,r.end,r.start,!0),!o.bounds}interpolate(t){const{x:r,y:o,radius:l}=this,h=t.angle;return{x:r+Math.cos(h)*l,y:o+Math.sin(h)*l,angle:h}}}function _getTarget(e){const{chart:t,fill:r,line:o}=e;if(isNumberFinite(r))return getLineByIndex(t,r);if(r==="stack")return _buildStackLine(e);if(r==="shape")return!0;const l=computeBoundary(e);return l instanceof simpleArc?l:_createBoundaryLine(l,o)}function getLineByIndex(e,t){const r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function computeBoundary(e){return(e.scale||{}).getPointPositionForValue?computeCircularBoundary(e):computeLinearBoundary(e)}function computeLinearBoundary(e){const{scale:t={},fill:r}=e,o=_getTargetPixel(r,t);if(isNumberFinite(o)){const l=t.isHorizontal();return{x:l?o:null,y:l?null:o}}return null}function computeCircularBoundary(e){const{scale:t,fill:r}=e,o=t.options,l=t.getLabels().length,h=o.reverse?t.max:t.min,y=_getTargetValue(r,t,h),D=[];if(o.grid.circular){const O=t.getPointPositionForValue(0,h);return new simpleArc({x:O.x,y:O.y,radius:t.getDistanceFromCenterForValue(y)})}for(let O=0;O<l;++O)D.push(t.getPointPositionForValue(O,y));return D}function _drawfill(e,t,r){const o=_getTarget(t),{line:l,scale:h,axis:y}=t,D=l.options,O=D.fill,F=D.backgroundColor,{above:R=F,below:B=F}=O||{};o&&l.points.length&&(clipArea(e,r),doFill(e,{line:l,target:o,above:R,below:B,area:r,scale:h,axis:y}),unclipArea(e))}function doFill(e,t){const{line:r,target:o,above:l,below:h,area:y,scale:D}=t,O=r._loop?"angle":t.axis;e.save(),O==="x"&&h!==l&&(clipVertical(e,o,y.top),fill(e,{line:r,target:o,color:l,scale:D,property:O}),e.restore(),e.save(),clipVertical(e,o,y.bottom)),fill(e,{line:r,target:o,color:h,scale:D,property:O}),e.restore()}function clipVertical(e,t,r){const{segments:o,points:l}=t;let h=!0,y=!1;e.beginPath();for(const D of o){const{start:O,end:F}=D,R=l[O],B=l[_findSegmentEnd(O,F,l)];h?(e.moveTo(R.x,R.y),h=!1):(e.lineTo(R.x,r),e.lineTo(R.x,R.y)),y=!!t.pathSegment(e,D,{move:y}),y?e.closePath():e.lineTo(B.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function fill(e,t){const{line:r,target:o,property:l,color:h,scale:y}=t,D=_segments(r,o,l);for(const{source:O,target:F,start:R,end:B}of D){const{style:{backgroundColor:j=h}={}}=O,U=o!==!0;e.save(),e.fillStyle=j,clipBounds(e,y,U&&_getBounds(l,R,B)),e.beginPath();const q=!!r.pathSegment(e,O);let W;if(U){q?e.closePath():interpolatedLineTo(e,o,B,l);const G=!!o.pathSegment(e,F,{move:q,reverse:!0});W=q&&G,W||interpolatedLineTo(e,o,R,l)}e.closePath(),e.fill(W?"evenodd":"nonzero"),e.restore()}}function clipBounds(e,t,r){const{top:o,bottom:l}=t.chart.chartArea,{property:h,start:y,end:D}=r||{};h==="x"&&(e.beginPath(),e.rect(y,o,D-y,l-o),e.clip())}function interpolatedLineTo(e,t,r,o){const l=t.interpolate(r,o);l&&e.lineTo(l.x,l.y)}var index={id:"filler",afterDatasetsUpdate(e,t,r){const o=(e.data.datasets||[]).length,l=[];let h,y,D,O;for(y=0;y<o;++y)h=e.getDatasetMeta(y),D=h.dataset,O=null,D&&D.options&&D instanceof LineElement&&(O={visible:e.isDatasetVisible(y),index:y,fill:_decodeFill(D,y,o),chart:e,axis:h.controller.options.indexAxis,scale:h.vScale,line:D}),h.$filler=O,l.push(O);for(y=0;y<o;++y)O=l[y],!(!O||O.fill===!1)&&(O.fill=_resolveTarget(l,y,r.propagate))},beforeDraw(e,t,r){const o=r.drawTime==="beforeDraw",l=e.getSortedVisibleDatasetMetas(),h=e.chartArea;for(let y=l.length-1;y>=0;--y){const D=l[y].$filler;!D||(D.line.updateControlPoints(h,D.axis),o&&_drawfill(e.ctx,D,h))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;const o=e.getSortedVisibleDatasetMetas();for(let l=o.length-1;l>=0;--l){const h=o[l].$filler;h&&_drawfill(e.ctx,h,e.chartArea)}},beforeDatasetDraw(e,t,r){const o=t.meta.$filler;!o||o.fill===!1||r.drawTime!=="beforeDatasetDraw"||_drawfill(e.ctx,o,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(e,t)=>{let{boxHeight:r=t,boxWidth:o=t}=e;return e.usePointStyle&&(r=Math.min(r,t),o=Math.min(o,t)),{boxWidth:o,boxHeight:r,itemHeight:Math.max(t,r)}},itemsEqual=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Legend extends Element{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,o){this.maxWidth=t,this.maxHeight=r,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=callback(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(o=>t.filter(o,this.chart.data))),t.sort&&(r=r.sort((o,l)=>t.sort(o,l,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const o=t.labels,l=toFont(o.font),h=l.size,y=this._computeTitleHeight(),{boxWidth:D,itemHeight:O}=getBoxSize(o,h);let F,R;r.font=l.string,this.isHorizontal()?(F=this.maxWidth,R=this._fitRows(y,h,D,O)+10):(R=this.maxHeight,F=this._fitCols(y,h,D,O)+10),this.width=Math.min(F,t.maxWidth||this.maxWidth),this.height=Math.min(R,t.maxHeight||this.maxHeight)}_fitRows(t,r,o,l){const{ctx:h,maxWidth:y,options:{labels:{padding:D}}}=this,O=this.legendHitBoxes=[],F=this.lineWidths=[0],R=l+D;let B=t;h.textAlign="left",h.textBaseline="middle";let j=-1,U=-R;return this.legendItems.forEach((q,W)=>{const G=o+r/2+h.measureText(q.text).width;(W===0||F[F.length-1]+G+2*D>y)&&(B+=R,F[F.length-(W>0?0:1)]=0,U+=R,j++),O[W]={left:0,top:U,row:j,width:G,height:l},F[F.length-1]+=G+D}),B}_fitCols(t,r,o,l){const{ctx:h,maxHeight:y,options:{labels:{padding:D}}}=this,O=this.legendHitBoxes=[],F=this.columnSizes=[],R=y-t;let B=D,j=0,U=0,q=0,W=0;return this.legendItems.forEach((G,Y)=>{const K=o+r/2+h.measureText(G.text).width;Y>0&&U+l+2*D>R&&(B+=j+D,F.push({width:j,height:U}),q+=j+D,W++,j=U=0),O[Y]={left:q,top:U,col:W,width:K,height:l},j=Math.max(j,K),U+=l+D}),B+=j,F.push({width:j,height:U}),B}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:o,labels:{padding:l},rtl:h}}=this,y=getRtlAdapter(h,this.left,this.width);if(this.isHorizontal()){let D=0,O=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[D]);for(const F of r)D!==F.row&&(D=F.row,O=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[D])),F.top+=this.top+t+l,F.left=y.leftForLtr(y.x(O),F.width),O+=F.width+l}else{let D=0,O=_alignStartEnd(o,this.top+t+l,this.bottom-this.columnSizes[D].height);for(const F of r)F.col!==D&&(D=F.col,O=_alignStartEnd(o,this.top+t+l,this.bottom-this.columnSizes[D].height)),F.top=O,F.left+=this.left+l,F.left=y.leftForLtr(y.x(F.left),F.width),O+=F.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;clipArea(t,this),this._draw(),unclipArea(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:o,ctx:l}=this,{align:h,labels:y}=t,D=defaults$1.color,O=getRtlAdapter(t.rtl,this.left,this.width),F=toFont(y.font),{color:R,padding:B}=y,j=F.size,U=j/2;let q;this.drawTitle(),l.textAlign=O.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=F.string;const{boxWidth:W,boxHeight:G,itemHeight:Y}=getBoxSize(y,j),K=function(nt,Z,it){if(isNaN(W)||W<=0||isNaN(G)||G<0)return;l.save();const rt=valueOrDefault(it.lineWidth,1);if(l.fillStyle=valueOrDefault(it.fillStyle,D),l.lineCap=valueOrDefault(it.lineCap,"butt"),l.lineDashOffset=valueOrDefault(it.lineDashOffset,0),l.lineJoin=valueOrDefault(it.lineJoin,"miter"),l.lineWidth=rt,l.strokeStyle=valueOrDefault(it.strokeStyle,D),l.setLineDash(valueOrDefault(it.lineDash,[])),y.usePointStyle){const tt={radius:W*Math.SQRT2/2,pointStyle:it.pointStyle,rotation:it.rotation,borderWidth:rt},ct=O.xPlus(nt,W/2),lt=Z+U;drawPoint(l,tt,ct,lt)}else{const tt=Z+Math.max((j-G)/2,0),ct=O.leftForLtr(nt,W),lt=toTRBLCorners(it.borderRadius);l.beginPath(),Object.values(lt).some(ot=>ot!==0)?addRoundedRectPath(l,{x:ct,y:tt,w:W,h:G,radius:lt}):l.rect(ct,tt,W,G),l.fill(),rt!==0&&l.stroke()}l.restore()},X=function(nt,Z,it){renderText(l,it.text,nt,Z+Y/2,F,{strikethrough:it.hidden,textAlign:O.textAlign(it.textAlign)})},J=this.isHorizontal(),Q=this._computeTitleHeight();J?q={x:_alignStartEnd(h,this.left+B,this.right-o[0]),y:this.top+B+Q,line:0}:q={x:this.left+B,y:_alignStartEnd(h,this.top+Q+B,this.bottom-r[0].height),line:0},overrideTextDirection(this.ctx,t.textDirection);const et=Y+B;this.legendItems.forEach((nt,Z)=>{l.strokeStyle=nt.fontColor||R,l.fillStyle=nt.fontColor||R;const it=l.measureText(nt.text).width,rt=O.textAlign(nt.textAlign||(nt.textAlign=y.textAlign)),tt=W+U+it;let ct=q.x,lt=q.y;O.setWidth(this.width),J?Z>0&&ct+tt+B>this.right&&(lt=q.y+=et,q.line++,ct=q.x=_alignStartEnd(h,this.left+B,this.right-o[q.line])):Z>0&&lt+et>this.bottom&&(ct=q.x=ct+r[q.line].width+B,q.line++,lt=q.y=_alignStartEnd(h,this.top+Q+B,this.bottom-r[q.line].height));const ot=O.x(ct);K(ot,lt,nt),ct=_textX(rt,ct+W+U,J?ct+tt:this.right,t.rtl),X(O.x(ct),lt,nt),J?q.x+=tt+B:q.y+=et}),restoreTextDirection(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,o=toFont(r.font),l=toPadding(r.padding);if(!r.display)return;const h=getRtlAdapter(t.rtl,this.left,this.width),y=this.ctx,D=r.position,O=o.size/2,F=l.top+O;let R,B=this.left,j=this.width;if(this.isHorizontal())j=Math.max(...this.lineWidths),R=this.top+F,B=_alignStartEnd(t.align,B,this.right-j);else{const q=this.columnSizes.reduce((W,G)=>Math.max(W,G.height),0);R=F+_alignStartEnd(t.align,this.top,this.bottom-q-t.labels.padding-this._computeTitleHeight())}const U=_alignStartEnd(D,B,B+j);y.textAlign=h.textAlign(_toLeftRightCenter(D)),y.textBaseline="middle",y.strokeStyle=r.color,y.fillStyle=r.color,y.font=o.string,renderText(y,r.text,U,R,o)}_computeTitleHeight(){const t=this.options.title,r=toFont(t.font),o=toPadding(t.padding);return t.display?r.lineHeight+o.height:0}_getLegendItemAt(t,r){let o,l,h;if(_isBetween(t,this.left,this.right)&&_isBetween(r,this.top,this.bottom)){for(h=this.legendHitBoxes,o=0;o<h.length;++o)if(l=h[o],_isBetween(t,l.left,l.left+l.width)&&_isBetween(r,l.top,l.top+l.height))return this.legendItems[o]}return null}handleEvent(t){const r=this.options;if(!isListened(t.type,r))return;const o=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,h=itemsEqual(l,o);l&&!h&&callback(r.onLeave,[t,l,this],this),this._hoveredItem=o,o&&!h&&callback(r.onHover,[t,o,this],this)}else o&&callback(r.onClick,[t,o,this],this)}}function isListened(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(e,t,r){const o=e.legend=new Legend({ctx:e.ctx,options:r,chart:e});layouts.configure(e,o,r),layouts.addBox(e,o)},stop(e){layouts.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const o=e.legend;layouts.configure(e,o,r),o.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const o=t.datasetIndex,l=r.chart;l.isDatasetVisible(o)?(l.hide(o),t.hidden=!0):(l.show(o),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:o,textAlign:l,color:h}}=e.legend.options;return e._getSortedDatasetMetas().map(y=>{const D=y.controller.getStyle(r?0:void 0),O=toPadding(D.borderWidth);return{text:t[y.index].label,fillStyle:D.backgroundColor,fontColor:h,hidden:!y.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(O.width+O.height)/4,strokeStyle:D.borderColor,pointStyle:o||D.pointStyle,rotation:D.rotation,textAlign:l||D.textAlign,borderRadius:0,datasetIndex:y.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Title extends Element{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const l=isArray(o.text)?o.text.length:1;this._padding=toPadding(o.padding);const h=l*toFont(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=h:this.width=h}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:o,bottom:l,right:h,options:y}=this,D=y.align;let O=0,F,R,B;return this.isHorizontal()?(R=_alignStartEnd(D,o,h),B=r+t,F=h-o):(y.position==="left"?(R=o+t,B=_alignStartEnd(D,l,r),O=PI*-.5):(R=h-t,B=_alignStartEnd(D,r,l),O=PI*.5),F=l-r),{titleX:R,titleY:B,maxWidth:F,rotation:O}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const o=toFont(r.font),h=o.lineHeight/2+this._padding.top,{titleX:y,titleY:D,maxWidth:O,rotation:F}=this._drawArgs(h);renderText(t,r.text,0,0,o,{color:r.color,maxWidth:O,rotation:F,textAlign:_toLeftRightCenter(r.align),textBaseline:"middle",translation:[y,D]})}}function createTitle(e,t){const r=new Title({ctx:e.ctx,options:t,chart:e});layouts.configure(e,r,t),layouts.addBox(e,r),e.titleBlock=r}var plugin_title={id:"title",_element:Title,start(e,t,r){createTitle(e,r)},stop(e){const t=e.titleBlock;layouts.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const o=e.titleBlock;layouts.configure(e,o,r),o.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(e,t,r){const o=new Title({ctx:e.ctx,options:r,chart:e});layouts.configure(e,o,r),layouts.addBox(e,o),map.set(e,o)},stop(e){layouts.removeBox(e,map.get(e)),map.delete(e)},beforeUpdate(e,t,r){const o=map.get(e);layouts.configure(e,o,r),o.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners$1={average(e){if(!e.length)return!1;let t,r,o=0,l=0,h=0;for(t=0,r=e.length;t<r;++t){const y=e[t].element;if(y&&y.hasValue()){const D=y.tooltipPosition();o+=D.x,l+=D.y,++h}}return{x:o/h,y:l/h}},nearest(e,t){if(!e.length)return!1;let r=t.x,o=t.y,l=Number.POSITIVE_INFINITY,h,y,D;for(h=0,y=e.length;h<y;++h){const O=e[h].element;if(O&&O.hasValue()){const F=O.getCenterPoint(),R=distanceBetweenPoints(t,F);R<l&&(l=R,D=O)}}if(D){const O=D.tooltipPosition();r=O.x,o=O.y}return{x:r,y:o}}};function pushOrConcat(e,t){return t&&(isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function splitNewlines(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function createTooltipItem(e,t){const{element:r,datasetIndex:o,index:l}=t,h=e.getDatasetMeta(o).controller,{label:y,value:D}=h.getLabelAndValue(l);return{chart:e,label:y,parsed:h.getParsed(l),raw:e.data.datasets[o].data[l],formattedValue:D,dataset:h.getDataset(),dataIndex:l,datasetIndex:o,element:r}}function getTooltipSize(e,t){const r=e.chart.ctx,{body:o,footer:l,title:h}=e,{boxWidth:y,boxHeight:D}=t,O=toFont(t.bodyFont),F=toFont(t.titleFont),R=toFont(t.footerFont),B=h.length,j=l.length,U=o.length,q=toPadding(t.padding);let W=q.height,G=0,Y=o.reduce((J,Q)=>J+Q.before.length+Q.lines.length+Q.after.length,0);if(Y+=e.beforeBody.length+e.afterBody.length,B&&(W+=B*F.lineHeight+(B-1)*t.titleSpacing+t.titleMarginBottom),Y){const J=t.displayColors?Math.max(D,O.lineHeight):O.lineHeight;W+=U*J+(Y-U)*O.lineHeight+(Y-1)*t.bodySpacing}j&&(W+=t.footerMarginTop+j*R.lineHeight+(j-1)*t.footerSpacing);let K=0;const X=function(J){G=Math.max(G,r.measureText(J).width+K)};return r.save(),r.font=F.string,each(e.title,X),r.font=O.string,each(e.beforeBody.concat(e.afterBody),X),K=t.displayColors?y+2+t.boxPadding:0,each(o,J=>{each(J.before,X),each(J.lines,X),each(J.after,X)}),K=0,r.font=R.string,each(e.footer,X),r.restore(),G+=q.width,{width:G,height:W}}function determineYAlign(e,t){const{y:r,height:o}=t;return r<o/2?"top":r>e.height-o/2?"bottom":"center"}function doesNotFitWithAlign(e,t,r,o){const{x:l,width:h}=o,y=r.caretSize+r.caretPadding;if(e==="left"&&l+h+y>t.width||e==="right"&&l-h-y<0)return!0}function determineXAlign(e,t,r,o){const{x:l,width:h}=r,{width:y,chartArea:{left:D,right:O}}=e;let F="center";return o==="center"?F=l<=(D+O)/2?"left":"right":l<=h/2?F="left":l>=y-h/2&&(F="right"),doesNotFitWithAlign(F,e,t,r)&&(F="center"),F}function determineAlignment(e,t,r){const o=r.yAlign||t.yAlign||determineYAlign(e,r);return{xAlign:r.xAlign||t.xAlign||determineXAlign(e,t,r,o),yAlign:o}}function alignX(e,t){let{x:r,width:o}=e;return t==="right"?r-=o:t==="center"&&(r-=o/2),r}function alignY(e,t,r){let{y:o,height:l}=e;return t==="top"?o+=r:t==="bottom"?o-=l+r:o-=l/2,o}function getBackgroundPoint(e,t,r,o){const{caretSize:l,caretPadding:h,cornerRadius:y}=e,{xAlign:D,yAlign:O}=r,F=l+h,{topLeft:R,topRight:B,bottomLeft:j,bottomRight:U}=toTRBLCorners(y);let q=alignX(t,D);const W=alignY(t,O,F);return O==="center"?D==="left"?q+=F:D==="right"&&(q-=F):D==="left"?q-=Math.max(R,j)+l:D==="right"&&(q+=Math.max(B,U)+l),{x:_limitValue(q,0,o.width-t.width),y:_limitValue(W,0,o.height-t.height)}}function getAlignedX(e,t,r){const o=toPadding(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-o.right:e.x+o.left}function getBeforeAfterBodyLines(e){return pushOrConcat([],splitNewlines(e))}function createTooltipContext(e,t,r){return createContext(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function overrideCallbacks(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}class Tooltip extends Element{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&r.options.animation&&o.animations,h=new Animations(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:o}=r,l=o.beforeTitle.apply(this,[t]),h=o.title.apply(this,[t]),y=o.afterTitle.apply(this,[t]);let D=[];return D=pushOrConcat(D,splitNewlines(l)),D=pushOrConcat(D,splitNewlines(h)),D=pushOrConcat(D,splitNewlines(y)),D}getBeforeBody(t,r){return getBeforeAfterBodyLines(r.callbacks.beforeBody.apply(this,[t]))}getBody(t,r){const{callbacks:o}=r,l=[];return each(t,h=>{const y={before:[],lines:[],after:[]},D=overrideCallbacks(o,h);pushOrConcat(y.before,splitNewlines(D.beforeLabel.call(this,h))),pushOrConcat(y.lines,D.label.call(this,h)),pushOrConcat(y.after,splitNewlines(D.afterLabel.call(this,h))),l.push(y)}),l}getAfterBody(t,r){return getBeforeAfterBodyLines(r.callbacks.afterBody.apply(this,[t]))}getFooter(t,r){const{callbacks:o}=r,l=o.beforeFooter.apply(this,[t]),h=o.footer.apply(this,[t]),y=o.afterFooter.apply(this,[t]);let D=[];return D=pushOrConcat(D,splitNewlines(l)),D=pushOrConcat(D,splitNewlines(h)),D=pushOrConcat(D,splitNewlines(y)),D}_createItems(t){const r=this._active,o=this.chart.data,l=[],h=[],y=[];let D=[],O,F;for(O=0,F=r.length;O<F;++O)D.push(createTooltipItem(this.chart,r[O]));return t.filter&&(D=D.filter((R,B,j)=>t.filter(R,B,j,o))),t.itemSort&&(D=D.sort((R,B)=>t.itemSort(R,B,o))),each(D,R=>{const B=overrideCallbacks(t.callbacks,R);l.push(B.labelColor.call(this,R)),h.push(B.labelPointStyle.call(this,R)),y.push(B.labelTextColor.call(this,R))}),this.labelColors=l,this.labelPointStyles=h,this.labelTextColors=y,this.dataPoints=D,D}update(t,r){const o=this.options.setContext(this.getContext()),l=this._active;let h,y=[];if(!l.length)this.opacity!==0&&(h={opacity:0});else{const D=positioners$1[o.position].call(this,l,this._eventPosition);y=this._createItems(o),this.title=this.getTitle(y,o),this.beforeBody=this.getBeforeBody(y,o),this.body=this.getBody(y,o),this.afterBody=this.getAfterBody(y,o),this.footer=this.getFooter(y,o);const O=this._size=getTooltipSize(this,o),F=Object.assign({},D,O),R=determineAlignment(this.chart,o,F),B=getBackgroundPoint(o,F,R,this.chart);this.xAlign=R.xAlign,this.yAlign=R.yAlign,h={opacity:1,x:B.x,y:B.y,width:O.width,height:O.height,caretX:D.x,caretY:D.y}}this._tooltipItems=y,this.$context=void 0,h&&this._resolveAnimations().update(this,h),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,o,l){const h=this.getCaretPosition(t,o,l);r.lineTo(h.x1,h.y1),r.lineTo(h.x2,h.y2),r.lineTo(h.x3,h.y3)}getCaretPosition(t,r,o){const{xAlign:l,yAlign:h}=this,{caretSize:y,cornerRadius:D}=o,{topLeft:O,topRight:F,bottomLeft:R,bottomRight:B}=toTRBLCorners(D),{x:j,y:U}=t,{width:q,height:W}=r;let G,Y,K,X,J,Q;return h==="center"?(J=U+W/2,l==="left"?(G=j,Y=G-y,X=J+y,Q=J-y):(G=j+q,Y=G+y,X=J-y,Q=J+y),K=G):(l==="left"?Y=j+Math.max(O,R)+y:l==="right"?Y=j+q-Math.max(F,B)-y:Y=this.caretX,h==="top"?(X=U,J=X-y,G=Y-y,K=Y+y):(X=U+W,J=X+y,G=Y+y,K=Y-y),Q=X),{x1:G,x2:Y,x3:K,y1:X,y2:J,y3:Q}}drawTitle(t,r,o){const l=this.title,h=l.length;let y,D,O;if(h){const F=getRtlAdapter(o.rtl,this.x,this.width);for(t.x=getAlignedX(this,o.titleAlign,o),r.textAlign=F.textAlign(o.titleAlign),r.textBaseline="middle",y=toFont(o.titleFont),D=o.titleSpacing,r.fillStyle=o.titleColor,r.font=y.string,O=0;O<h;++O)r.fillText(l[O],F.x(t.x),t.y+y.lineHeight/2),t.y+=y.lineHeight+D,O+1===h&&(t.y+=o.titleMarginBottom-D)}}_drawColorBox(t,r,o,l,h){const y=this.labelColors[o],D=this.labelPointStyles[o],{boxHeight:O,boxWidth:F,boxPadding:R}=h,B=toFont(h.bodyFont),j=getAlignedX(this,"left",h),U=l.x(j),q=O<B.lineHeight?(B.lineHeight-O)/2:0,W=r.y+q;if(h.usePointStyle){const G={radius:Math.min(F,O)/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:1},Y=l.leftForLtr(U,F)+F/2,K=W+O/2;t.strokeStyle=h.multiKeyBackground,t.fillStyle=h.multiKeyBackground,drawPoint(t,G,Y,K),t.strokeStyle=y.borderColor,t.fillStyle=y.backgroundColor,drawPoint(t,G,Y,K)}else{t.lineWidth=y.borderWidth||1,t.strokeStyle=y.borderColor,t.setLineDash(y.borderDash||[]),t.lineDashOffset=y.borderDashOffset||0;const G=l.leftForLtr(U,F-R),Y=l.leftForLtr(l.xPlus(U,1),F-R-2),K=toTRBLCorners(y.borderRadius);Object.values(K).some(X=>X!==0)?(t.beginPath(),t.fillStyle=h.multiKeyBackground,addRoundedRectPath(t,{x:G,y:W,w:F,h:O,radius:K}),t.fill(),t.stroke(),t.fillStyle=y.backgroundColor,t.beginPath(),addRoundedRectPath(t,{x:Y,y:W+1,w:F-2,h:O-2,radius:K}),t.fill()):(t.fillStyle=h.multiKeyBackground,t.fillRect(G,W,F,O),t.strokeRect(G,W,F,O),t.fillStyle=y.backgroundColor,t.fillRect(Y,W+1,F-2,O-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,r,o){const{body:l}=this,{bodySpacing:h,bodyAlign:y,displayColors:D,boxHeight:O,boxWidth:F,boxPadding:R}=o,B=toFont(o.bodyFont);let j=B.lineHeight,U=0;const q=getRtlAdapter(o.rtl,this.x,this.width),W=function(Z){r.fillText(Z,q.x(t.x+U),t.y+j/2),t.y+=j+h},G=q.textAlign(y);let Y,K,X,J,Q,et,nt;for(r.textAlign=y,r.textBaseline="middle",r.font=B.string,t.x=getAlignedX(this,G,o),r.fillStyle=o.bodyColor,each(this.beforeBody,W),U=D&&G!=="right"?y==="center"?F/2+R:F+2+R:0,J=0,et=l.length;J<et;++J){for(Y=l[J],K=this.labelTextColors[J],r.fillStyle=K,each(Y.before,W),X=Y.lines,D&&X.length&&(this._drawColorBox(r,t,J,q,o),j=Math.max(B.lineHeight,O)),Q=0,nt=X.length;Q<nt;++Q)W(X[Q]),j=B.lineHeight;each(Y.after,W)}U=0,j=B.lineHeight,each(this.afterBody,W),t.y-=h}drawFooter(t,r,o){const l=this.footer,h=l.length;let y,D;if(h){const O=getRtlAdapter(o.rtl,this.x,this.width);for(t.x=getAlignedX(this,o.footerAlign,o),t.y+=o.footerMarginTop,r.textAlign=O.textAlign(o.footerAlign),r.textBaseline="middle",y=toFont(o.footerFont),r.fillStyle=o.footerColor,r.font=y.string,D=0;D<h;++D)r.fillText(l[D],O.x(t.x),t.y+y.lineHeight/2),t.y+=y.lineHeight+o.footerSpacing}}drawBackground(t,r,o,l){const{xAlign:h,yAlign:y}=this,{x:D,y:O}=t,{width:F,height:R}=o,{topLeft:B,topRight:j,bottomLeft:U,bottomRight:q}=toTRBLCorners(l.cornerRadius);r.fillStyle=l.backgroundColor,r.strokeStyle=l.borderColor,r.lineWidth=l.borderWidth,r.beginPath(),r.moveTo(D+B,O),y==="top"&&this.drawCaret(t,r,o,l),r.lineTo(D+F-j,O),r.quadraticCurveTo(D+F,O,D+F,O+j),y==="center"&&h==="right"&&this.drawCaret(t,r,o,l),r.lineTo(D+F,O+R-q),r.quadraticCurveTo(D+F,O+R,D+F-q,O+R),y==="bottom"&&this.drawCaret(t,r,o,l),r.lineTo(D+U,O+R),r.quadraticCurveTo(D,O+R,D,O+R-U),y==="center"&&h==="left"&&this.drawCaret(t,r,o,l),r.lineTo(D,O+B),r.quadraticCurveTo(D,O,D+B,O),r.closePath(),r.fill(),l.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,o=this.$animations,l=o&&o.x,h=o&&o.y;if(l||h){const y=positioners$1[t.position].call(this,this._active,this._eventPosition);if(!y)return;const D=this._size=getTooltipSize(this,t),O=Object.assign({},y,this._size),F=determineAlignment(r,t,O),R=getBackgroundPoint(t,O,F,r);(l._to!==R.x||h._to!==R.y)&&(this.xAlign=F.xAlign,this.yAlign=F.yAlign,this.width=D.width,this.height=D.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,R))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(r);const l={width:this.width,height:this.height},h={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const y=toPadding(r.padding),D=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&D&&(t.save(),t.globalAlpha=o,this.drawBackground(h,t,l,r),overrideTextDirection(t,r.textDirection),h.y+=y.top,this.drawTitle(h,t,r),this.drawBody(h,t,r),this.drawFooter(h,t,r),restoreTextDirection(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const o=this._active,l=t.map(({datasetIndex:D,index:O})=>{const F=this.chart.getDatasetMeta(D);if(!F)throw new Error("Cannot find a dataset at index "+D);return{datasetIndex:D,element:F.data[O],index:O}}),h=!_elementsEqual(o,l),y=this._positionChanged(l,r);(h||y)&&(this._active=l,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,o=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,h=this._active||[],y=this._getActiveElements(t,h,r,o),D=this._positionChanged(y,t),O=r||!_elementsEqual(y,h)||D;return O&&(this._active=y,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),O}_getActiveElements(t,r,o,l){const h=this.options;if(t.type==="mouseout")return[];if(!l)return r;const y=this.chart.getElementsAtEventForMode(t,h.mode,h,o);return h.reverse&&y.reverse(),y}_positionChanged(t,r){const{caretX:o,caretY:l,options:h}=this,y=positioners$1[h.position].call(this,t,r);return y!==!1&&(o!==y.x||l!==y.y)}}Tooltip.positioners=positioners$1;var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners:positioners$1,afterInit(e,t,r){r&&(e.tooltip=new Tooltip({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",r)===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:noop$1,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,o=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(o>0&&t.dataIndex<o)return r[t.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return isNullOrUndef(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(e,t,r,o)=>(typeof t=="string"?(r=e.push(t)-1,o.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function findOrAddLabel(e,t,r,o){const l=e.indexOf(t);if(l===-1)return addIfString(e,t,r,o);const h=e.lastIndexOf(t);return l!==h?r:l}const validIndex=(e,t)=>e===null?null:_limitValue(Math.round(e),0,t);class CategoryScale extends Scale{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const o=this.getLabels();for(const{index:l,label:h}of r)o[l]===h&&o.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(isNullOrUndef(t))return null;const o=this.getLabels();return r=isFinite(r)&&o[r]===t?r:findOrAddLabel(o,t,valueOrDefault(r,t),this._addedLabels),validIndex(r,o.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(o=0),r||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const t=this.min,r=this.max,o=this.options.offset,l=[];let h=this.getLabels();h=t===0&&r===h.length-1?h:h.slice(t,r+1),this._valueRange=Math.max(h.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let y=t;y<=r;y++)l.push({value:y});return l}getLabelForValue(t){const r=this.getLabels();return t>=0&&t<r.length?r[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}CategoryScale.id="category";CategoryScale.defaults={ticks:{callback:CategoryScale.prototype.getLabelForValue}};function generateTicks$1(e,t){const r=[],{bounds:l,step:h,min:y,max:D,precision:O,count:F,maxTicks:R,maxDigits:B,includeBounds:j}=e,U=h||1,q=R-1,{min:W,max:G}=t,Y=!isNullOrUndef(y),K=!isNullOrUndef(D),X=!isNullOrUndef(F),J=(G-W)/(B+1);let Q=niceNum((G-W)/q/U)*U,et,nt,Z,it;if(Q<1e-14&&!Y&&!K)return[{value:W},{value:G}];it=Math.ceil(G/Q)-Math.floor(W/Q),it>q&&(Q=niceNum(it*Q/q/U)*U),isNullOrUndef(O)||(et=Math.pow(10,O),Q=Math.ceil(Q*et)/et),l==="ticks"?(nt=Math.floor(W/Q)*Q,Z=Math.ceil(G/Q)*Q):(nt=W,Z=G),Y&&K&&h&&almostWhole((D-y)/h,Q/1e3)?(it=Math.round(Math.min((D-y)/Q,R)),Q=(D-y)/it,nt=y,Z=D):X?(nt=Y?y:nt,Z=K?D:Z,it=F-1,Q=(Z-nt)/it):(it=(Z-nt)/Q,almostEquals(it,Math.round(it),Q/1e3)?it=Math.round(it):it=Math.ceil(it));const rt=Math.max(_decimalPlaces(Q),_decimalPlaces(nt));et=Math.pow(10,isNullOrUndef(O)?rt:O),nt=Math.round(nt*et)/et,Z=Math.round(Z*et)/et;let tt=0;for(Y&&(j&&nt!==y?(r.push({value:y}),nt<y&&tt++,almostEquals(Math.round((nt+tt*Q)*et)/et,y,relativeLabelSize(y,J,e))&&tt++):nt<y&&tt++);tt<it;++tt)r.push({value:Math.round((nt+tt*Q)*et)/et});return K&&j&&Z!==D?r.length&&almostEquals(r[r.length-1].value,D,relativeLabelSize(D,J,e))?r[r.length-1].value=D:r.push({value:D}):(!K||Z===D)&&r.push({value:Z}),r}function relativeLabelSize(e,t,{horizontal:r,minRotation:o}){const l=toRadians(o),h=(r?Math.sin(l):Math.cos(l))||.001,y=.75*t*(""+e).length;return Math.min(t/h,y)}class LinearScaleBase extends Scale{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return isNullOrUndef(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:o}=this.getUserBounds();let{min:l,max:h}=this;const y=O=>l=r?l:O,D=O=>h=o?h:O;if(t){const O=sign(l),F=sign(h);O<0&&F<0?D(0):O>0&&F>0&&y(0)}if(l===h){let O=1;(h>=Number.MAX_SAFE_INTEGER||l<=Number.MIN_SAFE_INTEGER)&&(O=Math.abs(h*.05)),D(h+O),t||y(l-O)}this.min=l,this.max=h}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:o}=t,l;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),r=r||11),r&&(l=Math.min(r,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let o=this.getTickLimit();o=Math.max(2,o);const l={maxTicks:o,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},h=this._range||this,y=generateTicks$1(l,h);return t.bounds==="ticks"&&_setMinAndMaxByKey(y,this,"value"),t.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const t=this.ticks;let r=this.min,o=this.max;if(super.configure(),this.options.offset&&t.length){const l=(o-r)/Math.max(t.length-1,1)/2;r-=l,o+=l}this._startValue=r,this._endValue=o,this._valueRange=o-r}getLabelForValue(t){return formatNumber(t,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=isNumberFinite(t)?t:0,this.max=isNumberFinite(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,o=toRadians(this.options.ticks.minRotation),l=(t?Math.sin(o):Math.cos(o))||.001,h=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,h.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}LinearScale.id="linear";LinearScale.defaults={ticks:{callback:Ticks.formatters.numeric}};function isMajor(e){return e/Math.pow(10,Math.floor(log10(e)))===1}function generateTicks(e,t){const r=Math.floor(log10(t.max)),o=Math.ceil(t.max/Math.pow(10,r)),l=[];let h=finiteOrDefault(e.min,Math.pow(10,Math.floor(log10(t.min)))),y=Math.floor(log10(h)),D=Math.floor(h/Math.pow(10,y)),O=y<0?Math.pow(10,Math.abs(y)):1;do l.push({value:h,major:isMajor(h)}),++D,D===10&&(D=1,++y,O=y>=0?1:O),h=Math.round(D*Math.pow(10,y)*O)/O;while(y<r||y===r&&D<o);const F=finiteOrDefault(e.max,h);return l.push({value:F,major:isMajor(h)}),l}class LogarithmicScale extends Scale{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,r){const o=LinearScaleBase.prototype.parse.apply(this,[t,r]);if(o===0){this._zero=!0;return}return isNumberFinite(o)&&o>0?o:null}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=isNumberFinite(t)?Math.max(0,t):null,this.max=isNumberFinite(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let o=this.min,l=this.max;const h=O=>o=t?o:O,y=O=>l=r?l:O,D=(O,F)=>Math.pow(10,Math.floor(log10(O))+F);o===l&&(o<=0?(h(1),y(10)):(h(D(o,-1)),y(D(l,1)))),o<=0&&h(D(l,-1)),l<=0&&y(D(o,1)),this._zero&&this.min!==this._suggestedMin&&o===D(this.min,0)&&h(D(o,-1)),this.min=o,this.max=l}buildTicks(){const t=this.options,r={min:this._userMin,max:this._userMax},o=generateTicks(r,this);return t.bounds==="ticks"&&_setMinAndMaxByKey(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(t){return t===void 0?"0":formatNumber(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=log10(t),this._valueRange=log10(this.max)-log10(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(log10(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const r=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+r*this._valueRange)}}LogarithmicScale.id="logarithmic";LogarithmicScale.defaults={ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}};function getTickBackdropHeight(e){const t=e.ticks;if(t.display&&e.display){const r=toPadding(t.backdropPadding);return valueOrDefault(t.font&&t.font.size,defaults$1.font.size)+r.height}return 0}function measureLabelSize(e,t,r){return r=isArray(r)?r:[r],{w:_longestText(e,t.string,r),h:r.length*t.lineHeight}}function determineLimits(e,t,r,o,l){return e===o||e===l?{start:t-r/2,end:t+r/2}:e<o||e>l?{start:t-r,end:t}:{start:t,end:t+r}}function fitWithPointLabels(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),o=[],l=[],h=e._pointLabels.length,y=e.options.pointLabels,D=y.centerPointLabels?PI/h:0;for(let O=0;O<h;O++){const F=y.setContext(e.getPointLabelContext(O));l[O]=F.padding;const R=e.getPointPosition(O,e.drawingArea+l[O],D),B=toFont(F.font),j=measureLabelSize(e.ctx,B,e._pointLabels[O]);o[O]=j;const U=_normalizeAngle(e.getIndexAngle(O)+D),q=Math.round(toDegrees(U)),W=determineLimits(q,R.x,j.w,0,180),G=determineLimits(q,R.y,j.h,90,270);updateLimits(r,t,U,W,G)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=buildPointLabelItems(e,o,l)}function updateLimits(e,t,r,o,l){const h=Math.abs(Math.sin(r)),y=Math.abs(Math.cos(r));let D=0,O=0;o.start<t.l?(D=(t.l-o.start)/h,e.l=Math.min(e.l,t.l-D)):o.end>t.r&&(D=(o.end-t.r)/h,e.r=Math.max(e.r,t.r+D)),l.start<t.t?(O=(t.t-l.start)/y,e.t=Math.min(e.t,t.t-O)):l.end>t.b&&(O=(l.end-t.b)/y,e.b=Math.max(e.b,t.b+O))}function buildPointLabelItems(e,t,r){const o=[],l=e._pointLabels.length,h=e.options,y=getTickBackdropHeight(h)/2,D=e.drawingArea,O=h.pointLabels.centerPointLabels?PI/l:0;for(let F=0;F<l;F++){const R=e.getPointPosition(F,D+y+r[F],O),B=Math.round(toDegrees(_normalizeAngle(R.angle+HALF_PI))),j=t[F],U=yForAngle(R.y,j.h,B),q=getTextAlignForAngle(B),W=leftForTextAlign(R.x,j.w,q);o.push({x:R.x,y:U,textAlign:q,left:W,top:U,right:W+j.w,bottom:U+j.h})}return o}function getTextAlignForAngle(e){return e===0||e===180?"center":e<180?"left":"right"}function leftForTextAlign(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function yForAngle(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function drawPointLabels(e,t){const{ctx:r,options:{pointLabels:o}}=e;for(let l=t-1;l>=0;l--){const h=o.setContext(e.getPointLabelContext(l)),y=toFont(h.font),{x:D,y:O,textAlign:F,left:R,top:B,right:j,bottom:U}=e._pointLabelItems[l],{backdropColor:q}=h;if(!isNullOrUndef(q)){const W=toTRBLCorners(h.borderRadius),G=toPadding(h.backdropPadding);r.fillStyle=q;const Y=R-G.left,K=B-G.top,X=j-R+G.width,J=U-B+G.height;Object.values(W).some(Q=>Q!==0)?(r.beginPath(),addRoundedRectPath(r,{x:Y,y:K,w:X,h:J,radius:W}),r.fill()):r.fillRect(Y,K,X,J)}renderText(r,e._pointLabels[l],D,O+y.lineHeight/2,y,{color:h.color,textAlign:F,textBaseline:"middle"})}}function pathRadiusLine(e,t,r,o){const{ctx:l}=e;if(r)l.arc(e.xCenter,e.yCenter,t,0,TAU);else{let h=e.getPointPosition(0,t);l.moveTo(h.x,h.y);for(let y=1;y<o;y++)h=e.getPointPosition(y,t),l.lineTo(h.x,h.y)}}function drawRadiusLine(e,t,r,o){const l=e.ctx,h=t.circular,{color:y,lineWidth:D}=t;!h&&!o||!y||!D||r<0||(l.save(),l.strokeStyle=y,l.lineWidth=D,l.setLineDash(t.borderDash),l.lineDashOffset=t.borderDashOffset,l.beginPath(),pathRadiusLine(e,r,h,o),l.closePath(),l.stroke(),l.restore())}function createPointLabelContext(e,t,r){return createContext(e,{label:r,index:t,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=toPadding(getTickBackdropHeight(this.options)/2),r=this.width=this.maxWidth-t.width,o=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+o/2+t.top),this.drawingArea=Math.floor(Math.min(r,o)/2)}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!1);this.min=isNumberFinite(t)&&!isNaN(t)?t:0,this.max=isNumberFinite(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(t){LinearScaleBase.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,o)=>{const l=callback(this.options.pointLabels.callback,[r,o],this);return l||l===0?l:""}).filter((r,o)=>this.chart.getDataVisibility(o))}fit(){const t=this.options;t.display&&t.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,o,l){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((o-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,o,l))}getIndexAngle(t){const r=TAU/(this._pointLabels.length||1),o=this.options.startAngle||0;return _normalizeAngle(t*r+toRadians(o))}getDistanceFromCenterForValue(t){if(isNullOrUndef(t))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(isNullOrUndef(t))return NaN;const r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){const r=this._pointLabels||[];if(t>=0&&t<r.length){const o=r[t];return createPointLabelContext(this.getContext(),t,o)}}getPointPosition(t,r,o=0){const l=this.getIndexAngle(t)-HALF_PI+o;return{x:Math.cos(l)*r+this.xCenter,y:Math.sin(l)*r+this.yCenter,angle:l}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:r,top:o,right:l,bottom:h}=this._pointLabelItems[t];return{left:r,top:o,right:l,bottom:h}}drawBackground(){const{backgroundColor:t,grid:{circular:r}}=this.options;if(t){const o=this.ctx;o.save(),o.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),o.closePath(),o.fillStyle=t,o.fill(),o.restore()}}drawGrid(){const t=this.ctx,r=this.options,{angleLines:o,grid:l}=r,h=this._pointLabels.length;let y,D,O;if(r.pointLabels.display&&drawPointLabels(this,h),l.display&&this.ticks.forEach((F,R)=>{if(R!==0){D=this.getDistanceFromCenterForValue(F.value);const B=l.setContext(this.getContext(R-1));drawRadiusLine(this,B,D,h)}}),o.display){for(t.save(),y=h-1;y>=0;y--){const F=o.setContext(this.getPointLabelContext(y)),{color:R,lineWidth:B}=F;!B||!R||(t.lineWidth=B,t.strokeStyle=R,t.setLineDash(F.borderDash),t.lineDashOffset=F.borderDashOffset,D=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),O=this.getPointPosition(y,D),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(O.x,O.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,r=this.options,o=r.ticks;if(!o.display)return;const l=this.getIndexAngle(0);let h,y;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(l),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((D,O)=>{if(O===0&&!r.reverse)return;const F=o.setContext(this.getContext(O)),R=toFont(F.font);if(h=this.getDistanceFromCenterForValue(this.ticks[O].value),F.showLabelBackdrop){t.font=R.string,y=t.measureText(D.label).width,t.fillStyle=F.backdropColor;const B=toPadding(F.backdropPadding);t.fillRect(-y/2-B.left,-h-R.size/2-B.top,y+B.width,R.size+B.height)}renderText(t,D.label,0,-h,R,{color:F.color})}),t.restore()}drawTitle(){}}RadialLinearScale.id="radialLinear";RadialLinearScale.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};RadialLinearScale.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};RadialLinearScale.descriptors={angleLines:{_fallback:"grid"}};const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(e,t){return e-t}function parse$1(e,t){if(isNullOrUndef(t))return null;const r=e._adapter,{parser:o,round:l,isoWeekday:h}=e._parseOpts;let y=t;return typeof o=="function"&&(y=o(y)),isNumberFinite(y)||(y=typeof o=="string"?r.parse(y,o):r.parse(y)),y===null?null:(l&&(y=l==="week"&&(isNumber(h)||h===!0)?r.startOf(y,"isoWeek",h):r.startOf(y,l)),+y)}function determineUnitForAutoTicks(e,t,r,o){const l=UNITS.length;for(let h=UNITS.indexOf(e);h<l-1;++h){const y=INTERVALS[UNITS[h]],D=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((r-t)/(D*y.size))<=o)return UNITS[h]}return UNITS[l-1]}function determineUnitForFormatting(e,t,r,o,l){for(let h=UNITS.length-1;h>=UNITS.indexOf(r);h--){const y=UNITS[h];if(INTERVALS[y].common&&e._adapter.diff(l,o,y)>=t-1)return y}return UNITS[r?UNITS.indexOf(r):0]}function determineMajorUnit(e){for(let t=UNITS.indexOf(e)+1,r=UNITS.length;t<r;++t)if(INTERVALS[UNITS[t]].common)return UNITS[t]}function addTick(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:o,hi:l}=_lookup(r,t),h=r[o]>=t?r[o]:r[l];e[h]=!0}}function setMajorTicks(e,t,r,o){const l=e._adapter,h=+l.startOf(t[0].value,o),y=t[t.length-1].value;let D,O;for(D=h;D<=y;D=+l.add(D,1,o))O=r[D],O>=0&&(t[O].major=!0);return t}function ticksFromTimestamps(e,t,r){const o=[],l={},h=t.length;let y,D;for(y=0;y<h;++y)D=t[y],l[D]=y,o.push({value:D,major:!1});return h===0||!r?o:setMajorTicks(e,o,l,r)}class TimeScale extends Scale{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r){const o=t.time||(t.time={}),l=this._adapter=new adapters._date(t.adapters.date);mergeIf(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:parse$1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,o=t.time.unit||"day";let{min:l,max:h,minDefined:y,maxDefined:D}=this.getUserBounds();function O(F){!y&&!isNaN(F.min)&&(l=Math.min(l,F.min)),!D&&!isNaN(F.max)&&(h=Math.max(h,F.max))}(!y||!D)&&(O(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&O(this.getMinMax(!1))),l=isNumberFinite(l)&&!isNaN(l)?l:+r.startOf(Date.now(),o),h=isNumberFinite(h)&&!isNaN(h)?h:+r.endOf(Date.now(),o)+1,this.min=Math.min(l,h-1),this.max=Math.max(l+1,h)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],o=t[t.length-1]),{min:r,max:o}}buildTicks(){const t=this.options,r=t.time,o=t.ticks,l=o.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const h=this.min,y=this.max,D=_filterBetween(l,h,y);return this._unit=r.unit||(o.autoSkip?determineUnitForAutoTicks(r.minUnit,this.min,this.max,this._getLabelCapacity(h)):determineUnitForFormatting(this,D.length,r.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(l),t.reverse&&D.reverse(),ticksFromTimestamps(this,D,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let r=0,o=0,l,h;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?r=1-l:r=(this.getDecimalForValue(t[1])-l)/2,h=this.getDecimalForValue(t[t.length-1]),t.length===1?o=h:o=(h-this.getDecimalForValue(t[t.length-2]))/2);const y=t.length<3?.5:.25;r=_limitValue(r,0,y),o=_limitValue(o,0,y),this._offsets={start:r,end:o,factor:1/(r+1+o)}}_generate(){const t=this._adapter,r=this.min,o=this.max,l=this.options,h=l.time,y=h.unit||determineUnitForAutoTicks(h.minUnit,r,o,this._getLabelCapacity(r)),D=valueOrDefault(h.stepSize,1),O=y==="week"?h.isoWeekday:!1,F=isNumber(O)||O===!0,R={};let B=r,j,U;if(F&&(B=+t.startOf(B,"isoWeek",O)),B=+t.startOf(B,F?"day":y),t.diff(o,r,y)>1e5*D)throw new Error(r+" and "+o+" are too far apart with stepSize of "+D+" "+y);const q=l.ticks.source==="data"&&this.getDataTimestamps();for(j=B,U=0;j<o;j=+t.add(j,D,y),U++)addTick(R,j,q);return(j===o||l.bounds==="ticks"||U===1)&&addTick(R,j,q),Object.keys(R).sort((W,G)=>W-G).map(W=>+W)}getLabelForValue(t){const r=this._adapter,o=this.options.time;return o.tooltipFormat?r.format(t,o.tooltipFormat):r.format(t,o.displayFormats.datetime)}_tickFormatFunction(t,r,o,l){const h=this.options,y=h.time.displayFormats,D=this._unit,O=this._majorUnit,F=D&&y[D],R=O&&y[O],B=o[r],j=O&&R&&B&&B.major,U=this._adapter.format(t,l||(j?R:F)),q=h.ticks.callback;return q?callback(q,[U,r,o],this):U}generateTickLabels(t){let r,o,l;for(r=0,o=t.length;r<o;++r)l=t[r],l.label=this._tickFormatFunction(l.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+o)*r.factor)}getValueForPixel(t){const r=this._offsets,o=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,o=this.ctx.measureText(t).width,l=toRadians(this.isHorizontal()?r.maxRotation:r.minRotation),h=Math.cos(l),y=Math.sin(l),D=this._resolveTickFontOptions(0).size;return{w:o*h+D*y,h:o*y+D*h}}_getLabelCapacity(t){const r=this.options.time,o=r.displayFormats,l=o[r.unit]||o.millisecond,h=this._tickFormatFunction(t,0,ticksFromTimestamps(this,[t],this._majorUnit),l),y=this._getLabelSize(h),D=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return D>0?D:1}getDataTimestamps(){let t=this._cache.data||[],r,o;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(r=0,o=l.length;r<o;++r)t=t.concat(l[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,o;if(t.length)return t;const l=this.getLabels();for(r=0,o=l.length;r<o;++r)t.push(parse$1(this,l[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return _arrayUnique(t.sort(sorter))}}TimeScale.id="time";TimeScale.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function interpolate(e,t,r){let o=0,l=e.length-1,h,y,D,O;r?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=_lookupByKey(e,"pos",t)),{pos:h,time:D}=e[o],{pos:y,time:O}=e[l]):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=_lookupByKey(e,"time",t)),{time:h,pos:D}=e[o],{time:y,pos:O}=e[l]);const F=y-h;return F?D+(O-D)*(t-h)/F:D}class TimeSeriesScale extends TimeScale{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=interpolate(r,this.min),this._tableRange=interpolate(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:o}=this,l=[],h=[];let y,D,O,F,R;for(y=0,D=t.length;y<D;++y)F=t[y],F>=r&&F<=o&&l.push(F);if(l.length<2)return[{time:r,pos:0},{time:o,pos:1}];for(y=0,D=l.length;y<D;++y)R=l[y+1],O=l[y-1],F=l[y],Math.round((R+O)/2)!==F&&h.push({time:F,pos:y/(D-1)});return h}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),o=this.getLabelTimestamps();return r.length&&o.length?t=this.normalize(r.concat(o)):t=r.length?r:o,t=this._cache.all=t,t}getDecimalForValue(t){return(interpolate(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,o=this.getDecimalForPixel(t)/r.factor-r.end;return interpolate(this._table,o*this._tableRange+this._minPos,!0)}}TimeSeriesScale.id="timeseries";TimeSeriesScale.defaults=TimeScale.defaults;var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];Chart.register(...registerables);/*!
 * chartjs-plugin-datalabels v2.0.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2021 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var devicePixelRatio=function(){if(typeof window!="undefined"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),utils={toTextLines:function(e){var t=[],r;for(e=[].concat(e);e.length;)r=e.pop(),typeof r=="string"?t.unshift.apply(t,r.split(`
`)):Array.isArray(r)?e.push.apply(e,r):isNullOrUndef(e)||t.unshift(""+r);return t},textSize:function(e,t,r){var o=[].concat(t),l=o.length,h=e.font,y=0,D;for(e.font=r.string,D=0;D<l;++D)y=Math.max(e.measureText(o[D]).width,y);return e.font=h,{height:l*r.lineHeight,width:y}},bound:function(e,t,r){return Math.max(e,Math.min(t,r))},arrayDiff:function(e,t){var r=e.slice(),o=[],l,h,y,D;for(l=0,y=t.length;l<y;++l)D=t[l],h=r.indexOf(D),h===-1?o.push([D,1]):r.splice(h,1);for(l=0,y=r.length;l<y;++l)o.push([r[l],-1]);return o},rasterize:function(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}};function orient(e,t){var r=t.x,o=t.y;if(r===null)return{x:0,y:-1};if(o===null)return{x:1,y:0};var l=e.x-r,h=e.y-o,y=Math.sqrt(l*l+h*h);return{x:y?l/y:0,y:y?h/y:-1}}function aligned(e,t,r,o,l){switch(l){case"center":r=o=0;break;case"bottom":r=0,o=1;break;case"right":r=1,o=0;break;case"left":r=-1,o=0;break;case"top":r=0,o=-1;break;case"start":r=-r,o=-o;break;case"end":break;default:l*=Math.PI/180,r=Math.cos(l),o=Math.sin(l);break}return{x:e,y:t,vx:r,vy:o}}var R_INSIDE=0,R_LEFT=1,R_RIGHT=2,R_BOTTOM=4,R_TOP=8;function region(e,t,r){var o=R_INSIDE;return e<r.left?o|=R_LEFT:e>r.right&&(o|=R_RIGHT),t<r.top?o|=R_TOP:t>r.bottom&&(o|=R_BOTTOM),o}function clipped(e,t){for(var r=e.x0,o=e.y0,l=e.x1,h=e.y1,y=region(r,o,t),D=region(l,h,t),O,F,R;!(!(y|D)||y&D);)O=y||D,O&R_TOP?(F=r+(l-r)*(t.top-o)/(h-o),R=t.top):O&R_BOTTOM?(F=r+(l-r)*(t.bottom-o)/(h-o),R=t.bottom):O&R_RIGHT?(R=o+(h-o)*(t.right-r)/(l-r),F=t.right):O&R_LEFT&&(R=o+(h-o)*(t.left-r)/(l-r),F=t.left),O===y?(r=F,o=R,y=region(r,o,t)):(l=F,h=R,D=region(l,h,t));return{x0:r,x1:l,y0:o,y1:h}}function compute$1(e,t){var r=t.anchor,o=e,l,h;return t.clamp&&(o=clipped(o,t.area)),r==="start"?(l=o.x0,h=o.y0):r==="end"?(l=o.x1,h=o.y1):(l=(o.x0+o.x1)/2,h=(o.y0+o.y1)/2),aligned(l,h,e.vx,e.vy,t.align)}var positioners={arc:function(e,t){var r=(e.startAngle+e.endAngle)/2,o=Math.cos(r),l=Math.sin(r),h=e.innerRadius,y=e.outerRadius;return compute$1({x0:e.x+o*h,y0:e.y+l*h,x1:e.x+o*y,y1:e.y+l*y,vx:o,vy:l},t)},point:function(e,t){var r=orient(e,t.origin),o=r.x*e.options.radius,l=r.y*e.options.radius;return compute$1({x0:e.x-o,y0:e.y-l,x1:e.x+o,y1:e.y+l,vx:r.x,vy:r.y},t)},bar:function(e,t){var r=orient(e,t.origin),o=e.x,l=e.y,h=0,y=0;return e.horizontal?(o=Math.min(e.x,e.base),h=Math.abs(e.base-e.x)):(l=Math.min(e.y,e.base),y=Math.abs(e.base-e.y)),compute$1({x0:o,y0:l+y,x1:o+h,y1:l,vx:r.x,vy:r.y},t)},fallback:function(e,t){var r=orient(e,t.origin);return compute$1({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:r.x,vy:r.y},t)}},rasterize=utils.rasterize;function boundingRects(e){var t=e.borderWidth||0,r=e.padding,o=e.size.height,l=e.size.width,h=-l/2,y=-o/2;return{frame:{x:h-r.left-t,y:y-r.top-t,w:l+r.width+t*2,h:o+r.height+t*2},text:{x:h,y,w:l,h:o}}}function getScaleOrigin(e,t){var r=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!r)return null;if(r.xCenter!==void 0&&r.yCenter!==void 0)return{x:r.xCenter,y:r.yCenter};var o=r.getBasePixel();return e.horizontal?{x:o,y:null}:{x:null,y:o}}function getPositioner(e){return e instanceof ArcElement?positioners.arc:e instanceof PointElement?positioners.point:e instanceof BarElement?positioners.bar:positioners.fallback}function drawRoundedRect(e,t,r,o,l,h){var y=Math.PI/2;if(h){var D=Math.min(h,l/2,o/2),O=t+D,F=r+D,R=t+o-D,B=r+l-D;e.moveTo(t,F),O<R&&F<B?(e.arc(O,F,D,-Math.PI,-y),e.arc(R,F,D,-y,0),e.arc(R,B,D,0,y),e.arc(O,B,D,y,Math.PI)):O<R?(e.moveTo(O,r),e.arc(R,F,D,-y,y),e.arc(O,F,D,y,Math.PI+y)):F<B?(e.arc(O,F,D,-Math.PI,0),e.arc(O,B,D,0,Math.PI)):e.arc(O,F,D,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,r)}else e.rect(t,r,o,l)}function drawFrame(e,t,r){var o=r.backgroundColor,l=r.borderColor,h=r.borderWidth;!o&&(!l||!h)||(e.beginPath(),drawRoundedRect(e,rasterize(t.x)+h/2,rasterize(t.y)+h/2,rasterize(t.w)-h,rasterize(t.h)-h,r.borderRadius),e.closePath(),o&&(e.fillStyle=o,e.fill()),l&&h&&(e.strokeStyle=l,e.lineWidth=h,e.lineJoin="miter",e.stroke()))}function textGeometry(e,t,r){var o=r.lineHeight,l=e.w,h=e.x,y=e.y+o/2;return t==="center"?h+=l/2:(t==="end"||t==="right")&&(h+=l),{h:o,w:l,x:h,y}}function drawTextLine(e,t,r){var o=e.shadowBlur,l=r.stroked,h=rasterize(r.x),y=rasterize(r.y),D=rasterize(r.w);l&&e.strokeText(t,h,y,D),r.filled&&(o&&l&&(e.shadowBlur=0),e.fillText(t,h,y,D),o&&l&&(e.shadowBlur=o))}function drawText(e,t,r,o){var l=o.textAlign,h=o.color,y=!!h,D=o.font,O=t.length,F=o.textStrokeColor,R=o.textStrokeWidth,B=F&&R,j;if(!(!O||!y&&!B))for(r=textGeometry(r,l,D),e.font=D.string,e.textAlign=l,e.textBaseline="middle",e.shadowBlur=o.textShadowBlur,e.shadowColor=o.textShadowColor,y&&(e.fillStyle=h),B&&(e.lineJoin="round",e.lineWidth=R,e.strokeStyle=F),j=0,O=t.length;j<O;++j)drawTextLine(e,t[j],{stroked:B,filled:y,w:r.w,x:r.x,y:r.y+r.h*j})}var Label=function(e,t,r,o){var l=this;l._config=e,l._index=o,l._model=null,l._rects=null,l._ctx=t,l._el=r};merge(Label.prototype,{_modelize:function(e,t,r,o){var l=this,h=l._index,y=toFont(resolve([r.font,{}],o,h)),D=resolve([r.color,defaults$1.color],o,h);return{align:resolve([r.align,"center"],o,h),anchor:resolve([r.anchor,"center"],o,h),area:o.chart.chartArea,backgroundColor:resolve([r.backgroundColor,null],o,h),borderColor:resolve([r.borderColor,null],o,h),borderRadius:resolve([r.borderRadius,0],o,h),borderWidth:resolve([r.borderWidth,0],o,h),clamp:resolve([r.clamp,!1],o,h),clip:resolve([r.clip,!1],o,h),color:D,display:e,font:y,lines:t,offset:resolve([r.offset,0],o,h),opacity:resolve([r.opacity,1],o,h),origin:getScaleOrigin(l._el,o),padding:toPadding(resolve([r.padding,0],o,h)),positioner:getPositioner(l._el),rotation:resolve([r.rotation,0],o,h)*(Math.PI/180),size:utils.textSize(l._ctx,t,y),textAlign:resolve([r.textAlign,"start"],o,h),textShadowBlur:resolve([r.textShadowBlur,0],o,h),textShadowColor:resolve([r.textShadowColor,D],o,h),textStrokeColor:resolve([r.textStrokeColor,D],o,h),textStrokeWidth:resolve([r.textStrokeWidth,0],o,h)}},update:function(e){var t=this,r=null,o=null,l=t._index,h=t._config,y,D,O,F=resolve([h.display,!0],e,l);F&&(y=e.dataset.data[l],D=valueOrDefault(callback(h.formatter,[y,e]),y),O=isNullOrUndef(D)?[]:utils.toTextLines(D),O.length&&(r=t._modelize(F,O,h,e),o=boundingRects(r))),t._model=r,t._rects=o},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var r=this,o=e.ctx,l=r._model,h=r._rects,y;!this.visible()||(o.save(),l.clip&&(y=l.area,o.beginPath(),o.rect(y.left,y.top,y.right-y.left,y.bottom-y.top),o.clip()),o.globalAlpha=utils.bound(0,l.opacity,1),o.translate(rasterize(t.x),rasterize(t.y)),o.rotate(l.rotation),drawFrame(o,h.frame,l),drawText(o,l.lines,h.text,l),o.restore())}});var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated(e,t,r){var o=Math.cos(r),l=Math.sin(r),h=t.x,y=t.y;return{x:h+o*(e.x-h)-l*(e.y-y),y:y+l*(e.x-h)+o*(e.y-y)}}function projected(e,t){var r=MAX_INTEGER,o=MIN_INTEGER,l=t.origin,h,y,D,O,F;for(h=0;h<e.length;++h)y=e[h],D=y.x-l.x,O=y.y-l.y,F=t.vx*D+t.vy*O,r=Math.min(r,F),o=Math.max(o,F);return{min:r,max:o}}function toAxis(e,t){var r=t.x-e.x,o=t.y-e.y,l=Math.sqrt(r*r+o*o);return{vx:(t.x-e.x)/l,vy:(t.y-e.y)/l,origin:e,ln:l}}var HitBox=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};merge(HitBox.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,r){this._rotation=r,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,r=1,o=t._rect;return e=rotated(e,t.center(),-t._rotation),!(e.x<o.x-r||e.y<o.y-r||e.x>o.x+o.w+r*2||e.y>o.y+o.h+r*2)},intersects:function(e){var t=this._points(),r=e._points(),o=[toAxis(t[0],t[1]),toAxis(t[0],t[3])],l,h,y;for(this._rotation!==e._rotation&&o.push(toAxis(r[0],r[1]),toAxis(r[0],r[3])),l=0;l<o.length;++l)if(h=projected(t,o[l]),y=projected(r,o[l]),h.max<y.min||y.max<h.min)return!1;return!0},_points:function(){var e=this,t=e._rect,r=e._rotation,o=e.center();return[rotated({x:t.x,y:t.y},o,r),rotated({x:t.x+t.w,y:t.y},o,r),rotated({x:t.x+t.w,y:t.y+t.h},o,r),rotated({x:t.x,y:t.y+t.h},o,r)]}});function coordinates(e,t,r){var o=t.positioner(e,t),l=o.vx,h=o.vy;if(!l&&!h)return{x:o.x,y:o.y};var y=r.w,D=r.h,O=t.rotation,F=Math.abs(y/2*Math.cos(O))+Math.abs(D/2*Math.sin(O)),R=Math.abs(y/2*Math.sin(O))+Math.abs(D/2*Math.cos(O)),B=1/Math.max(Math.abs(l),Math.abs(h));return F*=l*B,R*=h*B,F+=t.offset*l,R+=t.offset*h,{x:o.x+F,y:o.y+R}}function collide(e,t){var r,o,l,h;for(r=e.length-1;r>=0;--r)for(l=e[r].$layout,o=r-1;o>=0&&l._visible;--o)h=e[o].$layout,h._visible&&l._box.intersects(h._box)&&t(l,h);return e}function compute(e){var t,r,o,l,h,y,D;for(t=0,r=e.length;t<r;++t)o=e[t],l=o.$layout,l._visible&&(D=new Proxy(o._el,{get:(O,F)=>O.getProps([F],!0)[F]}),h=o.geometry(),y=coordinates(D,o.model(),h),l._box.update(y,h,o.rotation()));return collide(e,function(O,F){var R=O._hidable,B=F._hidable;R&&B||B?F._visible=!1:R&&(O._visible=!1)})}var layout={prepare:function(e){var t=[],r,o,l,h,y;for(r=0,l=e.length;r<l;++r)for(o=0,h=e[r].length;o<h;++o)y=e[r][o],t.push(y),y.$layout={_box:new HitBox,_hidable:!1,_visible:!0,_set:r,_idx:o};return t.sort(function(D,O){var F=D.$layout,R=O.$layout;return F._idx===R._idx?R._set-F._set:R._idx-F._idx}),this.update(t),t},update:function(e){var t=!1,r,o,l,h,y;for(r=0,o=e.length;r<o;++r)l=e[r],h=l.model(),y=l.$layout,y._hidable=h&&h.display==="auto",y._visible=l.visible(),t|=y._hidable;t&&compute(e)},lookup:function(e,t){var r,o;for(r=e.length-1;r>=0;--r)if(o=e[r].$layout,o&&o._visible&&o._box.contains(t))return e[r];return null},draw:function(e,t){var r,o,l,h,y,D;for(r=0,o=t.length;r<o;++r)l=t[r],h=l.$layout,h._visible&&(y=l.geometry(),D=coordinates(l._el,l.model(),y),h._box.update(D,y,l.rotation()),l.draw(e,D))}},formatter=function(e){if(isNullOrUndef(e))return null;var t=e,r,o,l;if(isObject(e))if(!isNullOrUndef(e.label))t=e.label;else if(!isNullOrUndef(e.r))t=e.r;else for(t="",r=Object.keys(e),l=0,o=r.length;l<o;++l)t+=(l!==0?", ":"")+r[l]+": "+e[r[l]];return""+t},defaults={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},EXPANDO_KEY="$datalabels",DEFAULT_KEY="$default";function configure(e,t){var r=e.datalabels,o={},l=[],h,y;return r===!1?null:(r===!0&&(r={}),t=merge({},[t,r]),h=t.labels||{},y=Object.keys(h),delete t.labels,y.length?y.forEach(function(D){h[D]&&l.push(merge({},[t,h[D],{_key:D}]))}):l.push(t),o=l.reduce(function(D,O){return each(O.listeners||{},function(F,R){D[R]=D[R]||{},D[R][O._key||DEFAULT_KEY]=F}),delete O.listeners,D},{}),{labels:l,listeners:o})}function dispatchEvent(e,t,r){if(!!t){var o=r.$context,l=r.$groups,h;!t[l._set]||(h=t[l._set][l._key],!!h&&callback(h,[o])===!0&&(e[EXPANDO_KEY]._dirty=!0,r.update(o)))}}function dispatchMoveEvents(e,t,r,o){var l,h;!r&&!o||(r?o?r!==o&&(h=l=!0):h=!0:l=!0,h&&dispatchEvent(e,t.leave,r),l&&dispatchEvent(e,t.enter,o))}function handleMoveEvents(e,t){var r=e[EXPANDO_KEY],o=r._listeners,l,h;if(!(!o.enter&&!o.leave)){if(t.type==="mousemove")h=layout.lookup(r._labels,t);else if(t.type!=="mouseout")return;l=r._hovered,r._hovered=h,dispatchMoveEvents(e,o,l,h)}}function handleClickEvents(e,t){var r=e[EXPANDO_KEY],o=r._listeners.click,l=o&&layout.lookup(r._labels,t);l&&dispatchEvent(e,o,l)}var plugin$1={id:"datalabels",defaults,beforeInit:function(e){e[EXPANDO_KEY]={_actives:[]}},beforeUpdate:function(e){var t=e[EXPANDO_KEY];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,r){var o=t.index,l=e[EXPANDO_KEY],h=l._datasets[o]=[],y=e.isDatasetVisible(o),D=e.data.datasets[o],O=configure(D,r),F=t.meta.data||[],R=e.ctx,B,j,U,q,W,G,Y,K;for(R.save(),B=0,U=F.length;B<U;++B)if(Y=F[B],Y[EXPANDO_KEY]=[],y&&Y&&e.getDataVisibility(B)&&!Y.skip)for(j=0,q=O.labels.length;j<q;++j)W=O.labels[j],G=W._key,K=new Label(W,R,Y,B),K.$groups={_set:o,_key:G||DEFAULT_KEY},K.$context={active:!1,chart:e,dataIndex:B,dataset:D,datasetIndex:o},K.update(K.$context),Y[EXPANDO_KEY].push(K),h.push(K);R.restore(),merge(l._listeners,O.listeners,{merger:function(X,J,Q){J[X]=J[X]||{},J[X][t.index]=Q[X],l._listened=!0}})},afterUpdate:function(e,t){e[EXPANDO_KEY]._labels=layout.prepare(e[EXPANDO_KEY]._datasets,t)},afterDatasetsDraw:function(e){layout.draw(e,e[EXPANDO_KEY]._labels)},beforeEvent:function(e,t){if(e[EXPANDO_KEY]._listened){var r=t.event;switch(r.type){case"mousemove":case"mouseout":handleMoveEvents(e,r);break;case"click":handleClickEvents(e,r);break}}},afterEvent:function(e){var t=e[EXPANDO_KEY],r=t._actives,o=t._actives=e.getActiveElements(),l=utils.arrayDiff(r,o),h,y,D,O,F,R,B;for(h=0,y=l.length;h<y;++h)if(F=l[h],F[1])for(B=F[0].element[EXPANDO_KEY]||[],D=0,O=B.length;D<O;++D)R=B[D],R.$context.active=F[1]===1,R.update(R.$context);(t._dirty||l.length)&&(layout.update(t._labels),e.render()),delete t._dirty}},noop={value:function(){}};function dispatch$1(){for(var e=0,t=arguments.length,r={},o;e<t;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new Dispatch(r)}function Dispatch(e){this._=e}function parseTypenames(e,t){return e.trim().split(/^|\s+/).map(function(r){var o="",l=r.indexOf(".");if(l>=0&&(o=r.slice(l+1),r=r.slice(0,l)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}Dispatch.prototype=dispatch$1.prototype={constructor:Dispatch,on:function(e,t){var r=this._,o=parseTypenames(e+"",r),l,h=-1,y=o.length;if(arguments.length<2){for(;++h<y;)if((l=(e=o[h]).type)&&(l=get(r[l],e.name)))return l;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++h<y;)if(l=(e=o[h]).type)r[l]=set(r[l],e.name,t);else if(t==null)for(l in r)r[l]=set(r[l],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Dispatch(e)},call:function(e,t){if((l=arguments.length-2)>0)for(var r=new Array(l),o=0,l,h;o<l;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(h=this._[e],o=0,l=h.length;o<l;++o)h[o].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],l=0,h=o.length;l<h;++l)o[l].value.apply(t,r)}};function get(e,t){for(var r=0,o=e.length,l;r<o;++r)if((l=e[r]).name===t)return l.value}function set(e,t,r){for(var o=0,l=e.length;o<l;++o)if(e[o].name===t){e[o]=noop,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:t,value:r}),e}var src=Object.freeze(Object.defineProperty({__proto__:null,dispatch:dispatch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(src),dispatch=require$$0.dispatch,cloudRadians=Math.PI/180,cw=1<<11>>5,ch=1<<11,d3Cloud=function(){var e=[256,256],t=cloudText,r=cloudFont,o=cloudFontSize,l=cloudFontNormal,h=cloudFontNormal,y=cloudRotate,D=cloudPadding,O=archimedeanSpiral,F=[],R=1/0,B=dispatch("word","end"),j=null,U=Math.random,q={},W=cloudCanvas;q.canvas=function(K){return arguments.length?(W=functor(K),q):W},q.start=function(){var K=G(W()),X=zeroArray((e[0]>>5)*e[1]),J=null,Q=F.length,et=-1,nt=[],Z=F.map(function(rt,tt){return rt.text=t.call(this,rt,tt),rt.font=r.call(this,rt,tt),rt.style=l.call(this,rt,tt),rt.weight=h.call(this,rt,tt),rt.rotate=y.call(this,rt,tt),rt.size=~~o.call(this,rt,tt),rt.padding=D.call(this,rt,tt),rt}).sort(function(rt,tt){return tt.size-rt.size});return j&&clearInterval(j),j=setInterval(it,0),it(),q;function it(){for(var rt=Date.now();Date.now()-rt<R&&++et<Q&&j;){var tt=Z[et];tt.x=e[0]*(U()+.5)>>1,tt.y=e[1]*(U()+.5)>>1,cloudSprite(K,tt,Z,et),tt.hasText&&Y(X,tt,J)&&(nt.push(tt),B.call("word",q,tt),J?cloudBounds(J,tt):J=[{x:tt.x+tt.x0,y:tt.y+tt.y0},{x:tt.x+tt.x1,y:tt.y+tt.y1}],tt.x-=e[0]>>1,tt.y-=e[1]>>1)}et>=Q&&(q.stop(),B.call("end",q,nt,J))}},q.stop=function(){return j&&(clearInterval(j),j=null),q};function G(K){K.width=K.height=1;var X=Math.sqrt(K.getContext("2d").getImageData(0,0,1,1).data.length>>2);K.width=(cw<<5)/X,K.height=ch/X;var J=K.getContext("2d");return J.fillStyle=J.strokeStyle="red",J.textAlign="center",{context:J,ratio:X}}function Y(K,X,J){e[0],e[1];for(var Q=X.x,et=X.y,nt=Math.sqrt(e[0]*e[0]+e[1]*e[1]),Z=O(e),it=U()<.5?1:-1,rt=-it,tt,ct,lt;(tt=Z(rt+=it))&&(ct=~~tt[0],lt=~~tt[1],!(Math.min(Math.abs(ct),Math.abs(lt))>=nt));)if(X.x=Q+ct,X.y=et+lt,!(X.x+X.x0<0||X.y+X.y0<0||X.x+X.x1>e[0]||X.y+X.y1>e[1])&&(!J||!cloudCollide(X,K,e[0]))&&(!J||collideRects(X,J))){for(var ot=X.sprite,dt=X.width>>5,ut=e[0]>>5,at=X.x-(dt<<4),st=at&127,ht=32-st,_t=X.y1-X.y0,yt=(X.y+X.y0)*ut+(at>>5),ft,vt=0;vt<_t;vt++){ft=0;for(var pt=0;pt<=dt;pt++)K[yt+pt]|=ft<<ht|(pt<dt?(ft=ot[vt*dt+pt])>>>st:0);yt+=ut}return delete X.sprite,!0}return!1}return q.timeInterval=function(K){return arguments.length?(R=K==null?1/0:K,q):R},q.words=function(K){return arguments.length?(F=K,q):F},q.size=function(K){return arguments.length?(e=[+K[0],+K[1]],q):e},q.font=function(K){return arguments.length?(r=functor(K),q):r},q.fontStyle=function(K){return arguments.length?(l=functor(K),q):l},q.fontWeight=function(K){return arguments.length?(h=functor(K),q):h},q.rotate=function(K){return arguments.length?(y=functor(K),q):y},q.text=function(K){return arguments.length?(t=functor(K),q):t},q.spiral=function(K){return arguments.length?(O=spirals[K]||K,q):O},q.fontSize=function(K){return arguments.length?(o=functor(K),q):o},q.padding=function(K){return arguments.length?(D=functor(K),q):D},q.random=function(K){return arguments.length?(U=K,q):U},q.on=function(){var K=B.on.apply(B,arguments);return K===B?q:K},q};function cloudText(e){return e.text}function cloudFont(){return"serif"}function cloudFontNormal(){return"normal"}function cloudFontSize(e){return Math.sqrt(e.value)}function cloudRotate(){return(~~(Math.random()*6)-3)*30}function cloudPadding(){return 1}function cloudSprite(e,t,r,o){if(!t.sprite){var l=e.context,h=e.ratio;l.clearRect(0,0,(cw<<5)/h,ch/h);var y=0,D=0,O=0,F=r.length;for(--o;++o<F;){t=r[o],l.save(),l.font=t.style+" "+t.weight+" "+~~((t.size+1)/h)+"px "+t.font;var R=l.measureText(t.text+"m").width*h,B=t.size<<1;if(t.rotate){var j=Math.sin(t.rotate*cloudRadians),U=Math.cos(t.rotate*cloudRadians),q=R*U,W=R*j,G=B*U,Y=B*j;R=Math.max(Math.abs(q+Y),Math.abs(q-Y))+31>>5<<5,B=~~Math.max(Math.abs(W+G),Math.abs(W-G))}else R=R+31>>5<<5;if(B>O&&(O=B),y+R>=cw<<5&&(y=0,D+=O,O=0),D+B>=ch)break;l.translate((y+(R>>1))/h,(D+(B>>1))/h),t.rotate&&l.rotate(t.rotate*cloudRadians),l.fillText(t.text,0,0),t.padding&&(l.lineWidth=2*t.padding,l.strokeText(t.text,0,0)),l.restore(),t.width=R,t.height=B,t.xoff=y,t.yoff=D,t.x1=R>>1,t.y1=B>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,y+=R}for(var K=l.getImageData(0,0,(cw<<5)/h,ch/h).data,X=[];--o>=0;)if(t=r[o],!!t.hasText){for(var R=t.width,J=R>>5,B=t.y1-t.y0,Q=0;Q<B*J;Q++)X[Q]=0;if(y=t.xoff,y==null)return;D=t.yoff;for(var et=0,nt=-1,Z=0;Z<B;Z++){for(var Q=0;Q<R;Q++){var it=J*Z+(Q>>5),rt=K[(D+Z)*(cw<<5)+(y+Q)<<2]?1<<31-Q%32:0;X[it]|=rt,et|=rt}et?nt=Z:(t.y0++,B--,Z--,D++)}t.y1=t.y0+nt,t.sprite=X.slice(0,(t.y1-t.y0)*J)}}}function cloudCollide(e,t,r){r>>=5;for(var o=e.sprite,l=e.width>>5,h=e.x-(l<<4),y=h&127,D=32-y,O=e.y1-e.y0,F=(e.y+e.y0)*r+(h>>5),R,B=0;B<O;B++){R=0;for(var j=0;j<=l;j++)if((R<<D|(j<l?(R=o[B*l+j])>>>y:0))&t[F+j])return!0;F+=r}return!1}function cloudBounds(e,t){var r=e[0],o=e[1];t.x+t.x0<r.x&&(r.x=t.x+t.x0),t.y+t.y0<r.y&&(r.y=t.y+t.y0),t.x+t.x1>o.x&&(o.x=t.x+t.x1),t.y+t.y1>o.y&&(o.y=t.y+t.y1)}function collideRects(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function archimedeanSpiral(e){var t=e[0]/e[1];return function(r){return[t*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function rectangularSpiral(e){var t=4,r=t*e[0]/e[1],o=0,l=0;return function(h){var y=h<0?-1:1;switch(Math.sqrt(1+4*y*h)-y&3){case 0:o+=r;break;case 1:l+=t;break;case 2:o-=r;break;default:l-=t;break}return[o,l]}}function zeroArray(e){for(var t=[],r=-1;++r<e;)t[r]=0;return t}function cloudCanvas(){return document.createElement("canvas")}function functor(e){return typeof e=="function"?e:function(){return e}}var spirals={archimedean:archimedeanSpiral,rectangular:rectangularSpiral};class WordElement extends Element{static computeRotation(t,r){if(t.rotationSteps<=1)return 0;if(t.minRotation===t.maxRotation)return t.minRotation;const o=Math.min(t.rotationSteps,Math.floor(r()*t.rotationSteps))/(t.rotationSteps-1),l=t.maxRotation-t.minRotation;return t.minRotation+o*l}inRange(t,r){const o=this.getProps(["x","y","width","height","scale"]);if(o.scale<=0)return!1;const l=Number.isNaN(t)?o.x:t,h=Number.isNaN(r)?o.y:r;return l>=o.x-o.width/2&&l<=o.x+o.width/2&&h>=o.y-o.height/2&&h<=o.y+o.height/2}inXRange(t){return this.inRange(t,Number.NaN)}inYRange(t){return this.inRange(Number.NaN,t)}getCenterPoint(){return this.getProps(["x","y"])}tooltipPosition(){return this.getCenterPoint()}draw(t){const{options:r}=this,o=this.getProps(["x","y","width","height","text","scale"]);if(o.scale<=0)return;t.save();const l=toFont(Vt(zt({},r),{size:r.size*o.scale}));t.font=l.string,t.fillStyle=r.color,t.textAlign="center",t.translate(o.x,o.y),t.rotate(r.rotate/180*Math.PI),r.strokeStyle&&(t.strokeStyle=r.strokeStyle,t.strokeText(o.text,0,0)),t.fillText(o.text,0,0),t.restore()}}WordElement.id="word";WordElement.defaults={minRotation:-90,maxRotation:0,rotationSteps:2,padding:1,strokeStyle:void 0,size:e=>e.parsed.y,hoverColor:"#ababab"};WordElement.defaultRoutes={color:"color",family:"font.family",style:"font.style",weight:"font.weight",lineHeight:"font.lineHeight"};function patchController(e,t,r,o=[],l=[]){registry.addControllers(r),Array.isArray(o)?registry.addElements(...o):registry.addElements(o),Array.isArray(l)?registry.addScales(...l):registry.addScales(l);const h=t;return h.type=e,h}function rnd(e=Date.now()){let t=typeof e=="number"?e:Array.from(e).reduce((r,o)=>r+o.charCodeAt(0),0);return()=>(t=(t*9301+49297)%233280,t/233280)}class WordCloudController extends DatasetController{constructor(){super(...arguments),this.wordLayout=d3Cloud().text(t=>t.text).padding(t=>t.options.padding).rotate(t=>t.options.rotate).font(t=>t.options.family).fontSize(t=>t.options.size).fontStyle(t=>t.options.style).fontWeight(t=>{var r;return(r=t.options.weight)!==null&&r!==void 0?r:1}),this.rand=Math.random}update(t){super.update(t),this.rand=rnd(this.chart.id);const o=this._cachedMeta.data||[];this.updateElements(o,0,o.length,t)}updateElements(t,r,o,l){var h,y,D,O;this.wordLayout.stop();const F=this._cachedMeta.xScale,R=this._cachedMeta.yScale,B=F.right-F.left,j=R.bottom-R.top,U=this.chart.data.labels,q=[];for(let G=r;G<r+o;G+=1){const Y=this.resolveDataElementOptions(G,l);Y.rotate==null&&(Y.rotate=WordElement.computeRotation(Y,this.rand));const K={options:zt(zt({},toFont(Y)),Y),x:(y=(h=this._cachedMeta.xScale)===null||h===void 0?void 0:h.getPixelForDecimal(.5))!==null&&y!==void 0?y:0,y:(O=(D=this._cachedMeta.yScale)===null||D===void 0?void 0:D.getPixelForDecimal(.5))!==null&&O!==void 0?O:0,width:10,height:10,scale:1,index:G,text:U[G]};q.push(K)}if(l==="reset"){q.forEach(G=>{this.updateElement(t[G.index],G.index,G,l)});return}this.wordLayout.random(this.rand).words(q);const W=(G=1,Y=3)=>{this.wordLayout.size([B*G,j*G]).on("end",(K,X)=>{if(K.length<U.length){if(Y>0){W(G*1.2,Y-1);return}console.warn("cannot fit all text elements in three tries")}const J=X[1].x-X[0].x,Q=X[1].y-X[0].y,nt=this.options.fit?Math.min(B/J,j/Q):1,Z=new Set(U.map((it,rt)=>rt));K.forEach(it=>{Z.delete(it.index),this.updateElement(t[it.index],it.index,{options:it.options,scale:nt,x:F.left+nt*it.x+B/2,y:R.top+nt*it.y+j/2,width:nt*it.width,height:nt*it.height,text:it.text},l)}),Z.forEach(it=>this.updateElement(t[it],it,{scale:0},l))}).start()};W()}draw(){const t=this._cachedMeta.data,{ctx:r}=this.chart;t.forEach(o=>o.draw(r))}getLabelAndValue(t){const r=super.getLabelAndValue(t),o=this.chart.data.labels;return r.label=o[t],r}}WordCloudController.id="wordCloud";WordCloudController.defaults={datasets:{fit:!0,animation:{colors:{properties:["color","strokeStyle"]},numbers:{properties:["x","y","size","rotate"]}}},maintainAspectRatio:!1,dataElementType:WordElement.id};WordCloudController.overrides={scales:{x:{type:"linear",min:-1,max:1,display:!1},y:{type:"linear",min:-1,max:1,display:!1}}};class WordCloudChart extends Chart{constructor(t,r){super(t,patchController("wordCloud",r,WordCloudController,WordElement))}}WordCloudChart.id=WordCloudController.id;function toInteger(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function requiredArgs(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function toDate(e){requiredArgs(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function addDays(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toInteger(t);return isNaN(o)?new Date(NaN):(o&&r.setDate(r.getDate()+o),r)}function addMonths(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toInteger(t);if(isNaN(o))return new Date(NaN);if(!o)return r;var l=r.getDate(),h=new Date(r.getTime());h.setMonth(r.getMonth()+o+1,0);var y=h.getDate();return l>=y?h:(r.setFullYear(h.getFullYear(),h.getMonth(),l),r)}function addMilliseconds(e,t){requiredArgs(2,arguments);var r=toDate(e).getTime(),o=toInteger(t);return new Date(r+o)}var MILLISECONDS_IN_HOUR$1=36e5;function addHours(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMilliseconds(e,r*MILLISECONDS_IN_HOUR$1)}function startOfWeek(e,t){requiredArgs(1,arguments);var r=t||{},o=r.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=r.weekStartsOn==null?h:toInteger(r.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(e),O=D.getDay(),F=(O<y?7:0)+O-y;return D.setDate(D.getDate()-F),D.setHours(0,0,0,0),D}function getTimezoneOffsetInMilliseconds(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function startOfDay(e){requiredArgs(1,arguments);var t=toDate(e);return t.setHours(0,0,0,0),t}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(e,t){requiredArgs(2,arguments);var r=startOfDay(e),o=startOfDay(t),l=r.getTime()-getTimezoneOffsetInMilliseconds(r),h=o.getTime()-getTimezoneOffsetInMilliseconds(o);return Math.round((l-h)/MILLISECONDS_IN_DAY$1)}var MILLISECONDS_IN_MINUTE$1=6e4;function addMinutes(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMilliseconds(e,r*MILLISECONDS_IN_MINUTE$1)}function addQuarters(e,t){requiredArgs(2,arguments);var r=toInteger(t),o=r*3;return addMonths(e,o)}function addSeconds(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMilliseconds(e,r*1e3)}function addWeeks(e,t){requiredArgs(2,arguments);var r=toInteger(t),o=r*7;return addDays(e,o)}function addYears(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMonths(e,r*12)}function compareAsc(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=r.getTime()-o.getTime();return l<0?-1:l>0?1:l}var millisecondsInMinute=6e4,millisecondsInHour=36e5;function isDate(e){return requiredArgs(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function isValid(e){if(requiredArgs(1,arguments),!isDate(e)&&typeof e!="number")return!1;var t=toDate(e);return!isNaN(Number(t))}function differenceInCalendarMonths(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=r.getFullYear()-o.getFullYear(),h=r.getMonth()-o.getMonth();return l*12+h}function differenceInCalendarYears(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t);return r.getFullYear()-o.getFullYear()}function compareLocalAsc(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function differenceInDays(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=compareLocalAsc(r,o),h=Math.abs(differenceInCalendarDays(r,o));r.setDate(r.getDate()-l*h);var y=Number(compareLocalAsc(r,o)===-l),D=l*(h-y);return D===0?0:D}function differenceInMilliseconds(e,t){return requiredArgs(2,arguments),toDate(e).getTime()-toDate(t).getTime()}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},defaultRoundingMethod="trunc";function getRoundingMethod(e){return e?roundingMap[e]:roundingMap[defaultRoundingMethod]}function differenceInHours(e,t,r){requiredArgs(2,arguments);var o=differenceInMilliseconds(e,t)/millisecondsInHour;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInMinutes(e,t,r){requiredArgs(2,arguments);var o=differenceInMilliseconds(e,t)/millisecondsInMinute;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function endOfDay(e){requiredArgs(1,arguments);var t=toDate(e);return t.setHours(23,59,59,999),t}function endOfMonth(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function isLastDayOfMonth(e){requiredArgs(1,arguments);var t=toDate(e);return endOfDay(t).getTime()===endOfMonth(t).getTime()}function differenceInMonths(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=compareAsc(r,o),h=Math.abs(differenceInCalendarMonths(r,o)),y;if(h<1)y=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-l*h);var D=compareAsc(r,o)===-l;isLastDayOfMonth(toDate(e))&&h===1&&compareAsc(e,o)===1&&(D=!1),y=l*(h-Number(D))}return y===0?0:y}function differenceInQuarters(e,t,r){requiredArgs(2,arguments);var o=differenceInMonths(e,t)/3;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInSeconds(e,t,r){requiredArgs(2,arguments);var o=differenceInMilliseconds(e,t)/1e3;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInWeeks(e,t,r){requiredArgs(2,arguments);var o=differenceInDays(e,t)/7;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInYears(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=compareAsc(r,o),h=Math.abs(differenceInCalendarYears(r,o));r.setFullYear(1584),o.setFullYear(1584);var y=compareAsc(r,o)===-l,D=l*(h-Number(y));return D===0?0:D}function startOfMinute(e){requiredArgs(1,arguments);var t=toDate(e);return t.setSeconds(0,0),t}function startOfQuarter(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getMonth(),o=r-r%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}function startOfMonth(e){requiredArgs(1,arguments);var t=toDate(e);return t.setDate(1),t.setHours(0,0,0,0),t}function startOfYear(e){requiredArgs(1,arguments);var t=toDate(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function endOfYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function endOfHour(e){requiredArgs(1,arguments);var t=toDate(e);return t.setMinutes(59,59,999),t}function endOfWeek(e,t){requiredArgs(1,arguments);var r=t||{},o=r.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=r.weekStartsOn==null?h:toInteger(r.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(e),O=D.getDay(),F=(O<y?-7:0)+6-(O-y);return D.setDate(D.getDate()+F),D.setHours(23,59,59,999),D}function endOfMinute(e){requiredArgs(1,arguments);var t=toDate(e);return t.setSeconds(59,999),t}function endOfQuarter(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getMonth(),o=r-r%3+3;return t.setMonth(o,0),t.setHours(23,59,59,999),t}function endOfSecond(e){requiredArgs(1,arguments);var t=toDate(e);return t.setMilliseconds(999),t}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(e,t,r){var o,l=formatDistanceLocale[e];return typeof l=="string"?o=l:t===1?o=l.one:o=l.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o},formatDistance$1=formatDistance;function buildFormatLongFn(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,o=e.formats[r]||e.formats[e.defaultWidth];return o}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(e,t,r,o){return formatRelativeLocale[e]},formatRelative$1=formatRelative;function buildLocalizeFn(e){return function(t,r){var o=r||{},l=o.context?String(o.context):"standalone",h;if(l==="formatting"&&e.formattingValues){var y=e.defaultFormattingWidth||e.defaultWidth,D=o.width?String(o.width):y;h=e.formattingValues[D]||e.formattingValues[y]}else{var O=e.defaultWidth,F=o.width?String(o.width):e.defaultWidth;h=e.values[F]||e.values[O]}var R=e.argumentCallback?e.argumentCallback(t):t;return h[R]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(e,t){var r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize;function buildMatchFn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.width,l=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],h=t.match(l);if(!h)return null;var y=h[0],D=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],O=Array.isArray(D)?findIndex(D,function(B){return B.test(y)}):findKey(D,function(B){return B.test(y)}),F;F=e.valueCallback?e.valueCallback(O):O,F=r.valueCallback?r.valueCallback(F):F;var R=t.slice(y.length);return{value:F,rest:R}}}function findKey(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function findIndex(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function buildMatchPatternFn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.match(e.matchPattern);if(!o)return null;var l=o[0],h=t.match(e.parsePattern);if(!h)return null;var y=e.valueCallback?e.valueCallback(h[0]):h[0];y=r.valueCallback?r.valueCallback(y):y;var D=t.slice(l.length);return{value:y,rest:D}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(e){return parseInt(e,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;function subMilliseconds(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMilliseconds(e,-r)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var o=t.getTime(),l=r-o;return Math.floor(l/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(e){requiredArgs(1,arguments);var t=1,r=toDate(e),o=r.getUTCDay(),l=(o<t?7:0)+o-t;return r.setUTCDate(r.getUTCDate()-l),r.setUTCHours(0,0,0,0),r}function getUTCISOWeekYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(r+1,0,4),o.setUTCHours(0,0,0,0);var l=startOfUTCISOWeek(o),h=new Date(0);h.setUTCFullYear(r,0,4),h.setUTCHours(0,0,0,0);var y=startOfUTCISOWeek(h);return t.getTime()>=l.getTime()?r+1:t.getTime()>=y.getTime()?r:r-1}function startOfUTCISOWeekYear(e){requiredArgs(1,arguments);var t=getUTCISOWeekYear(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var o=startOfUTCISOWeek(r);return o}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(e){requiredArgs(1,arguments);var t=toDate(e),r=startOfUTCISOWeek(t).getTime()-startOfUTCISOWeekYear(t).getTime();return Math.round(r/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(e,t){requiredArgs(1,arguments);var r=t||{},o=r.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=r.weekStartsOn==null?h:toInteger(r.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(e),O=D.getUTCDay(),F=(O<y?7:0)+O-y;return D.setUTCDate(D.getUTCDate()-F),D.setUTCHours(0,0,0,0),D}function getUTCWeekYear(e,t){requiredArgs(1,arguments);var r=toDate(e),o=r.getUTCFullYear(),l=t||{},h=l.locale,y=h&&h.options&&h.options.firstWeekContainsDate,D=y==null?1:toInteger(y),O=l.firstWeekContainsDate==null?D:toInteger(l.firstWeekContainsDate);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=new Date(0);F.setUTCFullYear(o+1,0,O),F.setUTCHours(0,0,0,0);var R=startOfUTCWeek(F,t),B=new Date(0);B.setUTCFullYear(o,0,O),B.setUTCHours(0,0,0,0);var j=startOfUTCWeek(B,t);return r.getTime()>=R.getTime()?o+1:r.getTime()>=j.getTime()?o:o-1}function startOfUTCWeekYear(e,t){requiredArgs(1,arguments);var r=t||{},o=r.locale,l=o&&o.options&&o.options.firstWeekContainsDate,h=l==null?1:toInteger(l),y=r.firstWeekContainsDate==null?h:toInteger(r.firstWeekContainsDate),D=getUTCWeekYear(e,t),O=new Date(0);O.setUTCFullYear(D,0,y),O.setUTCHours(0,0,0,0);var F=startOfUTCWeek(O,t);return F}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(e,t){requiredArgs(1,arguments);var r=toDate(e),o=startOfUTCWeek(r,t).getTime()-startOfUTCWeekYear(r,t).getTime();return Math.round(o/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(e,t){for(var r=e<0?"-":"",o=Math.abs(e).toString();o.length<t;)o="0"+o;return r+o}var formatters$2={y:function(e,t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return addLeadingZeros(t==="yy"?o%100:o,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):addLeadingZeros(r+1,2)},d:function(e,t){return addLeadingZeros(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return addLeadingZeros(e.getUTCHours()%12||12,t.length)},H:function(e,t){return addLeadingZeros(e.getUTCHours(),t.length)},m:function(e,t){return addLeadingZeros(e.getUTCMinutes(),t.length)},s:function(e,t){return addLeadingZeros(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,o=e.getUTCMilliseconds(),l=Math.floor(o*Math.pow(10,r-3));return addLeadingZeros(l,t.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(e,t,r){var o=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var o=e.getUTCFullYear(),l=o>0?o:1-o;return r.ordinalNumber(l,{unit:"year"})}return formatters$3.y(e,t)},Y:function(e,t,r,o){var l=getUTCWeekYear(e,o),h=l>0?l:1-l;if(t==="YY"){var y=h%100;return addLeadingZeros(y,2)}return t==="Yo"?r.ordinalNumber(h,{unit:"year"}):addLeadingZeros(h,t.length)},R:function(e,t){var r=getUTCISOWeekYear(e);return addLeadingZeros(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return addLeadingZeros(r,t.length)},Q:function(e,t,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return addLeadingZeros(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return addLeadingZeros(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,r){var o=e.getUTCMonth();switch(t){case"M":case"MM":return formatters$3.M(e,t);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,r){var o=e.getUTCMonth();switch(t){case"L":return String(o+1);case"LL":return addLeadingZeros(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,r,o){var l=getUTCWeek(e,o);return t==="wo"?r.ordinalNumber(l,{unit:"week"}):addLeadingZeros(l,t.length)},I:function(e,t,r){var o=getUTCISOWeek(e);return t==="Io"?r.ordinalNumber(o,{unit:"week"}):addLeadingZeros(o,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):formatters$3.d(e,t)},D:function(e,t,r){var o=getUTCDayOfYear(e);return t==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):addLeadingZeros(o,t.length)},E:function(e,t,r){var o=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,r,o){var l=e.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(h);case"ee":return addLeadingZeros(h,2);case"eo":return r.ordinalNumber(h,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,r,o){var l=e.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(h);case"cc":return addLeadingZeros(h,t.length);case"co":return r.ordinalNumber(h,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,r){var o=e.getUTCDay(),l=o===0?7:o;switch(t){case"i":return String(l);case"ii":return addLeadingZeros(l,t.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,r){var o=e.getUTCHours(),l=o/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,r){var o=e.getUTCHours(),l;switch(o===12?l=dayPeriodEnum.noon:o===0?l=dayPeriodEnum.midnight:l=o/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,r){var o=e.getUTCHours(),l;switch(o>=17?l=dayPeriodEnum.evening:o>=12?l=dayPeriodEnum.afternoon:o>=4?l=dayPeriodEnum.morning:l=dayPeriodEnum.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var o=e.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return formatters$3.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):formatters$3.H(e,t)},K:function(e,t,r){var o=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,t.length)},k:function(e,t,r){var o=e.getUTCHours();return o===0&&(o=24),t==="ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):formatters$3.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):formatters$3.s(e,t)},S:function(e,t){return formatters$3.S(e,t)},X:function(e,t,r,o){var l=o._originalDate||e,h=l.getTimezoneOffset();if(h===0)return"Z";switch(t){case"X":return formatTimezoneWithOptionalMinutes(h);case"XXXX":case"XX":return formatTimezone(h);case"XXXXX":case"XXX":default:return formatTimezone(h,":")}},x:function(e,t,r,o){var l=o._originalDate||e,h=l.getTimezoneOffset();switch(t){case"x":return formatTimezoneWithOptionalMinutes(h);case"xxxx":case"xx":return formatTimezone(h);case"xxxxx":case"xxx":default:return formatTimezone(h,":")}},O:function(e,t,r,o){var l=o._originalDate||e,h=l.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(h,":");case"OOOO":default:return"GMT"+formatTimezone(h,":")}},z:function(e,t,r,o){var l=o._originalDate||e,h=l.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(h,":");case"zzzz":default:return"GMT"+formatTimezone(h,":")}},t:function(e,t,r,o){var l=o._originalDate||e,h=Math.floor(l.getTime()/1e3);return addLeadingZeros(h,t.length)},T:function(e,t,r,o){var l=o._originalDate||e,h=l.getTime();return addLeadingZeros(h,t.length)}};function formatTimezoneShort(e,t){var r=e>0?"-":"+",o=Math.abs(e),l=Math.floor(o/60),h=o%60;if(h===0)return r+String(l);var y=t||"";return r+String(l)+y+addLeadingZeros(h,2)}function formatTimezoneWithOptionalMinutes(e,t){if(e%60===0){var r=e>0?"-":"+";return r+addLeadingZeros(Math.abs(e)/60,2)}return formatTimezone(e,t)}function formatTimezone(e,t){var r=t||"",o=e>0?"-":"+",l=Math.abs(e),h=addLeadingZeros(Math.floor(l/60),2),y=addLeadingZeros(l%60,2);return o+h+r+y}var formatters$1=formatters;function dateLongFormatter(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function timeLongFormatter(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function dateTimeLongFormatter(e,t){var r=e.match(/(P+)(p+)?/)||[],o=r[1],l=r[2];if(!l)return dateLongFormatter(e,t);var h;switch(o){case"P":h=t.dateTime({width:"short"});break;case"PP":h=t.dateTime({width:"medium"});break;case"PPP":h=t.dateTime({width:"long"});break;case"PPPP":default:h=t.dateTime({width:"full"});break}return h.replace("{{date}}",dateLongFormatter(o,t)).replace("{{time}}",timeLongFormatter(l,t))}var longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(e){return protectedDayOfYearTokens.indexOf(e)!==-1}function isProtectedWeekYearToken(e){return protectedWeekYearTokens.indexOf(e)!==-1}function throwProtectedError(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(e,t,r){requiredArgs(2,arguments);var o=String(t),l=r||{},h=l.locale||defaultLocale,y=h.options&&h.options.firstWeekContainsDate,D=y==null?1:toInteger(y),O=l.firstWeekContainsDate==null?D:toInteger(l.firstWeekContainsDate);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=h.options&&h.options.weekStartsOn,R=F==null?0:toInteger(F),B=l.weekStartsOn==null?R:toInteger(l.weekStartsOn);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!h.localize)throw new RangeError("locale must contain localize property");if(!h.formatLong)throw new RangeError("locale must contain formatLong property");var j=toDate(e);if(!isValid(j))throw new RangeError("Invalid time value");var U=getTimezoneOffsetInMilliseconds(j),q=subMilliseconds(j,U),W={firstWeekContainsDate:O,weekStartsOn:B,locale:h,_originalDate:j},G=o.match(longFormattingTokensRegExp$1).map(function(Y){var K=Y[0];if(K==="p"||K==="P"){var X=longFormatters$1[K];return X(Y,h.formatLong,W)}return Y}).join("").match(formattingTokensRegExp$1).map(function(Y){if(Y==="''")return"'";var K=Y[0];if(K==="'")return cleanEscapedString$1(Y);var X=formatters$1[K];if(X)return!l.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(Y)&&throwProtectedError(Y,t,e),!l.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(Y)&&throwProtectedError(Y,t,e),X(q,Y,h.localize,W);if(K.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return Y}).join("");return G}function cleanEscapedString$1(e){return e.match(escapedStringRegExp$1)[1].replace(doubleQuoteRegExp$1,"'")}function assign(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");t=t||{};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function setUTCDay(e,t,r){requiredArgs(2,arguments);var o=r||{},l=o.locale,h=l&&l.options&&l.options.weekStartsOn,y=h==null?0:toInteger(h),D=o.weekStartsOn==null?y:toInteger(o.weekStartsOn);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=toDate(e),F=toInteger(t),R=O.getUTCDay(),B=F%7,j=(B+7)%7,U=(j<D?7:0)+F-R;return O.setUTCDate(O.getUTCDate()+U),O}function setUTCISODay(e,t){requiredArgs(2,arguments);var r=toInteger(t);r%7===0&&(r=r-7);var o=1,l=toDate(e),h=l.getUTCDay(),y=r%7,D=(y+7)%7,O=(D<o?7:0)+r-h;return l.setUTCDate(l.getUTCDate()+O),l}function setUTCISOWeek(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toInteger(t),l=getUTCISOWeek(r)-o;return r.setUTCDate(r.getUTCDate()-l*7),r}function setUTCWeek(e,t,r){requiredArgs(2,arguments);var o=toDate(e),l=toInteger(t),h=getUTCWeek(o,r)-l;return o.setUTCDate(o.getUTCDate()-h*7),o}var MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_SECOND=1e3,numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function parseNumericPattern(e,t,r){var o=t.match(e);if(!o)return null;var l=parseInt(o[0],10);return{value:r?r(l):l,rest:t.slice(o[0].length)}}function parseTimezonePattern(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var o=r[1]==="+"?1:-1,l=r[2]?parseInt(r[2],10):0,h=r[3]?parseInt(r[3],10):0,y=r[5]?parseInt(r[5],10):0;return{value:o*(l*MILLISECONDS_IN_HOUR+h*MILLISECONDS_IN_MINUTE+y*MILLISECONDS_IN_SECOND),rest:t.slice(r[0].length)}}function parseAnyDigitsSigned(e,t){return parseNumericPattern(numericPatterns.anyDigitsSigned,e,t)}function parseNDigits(e,t,r){switch(e){case 1:return parseNumericPattern(numericPatterns.singleDigit,t,r);case 2:return parseNumericPattern(numericPatterns.twoDigits,t,r);case 3:return parseNumericPattern(numericPatterns.threeDigits,t,r);case 4:return parseNumericPattern(numericPatterns.fourDigits,t,r);default:return parseNumericPattern(new RegExp("^\\d{1,"+e+"}"),t,r)}}function parseNDigitsSigned(e,t,r){switch(e){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,t,r);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,t,r);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,t,r);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,t,r);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+e+"}"),t,r)}}function dayPeriodEnumToHours(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(e,t){var r=t>0,o=r?t:1-t,l;if(o<=50)l=e||100;else{var h=o+50,y=Math.floor(h/100)*100,D=e>=h%100;l=e+y-(D?100:0)}return r?l:1-l}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex$1(e){return e%400===0||e%4===0&&e%100!==0}var parsers={G:{priority:140,parse:function(e,t,r,o){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}},set:function(e,t,r,o){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,r,o){var l=function(h){return{year:h,isTwoDigitYear:t==="yy"}};switch(t){case"y":return parseNDigits(4,e,l);case"yo":return r.ordinalNumber(e,{unit:"year",valueCallback:l});default:return parseNDigits(t.length,e,l)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,o){var l=e.getUTCFullYear();if(r.isTwoDigitYear){var h=normalizeTwoDigitYear(r.year,l);return e.setUTCFullYear(h,0,1),e.setUTCHours(0,0,0,0),e}var y=!("era"in t)||t.era===1?r.year:1-r.year;return e.setUTCFullYear(y,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,r,o){var l=function(h){return{year:h,isTwoDigitYear:t==="YY"}};switch(t){case"Y":return parseNDigits(4,e,l);case"Yo":return r.ordinalNumber(e,{unit:"year",valueCallback:l});default:return parseNDigits(t.length,e,l)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,o){var l=getUTCWeekYear(e,o);if(r.isTwoDigitYear){var h=normalizeTwoDigitYear(r.year,l);return e.setUTCFullYear(h,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),startOfUTCWeek(e,o)}var y=!("era"in t)||t.era===1?r.year:1-r.year;return e.setUTCFullYear(y,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),startOfUTCWeek(e,o)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,r,o){return parseNDigitsSigned(t==="R"?4:t.length,e)},set:function(e,t,r,o){var l=new Date(0);return l.setUTCFullYear(r,0,4),l.setUTCHours(0,0,0,0),startOfUTCISOWeek(l)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,r,o){return parseNDigitsSigned(t==="u"?4:t.length,e)},set:function(e,t,r,o){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,r,o){switch(t){case"Q":case"QQ":return parseNDigits(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,o){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,r,o){switch(t){case"q":case"qq":return parseNDigits(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,o){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,r,o){var l=function(h){return h-1};switch(t){case"M":return parseNumericPattern(numericPatterns.month,e,l);case"MM":return parseNDigits(2,e,l);case"Mo":return r.ordinalNumber(e,{unit:"month",valueCallback:l});case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,o){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,r,o){var l=function(h){return h-1};switch(t){case"L":return parseNumericPattern(numericPatterns.month,e,l);case"LL":return parseNDigits(2,e,l);case"Lo":return r.ordinalNumber(e,{unit:"month",valueCallback:l});case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,o){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,r,o){switch(t){case"w":return parseNumericPattern(numericPatterns.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,o){return startOfUTCWeek(setUTCWeek(e,r,o),o)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,r,o){switch(t){case"I":return parseNumericPattern(numericPatterns.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,o){return startOfUTCISOWeek(setUTCISOWeek(e,r,o),o)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,r,o){switch(t){case"d":return parseNumericPattern(numericPatterns.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){var o=e.getUTCFullYear(),l=isLeapYearIndex$1(o),h=e.getUTCMonth();return l?t>=1&&t<=DAYS_IN_MONTH_LEAP_YEAR[h]:t>=1&&t<=DAYS_IN_MONTH[h]},set:function(e,t,r,o){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,r,o){switch(t){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){var o=e.getUTCFullYear(),l=isLeapYearIndex$1(o);return l?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,r,o){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,r,o){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,o){return e=setUTCDay(e,r,o),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,r,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(t){case"e":case"ee":return parseNDigits(t.length,e,l);case"eo":return r.ordinalNumber(e,{unit:"day",valueCallback:l});case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,o){return e=setUTCDay(e,r,o),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,r,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(t){case"c":case"cc":return parseNDigits(t.length,e,l);case"co":return r.ordinalNumber(e,{unit:"day",valueCallback:l});case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,o){return e=setUTCDay(e,r,o),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,r,o){var l=function(h){return h===0?7:h};switch(t){case"i":case"ii":return parseNDigits(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return r.day(e,{width:"abbreviated",context:"formatting",valueCallback:l})||r.day(e,{width:"short",context:"formatting",valueCallback:l})||r.day(e,{width:"narrow",context:"formatting",valueCallback:l});case"iiiii":return r.day(e,{width:"narrow",context:"formatting",valueCallback:l});case"iiiiii":return r.day(e,{width:"short",context:"formatting",valueCallback:l})||r.day(e,{width:"narrow",context:"formatting",valueCallback:l});case"iiii":default:return r.day(e,{width:"wide",context:"formatting",valueCallback:l})||r.day(e,{width:"abbreviated",context:"formatting",valueCallback:l})||r.day(e,{width:"short",context:"formatting",valueCallback:l})||r.day(e,{width:"narrow",context:"formatting",valueCallback:l})}},validate:function(e,t,r){return t>=1&&t<=7},set:function(e,t,r,o){return e=setUTCISODay(e,r,o),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,r,o){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,o){return e.setUTCHours(dayPeriodEnumToHours(r),0,0,0),e},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(e,t,r,o){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,o){return e.setUTCHours(dayPeriodEnumToHours(r),0,0,0),e},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(e,t,r,o){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,o){return e.setUTCHours(dayPeriodEnumToHours(r),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,r,o){switch(t){case"h":return parseNumericPattern(numericPatterns.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=12},set:function(e,t,r,o){var l=e.getUTCHours()>=12;return l&&r<12?e.setUTCHours(r+12,0,0,0):!l&&r===12?e.setUTCHours(0,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,r,o){switch(t){case"H":return parseNumericPattern(numericPatterns.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=23},set:function(e,t,r,o){return e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,r,o){switch(t){case"K":return parseNumericPattern(numericPatterns.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,o){var l=e.getUTCHours()>=12;return l&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(e,t,r,o){switch(t){case"k":return parseNumericPattern(numericPatterns.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=24},set:function(e,t,r,o){var l=r<=24?r%24:r;return e.setUTCHours(l,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,r,o){switch(t){case"m":return parseNumericPattern(numericPatterns.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,o){return e.setUTCMinutes(r,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,r,o){switch(t){case"s":return parseNumericPattern(numericPatterns.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,o){return e.setUTCSeconds(r,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,r,o){var l=function(h){return Math.floor(h*Math.pow(10,-t.length+3))};return parseNDigits(t.length,e,l)},set:function(e,t,r,o){return e.setUTCMilliseconds(r),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,r,o){switch(t){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,e);case"XX":return parseTimezonePattern(timezonePatterns.basic,e);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,e);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,e);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,e)}},set:function(e,t,r,o){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,r,o){switch(t){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,e);case"xx":return parseTimezonePattern(timezonePatterns.basic,e);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,e);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,e);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,e)}},set:function(e,t,r,o){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,r,o){return parseAnyDigitsSigned(e)},set:function(e,t,r,o){return[new Date(r*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,r,o){return parseAnyDigitsSigned(e)},set:function(e,t,r,o){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}},parsers$1=parsers,TIMEZONE_UNIT_PRIORITY=10,formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(e,t,r,o){requiredArgs(3,arguments);var l=String(e),h=String(t),y=o||{},D=y.locale||defaultLocale;if(!D.match)throw new RangeError("locale must contain match property");var O=D.options&&D.options.firstWeekContainsDate,F=O==null?1:toInteger(O),R=y.firstWeekContainsDate==null?F:toInteger(y.firstWeekContainsDate);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=D.options&&D.options.weekStartsOn,j=B==null?0:toInteger(B),U=y.weekStartsOn==null?j:toInteger(y.weekStartsOn);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(h==="")return l===""?toDate(r):new Date(NaN);var q={firstWeekContainsDate:R,weekStartsOn:U,locale:D},W=[{priority:TIMEZONE_UNIT_PRIORITY,subPriority:-1,set:dateToSystemTimezone,index:0}],G,Y=h.match(longFormattingTokensRegExp).map(function(at){var st=at[0];if(st==="p"||st==="P"){var ht=longFormatters$1[st];return ht(at,D.formatLong,q)}return at}).join("").match(formattingTokensRegExp),K=[];for(G=0;G<Y.length;G++){var X=Y[G];!y.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(X)&&throwProtectedError(X,h,e),!y.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(X)&&throwProtectedError(X,h,e);var J=X[0],Q=parsers$1[J];if(Q){var et=Q.incompatibleTokens;if(Array.isArray(et)){for(var nt=void 0,Z=0;Z<K.length;Z++){var it=K[Z].token;if(et.indexOf(it)!==-1||it===J){nt=K[Z];break}}if(nt)throw new RangeError("The format string mustn't contain `".concat(nt.fullToken,"` and `").concat(X,"` at the same time"))}else if(Q.incompatibleTokens==="*"&&K.length)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));K.push({token:J,fullToken:X});var rt=Q.parse(l,X,D.match,q);if(!rt)return new Date(NaN);W.push({priority:Q.priority,subPriority:Q.subPriority||0,set:Q.set,validate:Q.validate,value:rt.value,index:W.length}),l=rt.rest}else{if(J.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");if(X==="''"?X="'":J==="'"&&(X=cleanEscapedString(X)),l.indexOf(X)===0)l=l.slice(X.length);else return new Date(NaN)}}if(l.length>0&&notWhitespaceRegExp.test(l))return new Date(NaN);var tt=W.map(function(at){return at.priority}).sort(function(at,st){return st-at}).filter(function(at,st,ht){return ht.indexOf(at)===st}).map(function(at){return W.filter(function(st){return st.priority===at}).sort(function(st,ht){return ht.subPriority-st.subPriority})}).map(function(at){return at[0]}),ct=toDate(r);if(isNaN(ct))return new Date(NaN);var lt=subMilliseconds(ct,getTimezoneOffsetInMilliseconds(ct)),ot={};for(G=0;G<tt.length;G++){var dt=tt[G];if(dt.validate&&!dt.validate(lt,dt.value,q))return new Date(NaN);var ut=dt.set(lt,ot,dt.value,q);ut[0]?(lt=ut[0],assign(ot,ut[1])):lt=ut}return lt}function dateToSystemTimezone(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}function cleanEscapedString(e){return e.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function startOfHour(e){requiredArgs(1,arguments);var t=toDate(e);return t.setMinutes(0,0,0),t}function startOfSecond(e){requiredArgs(1,arguments);var t=toDate(e);return t.setMilliseconds(0),t}function parseISO(e,t){requiredArgs(1,arguments);var r=t||{},o=r.additionalDigits==null?2:toInteger(r.additionalDigits);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var l=splitDateString(e),h;if(l.date){var y=parseYear(l.date,o);h=parseDate(y.restDateString,y.year)}if(!h||isNaN(h.getTime()))return new Date(NaN);var D=h.getTime(),O=0,F;if(l.time&&(O=parseTime(l.time),isNaN(O)))return new Date(NaN);if(l.timezone){if(F=parseTimezone(l.timezone),isNaN(F))return new Date(NaN)}else{var R=new Date(D+O),B=new Date(0);return B.setFullYear(R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate()),B.setHours(R.getUTCHours(),R.getUTCMinutes(),R.getUTCSeconds(),R.getUTCMilliseconds()),B}return new Date(D+O+F)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(e){var t={},r=e.split(patterns.dateTimeDelimiter),o;if(r.length>2)return t;if(/:/.test(r[0])?o=r[0]:(t.date=r[0],o=r[1],patterns.timeZoneDelimiter.test(t.date)&&(t.date=e.split(patterns.timeZoneDelimiter)[0],o=e.substr(t.date.length,e.length))),o){var l=patterns.timezone.exec(o);l?(t.time=o.replace(l[1],""),t.timezone=l[1]):t.time=o}return t}function parseYear(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(r);if(!o)return{year:NaN,restDateString:""};var l=o[1]?parseInt(o[1]):null,h=o[2]?parseInt(o[2]):null;return{year:h===null?l:h*100,restDateString:e.slice((o[1]||o[2]).length)}}function parseDate(e,t){if(t===null)return new Date(NaN);var r=e.match(dateRegex);if(!r)return new Date(NaN);var o=!!r[4],l=parseDateUnit(r[1]),h=parseDateUnit(r[2])-1,y=parseDateUnit(r[3]),D=parseDateUnit(r[4]),O=parseDateUnit(r[5])-1;if(o)return validateWeekDate(t,D,O)?dayOfISOWeekYear(t,D,O):new Date(NaN);var F=new Date(0);return!validateDate(t,h,y)||!validateDayOfYearDate(t,l)?new Date(NaN):(F.setUTCFullYear(t,h,Math.max(l,y)),F)}function parseDateUnit(e){return e?parseInt(e):1}function parseTime(e){var t=e.match(timeRegex);if(!t)return NaN;var r=parseTimeUnit(t[1]),o=parseTimeUnit(t[2]),l=parseTimeUnit(t[3]);return validateTime(r,o,l)?r*millisecondsInHour+o*millisecondsInMinute+l*1e3:NaN}function parseTimeUnit(e){return e&&parseFloat(e.replace(",","."))||0}function parseTimezone(e){if(e==="Z")return 0;var t=e.match(timezoneRegex);if(!t)return 0;var r=t[1]==="+"?-1:1,o=parseInt(t[2]),l=t[3]&&parseInt(t[3])||0;return validateTimezone(o,l)?r*(o*millisecondsInHour+l*millisecondsInMinute):NaN}function dayOfISOWeekYear(e,t,r){var o=new Date(0);o.setUTCFullYear(e,0,4);var l=o.getUTCDay()||7,h=(t-1)*7+r+1-l;return o.setUTCDate(o.getUTCDate()+h),o}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(e){return e%400===0||e%4===0&&e%100!==0}function validateDate(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(daysInMonths[t]||(isLeapYearIndex(e)?29:28))}function validateDayOfYearDate(e,t){return t>=1&&t<=(isLeapYearIndex(e)?366:365)}function validateWeekDate(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function validateTime(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function validateTimezone(e,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v1.1.0-beta.1
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const FORMATS={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};adapters._date.override({_id:"date-fns",formats:function(){return FORMATS},parse:function(e,t){if(e===null||typeof e=="undefined")return null;const r=typeof e;return r==="number"||e instanceof Date?e=toDate(e):r==="string"&&(typeof t=="string"?e=parse(e,t,new Date,this.options):e=parseISO(e,this.options)),isValid(e)?e.getTime():null},format:function(e,t){return format(e,t,this.options)},add:function(e,t,r){switch(r){case"millisecond":return addMilliseconds(e,t);case"second":return addSeconds(e,t);case"minute":return addMinutes(e,t);case"hour":return addHours(e,t);case"day":return addDays(e,t);case"week":return addWeeks(e,t);case"month":return addMonths(e,t);case"quarter":return addQuarters(e,t);case"year":return addYears(e,t);default:return e}},diff:function(e,t,r){switch(r){case"millisecond":return differenceInMilliseconds(e,t);case"second":return differenceInSeconds(e,t);case"minute":return differenceInMinutes(e,t);case"hour":return differenceInHours(e,t);case"day":return differenceInDays(e,t);case"week":return differenceInWeeks(e,t);case"month":return differenceInMonths(e,t);case"quarter":return differenceInQuarters(e,t);case"year":return differenceInYears(e,t);default:return 0}},startOf:function(e,t,r){switch(t){case"second":return startOfSecond(e);case"minute":return startOfMinute(e);case"hour":return startOfHour(e);case"day":return startOfDay(e);case"week":return startOfWeek(e);case"isoWeek":return startOfWeek(e,{weekStartsOn:+r});case"month":return startOfMonth(e);case"quarter":return startOfQuarter(e);case"year":return startOfYear(e);default:return e}},endOf:function(e,t){switch(t){case"second":return endOfSecond(e);case"minute":return endOfMinute(e);case"hour":return endOfHour(e);case"day":return endOfDay(e);case"week":return endOfWeek(e);case"month":return endOfMonth(e);case"quarter":return endOfQuarter(e);case"year":return endOfYear(e);default:return e}}});/*!
 * chartjs-plugin-deferred v2.0.0
 * https://chartjs-plugin-deferred.netlify.app
 * (c) 2016-2022 chartjs-plugin-deferred contributors
 * Released under the MIT license
 */var STUB_KEY="$chartjs_deferred",MODEL_KEY="$deferred";function defer(e,t){t?window.setTimeout(e,t):requestAnimFrame.call(window,e)}function computeOffset(e,t){var r=parseInt(e,10);return isNaN(r)?0:typeof e=="string"&&e.indexOf("%")!==-1?r/100*t:r}function chartInViewport(e){var t=e[MODEL_KEY].options,r=e.canvas;if(!r||r.offsetParent===null)return!1;var o=r.getBoundingClientRect(),l=computeOffset(t.yOffset||0,o.height),h=computeOffset(t.xOffset||0,o.width);return o.right-h>=0&&o.bottom-l>=0&&o.left+h<=window.innerWidth&&o.top+l<=window.innerHeight}function onScroll(e){var t=e.target,r=t[STUB_KEY];r.ticking||(r.ticking=!0,defer(function(){var o=r.charts.slice(),l=o.length,h,y;for(y=0;y<l;++y)h=o[y],chartInViewport(h)&&(unwatch(h),h[MODEL_KEY].appeared=!0,h.update());r.ticking=!1}))}function isScrollable(e){var t=e.nodeType;if(t===Node.ELEMENT_NODE){var r=getStyle(e,"overflow-x"),o=getStyle(e,"overflow-y");return r==="auto"||r==="scroll"||o==="auto"||o==="scroll"}return e.nodeType===Node.DOCUMENT_NODE}function watch(e){for(var t=e.canvas,r=t.parentElement,o,l;r;)isScrollable(r)&&(o=r[STUB_KEY]||(r[STUB_KEY]={}),l=o.charts||(o.charts=[]),l.length===0&&r.addEventListener("scroll",onScroll),l.push(e),e[MODEL_KEY].elements.push(r)),r=r.parentElement||r.ownerDocument}function unwatch(e){e[MODEL_KEY].elements.forEach(function(t){var r=t[STUB_KEY].charts;r.splice(r.indexOf(e),1),r.length||(t.removeEventListener("scroll",onScroll),delete t[STUB_KEY])}),e[MODEL_KEY].elements=[]}var plugin={id:"deferred",defaults:{xOffset:0,yOffset:0,delay:0},beforeInit:function(e,t,r){e[MODEL_KEY]={options:r,appeared:!1,delayed:!1,loaded:!1,elements:[]},watch(e)},beforeDatasetsUpdate:function(e,t,r){var o=e[MODEL_KEY];if(!o.loaded){if(!o.appeared&&!chartInViewport(e))return!1;if(o.appeared=!0,o.loaded=!0,unwatch(e),r.delay>0)return o.delayed=!0,defer(function(){e.ctx&&(o.delayed=!1,e.update())},r.delay),!1}if(o.delayed)return!1},destroy:function(e){unwatch(e)}},aos$1={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(commonjsGlobal,function(){return function(r){function o(h){if(l[h])return l[h].exports;var y=l[h]={exports:{},id:h,loaded:!1};return r[h].call(y.exports,y,y.exports,o),y.loaded=!0,y.exports}var l={};return o.m=r,o.c=l,o.p="dist/",o(0)}([function(r,o,l){function h(ot){return ot&&ot.__esModule?ot:{default:ot}}var y=Object.assign||function(ot){for(var dt=1;dt<arguments.length;dt++){var ut=arguments[dt];for(var at in ut)Object.prototype.hasOwnProperty.call(ut,at)&&(ot[at]=ut[at])}return ot},D=l(1),O=(h(D),l(6)),F=h(O),R=l(7),B=h(R),j=l(8),U=h(j),q=l(9),W=h(q),G=l(10),Y=h(G),K=l(11),X=h(K),J=l(14),Q=h(J),et=[],nt=!1,Z={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},it=function(){var ot=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ot&&(nt=!0),nt)return et=(0,X.default)(et,Z),(0,Y.default)(et,Z.once),et},rt=function(){et=(0,Q.default)(),it()},tt=function(){et.forEach(function(ot,dt){ot.node.removeAttribute("data-aos"),ot.node.removeAttribute("data-aos-easing"),ot.node.removeAttribute("data-aos-duration"),ot.node.removeAttribute("data-aos-delay")})},ct=function(ot){return ot===!0||ot==="mobile"&&W.default.mobile()||ot==="phone"&&W.default.phone()||ot==="tablet"&&W.default.tablet()||typeof ot=="function"&&ot()===!0},lt=function(ot){Z=y(Z,ot),et=(0,Q.default)();var dt=document.all&&!window.atob;return ct(Z.disable)||dt?tt():(Z.disableMutationObserver||U.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),Z.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Z.easing),document.querySelector("body").setAttribute("data-aos-duration",Z.duration),document.querySelector("body").setAttribute("data-aos-delay",Z.delay),Z.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?it(!0):Z.startEvent==="load"?window.addEventListener(Z.startEvent,function(){it(!0)}):document.addEventListener(Z.startEvent,function(){it(!0)}),window.addEventListener("resize",(0,B.default)(it,Z.debounceDelay,!0)),window.addEventListener("orientationchange",(0,B.default)(it,Z.debounceDelay,!0)),window.addEventListener("scroll",(0,F.default)(function(){(0,Y.default)(et,Z.once)},Z.throttleDelay)),Z.disableMutationObserver||U.default.ready("[data-aos]",rt),et)};r.exports={init:lt,refresh:it,refreshHard:rt}},function(r,o){},,,,,function(r,o){(function(l){function h(ct,lt,ot){function dt(wt){var Ct=pt,Tt=mt;return pt=mt=void 0,St=wt,xt=ct.apply(Tt,Ct)}function ut(wt){return St=wt,kt=setTimeout(ht,lt),Et?dt(wt):xt}function at(wt){var Ct=wt-Pt,Tt=wt-St,Lt=lt-Ct;return Mt?rt(Lt,gt-Tt):Lt}function st(wt){var Ct=wt-Pt,Tt=wt-St;return Pt===void 0||Ct>=lt||Ct<0||Mt&&Tt>=gt}function ht(){var wt=tt();return st(wt)?_t(wt):void(kt=setTimeout(ht,at(wt)))}function _t(wt){return kt=void 0,bt&&pt?dt(wt):(pt=mt=void 0,xt)}function yt(){kt!==void 0&&clearTimeout(kt),St=0,pt=Pt=mt=kt=void 0}function ft(){return kt===void 0?xt:_t(tt())}function vt(){var wt=tt(),Ct=st(wt);if(pt=arguments,mt=this,Pt=wt,Ct){if(kt===void 0)return ut(Pt);if(Mt)return kt=setTimeout(ht,lt),dt(Pt)}return kt===void 0&&(kt=setTimeout(ht,lt)),xt}var pt,mt,gt,xt,kt,Pt,St=0,Et=!1,Mt=!1,bt=!0;if(typeof ct!="function")throw new TypeError(j);return lt=R(lt)||0,D(ot)&&(Et=!!ot.leading,Mt="maxWait"in ot,gt=Mt?it(R(ot.maxWait)||0,lt):gt,bt="trailing"in ot?!!ot.trailing:bt),vt.cancel=yt,vt.flush=ft,vt}function y(ct,lt,ot){var dt=!0,ut=!0;if(typeof ct!="function")throw new TypeError(j);return D(ot)&&(dt="leading"in ot?!!ot.leading:dt,ut="trailing"in ot?!!ot.trailing:ut),h(ct,lt,{leading:dt,maxWait:lt,trailing:ut})}function D(ct){var lt=typeof ct=="undefined"?"undefined":B(ct);return!!ct&&(lt=="object"||lt=="function")}function O(ct){return!!ct&&(typeof ct=="undefined"?"undefined":B(ct))=="object"}function F(ct){return(typeof ct=="undefined"?"undefined":B(ct))=="symbol"||O(ct)&&Z.call(ct)==q}function R(ct){if(typeof ct=="number")return ct;if(F(ct))return U;if(D(ct)){var lt=typeof ct.valueOf=="function"?ct.valueOf():ct;ct=D(lt)?lt+"":lt}if(typeof ct!="string")return ct===0?ct:+ct;ct=ct.replace(W,"");var ot=Y.test(ct);return ot||K.test(ct)?X(ct.slice(2),ot?2:8):G.test(ct)?U:+ct}var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ct){return typeof ct}:function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct},j="Expected a function",U=NaN,q="[object Symbol]",W=/^\s+|\s+$/g,G=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,K=/^0o[0-7]+$/i,X=parseInt,J=(typeof l=="undefined"?"undefined":B(l))=="object"&&l&&l.Object===Object&&l,Q=(typeof self=="undefined"?"undefined":B(self))=="object"&&self&&self.Object===Object&&self,et=J||Q||Function("return this")(),nt=Object.prototype,Z=nt.toString,it=Math.max,rt=Math.min,tt=function(){return et.Date.now()};r.exports=y}).call(o,function(){return this}())},function(r,o){(function(l){function h(tt,ct,lt){function ot(bt){var wt=vt,Ct=pt;return vt=pt=void 0,Pt=bt,gt=tt.apply(Ct,wt)}function dt(bt){return Pt=bt,xt=setTimeout(st,ct),St?ot(bt):gt}function ut(bt){var wt=bt-kt,Ct=bt-Pt,Tt=ct-wt;return Et?it(Tt,mt-Ct):Tt}function at(bt){var wt=bt-kt,Ct=bt-Pt;return kt===void 0||wt>=ct||wt<0||Et&&Ct>=mt}function st(){var bt=rt();return at(bt)?ht(bt):void(xt=setTimeout(st,ut(bt)))}function ht(bt){return xt=void 0,Mt&&vt?ot(bt):(vt=pt=void 0,gt)}function _t(){xt!==void 0&&clearTimeout(xt),Pt=0,vt=kt=pt=xt=void 0}function yt(){return xt===void 0?gt:ht(rt())}function ft(){var bt=rt(),wt=at(bt);if(vt=arguments,pt=this,kt=bt,wt){if(xt===void 0)return dt(kt);if(Et)return xt=setTimeout(st,ct),ot(kt)}return xt===void 0&&(xt=setTimeout(st,ct)),gt}var vt,pt,mt,gt,xt,kt,Pt=0,St=!1,Et=!1,Mt=!0;if(typeof tt!="function")throw new TypeError(B);return ct=F(ct)||0,y(lt)&&(St=!!lt.leading,Et="maxWait"in lt,mt=Et?Z(F(lt.maxWait)||0,ct):mt,Mt="trailing"in lt?!!lt.trailing:Mt),ft.cancel=_t,ft.flush=yt,ft}function y(tt){var ct=typeof tt=="undefined"?"undefined":R(tt);return!!tt&&(ct=="object"||ct=="function")}function D(tt){return!!tt&&(typeof tt=="undefined"?"undefined":R(tt))=="object"}function O(tt){return(typeof tt=="undefined"?"undefined":R(tt))=="symbol"||D(tt)&&nt.call(tt)==U}function F(tt){if(typeof tt=="number")return tt;if(O(tt))return j;if(y(tt)){var ct=typeof tt.valueOf=="function"?tt.valueOf():tt;tt=y(ct)?ct+"":ct}if(typeof tt!="string")return tt===0?tt:+tt;tt=tt.replace(q,"");var lt=G.test(tt);return lt||Y.test(tt)?K(tt.slice(2),lt?2:8):W.test(tt)?j:+tt}var R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},B="Expected a function",j=NaN,U="[object Symbol]",q=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,K=parseInt,X=(typeof l=="undefined"?"undefined":R(l))=="object"&&l&&l.Object===Object&&l,J=(typeof self=="undefined"?"undefined":R(self))=="object"&&self&&self.Object===Object&&self,Q=X||J||Function("return this")(),et=Object.prototype,nt=et.toString,Z=Math.max,it=Math.min,rt=function(){return Q.Date.now()};r.exports=h}).call(o,function(){return this}())},function(r,o){function l(R){var B=void 0,j=void 0;for(B=0;B<R.length;B+=1)if(j=R[B],j.dataset&&j.dataset.aos||j.children&&l(j.children))return!0;return!1}function h(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function y(){return!!h()}function D(R,B){var j=window.document,U=h(),q=new U(O);F=B,q.observe(j.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function O(R){R&&R.forEach(function(B){var j=Array.prototype.slice.call(B.addedNodes),U=Array.prototype.slice.call(B.removedNodes),q=j.concat(U);if(l(q))return F()})}Object.defineProperty(o,"__esModule",{value:!0});var F=function(){};o.default={isSupported:y,ready:D}},function(r,o){function l(j,U){if(!(j instanceof U))throw new TypeError("Cannot call a class as a function")}function h(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function j(U,q){for(var W=0;W<q.length;W++){var G=q[W];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(U,G.key,G)}}return function(U,q,W){return q&&j(U.prototype,q),W&&j(U,W),U}}(),D=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,O=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,F=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,R=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,B=function(){function j(){l(this,j)}return y(j,[{key:"phone",value:function(){var U=h();return!(!D.test(U)&&!O.test(U.substr(0,4)))}},{key:"mobile",value:function(){var U=h();return!(!F.test(U)&&!R.test(U.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),j}();o.default=new B},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(y,D,O){var F=y.node.getAttribute("data-aos-once");D>y.position?y.node.classList.add("aos-animate"):typeof F!="undefined"&&(F==="false"||!O&&F!=="true")&&y.node.classList.remove("aos-animate")},h=function(y,D){var O=window.pageYOffset,F=window.innerHeight;y.forEach(function(R,B){l(R,F+O,D)})};o.default=h},function(r,o,l){function h(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(12),D=h(y),O=function(F,R){return F.forEach(function(B,j){B.node.classList.add("aos-init"),B.position=(0,D.default)(B.node,R.offset)}),F};o.default=O},function(r,o,l){function h(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(13),D=h(y),O=function(F,R){var B=0,j=0,U=window.innerHeight,q={offset:F.getAttribute("data-aos-offset"),anchor:F.getAttribute("data-aos-anchor"),anchorPlacement:F.getAttribute("data-aos-anchor-placement")};switch(q.offset&&!isNaN(q.offset)&&(j=parseInt(q.offset)),q.anchor&&document.querySelectorAll(q.anchor)&&(F=document.querySelectorAll(q.anchor)[0]),B=(0,D.default)(F).top,q.anchorPlacement){case"top-bottom":break;case"center-bottom":B+=F.offsetHeight/2;break;case"bottom-bottom":B+=F.offsetHeight;break;case"top-center":B+=U/2;break;case"bottom-center":B+=U/2+F.offsetHeight;break;case"center-center":B+=U/2+F.offsetHeight/2;break;case"top-top":B+=U;break;case"bottom-top":B+=F.offsetHeight+U;break;case"center-top":B+=F.offsetHeight/2+U}return q.anchorPlacement||q.offset||isNaN(R)||(j=R),B+j};o.default=O},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){for(var y=0,D=0;h&&!isNaN(h.offsetLeft)&&!isNaN(h.offsetTop);)y+=h.offsetLeft-(h.tagName!="BODY"?h.scrollLeft:0),D+=h.offsetTop-(h.tagName!="BODY"?h.scrollTop:0),h=h.offsetParent;return{top:D,left:y}};o.default=l},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){return h=h||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(h,function(y){return{node:y}})};o.default=l}])})})(aos$1);var AOS=getDefaultExportFromCjs(aos$1.exports),aos="",projectView_svelte_svelte_type_style_lang="";const{document:document_1$1}=globals;function create_catch_block$7(e){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block$7(e){let t;function r(h,y){return h[19].time.length>0?create_if_block_1$8:create_else_block$6}let l=r(e)(e);return{c(){l.c(),t=empty()},m(h,y){l.m(h,y),insert(h,t,y)},p(h,y){l.p(h,y)},d(h){l.d(h),h&&detach(t)}}}function create_else_block$6(e){let t,r,o,l,h,y,D,O,F,R,B,j,U;return{c(){t=element("div"),r=element("div"),r.innerHTML='<lottie-player src="https://assets1.lottiefiles.com/private_files/lf30_oqpbtola.json" background="transparent" speed="1" style="width:200px; margin:auto;" autoplay="" loop=""></lottie-player>',o=space(),l=element("div"),h=element("h3"),h.textContent="Pas encore de r\xE9ponses \u{1F622}",y=space(),D=element("p"),D.textContent="Vos graphiques s'afficheront automatiquement ici d\xE8s la premi\xE8re r\xE9ponse \xE0 ce sondage.",O=space(),F=element("div"),F.textContent="Partager le sondage \u{1F680}",R=space(),B=element("div"),B.textContent="Supprimer \u274C",attr(r,"class","pr-0 pr-md-4"),attr(D,"class","pr-3 mb-4"),attr(F,"class","shareBtn mr-4 svelte-3y3um3"),attr(B,"class","shareBtn svelte-3y3um3"),attr(l,"class","margin:auto;"),attr(t,"class","noData d-flex flex-column flex-md-row justify-content-around align-items-center svelte-3y3um3")},m(q,W){insert(q,t,W),append(t,r),append(t,o),append(t,l),append(l,h),append(l,y),append(l,D),append(l,O),append(l,F),append(l,R),append(l,B),j||(U=[listen(F,"click",e[10]),listen(B,"click",e[11])],j=!0)},p:noop$2,d(q){q&&detach(t),j=!1,run_all(U)}}}function create_if_block_1$8(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot,dt,ut,at,st,ht,_t,yt,ft,vt,pt,mt,gt,xt;return{c(){t=element("div"),r=element("div"),o=element("div"),l=element("h4"),l.textContent="Filtre des donn\xE9es",h=space(),y=element("div"),D=element("div"),D.textContent="1.",O=space(),F=element("select"),R=element("option"),R.textContent="D\xE9sactiv\xE9",B=space(),j=element("select"),U=element("option"),U.textContent="\xE9gal \xE0",q=element("option"),q.textContent="sup\xE9rieur ou \xE9gal \xE0",W=element("option"),W.textContent="inf\xE9rieur ou \xE9gal \xE0",G=space(),Y=element("span"),Y.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',K=space(),X=element("div"),J=element("div"),J.textContent="2.",Q=space(),et=element("select"),nt=element("option"),nt.textContent="D\xE9sactiv\xE9",Z=space(),it=element("select"),rt=element("option"),rt.textContent="\xE9gal \xE0",tt=element("option"),tt.textContent="sup\xE9rieur ou \xE9gal \xE0",ct=element("option"),ct.textContent="inf\xE9rieur ou \xE9gal \xE0",lt=space(),ot=element("span"),ot.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',dt=space(),ut=element("div"),at=element("button"),at.innerHTML='<i class="bx bx-filter-alt pr-1"></i>Filtrer',st=space(),ht=element("div"),_t=element("div"),yt=element("button"),yt.innerHTML='<i class="bx bx-export pr-1"></i>Exporter les donn\xE9es',ft=space(),vt=element("button"),vt.innerHTML='<i class="bx bx-trash pr-1"></i>Supprimer le sondage',pt=space(),mt=element("span"),attr(l,"class","mb-3"),set_style(D,"font-size","1.2rem"),attr(D,"class","mr-3"),R.__value="dis",R.value=R.__value,attr(F,"class","rtnFilterSelect"),U.__value="==",U.value=U.__value,q.__value=">=",q.value=q.__value,W.__value="<=",W.value=W.__value,attr(j,"class","rtnFilterSelect"),j.disabled=!0,attr(y,"class","align-items-center d-flex justify-content-center p-2"),set_style(J,"font-size","1.2rem"),attr(J,"class","mr-3"),nt.__value="dis",nt.value=nt.__value,attr(et,"class","rtnFilterSelect"),rt.__value="==",rt.value=rt.__value,tt.__value=">=",tt.value=tt.__value,ct.__value="<=",ct.value=ct.__value,attr(it,"class","rtnFilterSelect"),it.disabled=!0,attr(X,"class","align-items-center d-flex justify-content-center p-2"),set_style(at,"min-width","100px"),set_style(at,"border-radius","10px"),set_style(at,"border-width","0px"),set_style(at,"padding","8px 15px"),attr(ut,"class","mt-3"),attr(o,"class","neuProjetSimple p-4 text-center h-100 m-0 svelte-3y3um3"),set_style(o,"color","white"),set_style(o,"background-color","#6219d8"),attr(r,"id","filtreZone"),attr(r,"class","col-12 col-lg-8 p-3 m-0"),set_style(yt,"background-color","#23be6e4d"),attr(yt,"class","btnDash hvr-float"),set_style(vt,"background-color","#db54614d"),attr(vt,"class","btnDash hvr-float"),attr(_t,"class","align-items-stretch d-flex flex-lg-column flex-row h-100 justify-content-lg-between justify-content-around"),attr(ht,"class","col-12 col-lg-4 p-3 m-0"),attr(t,"id","mesResultats"),attr(t,"class","row p-0 p-md-1 mx-auto w-100"),set_style(t,"max-width","1100px")},m(kt,Pt){insert(kt,t,Pt),append(t,r),append(r,o),append(o,l),append(o,h),append(o,y),append(y,D),append(y,O),append(y,F),append(F,R),append(y,B),append(y,j),append(j,U),append(j,q),append(j,W),append(y,G),append(y,Y),append(o,K),append(o,X),append(X,J),append(X,Q),append(X,et),append(et,nt),append(X,Z),append(X,it),append(it,rt),append(it,tt),append(it,ct),append(X,lt),append(X,ot),append(o,dt),append(o,ut),append(ut,at),append(t,st),append(t,ht),append(ht,_t),append(_t,yt),append(_t,ft),append(_t,vt),insert(kt,pt,Pt),insert(kt,mt,Pt),gt||(xt=[listen(at,"click",e[7]),listen(yt,"click",e[8]),listen(vt,"click",e[9]),action_destroyer(e[5].call(null,mt,e[19]))],gt=!0)},p(kt,Pt){e=kt},d(kt){kt&&detach(t),kt&&detach(pt),kt&&detach(mt),gt=!1,run_all(xt)}}}function create_pending_block$7(e){let t;return{c(){t=element("div"),t.textContent="Chargement..."},m(r,o){insert(r,t,o)},p:noop$2,d(r){r&&detach(t)}}}function create_if_block$b(e){let t,r,o,l,h,y,D;const O=[e[1].props||{}];var F=e[1].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(t=new F(R())),{c(){t&&create_component(t.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-3y3um3")},m(B,j){t&&mount_component(t,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",e[12]),y=!0)},p(B,j){const U=j&2?get_spread_update(O,[get_spread_object(B[1].props||{})]):{};if(F!==(F=B[1].component)){if(t){group_outros();const q=t;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(t=new F(R()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else F&&t.$set(U)},i(B){h||(t&&transition_in(t.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(B){t&&transition_out(t.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(B){t&&destroy_component(t,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$4(e){let t,r,o=e[1]&&create_if_block$b(e);return{c(){o&&o.c(),t=empty()},m(l,h){o&&o.m(l,h),insert(l,t,h),r=!0},p(l,h){l[1]?o?(o.p(l,h),h&2&&transition_in(o,1)):(o=create_if_block$b(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$g(e){let t,r,o,l,h,y=e[0].nom_proj+"",D,O,F,R,B,j,U,q,W,G={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block$7,then:create_then_block$7,catch:create_catch_block$7,value:19};return handle_promise(e[3],G),q=new Modals({props:{$$slots:{default:[create_default_slot$4]},$$scope:{ctx:e}}}),{c(){t=element("link"),r=element("script"),l=space(),h=element("h1"),D=text(y),O=space(),F=element("div"),F.textContent="\u{1F534} Donn\xE9es en direct",R=space(),B=element("div"),j=space(),G.block.c(),U=space(),create_component(q.$$.fragment),attr(t,"rel","stylesheet"),attr(t,"href","assets/graphs.css"),src_url_equal(r.src,o="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js")||attr(r,"src",o),attr(r,"integrity","sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="),attr(r,"crossorigin","anonymous"),attr(r,"referrerpolicy","no-referrer"),attr(h,"class","py-2 mb-3 text-center"),attr(F,"class","liveBtn svelte-3y3um3"),attr(B,"id","headerBar"),attr(B,"class","text-center w-100 py-2 mb-3 mt-5")},m(Y,K){append(document_1$1.head,t),append(document_1$1.head,r),insert(Y,l,K),insert(Y,h,K),append(h,D),insert(Y,O,K),insert(Y,F,K),insert(Y,R,K),insert(Y,B,K),insert(Y,j,K),G.block.m(Y,G.anchor=K),G.mount=()=>U.parentNode,G.anchor=U,insert(Y,U,K),mount_component(q,Y,K),W=!0},p(Y,[K]){e=Y,(!W||K&1)&&y!==(y=e[0].nom_proj+"")&&set_data(D,y),update_await_block_branch(G,e,K);const X={};K&1048578&&(X.$$scope={dirty:K,ctx:e}),q.$set(X)},i(Y){W||(transition_in(q.$$.fragment,Y),W=!0)},o(Y){transition_out(q.$$.fragment,Y),W=!1},d(Y){detach(t),detach(r),Y&&detach(l),Y&&detach(h),Y&&detach(O),Y&&detach(F),Y&&detach(R),Y&&detach(B),Y&&detach(j),G.block.d(Y),G.token=null,G=null,Y&&detach(U),destroy_component(q,Y)}}}function instance$f(e,t,r){let o,l;component_subscribe(e,modals,Q=>r(6,l=Q));function h(Q){activePageStore.set(Q)}let{projData:y}=t,D;var O=[];let F=`<div class="neuProjetSimple p-4 text-center" data-aos="fade-up" data-aos-delay="100">
      <div>
          <h5>##TTRQUEST##</h5>
          <div class="nbRepGraph">\u{1F9CD} ##REPS## r\xE9pondants</div>
          <div class="filtrWatermark nbRepGraph"></div>
          <div class="canvContain"></div>
      </div>
      <div class="d-flex align-itemps-center justify-content-between">
        <button class="screenBtn" onclick="copyGraph(this.parentElement.previousSibling.previousSibling)">\u{1F4C4} Copier le graphique</button>
      </div>
    </div>`;async function R(Q={fltr1:"",fltr2:""}){var et=new Headers;et.append("Authorization","Token "+xxgc("rtnt")),et.append("Content-Type","application/json");var nt={method:"POST",headers:et,redirect:"follow",body:JSON.stringify(Q)};return fetch(`${rtnUrl}reps/${y.id}/`,nt).then(Z=>Z.text()).then(Z=>JSON.parse(Z)).catch(Z=>Z)}let B=R();const j=async(Q={fltr1:"",fltr2:""})=>{let et=await R(Q);et.data=Object.values(et.data);let nt=Object.keys(O);if(et.time.length==0)alert("Aucune donn\xE9es \xE0 afficher.");else{D(et.time);for(var Z=0;Z<nt.length;Z++)O[nt[Z]](et.data[nt[Z]]);let rt=document.getElementsByClassName("filtrWatermark");for(var it=0;it<rt.length;it++)if(Q.fltr1!=""||Q.fltr2!=""){let tt="",ct="";Q.fltr1!=""&&(tt=`Q${Q.fltr1[0]} ${Q.fltr1[1]} ${Q.fltr1[2]}`),Q.fltr2!=""&&(ct=`& ${Q.fltr2[0]} ${Q.fltr2[1]} ${Q.fltr2[2]}`),rt[it].innerHTML=`- R\xE9sultats filtr\xE9s : r\xE9p. ${tt} ${ct}`}else rt[it].innerHTML=""}},U=()=>{let Q,et;document.querySelectorAll(".rtnFilterSelect")[0].value!="dis"?Q=[document.querySelectorAll(".rtnFilterSelect")[0].value,document.querySelectorAll(".rtnFilterSelect")[1].value,document.querySelectorAll(".rtnFilterSelect")[2].value]:Q="",document.querySelectorAll(".rtnFilterSelect")[3].value!="dis"?et=[document.querySelectorAll(".rtnFilterSelect")[3].value,document.querySelectorAll(".rtnFilterSelect")[4].value,document.querySelectorAll(".rtnFilterSelect")[5].value]:et="",j({fltr1:Q,fltr2:et})};function q(Q,et){if(et.time.length==0)return;let nt=y,Z=JSON.parse(nt.jsonContent),it=document.querySelector("#mesResultats"),rt=document.createElement("div"),tt;rt.id="timeRepGraph",rt.classList.add("col-12","col-lg-12","p-3"),rt.innerHTML=F,rt.querySelector(".canvContain").innerHTML="<canvas></canvas>",it.insertAdjacentElement("afterbegin",rt),D=lt=>{let ot=document.querySelector("#timeRepGraph");ot.querySelector("h5").innerHTML="Evolution du nombre de r\xE9ponses",ot.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+lt.length.toString()+" r\xE9pondants",lt=lt.map(ut=>new Date(Date.parse(ut.replaceAll("-","/").split(" ")[0])).toISOString().split("T")[0]);let dt=getDaysArray(lt[0],lt[lt.length-1]).map(ut=>ut.toISOString().slice(0,10));typeof tt=="undefined"?tt=new Chart(ot.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:dt,datasets:[{data:dt.map(ut=>countOccurrences(lt,ut)),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}}):(tt.data.labels=dt,tt.data.datasets[0].data=dt.map(ut=>countOccurrences(lt,ut)),tt.update())},D(et.time);const ct=lt=>{lt.srcElement.value=="dis"?(lt.srcElement.nextElementSibling.disabled=!0,lt.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0):(lt.srcElement.nextElementSibling.disabled=!1,lt.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!1,["num"].includes(et.data[lt.srcElement.value].t)?(lt.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',lt.srcElement.nextElementSibling.nextElementSibling.innerHTML='<input class="rtnFilterSelect" type="number" style="width:100px;">'):["mc","1c"].includes(et.data[lt.srcElement.value].t)?(lt.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=" disabled>sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=" disabled>inf\xE9rieur ou \xE9gal \xE0</option>',lt.srcElement.nextElementSibling.nextElementSibling.innerHTML=`<select class="rtnFilterSelect" >
        ${Object.keys(et.data[lt.srcElement.value].d).map(ot=>`<option value="${ot}">${ot}</option>`).join("")}</select>`):["5s"].includes(et.data[lt.srcElement.value].t)?(lt.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',lt.srcElement.nextElementSibling.nextElementSibling.innerHTML='<select class="rtnFilterSelect"><option value="1">\u2B50</option><option value="2">\u2B50\u2B50</option><option value="3">\u2B50\u2B50\u2B50</option><option value="4">\u2B50\u2B50\u2B50\u2B50</option><option value="5">\u2B50\u2B50\u2B50\u2B50\u2B50</option></select>'):(lt.srcElement.nextElementSibling.disabled=!0,lt.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0))};document.querySelectorAll(".rtnFilterSelect")[0].addEventListener("change",ct),document.querySelectorAll(".rtnFilterSelect")[3].addEventListener("change",ct),et.data=Object.values(et.data);for(let lt in et.data)if(!(Z[lt].a.type=="1c"&&Z[lt].a.a.length==1)){document.querySelectorAll(".rtnFilterSelect")[0].insertAdjacentHTML("beforeend",`<option value='${lt}'>Question ${lt}</option`),document.querySelectorAll(".rtnFilterSelect")[3].insertAdjacentHTML("beforeend",`<option value='${lt}'>Question ${lt}</option`);let ot=document.createElement("div");if(ot.classList.add("col-12","col-lg-6","p-3"),ot.innerHTML=F.replace("##TTRQUEST##",lt.toString()+". "+Z[lt].q),ot.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+et.data[lt].nbrep.toString()+" r\xE9pondants",["mc","1c"].includes(et.data[lt].t)){let dt=et.data[lt];ot.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>");let ut=new Chart(ot.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"doughnut",data:{labels:Object.keys(dt.d),datasets:[{data:Object.values(dt.d),backgroundColor:chartColors}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(at,st)=>{let ht=0;return st.chart.data.datasets[0].data.map(ft=>{ht+=ft}),st.chart.data.labels[st.dataIndex]+`
`+(at*100/ht).toFixed(1)+"%"},textAlign:"center"},deferred:deferredConfig}}});O[lt.toString()]=at=>{ut.data.labels=Object.keys(at.d),ut.data.datasets[0].data=Object.values(at.d),ut.update(),ot.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+at.nbrep.toString()+" r\xE9pondants"}}else if(["cl"].includes(et.data[lt].t)){let dt=lt,ut=`<canvas id="realCanvCont"></canvas>
          <div id="realScoreCont">
              <div id="gauge2" class="mx-auto w-100 gauge-container three" style="max-width: 200px;"><span class="label"></span></div>
              <div class="starContain py-2 px-3 text-left m-auto" style="font-size: 0.8rem; opacity: 0.9; border-radius: 10px;">
                  \u{1F4A1} Score de sentiment moyen calcul\xE9 par R\xE9tine \xE0 l'aide d'intelligences artificielles. (0 = tr\xE8s n\xE9gatif, 100 = tr\xE8s positif).
              </div>
          </div>`;ot.querySelector(".canvContain").insertAdjacentHTML("afterbegin",ut);let at=et.data[lt];setTimeout(()=>{let st=Gauge(ot.querySelector("#gauge2"),{max:100,value:0,color(ft){return ft<60?"#6219D8":ft<25?"#E74C3C":"#2FCC72"},label(ft){if(ft<10)return`\u{1F621}
`+Math.round(ft);if(ft<25)return`\u{1F615}
`+Math.round(ft);if(ft<50)return`\u{1F610}
`+Math.round(ft);if(ft<75)return`\u{1F642}
`+Math.round(ft);if(ft<=100)return`\u{1F603}
`+Math.round(ft)}});setTimeout(()=>{st.setValueAnimated(at.d.sentMoy*100,1.5)},100);let ht=new WordCloudChart(ot.querySelector("canvas").getContext("2d"),{type:"wordCloud",data:{labels:Object.keys(at.d.nuage),datasets:[{label:"",color:"#6219D8",data:Object.values(at.d.nuage).map(ft=>15+ft*Math.min(125/Object.values(at.d.nuage).length,8))}]},options:{plugins:{legend:{display:!1},tooltips:{mode:"label",callbacks:{label(ft,vt){var pt=ft.index;return vt.labels[pt]+": "+vt.datasets[0].data[pt]}}},deferred:deferredConfig}}});O[dt.toString()]=ft=>{st.setValueAnimated(ft.d.sentMoy*100,1.5),ht.data.labels=Object.keys(ft.d.nuage),ht.data.datasets[0].data=Object.values(ft.d.nuage).map(vt=>15+vt*Math.min(125/Object.values(ft.d.nuage).length,8)),ot.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+ft.nbrep.toString()+" r\xE9pondants",ht.update()};const _t=ft=>{if(ft.target.dataset.state=="simple"){ot.querySelector("#realScoreCont").style.display="",ot.querySelector("#realCanvCont").style.display="none";let vt=st.getValue();st.setValue(0),st.setValueAnimated(vt),ft.target.dataset.state="detail"}else ot.querySelector("#realScoreCont").style.display="none",ot.querySelector("#realCanvCont").style.display="",ht.reset(),ht.update(),ft.target.dataset.state="simple"};let yt=document.createElement("button");yt.innerHTML="\u2795 D\xE9tails",yt.className="screenBtn",yt.dataset.state="simple",yt.addEventListener("click",_t,!1),ot.querySelector(".screenBtn").insertAdjacentElement("afterend",yt),yt.click()},1)}else if(["5s"].includes(et.data[lt].t)){let dt=["\u2B50\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50","\u2B50\u2B50","\u2B50"],ut=et.data[lt],at='<canvas id ="realCanvCont" style="display:none;"></canvas><div class="starContain py-5"></div>',st=`<div class="mb-3">Note moyenne de ##STARS##</div>
          <div class="stars">
            <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg>
            <div class="cover" style="width: ##PERCENT##%;"></div>
          </div>`;ot.querySelector(".canvContain").innerHTML=at,ot.querySelector(".starContain").innerHTML=st.replace("##PERCENT##",(100-ut.d.main*100/5).toString()).replace("##STARS##",ut.d.main);let ht=new Chart(ot.querySelector("#realCanvCont"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:dt,datasets:[{data:[ut.d.detail[5],ut.d.detail[4],ut.d.detail[3],ut.d.detail[2],ut.d.detail[1]],backgroundColor:"#6219D8",borderRadius:5}]},options:{indexAxis:"y",scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,reversed:!0},datalabels:{color:"white"}}}});O[lt.toString()]=ft=>{ot.querySelector(".starContain").innerHTML=st.replace("##PERCENT##",(100-ft.d.main*100/5).toString()).replace("##STARS##",ft.d.main),ht.data.datasets[0].data=[ft.d.detail[5],ft.d.detail[4],ft.d.detail[3],ft.d.detail[2],ft.d.detail[1]],ht.update(),ot.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+ft.nbrep.toString()+" r\xE9pondants"};const _t=ft=>{ft.target.dataset.state=="simple"?(ot.querySelector(".starContain").style.display="",ot.querySelector("canvas").style.display="none",ft.target.dataset.state="detail"):(ot.querySelector(".starContain").style.display="none",ot.querySelector("canvas").style.display="",ht.reset(),ht.update(),ft.target.dataset.state="simple")};let yt=document.createElement("button");yt.innerHTML="\u2795 D\xE9tails",yt.className="screenBtn",yt.dataset.state="yes",yt.addEventListener("click",_t,!1),ot.querySelector(".screenBtn").insertAdjacentElement("afterend",yt)}else if(["num"].includes(et.data[lt].t)){let dt=et.data[lt].d;ot.querySelector(".canvContain").innerHTML="<canvas></canvas>";let ut=Z[lt].a.a[2].replaceAll(" ","")!=""?`(en ${Z[lt].a.a[2]})`:"";ot.querySelector("h5").insertAdjacentHTML("beforeend",`<span style='font-size:1rem;opacity:.6;'>${ut}</span>`);let at=new Chart(ot.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Object.keys(dt.detail).map(st=>st.replaceAll(".0","")),datasets:[{label:"R\xE9partition",data:Object.values(dt.detail),backgroundColor:"#6219D8",borderRadius:5,datalabels:{display:!0,color:"white",formatter(st,ht){return st==0?"":st}}},{label:"Moyenne",data:[{x:dt.main,y:Math.max.apply(Math,Object.values(dt.detail))+1}],backgroundColor:"#2FCC72",type:"bar",xAxisID:"x1",maxBarThickness:8,datalabels:{display:!0,color:"black",textAlign:"center",formatter(st,ht){return`Moyenne
`+ht.dataset.data[0].x.toString()}}}]},options:{scales:{y:{display:!1,grid:{drawOnChartArea:!1}},x:{display:!0,position:"bottom",grid:{drawOnChartArea:!1}},x1:{type:"linear",display:!1,position:"bottom",min:parseInt(Object.keys(dt.detail)[0].split(",")[0].replace(".0","").replace(/\D/g,"")),max:parseInt(Object.keys(dt.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),grid:{drawOnChartArea:!1}}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{padding:10}},tooltip:{filter(st){return st.datasetIndex===0}},datalabels:{display:!1},deferred:deferredConfig}}});O[lt.toString()]=st=>{at.data.labels=Object.keys(st.d.detail).map(ht=>ht.replaceAll(".0","")),at.data.datasets[0].data=Object.values(st.d.detail),at.data.datasets[1].data=[{x:st.d.main,y:Math.max.apply(Math,Object.values(st.d.detail))+1}],at.options.scales.x1.min=parseInt(Object.keys(st.d.detail).at(0).split(",").at(0).replace(".0","").replace(/\D/g,"")),at.options.scales.x1.max=parseInt(Object.keys(st.d.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),at.update(),ot.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+st.nbrep.toString()+" r\xE9pondants"}}else if(["cal"].includes(et.data[lt].t)){let dt=et.data[lt].d;ot.querySelector(".canvContain").innerHTML="<canvas></canvas>";let ut=new Chart(ot.querySelector("canvas"),{plugins:[plugin$1,plugin],type:"bar",data:{labels:Object.keys(dt.dates).map(at=>new Date(Date.parse(at))),datasets:[{data:Object.values(dt.dates),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm"}},grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0}},y:{display:!1}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}});O[lt.toString()]=at=>{ut.data.labels=Object.keys(at.d.dates).map(st=>new Date(Date.parse(st))),ut.data.datasets[0].data=Object.values(at.d.dates),ut.update(),ot.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+at.nbrep.toString()+" r\xE9pondants"}}it.insertAdjacentElement("beforeend",ot)}}AOS.init();const W=()=>U(),G=()=>dlData(y.id),Y=()=>delSondRtn(y.id,h),K=()=>openModal(ModalDiffuse,{proj:y}),X=()=>delSondRtn(y.id,h),J=()=>{closeModal()};return e.$$set=Q=>{"projData"in Q&&r(0,y=Q.projData)},e.$$.update=()=>{e.$$.dirty&64&&r(1,o=l[l.length-1])},[y,o,h,B,U,q,l,W,G,Y,K,X,J]}class ProjectView extends SvelteComponent{constructor(t){super(),init(this,t,instance$f,create_fragment$g,safe_not_equal,{projData:0})}}function firstSave(e){var t=new Headers;let r=JSON.stringify(e.jsonContent);t.append("Authorization","Token "+xxgc("rtnt")),t.append("Content-Type","application/json");var o=JSON.stringify({nom_proj:e.nom_proj,color:e.color,jsonContent:r,priv:!0});return new Promise((l,h)=>{fetch(rtnUrl+"sondages/edit/",{method:"POST",headers:t,body:o,redirect:"follow"}).then(y=>y.text()).then(y=>{let D=JSON.parse(y).id;e.logo=JSON.parse(y).logo,l(D)}).catch(y=>h(y))})}function updateSave(e,t){var r=new Headers;let o=JSON.stringify(e.jsonContent);r.append("Authorization","Token "+xxgc("rtnt"));let l=new FormData;return l.append("nom_proj",e.nom_proj),l.append("color",e.color),l.append("jsonContent",o),l.append("priv","true"),e.logo instanceof File&&l.append("logo",e.logo),new Promise((h,y)=>{fetch(`${rtnUrl}sondages/edit/${t}/`,{method:"PUT",headers:r,body:l,redirect:"follow"}).then(D=>D.text()).then(D=>{console.log(JSON.parse(D)),JSON.parse(D).logo.includes("https")?e.logo=JSON.parse(D).logo:e.logo=`${rtnUrl}static/sond_images/rtnlogo.png`,new Date().toLocaleString(),h("saved")}).catch(D=>{y(D)})})}const validateSondage=(e,t,r)=>{Swal.fire({title:"Publier le sondage ?",text:"Vous ne pourrez plus effectuer de modifications.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2FCC72",cancelButtonColor:"grey",confirmButtonText:"Publier le sondage",cancelButtonText:"Annuler"}).then(o=>{if(o.isConfirmed){var l=new Headers;let y=JSON.stringify(e.jsonContent);l.append("Authorization","Token "+xxgc("rtnt")),l.append("Content-Type","application/json");var h=JSON.stringify({nom_proj:e.nom_proj,color:e.color,jsonContent:y,priv:!1});return fetch(`${rtnUrl}sondages/edit/${t}/`,{method:"PUT",headers:l,body:h,redirect:"follow"}).then(D=>D.text()).then(D=>{console.log(D);let O=JSON.parse(D);Swal.fire({title:"Le sondage est publi\xE9!",icon:"success",html:`<div class="p-2 mb-2 font-weight-bold">retine.io/sondage#${O.id_rtn}</div>
              <div>Souhaitez vous \xEAtre dirig\xE9 vers l'onglet "Campagnes" pour partager votre sondage ?</div>`,showCloseButton:!0,showCancelButton:!0,focusConfirm:!0,confirmButtonText:"Oui",confirmButtonAriaLabel:"Oui",cancelButtonText:"Non",cancelButtonAriaLabel:"Non"}).then(F=>{F.isConfirmed&&r("contacts")}),r("projects")}).catch(D=>console.log("error",D))}})};function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,o)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function asyncGeneratorStep(e,t,r,o,l,h,y){try{var D=e[h](y),O=D.value}catch(F){return void r(F)}D.done?t(O):Promise.resolve(O).then(o,l)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,l){var h=e.apply(t,r);function y(O){asyncGeneratorStep(h,o,l,y,D,"next",O)}function D(O){asyncGeneratorStep(h,o,l,y,D,"throw",O)}y(void 0)})}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function __decorate(e,t,r,o){var l,h=arguments.length,y=h<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(e,t,r,o);else for(var D=e.length-1;D>=0;D--)(l=e[D])&&(y=(h<3?l(y):h>3?l(t,r,y):l(t,r))||y);return h>3&&y&&Object.defineProperty(t,r,y),y}var t$3=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$8=Symbol(),n$5=new Map;class s$3{constructor(t,r){if(this._$cssResult$=!0,r!==e$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){var t=n$5.get(this.cssText);return t$3&&t===void 0&&(n$5.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}var o$5=e=>new s$3(typeof e=="string"?e:e+"",e$8),r$3=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var l=e.length===1?e[0]:r.reduce((h,y,D)=>h+(O=>{if(O._$cssResult$===!0)return O.cssText;if(typeof O=="number")return O;throw Error("Value passed to 'css' function must be a 'css' function result: "+O+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(y)+e[D+1],e[0]);return new s$3(l,e$8)},i$3=(e,t)=>{t$3?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{var o=document.createElement("style"),l=window.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=r.cssText,e.appendChild(o)})},S$1=t$3?e=>e:e=>e instanceof CSSStyleSheet?(t=>{var r="";for(var o of t.cssRules)r+=o.cssText;return o$5(r)})(e):e,s$2,e$7=window.trustedTypes,r$2=e$7?e$7.emptyScript:"",h$2=window.reactiveElementPolyfillSupport,o$4={toAttribute(e,t){switch(t){case Boolean:e=e?r$2:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){var r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},n$4=(e,t)=>t!==e&&(t==t||e==e),l$3={attribute:!0,type:String,converter:o$4,reflect:!1,hasChanged:n$4},t$2;class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var r;(r=this.l)!==null&&r!==void 0||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();var t=[];return this.elementProperties.forEach((r,o)=>{var l=this._$Eh(o,r);l!==void 0&&(this._$Eu.set(l,o),t.push(l))}),t}static createProperty(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l$3;if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(t,r),!r.noAccessor&&!this.prototype.hasOwnProperty(t)){var o=typeof t=="symbol"?Symbol():"__"+t,l=this.getPropertyDescriptor(t,o,r);l!==void 0&&Object.defineProperty(this.prototype,t,l)}}static getPropertyDescriptor(t,r,o){return{get(){return this[r]},set(l){var h=this[t];this[r]=l,this.requestUpdate(t,h,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var r=this.properties,o=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(var l of o)this.createProperty(l,r[l])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){var r=[];if(Array.isArray(t)){var o=new Set(t.flat(1/0).reverse());for(var l of o)r.unshift(S$1(l))}else t!==void 0&&r.push(S$1(t));return r}static _$Eh(t,r){var o=r.attribute;return o===!1?void 0:typeof o=="string"?o:typeof t=="string"?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Em(),this.requestUpdate(),(t=this.constructor.l)===null||t===void 0||t.forEach(r=>r(this))}addController(t){var r,o;((r=this._$Eg)!==null&&r!==void 0?r:this._$Eg=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((o=t.hostConnected)===null||o===void 0||o.call(t))}removeController(t){var r;(r=this._$Eg)===null||r===void 0||r.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((t,r)=>{this.hasOwnProperty(r)&&(this._$Et.set(r,this[r]),delete this[r])})}createRenderRoot(){var t,r=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return i$3(r,this.constructor.elementStyles),r}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$Eg)===null||t===void 0||t.forEach(r=>{var o;return(o=r.hostConnected)===null||o===void 0?void 0:o.call(r)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$Eg)===null||t===void 0||t.forEach(r=>{var o;return(o=r.hostDisconnected)===null||o===void 0?void 0:o.call(r)})}attributeChangedCallback(t,r,o){this._$AK(t,o)}_$ES(t,r){var o,l,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l$3,y=this.constructor._$Eh(t,h);if(y!==void 0&&h.reflect===!0){var D=((l=(o=h.converter)===null||o===void 0?void 0:o.toAttribute)!==null&&l!==void 0?l:o$4.toAttribute)(r,h.type);this._$Ei=t,D==null?this.removeAttribute(y):this.setAttribute(y,D),this._$Ei=null}}_$AK(t,r){var o,l,h,y=this.constructor,D=y._$Eu.get(t);if(D!==void 0&&this._$Ei!==D){var O=y.getPropertyOptions(D),F=O.converter,R=(h=(l=(o=F)===null||o===void 0?void 0:o.fromAttribute)!==null&&l!==void 0?l:typeof F=="function"?F:null)!==null&&h!==void 0?h:o$4.fromAttribute;this._$Ei=D,this[D]=R(r,O.type),this._$Ei=null}}requestUpdate(t,r,o){var l=!0;t!==void 0&&(((o=o||this.constructor.getPropertyOptions(t)).hasChanged||n$4)(this[t],r)?(this._$AL.has(t)||this._$AL.set(t,r),o.reflect===!0&&this._$Ei!==t&&(this._$E_===void 0&&(this._$E_=new Map),this._$E_.set(t,o))):l=!1),!this.isUpdatePending&&l&&(this._$Ep=this._$EC())}_$EC(){var t=this;return _asyncToGenerator(function*(){t.isUpdatePending=!0;try{yield t._$Ep}catch(o){Promise.reject(o)}var r=t.scheduleUpdate();return r!=null&&(yield r),!t.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((l,h)=>this[h]=l),this._$Et=void 0);var r=!1,o=this._$AL;try{(r=this.shouldUpdate(o))?(this.willUpdate(o),(t=this._$Eg)===null||t===void 0||t.forEach(l=>{var h;return(h=l.hostUpdate)===null||h===void 0?void 0:h.call(l)}),this.update(o)):this._$EU()}catch(l){throw r=!1,this._$EU(),l}r&&this._$AE(o)}}willUpdate(t){}_$AE(t){var r;(r=this._$Eg)===null||r===void 0||r.forEach(o=>{var l;return(l=o.hostUpdated)===null||l===void 0?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){this._$E_!==void 0&&(this._$E_.forEach((r,o)=>this._$ES(o,this[o],r)),this._$E_=void 0),this._$EU()}updated(t){}firstUpdated(t){}}a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},h$2==null||h$2({ReactiveElement:a$1}),((s$2=globalThis.reactiveElementVersions)!==null&&s$2!==void 0?s$2:globalThis.reactiveElementVersions=[]).push("1.2.1");var i$2=globalThis.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:e=>e}):void 0,e$6="lit$".concat((Math.random()+"").slice(9),"$"),o$3="?"+e$6,n$3="<".concat(o$3,">"),l$2=document,h$1=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return l$2.createComment(e)},r$1=e=>e===null||typeof e!="object"&&typeof e!="function",d=Array.isArray,u=e=>{var t;return d(e)||typeof((t=e)===null||t===void 0?void 0:t[Symbol.iterator])=="function"},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea)$/i,p=e=>function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return{_$litType$:e,strings:t,values:o}},$=p(1),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=(e,t,r)=>{var o,l,h=(o=r==null?void 0:r.renderBefore)!==null&&o!==void 0?o:t,y=h._$litPart$;if(y===void 0){var D=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;h._$litPart$=y=new N(t.insertBefore(h$1(),D),D,void 0,r!=null?r:{})}return y._$AI(e),y},A=l$2.createTreeWalker(l$2,129,null,!1),C=(e,t)=>{for(var r,o=e.length-1,l=[],h=t===2?"<svg>":"",y=c,D=0;D<o;D++){for(var O=e[D],F=void 0,R=void 0,B=-1,j=0;j<O.length&&(y.lastIndex=j,(R=y.exec(O))!==null);)j=y.lastIndex,y===c?R[1]==="!--"?y=v:R[1]!==void 0?y=a:R[2]!==void 0?(g.test(R[2])&&(r=RegExp("</"+R[2],"g")),y=f):R[3]!==void 0&&(y=f):y===f?R[0]===">"?(y=r!=null?r:c,B=-1):R[1]===void 0?B=-2:(B=y.lastIndex-R[2].length,F=R[1],y=R[3]===void 0?f:R[3]==='"'?m:_):y===m||y===_?y=f:y===v||y===a?y=c:(y=f,r=void 0);var U=y===f&&e[D+1].startsWith("/>")?" ":"";h+=y===c?O+n$3:B>=0?(l.push(F),O.slice(0,B)+"$lit$"+O.slice(B)+e$6+U):O+e$6+(B===-2?(l.push(void 0),D):U)}var q=h+(e[o]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[s$1!==void 0?s$1.createHTML(q):q,l]};class E{constructor(t,r){var o,{strings:l,_$litType$:h}=t;this.parts=[];var y=0,D=0,O=l.length-1,F=this.parts,[R,B]=C(l,h);if(this.el=E.createElement(R,r),A.currentNode=this.el.content,h===2){var j=this.el.content,U=j.firstChild;U.remove(),j.append(...U.childNodes)}for(;(o=A.nextNode())!==null&&F.length<O;){if(o.nodeType===1){if(o.hasAttributes()){var q=[];for(var W of o.getAttributeNames())if(W.endsWith("$lit$")||W.startsWith(e$6)){var G=B[D++];if(q.push(W),G!==void 0){var Y=o.getAttribute(G.toLowerCase()+"$lit$").split(e$6),K=/([.?@])?(.*)/.exec(G);F.push({type:1,index:y,name:K[2],strings:Y,ctor:K[1]==="."?M:K[1]==="?"?H:K[1]==="@"?I:S})}else F.push({type:6,index:y})}for(var X of q)o.removeAttribute(X)}if(g.test(o.tagName)){var J=o.textContent.split(e$6),Q=J.length-1;if(Q>0){o.textContent=i$2?i$2.emptyScript:"";for(var et=0;et<Q;et++)o.append(J[et],h$1()),A.nextNode(),F.push({type:2,index:++y});o.append(J[Q],h$1())}}}else if(o.nodeType===8)if(o.data===o$3)F.push({type:2,index:y});else for(var nt=-1;(nt=o.data.indexOf(e$6,nt+1))!==-1;)F.push({type:7,index:y}),nt+=e$6.length-1;y++}}static createElement(t,r){var o=l$2.createElement("template");return o.innerHTML=t,o}}function P(e,t){var r,o,l,h,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,D=arguments.length>3?arguments[3]:void 0;if(t===b)return t;var O=D!==void 0?(r=y._$Cl)===null||r===void 0?void 0:r[D]:y._$Cu,F=r$1(t)?void 0:t._$litDirective$;return(O==null?void 0:O.constructor)!==F&&((o=O==null?void 0:O._$AO)===null||o===void 0||o.call(O,!1),F===void 0?O=void 0:(O=new F(e))._$AT(e,y,D),D!==void 0?((l=(h=y)._$Cl)!==null&&l!==void 0?l:h._$Cl=[])[D]=O:y._$Cu=O),O!==void 0&&(t=P(e,O._$AS(e,t.values),O,D)),t}class V{constructor(t,r){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var r,{el:{content:o},parts:l}=this._$AD,h=((r=t==null?void 0:t.creationScope)!==null&&r!==void 0?r:l$2).importNode(o,!0);A.currentNode=h;for(var y=A.nextNode(),D=0,O=0,F=l[0];F!==void 0;){if(D===F.index){var R=void 0;F.type===2?R=new N(y,y.nextSibling,this,t):F.type===1?R=new F.ctor(y,F.name,F.strings,this,t):F.type===6&&(R=new L(y,this,t)),this.v.push(R),F=l[++O]}D!==(F==null?void 0:F.index)&&(y=A.nextNode(),D++)}return h}m(t){var r=0;for(var o of this.v)o!==void 0&&(o.strings!==void 0?(o._$AI(t,o,r),r+=o.strings.length-2):o._$AI(t[r])),r++}}class N{constructor(t,r,o,l){var h;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=o,this.options=l,this._$Cg=(h=l==null?void 0:l.isConnected)===null||h===void 0||h}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cg}get parentNode(){var t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&t.nodeType===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t){t=P(this,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),r$1(t)?t===w||t==null||t===""?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):t._$litType$!==void 0?this.T(t):t.nodeType!==void 0?this.S(t):u(t)?this.A(t):this.$(t)}M(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,r)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==w&&r$1(this._$AH)?this._$AA.nextSibling.data=t:this.S(l$2.createTextNode(t)),this._$AH=t}T(t){var r,{values:o,_$litType$:l}=t,h=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=E.createElement(l.h,this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===h)this._$AH.m(o);else{var y=new V(h,this),D=y.p(this.options);y.m(o),this.S(D),this._$AH=y}}_$AC(t){var r=T.get(t.strings);return r===void 0&&T.set(t.strings,r=new E(t)),r}A(t){d(this._$AH)||(this._$AH=[],this._$AR());var r,o=this._$AH,l=0;for(var h of t)l===o.length?o.push(r=new N(this.M(h$1()),this.M(h$1()),this,this.options)):r=o[l],r._$AI(h),l++;l<o.length&&(this._$AR(r&&r._$AB.nextSibling,l),o.length=l)}_$AR(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0;for((t=this._$AP)===null||t===void 0||t.call(this,!1,!0,o);r&&r!==this._$AB;){var l=r.nextSibling;r.remove(),r=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cg=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}}class S{constructor(t,r,o,l,h){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=r,this._$AM=l,this.options=h,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,h=this.strings,y=!1;if(h===void 0)t=P(this,t,r,0),(y=!r$1(t)||t!==this._$AH&&t!==b)&&(this._$AH=t);else{var D,O,F=t;for(t=h[0],D=0;D<h.length-1;D++)(O=P(this,F[o+D],r,D))===b&&(O=this._$AH[D]),y||(y=!r$1(O)||O!==this._$AH[D]),O===w?t=w:t!==w&&(t+=(O!=null?O:"")+h[D+1]),this._$AH[D]=O}y&&!l&&this.k(t)}k(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}class M extends S{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===w?void 0:t}}var k=i$2?i$2.emptyScript:"";class H extends S{constructor(){super(...arguments),this.type=4}k(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(t,r,o,l,h){super(t,r,o,l,h),this.type=5}_$AI(t){var r;if((t=(r=P(this,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&r!==void 0?r:w)!==b){var o=this._$AH,l=t===w&&o!==w||t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive,h=t!==w&&(o===w||l);l&&this.element.removeEventListener(this.name,this,o),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}}handleEvent(t){var r,o;typeof this._$AH=="function"?this._$AH.call((o=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&o!==void 0?o:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,r,o){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}var z=window.litHtmlPolyfillSupport,l$1,o$2;z==null||z(E,N),((t$2=globalThis.litHtmlVersions)!==null&&t$2!==void 0?t$2:globalThis.litHtmlVersions=[]).push("2.1.2");class s extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,r,o=super.createRenderRoot();return(t=(r=this.renderOptions).renderBefore)!==null&&t!==void 0||(r.renderBefore=o.firstChild),o}update(t){var r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=x(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Dt)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Dt)===null||t===void 0||t.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,(l$1=globalThis.litElementHydrateSupport)===null||l$1===void 0||l$1.call(globalThis,{LitElement:s});var n$2=globalThis.litElementPolyfillSupport;n$2==null||n$2({LitElement:s});((o$2=globalThis.litElementVersions)!==null&&o$2!==void 0?o$2:globalThis.litElementVersions=[]).push("3.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n$1=e=>t=>typeof t=="function"?((r,o)=>(window.customElements.define(r,o),o))(e,t):((r,o)=>{var{kind:l,elements:h}=o;return{kind:l,elements:h,finisher(y){window.customElements.define(r,y)}}})(e,t),i$1=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?_objectSpread2(_objectSpread2({},t),{},{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}};function e$5(e){return(t,r)=>r!==void 0?((o,l,h)=>{l.constructor.createProperty(h,o)})(e,t,r):i$1(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$1=e=>{var{finisher:t,descriptor:r}=e;return(o,l)=>{var h;if(l===void 0){var y=(h=o.originalKey)!==null&&h!==void 0?h:o.key,D=r!=null?{kind:"method",placement:"prototype",key:y,descriptor:r(o.key)}:_objectSpread2(_objectSpread2({},o),{},{key:y});return t!=null&&(D.finisher=function(F){t(F,y)}),D}var O=o.constructor;r!==void 0&&Object.defineProperty(o,l,r(l)),t==null||t(O,l)}},n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function i(e,t){return o$1({descriptor:r=>{var o={get(){var h,y;return(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(e))!==null&&y!==void 0?y:null},enumerable:!0,configurable:!0};if(t){var l=typeof r=="symbol"?Symbol():"__"+r;o.get=function(){var h,y;return this[l]===void 0&&(this[l]=(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(e))!==null&&y!==void 0?y:null),this[l]}}return o}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */((n=window.HTMLSlotElement)===null||n===void 0?void 0:n.prototype.assignedElements)!=null;var lottie$1={exports:{}};(function(module){var root,factory;typeof navigator!="undefined"&&(root=window||{},factory=function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}(function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(e){if(typeof e=="object"&&e.length){var t,r=createSizedArray(e.length),o=e.length;for(t=0;t<o;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,o){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=o<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,o){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=o<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=(_count=0,function(){return idPrefix+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,r){var o,l,h,y,D,O,F,R;switch(O=r*(1-t),F=r*(1-(D=6*e-(y=Math.floor(6*e)))*t),R=r*(1-(1-D)*t),y%6){case 0:o=r,l=R,h=O;break;case 1:o=F,l=r,h=O;break;case 2:o=O,l=r,h=R;break;case 3:o=O,l=F,h=r;break;case 4:o=R,l=O,h=r;break;case 5:o=r,l=O,h=F}return[o,l,h]}function RGBtoHSV(e,t,r){var o,l=Math.max(e,t,r),h=Math.min(e,t,r),y=l-h,D=l===0?0:y/l,O=l/255;switch(l){case h:o=0;break;case e:o=t-r+y*(t<r?6:0),o/=6*y;break;case t:o=r-e+2*y,o/=6*y;break;case r:o=e-t+4*y,o/=6*y}return[o,D,O]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=t.length===1?"0"+t:t;return function(o,l,h){return o<0&&(o=0),l<0&&(l=0),h<0&&(h=0),"#"+r[o]+r[l]+r[h]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],o=0;o<r.length;o+=1)r[o](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,o=this._cbs[e].length;r<o;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,o-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var createTypedArray=function(){function e(t,r){var o,l=0,h=[];switch(t){case"int16":case"uint8c":o=1;break;default:o=1.1}for(l=0;l<r;l+=1)h.push(o);return h}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(t,r){return t==="float32"?new Float32Array(r):t==="int16"?new Int16Array(r):t==="uint8c"?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function createNS(e){return document.createElementNS(svgNS,e)}function createTag(e){return document.createElement(e)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums,lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"},Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,o=Math.round;function l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function h(at){if(at===0)return this;var st=e(at),ht=t(at);return this._t(st,-ht,0,0,ht,st,0,0,0,0,1,0,0,0,0,1)}function y(at){if(at===0)return this;var st=e(at),ht=t(at);return this._t(1,0,0,0,0,st,-ht,0,0,ht,st,0,0,0,0,1)}function D(at){if(at===0)return this;var st=e(at),ht=t(at);return this._t(st,0,ht,0,0,1,0,0,-ht,0,st,0,0,0,0,1)}function O(at){if(at===0)return this;var st=e(at),ht=t(at);return this._t(st,-ht,0,0,ht,st,0,0,0,0,1,0,0,0,0,1)}function F(at,st){return this._t(1,st,at,1,0,0)}function R(at,st){return this.shear(r(at),r(st))}function B(at,st){var ht=e(st),_t=t(st);return this._t(ht,_t,0,0,-_t,ht,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(at),1,0,0,0,0,1,0,0,0,0,1)._t(ht,-_t,0,0,_t,ht,0,0,0,0,1,0,0,0,0,1)}function j(at,st,ht){return ht||ht===0||(ht=1),at===1&&st===1&&ht===1?this:this._t(at,0,0,0,0,st,0,0,0,0,ht,0,0,0,0,1)}function U(at,st,ht,_t,yt,ft,vt,pt,mt,gt,xt,kt,Pt,St,Et,Mt){return this.props[0]=at,this.props[1]=st,this.props[2]=ht,this.props[3]=_t,this.props[4]=yt,this.props[5]=ft,this.props[6]=vt,this.props[7]=pt,this.props[8]=mt,this.props[9]=gt,this.props[10]=xt,this.props[11]=kt,this.props[12]=Pt,this.props[13]=St,this.props[14]=Et,this.props[15]=Mt,this}function q(at,st,ht){return ht=ht||0,at!==0||st!==0||ht!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,at,st,ht,1):this}function W(at,st,ht,_t,yt,ft,vt,pt,mt,gt,xt,kt,Pt,St,Et,Mt){var bt=this.props;if(at===1&&st===0&&ht===0&&_t===0&&yt===0&&ft===1&&vt===0&&pt===0&&mt===0&&gt===0&&xt===1&&kt===0)return bt[12]=bt[12]*at+bt[15]*Pt,bt[13]=bt[13]*ft+bt[15]*St,bt[14]=bt[14]*xt+bt[15]*Et,bt[15]*=Mt,this._identityCalculated=!1,this;var wt=bt[0],Ct=bt[1],Tt=bt[2],Lt=bt[3],It=bt[4],Rt=bt[5],Ft=bt[6],Ot=bt[7],At=bt[8],Dt=bt[9],Bt=bt[10],$t=bt[11],Nt=bt[12],jt=bt[13],Ht=bt[14],Ut=bt[15];return bt[0]=wt*at+Ct*yt+Tt*mt+Lt*Pt,bt[1]=wt*st+Ct*ft+Tt*gt+Lt*St,bt[2]=wt*ht+Ct*vt+Tt*xt+Lt*Et,bt[3]=wt*_t+Ct*pt+Tt*kt+Lt*Mt,bt[4]=It*at+Rt*yt+Ft*mt+Ot*Pt,bt[5]=It*st+Rt*ft+Ft*gt+Ot*St,bt[6]=It*ht+Rt*vt+Ft*xt+Ot*Et,bt[7]=It*_t+Rt*pt+Ft*kt+Ot*Mt,bt[8]=At*at+Dt*yt+Bt*mt+$t*Pt,bt[9]=At*st+Dt*ft+Bt*gt+$t*St,bt[10]=At*ht+Dt*vt+Bt*xt+$t*Et,bt[11]=At*_t+Dt*pt+Bt*kt+$t*Mt,bt[12]=Nt*at+jt*yt+Ht*mt+Ut*Pt,bt[13]=Nt*st+jt*ft+Ht*gt+Ut*St,bt[14]=Nt*ht+jt*vt+Ht*xt+Ut*Et,bt[15]=Nt*_t+jt*pt+Ht*kt+Ut*Mt,this._identityCalculated=!1,this}function G(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Y(at){for(var st=0;st<16;){if(at.props[st]!==this.props[st])return!1;st+=1}return!0}function K(at){var st;for(st=0;st<16;st+=1)at.props[st]=this.props[st];return at}function X(at){var st;for(st=0;st<16;st+=1)this.props[st]=at[st]}function J(at,st,ht){return{x:at*this.props[0]+st*this.props[4]+ht*this.props[8]+this.props[12],y:at*this.props[1]+st*this.props[5]+ht*this.props[9]+this.props[13],z:at*this.props[2]+st*this.props[6]+ht*this.props[10]+this.props[14]}}function Q(at,st,ht){return at*this.props[0]+st*this.props[4]+ht*this.props[8]+this.props[12]}function et(at,st,ht){return at*this.props[1]+st*this.props[5]+ht*this.props[9]+this.props[13]}function nt(at,st,ht){return at*this.props[2]+st*this.props[6]+ht*this.props[10]+this.props[14]}function Z(){var at=this.props[0]*this.props[5]-this.props[1]*this.props[4],st=this.props[5]/at,ht=-this.props[1]/at,_t=-this.props[4]/at,yt=this.props[0]/at,ft=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/at,vt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/at,pt=new Matrix;return pt.props[0]=st,pt.props[1]=ht,pt.props[4]=_t,pt.props[5]=yt,pt.props[12]=ft,pt.props[13]=vt,pt}function it(at){return this.getInverseMatrix().applyToPointArray(at[0],at[1],at[2]||0)}function rt(at){var st,ht=at.length,_t=[];for(st=0;st<ht;st+=1)_t[st]=it(at[st]);return _t}function tt(at,st,ht){var _t=createTypedArray("float32",6);if(this.isIdentity())_t[0]=at[0],_t[1]=at[1],_t[2]=st[0],_t[3]=st[1],_t[4]=ht[0],_t[5]=ht[1];else{var yt=this.props[0],ft=this.props[1],vt=this.props[4],pt=this.props[5],mt=this.props[12],gt=this.props[13];_t[0]=at[0]*yt+at[1]*vt+mt,_t[1]=at[0]*ft+at[1]*pt+gt,_t[2]=st[0]*yt+st[1]*vt+mt,_t[3]=st[0]*ft+st[1]*pt+gt,_t[4]=ht[0]*yt+ht[1]*vt+mt,_t[5]=ht[0]*ft+ht[1]*pt+gt}return _t}function ct(at,st,ht){return this.isIdentity()?[at,st,ht]:[at*this.props[0]+st*this.props[4]+ht*this.props[8]+this.props[12],at*this.props[1]+st*this.props[5]+ht*this.props[9]+this.props[13],at*this.props[2]+st*this.props[6]+ht*this.props[10]+this.props[14]]}function lt(at,st){if(this.isIdentity())return at+","+st;var ht=this.props;return Math.round(100*(at*ht[0]+st*ht[4]+ht[12]))/100+","+Math.round(100*(at*ht[1]+st*ht[5]+ht[13]))/100}function ot(){for(var at=0,st=this.props,ht="matrix3d(";at<16;)ht+=o(1e4*st[at])/1e4,ht+=at===15?")":",",at+=1;return ht}function dt(at){return at<1e-6&&at>0||at>-1e-6&&at<0?o(1e4*at)/1e4:at}function ut(){var at=this.props;return"matrix("+dt(at[0])+","+dt(at[1])+","+dt(at[4])+","+dt(at[5])+","+dt(at[12])+","+dt(at[13])+")"}return function(){this.reset=l,this.rotate=h,this.rotateX=y,this.rotateY=D,this.rotateZ=O,this.skew=R,this.skewFromAxis=B,this.shear=F,this.scale=j,this.setTransform=U,this.translate=q,this.transform=W,this.applyToPoint=J,this.applyToX=Q,this.applyToY=et,this.applyToZ=nt,this.applyToPointArray=ct,this.applyToTriplePoints=tt,this.applyToPointStringified=lt,this.toCSS=ot,this.to2dCSS=ut,this.clone=K,this.cloneFromProps=X,this.equals=Y,this.inversePoints=rt,this.inversePoint=it,this.getInverseMatrix=Z,this._t=this.transform,this.isIdentity=G,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();(function(e,t){var r=this,o=256,l=t.pow(o,6),h=t.pow(2,52),y=2*h,D=255;function O(U){var q,W=U.length,G=this,Y=0,K=G.i=G.j=0,X=G.S=[];for(W||(U=[W++]);Y<o;)X[Y]=Y++;for(Y=0;Y<o;Y++)X[Y]=X[K=D&K+U[Y%W]+(q=X[Y])],X[K]=q;G.g=function(J){for(var Q,et=0,nt=G.i,Z=G.j,it=G.S;J--;)Q=it[nt=D&nt+1],et=et*o+it[D&(it[nt]=it[Z=D&Z+Q])+(it[Z]=Q)];return G.i=nt,G.j=Z,et}}function F(U,q){return q.i=U.i,q.j=U.j,q.S=U.S.slice(),q}function R(U,q){var W,G=[],Y=typeof U;if(q&&Y=="object")for(W in U)try{G.push(R(U[W],q-1))}catch{}return G.length?G:Y=="string"?U:U+"\0"}function B(U,q){for(var W,G=U+"",Y=0;Y<G.length;)q[D&Y]=D&(W^=19*q[D&Y])+G.charCodeAt(Y++);return j(q)}function j(U){return String.fromCharCode.apply(0,U)}t.seedrandom=function(U,q,W){var G=[],Y=B(R((q=q===!0?{entropy:!0}:q||{}).entropy?[U,j(e)]:U===null?function(){try{var J=new Uint8Array(o);return(r.crypto||r.msCrypto).getRandomValues(J),j(J)}catch{var Q=r.navigator,et=Q&&Q.plugins;return[+new Date,r,et,r.screen,j(e)]}}():U,3),G),K=new O(G),X=function(){for(var J=K.g(6),Q=l,et=0;J<h;)J=(J+et)*o,Q*=o,et=K.g(1);for(;J>=y;)J/=2,Q/=2,et>>>=1;return(J+et)/Q};return X.int32=function(){return 0|K.g(4)},X.quick=function(){return K.g(4)/4294967296},X.double=X,B(j(K.S),e),(q.pass||W||function(J,Q,et,nt){return nt&&(nt.S&&F(nt,K),J.state=function(){return F(K,{})}),et?(t.random=J,Q):J})(X,Y,"global"in q?q.global:this==t,q.state)},B(t.random(),e)})([],BMMath);var BezierFactory=function(){var e={getBezierEasing:function(R,B,j,U,q){var W=q||("bez_"+R+"_"+B+"_"+j+"_"+U).replace(/\./g,"p");if(t[W])return t[W];var G=new F([R,B,j,U]);return t[W]=G,G}},t={},r=.1,o=typeof Float32Array=="function";function l(R,B){return 1-3*B+3*R}function h(R,B){return 3*B-6*R}function y(R){return 3*R}function D(R,B,j){return((l(B,j)*R+h(B,j))*R+y(B))*R}function O(R,B,j){return 3*l(B,j)*R*R+2*h(B,j)*R+y(B)}function F(R){this._p=R,this._mSampleValues=o?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return F.prototype={get:function(R){var B=this._p[0],j=this._p[1],U=this._p[2],q=this._p[3];return this._precomputed||this._precompute(),B===j&&U===q?R:R===0?0:R===1?1:D(this._getTForX(R),j,q)},_precompute:function(){var R=this._p[0],B=this._p[1],j=this._p[2],U=this._p[3];this._precomputed=!0,R===B&&j===U||this._calcSampleValues()},_calcSampleValues:function(){for(var R=this._p[0],B=this._p[2],j=0;j<11;++j)this._mSampleValues[j]=D(j*r,R,B)},_getTForX:function(R){for(var B=this._p[0],j=this._p[2],U=this._mSampleValues,q=0,W=1;W!==10&&U[W]<=R;++W)q+=r;var G=q+(R-U[--W])/(U[W+1]-U[W])*r,Y=O(G,B,j);return Y>=.001?function(K,X,J,Q){for(var et=0;et<4;++et){var nt=O(X,J,Q);if(nt===0)return X;X-=(D(X,J,Q)-K)/nt}return X}(R,G,B,j):Y===0?G:function(K,X,J,Q,et){var nt,Z,it=0;do(nt=D(Z=X+(J-X)/2,Q,et)-K)>0?J=Z:X=Z;while(Math.abs(nt)>1e-7&&++it<10);return Z}(R,q,q+r,B,j)}},e}();function extendPrototype(e,t){var r,o,l=e.length;for(r=0;r<l;r+=1)for(var h in o=e[r].prototype)Object.prototype.hasOwnProperty.call(o,h)&&(t.prototype[h]=o[h])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}function bezFunction(){var e=Math;function t(F,R,B,j,U,q){var W=F*j+R*U+B*q-U*j-q*F-B*R;return W>-.001&&W<.001}var r=function(F,R,B,j){var U,q,W,G,Y,K,X=defaultCurveSegments,J=0,Q=[],et=[],nt=bezierLengthPool.newElement();for(W=B.length,U=0;U<X;U+=1){for(Y=U/(X-1),K=0,q=0;q<W;q+=1)G=bmPow(1-Y,3)*F[q]+3*bmPow(1-Y,2)*Y*B[q]+3*(1-Y)*bmPow(Y,2)*j[q]+bmPow(Y,3)*R[q],Q[q]=G,et[q]!==null&&(K+=bmPow(Q[q]-et[q],2)),et[q]=Q[q];K&&(J+=K=bmSqrt(K)),nt.percents[U]=Y,nt.lengths[U]=J}return nt.addedLength=J,nt};function o(F){this.segmentLength=0,this.points=new Array(F)}function l(F,R){this.partialLength=F,this.point=R}var h,y=(h={},function(F,R,B,j){var U=(F[0]+"_"+F[1]+"_"+R[0]+"_"+R[1]+"_"+B[0]+"_"+B[1]+"_"+j[0]+"_"+j[1]).replace(/\./g,"p");if(!h[U]){var q,W,G,Y,K,X,J,Q=defaultCurveSegments,et=0,nt=null;F.length===2&&(F[0]!==R[0]||F[1]!==R[1])&&t(F[0],F[1],R[0],R[1],F[0]+B[0],F[1]+B[1])&&t(F[0],F[1],R[0],R[1],R[0]+j[0],R[1]+j[1])&&(Q=2);var Z=new o(Q);for(G=B.length,q=0;q<Q;q+=1){for(J=createSizedArray(G),K=q/(Q-1),X=0,W=0;W<G;W+=1)Y=bmPow(1-K,3)*F[W]+3*bmPow(1-K,2)*K*(F[W]+B[W])+3*(1-K)*bmPow(K,2)*(R[W]+j[W])+bmPow(K,3)*R[W],J[W]=Y,nt!==null&&(X+=bmPow(J[W]-nt[W],2));et+=X=bmSqrt(X),Z.points[q]=new l(X,J),nt=J}Z.segmentLength=et,h[U]=Z}return h[U]});function D(F,R){var B=R.percents,j=R.lengths,U=B.length,q=bmFloor((U-1)*F),W=F*R.addedLength,G=0;if(q===U-1||q===0||W===j[q])return B[q];for(var Y=j[q]>W?-1:1,K=!0;K;)if(j[q]<=W&&j[q+1]>W?(G=(W-j[q])/(j[q+1]-j[q]),K=!1):q+=Y,q<0||q>=U-1){if(q===U-1)return B[q];K=!1}return B[q]+(B[q+1]-B[q])*G}var O=createTypedArray("float32",8);return{getSegmentsLength:function(F){var R,B=segmentsLengthPool.newElement(),j=F.c,U=F.v,q=F.o,W=F.i,G=F._length,Y=B.lengths,K=0;for(R=0;R<G-1;R+=1)Y[R]=r(U[R],U[R+1],q[R],W[R+1]),K+=Y[R].addedLength;return j&&G&&(Y[R]=r(U[R],U[0],q[R],W[0]),K+=Y[R].addedLength),B.totalLength=K,B},getNewSegment:function(F,R,B,j,U,q,W){U<0?U=0:U>1&&(U=1);var G,Y=D(U,W),K=D(q=q>1?1:q,W),X=F.length,J=1-Y,Q=1-K,et=J*J*J,nt=Y*J*J*3,Z=Y*Y*J*3,it=Y*Y*Y,rt=J*J*Q,tt=Y*J*Q+J*Y*Q+J*J*K,ct=Y*Y*Q+J*Y*K+Y*J*K,lt=Y*Y*K,ot=J*Q*Q,dt=Y*Q*Q+J*K*Q+J*Q*K,ut=Y*K*Q+J*K*K+Y*Q*K,at=Y*K*K,st=Q*Q*Q,ht=K*Q*Q+Q*K*Q+Q*Q*K,_t=K*K*Q+Q*K*K+K*Q*K,yt=K*K*K;for(G=0;G<X;G+=1)O[4*G]=e.round(1e3*(et*F[G]+nt*B[G]+Z*j[G]+it*R[G]))/1e3,O[4*G+1]=e.round(1e3*(rt*F[G]+tt*B[G]+ct*j[G]+lt*R[G]))/1e3,O[4*G+2]=e.round(1e3*(ot*F[G]+dt*B[G]+ut*j[G]+at*R[G]))/1e3,O[4*G+3]=e.round(1e3*(st*F[G]+ht*B[G]+_t*j[G]+yt*R[G]))/1e3;return O},getPointInSegment:function(F,R,B,j,U,q){var W=D(U,q),G=1-W;return[e.round(1e3*(G*G*G*F[0]+(W*G*G+G*W*G+G*G*W)*B[0]+(W*W*G+G*W*W+W*G*W)*j[0]+W*W*W*R[0]))/1e3,e.round(1e3*(G*G*G*F[1]+(W*G*G+G*W*G+G*G*W)*B[1]+(W*W*G+G*W*W+W*G*W)*j[1]+W*W*W*R[1]))/1e3]},buildBezierData:y,pointOnLine2D:t,pointOnLine3D:function(F,R,B,j,U,q,W,G,Y){if(B===0&&q===0&&Y===0)return t(F,R,j,U,W,G);var K,X=e.sqrt(e.pow(j-F,2)+e.pow(U-R,2)+e.pow(q-B,2)),J=e.sqrt(e.pow(W-F,2)+e.pow(G-R,2)+e.pow(Y-B,2)),Q=e.sqrt(e.pow(W-j,2)+e.pow(G-U,2)+e.pow(Y-q,2));return(K=X>J?X>Q?X-J-Q:Q-J-X:Q>J?Q-J-X:J-X-Q)>-1e-4&&K<1e-4}}}(function(){for(var e=0,t=["ms","moz","webkit","o"],r=0;r<t.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[t[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(o){var l=new Date().getTime(),h=Math.max(0,16-(l-e)),y=setTimeout(function(){o(l+h)},h);return e=l+h,y}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)})})();var bez=bezFunction(),dataManager=function(){var e,t,r=1,o=[],l={onmessage:function(){},postMessage:function(O){e({data:O})}},h={postMessage:function(O){l.onmessage({data:O})}};function y(){t||(t=function(O){if(window.Worker&&window.Blob&&_useWebWorker){var F=new Blob(["var _workerSelf = self; self.onmessage = ",O.toString()],{type:"text/javascript"}),R=URL.createObjectURL(F);return new Worker(R)}return e=O,l}(function(O){if(h.dataManager||(h.dataManager=function(){function R(nt,Z){var it,rt,tt,ct,lt,ot,dt=nt.length;for(rt=0;rt<dt;rt+=1)if("ks"in(it=nt[rt])&&!it.completed){if(it.completed=!0,it.tt&&(nt[rt-1].td=it.tt),it.hasMask){var ut=it.masksProperties;for(ct=ut.length,tt=0;tt<ct;tt+=1)if(ut[tt].pt.k.i)U(ut[tt].pt.k);else for(ot=ut[tt].pt.k.length,lt=0;lt<ot;lt+=1)ut[tt].pt.k[lt].s&&U(ut[tt].pt.k[lt].s[0]),ut[tt].pt.k[lt].e&&U(ut[tt].pt.k[lt].e[0])}it.ty===0?(it.layers=B(it.refId,Z),R(it.layers,Z)):it.ty===4?j(it.shapes):it.ty===5&&Q(it)}}function B(nt,Z){for(var it=0,rt=Z.length;it<rt;){if(Z[it].id===nt)return Z[it].layers.__used?JSON.parse(JSON.stringify(Z[it].layers)):(Z[it].layers.__used=!0,Z[it].layers);it+=1}return null}function j(nt){var Z,it,rt;for(Z=nt.length-1;Z>=0;Z-=1)if(nt[Z].ty==="sh")if(nt[Z].ks.k.i)U(nt[Z].ks.k);else for(rt=nt[Z].ks.k.length,it=0;it<rt;it+=1)nt[Z].ks.k[it].s&&U(nt[Z].ks.k[it].s[0]),nt[Z].ks.k[it].e&&U(nt[Z].ks.k[it].e[0]);else nt[Z].ty==="gr"&&j(nt[Z].it)}function U(nt){var Z,it=nt.i.length;for(Z=0;Z<it;Z+=1)nt.i[Z][0]+=nt.v[Z][0],nt.i[Z][1]+=nt.v[Z][1],nt.o[Z][0]+=nt.v[Z][0],nt.o[Z][1]+=nt.v[Z][1]}function q(nt,Z){var it=Z?Z.split("."):[100,100,100];return nt[0]>it[0]||!(it[0]>nt[0])&&(nt[1]>it[1]||!(it[1]>nt[1])&&(nt[2]>it[2]||!(it[2]>nt[2])&&null))}var W,G=function(){var nt=[4,4,14];function Z(it){var rt,tt,ct,lt=it.length;for(rt=0;rt<lt;rt+=1)it[rt].ty===5&&(ct=void 0,ct=(tt=it[rt]).t.d,tt.t.d={k:[{s:ct,t:0}]})}return function(it){if(q(nt,it.v)&&(Z(it.layers),it.assets)){var rt,tt=it.assets.length;for(rt=0;rt<tt;rt+=1)it.assets[rt].layers&&Z(it.assets[rt].layers)}}}(),Y=(W=[4,7,99],function(nt){if(nt.chars&&!q(W,nt.v)){var Z,it,rt,tt,ct,lt=nt.chars.length;for(Z=0;Z<lt;Z+=1)if(nt.chars[Z].data&&nt.chars[Z].data.shapes)for(rt=(ct=nt.chars[Z].data.shapes[0].it).length,it=0;it<rt;it+=1)(tt=ct[it].ks.k).__converted||(U(ct[it].ks.k),tt.__converted=!0)}}),K=function(){var nt=[5,7,15];function Z(it){var rt,tt,ct=it.length;for(rt=0;rt<ct;rt+=1)it[rt].ty===5&&(tt=void 0,typeof(tt=it[rt].t.p).a=="number"&&(tt.a={a:0,k:tt.a}),typeof tt.p=="number"&&(tt.p={a:0,k:tt.p}),typeof tt.r=="number"&&(tt.r={a:0,k:tt.r}))}return function(it){if(q(nt,it.v)&&(Z(it.layers),it.assets)){var rt,tt=it.assets.length;for(rt=0;rt<tt;rt+=1)it.assets[rt].layers&&Z(it.assets[rt].layers)}}}(),X=function(){var nt=[4,1,9];function Z(rt){var tt,ct,lt,ot=rt.length;for(tt=0;tt<ot;tt+=1)if(rt[tt].ty==="gr")Z(rt[tt].it);else if(rt[tt].ty==="fl"||rt[tt].ty==="st")if(rt[tt].c.k&&rt[tt].c.k[0].i)for(lt=rt[tt].c.k.length,ct=0;ct<lt;ct+=1)rt[tt].c.k[ct].s&&(rt[tt].c.k[ct].s[0]/=255,rt[tt].c.k[ct].s[1]/=255,rt[tt].c.k[ct].s[2]/=255,rt[tt].c.k[ct].s[3]/=255),rt[tt].c.k[ct].e&&(rt[tt].c.k[ct].e[0]/=255,rt[tt].c.k[ct].e[1]/=255,rt[tt].c.k[ct].e[2]/=255,rt[tt].c.k[ct].e[3]/=255);else rt[tt].c.k[0]/=255,rt[tt].c.k[1]/=255,rt[tt].c.k[2]/=255,rt[tt].c.k[3]/=255}function it(rt){var tt,ct=rt.length;for(tt=0;tt<ct;tt+=1)rt[tt].ty===4&&Z(rt[tt].shapes)}return function(rt){if(q(nt,rt.v)&&(it(rt.layers),rt.assets)){var tt,ct=rt.assets.length;for(tt=0;tt<ct;tt+=1)rt.assets[tt].layers&&it(rt.assets[tt].layers)}}}(),J=function(){var nt=[4,4,18];function Z(rt){var tt,ct,lt;for(tt=rt.length-1;tt>=0;tt-=1)if(rt[tt].ty==="sh")if(rt[tt].ks.k.i)rt[tt].ks.k.c=rt[tt].closed;else for(lt=rt[tt].ks.k.length,ct=0;ct<lt;ct+=1)rt[tt].ks.k[ct].s&&(rt[tt].ks.k[ct].s[0].c=rt[tt].closed),rt[tt].ks.k[ct].e&&(rt[tt].ks.k[ct].e[0].c=rt[tt].closed);else rt[tt].ty==="gr"&&Z(rt[tt].it)}function it(rt){var tt,ct,lt,ot,dt,ut,at=rt.length;for(ct=0;ct<at;ct+=1){if((tt=rt[ct]).hasMask){var st=tt.masksProperties;for(ot=st.length,lt=0;lt<ot;lt+=1)if(st[lt].pt.k.i)st[lt].pt.k.c=st[lt].cl;else for(ut=st[lt].pt.k.length,dt=0;dt<ut;dt+=1)st[lt].pt.k[dt].s&&(st[lt].pt.k[dt].s[0].c=st[lt].cl),st[lt].pt.k[dt].e&&(st[lt].pt.k[dt].e[0].c=st[lt].cl)}tt.ty===4&&Z(tt.shapes)}}return function(rt){if(q(nt,rt.v)&&(it(rt.layers),rt.assets)){var tt,ct=rt.assets.length;for(tt=0;tt<ct;tt+=1)rt.assets[tt].layers&&it(rt.assets[tt].layers)}}}();function Q(nt){nt.t.a.length!==0||"m"in nt.t.p||(nt.singleShape=!0)}var et={completeData:function(nt){nt.__complete||(X(nt),G(nt),Y(nt),K(nt),J(nt),R(nt.layers,nt.assets),nt.__complete=!0)}};return et.checkColors=X,et.checkChars=Y,et.checkPathProperties=K,et.checkShapes=J,et.completeLayers=R,et}()),h.assetLoader||(h.assetLoader=function(){function R(B){var j=B.getResponseHeader("content-type");return j&&B.responseType==="json"&&j.indexOf("json")!==-1||B.response&&typeof B.response=="object"?B.response:B.response&&typeof B.response=="string"?JSON.parse(B.response):B.responseText?JSON.parse(B.responseText):null}return{load:function(B,j,U,q){var W,G=new XMLHttpRequest;try{G.responseType="json"}catch{}G.onreadystatechange=function(){if(G.readyState===4)if(G.status===200)W=R(G),U(W);else try{W=R(G),U(W)}catch(Y){q&&q(Y)}};try{G.open("GET",B,!0)}catch{G.open("GET",j+"/"+B,!0)}G.send()}}}()),O.data.type==="loadAnimation")h.assetLoader.load(O.data.path,O.data.fullPath,function(R){h.dataManager.completeData(R),h.postMessage({id:O.data.id,payload:R,status:"success"})},function(){h.postMessage({id:O.data.id,status:"error"})});else if(O.data.type==="complete"){var F=O.data.animation;h.dataManager.completeData(F),h.postMessage({id:O.data.id,payload:F,status:"success"})}else O.data.type==="loadData"&&h.assetLoader.load(O.data.path,O.data.fullPath,function(R){h.postMessage({id:O.data.id,payload:R,status:"success"})},function(){h.postMessage({id:O.data.id,status:"error"})})}),t.onmessage=function(O){var F=O.data,R=F.id,B=o[R];o[R]=null,F.status==="success"?B.onComplete(F.payload):B.onError&&B.onError()})}function D(O,F){var R="processId_"+(r+=1);return o[R]={onComplete:O,onError:F},R}return{loadAnimation:function(O,F,R){y();var B=D(F,R);t.postMessage({type:"loadAnimation",path:O,fullPath:window.location.origin+window.location.pathname,id:B})},loadData:function(O,F,R){y();var B=D(F,R);t.postMessage({type:"loadData",path:O,fullPath:window.location.origin+window.location.pathname,id:B})},completeAnimation:function(O,F,R){y();var B=D(F,R);t.postMessage({type:"complete",animation:O,id:B})}}}();function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",o="normal",l=t.length,h=0;h<l;h+=1)switch(t[h].toLowerCase()){case"italic":o="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:o,weight:e.fWeight||r}}var FontManager=function(){var e={w:0,size:0,shapes:[]},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],o=[65039,8205];function l(O,F){var R=createTag("span");R.setAttribute("aria-hidden",!0),R.style.fontFamily=F;var B=createTag("span");B.innerText="giItT1WQy@!-/#",R.style.position="absolute",R.style.left="-10000px",R.style.top="-10000px",R.style.fontSize="300px",R.style.fontVariant="normal",R.style.fontStyle="normal",R.style.fontWeight="normal",R.style.letterSpacing="0",R.appendChild(B),document.body.appendChild(R);var j=B.offsetWidth;return B.style.fontFamily=function(U){var q,W=U.split(","),G=W.length,Y=[];for(q=0;q<G;q+=1)W[q]!=="sans-serif"&&W[q]!=="monospace"&&Y.push(W[q]);return Y.join(",")}(O)+", "+F,{node:B,w:j,parent:R}}function h(O,F){var R=createNS("text");R.style.fontSize="100px";var B=getFontProperties(F);return R.setAttribute("font-family",F.fFamily),R.setAttribute("font-style",B.style),R.setAttribute("font-weight",B.weight),R.textContent="1",F.fClass?(R.style.fontFamily="inherit",R.setAttribute("class",F.fClass)):R.style.fontFamily=F.fFamily,O.appendChild(R),createTag("canvas").getContext("2d").font=F.fWeight+" "+F.fStyle+" 100px "+F.fFamily,R}var y=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};y.isModifier=function(O,F){var R=O.toString(16)+F.toString(16);return r.indexOf(R)!==-1},y.isZeroWidthJoiner=function(O,F){return F?O===o[0]&&F===o[1]:O===o[1]},y.isCombinedCharacter=function(O){return t.indexOf(O)!==-1};var D={addChars:function(O){if(O){var F;this.chars||(this.chars=[]);var R,B,j=O.length,U=this.chars.length;for(F=0;F<j;F+=1){for(R=0,B=!1;R<U;)this.chars[R].style===O[F].style&&this.chars[R].fFamily===O[F].fFamily&&this.chars[R].ch===O[F].ch&&(B=!0),R+=1;B||(this.chars.push(O[F]),U+=1)}}},addFonts:function(O,F){if(O){if(this.chars)return this.isLoaded=!0,void(this.fonts=O.list);var R,B=O.list,j=B.length,U=j;for(R=0;R<j;R+=1){var q,W,G=!0;if(B[R].loaded=!1,B[R].monoCase=l(B[R].fFamily,"monospace"),B[R].sansCase=l(B[R].fFamily,"sans-serif"),B[R].fPath){if(B[R].fOrigin==="p"||B[R].origin===3){if((q=document.querySelectorAll('style[f-forigin="p"][f-family="'+B[R].fFamily+'"], style[f-origin="3"][f-family="'+B[R].fFamily+'"]')).length>0&&(G=!1),G){var Y=createTag("style");Y.setAttribute("f-forigin",B[R].fOrigin),Y.setAttribute("f-origin",B[R].origin),Y.setAttribute("f-family",B[R].fFamily),Y.type="text/css",Y.innerText="@font-face {font-family: "+B[R].fFamily+"; font-style: normal; src: url('"+B[R].fPath+"');}",F.appendChild(Y)}}else if(B[R].fOrigin==="g"||B[R].origin===1){for(q=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),W=0;W<q.length;W+=1)q[W].href.indexOf(B[R].fPath)!==-1&&(G=!1);if(G){var K=createTag("link");K.setAttribute("f-forigin",B[R].fOrigin),K.setAttribute("f-origin",B[R].origin),K.type="text/css",K.rel="stylesheet",K.href=B[R].fPath,document.body.appendChild(K)}}else if(B[R].fOrigin==="t"||B[R].origin===2){for(q=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),W=0;W<q.length;W+=1)B[R].fPath===q[W].src&&(G=!1);if(G){var X=createTag("link");X.setAttribute("f-forigin",B[R].fOrigin),X.setAttribute("f-origin",B[R].origin),X.setAttribute("rel","stylesheet"),X.setAttribute("href",B[R].fPath),F.appendChild(X)}}}else B[R].loaded=!0,U-=1;B[R].helper=h(F,B[R]),B[R].cache={},this.fonts.push(B[R])}U===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(O,F,R){for(var B=0,j=this.chars.length;B<j;){if(this.chars[B].ch===O&&this.chars[B].style===F&&this.chars[B].fFamily===R)return this.chars[B];B+=1}return(typeof O=="string"&&O.charCodeAt(0)!==13||!O)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",O,F,R)),e},getFontByName:function(O){for(var F=0,R=this.fonts.length;F<R;){if(this.fonts[F].fName===O)return this.fonts[F];F+=1}return this.fonts[0]},measureText:function(O,F,R){var B=this.getFontByName(F),j=O.charCodeAt(0);if(!B.cache[j+1]){var U=B.helper;if(O===" "){U.textContent="|"+O+"|";var q=U.getComputedTextLength();U.textContent="||";var W=U.getComputedTextLength();B.cache[j+1]=(q-W)/100}else U.textContent=O,B.cache[j+1]=U.getComputedTextLength()/100}return B.cache[j+1]*R},checkLoadedFonts:function(){var O,F,R,B=this.fonts.length,j=B;for(O=0;O<B;O+=1)this.fonts[O].loaded?j-=1:this.fonts[O].fOrigin==="n"||this.fonts[O].origin===0?this.fonts[O].loaded=!0:(F=this.fonts[O].monoCase.node,R=this.fonts[O].monoCase.w,F.offsetWidth!==R?(j-=1,this.fonts[O].loaded=!0):(F=this.fonts[O].sansCase.node,R=this.fonts[O].sansCase.w,F.offsetWidth!==R&&(j-=1,this.fonts[O].loaded=!0)),this.fonts[O].loaded&&(this.fonts[O].sansCase.parent.parentNode.removeChild(this.fonts[O].sansCase.parent),this.fonts[O].monoCase.parent.parentNode.removeChild(this.fonts[O].monoCase.parent)));j!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return y.prototype=D,y}(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function r(U,q){var W,G=this.offsetTime;this.propType==="multidimensional"&&(W=createTypedArray("float32",this.pv.length));for(var Y,K,X,J,Q,et,nt,Z,it,rt=q.lastIndex,tt=rt,ct=this.keyframes.length-1,lt=!0;lt;){if(Y=this.keyframes[tt],K=this.keyframes[tt+1],tt===ct-1&&U>=K.t-G){Y.h&&(Y=K),rt=0;break}if(K.t-G>U){rt=tt;break}tt<ct-1?tt+=1:(rt=0,lt=!1)}X=this.keyframesMetadata[tt]||{};var ot,dt,ut,at,st,ht,_t,yt,ft,vt,pt=K.t-G,mt=Y.t-G;if(Y.to){X.bezierData||(X.bezierData=bez.buildBezierData(Y.s,K.s||Y.e,Y.to,Y.ti));var gt=X.bezierData;if(U>=pt||U<mt){var xt=U>=pt?gt.points.length-1:0;for(Q=gt.points[xt].point.length,J=0;J<Q;J+=1)W[J]=gt.points[xt].point[J]}else{X.__fnct?it=X.__fnct:(it=BezierFactory.getBezierEasing(Y.o.x,Y.o.y,Y.i.x,Y.i.y,Y.n).get,X.__fnct=it),et=it((U-mt)/(pt-mt));var kt,Pt=gt.segmentLength*et,St=q.lastFrame<U&&q._lastKeyframeIndex===tt?q._lastAddedLength:0;for(Z=q.lastFrame<U&&q._lastKeyframeIndex===tt?q._lastPoint:0,lt=!0,nt=gt.points.length;lt;){if(St+=gt.points[Z].partialLength,Pt===0||et===0||Z===gt.points.length-1){for(Q=gt.points[Z].point.length,J=0;J<Q;J+=1)W[J]=gt.points[Z].point[J];break}if(Pt>=St&&Pt<St+gt.points[Z+1].partialLength){for(kt=(Pt-St)/gt.points[Z+1].partialLength,Q=gt.points[Z].point.length,J=0;J<Q;J+=1)W[J]=gt.points[Z].point[J]+(gt.points[Z+1].point[J]-gt.points[Z].point[J])*kt;break}Z<nt-1?Z+=1:lt=!1}q._lastPoint=Z,q._lastAddedLength=St-gt.points[Z].partialLength,q._lastKeyframeIndex=tt}}else{var Et,Mt,bt,wt,Ct;if(ct=Y.s.length,ot=K.s||Y.e,this.sh&&Y.h!==1)if(U>=pt)W[0]=ot[0],W[1]=ot[1],W[2]=ot[2];else if(U<=mt)W[0]=Y.s[0],W[1]=Y.s[1],W[2]=Y.s[2];else{var Tt=o(Y.s),Lt=o(ot);dt=W,ut=function(It,Rt,Ft){var Ot,At,Dt,Bt,$t,Nt=[],jt=It[0],Ht=It[1],Ut=It[2],Kt=It[3],qt=Rt[0],Wt=Rt[1],Gt=Rt[2],Yt=Rt[3];return(At=jt*qt+Ht*Wt+Ut*Gt+Kt*Yt)<0&&(At=-At,qt=-qt,Wt=-Wt,Gt=-Gt,Yt=-Yt),1-At>1e-6?(Ot=Math.acos(At),Dt=Math.sin(Ot),Bt=Math.sin((1-Ft)*Ot)/Dt,$t=Math.sin(Ft*Ot)/Dt):(Bt=1-Ft,$t=Ft),Nt[0]=Bt*jt+$t*qt,Nt[1]=Bt*Ht+$t*Wt,Nt[2]=Bt*Ut+$t*Gt,Nt[3]=Bt*Kt+$t*Yt,Nt}(Tt,Lt,(U-mt)/(pt-mt)),at=ut[0],st=ut[1],ht=ut[2],_t=ut[3],yt=Math.atan2(2*st*_t-2*at*ht,1-2*st*st-2*ht*ht),ft=Math.asin(2*at*st+2*ht*_t),vt=Math.atan2(2*at*_t-2*st*ht,1-2*at*at-2*ht*ht),dt[0]=yt/degToRads,dt[1]=ft/degToRads,dt[2]=vt/degToRads}else for(tt=0;tt<ct;tt+=1)Y.h!==1&&(U>=pt?et=1:U<mt?et=0:(Y.o.x.constructor===Array?(X.__fnct||(X.__fnct=[]),X.__fnct[tt]?it=X.__fnct[tt]:(Et=Y.o.x[tt]===void 0?Y.o.x[0]:Y.o.x[tt],Mt=Y.o.y[tt]===void 0?Y.o.y[0]:Y.o.y[tt],bt=Y.i.x[tt]===void 0?Y.i.x[0]:Y.i.x[tt],wt=Y.i.y[tt]===void 0?Y.i.y[0]:Y.i.y[tt],it=BezierFactory.getBezierEasing(Et,Mt,bt,wt).get,X.__fnct[tt]=it)):X.__fnct?it=X.__fnct:(Et=Y.o.x,Mt=Y.o.y,bt=Y.i.x,wt=Y.i.y,it=BezierFactory.getBezierEasing(Et,Mt,bt,wt).get,Y.keyframeMetadata=it),et=it((U-mt)/(pt-mt)))),ot=K.s||Y.e,Ct=Y.h===1?Y.s[tt]:Y.s[tt]+(ot[tt]-Y.s[tt])*et,this.propType==="multidimensional"?W[tt]=Ct:W=Ct}return q.lastIndex=rt,W}function o(U){var q=U[0]*degToRads,W=U[1]*degToRads,G=U[2]*degToRads,Y=Math.cos(q/2),K=Math.cos(W/2),X=Math.cos(G/2),J=Math.sin(q/2),Q=Math.sin(W/2),et=Math.sin(G/2);return[J*Q*X+Y*K*et,J*K*X+Y*Q*et,Y*Q*X-J*K*et,Y*K*X-J*Q*et]}function l(){var U=this.comp.renderedFrame-this.offsetTime,q=this.keyframes[0].t-this.offsetTime,W=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(U===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=W&&U>=W||this._caching.lastFrame<q&&U<q))){this._caching.lastFrame>=U&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var G=this.interpolateValue(U,this._caching);this.pv=G}return this._caching.lastFrame=U,this.pv}function h(U){var q;if(this.propType==="unidimensional")q=U*this.mult,t(this.v-q)>1e-5&&(this.v=q,this._mdf=!0);else for(var W=0,G=this.v.length;W<G;)q=U[W]*this.mult,t(this.v[W]-q)>1e-5&&(this.v[W]=q,this._mdf=!0),W+=1}function y(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var U;this.lock=!0,this._mdf=this._isFirstFrame;var q=this.effectsSequence.length,W=this.kf?this.pv:this.data.k;for(U=0;U<q;U+=1)W=this.effectsSequence[U](W);this.setVValue(W),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function D(U){this.effectsSequence.push(U),this.container.addDynamicProperty(this)}function O(U,q,W,G){this.propType="unidimensional",this.mult=W||1,this.data=q,this.v=W?q.k*W:q.k,this.pv=q.k,this._mdf=!1,this.elem=U,this.container=G,this.comp=U.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.addEffect=D}function F(U,q,W,G){var Y;this.propType="multidimensional",this.mult=W||1,this.data=q,this._mdf=!1,this.elem=U,this.container=G,this.comp=U.comp,this.k=!1,this.kf=!1,this.frameId=-1;var K=q.k.length;for(this.v=createTypedArray("float32",K),this.pv=createTypedArray("float32",K),this.vel=createTypedArray("float32",K),Y=0;Y<K;Y+=1)this.v[Y]=q.k[Y]*this.mult,this.pv[Y]=q.k[Y];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=y,this.setVValue=h,this.addEffect=D}function R(U,q,W,G){this.propType="unidimensional",this.keyframes=q.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=q,this.mult=W||1,this.elem=U,this.container=G,this.comp=U.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.interpolateValue=r,this.effectsSequence=[l.bind(this)],this.addEffect=D}function B(U,q,W,G){var Y;this.propType="multidimensional";var K,X,J,Q,et=q.k.length;for(Y=0;Y<et-1;Y+=1)q.k[Y].to&&q.k[Y].s&&q.k[Y+1]&&q.k[Y+1].s&&(K=q.k[Y].s,X=q.k[Y+1].s,J=q.k[Y].to,Q=q.k[Y].ti,(K.length===2&&(K[0]!==X[0]||K[1]!==X[1])&&bez.pointOnLine2D(K[0],K[1],X[0],X[1],K[0]+J[0],K[1]+J[1])&&bez.pointOnLine2D(K[0],K[1],X[0],X[1],X[0]+Q[0],X[1]+Q[1])||K.length===3&&(K[0]!==X[0]||K[1]!==X[1]||K[2]!==X[2])&&bez.pointOnLine3D(K[0],K[1],K[2],X[0],X[1],X[2],K[0]+J[0],K[1]+J[1],K[2]+J[2])&&bez.pointOnLine3D(K[0],K[1],K[2],X[0],X[1],X[2],X[0]+Q[0],X[1]+Q[1],X[2]+Q[2]))&&(q.k[Y].to=null,q.k[Y].ti=null),K[0]===X[0]&&K[1]===X[1]&&J[0]===0&&J[1]===0&&Q[0]===0&&Q[1]===0&&(K.length===2||K[2]===X[2]&&J[2]===0&&Q[2]===0)&&(q.k[Y].to=null,q.k[Y].ti=null));this.effectsSequence=[l.bind(this)],this.data=q,this.keyframes=q.k,this.keyframesMetadata=[],this.offsetTime=U.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=W||1,this.elem=U,this.container=G,this.comp=U.comp,this.getValue=y,this.setVValue=h,this.interpolateValue=r,this.frameId=-1;var nt=q.k[0].s.length;for(this.v=createTypedArray("float32",nt),this.pv=createTypedArray("float32",nt),Y=0;Y<nt;Y+=1)this.v[Y]=e,this.pv[Y]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",nt)},this.addEffect=D}var j={getProp:function(U,q,W,G,Y){var K;if(q.k.length)if(typeof q.k[0]=="number")K=new F(U,q,G,Y);else switch(W){case 0:K=new R(U,q,G,Y);break;case 1:K=new B(U,q,G,Y)}else K=new O(U,q,G,Y);return K.effectsSequence.length&&Y.addDynamicProperty(K),K}};return j}(),TransformPropertyFactory=function(){var e=[0,0];function t(r,o,l){if(this.elem=r,this.frameId=-1,this.propType="transform",this.data=o,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(l||r),o.p&&o.p.s?(this.px=PropertyFactory.getProp(r,o.p.x,0,0,this),this.py=PropertyFactory.getProp(r,o.p.y,0,0,this),o.p.z&&(this.pz=PropertyFactory.getProp(r,o.p.z,0,0,this))):this.p=PropertyFactory.getProp(r,o.p||{k:[0,0,0]},1,0,this),o.rx){if(this.rx=PropertyFactory.getProp(r,o.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(r,o.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(r,o.rz,0,degToRads,this),o.or.k[0].ti){var h,y=o.or.k.length;for(h=0;h<y;h+=1)o.or.k[h].to=null,o.or.k[h].ti=null}this.or=PropertyFactory.getProp(r,o.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(r,o.r||{k:0},0,degToRads,this);o.sk&&(this.sk=PropertyFactory.getProp(r,o.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(r,o.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(r,o.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(r,o.s||{k:[100,100,100]},1,.01,this),o.o?this.o=PropertyFactory.getProp(r,o.o,0,.01,r):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(r){var o=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||o,this.a&&r.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&r.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&r.skewFromAxis(-this.sk.v,this.sa.v),this.r?r.rotate(-this.r.v):r.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?r.translate(this.px.v,this.py.v,-this.pz.v):r.translate(this.px.v,this.py.v,0):r.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(r){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||r){var o;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var l,h;if(o=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(l=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/o,0),h=this.p.getValueAtTime(this.p.keyframes[0].t/o,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(l=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/o,0),h=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/o,0)):(l=this.p.pv,h=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/o,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){l=[],h=[];var y=this.px,D=this.py;y._caching.lastFrame+y.offsetTime<=y.keyframes[0].t?(l[0]=y.getValueAtTime((y.keyframes[0].t+.01)/o,0),l[1]=D.getValueAtTime((D.keyframes[0].t+.01)/o,0),h[0]=y.getValueAtTime(y.keyframes[0].t/o,0),h[1]=D.getValueAtTime(D.keyframes[0].t/o,0)):y._caching.lastFrame+y.offsetTime>=y.keyframes[y.keyframes.length-1].t?(l[0]=y.getValueAtTime(y.keyframes[y.keyframes.length-1].t/o,0),l[1]=D.getValueAtTime(D.keyframes[D.keyframes.length-1].t/o,0),h[0]=y.getValueAtTime((y.keyframes[y.keyframes.length-1].t-.01)/o,0),h[1]=D.getValueAtTime((D.keyframes[D.keyframes.length-1].t-.01)/o,0)):(l=[y.pv,D.pv],h[0]=y.getValueAtTime((y._caching.lastFrame+y.offsetTime-.01)/o,y.offsetTime),h[1]=D.getValueAtTime((D._caching.lastFrame+D.offsetTime-.01)/o,D.offsetTime))}else l=h=e;this.v.rotate(-Math.atan2(l[1]-h[1],l[0]-h[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(r){this._addDynamicProperty(r),this.elem.addDynamicProperty(r),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(r,o,l){return new t(r,o,l)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,o,l){var h;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":h=this.v;break;case"i":h=this.i;break;case"o":h=this.o;break;default:h=[]}(!h[o]||h[o]&&!l)&&(h[o]=pointPool.newElement()),h[o][0]=e,h[o][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,o,l,h,y,D){this.setXYAt(e,t,"v",y,D),this.setXYAt(r,o,"o",y,D),this.setXYAt(l,h,"i",y,D)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,o=this.i,l=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],o[0][0],o[0][1],r[0][0],r[0][1],0,!1),l=1);var h,y=this._length-1,D=this._length;for(h=l;h<D;h+=1)e.setTripleAt(t[y][0],t[y][1],o[y][0],o[y][1],r[y][0],r[y][1],h,!1),y-=1;return e};var ShapePropertyFactory=function(){var e=-999999;function t(U,q,W){var G,Y,K,X,J,Q,et,nt,Z,it=W.lastIndex,rt=this.keyframes;if(U<rt[0].t-this.offsetTime)G=rt[0].s[0],K=!0,it=0;else if(U>=rt[rt.length-1].t-this.offsetTime)G=rt[rt.length-1].s?rt[rt.length-1].s[0]:rt[rt.length-2].e[0],K=!0;else{for(var tt,ct,lt,ot=it,dt=rt.length-1,ut=!0;ut&&(tt=rt[ot],!((ct=rt[ot+1]).t-this.offsetTime>U));)ot<dt-1?ot+=1:ut=!1;if(lt=this.keyframesMetadata[ot]||{},it=ot,!(K=tt.h===1)){if(U>=ct.t-this.offsetTime)nt=1;else if(U<tt.t-this.offsetTime)nt=0;else{var at;lt.__fnct?at=lt.__fnct:(at=BezierFactory.getBezierEasing(tt.o.x,tt.o.y,tt.i.x,tt.i.y).get,lt.__fnct=at),nt=at((U-(tt.t-this.offsetTime))/(ct.t-this.offsetTime-(tt.t-this.offsetTime)))}Y=ct.s?ct.s[0]:tt.e[0]}G=tt.s[0]}for(Q=q._length,et=G.i[0].length,W.lastIndex=it,X=0;X<Q;X+=1)for(J=0;J<et;J+=1)Z=K?G.i[X][J]:G.i[X][J]+(Y.i[X][J]-G.i[X][J])*nt,q.i[X][J]=Z,Z=K?G.o[X][J]:G.o[X][J]+(Y.o[X][J]-G.o[X][J])*nt,q.o[X][J]=Z,Z=K?G.v[X][J]:G.v[X][J]+(Y.v[X][J]-G.v[X][J])*nt,q.v[X][J]=Z}function r(){var U=this.comp.renderedFrame-this.offsetTime,q=this.keyframes[0].t-this.offsetTime,W=this.keyframes[this.keyframes.length-1].t-this.offsetTime,G=this._caching.lastFrame;return G!==e&&(G<q&&U<q||G>W&&U>W)||(this._caching.lastIndex=G<U?this._caching.lastIndex:0,this.interpolateShape(U,this.pv,this._caching)),this._caching.lastFrame=U,this.pv}function o(){this.paths=this.localShapeCollection}function l(U){(function(q,W){if(q._length!==W._length||q.c!==W.c)return!1;var G,Y=q._length;for(G=0;G<Y;G+=1)if(q.v[G][0]!==W.v[G][0]||q.v[G][1]!==W.v[G][1]||q.o[G][0]!==W.o[G][0]||q.o[G][1]!==W.o[G][1]||q.i[G][0]!==W.i[G][0]||q.i[G][1]!==W.i[G][1])return!1;return!0})(this.v,U)||(this.v=shapePool.clone(U),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function h(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var U,q;this.lock=!0,this._mdf=!1,U=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var W=this.effectsSequence.length;for(q=0;q<W;q+=1)U=this.effectsSequence[q](U);this.setVValue(U),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function y(U,q,W){this.propType="shape",this.comp=U.comp,this.container=U,this.elem=U,this.data=q,this.k=!1,this.kf=!1,this._mdf=!1;var G=W===3?q.pt.k:q.ks.k;this.v=shapePool.clone(G),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=o,this.effectsSequence=[]}function D(U){this.effectsSequence.push(U),this.container.addDynamicProperty(this)}function O(U,q,W){this.propType="shape",this.comp=U.comp,this.elem=U,this.container=U,this.offsetTime=U.data.st,this.keyframes=W===3?q.pt.k:q.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var G=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,G),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=o,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}y.prototype.interpolateShape=t,y.prototype.getValue=h,y.prototype.setVValue=l,y.prototype.addEffect=D,O.prototype.getValue=h,O.prototype.interpolateShape=t,O.prototype.setVValue=l,O.prototype.addEffect=D;var F=function(){var U=roundCorner;function q(W,G){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=G.d,this.elem=W,this.comp=W.comp,this.frameId=-1,this.initDynamicPropertyContainer(W),this.p=PropertyFactory.getProp(W,G.p,1,0,this),this.s=PropertyFactory.getProp(W,G.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return q.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var W=this.p.v[0],G=this.p.v[1],Y=this.s.v[0]/2,K=this.s.v[1]/2,X=this.d!==3,J=this.v;J.v[0][0]=W,J.v[0][1]=G-K,J.v[1][0]=X?W+Y:W-Y,J.v[1][1]=G,J.v[2][0]=W,J.v[2][1]=G+K,J.v[3][0]=X?W-Y:W+Y,J.v[3][1]=G,J.i[0][0]=X?W-Y*U:W+Y*U,J.i[0][1]=G-K,J.i[1][0]=X?W+Y:W-Y,J.i[1][1]=G-K*U,J.i[2][0]=X?W+Y*U:W-Y*U,J.i[2][1]=G+K,J.i[3][0]=X?W-Y:W+Y,J.i[3][1]=G+K*U,J.o[0][0]=X?W+Y*U:W-Y*U,J.o[0][1]=G-K,J.o[1][0]=X?W+Y:W-Y,J.o[1][1]=G+K*U,J.o[2][0]=X?W-Y*U:W+Y*U,J.o[2][1]=G+K,J.o[3][0]=X?W-Y:W+Y,J.o[3][1]=G-K*U}},extendPrototype([DynamicPropertyContainer],q),q}(),R=function(){function U(q,W){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=q,this.comp=q.comp,this.data=W,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(q),W.sy===1?(this.ir=PropertyFactory.getProp(q,W.ir,0,0,this),this.is=PropertyFactory.getProp(q,W.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(q,W.pt,0,0,this),this.p=PropertyFactory.getProp(q,W.p,1,0,this),this.r=PropertyFactory.getProp(q,W.r,0,degToRads,this),this.or=PropertyFactory.getProp(q,W.or,0,0,this),this.os=PropertyFactory.getProp(q,W.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return U.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var q,W,G,Y,K=2*Math.floor(this.pt.v),X=2*Math.PI/K,J=!0,Q=this.or.v,et=this.ir.v,nt=this.os.v,Z=this.is.v,it=2*Math.PI*Q/(2*K),rt=2*Math.PI*et/(2*K),tt=-Math.PI/2;tt+=this.r.v;var ct=this.data.d===3?-1:1;for(this.v._length=0,q=0;q<K;q+=1){G=J?nt:Z,Y=J?it:rt;var lt=(W=J?Q:et)*Math.cos(tt),ot=W*Math.sin(tt),dt=lt===0&&ot===0?0:ot/Math.sqrt(lt*lt+ot*ot),ut=lt===0&&ot===0?0:-lt/Math.sqrt(lt*lt+ot*ot);lt+=+this.p.v[0],ot+=+this.p.v[1],this.v.setTripleAt(lt,ot,lt-dt*Y*G*ct,ot-ut*Y*G*ct,lt+dt*Y*G*ct,ot+ut*Y*G*ct,q,!0),J=!J,tt+=X*ct}},convertPolygonToPath:function(){var q,W=Math.floor(this.pt.v),G=2*Math.PI/W,Y=this.or.v,K=this.os.v,X=2*Math.PI*Y/(4*W),J=.5*-Math.PI,Q=this.data.d===3?-1:1;for(J+=this.r.v,this.v._length=0,q=0;q<W;q+=1){var et=Y*Math.cos(J),nt=Y*Math.sin(J),Z=et===0&&nt===0?0:nt/Math.sqrt(et*et+nt*nt),it=et===0&&nt===0?0:-et/Math.sqrt(et*et+nt*nt);et+=+this.p.v[0],nt+=+this.p.v[1],this.v.setTripleAt(et,nt,et-Z*X*K*Q,nt-it*X*K*Q,et+Z*X*K*Q,nt+it*X*K*Q,q,!0),J+=G*Q}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],U),U}(),B=function(){function U(q,W){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=q,this.comp=q.comp,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(q),this.p=PropertyFactory.getProp(q,W.p,1,0,this),this.s=PropertyFactory.getProp(q,W.s,1,0,this),this.r=PropertyFactory.getProp(q,W.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return U.prototype={convertRectToPath:function(){var q=this.p.v[0],W=this.p.v[1],G=this.s.v[0]/2,Y=this.s.v[1]/2,K=bmMin(G,Y,this.r.v),X=K*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(q+G,W-Y+K,q+G,W-Y+K,q+G,W-Y+X,0,!0),this.v.setTripleAt(q+G,W+Y-K,q+G,W+Y-X,q+G,W+Y-K,1,!0),K!==0?(this.v.setTripleAt(q+G-K,W+Y,q+G-K,W+Y,q+G-X,W+Y,2,!0),this.v.setTripleAt(q-G+K,W+Y,q-G+X,W+Y,q-G+K,W+Y,3,!0),this.v.setTripleAt(q-G,W+Y-K,q-G,W+Y-K,q-G,W+Y-X,4,!0),this.v.setTripleAt(q-G,W-Y+K,q-G,W-Y+X,q-G,W-Y+K,5,!0),this.v.setTripleAt(q-G+K,W-Y,q-G+K,W-Y,q-G+X,W-Y,6,!0),this.v.setTripleAt(q+G-K,W-Y,q+G-X,W-Y,q+G-K,W-Y,7,!0)):(this.v.setTripleAt(q-G,W+Y,q-G+X,W+Y,q-G,W+Y,2),this.v.setTripleAt(q-G,W-Y,q-G,W-Y+X,q-G,W-Y,3))):(this.v.setTripleAt(q+G,W-Y+K,q+G,W-Y+X,q+G,W-Y+K,0,!0),K!==0?(this.v.setTripleAt(q+G-K,W-Y,q+G-K,W-Y,q+G-X,W-Y,1,!0),this.v.setTripleAt(q-G+K,W-Y,q-G+X,W-Y,q-G+K,W-Y,2,!0),this.v.setTripleAt(q-G,W-Y+K,q-G,W-Y+K,q-G,W-Y+X,3,!0),this.v.setTripleAt(q-G,W+Y-K,q-G,W+Y-X,q-G,W+Y-K,4,!0),this.v.setTripleAt(q-G+K,W+Y,q-G+K,W+Y,q-G+X,W+Y,5,!0),this.v.setTripleAt(q+G-K,W+Y,q+G-X,W+Y,q+G-K,W+Y,6,!0),this.v.setTripleAt(q+G,W+Y-K,q+G,W+Y-K,q+G,W+Y-X,7,!0)):(this.v.setTripleAt(q-G,W-Y,q-G+X,W-Y,q-G,W-Y,1,!0),this.v.setTripleAt(q-G,W+Y,q-G,W+Y-X,q-G,W+Y,2,!0),this.v.setTripleAt(q+G,W+Y,q+G-X,W+Y,q+G,W+Y,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:o},extendPrototype([DynamicPropertyContainer],U),U}(),j={getShapeProp:function(U,q,W){var G;return W===3||W===4?G=(W===3?q.pt:q.ks).k.length?new O(U,q,W):new y(U,q,W):W===5?G=new B(U,q):W===6?G=new F(U,q):W===7&&(G=new R(U,q)),G.k&&U.addDynamicProperty(G),G},getConstructorFunction:function(){return y},getKeyframedConstructorFunction:function(){return O}};return j}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(e,t){modifiers[e]||(modifiers[e]=t)},ob.getModifier=function(e,t,r){return new modifiers[e](t,r)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(e,t,r,o){var l;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var h,y=t.length||0;for(l=0;l<y;l+=1)h=PropertyFactory.getProp(e,t[l].v,0,0,this),this.k=h.k||this.k,this.dataProps[l]={n:t[l].n,p:h};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var o=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,o,l){var h=[];t<=1?h.push({s:e,e:t}):e>=1?h.push({s:e-1,e:t-1}):(h.push({s:e,e:1}),h.push({s:0,e:t-1}));var y,D,O=[],F=h.length;for(y=0;y<F;y+=1){var R,B;(D=h[y]).e*l<o||D.s*l>o+r||(R=D.s*l<=o?0:(D.s*l-o)/r,B=D.e*l>=o+r?1:(D.e*l-o)/r,O.push([R,B]))}return O.length||O.push([0,0]),O},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,o,l;if(this._mdf||e){var h=this.o.v%360/360;if(h<0&&(h+=1),(t=this.s.v>1?1+h:this.s.v<0?0+h:this.s.v+h)>(r=this.e.v>1?1+h:this.e.v<0?0+h:this.e.v+h)){var y=t;t=r,r=y}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var D,O,F,R,B,j=this.shapes.length,U=0;if(r===t)for(l=0;l<j;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(r===1&&t===0||r===0&&t===1){if(this._mdf)for(l=0;l<j;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var q,W,G=[];for(l=0;l<j;l+=1)if((q=this.shapes[l]).shape._mdf||this._mdf||e||this.m===2){if(O=(o=q.shape.paths)._length,B=0,!q.shape._mdf&&q.pathsData.length)B=q.totalShapeLength;else{for(F=this.releasePathsData(q.pathsData),D=0;D<O;D+=1)R=bez.getSegmentsLength(o.shapes[D]),F.push(R),B+=R.totalLength;q.totalShapeLength=B,q.pathsData=F}U+=B,q.shape._mdf=!0}else q.shape.paths=q.localShapeCollection;var Y,K=t,X=r,J=0;for(l=j-1;l>=0;l-=1)if((q=this.shapes[l]).shape._mdf){for((W=q.localShapeCollection).releaseShapes(),this.m===2&&j>1?(Y=this.calculateShapeEdges(t,r,q.totalShapeLength,J,U),J+=q.totalShapeLength):Y=[[K,X]],O=Y.length,D=0;D<O;D+=1){K=Y[D][0],X=Y[D][1],G.length=0,X<=1?G.push({s:q.totalShapeLength*K,e:q.totalShapeLength*X}):K>=1?G.push({s:q.totalShapeLength*(K-1),e:q.totalShapeLength*(X-1)}):(G.push({s:q.totalShapeLength*K,e:q.totalShapeLength}),G.push({s:0,e:q.totalShapeLength*(X-1)}));var Q=this.addShapes(q,G[0]);if(G[0].s!==G[0].e){if(G.length>1)if(q.shape.paths.shapes[q.shape.paths._length-1].c){var et=Q.pop();this.addPaths(Q,W),Q=this.addShapes(q,G[1],et)}else this.addPaths(Q,W),Q=this.addShapes(q,G[1]);this.addPaths(Q,W)}}q.shape.paths=W}}},TrimModifier.prototype.addPaths=function(e,t){var r,o=e.length;for(r=0;r<o;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,o,l,h,y){l.setXYAt(t[0],t[1],"o",h),l.setXYAt(r[0],r[1],"i",h+1),y&&l.setXYAt(e[0],e[1],"v",h),l.setXYAt(o[0],o[1],"v",h+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,o){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),o&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var o,l,h,y,D,O,F,R,B=e.pathsData,j=e.shape.paths.shapes,U=e.shape.paths._length,q=0,W=[],G=!0;for(r?(D=r._length,R=r._length):(r=shapePool.newElement(),D=0,R=0),W.push(r),o=0;o<U;o+=1){for(O=B[o].lengths,r.c=j[o].c,h=j[o].c?O.length:O.length+1,l=1;l<h;l+=1)if(q+(y=O[l-1]).addedLength<t.s)q+=y.addedLength,r.c=!1;else{if(q>t.e){r.c=!1;break}t.s<=q&&t.e>=q+y.addedLength?(this.addSegment(j[o].v[l-1],j[o].o[l-1],j[o].i[l],j[o].v[l],r,D,G),G=!1):(F=bez.getNewSegment(j[o].v[l-1],j[o].v[l],j[o].o[l-1],j[o].i[l],(t.s-q)/y.addedLength,(t.e-q)/y.addedLength,O[l-1]),this.addSegmentFromArray(F,r,D,G),G=!1,r.c=!1),q+=y.addedLength,D+=1}if(j[o].c&&O.length){if(y=O[l-1],q<=t.e){var Y=O[l-1].addedLength;t.s<=q&&t.e>=q+Y?(this.addSegment(j[o].v[l-1],j[o].o[l-1],j[o].i[0],j[o].v[0],r,D,G),G=!1):(F=bez.getNewSegment(j[o].v[l-1],j[o].v[0],j[o].o[l-1],j[o].i[0],(t.s-q)/Y,(t.e-q)/Y,O[l-1]),this.addSegmentFromArray(F,r,D,G),G=!1,r.c=!1)}else r.c=!1;q+=y.addedLength,D+=1}if(r._length&&(r.setXYAt(r.v[R][0],r.v[R][1],"i",R),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),q>t.e)break;o<U-1&&(r=shapePool.newElement(),G=!0,W.push(r),D=0)}return W},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r,o=shapePool.newElement();o.c=e.c;var l,h,y,D,O,F,R,B,j,U,q,W,G=e._length,Y=0;for(r=0;r<G;r+=1)l=e.v[r],y=e.o[r],h=e.i[r],l[0]===y[0]&&l[1]===y[1]&&l[0]===h[0]&&l[1]===h[1]?r!==0&&r!==G-1||e.c?(D=r===0?e.v[G-1]:e.v[r-1],F=(O=Math.sqrt(Math.pow(l[0]-D[0],2)+Math.pow(l[1]-D[1],2)))?Math.min(O/2,t)/O:0,R=q=l[0]+(D[0]-l[0])*F,B=W=l[1]-(l[1]-D[1])*F,j=R-(R-l[0])*roundCorner,U=B-(B-l[1])*roundCorner,o.setTripleAt(R,B,j,U,q,W,Y),Y+=1,D=r===G-1?e.v[0]:e.v[r+1],F=(O=Math.sqrt(Math.pow(l[0]-D[0],2)+Math.pow(l[1]-D[1],2)))?Math.min(O/2,t)/O:0,R=j=l[0]+(D[0]-l[0])*F,B=U=l[1]+(D[1]-l[1])*F,q=R-(R-l[0])*roundCorner,W=B-(B-l[1])*roundCorner,o.setTripleAt(R,B,j,U,q,W,Y),Y+=1):(o.setTripleAt(l[0],l[1],y[0],y[1],h[0],h[1],Y),Y+=1):(o.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],Y),Y+=1);return o},RoundCornersModifier.prototype.processShapes=function(e){var t,r,o,l,h,y,D=this.shapes.length,O=this.rd.v;if(O!==0)for(r=0;r<D;r+=1){if(y=(h=this.shapes[r]).localShapeCollection,h.shape._mdf||this._mdf||e)for(y.releaseShapes(),h.shape._mdf=!0,t=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(t[o],O));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,o=[0,0],l=e._length,h=0;for(h=0;h<l;h+=1)o[0]+=e.v[h][0],o[1]+=e.v[h][1];o[0]/=l,o[1]/=l;var y,D,O,F,R,B,j=shapePool.newElement();for(j.c=e.c,h=0;h<l;h+=1)y=e.v[h][0]+(o[0]-e.v[h][0])*r,D=e.v[h][1]+(o[1]-e.v[h][1])*r,O=e.o[h][0]+(o[0]-e.o[h][0])*-r,F=e.o[h][1]+(o[1]-e.o[h][1])*-r,R=e.i[h][0]+(o[0]-e.i[h][0])*-r,B=e.i[h][1]+(o[1]-e.i[h][1])*-r,j.setTripleAt(y,D,O,F,R,B,h);return j},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,o,l,h,y,D=this.shapes.length,O=this.amount.v;if(O!==0)for(r=0;r<D;r+=1){if(y=(h=this.shapes[r]).localShapeCollection,h.shape._mdf||this._mdf||e)for(y.releaseShapes(),h.shape._mdf=!0,t=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(t[o],O));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,o,l,h){var y=h?-1:1,D=o.s.v[0]+(1-o.s.v[0])*(1-l),O=o.s.v[1]+(1-o.s.v[1])*(1-l);e.translate(o.p.v[0]*y*l,o.p.v[1]*y*l,o.p.v[2]),t.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),t.rotate(-o.r.v*y*l),t.translate(o.a.v[0],o.a.v[1],o.a.v[2]),r.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),r.scale(h?1/D:D,h?1/O:O),r.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,o){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,e[t].ty==="gr"&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,o=e.length;for(r=0;r<o;r+=1)e[r]._render=t,e[r].ty==="gr"&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,o,l,h,y=!1;if(this._mdf||e){var D,O=Math.ceil(this.c.v);if(this._groups.length<O){for(;this._groups.length<O;){var F={it:this.cloneElements(this._elements),ty:"gr"};F.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,F),this._groups.splice(0,0,F),this._currentCopies+=1}this.elem.reloadShapes(),y=!0}for(h=0,o=0;o<=this._groups.length-1;o+=1){if(D=h<O,this._groups[o]._render=D,this.changeGroupRender(this._groups[o].it,D),!D){var R=this.elemsData[o].it,B=R[R.length-1];B.transform.op.v!==0?(B.transform.op._mdf=!0,B.transform.op.v=0):B.transform.op._mdf=!1}h+=1}this._currentCopies=O;var j=this.o.v,U=j%1,q=j>0?Math.floor(j):Math.ceil(j),W=this.pMatrix.props,G=this.rMatrix.props,Y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var K,X,J=0;if(j>0){for(;J<q;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),J+=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,U,!1),J+=U)}else if(j<0){for(;J>q;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),J-=1;U&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-U,!0),J-=U)}for(o=this.data.m===1?0:this._currentCopies-1,l=this.data.m===1?1:-1,h=this._currentCopies;h;){if(X=(r=(t=this.elemsData[o].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),J!==0){for((o!==0&&l===1||o!==this._currentCopies-1&&l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],G[8],G[9],G[10],G[11],G[12],G[13],G[14],G[15]),this.matrix.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],Y[8],Y[9],Y[10],Y[11],Y[12],Y[13],Y[14],Y[15]),this.matrix.transform(W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14],W[15]),K=0;K<X;K+=1)r[K]=this.matrix.props[K];this.matrix.reset()}else for(this.matrix.reset(),K=0;K<X;K+=1)r[K]=this.matrix.props[K];J+=1,h-=1,o+=l}}else for(h=this._currentCopies,o=0,l=1;h;)r=(t=this.elemsData[o].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,h-=1,o+=l;return y},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<r;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,o=this.o.length/2;r<o;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,o,l=4*this.data.p;for(t=0;t<l;t+=1)r=t%4==0?100:255,o=Math.round(this.prop.v[t]*r),this.c[t]!==o&&(this.c[t]=o,this._cmdf=!e);if(this.o.length)for(l=this.prop.v.length,t=4*this.data.p;t<l;t+=1)r=t%2==0?100:1,o=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==o&&(this.o[t-4*this.data.p]=o,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,r,o){if(t===0)return"";var l,h=e.o,y=e.i,D=e.v,O=" M"+o.applyToPointStringified(D[0][0],D[0][1]);for(l=1;l<t;l+=1)O+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[l][0],y[l][1])+" "+o.applyToPointStringified(D[l][0],D[l][1]);return r&&t&&(O+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[0][0],y[0][1])+" "+o.applyToPointStringified(D[0][0],D[0][1]),O+="z"),O},audioControllerFactory=function(){function e(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].pause()},resume:function(){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].resume()},setRate:function(t){var r,o=this.audios.length;for(r=0;r<o;r+=1)this.audios[r].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),ImagePreloader=function(){var e=function(){var D=createTag("canvas");D.width=1,D.height=1;var O=D.getContext("2d");return O.fillStyle="rgba(0,0,0,0)",O.fillRect(0,0,1,1),D}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(D,O,F){var R="";if(D.e)R=D.p;else if(O){var B=D.p;B.indexOf("images/")!==-1&&(B=B.split("/")[1]),R=O+B}else R=F,R+=D.u?D.u:"",R+=D.p;return R}function l(D){var O=0,F=setInterval(function(){(D.getBBox().width||O>500)&&(this._imageLoaded(),clearInterval(F)),O+=1}.bind(this),50)}function h(D){var O={assetData:D},F=o(D,this.assetsPath,this.path);return dataManager.loadData(F,function(R){O.img=R,this._footageLoaded()}.bind(this),function(){O.img={},this._footageLoaded()}.bind(this)),O}function y(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=l.bind(this),this.createFootageData=h.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return y.prototype={loadAssets:function(D,O){var F;this.imagesLoadedCb=O;var R=D.length;for(F=0;F<R;F+=1)D[F].layers||(D[F].t&&D[F].t!=="seq"?D[F].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(D[F]))):(this.totalImages+=1,this.images.push(this._createImageData(D[F]))))},setAssetsPath:function(D){this.assetsPath=D||""},setPath:function(D){this.path=D||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(D){for(var O=0,F=this.images.length;O<F;){if(this.images[O].assetData===D)return this.images[O].img;O+=1}return null},createImgData:function(D){var O=o(D,this.assetsPath,this.path),F=createTag("img");F.crossOrigin="anonymous",F.addEventListener("load",this._imageLoaded,!1),F.addEventListener("error",function(){R.img=e,this._imageLoaded()}.bind(this),!1),F.src=O;var R={img:F,assetData:D};return R},createImageData:function(D){var O=o(D,this.assetsPath,this.path),F=createNS("image");isSafari?this.testImageLoaded(F):F.addEventListener("load",this._imageLoaded,!1),F.addEventListener("error",function(){R.img=e,this._imageLoaded()}.bind(this),!1),F.setAttributeNS("http://www.w3.org/1999/xlink","href",O),this._elementHelper.append?this._elementHelper.append(F):this._elementHelper.appendChild(F);var R={img:F,assetData:D};return R},imageLoaded:t,footageLoaded:r,setCacheType:function(D,O){D==="svg"?(this._elementHelper=O,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},y}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),filtersFactory=function(){var e={createFilter:function(t,r){var o=createNS("filter");return o.setAttribute("id",t),r!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return e}();function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(e,t,r){var o={propType:!1},l=PropertyFactory.getProp,h=t.a;this.a={r:h.r?l(e,h.r,0,degToRads,r):o,rx:h.rx?l(e,h.rx,0,degToRads,r):o,ry:h.ry?l(e,h.ry,0,degToRads,r):o,sk:h.sk?l(e,h.sk,0,degToRads,r):o,sa:h.sa?l(e,h.sa,0,degToRads,r):o,s:h.s?l(e,h.s,1,.01,r):o,a:h.a?l(e,h.a,1,0,r):o,o:h.o?l(e,h.o,0,.01,r):o,p:h.p?l(e,h.p,1,0,r):o,sw:h.sw?l(e,h.sw,0,0,r):o,sc:h.sc?l(e,h.sc,1,0,r):o,fc:h.fc?l(e,h.fc,1,0,r):o,fh:h.fh?l(e,h.fh,0,0,r):o,fs:h.fs?l(e,h.fs,0,.01,r):o,fb:h.fb?l(e,h.fb,0,.01,r):o,t:h.t?l(e,h.t,0,0,r):o},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function LetterProps(e,t,r,o,l,h){this.o=e,this.sw=t,this.sc=r,this.fc=o,this.m=l,this.p=h,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!o,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,o=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q=this._moreOptions.alignment.v,et=this._animatorsData,nt=this._textData,Z=this.mHelper,it=this._renderType,rt=this.renderedLetters.length,tt=e.l;if(this._hasMaskedPath){if(J=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ct,lt=J.v;for(this._pathData.r.v&&(lt=lt.reverse()),y={tLength:0,segments:[]},h=lt._length-1,Y=0,l=0;l<h;l+=1)ct=bez.buildBezierData(lt.v[l],lt.v[l+1],[lt.o[l][0]-lt.v[l][0],lt.o[l][1]-lt.v[l][1]],[lt.i[l+1][0]-lt.v[l+1][0],lt.i[l+1][1]-lt.v[l+1][1]]),y.tLength+=ct.segmentLength,y.segments.push(ct),Y+=ct.segmentLength;l=h,J.v.c&&(ct=bez.buildBezierData(lt.v[l],lt.v[0],[lt.o[l][0]-lt.v[l][0],lt.o[l][1]-lt.v[l][1]],[lt.i[0][0]-lt.v[0][0],lt.i[0][1]-lt.v[0][1]]),y.tLength+=ct.segmentLength,y.segments.push(ct),Y+=ct.segmentLength),this._pathData.pi=y}if(y=this._pathData.pi,D=this._pathData.f.v,j=0,B=1,F=0,R=!0,W=y.segments,D<0&&J.v.c)for(y.tLength<Math.abs(D)&&(D=-Math.abs(D)%y.tLength),B=(q=W[j=W.length-1].points).length-1;D<0;)D+=q[B].partialLength,(B-=1)<0&&(B=(q=W[j-=1].points).length-1);U=(q=W[j].points)[B-1],G=(O=q[B]).partialLength}h=tt.length,r=0,o=0;var ot,dt,ut,at,st,ht=1.2*e.finalSize*.714,_t=!0;ut=et.length;var yt,ft,vt,pt,mt,gt,xt,kt,Pt,St,Et,Mt,bt=-1,wt=D,Ct=j,Tt=B,Lt=-1,It="",Rt=this.defaultPropsArray;if(e.j===2||e.j===1){var Ft=0,Ot=0,At=e.j===2?-.5:-1,Dt=0,Bt=!0;for(l=0;l<h;l+=1)if(tt[l].n){for(Ft&&(Ft+=Ot);Dt<l;)tt[Dt].animatorJustifyOffset=Ft,Dt+=1;Ft=0,Bt=!0}else{for(dt=0;dt<ut;dt+=1)(ot=et[dt].a).t.propType&&(Bt&&e.j===2&&(Ot+=ot.t.v*At),(st=et[dt].s.getMult(tt[l].anIndexes[dt],nt.a[dt].s.totalChars)).length?Ft+=ot.t.v*st[0]*At:Ft+=ot.t.v*st*At);Bt=!1}for(Ft&&(Ft+=Ot);Dt<l;)tt[Dt].animatorJustifyOffset=Ft,Dt+=1}for(l=0;l<h;l+=1){if(Z.reset(),pt=1,tt[l].n)r=0,o+=e.yOffset,o+=_t?1:0,D=wt,_t=!1,this._hasMaskedPath&&(B=Tt,U=(q=W[j=Ct].points)[B-1],G=(O=q[B]).partialLength,F=0),It="",Et="",Pt="",Mt="",Rt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Lt!==tt[l].line){switch(e.j){case 1:D+=Y-e.lineWidths[tt[l].line];break;case 2:D+=(Y-e.lineWidths[tt[l].line])/2}Lt=tt[l].line}bt!==tt[l].ind&&(tt[bt]&&(D+=tt[bt].extra),D+=tt[l].an/2,bt=tt[l].ind),D+=Q[0]*tt[l].an*.005;var $t=0;for(dt=0;dt<ut;dt+=1)(ot=et[dt].a).p.propType&&((st=et[dt].s.getMult(tt[l].anIndexes[dt],nt.a[dt].s.totalChars)).length?$t+=ot.p.v[0]*st[0]:$t+=ot.p.v[0]*st),ot.a.propType&&((st=et[dt].s.getMult(tt[l].anIndexes[dt],nt.a[dt].s.totalChars)).length?$t+=ot.a.v[0]*st[0]:$t+=ot.a.v[0]*st);for(R=!0,this._pathData.a.v&&(D=.5*tt[0].an+(Y-this._pathData.f.v-.5*tt[0].an-.5*tt[tt.length-1].an)*bt/(h-1),D+=this._pathData.f.v);R;)F+G>=D+$t||!q?(K=(D+$t-F)/O.partialLength,ft=U.point[0]+(O.point[0]-U.point[0])*K,vt=U.point[1]+(O.point[1]-U.point[1])*K,Z.translate(-Q[0]*tt[l].an*.005,-Q[1]*ht*.01),R=!1):q&&(F+=O.partialLength,(B+=1)>=q.length&&(B=0,W[j+=1]?q=W[j].points:J.v.c?(B=0,q=W[j=0].points):(F-=O.partialLength,q=null)),q&&(U=O,G=(O=q[B]).partialLength));yt=tt[l].an/2-tt[l].add,Z.translate(-yt,0,0)}else yt=tt[l].an/2-tt[l].add,Z.translate(-yt,0,0),Z.translate(-Q[0]*tt[l].an*.005,-Q[1]*ht*.01,0);for(dt=0;dt<ut;dt+=1)(ot=et[dt].a).t.propType&&(st=et[dt].s.getMult(tt[l].anIndexes[dt],nt.a[dt].s.totalChars),r===0&&e.j===0||(this._hasMaskedPath?st.length?D+=ot.t.v*st[0]:D+=ot.t.v*st:st.length?r+=ot.t.v*st[0]:r+=ot.t.v*st));for(e.strokeWidthAnim&&(gt=e.sw||0),e.strokeColorAnim&&(mt=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(xt=[e.fc[0],e.fc[1],e.fc[2]]),dt=0;dt<ut;dt+=1)(ot=et[dt].a).a.propType&&((st=et[dt].s.getMult(tt[l].anIndexes[dt],nt.a[dt].s.totalChars)).length?Z.translate(-ot.a.v[0]*st[0],-ot.a.v[1]*st[1],ot.a.v[2]*st[2]):Z.translate(-ot.a.v[0]*st,-ot.a.v[1]*st,ot.a.v[2]*st));for(dt=0;dt<ut;dt+=1)(ot=et[dt].a).s.propType&&((st=et[dt].s.getMult(tt[l].anIndexes[dt],nt.a[dt].s.totalChars)).length?Z.scale(1+(ot.s.v[0]-1)*st[0],1+(ot.s.v[1]-1)*st[1],1):Z.scale(1+(ot.s.v[0]-1)*st,1+(ot.s.v[1]-1)*st,1));for(dt=0;dt<ut;dt+=1){if(ot=et[dt].a,st=et[dt].s.getMult(tt[l].anIndexes[dt],nt.a[dt].s.totalChars),ot.sk.propType&&(st.length?Z.skewFromAxis(-ot.sk.v*st[0],ot.sa.v*st[1]):Z.skewFromAxis(-ot.sk.v*st,ot.sa.v*st)),ot.r.propType&&(st.length?Z.rotateZ(-ot.r.v*st[2]):Z.rotateZ(-ot.r.v*st)),ot.ry.propType&&(st.length?Z.rotateY(ot.ry.v*st[1]):Z.rotateY(ot.ry.v*st)),ot.rx.propType&&(st.length?Z.rotateX(ot.rx.v*st[0]):Z.rotateX(ot.rx.v*st)),ot.o.propType&&(st.length?pt+=(ot.o.v*st[0]-pt)*st[0]:pt+=(ot.o.v*st-pt)*st),e.strokeWidthAnim&&ot.sw.propType&&(st.length?gt+=ot.sw.v*st[0]:gt+=ot.sw.v*st),e.strokeColorAnim&&ot.sc.propType)for(kt=0;kt<3;kt+=1)st.length?mt[kt]+=(ot.sc.v[kt]-mt[kt])*st[0]:mt[kt]+=(ot.sc.v[kt]-mt[kt])*st;if(e.fillColorAnim&&e.fc){if(ot.fc.propType)for(kt=0;kt<3;kt+=1)st.length?xt[kt]+=(ot.fc.v[kt]-xt[kt])*st[0]:xt[kt]+=(ot.fc.v[kt]-xt[kt])*st;ot.fh.propType&&(xt=st.length?addHueToRGB(xt,ot.fh.v*st[0]):addHueToRGB(xt,ot.fh.v*st)),ot.fs.propType&&(xt=st.length?addSaturationToRGB(xt,ot.fs.v*st[0]):addSaturationToRGB(xt,ot.fs.v*st)),ot.fb.propType&&(xt=st.length?addBrightnessToRGB(xt,ot.fb.v*st[0]):addBrightnessToRGB(xt,ot.fb.v*st))}}for(dt=0;dt<ut;dt+=1)(ot=et[dt].a).p.propType&&(st=et[dt].s.getMult(tt[l].anIndexes[dt],nt.a[dt].s.totalChars),this._hasMaskedPath?st.length?Z.translate(0,ot.p.v[1]*st[0],-ot.p.v[2]*st[1]):Z.translate(0,ot.p.v[1]*st,-ot.p.v[2]*st):st.length?Z.translate(ot.p.v[0]*st[0],ot.p.v[1]*st[1],-ot.p.v[2]*st[2]):Z.translate(ot.p.v[0]*st,ot.p.v[1]*st,-ot.p.v[2]*st));if(e.strokeWidthAnim&&(Pt=gt<0?0:gt),e.strokeColorAnim&&(St="rgb("+Math.round(255*mt[0])+","+Math.round(255*mt[1])+","+Math.round(255*mt[2])+")"),e.fillColorAnim&&e.fc&&(Et="rgb("+Math.round(255*xt[0])+","+Math.round(255*xt[1])+","+Math.round(255*xt[2])+")"),this._hasMaskedPath){if(Z.translate(0,-e.ls),Z.translate(0,Q[1]*ht*.01+o,0),this._pathData.p.v){X=(O.point[1]-U.point[1])/(O.point[0]-U.point[0]);var Nt=180*Math.atan(X)/Math.PI;O.point[0]<U.point[0]&&(Nt+=180),Z.rotate(-Nt*Math.PI/180)}Z.translate(ft,vt,0),D-=Q[0]*tt[l].an*.005,tt[l+1]&&bt!==tt[l+1].ind&&(D+=tt[l].an/2,D+=.001*e.tr*e.finalSize)}else{switch(Z.translate(r,o,0),e.ps&&Z.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:Z.translate(tt[l].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[tt[l].line]),0,0);break;case 2:Z.translate(tt[l].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[tt[l].line])/2,0,0)}Z.translate(0,-e.ls),Z.translate(yt,0,0),Z.translate(Q[0]*tt[l].an*.005,Q[1]*ht*.01,0),r+=tt[l].l+.001*e.tr*e.finalSize}it==="html"?It=Z.toCSS():it==="svg"?It=Z.to2dCSS():Rt=[Z.props[0],Z.props[1],Z.props[2],Z.props[3],Z.props[4],Z.props[5],Z.props[6],Z.props[7],Z.props[8],Z.props[9],Z.props[10],Z.props[11],Z.props[12],Z.props[13],Z.props[14],Z.props[15]],Mt=pt}rt<=l?(at=new LetterProps(Mt,Pt,St,Et,It,Rt),this.renderedLetters.push(at),rt+=1,this.lettersChangedFlag=!0):(at=this.renderedLetters[l],this.lettersChangedFlag=at.update(Mt,Pt,St,Et,It,Rt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,r,o,l,h){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var y=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,y=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,y=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,y=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,y=!0),this.m!==l&&(this.m=l,this._mdf.m=!0,y=!0),!h.length||this.p[0]===h[0]&&this.p[1]===h[1]&&this.p[4]===h[4]&&this.p[5]===h[5]&&this.p[12]===h[12]&&this.p[13]===h[13]||(this.p=h,this._mdf.p=!0,y=!0),y},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var o;this.lock=!0,this._mdf=!1;var l=this.effectsSequence.length,h=e||this.data.d.k[this.keysIndex].s;for(o=0;o<l;o+=1)h=r!==this.keysIndex?this.effectsSequence[o](h,h.t):this.effectsSequence[o](this.currentData,h.t);t!==h&&this.setCurrentData(h),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,o=e.length;r<=o-1&&!(r===o-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,o=[],l=0,h=e.length,y=!1;l<h;)t=e.charCodeAt(l),FontManager.isCombinedCharacter(t)?o[o.length-1]+=e.charAt(l):t>=55296&&t<=56319?(r=e.charCodeAt(l+1))>=56320&&r<=57343?(y||FontManager.isModifier(t,r)?(o[o.length-1]+=e.substr(l,2),y=!1):o.push(e.substr(l,2)),l+=1):o.push(e.charAt(l)):t>56319?(r=e.charCodeAt(l+1),FontManager.isZeroWidthJoiner(t,r)?(y=!0,o[o.length-1]+=e.substr(l,2),l+=1):o.push(e.charAt(l))):FontManager.isZeroWidthJoiner(t)?(o[o.length-1]+=e.charAt(l),y=!0):o.push(e.charAt(l)),l+=1;return o},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,o,l,h,y,D,O=this.elem.globalData.fontManager,F=this.data,R=[],B=0,j=F.m.g,U=0,q=0,W=0,G=[],Y=0,K=0,X=O.getFontByName(e.f),J=0,Q=getFontProperties(X);e.fWeight=Q.weight,e.fStyle=Q.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var et,nt=e.tr/1e3*e.finalSize;if(e.sz)for(var Z,it,rt=!0,tt=e.sz[0],ct=e.sz[1];rt;){Z=0,Y=0,r=(it=this.buildFinalText(e.t)).length,nt=e.tr/1e3*e.finalSize;var lt=-1;for(t=0;t<r;t+=1)et=it[t].charCodeAt(0),o=!1,it[t]===" "?lt=t:et!==13&&et!==3||(Y=0,o=!0,Z+=e.finalLineHeight||1.2*e.finalSize),O.chars?(D=O.getCharData(it[t],X.fStyle,X.fFamily),J=o?0:D.w*e.finalSize/100):J=O.measureText(it[t],e.f,e.finalSize),Y+J>tt&&it[t]!==" "?(lt===-1?r+=1:t=lt,Z+=e.finalLineHeight||1.2*e.finalSize,it.splice(t,lt===t?1:0,"\r"),lt=-1,Y=0):(Y+=J,Y+=nt);Z+=X.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&ct<Z?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=it,r=e.finalText.length,rt=!1)}Y=-nt,J=0;var ot,dt=0;for(t=0;t<r;t+=1)if(o=!1,(et=(ot=e.finalText[t]).charCodeAt(0))===13||et===3?(dt=0,G.push(Y),K=Y>K?Y:K,Y=-2*nt,l="",o=!0,W+=1):l=ot,O.chars?(D=O.getCharData(ot,X.fStyle,O.getFontByName(e.f).fFamily),J=o?0:D.w*e.finalSize/100):J=O.measureText(l,e.f,e.finalSize),ot===" "?dt+=J+nt:(Y+=J+nt+dt,dt=0),R.push({l:J,an:J,add:U,n:o,anIndexes:[],val:l,line:W,animatorJustifyOffset:0}),j==2){if(U+=J,l===""||l===" "||t===r-1){for(l!==""&&l!==" "||(U-=J);q<=t;)R[q].an=U,R[q].ind=B,R[q].extra=J,q+=1;B+=1,U=0}}else if(j==3){if(U+=J,l===""||t===r-1){for(l===""&&(U-=J);q<=t;)R[q].an=U,R[q].ind=B,R[q].extra=J,q+=1;U=0,B+=1}}else R[B].ind=B,R[B].extra=0,B+=1;if(e.l=R,K=Y>K?Y:K,G.push(Y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=K,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=G;var ut,at,st,ht,_t=F.a;y=_t.length;var yt=[];for(h=0;h<y;h+=1){for((ut=_t[h]).a.sc&&(e.strokeColorAnim=!0),ut.a.sw&&(e.strokeWidthAnim=!0),(ut.a.fc||ut.a.fh||ut.a.fs||ut.a.fb)&&(e.fillColorAnim=!0),ht=0,st=ut.s.b,t=0;t<r;t+=1)(at=R[t]).anIndexes[h]=ht,(st==1&&at.val!==""||st==2&&at.val!==""&&at.val!==" "||st==3&&(at.n||at.val==" "||t==r-1)||st==4&&(at.n||t==r-1))&&(ut.s.rn===1&&yt.push(ht),ht+=1);F.a[h].s.totalChars=ht;var ft,vt=-1;if(ut.s.rn===1)for(t=0;t<r;t+=1)vt!=(at=R[t]).anIndexes[h]&&(vt=at.anIndexes[h],ft=yt.splice(Math.floor(Math.random()*yt.length),1)[0]),at.anIndexes[h]=ft}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=X.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=t===void 0?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function o(l,h){this._currentTextLength=-1,this.k=!1,this.data=h,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,h.s||{k:0},0,0,this),this.e="e"in h?PropertyFactory.getProp(l,h.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(l,h.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,h.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,h.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,h.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,h.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return o.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var h=0,y=0,D=1,O=1;this.ne.v>0?h=this.ne.v/100:y=-this.ne.v/100,this.xe.v>0?D=1-this.xe.v/100:O=1+this.xe.v/100;var F=BezierFactory.getBezierEasing(h,y,D,O).get,R=0,B=this.finalS,j=this.finalE,U=this.data.sh;if(U===2)R=F(R=j===B?l>=j?1:0:e(0,t(.5/(j-B)+(l-B)/(j-B),1)));else if(U===3)R=F(R=j===B?l>=j?0:1:1-e(0,t(.5/(j-B)+(l-B)/(j-B),1)));else if(U===4)j===B?R=0:(R=e(0,t(.5/(j-B)+(l-B)/(j-B),1)))<.5?R*=2:R=1-2*(R-.5),R=F(R);else if(U===5){if(j===B)R=0;else{var q=j-B,W=-q/2+(l=t(e(0,l+.5-B),j-B)),G=q/2;R=Math.sqrt(1-W*W/(G*G))}R=F(R)}else U===6?(j===B?R=0:(l=t(e(0,l+.5-B),j-B),R=(1+Math.cos(Math.PI+2*Math.PI*l/(j-B)))/2),R=F(R)):(l>=r(B)&&(R=e(0,t(l-B<0?t(j,1)-(B-l):j-l,1))),R=F(R));if(this.sm.v!==100){var Y=.01*this.sm.v;Y===0&&(Y=1e-8);var K=.5-.5*Y;R<K?R=0:(R=(R-K)/Y)>1&&(R=1)}return R*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var h=this.data.r===2?1:100/this.data.totalChars,y=this.o.v/h,D=this.s.v/h+y,O=this.e.v/h+y;if(D>O){var F=D;D=O,O=F}this.finalS=D,this.finalE=O}},extendPrototype([DynamicPropertyContainer],o),{getTextSelectorProp:function(l,h,y){return new o(l,h)}}}(),poolFactory=function(e,t,r){var o=0,l=e,h=createSizedArray(l);return{newElement:function(){return o?h[o-=1]:t()},release:function(y){o===l&&(h=pooling.double(h),l*=2),r&&r(y),h[o]=y,o+=1}}},pooling={double:function(e){return e.concat(createSizedArray(e.length))}},pointPool=poolFactory(8,function(){return createTypedArray("float32",2)}),shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1}),factory.clone=function(e){var t,r=factory.newElement(),o=e._length===void 0?e.v.length:e._length;for(r.setLength(o),r.c=e.c,t=0;t<o;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},factory),factory,shapeCollectionPool=function(){var e={newShapeCollection:function(){return t?o[t-=1]:new ShapeCollection},release:function(l){var h,y=l._length;for(h=0;h<y;h+=1)shapePool.release(l.shapes[h]);l._length=0,t===r&&(o=pooling.double(o),r*=2),o[t]=l,t+=1}},t=0,r=4,o=createSizedArray(r);return e}(),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),markerParser=function(){function e(t){for(var r,o=t.split(`\r
`),l={},h=0,y=0;y<o.length;y+=1)(r=o[y].split(":")).length===2&&(l[r[0]]=r[1].trim(),h+=1);if(h===0)throw new Error;return l}return function(t){for(var r=[],o=0;o<t.length;o+=1){var l=t[o],h={time:l.tm,duration:l.dr};try{h.payload=JSON.parse(t[o].cm)}catch{try{h.payload=e(t[o].cm)}catch{h.payload={name:t[o]}}}r.push(h)}return r}}();function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var o=createNS("title"),l=createElementID();o.setAttribute("id",l),o.textContent=t.title,this.svgElement.appendChild(o),r+=l}if(t&&t.description){var h=createNS("desc"),y=createElementID();h.setAttribute("id",y),h.textContent=t.description,this.svgElement.appendChild(h),r+=" "+y}r&&this.svgElement.setAttribute("aria-labelledby",r);var D=createNS("defs");this.svgElement.appendChild(D);var O=createNS("g");this.svgElement.appendChild(O),this.layerElement=O,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:D,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||t.clearCanvas===void 0||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o,l,h=this.globalData.defs,y=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(y),this.solidPath="";var D,O,F,R,B,j,U=this.masksProperties,q=0,W=[],G=createElementID(),Y="clipPath",K="clip-path";for(o=0;o<y;o+=1)if((U[o].mode!=="a"&&U[o].mode!=="n"||U[o].inv||U[o].o.k!==100||U[o].o.x)&&(Y="mask",K="mask"),U[o].mode!=="s"&&U[o].mode!=="i"||q!==0?F=null:((F=createNS("rect")).setAttribute("fill","#ffffff"),F.setAttribute("width",this.element.comp.data.w||0),F.setAttribute("height",this.element.comp.data.h||0),W.push(F)),l=createNS("path"),U[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,U[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,U[o],3),elem:l,lastPath:""},h.appendChild(l);else{var X;if(q+=1,l.setAttribute("fill",U[o].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero"),U[o].x.k!==0?(Y="mask",K="mask",j=PropertyFactory.getProp(this.element,U[o].x,0,null,this.element),X=createElementID(),(R=createNS("filter")).setAttribute("id",X),(B=createNS("feMorphology")).setAttribute("operator","erode"),B.setAttribute("in","SourceGraphic"),B.setAttribute("radius","0"),R.appendChild(B),h.appendChild(R),l.setAttribute("stroke",U[o].mode==="s"?"#000000":"#ffffff")):(B=null,j=null),this.storedData[o]={elem:l,x:j,expan:B,lastPath:"",lastOperator:"",filterId:X,lastRadius:0},U[o].mode==="i"){O=W.length;var J=createNS("g");for(D=0;D<O;D+=1)J.appendChild(W[D]);var Q=createNS("mask");Q.setAttribute("mask-type","alpha"),Q.setAttribute("id",G+"_"+q),Q.appendChild(l),h.appendChild(Q),J.setAttribute("mask","url("+locationHref+"#"+G+"_"+q+")"),W.length=0,W.push(J)}else W.push(l);U[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,U[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,U[o],3),invRect:F},this.viewData[o].prop.k||this.drawPath(U[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(Y),y=W.length,o=0;o<y;o+=1)this.maskElement.appendChild(W[o]);q>0&&(this.maskElement.setAttribute("id",G),this.element.maskedElement.setAttribute(K,"url("+locationHref+"#"+G+")"),h.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){this.elem=e,this.pos=t}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var o=0,l=e.length;o<l;){if(e[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(e){var t,r,o=this.layers.length;for(this.completeLayers=!0,t=o-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var r,o=e.length,l=this.layers.length;for(t=0;t<o;t+=1)for(r=0;r<l;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var o=this.elements,l=this.layers,h=0,y=l.length;h<y;)l[h].ind==t&&(o[h]&&o[h]!==!0?(r.push(o[h]),o[h].setAsParent(),l[h].parent!==void 0?this.buildElementParenting(e,l[h].parent,r):e.setHierarchy(r)):(this.buildItem(h),this.addPendingElement(e))),h+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var o=this.createComp(e[t]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",e.w),o.setAttribute("height",e.h),o.setAttribute("x",0),o.setAttribute("y",0);var l=createElementID();r.setAttribute("id",l),r.appendChild(o),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+l+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRenderer.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&this.layers[e].ty!==99){t[e]=!0;var r=this.createItem(this.layers[e]);t[e]=r,expressionsPlugin&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt&&(this.elements[e-1]&&this.elements[e-1]!==!0?r.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var o,l=0;l<t;)this.elements[l]&&this.elements[l]!==!0&&this.elements[l].getBaseElement()&&(o=this.elements[l].getBaseElement()),l+=1;o?this.layerElement.insertBefore(r,o):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(e){if(e[0]!==1||e[1]!==0||e[4]!==0||e[5]!==1||e[12]!==0||e[13]!==0)if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRenderer.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t,r=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var o=this.contextData.saved[this.contextData.cArrPos];for(t=0;t<16;t+=1)o[t]=r[t];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,r=this.contextData.saved[this.contextData.cArrPos],o=this.contextData.cTr.props;for(t=0;t<16;t+=1)o[t]=r[t];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,r,o;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var l=this.renderConfig.preserveAspectRatio.split(" "),h=l[1]||"meet",y=l[0]||"xMidYMid",D=y.substr(0,4),O=y.substr(4);r=e/t,(o=this.transformCanvas.w/this.transformCanvas.h)>r&&h==="meet"||o<r&&h==="slice"?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=D==="xMid"&&(o<r&&h==="meet"||o>r&&h==="slice")?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:D==="xMax"&&(o<r&&h==="meet"||o>r&&h==="slice")?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=O==="YMid"&&(o>r&&h==="meet"||o<r&&h==="slice")?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:O==="YMax"&&(o>r&&h==="meet"||o<r&&h==="slice")?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||this.renderConfig.clearCanvas!==!0||t)&&!this.destroyed&&e!==-1){var r;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var o=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=0;r<o;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=o-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&this.layers[e].ty!==99){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var o=this.layers[t];if(o.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var l,h,y=0;y<t;)this.elements[y]&&this.elements[y]!==!0&&this.elements[y].getBaseElement&&(h=this.elements[y],l=(this.layers[y].ddd?this.getThreeDContainerByPos(y):h.getBaseElement())||l),y+=1;l?o.ddd&&this.supports3d||this.layerElement.insertBefore(r,l):o.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(e,t){var r,o,l=createTag("div");styleDiv(l);var h=createTag("div");if(styleDiv(h),t==="3d"){(r=l.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var y="50% 50%";r.webkitTransformOrigin=y,r.mozTransformOrigin=y,r.transformOrigin=y;var D="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(o=h.style).transform=D,o.webkitTransform=D}l.appendChild(h);var O={container:h,perspectiveElem:l,startPos:e,endPos:e,type:t};return this.threeDElements.push(O),O},HybridRenderer.prototype.build3dContainers=function(){var e,t,r=this.layers.length,o="";for(e=0;e<r;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(o!=="3d"&&(o="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):(o!=="2d"&&(o="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var r=0,o=this.threeDElements.length;r<o;){if(t<=this.threeDElements[r].endPos){for(var l,h=this.threeDElements[r].startPos;h<t;)this.elements[h]&&this.elements[h].getBaseElement&&(l=this.elements[h].getBaseElement()),h+=1;l?this.threeDElements[r].container.insertBefore(e,l):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,o=t.style;o.width=e.w+"px",o.height=e.h+"px",this.resizerElem=t,styleDiv(t),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),o.overflow="hidden";var l=createNS("svg");l.setAttribute("width","1"),l.setAttribute("height","1"),styleDiv(l),this.resizerElem.appendChild(l);var h=createNS("defs");l.appendChild(h),this.data=e,this.setupGlobalData(e,l),this.globalData.defs=h,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,r,o,l=this.animationItem.wrapper.offsetWidth,h=this.animationItem.wrapper.offsetHeight,y=l/h;this.globalData.compSize.w/this.globalData.compSize.h>y?(e=l/this.globalData.compSize.w,t=l/this.globalData.compSize.w,r=0,o=(h-this.globalData.compSize.h*(l/this.globalData.compSize.w))/2):(e=h/this.globalData.compSize.h,t=h/this.globalData.compSize.h,r=(l-this.globalData.compSize.w*(h/this.globalData.compSize.h))/2,o=0);var D=this.resizerElem.style;D.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+o+",0,1)",D.transform=D.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,o=this.threeDElements.length;for(e=0;e<o;e+=1){var l=this.threeDElements[e].perspectiveElem.style;l.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",l.perspective=l.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length,o=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var l=this.createComp(e[t],o,this.globalData.comp,null);l.initExpressions(),this.globalData.projectInterface.registerComposition(l)}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,o=this.masksProperties.length;for(t=0;t<o;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),this.masksProperties[t].mode!=="n"&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var l=this.storedData[t].expan;this.storedData[t].x.v<0?(this.storedData[t].lastOperator!=="erode"&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),l.setAttribute("radius",-this.storedData[t].x.v)):(this.storedData[t].lastOperator!=="dilate"&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var o,l,h=" M"+t.v[0][0]+","+t.v[0][1];for(l=t._length,o=1;o<l;o+=1)h+=" C"+t.o[o-1][0]+","+t.o[o-1][1]+" "+t.i[o][0]+","+t.i[o][1]+" "+t.v[o][0]+","+t.v[o][1];if(t.c&&l>1&&(h+=" C"+t.o[o-1][0]+","+t.o[o-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==h){var y="";r.elem&&(t.c&&(y=e.inv?this.solidPath+h:h),r.elem.setAttribute("d",y)),r.lastPath=h}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,o=this.dynamicProperties.length;for(r=0;r<o;r+=1)(t||this._isParent&&this.dynamicProperties[r].propType==="transform")&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<o;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<o;r+=1)e=this.hierarchy[r].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r,o=!0,l=this.comp;o;)l.finalTransform?(l.data.hasMask&&t.splice(0,0,l.finalTransform),l=l.comp):o=!1;var h,y=t.length;for(r=0;r<y;r+=1)h=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-h[0],e[1]-h[1],0];return e},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),o=createNS(t.t===1?"linearGradient":"radialGradient");o.setAttribute("id",r),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l,h,y,D=[];for(y=4*t.g.p,h=0;h<y;h+=4)l=createNS("stop"),o.appendChild(l),D.push(l);e.setAttribute(t.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+r+")"),this.gf=o,this.cst=D},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,o,l,h=createNS("mask"),y=createNS("path");h.appendChild(y);var D=createElementID(),O=createElementID();h.setAttribute("id",O);var F=createNS(e.t===1?"linearGradient":"radialGradient");F.setAttribute("id",D),F.setAttribute("spreadMethod","pad"),F.setAttribute("gradientUnits","userSpaceOnUse"),l=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var R=this.stops;for(o=4*e.g.p;o<l;o+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),F.appendChild(r),R.push(r);y.setAttribute(e.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+D+")"),e.ty==="gs"&&(y.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),y.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&y.setAttribute("stroke-miterlimit",e.ml)),this.of=F,this.ms=h,this.ost=R,this.maskId=O,t.msElem=y}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(O,F,R){(R||F.transform.op._mdf)&&F.transform.container.setAttribute("opacity",F.transform.op.v),(R||F.transform.mProps._mdf)&&F.transform.container.setAttribute("transform",F.transform.mProps.v.to2dCSS())}function o(O,F,R){var B,j,U,q,W,G,Y,K,X,J,Q,et=F.styles.length,nt=F.lvl;for(G=0;G<et;G+=1){if(q=F.sh._mdf||R,F.styles[G].lvl<nt){for(K=t.reset(),J=nt-F.styles[G].lvl,Q=F.transformers.length-1;!q&&J>0;)q=F.transformers[Q].mProps._mdf||q,J-=1,Q-=1;if(q)for(J=nt-F.styles[G].lvl,Q=F.transformers.length-1;J>0;)X=F.transformers[Q].mProps.v.props,K.transform(X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],X[8],X[9],X[10],X[11],X[12],X[13],X[14],X[15]),J-=1,Q-=1}else K=e;if(j=(Y=F.sh.paths)._length,q){for(U="",B=0;B<j;B+=1)(W=Y.shapes[B])&&W._length&&(U+=buildShapeString(W,W._length,W.c,K));F.caches[G]=U}else U=F.caches[G];F.styles[G].d+=O.hd===!0?"":U,F.styles[G]._mdf=q||F.styles[G]._mdf}}function l(O,F,R){var B=F.style;(F.c._mdf||R)&&B.pElem.setAttribute("fill","rgb("+bmFloor(F.c.v[0])+","+bmFloor(F.c.v[1])+","+bmFloor(F.c.v[2])+")"),(F.o._mdf||R)&&B.pElem.setAttribute("fill-opacity",F.o.v)}function h(O,F,R){y(O,F,R),D(0,F,R)}function y(O,F,R){var B,j,U,q,W,G=F.gf,Y=F.g._hasOpacity,K=F.s.v,X=F.e.v;if(F.o._mdf||R){var J=O.ty==="gf"?"fill-opacity":"stroke-opacity";F.style.pElem.setAttribute(J,F.o.v)}if(F.s._mdf||R){var Q=O.t===1?"x1":"cx",et=Q==="x1"?"y1":"cy";G.setAttribute(Q,K[0]),G.setAttribute(et,K[1]),Y&&!F.g._collapsable&&(F.of.setAttribute(Q,K[0]),F.of.setAttribute(et,K[1]))}if(F.g._cmdf||R){B=F.cst;var nt=F.g.c;for(U=B.length,j=0;j<U;j+=1)(q=B[j]).setAttribute("offset",nt[4*j]+"%"),q.setAttribute("stop-color","rgb("+nt[4*j+1]+","+nt[4*j+2]+","+nt[4*j+3]+")")}if(Y&&(F.g._omdf||R)){var Z=F.g.o;for(U=(B=F.g._collapsable?F.cst:F.ost).length,j=0;j<U;j+=1)q=B[j],F.g._collapsable||q.setAttribute("offset",Z[2*j]+"%"),q.setAttribute("stop-opacity",Z[2*j+1])}if(O.t===1)(F.e._mdf||R)&&(G.setAttribute("x2",X[0]),G.setAttribute("y2",X[1]),Y&&!F.g._collapsable&&(F.of.setAttribute("x2",X[0]),F.of.setAttribute("y2",X[1])));else if((F.s._mdf||F.e._mdf||R)&&(W=Math.sqrt(Math.pow(K[0]-X[0],2)+Math.pow(K[1]-X[1],2)),G.setAttribute("r",W),Y&&!F.g._collapsable&&F.of.setAttribute("r",W)),F.e._mdf||F.h._mdf||F.a._mdf||R){W||(W=Math.sqrt(Math.pow(K[0]-X[0],2)+Math.pow(K[1]-X[1],2)));var it=Math.atan2(X[1]-K[1],X[0]-K[0]),rt=F.h.v;rt>=1?rt=.99:rt<=-1&&(rt=-.99);var tt=W*rt,ct=Math.cos(it+F.a.v)*tt+K[0],lt=Math.sin(it+F.a.v)*tt+K[1];G.setAttribute("fx",ct),G.setAttribute("fy",lt),Y&&!F.g._collapsable&&(F.of.setAttribute("fx",ct),F.of.setAttribute("fy",lt))}}function D(O,F,R){var B=F.style,j=F.d;j&&(j._mdf||R)&&j.dashStr&&(B.pElem.setAttribute("stroke-dasharray",j.dashStr),B.pElem.setAttribute("stroke-dashoffset",j.dashoffset[0])),F.c&&(F.c._mdf||R)&&B.pElem.setAttribute("stroke","rgb("+bmFloor(F.c.v[0])+","+bmFloor(F.c.v[1])+","+bmFloor(F.c.v[2])+")"),(F.o._mdf||R)&&B.pElem.setAttribute("stroke-opacity",F.o.v),(F.w._mdf||R)&&(B.pElem.setAttribute("stroke-width",F.w.v),B.msElem&&B.msElem.setAttribute("stroke-width",F.w.v))}return{createRenderFunction:function(O){switch(O.ty){case"fl":return l;case"gf":return y;case"gs":return h;case"st":return D;case"sh":case"el":case"rc":case"sr":return o;case"tr":return r;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(e,t,r,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var l,h=4;t.ty==="rc"?h=5:t.ty==="el"?h=6:t.ty==="sr"&&(h=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,h,e);var y,D=r.length;for(l=0;l<D;l+=1)r[l].closed||(y={transforms:o.addTransformSequence(r[l].transforms),trNodes:[]},this.styledShapes.push(y),r[l].elements.push(y))}function BaseElement(){}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(e,t,r){this.initElement(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function SVGTintFilter(e,t){this.filterManager=t;var r=createNS("feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),e.appendChild(r),(r=createNS("feColorMatrix")).setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),e.appendChild(r),this.matrixFilter=r,t.effectElements[2].p.v!==100||t.effectElements[2].p.k){var o,l=createNS("feMerge");e.appendChild(l),(o=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),l.appendChild(o),(o=createNS("feMergeNode")).setAttribute("in","f2"),l.appendChild(o)}}function SVGFillFilter(e,t){this.filterManager=t;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(r),this.matrixFilter=r}function SVGGaussianBlurEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var r=createNS("feGaussianBlur");e.appendChild(r),this.feGaussianBlur=r}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),e.appendChild(r);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(o),this.matrixFilter=o;var l=createNS("feFuncR");l.setAttribute("type","table"),o.appendChild(l),this.feFuncR=l;var h=createNS("feFuncG");h.setAttribute("type","table"),o.appendChild(h),this.feFuncG=h;var y=createNS("feFuncB");y.setAttribute("type","table"),o.appendChild(y),this.feFuncB=y}function SVGProLevelsFilter(e,t){this.filterManager=t;var r=this.filterManager.effectElements,o=createNS("feComponentTransfer");(r[10].p.k||r[10].p.v!==0||r[11].p.k||r[11].p.v!==1||r[12].p.k||r[12].p.v!==1||r[13].p.k||r[13].p.v!==0||r[14].p.k||r[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(r[17].p.k||r[17].p.v!==0||r[18].p.k||r[18].p.v!==1||r[19].p.k||r[19].p.v!==1||r[20].p.k||r[20].p.v!==0||r[21].p.k||r[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(r[24].p.k||r[24].p.v!==0||r[25].p.k||r[25].p.v!==1||r[26].p.k||r[26].p.v!==1||r[27].p.k||r[27].p.v!==0||r[28].p.k||r[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(r[31].p.k||r[31].p.v!==0||r[32].p.k||r[32].p.v!==1||r[33].p.k||r[33].p.v!==1||r[34].p.k||r[34].p.v!==0||r[35].p.k||r[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(o),o=createNS("feComponentTransfer")),(r[3].p.k||r[3].p.v!==0||r[4].p.k||r[4].p.v!==1||r[5].p.k||r[5].p.v!==1||r[6].p.k||r[6].p.v!==0||r[7].p.k||r[7].p.v!==1)&&(o.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}function SVGDropShadowEffect(e,t){var r=t.container.globalData.renderConfig.filterSize;e.setAttribute("x",r.x),e.setAttribute("y",r.y),e.setAttribute("width",r.width),e.setAttribute("height",r.height),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result","drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,e.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in","drop_shadow_1"),l.setAttribute("result","drop_shadow_2"),this.feOffset=l,e.appendChild(l);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result","drop_shadow_3"),this.feFlood=h,e.appendChild(h);var y=createNS("feComposite");y.setAttribute("in","drop_shadow_3"),y.setAttribute("in2","drop_shadow_2"),y.setAttribute("operator","in"),y.setAttribute("result","drop_shadow_4"),e.appendChild(y);var D,O=createNS("feMerge");e.appendChild(O),D=createNS("feMergeNode"),O.appendChild(D),(D=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=D,this.feMerge=O,this.originalNodeAdded=!1,O.appendChild(D)}ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,o="_";for(t=0;t<r;t+=1)o+=e[t].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(e,t){for(var r,o=0,l=e.transforms.length,h=t;o<l&&!t;){if(e.transforms[o].transform.mProps._mdf){h=!0;break}o+=1}if(h)for(e.finalTransform.reset(),o=l-1;o>=0;o-=1)r=e.transforms[o].transform.mProps.v.props,e.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);e._mdf=h},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,r,o=null;if(this.data.td){if(this.data.td==3||this.data.td==1){var l=createNS("mask");l.setAttribute("id",this.layerId),l.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),l.appendChild(this.layerElement),o=l,this.globalData.defs.appendChild(l),featureSupport.maskType||this.data.td!=1||(l.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),o=r,l.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(this.data.td==2){var h=createNS("mask");h.setAttribute("id",this.layerId),h.setAttribute("mask-type","alpha");var y=createNS("g");h.appendChild(y),e=createElementID(),t=filtersFactory.createFilter(e);var D=createNS("feComponentTransfer");D.setAttribute("in","SourceGraphic"),t.appendChild(D);var O=createNS("feFuncA");O.setAttribute("type","table"),O.setAttribute("tableValues","1.0 0.0"),D.appendChild(O),this.globalData.defs.appendChild(t);var F=createNS("rect");F.setAttribute("width",this.comp.data.w),F.setAttribute("height",this.comp.data.h),F.setAttribute("x","0"),F.setAttribute("y","0"),F.setAttribute("fill","#ffffff"),F.setAttribute("opacity","0"),y.setAttribute("filter","url("+locationHref+"#"+e+")"),y.appendChild(F),y.appendChild(this.layerElement),o=y,featureSupport.maskType||(h.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),y.appendChild(F),r.appendChild(this.layerElement),o=r,y.appendChild(r)),this.globalData.defs.appendChild(h)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),o=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var R=createNS("clipPath"),B=createNS("path");B.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var j=createElementID();if(R.setAttribute("id",j),R.appendChild(B),this.globalData.defs.appendChild(R),this.checkMasks()){var U=createNS("g");U.setAttribute("clip-path","url("+locationHref+"#"+j+")"),U.appendChild(this.layerElement),this.transformedElement=U,o?o.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+j+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")}},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,o=t.length;r<o;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,o=r.length;o;)if(r[o-=1].elem===e)return void(r[o].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var r,o,l=t.length,h="";for(r=0;r<l;r+=1)o=t[r].ks.k,h+=buildShapeString(o,o.i.length,!0,e);return h},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,o,l){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(o,l,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=o-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this.audio.volume(e)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,o=[],l="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(o.push(l),l=""):l+=e[t],t+=1;return o.push(l),o},SVGTextLottieElement.prototype.buildNewText=function(){var e,t,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var o=this.globalData.fontManager.getFontByName(r.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var l=r.fWeight,h=r.fStyle;this.layerElement.setAttribute("font-style",h),this.layerElement.setAttribute("font-weight",l)}this.layerElement.setAttribute("aria-label",r.t);var y,D=r.l||[],O=!!this.globalData.fontManager.chars;t=D.length;var F,R=this.mHelper,B="",j=this.data.singleShape,U=0,q=0,W=!0,G=.001*r.tr*r.finalSize;if(!j||O||r.sz){var Y,K,X=this.textSpans.length;for(e=0;e<t;e+=1)O&&j&&e!==0||(y=X>e?this.textSpans[e]:createNS(O?"path":"text"),X<=e&&(y.setAttribute("stroke-linecap","butt"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=y,this.layerElement.appendChild(y)),y.style.display="inherit"),R.reset(),R.scale(r.finalSize/100,r.finalSize/100),j&&(D[e].n&&(U=-G,q+=r.yOffset,q+=W?1:0,W=!1),this.applyTextPropertiesToMatrix(r,R,D[e].line,U,q),U+=D[e].l||0,U+=G),O?(F=(Y=(K=this.globalData.fontManager.getCharData(r.finalText[e],o.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&K.data||{}).shapes?Y.shapes[0].it:[],j?B+=this.createPathShape(R,F):y.setAttribute("d",this.createPathShape(R,F))):(j&&y.setAttribute("transform","translate("+R.props[12]+","+R.props[13]+")"),y.textContent=D[e].val,y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));j&&y&&y.setAttribute("d",B)}else{var J=this.textContainer,Q="start";switch(r.j){case 1:Q="end";break;case 2:Q="middle";break;default:Q="start"}J.setAttribute("text-anchor",Q),J.setAttribute("letter-spacing",G);var et=this.buildTextContents(r.finalText);for(t=et.length,q=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(y=this.textSpans[e]||createNS("tspan")).textContent=et[e],y.setAttribute("x",0),y.setAttribute("y",q),y.style.display="inherit",J.appendChild(y),this.textSpans[e]=y,q+=r.finalLineHeight;this.layerElement.appendChild(J)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var r,o,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(t=h.length,e=0;e<t;e+=1)h[e].n||(r=l[e],o=this.textSpans[e],r._mdf.m&&o.setAttribute("transform",r.m),r._mdf.o&&o.setAttribute("opacity",r.o),r._mdf.sw&&o.setAttribute("stroke-width",r.sw),r._mdf.sc&&o.setAttribute("stroke",r.sc),r._mdf.fc&&o.setAttribute("fill",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,o,l=this.shapes.length,h=this.stylesList.length,y=[],D=!1;for(r=0;r<h;r+=1){for(o=this.stylesList[r],D=!1,y.length=0,e=0;e<l;e+=1)(t=this.shapes[e]).styles.indexOf(o)!==-1&&(y.push(t),D=t._isAnimated||D);y.length>1&&D&&this.setShapesAsAnimated(y)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,o=new SVGStyleData(e,t),l=o.pElem;return e.ty==="st"?r=new SVGStrokeStyleData(this,e,o):e.ty==="fl"?r=new SVGFillStyleData(this,e,o):e.ty!=="gf"&&e.ty!=="gs"||(r=new(e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,o),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),l.setAttribute("mask","url("+locationHref+"#"+r.maskId+")"))),e.ty!=="st"&&e.ty!=="gs"||(l.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),l.setAttribute("fill-opacity","0"),e.lj===1&&l.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&l.setAttribute("fill-rule","evenodd"),e.ln&&l.setAttribute("id",e.ln),e.cl&&l.setAttribute("class",e.cl),e.bm&&(l.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(o),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),o=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,o),o},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var o=4;e.ty==="rc"?o=5:e.ty==="el"?o=6:e.ty==="sr"&&(o=7);var l=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,o,this));return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(e,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,o=this.animatedContents.length;r<o;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,o=this.stylesList.length;for(t=0;t<o;t+=1)this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,o,l,h,y){var D,O,F,R,B,j,U=[].concat(h),q=e.length-1,W=[],G=[];for(D=q;D>=0;D-=1){if((j=this.searchProcessedElement(e[D]))?t[D]=r[j-1]:e[D]._render=y,e[D].ty==="fl"||e[D].ty==="st"||e[D].ty==="gf"||e[D].ty==="gs")j?t[D].style.closed=!1:t[D]=this.createStyleElement(e[D],l),e[D]._render&&t[D].style.pElem.parentNode!==o&&o.appendChild(t[D].style.pElem),W.push(t[D].style);else if(e[D].ty==="gr"){if(j)for(F=t[D].it.length,O=0;O<F;O+=1)t[D].prevViewData[O]=t[D].it[O];else t[D]=this.createGroupElement(e[D]);this.searchShapes(e[D].it,t[D].it,t[D].prevViewData,t[D].gr,l+1,U,y),e[D]._render&&t[D].gr.parentNode!==o&&o.appendChild(t[D].gr)}else e[D].ty==="tr"?(j||(t[D]=this.createTransformElement(e[D],o)),R=t[D].transform,U.push(R)):e[D].ty==="sh"||e[D].ty==="rc"||e[D].ty==="el"||e[D].ty==="sr"?(j||(t[D]=this.createShapeElement(e[D],U,l)),this.setElementStyles(t[D])):e[D].ty==="tm"||e[D].ty==="rd"||e[D].ty==="ms"||e[D].ty==="pb"?(j?(B=t[D]).closed=!1:((B=ShapeModifiers.getModifier(e[D].ty)).init(this,e[D]),t[D]=B,this.shapeModifiers.push(B)),G.push(B)):e[D].ty==="rp"&&(j?(B=t[D]).closed=!0:(B=ShapeModifiers.getModifier(e[D].ty),t[D]=B,B.init(this,e,D,t),this.shapeModifiers.push(B),y=!1),G.push(B));this.addProcessedElement(e[D],D+1)}for(q=W.length,D=0;D<q;D+=1)W[D].closed=!0;for(q=G.length,D=0;D<q;D+=1)G[D].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&t.data!==!0&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+o+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,o=r==3?0:t,l=r==2?0:t;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var h=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",h)}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,o,l=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,r=0):o=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<o;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(this.filterManager.effectElements[10].p.v===3){var h=createNS("mask"),y=createElementID();h.setAttribute("id",y),h.setAttribute("mask-type","alpha"),h.appendChild(t),this.elem.globalData.defs.appendChild(h);var D=createNS("g");for(D.setAttribute("mask","url("+locationHref+"#"+y+")");l[0];)D.appendChild(l[0]);this.elem.layerElement.appendChild(D),this.masker=h,t.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(l=this.elem.layerElement.children||this.elem.layerElement.childNodes;l.length;)this.elem.layerElement.removeChild(l[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var r,o,l=this.paths.length;for(t=0;t<l;t+=1)if(this.paths[t].m!==-1&&(r=this.elem.maskManager.viewData[this.paths[t].m],o=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&o.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var h;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var y=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),D=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),O=o.getTotalLength();h="0 0 0 "+O*y+" ";var F,R=O*(D-y),B=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,j=Math.floor(R/B);for(F=0;F<j;F+=1)h+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";h+="0 "+10*O+" 0 0"}else h="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",h)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var U=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*U[0])+","+bmFloor(255*U[1])+","+bmFloor(255*U[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,l=o[0]+" "+r[0]+" "+t[0],h=o[1]+" "+r[1]+" "+t[1],y=o[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",l),this.feFuncG.setAttribute("tableValues",h),this.feFuncB.setAttribute("tableValues",y)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,o,l){for(var h,y,D=0,O=Math.min(e,t),F=Math.max(e,t),R=Array.call(null,{length:256}),B=0,j=l-o,U=t-e;D<=256;)y=(h=D/256)<=O?U<0?l:o:h>=F?U<0?o:l:o+j*Math.pow((h-e)/U,1/r),R[B]=y,B+=1,D+=256/255;return R.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,l=r*Math.cos(o),h=r*Math.sin(o);this.feOffset.setAttribute("dx",l),this.feOffset.setAttribute("dy",h)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(e){var t,r,o=e.data.ef?e.data.ef.length:0,l=createElementID(),h=filtersFactory.createFilter(l,!0),y=0;for(this.filters=[],t=0;t<o;t+=1)r=null,e.data.ef[t].ty===20?(y+=1,r=new SVGTintFilter(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===21?(y+=1,r=new SVGFillFilter(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===22?r=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):e.data.ef[t].ty===23?(y+=1,r=new SVGTritoneFilter(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===24?(y+=1,r=new SVGProLevelsFilter(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===25?(y+=1,r=new SVGDropShadowEffect(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===28?r=new SVGMatte3Effect(h,e.effectsManager.effectElements[t],e):e.data.ef[t].ty===29&&(y+=1,r=new SVGGaussianBlurEffect(h,e.effectsManager.effectElements[t])),r&&this.filters.push(r);y&&(e.globalData.defs.appendChild(h),e.layerElement.setAttribute("filter","url("+locationHref+"#"+l+")")),this.filters.length&&e.addRenderableComponent(this)}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CVMaskElement(e,t){var r;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var o=this.masksProperties.length,l=!1;for(r=0;r<o;r+=1)this.masksProperties[r].mode!=="n"&&(l=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=l,l&&this.element.addRenderableComponent(this)}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVEffects(){}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,e.pe,0,0,this),e.ks.p.s?(this.px=o(this,e.ks.p.x,1,0,this),this.py=o(this,e.ks.p.y,1,0,this),this.pz=o(this,e.ks.p.z,1,0,this)):this.p=o(this,e.ks.p,1,0,this),e.ks.a&&(this.a=o(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var l,h=e.ks.or.k.length;for(l=0;l<h;l+=1)e.ks.or.k[l].to=null,e.ks.or.k[l].ti=null}this.or=o(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,e.ks.rx,0,degToRads,this),this.ry=o(this,e.ks.ry,0,degToRads,this),this.rz=o(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var o,l=r.children,h=0,y=l.length;h<y&&l[h]!==e.layerElement;)h+=1;h<=y-2&&(o=l[h+1]);var D=createNS("use");D.setAttribute("href","#"+t),o?r.insertBefore(D,o):r.appendChild(D)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),o=createNS("mask");o.setAttribute("id",t.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var l=e.globalData.defs;l.appendChild(o);var h=createNS("symbol");h.setAttribute("id",r),this.replaceInParent(t,r),h.appendChild(t.layerElement),l.appendChild(h);var y=createNS("use");y.setAttribute("href","#"+r),o.appendChild(y),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,o=t.length;r<o;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var r=0;for(r=this._length;r<e;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=this.data.ty===0;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,o=e.getContext("2d"),l=this.img.width,h=this.img.height,y=l/h,D=this.assetData.w/this.assetData.h,O=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;y>D&&O==="xMidYMid slice"||y<D&&O!=="xMidYMid slice"?t=(r=h)*D:r=(t=l)/D,o.drawImage(this.img,(l-t)/2,(h-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,o,l=this.element.finalTransform.mat,h=this.element.canvasContext,y=this.masksProperties.length;for(h.beginPath(),e=0;e<y;e+=1)if(this.masksProperties[e].mode!=="n"){var D;this.masksProperties[e].inv&&(h.moveTo(0,0),h.lineTo(this.element.globalData.compSize.w,0),h.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),h.lineTo(0,this.element.globalData.compSize.h),h.lineTo(0,0)),o=this.viewData[e].v,t=l.applyToPointArray(o.v[0][0],o.v[0][1],0),h.moveTo(t[0],t[1]);var O=o._length;for(D=1;D<O;D+=1)r=l.applyToTriplePoints(o.o[D-1],o.i[D],o.v[D]),h.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=l.applyToTriplePoints(o.o[D-1],o.i[0],o.v[0]),h.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),h.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:e.hd===!0},o={};if(e.ty==="fl"||e.ty==="st"?(o.c=PropertyFactory.getProp(this,e.c,1,255,this),o.c.k||(r.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):e.ty!=="gf"&&e.ty!=="gs"||(o.s=PropertyFactory.getProp(this,e.s,1,null,this),o.e=PropertyFactory.getProp(this,e.e,1,null,this),o.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,e.g,this)),o.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],e.lj==1&&(r.ml=e.ml),o.w=PropertyFactory.getProp(this,e.w,0,null,this),o.w.k||(r.wi=o.w.v),e.d){var l=new DashProperty(this,e.d,"canvas",this);o.d=l,o.d.k||(r.da=o.d.dashArray,r.do=o.d.dashoffset[0])}}else r.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(r),o.style=r,o},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,o,l){var h,y,D,O,F,R,B=e.length-1,j=[],U=[],q=[].concat(l);for(h=B;h>=0;h-=1){if((O=this.searchProcessedElement(e[h]))?t[h]=r[O-1]:e[h]._shouldRender=o,e[h].ty==="fl"||e[h].ty==="st"||e[h].ty==="gf"||e[h].ty==="gs")O?t[h].style.closed=!1:t[h]=this.createStyleElement(e[h],q),j.push(t[h].style);else if(e[h].ty==="gr"){if(O)for(D=t[h].it.length,y=0;y<D;y+=1)t[h].prevViewData[y]=t[h].it[y];else t[h]=this.createGroupElement(e[h]);this.searchShapes(e[h].it,t[h].it,t[h].prevViewData,o,q)}else e[h].ty==="tr"?(O||(R=this.createTransformElement(e[h]),t[h]=R),q.push(t[h]),this.addTransformToStyleList(t[h])):e[h].ty==="sh"||e[h].ty==="rc"||e[h].ty==="el"||e[h].ty==="sr"?O||(t[h]=this.createShapeElement(e[h])):e[h].ty==="tm"||e[h].ty==="rd"||e[h].ty==="pb"?(O?(F=t[h]).closed=!1:((F=ShapeModifiers.getModifier(e[h].ty)).init(this,e[h]),t[h]=F,this.shapeModifiers.push(F)),U.push(F)):e[h].ty==="rp"&&(O?(F=t[h]).closed=!0:(F=ShapeModifiers.getModifier(e[h].ty),t[h]=F,F.init(this,e,h,t),this.shapeModifiers.push(F),o=!1),U.push(F));this.addProcessedElement(e[h],h+1)}for(this.removeTransformFromStyleList(),this.closeStyles(j),B=U.length,h=0;h<B;h+=1)U[h].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,o,l,h,y,D,O,F=this.stylesList.length,R=this.globalData.renderer,B=this.globalData.canvasContext;for(e=0;e<F;e+=1)if(((D=(O=this.stylesList[e]).type)!=="st"&&D!=="gs"||O.wi!==0)&&O.data._shouldRender&&O.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(R.save(),h=O.elements,D==="st"||D==="gs"?(B.strokeStyle=D==="st"?O.co:O.grd,B.lineWidth=O.wi,B.lineCap=O.lc,B.lineJoin=O.lj,B.miterLimit=O.ml||0):B.fillStyle=D==="fl"?O.co:O.grd,R.ctxOpacity(O.coOp),D!=="st"&&D!=="gs"&&B.beginPath(),R.ctxTransform(O.preTransforms.finalTransform.props),r=h.length,t=0;t<r;t+=1){for(D!=="st"&&D!=="gs"||(B.beginPath(),O.da&&(B.setLineDash(O.da),B.lineDashOffset=O.do)),l=(y=h[t].trNodes).length,o=0;o<l;o+=1)y[o].t==="m"?B.moveTo(y[o].p[0],y[o].p[1]):y[o].t==="c"?B.bezierCurveTo(y[o].pts[0],y[o].pts[1],y[o].pts[2],y[o].pts[3],y[o].pts[4],y[o].pts[5]):B.closePath();D!=="st"&&D!=="gs"||(B.stroke(),O.da&&B.setLineDash(this.dashResetter))}D!=="st"&&D!=="gs"&&B.fill(O.r),R.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,o){var l,h;for(h=e,l=t.length-1;l>=0;l-=1)t[l].ty==="tr"?(h=r[l].transform,this.renderShapeTransform(e,h)):t[l].ty==="sh"||t[l].ty==="el"||t[l].ty==="rc"||t[l].ty==="sr"?this.renderPath(t[l],r[l]):t[l].ty==="fl"?this.renderFill(t[l],r[l],h):t[l].ty==="st"?this.renderStroke(t[l],r[l],h):t[l].ty==="gf"||t[l].ty==="gs"?this.renderGradientFill(t[l],r[l],h):t[l].ty==="gr"?this.renderShape(h,t[l].it,r[l].it):t[l].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,o,l,h=e.trNodes,y=t.paths,D=y._length;h.length=0;var O=e.transforms.finalTransform;for(l=0;l<D;l+=1){var F=y.shapes[l];if(F&&F.v){for(o=F._length,r=1;r<o;r+=1)r===1&&h.push({t:"m",p:O.applyToPointArray(F.v[0][0],F.v[0][1],0)}),h.push({t:"c",pts:O.applyToTriplePoints(F.o[r-1],F.i[r],F.v[r])});o===1&&h.push({t:"m",p:O.applyToPointArray(F.v[0][0],F.v[0][1],0)}),F.c&&o&&(h.push({t:"c",pts:O.applyToTriplePoints(F.o[r-1],F.i[0],F.v[0])}),h.push({t:"z"}))}}e.trNodes=h}},CVShapeElement.prototype.renderPath=function(e,t){if(e.hd!==!0&&e._shouldRender){var r,o=t.styledShapes.length;for(r=0;r<o;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var o=t.style;(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var o,l=t.style;if(!l.grd||t.g._mdf||t.s._mdf||t.e._mdf||e.t!==1&&(t.h._mdf||t.a._mdf)){var h,y=this.globalData.canvasContext,D=t.s.v,O=t.e.v;if(e.t===1)o=y.createLinearGradient(D[0],D[1],O[0],O[1]);else{var F=Math.sqrt(Math.pow(D[0]-O[0],2)+Math.pow(D[1]-O[1],2)),R=Math.atan2(O[1]-D[1],O[0]-D[0]),B=t.h.v;B>=1?B=.99:B<=-1&&(B=-.99);var j=F*B,U=Math.cos(R+t.a.v)*j+D[0],q=Math.sin(R+t.a.v)*j+D[1];o=y.createRadialGradient(U,q,0,D[0],D[1],F)}var W=e.g.p,G=t.g.c,Y=1;for(h=0;h<W;h+=1)t.g._hasOpacity&&t.g._collapsable&&(Y=t.g.o[2*h+1]),o.addColorStop(G[4*h]/100,"rgba("+G[4*h+1]+","+G[4*h+2]+","+G[4*h+3]+","+Y+")");l.grd=o}l.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var o=t.style,l=t.d;l&&(l._mdf||this._isFirstFrame)&&(o.da=l.dashArray,o.do=l.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(o.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var o,l,h,y,D,O,F,R,B,j,U,q,W=this.globalData.fontManager.getFontByName(e.f),G=e.l,Y=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,l=e.finalText.length;var K=this.data.singleShape,X=.001*e.tr*e.finalSize,J=0,Q=0,et=!0,nt=0;for(o=0;o<l;o+=1){for(y=(h=this.globalData.fontManager.getCharData(e.finalText[o],W.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&h.data||{},Y.reset(),K&&G[o].n&&(J=-X,Q+=e.yOffset,Q+=et?1:0,et=!1),B=(F=y.shapes?y.shapes[0].it:[]).length,Y.scale(e.finalSize/100,e.finalSize/100),K&&this.applyTextPropertiesToMatrix(e,Y,G[o].line,J,Q),U=createSizedArray(B),R=0;R<B;R+=1){for(O=F[R].ks.k.i.length,j=F[R].ks.k,q=[],D=1;D<O;D+=1)D===1&&q.push(Y.applyToX(j.v[0][0],j.v[0][1],0),Y.applyToY(j.v[0][0],j.v[0][1],0)),q.push(Y.applyToX(j.o[D-1][0],j.o[D-1][1],0),Y.applyToY(j.o[D-1][0],j.o[D-1][1],0),Y.applyToX(j.i[D][0],j.i[D][1],0),Y.applyToY(j.i[D][0],j.i[D][1],0),Y.applyToX(j.v[D][0],j.v[D][1],0),Y.applyToY(j.v[D][0],j.v[D][1],0));q.push(Y.applyToX(j.o[D-1][0],j.o[D-1][1],0),Y.applyToY(j.o[D-1][0],j.o[D-1][1],0),Y.applyToX(j.i[0][0],j.i[0][1],0),Y.applyToY(j.i[0][0],j.i[0][1],0),Y.applyToX(j.v[0][0],j.v[0][1],0),Y.applyToY(j.v[0][0],j.v[0][1],0)),U[R]=q}K&&(J+=G[o].l,J+=X),this.textSpans[nt]?this.textSpans[nt].elem=U:this.textSpans[nt]={elem:U},nt+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,o,l,h,y=this.canvasContext;y.font=this.values.fValue,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var D,O=this.textAnimator.renderedLetters,F=this.textProperty.currentData.l;t=F.length;var R,B,j=null,U=null,q=null;for(e=0;e<t;e+=1)if(!F[e].n){if((D=O[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(D.p),this.globalData.renderer.ctxOpacity(D.o)),this.fill){for(D&&D.fc?j!==D.fc&&(j=D.fc,y.fillStyle=D.fc):j!==this.values.fill&&(j=this.values.fill,y.fillStyle=this.values.fill),o=(R=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<o;r+=1)for(h=(B=R[r]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(B[l],B[l+1],B[l+2],B[l+3],B[l+4],B[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(D&&D.sw?q!==D.sw&&(q=D.sw,y.lineWidth=D.sw):q!==this.values.sWidth&&(q=this.values.sWidth,y.lineWidth=this.values.sWidth),D&&D.sc?U!==D.sc&&(U=D.sc,y.strokeStyle=D.sc):U!==this.values.stroke&&(U=this.values.stroke,y.strokeStyle=this.values.stroke),o=(R=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<o;r+=1)for(h=(B=R[r]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(B[l],B[l+1],B[l+2],B[l+3],B[l+4],B[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}D&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,o=0;o<t;)this.elements[o]&&this.elements[o].getBaseElement&&(r=this.elements[o].getBaseElement()),o+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,o=e.length;for(r=0;r<o;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,o,l,h,y,D=e.sh.v,O=e.transformers,F=D._length;if(!(F<=1)){for(r=0;r<F-1;r+=1)o=this.getTransformedPoint(O,D.v[r]),l=this.getTransformedPoint(O,D.o[r]),h=this.getTransformedPoint(O,D.i[r+1]),y=this.getTransformedPoint(O,D.v[r+1]),this.checkBounds(o,l,h,y,t);D.c&&(o=this.getTransformedPoint(O,D.v[r]),l=this.getTransformedPoint(O,D.o[r]),h=this.getTransformedPoint(O,D.i[0]),y=this.getTransformedPoint(O,D.v[0]),this.checkBounds(o,l,h,y,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,o,l){this.getBoundsOfCurve(e,t,r,o);var h=this.shapeBoundingBox;l.x=bmMin(h.left,l.x),l.xMax=bmMax(h.right,l.xMax),l.y=bmMin(h.top,l.y),l.yMax=bmMax(h.bottom,l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,o){for(var l,h,y,D,O,F,R,B=[[e[0],o[0]],[e[1],o[1]]],j=0;j<2;++j)h=6*e[j]-12*t[j]+6*r[j],l=-3*e[j]+9*t[j]-9*r[j]+3*o[j],y=3*t[j]-3*e[j],h|=0,y|=0,(l|=0)==0&&h===0||(l===0?(D=-y/h)>0&&D<1&&B[j].push(this.calculateF(D,e,t,r,o,j)):(O=h*h-4*y*l)>=0&&((F=(-h+bmSqrt(O))/(2*l))>0&&F<1&&B[j].push(this.calculateF(F,e,t,r,o,j)),(R=(-h-bmSqrt(O))/(2*l))>0&&R<1&&B[j].push(this.calculateF(R,e,t,r,o,j))));this.shapeBoundingBox.left=bmMin.apply(null,B[0]),this.shapeBoundingBox.top=bmMin.apply(null,B[1]),this.shapeBoundingBox.right=bmMax.apply(null,B[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,B[1])},HShapeElement.prototype.calculateF=function(e,t,r,o,l,h){return bmPow(1-e,3)*t[h]+3*bmPow(1-e,2)*e*r[h]+3*(1-e)*bmPow(e,2)*o[h]+bmPow(e,3)*l[h]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,o=e.length;for(r=0;r<o;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it&&this.calculateBoundingBox(e[r].it,t)},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=l,o.webkitTransform=l}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var o,l,h=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",h.fClass)this.innerElem.className=h.fClass;else{t.fontFamily=h.fFamily;var y=e.fWeight,D=e.fStyle;t.fontStyle=D,t.fontWeight=y}var O,F,R,B=e.l;l=B.length;var j,U=this.mHelper,q="",W=0;for(o=0;o<l;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[W]?O=this.textPaths[W]:((O=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),O.setAttribute("stroke-linejoin",lineJoinEnum[2]),O.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[W]?R=(F=this.textSpans[W]).children[0]:((F=createTag("div")).style.lineHeight=0,(R=createNS("svg")).appendChild(O),styleDiv(F)))):this.isMasked?O=this.textPaths[W]?this.textPaths[W]:createNS("text"):this.textSpans[W]?(F=this.textSpans[W],O=this.textPaths[W]):(styleDiv(F=createTag("span")),styleDiv(O=createTag("span")),F.appendChild(O)),this.globalData.fontManager.chars){var G,Y=this.globalData.fontManager.getCharData(e.finalText[o],h.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(G=Y?Y.data:null,U.reset(),G&&G.shapes&&(j=G.shapes[0].it,U.scale(e.finalSize/100,e.finalSize/100),q=this.createPathShape(U,j),O.setAttribute("d",q)),this.isMasked)this.innerElem.appendChild(O);else{if(this.innerElem.appendChild(F),G&&G.shapes){document.body.appendChild(R);var K=R.getBBox();R.setAttribute("width",K.width+2),R.setAttribute("height",K.height+2),R.setAttribute("viewBox",K.x-1+" "+(K.y-1)+" "+(K.width+2)+" "+(K.height+2));var X=R.style,J="translate("+(K.x-1)+"px,"+(K.y-1)+"px)";X.transform=J,X.webkitTransform=J,B[o].yOffset=K.y-1}else R.setAttribute("width",1),R.setAttribute("height",1);F.appendChild(R)}}else if(O.textContent=B[o].val,O.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(O);else{this.innerElem.appendChild(F);var Q=O.style,et="translate3d(0,"+-e.finalSize/1.2+"px,0)";Q.transform=et,Q.webkitTransform=et}this.isMasked?this.textSpans[W]=O:this.textSpans[W]=F,this.textSpans[W].style.display="block",this.textPaths[W]=O,W+=1}for(;W<this.textSpans.length;)this.textSpans[W].style.display="none",W+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,o,l,h,y,D=0,O=this.textAnimator.renderedLetters,F=this.textProperty.currentData.l;for(o=F.length,r=0;r<o;r+=1)F[r].n?D+=1:(h=this.textSpans[r],y=this.textPaths[r],l=O[D],D+=1,l._mdf.m&&(this.isMasked?h.setAttribute("transform",l.m):(h.style.webkitTransform=l.m,h.style.transform=l.m)),h.style.opacity=l.o,l.sw&&l._mdf.sw&&y.setAttribute("stroke-width",l.sw),l.sc&&l._mdf.sc&&y.setAttribute("stroke",l.sc),l.fc&&l._mdf.fc&&(y.setAttribute("fill",l.fc),y.style.color=l.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var R=this.innerElem.getBBox();if(this.currentBBox.w!==R.width&&(this.currentBBox.w=R.width,this.svgElement.setAttribute("width",R.width)),this.currentBBox.h!==R.height&&(this.currentBBox.h=R.height,this.svgElement.setAttribute("height",R.height)),this.currentBBox.w!==R.width+2||this.currentBBox.h!==R.height+2||this.currentBBox.x!==R.x-1||this.currentBBox.y!==R.y-1){this.currentBBox.w=R.width+2,this.currentBBox.h=R.height+2,this.currentBBox.x=R.x-1,this.currentBBox.y=R.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var B="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=B,e.webkitTransform=B}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,o,l=this.comp.threeDElements.length;for(e=0;e<l;e+=1)if((t=this.comp.threeDElements[e]).type==="3d"){r=t.perspectiveElem.style,o=t.container.style;var h=this.pe.v+"px",y="0px 0px 0px",D="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=h,r.webkitPerspective=h,o.transformOrigin=y,o.mozTransformOrigin=y,o.webkitTransformOrigin=y,r.transform=D,r.webkitTransform=D}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var o=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var l;l=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var h=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)),y=[l[0]/h,l[1]/h,l[2]/h],D=Math.sqrt(y[2]*y[2]+y[0]*y[0]),O=Math.atan2(y[1],D),F=Math.atan2(y[0],-y[2]);this.mat.rotateY(F).rotateX(-O)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var R=!this._prevMat.equals(this.mat);if((R||this.pe._mdf)&&this.comp.threeDElements){var B,j,U;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if((B=this.comp.threeDElements[e]).type==="3d"){if(R){var q=this.mat.toCSS();(U=B.container.style).transform=q,U.webkitTransform=q}this.pe._mdf&&((j=B.perspectiveElem.style).perspective=this.pe.v+"px",j.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};var animationManager=function(){var e={},t=[],r=0,o=0,l=0,h=!0,y=!1;function D(W){for(var G=0,Y=W.target;G<o;)t[G].animation===Y&&(t.splice(G,1),G-=1,o-=1,Y.isPaused||R()),G+=1}function O(W,G){if(!W)return null;for(var Y=0;Y<o;){if(t[Y].elem===W&&t[Y].elem!==null)return t[Y].animation;Y+=1}var K=new AnimationItem;return B(K,W),K.setData(W,G),K}function F(){l+=1,q()}function R(){l-=1}function B(W,G){W.addEventListener("destroy",D),W.addEventListener("_active",F),W.addEventListener("_idle",R),t.push({elem:G,animation:W}),o+=1}function j(W){var G,Y=W-r;for(G=0;G<o;G+=1)t[G].animation.advanceTime(Y);r=W,l&&!y?window.requestAnimationFrame(j):h=!0}function U(W){r=W,window.requestAnimationFrame(j)}function q(){!y&&l&&h&&(window.requestAnimationFrame(U),h=!1)}return e.registerAnimation=O,e.loadAnimation=function(W){var G=new AnimationItem;return B(G,null),G.setParams(W),G},e.setSpeed=function(W,G){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.setSpeed(W,G)},e.setDirection=function(W,G){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.setDirection(W,G)},e.play=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.play(W)},e.pause=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.pause(W)},e.stop=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.stop(W)},e.togglePause=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.togglePause(W)},e.searchAnimations=function(W,G,Y){var K,X=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),J=X.length;for(K=0;K<J;K+=1)Y&&X[K].setAttribute("data-bm-type",Y),O(X[K],W);if(G&&J===0){Y||(Y="svg");var Q=document.getElementsByTagName("body")[0];Q.innerText="";var et=createTag("div");et.style.width="100%",et.style.height="100%",et.setAttribute("data-bm-type",Y),Q.appendChild(et),O(et,W)}},e.resize=function(){var W;for(W=0;W<o;W+=1)t[W].animation.resize()},e.goToAndStop=function(W,G,Y){var K;for(K=0;K<o;K+=1)t[K].animation.goToAndStop(W,G,Y)},e.destroy=function(W){var G;for(G=o-1;G>=0;G-=1)t[G].animation.destroy(W)},e.freeze=function(){y=!0},e.unfreeze=function(){y=!1,q()},e.setVolume=function(W,G){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.setVolume(W,G)},e.mute=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.mute(W)},e.unmute=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.unmute(W)},e.getRegisteredAnimations=function(){var W,G=t.length,Y=[];for(W=0;W<G;W+=1)Y.push(t[W].animation);return Y},e}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";switch(e.animType?t=e.animType:e.renderer&&(t=e.renderer),t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&typeof t!="object"&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},o=e.attributes;r.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",r.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:"canvas";var l=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";l==="false"?r.loop=!1:l==="true"?r.loop=!0:l!==""&&(r.loop=parseInt(l,10));var h=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:!o.getNamedItem("bm-autoplay")||o.getNamedItem("bm-autoplay").value;r.autoplay=h!=="false",r.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"",(o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"")==="false"&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,o=this.animationData.layers,l=o.length,h=e.layers,y=h.length;for(r=0;r<y;r+=1)for(t=0;t<l;){if(o[t].id===h[r].id){o[t]=h[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(l=e.assets.length,t=0;t<l;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var o=Number(e);if(isNaN(o)){var l=this.getMarkerData(e);l&&this.goToAndStop(l.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var o=Number(e);if(isNaN(o)){var l=this.getMarkerData(e);l&&(l.duration?this.playSegments([l.time,l.time+l.duration],!0):this.goToAndStop(l.time,!0))}else this.goToAndStop(o,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(this.isPaused!==!0&&this.isLoaded!==!1){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),typeof e[0]=="object"){var r,o=e.length;for(r=0;r<o;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":case"drawnFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=function(){var e={initExpressions:function(t){var r=0,o=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){r+=1},t.renderer.globalData.popExpression=function(){(r-=1)==0&&function(){var l,h=o.length;for(l=0;l<h;l+=1)o[l].release();o.length=0}()},t.renderer.globalData.registerExpressionProperty=function(l){o.indexOf(l)===-1&&o.push(l)}}};return e}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath;BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0,elem.data.ip/elem.comp.globalData.frameRate,elem.data.op/elem.comp.globalData.frameRate,elem.data.sw&&elem.data.sw,elem.data.sh&&elem.data.sh,elem.data.nm;var loopIn,loopOut,fromComp,thisLayer,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0];property.kf&&data.k.length,!this.data||this.data.hd,function(e,t){var r,o,l=this.pv.length?this.pv.length:1,h=createTypedArray("float32",l),y=Math.floor(5*time);for(r=0,o=0;r<y;){for(o=0;o<l;o+=1)h[o]+=-t+2*t*BMMath.random();r+=1}var D=5*time,O=D-Math.floor(D),F=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)F[o]=this.pv[o]+h[o]+(-t+2*t*BMMath.random())*O;return F}return this.pv+h[0]+(-t+2*t*BMMath.random())*O}.bind(this),thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty)),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty)),thisProperty.smooth&&thisProperty.smooth.bind(thisProperty),this.getValueAtTime&&this.getValueAtTime.bind(this),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this)),elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);var time,value;function seedRandom(e){BMMath.seedrandom(randSeed+e)}elem.data.ind,!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random());elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&this.selectorValue,thisLayer||(elem.layerInterface.text,thisLayer=elem.layerInterface,elem.comp.compInterface,thisLayer.toWorld.bind(thisLayer),thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),thisLayer.toComp.bind(thisLayer),thisLayer.mask&&thisLayer.mask.bind(thisLayer)),transform||(transform=elem.layerInterface("ADBE Transform Group"),transform&&transform.anchorPoint),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&velocityAtTime(time),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt.propType,scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),o=0;if(t.length){var l;for(l=0;l<t.length;l+=1)o+=Math.pow(r[l]-t[l],2);o=100*Math.sqrt(o)}else o=0;return o},getVelocityAtTime:function(e){if(this.vel!==void 0)return this.vel;var t,r,o=-.001,l=this.getValueAtTime(e),h=this.getValueAtTime(e+o);if(l.length)for(t=createTypedArray("float32",l.length),r=0;r<l.length;r+=1)t[r]=(h[r]-l[r])/o;else t=(h-l)/o;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};(function(){function e(B,j,U){if(!this.k||!this.keyframes)return this.pv;B=B?B.toLowerCase():"";var q,W,G,Y,K,X=this.comp.renderedFrame,J=this.keyframes,Q=J[J.length-1].t;if(X<=Q)return this.pv;if(U?W=Q-(q=j?Math.abs(Q-this.elem.comp.globalData.frameRate*j):Math.max(0,Q-this.elem.data.ip)):((!j||j>J.length-1)&&(j=J.length-1),q=Q-(W=J[J.length-1-j].t)),B==="pingpong"){if(Math.floor((X-W)/q)%2!=0)return this.getValueAtTime((q-(X-W)%q+W)/this.comp.globalData.frameRate,0)}else{if(B==="offset"){var et=this.getValueAtTime(W/this.comp.globalData.frameRate,0),nt=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),Z=this.getValueAtTime(((X-W)%q+W)/this.comp.globalData.frameRate,0),it=Math.floor((X-W)/q);if(this.pv.length){for(Y=(K=new Array(et.length)).length,G=0;G<Y;G+=1)K[G]=(nt[G]-et[G])*it+Z[G];return K}return(nt-et)*it+Z}if(B==="continue"){var rt=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),tt=this.getValueAtTime((Q-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=(K=new Array(rt.length)).length,G=0;G<Y;G+=1)K[G]=rt[G]+(rt[G]-tt[G])*((X-Q)/this.comp.globalData.frameRate)/5e-4;return K}return rt+(X-Q)/.001*(rt-tt)}}return this.getValueAtTime(((X-W)%q+W)/this.comp.globalData.frameRate,0)}function t(B,j,U){if(!this.k)return this.pv;B=B?B.toLowerCase():"";var q,W,G,Y,K,X=this.comp.renderedFrame,J=this.keyframes,Q=J[0].t;if(X>=Q)return this.pv;if(U?W=Q+(q=j?Math.abs(this.elem.comp.globalData.frameRate*j):Math.max(0,this.elem.data.op-Q)):((!j||j>J.length-1)&&(j=J.length-1),q=(W=J[j].t)-Q),B==="pingpong"){if(Math.floor((Q-X)/q)%2==0)return this.getValueAtTime(((Q-X)%q+Q)/this.comp.globalData.frameRate,0)}else{if(B==="offset"){var et=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),nt=this.getValueAtTime(W/this.comp.globalData.frameRate,0),Z=this.getValueAtTime((q-(Q-X)%q+Q)/this.comp.globalData.frameRate,0),it=Math.floor((Q-X)/q)+1;if(this.pv.length){for(Y=(K=new Array(et.length)).length,G=0;G<Y;G+=1)K[G]=Z[G]-(nt[G]-et[G])*it;return K}return Z-(nt-et)*it}if(B==="continue"){var rt=this.getValueAtTime(Q/this.comp.globalData.frameRate,0),tt=this.getValueAtTime((Q+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=(K=new Array(rt.length)).length,G=0;G<Y;G+=1)K[G]=rt[G]+(rt[G]-tt[G])*(Q-X)/.001;return K}return rt+(rt-tt)*(Q-X)/.001}}return this.getValueAtTime((q-((Q-X)%q+Q))/this.comp.globalData.frameRate,0)}function r(B,j){if(!this.k)return this.pv;if(B=.5*(B||.4),(j=Math.floor(j||5))<=1)return this.pv;var U,q,W=this.comp.renderedFrame/this.comp.globalData.frameRate,G=W-B,Y=j>1?(W+B-G)/(j-1):1,K=0,X=0;for(U=this.pv.length?createTypedArray("float32",this.pv.length):0;K<j;){if(q=this.getValueAtTime(G+K*Y),this.pv.length)for(X=0;X<this.pv.length;X+=1)U[X]+=q[X];else U+=q;K+=1}if(this.pv.length)for(X=0;X<this.pv.length;X+=1)U[X]/=j;else U/=j;return U}function o(B){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var j=this._transformCachingAtTime.v;if(j.cloneFromProps(this.pre.props),this.appliedTransformations<1){var U=this.a.getValueAtTime(B);j.translate(-U[0]*this.a.mult,-U[1]*this.a.mult,U[2]*this.a.mult)}if(this.appliedTransformations<2){var q=this.s.getValueAtTime(B);j.scale(q[0]*this.s.mult,q[1]*this.s.mult,q[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var W=this.sk.getValueAtTime(B),G=this.sa.getValueAtTime(B);j.skewFromAxis(-W*this.sk.mult,G*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Y=this.r.getValueAtTime(B);j.rotate(-Y*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var K=this.rz.getValueAtTime(B),X=this.ry.getValueAtTime(B),J=this.rx.getValueAtTime(B),Q=this.or.getValueAtTime(B);j.rotateZ(-K*this.rz.mult).rotateY(X*this.ry.mult).rotateX(J*this.rx.mult).rotateZ(-Q[2]*this.or.mult).rotateY(Q[1]*this.or.mult).rotateX(Q[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var et=this.px.getValueAtTime(B),nt=this.py.getValueAtTime(B);if(this.data.p.z){var Z=this.pz.getValueAtTime(B);j.translate(et*this.px.mult,nt*this.py.mult,-Z*this.pz.mult)}else j.translate(et*this.px.mult,nt*this.py.mult,0)}else{var it=this.p.getValueAtTime(B);j.translate(it[0]*this.p.mult,it[1]*this.p.mult,-it[2]*this.p.mult)}return j}function l(){return this.v.clone(new Matrix)}var h=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(B,j,U){var q=h(B,j,U);return q.dynamicProperties.length?q.getValueAtTime=o.bind(q):q.getValueAtTime=l.bind(q),q.setGroupProperty=expressionHelpers.setGroupProperty,q};var y=PropertyFactory.getProp;PropertyFactory.getProp=function(B,j,U,q,W){var G=y(B,j,U,q,W);G.kf?G.getValueAtTime=expressionHelpers.getValueAtTime.bind(G):G.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(G),G.setGroupProperty=expressionHelpers.setGroupProperty,G.loopOut=e,G.loopIn=t,G.smooth=r,G.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(G),G.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(G),G.numKeys=j.a===1?j.k.length:0,G.propertyIndex=j.ix;var Y=0;return U!==0&&(Y=createTypedArray("float32",j.a===1?j.k[0].s.length:j.k.length)),G._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Y},expressionHelpers.searchExpressions(B,j,G),G.k&&W.addDynamicProperty(G),G};var D=ShapePropertyFactory.getConstructorFunction(),O=ShapePropertyFactory.getKeyframedConstructorFunction();function F(){}F.prototype={vertices:function(B,j){this.k&&this.getValue();var U,q=this.v;j!==void 0&&(q=this.getValueAtTime(j,0));var W=q._length,G=q[B],Y=q.v,K=createSizedArray(W);for(U=0;U<W;U+=1)K[U]=B==="i"||B==="o"?[G[U][0]-Y[U][0],G[U][1]-Y[U][1]]:[G[U][0],G[U][1]];return K},points:function(B){return this.vertices("v",B)},inTangents:function(B){return this.vertices("i",B)},outTangents:function(B){return this.vertices("o",B)},isClosed:function(){return this.v.c},pointOnPath:function(B,j){var U=this.v;j!==void 0&&(U=this.getValueAtTime(j,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(U));for(var q,W=this._segmentsLength,G=W.lengths,Y=W.totalLength*B,K=0,X=G.length,J=0;K<X;){if(J+G[K].addedLength>Y){var Q=K,et=U.c&&K===X-1?0:K+1,nt=(Y-J)/G[K].addedLength;q=bez.getPointInSegment(U.v[Q],U.v[et],U.o[Q],U.i[et],nt,G[K]);break}J+=G[K].addedLength,K+=1}return q||(q=U.c?[U.v[0][0],U.v[0][1]]:[U.v[U._length-1][0],U.v[U._length-1][1]]),q},vectorOnPath:function(B,j,U){B==1?B=this.v.c:B==0&&(B=.999);var q=this.pointOnPath(B,j),W=this.pointOnPath(B+.001,j),G=W[0]-q[0],Y=W[1]-q[1],K=Math.sqrt(Math.pow(G,2)+Math.pow(Y,2));return K===0?[0,0]:U==="tangent"?[G/K,Y/K]:[-Y/K,G/K]},tangentOnPath:function(B,j){return this.vectorOnPath(B,j,"tangent")},normalOnPath:function(B,j){return this.vectorOnPath(B,j,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([F],D),extendPrototype([F],O),O.prototype.getValueAtTime=function(B){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),B*=this.elem.globalData.frameRate,(B-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<B?this._caching.lastIndex:0,this._cachingAtTime.lastTime=B,this.interpolateShape(B,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},O.prototype.initiateExpression=ExpressionManager.initiateExpression;var R=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(B,j,U,q,W){var G=R(B,j,U,q,W);return G.propertyIndex=j.ix,G.lock=!1,U===3?expressionHelpers.searchExpressions(B,j.pt,G):U===4&&expressionHelpers.searchExpressions(B,j.ks,G),G.k&&B.addDynamicProperty(G),G}})(),TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var o={};return this.copyData(o,e),o.t=r.toString(),o.__complete=!1,o}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(e,t,r){var o=t.sh;function l(y){return y==="Shape"||y==="shape"||y==="Path"||y==="path"||y==="ADBE Vector Shape"||y===2?l.path:null}var h=propertyGroupFactory(l,r);return o.setGroupProperty(PropertyInterface("Path",h)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),l},propertyGroupFactory=function(e,t){return function(r){return(r=r===void 0?1:r)<=0?e:t(r-1)}},PropertyInterface=function(e,t){var r={_name:e};return function(o){return(o=o===void 0?1:o)<=0?r:t(o-1)}},ShapeExpressionInterface=function(){function e(j,U,q){var W,G=[],Y=j?j.length:0;for(W=0;W<Y;W+=1)j[W].ty==="gr"?G.push(t(j[W],U[W],q)):j[W].ty==="fl"?G.push(r(j[W],U[W],q)):j[W].ty==="st"?G.push(l(j[W],U[W],q)):j[W].ty==="tm"?G.push(h(j[W],U[W],q)):j[W].ty==="tr"||(j[W].ty==="el"?G.push(D(j[W],U[W],q)):j[W].ty==="sr"?G.push(O(j[W],U[W],q)):j[W].ty==="sh"?G.push(ShapePathInterface(j[W],U[W],q)):j[W].ty==="rc"?G.push(F(j[W],U[W],q)):j[W].ty==="rd"?G.push(R(j[W],U[W],q)):j[W].ty==="rp"?G.push(B(j[W],U[W],q)):j[W].ty==="gf"?G.push(o(j[W],U[W],q)):G.push((j[W],U[W],function(){return null})));return G}function t(j,U,q){var W=function(K){switch(K){case"ADBE Vectors Group":case"Contents":case 2:return W.content;default:return W.transform}};W.propertyGroup=propertyGroupFactory(W,q);var G=function(K,X,J){var Q,et=function(Z){for(var it=0,rt=Q.length;it<rt;){if(Q[it]._name===Z||Q[it].mn===Z||Q[it].propertyIndex===Z||Q[it].ix===Z||Q[it].ind===Z)return Q[it];it+=1}return typeof Z=="number"?Q[Z-1]:null};et.propertyGroup=propertyGroupFactory(et,J),Q=e(K.it,X.it,et.propertyGroup),et.numProperties=Q.length;var nt=y(K.it[K.it.length-1],X.it[X.it.length-1],et.propertyGroup);return et.transform=nt,et.propertyIndex=K.cix,et._name=K.nm,et}(j,U,W.propertyGroup),Y=y(j.it[j.it.length-1],U.it[U.it.length-1],W.propertyGroup);return W.content=G,W.transform=Y,Object.defineProperty(W,"_name",{get:function(){return j.nm}}),W.numProperties=j.np,W.propertyIndex=j.ix,W.nm=j.nm,W.mn=j.mn,W}function r(j,U,q){function W(G){return G==="Color"||G==="color"?W.color:G==="Opacity"||G==="opacity"?W.opacity:null}return Object.defineProperties(W,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},_name:{value:j.nm},mn:{value:j.mn}}),U.c.setGroupProperty(PropertyInterface("Color",q)),U.o.setGroupProperty(PropertyInterface("Opacity",q)),W}function o(j,U,q){function W(G){return G==="Start Point"||G==="start point"?W.startPoint:G==="End Point"||G==="end point"?W.endPoint:G==="Opacity"||G==="opacity"?W.opacity:null}return Object.defineProperties(W,{startPoint:{get:ExpressionPropertyInterface(U.s)},endPoint:{get:ExpressionPropertyInterface(U.e)},opacity:{get:ExpressionPropertyInterface(U.o)},type:{get:function(){return"a"}},_name:{value:j.nm},mn:{value:j.mn}}),U.s.setGroupProperty(PropertyInterface("Start Point",q)),U.e.setGroupProperty(PropertyInterface("End Point",q)),U.o.setGroupProperty(PropertyInterface("Opacity",q)),W}function l(j,U,q){var W,G=propertyGroupFactory(Q,q),Y=propertyGroupFactory(J,G);function K(et){Object.defineProperty(J,j.d[et].nm,{get:ExpressionPropertyInterface(U.d.dataProps[et].p)})}var X=j.d?j.d.length:0,J={};for(W=0;W<X;W+=1)K(W),U.d.dataProps[W].p.setGroupProperty(Y);function Q(et){return et==="Color"||et==="color"?Q.color:et==="Opacity"||et==="opacity"?Q.opacity:et==="Stroke Width"||et==="stroke width"?Q.strokeWidth:null}return Object.defineProperties(Q,{color:{get:ExpressionPropertyInterface(U.c)},opacity:{get:ExpressionPropertyInterface(U.o)},strokeWidth:{get:ExpressionPropertyInterface(U.w)},dash:{get:function(){return J}},_name:{value:j.nm},mn:{value:j.mn}}),U.c.setGroupProperty(PropertyInterface("Color",G)),U.o.setGroupProperty(PropertyInterface("Opacity",G)),U.w.setGroupProperty(PropertyInterface("Stroke Width",G)),Q}function h(j,U,q){function W(Y){return Y===j.e.ix||Y==="End"||Y==="end"?W.end:Y===j.s.ix?W.start:Y===j.o.ix?W.offset:null}var G=propertyGroupFactory(W,q);return W.propertyIndex=j.ix,U.s.setGroupProperty(PropertyInterface("Start",G)),U.e.setGroupProperty(PropertyInterface("End",G)),U.o.setGroupProperty(PropertyInterface("Offset",G)),W.propertyIndex=j.ix,W.propertyGroup=q,Object.defineProperties(W,{start:{get:ExpressionPropertyInterface(U.s)},end:{get:ExpressionPropertyInterface(U.e)},offset:{get:ExpressionPropertyInterface(U.o)},_name:{value:j.nm}}),W.mn=j.mn,W}function y(j,U,q){function W(Y){return j.a.ix===Y||Y==="Anchor Point"?W.anchorPoint:j.o.ix===Y||Y==="Opacity"?W.opacity:j.p.ix===Y||Y==="Position"?W.position:j.r.ix===Y||Y==="Rotation"||Y==="ADBE Vector Rotation"?W.rotation:j.s.ix===Y||Y==="Scale"?W.scale:j.sk&&j.sk.ix===Y||Y==="Skew"?W.skew:j.sa&&j.sa.ix===Y||Y==="Skew Axis"?W.skewAxis:null}var G=propertyGroupFactory(W,q);return U.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",G)),U.transform.mProps.p.setGroupProperty(PropertyInterface("Position",G)),U.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",G)),U.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",G)),U.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",G)),U.transform.mProps.sk&&(U.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",G)),U.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",G))),U.transform.op.setGroupProperty(PropertyInterface("Opacity",G)),Object.defineProperties(W,{opacity:{get:ExpressionPropertyInterface(U.transform.mProps.o)},position:{get:ExpressionPropertyInterface(U.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(U.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(U.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(U.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(U.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(U.transform.mProps.sa)},_name:{value:j.nm}}),W.ty="tr",W.mn=j.mn,W.propertyGroup=q,W}function D(j,U,q){function W(K){return j.p.ix===K?W.position:j.s.ix===K?W.size:null}var G=propertyGroupFactory(W,q);W.propertyIndex=j.ix;var Y=U.sh.ty==="tm"?U.sh.prop:U.sh;return Y.s.setGroupProperty(PropertyInterface("Size",G)),Y.p.setGroupProperty(PropertyInterface("Position",G)),Object.defineProperties(W,{size:{get:ExpressionPropertyInterface(Y.s)},position:{get:ExpressionPropertyInterface(Y.p)},_name:{value:j.nm}}),W.mn=j.mn,W}function O(j,U,q){function W(K){return j.p.ix===K?W.position:j.r.ix===K?W.rotation:j.pt.ix===K?W.points:j.or.ix===K||K==="ADBE Vector Star Outer Radius"?W.outerRadius:j.os.ix===K?W.outerRoundness:!j.ir||j.ir.ix!==K&&K!=="ADBE Vector Star Inner Radius"?j.is&&j.is.ix===K?W.innerRoundness:null:W.innerRadius}var G=propertyGroupFactory(W,q),Y=U.sh.ty==="tm"?U.sh.prop:U.sh;return W.propertyIndex=j.ix,Y.or.setGroupProperty(PropertyInterface("Outer Radius",G)),Y.os.setGroupProperty(PropertyInterface("Outer Roundness",G)),Y.pt.setGroupProperty(PropertyInterface("Points",G)),Y.p.setGroupProperty(PropertyInterface("Position",G)),Y.r.setGroupProperty(PropertyInterface("Rotation",G)),j.ir&&(Y.ir.setGroupProperty(PropertyInterface("Inner Radius",G)),Y.is.setGroupProperty(PropertyInterface("Inner Roundness",G))),Object.defineProperties(W,{position:{get:ExpressionPropertyInterface(Y.p)},rotation:{get:ExpressionPropertyInterface(Y.r)},points:{get:ExpressionPropertyInterface(Y.pt)},outerRadius:{get:ExpressionPropertyInterface(Y.or)},outerRoundness:{get:ExpressionPropertyInterface(Y.os)},innerRadius:{get:ExpressionPropertyInterface(Y.ir)},innerRoundness:{get:ExpressionPropertyInterface(Y.is)},_name:{value:j.nm}}),W.mn=j.mn,W}function F(j,U,q){function W(K){return j.p.ix===K?W.position:j.r.ix===K?W.roundness:j.s.ix===K||K==="Size"||K==="ADBE Vector Rect Size"?W.size:null}var G=propertyGroupFactory(W,q),Y=U.sh.ty==="tm"?U.sh.prop:U.sh;return W.propertyIndex=j.ix,Y.p.setGroupProperty(PropertyInterface("Position",G)),Y.s.setGroupProperty(PropertyInterface("Size",G)),Y.r.setGroupProperty(PropertyInterface("Rotation",G)),Object.defineProperties(W,{position:{get:ExpressionPropertyInterface(Y.p)},roundness:{get:ExpressionPropertyInterface(Y.r)},size:{get:ExpressionPropertyInterface(Y.s)},_name:{value:j.nm}}),W.mn=j.mn,W}function R(j,U,q){function W(K){return j.r.ix===K||K==="Round Corners 1"?W.radius:null}var G=propertyGroupFactory(W,q),Y=U;return W.propertyIndex=j.ix,Y.rd.setGroupProperty(PropertyInterface("Radius",G)),Object.defineProperties(W,{radius:{get:ExpressionPropertyInterface(Y.rd)},_name:{value:j.nm}}),W.mn=j.mn,W}function B(j,U,q){function W(K){return j.c.ix===K||K==="Copies"?W.copies:j.o.ix===K||K==="Offset"?W.offset:null}var G=propertyGroupFactory(W,q),Y=U;return W.propertyIndex=j.ix,Y.c.setGroupProperty(PropertyInterface("Copies",G)),Y.o.setGroupProperty(PropertyInterface("Offset",G)),Object.defineProperties(W,{copies:{get:ExpressionPropertyInterface(Y.c)},offset:{get:ExpressionPropertyInterface(Y.o)},_name:{value:j.nm}}),W.mn=j.mn,W}return function(j,U,q){var W;function G(Y){if(typeof Y=="number")return(Y=Y===void 0?1:Y)===0?q:W[Y-1];for(var K=0,X=W.length;K<X;){if(W[K]._name===Y)return W[K];K+=1}return null}return G.propertyGroup=propertyGroupFactory(G,function(){return q}),W=e(j,U,G.propertyGroup),G.numProperties=W.length,G._name="Contents",G}}(),TextExpressionInterface=function(e){var t,r;function o(l){return l==="ADBE Text Document"?o.sourceText:null}return Object.defineProperty(o,"sourceText",{get:function(){e.textProperty.getValue();var l=e.textProperty.currentData.t;return l!==t&&(e.textProperty.currentData.t=t,(r=new String(l)).value=l||new String(l)),r}}),o},LayerExpressionInterface=function(){function e(F){var R=new Matrix;return F!==void 0?this._elem.finalTransform.mProp.getValueAtTime(F).clone(R):this._elem.finalTransform.mProp.applyToMatrix(R),R}function t(F,R){var B=this.getMatrix(R);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.applyPoint(B,F)}function r(F,R){var B=this.getMatrix(R);return this.applyPoint(B,F)}function o(F,R){var B=this.getMatrix(R);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.invertPoint(B,F)}function l(F,R){var B=this.getMatrix(R);return this.invertPoint(B,F)}function h(F,R){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(F)}return F.applyToPointArray(R[0],R[1],R[2]||0)}function y(F,R){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(F)}return F.inversePoint(R)}function D(F){var R=new Matrix;if(R.reset(),this._elem.finalTransform.mProp.applyToMatrix(R),this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(R);return R.inversePoint(F)}return R.inversePoint(F)}function O(){return[1,1,1,1]}return function(F){var R;function B(U){switch(U){case"ADBE Root Vectors Group":case"Contents":case 2:return B.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return R;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return B.effect;case"ADBE Text Properties":return B.textInterface;default:return null}}B.getMatrix=e,B.invertPoint=y,B.applyPoint=h,B.toWorld=r,B.toWorldVec=t,B.fromWorld=l,B.fromWorldVec=o,B.toComp=r,B.fromComp=D,B.sampleImage=O,B.sourceRectAtTime=F.sourceRectAtTime.bind(F),B._elem=F;var j=getDescriptor(R=TransformExpressionInterface(F.finalTransform.mProp),"anchorPoint");return Object.defineProperties(B,{hasParent:{get:function(){return F.hierarchy.length}},parent:{get:function(){return F.hierarchy[0].layerInterface}},rotation:getDescriptor(R,"rotation"),scale:getDescriptor(R,"scale"),position:getDescriptor(R,"position"),opacity:getDescriptor(R,"opacity"),anchorPoint:j,anchor_point:j,transform:{get:function(){return R}},active:{get:function(){return F.isInRange}}}),B.startTime=F.data.st,B.index=F.data.ind,B.source=F.data.refId,B.height=F.data.ty===0?F.data.h:100,B.width=F.data.ty===0?F.data.w:100,B.inPoint=F.data.ip/F.comp.globalData.frameRate,B.outPoint=F.data.op/F.comp.globalData.frameRate,B._name=F.data.nm,B.registerMaskInterface=function(U){B.mask=new MaskManagerInterface(U,F)},B.registerEffectsInterface=function(U){B.effect=U},B}}(),FootageInterface=(dataInterfaceFactory=function(e){function t(r){return r==="Outline"?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(r){var o="",l=r.getFootageData();function h(y){if(l[y])return o=y,typeof(l=l[y])=="object"?h:l;var D=y.indexOf(o);if(D!==-1){var O=parseInt(y.substr(D+o.length),10);return typeof(l=l[O])=="object"?h:l}return""}return function(){return o="",l=r.getFootageData(),h}}(e),t},function(e){function t(r){return r==="Data"?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,CompExpressionInterface=function(e){function t(r){for(var o=0,l=e.layers.length;o<l;){if(e.layers[o].nm===r||e.layers[o].ind===r)return e.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},TransformExpressionInterface=function(e){function t(y){switch(y){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,o,l,h;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?h=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),o=ExpressionPropertyInterface(e.py),e.pz&&(l=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?h():[r(),o(),l?l():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},ProjectInterface=function(){function e(t){this.compositions.push(t)}return function(){function t(r){for(var o=0,l=this.compositions.length;o<l;){if(this.compositions[o].data&&this.compositions[o].data.nm===r)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),EffectsExpressionInterface=function(){var e={createEffectsInterface:function(o,l){if(o.effectsManager){var h,y=[],D=o.data.ef,O=o.effectsManager.effectElements.length;for(h=0;h<O;h+=1)y.push(t(D[h],o.effectsManager.effectElements[h],l,o));var F=o.data.ef||[],R=function(B){for(h=0,O=F.length;h<O;){if(B===F[h].nm||B===F[h].mn||B===F[h].ix)return y[h];h+=1}return null};return Object.defineProperty(R,"numProperties",{get:function(){return F.length}}),R}return null}};function t(o,l,h,y){function D(j){for(var U=o.ef,q=0,W=U.length;q<W;){if(j===U[q].nm||j===U[q].mn||j===U[q].ix)return U[q].ty===5?R[q]:R[q]();q+=1}throw new Error}var O,F=propertyGroupFactory(D,h),R=[],B=o.ef.length;for(O=0;O<B;O+=1)o.ef[O].ty===5?R.push(t(o.ef[O],l.effectElements[O],l.effectElements[O].propertyGroup,y)):R.push(r(l.effectElements[O],o.ef[O].ty,y,F));return o.mn==="ADBE Color Control"&&Object.defineProperty(D,"color",{get:function(){return R[0]()}}),Object.defineProperties(D,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:F}}),D.enabled=o.en!==0,D.active=D.enabled,D}function r(o,l,h,y){var D=ExpressionPropertyInterface(o.p);return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",y)),function(){return l===10?h.comp.compInterface(o.p.v):D()}}return e}(),MaskManagerInterface=function(){function e(t,r){this._mask=t,this._data=r}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,o=createSizedArray(t.viewData.length),l=t.viewData.length;for(r=0;r<l;r+=1)o[r]=new e(t.viewData[r],t.masksProperties[r]);return function(h){for(r=0;r<l;){if(t.masksProperties[r].nm===h)return o[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(l,h,y){Object.defineProperty(l,"velocity",{get:function(){return h.getVelocityAtTime(h.comp.currentFrame)}}),l.numKeys=h.keyframes?h.keyframes.length:0,l.key=function(D){if(!l.numKeys)return 0;var O="";O="s"in h.keyframes[D-1]?h.keyframes[D-1].s:"e"in h.keyframes[D-2]?h.keyframes[D-2].e:h.keyframes[D-2].s;var F=y==="unidimensional"?new Number(O):Object.assign({},O);return F.time=h.keyframes[D-1].t/h.elem.comp.globalData.frameRate,F.value=y==="unidimensional"?O[0]:O,F},l.valueAtTime=h.getValueAtTime,l.speedAtTime=h.getSpeedAtTime,l.velocityAtTime=h.getVelocityAtTime,l.propertyGroup=h.propertyGroup}function o(){return e}return function(l){return l?l.propType==="unidimensional"?function(h){h&&"pv"in h||(h=e);var y=1/h.mult,D=h.pv*y,O=new Number(D);return O.value=D,r(O,h,"unidimensional"),function(){return h.k&&h.getValue(),D=h.v*y,O.value!==D&&((O=new Number(D)).value=D,r(O,h,"unidimensional")),O}}(l):function(h){h&&"pv"in h||(h=t);var y=1/h.mult,D=h.data&&h.data.l||h.pv.length,O=createTypedArray("float32",D),F=createTypedArray("float32",D);return O.value=F,r(O,h,"multidimensional"),function(){h.k&&h.getValue();for(var R=0;R<D;R+=1)F[R]=h.v[R]*y,O[R]=F[R];return O}}(l):o}}(),TextExpressionSelectorPropFactory=function(){function e(t,r){return this.textIndex=t+1,this.textTotal=r,this.v=this.getValue()*this.mult,this.v}return function(t,r){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=r.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,r,this),this.getMult=e,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp;function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r,o=e.ef||[];this.effectElements=[];var l,h=o.length;for(r=0;r<h;r+=1)l=new GroupEffect(o[r],t),this.effectElements.push(l)}function GroupEffect(e,t){this.init(e,t)}TextSelectorProp.getTextSelectorProp=function(e,t,r){return t.t===1?new TextExpressionSelectorPropFactory(e,t,r):propertyGetTextProp(e,t,r)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var r;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var o,l=this.data.ef.length,h=this.data.ef;for(r=0;r<l;r+=1){switch(o=null,h[r].ty){case 0:o=new SliderEffect(h[r],t,this);break;case 1:o=new AngleEffect(h[r],t,this);break;case 2:o=new ColorEffect(h[r],t,this);break;case 3:o=new PointEffect(h[r],t,this);break;case 4:case 7:o=new CheckboxEffect(h[r],t,this);break;case 10:o=new LayerIndexEffect(h[r],t,this);break;case 11:o=new MaskIndexEffect(h[r],t,this);break;case 5:o=new EffectsManager(h[r],t);break;default:o=new NoValueEffect(h[r])}o&&this.effectElements.push(o)}};var lottie={};function setLocationHref(e){locationHref=e}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){subframeEnabled=e}function setIDPrefix(e){idPrefix=e}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&e>1&&(defaultCurveSegments=e)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(e,t){e==="expressions"&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var o=t[r].split("=");if(decodeURIComponent(o[0])==e)return decodeURIComponent(o[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(e){_useWebWorker=e},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.1";var queryString;{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},module.exports?module.exports=factory(root):(root.lottie=factory(root),root.bodymovin=root.lottie))})(lottie$1);lottie$1.exports;var _templateObject$1,styles=r$3(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral([`
  * {
    box-sizing: border-box;
  }

  :host {
    --lottie-player-toolbar-height: 35px;
    --lottie-player-toolbar-background-color: transparent;
    --lottie-player-toolbar-icon-color: #999;
    --lottie-player-toolbar-icon-hover-color: #222;
    --lottie-player-toolbar-icon-active-color: #555;
    --lottie-player-seeker-track-color: #ccc;
    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);
    --lottie-player-seeker-display: block;

    display: block;
    width: 100%;
    height: 100%;
  }

  .main {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  .animation {
    width: 100%;
    height: 100%;
    display: flex;
  }
  .animation.controls {
    height: calc(100% - 35px);
  }

  .toolbar {
    display: flex;
    align-items: center;
    justify-items: center;
    background-color: var(--lottie-player-toolbar-background-color);
    margin: 0 5px;
    height: 35px;
  }

  .toolbar button {
    cursor: pointer;
    fill: var(--lottie-player-toolbar-icon-color);
    display: flex;
    background: none;
    border: 0;
    padding: 0;
    outline: none;
    height: 100%;
  }

  .toolbar button:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button.active {
    fill: var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button.active:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button:focus {
    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button svg {
  }

  .toolbar button.disabled svg {
    display: none;
  }

  .seeker {
    -webkit-appearance: none;
    width: 95%;
    outline: none;
    background-color: var(--lottie-player-toolbar-background-color);
    display: var(--lottie-player-seeker-display);
  }

  .seeker::-webkit-slider-runnable-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-webkit-slider-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
    -webkit-appearance: none;
    margin-top: -5px;
  }
  .seeker:focus::-webkit-slider-runnable-track {
    background: #999;
  }
  .seeker::-moz-range-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-moz-range-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker::-ms-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }
  .seeker::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-thumb {
    border: 0;
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker:focus::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
  }
  .seeker:focus::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
  }

  .error {
    display: flex;
    justify-content: center;
    height: 100%;
    align-items: center;
  }
`]))),_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,PlayerState,PlayMode,PlayerEvents;function parseSrc(e){if(typeof e=="object")return e;try{return JSON.parse(e)}catch{return new URL(e,window.location.href).toString()}}function isLottie(e){return["v","ip","op","layers","fr","w","h"].every(t=>Object.prototype.hasOwnProperty.call(e,t))}function fromURL(e){return _fromURL.apply(this,arguments)}function _fromURL(){return(_fromURL=_asyncToGenerator(function*(e){if(typeof e!="string")throw new Error("The url value must be a string");var t;try{var r=new URL(e),o=yield fetch(r.toString());t=yield o.json()}catch{throw new Error("An error occurred while trying to load the Lottie file from URL")}return t})).apply(this,arguments)}(function(e){e.Destroyed="destroyed",e.Error="error",e.Frozen="frozen",e.Loading="loading",e.Paused="paused",e.Playing="playing",e.Stopped="stopped"})(PlayerState||(PlayerState={})),function(e){e.Bounce="bounce",e.Normal="normal"}(PlayMode||(PlayMode={})),function(e){e.Complete="complete",e.Destroyed="destroyed",e.Error="error",e.Frame="frame",e.Freeze="freeze",e.Load="load",e.Loop="loop",e.Pause="pause",e.Play="play",e.Ready="ready",e.Rendered="rendered",e.Stop="stop"}(PlayerEvents||(PlayerEvents={}));var LottiePlayer=class extends s{constructor(){super(...arguments),this.autoplay=!1,this.background="transparent",this.controls=!1,this.currentState=PlayerState.Loading,this.description="Lottie animation",this.direction=1,this.hover=!1,this.intermission=1,this.loop=!1,this.mode=PlayMode.Normal,this.preserveAspectRatio="xMidYMid meet",this.renderer="svg",this.speed=1,this._io=void 0,this._counter=1}load(e){var t=this;return _asyncToGenerator(function*(){if(t.shadowRoot){var r={container:t.container,loop:!1,autoplay:!1,renderer:t.renderer,rendererSettings:{preserveAspectRatio:t.preserveAspectRatio,clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0}};try{var o=parseSrc(e),l={},h=typeof o=="string"?"path":"animationData";t._lottie&&t._lottie.destroy(),t.webworkers&&lottie$1.exports.useWebWorker(!0),t._lottie=lottie$1.exports.loadAnimation(Object.assign(Object.assign({},r),{[h]:o})),t._attachEventListeners(),h==="path"?(l=yield fromURL(o),h="animationData"):l=o,isLottie(l)||(t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error)))}catch{t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error))}}})()}getLottie(){return this._lottie}play(){this._lottie&&(this._lottie.play(),this.currentState=PlayerState.Playing,this.dispatchEvent(new CustomEvent(PlayerEvents.Play)))}pause(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Paused,this.dispatchEvent(new CustomEvent(PlayerEvents.Pause)))}stop(){this._lottie&&(this._counter=1,this._lottie.stop(),this.currentState=PlayerState.Stopped,this.dispatchEvent(new CustomEvent(PlayerEvents.Stop)))}destroy(){this._lottie&&(this._lottie.destroy(),this._lottie=null,this.currentState=PlayerState.Destroyed,this.dispatchEvent(new CustomEvent(PlayerEvents.Destroyed)),this.remove())}seek(e){if(this._lottie){var t=/^(\d+)(%?)$/.exec(e.toString());if(t){var r=t[2]==="%"?this._lottie.totalFrames*Number(t[1])/100:Number(t[1]);this.seeker=r,this.currentState===PlayerState.Playing?this._lottie.goToAndPlay(r,!0):(this._lottie.goToAndStop(r,!0),this._lottie.pause())}}}snapshot(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.shadowRoot){var t=this.shadowRoot.querySelector(".animation svg"),r=new XMLSerializer().serializeToString(t);if(e){var o=document.createElement("a");o.href="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(r)),o.download="download_".concat(this.seeker,".svg"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}return r}}setSpeed(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._lottie&&this._lottie.setSpeed(e)}setDirection(e){this._lottie&&this._lottie.setDirection(e)}setLooping(e){this._lottie&&(this.loop=e,this._lottie.loop=e)}togglePlay(){return this.currentState===PlayerState.Playing?this.pause():this.play()}toggleLooping(){this.setLooping(!this.loop)}resize(){this._lottie&&this._lottie.resize()}static get styles(){return styles}disconnectedCallback(){this.isConnected||(this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",()=>this._onVisibilityChange()),this.destroy())}render(){var e=this.controls?"main controls":"main",t=this.controls?"animation controls":"animation";return $(_templateObject||(_templateObject=_taggedTemplateLiteral([` <div
      id="animation-container"
      class=`,`
      lang="en"
      aria-label=`,`
      role="img"
    >
      <div
        id="animation"
        class=`,`
        style="background:`,`;"
      >
        `,`
      </div>
      `,`
    </div>`])),e,this.description,t,this.background,this.currentState===PlayerState.Error?$(_templateObject2||(_templateObject2=_taggedTemplateLiteral(['<div class="error">\u26A0\uFE0F</div>']))):void 0,this.controls?this.renderControls():void 0)}firstUpdated(){"IntersectionObserver"in window&&(this._io=new IntersectionObserver(e=>{e[0].isIntersecting?this.currentState===PlayerState.Frozen&&this.play():this.currentState===PlayerState.Playing&&this.freeze()}),this._io.observe(this.container)),document.hidden!==void 0&&document.addEventListener("visibilitychange",()=>this._onVisibilityChange()),this.src&&this.load(this.src),this.dispatchEvent(new CustomEvent(PlayerEvents.Rendered))}renderControls(){var e=this.currentState===PlayerState.Playing,t=this.currentState===PlayerState.Paused,r=this.currentState===PlayerState.Stopped;return $(_templateObject3||(_templateObject3=_taggedTemplateLiteral([`
      <div
        id="lottie-controls"
        aria-label="lottie-animation-controls"
        class="toolbar"
      >
        <button
          id="lottie-play-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="play-pause"
        >
          `,`
        </button>
        <button
          id="lottie-stop-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="stop"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path d="M6 6h12v12H6V6z" />
          </svg>
        </button>
        <input
          id="lottie-seeker-input"
          class="seeker"
          type="range"
          min="0"
          step="1"
          max="100"
          .value=`,`
          @input=`,`
          @mousedown=`,`
          @mouseup=`,`
          aria-valuemin="1"
          aria-valuemax="100"
          role="slider"
          aria-valuenow=`,`
          tabindex="0"
          aria-label="lottie-seek-input"
        />
        <button
          id="lottie-loop-toggle"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="loop-toggle"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path
              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"
            />
          </svg>
        </button>
      </div>
    `])),this.togglePlay,e||t?"active":"",$(e?_templateObject4||(_templateObject4=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path
                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"
                />
              </svg>`])):_templateObject5||(_templateObject5=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />
              </svg>`]))),this.stop,r?"active":"",this.seeker,this._handleSeekChange,()=>{this._prevState=this.currentState,this.freeze()},()=>{this._prevState===PlayerState.Playing&&this.play()},this.seeker,this.toggleLooping,this.loop?"active":"")}_onVisibilityChange(){document.hidden===!0&&this.currentState===PlayerState.Playing?this.freeze():this.currentState===PlayerState.Frozen&&this.play()}_handleSeekChange(e){if(this._lottie&&!isNaN(e.target.value)){var t=e.target.value/100*this._lottie.totalFrames;this.seek(t)}}_attachEventListeners(){this._lottie.addEventListener("enterFrame",()=>{this.seeker=this._lottie.currentFrame/this._lottie.totalFrames*100,this.dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:this._lottie.currentFrame,seeker:this.seeker}}))}),this._lottie.addEventListener("complete",()=>{if(this.currentState===PlayerState.Playing){if((!this.loop||this.count&&this._counter>=this.count)&&(this.dispatchEvent(new CustomEvent(PlayerEvents.Complete)),this.mode!==PlayMode.Bounce||this._lottie.currentFrame===0))return;this.mode===PlayMode.Bounce?(this.count&&(this._counter+=.5),setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this._lottie.setDirection(-1*this._lottie.playDirection),this._lottie.play())},this.intermission)):(this.count&&(this._counter+=1),window.setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this.direction===-1?(this.seek("99%"),this.play()):(this._lottie.stop(),this._lottie.play()))},this.intermission))}else this.dispatchEvent(new CustomEvent(PlayerEvents.Complete))}),this._lottie.addEventListener("DOMLoaded",()=>{this.setSpeed(this.speed),this.setDirection(this.direction),this.autoplay&&(this.direction===-1&&this.seek("100%"),this.play()),this.dispatchEvent(new CustomEvent(PlayerEvents.Ready))}),this._lottie.addEventListener("data_ready",()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Load))}),this._lottie.addEventListener("data_failed",()=>{this.currentState=PlayerState.Error,this.dispatchEvent(new CustomEvent(PlayerEvents.Error))}),this.container.addEventListener("mouseenter",()=>{this.hover&&this.currentState!==PlayerState.Playing&&this.play()}),this.container.addEventListener("mouseleave",()=>{this.hover&&this.currentState===PlayerState.Playing&&this.stop()})}freeze(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Frozen,this.dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))}};__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"autoplay",void 0),__decorate([e$5({type:String,reflect:!0})],LottiePlayer.prototype,"background",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"controls",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"count",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"currentState",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"description",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"direction",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"hover",void 0),__decorate([e$5()],LottiePlayer.prototype,"intermission",void 0),__decorate([e$5({type:Boolean,reflect:!0})],LottiePlayer.prototype,"loop",void 0),__decorate([e$5()],LottiePlayer.prototype,"mode",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"preserveAspectRatio",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"renderer",void 0),__decorate([e$5()],LottiePlayer.prototype,"seeker",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"speed",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"src",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"webworkers",void 0),__decorate([i(".animation")],LottiePlayer.prototype,"container",void 0),LottiePlayer=__decorate([n$1("lottie-player")],LottiePlayer);var chat_svelte_svelte_type_style_lang="";function get_each_context_1$5(e,t,r){const o=e.slice();return o[37]=t[r],o[41]=r,o}function get_each_context$5(e,t,r){const o=e.slice();return o[37]=t[r],o}function get_each_context_2(e,t,r){const o=e.slice();return o[42]=t[r],o[41]=r,o}function create_each_block_2(e,t){let r,o=t[42][0]+"",l,h,y,D;return{key:e,first:null,c(){r=element("div"),l=text(o),h=space(),attr(r,"class",y=null_to_empty(t[42][1]=="question"?"msgBot":"msgUser")+" svelte-w49pdy"),set_style(r,"background-color",t[42][1]!="question"?t[7]:"#e4e4e4"),this.first=r},m(O,F){insert(O,r,F),append(r,l),append(r,h)},p(O,F){t=O,F[0]&2&&o!==(o=t[42][0]+"")&&set_data(l,o),F[0]&2&&y!==(y=null_to_empty(t[42][1]=="question"?"msgBot":"msgUser")+" svelte-w49pdy")&&attr(r,"class",y),F[0]&130&&set_style(r,"background-color",t[42][1]!="question"?t[7]:"#e4e4e4")},i(O){D||add_render_callback(()=>{D=create_in_transition(r,scale,{duration:200,start:.8,easing:quadIn}),D.start()})},o:noop$2,d(O){O&&detach(r)}}}function create_if_block_1$7(e){let t,r,o,l,h,y,D;const O=[create_if_block_2$5,create_if_block_5$2,create_if_block_6$2,create_if_block_7$2,create_if_block_9,create_if_block_11],F=[];function R(B,j){return B[5].a.type=="1c"?0:B[5].a.type=="mc"?1:B[5].a.type=="num"?2:B[5].a.type=="cl"?3:B[5].a.type=="cal"?4:B[5].a.type=="5s"?5:-1}return~(o=R(e))&&(l=F[o]=O[o](e)),{c(){t=element("div"),r=element("div"),l&&l.c(),attr(t,"id","inputZone"),attr(t,"class","m-auto svelte-w49pdy"),set_style(t,"background-color",e[7]+"1A")},m(B,j){insert(B,t,j),append(t,r),~o&&F[o].m(r,null),D=!0},p(B,j){let U=o;o=R(B),o===U?~o&&F[o].p(B,j):(l&&(group_outros(),transition_out(F[U],1,1,()=>{F[U]=null}),check_outros()),~o?(l=F[o],l?l.p(B,j):(l=F[o]=O[o](B),l.c()),transition_in(l,1),l.m(r,null)):l=null),(!D||j[0]&128)&&set_style(t,"background-color",B[7]+"1A")},i(B){D||(transition_in(l),add_render_callback(()=>{y&&y.end(1),h=create_in_transition(t,fly,{y:20,duration:800}),h.start()}),D=!0)},o(B){transition_out(l),h&&h.invalidate(),y=create_out_transition(t,fade,{duration:200}),D=!1},d(B){B&&detach(t),~o&&F[o].d(),B&&y&&y.end()}}}function create_if_block_11(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt;return{c(){t=element("div"),r=element("div"),o=element("input"),l=space(),h=element("label"),h.textContent="5 stars",y=space(),D=element("input"),O=space(),F=element("label"),F.textContent="4 stars",R=space(),B=element("input"),j=space(),U=element("label"),U.textContent="3 stars",q=space(),W=element("input"),G=space(),Y=element("label"),Y.textContent="2 stars",K=space(),X=element("input"),J=space(),Q=element("label"),Q.textContent="1 star",attr(o,"type","radio"),attr(o,"id","star5"),attr(o,"name","rate"),o.value="5",attr(o,"class","svelte-w49pdy"),attr(h,"for","star5"),attr(h,"title","text"),attr(h,"class","svelte-w49pdy"),attr(D,"type","radio"),attr(D,"id","star4"),attr(D,"name","rate"),D.value="4",attr(D,"class","svelte-w49pdy"),attr(F,"for","star4"),attr(F,"title","text"),attr(F,"class","svelte-w49pdy"),attr(B,"type","radio"),attr(B,"id","star3"),attr(B,"name","rate"),B.value="3",attr(B,"class","svelte-w49pdy"),attr(U,"for","star3"),attr(U,"title","text"),attr(U,"class","svelte-w49pdy"),attr(W,"type","radio"),attr(W,"id","star2"),attr(W,"name","rate"),W.value="2",attr(W,"class","svelte-w49pdy"),attr(Y,"for","star2"),attr(Y,"title","text"),attr(Y,"class","svelte-w49pdy"),attr(X,"type","radio"),attr(X,"id","star1"),attr(X,"name","rate"),X.value="1",attr(X,"class","svelte-w49pdy"),attr(Q,"for","star1"),attr(Q,"title","text"),attr(Q,"class","svelte-w49pdy"),attr(r,"class","rate input svelte-w49pdy"),attr(t,"class","d-flex align-items-center justify-content-center")},m(Z,it){insert(Z,t,it),append(t,r),append(r,o),append(r,l),append(r,h),append(r,y),append(r,D),append(r,O),append(r,F),append(r,R),append(r,B),append(r,j),append(r,U),append(r,q),append(r,W),append(r,G),append(r,Y),append(r,K),append(r,X),append(r,J),append(r,Q),et||(nt=[listen(o,"click",e[24]),listen(D,"click",e[25]),listen(B,"click",e[26]),listen(W,"click",e[27]),listen(X,"click",e[28])],et=!0)},p:noop$2,i:noop$2,o:noop$2,d(Z){Z&&detach(t),et=!1,run_all(nt)}}}function create_if_block_9(e){let t,r,o,l,h,y,D,O,F,R=e[6].length>0&&create_if_block_10(e);return{c(){t=element("div"),r=element("input"),l=space(),h=element("div"),y=element("div"),R&&R.c(),attr(r,"class","dateField svelte-w49pdy"),attr(r,"id","dateTime"),attr(r,"type",o=e[5].a.a[0]&&e[5].a.a[1]?"datetime-local":e[5].a.a[0]&&!e[5].a.a[1]?"date":"time"),set_style(y,"width","20px"),attr(h,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(t,"class","userBtnInput py-3 m-auto d-flex flex-row justify-content-around align-items-center svelte-w49pdy")},m(B,j){insert(B,t,j),append(t,r),append(t,l),append(t,h),append(h,y),R&&R.m(y,null),D=!0,O||(F=[listen(r,"input",e[22]),listen(h,"click",e[23])],O=!0)},p(B,j){(!D||j[0]&32&&o!==(o=B[5].a.a[0]&&B[5].a.a[1]?"datetime-local":B[5].a.a[0]&&!B[5].a.a[1]?"date":"time"))&&attr(r,"type",o),B[6].length>0?R?(R.p(B,j),j[0]&64&&transition_in(R,1)):(R=create_if_block_10(B),R.c(),transition_in(R,1),R.m(y,null)):R&&(group_outros(),transition_out(R,1,1,()=>{R=null}),check_outros())},i(B){D||(transition_in(R),D=!0)},o(B){transition_out(R),D=!1},d(B){B&&detach(t),R&&R.d(),O=!1,run_all(F)}}}function create_if_block_7$2(e){let t,r,o,l,h,y,D,O,F,R=e[6].length>0&&create_if_block_8$1(e);return{c(){t=element("div"),r=element("textarea"),l=space(),h=element("div"),y=element("div"),R&&R.c(),attr(r,"rows","3"),attr(r,"id","inputUser"),attr(r,"maxlength",o=e[5].a.a[0]),attr(r,"class","userFieldInput svelte-w49pdy"),attr(r,"type","text"),attr(r,"autocomplete","off"),attr(r,"placeholder","Dites nous tout..."),set_style(y,"width","100%"),attr(h,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(t,"class","userBtnInput d-flex flex-row justify-content-around align-items-center p-2 mx-auto svelte-w49pdy")},m(B,j){insert(B,t,j),append(t,r),set_input_value(r,e[6]),append(t,l),append(t,h),append(h,y),R&&R.m(y,null),D=!0,O||(F=[listen(r,"keydown",e[19]),listen(r,"input",e[20]),listen(h,"click",e[21])],O=!0)},p(B,j){(!D||j[0]&32&&o!==(o=B[5].a.a[0]))&&attr(r,"maxlength",o),j[0]&64&&set_input_value(r,B[6]),B[6].length>0?R?(R.p(B,j),j[0]&64&&transition_in(R,1)):(R=create_if_block_8$1(B),R.c(),transition_in(R,1),R.m(y,null)):R&&(group_outros(),transition_out(R,1,1,()=>{R=null}),check_outros())},i(B){D||(transition_in(R),D=!0)},o(B){transition_out(R),D=!1},d(B){B&&detach(t),R&&R.d(),O=!1,run_all(F)}}}function create_if_block_6$2(e){let t,r,o,l,h,y,D=e[5].a.a[2]+"",O,F,R,B,j,U,q,W,G,Y;return{c(){t=element("div"),r=element("input"),h=space(),y=element("div"),O=text(D),F=space(),R=element("input"),U=space(),q=element("div"),W=element("div"),attr(r,"id","numRan"),attr(r,"class","userFieldInput svelte-w49pdy"),set_style(r,"max-width","50%"),attr(r,"min",o=e[5].a.a[0]),attr(r,"max",l=e[5].a.a[1]),attr(r,"type","number"),attr(y,"class","ml-1 mr-2 text-left"),attr(R,"id","inputUser"),attr(R,"class","mx-1 flex-grow-1 userFieldInput form-range svelte-w49pdy"),attr(R,"type","range"),attr(R,"min",B=e[5].a.a[0]),attr(R,"max",j=e[5].a.a[1]),attr(W,"class","sendCircle svelte-w49pdy"),set_style(W,"background-color",e[7]),attr(q,"class","p-1"),attr(t,"class","userBtnInput py-3 m-auto d-flex flex-wrap flex-row justify-content-around align-items-center svelte-w49pdy")},m(K,X){insert(K,t,X),append(t,r),set_input_value(r,e[6]),append(t,h),append(t,y),append(y,O),append(t,F),append(t,R),set_input_value(R,e[6]),append(t,U),append(t,q),append(q,W),G||(Y=[listen(r,"input",e[16]),listen(R,"change",e[17]),listen(R,"input",e[17]),listen(q,"click",e[18])],G=!0)},p(K,X){X[0]&32&&o!==(o=K[5].a.a[0])&&attr(r,"min",o),X[0]&32&&l!==(l=K[5].a.a[1])&&attr(r,"max",l),X[0]&64&&to_number(r.value)!==K[6]&&set_input_value(r,K[6]),X[0]&32&&D!==(D=K[5].a.a[2]+"")&&set_data(O,D),X[0]&32&&B!==(B=K[5].a.a[0])&&attr(R,"min",B),X[0]&32&&j!==(j=K[5].a.a[1])&&attr(R,"max",j),X[0]&64&&set_input_value(R,K[6]),X[0]&128&&set_style(W,"background-color",K[7])},i:noop$2,o:noop$2,d(K){K&&detach(t),G=!1,run_all(Y)}}}function create_if_block_5$2(e){let t=[],r=new Map,o,l,h,y,D,O,F=e[5].a.a;const R=B=>B[41];for(let B=0;B<F.length;B+=1){let j=get_each_context_1$5(e,F,B),U=R(j);r.set(U,t[B]=create_each_block_1$5(U,j))}return{c(){for(let B=0;B<t.length;B+=1)t[B].c();o=space(),l=element("div"),h=element("div"),y=text("Envoyer"),attr(h,"class","userBtnInput svelte-w49pdy"),set_style(h,"background-color",e[7]),set_style(h,"color","white"),attr(l,"class","p-2")},m(B,j){for(let U=0;U<t.length;U+=1)t[U].m(B,j);insert(B,o,j),insert(B,l,j),append(l,h),append(h,y),D||(O=listen(h,"click",e[15]),D=!0)},p(B,j){j[0]&224&&(F=B[5].a.a,t=update_keyed_each(t,j,R,1,B,F,r,o.parentNode,destroy_block,create_each_block_1$5,o,get_each_context_1$5)),j[0]&128&&set_style(h,"background-color",B[7])},i:noop$2,o:noop$2,d(B){for(let j=0;j<t.length;j+=1)t[j].d(B);B&&detach(o),B&&detach(l),D=!1,O()}}}function create_if_block_2$5(e){let t,r,o,l=e[5].a.a,h=[];for(let D=0;D<l.length;D+=1)h[D]=create_each_block$5(get_each_context$5(e,l,D));let y=e[5].a.o==!0&&create_if_block_3$4(e);return{c(){for(let D=0;D<h.length;D+=1)h[D].c();t=space(),y&&y.c(),r=empty()},m(D,O){for(let F=0;F<h.length;F+=1)h[F].m(D,O);insert(D,t,O),y&&y.m(D,O),insert(D,r,O),o=!0},p(D,O){if(O[0]&544){l=D[5].a.a;let F;for(F=0;F<l.length;F+=1){const R=get_each_context$5(D,l,F);h[F]?h[F].p(R,O):(h[F]=create_each_block$5(R),h[F].c(),h[F].m(t.parentNode,t))}for(;F<h.length;F+=1)h[F].d(1);h.length=l.length}D[5].a.o==!0?y?(y.p(D,O),O[0]&32&&transition_in(y,1)):(y=create_if_block_3$4(D),y.c(),transition_in(y,1),y.m(r.parentNode,r)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(D){o||(transition_in(y),o=!0)},o(D){transition_out(y),o=!1},d(D){destroy_each(h,D),D&&detach(t),y&&y.d(D),D&&detach(r)}}}function create_if_block_10(e){let t,r,o,l;return{c(){t=element("div"),attr(t,"class","sendCircle svelte-w49pdy"),set_style(t,"background-color",e[7])},m(h,y){insert(h,t,y),l=!0},p(h,y){(!l||y[0]&128)&&set_style(t,"background-color",h[7])},i(h){l||(add_render_callback(()=>{o&&o.end(1),r=create_in_transition(t,fly,{x:10,duration:400}),r.start()}),l=!0)},o(h){r&&r.invalidate(),o=create_out_transition(t,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(t),h&&o&&o.end()}}}function create_if_block_8$1(e){let t,r,o,l;return{c(){t=element("div"),attr(t,"class","sendCircle svelte-w49pdy"),set_style(t,"background-color",e[7])},m(h,y){insert(h,t,y),l=!0},p(h,y){(!l||y[0]&128)&&set_style(t,"background-color",h[7])},i(h){l||(add_render_callback(()=>{o&&o.end(1),r=create_in_transition(t,fly,{x:10,duration:400}),r.start()}),l=!0)},o(h){r&&r.invalidate(),o=create_out_transition(t,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(t),h&&o&&o.end()}}}function create_each_block_1$5(e,t){let r,o,l=t[37]+"",h,y,D,O;function F(){return t[14](t[37],t[41])}return{key:e,first:null,c(){r=element("div"),o=element("div"),h=text(l),attr(o,"id",y="choix"+t[41].toString()),attr(o,"class","userBtnInput svelte-w49pdy"),attr(r,"class","p-2"),this.first=r},m(R,B){insert(R,r,B),append(r,o),append(o,h),D||(O=listen(o,"click",F),D=!0)},p(R,B){t=R,B[0]&32&&l!==(l=t[37]+"")&&set_data(h,l),B[0]&32&&y!==(y="choix"+t[41].toString())&&attr(o,"id",y)},d(R){R&&detach(r),D=!1,O()}}}function create_each_block$5(e){let t,r,o=e[37]+"",l,h,y;function D(){return e[11](e[37])}return{c(){t=element("div"),r=element("div"),l=text(o),attr(r,"class","userBtnInput svelte-w49pdy"),attr(t,"class","p-2")},m(O,F){insert(O,t,F),append(t,r),append(r,l),h||(y=listen(r,"click",D),h=!0)},p(O,F){e=O,F[0]&32&&o!==(o=e[37]+"")&&set_data(l,o)},d(O){O&&detach(t),h=!1,y()}}}function create_if_block_3$4(e){let t,r,o,l,h,y,D,O,F,R=e[6].length>0&&create_if_block_4$3(e);return{c(){t=element("div"),r=element("div"),o=element("input"),l=space(),h=element("div"),y=element("div"),R&&R.c(),attr(o,"class","userFieldInput svelte-w49pdy"),attr(o,"placeholder","Autre..."),attr(o,"maxlength","20"),set_style(y,"width","100%"),attr(r,"class","userBtnInput d-flex align-items-center justify-content-around svelte-w49pdy"),attr(t,"class","p-2")},m(B,j){insert(B,t,j),append(t,r),append(r,o),set_input_value(o,e[6]),append(r,l),append(r,h),append(h,y),R&&R.m(y,null),D=!0,O||(F=[listen(o,"input",e[12]),listen(h,"click",e[13])],O=!0)},p(B,j){j[0]&64&&o.value!==B[6]&&set_input_value(o,B[6]),B[6].length>0?R?(R.p(B,j),j[0]&64&&transition_in(R,1)):(R=create_if_block_4$3(B),R.c(),transition_in(R,1),R.m(y,null)):R&&(group_outros(),transition_out(R,1,1,()=>{R=null}),check_outros())},i(B){D||(transition_in(R),D=!0)},o(B){transition_out(R),D=!1},d(B){B&&detach(t),R&&R.d(),O=!1,run_all(F)}}}function create_if_block_4$3(e){let t,r,o,l;return{c(){t=element("div"),attr(t,"class","sendCircle svelte-w49pdy"),set_style(t,"background-color",e[7])},m(h,y){insert(h,t,y),l=!0},p(h,y){(!l||y[0]&128)&&set_style(t,"background-color",h[7])},i(h){l||(add_render_callback(()=>{o&&o.end(1),r=create_in_transition(t,fly,{x:10,duration:400}),r.start()}),l=!0)},o(h){r&&r.invalidate(),o=create_out_transition(t,fly,{x:10,duration:400}),l=!1},d(h){h&&detach(t),h&&o&&o.end()}}}function create_if_block$a(e){let t;return{c(){t=element("div"),t.innerHTML='<lottie-player src="https://assets3.lottiefiles.com/packages/lf20_gn1xm5dh.json" background="transparent" speed="1" style="height:150px; max-width:200px; margin:auto;" autoplay=""></lottie-player>',set_style(t,"min-height","100px"),set_style(t,"margin","auto")},m(r,o){insert(r,t,o)},d(r){r&&detach(t)}}}function create_fragment$f(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W=[],G=new Map,Y,K,X,J,Q=e[1];const et=it=>it[41];for(let it=0;it<Q.length;it+=1){let rt=get_each_context_2(e,Q,it),tt=et(rt);G.set(tt,W[it]=create_each_block_2(tt,rt))}let nt=e[3]&&!e[4]&&create_if_block_1$7(e),Z=e[4]&&create_if_block$a();return{c(){t=element("div"),r=element("div"),o=element("div"),l=element("div"),h=element("img"),D=space(),O=element("div"),F=text(e[2]),R=text("%"),B=space(),j=element("div"),U=element("div"),q=element("div");for(let it=0;it<W.length;it+=1)W[it].c();Y=space(),K=element("div"),nt&&nt.c(),X=space(),Z&&Z.c(),src_url_equal(h.src,y=e[0].logo.toString().includes("https")?e[0].logo:"/assets/favicon.ico")||attr(h,"src",y),set_style(h,"height","30px"),attr(h,"alt","logo r\xE9tine"),attr(l,"class","p-3"),set_style(l,"font-family","Lexend"),set_style(l,"font-size","1.2rem"),set_style(l,"font-weight","600"),attr(O,"id","pourcentageAdv"),attr(O,"class","svelte-w49pdy"),attr(o,"class","w-100 d-flex align-items-center justify-content-between"),set_style(o,"background-color","transparent"),attr(q,"id","messageFeed"),attr(q,"class","h-100 p-2 d-flex flex-column justify-content-start"),set_style(U,"background-color","transparent"),attr(K,"class","w-100"),set_style(K,"min-height","100px"),attr(j,"class","h-100 d-flex flex-column justify-content-between scrollbehavior svelte-w49pdy"),set_style(j,"overflow-y","scroll"),set_style(j,"scroll-behavior","smooth"),attr(r,"class","h-100 w-100 d-flex flex-column justify-content-between m-auto"),attr(t,"class","d-flex align-content-center flex-column h-100 w-100"),set_style(t,"height","-webkit-fill-available")},m(it,rt){insert(it,t,rt),append(t,r),append(r,o),append(o,l),append(l,h),append(o,D),append(o,O),append(O,F),append(O,R),append(r,B),append(r,j),append(j,U),append(U,q);for(let tt=0;tt<W.length;tt+=1)W[tt].m(q,null);append(j,Y),append(j,K),nt&&nt.m(K,null),append(K,X),Z&&Z.m(K,null),e[29](j),J=!0},p(it,rt){(!J||rt[0]&1&&!src_url_equal(h.src,y=it[0].logo.toString().includes("https")?it[0].logo:"/assets/favicon.ico"))&&attr(h,"src",y),(!J||rt[0]&4)&&set_data(F,it[2]),rt[0]&130&&(Q=it[1],W=update_keyed_each(W,rt,et,1,it,Q,G,q,destroy_block,create_each_block_2,null,get_each_context_2)),it[3]&&!it[4]?nt?(nt.p(it,rt),rt[0]&24&&transition_in(nt,1)):(nt=create_if_block_1$7(it),nt.c(),transition_in(nt,1),nt.m(K,X)):nt&&(group_outros(),transition_out(nt,1,1,()=>{nt=null}),check_outros()),it[4]?Z||(Z=create_if_block$a(),Z.c(),Z.m(K,null)):Z&&(Z.d(1),Z=null)},i(it){if(!J){for(let rt=0;rt<Q.length;rt+=1)transition_in(W[rt]);transition_in(nt),J=!0}},o(it){transition_out(nt),J=!1},d(it){it&&detach(t);for(let rt=0;rt<W.length;rt+=1)W[rt].d();nt&&nt.d(),Z&&Z.d(),e[29](null)}}}function instance$e(e,t,r){let{chatContent:o}=t,{scode:l="demo"}=t,h=[],y=0,D=[],O=!1,F=!1,R,B="",j,U;function q(){setTimeout(()=>{r(8,U.scrollTop=U.scrollHeight,U)},400)}function W(pt){r(6,B=""),r(5,R=o.jsonContent[pt]),r(1,h=[...h,[R.q,"question"]]),r(3,O=!0),q()}W(0);function G(pt,mt){r(3,O=!1);let gt=pt;mt.a.type=="num"&&(gt=pt.toString()+mt.a.a[2]),r(1,h=[...h,[gt,"reponse"]]);let xt=Math.round((parseInt(o.jsonContent.indexOf(mt))+1)/(o.jsonContent.length-1)*100);J(y,xt),D.push({n:mt.idr,t:mt.a.type,a:pt});let kt=o.jsonContent.indexOf(mt)+1;setTimeout(()=>{o.jsonContent[kt].idr=="end"&&(r(4,F=!0),Y()),W(kt),U.scrollTo(0,U.scrollHeight)},500)}async function Y(){if(l!="demo"){var pt=JSON.stringify({client_info:JSON.stringify(navigator.userAgent),jsonContent:JSON.stringify(D)}),mt=new Headers;return mt.append("Content-Type","application/json"),fetch(`${rtnUrl}rep/${l}/`,{method:"POST",headers:mt,body:pt,redirect:"follow"}).then(gt=>gt.text()).then(gt=>{console.log(gt),setTimeout(()=>{r(4,F=!0),q()},100)}).catch(gt=>{throw new Error(gt)})}r(4,F=!0),q()}const K=Math.round(2e3/17),X=pt=>pt*(2-pt),J=(pt,mt)=>{let gt=pt;const xt=mt,kt=setInterval(()=>{gt++;const Pt=X(gt/K),St=Math.round(xt*Pt);mt+1!==St&&St>pt&&r(2,y=St),gt===K&&clearInterval(kt)},17)},Q=pt=>{G(pt,R)};function et(){B=this.value,r(6,B)}const nt=()=>{B!=""&&G(B,R)},Z=(pt,mt)=>{B.split(" ; ").includes(pt)?(document.getElementById("choix"+mt.toString()).style.border="0px solid transparent",r(6,B=B.replace(pt+" ; ",""))):(document.getElementById("choix"+mt.toString()).style.border=`3px solid ${j}`,r(6,B+=pt+" ; "))},it=pt=>{B!=""&&G(B.slice(0,B.length-3),R)};function rt(){B=to_number(this.value),r(6,B)}function tt(){B=to_number(this.value),r(6,B)}const ct=()=>{B.toString()!=""&&B>=R.a.a[0]&&B<=R.a.a[1]&&G(B.toString(),R)},lt=pt=>{pt.key==="Enter"&&B!=""&&G(B,R)};function ot(){B=this.value,r(6,B)}const dt=()=>{B!=""&&G(B,R)},ut=pt=>{r(6,B=pt.target.value)},at=()=>{B!=""&&G(B,R)},st=()=>G("\u2B50\u2B50\u2B50\u2B50\u2B50",R),ht=()=>G("\u2B50\u2B50\u2B50\u2B50",R),_t=()=>G("\u2B50\u2B50\u2B50",R),yt=()=>G("\u2B50\u2B50",R),ft=()=>G("\u2B50",R);function vt(pt){binding_callbacks[pt?"unshift":"push"](()=>{U=pt,r(8,U)})}return e.$$set=pt=>{"chatContent"in pt&&r(0,o=pt.chatContent),"scode"in pt&&r(10,l=pt.scode)},e.$$.update=()=>{e.$$.dirty[0]&1&&r(7,j=o.color==null?"#6219D8":o.color)},[o,h,y,O,F,R,B,j,U,G,l,Q,et,nt,Z,it,rt,tt,ct,lt,ot,dt,ut,at,st,ht,_t,yt,ft,vt]}class Chat extends SvelteComponent{constructor(t){super(),init(this,t,instance$e,create_fragment$f,safe_not_equal,{chatContent:0,scode:10},null,[-1,-1])}}var modalTemplateLoad_svelte_svelte_type_style_lang="";function get_each_context$4(e,t,r){const o=e.slice();return o[14]=t[r],o[16]=r,o}function get_each_context_1$4(e,t,r){const o=e.slice();return o[17]=t[r],o[19]=r,o}function create_catch_block$6(e){let t,r=e[20]+"",o;return{c(){t=element("div"),o=text(r)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&1&&r!==(r=l[20]+"")&&set_data(o,r)},i:noop$2,o:noop$2,d(l){l&&detach(t)}}}function create_then_block$6(e){let t,r=[...new Set(e[13].map(func$3))],o=[];for(let l=0;l<r.length;l+=1)o[l]=create_each_block$4(get_each_context$4(e,r,l));return{c(){t=element("div");for(let l=0;l<o.length;l+=1)o[l].c();attr(t,"class","templateZone svelte-1rpwylw")},m(l,h){insert(l,t,h);for(let y=0;y<o.length;y+=1)o[y].m(t,null)},p(l,h){if(h&5){r=[...new Set(l[13].map(func$3))];let y;for(y=0;y<r.length;y+=1){const D=get_each_context$4(l,r,y);o[y]?(o[y].p(D,h),transition_in(o[y],1)):(o[y]=create_each_block$4(D),o[y].c(),transition_in(o[y],1),o[y].m(t,null))}for(;y<o.length;y+=1)o[y].d(1);o.length=r.length}},i(l){for(let h=0;h<r.length;h+=1)transition_in(o[h])},o:noop$2,d(l){l&&detach(t),destroy_each(o,l)}}}function create_if_block$9(e){let t,r,o=e[14]+"",l;return{c(){t=element("div"),r=element("h5"),l=text(o),attr(t,"class","mb-1 mt-2 border-bottom")},m(h,y){insert(h,t,y),append(t,r),append(r,l)},p(h,y){y&1&&o!==(o=h[14]+"")&&set_data(l,o)},d(h){h&&detach(t)}}}function create_each_block_1$4(e){let t,r,o,l=e[17].nom_proj+"",h,y,D,O,F;function R(){return e[8](e[17])}return{c(){t=element("div"),r=element("div"),o=text("\u27A1\uFE0F "),h=text(l),y=space(),attr(r,"class","templateBtn svelte-1rpwylw")},m(B,j){insert(B,t,j),append(t,r),append(r,o),append(r,h),append(t,y),O||(F=listen(r,"click",R),O=!0)},p(B,j){e=B,j&1&&l!==(l=e[17].nom_proj+"")&&set_data(h,l)},i(B){D||add_render_callback(()=>{D=create_in_transition(t,fly,{x:-20,delay:e[19]*100}),D.start()})},o:noop$2,d(B){B&&detach(t),O=!1,F()}}}function create_each_block$4(e){let t,r,o=e[14]!=null&&create_if_block$9(e);function l(...D){return e[7](e[14],...D)}let h=e[13].filter(l),y=[];for(let D=0;D<h.length;D+=1)y[D]=create_each_block_1$4(get_each_context_1$4(e,h,D));return{c(){o&&o.c(),t=space();for(let D=0;D<y.length;D+=1)y[D].c();r=empty()},m(D,O){o&&o.m(D,O),insert(D,t,O);for(let F=0;F<y.length;F+=1)y[F].m(D,O);insert(D,r,O)},p(D,O){if(e=D,e[14]!=null?o?o.p(e,O):(o=create_if_block$9(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),O&5){h=e[13].filter(l);let F;for(F=0;F<h.length;F+=1){const R=get_each_context_1$4(e,h,F);y[F]?(y[F].p(R,O),transition_in(y[F],1)):(y[F]=create_each_block_1$4(R),y[F].c(),transition_in(y[F],1),y[F].m(r.parentNode,r))}for(;F<y.length;F+=1)y[F].d(1);y.length=h.length}},i(D){for(let O=0;O<h.length;O+=1)transition_in(y[O])},o:noop$2,d(D){o&&o.d(D),D&&detach(t),destroy_each(y,D),D&&detach(r)}}}function create_pending_block$6(e){let t;return{c(){t=element("div"),t.textContent="Chargement des mod\xE8les...",attr(t,"class","d-flex justify-content-center align-items-center"),set_style(t,"min-height","400px")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_fragment$e(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$6,then:create_then_block$6,catch:create_catch_block$6,value:13,error:20};return handle_promise(q=e[0],et),{c(){t=element("div"),r=element("div"),o=element("h2"),o.textContent="\u{1F4DA} Mod\xE8les de sondage",l=space(),h=element("div"),y=element("div"),y.textContent="Mes sondages",D=space(),O=element("div"),O.textContent="Mod\xE8les",F=space(),R=element("div"),B=element("div"),B.innerHTML=`<div class="lightbulb svelte-1rpwylw">\u{1F4A1}</div> 
        <div>Cliquer sur un de vos sondages ci-dessous g\xE9n\xE8re une <u>copie</u> de celui-ci.</div>`,U=space(),et.block.c(),W=space(),G=element("div"),Y=element("button"),Y.textContent="Close",attr(o,"class","mb-4 svelte-1rpwylw"),attr(y,"id","sondagesBtn"),attr(y,"class","headerBtn active svelte-1rpwylw"),attr(O,"id","modelsBtn"),attr(O,"class","headerBtn svelte-1rpwylw"),attr(h,"class","headerBtns svelte-1rpwylw"),attr(B,"class","infoTile svelte-1rpwylw"),attr(R,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-1 my-2"),attr(Y,"class","svelte-1rpwylw"),attr(G,"class","actions svelte-1rpwylw"),attr(r,"class","contents svelte-1rpwylw"),attr(t,"role","dialog"),attr(t,"class","modal svelte-1rpwylw")},m(nt,Z){insert(nt,t,Z),append(t,r),append(r,o),append(r,l),append(r,h),append(h,y),append(h,D),append(h,O),append(r,F),append(r,R),append(R,B),append(r,U),et.block.m(r,et.anchor=null),et.mount=()=>r,et.anchor=W,append(r,W),append(r,G),append(G,Y),X=!0,J||(Q=[listen(y,"click",e[1]),listen(O,"click",e[1]),listen(Y,"click",closeModal),listen(t,"introstart",e[5]),listen(t,"outroend",e[6])],J=!0)},p(nt,[Z]){e=nt,et.ctx=e,Z&1&&q!==(q=e[0])&&handle_promise(q,et)||update_await_block_branch(et,e,Z)},i(nt){X||(j||add_render_callback(()=>{j=create_in_transition(B,fly,{y:30,delay:400}),j.start()}),transition_in(et.block),add_render_callback(()=>{K||(K=create_bidirectional_transition(t,fly,{y:50},!0)),K.run(1)}),X=!0)},o(nt){K||(K=create_bidirectional_transition(t,fly,{y:50},!1)),K.run(0),X=!1},d(nt){nt&&detach(t),et.block.d(),et.token=null,et=null,nt&&K&&K.end(),J=!1,run_all(Q)}}}const func$3=e=>e.category;function instance$d(e,t,r){let{sondageEnCreation:o}=t,{updateFun:l}=t,h=!1,y;async function D(){var G=new Headers;G.append("Authorization","Token "+xxgc("rtnt")),G.append("Content-Type","application/json");var Y={method:"GET",headers:G,redirect:"follow"};return fetch(rtnUrl+"templates/",Y).then(K=>K.text()).then(K=>JSON.parse(K)).catch(K=>K)}async function O(){var G=new Headers;G.append("Authorization","Token "+xxgc("rtnt")),G.append("Content-Type","application/json");var Y={method:"GET",headers:G,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",Y).then(K=>K.text()).then(K=>JSON.parse(K)).catch(K=>K)}let F=O();function R(G){G.target.classList.contains("active")||(document.querySelectorAll(".headerBtn").forEach(function(Y){Y.classList.remove("active")}),G.target.classList.add("active"),G.target.id=="modelsBtn"?(r(0,F=D()),h=!0):G.target.id=="sondagesBtn"&&(r(0,F=O()),F.then(Y=>{y=Y}),h=!1))}const B=async G=>{if(h){async function Y(){var X=new Headers;return X.append("Authorization","Token "+xxgc("rtnt")),X.append("Content-Type","application/json"),fetch(`${rtnUrl}templates/${G}/`,{method:"GET",headers:X,redirect:"follow"}).then(J=>J.text()).then(J=>JSON.parse(J)).catch(J=>J)}let K=await Y();K.jsonContent=JSON.parse(K.jsonContent),r(3,o=K)}else{let Y=y.find(K=>K.id==G);console.log(Y),Y.jsonContent=JSON.parse(Y.jsonContent),r(3,o=Y)}closeModal(),l()};function j(G){bubble.call(this,e,G)}function U(G){bubble.call(this,e,G)}const q=(G,Y)=>Y.category==G,W=G=>B(G.id);return e.$$set=G=>{"sondageEnCreation"in G&&r(3,o=G.sondageEnCreation),"updateFun"in G&&r(4,l=G.updateFun)},[F,R,B,o,l,j,U,q,W]}class ModalTemplateLoad extends SvelteComponent{constructor(t){super(),init(this,t,instance$d,create_fragment$e,safe_not_equal,{sondageEnCreation:3,updateFun:4})}}var modalDesignSond_svelte_svelte_type_style_lang="";function create_if_block$8(e){let t,r,o;return{c(){t=element("div"),t.textContent="\u274C",attr(t,"class","delImg svelte-1sl0u45")},m(l,h){insert(l,t,h),r||(o=listen(t,"click",e[2]),r=!0)},p:noop$2,d(l){l&&detach(t),r=!1,o()}}}function create_fragment$d(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z,it,rt,tt=e[0].logo!=""&&create_if_block$8(e);return{c(){t=element("div"),r=element("div"),o=element("h4"),o.textContent="\u{1F3A8} Design du sondage",l=space(),h=element("div"),y=element("div"),D=element("div"),D.textContent="Couleur primaire :",O=space(),F=element("input"),R=space(),B=element("div"),j=element("div"),j.textContent="Logo du sondage :",U=space(),q=element("div"),W=element("label"),G=element("div"),Y=space(),tt&&tt.c(),K=space(),X=element("input"),J=space(),Q=element("div"),et=element("button"),et.textContent="Fermer",attr(o,"class","mb-4 text-center"),attr(D,"class","mr-3"),attr(F,"class","colorIO svelte-1sl0u45"),attr(F,"type","color"),attr(y,"class","designcomp p-3 m-2 d-flex align-items-center justify-content-around svelte-1sl0u45"),attr(j,"class","mr-3"),attr(G,"class","imgLoader svelte-1sl0u45"),set_style(G,"background-image","url("+(e[0].logo==""?"assets/icons/placeholder.png":e[0].logo)+")"),attr(W,"class","m-0"),attr(W,"for","logosond"),set_style(X,"display","none"),attr(X,"id","logosond"),attr(X,"type","file"),attr(X,"enctype","multipart/form-data"),attr(B,"class","designcomp p-3 m-2 d-flex align-items-center justify-content-around svelte-1sl0u45"),attr(h,"class","container py-2 px-3 text-center"),attr(et,"class","svelte-1sl0u45"),attr(Q,"class","actions svelte-1sl0u45"),attr(r,"class","contents svelte-1sl0u45"),attr(t,"role","dialog"),attr(t,"class","modal svelte-1sl0u45")},m(ct,lt){insert(ct,t,lt),append(t,r),append(r,o),append(r,l),append(r,h),append(h,y),append(y,D),append(y,O),append(y,F),set_input_value(F,e[0].color),append(h,R),append(h,B),append(B,j),append(B,U),append(B,q),append(q,W),append(W,G),append(q,Y),tt&&tt.m(q,null),append(q,K),append(q,X),append(r,J),append(r,Q),append(Q,et),Z=!0,it||(rt=[listen(F,"input",e[6]),listen(X,"change",e[1]),listen(et,"click",closeModal),listen(t,"introstart",e[4]),listen(t,"outroend",e[5])],it=!0)},p(ct,[lt]){lt&1&&set_input_value(F,ct[0].color),(!Z||lt&1)&&set_style(G,"background-image","url("+(ct[0].logo==""?"assets/icons/placeholder.png":ct[0].logo)+")"),ct[0].logo!=""?tt?tt.p(ct,lt):(tt=create_if_block$8(ct),tt.c(),tt.m(q,K)):tt&&(tt.d(1),tt=null)},i(ct){Z||(add_render_callback(()=>{nt||(nt=create_bidirectional_transition(t,fly,{y:50},!0)),nt.run(1)}),Z=!0)},o(ct){nt||(nt=create_bidirectional_transition(t,fly,{y:50},!1)),nt.run(0),Z=!1},d(ct){ct&&detach(t),tt&&tt.d(),ct&&nt&&nt.end(),it=!1,run_all(rt)}}}function instance$c(e,t,r){let{sondageEnCreation:o}=t,{updateFun:l}=t;const h=R=>{if(R.target.files[0].size>1048576){alert("Fichier trop volumineux! Veuillez s\xE9l\xE9ctionner une image de moins de 1Mo."),R.target.value="";return}r(0,o.logo=R.target.files[0],o),l()},y=()=>{r(0,o.logo="",o),l()};function D(R){bubble.call(this,e,R)}function O(R){bubble.call(this,e,R)}function F(){o.color=this.value,r(0,o)}return e.$$set=R=>{"sondageEnCreation"in R&&r(0,o=R.sondageEnCreation),"updateFun"in R&&r(3,l=R.updateFun)},[o,h,y,l,D,O,F]}class ModalDesignSond extends SvelteComponent{constructor(t){super(),init(this,t,instance$c,create_fragment$d,safe_not_equal,{sondageEnCreation:0,updateFun:3})}}function flip(e,{from:t,to:r},o={}){const l=getComputedStyle(e),h=l.transform==="none"?"":l.transform,[y,D]=l.transformOrigin.split(" ").map(parseFloat),O=t.left+t.width*y/r.width-(r.left+y),F=t.top+t.height*D/r.height-(r.top+D),{delay:R=0,duration:B=U=>Math.sqrt(U)*120,easing:j=cubicOut}=o;return{delay:R,duration:is_function(B)?B(Math.sqrt(O*O+F*F)):B,easing:j,css:(U,q)=>{const W=q*O,G=q*F,Y=U+q*t.width/r.width,K=U+q*t.height/r.height;return`transform: ${h} translate(${W}px, ${G}px) scale(${Y}, ${K});`}}}var shortUniqueId={exports:{}};(function(e){var t=(()=>{var r=Object.defineProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,y=(G,Y,K)=>Y in G?r(G,Y,{enumerable:!0,configurable:!0,writable:!0,value:K}):G[Y]=K,D=(G,Y)=>{for(var K in Y||(Y={}))l.call(Y,K)&&y(G,K,Y[K]);if(o)for(var K of o(Y))h.call(Y,K)&&y(G,K,Y[K]);return G},O=G=>r(G,"__esModule",{value:!0}),F=(G,Y)=>{O(G);for(var K in Y)r(G,K,{get:Y[K],enumerable:!0})},R={};F(R,{DEFAULT_UUID_LENGTH:()=>j,default:()=>W});var B="4.4.4",j=6,U={dictionary:"alphanum",shuffle:!0,debug:!1,length:j},q=class extends Function{constructor(G={}){super(),this.dictIndex=0,this.dictRange=[],this.lowerBound=0,this.upperBound=0,this.dictLength=0,this._digit_first_ascii=48,this._digit_last_ascii=58,this._alpha_lower_first_ascii=97,this._alpha_lower_last_ascii=123,this._hex_last_ascii=103,this._alpha_upper_first_ascii=65,this._alpha_upper_last_ascii=91,this._number_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii]},this._alpha_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alpha_lower_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alpha_upper_dict_ranges={upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_lower_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alphanum_upper_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._hex_dict_ranges={decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]},this.log=(...Q)=>{const et=[...Q];if(et[0]=`[short-unique-id] ${Q[0]}`,this.debug===!0&&typeof console!="undefined"&&console!==null)return console.log(...et)},this.setDictionary=(Q,et)=>{let nt;if(Q&&Array.isArray(Q)&&Q.length>1)nt=Q;else{nt=[];let Z;this.dictIndex=Z=0;const it=`_${Q}_dict_ranges`,rt=this[it];Object.keys(rt).forEach(tt=>{const ct=tt;for(this.dictRange=rt[ct],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=Z=this.lowerBound;this.lowerBound<=this.upperBound?Z<this.upperBound:Z>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?Z+=1:Z-=1)nt.push(String.fromCharCode(this.dictIndex))})}et&&(nt=nt.sort(()=>Math.random()-.5)),this.dict=nt,this.dictLength=this.dict.length,this.counter=0},this.seq=()=>this.sequentialUUID(),this.sequentialUUID=()=>{let Q,et,nt="";Q=this.counter;do et=Q%this.dictLength,Q=Math.trunc(Q/this.dictLength),nt+=this.dict[et];while(Q!==0);return this.counter+=1,nt},this.randomUUID=(Q=this.uuidLength||j)=>{let et,nt,Z;if(Q===null||typeof Q=="undefined"||Q<1)throw new Error("Invalid UUID Length Provided");for(et="",Z=0;Z<Q;Z+=1)nt=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,et+=this.dict[nt];return et},this.availableUUIDs=(Q=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,Q).toFixed(0)),this.approxMaxBeforeCollision=(Q=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*Q).toFixed(20)),this.collisionProbability=(Q=this.availableUUIDs(this.uuidLength),et=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(Q)/this.availableUUIDs(et)).toFixed(20)),this.uniqueness=(Q=this.availableUUIDs(this.uuidLength))=>{const et=parseFloat((1-this.approxMaxBeforeCollision(Q)/Q).toFixed(20));return et>1?1:et<0?0:et},this.getVersion=()=>this.version,this.stamp=Q=>{if(typeof Q!="number"||Q<10)throw new Error("Param finalLength must be number greater than 10");const et=Math.floor(+new Date/1e3).toString(16),nt=Q-9,Z=Math.round(Math.random()*(nt>15?15:nt)),it=this.randomUUID(nt);return`${it.substr(0,Z)}${et}${it.substr(Z)}${Z.toString(16)}`},this.parseStamp=Q=>{if(Q.length<10)throw new Error("Stamp length invalid");const et=parseInt(Q.substr(Q.length-1,1),16);return new Date(parseInt(Q.substr(et,8),16)*1e3)};const Y=D(D({},U),G);this.counter=0,this.debug=!1,this.dict=[],this.version=B;const{dictionary:K,shuffle:X,length:J}=Y;return this.uuidLength=J,this.setDictionary(K,X),this.debug=Y.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength}`),new Proxy(this,{apply:(Q,et,nt)=>this.randomUUID(...nt)})}},W=q;return W.default=q,R})();e.exports=t.default,typeof window!="undefined"&&(t=t.default)})(shortUniqueId);var ShortUniqueId=getDefaultExportFromCjs(shortUniqueId.exports),modalCellEdit_svelte_svelte_type_style_lang="";function get_each_context_1$3(e,t,r){const o=e.slice();return o[35]=t[r],o}function get_each_context$3(e,t,r){const o=e.slice();return o[35]=t[r],o}function create_if_block_2$4(e){let t,r,o,l,h;const y=[create_if_block_3$3,create_if_block_4$2,create_if_block_5$1,create_if_block_6$1,create_if_block_7$1,create_if_block_8,create_else_block$5],D=[];function O(F,R){return F[0].a.type=="1c"?0:F[0].a.type=="mc"?1:F[0].a.type=="cl"?2:F[0].a.type=="num"?3:F[0].a.type=="cal"?4:F[0].a.type=="5s"?5:6}return r=O(e),o=D[r]=y[r](e),{c(){t=element("div"),o.c(),attr(t,"id","ansWriteZone"),attr(t,"class","pt-2 svelte-1yay8md")},m(F,R){insert(F,t,R),D[r].m(t,null),h=!0},p(F,R){let B=r;r=O(F),r===B?D[r].p(F,R):(group_outros(),transition_out(D[B],1,1,()=>{D[B]=null}),check_outros(),o=D[r],o?o.p(F,R):(o=D[r]=y[r](F),o.c()),transition_in(o,1),o.m(t,null))},i(F){h||(transition_in(o),l||add_render_callback(()=>{l=create_in_transition(t,fly,{y:20}),l.start()}),h=!0)},o(F){transition_out(o),h=!1},d(F){F&&detach(t),D[r].d()}}}function create_else_block$5(e){let t;return{c(){t=text("Error")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_if_block_8(e){let t,r,o,l,h,y;return{c(){t=element("span"),o=space(),l=element("div"),l.textContent="\u2B50 L'utilisateur pourra donner une note de 1 \xE0 5 \xE9toiles."},m(D,O){insert(D,t,O),insert(D,o,O),insert(D,l,O),h||(y=action_destroyer(r=e[7].call(null,t,e[0].a.type)),h=!0)},p(D,O){r&&is_function(r.update)&&O[0]&1&&r.update.call(null,D[0].a.type)},i:noop$2,o:noop$2,d(D){D&&detach(t),D&&detach(o),D&&detach(l),h=!1,y()}}}function create_if_block_7$1(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q;return{c(){t=element("span"),o=space(),l=element("div"),l.textContent="L'utilisateur devra saisir :",h=space(),y=element("input"),D=space(),O=element("label"),O.textContent="une date (format JJ/MM/AAAA)",F=element("br"),R=element("input"),B=space(),j=element("label"),j.textContent="une heure (format HH:MM)",attr(l,"class","my-2"),attr(y,"type","checkbox"),attr(y,"id","datee"),attr(O,"for","datee"),attr(R,"type","checkbox"),attr(R,"id","heuree"),attr(j,"for","heuree")},m(W,G){insert(W,t,G),insert(W,o,G),insert(W,l,G),insert(W,h,G),insert(W,y,G),y.checked=e[0].a.a[0],insert(W,D,G),insert(W,O,G),insert(W,F,G),insert(W,R,G),R.checked=e[0].a.a[1],insert(W,B,G),insert(W,j,G),U||(q=[action_destroyer(r=e[7].call(null,t,e[0].a.type)),listen(y,"change",e[30]),listen(R,"change",e[31])],U=!0)},p(W,G){r&&is_function(r.update)&&G[0]&1&&r.update.call(null,W[0].a.type),G[0]&1&&(y.checked=W[0].a.a[0]),G[0]&1&&(R.checked=W[0].a.a[1])},i:noop$2,o:noop$2,d(W){W&&detach(t),W&&detach(o),W&&detach(l),W&&detach(h),W&&detach(y),W&&detach(D),W&&detach(O),W&&detach(F),W&&detach(R),W&&detach(B),W&&detach(j),U=!1,run_all(q)}}}function create_if_block_6$1(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K;return{c(){t=element("span"),o=space(),l=element("label"),l.textContent="Minimum ",h=element("input"),y=element("br"),D=element("label"),D.textContent=`Maximum\r
            `,O=element("input"),F=element("br"),R=element("label"),R.textContent=`Unit\xE9e\r
            `,B=element("input"),j=element("datalist"),U=element("option"),q=element("option"),W=element("option"),G=element("option"),attr(l,"for","nbMin"),attr(h,"class","fieldQlilnum svelte-1yay8md"),attr(h,"type","number"),attr(h,"id","nbMin"),attr(h,"name","nbMin"),attr(D,"for","nbMax"),attr(O,"class","fieldQlilnum svelte-1yay8md"),attr(O,"type","number"),attr(O,"id","nbMax"),attr(O,"name","nbMax"),attr(R,"for","unitee"),attr(B,"class","fieldQlilnum svelte-1yay8md"),attr(B,"list","unitees"),attr(B,"id","uniteeChoice"),attr(B,"name","choixUnitee"),attr(B,"maxlength","6"),U.__value="$",U.value=U.__value,q.__value="\u20AC",q.value=q.__value,W.__value="kg",W.value=W.__value,G.__value="g",G.value=G.__value,attr(j,"id","unitees")},m(X,J){insert(X,t,J),insert(X,o,J),insert(X,l,J),insert(X,h,J),set_input_value(h,e[0].a.a[0]),insert(X,y,J),insert(X,D,J),insert(X,O,J),set_input_value(O,e[0].a.a[1]),insert(X,F,J),insert(X,R,J),insert(X,B,J),set_input_value(B,e[0].a.a[2]),insert(X,j,J),append(j,U),append(j,q),append(j,W),append(j,G),Y||(K=[action_destroyer(r=e[7].call(null,t,e[0].a.type)),listen(h,"input",e[27]),listen(O,"input",e[28]),listen(B,"input",e[29])],Y=!0)},p(X,J){r&&is_function(r.update)&&J[0]&1&&r.update.call(null,X[0].a.type),J[0]&1&&to_number(h.value)!==X[0].a.a[0]&&set_input_value(h,X[0].a.a[0]),J[0]&1&&to_number(O.value)!==X[0].a.a[1]&&set_input_value(O,X[0].a.a[1]),J[0]&1&&B.value!==X[0].a.a[2]&&set_input_value(B,X[0].a.a[2])},i:noop$2,o:noop$2,d(X){X&&detach(t),X&&detach(o),X&&detach(l),X&&detach(h),X&&detach(y),X&&detach(D),X&&detach(O),X&&detach(F),X&&detach(R),X&&detach(B),X&&detach(j),Y=!1,run_all(K)}}}function create_if_block_5$1(e){let t,r,o,l,h,y,D,O,F,R,B;return{c(){t=element("span"),o=space(),l=element("div"),h=element("label"),h.textContent="Limite de caract\xE8res",y=space(),D=element("input"),O=space(),F=element("div"),F.innerHTML=`<p style="text-align: left; font-size:.9rem" class="svelte-1yay8md">\u{1F4A1} Une IA analysera automatiquement le sentiment d\xE9gag\xE9 par chacune des r\xE9ponses pour \xE9tablir des statistiques visibles sur votre dashboard des
                r\xE9sultats.</p>`,attr(h,"for","nbCaracLimit"),attr(D,"class","fieldQlilnum svelte-1yay8md"),attr(D,"type","number"),attr(D,"id","nbCaracLimit"),attr(D,"name","nbCaracLimit"),attr(D,"min","1"),attr(D,"max","140")},m(j,U){insert(j,t,U),insert(j,o,U),insert(j,l,U),append(l,h),append(l,y),append(l,D),set_input_value(D,e[0].a.a[0]),insert(j,O,U),insert(j,F,U),R||(B=[action_destroyer(r=e[7].call(null,t,e[0].a.type)),listen(D,"input",e[26])],R=!0)},p(j,U){r&&is_function(r.update)&&U[0]&1&&r.update.call(null,j[0].a.type),U[0]&1&&to_number(D.value)!==j[0].a.a[0]&&set_input_value(D,j[0].a.a[0])},i:noop$2,o:noop$2,d(j){j&&detach(t),j&&detach(o),j&&detach(l),j&&detach(O),j&&detach(F),R=!1,run_all(B)}}}function create_if_block_4$2(e){let t,r,o,l,h=[],y=new Map,D,O,F,R,B=e[0].a.a;const j=U=>U[35];for(let U=0;U<B.length;U+=1){let q=get_each_context_1$3(e,B,U),W=j(q);y.set(W,h[U]=create_each_block_1$3(W,q))}return{c(){t=element("input"),r=space(),o=element("span"),o.textContent="\u2795",l=space();for(let U=0;U<h.length;U+=1)h[U].c();D=empty(),attr(t,"class","fieldQlil svelte-1yay8md"),attr(t,"type","text"),attr(t,"placeholder","Choix..."),attr(t,"maxlength","30"),attr(o,"class","miniBtn svelte-1yay8md")},m(U,q){insert(U,t,q),set_input_value(t,e[2]),insert(U,r,q),insert(U,o,q),insert(U,l,q);for(let W=0;W<h.length;W+=1)h[W].m(U,q);insert(U,D,q),O=!0,F||(R=[listen(t,"input",e[23]),listen(t,"keydown",e[24]),listen(o,"click",e[9])],F=!0)},p(U,q){if(q[0]&4&&t.value!==U[2]&&set_input_value(t,U[2]),q[0]&1){B=U[0].a.a,group_outros();for(let W=0;W<h.length;W+=1)h[W].r();h=update_keyed_each(h,q,j,1,U,B,y,D.parentNode,fix_and_outro_and_destroy_block,create_each_block_1$3,D,get_each_context_1$3);for(let W=0;W<h.length;W+=1)h[W].a();check_outros()}},i(U){if(!O){for(let q=0;q<B.length;q+=1)transition_in(h[q]);O=!0}},o(U){for(let q=0;q<h.length;q+=1)transition_out(h[q]);O=!1},d(U){U&&detach(t),U&&detach(r),U&&detach(o),U&&detach(l);for(let q=0;q<h.length;q+=1)h[q].d(U);U&&detach(D),F=!1,run_all(R)}}}function create_if_block_3$3(e){let t,r,o,l,h=[],y=new Map,D,O,F,R,B,j,U,q,W=e[0].a.a;const G=Y=>Y[35];for(let Y=0;Y<W.length;Y+=1){let K=get_each_context$3(e,W,Y),X=G(K);y.set(X,h[Y]=create_each_block$3(X,K))}return{c(){t=element("input"),r=space(),o=element("span"),o.textContent="\u2795",l=space();for(let Y=0;Y<h.length;Y+=1)h[Y].c();D=space(),O=element("div"),F=element("input"),R=space(),B=element("label"),B.textContent='Ajouter une case "autre"',attr(t,"class","fieldQlil svelte-1yay8md"),attr(t,"type","text"),attr(t,"placeholder","Choix..."),attr(t,"maxlength","30"),attr(o,"class","miniBtn svelte-1yay8md"),attr(F,"class","mr-2"),attr(F,"type","checkbox"),attr(F,"id","checkCaseAutre"),attr(B,"for","checkCaseAutre"),attr(O,"class","my-1 p-1")},m(Y,K){insert(Y,t,K),set_input_value(t,e[2]),insert(Y,r,K),insert(Y,o,K),insert(Y,l,K);for(let X=0;X<h.length;X+=1)h[X].m(Y,K);insert(Y,D,K),insert(Y,O,K),append(O,F),F.checked=e[0].a.o,append(O,R),append(O,B),j=!0,U||(q=[listen(t,"input",e[19]),listen(t,"keydown",e[20]),listen(o,"click",e[9]),listen(F,"change",e[22])],U=!0)},p(Y,K){if(K[0]&4&&t.value!==Y[2]&&set_input_value(t,Y[2]),K[0]&1){W=Y[0].a.a,group_outros();for(let X=0;X<h.length;X+=1)h[X].r();h=update_keyed_each(h,K,G,1,Y,W,y,D.parentNode,fix_and_outro_and_destroy_block,create_each_block$3,D,get_each_context$3);for(let X=0;X<h.length;X+=1)h[X].a();check_outros()}K[0]&1&&(F.checked=Y[0].a.o)},i(Y){if(!j){for(let K=0;K<W.length;K+=1)transition_in(h[K]);j=!0}},o(Y){for(let K=0;K<h.length;K+=1)transition_out(h[K]);j=!1},d(Y){Y&&detach(t),Y&&detach(r),Y&&detach(o),Y&&detach(l);for(let K=0;K<h.length;K+=1)h[K].d(Y);Y&&detach(D),Y&&detach(O),U=!1,run_all(q)}}}function create_each_block_1$3(e,t){let r,o=t[35]+"",l,h,y,D,O,F,R,B=noop$2,j,U,q;function W(){return t[25](t[35])}return{key:e,first:null,c(){r=element("div"),l=text(o),h=space(),y=element("span"),y.textContent="\u274C",D=space(),attr(y,"class","miniBtn svelte-1yay8md"),attr(r,"class","textChoice svelte-1yay8md"),this.first=r},m(G,Y){insert(G,r,Y),append(r,l),append(r,h),append(r,y),append(r,D),j=!0,U||(q=listen(y,"click",W),U=!0)},p(G,Y){t=G,(!j||Y[0]&1)&&o!==(o=t[35]+"")&&set_data(l,o)},r(){R=r.getBoundingClientRect()},f(){fix_position(r),B(),add_transform(r,R)},a(){B(),B=create_animation(r,R,flip,{duration:500})},i(G){j||(add_render_callback(()=>{F&&F.end(1),O=create_in_transition(r,fly,{x:20}),O.start()}),j=!0)},o(G){O&&O.invalidate(),F=create_out_transition(r,fly,{x:20}),j=!1},d(G){G&&detach(r),G&&F&&F.end(),U=!1,q()}}}function create_each_block$3(e,t){let r,o=t[35]+"",l,h,y,D,O,F,R=noop$2,B,j,U;function q(){return t[21](t[35])}return{key:e,first:null,c(){r=element("div"),l=text(o),h=space(),y=element("span"),y.textContent="\u274C",attr(y,"class","miniBtn svelte-1yay8md"),attr(r,"class","textChoice svelte-1yay8md"),this.first=r},m(W,G){insert(W,r,G),append(r,l),append(r,h),append(r,y),B=!0,j||(U=listen(y,"click",q),j=!0)},p(W,G){t=W,(!B||G[0]&1)&&o!==(o=t[35]+"")&&set_data(l,o)},r(){F=r.getBoundingClientRect()},f(){fix_position(r),R(),add_transform(r,F)},a(){R(),R=create_animation(r,F,flip,{duration:500})},i(W){B||(add_render_callback(()=>{O&&O.end(1),D=create_in_transition(r,fly,{x:20}),D.start()}),B=!0)},o(W){D&&D.invalidate(),O=create_out_transition(r,fly,{x:20}),B=!1},d(W){W&&detach(r),W&&O&&O.end(),j=!1,U()}}}function create_if_block_1$6(e){let t,r,o,l,h;return{c(){t=element("div"),r=text(e[1]),attr(t,"class","infoTile svelte-1yay8md")},m(y,D){insert(y,t,D),append(t,r),h=!0},p(y,D){(!h||D[0]&2)&&set_data(r,y[1])},i(y){h||(add_render_callback(()=>{l&&l.end(1),o=create_in_transition(t,fly,{x:20,duration:500}),o.start()}),h=!0)},o(y){o&&o.invalidate(),l=create_out_transition(t,fly,{x:20,duration:250}),h=!1},d(y){y&&detach(t),y&&l&&l.end()}}}function create_if_block$7(e){let t,r,o;return{c(){t=element("button"),t.textContent="Supprimer",attr(t,"class","svelte-1yay8md")},m(l,h){insert(l,t,h),r||(o=listen(t,"click",e[10]),r=!0)},p:noop$2,d(l){l&&detach(t),r=!1,o()}}}function create_fragment$c(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot=e[0].a.type!=""&&!e[5]&&create_if_block_2$4(e),dt=e[1]!=""&&create_if_block_1$6(e),ut=!e[4]&&!e[5]&&!e[6]&&create_if_block$7(e);return{c(){t=element("div"),r=element("div"),o=element("h2"),o.textContent=`${e[6]?"\u{1F4AB} Nouvelle question":"\u270F\uFE0F Modification"}`,l=space(),h=element("div"),y=element("textarea"),D=space(),O=element("h"),F=element("div"),R=element("select"),B=element("option"),B.textContent="Choisir un type de r\xE9ponse",j=element("option"),j.textContent="Choix Unique",U=element("option"),U.textContent="Choix Multiple",q=element("option"),q.textContent="Champs libre",W=element("option"),W.textContent="Num\xE9ro",G=element("option"),G.textContent="Date & heure",Y=element("option"),Y.textContent="Notation",K=space(),ot&&ot.c(),X=space(),dt&&dt.c(),J=space(),Q=element("div"),et=element("button"),et.textContent="Fermer",nt=space(),ut&&ut.c(),Z=space(),it=element("button"),it.textContent=`${e[6]?"Ajouter":"Modifier"}`,attr(o,"class","mb-4 svelte-1yay8md"),attr(y,"id","outQuestion"),attr(y,"class","fieldQ svelte-1yay8md"),attr(y,"placeholder","Comment est votre blanquette ?"),attr(y,"maxlength","600"),B.__value="",B.value=B.__value,B.selected=!0,B.disabled=!0,j.__value="1c",j.value=j.__value,U.__value="mc",U.value=U.__value,q.__value="cl",q.value=q.__value,W.__value="num",W.value=W.__value,G.__value="cal",G.value=G.__value,Y.__value="5s",Y.value=Y.__value,attr(R,"class","fieldQ svelte-1yay8md"),attr(R,"name","qtype"),attr(R,"id","qtypefield"),R.disabled=e[5],e[0].a.type===void 0&&add_render_callback(()=>e[17].call(R)),attr(et,"class","svelte-1yay8md"),set_style(it,"background-color","#6219D8"),set_style(it,"color","#fff"),attr(it,"class","svelte-1yay8md"),attr(Q,"class","actions svelte-1yay8md"),attr(r,"class","contents svelte-1yay8md"),attr(t,"role","dialog"),attr(t,"class","modal svelte-1yay8md")},m(at,st){insert(at,t,st),append(t,r),append(r,o),append(r,l),append(r,h),append(h,y),set_input_value(y,e[0].q),append(r,D),append(r,O),append(O,F),append(F,R),append(R,B),append(R,j),append(R,U),append(R,q),append(R,W),append(R,G),append(R,Y),select_option(R,e[0].a.type),append(O,K),ot&&ot.m(O,null),append(O,X),dt&&dt.m(O,null),append(O,J),append(O,Q),append(Q,et),append(Q,nt),ut&&ut.m(Q,null),append(Q,Z),append(Q,it),tt=!0,ct||(lt=[listen(y,"input",e[16]),listen(R,"change",e[17]),listen(R,"change",e[18]),listen(et,"click",e[32]),listen(it,"click",e[8]),listen(t,"introstart",e[14]),listen(t,"outroend",e[15])],ct=!0)},p(at,st){st[0]&1&&set_input_value(y,at[0].q),st[0]&1&&select_option(R,at[0].a.type),at[0].a.type!=""&&!at[5]?ot?(ot.p(at,st),st[0]&1&&transition_in(ot,1)):(ot=create_if_block_2$4(at),ot.c(),transition_in(ot,1),ot.m(O,X)):ot&&(group_outros(),transition_out(ot,1,1,()=>{ot=null}),check_outros()),at[1]!=""?dt?(dt.p(at,st),st[0]&2&&transition_in(dt,1)):(dt=create_if_block_1$6(at),dt.c(),transition_in(dt,1),dt.m(O,J)):dt&&(group_outros(),transition_out(dt,1,1,()=>{dt=null}),check_outros()),!at[4]&&!at[5]&&!at[6]&&ut.p(at,st)},i(at){tt||(transition_in(ot),transition_in(dt),add_render_callback(()=>{rt||(rt=create_bidirectional_transition(t,fly,{y:50},!0)),rt.run(1)}),tt=!0)},o(at){transition_out(ot),transition_out(dt),rt||(rt=create_bidirectional_transition(t,fly,{y:50},!1)),rt.run(0),tt=!1},d(at){at&&detach(t),ot&&ot.d(),dt&&dt.d(),ut&&ut.d(),at&&rt&&rt.end(),ct=!1,run_all(lt)}}}function instance$b(e,t,r){let{sondageEnCreation:o}=t,{id:l}=t,{majTree:h}=t,y="",D=l=="start",O=l=="end",F=l=="new",R=o.jsonContent.indexOf(o.jsonContent.find(ft=>ft.idr==l)),B;const j=new ShortUniqueId({length:8});let{questionData:U={idr:F?"q-"+j().toString():l,q:"",a:{a:[],o:null,type:""}}}=t,q=!1;function W(ft,vt){if(F||q){let pt={"1c":[],mc:[],cl:[140],num:[0,100," "],cal:[!0,!1],"5s":[]};U.a.a.splice(0,U.a.a.length),r(0,U.a.a=pt[vt],U)}}const G=()=>{if(U.q==""){alert("Veuillez saisir une question");return}else if(U.a.type==""){alert("Veuillez saisir un type de question");return}else if(U.a.type=="1c"||U.a.type=="mc"){if(U.a.a.length==0){alert("Veuillez saisir au moins un choix");return}}else if(U.a.type=="num"){if(U.a.a.length<3){alert("Veuillez saisir des valeurs");return}else if(U.a.a[0]>U.a.a[1]){alert("La valeur minimum doit \xEAtre inf\xE9rieure \xE0 la valeur maximum");return}}else if(U.a.type=="cal"){if(console.log(U.a.a),U.a.a.length<2){alert("Veuillez saisir des valeurs");return}else if(U.a.a[0]==!1&&U.a.a[1]==!1){alert("Veuillez s\xE9l\xE9ctionner au moins une option");return}}F?o.jsonContent.splice(o.jsonContent.length-1,0,U):o.jsonContent.splice(R,1,U),h(),closeModal()},Y=()=>{!U.a.a.includes(B)&&B!=null&&B!=""&&(r(0,U.a.a=[...U.a.a,B],U),r(2,B=""))};function K(){o.jsonContent.splice(R,1),h(),closeModal()}function X(ft){bubble.call(this,e,ft)}function J(ft){bubble.call(this,e,ft)}function Q(){U.q=this.value,r(0,U)}function et(){U.a.type=select_value(this),r(0,U)}const nt=()=>{U.a.a.splice(0,U.a.a.length),r(3,q=!0)};function Z(){B=this.value,r(2,B)}const it=ft=>{ft.key==="Enter"&&Y()},rt=ft=>{r(0,U.a.a=U.a.a.filter(vt=>vt!=ft),U)};function tt(){U.a.o=this.checked,r(0,U)}function ct(){B=this.value,r(2,B)}const lt=ft=>{ft.key==="Enter"&&Y()},ot=ft=>{r(0,U.a.a=U.a.a.filter(vt=>vt!=ft),U)};function dt(){U.a.a[0]=to_number(this.value),r(0,U)}function ut(){U.a.a[0]=to_number(this.value),r(0,U)}function at(){U.a.a[1]=to_number(this.value),r(0,U)}function st(){U.a.a[2]=this.value,r(0,U)}function ht(){U.a.a[0]=this.checked,r(0,U)}function _t(){U.a.a[1]=this.checked,r(0,U)}const yt=()=>{closeModal()};return e.$$set=ft=>{"sondageEnCreation"in ft&&r(11,o=ft.sondageEnCreation),"id"in ft&&r(12,l=ft.id),"majTree"in ft&&r(13,h=ft.majTree),"questionData"in ft&&r(0,U=ft.questionData)},e.$$.update=()=>{e.$$.dirty[0]&1&&(U.q.length>300?r(1,y="\u{1F4A1} Astuce : Essayez de limiter vos questions \xE0 300 caract\xE8res pour optimiser la lecture et le taux de r\xE9ponse."):r(1,y=""))},[U,y,B,q,D,O,F,W,G,Y,K,o,l,h,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot,dt,ut,at,st,ht,_t,yt]}class ModalCellEdit extends SvelteComponent{constructor(t){super(),init(this,t,instance$b,create_fragment$c,safe_not_equal,{sondageEnCreation:11,id:12,majTree:13,questionData:0},null,[-1,-1])}}var editor_svelte_svelte_type_style_lang="";const{document:document_1}=globals;function create_if_block_2$3(e){let t,r,o,l;return{c(){t=element("div"),r=text("Enregistr\xE9 \xE0 "),o=text(e[6]),set_style(t,"position","absolute"),set_style(t,"top","10px"),set_style(t,"right","20px"),set_style(t,"opacity",".5")},m(h,y){insert(h,t,y),append(t,r),append(t,o)},p(h,y){y[0]&64&&set_data(o,h[6])},i(h){l||add_render_callback(()=>{l=create_in_transition(t,fly,{x:50}),l.start()})},o:noop$2,d(h){h&&detach(t)}}}function create_else_block$4(e){let t;return{c(){t=element("i"),attr(t,"class","bx bx-collapse")},m(r,o){insert(r,t,o)},d(r){r&&detach(t)}}}function create_if_block_1$5(e){let t;return{c(){t=element("i"),attr(t,"class","bx bx-expand")},m(r,o){insert(r,t,o)},d(r){r&&detach(t)}}}function create_catch_block$5(e){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block$5(e){let t,r,o,l,h;return r=new Chat({props:{chatContent:e[1]}}),{c(){t=element("div"),create_component(r.$$.fragment),attr(t,"class","w-100 h-100 d-flex align-items-center justify-content-center svelte-mldghv"),set_style(t,"border-radius","15px")},m(y,D){insert(y,t,D),mount_component(r,t,null),h=!0},p(y,D){const O={};D[0]&2&&(O.chatContent=y[1]),r.$set(O)},i(y){h||(transition_in(r.$$.fragment,y),add_render_callback(()=>{l&&l.end(1),o=create_in_transition(t,blur,{duration:1e3}),o.start()}),h=!0)},o(y){transition_out(r.$$.fragment,y),o&&o.invalidate(),l=create_out_transition(t,blur,{duration:1e3}),h=!1},d(y){y&&detach(t),destroy_component(r),y&&l&&l.end()}}}function create_pending_block$5(e){let t;return{c(){t=element("div"),attr(t,"class","svelte-mldghv")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_if_block$6(e){let t,r,o,l,h,y,D,O;const F=[e[7].props||{}];function R(U){e[21](U)}var B=e[7].component;function j(U){let q={};for(let W=0;W<F.length;W+=1)q=assign$1(q,F[W]);return U[1]!==void 0&&(q.sondageEnCreation=U[1]),{props:q}}return B&&(t=new B(j(e)),binding_callbacks.push(()=>bind(t,"sondageEnCreation",R))),{c(){t&&create_component(t.$$.fragment),o=space(),l=element("div"),attr(l,"class","backdrop svelte-mldghv")},m(U,q){t&&mount_component(t,U,q),insert(U,o,q),insert(U,l,q),y=!0,D||(O=listen(l,"click",e[22]),D=!0)},p(U,q){const W=q[0]&128?get_spread_update(F,[get_spread_object(U[7].props||{})]):{};if(!r&&q[0]&2&&(r=!0,W.sondageEnCreation=U[1],add_flush_callback(()=>r=!1)),B!==(B=U[7].component)){if(t){group_outros();const G=t;transition_out(G.$$.fragment,1,0,()=>{destroy_component(G,1)}),check_outros()}B?(t=new B(j(U)),binding_callbacks.push(()=>bind(t,"sondageEnCreation",R)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,o.parentNode,o)):t=null}else B&&t.$set(W)},i(U){y||(t&&transition_in(t.$$.fragment,U),add_render_callback(()=>{h||(h=create_bidirectional_transition(l,fade,{},!0)),h.run(1)}),y=!0)},o(U){t&&transition_out(t.$$.fragment,U),h||(h=create_bidirectional_transition(l,fade,{},!1)),h.run(0),y=!1},d(U){t&&destroy_component(t,U),U&&detach(o),U&&detach(l),U&&h&&h.end(),D=!1,O()}}}function create_default_slot$3(e){let t,r,o=e[7]&&create_if_block$6(e);return{c(){o&&o.c(),t=empty()},m(l,h){o&&o.m(l,h),insert(l,t,h),r=!0},p(l,h){l[7]?o?(o.p(l,h),h[0]&128&&transition_in(o,1)):(o=create_if_block$6(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$b(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot,dt,ut,at,st,ht,_t,yt,ft,vt,pt,mt,gt,xt,kt,Pt,St=e[6]!=""&&create_if_block_2$3(e);function Et(Ct,Tt){return Ct[3]?create_else_block$4:create_if_block_1$5}let Mt=Et(e),bt=Mt(e),wt={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block$5,then:create_then_block$5,catch:create_catch_block$5,blocks:[,,,]};return handle_promise(_t=e[9](e[2]),wt),gt=new Modals({props:{$$slots:{default:[create_default_slot$3]},$$scope:{ctx:e}}}),{c(){t=element("link"),r=space(),o=element("div"),St&&St.c(),l=space(),h=element("div"),y=element("input"),D=space(),O=element("div"),F=element("div"),R=element("div"),B=text("\u23F2\uFE0F Dur\xE9e estim\xE9e : "),j=text(e[4]),U=space(),q=element("div"),bt.c(),W=space(),G=element("figure"),Y=element("ul"),X=space(),J=element("hr"),Q=space(),et=element("div"),nt=element("div"),Z=element("div"),Z.textContent="\u{1F4DA} Mod\xE8les",it=space(),rt=element("div"),tt=element("div"),tt.textContent="\u{1F3A8} Design",ct=space(),lt=element("div"),ot=element("div"),ot.innerHTML=`<h3 class="m-0" style="line-height: 0.6;">Lancer<br/> 
            <span style="font-size: 0.9rem;">le sondage !</span></h3>`,ut=space(),at=element("div"),st=element("div"),ht=element("div"),wt.block.c(),ft=space(),vt=element("div"),pt=element("button"),pt.textContent="\u267B\uFE0F R\xE9initialiser",mt=space(),create_component(gt.$$.fragment),attr(t,"rel","stylesheet"),attr(t,"href","assets/tree.css"),attr(y,"class","mx-auto svelte-mldghv"),attr(y,"type","text"),attr(y,"id","titreSond"),attr(y,"placeholder","Nom du projet"),attr(y,"maxlength","100"),attr(h,"class","col-12 w-100 text-center py-3"),attr(R,"class","dureeEstim svelte-mldghv"),attr(q,"class","expandBtn hvr-bounce-in svelte-mldghv"),attr(Y,"class","tree mx-auto p-3"),attr(F,"class","cellZone w-100 pt-3 svelte-mldghv"),attr(F,"style",K=e[3]?"max-height:80vh; min-height:60vh;":""),attr(J,"class","w-75 mt-4"),attr(Z,"class","h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-mldghv"),set_style(Z,"background-color","#dbd6e37d"),set_style(Z,"border-radius","10px"),set_style(Z,"color","#3c3c3c"),set_style(Z,"font-family","Lexend"),attr(nt,"class","col-12 col-md-4 py-2 pr-1 pl-0 hvr-float"),set_style(nt,"height","100px"),attr(tt,"class","h-100 px-4 d-flex justify-content-center text-center flex-column templateBtn svelte-mldghv"),set_style(tt,"background-color","#dbd6e37d"),set_style(tt,"border-radius","10px"),set_style(tt,"color","#3c3c3c"),set_style(tt,"font-family","Lexend"),attr(rt,"class","col-12 col-md-4 py-2 pr-1 pl-0 hvr-float"),set_style(rt,"height","100px"),attr(ot,"class","h-100 d-flex align-items-center justify-content-center"),set_style(ot,"background-color","#6219d8"),set_style(ot,"border-radius","10px"),set_style(ot,"color","white"),set_style(ot,"cursor","pointer"),attr(lt,"class","col-12 col-md-4 py-1 pl-1 pr-0 hvr-float"),set_style(lt,"height","100px"),attr(et,"class","row"),attr(O,"class",dt=e[3]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"),attr(ht,"class","gridForAnimation svelte-mldghv"),attr(st,"class","iphone-x mx-auto my-4 svelte-mldghv"),attr(pt,"class","screenBtn px-4 py-2 svelte-mldghv"),attr(vt,"class","mt-4 text-center"),attr(at,"id","creaUserView"),attr(at,"class","col-12 col-lg-4 p-3 text-center"),attr(o,"id","studio"),attr(o,"class","row p-1 svelte-mldghv")},m(Ct,Tt){append(document_1.head,t),insert(Ct,r,Tt),insert(Ct,o,Tt),St&&St.m(o,null),append(o,l),append(o,h),append(h,y),set_input_value(y,e[1].nom_proj),append(o,D),append(o,O),append(O,F),append(F,R),append(R,B),append(R,j),append(F,U),append(F,q),bt.m(q,null),append(F,W),append(F,G),append(G,Y),e[16](Y),append(O,X),append(O,J),append(O,Q),append(O,et),append(et,nt),append(nt,Z),append(et,it),append(et,rt),append(rt,tt),append(et,ct),append(et,lt),append(lt,ot),append(o,ut),append(o,at),append(at,st),append(st,ht),wt.block.m(ht,wt.anchor=null),wt.mount=()=>ht,wt.anchor=null,append(at,ft),append(at,vt),append(vt,pt),insert(Ct,mt,Tt),mount_component(gt,Ct,Tt),xt=!0,kt||(Pt=[listen(y,"input",e[15]),listen(y,"change",e[12]),listen(q,"click",e[10]),listen(Z,"click",e[17]),listen(tt,"click",e[18]),listen(ot,"click",e[19]),listen(pt,"click",e[20])],kt=!0)},p(Ct,Tt){e=Ct,e[6]!=""?St?(St.p(e,Tt),Tt[0]&64&&transition_in(St,1)):(St=create_if_block_2$3(e),St.c(),transition_in(St,1),St.m(o,l)):St&&(St.d(1),St=null),Tt[0]&2&&y.value!==e[1].nom_proj&&set_input_value(y,e[1].nom_proj),(!xt||Tt[0]&16)&&set_data(j,e[4]),Mt!==(Mt=Et(e))&&(bt.d(1),bt=Mt(e),bt&&(bt.c(),bt.m(q,null))),(!xt||Tt[0]&8&&K!==(K=e[3]?"max-height:80vh; min-height:60vh;":""))&&attr(F,"style",K),(!xt||Tt[0]&8&&dt!==(dt=e[3]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"))&&attr(O,"class",dt),wt.ctx=e,Tt[0]&4&&_t!==(_t=e[9](e[2]))&&handle_promise(_t,wt)||update_await_block_branch(wt,e,Tt);const Lt={};Tt[0]&130|Tt[1]&2&&(Lt.$$scope={dirty:Tt,ctx:e}),gt.$set(Lt)},i(Ct){xt||(transition_in(St),transition_in(wt.block),yt||add_render_callback(()=>{yt=create_in_transition(st,fly,{y:50,duration:600,delay:100}),yt.start()}),transition_in(gt.$$.fragment,Ct),xt=!0)},o(Ct){for(let Tt=0;Tt<3;Tt+=1){const Lt=wt.blocks[Tt];transition_out(Lt)}transition_out(gt.$$.fragment,Ct),xt=!1},d(Ct){detach(t),Ct&&detach(r),Ct&&detach(o),St&&St.d(),bt.d(),e[16](null),wt.block.d(),wt.token=null,wt=null,Ct&&detach(mt),destroy_component(gt,Ct),kt=!1,run_all(Pt)}}}function allowDrop(e){e.preventDefault(),e.target.style.backgroundColor="#DEDBE1"}function dragLeave(e){e.preventDefault(),e.target.style.backgroundColor=""}function drag(e){e.dataTransfer.setData("text",e.target.dataset.qorder)}function arraymove(e,t,r){var o=e[t];e.splice(t,1),e.splice(r,0,o)}function instance$a(e,t,r){let o,l;component_subscribe(e,modals,st=>r(14,l=st));let{loadSondage:h}=t;function y(st){activePageStore.set(st)}const D=async st=>{};let O=0,F=!1;function R(){F?r(3,F=!1):r(3,F=!0)}let B=["#6219D8","#AD5C6C","#5260BC","#734AE4"],j={"1c":"#8792FD80",mc:"#6219D880",cl:"#7aad8980",num:"#FF596480","5s":"#FBB13C80",cal:"#B0EAFF80"},{idSondage:U=null}=t,{sondageEnCreation:q={v:1,nom_proj:"Brouillon",color:B[Math.floor(Math.random()*B.length)],logo:"",jsonContent:[{idr:"start",q:"Bienvenue dans ce sondage ! \u{1F917} ",a:{type:"1c",a:["D\xE9marrer \u{1F680}"]}},{idr:"end",q:"Merci pour votre participation ! \u{1F389}",a:{type:"fin"}}]}}=t,W=JSON.stringify(q),G;function Y(){let st=q.jsonContent.length*8-10;st>60?r(4,G=Math.floor(st/60).toString()+" min, "+(st%60).toString()+" sec"):r(4,G=st.toString()+" secondes")}let K;const X=()=>{for(console.log(q.jsonContent),Q();K.firstChild;)K.removeChild(K.firstChild);for(let st=0;st<q.jsonContent.length;st++){const ht=document.createElement("li");let _t=document.createElement("code");_t.innerText=q.jsonContent[st].q,_t.onclick=()=>Z(q.jsonContent[st].idr),ht.appendChild(_t);let yt=K.querySelectorAll("ul");if(st===0){ht.querySelector("code").classList.add("firstQ");let ft=document.createElement("ul");ht.appendChild(ft),K.insertAdjacentElement("beforeend",ht)}else if(st===q.jsonContent.length-1){ht.querySelector("code").classList.add("lastQ");let ft=document.createElement("code");ft.classList.add("outlineQ"),q.jsonContent.length<30?(ft.innerText="\u2795 Nouvelle question",ft.onclick=()=>Z("new")):(ft.innerText="\u26A0\uFE0F max 30 questions",ft.onclick=()=>{});let vt=document.createElement("li");vt.appendChild(ft);let pt=document.createElement("ul");pt.appendChild(ht),vt.appendChild(pt),yt[yt.length-1].appendChild(vt)}else{let ft=ht.querySelector("code");ft.ondrop=pt=>it(pt),ft.ondragover=pt=>allowDrop(pt),ft.ondragstart=pt=>drag(pt),ft.ondragleave=pt=>dragLeave(pt),ft.dataset.qorder=st.toString(),ft.draggable=!0,ft.style.borderColor=j[q.jsonContent[st].a.type];let vt=document.createElement("ul");ht.appendChild(vt),yt[yt.length-1].appendChild(ht)}}Y(),r(2,O++,O)};let J="";function Q(){W!=JSON.stringify(q)&&(U!=null?updateSave(q,U).then(st=>{r(6,J=new Date().toLocaleString().split(" ")[1])}).catch(st=>{alert(st)}):firstSave(q).then(st=>{r(0,U=st),r(6,J=new Date().toLocaleString().split(" ")[1])}).catch(st=>{alert(st)}))}var et=null;const nt=()=>{clearInterval(et),et=setInterval(function(){Q(),clearInterval(et)},1e3)};onMount(()=>{X()});const Z=st=>{let ht={id:st,sondageEnCreation:q,majTree:X};st!="new"&&(ht.questionData=structuredClone(q.jsonContent.find(_t=>_t.idr==st))),openModal(ModalCellEdit,ht)};function it(st){st.preventDefault(),arraymove(q.jsonContent,parseInt(st.dataTransfer.getData("text")),parseInt(st.target.dataset.qorder)),X()}function rt(){q.nom_proj=this.value,r(1,q)}function tt(st){binding_callbacks[st?"unshift":"push"](()=>{K=st,r(5,K)})}const ct=()=>openModal(ModalTemplateLoad,{sondageEnCreation:q,updateFun:X}),lt=()=>openModal(ModalDesignSond,{sondageEnCreation:q,updateFun:X}),ot=()=>{U!=null?validateSondage(q,U,y):alert("Veuillez enregistrer votre sondage avant de le valider.")},dt=()=>{r(2,O++,O),console.log(q)};function ut(st){q=st,r(1,q)}const at=()=>{closeModal()};return e.$$set=st=>{"loadSondage"in st&&r(13,h=st.loadSondage),"idSondage"in st&&r(0,U=st.idSondage),"sondageEnCreation"in st&&r(1,q=st.sondageEnCreation)},e.$$.update=()=>{e.$$.dirty[0]&16384&&r(7,o=l[l.length-1])},[U,q,O,F,G,K,J,o,y,D,R,X,nt,h,l,rt,tt,ct,lt,ot,dt,ut,at]}class Editor extends SvelteComponent{constructor(t){super(),init(this,t,instance$a,create_fragment$b,safe_not_equal,{loadSondage:13,idSondage:0,sondageEnCreation:1},null,[-1,-1])}}var templateCard_svelte_svelte_type_style_lang="";function create_fragment$a(e){let t,r,o,l,h,y,D,O=e[0].cible+"",F,R,B,j=e[0].duree+"",U,q,W,G=e[0].desc+"",Y,K,X,J,Q;return{c(){t=element("div"),r=element("div"),o=text(e[1]),l=space(),h=element("div"),y=element("ul"),D=element("li"),F=text(O),R=space(),B=element("li"),U=text(j),q=space(),W=element("li"),Y=text(G),K=space(),X=element("div"),X.textContent="Utiliser",attr(r,"class","header svelte-174visp"),attr(D,"class","svelte-174visp"),attr(B,"class","svelte-174visp"),attr(W,"class","svelte-174visp"),attr(y,"class","listDesc svelte-174visp"),attr(h,"class","body ml-3 my-2 svelte-174visp"),attr(X,"class","button svelte-174visp"),attr(t,"class","neuProjet text-center hvr-float svelte-174visp")},m(et,nt){insert(et,t,nt),append(t,r),append(r,o),append(t,l),append(t,h),append(h,y),append(y,D),append(D,F),append(y,R),append(y,B),append(B,U),append(y,q),append(y,W),append(W,Y),append(t,K),append(t,X),J||(Q=listen(X,"click",e[2]),J=!0)},p(et,[nt]){nt&2&&set_data(o,et[1]),nt&1&&O!==(O=et[0].cible+"")&&set_data(F,O),nt&1&&j!==(j=et[0].duree+"")&&set_data(U,j),nt&1&&G!==(G=et[0].desc+"")&&set_data(Y,G)},i:noop$2,o:noop$2,d(et){et&&detach(t),J=!1,Q()}}}function instance$9(e,t,r){let{loadSondage:o}=t,{nom_proj:l}=t,{category:h}=t,{id:y}=t,{description:D}=t;D=JSON.parse(D);async function O(){var R=new Headers;return R.append("Authorization","Token "+xxgc("rtnt")),R.append("Content-Type","application/json"),fetch(`${rtnUrl}templates/${y}/`,{method:"GET",headers:R,redirect:"follow"}).then(B=>B.text()).then(B=>JSON.parse(B)).catch(B=>B)}const F=async()=>{let R=await O();R.jsonContent=JSON.parse(R.jsonContent),o(R,null)};return e.$$set=R=>{"loadSondage"in R&&r(3,o=R.loadSondage),"nom_proj"in R&&r(1,l=R.nom_proj),"category"in R&&r(4,h=R.category),"id"in R&&r(5,y=R.id),"description"in R&&r(0,D=R.description)},[D,l,F,o,h,y]}class TemplateCard extends SvelteComponent{constructor(t){super(),init(this,t,instance$9,create_fragment$a,safe_not_equal,{loadSondage:3,nom_proj:1,category:4,id:5,description:0})}}var templates_svelte_svelte_type_style_lang="";function get_each_context$2(e,t,r){const o=e.slice();return o[5]=t[r],o[7]=r,o}function get_each_context_1$2(e,t,r){const o=e.slice();return o[8]=t[r],o[10]=r,o}function create_catch_block$4(e){let t,r=e[11]+"",o;return{c(){t=element("div"),o=text(r)},m(l,h){insert(l,t,h),append(t,o)},p:noop$2,i:noop$2,o:noop$2,d(l){l&&detach(t)}}}function create_then_block$4(e){let t,r,o=[...new Set(e[4].map(func$2))],l=[];for(let y=0;y<o.length;y+=1)l[y]=create_each_block$2(get_each_context$2(e,o,y));const h=y=>transition_out(l[y],1,1,()=>{l[y]=null});return{c(){for(let y=0;y<l.length;y+=1)l[y].c();t=empty()},m(y,D){for(let O=0;O<l.length;O+=1)l[O].m(y,D);insert(y,t,D),r=!0},p(y,D){if(D&3){o=[...new Set(y[4].map(func$2))];let O;for(O=0;O<o.length;O+=1){const F=get_each_context$2(y,o,O);l[O]?(l[O].p(F,D),transition_in(l[O],1)):(l[O]=create_each_block$2(F),l[O].c(),transition_in(l[O],1),l[O].m(t.parentNode,t))}for(group_outros(),O=o.length;O<l.length;O+=1)h(O);check_outros()}},i(y){if(!r){for(let D=0;D<o.length;D+=1)transition_in(l[D]);r=!0}},o(y){l=l.filter(Boolean);for(let D=0;D<l.length;D+=1)transition_out(l[D]);r=!1},d(y){destroy_each(l,y),y&&detach(t)}}}function create_each_block_1$2(e){let t,r,o,l,h;const y=[e[8],{loadSondage:e[0]}];let D={};for(let O=0;O<y.length;O+=1)D=assign$1(D,y[O]);return r=new TemplateCard({props:D}),{c(){t=element("div"),create_component(r.$$.fragment),o=space(),attr(t,"class","col-12 col-sm-6 col-lg-4 mb-5")},m(O,F){insert(O,t,F),mount_component(r,t,null),append(t,o),h=!0},p(O,F){const R=F&3?get_spread_update(y,[F&2&&get_spread_object(O[8]),F&1&&{loadSondage:O[0]}]):{};r.$set(R)},i(O){h||(transition_in(r.$$.fragment,O),l||add_render_callback(()=>{l=create_in_transition(t,fly,{x:-20,delay:e[10]*200*e[7]}),l.start()}),h=!0)},o(O){transition_out(r.$$.fragment,O),h=!1},d(O){O&&detach(t),destroy_component(r)}}}function create_each_block$2(e){let t,r,o=e[5]+"",l,h,y,D;function O(...j){return e[2](e[5],...j)}let F=e[4].filter(O),R=[];for(let j=0;j<F.length;j+=1)R[j]=create_each_block_1$2(get_each_context_1$2(e,F,j));const B=j=>transition_out(R[j],1,1,()=>{R[j]=null});return{c(){t=element("div"),r=element("h2"),l=text(o),h=space();for(let j=0;j<R.length;j+=1)R[j].c();y=empty(),attr(t,"class","col-12 mb-4 border-bottom")},m(j,U){insert(j,t,U),append(t,r),append(r,l),insert(j,h,U);for(let q=0;q<R.length;q+=1)R[q].m(j,U);insert(j,y,U),D=!0},p(j,U){if(e=j,U&3){F=e[4].filter(O);let q;for(q=0;q<F.length;q+=1){const W=get_each_context_1$2(e,F,q);R[q]?(R[q].p(W,U),transition_in(R[q],1)):(R[q]=create_each_block_1$2(W),R[q].c(),transition_in(R[q],1),R[q].m(y.parentNode,y))}for(group_outros(),q=F.length;q<R.length;q+=1)B(q);check_outros()}},i(j){if(!D){for(let U=0;U<F.length;U+=1)transition_in(R[U]);D=!0}},o(j){R=R.filter(Boolean);for(let U=0;U<R.length;U+=1)transition_out(R[U]);D=!1},d(j){j&&detach(t),j&&detach(h),destroy_each(R,j),j&&detach(y)}}}function create_pending_block$4(e){let t;return{c(){t=element("div")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_fragment$9(e){let t,r,o,l,h,y,D,O,F={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$4,then:create_then_block$4,catch:create_catch_block$4,value:4,error:11,blocks:[,,,]};return handle_promise(e[1],F),{c(){t=element("h1"),t.textContent="Mod\xE8les de sondages",r=space(),o=element("div"),l=element("div"),l.innerHTML=`<div class="lightbulb svelte-17mzh4q">\u{1F4A1}</div> 
    <div>R\xE9tine vous propose des mod\xE8les de sondages pr\xEAts \xE0 l&#39;emploi (modifiables si besoin), bas\xE9s sur les meilleures pratiques \xE0 adopter afin de maximiser les
      taux de r\xE9ponse et obtenir des donn\xE9es qualitatives.</div>`,y=space(),D=element("div"),F.block.c(),attr(t,"class","py-2 mb-3 text-center"),attr(l,"class","infoTile svelte-17mzh4q"),attr(o,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3"),attr(D,"id","lesTemplates"),attr(D,"class","row p-3 w-100 mx-auto"),set_style(D,"max-width","1100px")},m(R,B){insert(R,t,B),insert(R,r,B),insert(R,o,B),append(o,l),insert(R,y,B),insert(R,D,B),F.block.m(D,F.anchor=null),F.mount=()=>D,F.anchor=null,O=!0},p(R,[B]){e=R,update_await_block_branch(F,e,B)},i(R){O||(h||add_render_callback(()=>{h=create_in_transition(l,fly,{y:30,delay:300}),h.start()}),transition_in(F.block),O=!0)},o(R){for(let B=0;B<3;B+=1){const j=F.blocks[B];transition_out(j)}O=!1},d(R){R&&detach(t),R&&detach(r),R&&detach(o),R&&detach(y),R&&detach(D),F.block.d(),F.token=null,F=null}}}const func$2=e=>e.category;function instance$8(e,t,r){let{loadSondage:o}=t;async function l(){var D=new Headers;D.append("Authorization","Token "+xxgc("rtnt")),D.append("Content-Type","application/json");var O={method:"GET",headers:D,redirect:"follow"};return fetch(rtnUrl+"templates/",O).then(F=>F.text()).then(F=>JSON.parse(F)).catch(F=>F)}let h=l();const y=(D,O)=>O.category==D;return e.$$set=D=>{"loadSondage"in D&&r(0,o=D.loadSondage)},[o,h,y]}class Templates extends SvelteComponent{constructor(t){super(),init(this,t,instance$8,create_fragment$9,safe_not_equal,{loadSondage:0})}}var modalContactList_svelte_svelte_type_style_lang="";function create_if_block_1$4(e){let t,r;return{c(){t=element("div"),r=text(e[2]),attr(t,"class","w-100 text-center"),set_style(t,"color","red")},m(o,l){insert(o,t,l),append(t,r)},p(o,l){l&4&&set_data(r,o[2])},d(o){o&&detach(t)}}}function create_if_block$5(e){let t,r,o;return{c(){t=element("button"),t.textContent="Supprimer",attr(t,"class","svelte-9qx6kg")},m(l,h){insert(l,t,h),r||(o=listen(t,"click",e[6]),r=!0)},p:noop$2,d(l){l&&detach(t),r=!1,o()}}}function create_fragment$8(e){let t,r,o,l,h,y,D,O,F,R=e[3].split(`
`).length+"",B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z=e[2]!=""&&create_if_block_1$4(e),it=e[1]!="new"&&create_if_block$5(e);return{c(){t=element("div"),r=element("div"),o=element("h4"),l=element("input"),h=space(),y=element("div"),D=element("textarea"),O=space(),F=element("div"),B=text(R),j=text(" lignes"),U=space(),Z&&Z.c(),q=space(),W=element("div"),G=element("button"),G.textContent="Fermer",Y=space(),it&&it.c(),K=space(),X=element("button"),X.textContent="Sauvegarder",attr(l,"class","titleInput svelte-9qx6kg"),attr(l,"maxlength","30"),attr(l,"placeholder","Liste de contacts..."),attr(o,"class","mb-4 text-center"),attr(D,"class","textareartn svelte-9qx6kg"),attr(D,"rows","10"),attr(D,"placeholder","Copiez/collez vos lignes Excel directement ici... "),set_style(F,"opacity",".6"),attr(y,"class","container p-2 text-center"),attr(G,"class","svelte-9qx6kg"),set_style(X,"background-color","#6219d8"),set_style(X,"color","white"),attr(X,"class","svelte-9qx6kg"),attr(W,"class","actions svelte-9qx6kg"),attr(r,"class","contents svelte-9qx6kg"),attr(t,"role","dialog"),attr(t,"class","modal svelte-9qx6kg")},m(rt,tt){insert(rt,t,tt),append(t,r),append(r,o),append(o,l),set_input_value(l,e[0]),append(r,h),append(r,y),append(y,D),set_input_value(D,e[3]),append(y,O),append(y,F),append(F,B),append(F,j),append(r,U),Z&&Z.m(r,null),append(r,q),append(r,W),append(W,G),append(W,Y),it&&it.m(W,null),append(W,K),append(W,X),Q=!0,et||(nt=[listen(l,"input",e[11]),listen(D,"input",e[12]),listen(G,"click",closeModal),listen(X,"click",e[13]),listen(t,"introstart",e[9]),listen(t,"outroend",e[10])],et=!0)},p(rt,[tt]){tt&1&&l.value!==rt[0]&&set_input_value(l,rt[0]),tt&8&&set_input_value(D,rt[3]),(!Q||tt&8)&&R!==(R=rt[3].split(`
`).length+"")&&set_data(B,R),rt[2]!=""?Z?Z.p(rt,tt):(Z=create_if_block_1$4(rt),Z.c(),Z.m(r,q)):Z&&(Z.d(1),Z=null),rt[1]!="new"?it?it.p(rt,tt):(it=create_if_block$5(rt),it.c(),it.m(W,K)):it&&(it.d(1),it=null)},i(rt){Q||(add_render_callback(()=>{J||(J=create_bidirectional_transition(t,fly,{y:50},!0)),J.run(1)}),Q=!0)},o(rt){J||(J=create_bidirectional_transition(t,fly,{y:50},!1)),J.run(0),Q=!1},d(rt){rt&&detach(t),Z&&Z.d(),it&&it.d(),rt&&J&&J.end(),et=!1,run_all(nt)}}}function instance$7(e,t,r){let{id:o}=t,{nom:l}=t,{jsonContent:h}=t,{updateBack:y}=t,D="";function O(Y){r(2,D=Y),setTimeout(()=>{r(2,D="")},3e3)}let F;o!="new"?F=JSON.parse(h).toString().replaceAll(",",`
`):F="";function R(){let Y=F.replaceAll(",","").replaceAll(";","").replaceAll(" ","").split(`
`).filter(function(Q){return Q!=""});if(Y.length>100){O("Le nombre de contacts doit \xEAtre inf\xE9rieur \xE0 100 par liste.");return}else if(Y.length==0){O("Aucun contact n'a \xE9t\xE9 saisi.");return}var K=new Headers;K.append("Authorization","Token "+xxgc("rtnt")),K.append("Content-Type","application/json");var X={method:o!="new"?"PUT":"POST",headers:K,redirect:"follow",body:JSON.stringify({nom:l,jsonContent:JSON.stringify(Y)})};let J=o!="new"?`${rtnUrl}contactlist/${o}/`:`${rtnUrl}contactlist/`;return fetch(J,X).then(Q=>Q.text()).then(Q=>(y(),closeModal(),JSON.parse(Q))).catch(Q=>Q)}function B(){var Y=new Headers;Y.append("Authorization","Token "+xxgc("rtnt")),Y.append("Content-Type","application/json");var K={method:"DELETE",headers:Y,redirect:"follow"};let X=`${rtnUrl}contactlist/${o}/`;return fetch(X,K).then(J=>J.text()).then(J=>(y(),closeModal(),JSON.parse(J))).catch(J=>J)}function j(Y){bubble.call(this,e,Y)}function U(Y){bubble.call(this,e,Y)}function q(){l=this.value,r(0,l)}function W(){F=this.value,r(3,F)}const G=()=>{l!=""&&F!=""?R():O("Veuillez saisir un titre et une liste de contacts.")};return e.$$set=Y=>{"id"in Y&&r(1,o=Y.id),"nom"in Y&&r(0,l=Y.nom),"jsonContent"in Y&&r(7,h=Y.jsonContent),"updateBack"in Y&&r(8,y=Y.updateBack)},[l,o,D,F,O,R,B,h,y,j,U,q,W,G]}class ModalContactList extends SvelteComponent{constructor(t){super(),init(this,t,instance$7,create_fragment$8,safe_not_equal,{id:1,nom:0,jsonContent:7,updateBack:8})}}var campagnes_svelte_svelte_type_style_lang="";function get_each_context$1(e,t,r){const o=e.slice();return o[15]=t[r],o[17]=r,o}function get_each_context_1$1(e,t,r){const o=e.slice();return o[18]=t[r],o[17]=r,o}function create_catch_block_1$2(e){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block_1$2(e){let t;function r(h,y){return h[14].filter(func$1).length>0?create_if_block_1$3:create_else_block$3}let l=r(e)(e);return{c(){l.c(),t=empty()},m(h,y){l.m(h,y),insert(h,t,y)},p(h,y){l.p(h,y)},i(h){transition_in(l)},o:noop$2,d(h){l.d(h),h&&detach(t)}}}function create_else_block$3(e){let t;return{c(){t=element("div"),t.textContent="Pas encore de sondage \xE0 diffuser \u{1F440}",attr(t,"class","text-center w-100")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_if_block_1$3(e){let t=[],r=new Map,o,l=e[14].reverse().filter(func_1$1);const h=y=>y[17];for(let y=0;y<l.length;y+=1){let D=get_each_context_1$1(e,l,y),O=h(D);r.set(O,t[y]=create_each_block_1$1(O,D))}return{c(){for(let y=0;y<t.length;y+=1)t[y].c();o=empty()},m(y,D){for(let O=0;O<t.length;O+=1)t[O].m(y,D);insert(y,o,D)},p(y,D){D&4&&(l=y[14].reverse().filter(func_1$1),t=update_keyed_each(t,D,h,1,y,l,r,o.parentNode,destroy_block,create_each_block_1$1,o,get_each_context_1$1))},i(y){for(let D=0;D<l.length;D+=1)transition_in(t[D])},o:noop$2,d(y){for(let D=0;D<t.length;D+=1)t[D].d(y);y&&detach(o)}}}function create_each_block_1$1(e,t){let r,o,l=t[18].nom_proj+"",h,y,D,O,F;function R(){return t[5](t[18])}return{key:e,first:null,c(){r=element("div"),o=element("div"),h=text(l),y=space(),attr(o,"class","projComCard hvr-float svelte-1n0amn8"),set_style(o,"background-color",t[18].color),attr(r,"class","col-12 col-md-4 mb-2"),this.first=r},m(B,j){insert(B,r,j),append(r,o),append(o,h),append(r,y),O||(F=listen(o,"click",R),O=!0)},p(B,j){t=B},i(B){D||add_render_callback(()=>{D=create_in_transition(r,fly,{x:-20,delay:t[17]*60}),D.start()})},o:noop$2,d(B){B&&detach(r),O=!1,F()}}}function create_pending_block_1$2(e){let t;return{c(){t=text("Chargement...")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_catch_block$3(e){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block$3(e){let t,r,o,l,h=[],y=new Map,D,O,F=e[14].reverse();const R=B=>B[17];for(let B=0;B<F.length;B+=1){let j=get_each_context$1(e,F,B),U=R(j);y.set(U,h[B]=create_each_block$1(U,j))}return{c(){t=element("div"),r=element("div"),o=element("div"),o.textContent="+",l=space();for(let B=0;B<h.length;B+=1)h[B].c();attr(o,"class","addBtn hvr-float svelte-1n0amn8"),attr(r,"class","col-12 col-md-4 mb-4"),attr(t,"class","row mt-4")},m(B,j){insert(B,t,j),append(t,r),append(r,o),append(t,l);for(let U=0;U<h.length;U+=1)h[U].m(t,null);D||(O=listen(o,"click",e[6]),D=!0)},p(B,j){j&9&&(F=B[14].reverse(),h=update_keyed_each(h,j,R,1,B,F,y,t,destroy_block,create_each_block$1,null,get_each_context$1))},d(B){B&&detach(t);for(let j=0;j<h.length;j+=1)h[j].d();D=!1,O()}}}function create_each_block$1(e,t){let r,o,l,h=t[15].nom+"",y,D,O,F=JSON.parse(t[15].jsonContent).length+"",R,B,j,U=t[15].crea_date.split("T")[0]+"",q,W,G,Y;function K(){return t[7](t[15])}return{key:e,first:null,c(){r=element("div"),o=element("div"),l=element("div"),y=text(h),D=space(),O=element("div"),R=text(F),B=space(),j=element("div"),q=text(U),W=space(),attr(l,"class","contacttitlecont svelte-1n0amn8"),attr(O,"class","contactnumcont svelte-1n0amn8"),attr(o,"class","listCard hvr-float svelte-1n0amn8"),attr(r,"class","col-12 col-md-4 mb-4"),this.first=r},m(X,J){insert(X,r,J),append(r,o),append(o,l),append(l,y),append(o,D),append(o,O),append(O,R),append(o,B),append(o,j),append(j,q),append(r,W),G||(Y=listen(o,"click",K),G=!0)},p(X,J){t=X,J&1&&h!==(h=t[15].nom+"")&&set_data(y,h),J&1&&F!==(F=JSON.parse(t[15].jsonContent).length+"")&&set_data(R,F),J&1&&U!==(U=t[15].crea_date.split("T")[0]+"")&&set_data(q,U)},d(X){X&&detach(r),G=!1,Y()}}}function create_pending_block$3(e){let t;return{c(){t=element("div"),t.textContent="Chargement..."},m(r,o){insert(r,t,o)},p:noop$2,d(r){r&&detach(t)}}}function create_if_block$4(e){let t,r,o,l,h,y,D;const O=[e[1].props||{}];var F=e[1].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(t=new F(R())),{c(){t&&create_component(t.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-1n0amn8")},m(B,j){t&&mount_component(t,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",e[8]),y=!0)},p(B,j){const U=j&2?get_spread_update(O,[get_spread_object(B[1].props||{})]):{};if(F!==(F=B[1].component)){if(t){group_outros();const q=t;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(t=new F(R()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else F&&t.$set(U)},i(B){h||(t&&transition_in(t.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(B){t&&transition_out(t.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(B){t&&destroy_component(t,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$2(e){let t,r,o=e[1]&&create_if_block$4(e);return{c(){o&&o.c(),t=empty()},m(l,h){o&&o.m(l,h),insert(l,t,h),r=!0},p(l,h){l[1]?o?(o.p(l,h),h&2&&transition_in(o,1)):(o=create_if_block$4(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$7(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$2,then:create_then_block_1$2,catch:create_catch_block_1$2,value:14};handle_promise(e[2],Z);let it={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block$3,then:create_then_block$3,catch:create_catch_block$3,value:14};return handle_promise(X=e[0],it),et=new Modals({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:e}}}),{c(){t=element("h1"),t.textContent="Campagnes",r=space(),o=element("div"),l=space(),h=element("div"),y=element("div"),D=element("h4"),D.textContent="\u{1F4E2} Diffuser un sondage",O=space(),F=element("p"),F.textContent="Cliquez sur un de vos sondages pour l'envoyer par tous les moyens \xE0 votre audience.",R=space(),B=element("div"),Z.block.c(),U=space(),q=element("div"),W=element("h4"),W.textContent="\u{1F465} Listes d'envoi",G=space(),Y=element("p"),Y.textContent="Ces listes d'envois pourront \xEAtre utilis\xE9es pour diffuser vos sondages.",K=space(),it.block.c(),Q=space(),create_component(et.$$.fragment),attr(t,"class","py-2 mb-3 text-center"),attr(o,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3"),set_style(F,"opacity",".7"),attr(B,"class","row text-center mt-4"),attr(y,"class","neuProjet p-4 mb-5 svelte-1n0amn8"),set_style(Y,"opacity",".7"),attr(q,"class","neuProjet p-4 svelte-1n0amn8"),attr(h,"class","mx-auto"),set_style(h,"max-width","1100px"),set_style(h,"width","70vw")},m(rt,tt){insert(rt,t,tt),insert(rt,r,tt),insert(rt,o,tt),insert(rt,l,tt),insert(rt,h,tt),append(h,y),append(y,D),append(y,O),append(y,F),append(y,R),append(y,B),Z.block.m(B,Z.anchor=null),Z.mount=()=>B,Z.anchor=null,append(h,U),append(h,q),append(q,W),append(q,G),append(q,Y),append(q,K),it.block.m(q,it.anchor=null),it.mount=()=>q,it.anchor=null,insert(rt,Q,tt),mount_component(et,rt,tt),nt=!0},p(rt,[tt]){e=rt,update_await_block_branch(Z,e,tt),it.ctx=e,tt&1&&X!==(X=e[0])&&handle_promise(X,it)||update_await_block_branch(it,e,tt);const ct={};tt&1048578&&(ct.$$scope={dirty:tt,ctx:e}),et.$set(ct)},i(rt){nt||(transition_in(Z.block),j||add_render_callback(()=>{j=create_in_transition(y,fly,{x:-20,duration:600,delay:150}),j.start()}),J||add_render_callback(()=>{J=create_in_transition(q,fly,{x:-20,duration:600,delay:300}),J.start()}),transition_in(et.$$.fragment,rt),nt=!0)},o(rt){transition_out(et.$$.fragment,rt),nt=!1},d(rt){rt&&detach(t),rt&&detach(r),rt&&detach(o),rt&&detach(l),rt&&detach(h),Z.block.d(),Z.token=null,Z=null,it.block.d(),it.token=null,it=null,rt&&detach(Q),destroy_component(et,rt)}}}const func$1=e=>!e.priv,func_1$1=e=>!e.priv;function instance$6(e,t,r){let o,l;component_subscribe(e,modals,G=>r(4,l=G));var h=new Headers;h.append("Authorization","Token "+xxgc("rtnt")),h.append("Content-Type","application/json");var y={method:"GET",headers:h,redirect:"follow"};async function D(){return fetch(rtnUrl+"contactlist/",y).then(G=>G.text()).then(G=>JSON.parse(G)).catch(G=>G)}let O=D();async function F(){return fetch(rtnUrl+"sondages/edit/",y).then(G=>G.text()).then(G=>JSON.parse(G)).catch(G=>G)}let R=F();const B=()=>{r(0,O=D())},j=G=>{openModal(ModalDiffuse,{proj:G})},U=()=>openModal(ModalContactList,{id:"new",nom:"",jsonContent:"",updateBack:B}),q=G=>openModal(ModalContactList,Vt(zt({},G),{updateBack:B})),W=()=>{closeModal()};return e.$$.update=()=>{e.$$.dirty&16&&r(1,o=l[l.length-1])},[O,o,R,B,l,j,U,q,W]}class Campagnes extends SvelteComponent{constructor(t){super(),init(this,t,instance$6,create_fragment$7,safe_not_equal,{})}}/*!
 * paypal-js v5.0.6 (2022-05-17T15:34:05.007Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function findScript(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var o=createScriptElement(e,t),l=r.cloneNode();if(delete l.dataset.uidAuto,Object.keys(l.dataset).length!==Object.keys(o.dataset).length)return null;var h=!0;return Object.keys(l.dataset).forEach(function(y){l.dataset[y]!==o.dataset[y]&&(h=!1)}),h?r:null}function insertScriptElement(e){var t=e.url,r=e.attributes,o=e.onSuccess,l=e.onError,h=createScriptElement(t,r);h.onerror=l,h.onload=o,document.head.insertBefore(h,document.head.firstElementChild)}function processOptions(e){var t="https://www.paypal.com/sdk/js";e.sdkBaseURL&&(t=e.sdkBaseURL,delete e.sdkBaseURL),processMerchantID(e);var r=Object.keys(e).filter(function(h){return typeof e[h]!="undefined"&&e[h]!==null&&e[h]!==""}).reduce(function(h,y){var D=e[y].toString();return y.substring(0,5)==="data-"?h.dataAttributes[y]=D:h.queryParams[y]=D,h},{queryParams:{},dataAttributes:{}}),o=r.queryParams,l=r.dataAttributes;return{url:"".concat(t,"?").concat(objectToQueryString(o)),dataAttributes:l}}function objectToQueryString(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function parseErrorMessage(e){var t=e.split("/* Original Error:")[1];return t?t.replace(/\n/g,"").replace("*/","").trim():e}function createScriptElement(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(o){r.setAttribute(o,t[o]),o==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function processMerchantID(e){var t=e["merchant-id"],r=e["data-merchant-id"],o="",l="";return Array.isArray(t)?t.length>1?(o="*",l=t.toString()):o=t.toString():typeof t=="string"&&t.length>0?o=t:typeof r=="string"&&r.length>0&&(o="*",l=r),e["merchant-id"]=o,e["data-merchant-id"]=l,e}function loadScript(e,t){if(t===void 0&&(t=getDefaultPromiseImplementation()),validateArguments(e,t),typeof window=="undefined")return t.resolve(null);var r=processOptions(e),o=r.url,l=r.dataAttributes,h=l["data-namespace"]||"paypal",y=getPayPalWindowNamespace(h);return findScript(o,l)&&y?t.resolve(y):loadCustomScript({url:o,attributes:l},t).then(function(){var D=getPayPalWindowNamespace(h);if(D)return D;throw new Error("The window.".concat(h," global variable is not available."))})}function loadCustomScript(e,t){t===void 0&&(t=getDefaultPromiseImplementation()),validateArguments(e,t);var r=e.url,o=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof o!="undefined"&&typeof o!="object")throw new Error("Expected attributes to be an object.");return new t(function(l,h){if(typeof window=="undefined")return l();insertScriptElement({url:r,attributes:o,onSuccess:function(){return l()},onError:function(){var y=new Error('The script "'.concat(r,'" failed to load.'));return window.fetch?fetch(r).then(function(D){return D.status===200&&h(y),D.text()}).then(function(D){var O=parseErrorMessage(D);h(new Error(O))}).catch(function(D){h(D)}):h(y)}})})}function getDefaultPromiseImplementation(){if(typeof Promise=="undefined")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function getPayPalWindowNamespace(e){return window[e]}function validateArguments(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");if(typeof t!="undefined"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var modalSubscribe_svelte_svelte_type_style_lang="";function create_else_block$2(e){let t;return{c(){t=element("a"),t.textContent="\u2709\uFE0F Contactez nous pour d\xE9bloquer R\xE9tine Pro.",attr(t,"href","mailto:bonjour@jetevois.fr")},m(r,o){insert(r,t,o)},d(r){r&&detach(t)}}}function create_fragment$6(e){let t,r,o,l,h,y,D,O,F,R,B,j;function U(G,Y){return create_else_block$2}let W=U()(e);return{c(){t=element("div"),r=element("div"),o=element("h2"),o.textContent="R\xE9tine Pro",l=space(),h=element("div"),W.c(),y=space(),D=element("div"),O=element("button"),O.textContent="Close",attr(o,"class","mb-4 text-center"),attr(h,"class","container p-2 text-center"),attr(O,"class","svelte-rzy123"),attr(D,"class","actions svelte-rzy123"),attr(r,"class","contents svelte-rzy123"),attr(t,"role","dialog"),attr(t,"class","modal svelte-rzy123")},m(G,Y){insert(G,t,Y),append(t,r),append(r,o),append(r,l),append(r,h),W.m(h,null),append(r,y),append(r,D),append(D,O),R=!0,B||(j=[listen(O,"click",closeModal),listen(t,"introstart",e[0]),listen(t,"outroend",e[1])],B=!0)},p:noop$2,i(G){R||(add_render_callback(()=>{F||(F=create_bidirectional_transition(t,fly,{y:50},!0)),F.run(1)}),R=!0)},o(G){F||(F=create_bidirectional_transition(t,fly,{y:50},!1)),F.run(0),R=!1},d(G){G&&detach(t),W.d(),G&&F&&F.end(),B=!1,run_all(j)}}}function instance$5(e){loadScript({"client-id":"AQPbb5ZKZKLFDWoqxL6h_JPIkaD9_EC8LCImO6Di6_CjiWH2rwCtlIP0uA5LrAXvMJ4qGIl705IaQNF9",vault:!0,intent:"subscription"}).then(o=>{o.Buttons({style:{shape:"pill",color:"gold",layout:"vertical",label:"subscribe"},createSubscription(l,h){return h.subscription.create({plan_id:"P-43A47766190273210MK6BIAI"})},onApprove:(l,h)=>{alert(l.subscriptionID)}}).render("#paypal-button-container-P-43A47766190273210MK6BIAI")}).catch(o=>{console.error("failed to load the PayPal JS SDK script",o)});function t(o){bubble.call(this,e,o)}function r(o){bubble.call(this,e,o)}return[t,r]}class ModalSubscribe extends SvelteComponent{constructor(t){super(),init(this,t,instance$5,create_fragment$6,safe_not_equal,{})}}var account_svelte_svelte_type_style_lang="";function create_catch_block_1$1(e){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block_1$1(e){let t,r=e[18].email+"",o,l,h,y=e[18].sondage.length+"",D,O,F,R,B,j=e[18].created_at.split("T")[0]+"",U;return{c(){t=element("div"),o=text(r),l=space(),h=element("div"),D=text(y),O=text(" sondage(s) cr\xE9\xE9(s)."),F=space(),R=element("div"),B=text("Profil cr\xE9\xE9 le "),U=text(j),attr(t,"class","profileInfo svelte-47n95o"),attr(h,"class","profileInfo svelte-47n95o"),attr(R,"class","profileInfo svelte-47n95o")},m(q,W){insert(q,t,W),append(t,o),insert(q,l,W),insert(q,h,W),append(h,D),append(h,O),insert(q,F,W),insert(q,R,W),append(R,B),append(R,U)},p(q,W){W&2&&r!==(r=q[18].email+"")&&set_data(o,r),W&2&&y!==(y=q[18].sondage.length+"")&&set_data(D,y),W&2&&j!==(j=q[18].created_at.split("T")[0]+"")&&set_data(U,j)},d(q){q&&detach(t),q&&detach(l),q&&detach(h),q&&detach(F),q&&detach(R)}}}function create_pending_block_1$1(e){let t;return{c(){t=text("Chargement...")},m(r,o){insert(r,t,o)},p:noop$2,d(r){r&&detach(t)}}}function create_if_block_4$1(e){let t,r;return{c(){t=element("div"),t.textContent="Votre nouveau mot de passe n'est pas valable.",set_style(t,"color","red")},m(o,l){insert(o,t,l)},i(o){r||add_render_callback(()=>{r=create_in_transition(t,fly,{x:-100}),r.start()})},o:noop$2,d(o){o&&detach(t)}}}function create_if_block_3$2(e){let t,r;return{c(){t=element("div"),t.textContent="Votre mot de passe a \xE9t\xE9 modifi\xE9.",set_style(t,"color","green")},m(o,l){insert(o,t,l)},i(o){r||add_render_callback(()=>{r=create_in_transition(t,fly,{x:-100}),r.start()})},o:noop$2,d(o){o&&detach(t)}}}function create_catch_block$2(e){let t,r,o,l,h;return{c(){t=element("div"),t.textContent="Vous avez l'offre gratuite. Cliquez ci-dessous pour b\xE9n\xE9ficier de l'exp\xE9rience compl\xE8te R\xE9tine.",r=space(),o=element("div"),o.textContent="S'abonner \u{1F680}",attr(t,"class","planInfo svelte-47n95o"),attr(o,"class","btnAbonnement svelte-47n95o")},m(y,D){insert(y,t,D),insert(y,r,D),insert(y,o,D),l||(h=listen(o,"click",e[12]),l=!0)},p:noop$2,d(y){y&&detach(t),y&&detach(r),y&&detach(o),l=!1,h()}}}function create_then_block$2(e){let t;function r(h,y){if(h[18].plan==2)return create_if_block_1$2;if(h[18].plan==3)return create_if_block_2$2}let o=r(e),l=o&&o(e);return{c(){l&&l.c(),t=empty()},m(h,y){l&&l.m(h,y),insert(h,t,y)},p(h,y){o!==(o=r(h))&&(l&&l.d(1),l=o&&o(h),l&&(l.c(),l.m(t.parentNode,t)))},d(h){l&&l.d(h),h&&detach(t)}}}function create_if_block_2$2(e){let t;return{c(){t=element("div"),t.textContent="Vous avez l'offre corpo"},m(r,o){insert(r,t,o)},d(r){r&&detach(t)}}}function create_if_block_1$2(e){let t;return{c(){t=element("div"),t.textContent="Vous avez l'offre R\xE9tine Pro."},m(r,o){insert(r,t,o)},d(r){r&&detach(t)}}}function create_pending_block$2(e){let t;return{c(){t=element("div"),t.textContent="Chargement..."},m(r,o){insert(r,t,o)},p:noop$2,d(r){r&&detach(t)}}}function create_if_block$3(e){let t,r,o,l,h,y,D;const O=[e[6].props||{}];var F=e[6].component;function R(B){let j={};for(let U=0;U<O.length;U+=1)j=assign$1(j,O[U]);return{props:j}}return F&&(t=new F(R())),{c(){t&&create_component(t.$$.fragment),r=space(),o=element("div"),attr(o,"class","backdrop svelte-47n95o")},m(B,j){t&&mount_component(t,B,j),insert(B,r,j),insert(B,o,j),h=!0,y||(D=listen(o,"click",e[13]),y=!0)},p(B,j){const U=j&64?get_spread_update(O,[get_spread_object(B[6].props||{})]):{};if(F!==(F=B[6].component)){if(t){group_outros();const q=t;transition_out(q.$$.fragment,1,0,()=>{destroy_component(q,1)}),check_outros()}F?(t=new F(R()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else F&&t.$set(U)},i(B){h||(t&&transition_in(t.$$.fragment,B),add_render_callback(()=>{l||(l=create_bidirectional_transition(o,fade,{},!0)),l.run(1)}),h=!0)},o(B){t&&transition_out(t.$$.fragment,B),l||(l=create_bidirectional_transition(o,fade,{},!1)),l.run(0),h=!1},d(B){t&&destroy_component(t,B),B&&detach(r),B&&detach(o),B&&l&&l.end(),y=!1,D()}}}function create_default_slot$1(e){let t,r,o=e[6]&&create_if_block$3(e);return{c(){o&&o.c(),t=empty()},m(l,h){o&&o.m(l,h),insert(l,t,h),r=!0},p(l,h){l[6]?o?(o.p(l,h),h&64&&transition_in(o,1)):(o=create_if_block$3(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$5(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot,dt,ut,at,st,ht,_t,yt,ft={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block_1$1,then:create_then_block_1$1,catch:create_catch_block_1$1,value:18};handle_promise(F=e[1],ft);function vt(xt,kt){if(xt[5]=="success")return create_if_block_3$2;if(xt[5]=="error")return create_if_block_4$1}let pt=vt(e),mt=pt&&pt(e),gt={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$2,then:create_then_block$2,catch:create_catch_block$2,value:18};return handle_promise(dt=e[0],gt),st=new Modals({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}}}),{c(){t=element("h1"),t.textContent="Mon compte",r=space(),o=element("div"),l=element("div"),h=element("div"),y=element("h5"),y.textContent="\u{1F464} Mon profil",D=space(),O=element("div"),ft.block.c(),B=space(),j=element("div"),U=element("div"),q=element("h5"),q.textContent="\u{1F511} Changement de mot de passe",W=space(),G=element("div"),Y=element("input"),K=space(),X=element("input"),J=space(),Q=element("input"),et=space(),mt&&mt.c(),nt=space(),Z=element("button"),Z.textContent="Valider",rt=space(),tt=element("div"),ct=element("div"),lt=element("h5"),lt.textContent="\u2728 Mon abonnement",ot=space(),gt.block.c(),at=space(),create_component(st.$$.fragment),attr(t,"class","py-2 mb-3 text-center"),attr(O,"class","d-flex justify-content-center flex-column"),attr(h,"class","neuContainer p-4 svelte-47n95o"),attr(l,"class","col-12 col-md-6 p-3"),attr(Y,"class","input svelte-47n95o"),attr(Y,"type","password"),attr(Y,"placeholder","Ancien mot de passe"),attr(X,"class","input svelte-47n95o"),attr(X,"type","password"),attr(X,"placeholder","Nouveau mot de passe"),attr(Q,"class","input svelte-47n95o"),attr(Q,"type","password"),attr(Q,"placeholder","Confirmation du nouveau mot de passe"),attr(Z,"class","validateBtn svelte-47n95o"),attr(G,"class","mdpFields d-flex justify-content-center flex-column"),attr(U,"class","neuContainer p-4 svelte-47n95o"),attr(j,"class","col-12 col-md-6 p-3"),attr(ct,"class","neuContainer p-4 svelte-47n95o"),attr(tt,"class","col-12 p-3"),attr(o,"id","myAccount"),attr(o,"class","row p-3 mx-auto"),set_style(o,"max-width","1100px"),set_style(o,"width","85vw")},m(xt,kt){insert(xt,t,kt),insert(xt,r,kt),insert(xt,o,kt),append(o,l),append(l,h),append(h,y),append(h,D),append(h,O),ft.block.m(O,ft.anchor=null),ft.mount=()=>O,ft.anchor=null,append(o,B),append(o,j),append(j,U),append(U,q),append(U,W),append(U,G),append(G,Y),set_input_value(Y,e[2]),append(G,K),append(G,X),set_input_value(X,e[3]),append(G,J),append(G,Q),set_input_value(Q,e[4]),append(G,et),mt&&mt.m(G,null),append(G,nt),append(G,Z),append(o,rt),append(o,tt),append(tt,ct),append(ct,lt),append(ct,ot),gt.block.m(ct,gt.anchor=null),gt.mount=()=>ct,gt.anchor=null,insert(xt,at,kt),mount_component(st,xt,kt),ht=!0,_t||(yt=[listen(Y,"input",e[9]),listen(X,"input",e[10]),listen(Q,"input",e[11]),listen(Z,"click",e[7])],_t=!0)},p(xt,[kt]){e=xt,ft.ctx=e,kt&2&&F!==(F=e[1])&&handle_promise(F,ft)||update_await_block_branch(ft,e,kt),kt&4&&Y.value!==e[2]&&set_input_value(Y,e[2]),kt&8&&X.value!==e[3]&&set_input_value(X,e[3]),kt&16&&Q.value!==e[4]&&set_input_value(Q,e[4]),pt!==(pt=vt(e))&&(mt&&mt.d(1),mt=pt&&pt(e),mt&&(mt.c(),transition_in(mt,1),mt.m(G,nt))),gt.ctx=e,kt&1&&dt!==(dt=e[0])&&handle_promise(dt,gt)||update_await_block_branch(gt,e,kt);const Pt={};kt&524352&&(Pt.$$scope={dirty:kt,ctx:e}),st.$set(Pt)},i(xt){ht||(R||add_render_callback(()=>{R=create_in_transition(h,fly,{x:-80,delay:50}),R.start()}),transition_in(mt),it||add_render_callback(()=>{it=create_in_transition(U,fly,{x:-80,delay:150}),it.start()}),ut||add_render_callback(()=>{ut=create_in_transition(ct,fly,{x:-80,delay:250}),ut.start()}),transition_in(st.$$.fragment,xt),ht=!0)},o(xt){transition_out(st.$$.fragment,xt),ht=!1},d(xt){xt&&detach(t),xt&&detach(r),xt&&detach(o),ft.block.d(),ft.token=null,ft=null,mt&&mt.d(),gt.block.d(),gt.token=null,gt=null,xt&&detach(at),destroy_component(st,xt),_t=!1,run_all(yt)}}}function instance$4(e,t,r){let o,l;component_subscribe(e,modals,J=>r(8,l=J));var h=new Headers;h.append("Authorization","Token "+xxgc("rtnt")),h.append("Content-Type","application/json");async function y(){var J={method:"GET",headers:h,redirect:"follow"};return fetch(rtnUrl+"myplan/",J).then(Q=>{if(Q.ok)return Q.text();throw new Error("Something went wrong")}).then(Q=>JSON.parse(Q)).catch(Q=>{throw new Error("Something went wrong")})}async function D(){var J={method:"GET",headers:h,redirect:"follow"};return fetch(rtnUrl+"auth/user/",J).then(Q=>Q.text()).then(Q=>JSON.parse(Q)).catch(Q=>Q)}let O=y(),F=D(),R,B,j,U;function q(){var J={method:"POST",headers:h,redirect:"follow",body:JSON.stringify({new_password1:B,new_password2:j,old_password:R})};return fetch(rtnUrl+"auth/password/change/",J).then(Q=>Q.text()).then(Q=>{let et=JSON.parse(Q);Object.values(et)[0]=="New password has been saved."?r(5,U="success"):r(5,U="error")}).catch(Q=>Q)}function W(){R=this.value,r(2,R)}function G(){B=this.value,r(3,B)}function Y(){j=this.value,r(4,j)}const K=()=>openModal(ModalSubscribe),X=()=>{closeModal()};return e.$$.update=()=>{e.$$.dirty&256&&r(6,o=l[l.length-1])},[O,F,R,B,j,U,o,q,l,W,G,Y,K,X]}class Account extends SvelteComponent{constructor(t){super(),init(this,t,instance$4,create_fragment$5,safe_not_equal,{})}}var projetLine_svelte_svelte_type_style_lang="";function create_if_block$2(e){let t,r=e[0].reponse.length.toString()+" r\xE9p.",o;return{c(){t=element("div"),o=text(r)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&1&&r!==(r=l[0].reponse.length.toString()+" r\xE9p.")&&set_data(o,r)},d(l){l&&detach(t)}}}function create_fragment$4(e){let t,r,o,l=e[0].nom_proj+"",h,y,D,O,F=e[0].crea_date.split("T")[0]+"",R,B,j,U,q,W,G,Y,K=!e[1]&&create_if_block$2(e);return{c(){t=element("div"),r=element("div"),o=element("div"),h=text(l),y=space(),D=element("div"),O=element("div"),R=text(F),B=space(),K&&K.c(),j=space(),U=element("div"),q=element("img"),attr(r,"class","p-1 pr-1 w-100 h-75 m-0"),attr(O,"class","d-fk"),attr(D,"class","px-3 flex-fill d-flex justify-content-between align-items-center w-100 text-center"),attr(q,"class","w-100"),src_url_equal(q.src,W=e[1]?"/assets/icons/delete.svg":"/assets/icons/share.svg")||attr(q,"src",W),attr(q,"alt","bouton partger"),attr(U,"class","threeDot hvr-bounce-in svelte-13gawwi"),attr(t,"class","neuProjet d-flex align-items-center justify-content-around hvr-forward svelte-13gawwi")},m(X,J){insert(X,t,J),append(t,r),append(r,o),append(o,h),append(t,y),append(t,D),append(D,O),append(O,R),append(D,B),K&&K.m(D,null),append(t,j),append(t,U),append(U,q),G||(Y=[listen(U,"click",stop_propagation(e[2])),listen(t,"click",e[3])],G=!0)},p(X,[J]){J&1&&l!==(l=X[0].nom_proj+"")&&set_data(h,l),J&1&&F!==(F=X[0].crea_date.split("T")[0]+"")&&set_data(R,F),X[1]||K.p(X,J)},i:noop$2,o:noop$2,d(X){X&&detach(t),K&&K.d(),G=!1,run_all(Y)}}}function shareBtn(e){navigator.clipboard.writeText("retine.io/sondage#"+e.toString()).then(function(){Swal.fire("Lien du sondage copi\xE9 !","retine.io/sondage#"+e.toString(),"success")},function(){console.log("error")})}function instance$3(e,t,r){let{sondage:o}=t,{loadSondage:l}=t,{updateFun:h}=t,{loadSView:y}=t,D=o.reponse.length==0&&o.priv==!0;async function O(B){Swal.fire({title:"Supprimer le sondage?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Supprimer le sondage",cancelButtonText:"Annuler"}).then(j=>{if(j.isConfirmed){var U=new Headers;U.append("Authorization","Token "+xxgc("rtnt"));var q={method:"DELETE",headers:U,redirect:"follow"};return fetch(`${rtnUrl}sondages/edit/${B}/`,q).then(W=>W.text()).then(W=>{Swal.fire("Sondage supprim\xE9","Votre sondage ainsi que les r\xE9ponses ont \xE9t\xE9 supprim\xE9s.","success").then(()=>(h(),W))}).catch(W=>W)}})}const F=()=>{D?O(o.id):shareBtn(o.id_rtn),window.event.stopPropagation()},R=()=>{D?(r(0,o.jsonContent=JSON.parse(o.jsonContent),o),l(o,o.id)):y(o)};return e.$$set=B=>{"sondage"in B&&r(0,o=B.sondage),"loadSondage"in B&&r(4,l=B.loadSondage),"updateFun"in B&&r(5,h=B.updateFun),"loadSView"in B&&r(6,y=B.loadSView)},[o,D,F,R,l,h,y]}class ProjetLine extends SvelteComponent{constructor(t){super(),init(this,t,instance$3,create_fragment$4,safe_not_equal,{sondage:0,loadSondage:4,updateFun:5,loadSView:6})}}var summary_svelte_svelte_type_style_lang="";function get_each_context(e,t,r){const o=e.slice();return o[13]=t[r],o[15]=r,o}function get_each_context_1(e,t,r){const o=e.slice();return o[13]=t[r],o[15]=r,o}function create_catch_block_1(e){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block_1(e){let t;function r(h,y){return h[2].length>0?create_if_block_3$1:create_else_block$1}let o=r(e),l=o(e);return{c(){l.c(),t=empty()},m(h,y){l.m(h,y),insert(h,t,y)},p(h,y){o!==(o=r(h))&&(l.d(1),l=o(h),l&&(l.c(),transition_in(l,1),l.m(t.parentNode,t)))},i(h){transition_in(l)},o:noop$2,d(h){l.d(h),h&&detach(t)}}}function create_else_block$1(e){let t,r,o;return{c(){t=element("div"),r=element("div"),r.innerHTML=`<div class="d-flex flex-column flex-md-row justify-content-around align-items-center"><div class="pr-0 pr-md-4"><lottie-player src="https://assets1.lottiefiles.com/packages/lf20_e8zq5gga.json" background="transparent" speed="1" style="width:250px; margin:auto;" autoplay=""></lottie-player></div> 
            <div class="margin:auto;"><h4>Bienvenue sur R\xE9tine \u{1F680}</h4> 
              <p>Voici votre tableau de bord, qui vous donnera une vue d&#39;ensemble de vos projets les plus r\xE9cents.</p> 
              <p>Cr\xE9ez d\xE8s \xE0 pr\xE9sent votre premier sondage, \xE0 partir de 0 ou en chargeant un de nos mod\xE8les adapt\xE9 \xE0 votre situation !</p></div></div>`,attr(r,"class","neuProjet p-4 svelte-19t32c0"),attr(t,"class","col-12 col-sm-12 col-lg-12")},m(l,h){insert(l,t,h),append(t,r)},i(l){o||add_render_callback(()=>{o=create_in_transition(r,fly,{y:50,duration:600,delay:50}),o.start()})},o:noop$2,d(l){l&&detach(t)}}}function create_if_block_3$1(e){let t,r,o,l,h,y,D,O,F;return{c(){t=element("div"),r=element("div"),o=element("h4"),o.textContent="Derni\xE8res r\xE9ponses \xE0 vos sondages",l=space(),h=element("div"),y=element("canvas"),attr(y,"id","repChart"),attr(h,"class","flex-fill p-3"),attr(r,"class","neuProjet p-4 d-flex flex-column justify-content-between svelte-19t32c0"),set_style(r,"min-height","350px"),attr(t,"class","col-12 mb-3")},m(R,B){insert(R,t,B),append(t,r),append(r,o),append(r,l),append(r,h),append(h,y),O||(F=action_destroyer(e[6].call(null,y)),O=!0)},i(R){D||add_render_callback(()=>{D=create_in_transition(r,fly,{y:50,duration:600,delay:50}),D.start()})},o:noop$2,d(R){R&&detach(t),O=!1,F()}}}function create_pending_block_1(e){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_catch_block$1(e){let t,r=e[17]+"",o;return{c(){t=element("div"),o=text(r)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&16&&r!==(r=l[17]+"")&&set_data(o,r)},i:noop$2,o:noop$2,d(l){l&&detach(t)}}}function create_then_block$1(e){let t=e[12].filter(func_1).length>0,r,o=e[12].filter(func).length>0,l,h,y=t&&create_if_block_1$1(e),D=o&&create_if_block$1(e);return{c(){y&&y.c(),r=space(),D&&D.c(),l=empty()},m(O,F){y&&y.m(O,F),insert(O,r,F),D&&D.m(O,F),insert(O,l,F),h=!0},p(O,F){F&16&&(t=O[12].filter(func_1).length>0),t?y?(y.p(O,F),F&16&&transition_in(y,1)):(y=create_if_block_1$1(O),y.c(),transition_in(y,1),y.m(r.parentNode,r)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros()),F&16&&(o=O[12].filter(func).length>0),o?D?(D.p(O,F),F&16&&transition_in(D,1)):(D=create_if_block$1(O),D.c(),transition_in(D,1),D.m(l.parentNode,l)):D&&(group_outros(),transition_out(D,1,1,()=>{D=null}),check_outros())},i(O){h||(transition_in(y),transition_in(D),h=!0)},o(O){transition_out(y),transition_out(D),h=!1},d(O){y&&y.d(O),O&&detach(r),D&&D.d(O),O&&detach(l)}}}function create_if_block_1$1(e){let t,r,o,l,h=[],y=new Map,D,O,F=e[12].reverse().filter(func_2);const R=B=>B[13].id;for(let B=0;B<F.length;B+=1){let j=get_each_context_1(e,F,B),U=R(j);y.set(U,h[B]=create_each_block_1(U,j))}return{c(){t=element("div"),r=element("div"),o=element("h4"),o.textContent="Vos sondages r\xE9cents",l=space();for(let B=0;B<h.length;B+=1)h[B].c();attr(o,"class","mb-4"),attr(r,"class","neuProjet px-3 py-4 svelte-19t32c0"),attr(t,"class","col-12 col-sm-6 col-lg-6 mb-4")},m(B,j){insert(B,t,j),append(t,r),append(r,o),append(r,l);for(let U=0;U<h.length;U+=1)h[U].m(r,null);O=!0},p(B,j){j&147&&(F=B[12].reverse().filter(func_2),group_outros(),h=update_keyed_each(h,j,R,1,B,F,y,r,outro_and_destroy_block,create_each_block_1,null,get_each_context_1),check_outros())},i(B){if(!O){for(let j=0;j<F.length;j+=1)transition_in(h[j]);D||add_render_callback(()=>{D=create_in_transition(r,fly,{y:50,duration:600,delay:200}),D.start()}),O=!0}},o(B){for(let j=0;j<h.length;j+=1)transition_out(h[j]);O=!1},d(B){B&&detach(t);for(let j=0;j<h.length;j+=1)h[j].d()}}}function create_if_block_2$1(e){let t,r,o,l,h,y;return r=new ProjetLine({props:{loadSondage:e[0],sondage:e[13],loadSView:e[1],updateFun:e[7]}}),{c(){t=element("div"),create_component(r.$$.fragment),o=space(),l=element("hr"),h=space(),attr(l,"class","projectSep svelte-19t32c0")},m(D,O){insert(D,t,O),mount_component(r,t,null),append(t,o),append(t,l),append(t,h),y=!0},p(D,O){const F={};O&1&&(F.loadSondage=D[0]),O&16&&(F.sondage=D[13]),O&2&&(F.loadSView=D[1]),r.$set(F)},i(D){y||(transition_in(r.$$.fragment,D),y=!0)},o(D){transition_out(r.$$.fragment,D),y=!1},d(D){D&&detach(t),destroy_component(r)}}}function create_each_block_1(e,t){let r,o,l,h=t[15]<3&&create_if_block_2$1(t);return{key:e,first:null,c(){r=empty(),h&&h.c(),o=empty(),this.first=r},m(y,D){insert(y,r,D),h&&h.m(y,D),insert(y,o,D),l=!0},p(y,D){t=y,t[15]<3?h?(h.p(t,D),D&16&&transition_in(h,1)):(h=create_if_block_2$1(t),h.c(),transition_in(h,1),h.m(o.parentNode,o)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros())},i(y){l||(transition_in(h),l=!0)},o(y){transition_out(h),l=!1},d(y){y&&detach(r),h&&h.d(y),y&&detach(o)}}}function create_if_block$1(e){let t,r,o,l,h=[],y=new Map,D,O,F=e[12].reverse().filter(func_3);const R=B=>B[13].id;for(let B=0;B<F.length;B+=1){let j=get_each_context(e,F,B),U=R(j);y.set(U,h[B]=create_each_block(U,j))}return{c(){t=element("div"),r=element("div"),o=element("h4"),o.textContent="Reprenez vos brouillons",l=space();for(let B=0;B<h.length;B+=1)h[B].c();attr(o,"class","mb-4"),attr(r,"class","neuProjet px-3 py-4 svelte-19t32c0"),attr(t,"class","col-12 col-sm-6 col-lg-6 mb-4")},m(B,j){insert(B,t,j),append(t,r),append(r,o),append(r,l);for(let U=0;U<h.length;U+=1)h[U].m(r,null);O=!0},p(B,j){j&147&&(F=B[12].reverse().filter(func_3),group_outros(),h=update_keyed_each(h,j,R,1,B,F,y,r,outro_and_destroy_block,create_each_block,null,get_each_context),check_outros())},i(B){if(!O){for(let j=0;j<F.length;j+=1)transition_in(h[j]);D||add_render_callback(()=>{D=create_in_transition(r,fly,{y:50,duration:600,delay:300}),D.start()}),O=!0}},o(B){for(let j=0;j<h.length;j+=1)transition_out(h[j]);O=!1},d(B){B&&detach(t);for(let j=0;j<h.length;j+=1)h[j].d()}}}function create_each_block(e,t){let r,o,l,h,y,D;return o=new ProjetLine({props:{loadSondage:t[0],sondage:t[13],loadSView:t[1],updateFun:t[7]}}),{key:e,first:null,c(){r=element("div"),create_component(o.$$.fragment),l=space(),h=element("hr"),y=space(),attr(h,"class","projectSep svelte-19t32c0"),this.first=r},m(O,F){insert(O,r,F),mount_component(o,r,null),append(r,l),append(r,h),append(r,y),D=!0},p(O,F){t=O;const R={};F&1&&(R.loadSondage=t[0]),F&16&&(R.sondage=t[13]),F&2&&(R.loadSView=t[1]),o.$set(R)},i(O){D||(transition_in(o.$$.fragment,O),D=!0)},o(O){transition_out(o.$$.fragment,O),D=!1},d(O){O&&detach(r),destroy_component(o)}}}function create_pending_block$1(e){let t;return{c(){t=element("div"),attr(t,"class","col-12")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_fragment$3(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block_1,then:create_then_block_1,catch:create_catch_block_1,value:18};handle_promise(y=e[3],et);let nt={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$1,then:create_then_block$1,catch:create_catch_block$1,value:12,error:17,blocks:[,,,]};return handle_promise(K=e[4],nt),{c(){t=element("h1"),t.textContent="Votre tableau de bord",r=space(),o=element("div"),l=space(),h=element("div"),et.block.c(),D=space(),O=element("div"),F=element("div"),R=element("div"),B=element("div"),B.textContent="\u{1F58C}\uFE0F Cr\xE9er un nouveau projet",U=space(),q=element("div"),W=element("div"),W.textContent="\u{1F4DA} Charger un mod\xE8le",Y=space(),nt.block.c(),attr(t,"class","py-2 mb-3 text-center"),attr(o,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3"),attr(B,"class","btnCreate hvr-float d-flex align-items-center justify-content-center text-center svelte-19t32c0"),attr(R,"class","col-6 my-2"),attr(W,"class","btnCreate hvr-float d-flex align-items-center justify-content-center text-center svelte-19t32c0"),set_style(W,"background-color","#E7BB734D"),set_style(W,"color","black"),attr(q,"class","col-6 my-2"),attr(F,"class","row"),attr(O,"class","col-12 col-sm-12 col-lg-12 my-4"),attr(h,"id","monDashboard"),attr(h,"class","row p-3 w-100 mx-auto mb-5"),set_style(h,"max-width","1100px")},m(Z,it){insert(Z,t,it),insert(Z,r,it),insert(Z,o,it),insert(Z,l,it),insert(Z,h,it),et.block.m(h,et.anchor=null),et.mount=()=>h,et.anchor=D,append(h,D),append(h,O),append(O,F),append(F,R),append(R,B),append(F,U),append(F,q),append(q,W),append(h,Y),nt.block.m(h,nt.anchor=null),nt.mount=()=>h,nt.anchor=null,X=!0,J||(Q=[listen(B,"click",e[8]),listen(W,"click",e[9])],J=!0)},p(Z,[it]){e=Z,et.ctx=e,it&8&&y!==(y=e[3])&&handle_promise(y,et)||update_await_block_branch(et,e,it),nt.ctx=e,it&16&&K!==(K=e[4])&&handle_promise(K,nt)||update_await_block_branch(nt,e,it)},i(Z){X||(transition_in(et.block),j||add_render_callback(()=>{j=create_in_transition(B,fly,{y:50,duration:600,delay:200}),j.start()}),G||add_render_callback(()=>{G=create_in_transition(W,fly,{y:50,duration:600,delay:200}),G.start()}),transition_in(nt.block),X=!0)},o(Z){for(let it=0;it<3;it+=1){const rt=nt.blocks[it];transition_out(rt)}X=!1},d(Z){Z&&detach(t),Z&&detach(r),Z&&detach(o),Z&&detach(l),Z&&detach(h),et.block.d(),et.token=null,et=null,nt.block.d(),nt.token=null,nt=null,J=!1,run_all(Q)}}}const func=e=>e.priv,func_1=e=>!e.priv,func_2=e=>!e.priv,func_3=e=>e.reponse.length==0&&e.priv;function instance$2(e,t,r){function o(W){activePageStore.set(W)}let{loadSondage:l}=t,{loadSView:h}=t,y=[];async function D(){var W=new Headers;W.append("Authorization","Token "+xxgc("rtnt")),W.append("Content-Type","application/json");var G={method:"GET",headers:W,redirect:"follow"};return fetch(rtnUrl+"summaryreps/",G).then(Y=>Y.text()).then(async Y=>{r(2,y=JSON.parse(Y))}).catch(Y=>Y)}let O=D();function F(W){if(y.length>0){let G=getDaysArray(new Date().setDate(new Date().getDate()-7),new Date().setDate(new Date().getDate())).map(Y=>Y.toISOString().slice(0,10)).map(Y=>Y.replaceAll("-","/"));r(2,y=y.map((Y,K)=>({label:Y.label,data:G.map(X=>countOccurrences(Y.data.map(J=>J.replaceAll("-","/").split(" ")[0].split("T")[0]),X)),tension:.2,borderColor:Y.color,backgroundColor:Y.color,borderRadius:5}))),new Chart(W,{type:"line",data:{labels:G,datasets:y},options:{scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},datalabels:{color:"white"}}}})}}async function R(){var W=new Headers;W.append("Authorization","Token "+xxgc("rtnt")),W.append("Content-Type","application/json");var G={method:"GET",headers:W,redirect:"follow"};return fetch(rtnUrl+"sondages/edit/",G).then(Y=>Y.text()).then(Y=>JSON.parse(Y)).catch(Y=>Y)}let B=R();const j=()=>{r(4,B=R()),r(3,O=D())},U=()=>l("new"),q=()=>o("templates");return e.$$set=W=>{"loadSondage"in W&&r(0,l=W.loadSondage),"loadSView"in W&&r(1,h=W.loadSView)},[l,h,y,O,B,o,F,j,U,q]}class Summary extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$3,safe_not_equal,{loadSondage:0,loadSView:1})}}var _dash_svelte_svelte_type_style_lang="";function create_if_block_7(e){let t,r;return t=new Account({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p:noop$2,i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_if_block_6(e){let t,r;return t=new Campagnes({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p:noop$2,i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_if_block_5(e){let t,r;return t=new Templates({props:{loadSondage:e[3]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p:noop$2,i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_if_block_4(e){let t,r;return t=new ProjectView({props:{projData:e[2]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p(o,l){const h={};l&4&&(h.projData=o[2]),t.$set(h)},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_if_block_3(e){let t,r;return t=new ProjectsList({props:{loadSondage:e[3],loadSView:e[4]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p:noop$2,i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_if_block_1(e){let t,r,o,l;const h=[create_if_block_2,create_else_block],y=[];function D(O,F){return O[1].proj.jsonContent.length!=0?0:1}return t=D(e),r=y[t]=h[t](e),{c(){r.c(),o=empty()},m(O,F){y[t].m(O,F),insert(O,o,F),l=!0},p(O,F){let R=t;t=D(O),t===R?y[t].p(O,F):(group_outros(),transition_out(y[R],1,1,()=>{y[R]=null}),check_outros(),r=y[t],r?r.p(O,F):(r=y[t]=h[t](O),r.c()),transition_in(r,1),r.m(o.parentNode,o))},i(O){l||(transition_in(r),l=!0)},o(O){transition_out(r),l=!1},d(O){y[t].d(O),O&&detach(o)}}}function create_if_block(e){let t,r;return t=new Summary({props:{loadSondage:e[3],loadSView:e[4]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p:noop$2,i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_else_block(e){let t,r;return t=new Editor({props:{loadSondage:e[3]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p:noop$2,i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_if_block_2(e){let t,r;return t=new Editor({props:{sondageEnCreation:e[1].proj,idSondage:e[1].id,loadSondage:e[3]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p(o,l){const h={};l&2&&(h.sondageEnCreation=o[1].proj),l&2&&(h.idSondage=o[1].id),t.$set(h)},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_key_block(e){let t,r,o,l,h,y;const D=[create_if_block,create_if_block_1,create_if_block_3,create_if_block_4,create_if_block_5,create_if_block_6,create_if_block_7],O=[];function F(R,B){return R[0]==="summary"?0:R[0]==="editor"?1:R[0]==="projects"?2:R[0]==="projectView"?3:R[0]==="templates"?4:R[0]==="contacts"?5:R[0]==="account"?6:-1}return~(r=F(e))&&(o=O[r]=D[r](e)),{c(){t=element("div"),o&&o.c(),attr(t,"class","svelte-o2mlfh")},m(R,B){insert(R,t,B),~r&&O[r].m(t,null),y=!0},p(R,B){let j=r;r=F(R),r===j?~r&&O[r].p(R,B):(o&&(group_outros(),transition_out(O[j],1,1,()=>{O[j]=null}),check_outros()),~r?(o=O[r],o?o.p(R,B):(o=O[r]=D[r](R),o.c()),transition_in(o,1),o.m(t,null)):o=null)},i(R){y||(transition_in(o),add_render_callback(()=>{h&&h.end(1),l=create_in_transition(t,fly,{x:-100}),l.start()}),y=!0)},o(R){transition_out(o),l&&l.invalidate(),h=create_out_transition(t,fly,{x:-50}),y=!1},d(R){R&&detach(t),~r&&O[r].d(),R&&h&&h.end()}}}function create_fragment$2(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W,G,Y,K,X,J,Q,et,nt,Z,it,rt,tt,ct,lt,ot,dt,ut,at,st,ht,_t,yt,ft,vt,pt,mt,gt,xt,kt,Pt,St,Et,Mt,bt,wt,Ct,Tt,Lt=e[0],It,Rt,Ft,Ot=create_key_block(e);return{c(){t=element("link"),r=space(),o=element("div"),l=element("div"),h=element("nav"),y=element("div"),D=element("div"),O=element("div"),O.innerHTML='<img src="assets/faviconBlanc.ico" style="height:24px;" alt="Logo de r\xE9tine" class="svelte-o2mlfh"/>',F=space(),R=element("div"),B=element("a"),j=element("i"),U=space(),q=element("span"),q.textContent="Dashboard",G=space(),Y=element("a"),K=element("i"),X=space(),J=element("span"),J.textContent="Cr\xE9er",et=space(),nt=element("a"),Z=element("i"),it=space(),rt=element("span"),rt.textContent="Projets",ct=space(),lt=element("a"),ot=element("i"),dt=space(),ut=element("span"),ut.textContent="Mod\xE8les",st=space(),ht=element("a"),_t=element("i"),yt=space(),ft=element("span"),ft.textContent="Contacts",pt=space(),mt=element("div"),gt=element("a"),xt=element("i"),kt=space(),Pt=element("span"),Pt.textContent="Mon compte",Et=space(),Mt=element("a"),Mt.innerHTML='<i class="bx bx-log-out nav_icon svelte-o2mlfh"></i>  <span class="nav_name svelte-o2mlfh">D\xE9connexion</span>',bt=space(),wt=element("div"),Ct=element("main"),Tt=element("div"),Ot.c(),attr(t,"rel","stylesheet"),attr(t,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),attr(t,"class","svelte-o2mlfh"),attr(O,"class","p-0 mb-2 svelte-o2mlfh"),set_style(O,"font-family","Lexend"),set_style(O,"color","white"),set_style(O,"font-size","1.2rem"),set_style(O,"font-weight","600"),set_style(O,"cursor","pointer"),attr(D,"class","nav_link navbar-brand svelte-o2mlfh"),attr(j,"class","bx bxs-home nav_icon svelte-o2mlfh"),attr(q,"class","nav_name svelte-o2mlfh"),attr(B,"href","#"),attr(B,"class",W=null_to_empty(e[0]=="summary"?"nav_link active":"nav_link ")+" svelte-o2mlfh"),attr(K,"class","bx bx-paint nav_icon svelte-o2mlfh"),attr(J,"class","nav_name svelte-o2mlfh"),attr(Y,"href","#"),attr(Y,"id","creatorTabBtn"),attr(Y,"class",Q=null_to_empty(e[0]=="editor"?"nav_link active":"nav_link")+" svelte-o2mlfh"),attr(Z,"class","bx bx-grid-alt nav_icon svelte-o2mlfh"),attr(rt,"class","nav_name svelte-o2mlfh"),attr(nt,"href","#"),attr(nt,"class",tt=null_to_empty(e[0]=="projects"?"nav_link active":"nav_link")+" svelte-o2mlfh"),attr(ot,"class","bx bx-library nav_icon svelte-o2mlfh"),attr(ut,"class","nav_name svelte-o2mlfh"),attr(lt,"href","#"),attr(lt,"class",at=null_to_empty(e[0]=="templates"?"nav_link active":"nav_link")+" svelte-o2mlfh"),attr(_t,"class","bx bxs-megaphone nav_icon svelte-o2mlfh"),attr(ft,"class","nav_name svelte-o2mlfh"),attr(ht,"href","#"),attr(ht,"class",vt=null_to_empty(e[0]=="contacts"?"nav_link active":"nav_link")+" svelte-o2mlfh"),attr(R,"class","nav_list svelte-o2mlfh"),attr(y,"class","svelte-o2mlfh"),attr(xt,"class","bx bxs-user-account nav_icon svelte-o2mlfh"),attr(Pt,"class","nav_name svelte-o2mlfh"),attr(gt,"href","#"),attr(gt,"class",St=null_to_empty(e[0]=="account"?"nav_link active":"nav_link")+" svelte-o2mlfh"),attr(Mt,"href","/"),attr(Mt,"class","nav_link svelte-o2mlfh"),attr(mt,"class","svelte-o2mlfh"),attr(h,"class","nav svelte-o2mlfh"),attr(l,"class","l-navbar svelte-o2mlfh"),attr(Tt,"class","gridForAnimation svelte-o2mlfh"),attr(Ct,"class","pt-3 px-1 pb-5 d-flex flex-column align-items-center svelte-o2mlfh"),set_style(Ct,"min-height","100vh"),attr(wt,"class","container-fluid px-0 px-md-1 svelte-o2mlfh"),attr(o,"class","body-pd svelte-o2mlfh")},m(At,Dt){append(document.head,t),insert(At,r,Dt),insert(At,o,Dt),append(o,l),append(l,h),append(h,y),append(y,D),append(D,O),append(y,F),append(y,R),append(R,B),append(B,j),append(B,U),append(B,q),append(R,G),append(R,Y),append(Y,K),append(Y,X),append(Y,J),append(R,et),append(R,nt),append(nt,Z),append(nt,it),append(nt,rt),append(R,ct),append(R,lt),append(lt,ot),append(lt,dt),append(lt,ut),append(R,st),append(R,ht),append(ht,_t),append(ht,yt),append(ht,ft),append(h,pt),append(h,mt),append(mt,gt),append(gt,xt),append(gt,kt),append(gt,Pt),append(mt,Et),append(mt,Mt),append(o,bt),append(o,wt),append(wt,Ct),append(Ct,Tt),Ot.m(Tt,null),It=!0,Rt||(Ft=[listen(O,"click",e[5]),listen(B,"click",e[6]),listen(Y,"click",e[7]),listen(nt,"click",e[8]),listen(lt,"click",e[9]),listen(ht,"click",e[10]),listen(gt,"click",e[11])],Rt=!0)},p(At,[Dt]){(!It||Dt&1&&W!==(W=null_to_empty(At[0]=="summary"?"nav_link active":"nav_link ")+" svelte-o2mlfh"))&&attr(B,"class",W),(!It||Dt&1&&Q!==(Q=null_to_empty(At[0]=="editor"?"nav_link active":"nav_link")+" svelte-o2mlfh"))&&attr(Y,"class",Q),(!It||Dt&1&&tt!==(tt=null_to_empty(At[0]=="projects"?"nav_link active":"nav_link")+" svelte-o2mlfh"))&&attr(nt,"class",tt),(!It||Dt&1&&at!==(at=null_to_empty(At[0]=="templates"?"nav_link active":"nav_link")+" svelte-o2mlfh"))&&attr(lt,"class",at),(!It||Dt&1&&vt!==(vt=null_to_empty(At[0]=="contacts"?"nav_link active":"nav_link")+" svelte-o2mlfh"))&&attr(ht,"class",vt),(!It||Dt&1&&St!==(St=null_to_empty(At[0]=="account"?"nav_link active":"nav_link")+" svelte-o2mlfh"))&&attr(gt,"class",St),Dt&1&&safe_not_equal(Lt,Lt=At[0])?(group_outros(),transition_out(Ot,1,1,noop$2),check_outros(),Ot=create_key_block(At),Ot.c(),transition_in(Ot,1),Ot.m(Tt,null)):Ot.p(At,Dt)},i(At){It||(transition_in(Ot),It=!0)},o(At){transition_out(Ot),It=!1},d(At){detach(t),At&&detach(r),At&&detach(o),Ot.d(At),Rt=!1,run_all(Ft)}}}function instance$1(e,t,r){let o;activePageStore.subscribe(W=>{r(0,o=W)});let l={proj:{nom_proj:"",color:"",jsonContent:[]},id:null};const h=(W,G=null)=>{W=="new"?r(1,l={proj:{nom_proj:"",color:"",jsonContent:[]},id:G}):r(1,l={proj:W,id:G}),r(0,o="editor")};let y;return[o,l,y,h,W=>{r(2,y=W),r(0,o="projectView")},()=>r(0,o="summary"),()=>r(0,o="summary"),()=>{h("new")},()=>r(0,o="projects"),()=>r(0,o="templates"),()=>r(0,o="contacts"),()=>r(0,o="account")]}class Dash extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$2,safe_not_equal,{})}}var sondage_svelte_svelte_type_style_lang="";function create_catch_block(e){let t=e[5]+"",r;return{c(){r=text(t)},m(o,l){insert(o,r,l)},p:noop$2,i:noop$2,o:noop$2,d(o){o&&detach(r)}}}function create_then_block(e){let t,r,o,l;return r=new Chat({props:{chatContent:e[4],scode:e[0]}}),{c(){t=element("div"),create_component(r.$$.fragment),attr(t,"class","w-100 h-100")},m(h,y){insert(h,t,y),mount_component(r,t,null),l=!0},p:noop$2,i(h){l||(transition_in(r.$$.fragment,h),o||add_render_callback(()=>{o=create_in_transition(t,blur,{duration:200}),o.start()}),l=!0)},o(h){transition_out(r.$$.fragment,h),l=!1},d(h){h&&detach(t),destroy_component(r)}}}function create_pending_block(e){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_fragment$1(e){let t,r,o,l={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:4,error:5,blocks:[,,,]};return handle_promise(e[1],l),{c(){t=element("div"),r=element("div"),l.block.c(),attr(r,"class","containerR svelte-40c271"),attr(t,"class","body svelte-40c271")},m(h,y){insert(h,t,y),append(t,r),l.block.m(r,l.anchor=null),l.mount=()=>r,l.anchor=null,o=!0},p(h,[y]){e=h,update_await_block_branch(l,e,y)},i(h){o||(transition_in(l.block),o=!0)},o(h){for(let y=0;y<3;y+=1){const D=l.blocks[y];transition_out(D)}o=!1},d(h){h&&detach(t),l.block.d(),l.token=null,l=null}}}function instance(e){let t=window.location.href.split("#")[1];async function r(){var l=new Headers;return l.append("Content-Type","application/json"),fetch(`${rtnUrl}sondages/pub/${t}/`,{method:"GET",headers:l,redirect:"follow"}).then(h=>h.text()).then(h=>{let y=JSON.parse(h);return y.jsonContent=JSON.parse(y.jsonContent),console.log(y),y}).catch(h=>{throw new Error(h)})}let o=r();return[t,o]}class Sondage extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment$1,safe_not_equal,{})}}function create_default_slot_3(e){let t,r;return t=new Home({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_default_slot_2(e){let t,r;return t=new Dash({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_default_slot_1(e){let t,r;return t=new Sondage({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_default_slot(e){let t,r,o,l,h,y;return t=new Route({props:{path:"/",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:e}}}),o=new Route({props:{path:"dashboard",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:e}}}),h=new Route({props:{path:"sondage",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),r=space(),create_component(o.$$.fragment),l=space(),create_component(h.$$.fragment)},m(D,O){mount_component(t,D,O),insert(D,r,O),mount_component(o,D,O),insert(D,l,O),mount_component(h,D,O),y=!0},p(D,O){const F={};O&1&&(F.$$scope={dirty:O,ctx:D}),t.$set(F);const R={};O&1&&(R.$$scope={dirty:O,ctx:D}),o.$set(R);const B={};O&1&&(B.$$scope={dirty:O,ctx:D}),h.$set(B)},i(D){y||(transition_in(t.$$.fragment,D),transition_in(o.$$.fragment,D),transition_in(h.$$.fragment,D),y=!0)},o(D){transition_out(t.$$.fragment,D),transition_out(o.$$.fragment,D),transition_out(h.$$.fragment,D),y=!1},d(D){destroy_component(t,D),D&&detach(r),destroy_component(o,D),D&&detach(l),destroy_component(h,D)}}}function create_fragment(e){let t,r,o,l,h,y,D,O,F,R,B,j,U,q,W;return q=new Router({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),{c(){t=element("link"),r=element("link"),o=text(`^\r
  `),l=element("link"),h=element("script"),D=element("link"),O=element("script"),R=element("script"),j=space(),U=element("main"),create_component(q.$$.fragment),attr(t,"href","https://fonts.googleapis.com/css2?family=Lexend&display=swap"),attr(t,"rel","stylesheet"),attr(r,"href","https://fonts.googleapis.com/css2?family=Raleway:wght@500&display=swap"),attr(r,"rel","stylesheet"),attr(l,"rel","stylesheet"),attr(l,"href","https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"),attr(l,"integrity","sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"),attr(l,"crossorigin","anonymous"),src_url_equal(h.src,y="https://cdn.jsdelivr.net/npm/sweetalert2@11")||attr(h,"src",y),attr(D,"rel","stylesheet"),attr(D,"href","assets/generalStyle.css"),src_url_equal(O.src,F="assets/scripts/svg-gauge.min.js")||attr(O,"src",F),src_url_equal(R.src,B="assets/scripts/graphFunctions.js")||attr(R,"src",B)},m(G,Y){append(document.head,t),append(document.head,r),append(document.head,o),append(document.head,l),append(document.head,h),append(document.head,D),append(document.head,O),append(document.head,R),insert(G,j,Y),insert(G,U,Y),mount_component(q,U,null),W=!0},p(G,[Y]){const K={};Y&1&&(K.$$scope={dirty:Y,ctx:G}),q.$set(K)},i(G){W||(transition_in(q.$$.fragment,G),W=!0)},o(G){transition_out(q.$$.fragment,G),W=!1},d(G){detach(t),detach(r),detach(o),detach(l),detach(h),detach(D),detach(O),detach(R),G&&detach(j),G&&detach(U),destroy_component(q)}}}class App extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment,safe_not_equal,{})}}new App({target:document.getElementById("app")});
