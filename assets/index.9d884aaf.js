var Jt=Object.defineProperty,Zt=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var Kt=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var Qt=(e,t,r)=>t in e?Jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$t=(e,t)=>{for(var r in t||(t={}))ee.call(t,r)&&Qt(e,r,t[r]);if(Kt)for(var r of Kt(t))ne.call(t,r)&&Qt(e,r,t[r]);return e},Vt=(e,t)=>Zt(e,te(t));const p$1=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function r(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerpolicy&&(h.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?h.credentials="include":l.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(l){if(l.ep)return;l.ep=!0;const h=r(l);fetch(l.href,h)}};p$1();function noop$2(){}const identity=e=>e;function assign$1(e,t){for(const r in t)e[r]=t[r];return e}function is_promise(e){return e&&typeof e=="object"&&typeof e.then=="function"}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let src_url_equal_anchor;function src_url_equal(e,t){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href}function is_empty(e){return Object.keys(e).length===0}function subscribe(e,...t){if(e==null)return noop$2;const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function get_store_value(e){let t;return subscribe(e,r=>t=r)(),t}function component_subscribe(e,t,r){e.$$.on_destroy.push(subscribe(t,r))}function create_slot(e,t,r,o){if(e){const l=get_slot_context(e,t,r,o);return e[0](l)}}function get_slot_context(e,t,r,o){return e[1]&&o?assign$1(r.ctx.slice(),e[1](o(t))):r.ctx}function get_slot_changes(e,t,r,o){if(e[2]&&o){const l=e[2](o(r));if(t.dirty===void 0)return l;if(typeof l=="object"){const h=[],y=Math.max(t.dirty.length,l.length);for(let D=0;D<y;D+=1)h[D]=t.dirty[D]|l[D];return h}return t.dirty|l}return t.dirty}function update_slot_base(e,t,r,o,l,h){if(l){const y=get_slot_context(t,r,o,h);e.p(y,l)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let o=0;o<r;o++)t[o]=-1;return t}return-1}function exclude_internal_props(e){const t={};for(const r in e)r[0]!=="$"&&(t[r]=e[r]);return t}function compute_rest_props(e,t){const r={};t=new Set(t);for(const o in e)!t.has(o)&&o[0]!=="$"&&(r[o]=e[o]);return r}function null_to_empty(e){return e==null?"":e}function set_store_value(e,t,r){return e.set(r),t}function action_destroyer(e){return e&&is_function(e.destroy)?e.destroy:noop$2}const is_client=typeof window!="undefined";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop$2;const tasks=new Set;function run_tasks(e){tasks.forEach(t=>{t.c(e)||(tasks.delete(t),t.f())}),tasks.size!==0&&raf(run_tasks)}function loop(e){let t;return tasks.size===0&&raf(run_tasks),{promise:new Promise(r=>{tasks.add(t={c:e,f:r})}),abort(){tasks.delete(t)}}}function append(e,t){e.appendChild(t)}function get_root_for_style(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function append_empty_stylesheet(e){const t=element("style");return append_stylesheet(get_root_for_style(e),t),t.sheet}function append_stylesheet(e,t){append(e.head||e,t)}function insert(e,t,r){e.insertBefore(t,r||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,r,o){return e.addEventListener(t,r,o),()=>e.removeEventListener(t,r,o)}function stop_propagation(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function attr(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function set_svg_attributes(e,t){for(const r in t)attr(e,r,t[r])}function set_custom_element_data(e,t,r){t in e?e[t]=typeof e[t]=="boolean"&&r===""?!0:r:attr(e,t,r)}function to_number(e){return e===""?null:+e}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_input_value(e,t){e.value=t==null?"":t}function set_style(e,t,r,o){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,o?"important":"")}function select_option(e,t){for(let r=0;r<e.options.length;r+=1){const o=e.options[r];if(o.__value===t){o.selected=!0;return}}e.selectedIndex=-1}function select_value(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function toggle_class(e,t,r){e.classList[r?"add":"remove"](t)}function custom_event(e,t,{bubbles:r=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,r,o,t),l}const managed_styles=new Map;let active=0;function hash(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function create_style_information(e,t){const r={stylesheet:append_empty_stylesheet(t),rules:{}};return managed_styles.set(e,r),r}function create_rule(e,t,r,o,l,h,y,D=0){const O=16.666/o;let F=`{
`;for(let G=0;G<=1;G+=O){const Y=t+(r-t)*h(G);F+=G*100+`%{${y(Y,1-Y)}}
`}const R=F+`100% {${y(r,1-r)}}
}`,B=`__svelte_${hash(R)}_${D}`,j=get_root_for_style(e),{stylesheet:q,rules:U}=managed_styles.get(j)||create_style_information(j,e);U[B]||(U[B]=!0,q.insertRule(`@keyframes ${B} ${R}`,q.cssRules.length));const W=e.style.animation||"";return e.style.animation=`${W?`${W}, `:""}${B} ${o}ms linear ${l}ms 1 both`,active+=1,B}function delete_rule(e,t){const r=(e.style.animation||"").split(", "),o=r.filter(t?h=>h.indexOf(t)<0:h=>h.indexOf("__svelte")===-1),l=r.length-o.length;l&&(e.style.animation=o.join(", "),active-=l,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(e=>{const{stylesheet:t}=e;let r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.rules={}}),managed_styles.clear())})}function create_animation(e,t,r,o){if(!t)return noop$2;const l=e.getBoundingClientRect();if(t.left===l.left&&t.right===l.right&&t.top===l.top&&t.bottom===l.bottom)return noop$2;const{delay:h=0,duration:y=300,easing:D=identity,start:O=now()+h,end:F=O+y,tick:R=noop$2,css:B}=r(e,{from:t,to:l},o);let j=!0,q=!1,U;function W(){B&&(U=create_rule(e,0,1,y,h,D,B)),h||(q=!0)}function G(){B&&delete_rule(e,U),j=!1}return loop(Y=>{if(!q&&Y>=O&&(q=!0),q&&Y>=F&&(R(1,0),G()),!j)return!1;if(q){const X=Y-O,K=0+1*D(X/y);R(K,1-K)}return!0}),W(),R(0,1),G}function fix_position(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:r,height:o}=t,l=e.getBoundingClientRect();e.style.position="absolute",e.style.width=r,e.style.height=o,add_transform(e,l)}}function add_transform(e,t){const r=e.getBoundingClientRect();if(t.left!==r.left||t.top!==r.top){const o=getComputedStyle(e),l=o.transform==="none"?"":o.transform;e.style.transform=`${l} translate(${t.left-r.left}px, ${t.top-r.top}px)`}}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function setContext(e,t){return get_current_component().$$.context.set(e,t),t}function getContext(e){return get_current_component().$$.context.get(e)}function bubble(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach(o=>o.call(this,t))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){const e=current_component;do{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const r=render_callbacks[t];seen_callbacks.has(r)||(seen_callbacks.add(r),r())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch$2(e,t,r){e.dispatchEvent(custom_event(`${t?"intro":"outro"}${r}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,r,o){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),o&&(r&&e.d(1),o())}),e.o(t)}}const null_transition={duration:0};function create_in_transition(e,t,r){let o=t(e,r),l=!1,h,y,D=0;function O(){h&&delete_rule(e,h)}function F(){const{delay:B=0,duration:j=300,easing:q=identity,tick:U=noop$2,css:W}=o||null_transition;W&&(h=create_rule(e,0,1,j,B,q,W,D++)),U(0,1);const G=now()+B,Y=G+j;y&&y.abort(),l=!0,add_render_callback(()=>dispatch$2(e,!0,"start")),y=loop(X=>{if(l){if(X>=Y)return U(1,0),dispatch$2(e,!0,"end"),O(),l=!1;if(X>=G){const K=q((X-G)/j);U(K,1-K)}}return l})}let R=!1;return{start(){R||(R=!0,delete_rule(e),is_function(o)?(o=o(),wait().then(F)):F())},invalidate(){R=!1},end(){l&&(O(),l=!1)}}}function create_out_transition(e,t,r){let o=t(e,r),l=!0,h;const y=outros;y.r+=1;function D(){const{delay:O=0,duration:F=300,easing:R=identity,tick:B=noop$2,css:j}=o||null_transition;j&&(h=create_rule(e,1,0,F,O,R,j));const q=now()+O,U=q+F;add_render_callback(()=>dispatch$2(e,!1,"start")),loop(W=>{if(l){if(W>=U)return B(0,1),dispatch$2(e,!1,"end"),--y.r||run_all(y.c),!1;if(W>=q){const G=R((W-q)/F);B(1-G,G)}}return l})}return is_function(o)?wait().then(()=>{o=o(),D()}):D(),{end(O){O&&o.tick&&o.tick(1,0),l&&(h&&delete_rule(e,h),l=!1)}}}function create_bidirectional_transition(e,t,r,o){let l=t(e,r),h=o?0:1,y=null,D=null,O=null;function F(){O&&delete_rule(e,O)}function R(j,q){const U=j.b-h;return q*=Math.abs(U),{a:h,b:j.b,d:U,duration:q,start:j.start,end:j.start+q,group:j.group}}function B(j){const{delay:q=0,duration:U=300,easing:W=identity,tick:G=noop$2,css:Y}=l||null_transition,X={start:now()+q,b:j};j||(X.group=outros,outros.r+=1),y||D?D=X:(Y&&(F(),O=create_rule(e,h,j,U,q,W,Y)),j&&G(0,1),y=R(X,U),add_render_callback(()=>dispatch$2(e,j,"start")),loop(K=>{if(D&&K>D.start&&(y=R(D,U),D=null,dispatch$2(e,y.b,"start"),Y&&(F(),O=create_rule(e,h,y.b,y.duration,0,W,l.css))),y){if(K>=y.end)G(h=y.b,1-h),dispatch$2(e,y.b,"end"),D||(y.b?F():--y.group.r||run_all(y.group.c)),y=null;else if(K>=y.start){const Q=K-y.start;h=y.a+y.d*W(Q/y.duration),G(h,1-h)}}return!!(y||D)}))}return{run(j){is_function(l)?wait().then(()=>{l=l(),B(j)}):B(j)},end(){F(),y=D=null}}}function handle_promise(e,t){const r=t.token={};function o(l,h,y,D){if(t.token!==r)return;t.resolved=D;let O=t.ctx;y!==void 0&&(O=O.slice(),O[y]=D);const F=l&&(t.current=l)(O);let R=!1;t.block&&(t.blocks?t.blocks.forEach((B,j)=>{j!==h&&B&&(group_outros(),transition_out(B,1,1,()=>{t.blocks[j]===B&&(t.blocks[j]=null)}),check_outros())}):t.block.d(1),F.c(),transition_in(F,1),F.m(t.mount(),t.anchor),R=!0),t.block=F,t.blocks&&(t.blocks[h]=F),R&&flush()}if(is_promise(e)){const l=get_current_component();if(e.then(h=>{set_current_component(l),o(t.then,1,t.value,h),set_current_component(null)},h=>{if(set_current_component(l),o(t.catch,2,t.error,h),set_current_component(null),!t.hasCatch)throw h}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}}function update_await_block_branch(e,t,r){const o=t.slice(),{resolved:l}=e;e.current===e.then&&(o[e.value]=l),e.current===e.catch&&(o[e.error]=l),e.block.p(o,r)}const globals=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function destroy_block(e,t){e.d(1),t.delete(e.key)}function outro_and_destroy_block(e,t){transition_out(e,1,1,()=>{t.delete(e.key)})}function fix_and_outro_and_destroy_block(e,t){e.f(),outro_and_destroy_block(e,t)}function update_keyed_each(e,t,r,o,l,h,y,D,O,F,R,B){let j=e.length,q=h.length,U=j;const W={};for(;U--;)W[e[U].key]=U;const G=[],Y=new Map,X=new Map;for(U=q;U--;){const et=B(l,h,U),nt=r(et);let Z=y.get(nt);Z?o&&Z.p(et,t):(Z=F(nt,et),Z.c()),Y.set(nt,G[U]=Z),nt in W&&X.set(nt,Math.abs(U-W[nt]))}const K=new Set,Q=new Set;function J(et){transition_in(et,1),et.m(D,R),y.set(et.key,et),R=et.first,q--}for(;j&&q;){const et=G[q-1],nt=e[j-1],Z=et.key,it=nt.key;et===nt?(R=et.first,j--,q--):Y.has(it)?!y.has(Z)||K.has(Z)?J(et):Q.has(it)?j--:X.get(Z)>X.get(it)?(Q.add(Z),J(et)):(K.add(it),j--):(O(nt,y),j--)}for(;j--;){const et=e[j];Y.has(et.key)||O(et,y)}for(;q;)J(G[q-1]);return G}function get_spread_update(e,t){const r={},o={},l={$$scope:1};let h=e.length;for(;h--;){const y=e[h],D=t[h];if(D){for(const O in y)O in D||(o[O]=1);for(const O in D)l[O]||(r[O]=D[O],l[O]=1);e[h]=D}else for(const O in y)l[O]=1}for(const y in o)y in r||(r[y]=void 0);return r}function get_spread_object(e){return typeof e=="object"&&e!==null?e:{}}function bind(e,t,r){const o=e.$$.props[t];o!==void 0&&(e.$$.bound[o]=r,r(e.$$.ctx[o]))}function create_component(e){e&&e.c()}function mount_component(e,t,r,o){const{fragment:l,on_mount:h,on_destroy:y,after_update:D}=e.$$;l&&l.m(t,r),o||add_render_callback(()=>{const O=h.map(run).filter(is_function);y?y.push(...O):run_all(O),e.$$.on_mount=[]}),D.forEach(add_render_callback)}function destroy_component(e,t){const r=e.$$;r.fragment!==null&&(run_all(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(e,t){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,r,o,l,h,y,D=[-1]){const O=current_component;set_current_component(e);const F=e.$$={fragment:null,ctx:null,props:h,update:noop$2,not_equal:l,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(O?O.$$.context:[])),callbacks:blank_object(),dirty:D,skip_bound:!1,root:t.target||O.$$.root};y&&y(F.root);let R=!1;if(F.ctx=r?r(e,t.props||{},(B,j,...q)=>{const U=q.length?q[0]:j;return F.ctx&&l(F.ctx[B],F.ctx[B]=U)&&(!F.skip_bound&&F.bound[B]&&F.bound[B](U),R&&make_dirty(e,B)),j}):[],F.update(),R=!0,run_all(F.before_update),F.fragment=o?o(F.ctx):!1,t.target){if(t.hydrate){const B=children(t.target);F.fragment&&F.fragment.l(B),B.forEach(detach)}else F.fragment&&F.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}set_current_component(O)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$2}$on(t,r){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(r),()=>{const l=o.indexOf(r);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function create_fragment$k(e){let t,r,o,l=[e[0],{fill:"currentColor"},{viewBox:"0 0 24 24"}],h={};for(let y=0;y<l.length;y+=1)h=assign$1(h,l[y]);return{c(){t=svg_element("svg"),r=svg_element("path"),o=svg_element("path"),attr(r,"d","m13 16 5-4-5-4v3H4v2h9z"),attr(o,"d","M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"),set_svg_attributes(t,h)},m(y,D){insert(y,t,D),append(t,r),append(t,o)},p(y,[D]){set_svg_attributes(t,h=get_spread_update(l,[D&1&&y[0],{fill:"currentColor"},{viewBox:"0 0 24 24"}]))},i:noop$2,o:noop$2,d(y){y&&detach(t)}}}function instance$j(e,t,r){return e.$$set=o=>{r(0,t=assign$1(assign$1({},t),exclude_internal_props(o)))},t=exclude_internal_props(t),[t]}class Log_in extends SvelteComponent{constructor(t){super(),init(this,t,instance$j,create_fragment$k,safe_not_equal,{})}}function cubicInOut(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function cubicOut(e){const t=e-1;return t*t*t+1}function quadIn(e){return e*e}function blur(e,{delay:t=0,duration:r=400,easing:o=cubicInOut,amount:l=5,opacity:h=0}={}){const y=getComputedStyle(e),D=+y.opacity,O=y.filter==="none"?"":y.filter,F=D*(1-h);return{delay:t,duration:r,easing:o,css:(R,B)=>`opacity: ${D-F*B}; filter: ${O} blur(${B*l}px);`}}function fade(e,{delay:t=0,duration:r=400,easing:o=identity}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:o,css:h=>`opacity: ${h*l}`}}function fly(e,{delay:t=0,duration:r=400,easing:o=cubicOut,x:l=0,y:h=0,opacity:y=0}={}){const D=getComputedStyle(e),O=+D.opacity,F=D.transform==="none"?"":D.transform,R=O*(1-y);return{delay:t,duration:r,easing:o,css:(B,j)=>`
			transform: ${F} translate(${(1-B)*l}px, ${(1-B)*h}px);
			opacity: ${O-R*j}`}}function scale(e,{delay:t=0,duration:r=400,easing:o=cubicOut,start:l=0,opacity:h=0}={}){const y=getComputedStyle(e),D=+y.opacity,O=y.transform==="none"?"":y.transform,F=1-l,R=D*(1-h);return{delay:t,duration:r,easing:o,css:(B,j)=>`
			transform: ${O} scale(${1-F*j});
			opacity: ${D-R*j}
		`}}var Confetti_svelte_svelte_type_style_lang="";function get_each_context$6(e,t,r){const o=e.slice();return o[18]=t[r],o}function create_if_block$a(e){let t,r={length:e[6]},o=[];for(let l=0;l<r.length;l+=1)o[l]=create_each_block$6(get_each_context$6(e,r,l));return{c(){t=element("div");for(let l=0;l<o.length;l+=1)o[l].c();attr(t,"class","confetti-holder svelte-io58ff"),toggle_class(t,"rounded",e[9]),toggle_class(t,"cone",e[10]),toggle_class(t,"no-gravity",e[11])},m(l,h){insert(l,t,h);for(let y=0;y<o.length;y+=1)o[y].m(t,null)},p(l,h){if(h&20991){r={length:l[6]};let y;for(y=0;y<r.length;y+=1){const D=get_each_context$6(l,r,y);o[y]?o[y].p(D,h):(o[y]=create_each_block$6(D),o[y].c(),o[y].m(t,null))}for(;y<o.length;y+=1)o[y].d(1);o.length=r.length}h&512&&toggle_class(t,"rounded",l[9]),h&1024&&toggle_class(t,"cone",l[10]),h&2048&&toggle_class(t,"no-gravity",l[11])},d(l){l&&detach(t),destroy_each(o,l)}}}function create_each_block$6(e){let t;return{c(){t=element("div"),attr(t,"class","confetti svelte-io58ff"),set_style(t,"--fall-distance",e[8]),set_style(t,"--size",e[0]+"px"),set_style(t,"--color",e[14]()),set_style(t,"--skew",randomBetween(-45,45)+"deg,"+randomBetween(-45,45)+"deg"),set_style(t,"--rotation-xyz",randomBetween(-10,10)+", "+randomBetween(-10,10)+", "+randomBetween(-10,10)),set_style(t,"--rotation-deg",randomBetween(0,360)+"deg"),set_style(t,"--translate-y-multiplier",randomBetween(e[2][0],e[2][1])),set_style(t,"--translate-x-multiplier",randomBetween(e[1][0],e[1][1])),set_style(t,"--scale",.1*randomBetween(2,10)),set_style(t,"--transition-duration",e[4]?`calc(${e[3]}ms * var(--scale))`:`${e[3]}ms`),set_style(t,"--transition-delay",randomBetween(e[5][0],e[5][1])+"ms"),set_style(t,"--transition-iteration-count",e[4]?"infinite":e[7]),set_style(t,"--x-spread",1-e[12])},m(r,o){insert(r,t,o)},p(r,o){o&256&&set_style(t,"--fall-distance",r[8]),o&1&&set_style(t,"--size",r[0]+"px"),o&4&&set_style(t,"--translate-y-multiplier",randomBetween(r[2][0],r[2][1])),o&2&&set_style(t,"--translate-x-multiplier",randomBetween(r[1][0],r[1][1])),o&24&&set_style(t,"--transition-duration",r[4]?`calc(${r[3]}ms * var(--scale))`:`${r[3]}ms`),o&32&&set_style(t,"--transition-delay",randomBetween(r[5][0],r[5][1])+"ms"),o&144&&set_style(t,"--transition-iteration-count",r[4]?"infinite":r[7]),o&4096&&set_style(t,"--x-spread",1-r[12])},d(r){r&&detach(t)}}}function create_fragment$j(e){let t,r=!e[13]&&create_if_block$a(e);return{c(){r&&r.c(),t=empty()},m(o,l){r&&r.m(o,l),insert(o,t,l)},p(o,[l]){o[13]?r&&(r.d(1),r=null):r?r.p(o,l):(r=create_if_block$a(o),r.c(),r.m(t.parentNode,t))},i:noop$2,o:noop$2,d(o){r&&r.d(o),o&&detach(t)}}}function randomBetween(e,t){return Math.random()*(t-e)+e}function instance$i(e,t,r){let{size:o=10}=t,{x:l=[-.5,.5]}=t,{y:h=[.25,1]}=t,{duration:y=2e3}=t,{infinite:D=!1}=t,{delay:O=[0,50]}=t,{colorRange:F=[0,360]}=t,{colorArray:R=[]}=t,{amount:B=50}=t,{iterationCount:j=1}=t,{fallDistance:q="100px"}=t,{rounded:U=!1}=t,{cone:W=!1}=t,{noGravity:G=!1}=t,{xSpread:Y=.15}=t,{destroyOnComplete:X=!0}=t,K=!1;onMount(()=>{!X||D||j=="infinite"||setTimeout(()=>r(13,K=!0),(y+O[1])*j)});function Q(){return R.length?R[Math.round(Math.random()*(R.length-1))]:`hsl(${Math.round(randomBetween(F[0],F[1]))}, 75%, 50%`}return e.$$set=J=>{"size"in J&&r(0,o=J.size),"x"in J&&r(1,l=J.x),"y"in J&&r(2,h=J.y),"duration"in J&&r(3,y=J.duration),"infinite"in J&&r(4,D=J.infinite),"delay"in J&&r(5,O=J.delay),"colorRange"in J&&r(15,F=J.colorRange),"colorArray"in J&&r(16,R=J.colorArray),"amount"in J&&r(6,B=J.amount),"iterationCount"in J&&r(7,j=J.iterationCount),"fallDistance"in J&&r(8,q=J.fallDistance),"rounded"in J&&r(9,U=J.rounded),"cone"in J&&r(10,W=J.cone),"noGravity"in J&&r(11,G=J.noGravity),"xSpread"in J&&r(12,Y=J.xSpread),"destroyOnComplete"in J&&r(17,X=J.destroyOnComplete)},[o,l,h,y,D,O,B,j,q,U,W,G,Y,K,Q,F,R,X]}class Confetti extends SvelteComponent{constructor(t){super(),init(this,t,instance$i,create_fragment$j,safe_not_equal,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function xxsc(e,t,r){var o="";if(r){var l=new Date;l.setTime(l.getTime()+r*24*60*60*1e3),o="; expires="+l.toUTCString()}document.cookie=e+"="+(t||"")+o+"; path=/"}function xxgc(e){for(var t=e+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var l=r[o];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(t)==0)return l.substring(t.length,l.length)}return null}const isUndefined=e=>typeof e=="undefined",isFunction$1=e=>typeof e=="function",isNumber$1=e=>typeof e=="number";function createCounter(){let e=0;return()=>e++}function createGlobalId(){return Math.random().toString(36).substring(2)}const isSSR=typeof window=="undefined";function addListener$1(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}const subscriber_queue=[];function readable(e,t){return{subscribe:writable(e,t).subscribe}}function writable(e,t=noop$2){let r;const o=new Set;function l(D){if(safe_not_equal(e,D)&&(e=D,r)){const O=!subscriber_queue.length;for(const F of o)F[1](),subscriber_queue.push(F,e);if(O){for(let F=0;F<subscriber_queue.length;F+=2)subscriber_queue[F][0](subscriber_queue[F+1]);subscriber_queue.length=0}}}function h(D){l(D(e))}function y(D,O=noop$2){const F=[D,O];return o.add(F),o.size===1&&(r=t(l)||noop$2),D(e),()=>{o.delete(F),o.size===0&&(r(),r=null)}}return{set:l,update:h,subscribe:y}}function derived(e,t,r){const o=!Array.isArray(e),l=o?[e]:e,h=t.length<2;return readable(r,y=>{let D=!1;const O=[];let F=0,R=noop$2;const B=()=>{if(F)return;R();const q=t(o?O[0]:O,y);h?y(q):R=is_function(q)?q:noop$2},j=l.map((q,U)=>subscribe(q,W=>{O[U]=W,F&=~(1<<U),D&&B()},()=>{F|=1<<U}));return D=!0,B(),function(){run_all(j),R()}})}const createKey=e=>`@@svnav-ctx__${e}`,LOCATION=createKey("LOCATION"),ROUTER=createKey("ROUTER"),ROUTE=createKey("ROUTE"),ROUTE_PARAMS=createKey("ROUTE_PARAMS"),FOCUS_ELEM=createKey("FOCUS_ELEM"),paramRegex=/^:(.+)/,startsWith=(e,t)=>e.substr(0,t.length)===t,isRootSegment=e=>e==="",isDynamic=e=>paramRegex.test(e),isSplat=e=>e[0]==="*",stripSplat=e=>e.replace(/\*.*$/,""),stripSlashes=e=>e.replace(/(^\/+|\/+$)/g,"");function segmentize(e,t=!1){const r=stripSlashes(e).split("/");return t?r.filter(Boolean):r}const addQuery=(e,t)=>e+(t?`?${t}`:""),normalizePath=e=>`/${stripSlashes(e)}`;function join(...e){const t=o=>segmentize(o,!0).join("/"),r=e.map(t).join("/");return normalizePath(r)}const LINK_ID=1,ROUTE_ID=2,ROUTER_ID=3,USE_FOCUS_ID=4,USE_LOCATION_ID=5,USE_MATCH_ID=6,USE_NAVIGATE_ID=7,USE_PARAMS_ID=8,USE_RESOLVABLE_ID=9,USE_RESOLVE_ID=10,NAVIGATE_ID=11,labels={[LINK_ID]:"Link",[ROUTE_ID]:"Route",[ROUTER_ID]:"Router",[USE_FOCUS_ID]:"useFocus",[USE_LOCATION_ID]:"useLocation",[USE_MATCH_ID]:"useMatch",[USE_NAVIGATE_ID]:"useNavigate",[USE_PARAMS_ID]:"useParams",[USE_RESOLVABLE_ID]:"useResolvable",[USE_RESOLVE_ID]:"useResolve",[NAVIGATE_ID]:"navigate"},createLabel=e=>labels[e];function createIdentifier(e,t){let r;return e===ROUTE_ID?r=t.path?`path="${t.path}"`:"default":e===LINK_ID?r=`to="${t.to}"`:e===ROUTER_ID&&(r=`basepath="${t.basepath||""}"`),`<${createLabel(e)} ${r||""} />`}function createMessage(e,t,r,o){const l=r&&createIdentifier(o||e,r),h=l?`

Occurred in: ${l}`:"",y=createLabel(e),D=isFunction$1(t)?t(y):t;return`<${y}> ${D}${h}`}const createMessageHandler=e=>(...t)=>e(createMessage(...t)),fail=createMessageHandler(e=>{throw new Error(e)}),warn=createMessageHandler(console.warn),SEGMENT_POINTS=4,STATIC_POINTS=3,DYNAMIC_POINTS=2,SPLAT_PENALTY=1,ROOT_POINTS=1;function rankRoute(e,t){const r=e.default?0:segmentize(e.fullPath).reduce((o,l)=>{let h=o;return h+=SEGMENT_POINTS,isRootSegment(l)?h+=ROOT_POINTS:isDynamic(l)?h+=DYNAMIC_POINTS:isSplat(l)?h-=SEGMENT_POINTS+SPLAT_PENALTY:h+=STATIC_POINTS,h},0);return{route:e,score:r,index:t}}function rankRoutes(e){return e.map(rankRoute).sort((t,r)=>t.score<r.score?1:t.score>r.score?-1:t.index-r.index)}function pick(e,t){let r,o;const[l]=t.split("?"),h=segmentize(l),y=h[0]==="",D=rankRoutes(e);for(let O=0,F=D.length;O<F;O++){const{route:R}=D[O];let B=!1;const j={},q=Y=>Vt($t({},R),{params:j,uri:Y});if(R.default){o=q(t);continue}const U=segmentize(R.fullPath),W=Math.max(h.length,U.length);let G=0;for(;G<W;G++){const Y=U[G],X=h[G];if(!isUndefined(Y)&&isSplat(Y)){const Q=Y==="*"?"*":Y.slice(1);j[Q]=h.slice(G).map(decodeURIComponent).join("/");break}if(isUndefined(X)){B=!0;break}const K=paramRegex.exec(Y);if(K&&!y){const Q=decodeURIComponent(X);j[K[1]]=Q}else if(Y!==X){B=!0;break}}if(!B){r=q(join(...h.slice(0,G)));break}}return r||o||null}function match$2(e,t){return pick([e],t)}function resolve$1(e,t){if(startsWith(e,"/"))return e;const[r,o]=e.split("?"),[l]=t.split("?"),h=segmentize(r),y=segmentize(l);if(h[0]==="")return addQuery(l,o);if(!startsWith(h[0],".")){const F=y.concat(h).join("/");return addQuery((l==="/"?"":"/")+F,o)}const D=y.concat(h),O=[];return D.forEach(F=>{F===".."?O.pop():F!=="."&&O.push(F)}),addQuery(`/${O.join("/")}`,o)}function normalizeLocation(e,t){const{pathname:r,hash:o="",search:l="",state:h}=e,y=segmentize(t,!0),D=segmentize(r,!0);for(;y.length;)y[0]!==D[0]&&fail(ROUTER_ID,`Invalid state: All locations must begin with the basepath "${t}", found "${r}"`),y.shift(),D.shift();return{pathname:join(...D),hash:o,search:l,state:h}}const normalizeUrlFragment=e=>e.length===1?"":e;function createLocation(e){const t=e.indexOf("?"),r=e.indexOf("#"),o=t!==-1,l=r!==-1,h=l?normalizeUrlFragment(e.substr(r)):"",y=l?e.substr(0,r):e,D=o?normalizeUrlFragment(y.substr(t)):"";return{pathname:o?y.substr(0,t):y,search:D,hash:h}}function resolveLink(e,t,r){return join(r,resolve$1(e,t))}function extractBaseUri(e,t){const r=normalizePath(stripSplat(e)),o=segmentize(r,!0),l=segmentize(t,!0).slice(0,o.length),h=match$2({fullPath:r},join(...l));return h&&h.uri}const POP="POP",PUSH="PUSH",REPLACE="REPLACE";function getLocation(e){return Vt($t({},e.location),{pathname:encodeURI(decodeURI(e.location.pathname)),state:e.history.state,_key:e.history.state&&e.history.state._key||"initial"})}function createHistory(e){let t=[],r=getLocation(e),o=POP;const l=(h=t)=>h.forEach(y=>y({location:r,action:o}));return{get location(){return r},listen(h){t.push(h);const y=()=>{r=getLocation(e),o=POP,l([h])};l([h]);const D=addListener$1(e,"popstate",y);return()=>{D(),t=t.filter(O=>O!==h)}},navigate(h,y){const{state:D={},replace:O=!1}=y||{};if(o=O?REPLACE:PUSH,isNumber$1(h))y&&warn(NAVIGATE_ID,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),o=POP,e.history.go(h);else{const F=Vt($t({},D),{_key:createGlobalId()});try{e.history[O?"replaceState":"pushState"](F,"",h)}catch{e.location[O?"replace":"assign"](h)}}r=getLocation(e),l()}}}function createStackFrame(e,t){return Vt($t({},createLocation(t)),{state:e})}function createMemorySource(e="/"){let t=0,r=[createStackFrame(null,e)];return{get entries(){return r},get location(){return r[t]},addEventListener(){},removeEventListener(){},history:{get state(){return r[t].state},pushState(o,l,h){t++,r=r.slice(0,t),r.push(createStackFrame(o,h))},replaceState(o,l,h){r[t]=createStackFrame(o,h)},go(o){const l=t+o;l<0||l>r.length-1||(t=l)}}}}const canUseDOM=!!(!isSSR&&window.document&&window.document.createElement),isEmbeddedPage=!isSSR&&window.location.origin==="null",globalHistory=createHistory(canUseDOM&&!isEmbeddedPage?window:createMemorySource());let focusCandidate=null,initialNavigation=!0;function isAbove(e,t){const r=document.querySelectorAll("[data-svnav-router]");for(let o=0;o<r.length;o++){const l=r[o],h=Number(l.dataset.svnavRouter);if(h===e)return!0;if(h===t)return!1}return!1}function pushFocusCandidate(e){(!focusCandidate||e.level>focusCandidate.level||e.level===focusCandidate.level&&isAbove(e.routerId,focusCandidate.routerId))&&(focusCandidate=e)}function clearFocusCandidate(){focusCandidate=null}function initialNavigationOccurred(){initialNavigation=!1}function focus(e){if(!e)return!1;const t="tabindex";try{if(!e.hasAttribute(t)){e.setAttribute(t,"-1");let r;r=addListener$1(e,"blur",()=>{e.removeAttribute(t),r()})}return e.focus(),document.activeElement===e}catch{return!1}}function isEndMarker(e,t){return Number(e.dataset.svnavRouteEnd)===t}function isHeading(e){return/^H[1-6]$/i.test(e.tagName)}function query(e,t=document){return t.querySelector(e)}function queryHeading(e){let r=query(`[data-svnav-route-start="${e}"]`).nextElementSibling;for(;!isEndMarker(r,e);){if(isHeading(r))return r;const o=query("h1,h2,h3,h4,h5,h6",r);if(o)return o;r=r.nextElementSibling}return null}function handleFocus(e){Promise.resolve(get_store_value(e.focusElement)).then(t=>{const r=t||queryHeading(e.id);r||warn(ROUTER_ID,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,e,ROUTE_ID),!focus(r)&&focus(document.documentElement)})}const createTriggerFocus=(e,t,r)=>(o,l)=>tick().then(()=>{if(!focusCandidate||initialNavigation){initialNavigationOccurred();return}if(o&&handleFocus(focusCandidate.route),e.announcements&&l){const{path:h,fullPath:y,meta:D,params:O,uri:F}=focusCandidate.route,R=e.createAnnouncement({path:h,fullPath:y,meta:D,params:O,uri:F},get_store_value(r));Promise.resolve(R).then(B=>{t.set(B)})}clearFocusCandidate()}),visuallyHiddenStyle="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function create_if_block$9(e){let t,r;return{c(){t=element("div"),r=text(e[0]),attr(t,"role","status"),attr(t,"aria-atomic","true"),attr(t,"aria-live","polite"),attr(t,"style",visuallyHiddenStyle)},m(o,l){insert(o,t,l),append(t,r)},p(o,l){l[0]&1&&set_data(r,o[0])},d(o){o&&detach(t)}}}function create_fragment$i(e){let t,r,o,l,h;const y=e[20].default,D=create_slot(y,e,e[19],null);let O=e[2]&&e[4]&&e[1].announcements&&create_if_block$9(e);return{c(){t=element("div"),r=space(),D&&D.c(),o=space(),O&&O.c(),l=empty(),set_style(t,"display","none"),attr(t,"aria-hidden","true"),attr(t,"data-svnav-router",e[3])},m(F,R){insert(F,t,R),insert(F,r,R),D&&D.m(F,R),insert(F,o,R),O&&O.m(F,R),insert(F,l,R),h=!0},p(F,R){D&&D.p&&(!h||R[0]&524288)&&update_slot_base(D,y,F,F[19],h?get_slot_changes(y,F[19],R,null):get_all_dirty_from_scope(F[19]),null),F[2]&&F[4]&&F[1].announcements&&O.p(F,R)},i(F){h||(transition_in(D,F),h=!0)},o(F){transition_out(D,F),h=!1},d(F){F&&detach(t),F&&detach(r),D&&D.d(F),F&&detach(o),O&&O.d(F),F&&detach(l)}}}const createId$1=createCounter(),defaultBasepath="/";function instance$h(e,t,r){let o,l,h,y,D,{$$slots:O={},$$scope:F}=t,{basepath:R=defaultBasepath}=t,{url:B=null}=t,{history:j=globalHistory}=t,{primary:q=!0}=t,{a11y:U={}}=t;const W=$t({createAnnouncement:dt=>`Navigated to ${dt.uri}`,announcements:!0},U),G=R,Y=normalizePath(R),X=getContext(LOCATION),K=getContext(ROUTER),Q=!X,J=createId$1(),et=q&&!(K&&!K.manageFocus),nt=writable("");component_subscribe(e,nt,dt=>r(0,D=dt));const Z=writable([]);component_subscribe(e,Z,dt=>r(18,y=dt));const it=writable(null);component_subscribe(e,it,dt=>r(16,l=dt));let rt=!1;const tt=Q?0:K.level+1,ht=Q?writable((()=>normalizeLocation(isSSR?createLocation(B):j.location,Y))()):X;component_subscribe(e,ht,dt=>r(15,o=dt));const ct=writable(o);component_subscribe(e,ct,dt=>r(17,h=dt));const lt=createTriggerFocus(W,nt,ht),ut=dt=>ft=>ft.filter(mt=>mt.id!==dt);function ot(dt){if(isSSR){if(rt)return;const ft=match$2(dt,o.pathname);if(ft)return rt=!0,ft}else Z.update(ft=>{const mt=ut(dt.id)(ft);return mt.push(dt),mt})}function at(dt){Z.update(ut(dt))}return!Q&&R!==defaultBasepath&&warn(ROUTER_ID,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:R}),Q&&(onMount(()=>j.listen(ft=>{const mt=normalizeLocation(ft.location,Y);ct.set(o),ht.set(mt)})),setContext(LOCATION,ht)),setContext(ROUTER,{activeRoute:it,registerRoute:ot,unregisterRoute:at,manageFocus:et,level:tt,id:J,history:Q?j:K.history,basepath:Q?Y:K.basepath}),e.$$set=dt=>{"basepath"in dt&&r(10,R=dt.basepath),"url"in dt&&r(11,B=dt.url),"history"in dt&&r(12,j=dt.history),"primary"in dt&&r(13,q=dt.primary),"a11y"in dt&&r(14,U=dt.a11y),"$$scope"in dt&&r(19,F=dt.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&1024&&R!==G&&warn(ROUTER_ID,'You cannot change the "basepath" prop. It is ignored.'),e.$$.dirty[0]&294912){const dt=pick(y,o.pathname);it.set(dt)}if(e.$$.dirty[0]&163840&&Q){const dt=!!o.hash,ft=!dt&&et,mt=!dt||o.pathname!==h.pathname;lt(ft,mt)}e.$$.dirty[0]&65536&&et&&l&&l.primary&&pushFocusCandidate({level:tt,routerId:J,route:l})},[D,W,Q,J,et,nt,Z,it,ht,ct,R,B,j,q,U,o,l,h,y,F,O]}class Router extends SvelteComponent{constructor(t){super(),init(this,t,instance$h,create_fragment$i,safe_not_equal,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}}function usePreflightCheck(e,t,r=ROUTER,o=ROUTER_ID){getContext(r)||fail(e,h=>`You cannot use ${h} outside of a ${createLabel(o)}.`,t)}const toReadonly=e=>{const{subscribe:t}=getContext(e);return{subscribe:t}};function useLocation(){return usePreflightCheck(USE_LOCATION_ID),toReadonly(LOCATION)}function useHistory(){const{history:e}=getContext(ROUTER);return e}function useRouteBase(){const e=getContext(ROUTE);return e?derived(e,t=>t.base):writable("/")}function useResolve(){usePreflightCheck(USE_RESOLVE_ID);const e=useRouteBase(),{basepath:t}=getContext(ROUTER);return o=>resolveLink(o,get_store_value(e),t)}function useNavigate(){usePreflightCheck(USE_NAVIGATE_ID);const e=useResolve(),{navigate:t}=useHistory();return(o,l)=>{const h=isNumber$1(o)?o:e(o);return t(h,l)}}const get_default_slot_changes=e=>({params:e&16,location:e&8}),get_default_slot_context=e=>({params:isSSR?get_store_value(e[9]):e[4],location:e[3],navigate:e[10]});function create_if_block$8(e){let t,r;return t=new Router({props:{primary:e[1],$$slots:{default:[create_default_slot$2]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p(o,l){const h={};l&2&&(h.primary=o[1]),l&264217&&(h.$$scope={dirty:l,ctx:o}),t.$set(h)},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_else_block$5(e){let t;const r=e[17].default,o=create_slot(r,e,e[18],get_default_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),t=!0},p(l,h){o&&o.p&&(!t||h&262168)&&update_slot_base(o,r,l,l[18],t?get_slot_changes(r,l[18],h,get_default_slot_changes):get_all_dirty_from_scope(l[18]),get_default_slot_context)},i(l){t||(transition_in(o,l),t=!0)},o(l){transition_out(o,l),t=!1},d(l){o&&o.d(l)}}}function create_if_block_1$6(e){let t,r,o;const l=[{location:e[3]},{navigate:e[10]},isSSR?get_store_value(e[9]):e[4],e[11]];var h=e[0];function y(D){let O={};for(let F=0;F<l.length;F+=1)O=assign$1(O,l[F]);return{props:O}}return h&&(t=new h(y())),{c(){t&&create_component(t.$$.fragment),r=empty()},m(D,O){t&&mount_component(t,D,O),insert(D,r,O),o=!0},p(D,O){const F=O&3608?get_spread_update(l,[O&8&&{location:D[3]},O&1024&&{navigate:D[10]},O&528&&get_spread_object(isSSR?get_store_value(D[9]):D[4]),O&2048&&get_spread_object(D[11])]):{};if(h!==(h=D[0])){if(t){group_outros();const R=t;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}h?(t=new h(y()),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else h&&t.$set(F)},i(D){o||(t&&transition_in(t.$$.fragment,D),o=!0)},o(D){t&&transition_out(t.$$.fragment,D),o=!1},d(D){D&&detach(r),t&&destroy_component(t,D)}}}function create_default_slot$2(e){let t,r,o,l;const h=[create_if_block_1$6,create_else_block$5],y=[];function D(O,F){return O[0]!==null?0:1}return t=D(e),r=y[t]=h[t](e),{c(){r.c(),o=empty()},m(O,F){y[t].m(O,F),insert(O,o,F),l=!0},p(O,F){let R=t;t=D(O),t===R?y[t].p(O,F):(group_outros(),transition_out(y[R],1,1,()=>{y[R]=null}),check_outros(),r=y[t],r?r.p(O,F):(r=y[t]=h[t](O),r.c()),transition_in(r,1),r.m(o.parentNode,o))},i(O){l||(transition_in(r),l=!0)},o(O){transition_out(r),l=!1},d(O){y[t].d(O),O&&detach(o)}}}function create_fragment$h(e){let t,r,o,l,h,y=e[2]&&create_if_block$8(e);return{c(){t=element("div"),r=space(),y&&y.c(),o=space(),l=element("div"),set_style(t,"display","none"),attr(t,"aria-hidden","true"),attr(t,"data-svnav-route-start",e[5]),set_style(l,"display","none"),attr(l,"aria-hidden","true"),attr(l,"data-svnav-route-end",e[5])},m(D,O){insert(D,t,O),insert(D,r,O),y&&y.m(D,O),insert(D,o,O),insert(D,l,O),h=!0},p(D,[O]){D[2]?y?(y.p(D,O),O&4&&transition_in(y,1)):(y=create_if_block$8(D),y.c(),transition_in(y,1),y.m(o.parentNode,o)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(D){h||(transition_in(y),h=!0)},o(D){transition_out(y),h=!1},d(D){D&&detach(t),D&&detach(r),y&&y.d(D),D&&detach(o),D&&detach(l)}}}const createId=createCounter();function instance$g(e,t,r){let o;const l=["path","component","meta","primary"];let h=compute_rest_props(t,l),y,D,O,F,{$$slots:R={},$$scope:B}=t,{path:j=""}=t,{component:q=null}=t,{meta:U={}}=t,{primary:W=!0}=t;usePreflightCheck(ROUTE_ID,t);const G=createId(),{registerRoute:Y,unregisterRoute:X,activeRoute:K}=getContext(ROUTER);component_subscribe(e,K,tt=>r(15,y=tt));const Q=useRouteBase();component_subscribe(e,Q,tt=>r(16,O=tt));const J=useLocation();component_subscribe(e,J,tt=>r(3,D=tt));const et=writable(null);let nt;const Z=writable(),it=writable({});component_subscribe(e,it,tt=>r(4,F=tt)),setContext(ROUTE,Z),setContext(ROUTE_PARAMS,it),setContext(FOCUS_ELEM,et);const rt=useNavigate();return isSSR||onDestroy(()=>X(G)),e.$$set=tt=>{r(23,t=assign$1(assign$1({},t),exclude_internal_props(tt))),r(11,h=compute_rest_props(t,l)),"path"in tt&&r(12,j=tt.path),"component"in tt&&r(0,q=tt.component),"meta"in tt&&r(13,U=tt.meta),"primary"in tt&&r(1,W=tt.primary),"$$scope"in tt&&r(18,B=tt.$$scope)},e.$$.update=()=>{if(e.$$.dirty&77834){const tt=j==="",st=join(O,j),ht={id:G,path:j,meta:U,default:tt,fullPath:tt?"":st,base:tt?O:extractBaseUri(st,D.pathname),primary:W,focusElement:et};Z.set(ht),r(14,nt=Y(ht))}if(e.$$.dirty&49152&&r(2,o=!!(nt||y&&y.id===G)),e.$$.dirty&49156&&o){const{params:tt}=nt||y;it.set(tt)}},t=exclude_internal_props(t),[q,W,o,D,F,G,K,Q,J,it,rt,h,j,U,nt,y,O,R,B]}class Route extends SvelteComponent{constructor(t){super(),init(this,t,instance$g,create_fragment$h,safe_not_equal,{path:12,component:0,meta:13,primary:1})}}var authModule_svelte_svelte_type_style_lang="";function create_else_block$4(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X,K,Q,J,et,nt;return{c(){t=element("div"),t.textContent="Cr\xE9ez votre compte R\xE9tine",r=space(),o=element("label"),l=text("Identifiant :"),h=element("input"),y=space(),D=element("label"),O=text("Mot de passe :"),F=element("input"),R=space(),B=element("label"),j=text("Confirmation mot de passe :"),q=element("input"),U=space(),W=element("div"),G=text(e[4]),Y=space(),X=element("div"),K=element("div"),K.textContent="D\xE9j\xE0 un compte ?",Q=space(),J=element("button"),J.textContent="Inscription",set_style(t,"color","#6219d8"),set_style(t,"text-align","center"),set_style(t,"margin-bottom","16px"),attr(h,"type","text"),attr(h,"placeholder","bruce@wayne.com"),attr(h,"class","svelte-zjwoq9"),attr(F,"type","password"),attr(F,"class","svelte-zjwoq9"),attr(D,"for","mdp"),attr(q,"type","password"),attr(q,"class","svelte-zjwoq9"),attr(B,"for","mdp"),attr(W,"class","errorMsg svelte-zjwoq9"),attr(K,"class","optionTwo svelte-zjwoq9"),attr(J,"class","svelte-zjwoq9"),set_style(X,"display","flex"),set_style(X,"flex-direction","row"),set_style(X,"align-items","center")},m(Z,it){insert(Z,t,it),insert(Z,r,it),insert(Z,o,it),append(o,l),append(o,h),set_input_value(h,e[1]),insert(Z,y,it),insert(Z,D,it),append(D,O),append(D,F),set_input_value(F,e[2]),insert(Z,R,it),insert(Z,B,it),append(B,j),append(B,q),set_input_value(q,e[3]),insert(Z,U,it),insert(Z,W,it),append(W,G),insert(Z,Y,it),insert(Z,X,it),append(X,K),append(X,Q),append(X,J),et||(nt=[listen(h,"input",e[10]),listen(F,"input",e[11]),listen(q,"input",e[12]),listen(K,"click",e[5]),listen(J,"click",e[7])],et=!0)},p(Z,it){it&2&&h.value!==Z[1]&&set_input_value(h,Z[1]),it&4&&F.value!==Z[2]&&set_input_value(F,Z[2]),it&8&&q.value!==Z[3]&&set_input_value(q,Z[3]),it&16&&set_data(G,Z[4])},d(Z){Z&&detach(t),Z&&detach(r),Z&&detach(o),Z&&detach(y),Z&&detach(D),Z&&detach(R),Z&&detach(B),Z&&detach(U),Z&&detach(W),Z&&detach(Y),Z&&detach(X),et=!1,run_all(nt)}}}function create_if_block$7(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y;return{c(){t=element("label"),r=text("Identifiant :"),o=element("input"),l=space(),h=element("label"),y=text("Mot de passe :"),D=element("input"),O=space(),F=element("div"),R=text(e[4]),B=space(),j=element("div"),q=element("div"),q.textContent="Pas encore de compte ?",U=space(),W=element("button"),W.textContent="Connexion",attr(o,"placeholder","bruce@wayne.com"),attr(o,"type","text"),attr(o,"class","svelte-zjwoq9"),attr(t,"for","id"),attr(D,"type","password"),attr(D,"class","svelte-zjwoq9"),attr(h,"for","mdp"),attr(F,"class","errorMsg svelte-zjwoq9"),attr(q,"class","optionTwo svelte-zjwoq9"),attr(W,"class","svelte-zjwoq9"),set_style(j,"display","flex"),set_style(j,"flex-direction","row"),set_style(j,"align-items","center")},m(X,K){insert(X,t,K),append(t,r),append(t,o),set_input_value(o,e[1]),insert(X,l,K),insert(X,h,K),append(h,y),append(h,D),set_input_value(D,e[2]),insert(X,O,K),insert(X,F,K),append(F,R),insert(X,B,K),insert(X,j,K),append(j,q),append(j,U),append(j,W),G||(Y=[listen(o,"input",e[8]),listen(D,"input",e[9]),listen(q,"click",e[5]),listen(W,"click",e[6])],G=!0)},p(X,K){K&2&&o.value!==X[1]&&set_input_value(o,X[1]),K&4&&D.value!==X[2]&&set_input_value(D,X[2]),K&16&&set_data(R,X[4])},d(X){X&&detach(t),X&&detach(l),X&&detach(h),X&&detach(O),X&&detach(F),X&&detach(B),X&&detach(j),G=!1,run_all(Y)}}}function create_key_block$1(e){let t,r,o,l;function h(O,F){return O[0]?create_else_block$4:create_if_block$7}let y=h(e),D=y(e);return{c(){t=element("div"),D.c(),attr(t,"class","svelte-zjwoq9")},m(O,F){insert(O,t,F),D.m(t,null),l=!0},p(O,F){y===(y=h(O))&&D?D.p(O,F):(D.d(1),D=y(O),D&&(D.c(),D.m(t,null)))},i(O){l||(add_render_callback(()=>{o&&o.end(1),r=create_in_transition(t,fly,{x:30}),r.start()}),l=!0)},o(O){r&&r.invalidate(),o=create_out_transition(t,fly,{x:-30}),l=!1},d(O){O&&detach(t),D.d(),O&&o&&o.end()}}}function create_fragment$g(e){let t,r,o=e[0],l,h,y,D=create_key_block$1(e);return{c(){t=element("div"),r=element("div"),D.c(),attr(r,"class","floatingLogin svelte-zjwoq9")},m(O,F){insert(O,t,F),append(t,r),D.m(r,null),y=!0},p(O,[F]){F&1&&safe_not_equal(o,o=O[0])?(group_outros(),transition_out(D,1,1,noop$2),check_outros(),D=create_key_block$1(O),D.c(),transition_in(D,1),D.m(r,null)):D.p(O,F)},i(O){y||(transition_in(D),add_render_callback(()=>{h&&h.end(1),l=create_in_transition(t,fly,{y:100,duration:300}),l.start()}),y=!0)},o(O){transition_out(D),l&&l.invalidate(),h=create_out_transition(t,fade,{}),y=!1},d(O){O&&detach(t),D.d(O),O&&h&&h.end()}}}function ins(e,t,r){let o=new Headers;o.append("Content-Type","application/json");let l=JSON.stringify({email:e,password1:t,password2:r}),h={method:"POST",headers:o,body:l,redirect:"follow"};return new Promise((y,D)=>{fetch("https://retinereq.jetevois.fr:8000/auth/registration/",h).then(O=>O.text()).then(O=>{Object.keys(JSON.parse(O))[0]=="non_field_errors"?y("Les mots de passe ne sont pas identiques."):Object.keys(JSON.parse(O))[0]=="email"?y("Adresse mail non-valide ou d\xE9j\xE0 utilis\xE9e."):Object.keys(JSON.parse(O))[0]=="password1"?y("Le mot de passe doit contenir au moins 8 caract\xE8res."):JSON.parse(O)[Object.keys(JSON.parse(O))[0]]=="Verification e-mail sent."&&y("Un e-mail de verification vous a \xE9t\xE9 envoy\xE9.")}).catch(O=>y(O))})}function instance$f(e,t,r){const o=useNavigate();let l=!1;const h=()=>{l?r(0,l=!1):r(0,l=!0)};let y="",D="",O="",F="";const R=()=>{y==""||D==""?r(4,F="Veuillez remplir tous les champs ci-dessus."):(r(4,F=""),j(y,D).then(X=>{r(4,F=X)}))},B=()=>{y==""||D==""||O==""?r(4,F="Veuillez remplir tous les champs ci-dessus."):(r(4,F=""),ins(y,D,O).then(X=>{r(4,F=X)}))};function j(X,K){let Q=new Headers;Q.append("Content-Type","application/json");let J=JSON.stringify({username:X,password:K}),et={method:"POST",headers:Q,body:J,redirect:"follow"};return new Promise((nt,Z)=>{fetch("https://retinereq.jetevois.fr:8000/authenticate/",et).then(it=>it.text()).then(it=>{Object.keys(JSON.parse(it))[0]=="non_field_errors"?nt("Identifiants incorrects."):(xxsc("rtnt",JSON.parse(it).token,30),xxsc("rtnu",JSON.parse(it).id,30),o("dashboard"),nt("Connexion effectu\xE9e. Bienvenue sur R\xE9tine."))}).catch(it=>console.log(it))})}function q(){y=this.value,r(1,y)}function U(){D=this.value,r(2,D)}function W(){y=this.value,r(1,y)}function G(){D=this.value,r(2,D)}function Y(){O=this.value,r(3,O)}return[l,y,D,O,F,h,R,B,q,U,W,G,Y]}class AuthModule extends SvelteComponent{constructor(t){super(),init(this,t,instance$f,create_fragment$g,safe_not_equal,{})}}var index_svelte_svelte_type_style_lang="";function create_if_block_1$5(e){let t,r;return t=new AuthModule({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_if_block$6(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X,K,Q,J,et,nt,Z,it,rt;return h=new Confetti({props:{delay:[0,2e3],fallDistance:"220px",x:[-.8,.8]}}),{c(){t=element("span"),r=element("div"),o=element("div"),o.textContent="R\xE9tine",l=space(),create_component(h.$$.fragment),y=space(),D=element("h3"),D.innerHTML="La nouvelle \xE8re<br/>de l&#39;opinion",O=space(),F=element("img"),B=space(),j=element("div"),j.innerHTML=`<div class="verticalLine svelte-igp4j5"></div> 
          <button class="neuBtnClear svelte-igp4j5">\u26A1 Cr\xE9er un sondage 2.0</button>`,U=space(),W=element("div"),G=element("img"),Q=space(),J=element("div"),et=element("img"),attr(o,"class","retineTitle svelte-igp4j5"),attr(D,"class","retineSlogan svelte-igp4j5"),attr(F,"class","logoJtvBig svelte-igp4j5"),src_url_equal(F.src,R="assets/LOGO_JTV_ALT.svg")||attr(F,"src",R),attr(F,"alt","logo de Jetevois"),attr(r,"class","centerTitle svelte-igp4j5"),attr(j,"class","callToAction svelte-igp4j5"),src_url_equal(G.src,Y="assets/landing/pad.png")||attr(G,"src",Y),attr(G,"alt","tablette visualisant les r\xE9sultats d'un sondage"),attr(G,"class","svelte-igp4j5"),attr(W,"class","floatRightImg svelte-igp4j5"),src_url_equal(et.src,nt="assets/landing/phone.png")||attr(et,"src",nt),attr(et,"alt","t\xE9l\xE9phone r\xE9pondant \xE0 un sondage r\xE9tine"),attr(et,"class","svelte-igp4j5"),attr(J,"class","floatLeftImg svelte-igp4j5")},m(tt,st){insert(tt,t,st),append(t,r),append(r,o),append(r,l),mount_component(h,r,null),append(r,y),append(r,D),append(r,O),append(r,F),append(t,B),append(t,j),insert(tt,U,st),insert(tt,W,st),append(W,G),insert(tt,Q,st),insert(tt,J,st),append(J,et),rt=!0},i(tt){rt||(transition_in(h.$$.fragment,tt),q||add_render_callback(()=>{q=create_in_transition(t,blur,{delay:300}),q.start()}),add_render_callback(()=>{K&&K.end(1),X=create_in_transition(G,fly,{y:100,duration:750}),X.start()}),add_render_callback(()=>{it&&it.end(1),Z=create_in_transition(et,fly,{y:-100,duration:750}),Z.start()}),rt=!0)},o(tt){transition_out(h.$$.fragment,tt),X&&X.invalidate(),K=create_out_transition(G,fade,{}),Z&&Z.invalidate(),it=create_out_transition(et,fade,{}),rt=!1},d(tt){tt&&detach(t),destroy_component(h),tt&&detach(U),tt&&detach(W),tt&&K&&K.end(),tt&&detach(Q),tt&&detach(J),tt&&it&&it.end()}}}function create_fragment$f(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U;h=new Log_in({props:{width:"1.4em",color:"white",style:"padding-right:5px"}});let W=e[1]&&create_if_block_1$5(),G=e[0]&&create_if_block$6();return{c(){t=element("div"),r=element("div"),o=element("div"),l=element("button"),create_component(h.$$.fragment),y=space(),D=element("div"),D.textContent="Connexion",O=space(),W&&W.c(),F=space(),G&&G.c(),R=space(),B=element("div"),attr(l,"class","purpleBtn svelte-igp4j5"),attr(o,"class","connexBtn svelte-igp4j5"),attr(r,"class","landingHead svelte-igp4j5"),attr(B,"class","landingTwo svelte-igp4j5"),attr(t,"class","main svelte-igp4j5")},m(Y,X){insert(Y,t,X),append(t,r),append(r,o),append(o,l),mount_component(h,l,null),append(l,y),append(l,D),append(o,O),W&&W.m(o,null),append(r,F),G&&G.m(r,null),append(t,R),append(t,B),j=!0,q||(U=listen(l,"click",e[2]),q=!0)},p(Y,[X]){Y[1]?W?X&2&&transition_in(W,1):(W=create_if_block_1$5(),W.c(),transition_in(W,1),W.m(o,null)):W&&(group_outros(),transition_out(W,1,1,()=>{W=null}),check_outros()),Y[0]?G?X&1&&transition_in(G,1):(G=create_if_block$6(),G.c(),transition_in(G,1),G.m(r,null)):G&&(group_outros(),transition_out(G,1,1,()=>{G=null}),check_outros())},i(Y){j||(transition_in(h.$$.fragment,Y),transition_in(W),transition_in(G),j=!0)},o(Y){transition_out(h.$$.fragment,Y),transition_out(W),transition_out(G),j=!1},d(Y){Y&&detach(t),destroy_component(h),W&&W.d(),G&&G.d(),q=!1,U()}}}function instance$e(e,t,r){let o=!1;onMount(()=>r(0,o=!0));let l=!1;return[o,l,()=>{l?r(1,l=!1):r(1,l=!0)}]}class Home extends SvelteComponent{constructor(t){super(),init(this,t,instance$e,create_fragment$f,safe_not_equal,{})}}var projetCard_svelte_svelte_type_style_lang="";function create_fragment$e(e){let t,r,o,l,h,y,D,O,F=e[0].nom_proj+"",R,B,j,q,U=e[0].crea_date.split("T")[0]+"",W,G,Y,X=e[1]?"Brouillon":e[0].reponse.length.toString()+" r\xE9ponses",K,Q,J;return{c(){t=element("div"),r=element("div"),o=element("img"),h=space(),y=element("div"),D=element("div"),O=element("h3"),R=text(F),B=space(),j=element("div"),q=element("div"),W=text(U),G=space(),Y=element("div"),K=text(X),attr(o,"class","w-100"),src_url_equal(o.src,l=e[1]?"/assets/icons/delete.svg":"/assets/icons/share.svg")||attr(o,"src",l),attr(o,"alt","bouton partger"),attr(r,"class","threeDot hvr-bounce-in svelte-26qoix"),attr(y,"class","p-3 pr-5 w-100 h-75 m-0"),set_style(y,"background-color",e[1]?"grey":e[0].color),set_style(y,"border-radius","10px 10px 0px 0px"),set_style(y,"color","white"),attr(q,"class","d-fk"),attr(j,"class","px-3 flex-fill d-flex justify-content-between align-items-center w-100"),attr(t,"class","neuProjet d-flex align-items-center justify-content-stretch flex-column hvr-float svelte-26qoix")},m(et,nt){insert(et,t,nt),append(t,r),append(r,o),append(t,h),append(t,y),append(y,D),append(D,O),append(O,R),append(t,B),append(t,j),append(j,q),append(q,W),append(j,G),append(j,Y),append(Y,K),Q||(J=[listen(r,"click",stop_propagation(e[2])),listen(t,"click",e[3])],Q=!0)},p(et,[nt]){nt&1&&F!==(F=et[0].nom_proj+"")&&set_data(R,F),nt&1&&set_style(y,"background-color",et[1]?"grey":et[0].color),nt&1&&U!==(U=et[0].crea_date.split("T")[0]+"")&&set_data(W,U),nt&1&&X!==(X=et[1]?"Brouillon":et[0].reponse.length.toString()+" r\xE9ponses")&&set_data(K,X)},i:noop$2,o:noop$2,d(et){et&&detach(t),Q=!1,run_all(J)}}}function shareBtn(e){navigator.clipboard.writeText("retine.io/sondage#"+e.toString()).then(function(){Swal.fire("Lien du sondage copi\xE9 !","retine.io/sondage#"+e.toString(),"success")},function(){console.log("error")})}function instance$d(e,t,r){let{sondage:o}=t,{activePage:l}=t,{loadSondage:h}=t,{updateFun:y}=t,{loadSView:D}=t,O=o.reponse.length==0&&o.priv==!0;async function F(j){Swal.fire({title:"Supprimer le sondage?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Supprimer le sondage",cancelButtonText:"Annuler"}).then(q=>{if(q.isConfirmed){var U=new Headers;U.append("Authorization","Token "+xxgc("rtnt"));var W={method:"DELETE",headers:U,redirect:"follow"};return fetch(`https://retinereq.jetevois.fr:8000/sondages/edit/${j}/`,W).then(G=>G.text()).then(G=>{Swal.fire("Sondage supprim\xE9","Votre sondage ainsi que les r\xE9ponses ont \xE9t\xE9 supprim\xE9s.","success").then(()=>(y(),G))}).catch(G=>G)}})}const R=()=>{O?F(o.id):shareBtn(o.id),window.event.stopPropagation()},B=()=>{O?(r(0,o.jsonContent=JSON.parse(o.jsonContent),o),h(o,o.id)):(D(o),r(4,l="projectView"))};return e.$$set=j=>{"sondage"in j&&r(0,o=j.sondage),"activePage"in j&&r(4,l=j.activePage),"loadSondage"in j&&r(5,h=j.loadSondage),"updateFun"in j&&r(6,y=j.updateFun),"loadSView"in j&&r(7,D=j.loadSView)},[o,O,R,B,l,h,y,D]}class ProjetCard extends SvelteComponent{constructor(t){super(),init(this,t,instance$d,create_fragment$e,safe_not_equal,{sondage:0,activePage:4,loadSondage:5,updateFun:6,loadSView:7})}}var projectsList_svelte_svelte_type_style_lang="";function get_each_context$5(e,t,r){const o=e.slice();return o[9]=t[r],o[11]=r,o}function create_catch_block$6(e){let t,r=e[12]+"",o;return{c(){t=element("div"),o=text(r)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&8&&r!==(r=l[12]+"")&&set_data(o,r)},i:noop$2,o:noop$2,d(l){l&&detach(t)}}}function create_then_block$6(e){let t=[],r=new Map,o,l,h=e[8];const y=D=>D[9].id;for(let D=0;D<h.length;D+=1){let O=get_each_context$5(e,h,D),F=y(O);r.set(F,t[D]=create_each_block$5(F,O))}return{c(){for(let D=0;D<t.length;D+=1)t[D].c();o=empty()},m(D,O){for(let F=0;F<t.length;F+=1)t[F].m(D,O);insert(D,o,O),l=!0},p(D,O){O&31&&(h=D[8],group_outros(),t=update_keyed_each(t,O,y,1,D,h,r,o.parentNode,outro_and_destroy_block,create_each_block$5,o,get_each_context$5),check_outros())},i(D){if(!l){for(let O=0;O<h.length;O+=1)transition_in(t[O]);l=!0}},o(D){for(let O=0;O<t.length;O+=1)transition_out(t[O]);l=!1},d(D){for(let O=0;O<t.length;O+=1)t[O].d(D);D&&detach(o)}}}function create_each_block$5(e,t){let r,o,l,h,y,D;function O(R){t[6](R)}let F={loadSondage:t[1],sondage:t[9],loadSView:t[2],updateFun:t[4]};return t[0]!==void 0&&(F.activePage=t[0]),o=new ProjetCard({props:F}),binding_callbacks.push(()=>bind(o,"activePage",O)),{key:e,first:null,c(){r=element("div"),create_component(o.$$.fragment),h=space(),attr(r,"class","col-12 col-sm-6 col-lg-4 mb-5"),this.first=r},m(R,B){insert(R,r,B),mount_component(o,r,null),append(r,h),D=!0},p(R,B){t=R;const j={};B&2&&(j.loadSondage=t[1]),B&8&&(j.sondage=t[9]),B&4&&(j.loadSView=t[2]),!l&&B&1&&(l=!0,j.activePage=t[0],add_flush_callback(()=>l=!1)),o.$set(j)},i(R){D||(transition_in(o.$$.fragment,R),y||add_render_callback(()=>{y=create_in_transition(r,fly,{x:-20,delay:t[11]*60}),y.start()}),D=!0)},o(R){transition_out(o.$$.fragment,R),D=!1},d(R){R&&detach(r),destroy_component(o)}}}function create_pending_block$6(e){let t;return{c(){t=element("div")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_fragment$d(e){let t,r,o,l,h,y,D,O,F,R,B={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$6,then:create_then_block$6,catch:create_catch_block$6,value:8,error:12,blocks:[,,,]};return handle_promise(D=e[3],B),{c(){t=element("h1"),t.textContent="Dashboard des sondages",r=space(),o=element("div"),l=element("div"),h=element("div"),h.innerHTML=`Cr\xE9er un<br/>
      nouveau projet`,y=space(),B.block.c(),attr(t,"class","py-2 mb-3 text-center"),attr(h,"class","neuProjet d-flex align-items-center justify-content-center text-center svelte-tbw97b"),set_style(h,"height","200px"),attr(l,"class","col-12 col-sm-6 col-lg-4 mb-4"),attr(o,"id","mesSondages"),attr(o,"class","row p-3 w-100"),set_style(o,"max-width","1100px")},m(j,q){insert(j,t,q),insert(j,r,q),insert(j,o,q),append(o,l),append(l,h),append(o,y),B.block.m(o,B.anchor=null),B.mount=()=>o,B.anchor=null,O=!0,F||(R=listen(h,"click",e[5]),F=!0)},p(j,[q]){e=j,B.ctx=e,q&8&&D!==(D=e[3])&&handle_promise(D,B)||update_await_block_branch(B,e,q)},i(j){O||(transition_in(B.block),O=!0)},o(j){for(let q=0;q<3;q+=1){const U=B.blocks[q];transition_out(U)}O=!1},d(j){j&&detach(t),j&&detach(r),j&&detach(o),B.block.d(),B.token=null,B=null,F=!1,R()}}}function instance$c(e,t,r){let{activePage:o}=t,{loadSondage:l}=t,{loadSView:h}=t;async function y(){var B=new Headers;B.append("Authorization","Token "+xxgc("rtnt")),B.append("Content-Type","application/json");var j={method:"GET",headers:B,redirect:"follow"};return fetch("https://retinereq.jetevois.fr:8000/sondages/edit/",j).then(q=>q.text()).then(q=>JSON.parse(q)).catch(q=>q)}let D=y();const O=()=>{r(3,D=y())},F=()=>l("new");function R(B){o=B,r(0,o)}return e.$$set=B=>{"activePage"in B&&r(0,o=B.activePage),"loadSondage"in B&&r(1,l=B.loadSondage),"loadSView"in B&&r(2,h=B.loadSView)},[o,l,h,D,O,F,R]}class ProjectsList extends SvelteComponent{constructor(t){super(),init(this,t,instance$c,create_fragment$d,safe_not_equal,{activePage:0,loadSondage:1,loadSView:2})}}const countOccurrences=(e,t)=>e.reduce((r,o)=>o===t?r+1:r,0),getDaysArray=function(e,t){for(var r=[],o=new Date(e);o<=new Date(t);o.setDate(o.getDate()+1))r.push(new Date(o));return r};let scaleParam={x:{grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0}},y:{grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0,maxTicksLimit:5}}},deferredConfig={xOffset:150,yOffset:"50%",delay:500},chartColors=["#23BE6E4D","#7798AB4D","#6219D84D","#DB54614D","#42BFDD4D","#E7BB734D","#F08CAE4D","#A297154D","#4C4C474D","#F588514D"];async function dlData(e){var t=new Headers;return t.append("Authorization","Token "+xxgc("rtnt")),t.append("Content-Type","application/json"),fetch(`https://retinereq.jetevois.fr:8000/sondage/edit/x/${e}/`,{method:"GET",headers:t,redirect:"follow"}).then(r=>r.blob()).then(r=>{var o=window.URL.createObjectURL(r);window.location.assign(o)})}async function delSondRtn(e){Swal.fire({title:"Supprimer le sondage?",text:"Vous ne pourrez plus revenir en arri\xE8re.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Supprimer le sondage",cancelButtonText:"Annuler"}).then(t=>{if(t.isConfirmed){var r=new Headers;return r.append("Authorization","Token "+xxgc("rtnt")),fetch(`https://retinereq.jetevois.fr:8000/sondages/edit/${e}/`,{method:"DELETE",headers:r,redirect:"follow"}).then(o=>o.text()).then(o=>(Swal.fire("Sondage supprim\xE9","Votre sondage ainsi que les r\xE9ponses ont \xE9t\xE9 supprim\xE9s.","success"),o)).catch(o=>o)}})}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const requestAnimFrame=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function throttled(e,t,r){const o=r||(y=>Array.prototype.slice.call(y));let l=!1,h=[];return function(...y){h=o(y),l||(l=!0,requestAnimFrame.call(window,()=>{l=!1,e.apply(t,h)}))}}function debounce(e,t){let r;return function(...o){return t?(clearTimeout(r),r=setTimeout(e,t,o)):e.apply(this,o),t}}const _toLeftRightCenter=e=>e==="start"?"left":e==="end"?"right":"center",_alignStartEnd=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2,_textX=(e,t,r,o)=>e===(o?"left":"right")?r:e==="center"?(t+r)/2:t;function noop$1(){}const uid=function(){let e=0;return function(){return e++}}();function isNullOrUndef(e){return e===null||typeof e=="undefined"}function isArray(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function isObject(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const isNumberFinite=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function finiteOrDefault(e,t){return isNumberFinite(e)?e:t}function valueOrDefault(e,t){return typeof e=="undefined"?t:e}const toPercentage=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,toDimension=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function callback(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function each(e,t,r,o){let l,h,y;if(isArray(e))if(h=e.length,o)for(l=h-1;l>=0;l--)t.call(r,e[l],l);else for(l=0;l<h;l++)t.call(r,e[l],l);else if(isObject(e))for(y=Object.keys(e),h=y.length,l=0;l<h;l++)t.call(r,e[y[l]],y[l])}function _elementsEqual(e,t){let r,o,l,h;if(!e||!t||e.length!==t.length)return!1;for(r=0,o=e.length;r<o;++r)if(l=e[r],h=t[r],l.datasetIndex!==h.datasetIndex||l.index!==h.index)return!1;return!0}function clone$1(e){if(isArray(e))return e.map(clone$1);if(isObject(e)){const t=Object.create(null),r=Object.keys(e),o=r.length;let l=0;for(;l<o;++l)t[r[l]]=clone$1(e[r[l]]);return t}return e}function isValidKey(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function _merger(e,t,r,o){if(!isValidKey(e))return;const l=t[e],h=r[e];isObject(l)&&isObject(h)?merge(l,h,o):t[e]=clone$1(h)}function merge(e,t,r){const o=isArray(t)?t:[t],l=o.length;if(!isObject(e))return e;r=r||{};const h=r.merger||_merger;for(let y=0;y<l;++y){if(t=o[y],!isObject(t))continue;const D=Object.keys(t);for(let O=0,F=D.length;O<F;++O)h(D[O],e,t,r)}return e}function mergeIf(e,t){return merge(e,t,{merger:_mergerIf})}function _mergerIf(e,t,r){if(!isValidKey(e))return;const o=t[e],l=r[e];isObject(o)&&isObject(l)?mergeIf(o,l):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=clone$1(l))}const emptyString="",dot=".";function indexOfDotOrLength(e,t){const r=e.indexOf(dot,t);return r===-1?e.length:r}function resolveObjectKey(e,t){if(t===emptyString)return e;let r=0,o=indexOfDotOrLength(t,r);for(;e&&o>r;)e=e[t.slice(r,o)],r=o+1,o=indexOfDotOrLength(t,r);return e}function _capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}const defined=e=>typeof e!="undefined",isFunction=e=>typeof e=="function",setsEqual=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function _isClickEvent(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function niceNum(e){const t=Math.round(e);e=almostEquals(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(log10(e))),o=e/r;return(o<=1?1:o<=2?2:o<=5?5:10)*r}function _factorize(e){const t=[],r=Math.sqrt(e);let o;for(o=1;o<r;o++)e%o===0&&(t.push(o),t.push(e/o));return r===(r|0)&&t.push(r),t.sort((l,h)=>l-h).pop(),t}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function almostEquals(e,t,r){return Math.abs(e-t)<r}function almostWhole(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function _setMinAndMaxByKey(e,t,r){let o,l,h;for(o=0,l=e.length;o<l;o++)h=e[o][r],isNaN(h)||(t.min=Math.min(t.min,h),t.max=Math.max(t.max,h))}function toRadians(e){return e*(PI/180)}function toDegrees(e){return e*(180/PI)}function _decimalPlaces(e){if(!isNumberFinite(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function getAngleFromPoint(e,t){const r=t.x-e.x,o=t.y-e.y,l=Math.sqrt(r*r+o*o);let h=Math.atan2(o,r);return h<-.5*PI&&(h+=TAU),{angle:h,distance:l}}function distanceBetweenPoints(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _angleDiff(e,t){return(e-t+PITAU)%TAU-PI}function _normalizeAngle(e){return(e%TAU+TAU)%TAU}function _angleBetween(e,t,r,o){const l=_normalizeAngle(e),h=_normalizeAngle(t),y=_normalizeAngle(r),D=_normalizeAngle(h-l),O=_normalizeAngle(y-l),F=_normalizeAngle(l-h),R=_normalizeAngle(l-y);return l===h||l===y||o&&h===y||D>O&&F<R}function _limitValue(e,t,r){return Math.max(t,Math.min(r,e))}function _int16Range(e){return _limitValue(e,-32768,32767)}function _isBetween(e,t,r,o=1e-6){return e>=Math.min(t,r)-o&&e<=Math.max(t,r)+o}const atEdge=e=>e===0||e===1,elasticIn=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*TAU/r)),elasticOut=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*TAU/r)+1,effects={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*HALF_PI)+1,easeOutSine:e=>Math.sin(e*HALF_PI),easeInOutSine:e=>-.5*(Math.cos(PI*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>atEdge(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>atEdge(e)?e:elasticIn(e,.075,.3),easeOutElastic:e=>atEdge(e)?e:elasticOut(e,.075,.3),easeInOutElastic(e){return atEdge(e)?e:e<.5?.5*elasticIn(e*2,.1125,.45):.5+.5*elasticOut(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-effects.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?effects.easeInBounce(e*2)*.5:effects.easeOutBounce(e*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function round(e){return e+.5|0}const lim=(e,t,r)=>Math.max(Math.min(e,r),t);function p2b(e){return lim(round(e*2.55),0,255)}function n2b(e){return lim(round(e*255),0,255)}function b2n(e){return lim(round(e/2.55)/100,0,1)}function n2p(e){return lim(round(e*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=e=>hex[e&15],h2=e=>hex[(e&240)>>4]+hex[e&15],eq=e=>(e&240)>>4===(e&15),isShort=e=>eq(e.r)&&eq(e.g)&&eq(e.b)&&eq(e.a);function hexParse(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&map$1[e[1]]*17,g:255&map$1[e[2]]*17,b:255&map$1[e[3]]*17,a:t===5?map$1[e[4]]*17:255}:(t===7||t===9)&&(r={r:map$1[e[1]]<<4|map$1[e[2]],g:map$1[e[3]]<<4|map$1[e[4]],b:map$1[e[5]]<<4|map$1[e[6]],a:t===9?map$1[e[7]]<<4|map$1[e[8]]:255})),r}const alpha=(e,t)=>e<255?t(e):"";function hexString(e){var t=isShort(e)?h1:h2;return e?"#"+t(e.r)+t(e.g)+t(e.b)+alpha(e.a,t):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(e,t,r){const o=t*Math.min(r,1-r),l=(h,y=(h+e/30)%12)=>r-o*Math.max(Math.min(y-3,9-y,1),-1);return[l(0),l(8),l(4)]}function hsv2rgbn(e,t,r){const o=(l,h=(l+e/60)%6)=>r-r*t*Math.max(Math.min(h,4-h,1),0);return[o(5),o(3),o(1)]}function hwb2rgbn(e,t,r){const o=hsl2rgbn(e,1,.5);let l;for(t+r>1&&(l=1/(t+r),t*=l,r*=l),l=0;l<3;l++)o[l]*=1-t-r,o[l]+=t;return o}function hueValue(e,t,r,o,l){return e===l?(t-r)/o+(t<r?6:0):t===l?(r-e)/o+2:(e-t)/o+4}function rgb2hsl(e){const r=e.r/255,o=e.g/255,l=e.b/255,h=Math.max(r,o,l),y=Math.min(r,o,l),D=(h+y)/2;let O,F,R;return h!==y&&(R=h-y,F=D>.5?R/(2-h-y):R/(h+y),O=hueValue(r,o,l,R,h),O=O*60+.5),[O|0,F||0,D]}function calln(e,t,r,o){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,o)).map(n2b)}function hsl2rgb(e,t,r){return calln(hsl2rgbn,e,t,r)}function hwb2rgb(e,t,r){return calln(hwb2rgbn,e,t,r)}function hsv2rgb(e,t,r){return calln(hsv2rgbn,e,t,r)}function hue(e){return(e%360+360)%360}function hueParse(e){const t=HUE_RE.exec(e);let r=255,o;if(!t)return;t[5]!==o&&(r=t[6]?p2b(+t[5]):n2b(+t[5]));const l=hue(+t[2]),h=+t[3]/100,y=+t[4]/100;return t[1]==="hwb"?o=hwb2rgb(l,h,y):t[1]==="hsv"?o=hsv2rgb(l,h,y):o=hsl2rgb(l,h,y),{r:o[0],g:o[1],b:o[2],a:r}}function rotate(e,t){var r=rgb2hsl(e);r[0]=hue(r[0]+t),r=hsl2rgb(r),e.r=r[0],e.g=r[1],e.b=r[2]}function hslString(e){if(!e)return;const t=rgb2hsl(e),r=t[0],o=n2p(t[1]),l=n2p(t[2]);return e.a<255?`hsla(${r}, ${o}%, ${l}%, ${b2n(e.a)})`:`hsl(${r}, ${o}%, ${l}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const e={},t=Object.keys(names$1),r=Object.keys(map$2);let o,l,h,y,D;for(o=0;o<t.length;o++){for(y=D=t[o],l=0;l<r.length;l++)h=r[l],D=D.replace(h,map$2[h]);h=parseInt(names$1[y],16),e[D]=[h>>16&255,h>>8&255,h&255]}return e}let names;function nameParse(e){names||(names=unpack(),names.transparent=[0,0,0,0]);const t=names[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(e){const t=RGB_RE.exec(e);let r=255,o,l,h;if(!!t){if(t[7]!==o){const y=+t[7];r=t[8]?p2b(y):lim(y*255,0,255)}return o=+t[1],l=+t[3],h=+t[5],o=255&(t[2]?p2b(o):lim(o,0,255)),l=255&(t[4]?p2b(l):lim(l,0,255)),h=255&(t[6]?p2b(h):lim(h,0,255)),{r:o,g:l,b:h,a:r}}}function rgbString(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${b2n(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const to=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,from=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function interpolate$1(e,t,r){const o=from(b2n(e.r)),l=from(b2n(e.g)),h=from(b2n(e.b));return{r:n2b(to(o+r*(from(b2n(t.r))-o))),g:n2b(to(l+r*(from(b2n(t.g))-l))),b:n2b(to(h+r*(from(b2n(t.b))-h))),a:e.a+r*(t.a-e.a)}}function modHSL(e,t,r){if(e){let o=rgb2hsl(e);o[t]=Math.max(0,Math.min(o[t]+o[t]*r,t===0?360:1)),o=hsl2rgb(o),e.r=o[0],e.g=o[1],e.b=o[2]}}function clone(e,t){return e&&Object.assign(t||{},e)}function fromObject(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=n2b(e[3]))):(t=clone(e,{r:0,g:0,b:0,a:1}),t.a=n2b(t.a)),t}function functionParse(e){return e.charAt(0)==="r"?rgbParse(e):hueParse(e)}class Color{constructor(t){if(t instanceof Color)return t;const r=typeof t;let o;r==="object"?o=fromObject(t):r==="string"&&(o=hexParse(t)||nameParse(t)||functionParse(t)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var t=clone(this._rgb);return t&&(t.a=b2n(t.a)),t}set rgb(t){this._rgb=fromObject(t)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(t,r){if(t){const o=this.rgb,l=t.rgb;let h;const y=r===h?.5:r,D=2*y-1,O=o.a-l.a,F=((D*O===-1?D:(D+O)/(1+D*O))+1)/2;h=1-F,o.r=255&F*o.r+h*l.r+.5,o.g=255&F*o.g+h*l.g+.5,o.b=255&F*o.b+h*l.b+.5,o.a=y*o.a+(1-y)*l.a,this.rgb=o}return this}interpolate(t,r){return t&&(this._rgb=interpolate$1(this._rgb,t._rgb,r)),this}clone(){return new Color(this.rgb)}alpha(t){return this._rgb.a=n2b(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=round(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return modHSL(this._rgb,2,t),this}darken(t){return modHSL(this._rgb,2,-t),this}saturate(t){return modHSL(this._rgb,1,t),this}desaturate(t){return modHSL(this._rgb,1,-t),this}rotate(t){return rotate(this._rgb,t),this}}function index_esm(e){return new Color(e)}function isPatternOrGradient(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function color(e){return isPatternOrGradient(e)?e:index_esm(e)}function getHoverColor(e){return isPatternOrGradient(e)?e:index_esm(e).saturate(.5).darken(.1).hexString()}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(e,t){if(!t)return e;const r=t.split(".");for(let o=0,l=r.length;o<l;++o){const h=r[o];e=e[h]||(e[h]=Object.create(null))}return e}function set$1(e,t,r){return typeof t=="string"?merge(getScope$1(e,t),r):merge(getScope$1(e,""),t)}class Defaults{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>getHoverColor(o.backgroundColor),this.hoverBorderColor=(r,o)=>getHoverColor(o.borderColor),this.hoverColor=(r,o)=>getHoverColor(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,r){return set$1(this,t,r)}get(t){return getScope$1(this,t)}describe(t,r){return set$1(descriptors,t,r)}override(t,r){return set$1(overrides,t,r)}route(t,r,o,l){const h=getScope$1(this,t),y=getScope$1(this,o),D="_"+r;Object.defineProperties(h,{[D]:{value:h[r],writable:!0},[r]:{enumerable:!0,get(){const O=this[D],F=y[l];return isObject(O)?Object.assign({},F,O):valueOrDefault(O,F)},set(O){this[D]=O}}})}}var defaults$1=new Defaults({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function toFontString(e){return!e||isNullOrUndef(e.size)||isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function _measureText(e,t,r,o,l){let h=t[l];return h||(h=t[l]=e.measureText(l).width,r.push(l)),h>o&&(o=h),o}function _longestText(e,t,r,o){o=o||{};let l=o.data=o.data||{},h=o.garbageCollect=o.garbageCollect||[];o.font!==t&&(l=o.data={},h=o.garbageCollect=[],o.font=t),e.save(),e.font=t;let y=0;const D=r.length;let O,F,R,B,j;for(O=0;O<D;O++)if(B=r[O],B!=null&&isArray(B)!==!0)y=_measureText(e,l,h,y,B);else if(isArray(B))for(F=0,R=B.length;F<R;F++)j=B[F],j!=null&&!isArray(j)&&(y=_measureText(e,l,h,y,j));e.restore();const q=h.length/2;if(q>r.length){for(O=0;O<q;O++)delete l[h[O]];h.splice(0,q)}return y}function _alignPixel(e,t,r){const o=e.currentDevicePixelRatio,l=r!==0?Math.max(r/2,.5):0;return Math.round((t-l)*o)/o+l}function clearCanvas(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function drawPoint(e,t,r,o){let l,h,y,D,O;const F=t.pointStyle,R=t.rotation,B=t.radius;let j=(R||0)*RAD_PER_DEG;if(F&&typeof F=="object"&&(l=F.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){e.save(),e.translate(r,o),e.rotate(j),e.drawImage(F,-F.width/2,-F.height/2,F.width,F.height),e.restore();return}if(!(isNaN(B)||B<=0)){switch(e.beginPath(),F){default:e.arc(r,o,B,0,TAU),e.closePath();break;case"triangle":e.moveTo(r+Math.sin(j)*B,o-Math.cos(j)*B),j+=TWO_THIRDS_PI,e.lineTo(r+Math.sin(j)*B,o-Math.cos(j)*B),j+=TWO_THIRDS_PI,e.lineTo(r+Math.sin(j)*B,o-Math.cos(j)*B),e.closePath();break;case"rectRounded":O=B*.516,D=B-O,h=Math.cos(j+QUARTER_PI)*D,y=Math.sin(j+QUARTER_PI)*D,e.arc(r-h,o-y,O,j-PI,j-HALF_PI),e.arc(r+y,o-h,O,j-HALF_PI,j),e.arc(r+h,o+y,O,j,j+HALF_PI),e.arc(r-y,o+h,O,j+HALF_PI,j+PI),e.closePath();break;case"rect":if(!R){D=Math.SQRT1_2*B,e.rect(r-D,o-D,2*D,2*D);break}j+=QUARTER_PI;case"rectRot":h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+y,o-h),e.lineTo(r+h,o+y),e.lineTo(r-y,o+h),e.closePath();break;case"crossRot":j+=QUARTER_PI;case"cross":h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+h,o+y),e.moveTo(r+y,o-h),e.lineTo(r-y,o+h);break;case"star":h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+h,o+y),e.moveTo(r+y,o-h),e.lineTo(r-y,o+h),j+=QUARTER_PI,h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+h,o+y),e.moveTo(r+y,o-h),e.lineTo(r-y,o+h);break;case"line":h=Math.cos(j)*B,y=Math.sin(j)*B,e.moveTo(r-h,o-y),e.lineTo(r+h,o+y);break;case"dash":e.moveTo(r,o),e.lineTo(r+Math.cos(j)*B,o+Math.sin(j)*B);break}e.fill(),t.borderWidth>0&&e.stroke()}}function _isPointInArea(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function clipArea(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function unclipArea(e){e.restore()}function _steppedLineTo(e,t,r,o,l){if(!t)return e.lineTo(r.x,r.y);if(l==="middle"){const h=(t.x+r.x)/2;e.lineTo(h,t.y),e.lineTo(h,r.y)}else l==="after"!=!!o?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function _bezierCurveTo(e,t,r,o){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(o?t.cp1x:t.cp2x,o?t.cp1y:t.cp2y,o?r.cp2x:r.cp1x,o?r.cp2y:r.cp1y,r.x,r.y)}function renderText(e,t,r,o,l,h={}){const y=isArray(t)?t:[t],D=h.strokeWidth>0&&h.strokeColor!=="";let O,F;for(e.save(),e.font=l.string,setRenderOpts(e,h),O=0;O<y.length;++O)F=y[O],D&&(h.strokeColor&&(e.strokeStyle=h.strokeColor),isNullOrUndef(h.strokeWidth)||(e.lineWidth=h.strokeWidth),e.strokeText(F,r,o,h.maxWidth)),e.fillText(F,r,o,h.maxWidth),decorateText(e,r,o,F,h),o+=l.lineHeight;e.restore()}function setRenderOpts(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),isNullOrUndef(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function decorateText(e,t,r,o,l){if(l.strikethrough||l.underline){const h=e.measureText(o),y=t-h.actualBoundingBoxLeft,D=t+h.actualBoundingBoxRight,O=r-h.actualBoundingBoxAscent,F=r+h.actualBoundingBoxDescent,R=l.strikethrough?(O+F)/2:F;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=l.decorationWidth||2,e.moveTo(y,R),e.lineTo(D,R),e.stroke()}}function addRoundedRectPath(e,t){const{x:r,y:o,w:l,h,radius:y}=t;e.arc(r+y.topLeft,o+y.topLeft,y.topLeft,-HALF_PI,PI,!0),e.lineTo(r,o+h-y.bottomLeft),e.arc(r+y.bottomLeft,o+h-y.bottomLeft,y.bottomLeft,PI,HALF_PI,!0),e.lineTo(r+l-y.bottomRight,o+h),e.arc(r+l-y.bottomRight,o+h-y.bottomRight,y.bottomRight,HALF_PI,0,!0),e.lineTo(r+l,o+y.topRight),e.arc(r+l-y.topRight,o+y.topRight,y.topRight,0,-HALF_PI,!0),e.lineTo(r+y.topLeft,o)}const LINE_HEIGHT=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),FONT_STYLE=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function toLineHeight(e,t){const r=(""+e).match(LINE_HEIGHT);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const numberOrZero=e=>+e||0;function _readValueToProps(e,t){const r={},o=isObject(t),l=o?Object.keys(t):t,h=isObject(e)?o?y=>valueOrDefault(e[y],e[t[y]]):y=>e[y]:()=>e;for(const y of l)r[y]=numberOrZero(h(y));return r}function toTRBL(e){return _readValueToProps(e,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(e){return _readValueToProps(e,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(e){const t=toTRBL(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function toFont(e,t){e=e||{},t=t||defaults$1.font;let r=valueOrDefault(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let o=valueOrDefault(e.style,t.style);o&&!(""+o).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+o+'"'),o="");const l={family:valueOrDefault(e.family,t.family),lineHeight:toLineHeight(valueOrDefault(e.lineHeight,t.lineHeight),r),size:r,style:o,weight:valueOrDefault(e.weight,t.weight),string:""};return l.string=toFontString(l),l}function resolve(e,t,r,o){let l=!0,h,y,D;for(h=0,y=e.length;h<y;++h)if(D=e[h],D!==void 0&&(t!==void 0&&typeof D=="function"&&(D=D(t),l=!1),r!==void 0&&isArray(D)&&(D=D[r%D.length],l=!1),D!==void 0))return o&&!l&&(o.cacheable=!1),D}function _addGrace(e,t,r){const{min:o,max:l}=e,h=toDimension(t,(l-o)/2),y=(D,O)=>r&&D===0?0:D+O;return{min:y(o,-Math.abs(h)),max:y(l,h)}}function createContext(e,t){return Object.assign(Object.create(e),t)}function _lookup(e,t,r){r=r||(y=>e[y]<t);let o=e.length-1,l=0,h;for(;o-l>1;)h=l+o>>1,r(h)?l=h:o=h;return{lo:l,hi:o}}const _lookupByKey=(e,t,r)=>_lookup(e,r,o=>e[o][t]<r),_rlookupByKey=(e,t,r)=>_lookup(e,r,o=>e[o][t]>=r);function _filterBetween(e,t,r){let o=0,l=e.length;for(;o<l&&e[o]<t;)o++;for(;l>o&&e[l-1]>r;)l--;return o>0||l<e.length?e.slice(o,l):e}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),arrayEvents.forEach(r=>{const o="_onData"+_capitalize(r),l=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...h){const y=l.apply(this,h);return e._chartjs.listeners.forEach(D=>{typeof D[o]=="function"&&D[o](...h)}),y}})})}function unlistenArrayEvents(e,t){const r=e._chartjs;if(!r)return;const o=r.listeners,l=o.indexOf(t);l!==-1&&o.splice(l,1),!(o.length>0)&&(arrayEvents.forEach(h=>{delete e[h]}),delete e._chartjs)}function _arrayUnique(e){const t=new Set;let r,o;for(r=0,o=e.length;r<o;++r)t.add(e[r]);return t.size===o?e:Array.from(t)}function _createResolver(e,t=[""],r=e,o,l=()=>e[0]){defined(o)||(o=_resolve("_fallback",e));const h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:o,_getTarget:l,override:y=>_createResolver([y,...e],t,r,o)};return new Proxy(h,{deleteProperty(y,D){return delete y[D],delete y._keys,delete e[0][D],!0},get(y,D){return _cached(y,D,()=>_resolveWithPrefixes(D,t,e,y))},getOwnPropertyDescriptor(y,D){return Reflect.getOwnPropertyDescriptor(y._scopes[0],D)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(y,D){return getKeysFromAllScopes(y).includes(D)},ownKeys(y){return getKeysFromAllScopes(y)},set(y,D,O){const F=y._storage||(y._storage=l());return y[D]=F[D]=O,delete y._keys,!0}})}function _attachContext(e,t,r,o){const l={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:_descriptors(e,o),setContext:h=>_attachContext(e,h,r,o),override:h=>_attachContext(e.override(h),t,r,o)};return new Proxy(l,{deleteProperty(h,y){return delete h[y],delete e[y],!0},get(h,y,D){return _cached(h,y,()=>_resolveWithContext(h,y,D))},getOwnPropertyDescriptor(h,y){return h._descriptors.allKeys?Reflect.has(e,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,y)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(h,y){return Reflect.has(e,y)},ownKeys(){return Reflect.ownKeys(e)},set(h,y,D){return e[y]=D,delete h[y],!0}})}function _descriptors(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:o=t.indexable,_allKeys:l=t.allKeys}=e;return{allKeys:l,scriptable:r,indexable:o,isScriptable:isFunction(r)?r:()=>r,isIndexable:isFunction(o)?o:()=>o}}const readKey=(e,t)=>e?e+_capitalize(t):t,needsSubResolver=(e,t)=>isObject(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function _cached(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const o=r();return e[t]=o,o}function _resolveWithContext(e,t,r){const{_proxy:o,_context:l,_subProxy:h,_descriptors:y}=e;let D=o[t];return isFunction(D)&&y.isScriptable(t)&&(D=_resolveScriptable(t,D,e,r)),isArray(D)&&D.length&&(D=_resolveArray(t,D,e,y.isIndexable)),needsSubResolver(t,D)&&(D=_attachContext(D,l,h&&h[t],y)),D}function _resolveScriptable(e,t,r,o){const{_proxy:l,_context:h,_subProxy:y,_stack:D}=r;if(D.has(e))throw new Error("Recursion detected: "+Array.from(D).join("->")+"->"+e);return D.add(e),t=t(h,y||o),D.delete(e),needsSubResolver(e,t)&&(t=createSubResolver(l._scopes,l,e,t)),t}function _resolveArray(e,t,r,o){const{_proxy:l,_context:h,_subProxy:y,_descriptors:D}=r;if(defined(h.index)&&o(e))t=t[h.index%t.length];else if(isObject(t[0])){const O=t,F=l._scopes.filter(R=>R!==O);t=[];for(const R of O){const B=createSubResolver(F,l,e,R);t.push(_attachContext(B,h,y&&y[e],D))}}return t}function resolveFallback(e,t,r){return isFunction(e)?e(t,r):e}const getScope=(e,t)=>e===!0?t:typeof e=="string"?resolveObjectKey(t,e):void 0;function addScopes(e,t,r,o,l){for(const h of t){const y=getScope(r,h);if(y){e.add(y);const D=resolveFallback(y._fallback,r,l);if(defined(D)&&D!==r&&D!==o)return D}else if(y===!1&&defined(o)&&r!==o)return null}return!1}function createSubResolver(e,t,r,o){const l=t._rootScopes,h=resolveFallback(t._fallback,r,o),y=[...e,...l],D=new Set;D.add(o);let O=addScopesFromKey(D,y,r,h||r,o);return O===null||defined(h)&&h!==r&&(O=addScopesFromKey(D,y,h,O,o),O===null)?!1:_createResolver(Array.from(D),[""],l,h,()=>subGetTarget(t,r,o))}function addScopesFromKey(e,t,r,o,l){for(;r;)r=addScopes(e,t,r,o,l);return r}function subGetTarget(e,t,r){const o=e._getTarget();t in o||(o[t]={});const l=o[t];return isArray(l)&&isObject(r)?r:l}function _resolveWithPrefixes(e,t,r,o){let l;for(const h of t)if(l=_resolve(readKey(h,e),r),defined(l))return needsSubResolver(e,l)?createSubResolver(r,o,e,l):l}function _resolve(e,t){for(const r of t){if(!r)continue;const o=r[e];if(defined(o))return o}}function getKeysFromAllScopes(e){let t=e._keys;return t||(t=e._keys=resolveKeysFromAllScopes(e._scopes)),t}function resolveKeysFromAllScopes(e){const t=new Set;for(const r of e)for(const o of Object.keys(r).filter(l=>!l.startsWith("_")))t.add(o);return Array.from(t)}function _parseObjectDataRadialScale(e,t,r,o){const{iScale:l}=e,{key:h="r"}=this._parsing,y=new Array(o);let D,O,F,R;for(D=0,O=o;D<O;++D)F=D+r,R=t[F],y[D]={r:l.parse(resolveObjectKey(R,h),F)};return y}const EPSILON=Number.EPSILON||1e-14,getPoint=(e,t)=>t<e.length&&!e[t].skip&&e[t],getValueAxis=e=>e==="x"?"y":"x";function splineCurve(e,t,r,o){const l=e.skip?t:e,h=t,y=r.skip?t:r,D=distanceBetweenPoints(h,l),O=distanceBetweenPoints(y,h);let F=D/(D+O),R=O/(D+O);F=isNaN(F)?0:F,R=isNaN(R)?0:R;const B=o*F,j=o*R;return{previous:{x:h.x-B*(y.x-l.x),y:h.y-B*(y.y-l.y)},next:{x:h.x+j*(y.x-l.x),y:h.y+j*(y.y-l.y)}}}function monotoneAdjust(e,t,r){const o=e.length;let l,h,y,D,O,F=getPoint(e,0);for(let R=0;R<o-1;++R)if(O=F,F=getPoint(e,R+1),!(!O||!F)){if(almostEquals(t[R],0,EPSILON)){r[R]=r[R+1]=0;continue}l=r[R]/t[R],h=r[R+1]/t[R],D=Math.pow(l,2)+Math.pow(h,2),!(D<=9)&&(y=3/Math.sqrt(D),r[R]=l*y*t[R],r[R+1]=h*y*t[R])}}function monotoneCompute(e,t,r="x"){const o=getValueAxis(r),l=e.length;let h,y,D,O=getPoint(e,0);for(let F=0;F<l;++F){if(y=D,D=O,O=getPoint(e,F+1),!D)continue;const R=D[r],B=D[o];y&&(h=(R-y[r])/3,D[`cp1${r}`]=R-h,D[`cp1${o}`]=B-h*t[F]),O&&(h=(O[r]-R)/3,D[`cp2${r}`]=R+h,D[`cp2${o}`]=B+h*t[F])}}function splineCurveMonotone(e,t="x"){const r=getValueAxis(t),o=e.length,l=Array(o).fill(0),h=Array(o);let y,D,O,F=getPoint(e,0);for(y=0;y<o;++y)if(D=O,O=F,F=getPoint(e,y+1),!!O){if(F){const R=F[t]-O[t];l[y]=R!==0?(F[r]-O[r])/R:0}h[y]=D?F?sign(l[y-1])!==sign(l[y])?0:(l[y-1]+l[y])/2:l[y-1]:l[y]}monotoneAdjust(e,l,h),monotoneCompute(e,h,t)}function capControlPoint(e,t,r){return Math.max(Math.min(e,r),t)}function capBezierPoints(e,t){let r,o,l,h,y,D=_isPointInArea(e[0],t);for(r=0,o=e.length;r<o;++r)y=h,h=D,D=r<o-1&&_isPointInArea(e[r+1],t),h&&(l=e[r],y&&(l.cp1x=capControlPoint(l.cp1x,t.left,t.right),l.cp1y=capControlPoint(l.cp1y,t.top,t.bottom)),D&&(l.cp2x=capControlPoint(l.cp2x,t.left,t.right),l.cp2y=capControlPoint(l.cp2y,t.top,t.bottom)))}function _updateBezierControlPoints(e,t,r,o,l){let h,y,D,O;if(t.spanGaps&&(e=e.filter(F=>!F.skip)),t.cubicInterpolationMode==="monotone")splineCurveMonotone(e,l);else{let F=o?e[e.length-1]:e[0];for(h=0,y=e.length;h<y;++h)D=e[h],O=splineCurve(F,D,e[Math.min(h+1,y-(o?0:1))%y],t.tension),D.cp1x=O.previous.x,D.cp1y=O.previous.y,D.cp2x=O.next.x,D.cp2y=O.next.y,F=D}t.capBezierPoints&&capBezierPoints(e,r)}function _isDomSupported(){return typeof window!="undefined"&&typeof document!="undefined"}function _getParentNode(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function parseMaxStyle(e,t,r){let o;return typeof e=="string"?(o=parseInt(e,10),e.indexOf("%")!==-1&&(o=o/100*t.parentNode[r])):o=e,o}const getComputedStyle$1=e=>window.getComputedStyle(e,null);function getStyle(e,t){return getComputedStyle$1(e).getPropertyValue(t)}const positions=["top","right","bottom","left"];function getPositionedStyle(e,t,r){const o={};r=r?"-"+r:"";for(let l=0;l<4;l++){const h=positions[l];o[h]=parseFloat(e[t+"-"+h+r])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const useOffsetPos=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function getCanvasPosition(e,t){const r=e.touches,o=r&&r.length?r[0]:e,{offsetX:l,offsetY:h}=o;let y=!1,D,O;if(useOffsetPos(l,h,e.target))D=l,O=h;else{const F=t.getBoundingClientRect();D=o.clientX-F.left,O=o.clientY-F.top,y=!0}return{x:D,y:O,box:y}}function getRelativePosition(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:o}=t,l=getComputedStyle$1(r),h=l.boxSizing==="border-box",y=getPositionedStyle(l,"padding"),D=getPositionedStyle(l,"border","width"),{x:O,y:F,box:R}=getCanvasPosition(e,r),B=y.left+(R&&D.left),j=y.top+(R&&D.top);let{width:q,height:U}=t;return h&&(q-=y.width+D.width,U-=y.height+D.height),{x:Math.round((O-B)/q*r.width/o),y:Math.round((F-j)/U*r.height/o)}}function getContainerSize(e,t,r){let o,l;if(t===void 0||r===void 0){const h=_getParentNode(e);if(!h)t=e.clientWidth,r=e.clientHeight;else{const y=h.getBoundingClientRect(),D=getComputedStyle$1(h),O=getPositionedStyle(D,"border","width"),F=getPositionedStyle(D,"padding");t=y.width-F.width-O.width,r=y.height-F.height-O.height,o=parseMaxStyle(D.maxWidth,h,"clientWidth"),l=parseMaxStyle(D.maxHeight,h,"clientHeight")}}return{width:t,height:r,maxWidth:o||INFINITY,maxHeight:l||INFINITY}}const round1=e=>Math.round(e*10)/10;function getMaximumSize(e,t,r,o){const l=getComputedStyle$1(e),h=getPositionedStyle(l,"margin"),y=parseMaxStyle(l.maxWidth,e,"clientWidth")||INFINITY,D=parseMaxStyle(l.maxHeight,e,"clientHeight")||INFINITY,O=getContainerSize(e,t,r);let{width:F,height:R}=O;if(l.boxSizing==="content-box"){const B=getPositionedStyle(l,"border","width"),j=getPositionedStyle(l,"padding");F-=j.width+B.width,R-=j.height+B.height}return F=Math.max(0,F-h.width),R=Math.max(0,o?Math.floor(F/o):R-h.height),F=round1(Math.min(F,y,O.maxWidth)),R=round1(Math.min(R,D,O.maxHeight)),F&&!R&&(R=round1(F/2)),{width:F,height:R}}function retinaScale(e,t,r){const o=t||1,l=Math.floor(e.height*o),h=Math.floor(e.width*o);e.height=l/o,e.width=h/o;const y=e.canvas;return y.style&&(r||!y.style.height&&!y.style.width)&&(y.style.height=`${e.height}px`,y.style.width=`${e.width}px`),e.currentDevicePixelRatio!==o||y.height!==l||y.width!==h?(e.currentDevicePixelRatio=o,y.height=l,y.width=h,e.ctx.setTransform(o,0,0,o,0,0),!0):!1}const supportsEventListenerOptions=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function readUsedSize(e,t){const r=getStyle(e,t),o=r&&r.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function _pointInLine(e,t,r,o){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function _steppedInterpolation(e,t,r,o){return{x:e.x+r*(t.x-e.x),y:o==="middle"?r<.5?e.y:t.y:o==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function _bezierInterpolation(e,t,r,o){const l={x:e.cp2x,y:e.cp2y},h={x:t.cp1x,y:t.cp1y},y=_pointInLine(e,l,r),D=_pointInLine(l,h,r),O=_pointInLine(h,t,r),F=_pointInLine(y,D,r),R=_pointInLine(D,O,r);return _pointInLine(F,R,r)}const intlCache=new Map;function getNumberFormat(e,t){t=t||{};const r=e+JSON.stringify(t);let o=intlCache.get(r);return o||(o=new Intl.NumberFormat(e,t),intlCache.set(r,o)),o}function formatNumber(e,t,r){return getNumberFormat(t,r).format(e)}const getRightToLeftAdapter=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,o){return r-o},leftForLtr(r,o){return r-o}}},getLeftToRightAdapter=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function getRtlAdapter(e,t,r){return e?getRightToLeftAdapter(t,r):getLeftToRightAdapter()}function overrideTextDirection(e,t){let r,o;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,o=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=o)}function restoreTextDirection(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function propertyFn(e){return e==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(t,r)=>t-r,normalize:t=>t}}function normalizeSegment({start:e,end:t,count:r,loop:o,style:l}){return{start:e%r,end:t%r,loop:o&&(t-e+1)%r===0,style:l}}function getSegment(e,t,r){const{property:o,start:l,end:h}=r,{between:y,normalize:D}=propertyFn(o),O=t.length;let{start:F,end:R,loop:B}=e,j,q;if(B){for(F+=O,R+=O,j=0,q=O;j<q&&y(D(t[F%O][o]),l,h);++j)F--,R--;F%=O,R%=O}return R<F&&(R+=O),{start:F,end:R,loop:B,style:e.style}}function _boundSegment(e,t,r){if(!r)return[e];const{property:o,start:l,end:h}=r,y=t.length,{compare:D,between:O,normalize:F}=propertyFn(o),{start:R,end:B,loop:j,style:q}=getSegment(e,t,r),U=[];let W=!1,G=null,Y,X,K;const Q=()=>O(l,K,Y)&&D(l,K)!==0,J=()=>D(h,Y)===0||O(h,K,Y),et=()=>W||Q(),nt=()=>!W||J();for(let Z=R,it=R;Z<=B;++Z)X=t[Z%y],!X.skip&&(Y=F(X[o]),Y!==K&&(W=O(Y,l,h),G===null&&et()&&(G=D(Y,l)===0?Z:it),G!==null&&nt()&&(U.push(normalizeSegment({start:G,end:Z,loop:j,count:y,style:q})),G=null),it=Z,K=Y));return G!==null&&U.push(normalizeSegment({start:G,end:B,loop:j,count:y,style:q})),U}function _boundSegments(e,t){const r=[],o=e.segments;for(let l=0;l<o.length;l++){const h=_boundSegment(o[l],e.points,t);h.length&&r.push(...h)}return r}function findStartAndEnd(e,t,r,o){let l=0,h=t-1;if(r&&!o)for(;l<t&&!e[l].skip;)l++;for(;l<t&&e[l].skip;)l++;for(l%=t,r&&(h+=l);h>l&&e[h%t].skip;)h--;return h%=t,{start:l,end:h}}function solidSegments(e,t,r,o){const l=e.length,h=[];let y=t,D=e[t],O;for(O=t+1;O<=r;++O){const F=e[O%l];F.skip||F.stop?D.skip||(o=!1,h.push({start:t%l,end:(O-1)%l,loop:o}),t=y=F.stop?O:null):(y=O,D.skip&&(t=O)),D=F}return y!==null&&h.push({start:t%l,end:y%l,loop:o}),h}function _computeSegments(e,t){const r=e.points,o=e.options.spanGaps,l=r.length;if(!l)return[];const h=!!e._loop,{start:y,end:D}=findStartAndEnd(r,l,h,o);if(o===!0)return splitByStyles(e,[{start:y,end:D,loop:h}],r,t);const O=D<y?D+l:D,F=!!e._fullLoop&&y===0&&D===l-1;return splitByStyles(e,solidSegments(r,y,O,F),r,t)}function splitByStyles(e,t,r,o){return!o||!o.setContext||!r?t:doSplitByStyles(e,t,r,o)}function doSplitByStyles(e,t,r,o){const l=e._chart.getContext(),h=readStyle(e.options),{_datasetIndex:y,options:{spanGaps:D}}=e,O=r.length,F=[];let R=h,B=t[0].start,j=B;function q(U,W,G,Y){const X=D?-1:1;if(U!==W){for(U+=O;r[U%O].skip;)U-=X;for(;r[W%O].skip;)W+=X;U%O!==W%O&&(F.push({start:U%O,end:W%O,loop:G,style:Y}),R=Y,B=W%O)}}for(const U of t){B=D?B:U.start;let W=r[B%O],G;for(j=B+1;j<=U.end;j++){const Y=r[j%O];G=readStyle(o.setContext(createContext(l,{type:"segment",p0:W,p1:Y,p0DataIndex:(j-1)%O,p1DataIndex:j%O,datasetIndex:y}))),styleChanged(G,R)&&q(B,j-1,U.loop,R),W=Y,R=G}B<j-1&&q(B,j-1,U.loop,R)}return F}function readStyle(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function styleChanged(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}/*!
 * Chart.js v3.8.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,o,l){const h=r.listeners[l],y=r.duration;h.forEach(D=>D({chart:t,initial:r.initial,numSteps:y,currentStep:Math.min(o-r.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const h=o.items;let y=h.length-1,D=!1,O;for(;y>=0;--y)O=h[y],O._active?(O._total>o.duration&&(o.duration=O._total),O.tick(t),D=!0):(h[y]=h[h.length-1],h.pop());D&&(l.draw(),this._notify(l,o,t,"progress")),h.length||(o.running=!1,this._notify(l,o,t,"complete"),o.initial=!1),r+=h.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let o=r.get(t);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,o)),o}listen(t,r,o){this._getAnims(t).listeners[r].push(o)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);!r||(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const o=r.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const o=color(e||transparent),l=o.valid&&color(t||transparent);return l&&l.valid?l.mix(o,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class Animation{constructor(t,r,o,l){const h=r[o];l=resolve([t.to,l,h,t.from]);const y=resolve([t.from,h,l]);this._active=!0,this._fn=t.fn||interpolators[t.type||typeof y],this._easing=effects[t.easing]||effects.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=o,this._from=y,this._to=l,this._promises=void 0}active(){return this._active}update(t,r,o){if(this._active){this._notify(!1);const l=this._target[this._prop],h=o-this._start,y=this._duration-h;this._start=o,this._duration=Math.floor(Math.max(y,t.duration)),this._total+=h,this._loop=!!t.loop,this._to=resolve([t.to,r,l,t.from]),this._from=resolve([t.from,l,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,o=this._duration,l=this._prop,h=this._from,y=this._loop,D=this._to;let O;if(this._active=h!==D&&(y||r<o),!this._active){this._target[l]=D,this._notify(!0);return}if(r<0){this._target[l]=h;return}O=r/o%2,O=y&&O>1?2-O:O,O=this._easing(Math.min(1,Math.max(0,O))),this._target[l]=this._fn(h,D,O)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,o)=>{t.push({res:r,rej:o})})}_notify(t){const r=t?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][r]()}}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];defaults$1.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const animationOptions=Object.keys(defaults$1.animation);defaults$1.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});defaults$1.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}});defaults$1.describe("animations",{_fallback:"animation"});defaults$1.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class Animations{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!isObject(t))return;const r=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const l=t[o];if(!isObject(l))return;const h={};for(const y of animationOptions)h[y]=l[y];(isArray(l.properties)&&l.properties||[o]).forEach(y=>{(y===o||!r.has(y))&&r.set(y,h)})})}_animateOptions(t,r){const o=r.options,l=resolveTargetOptions(t,o);if(!l)return[];const h=this._createAnimations(l,o);return o.$shared&&awaitAll(t.options.$animations,o).then(()=>{t.options=o},()=>{}),h}_createAnimations(t,r){const o=this._properties,l=[],h=t.$animations||(t.$animations={}),y=Object.keys(r),D=Date.now();let O;for(O=y.length-1;O>=0;--O){const F=y[O];if(F.charAt(0)==="$")continue;if(F==="options"){l.push(...this._animateOptions(t,r));continue}const R=r[F];let B=h[F];const j=o.get(F);if(B)if(j&&B.active()){B.update(j,R,D);continue}else B.cancel();if(!j||!j.duration){t[F]=R;continue}h[F]=B=new Animation(j,t,F,R),l.push(B)}return l}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const o=this._createAnimations(t,r);if(o.length)return animator.add(this._chart,o),!0}}function awaitAll(e,t){const r=[],o=Object.keys(t);for(let l=0;l<o.length;l++){const h=e[o[l]];h&&h.active()&&r.push(h.wait())}return Promise.all(r)}function resolveTargetOptions(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function scaleClip(e,t){const r=e&&e.options||{},o=r.reverse,l=r.min===void 0?t:0,h=r.max===void 0?t:0;return{start:o?h:l,end:o?l:h}}function defaultClip(e,t,r){if(r===!1)return!1;const o=scaleClip(e,r),l=scaleClip(t,r);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}function toClip(e){let t,r,o,l;return isObject(e)?(t=e.top,r=e.right,o=e.bottom,l=e.left):t=r=o=l=e,{top:t,right:r,bottom:o,left:l,disabled:e===!1}}function getSortedDatasetIndices(e,t){const r=[],o=e._getSortedDatasetMetas(t);let l,h;for(l=0,h=o.length;l<h;++l)r.push(o[l].index);return r}function applyStack(e,t,r,o={}){const l=e.keys,h=o.mode==="single";let y,D,O,F;if(t!==null){for(y=0,D=l.length;y<D;++y){if(O=+l[y],O===r){if(o.all)continue;break}F=e.values[O],isNumberFinite(F)&&(h||t===0||sign(t)===sign(F))&&(t+=F)}return t}}function convertObjectDataToArray(e){const t=Object.keys(e),r=new Array(t.length);let o,l,h;for(o=0,l=t.length;o<l;++o)h=t[o],r[o]={x:h,y:e[h]};return r}function isStacked(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function getStackKey(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function getUserBounds(e){const{min:t,max:r,minDefined:o,maxDefined:l}=e.getUserBounds();return{min:o?t:Number.NEGATIVE_INFINITY,max:l?r:Number.POSITIVE_INFINITY}}function getOrCreateStack(e,t,r){const o=e[t]||(e[t]={});return o[r]||(o[r]={})}function getLastIndexInStack(e,t,r,o){for(const l of t.getMatchingVisibleMetas(o).reverse()){const h=e[l.index];if(r&&h>0||!r&&h<0)return l.index}return null}function updateStacks(e,t){const{chart:r,_cachedMeta:o}=e,l=r._stacks||(r._stacks={}),{iScale:h,vScale:y,index:D}=o,O=h.axis,F=y.axis,R=getStackKey(h,y,o),B=t.length;let j;for(let q=0;q<B;++q){const U=t[q],{[O]:W,[F]:G}=U,Y=U._stacks||(U._stacks={});j=Y[F]=getOrCreateStack(l,R,W),j[D]=G,j._top=getLastIndexInStack(j,y,!0,o.type),j._bottom=getLastIndexInStack(j,y,!1,o.type)}}function getFirstScaleId(e,t){const r=e.scales;return Object.keys(r).filter(o=>r[o].axis===t).shift()}function createDatasetContext(e,t){return createContext(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function createDataContext(e,t,r){return createContext(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function clearStacks(e,t){const r=e.controller.index,o=e.vScale&&e.vScale.axis;if(!!o){t=t||e._parsed;for(const l of t){const h=l._stacks;if(!h||h[o]===void 0||h[o][r]===void 0)return;delete h[o][r]}}}const isDirectUpdateMode=e=>e==="reset"||e==="none",cloneIfNotShared=(e,t)=>t?e:Object.assign({},e),createStack=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:getSortedDatasetIndices(r,!0),values:null};class DatasetController{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=isStacked(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&clearStacks(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,o=this.getDataset(),l=(B,j,q,U)=>B==="x"?j:B==="r"?U:q,h=r.xAxisID=valueOrDefault(o.xAxisID,getFirstScaleId(t,"x")),y=r.yAxisID=valueOrDefault(o.yAxisID,getFirstScaleId(t,"y")),D=r.rAxisID=valueOrDefault(o.rAxisID,getFirstScaleId(t,"r")),O=r.indexAxis,F=r.iAxisID=l(O,h,y,D),R=r.vAxisID=l(O,y,h,D);r.xScale=this.getScaleForId(h),r.yScale=this.getScaleForId(y),r.rScale=this.getScaleForId(D),r.iScale=this.getScaleForId(F),r.vScale=this.getScaleForId(R)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),t._stacked&&clearStacks(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),o=this._data;if(isObject(r))this._data=convertObjectDataToArray(r);else if(o!==r){if(o){unlistenArrayEvents(o,this);const l=this._cachedMeta;clearStacks(l),l._parsed=[]}r&&Object.isExtensible(r)&&listenArrayEvents(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,o=this.getDataset();let l=!1;this._dataCheck();const h=r._stacked;r._stacked=isStacked(r.vScale,r),r.stack!==o.stack&&(l=!0,clearStacks(r),r.stack=o.stack),this._resyncElements(t),(l||h!==r._stacked)&&updateStacks(this,r._parsed)}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:o,_data:l}=this,{iScale:h,_stacked:y}=o,D=h.axis;let O=t===0&&r===l.length?!0:o._sorted,F=t>0&&o._parsed[t-1],R,B,j;if(this._parsing===!1)o._parsed=l,o._sorted=!0,j=l;else{isArray(l[t])?j=this.parseArrayData(o,l,t,r):isObject(l[t])?j=this.parseObjectData(o,l,t,r):j=this.parsePrimitiveData(o,l,t,r);const q=()=>B[D]===null||F&&B[D]<F[D];for(R=0;R<r;++R)o._parsed[R+t]=B=j[R],O&&(q()&&(O=!1),F=B);o._sorted=O}y&&updateStacks(this,j)}parsePrimitiveData(t,r,o,l){const{iScale:h,vScale:y}=t,D=h.axis,O=y.axis,F=h.getLabels(),R=h===y,B=new Array(l);let j,q,U;for(j=0,q=l;j<q;++j)U=j+o,B[j]={[D]:R||h.parse(F[U],U),[O]:y.parse(r[U],U)};return B}parseArrayData(t,r,o,l){const{xScale:h,yScale:y}=t,D=new Array(l);let O,F,R,B;for(O=0,F=l;O<F;++O)R=O+o,B=r[R],D[O]={x:h.parse(B[0],R),y:y.parse(B[1],R)};return D}parseObjectData(t,r,o,l){const{xScale:h,yScale:y}=t,{xAxisKey:D="x",yAxisKey:O="y"}=this._parsing,F=new Array(l);let R,B,j,q;for(R=0,B=l;R<B;++R)j=R+o,q=r[j],F[R]={x:h.parse(resolveObjectKey(q,D),j),y:y.parse(resolveObjectKey(q,O),j)};return F}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,o){const l=this.chart,h=this._cachedMeta,y=r[t.axis],D={keys:getSortedDatasetIndices(l,!0),values:r._stacks[t.axis]};return applyStack(D,y,h.index,{mode:o})}updateRangeFromParsed(t,r,o,l){const h=o[r.axis];let y=h===null?NaN:h;const D=l&&o._stacks[r.axis];l&&D&&(l.values=D,y=applyStack(l,h,this._cachedMeta.index)),t.min=Math.min(t.min,y),t.max=Math.max(t.max,y)}getMinMax(t,r){const o=this._cachedMeta,l=o._parsed,h=o._sorted&&t===o.iScale,y=l.length,D=this._getOtherScale(t),O=createStack(r,o,this.chart),F={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:R,max:B}=getUserBounds(D);let j,q;function U(){q=l[j];const W=q[D.axis];return!isNumberFinite(q[t.axis])||R>W||B<W}for(j=0;j<y&&!(!U()&&(this.updateRangeFromParsed(F,t,q,O),h));++j);if(h){for(j=y-1;j>=0;--j)if(!U()){this.updateRangeFromParsed(F,t,q,O);break}}return F}getAllParsedValues(t){const r=this._cachedMeta._parsed,o=[];let l,h,y;for(l=0,h=r.length;l<h;++l)y=r[l][t.axis],isNumberFinite(y)&&o.push(y);return o}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,o=r.iScale,l=r.vScale,h=this.getParsed(t);return{label:o?""+o.getLabelForValue(h[o.axis]):"",value:l?""+l.getLabelForValue(h[l.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=toClip(valueOrDefault(this.options.clip,defaultClip(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,o=this._cachedMeta,l=o.data||[],h=r.chartArea,y=[],D=this._drawStart||0,O=this._drawCount||l.length-D,F=this.options.drawActiveElementsOnTop;let R;for(o.dataset&&o.dataset.draw(t,h,D,O),R=D;R<D+O;++R){const B=l[R];B.hidden||(B.active&&F?y.push(B):B.draw(t,h))}for(R=0;R<y.length;++R)y[R].draw(t,h)}getStyle(t,r){const o=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,r,o){const l=this.getDataset();let h;if(t>=0&&t<this._cachedMeta.data.length){const y=this._cachedMeta.data[t];h=y.$context||(y.$context=createDataContext(this.getContext(),t,y)),h.parsed=this.getParsed(t),h.raw=l.data[t],h.index=h.dataIndex=t}else h=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),h.dataset=l,h.index=h.datasetIndex=this.index;return h.active=!!r,h.mode=o,h}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",o){const l=r==="active",h=this._cachedDataOpts,y=t+"-"+r,D=h[y],O=this.enableOptionSharing&&defined(o);if(D)return cloneIfNotShared(D,O);const F=this.chart.config,R=F.datasetElementScopeKeys(this._type,t),B=l?[`${t}Hover`,"hover",t,""]:[t,""],j=F.getOptionScopes(this.getDataset(),R),q=Object.keys(defaults$1.elements[t]),U=()=>this.getContext(o,l),W=F.resolveNamedOptions(j,q,U,B);return W.$shared&&(W.$shared=O,h[y]=Object.freeze(cloneIfNotShared(W,O))),W}_resolveAnimations(t,r,o){const l=this.chart,h=this._cachedDataOpts,y=`animation-${r}`,D=h[y];if(D)return D;let O;if(l.options.animation!==!1){const R=this.chart.config,B=R.datasetAnimationScopeKeys(this._type,r),j=R.getOptionScopes(this.getDataset(),B);O=R.createResolver(j,this.getContext(t,o,r))}const F=new Animations(l,O&&O.animations);return O&&O._cacheable&&(h[y]=Object.freeze(F)),F}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||isDirectUpdateMode(t)||this.chart._animationsDisabled}updateElement(t,r,o,l){isDirectUpdateMode(l)?Object.assign(t,o):this._resolveAnimations(r,l).update(t,o)}updateSharedOptions(t,r,o){t&&!isDirectUpdateMode(r)&&this._resolveAnimations(void 0,r).update(t,o)}_setStyle(t,r,o,l){t.active=l;const h=this.getStyle(r,l);this._resolveAnimations(r,o,l).update(t,{options:!l&&this.getSharedOptions(h)||h})}removeHoverStyle(t,r,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,r,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,o=this._cachedMeta.data;for(const[D,O,F]of this._syncList)this[D](O,F);this._syncList=[];const l=o.length,h=r.length,y=Math.min(h,l);y&&this.parse(0,y),h>l?this._insertElements(l,h-l,t):h<l&&this._removeElements(h,l-h)}_insertElements(t,r,o=!0){const l=this._cachedMeta,h=l.data,y=t+r;let D;const O=F=>{for(F.length+=r,D=F.length-1;D>=y;D--)F[D]=F[D-r]};for(O(h),D=t;D<y;++D)h[D]=new this.dataElementType;this._parsing&&O(l._parsed),this.parse(t,r),o&&this.updateElements(h,t,r,"reset")}updateElements(t,r,o,l){}_removeElements(t,r){const o=this._cachedMeta;if(this._parsing){const l=o._parsed.splice(t,r);o._stacked&&clearStacks(o,l)}o.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,o,l]=t;this[r](o,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}DatasetController.defaults={};DatasetController.prototype.datasetElementType=null;DatasetController.prototype.dataElementType=null;function getAllScaleValues(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let o=[];for(let l=0,h=r.length;l<h;l++)o=o.concat(r[l].controller.getAllParsedValues(e));e._cache.$bar=_arrayUnique(o.sort((l,h)=>l-h))}return e._cache.$bar}function computeMinSampleSize(e){const t=e.iScale,r=getAllScaleValues(t,e.type);let o=t._length,l,h,y,D;const O=()=>{y===32767||y===-32768||(defined(D)&&(o=Math.min(o,Math.abs(y-D)||o)),D=y)};for(l=0,h=r.length;l<h;++l)y=t.getPixelForValue(r[l]),O();for(D=void 0,l=0,h=t.ticks.length;l<h;++l)y=t.getPixelForTick(l),O();return o}function computeFitCategoryTraits(e,t,r,o){const l=r.barThickness;let h,y;return isNullOrUndef(l)?(h=t.min*r.categoryPercentage,y=r.barPercentage):(h=l*o,y=1),{chunk:h/o,ratio:y,start:t.pixels[e]-h/2}}function computeFlexCategoryTraits(e,t,r,o){const l=t.pixels,h=l[e];let y=e>0?l[e-1]:null,D=e<l.length-1?l[e+1]:null;const O=r.categoryPercentage;y===null&&(y=h-(D===null?t.end-t.start:D-h)),D===null&&(D=h+h-y);const F=h-(h-Math.min(y,D))/2*O;return{chunk:Math.abs(D-y)/2*O/o,ratio:r.barPercentage,start:F}}function parseFloatBar(e,t,r,o){const l=r.parse(e[0],o),h=r.parse(e[1],o),y=Math.min(l,h),D=Math.max(l,h);let O=y,F=D;Math.abs(y)>Math.abs(D)&&(O=D,F=y),t[r.axis]=F,t._custom={barStart:O,barEnd:F,start:l,end:h,min:y,max:D}}function parseValue(e,t,r,o){return isArray(e)?parseFloatBar(e,t,r,o):t[r.axis]=r.parse(e,o),t}function parseArrayOrPrimitive(e,t,r,o){const l=e.iScale,h=e.vScale,y=l.getLabels(),D=l===h,O=[];let F,R,B,j;for(F=r,R=r+o;F<R;++F)j=t[F],B={},B[l.axis]=D||l.parse(y[F],F),O.push(parseValue(j,B,h,F));return O}function isFloatBar(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function barSign(e,t,r){return e!==0?sign(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function borderProps(e){let t,r,o,l,h;return e.horizontal?(t=e.base>e.x,r="left",o="right"):(t=e.base<e.y,r="bottom",o="top"),t?(l="end",h="start"):(l="start",h="end"),{start:r,end:o,reverse:t,top:l,bottom:h}}function setBorderSkipped(e,t,r,o){let l=t.borderSkipped;const h={};if(!l){e.borderSkipped=h;return}const{start:y,end:D,reverse:O,top:F,bottom:R}=borderProps(e);l==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===o?l=F:(r._bottom||0)===o?l=R:(h[parseEdge(R,y,D,O)]=!0,l=F)),h[parseEdge(l,y,D,O)]=!0,e.borderSkipped=h}function parseEdge(e,t,r,o){return o?(e=swap(e,t,r),e=startEnd(e,r,t)):e=startEnd(e,t,r),e}function swap(e,t,r){return e===t?r:e===r?t:e}function startEnd(e,t,r){return e==="start"?t:e==="end"?r:e}function setInflateAmount(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class BarController extends DatasetController{parsePrimitiveData(t,r,o,l){return parseArrayOrPrimitive(t,r,o,l)}parseArrayData(t,r,o,l){return parseArrayOrPrimitive(t,r,o,l)}parseObjectData(t,r,o,l){const{iScale:h,vScale:y}=t,{xAxisKey:D="x",yAxisKey:O="y"}=this._parsing,F=h.axis==="x"?D:O,R=y.axis==="x"?D:O,B=[];let j,q,U,W;for(j=o,q=o+l;j<q;++j)W=r[j],U={},U[h.axis]=h.parse(resolveObjectKey(W,F),j),B.push(parseValue(resolveObjectKey(W,R),U,y,j));return B}updateRangeFromParsed(t,r,o,l){super.updateRangeFromParsed(t,r,o,l);const h=o._custom;h&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,h.min),t.max=Math.max(t.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:o,vScale:l}=r,h=this.getParsed(t),y=h._custom,D=isFloatBar(y)?"["+y.start+", "+y.end+"]":""+l.getLabelForValue(h[l.axis]);return{label:""+o.getLabelForValue(h[o.axis]),value:D}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,o,l){const h=l==="reset",{index:y,_cachedMeta:{vScale:D}}=this,O=D.getBasePixel(),F=D.isHorizontal(),R=this._getRuler(),B=this.resolveDataElementOptions(r,l),j=this.getSharedOptions(B),q=this.includeOptions(l,j);this.updateSharedOptions(j,l,B);for(let U=r;U<r+o;U++){const W=this.getParsed(U),G=h||isNullOrUndef(W[D.axis])?{base:O,head:O}:this._calculateBarValuePixels(U),Y=this._calculateBarIndexPixels(U,R),X=(W._stacks||{})[D.axis],K={horizontal:F,base:G.base,enableBorderRadius:!X||isFloatBar(W._custom)||y===X._top||y===X._bottom,x:F?G.head:Y.center,y:F?Y.center:G.head,height:F?Y.size:Math.abs(G.size),width:F?Math.abs(G.size):Y.size};q&&(K.options=j||this.resolveDataElementOptions(U,t[U].active?"active":l));const Q=K.options||t[U].options;setBorderSkipped(K,Q,X,y),setInflateAmount(K,Q,R.ratio),this.updateElement(t[U],U,K,l)}}_getStacks(t,r){const l=this._cachedMeta.iScale,h=l.getMatchingVisibleMetas(this._type),y=l.options.stacked,D=h.length,O=[];let F,R;for(F=0;F<D;++F)if(R=h[F],!!R.controller.options.grouped){if(typeof r!="undefined"){const B=R.controller.getParsed(r)[R.controller._cachedMeta.vScale.axis];if(isNullOrUndef(B)||isNaN(B))continue}if((y===!1||O.indexOf(R.stack)===-1||y===void 0&&R.stack===void 0)&&O.push(R.stack),R.index===t)break}return O.length||O.push(void 0),O}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,o){const l=this._getStacks(t,o),h=r!==void 0?l.indexOf(r):-1;return h===-1?l.length-1:h}_getRuler(){const t=this.options,r=this._cachedMeta,o=r.iScale,l=[];let h,y;for(h=0,y=r.data.length;h<y;++h)l.push(o.getPixelForValue(this.getParsed(h)[o.axis],h));const D=t.barThickness;return{min:D||computeMinSampleSize(r),pixels:l,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:t.grouped,ratio:D?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:o},options:{base:l,minBarLength:h}}=this,y=l||0,D=this.getParsed(t),O=D._custom,F=isFloatBar(O);let R=D[r.axis],B=0,j=o?this.applyStack(r,D,o):R,q,U;j!==R&&(B=j-R,j=R),F&&(R=O.barStart,j=O.barEnd-O.barStart,R!==0&&sign(R)!==sign(O.barEnd)&&(B=0),B+=R);const W=!isNullOrUndef(l)&&!F?l:B;let G=r.getPixelForValue(W);if(this.chart.getDataVisibility(t)?q=r.getPixelForValue(B+j):q=G,U=q-G,Math.abs(U)<h){U=barSign(U,r,y)*h,R===y&&(G-=U/2);const Y=r.getPixelForDecimal(0),X=r.getPixelForDecimal(1),K=Math.min(Y,X),Q=Math.max(Y,X);G=Math.max(Math.min(G,Q),K),q=G+U}if(G===r.getPixelForValue(y)){const Y=sign(U)*r.getLineWidthForValue(y)/2;G+=Y,U-=Y}return{size:U,base:G,head:q,center:q+U/2}}_calculateBarIndexPixels(t,r){const o=r.scale,l=this.options,h=l.skipNull,y=valueOrDefault(l.maxBarThickness,1/0);let D,O;if(r.grouped){const F=h?this._getStackCount(t):r.stackCount,R=l.barThickness==="flex"?computeFlexCategoryTraits(t,r,l,F):computeFitCategoryTraits(t,r,l,F),B=this._getStackIndex(this.index,this._cachedMeta.stack,h?t:void 0);D=R.start+R.chunk*B+R.chunk/2,O=Math.min(y,R.chunk*R.ratio)}else D=o.getPixelForValue(this.getParsed(t)[o.axis],t),O=Math.min(y,r.min*r.ratio);return{base:D-O/2,head:D+O/2,center:D,size:O}}draw(){const t=this._cachedMeta,r=t.vScale,o=t.data,l=o.length;let h=0;for(;h<l;++h)this.getParsed(h)[r.axis]!==null&&o[h].draw(this._ctx)}}BarController.id="bar";BarController.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};BarController.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,o,l){const h=super.parsePrimitiveData(t,r,o,l);for(let y=0;y<h.length;y++)h[y]._custom=this.resolveDataElementOptions(y+o).radius;return h}parseArrayData(t,r,o,l){const h=super.parseArrayData(t,r,o,l);for(let y=0;y<h.length;y++){const D=r[o+y];h[y]._custom=valueOrDefault(D[2],this.resolveDataElementOptions(y+o).radius)}return h}parseObjectData(t,r,o,l){const h=super.parseObjectData(t,r,o,l);for(let y=0;y<h.length;y++){const D=r[o+y];h[y]._custom=valueOrDefault(D&&D.r&&+D.r,this.resolveDataElementOptions(y+o).radius)}return h}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let o=t.length-1;o>=0;--o)r=Math.max(r,t[o].size(this.resolveDataElementOptions(o))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,{xScale:o,yScale:l}=r,h=this.getParsed(t),y=o.getLabelForValue(h.x),D=l.getLabelForValue(h.y),O=h._custom;return{label:r.label,value:"("+y+", "+D+(O?", "+O:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,o,l){const h=l==="reset",{iScale:y,vScale:D}=this._cachedMeta,O=this.resolveDataElementOptions(r,l),F=this.getSharedOptions(O),R=this.includeOptions(l,F),B=y.axis,j=D.axis;for(let q=r;q<r+o;q++){const U=t[q],W=!h&&this.getParsed(q),G={},Y=G[B]=h?y.getPixelForDecimal(.5):y.getPixelForValue(W[B]),X=G[j]=h?D.getBasePixel():D.getPixelForValue(W[j]);G.skip=isNaN(Y)||isNaN(X),R&&(G.options=this.resolveDataElementOptions(q,U.active?"active":l),h&&(G.options.radius=0)),this.updateElement(U,q,G,l)}this.updateSharedOptions(F,l,O)}resolveDataElementOptions(t,r){const o=this.getParsed(t);let l=super.resolveDataElementOptions(t,r);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const h=l.radius;return r!=="active"&&(l.radius=0),l.radius+=valueOrDefault(o&&o._custom,h),l}}BubbleController.id="bubble";BubbleController.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};BubbleController.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function getRatioAndOffset(e,t,r){let o=1,l=1,h=0,y=0;if(t<TAU){const D=e,O=D+t,F=Math.cos(D),R=Math.sin(D),B=Math.cos(O),j=Math.sin(O),q=(K,Q,J)=>_angleBetween(K,D,O,!0)?1:Math.max(Q,Q*r,J,J*r),U=(K,Q,J)=>_angleBetween(K,D,O,!0)?-1:Math.min(Q,Q*r,J,J*r),W=q(0,F,B),G=q(HALF_PI,R,j),Y=U(PI,F,B),X=U(PI+HALF_PI,R,j);o=(W-Y)/2,l=(G-X)/2,h=-(W+Y)/2,y=-(G+X)/2}return{ratioX:o,ratioY:l,offsetX:h,offsetY:y}}class DoughnutController extends DatasetController{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const o=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=o;else{let h=O=>+o[O];if(isObject(o[t])){const{key:O="value"}=this._parsing;h=F=>+resolveObjectKey(o[F],O)}let y,D;for(y=t,D=t+r;y<D;++y)l._parsed[y]=h(y)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let t=TAU,r=-TAU;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){const l=this.chart.getDatasetMeta(o).controller,h=l._getRotation(),y=l._getCircumference();t=Math.min(t,h),r=Math.max(r,h+y)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:o}=r,l=this._cachedMeta,h=l.data,y=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,D=Math.max((Math.min(o.width,o.height)-y)/2,0),O=Math.min(toPercentage(this.options.cutout,D),1),F=this._getRingWeight(this.index),{circumference:R,rotation:B}=this._getRotationExtents(),{ratioX:j,ratioY:q,offsetX:U,offsetY:W}=getRatioAndOffset(B,R,O),G=(o.width-y)/j,Y=(o.height-y)/q,X=Math.max(Math.min(G,Y)/2,0),K=toDimension(this.options.radius,X),Q=Math.max(K*O,0),J=(K-Q)/this._getVisibleDatasetWeightTotal();this.offsetX=U*K,this.offsetY=W*K,l.total=this.calculateTotal(),this.outerRadius=K-J*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-J*F,0),this.updateElements(h,0,h.length,t)}_circumference(t,r){const o=this.options,l=this._cachedMeta,h=this._getCircumference();return r&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*h/TAU)}updateElements(t,r,o,l){const h=l==="reset",y=this.chart,D=y.chartArea,F=y.options.animation,R=(D.left+D.right)/2,B=(D.top+D.bottom)/2,j=h&&F.animateScale,q=j?0:this.innerRadius,U=j?0:this.outerRadius,W=this.resolveDataElementOptions(r,l),G=this.getSharedOptions(W),Y=this.includeOptions(l,G);let X=this._getRotation(),K;for(K=0;K<r;++K)X+=this._circumference(K,h);for(K=r;K<r+o;++K){const Q=this._circumference(K,h),J=t[K],et={x:R+this.offsetX,y:B+this.offsetY,startAngle:X,endAngle:X+Q,circumference:Q,outerRadius:U,innerRadius:q};Y&&(et.options=G||this.resolveDataElementOptions(K,J.active?"active":l)),X+=Q,this.updateElement(J,K,et,l)}this.updateSharedOptions(G,l,W)}calculateTotal(){const t=this._cachedMeta,r=t.data;let o=0,l;for(l=0;l<r.length;l++){const h=t._parsed[l];h!==null&&!isNaN(h)&&this.chart.getDataVisibility(l)&&!r[l].hidden&&(o+=Math.abs(h))}return o}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?TAU*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(r._parsed[t],o.options.locale);return{label:l[t]||"",value:h}}getMaxBorderWidth(t){let r=0;const o=this.chart;let l,h,y,D,O;if(!t){for(l=0,h=o.data.datasets.length;l<h;++l)if(o.isDatasetVisible(l)){y=o.getDatasetMeta(l),t=y.data,D=y.controller;break}}if(!t)return 0;for(l=0,h=t.length;l<h;++l)O=D.resolveDataElementOptions(l),O.borderAlign!=="inner"&&(r=Math.max(r,O.borderWidth||0,O.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let o=0,l=t.length;o<l;++o){const h=this.resolveDataElementOptions(o);r=Math.max(r,h.offset||0,h.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(r+=this._getRingWeight(o));return r}_getRingWeight(t){return Math.max(valueOrDefault(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}DoughnutController.id="doughnut";DoughnutController.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};DoughnutController.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};DoughnutController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((o,l)=>{const y=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const r=": "+e.formattedValue;return isArray(t)?(t=t.slice(),t[0]+=r):t+=r,t}}}}};class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:o,data:l=[],_dataset:h}=r,y=this.chart._animationsDisabled;let{start:D,count:O}=getStartAndCountOfVisiblePoints(r,l,y);this._drawStart=D,this._drawCount=O,scaleRangesChanged(r)&&(D=0,O=l.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!h._decimated,o.points=l;const F=this.resolveDatasetElementOptions(t);this.options.showLine||(F.borderWidth=0),F.segment=this.options.segment,this.updateElement(o,void 0,{animated:!y,options:F},t),this.updateElements(l,D,O,t)}updateElements(t,r,o,l){const h=l==="reset",{iScale:y,vScale:D,_stacked:O,_dataset:F}=this._cachedMeta,R=this.resolveDataElementOptions(r,l),B=this.getSharedOptions(R),j=this.includeOptions(l,B),q=y.axis,U=D.axis,{spanGaps:W,segment:G}=this.options,Y=isNumber(W)?W:Number.POSITIVE_INFINITY,X=this.chart._animationsDisabled||h||l==="none";let K=r>0&&this.getParsed(r-1);for(let Q=r;Q<r+o;++Q){const J=t[Q],et=this.getParsed(Q),nt=X?J:{},Z=isNullOrUndef(et[U]),it=nt[q]=y.getPixelForValue(et[q],Q),rt=nt[U]=h||Z?D.getBasePixel():D.getPixelForValue(O?this.applyStack(D,et,O):et[U],Q);nt.skip=isNaN(it)||isNaN(rt)||Z,nt.stop=Q>0&&Math.abs(et[q]-K[q])>Y,G&&(nt.parsed=et,nt.raw=F.data[Q]),j&&(nt.options=B||this.resolveDataElementOptions(Q,J.active?"active":l)),X||this.updateElement(J,Q,nt,l),K=et}this.updateSharedOptions(B,l,R)}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,o=r.options&&r.options.borderWidth||0,l=t.data||[];if(!l.length)return o;const h=l[0].size(this.resolveDataElementOptions(0)),y=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,h,y)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}LineController.id="line";LineController.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};LineController.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function getStartAndCountOfVisiblePoints(e,t,r){const o=t.length;let l=0,h=o;if(e._sorted){const{iScale:y,_parsed:D}=e,O=y.axis,{min:F,max:R,minDefined:B,maxDefined:j}=y.getUserBounds();B&&(l=_limitValue(Math.min(_lookupByKey(D,y.axis,F).lo,r?o:_lookupByKey(t,O,y.getPixelForValue(F)).lo),0,o-1)),j?h=_limitValue(Math.max(_lookupByKey(D,y.axis,R).hi+1,r?0:_lookupByKey(t,O,y.getPixelForValue(R)).hi+1),l,o)-l:h=o-l}return{start:l,count:h}}function scaleRangesChanged(e){const{xScale:t,yScale:r,_scaleRanges:o}=e,l={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!o)return e._scaleRanges=l,!0;const h=o.xmin!==t.min||o.xmax!==t.max||o.ymin!==r.min||o.ymax!==r.max;return Object.assign(o,l),h}class PolarAreaController extends DatasetController{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this._cachedMeta,o=this.chart,l=o.data.labels||[],h=formatNumber(r._parsed[t].r,o.options.locale);return{label:l[t]||"",value:h}}parseObjectData(t,r,o,l){return _parseObjectDataRadialScale.bind(this)(t,r,o,l)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((o,l)=>{const h=this.getParsed(l).r;!isNaN(h)&&this.chart.getDataVisibility(l)&&(h<r.min&&(r.min=h),h>r.max&&(r.max=h))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,o=t.options,l=Math.min(r.right-r.left,r.bottom-r.top),h=Math.max(l/2,0),y=Math.max(o.cutoutPercentage?h/100*o.cutoutPercentage:1,0),D=(h-y)/t.getVisibleDatasetCount();this.outerRadius=h-D*this.index,this.innerRadius=this.outerRadius-D}updateElements(t,r,o,l){const h=l==="reset",y=this.chart,O=y.options.animation,F=this._cachedMeta.rScale,R=F.xCenter,B=F.yCenter,j=F.getIndexAngle(0)-.5*PI;let q=j,U;const W=360/this.countVisibleElements();for(U=0;U<r;++U)q+=this._computeAngle(U,l,W);for(U=r;U<r+o;U++){const G=t[U];let Y=q,X=q+this._computeAngle(U,l,W),K=y.getDataVisibility(U)?F.getDistanceFromCenterForValue(this.getParsed(U).r):0;q=X,h&&(O.animateScale&&(K=0),O.animateRotate&&(Y=X=j));const Q={x:R,y:B,innerRadius:0,outerRadius:K,startAngle:Y,endAngle:X,options:this.resolveDataElementOptions(U,G.active?"active":l)};this.updateElement(G,U,Q,l)}}countVisibleElements(){const t=this._cachedMeta;let r=0;return t.data.forEach((o,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&r++}),r}_computeAngle(t,r,o){return this.chart.getDataVisibility(t)?toRadians(this.resolveDataElementOptions(t,r).angle||o):0}}PolarAreaController.id="polarArea";PolarAreaController.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};PolarAreaController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((o,l)=>{const y=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:y.backgroundColor,strokeStyle:y.borderColor,lineWidth:y.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class PieController extends DoughnutController{}PieController.id="pie";PieController.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class RadarController extends DatasetController{getLabelAndValue(t){const r=this._cachedMeta.vScale,o=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(o[r.axis])}}parseObjectData(t,r,o,l){return _parseObjectDataRadialScale.bind(this)(t,r,o,l)}update(t){const r=this._cachedMeta,o=r.dataset,l=r.data||[],h=r.iScale.getLabels();if(o.points=l,t!=="resize"){const y=this.resolveDatasetElementOptions(t);this.options.showLine||(y.borderWidth=0);const D={_loop:!0,_fullLoop:h.length===l.length,options:y};this.updateElement(o,void 0,D,t)}this.updateElements(l,0,l.length,t)}updateElements(t,r,o,l){const h=this._cachedMeta.rScale,y=l==="reset";for(let D=r;D<r+o;D++){const O=t[D],F=this.resolveDataElementOptions(D,O.active?"active":l),R=h.getPointPositionForValue(D,this.getParsed(D).r),B=y?h.xCenter:R.x,j=y?h.yCenter:R.y,q={x:B,y:j,angle:R.angle,skip:isNaN(B)||isNaN(j),options:F};this.updateElement(O,D,q,l)}}}RadarController.id="radar";RadarController.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};RadarController.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ScatterController extends LineController{}ScatterController.id="scatter";ScatterController.defaults={showLine:!1,fill:!1};ScatterController.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var controllers=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PolarAreaController,PieController,RadarController,ScatterController});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapter{constructor(t){this.options=t||{}}formats(){return abstract()}parse(t,r){return abstract()}format(t,r){return abstract()}add(t,r,o){return abstract()}diff(t,r,o){return abstract()}startOf(t,r,o){return abstract()}endOf(t,r){return abstract()}}DateAdapter.override=function(e){Object.assign(DateAdapter.prototype,e)};var adapters={_date:DateAdapter};function binarySearch(e,t,r,o){const{controller:l,data:h,_sorted:y}=e,D=l._cachedMeta.iScale;if(D&&t===D.axis&&t!=="r"&&y&&h.length){const O=D._reversePixels?_rlookupByKey:_lookupByKey;if(o){if(l._sharedOptions){const F=h[0],R=typeof F.getRange=="function"&&F.getRange(t);if(R){const B=O(h,t,r-R),j=O(h,t,r+R);return{lo:B.lo,hi:j.hi}}}}else return O(h,t,r)}return{lo:0,hi:h.length-1}}function evaluateInteractionItems(e,t,r,o,l){const h=e.getSortedVisibleDatasetMetas(),y=r[t];for(let D=0,O=h.length;D<O;++D){const{index:F,data:R}=h[D],{lo:B,hi:j}=binarySearch(h[D],t,y,l);for(let q=B;q<=j;++q){const U=R[q];U.skip||o(U,F,q)}}}function getDistanceMetricForAxis(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(o,l){const h=t?Math.abs(o.x-l.x):0,y=r?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(h,2)+Math.pow(y,2))}}function getIntersectItems(e,t,r,o,l){const h=[];return!l&&!e.isPointInArea(t)||evaluateInteractionItems(e,r,t,function(D,O,F){!l&&!_isPointInArea(D,e.chartArea,0)||D.inRange(t.x,t.y,o)&&h.push({element:D,datasetIndex:O,index:F})},!0),h}function getNearestRadialItems(e,t,r,o){let l=[];function h(y,D,O){const{startAngle:F,endAngle:R}=y.getProps(["startAngle","endAngle"],o),{angle:B}=getAngleFromPoint(y,{x:t.x,y:t.y});_angleBetween(B,F,R)&&l.push({element:y,datasetIndex:D,index:O})}return evaluateInteractionItems(e,r,t,h),l}function getNearestCartesianItems(e,t,r,o,l,h){let y=[];const D=getDistanceMetricForAxis(r);let O=Number.POSITIVE_INFINITY;function F(R,B,j){const q=R.inRange(t.x,t.y,l);if(o&&!q)return;const U=R.getCenterPoint(l);if(!(!!h||e.isPointInArea(U))&&!q)return;const G=D(t,U);G<O?(y=[{element:R,datasetIndex:B,index:j}],O=G):G===O&&y.push({element:R,datasetIndex:B,index:j})}return evaluateInteractionItems(e,r,t,F),y}function getNearestItems(e,t,r,o,l,h){return!h&&!e.isPointInArea(t)?[]:r==="r"&&!o?getNearestRadialItems(e,t,r,l):getNearestCartesianItems(e,t,r,o,l,h)}function getAxisItems(e,t,r,o,l){const h=[],y=r==="x"?"inXRange":"inYRange";let D=!1;return evaluateInteractionItems(e,r,t,(O,F,R)=>{O[y](t[r],l)&&(h.push({element:O,datasetIndex:F,index:R}),D=D||O.inRange(t.x,t.y,l))}),o&&!D?[]:h}var Interaction={evaluateInteractionItems,modes:{index(e,t,r,o){const l=getRelativePosition(t,e),h=r.axis||"x",y=r.includeInvisible||!1,D=r.intersect?getIntersectItems(e,l,h,o,y):getNearestItems(e,l,h,!1,o,y),O=[];return D.length?(e.getSortedVisibleDatasetMetas().forEach(F=>{const R=D[0].index,B=F.data[R];B&&!B.skip&&O.push({element:B,datasetIndex:F.index,index:R})}),O):[]},dataset(e,t,r,o){const l=getRelativePosition(t,e),h=r.axis||"xy",y=r.includeInvisible||!1;let D=r.intersect?getIntersectItems(e,l,h,o,y):getNearestItems(e,l,h,!1,o,y);if(D.length>0){const O=D[0].datasetIndex,F=e.getDatasetMeta(O).data;D=[];for(let R=0;R<F.length;++R)D.push({element:F[R],datasetIndex:O,index:R})}return D},point(e,t,r,o){const l=getRelativePosition(t,e),h=r.axis||"xy",y=r.includeInvisible||!1;return getIntersectItems(e,l,h,o,y)},nearest(e,t,r,o){const l=getRelativePosition(t,e),h=r.axis||"xy",y=r.includeInvisible||!1;return getNearestItems(e,l,h,r.intersect,o,y)},x(e,t,r,o){const l=getRelativePosition(t,e);return getAxisItems(e,l,"x",r.intersect,o)},y(e,t,r,o){const l=getRelativePosition(t,e);return getAxisItems(e,l,"y",r.intersect,o)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(e,t){return e.filter(r=>r.pos===t)}function filterDynamicPositionByAxis(e,t){return e.filter(r=>STATIC_POSITIONS.indexOf(r.pos)===-1&&r.box.axis===t)}function sortByWeight(e,t){return e.sort((r,o)=>{const l=t?o:r,h=t?r:o;return l.weight===h.weight?l.index-h.index:l.weight-h.weight})}function wrapBoxes(e){const t=[];let r,o,l,h,y,D;for(r=0,o=(e||[]).length;r<o;++r)l=e[r],{position:h,options:{stack:y,stackWeight:D=1}}=l,t.push({index:r,box:l,pos:h,horizontal:l.isHorizontal(),weight:l.weight,stack:y&&h+y,stackWeight:D});return t}function buildStacks(e){const t={};for(const r of e){const{stack:o,pos:l,stackWeight:h}=r;if(!o||!STATIC_POSITIONS.includes(l))continue;const y=t[o]||(t[o]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=h}return t}function setLayoutDims(e,t){const r=buildStacks(e),{vBoxMaxWidth:o,hBoxMaxHeight:l}=t;let h,y,D;for(h=0,y=e.length;h<y;++h){D=e[h];const{fullSize:O}=D.box,F=r[D.stack],R=F&&D.stackWeight/F.weight;D.horizontal?(D.width=R?R*o:O&&t.availableWidth,D.height=l):(D.width=o,D.height=R?R*l:O&&t.availableHeight)}return r}function buildLayoutBoxes(e){const t=wrapBoxes(e),r=sortByWeight(t.filter(F=>F.box.fullSize),!0),o=sortByWeight(filterByPosition(t,"left"),!0),l=sortByWeight(filterByPosition(t,"right")),h=sortByWeight(filterByPosition(t,"top"),!0),y=sortByWeight(filterByPosition(t,"bottom")),D=filterDynamicPositionByAxis(t,"x"),O=filterDynamicPositionByAxis(t,"y");return{fullSize:r,leftAndTop:o.concat(h),rightAndBottom:l.concat(O).concat(y).concat(D),chartArea:filterByPosition(t,"chartArea"),vertical:o.concat(l).concat(O),horizontal:h.concat(y).concat(D)}}function getCombinedMax(e,t,r,o){return Math.max(e[r],t[r])+Math.max(e[o],t[o])}function updateMaxPadding(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function updateDims(e,t,r,o){const{pos:l,box:h}=r,y=e.maxPadding;if(!isObject(l)){r.size&&(e[l]-=r.size);const B=o[r.stack]||{size:0,count:1};B.size=Math.max(B.size,r.horizontal?h.height:h.width),r.size=B.size/B.count,e[l]+=r.size}h.getPadding&&updateMaxPadding(y,h.getPadding());const D=Math.max(0,t.outerWidth-getCombinedMax(y,e,"left","right")),O=Math.max(0,t.outerHeight-getCombinedMax(y,e,"top","bottom")),F=D!==e.w,R=O!==e.h;return e.w=D,e.h=O,r.horizontal?{same:F,other:R}:{same:R,other:F}}function handleMaxPadding(e){const t=e.maxPadding;function r(o){const l=Math.max(t[o]-e[o],0);return e[o]+=l,l}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function getMargins(e,t){const r=t.maxPadding;function o(l){const h={left:0,top:0,right:0,bottom:0};return l.forEach(y=>{h[y]=Math.max(t[y],r[y])}),h}return o(e?["left","right"]:["top","bottom"])}function fitBoxes(e,t,r,o){const l=[];let h,y,D,O,F,R;for(h=0,y=e.length,F=0;h<y;++h){D=e[h],O=D.box,O.update(D.width||t.w,D.height||t.h,getMargins(D.horizontal,t));const{same:B,other:j}=updateDims(t,r,D,o);F|=B&&l.length,R=R||j,O.fullSize||l.push(D)}return F&&fitBoxes(l,t,r,o)||R}function setBoxDims(e,t,r,o,l){e.top=r,e.left=t,e.right=t+o,e.bottom=r+l,e.width=o,e.height=l}function placeBoxes(e,t,r,o){const l=r.padding;let{x:h,y}=t;for(const D of e){const O=D.box,F=o[D.stack]||{count:1,placed:0,weight:1},R=D.stackWeight/F.weight||1;if(D.horizontal){const B=t.w*R,j=F.size||O.height;defined(F.start)&&(y=F.start),O.fullSize?setBoxDims(O,l.left,y,r.outerWidth-l.right-l.left,j):setBoxDims(O,t.left+F.placed,y,B,j),F.start=y,F.placed+=B,y=O.bottom}else{const B=t.h*R,j=F.size||O.width;defined(F.start)&&(h=F.start),O.fullSize?setBoxDims(O,h,l.top,j,r.outerHeight-l.bottom-l.top):setBoxDims(O,h,t.top+F.placed,j,B),F.start=h,F.placed+=B,h=O.right}}t.x=h,t.y=y}defaults$1.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var layouts={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,o){if(!e)return;const l=toPadding(e.options.layout.padding),h=Math.max(t-l.width,0),y=Math.max(r-l.height,0),D=buildLayoutBoxes(e.boxes),O=D.vertical,F=D.horizontal;each(e.boxes,W=>{typeof W.beforeLayout=="function"&&W.beforeLayout()});const R=O.reduce((W,G)=>G.box.options&&G.box.options.display===!1?W:W+1,0)||1,B=Object.freeze({outerWidth:t,outerHeight:r,padding:l,availableWidth:h,availableHeight:y,vBoxMaxWidth:h/2/R,hBoxMaxHeight:y/2}),j=Object.assign({},l);updateMaxPadding(j,toPadding(o));const q=Object.assign({maxPadding:j,w:h,h:y,x:l.left,y:l.top},l),U=setLayoutDims(O.concat(F),B);fitBoxes(D.fullSize,q,B,U),fitBoxes(O,q,B,U),fitBoxes(F,q,B,U)&&fitBoxes(O,q,B,U),handleMaxPadding(q),placeBoxes(D.leftAndTop,q,B,U),q.x+=q.w,q.y+=q.h,placeBoxes(D.rightAndBottom,q,B,U),e.chartArea={left:q.left,top:q.top,right:q.left+q.w,bottom:q.top+q.h,height:q.h,width:q.w},each(D.chartArea,W=>{const G=W.box;Object.assign(G,e.chartArea),G.update(q.w,q.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,o){}removeEventListener(t,r,o){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,o,l){return r=Math.max(0,r||t.width),o=o||t.height,{width:r,height:Math.max(0,l?Math.floor(r/l):o)}}isAttached(t){return!0}updateConfig(t){}}class BasicPlatform extends BasePlatform{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const EXPANDO_KEY$1="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=e=>e===null||e==="";function initCanvas(e,t){const r=e.style,o=e.getAttribute("height"),l=e.getAttribute("width");if(e[EXPANDO_KEY$1]={initial:{height:o,width:l,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",isNullOrEmpty(l)){const h=readUsedSize(e,"width");h!==void 0&&(e.width=h)}if(isNullOrEmpty(o))if(e.style.height==="")e.height=e.width/(t||2);else{const h=readUsedSize(e,"height");h!==void 0&&(e.height=h)}return e}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(e,t,r){e.addEventListener(t,r,eventListenerOptions)}function removeListener(e,t,r){e.canvas.removeEventListener(t,r,eventListenerOptions)}function fromNativeEvent(e,t){const r=EVENT_TYPES[e.type]||e.type,{x:o,y:l}=getRelativePosition(e,t);return{type:r,chart:t,native:e,x:o!==void 0?o:null,y:l!==void 0?l:null}}function nodeListContains(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function createAttachObserver(e,t,r){const o=e.canvas,l=new MutationObserver(h=>{let y=!1;for(const D of h)y=y||nodeListContains(D.addedNodes,o),y=y&&!nodeListContains(D.removedNodes,o);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}function createDetachObserver(e,t,r){const o=e.canvas,l=new MutationObserver(h=>{let y=!1;for(const D of h)y=y||nodeListContains(D.removedNodes,o),y=y&&!nodeListContains(D.addedNodes,o);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const e=window.devicePixelRatio;e!==oldDevicePixelRatio&&(oldDevicePixelRatio=e,drpListeningCharts.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function listenDevicePixelRatioChanges(e,t){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(e,t)}function unlistenDevicePixelRatioChanges(e){drpListeningCharts.delete(e),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(e,t,r){const o=e.canvas,l=o&&_getParentNode(o);if(!l)return;const h=throttled((D,O)=>{const F=l.clientWidth;r(D,O),F<l.clientWidth&&r()},window),y=new ResizeObserver(D=>{const O=D[0],F=O.contentRect.width,R=O.contentRect.height;F===0&&R===0||h(F,R)});return y.observe(l),listenDevicePixelRatioChanges(e,h),y}function releaseObserver(e,t,r){r&&r.disconnect(),t==="resize"&&unlistenDevicePixelRatioChanges(e)}function createProxyAndListen(e,t,r){const o=e.canvas,l=throttled(h=>{e.ctx!==null&&r(fromNativeEvent(h,e))},e,h=>{const y=h[0];return[y,y.offsetX,y.offsetY]});return addListener(o,t,l),l}class DomPlatform extends BasePlatform{acquireContext(t,r){const o=t&&t.getContext&&t.getContext("2d");return o&&o.canvas===t?(initCanvas(t,r),o):null}releaseContext(t){const r=t.canvas;if(!r[EXPANDO_KEY$1])return!1;const o=r[EXPANDO_KEY$1].initial;["height","width"].forEach(h=>{const y=o[h];isNullOrUndef(y)?r.removeAttribute(h):r.setAttribute(h,y)});const l=o.style||{};return Object.keys(l).forEach(h=>{r.style[h]=l[h]}),r.width=r.width,delete r[EXPANDO_KEY$1],!0}addEventListener(t,r,o){this.removeEventListener(t,r);const l=t.$proxies||(t.$proxies={}),y={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[r]||createProxyAndListen;l[r]=y(t,r,o)}removeEventListener(t,r){const o=t.$proxies||(t.$proxies={}),l=o[r];if(!l)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[r]||removeListener)(t,r,l),o[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,o,l){return getMaximumSize(t,r,o,l)}isAttached(t){const r=_getParentNode(t);return!!(r&&r.isConnected)}}function _detectPlatform(e){return!_isDomSupported()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:r,y:o}=this.getProps(["x","y"],t);return{x:r,y:o}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(t,r){const o=this.$animations;if(!r||!o)return this;const l={};return t.forEach(h=>{l[h]=o[h]&&o[h].active()?o[h]._to:this[h]}),l}}Element.defaults={};Element.defaultRoutes=void 0;const formatters$4={values(e){return isArray(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const o=this.chart.options.locale;let l,h=e;if(r.length>1){const F=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(F<1e-4||F>1e15)&&(l="scientific"),h=calculateDelta(e,r)}const y=log10(Math.abs(h)),D=Math.max(Math.min(-1*Math.floor(y),20),0),O={notation:l,minimumFractionDigits:D,maximumFractionDigits:D};return Object.assign(O,this.options.ticks.format),formatNumber(e,o,O)},logarithmic(e,t,r){if(e===0)return"0";const o=e/Math.pow(10,Math.floor(log10(e)));return o===1||o===2||o===5?formatters$4.numeric.call(this,e,t,r):""}};function calculateDelta(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var Ticks={formatters:formatters$4};defaults$1.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});defaults$1.route("scale.ticks","color","","color");defaults$1.route("scale.grid","color","","borderColor");defaults$1.route("scale.grid","borderColor","","borderColor");defaults$1.route("scale.title","color","","color");defaults$1.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});defaults$1.describe("scales",{_fallback:"scale"});defaults$1.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function autoSkip(e,t){const r=e.options.ticks,o=r.maxTicksLimit||determineMaxTicks(e),l=r.major.enabled?getMajorIndices(t):[],h=l.length,y=l[0],D=l[h-1],O=[];if(h>o)return skipMajors(t,O,l,h/o),O;const F=calculateSpacing(l,t,o);if(h>0){let R,B;const j=h>1?Math.round((D-y)/(h-1)):null;for(skip(t,O,F,isNullOrUndef(j)?0:y-j,y),R=0,B=h-1;R<B;R++)skip(t,O,F,l[R],l[R+1]);return skip(t,O,F,D,isNullOrUndef(j)?t.length:D+j),O}return skip(t,O,F),O}function determineMaxTicks(e){const t=e.options.offset,r=e._tickSize(),o=e._length/r+(t?0:1),l=e._maxLength/r;return Math.floor(Math.min(o,l))}function calculateSpacing(e,t,r){const o=getEvenSpacing(e),l=t.length/r;if(!o)return Math.max(l,1);const h=_factorize(o);for(let y=0,D=h.length-1;y<D;y++){const O=h[y];if(O>l)return O}return Math.max(l,1)}function getMajorIndices(e){const t=[];let r,o;for(r=0,o=e.length;r<o;r++)e[r].major&&t.push(r);return t}function skipMajors(e,t,r,o){let l=0,h=r[0],y;for(o=Math.ceil(o),y=0;y<e.length;y++)y===h&&(t.push(e[y]),l++,h=r[l*o])}function skip(e,t,r,o,l){const h=valueOrDefault(o,0),y=Math.min(valueOrDefault(l,e.length),e.length);let D=0,O,F,R;for(r=Math.ceil(r),l&&(O=l-o,r=O/Math.floor(O/r)),R=h;R<0;)D++,R=Math.round(h+D*r);for(F=Math.max(h,0);F<y;F++)F===R&&(t.push(e[F]),D++,R=Math.round(h+D*r))}function getEvenSpacing(e){const t=e.length;let r,o;if(t<2)return!1;for(o=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==o)return!1;return o}const reverseAlign=e=>e==="left"?"right":e==="right"?"left":e,offsetFromEdge=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r;function sample(e,t){const r=[],o=e.length/t,l=e.length;let h=0;for(;h<l;h+=o)r.push(e[Math.floor(h)]);return r}function getPixelForGridLine(e,t,r){const o=e.ticks.length,l=Math.min(t,o-1),h=e._startPixel,y=e._endPixel,D=1e-6;let O=e.getPixelForTick(l),F;if(!(r&&(o===1?F=Math.max(O-h,y-O):t===0?F=(e.getPixelForTick(1)-O)/2:F=(O-e.getPixelForTick(l-1))/2,O+=l<t?F:-F,O<h-D||O>y+D)))return O}function garbageCollect(e,t){each(e,r=>{const o=r.gc,l=o.length/2;let h;if(l>t){for(h=0;h<l;++h)delete r.data[o[h]];o.splice(0,l)}})}function getTickMarkLength(e){return e.drawTicks?e.tickLength:0}function getTitleHeight(e,t){if(!e.display)return 0;const r=toFont(e.font,t),o=toPadding(e.padding);return(isArray(e.text)?e.text.length:1)*r.lineHeight+o.height}function createScaleContext(e,t){return createContext(e,{scale:t,type:"scale"})}function createTickContext(e,t,r){return createContext(e,{tick:r,index:t,type:"tick"})}function titleAlign(e,t,r){let o=_toLeftRightCenter(e);return(r&&t!=="right"||!r&&t==="right")&&(o=reverseAlign(o)),o}function titleArgs(e,t,r,o){const{top:l,left:h,bottom:y,right:D,chart:O}=e,{chartArea:F,scales:R}=O;let B=0,j,q,U;const W=y-l,G=D-h;if(e.isHorizontal()){if(q=_alignStartEnd(o,h,D),isObject(r)){const Y=Object.keys(r)[0],X=r[Y];U=R[Y].getPixelForValue(X)+W-t}else r==="center"?U=(F.bottom+F.top)/2+W-t:U=offsetFromEdge(e,r,t);j=D-h}else{if(isObject(r)){const Y=Object.keys(r)[0],X=r[Y];q=R[Y].getPixelForValue(X)-G+t}else r==="center"?q=(F.left+F.right)/2-G+t:q=offsetFromEdge(e,r,t);U=_alignStartEnd(o,y,l),B=r==="left"?-HALF_PI:HALF_PI}return{titleX:q,titleY:U,maxWidth:j,rotation:B}}class Scale extends Element{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:o,_suggestedMax:l}=this;return t=finiteOrDefault(t,Number.POSITIVE_INFINITY),r=finiteOrDefault(r,Number.NEGATIVE_INFINITY),o=finiteOrDefault(o,Number.POSITIVE_INFINITY),l=finiteOrDefault(l,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(t,o),max:finiteOrDefault(r,l),minDefined:isNumberFinite(t),maxDefined:isNumberFinite(r)}}getMinMax(t){let{min:r,max:o,minDefined:l,maxDefined:h}=this.getUserBounds(),y;if(l&&h)return{min:r,max:o};const D=this.getMatchingVisibleMetas();for(let O=0,F=D.length;O<F;++O)y=D[O].controller.getMinMax(this,t),l||(r=Math.min(r,y.min)),h||(o=Math.max(o,y.max));return r=h&&r>o?o:r,o=l&&r>o?r:o,{min:finiteOrDefault(r,finiteOrDefault(o,r)),max:finiteOrDefault(o,finiteOrDefault(r,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(t,r,o){const{beginAtZero:l,grace:h,ticks:y}=this.options,D=y.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,h,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const O=D<this.ticks.length;this._convertTicksToLabels(O?sample(this.ticks,D):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||y.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),O&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,o;this.isHorizontal()?(r=this.left,o=this.right):(r=this.top,o=this.bottom,t=!t),this._startPixel=r,this._endPixel=o,this._reversePixels=t,this._length=o-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),callback(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let o,l,h;for(o=0,l=t.length;o<l;o++)h=t[o],h.label=callback(r.callback,[h.value,o,t],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,o=this.ticks.length,l=r.minRotation||0,h=r.maxRotation;let y=l,D,O,F;if(!this._isVisible()||!r.display||l>=h||o<=1||!this.isHorizontal()){this.labelRotation=l;return}const R=this._getLabelSizes(),B=R.widest.width,j=R.highest.height,q=_limitValue(this.chart.width-B,0,this.maxWidth);D=t.offset?this.maxWidth/o:q/(o-1),B+6>D&&(D=q/(o-(t.offset?.5:1)),O=this.maxHeight-getTickMarkLength(t.grid)-r.padding-getTitleHeight(t.title,this.chart.options.font),F=Math.sqrt(B*B+j*j),y=toDegrees(Math.min(Math.asin(_limitValue((R.highest.height+6)/D,-1,1)),Math.asin(_limitValue(O/F,-1,1))-Math.asin(_limitValue(j/F,-1,1)))),y=Math.max(l,Math.min(h,y))),this.labelRotation=y}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:o,title:l,grid:h}}=this,y=this._isVisible(),D=this.isHorizontal();if(y){const O=getTitleHeight(l,r.options.font);if(D?(t.width=this.maxWidth,t.height=getTickMarkLength(h)+O):(t.height=this.maxHeight,t.width=getTickMarkLength(h)+O),o.display&&this.ticks.length){const{first:F,last:R,widest:B,highest:j}=this._getLabelSizes(),q=o.padding*2,U=toRadians(this.labelRotation),W=Math.cos(U),G=Math.sin(U);if(D){const Y=o.mirror?0:G*B.width+W*j.height;t.height=Math.min(this.maxHeight,t.height+Y+q)}else{const Y=o.mirror?0:W*B.width+G*j.height;t.width=Math.min(this.maxWidth,t.width+Y+q)}this._calculatePadding(F,R,G,W)}}this._handleMargins(),D?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,o,l){const{ticks:{align:h,padding:y},position:D}=this.options,O=this.labelRotation!==0,F=D!=="top"&&this.axis==="x";if(this.isHorizontal()){const R=this.getPixelForTick(0)-this.left,B=this.right-this.getPixelForTick(this.ticks.length-1);let j=0,q=0;O?F?(j=l*t.width,q=o*r.height):(j=o*t.height,q=l*r.width):h==="start"?q=r.width:h==="end"?j=t.width:h!=="inner"&&(j=t.width/2,q=r.width/2),this.paddingLeft=Math.max((j-R+y)*this.width/(this.width-R),0),this.paddingRight=Math.max((q-B+y)*this.width/(this.width-B),0)}else{let R=r.height/2,B=t.height/2;h==="start"?(R=0,B=t.height):h==="end"&&(R=r.height,B=0),this.paddingTop=R+y,this.paddingBottom=B+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,o;for(r=0,o=t.length;r<o;r++)isNullOrUndef(t[r].label)&&(t.splice(r,1),o--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let o=this.ticks;r<o.length&&(o=sample(o,r)),this._labelSizes=t=this._computeLabelSizes(o,o.length)}return t}_computeLabelSizes(t,r){const{ctx:o,_longestTextCache:l}=this,h=[],y=[];let D=0,O=0,F,R,B,j,q,U,W,G,Y,X,K;for(F=0;F<r;++F){if(j=t[F].label,q=this._resolveTickFontOptions(F),o.font=U=q.string,W=l[U]=l[U]||{data:{},gc:[]},G=q.lineHeight,Y=X=0,!isNullOrUndef(j)&&!isArray(j))Y=_measureText(o,W.data,W.gc,Y,j),X=G;else if(isArray(j))for(R=0,B=j.length;R<B;++R)K=j[R],!isNullOrUndef(K)&&!isArray(K)&&(Y=_measureText(o,W.data,W.gc,Y,K),X+=G);h.push(Y),y.push(X),D=Math.max(Y,D),O=Math.max(X,O)}garbageCollect(l,r);const Q=h.indexOf(D),J=y.indexOf(O),et=nt=>({width:h[nt]||0,height:y[nt]||0});return{first:et(0),last:et(r-1),widest:et(Q),highest:et(J),widths:h,heights:y}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const o=r[t];return o.$context||(o.$context=createTickContext(this.getContext(),t,o))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=toRadians(this.labelRotation),o=Math.abs(Math.cos(r)),l=Math.abs(Math.sin(r)),h=this._getLabelSizes(),y=t.autoSkipPadding||0,D=h?h.widest.width+y:0,O=h?h.highest.height+y:0;return this.isHorizontal()?O*o>D*l?D/o:O/l:O*l<D*o?O/o:D/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,o=this.chart,l=this.options,{grid:h,position:y}=l,D=h.offset,O=this.isHorizontal(),R=this.ticks.length+(D?1:0),B=getTickMarkLength(h),j=[],q=h.setContext(this.getContext()),U=q.drawBorder?q.borderWidth:0,W=U/2,G=function(lt){return _alignPixel(o,lt,U)};let Y,X,K,Q,J,et,nt,Z,it,rt,tt,st;if(y==="top")Y=G(this.bottom),et=this.bottom-B,Z=Y-W,rt=G(t.top)+W,st=t.bottom;else if(y==="bottom")Y=G(this.top),rt=t.top,st=G(t.bottom)-W,et=Y+W,Z=this.top+B;else if(y==="left")Y=G(this.right),J=this.right-B,nt=Y-W,it=G(t.left)+W,tt=t.right;else if(y==="right")Y=G(this.left),it=t.left,tt=G(t.right)-W,J=Y+W,nt=this.left+B;else if(r==="x"){if(y==="center")Y=G((t.top+t.bottom)/2+.5);else if(isObject(y)){const lt=Object.keys(y)[0],ut=y[lt];Y=G(this.chart.scales[lt].getPixelForValue(ut))}rt=t.top,st=t.bottom,et=Y+W,Z=et+B}else if(r==="y"){if(y==="center")Y=G((t.left+t.right)/2);else if(isObject(y)){const lt=Object.keys(y)[0],ut=y[lt];Y=G(this.chart.scales[lt].getPixelForValue(ut))}J=Y-W,nt=J-B,it=t.left,tt=t.right}const ht=valueOrDefault(l.ticks.maxTicksLimit,R),ct=Math.max(1,Math.ceil(R/ht));for(X=0;X<R;X+=ct){const lt=h.setContext(this.getContext(X)),ut=lt.lineWidth,ot=lt.color,at=h.borderDash||[],dt=lt.borderDashOffset,ft=lt.tickWidth,mt=lt.tickColor,bt=lt.tickBorderDash||[],xt=lt.tickBorderDashOffset;K=getPixelForGridLine(this,X,D),K!==void 0&&(Q=_alignPixel(o,K,ut),O?J=nt=it=tt=Q:et=Z=rt=st=Q,j.push({tx1:J,ty1:et,tx2:nt,ty2:Z,x1:it,y1:rt,x2:tt,y2:st,width:ut,color:ot,borderDash:at,borderDashOffset:dt,tickWidth:ft,tickColor:mt,tickBorderDash:bt,tickBorderDashOffset:xt}))}return this._ticksLength=R,this._borderValue=Y,j}_computeLabelItems(t){const r=this.axis,o=this.options,{position:l,ticks:h}=o,y=this.isHorizontal(),D=this.ticks,{align:O,crossAlign:F,padding:R,mirror:B}=h,j=getTickMarkLength(o.grid),q=j+R,U=B?-R:q,W=-toRadians(this.labelRotation),G=[];let Y,X,K,Q,J,et,nt,Z,it,rt,tt,st,ht="middle";if(l==="top")et=this.bottom-U,nt=this._getXAxisLabelAlignment();else if(l==="bottom")et=this.top+U,nt=this._getXAxisLabelAlignment();else if(l==="left"){const lt=this._getYAxisLabelAlignment(j);nt=lt.textAlign,J=lt.x}else if(l==="right"){const lt=this._getYAxisLabelAlignment(j);nt=lt.textAlign,J=lt.x}else if(r==="x"){if(l==="center")et=(t.top+t.bottom)/2+q;else if(isObject(l)){const lt=Object.keys(l)[0],ut=l[lt];et=this.chart.scales[lt].getPixelForValue(ut)+q}nt=this._getXAxisLabelAlignment()}else if(r==="y"){if(l==="center")J=(t.left+t.right)/2-q;else if(isObject(l)){const lt=Object.keys(l)[0],ut=l[lt];J=this.chart.scales[lt].getPixelForValue(ut)}nt=this._getYAxisLabelAlignment(j).textAlign}r==="y"&&(O==="start"?ht="top":O==="end"&&(ht="bottom"));const ct=this._getLabelSizes();for(Y=0,X=D.length;Y<X;++Y){K=D[Y],Q=K.label;const lt=h.setContext(this.getContext(Y));Z=this.getPixelForTick(Y)+h.labelOffset,it=this._resolveTickFontOptions(Y),rt=it.lineHeight,tt=isArray(Q)?Q.length:1;const ut=tt/2,ot=lt.color,at=lt.textStrokeColor,dt=lt.textStrokeWidth;let ft=nt;y?(J=Z,nt==="inner"&&(Y===X-1?ft=this.options.reverse?"left":"right":Y===0?ft=this.options.reverse?"right":"left":ft="center"),l==="top"?F==="near"||W!==0?st=-tt*rt+rt/2:F==="center"?st=-ct.highest.height/2-ut*rt+rt:st=-ct.highest.height+rt/2:F==="near"||W!==0?st=rt/2:F==="center"?st=ct.highest.height/2-ut*rt:st=ct.highest.height-tt*rt,B&&(st*=-1)):(et=Z,st=(1-tt)*rt/2);let mt;if(lt.showLabelBackdrop){const bt=toPadding(lt.backdropPadding),xt=ct.heights[Y],yt=ct.widths[Y];let vt=et+st-bt.top,St=J-bt.left;switch(ht){case"middle":vt-=xt/2;break;case"bottom":vt-=xt;break}switch(nt){case"center":St-=yt/2;break;case"right":St-=yt;break}mt={left:St,top:vt,width:yt+bt.width,height:xt+bt.height,color:lt.backdropColor}}G.push({rotation:W,label:Q,font:it,color:ot,strokeColor:at,strokeWidth:dt,textOffset:st,textAlign:ft,textBaseline:ht,translation:[J,et],backdrop:mt})}return G}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-toRadians(this.labelRotation))return t==="top"?"left":"right";let l="center";return r.align==="start"?l="left":r.align==="end"?l="right":r.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:o,mirror:l,padding:h}}=this.options,y=this._getLabelSizes(),D=t+h,O=y.widest.width;let F,R;return r==="left"?l?(R=this.right+h,o==="near"?F="left":o==="center"?(F="center",R+=O/2):(F="right",R+=O)):(R=this.right-D,o==="near"?F="right":o==="center"?(F="center",R-=O/2):(F="left",R=this.left)):r==="right"?l?(R=this.left+h,o==="near"?F="right":o==="center"?(F="center",R-=O/2):(F="left",R-=O)):(R=this.left+D,o==="near"?F="left":o==="center"?(F="center",R+=O/2):(F="right",R=this.right)):F="right",{textAlign:F,x:R}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:o,top:l,width:h,height:y}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(o,l,h,y),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const l=this.ticks.findIndex(h=>h.value===t);return l>=0?r.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const r=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let h,y;const D=(O,F,R)=>{!R.width||!R.color||(o.save(),o.lineWidth=R.width,o.strokeStyle=R.color,o.setLineDash(R.borderDash||[]),o.lineDashOffset=R.borderDashOffset,o.beginPath(),o.moveTo(O.x,O.y),o.lineTo(F.x,F.y),o.stroke(),o.restore())};if(r.display)for(h=0,y=l.length;h<y;++h){const O=l[h];r.drawOnChartArea&&D({x:O.x1,y:O.y1},{x:O.x2,y:O.y2},O),r.drawTicks&&D({x:O.tx1,y:O.ty1},{x:O.tx2,y:O.ty2},{color:O.tickColor,width:O.tickWidth,borderDash:O.tickBorderDash,borderDashOffset:O.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{grid:o}}=this,l=o.setContext(this.getContext()),h=o.drawBorder?l.borderWidth:0;if(!h)return;const y=o.setContext(this.getContext(0)).lineWidth,D=this._borderValue;let O,F,R,B;this.isHorizontal()?(O=_alignPixel(t,this.left,h)-h/2,F=_alignPixel(t,this.right,y)+y/2,R=B=D):(R=_alignPixel(t,this.top,h)-h/2,B=_alignPixel(t,this.bottom,y)+y/2,O=F=D),r.save(),r.lineWidth=l.borderWidth,r.strokeStyle=l.borderColor,r.beginPath(),r.moveTo(O,R),r.lineTo(F,B),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&clipArea(o,l);const h=this._labelItems||(this._labelItems=this._computeLabelItems(t));let y,D;for(y=0,D=h.length;y<D;++y){const O=h[y],F=O.font,R=O.label;O.backdrop&&(o.fillStyle=O.backdrop.color,o.fillRect(O.backdrop.left,O.backdrop.top,O.backdrop.width,O.backdrop.height));let B=O.textOffset;renderText(o,R,0,B,F,O)}l&&unclipArea(o)}drawTitle(){const{ctx:t,options:{position:r,title:o,reverse:l}}=this;if(!o.display)return;const h=toFont(o.font),y=toPadding(o.padding),D=o.align;let O=h.lineHeight/2;r==="bottom"||r==="center"||isObject(r)?(O+=y.bottom,isArray(o.text)&&(O+=h.lineHeight*(o.text.length-1))):O+=y.top;const{titleX:F,titleY:R,maxWidth:B,rotation:j}=titleArgs(this,O,r,D);renderText(t,o.text,0,0,h,{color:o.color,maxWidth:B,rotation:j,textAlign:titleAlign(D,r,l),textBaseline:"middle",translation:[F,R]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,o=valueOrDefault(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:r,draw:l=>{this.draw(l)}}]:[{z:o,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o+1,draw:()=>{this.drawBorder()}},{z:r,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let h,y;for(h=0,y=r.length;h<y;++h){const D=r[h];D[o]===this.id&&(!t||D.type===t)&&l.push(D)}return l}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return toFont(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class TypedRegistry{constructor(t,r,o){this.type=t,this.scope=r,this.override=o,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let o;isIChartComponent(r)&&(o=this.register(r));const l=this.items,h=t.id,y=this.scope+"."+h;if(!h)throw new Error("class does not have id: "+t);return h in l||(l[h]=t,registerDefaults(t,y,o),this.override&&defaults$1.override(t.id,t.overrides)),y}get(t){return this.items[t]}unregister(t){const r=this.items,o=t.id,l=this.scope;o in r&&delete r[o],l&&o in defaults$1[l]&&(delete defaults$1[l][o],this.override&&delete overrides[o])}}function registerDefaults(e,t,r){const o=merge(Object.create(null),[r?defaults$1.get(r):{},defaults$1.get(t),e.defaults]);defaults$1.set(t,o),e.defaultRoutes&&routeDefaults(t,e.defaultRoutes),e.descriptors&&defaults$1.describe(t,e.descriptors)}function routeDefaults(e,t){Object.keys(t).forEach(r=>{const o=r.split("."),l=o.pop(),h=[e].concat(o).join("."),y=t[r].split("."),D=y.pop(),O=y.join(".");defaults$1.route(h,l,O,D)})}function isIChartComponent(e){return"id"in e&&"defaults"in e}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,o){[...r].forEach(l=>{const h=o||this._getRegistryForType(l);o||h.isForType(l)||h===this.plugins&&l.id?this._exec(t,h,l):each(l,y=>{const D=o||this._getRegistryForType(y);this._exec(t,D,y)})})}_exec(t,r,o){const l=_capitalize(t);callback(o["before"+l],[],o),r[t](o),callback(o["after"+l],[],o)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const o=this._typedRegistries[r];if(o.isForType(t))return o}return this.plugins}_get(t,r,o){const l=r.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+o+".");return l}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(t,r,o,l){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const h=l?this._descriptors(t).filter(l):this._descriptors(t),y=this._notify(h,t,r,o);return r==="afterDestroy"&&(this._notify(h,t,"stop"),this._notify(this._init,t,"uninstall")),y}_notify(t,r,o,l){l=l||{};for(const h of t){const y=h.plugin,D=y[o],O=[r,l,h.options];if(callback(D,O,y)===!1&&l.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const o=t&&t.config,l=valueOrDefault(o.options&&o.options.plugins,{}),h=allPlugins(o);return l===!1&&!r?[]:createDescriptors(t,h,l,r)}_notifyStateChanges(t){const r=this._oldCache||[],o=this._cache,l=(h,y)=>h.filter(D=>!y.some(O=>D.plugin.id===O.plugin.id));this._notify(l(r,o),t,"stop"),this._notify(l(o,r),t,"start")}}function allPlugins(e){const t=[],r=Object.keys(registry.plugins.items);for(let l=0;l<r.length;l++)t.push(registry.getPlugin(r[l]));const o=e.plugins||[];for(let l=0;l<o.length;l++){const h=o[l];t.indexOf(h)===-1&&t.push(h)}return t}function getOpts(e,t){return!t&&e===!1?null:e===!0?{}:e}function createDescriptors(e,t,r,o){const l=[],h=e.getContext();for(let y=0;y<t.length;y++){const D=t[y],O=D.id,F=getOpts(r[O],o);F!==null&&l.push({plugin:D,options:pluginOpts(e.config,D,F,h)})}return l}function pluginOpts(e,t,r,o){const l=e.pluginScopeKeys(t),h=e.getOptionScopes(r,l);return e.createResolver(h,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(e,t){const r=defaults$1.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function getAxisFromDefaultScaleID(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function getDefaultScaleIDFromAxis(e,t){return e===t?"_index_":"_value_"}function axisFromPosition(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function determineAxis(e,t){return e==="x"||e==="y"?e:t.axis||axisFromPosition(t.position)||e.charAt(0).toLowerCase()}function mergeScaleConfig(e,t){const r=overrides[e.type]||{scales:{}},o=t.scales||{},l=getIndexAxis(e.type,t),h=Object.create(null),y=Object.create(null);return Object.keys(o).forEach(D=>{const O=o[D];if(!isObject(O))return console.error(`Invalid scale configuration for scale: ${D}`);if(O._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${D}`);const F=determineAxis(D,O),R=getDefaultScaleIDFromAxis(F,l),B=r.scales||{};h[F]=h[F]||D,y[D]=mergeIf(Object.create(null),[{axis:F},O,B[F],B[R]])}),e.data.datasets.forEach(D=>{const O=D.type||e.type,F=D.indexAxis||getIndexAxis(O,t),B=(overrides[O]||{}).scales||{};Object.keys(B).forEach(j=>{const q=getAxisFromDefaultScaleID(j,F),U=D[q+"AxisID"]||h[q]||q;y[U]=y[U]||Object.create(null),mergeIf(y[U],[{axis:q},o[U],B[j]])})}),Object.keys(y).forEach(D=>{const O=y[D];mergeIf(O,[defaults$1.scales[O.type],defaults$1.scale])}),y}function initOptions(e){const t=e.options||(e.options={});t.plugins=valueOrDefault(t.plugins,{}),t.scales=mergeScaleConfig(e,t)}function initData(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function initConfig(e){return e=e||{},e.data=initData(e.data),initOptions(e),e}const keyCache=new Map,keysCached=new Set;function cachedKeys(e,t){let r=keyCache.get(e);return r||(r=t(),keyCache.set(e,r),keysCached.add(r)),r}const addIfFound=(e,t,r)=>{const o=resolveObjectKey(t,r);o!==void 0&&e.add(o)};class Config{constructor(t){this._config=initConfig(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=initData(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),initOptions(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return cachedKeys(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return cachedKeys(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return cachedKeys(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,o=this.type;return cachedKeys(`${o}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const o=this._scopeCache;let l=o.get(t);return(!l||r)&&(l=new Map,o.set(t,l)),l}getOptionScopes(t,r,o){const{options:l,type:h}=this,y=this._cachedScopes(t,o),D=y.get(r);if(D)return D;const O=new Set;r.forEach(R=>{t&&(O.add(t),R.forEach(B=>addIfFound(O,t,B))),R.forEach(B=>addIfFound(O,l,B)),R.forEach(B=>addIfFound(O,overrides[h]||{},B)),R.forEach(B=>addIfFound(O,defaults$1,B)),R.forEach(B=>addIfFound(O,descriptors,B))});const F=Array.from(O);return F.length===0&&F.push(Object.create(null)),keysCached.has(r)&&y.set(r,F),F}chartOptionScopes(){const{options:t,type:r}=this;return[t,overrides[r]||{},defaults$1.datasets[r]||{},{type:r},defaults$1,descriptors]}resolveNamedOptions(t,r,o,l=[""]){const h={$shared:!0},{resolver:y,subPrefixes:D}=getResolver(this._resolverCache,t,l);let O=y;if(needContext(y,r)){h.$shared=!1,o=isFunction(o)?o():o;const F=this.createResolver(t,o,D);O=_attachContext(y,o,F)}for(const F of r)h[F]=O[F];return h}createResolver(t,r,o=[""],l){const{resolver:h}=getResolver(this._resolverCache,t,o);return isObject(r)?_attachContext(h,r,void 0,l):h}}function getResolver(e,t,r){let o=e.get(t);o||(o=new Map,e.set(t,o));const l=r.join();let h=o.get(l);return h||(h={resolver:_createResolver(t,r),subPrefixes:r.filter(D=>!D.toLowerCase().includes("hover"))},o.set(l,h)),h}const hasFunction=e=>isObject(e)&&Object.getOwnPropertyNames(e).reduce((t,r)=>t||isFunction(e[r]),!1);function needContext(e,t){const{isScriptable:r,isIndexable:o}=_descriptors(e);for(const l of t){const h=r(l),y=o(l),D=(y||h)&&e[l];if(h&&(isFunction(D)||hasFunction(D))||y&&isArray(D))return!0}return!1}var version="3.8.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(e,t){return e==="top"||e==="bottom"||KNOWN_POSITIONS.indexOf(e)===-1&&t==="x"}function compare2Level(e,t){return function(r,o){return r[e]===o[e]?r[t]-o[t]:r[e]-o[e]}}function onAnimationsComplete(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),callback(r&&r.onComplete,[e],t)}function onAnimationProgress(e){const t=e.chart,r=t.options.animation;callback(r&&r.onProgress,[e],t)}function getCanvas(e){return _isDomSupported()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const instances={},getChart=e=>{const t=getCanvas(e);return Object.values(instances).filter(r=>r.canvas===t).pop()};function moveNumericKeys(e,t,r){const o=Object.keys(e);for(const l of o){const h=+l;if(h>=t){const y=e[l];delete e[l],(r>0||h>t)&&(e[h+r]=y)}}}function determineLastEvent(e,t,r,o){return!r||e.type==="mouseout"?null:o?t:e}class Chart{constructor(t,r){const o=this.config=new Config(r),l=getCanvas(t),h=getChart(l);if(h)throw new Error("Canvas is already in use. Chart with ID '"+h.id+"' must be destroyed before the canvas can be reused.");const y=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_detectPlatform(l)),this.platform.updateConfig(o);const D=this.platform.acquireContext(l,y.aspectRatio),O=D&&D.canvas,F=O&&O.height,R=O&&O.width;if(this.id=uid(),this.ctx=D,this.canvas=O,this.width=R,this.height=F,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(B=>this.update(B),y.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!D||!O){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:o,height:l,_aspectRatio:h}=this;return isNullOrUndef(t)?r&&h?h:l?o/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(t,r){animator.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const o=this.options,l=this.canvas,h=o.maintainAspectRatio&&this.aspectRatio,y=this.platform.getMaximumSize(l,t,r,h),D=o.devicePixelRatio||this.platform.getDevicePixelRatio(),O=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,retinaScale(this,D,!0)&&(this.notifyPlugins("resize",{size:y}),callback(o.onResize,[this,y],this),this.attached&&this._doResize(O)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};each(r,(o,l)=>{o.id=l})}buildOrUpdateScales(){const t=this.options,r=t.scales,o=this.scales,l=Object.keys(o).reduce((y,D)=>(y[D]=!1,y),{});let h=[];r&&(h=h.concat(Object.keys(r).map(y=>{const D=r[y],O=determineAxis(y,D),F=O==="r",R=O==="x";return{options:D,dposition:F?"chartArea":R?"bottom":"left",dtype:F?"radialLinear":R?"category":"linear"}}))),each(h,y=>{const D=y.options,O=D.id,F=determineAxis(O,D),R=valueOrDefault(D.type,y.dtype);(D.position===void 0||positionIsHorizontal(D.position,F)!==positionIsHorizontal(y.dposition))&&(D.position=y.dposition),l[O]=!0;let B=null;if(O in o&&o[O].type===R)B=o[O];else{const j=registry.getScale(R);B=new j({id:O,type:R,ctx:this.ctx,chart:this}),o[B.id]=B}B.init(D,t)}),each(l,(y,D)=>{y||delete o[D]}),each(o,y=>{layouts.configure(this,y,y.options),layouts.addBox(this,y)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,o=t.length;if(t.sort((l,h)=>l.index-h.index),o>r){for(let l=r;l<o;++l)this._destroyDatasetMeta(l);t.splice(r,o-r)}this._sortedMetasets=t.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((o,l)=>{r.filter(h=>h===o._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=r.length;o<l;o++){const h=r[o];let y=this.getDatasetMeta(o);const D=h.type||this.config.type;if(y.type&&y.type!==D&&(this._destroyDatasetMeta(o),y=this.getDatasetMeta(o)),y.type=D,y.indexAxis=h.indexAxis||getIndexAxis(D,this.options),y.order=h.order||0,y.index=o,y.label=""+h.label,y.visible=this.isDatasetVisible(o),y.controller)y.controller.updateIndex(o),y.controller.linkScales();else{const O=registry.getController(D),{datasetElementType:F,dataElementType:R}=defaults$1.datasets[D];Object.assign(O.prototype,{dataElementType:registry.getElement(R),datasetElementType:F&&registry.getElement(F)}),y.controller=new O(this,o),t.push(y.controller)}}return this._updateMetasets(),t}_resetElements(){each(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const o=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const h=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let F=0,R=this.data.datasets.length;F<R;F++){const{controller:B}=this.getDatasetMeta(F),j=!l&&h.indexOf(B)===-1;B.buildOrUpdateElements(j),y=Math.max(+B.getMaxOverflow(),y)}y=this._minPadding=o.layout.autoPadding?y:0,this._updateLayout(y),l||each(h,F=>{F.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(compare2Level("z","_idx"));const{_active:D,_lastEvent:O}=this;O?this._eventHandler(O,!0):D.length&&this._updateHoverStyles(D,D,!0),this.render()}_updateScales(){each(this.scales,t=>{layouts.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),o=new Set(t.events);(!setsEqual(r,o)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:h}of r){const y=o==="_removeElements"?-h:h;moveNumericKeys(t,l,y)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,o=h=>new Set(t.filter(y=>y[0]===h).map((y,D)=>D+","+y.splice(1).join(","))),l=o(0);for(let h=1;h<r;h++)if(!setsEqual(l,o(h)))return;return Array.from(l).map(h=>h.split(",")).map(h=>({method:h[1],start:+h[2],count:+h[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,t);const r=this.chartArea,o=r.width<=0||r.height<=0;this._layers=[],each(this.boxes,l=>{o&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,h)=>{l._idx=h}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,o=this.data.datasets.length;r<o;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,o=this.data.datasets.length;r<o;++r)this._updateDataset(r,isFunction(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const o=this.getDatasetMeta(t),l={meta:o,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(o.controller._update(r),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resize(o,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,o=[];let l,h;for(l=0,h=r.length;l<h;++l){const y=r[l];(!t||y.visible)&&o.push(y)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,o=t._clip,l=!o.disabled,h=this.chartArea,y={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",y)!==!1&&(l&&clipArea(r,{left:o.left===!1?0:h.left-o.left,right:o.right===!1?this.width:h.right+o.right,top:o.top===!1?0:h.top-o.top,bottom:o.bottom===!1?this.height:h.bottom+o.bottom}),t.controller.draw(),l&&unclipArea(r),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}isPointInArea(t){return _isPointInArea(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,o,l){const h=Interaction.modes[r];return typeof h=="function"?h(this,t,o,l):[]}getDatasetMeta(t){const r=this.data.datasets[t],o=this._metasets;let l=o.filter(h=>h&&h._dataset===r).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const o=this.getDatasetMeta(t);return typeof o.hidden=="boolean"?!o.hidden:!r.hidden}setDatasetVisibility(t,r){const o=this.getDatasetMeta(t);o.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,o){const l=o?"show":"hide",h=this.getDatasetMeta(t),y=h.controller._resolveAnimations(void 0,l);defined(r)?(h.data[r].hidden=!o,this.update()):(this.setDatasetVisibility(t,o),y.update(h,{visible:o}),this.update(D=>D.datasetIndex===t?l:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),animator.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),clearCanvas(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,o=(h,y)=>{r.addEventListener(this,h,y),t[h]=y},l=(h,y,D)=>{h.offsetX=y,h.offsetY=D,this._eventHandler(h)};each(this.options.events,h=>o(h,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,o=(O,F)=>{r.addEventListener(this,O,F),t[O]=F},l=(O,F)=>{t[O]&&(r.removeEventListener(this,O,F),delete t[O])},h=(O,F)=>{this.canvas&&this.resize(O,F)};let y;const D=()=>{l("attach",D),this.attached=!0,this.resize(),o("resize",h),o("detach",y)};y=()=>{this.attached=!1,l("resize",h),this._stop(),this._resize(0,0),o("attach",D)},r.isAttached(this.canvas)?D():y()}unbindEvents(){each(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},each(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,o){const l=o?"set":"remove";let h,y,D,O;for(r==="dataset"&&(h=this.getDatasetMeta(t[0].datasetIndex),h.controller["_"+l+"DatasetHoverStyle"]()),D=0,O=t.length;D<O;++D){y=t[D];const F=y&&this.getDatasetMeta(y.datasetIndex).controller;F&&F[l+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],o=t.map(({datasetIndex:h,index:y})=>{const D=this.getDatasetMeta(h);if(!D)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:D.data[y],index:y}});!_elementsEqual(o,r)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,r))}notifyPlugins(t,r,o){return this._plugins.notify(this,t,r,o)}_updateHoverStyles(t,r,o){const l=this.options.hover,h=(O,F)=>O.filter(R=>!F.some(B=>R.datasetIndex===B.datasetIndex&&R.index===B.index)),y=h(r,t),D=o?t:h(t,r);y.length&&this.updateHoverStyle(y,l.mode,!1),D.length&&l.mode&&this.updateHoverStyle(D,l.mode,!0)}_eventHandler(t,r){const o={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},l=y=>(y.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",o,l)===!1)return;const h=this._handleEvent(t,r,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(h||o.changed)&&this.render(),this}_handleEvent(t,r,o){const{_active:l=[],options:h}=this,y=r,D=this._getActiveElements(t,l,o,y),O=_isClickEvent(t),F=determineLastEvent(t,this._lastEvent,o,O);o&&(this._lastEvent=null,callback(h.onHover,[t,D,this],this),O&&callback(h.onClick,[t,D,this],this));const R=!_elementsEqual(D,l);return(R||r)&&(this._active=D,this._updateHoverStyles(D,l,r)),this._lastEvent=F,R}_getActiveElements(t,r,o,l){if(t.type==="mouseout")return[];if(!o)return r;const h=this.options.hover;return this.getElementsAtEventForMode(t,h.mode,h,l)}}const invalidatePlugins=()=>each(Chart.instances,e=>e._plugins.invalidate()),enumerable=!0;Object.defineProperties(Chart,{defaults:{enumerable,value:defaults$1},instances:{enumerable,value:instances},overrides:{enumerable,value:overrides},registry:{enumerable,value:registry},version:{enumerable,value:version},getChart:{enumerable,value:getChart},register:{enumerable,value:(...e)=>{registry.add(...e),invalidatePlugins()}},unregister:{enumerable,value:(...e)=>{registry.remove(...e),invalidatePlugins()}}});function clipArc(e,t,r){const{startAngle:o,pixelMargin:l,x:h,y,outerRadius:D,innerRadius:O}=t;let F=l/D;e.beginPath(),e.arc(h,y,D,o-F,r+F),O>l?(F=l/O,e.arc(h,y,O,r+F,o-F,!0)):e.arc(h,y,l,r+HALF_PI,o-HALF_PI),e.closePath(),e.clip()}function toRadiusCorners(e){return _readValueToProps(e,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(e,t,r,o){const l=toRadiusCorners(e.options.borderRadius),h=(r-t)/2,y=Math.min(h,o*t/2),D=O=>{const F=(r-Math.min(h,O))*o/2;return _limitValue(O,0,Math.min(h,F))};return{outerStart:D(l.outerStart),outerEnd:D(l.outerEnd),innerStart:_limitValue(l.innerStart,0,y),innerEnd:_limitValue(l.innerEnd,0,y)}}function rThetaToXY(e,t,r,o){return{x:r+e*Math.cos(t),y:o+e*Math.sin(t)}}function pathArc(e,t,r,o,l){const{x:h,y,startAngle:D,pixelMargin:O,innerRadius:F}=t,R=Math.max(t.outerRadius+o+r-O,0),B=F>0?F+o+r+O:0;let j=0;const q=l-D;if(o){const ut=F>0?F-o:0,ot=R>0?R-o:0,at=(ut+ot)/2,dt=at!==0?q*at/(at+o):q;j=(q-dt)/2}const U=Math.max(.001,q*R-r/PI)/R,W=(q-U)/2,G=D+W+j,Y=l-W-j,{outerStart:X,outerEnd:K,innerStart:Q,innerEnd:J}=parseBorderRadius$1(t,B,R,Y-G),et=R-X,nt=R-K,Z=G+X/et,it=Y-K/nt,rt=B+Q,tt=B+J,st=G+Q/rt,ht=Y-J/tt;if(e.beginPath(),e.arc(h,y,R,Z,it),K>0){const ut=rThetaToXY(nt,it,h,y);e.arc(ut.x,ut.y,K,it,Y+HALF_PI)}const ct=rThetaToXY(tt,Y,h,y);if(e.lineTo(ct.x,ct.y),J>0){const ut=rThetaToXY(tt,ht,h,y);e.arc(ut.x,ut.y,J,Y+HALF_PI,ht+Math.PI)}if(e.arc(h,y,B,Y-J/B,G+Q/B,!0),Q>0){const ut=rThetaToXY(rt,st,h,y);e.arc(ut.x,ut.y,Q,st+Math.PI,G-HALF_PI)}const lt=rThetaToXY(et,G,h,y);if(e.lineTo(lt.x,lt.y),X>0){const ut=rThetaToXY(et,Z,h,y);e.arc(ut.x,ut.y,X,G-HALF_PI,Z)}e.closePath()}function drawArc(e,t,r,o){const{fullCircles:l,startAngle:h,circumference:y}=t;let D=t.endAngle;if(l){pathArc(e,t,r,o,h+TAU);for(let O=0;O<l;++O)e.fill();isNaN(y)||(D=h+y%TAU,y%TAU===0&&(D+=TAU))}return pathArc(e,t,r,o,D),e.fill(),D}function drawFullCircleBorders(e,t,r){const{x:o,y:l,startAngle:h,pixelMargin:y,fullCircles:D}=t,O=Math.max(t.outerRadius-y,0),F=t.innerRadius+y;let R;for(r&&clipArc(e,t,h+TAU),e.beginPath(),e.arc(o,l,F,h+TAU,h,!0),R=0;R<D;++R)e.stroke();for(e.beginPath(),e.arc(o,l,O,h,h+TAU),R=0;R<D;++R)e.stroke()}function drawBorder(e,t,r,o,l){const{options:h}=t,{borderWidth:y,borderJoinStyle:D}=h,O=h.borderAlign==="inner";!y||(O?(e.lineWidth=y*2,e.lineJoin=D||"round"):(e.lineWidth=y,e.lineJoin=D||"bevel"),t.fullCircles&&drawFullCircleBorders(e,t,O),O&&clipArc(e,t,l),pathArc(e,t,r,o,l),e.stroke())}class ArcElement extends Element{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,o){const l=this.getProps(["x","y"],o),{angle:h,distance:y}=getAngleFromPoint(l,{x:t,y:r}),{startAngle:D,endAngle:O,innerRadius:F,outerRadius:R,circumference:B}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),j=this.options.spacing/2,U=valueOrDefault(B,O-D)>=TAU||_angleBetween(h,D,O),W=_isBetween(y,F+j,R+j);return U&&W}getCenterPoint(t){const{x:r,y:o,startAngle:l,endAngle:h,innerRadius:y,outerRadius:D}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:O,spacing:F}=this.options,R=(l+h)/2,B=(y+D+F+O)/2;return{x:r+Math.cos(R)*B,y:o+Math.sin(R)*B}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:o}=this,l=(r.offset||0)/2,h=(r.spacing||0)/2;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=o>TAU?Math.floor(o/TAU):0,o===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let y=0;if(l){y=l/2;const O=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(O)*y,Math.sin(O)*y),this.circumference>=PI&&(y=l)}t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor;const D=drawArc(t,this,y,h);drawBorder(t,this,y,h,D),t.restore()}}ArcElement.id="arc";ArcElement.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0};ArcElement.defaultRoutes={backgroundColor:"backgroundColor"};function setStyle(e,t,r=t){e.lineCap=valueOrDefault(r.borderCapStyle,t.borderCapStyle),e.setLineDash(valueOrDefault(r.borderDash,t.borderDash)),e.lineDashOffset=valueOrDefault(r.borderDashOffset,t.borderDashOffset),e.lineJoin=valueOrDefault(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=valueOrDefault(r.borderWidth,t.borderWidth),e.strokeStyle=valueOrDefault(r.borderColor,t.borderColor)}function lineTo(e,t,r){e.lineTo(r.x,r.y)}function getLineMethod(e){return e.stepped?_steppedLineTo:e.tension||e.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(e,t,r={}){const o=e.length,{start:l=0,end:h=o-1}=r,{start:y,end:D}=t,O=Math.max(l,y),F=Math.min(h,D),R=l<y&&h<y||l>D&&h>D;return{count:o,start:O,loop:t.loop,ilen:F<O&&!R?o+F-O:F-O}}function pathSegment(e,t,r,o){const{points:l,options:h}=t,{count:y,start:D,loop:O,ilen:F}=pathVars(l,r,o),R=getLineMethod(h);let{move:B=!0,reverse:j}=o||{},q,U,W;for(q=0;q<=F;++q)U=l[(D+(j?F-q:q))%y],!U.skip&&(B?(e.moveTo(U.x,U.y),B=!1):R(e,W,U,j,h.stepped),W=U);return O&&(U=l[(D+(j?F:0))%y],R(e,W,U,j,h.stepped)),!!O}function fastPathSegment(e,t,r,o){const l=t.points,{count:h,start:y,ilen:D}=pathVars(l,r,o),{move:O=!0,reverse:F}=o||{};let R=0,B=0,j,q,U,W,G,Y;const X=Q=>(y+(F?D-Q:Q))%h,K=()=>{W!==G&&(e.lineTo(R,G),e.lineTo(R,W),e.lineTo(R,Y))};for(O&&(q=l[X(0)],e.moveTo(q.x,q.y)),j=0;j<=D;++j){if(q=l[X(j)],q.skip)continue;const Q=q.x,J=q.y,et=Q|0;et===U?(J<W?W=J:J>G&&(G=J),R=(B*R+Q)/++B):(K(),e.lineTo(Q,J),U=et,B=0,W=G=J),Y=J}K()}function _getSegmentMethod(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?fastPathSegment:pathSegment}function _getInterpolationMethod(e){return e.stepped?_steppedInterpolation:e.tension||e.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(e,t,r,o){let l=t._path;l||(l=t._path=new Path2D,t.path(l,r,o)&&l.closePath()),setStyle(e,t.options),e.stroke(l)}function strokePathDirect(e,t,r,o){const{segments:l,options:h}=t,y=_getSegmentMethod(t);for(const D of l)setStyle(e,h,D.style),e.beginPath(),y(e,t,D,{start:r,end:r+o-1})&&e.closePath(),e.stroke()}const usePath2D=typeof Path2D=="function";function draw(e,t,r,o){usePath2D&&!t.options.segment?strokePathWithCache(e,t,r,o):strokePathDirect(e,t,r,o)}class LineElement extends Element{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const l=o.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,o,t,l,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,o=t.length;return o&&r[t[o-1].end]}interpolate(t,r){const o=this.options,l=t[r],h=this.points,y=_boundSegments(this,{property:r,start:l,end:l});if(!y.length)return;const D=[],O=_getInterpolationMethod(o);let F,R;for(F=0,R=y.length;F<R;++F){const{start:B,end:j}=y[F],q=h[B],U=h[j];if(q===U){D.push(q);continue}const W=Math.abs((l-q[r])/(U[r]-q[r])),G=O(q,U,W,o.stepped);G[r]=t[r],D.push(G)}return D.length===1?D[0]:D}pathSegment(t,r,o){return _getSegmentMethod(this)(t,this,r,o)}path(t,r,o){const l=this.segments,h=_getSegmentMethod(this);let y=this._loop;r=r||0,o=o||this.points.length-r;for(const D of l)y&=h(t,this,D,{start:r,end:r+o-1});return!!y}draw(t,r,o,l){const h=this.options||{};(this.points||[]).length&&h.borderWidth&&(t.save(),draw(t,this,o,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}LineElement.id="line";LineElement.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};LineElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};LineElement.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function inRange$1(e,t,r,o){const l=e.options,{[r]:h}=e.getProps([r],o);return Math.abs(t-h)<l.radius+l.hitRadius}class PointElement extends Element{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,o){const l=this.options,{x:h,y}=this.getProps(["x","y"],o);return Math.pow(t-h,2)+Math.pow(r-y,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,r){return inRange$1(this,t,"x",r)}inYRange(t,r){return inRange$1(this,t,"y",r)}getCenterPoint(t){const{x:r,y:o}=this.getProps(["x","y"],t);return{x:r,y:o}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const o=r&&t.borderWidth||0;return(r+o)*2}draw(t,r){const o=this.options;this.skip||o.radius<.1||!_isPointInArea(this,r,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,drawPoint(t,o,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}PointElement.id="point";PointElement.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};PointElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function getBarBounds(e,t){const{x:r,y:o,base:l,width:h,height:y}=e.getProps(["x","y","base","width","height"],t);let D,O,F,R,B;return e.horizontal?(B=y/2,D=Math.min(r,l),O=Math.max(r,l),F=o-B,R=o+B):(B=h/2,D=r-B,O=r+B,F=Math.min(o,l),R=Math.max(o,l)),{left:D,top:F,right:O,bottom:R}}function skipOrLimit(e,t,r,o){return e?0:_limitValue(t,r,o)}function parseBorderWidth(e,t,r){const o=e.options.borderWidth,l=e.borderSkipped,h=toTRBL(o);return{t:skipOrLimit(l.top,h.top,0,r),r:skipOrLimit(l.right,h.right,0,t),b:skipOrLimit(l.bottom,h.bottom,0,r),l:skipOrLimit(l.left,h.left,0,t)}}function parseBorderRadius(e,t,r){const{enableBorderRadius:o}=e.getProps(["enableBorderRadius"]),l=e.options.borderRadius,h=toTRBLCorners(l),y=Math.min(t,r),D=e.borderSkipped,O=o||isObject(l);return{topLeft:skipOrLimit(!O||D.top||D.left,h.topLeft,0,y),topRight:skipOrLimit(!O||D.top||D.right,h.topRight,0,y),bottomLeft:skipOrLimit(!O||D.bottom||D.left,h.bottomLeft,0,y),bottomRight:skipOrLimit(!O||D.bottom||D.right,h.bottomRight,0,y)}}function boundingRects$1(e){const t=getBarBounds(e),r=t.right-t.left,o=t.bottom-t.top,l=parseBorderWidth(e,r/2,o/2),h=parseBorderRadius(e,r/2,o/2);return{outer:{x:t.left,y:t.top,w:r,h:o,radius:h},inner:{x:t.left+l.l,y:t.top+l.t,w:r-l.l-l.r,h:o-l.t-l.b,radius:{topLeft:Math.max(0,h.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,h.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,h.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,h.bottomRight-Math.max(l.b,l.r))}}}}function inRange(e,t,r,o){const l=t===null,h=r===null,D=e&&!(l&&h)&&getBarBounds(e,o);return D&&(l||_isBetween(t,D.left,D.right))&&(h||_isBetween(r,D.top,D.bottom))}function hasRadius(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function addNormalRectPath(e,t){e.rect(t.x,t.y,t.w,t.h)}function inflateRect(e,t,r={}){const o=e.x!==r.x?-t:0,l=e.y!==r.y?-t:0,h=(e.x+e.w!==r.x+r.w?t:0)-o,y=(e.y+e.h!==r.y+r.h?t:0)-l;return{x:e.x+o,y:e.y+l,w:e.w+h,h:e.h+y,radius:e.radius}}class BarElement extends Element{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:o,backgroundColor:l}}=this,{inner:h,outer:y}=boundingRects$1(this),D=hasRadius(y.radius)?addRoundedRectPath:addNormalRectPath;t.save(),(y.w!==h.w||y.h!==h.h)&&(t.beginPath(),D(t,inflateRect(y,r,h)),t.clip(),D(t,inflateRect(h,-r,y)),t.fillStyle=o,t.fill("evenodd")),t.beginPath(),D(t,inflateRect(h,r)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,r,o){return inRange(this,t,r,o)}inXRange(t,r){return inRange(this,t,null,r)}inYRange(t,r){return inRange(this,null,t,r)}getCenterPoint(t){const{x:r,y:o,base:l,horizontal:h}=this.getProps(["x","y","base","horizontal"],t);return{x:h?(r+l)/2:r,y:h?o:(o+l)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}BarElement.id="bar";BarElement.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};BarElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var elements=Object.freeze({__proto__:null,ArcElement,LineElement,PointElement,BarElement});function lttbDecimation(e,t,r,o,l){const h=l.samples||o;if(h>=r)return e.slice(t,t+r);const y=[],D=(r-2)/(h-2);let O=0;const F=t+r-1;let R=t,B,j,q,U,W;for(y[O++]=e[R],B=0;B<h-2;B++){let G=0,Y=0,X;const K=Math.floor((B+1)*D)+1+t,Q=Math.min(Math.floor((B+2)*D)+1,r)+t,J=Q-K;for(X=K;X<Q;X++)G+=e[X].x,Y+=e[X].y;G/=J,Y/=J;const et=Math.floor(B*D)+1+t,nt=Math.min(Math.floor((B+1)*D)+1,r)+t,{x:Z,y:it}=e[R];for(q=U=-1,X=et;X<nt;X++)U=.5*Math.abs((Z-G)*(e[X].y-it)-(Z-e[X].x)*(Y-it)),U>q&&(q=U,j=e[X],W=X);y[O++]=j,R=W}return y[O++]=e[F],y}function minMaxDecimation(e,t,r,o){let l=0,h=0,y,D,O,F,R,B,j,q,U,W;const G=[],Y=t+r-1,X=e[t].x,Q=e[Y].x-X;for(y=t;y<t+r;++y){D=e[y],O=(D.x-X)/Q*o,F=D.y;const J=O|0;if(J===R)F<U?(U=F,B=y):F>W&&(W=F,j=y),l=(h*l+D.x)/++h;else{const et=y-1;if(!isNullOrUndef(B)&&!isNullOrUndef(j)){const nt=Math.min(B,j),Z=Math.max(B,j);nt!==q&&nt!==et&&G.push(Vt($t({},e[nt]),{x:l})),Z!==q&&Z!==et&&G.push(Vt($t({},e[Z]),{x:l}))}y>0&&et!==q&&G.push(e[et]),G.push(D),R=J,h=0,U=W=F,B=j=q=y}}return G}function cleanDecimatedDataset(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function cleanDecimatedData(e){e.data.datasets.forEach(t=>{cleanDecimatedDataset(t)})}function getStartAndCountOfVisiblePointsSimplified(e,t){const r=t.length;let o=0,l;const{iScale:h}=e,{min:y,max:D,minDefined:O,maxDefined:F}=h.getUserBounds();return O&&(o=_limitValue(_lookupByKey(t,h.axis,y).lo,0,r-1)),F?l=_limitValue(_lookupByKey(t,h.axis,D).hi+1,o,r)-o:l=r-o,{start:o,count:l}}var plugin_decimation={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,r)=>{if(!r.enabled){cleanDecimatedData(e);return}const o=e.width;e.data.datasets.forEach((l,h)=>{const{_data:y,indexAxis:D}=l,O=e.getDatasetMeta(h),F=y||l.data;if(resolve([D,e.options.indexAxis])==="y"||!O.controller.supportsDecimation)return;const R=e.scales[O.xAxisID];if(R.type!=="linear"&&R.type!=="time"||e.options.parsing)return;let{start:B,count:j}=getStartAndCountOfVisiblePointsSimplified(O,F);const q=r.threshold||4*o;if(j<=q){cleanDecimatedDataset(l);return}isNullOrUndef(y)&&(l._data=F,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(W){this._data=W}}));let U;switch(r.algorithm){case"lttb":U=lttbDecimation(F,B,j,o,r);break;case"min-max":U=minMaxDecimation(F,B,j,o);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}l._decimated=U})},destroy(e){cleanDecimatedData(e)}};function _segments(e,t,r){const o=e.segments,l=e.points,h=t.points,y=[];for(const D of o){let{start:O,end:F}=D;F=_findSegmentEnd(O,F,l);const R=_getBounds(r,l[O],l[F],D.loop);if(!t.segments){y.push({source:D,target:R,start:l[O],end:l[F]});continue}const B=_boundSegments(t,R);for(const j of B){const q=_getBounds(r,h[j.start],h[j.end],j.loop),U=_boundSegment(D,l,q);for(const W of U)y.push({source:W,target:j,start:{[r]:_getEdge(R,q,"start",Math.max)},end:{[r]:_getEdge(R,q,"end",Math.min)}})}}return y}function _getBounds(e,t,r,o){if(o)return;let l=t[e],h=r[e];return e==="angle"&&(l=_normalizeAngle(l),h=_normalizeAngle(h)),{property:e,start:l,end:h}}function _pointsFromSegments(e,t){const{x:r=null,y:o=null}=e||{},l=t.points,h=[];return t.segments.forEach(({start:y,end:D})=>{D=_findSegmentEnd(y,D,l);const O=l[y],F=l[D];o!==null?(h.push({x:O.x,y:o}),h.push({x:F.x,y:o})):r!==null&&(h.push({x:r,y:O.y}),h.push({x:r,y:F.y}))}),h}function _findSegmentEnd(e,t,r){for(;t>e;t--){const o=r[t];if(!isNaN(o.x)&&!isNaN(o.y))break}return t}function _getEdge(e,t,r,o){return e&&t?o(e[r],t[r]):e?e[r]:t?t[r]:0}function _createBoundaryLine(e,t){let r=[],o=!1;return isArray(e)?(o=!0,r=e):r=_pointsFromSegments(e,t),r.length?new LineElement({points:r,options:{tension:0},_loop:o,_fullLoop:o}):null}function _resolveTarget(e,t,r){let l=e[t].fill;const h=[t];let y;if(!r)return l;for(;l!==!1&&h.indexOf(l)===-1;){if(!isNumberFinite(l))return l;if(y=e[l],!y)return!1;if(y.visible)return l;h.push(l),l=y.fill}return!1}function _decodeFill(e,t,r){const o=parseFillOption(e);if(isObject(o))return isNaN(o.value)?!1:o;let l=parseFloat(o);return isNumberFinite(l)&&Math.floor(l)===l?decodeTargetIndex(o[0],t,l,r):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function decodeTargetIndex(e,t,r,o){return(e==="-"||e==="+")&&(r=t+r),r===t||r<0||r>=o?!1:r}function _getTargetPixel(e,t){let r=null;return e==="start"?r=t.bottom:e==="end"?r=t.top:isObject(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}function _getTargetValue(e,t,r){let o;return e==="start"?o=r:e==="end"?o=t.options.reverse?t.min:t.max:isObject(e)?o=e.value:o=t.getBaseValue(),o}function parseFillOption(e){const t=e.options,r=t.fill;let o=valueOrDefault(r&&r.target,r);return o===void 0&&(o=!!t.backgroundColor),o===!1||o===null?!1:o===!0?"origin":o}function _buildStackLine(e){const{scale:t,index:r,line:o}=e,l=[],h=o.segments,y=o.points,D=getLinesBelow(t,r);D.push(_createBoundaryLine({x:null,y:t.bottom},o));for(let O=0;O<h.length;O++){const F=h[O];for(let R=F.start;R<=F.end;R++)addPointsBelow(l,y[R],D)}return new LineElement({points:l,options:{}})}function getLinesBelow(e,t){const r=[],o=e.getMatchingVisibleMetas("line");for(let l=0;l<o.length;l++){const h=o[l];if(h.index===t)break;h.hidden||r.unshift(h.dataset)}return r}function addPointsBelow(e,t,r){const o=[];for(let l=0;l<r.length;l++){const h=r[l],{first:y,last:D,point:O}=findPoint(h,t,"x");if(!(!O||y&&D)){if(y)o.unshift(O);else if(e.push(O),!D)break}}e.push(...o)}function findPoint(e,t,r){const o=e.interpolate(t,r);if(!o)return{};const l=o[r],h=e.segments,y=e.points;let D=!1,O=!1;for(let F=0;F<h.length;F++){const R=h[F],B=y[R.start][r],j=y[R.end][r];if(_isBetween(l,B,j)){D=l===B,O=l===j;break}}return{first:D,last:O,point:o}}class simpleArc{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,r,o){const{x:l,y:h,radius:y}=this;return r=r||{start:0,end:TAU},t.arc(l,h,y,r.end,r.start,!0),!o.bounds}interpolate(t){const{x:r,y:o,radius:l}=this,h=t.angle;return{x:r+Math.cos(h)*l,y:o+Math.sin(h)*l,angle:h}}}function _getTarget(e){const{chart:t,fill:r,line:o}=e;if(isNumberFinite(r))return getLineByIndex(t,r);if(r==="stack")return _buildStackLine(e);if(r==="shape")return!0;const l=computeBoundary(e);return l instanceof simpleArc?l:_createBoundaryLine(l,o)}function getLineByIndex(e,t){const r=e.getDatasetMeta(t);return r&&e.isDatasetVisible(t)?r.dataset:null}function computeBoundary(e){return(e.scale||{}).getPointPositionForValue?computeCircularBoundary(e):computeLinearBoundary(e)}function computeLinearBoundary(e){const{scale:t={},fill:r}=e,o=_getTargetPixel(r,t);if(isNumberFinite(o)){const l=t.isHorizontal();return{x:l?o:null,y:l?null:o}}return null}function computeCircularBoundary(e){const{scale:t,fill:r}=e,o=t.options,l=t.getLabels().length,h=o.reverse?t.max:t.min,y=_getTargetValue(r,t,h),D=[];if(o.grid.circular){const O=t.getPointPositionForValue(0,h);return new simpleArc({x:O.x,y:O.y,radius:t.getDistanceFromCenterForValue(y)})}for(let O=0;O<l;++O)D.push(t.getPointPositionForValue(O,y));return D}function _drawfill(e,t,r){const o=_getTarget(t),{line:l,scale:h,axis:y}=t,D=l.options,O=D.fill,F=D.backgroundColor,{above:R=F,below:B=F}=O||{};o&&l.points.length&&(clipArea(e,r),doFill(e,{line:l,target:o,above:R,below:B,area:r,scale:h,axis:y}),unclipArea(e))}function doFill(e,t){const{line:r,target:o,above:l,below:h,area:y,scale:D}=t,O=r._loop?"angle":t.axis;e.save(),O==="x"&&h!==l&&(clipVertical(e,o,y.top),fill(e,{line:r,target:o,color:l,scale:D,property:O}),e.restore(),e.save(),clipVertical(e,o,y.bottom)),fill(e,{line:r,target:o,color:h,scale:D,property:O}),e.restore()}function clipVertical(e,t,r){const{segments:o,points:l}=t;let h=!0,y=!1;e.beginPath();for(const D of o){const{start:O,end:F}=D,R=l[O],B=l[_findSegmentEnd(O,F,l)];h?(e.moveTo(R.x,R.y),h=!1):(e.lineTo(R.x,r),e.lineTo(R.x,R.y)),y=!!t.pathSegment(e,D,{move:y}),y?e.closePath():e.lineTo(B.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function fill(e,t){const{line:r,target:o,property:l,color:h,scale:y}=t,D=_segments(r,o,l);for(const{source:O,target:F,start:R,end:B}of D){const{style:{backgroundColor:j=h}={}}=O,q=o!==!0;e.save(),e.fillStyle=j,clipBounds(e,y,q&&_getBounds(l,R,B)),e.beginPath();const U=!!r.pathSegment(e,O);let W;if(q){U?e.closePath():interpolatedLineTo(e,o,B,l);const G=!!o.pathSegment(e,F,{move:U,reverse:!0});W=U&&G,W||interpolatedLineTo(e,o,R,l)}e.closePath(),e.fill(W?"evenodd":"nonzero"),e.restore()}}function clipBounds(e,t,r){const{top:o,bottom:l}=t.chart.chartArea,{property:h,start:y,end:D}=r||{};h==="x"&&(e.beginPath(),e.rect(y,o,D-y,l-o),e.clip())}function interpolatedLineTo(e,t,r,o){const l=t.interpolate(r,o);l&&e.lineTo(l.x,l.y)}var index={id:"filler",afterDatasetsUpdate(e,t,r){const o=(e.data.datasets||[]).length,l=[];let h,y,D,O;for(y=0;y<o;++y)h=e.getDatasetMeta(y),D=h.dataset,O=null,D&&D.options&&D instanceof LineElement&&(O={visible:e.isDatasetVisible(y),index:y,fill:_decodeFill(D,y,o),chart:e,axis:h.controller.options.indexAxis,scale:h.vScale,line:D}),h.$filler=O,l.push(O);for(y=0;y<o;++y)O=l[y],!(!O||O.fill===!1)&&(O.fill=_resolveTarget(l,y,r.propagate))},beforeDraw(e,t,r){const o=r.drawTime==="beforeDraw",l=e.getSortedVisibleDatasetMetas(),h=e.chartArea;for(let y=l.length-1;y>=0;--y){const D=l[y].$filler;!D||(D.line.updateControlPoints(h,D.axis),o&&_drawfill(e.ctx,D,h))}},beforeDatasetsDraw(e,t,r){if(r.drawTime!=="beforeDatasetsDraw")return;const o=e.getSortedVisibleDatasetMetas();for(let l=o.length-1;l>=0;--l){const h=o[l].$filler;h&&_drawfill(e.ctx,h,e.chartArea)}},beforeDatasetDraw(e,t,r){const o=t.meta.$filler;!o||o.fill===!1||r.drawTime!=="beforeDatasetDraw"||_drawfill(e.ctx,o,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(e,t)=>{let{boxHeight:r=t,boxWidth:o=t}=e;return e.usePointStyle&&(r=Math.min(r,t),o=Math.min(o,t)),{boxWidth:o,boxHeight:r,itemHeight:Math.max(t,r)}},itemsEqual=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Legend extends Element{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r,o){this.maxWidth=t,this.maxHeight=r,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let r=callback(t.generateLabels,[this.chart],this)||[];t.filter&&(r=r.filter(o=>t.filter(o,this.chart.data))),t.sort&&(r=r.sort((o,l)=>t.sort(o,l,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:t,ctx:r}=this;if(!t.display){this.width=this.height=0;return}const o=t.labels,l=toFont(o.font),h=l.size,y=this._computeTitleHeight(),{boxWidth:D,itemHeight:O}=getBoxSize(o,h);let F,R;r.font=l.string,this.isHorizontal()?(F=this.maxWidth,R=this._fitRows(y,h,D,O)+10):(R=this.maxHeight,F=this._fitCols(y,h,D,O)+10),this.width=Math.min(F,t.maxWidth||this.maxWidth),this.height=Math.min(R,t.maxHeight||this.maxHeight)}_fitRows(t,r,o,l){const{ctx:h,maxWidth:y,options:{labels:{padding:D}}}=this,O=this.legendHitBoxes=[],F=this.lineWidths=[0],R=l+D;let B=t;h.textAlign="left",h.textBaseline="middle";let j=-1,q=-R;return this.legendItems.forEach((U,W)=>{const G=o+r/2+h.measureText(U.text).width;(W===0||F[F.length-1]+G+2*D>y)&&(B+=R,F[F.length-(W>0?0:1)]=0,q+=R,j++),O[W]={left:0,top:q,row:j,width:G,height:l},F[F.length-1]+=G+D}),B}_fitCols(t,r,o,l){const{ctx:h,maxHeight:y,options:{labels:{padding:D}}}=this,O=this.legendHitBoxes=[],F=this.columnSizes=[],R=y-t;let B=D,j=0,q=0,U=0,W=0;return this.legendItems.forEach((G,Y)=>{const X=o+r/2+h.measureText(G.text).width;Y>0&&q+l+2*D>R&&(B+=j+D,F.push({width:j,height:q}),U+=j+D,W++,j=q=0),O[Y]={left:U,top:q,col:W,width:X,height:l},j=Math.max(j,X),q+=l+D}),B+=j,F.push({width:j,height:q}),B}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:o,labels:{padding:l},rtl:h}}=this,y=getRtlAdapter(h,this.left,this.width);if(this.isHorizontal()){let D=0,O=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[D]);for(const F of r)D!==F.row&&(D=F.row,O=_alignStartEnd(o,this.left+l,this.right-this.lineWidths[D])),F.top+=this.top+t+l,F.left=y.leftForLtr(y.x(O),F.width),O+=F.width+l}else{let D=0,O=_alignStartEnd(o,this.top+t+l,this.bottom-this.columnSizes[D].height);for(const F of r)F.col!==D&&(D=F.col,O=_alignStartEnd(o,this.top+t+l,this.bottom-this.columnSizes[D].height)),F.top=O,F.left+=this.left+l,F.left=y.leftForLtr(y.x(F.left),F.width),O+=F.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;clipArea(t,this),this._draw(),unclipArea(t)}}_draw(){const{options:t,columnSizes:r,lineWidths:o,ctx:l}=this,{align:h,labels:y}=t,D=defaults$1.color,O=getRtlAdapter(t.rtl,this.left,this.width),F=toFont(y.font),{color:R,padding:B}=y,j=F.size,q=j/2;let U;this.drawTitle(),l.textAlign=O.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=F.string;const{boxWidth:W,boxHeight:G,itemHeight:Y}=getBoxSize(y,j),X=function(nt,Z,it){if(isNaN(W)||W<=0||isNaN(G)||G<0)return;l.save();const rt=valueOrDefault(it.lineWidth,1);if(l.fillStyle=valueOrDefault(it.fillStyle,D),l.lineCap=valueOrDefault(it.lineCap,"butt"),l.lineDashOffset=valueOrDefault(it.lineDashOffset,0),l.lineJoin=valueOrDefault(it.lineJoin,"miter"),l.lineWidth=rt,l.strokeStyle=valueOrDefault(it.strokeStyle,D),l.setLineDash(valueOrDefault(it.lineDash,[])),y.usePointStyle){const tt={radius:W*Math.SQRT2/2,pointStyle:it.pointStyle,rotation:it.rotation,borderWidth:rt},st=O.xPlus(nt,W/2),ht=Z+q;drawPoint(l,tt,st,ht)}else{const tt=Z+Math.max((j-G)/2,0),st=O.leftForLtr(nt,W),ht=toTRBLCorners(it.borderRadius);l.beginPath(),Object.values(ht).some(ct=>ct!==0)?addRoundedRectPath(l,{x:st,y:tt,w:W,h:G,radius:ht}):l.rect(st,tt,W,G),l.fill(),rt!==0&&l.stroke()}l.restore()},K=function(nt,Z,it){renderText(l,it.text,nt,Z+Y/2,F,{strikethrough:it.hidden,textAlign:O.textAlign(it.textAlign)})},Q=this.isHorizontal(),J=this._computeTitleHeight();Q?U={x:_alignStartEnd(h,this.left+B,this.right-o[0]),y:this.top+B+J,line:0}:U={x:this.left+B,y:_alignStartEnd(h,this.top+J+B,this.bottom-r[0].height),line:0},overrideTextDirection(this.ctx,t.textDirection);const et=Y+B;this.legendItems.forEach((nt,Z)=>{l.strokeStyle=nt.fontColor||R,l.fillStyle=nt.fontColor||R;const it=l.measureText(nt.text).width,rt=O.textAlign(nt.textAlign||(nt.textAlign=y.textAlign)),tt=W+q+it;let st=U.x,ht=U.y;O.setWidth(this.width),Q?Z>0&&st+tt+B>this.right&&(ht=U.y+=et,U.line++,st=U.x=_alignStartEnd(h,this.left+B,this.right-o[U.line])):Z>0&&ht+et>this.bottom&&(st=U.x=st+r[U.line].width+B,U.line++,ht=U.y=_alignStartEnd(h,this.top+J+B,this.bottom-r[U.line].height));const ct=O.x(st);X(ct,ht,nt),st=_textX(rt,st+W+q,Q?st+tt:this.right,t.rtl),K(O.x(st),ht,nt),Q?U.x+=tt+B:U.y+=et}),restoreTextDirection(this.ctx,t.textDirection)}drawTitle(){const t=this.options,r=t.title,o=toFont(r.font),l=toPadding(r.padding);if(!r.display)return;const h=getRtlAdapter(t.rtl,this.left,this.width),y=this.ctx,D=r.position,O=o.size/2,F=l.top+O;let R,B=this.left,j=this.width;if(this.isHorizontal())j=Math.max(...this.lineWidths),R=this.top+F,B=_alignStartEnd(t.align,B,this.right-j);else{const U=this.columnSizes.reduce((W,G)=>Math.max(W,G.height),0);R=F+_alignStartEnd(t.align,this.top,this.bottom-U-t.labels.padding-this._computeTitleHeight())}const q=_alignStartEnd(D,B,B+j);y.textAlign=h.textAlign(_toLeftRightCenter(D)),y.textBaseline="middle",y.strokeStyle=r.color,y.fillStyle=r.color,y.font=o.string,renderText(y,r.text,q,R,o)}_computeTitleHeight(){const t=this.options.title,r=toFont(t.font),o=toPadding(t.padding);return t.display?r.lineHeight+o.height:0}_getLegendItemAt(t,r){let o,l,h;if(_isBetween(t,this.left,this.right)&&_isBetween(r,this.top,this.bottom)){for(h=this.legendHitBoxes,o=0;o<h.length;++o)if(l=h[o],_isBetween(t,l.left,l.left+l.width)&&_isBetween(r,l.top,l.top+l.height))return this.legendItems[o]}return null}handleEvent(t){const r=this.options;if(!isListened(t.type,r))return;const o=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,h=itemsEqual(l,o);l&&!h&&callback(r.onLeave,[t,l,this],this),this._hoveredItem=o,o&&!h&&callback(r.onHover,[t,o,this],this)}else o&&callback(r.onClick,[t,o,this],this)}}function isListened(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(e,t,r){const o=e.legend=new Legend({ctx:e.ctx,options:r,chart:e});layouts.configure(e,o,r),layouts.addBox(e,o)},stop(e){layouts.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const o=e.legend;layouts.configure(e,o,r),o.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const o=t.datasetIndex,l=r.chart;l.isDatasetVisible(o)?(l.hide(o),t.hidden=!0):(l.show(o),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:o,textAlign:l,color:h}}=e.legend.options;return e._getSortedDatasetMetas().map(y=>{const D=y.controller.getStyle(r?0:void 0),O=toPadding(D.borderWidth);return{text:t[y.index].label,fillStyle:D.backgroundColor,fontColor:h,hidden:!y.visible,lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:(O.width+O.height)/4,strokeStyle:D.borderColor,pointStyle:o||D.pointStyle,rotation:D.rotation,textAlign:l||D.textAlign,borderRadius:0,datasetIndex:y.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Title extends Element{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,r){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=r;const l=isArray(o.text)?o.text.length:1;this._padding=toPadding(o.padding);const h=l*toFont(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=h:this.width=h}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:r,left:o,bottom:l,right:h,options:y}=this,D=y.align;let O=0,F,R,B;return this.isHorizontal()?(R=_alignStartEnd(D,o,h),B=r+t,F=h-o):(y.position==="left"?(R=o+t,B=_alignStartEnd(D,l,r),O=PI*-.5):(R=h-t,B=_alignStartEnd(D,r,l),O=PI*.5),F=l-r),{titleX:R,titleY:B,maxWidth:F,rotation:O}}draw(){const t=this.ctx,r=this.options;if(!r.display)return;const o=toFont(r.font),h=o.lineHeight/2+this._padding.top,{titleX:y,titleY:D,maxWidth:O,rotation:F}=this._drawArgs(h);renderText(t,r.text,0,0,o,{color:r.color,maxWidth:O,rotation:F,textAlign:_toLeftRightCenter(r.align),textBaseline:"middle",translation:[y,D]})}}function createTitle(e,t){const r=new Title({ctx:e.ctx,options:t,chart:e});layouts.configure(e,r,t),layouts.addBox(e,r),e.titleBlock=r}var plugin_title={id:"title",_element:Title,start(e,t,r){createTitle(e,r)},stop(e){const t=e.titleBlock;layouts.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const o=e.titleBlock;layouts.configure(e,o,r),o.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const map=new WeakMap;var plugin_subtitle={id:"subtitle",start(e,t,r){const o=new Title({ctx:e.ctx,options:r,chart:e});layouts.configure(e,o,r),layouts.addBox(e,o),map.set(e,o)},stop(e){layouts.removeBox(e,map.get(e)),map.delete(e)},beforeUpdate(e,t,r){const o=map.get(e);layouts.configure(e,o,r),o.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners$1={average(e){if(!e.length)return!1;let t,r,o=0,l=0,h=0;for(t=0,r=e.length;t<r;++t){const y=e[t].element;if(y&&y.hasValue()){const D=y.tooltipPosition();o+=D.x,l+=D.y,++h}}return{x:o/h,y:l/h}},nearest(e,t){if(!e.length)return!1;let r=t.x,o=t.y,l=Number.POSITIVE_INFINITY,h,y,D;for(h=0,y=e.length;h<y;++h){const O=e[h].element;if(O&&O.hasValue()){const F=O.getCenterPoint(),R=distanceBetweenPoints(t,F);R<l&&(l=R,D=O)}}if(D){const O=D.tooltipPosition();r=O.x,o=O.y}return{x:r,y:o}}};function pushOrConcat(e,t){return t&&(isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function splitNewlines(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function createTooltipItem(e,t){const{element:r,datasetIndex:o,index:l}=t,h=e.getDatasetMeta(o).controller,{label:y,value:D}=h.getLabelAndValue(l);return{chart:e,label:y,parsed:h.getParsed(l),raw:e.data.datasets[o].data[l],formattedValue:D,dataset:h.getDataset(),dataIndex:l,datasetIndex:o,element:r}}function getTooltipSize(e,t){const r=e.chart.ctx,{body:o,footer:l,title:h}=e,{boxWidth:y,boxHeight:D}=t,O=toFont(t.bodyFont),F=toFont(t.titleFont),R=toFont(t.footerFont),B=h.length,j=l.length,q=o.length,U=toPadding(t.padding);let W=U.height,G=0,Y=o.reduce((Q,J)=>Q+J.before.length+J.lines.length+J.after.length,0);if(Y+=e.beforeBody.length+e.afterBody.length,B&&(W+=B*F.lineHeight+(B-1)*t.titleSpacing+t.titleMarginBottom),Y){const Q=t.displayColors?Math.max(D,O.lineHeight):O.lineHeight;W+=q*Q+(Y-q)*O.lineHeight+(Y-1)*t.bodySpacing}j&&(W+=t.footerMarginTop+j*R.lineHeight+(j-1)*t.footerSpacing);let X=0;const K=function(Q){G=Math.max(G,r.measureText(Q).width+X)};return r.save(),r.font=F.string,each(e.title,K),r.font=O.string,each(e.beforeBody.concat(e.afterBody),K),X=t.displayColors?y+2+t.boxPadding:0,each(o,Q=>{each(Q.before,K),each(Q.lines,K),each(Q.after,K)}),X=0,r.font=R.string,each(e.footer,K),r.restore(),G+=U.width,{width:G,height:W}}function determineYAlign(e,t){const{y:r,height:o}=t;return r<o/2?"top":r>e.height-o/2?"bottom":"center"}function doesNotFitWithAlign(e,t,r,o){const{x:l,width:h}=o,y=r.caretSize+r.caretPadding;if(e==="left"&&l+h+y>t.width||e==="right"&&l-h-y<0)return!0}function determineXAlign(e,t,r,o){const{x:l,width:h}=r,{width:y,chartArea:{left:D,right:O}}=e;let F="center";return o==="center"?F=l<=(D+O)/2?"left":"right":l<=h/2?F="left":l>=y-h/2&&(F="right"),doesNotFitWithAlign(F,e,t,r)&&(F="center"),F}function determineAlignment(e,t,r){const o=r.yAlign||t.yAlign||determineYAlign(e,r);return{xAlign:r.xAlign||t.xAlign||determineXAlign(e,t,r,o),yAlign:o}}function alignX(e,t){let{x:r,width:o}=e;return t==="right"?r-=o:t==="center"&&(r-=o/2),r}function alignY(e,t,r){let{y:o,height:l}=e;return t==="top"?o+=r:t==="bottom"?o-=l+r:o-=l/2,o}function getBackgroundPoint(e,t,r,o){const{caretSize:l,caretPadding:h,cornerRadius:y}=e,{xAlign:D,yAlign:O}=r,F=l+h,{topLeft:R,topRight:B,bottomLeft:j,bottomRight:q}=toTRBLCorners(y);let U=alignX(t,D);const W=alignY(t,O,F);return O==="center"?D==="left"?U+=F:D==="right"&&(U-=F):D==="left"?U-=Math.max(R,j)+l:D==="right"&&(U+=Math.max(B,q)+l),{x:_limitValue(U,0,o.width-t.width),y:_limitValue(W,0,o.height-t.height)}}function getAlignedX(e,t,r){const o=toPadding(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-o.right:e.x+o.left}function getBeforeAfterBodyLines(e){return pushOrConcat([],splitNewlines(e))}function createTooltipContext(e,t,r){return createContext(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function overrideCallbacks(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}class Tooltip extends Element{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&r.options.animation&&o.animations,h=new Animations(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:o}=r,l=o.beforeTitle.apply(this,[t]),h=o.title.apply(this,[t]),y=o.afterTitle.apply(this,[t]);let D=[];return D=pushOrConcat(D,splitNewlines(l)),D=pushOrConcat(D,splitNewlines(h)),D=pushOrConcat(D,splitNewlines(y)),D}getBeforeBody(t,r){return getBeforeAfterBodyLines(r.callbacks.beforeBody.apply(this,[t]))}getBody(t,r){const{callbacks:o}=r,l=[];return each(t,h=>{const y={before:[],lines:[],after:[]},D=overrideCallbacks(o,h);pushOrConcat(y.before,splitNewlines(D.beforeLabel.call(this,h))),pushOrConcat(y.lines,D.label.call(this,h)),pushOrConcat(y.after,splitNewlines(D.afterLabel.call(this,h))),l.push(y)}),l}getAfterBody(t,r){return getBeforeAfterBodyLines(r.callbacks.afterBody.apply(this,[t]))}getFooter(t,r){const{callbacks:o}=r,l=o.beforeFooter.apply(this,[t]),h=o.footer.apply(this,[t]),y=o.afterFooter.apply(this,[t]);let D=[];return D=pushOrConcat(D,splitNewlines(l)),D=pushOrConcat(D,splitNewlines(h)),D=pushOrConcat(D,splitNewlines(y)),D}_createItems(t){const r=this._active,o=this.chart.data,l=[],h=[],y=[];let D=[],O,F;for(O=0,F=r.length;O<F;++O)D.push(createTooltipItem(this.chart,r[O]));return t.filter&&(D=D.filter((R,B,j)=>t.filter(R,B,j,o))),t.itemSort&&(D=D.sort((R,B)=>t.itemSort(R,B,o))),each(D,R=>{const B=overrideCallbacks(t.callbacks,R);l.push(B.labelColor.call(this,R)),h.push(B.labelPointStyle.call(this,R)),y.push(B.labelTextColor.call(this,R))}),this.labelColors=l,this.labelPointStyles=h,this.labelTextColors=y,this.dataPoints=D,D}update(t,r){const o=this.options.setContext(this.getContext()),l=this._active;let h,y=[];if(!l.length)this.opacity!==0&&(h={opacity:0});else{const D=positioners$1[o.position].call(this,l,this._eventPosition);y=this._createItems(o),this.title=this.getTitle(y,o),this.beforeBody=this.getBeforeBody(y,o),this.body=this.getBody(y,o),this.afterBody=this.getAfterBody(y,o),this.footer=this.getFooter(y,o);const O=this._size=getTooltipSize(this,o),F=Object.assign({},D,O),R=determineAlignment(this.chart,o,F),B=getBackgroundPoint(o,F,R,this.chart);this.xAlign=R.xAlign,this.yAlign=R.yAlign,h={opacity:1,x:B.x,y:B.y,width:O.width,height:O.height,caretX:D.x,caretY:D.y}}this._tooltipItems=y,this.$context=void 0,h&&this._resolveAnimations().update(this,h),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,o,l){const h=this.getCaretPosition(t,o,l);r.lineTo(h.x1,h.y1),r.lineTo(h.x2,h.y2),r.lineTo(h.x3,h.y3)}getCaretPosition(t,r,o){const{xAlign:l,yAlign:h}=this,{caretSize:y,cornerRadius:D}=o,{topLeft:O,topRight:F,bottomLeft:R,bottomRight:B}=toTRBLCorners(D),{x:j,y:q}=t,{width:U,height:W}=r;let G,Y,X,K,Q,J;return h==="center"?(Q=q+W/2,l==="left"?(G=j,Y=G-y,K=Q+y,J=Q-y):(G=j+U,Y=G+y,K=Q-y,J=Q+y),X=G):(l==="left"?Y=j+Math.max(O,R)+y:l==="right"?Y=j+U-Math.max(F,B)-y:Y=this.caretX,h==="top"?(K=q,Q=K-y,G=Y-y,X=Y+y):(K=q+W,Q=K+y,G=Y+y,X=Y-y),J=K),{x1:G,x2:Y,x3:X,y1:K,y2:Q,y3:J}}drawTitle(t,r,o){const l=this.title,h=l.length;let y,D,O;if(h){const F=getRtlAdapter(o.rtl,this.x,this.width);for(t.x=getAlignedX(this,o.titleAlign,o),r.textAlign=F.textAlign(o.titleAlign),r.textBaseline="middle",y=toFont(o.titleFont),D=o.titleSpacing,r.fillStyle=o.titleColor,r.font=y.string,O=0;O<h;++O)r.fillText(l[O],F.x(t.x),t.y+y.lineHeight/2),t.y+=y.lineHeight+D,O+1===h&&(t.y+=o.titleMarginBottom-D)}}_drawColorBox(t,r,o,l,h){const y=this.labelColors[o],D=this.labelPointStyles[o],{boxHeight:O,boxWidth:F,boxPadding:R}=h,B=toFont(h.bodyFont),j=getAlignedX(this,"left",h),q=l.x(j),U=O<B.lineHeight?(B.lineHeight-O)/2:0,W=r.y+U;if(h.usePointStyle){const G={radius:Math.min(F,O)/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:1},Y=l.leftForLtr(q,F)+F/2,X=W+O/2;t.strokeStyle=h.multiKeyBackground,t.fillStyle=h.multiKeyBackground,drawPoint(t,G,Y,X),t.strokeStyle=y.borderColor,t.fillStyle=y.backgroundColor,drawPoint(t,G,Y,X)}else{t.lineWidth=y.borderWidth||1,t.strokeStyle=y.borderColor,t.setLineDash(y.borderDash||[]),t.lineDashOffset=y.borderDashOffset||0;const G=l.leftForLtr(q,F-R),Y=l.leftForLtr(l.xPlus(q,1),F-R-2),X=toTRBLCorners(y.borderRadius);Object.values(X).some(K=>K!==0)?(t.beginPath(),t.fillStyle=h.multiKeyBackground,addRoundedRectPath(t,{x:G,y:W,w:F,h:O,radius:X}),t.fill(),t.stroke(),t.fillStyle=y.backgroundColor,t.beginPath(),addRoundedRectPath(t,{x:Y,y:W+1,w:F-2,h:O-2,radius:X}),t.fill()):(t.fillStyle=h.multiKeyBackground,t.fillRect(G,W,F,O),t.strokeRect(G,W,F,O),t.fillStyle=y.backgroundColor,t.fillRect(Y,W+1,F-2,O-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,r,o){const{body:l}=this,{bodySpacing:h,bodyAlign:y,displayColors:D,boxHeight:O,boxWidth:F,boxPadding:R}=o,B=toFont(o.bodyFont);let j=B.lineHeight,q=0;const U=getRtlAdapter(o.rtl,this.x,this.width),W=function(Z){r.fillText(Z,U.x(t.x+q),t.y+j/2),t.y+=j+h},G=U.textAlign(y);let Y,X,K,Q,J,et,nt;for(r.textAlign=y,r.textBaseline="middle",r.font=B.string,t.x=getAlignedX(this,G,o),r.fillStyle=o.bodyColor,each(this.beforeBody,W),q=D&&G!=="right"?y==="center"?F/2+R:F+2+R:0,Q=0,et=l.length;Q<et;++Q){for(Y=l[Q],X=this.labelTextColors[Q],r.fillStyle=X,each(Y.before,W),K=Y.lines,D&&K.length&&(this._drawColorBox(r,t,Q,U,o),j=Math.max(B.lineHeight,O)),J=0,nt=K.length;J<nt;++J)W(K[J]),j=B.lineHeight;each(Y.after,W)}q=0,j=B.lineHeight,each(this.afterBody,W),t.y-=h}drawFooter(t,r,o){const l=this.footer,h=l.length;let y,D;if(h){const O=getRtlAdapter(o.rtl,this.x,this.width);for(t.x=getAlignedX(this,o.footerAlign,o),t.y+=o.footerMarginTop,r.textAlign=O.textAlign(o.footerAlign),r.textBaseline="middle",y=toFont(o.footerFont),r.fillStyle=o.footerColor,r.font=y.string,D=0;D<h;++D)r.fillText(l[D],O.x(t.x),t.y+y.lineHeight/2),t.y+=y.lineHeight+o.footerSpacing}}drawBackground(t,r,o,l){const{xAlign:h,yAlign:y}=this,{x:D,y:O}=t,{width:F,height:R}=o,{topLeft:B,topRight:j,bottomLeft:q,bottomRight:U}=toTRBLCorners(l.cornerRadius);r.fillStyle=l.backgroundColor,r.strokeStyle=l.borderColor,r.lineWidth=l.borderWidth,r.beginPath(),r.moveTo(D+B,O),y==="top"&&this.drawCaret(t,r,o,l),r.lineTo(D+F-j,O),r.quadraticCurveTo(D+F,O,D+F,O+j),y==="center"&&h==="right"&&this.drawCaret(t,r,o,l),r.lineTo(D+F,O+R-U),r.quadraticCurveTo(D+F,O+R,D+F-U,O+R),y==="bottom"&&this.drawCaret(t,r,o,l),r.lineTo(D+q,O+R),r.quadraticCurveTo(D,O+R,D,O+R-q),y==="center"&&h==="left"&&this.drawCaret(t,r,o,l),r.lineTo(D,O+B),r.quadraticCurveTo(D,O,D+B,O),r.closePath(),r.fill(),l.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,o=this.$animations,l=o&&o.x,h=o&&o.y;if(l||h){const y=positioners$1[t.position].call(this,this._active,this._eventPosition);if(!y)return;const D=this._size=getTooltipSize(this,t),O=Object.assign({},y,this._size),F=determineAlignment(r,t,O),R=getBackgroundPoint(t,O,F,r);(l._to!==R.x||h._to!==R.y)&&(this.xAlign=F.xAlign,this.yAlign=F.yAlign,this.width=D.width,this.height=D.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,R))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(r);const l={width:this.width,height:this.height},h={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const y=toPadding(r.padding),D=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&D&&(t.save(),t.globalAlpha=o,this.drawBackground(h,t,l,r),overrideTextDirection(t,r.textDirection),h.y+=y.top,this.drawTitle(h,t,r),this.drawBody(h,t,r),this.drawFooter(h,t,r),restoreTextDirection(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const o=this._active,l=t.map(({datasetIndex:D,index:O})=>{const F=this.chart.getDatasetMeta(D);if(!F)throw new Error("Cannot find a dataset at index "+D);return{datasetIndex:D,element:F.data[O],index:O}}),h=!_elementsEqual(o,l),y=this._positionChanged(l,r);(h||y)&&(this._active=l,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,o=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,h=this._active||[],y=this._getActiveElements(t,h,r,o),D=this._positionChanged(y,t),O=r||!_elementsEqual(y,h)||D;return O&&(this._active=y,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),O}_getActiveElements(t,r,o,l){const h=this.options;if(t.type==="mouseout")return[];if(!l)return r;const y=this.chart.getElementsAtEventForMode(t,h.mode,h,o);return h.reverse&&y.reverse(),y}_positionChanged(t,r){const{caretX:o,caretY:l,options:h}=this,y=positioners$1[h.position].call(this,t,r);return y!==!1&&(o!==y.x||l!==y.y)}}Tooltip.positioners=positioners$1;var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners:positioners$1,afterInit(e,t,r){r&&(e.tooltip=new Tooltip({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",r)===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:noop$1,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,o=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(o>0&&t.dataIndex<o)return r[t.dataIndex]}return""},afterTitle:noop$1,beforeBody:noop$1,beforeLabel:noop$1,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return isNullOrUndef(r)||(t+=r),t},labelColor(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const r=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:noop$1,afterBody:noop$1,beforeFooter:noop$1,footer:noop$1,afterFooter:noop$1}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},plugins=Object.freeze({__proto__:null,Decimation:plugin_decimation,Filler:index,Legend:plugin_legend,SubTitle:plugin_subtitle,Title:plugin_title,Tooltip:plugin_tooltip});const addIfString=(e,t,r,o)=>(typeof t=="string"?(r=e.push(t)-1,o.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function findOrAddLabel(e,t,r,o){const l=e.indexOf(t);if(l===-1)return addIfString(e,t,r,o);const h=e.lastIndexOf(t);return l!==h?r:l}const validIndex=(e,t)=>e===null?null:_limitValue(Math.round(e),0,t);class CategoryScale extends Scale{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const o=this.getLabels();for(const{index:l,label:h}of r)o[l]===h&&o.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(isNullOrUndef(t))return null;const o=this.getLabels();return r=isFinite(r)&&o[r]===t?r:findOrAddLabel(o,t,valueOrDefault(r,t),this._addedLabels),validIndex(r,o.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(o=0),r||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const t=this.min,r=this.max,o=this.options.offset,l=[];let h=this.getLabels();h=t===0&&r===h.length-1?h:h.slice(t,r+1),this._valueRange=Math.max(h.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let y=t;y<=r;y++)l.push({value:y});return l}getLabelForValue(t){const r=this.getLabels();return t>=0&&t<r.length?r[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}CategoryScale.id="category";CategoryScale.defaults={ticks:{callback:CategoryScale.prototype.getLabelForValue}};function generateTicks$1(e,t){const r=[],{bounds:l,step:h,min:y,max:D,precision:O,count:F,maxTicks:R,maxDigits:B,includeBounds:j}=e,q=h||1,U=R-1,{min:W,max:G}=t,Y=!isNullOrUndef(y),X=!isNullOrUndef(D),K=!isNullOrUndef(F),Q=(G-W)/(B+1);let J=niceNum((G-W)/U/q)*q,et,nt,Z,it;if(J<1e-14&&!Y&&!X)return[{value:W},{value:G}];it=Math.ceil(G/J)-Math.floor(W/J),it>U&&(J=niceNum(it*J/U/q)*q),isNullOrUndef(O)||(et=Math.pow(10,O),J=Math.ceil(J*et)/et),l==="ticks"?(nt=Math.floor(W/J)*J,Z=Math.ceil(G/J)*J):(nt=W,Z=G),Y&&X&&h&&almostWhole((D-y)/h,J/1e3)?(it=Math.round(Math.min((D-y)/J,R)),J=(D-y)/it,nt=y,Z=D):K?(nt=Y?y:nt,Z=X?D:Z,it=F-1,J=(Z-nt)/it):(it=(Z-nt)/J,almostEquals(it,Math.round(it),J/1e3)?it=Math.round(it):it=Math.ceil(it));const rt=Math.max(_decimalPlaces(J),_decimalPlaces(nt));et=Math.pow(10,isNullOrUndef(O)?rt:O),nt=Math.round(nt*et)/et,Z=Math.round(Z*et)/et;let tt=0;for(Y&&(j&&nt!==y?(r.push({value:y}),nt<y&&tt++,almostEquals(Math.round((nt+tt*J)*et)/et,y,relativeLabelSize(y,Q,e))&&tt++):nt<y&&tt++);tt<it;++tt)r.push({value:Math.round((nt+tt*J)*et)/et});return X&&j&&Z!==D?r.length&&almostEquals(r[r.length-1].value,D,relativeLabelSize(D,Q,e))?r[r.length-1].value=D:r.push({value:D}):(!X||Z===D)&&r.push({value:Z}),r}function relativeLabelSize(e,t,{horizontal:r,minRotation:o}){const l=toRadians(o),h=(r?Math.sin(l):Math.cos(l))||.001,y=.75*t*(""+e).length;return Math.min(t/h,y)}class LinearScaleBase extends Scale{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return isNullOrUndef(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:o}=this.getUserBounds();let{min:l,max:h}=this;const y=O=>l=r?l:O,D=O=>h=o?h:O;if(t){const O=sign(l),F=sign(h);O<0&&F<0?D(0):O>0&&F>0&&y(0)}if(l===h){let O=1;(h>=Number.MAX_SAFE_INTEGER||l<=Number.MIN_SAFE_INTEGER)&&(O=Math.abs(h*.05)),D(h+O),t||y(l-O)}this.min=l,this.max=h}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:o}=t,l;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),r=r||11),r&&(l=Math.min(r,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let o=this.getTickLimit();o=Math.max(2,o);const l={maxTicks:o,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},h=this._range||this,y=generateTicks$1(l,h);return t.bounds==="ticks"&&_setMinAndMaxByKey(y,this,"value"),t.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const t=this.ticks;let r=this.min,o=this.max;if(super.configure(),this.options.offset&&t.length){const l=(o-r)/Math.max(t.length-1,1)/2;r-=l,o+=l}this._startValue=r,this._endValue=o,this._valueRange=o-r}getLabelForValue(t){return formatNumber(t,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=isNumberFinite(t)?t:0,this.max=isNumberFinite(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,o=toRadians(this.options.ticks.minRotation),l=(t?Math.sin(o):Math.cos(o))||.001,h=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,h.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}LinearScale.id="linear";LinearScale.defaults={ticks:{callback:Ticks.formatters.numeric}};function isMajor(e){return e/Math.pow(10,Math.floor(log10(e)))===1}function generateTicks(e,t){const r=Math.floor(log10(t.max)),o=Math.ceil(t.max/Math.pow(10,r)),l=[];let h=finiteOrDefault(e.min,Math.pow(10,Math.floor(log10(t.min)))),y=Math.floor(log10(h)),D=Math.floor(h/Math.pow(10,y)),O=y<0?Math.pow(10,Math.abs(y)):1;do l.push({value:h,major:isMajor(h)}),++D,D===10&&(D=1,++y,O=y>=0?1:O),h=Math.round(D*Math.pow(10,y)*O)/O;while(y<r||y===r&&D<o);const F=finiteOrDefault(e.max,h);return l.push({value:F,major:isMajor(h)}),l}class LogarithmicScale extends Scale{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,r){const o=LinearScaleBase.prototype.parse.apply(this,[t,r]);if(o===0){this._zero=!0;return}return isNumberFinite(o)&&o>0?o:null}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=isNumberFinite(t)?Math.max(0,t):null,this.max=isNumberFinite(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let o=this.min,l=this.max;const h=O=>o=t?o:O,y=O=>l=r?l:O,D=(O,F)=>Math.pow(10,Math.floor(log10(O))+F);o===l&&(o<=0?(h(1),y(10)):(h(D(o,-1)),y(D(l,1)))),o<=0&&h(D(l,-1)),l<=0&&y(D(o,1)),this._zero&&this.min!==this._suggestedMin&&o===D(this.min,0)&&h(D(o,-1)),this.min=o,this.max=l}buildTicks(){const t=this.options,r={min:this._userMin,max:this._userMax},o=generateTicks(r,this);return t.bounds==="ticks"&&_setMinAndMaxByKey(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(t){return t===void 0?"0":formatNumber(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=log10(t),this._valueRange=log10(this.max)-log10(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(log10(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const r=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+r*this._valueRange)}}LogarithmicScale.id="logarithmic";LogarithmicScale.defaults={ticks:{callback:Ticks.formatters.logarithmic,major:{enabled:!0}}};function getTickBackdropHeight(e){const t=e.ticks;if(t.display&&e.display){const r=toPadding(t.backdropPadding);return valueOrDefault(t.font&&t.font.size,defaults$1.font.size)+r.height}return 0}function measureLabelSize(e,t,r){return r=isArray(r)?r:[r],{w:_longestText(e,t.string,r),h:r.length*t.lineHeight}}function determineLimits(e,t,r,o,l){return e===o||e===l?{start:t-r/2,end:t+r/2}:e<o||e>l?{start:t-r,end:t}:{start:t,end:t+r}}function fitWithPointLabels(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),o=[],l=[],h=e._pointLabels.length,y=e.options.pointLabels,D=y.centerPointLabels?PI/h:0;for(let O=0;O<h;O++){const F=y.setContext(e.getPointLabelContext(O));l[O]=F.padding;const R=e.getPointPosition(O,e.drawingArea+l[O],D),B=toFont(F.font),j=measureLabelSize(e.ctx,B,e._pointLabels[O]);o[O]=j;const q=_normalizeAngle(e.getIndexAngle(O)+D),U=Math.round(toDegrees(q)),W=determineLimits(U,R.x,j.w,0,180),G=determineLimits(U,R.y,j.h,90,270);updateLimits(r,t,q,W,G)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=buildPointLabelItems(e,o,l)}function updateLimits(e,t,r,o,l){const h=Math.abs(Math.sin(r)),y=Math.abs(Math.cos(r));let D=0,O=0;o.start<t.l?(D=(t.l-o.start)/h,e.l=Math.min(e.l,t.l-D)):o.end>t.r&&(D=(o.end-t.r)/h,e.r=Math.max(e.r,t.r+D)),l.start<t.t?(O=(t.t-l.start)/y,e.t=Math.min(e.t,t.t-O)):l.end>t.b&&(O=(l.end-t.b)/y,e.b=Math.max(e.b,t.b+O))}function buildPointLabelItems(e,t,r){const o=[],l=e._pointLabels.length,h=e.options,y=getTickBackdropHeight(h)/2,D=e.drawingArea,O=h.pointLabels.centerPointLabels?PI/l:0;for(let F=0;F<l;F++){const R=e.getPointPosition(F,D+y+r[F],O),B=Math.round(toDegrees(_normalizeAngle(R.angle+HALF_PI))),j=t[F],q=yForAngle(R.y,j.h,B),U=getTextAlignForAngle(B),W=leftForTextAlign(R.x,j.w,U);o.push({x:R.x,y:q,textAlign:U,left:W,top:q,right:W+j.w,bottom:q+j.h})}return o}function getTextAlignForAngle(e){return e===0||e===180?"center":e<180?"left":"right"}function leftForTextAlign(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function yForAngle(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function drawPointLabels(e,t){const{ctx:r,options:{pointLabels:o}}=e;for(let l=t-1;l>=0;l--){const h=o.setContext(e.getPointLabelContext(l)),y=toFont(h.font),{x:D,y:O,textAlign:F,left:R,top:B,right:j,bottom:q}=e._pointLabelItems[l],{backdropColor:U}=h;if(!isNullOrUndef(U)){const W=toTRBLCorners(h.borderRadius),G=toPadding(h.backdropPadding);r.fillStyle=U;const Y=R-G.left,X=B-G.top,K=j-R+G.width,Q=q-B+G.height;Object.values(W).some(J=>J!==0)?(r.beginPath(),addRoundedRectPath(r,{x:Y,y:X,w:K,h:Q,radius:W}),r.fill()):r.fillRect(Y,X,K,Q)}renderText(r,e._pointLabels[l],D,O+y.lineHeight/2,y,{color:h.color,textAlign:F,textBaseline:"middle"})}}function pathRadiusLine(e,t,r,o){const{ctx:l}=e;if(r)l.arc(e.xCenter,e.yCenter,t,0,TAU);else{let h=e.getPointPosition(0,t);l.moveTo(h.x,h.y);for(let y=1;y<o;y++)h=e.getPointPosition(y,t),l.lineTo(h.x,h.y)}}function drawRadiusLine(e,t,r,o){const l=e.ctx,h=t.circular,{color:y,lineWidth:D}=t;!h&&!o||!y||!D||r<0||(l.save(),l.strokeStyle=y,l.lineWidth=D,l.setLineDash(t.borderDash),l.lineDashOffset=t.borderDashOffset,l.beginPath(),pathRadiusLine(e,r,h,o),l.closePath(),l.stroke(),l.restore())}function createPointLabelContext(e,t,r){return createContext(e,{label:r,index:t,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=toPadding(getTickBackdropHeight(this.options)/2),r=this.width=this.maxWidth-t.width,o=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+o/2+t.top),this.drawingArea=Math.floor(Math.min(r,o)/2)}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!1);this.min=isNumberFinite(t)&&!isNaN(t)?t:0,this.max=isNumberFinite(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(t){LinearScaleBase.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,o)=>{const l=callback(this.options.pointLabels.callback,[r,o],this);return l||l===0?l:""}).filter((r,o)=>this.chart.getDataVisibility(o))}fit(){const t=this.options;t.display&&t.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,o,l){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((o-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,o,l))}getIndexAngle(t){const r=TAU/(this._pointLabels.length||1),o=this.options.startAngle||0;return _normalizeAngle(t*r+toRadians(o))}getDistanceFromCenterForValue(t){if(isNullOrUndef(t))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(isNullOrUndef(t))return NaN;const r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){const r=this._pointLabels||[];if(t>=0&&t<r.length){const o=r[t];return createPointLabelContext(this.getContext(),t,o)}}getPointPosition(t,r,o=0){const l=this.getIndexAngle(t)-HALF_PI+o;return{x:Math.cos(l)*r+this.xCenter,y:Math.sin(l)*r+this.yCenter,angle:l}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:r,top:o,right:l,bottom:h}=this._pointLabelItems[t];return{left:r,top:o,right:l,bottom:h}}drawBackground(){const{backgroundColor:t,grid:{circular:r}}=this.options;if(t){const o=this.ctx;o.save(),o.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),o.closePath(),o.fillStyle=t,o.fill(),o.restore()}}drawGrid(){const t=this.ctx,r=this.options,{angleLines:o,grid:l}=r,h=this._pointLabels.length;let y,D,O;if(r.pointLabels.display&&drawPointLabels(this,h),l.display&&this.ticks.forEach((F,R)=>{if(R!==0){D=this.getDistanceFromCenterForValue(F.value);const B=l.setContext(this.getContext(R-1));drawRadiusLine(this,B,D,h)}}),o.display){for(t.save(),y=h-1;y>=0;y--){const F=o.setContext(this.getPointLabelContext(y)),{color:R,lineWidth:B}=F;!B||!R||(t.lineWidth=B,t.strokeStyle=R,t.setLineDash(F.borderDash),t.lineDashOffset=F.borderDashOffset,D=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),O=this.getPointPosition(y,D),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(O.x,O.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,r=this.options,o=r.ticks;if(!o.display)return;const l=this.getIndexAngle(0);let h,y;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(l),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((D,O)=>{if(O===0&&!r.reverse)return;const F=o.setContext(this.getContext(O)),R=toFont(F.font);if(h=this.getDistanceFromCenterForValue(this.ticks[O].value),F.showLabelBackdrop){t.font=R.string,y=t.measureText(D.label).width,t.fillStyle=F.backdropColor;const B=toPadding(F.backdropPadding);t.fillRect(-y/2-B.left,-h-R.size/2-B.top,y+B.width,R.size+B.height)}renderText(t,D.label,0,-h,R,{color:F.color})}),t.restore()}drawTitle(){}}RadialLinearScale.id="radialLinear";RadialLinearScale.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};RadialLinearScale.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};RadialLinearScale.descriptors={angleLines:{_fallback:"grid"}};const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(e,t){return e-t}function parse$1(e,t){if(isNullOrUndef(t))return null;const r=e._adapter,{parser:o,round:l,isoWeekday:h}=e._parseOpts;let y=t;return typeof o=="function"&&(y=o(y)),isNumberFinite(y)||(y=typeof o=="string"?r.parse(y,o):r.parse(y)),y===null?null:(l&&(y=l==="week"&&(isNumber(h)||h===!0)?r.startOf(y,"isoWeek",h):r.startOf(y,l)),+y)}function determineUnitForAutoTicks(e,t,r,o){const l=UNITS.length;for(let h=UNITS.indexOf(e);h<l-1;++h){const y=INTERVALS[UNITS[h]],D=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((r-t)/(D*y.size))<=o)return UNITS[h]}return UNITS[l-1]}function determineUnitForFormatting(e,t,r,o,l){for(let h=UNITS.length-1;h>=UNITS.indexOf(r);h--){const y=UNITS[h];if(INTERVALS[y].common&&e._adapter.diff(l,o,y)>=t-1)return y}return UNITS[r?UNITS.indexOf(r):0]}function determineMajorUnit(e){for(let t=UNITS.indexOf(e)+1,r=UNITS.length;t<r;++t)if(INTERVALS[UNITS[t]].common)return UNITS[t]}function addTick(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:o,hi:l}=_lookup(r,t),h=r[o]>=t?r[o]:r[l];e[h]=!0}}function setMajorTicks(e,t,r,o){const l=e._adapter,h=+l.startOf(t[0].value,o),y=t[t.length-1].value;let D,O;for(D=h;D<=y;D=+l.add(D,1,o))O=r[D],O>=0&&(t[O].major=!0);return t}function ticksFromTimestamps(e,t,r){const o=[],l={},h=t.length;let y,D;for(y=0;y<h;++y)D=t[y],l[D]=y,o.push({value:D,major:!1});return h===0||!r?o:setMajorTicks(e,o,l,r)}class TimeScale extends Scale{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r){const o=t.time||(t.time={}),l=this._adapter=new adapters._date(t.adapters.date);mergeIf(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:parse$1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,o=t.time.unit||"day";let{min:l,max:h,minDefined:y,maxDefined:D}=this.getUserBounds();function O(F){!y&&!isNaN(F.min)&&(l=Math.min(l,F.min)),!D&&!isNaN(F.max)&&(h=Math.max(h,F.max))}(!y||!D)&&(O(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&O(this.getMinMax(!1))),l=isNumberFinite(l)&&!isNaN(l)?l:+r.startOf(Date.now(),o),h=isNumberFinite(h)&&!isNaN(h)?h:+r.endOf(Date.now(),o)+1,this.min=Math.min(l,h-1),this.max=Math.max(l+1,h)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],o=t[t.length-1]),{min:r,max:o}}buildTicks(){const t=this.options,r=t.time,o=t.ticks,l=o.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const h=this.min,y=this.max,D=_filterBetween(l,h,y);return this._unit=r.unit||(o.autoSkip?determineUnitForAutoTicks(r.minUnit,this.min,this.max,this._getLabelCapacity(h)):determineUnitForFormatting(this,D.length,r.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(l),t.reverse&&D.reverse(),ticksFromTimestamps(this,D,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let r=0,o=0,l,h;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?r=1-l:r=(this.getDecimalForValue(t[1])-l)/2,h=this.getDecimalForValue(t[t.length-1]),t.length===1?o=h:o=(h-this.getDecimalForValue(t[t.length-2]))/2);const y=t.length<3?.5:.25;r=_limitValue(r,0,y),o=_limitValue(o,0,y),this._offsets={start:r,end:o,factor:1/(r+1+o)}}_generate(){const t=this._adapter,r=this.min,o=this.max,l=this.options,h=l.time,y=h.unit||determineUnitForAutoTicks(h.minUnit,r,o,this._getLabelCapacity(r)),D=valueOrDefault(h.stepSize,1),O=y==="week"?h.isoWeekday:!1,F=isNumber(O)||O===!0,R={};let B=r,j,q;if(F&&(B=+t.startOf(B,"isoWeek",O)),B=+t.startOf(B,F?"day":y),t.diff(o,r,y)>1e5*D)throw new Error(r+" and "+o+" are too far apart with stepSize of "+D+" "+y);const U=l.ticks.source==="data"&&this.getDataTimestamps();for(j=B,q=0;j<o;j=+t.add(j,D,y),q++)addTick(R,j,U);return(j===o||l.bounds==="ticks"||q===1)&&addTick(R,j,U),Object.keys(R).sort((W,G)=>W-G).map(W=>+W)}getLabelForValue(t){const r=this._adapter,o=this.options.time;return o.tooltipFormat?r.format(t,o.tooltipFormat):r.format(t,o.displayFormats.datetime)}_tickFormatFunction(t,r,o,l){const h=this.options,y=h.time.displayFormats,D=this._unit,O=this._majorUnit,F=D&&y[D],R=O&&y[O],B=o[r],j=O&&R&&B&&B.major,q=this._adapter.format(t,l||(j?R:F)),U=h.ticks.callback;return U?callback(U,[q,r,o],this):q}generateTickLabels(t){let r,o,l;for(r=0,o=t.length;r<o;++r)l=t[r],l.label=this._tickFormatFunction(l.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+o)*r.factor)}getValueForPixel(t){const r=this._offsets,o=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,o=this.ctx.measureText(t).width,l=toRadians(this.isHorizontal()?r.maxRotation:r.minRotation),h=Math.cos(l),y=Math.sin(l),D=this._resolveTickFontOptions(0).size;return{w:o*h+D*y,h:o*y+D*h}}_getLabelCapacity(t){const r=this.options.time,o=r.displayFormats,l=o[r.unit]||o.millisecond,h=this._tickFormatFunction(t,0,ticksFromTimestamps(this,[t],this._majorUnit),l),y=this._getLabelSize(h),D=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return D>0?D:1}getDataTimestamps(){let t=this._cache.data||[],r,o;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(r=0,o=l.length;r<o;++r)t=t.concat(l[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,o;if(t.length)return t;const l=this.getLabels();for(r=0,o=l.length;r<o;++r)t.push(parse$1(this,l[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return _arrayUnique(t.sort(sorter))}}TimeScale.id="time";TimeScale.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function interpolate(e,t,r){let o=0,l=e.length-1,h,y,D,O;r?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=_lookupByKey(e,"pos",t)),{pos:h,time:D}=e[o],{pos:y,time:O}=e[l]):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=_lookupByKey(e,"time",t)),{time:h,pos:D}=e[o],{time:y,pos:O}=e[l]);const F=y-h;return F?D+(O-D)*(t-h)/F:D}class TimeSeriesScale extends TimeScale{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=interpolate(r,this.min),this._tableRange=interpolate(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:o}=this,l=[],h=[];let y,D,O,F,R;for(y=0,D=t.length;y<D;++y)F=t[y],F>=r&&F<=o&&l.push(F);if(l.length<2)return[{time:r,pos:0},{time:o,pos:1}];for(y=0,D=l.length;y<D;++y)R=l[y+1],O=l[y-1],F=l[y],Math.round((R+O)/2)!==F&&h.push({time:F,pos:y/(D-1)});return h}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),o=this.getLabelTimestamps();return r.length&&o.length?t=this.normalize(r.concat(o)):t=r.length?r:o,t=this._cache.all=t,t}getDecimalForValue(t){return(interpolate(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,o=this.getDecimalForPixel(t)/r.factor-r.end;return interpolate(this._table,o*this._tableRange+this._minPos,!0)}}TimeSeriesScale.id="timeseries";TimeSeriesScale.defaults=TimeScale.defaults;var scales=Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale});const registerables=[controllers,elements,plugins,scales];Chart.register(...registerables);/*!
 * chartjs-plugin-datalabels v2.0.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2021 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var devicePixelRatio=function(){if(typeof window!="undefined"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),utils={toTextLines:function(e){var t=[],r;for(e=[].concat(e);e.length;)r=e.pop(),typeof r=="string"?t.unshift.apply(t,r.split(`
`)):Array.isArray(r)?e.push.apply(e,r):isNullOrUndef(e)||t.unshift(""+r);return t},textSize:function(e,t,r){var o=[].concat(t),l=o.length,h=e.font,y=0,D;for(e.font=r.string,D=0;D<l;++D)y=Math.max(e.measureText(o[D]).width,y);return e.font=h,{height:l*r.lineHeight,width:y}},bound:function(e,t,r){return Math.max(e,Math.min(t,r))},arrayDiff:function(e,t){var r=e.slice(),o=[],l,h,y,D;for(l=0,y=t.length;l<y;++l)D=t[l],h=r.indexOf(D),h===-1?o.push([D,1]):r.splice(h,1);for(l=0,y=r.length;l<y;++l)o.push([r[l],-1]);return o},rasterize:function(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}};function orient(e,t){var r=t.x,o=t.y;if(r===null)return{x:0,y:-1};if(o===null)return{x:1,y:0};var l=e.x-r,h=e.y-o,y=Math.sqrt(l*l+h*h);return{x:y?l/y:0,y:y?h/y:-1}}function aligned(e,t,r,o,l){switch(l){case"center":r=o=0;break;case"bottom":r=0,o=1;break;case"right":r=1,o=0;break;case"left":r=-1,o=0;break;case"top":r=0,o=-1;break;case"start":r=-r,o=-o;break;case"end":break;default:l*=Math.PI/180,r=Math.cos(l),o=Math.sin(l);break}return{x:e,y:t,vx:r,vy:o}}var R_INSIDE=0,R_LEFT=1,R_RIGHT=2,R_BOTTOM=4,R_TOP=8;function region(e,t,r){var o=R_INSIDE;return e<r.left?o|=R_LEFT:e>r.right&&(o|=R_RIGHT),t<r.top?o|=R_TOP:t>r.bottom&&(o|=R_BOTTOM),o}function clipped(e,t){for(var r=e.x0,o=e.y0,l=e.x1,h=e.y1,y=region(r,o,t),D=region(l,h,t),O,F,R;!(!(y|D)||y&D);)O=y||D,O&R_TOP?(F=r+(l-r)*(t.top-o)/(h-o),R=t.top):O&R_BOTTOM?(F=r+(l-r)*(t.bottom-o)/(h-o),R=t.bottom):O&R_RIGHT?(R=o+(h-o)*(t.right-r)/(l-r),F=t.right):O&R_LEFT&&(R=o+(h-o)*(t.left-r)/(l-r),F=t.left),O===y?(r=F,o=R,y=region(r,o,t)):(l=F,h=R,D=region(l,h,t));return{x0:r,x1:l,y0:o,y1:h}}function compute$1(e,t){var r=t.anchor,o=e,l,h;return t.clamp&&(o=clipped(o,t.area)),r==="start"?(l=o.x0,h=o.y0):r==="end"?(l=o.x1,h=o.y1):(l=(o.x0+o.x1)/2,h=(o.y0+o.y1)/2),aligned(l,h,e.vx,e.vy,t.align)}var positioners={arc:function(e,t){var r=(e.startAngle+e.endAngle)/2,o=Math.cos(r),l=Math.sin(r),h=e.innerRadius,y=e.outerRadius;return compute$1({x0:e.x+o*h,y0:e.y+l*h,x1:e.x+o*y,y1:e.y+l*y,vx:o,vy:l},t)},point:function(e,t){var r=orient(e,t.origin),o=r.x*e.options.radius,l=r.y*e.options.radius;return compute$1({x0:e.x-o,y0:e.y-l,x1:e.x+o,y1:e.y+l,vx:r.x,vy:r.y},t)},bar:function(e,t){var r=orient(e,t.origin),o=e.x,l=e.y,h=0,y=0;return e.horizontal?(o=Math.min(e.x,e.base),h=Math.abs(e.base-e.x)):(l=Math.min(e.y,e.base),y=Math.abs(e.base-e.y)),compute$1({x0:o,y0:l+y,x1:o+h,y1:l,vx:r.x,vy:r.y},t)},fallback:function(e,t){var r=orient(e,t.origin);return compute$1({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:r.x,vy:r.y},t)}},rasterize=utils.rasterize;function boundingRects(e){var t=e.borderWidth||0,r=e.padding,o=e.size.height,l=e.size.width,h=-l/2,y=-o/2;return{frame:{x:h-r.left-t,y:y-r.top-t,w:l+r.width+t*2,h:o+r.height+t*2},text:{x:h,y,w:l,h:o}}}function getScaleOrigin(e,t){var r=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!r)return null;if(r.xCenter!==void 0&&r.yCenter!==void 0)return{x:r.xCenter,y:r.yCenter};var o=r.getBasePixel();return e.horizontal?{x:o,y:null}:{x:null,y:o}}function getPositioner(e){return e instanceof ArcElement?positioners.arc:e instanceof PointElement?positioners.point:e instanceof BarElement?positioners.bar:positioners.fallback}function drawRoundedRect(e,t,r,o,l,h){var y=Math.PI/2;if(h){var D=Math.min(h,l/2,o/2),O=t+D,F=r+D,R=t+o-D,B=r+l-D;e.moveTo(t,F),O<R&&F<B?(e.arc(O,F,D,-Math.PI,-y),e.arc(R,F,D,-y,0),e.arc(R,B,D,0,y),e.arc(O,B,D,y,Math.PI)):O<R?(e.moveTo(O,r),e.arc(R,F,D,-y,y),e.arc(O,F,D,y,Math.PI+y)):F<B?(e.arc(O,F,D,-Math.PI,0),e.arc(O,B,D,0,Math.PI)):e.arc(O,F,D,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,r)}else e.rect(t,r,o,l)}function drawFrame(e,t,r){var o=r.backgroundColor,l=r.borderColor,h=r.borderWidth;!o&&(!l||!h)||(e.beginPath(),drawRoundedRect(e,rasterize(t.x)+h/2,rasterize(t.y)+h/2,rasterize(t.w)-h,rasterize(t.h)-h,r.borderRadius),e.closePath(),o&&(e.fillStyle=o,e.fill()),l&&h&&(e.strokeStyle=l,e.lineWidth=h,e.lineJoin="miter",e.stroke()))}function textGeometry(e,t,r){var o=r.lineHeight,l=e.w,h=e.x,y=e.y+o/2;return t==="center"?h+=l/2:(t==="end"||t==="right")&&(h+=l),{h:o,w:l,x:h,y}}function drawTextLine(e,t,r){var o=e.shadowBlur,l=r.stroked,h=rasterize(r.x),y=rasterize(r.y),D=rasterize(r.w);l&&e.strokeText(t,h,y,D),r.filled&&(o&&l&&(e.shadowBlur=0),e.fillText(t,h,y,D),o&&l&&(e.shadowBlur=o))}function drawText(e,t,r,o){var l=o.textAlign,h=o.color,y=!!h,D=o.font,O=t.length,F=o.textStrokeColor,R=o.textStrokeWidth,B=F&&R,j;if(!(!O||!y&&!B))for(r=textGeometry(r,l,D),e.font=D.string,e.textAlign=l,e.textBaseline="middle",e.shadowBlur=o.textShadowBlur,e.shadowColor=o.textShadowColor,y&&(e.fillStyle=h),B&&(e.lineJoin="round",e.lineWidth=R,e.strokeStyle=F),j=0,O=t.length;j<O;++j)drawTextLine(e,t[j],{stroked:B,filled:y,w:r.w,x:r.x,y:r.y+r.h*j})}var Label=function(e,t,r,o){var l=this;l._config=e,l._index=o,l._model=null,l._rects=null,l._ctx=t,l._el=r};merge(Label.prototype,{_modelize:function(e,t,r,o){var l=this,h=l._index,y=toFont(resolve([r.font,{}],o,h)),D=resolve([r.color,defaults$1.color],o,h);return{align:resolve([r.align,"center"],o,h),anchor:resolve([r.anchor,"center"],o,h),area:o.chart.chartArea,backgroundColor:resolve([r.backgroundColor,null],o,h),borderColor:resolve([r.borderColor,null],o,h),borderRadius:resolve([r.borderRadius,0],o,h),borderWidth:resolve([r.borderWidth,0],o,h),clamp:resolve([r.clamp,!1],o,h),clip:resolve([r.clip,!1],o,h),color:D,display:e,font:y,lines:t,offset:resolve([r.offset,0],o,h),opacity:resolve([r.opacity,1],o,h),origin:getScaleOrigin(l._el,o),padding:toPadding(resolve([r.padding,0],o,h)),positioner:getPositioner(l._el),rotation:resolve([r.rotation,0],o,h)*(Math.PI/180),size:utils.textSize(l._ctx,t,y),textAlign:resolve([r.textAlign,"start"],o,h),textShadowBlur:resolve([r.textShadowBlur,0],o,h),textShadowColor:resolve([r.textShadowColor,D],o,h),textStrokeColor:resolve([r.textStrokeColor,D],o,h),textStrokeWidth:resolve([r.textStrokeWidth,0],o,h)}},update:function(e){var t=this,r=null,o=null,l=t._index,h=t._config,y,D,O,F=resolve([h.display,!0],e,l);F&&(y=e.dataset.data[l],D=valueOrDefault(callback(h.formatter,[y,e]),y),O=isNullOrUndef(D)?[]:utils.toTextLines(D),O.length&&(r=t._modelize(F,O,h,e),o=boundingRects(r))),t._model=r,t._rects=o},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var r=this,o=e.ctx,l=r._model,h=r._rects,y;!this.visible()||(o.save(),l.clip&&(y=l.area,o.beginPath(),o.rect(y.left,y.top,y.right-y.left,y.bottom-y.top),o.clip()),o.globalAlpha=utils.bound(0,l.opacity,1),o.translate(rasterize(t.x),rasterize(t.y)),o.rotate(l.rotation),drawFrame(o,h.frame,l),drawText(o,l.lines,h.text,l),o.restore())}});var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated(e,t,r){var o=Math.cos(r),l=Math.sin(r),h=t.x,y=t.y;return{x:h+o*(e.x-h)-l*(e.y-y),y:y+l*(e.x-h)+o*(e.y-y)}}function projected(e,t){var r=MAX_INTEGER,o=MIN_INTEGER,l=t.origin,h,y,D,O,F;for(h=0;h<e.length;++h)y=e[h],D=y.x-l.x,O=y.y-l.y,F=t.vx*D+t.vy*O,r=Math.min(r,F),o=Math.max(o,F);return{min:r,max:o}}function toAxis(e,t){var r=t.x-e.x,o=t.y-e.y,l=Math.sqrt(r*r+o*o);return{vx:(t.x-e.x)/l,vy:(t.y-e.y)/l,origin:e,ln:l}}var HitBox=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};merge(HitBox.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,r){this._rotation=r,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,r=1,o=t._rect;return e=rotated(e,t.center(),-t._rotation),!(e.x<o.x-r||e.y<o.y-r||e.x>o.x+o.w+r*2||e.y>o.y+o.h+r*2)},intersects:function(e){var t=this._points(),r=e._points(),o=[toAxis(t[0],t[1]),toAxis(t[0],t[3])],l,h,y;for(this._rotation!==e._rotation&&o.push(toAxis(r[0],r[1]),toAxis(r[0],r[3])),l=0;l<o.length;++l)if(h=projected(t,o[l]),y=projected(r,o[l]),h.max<y.min||y.max<h.min)return!1;return!0},_points:function(){var e=this,t=e._rect,r=e._rotation,o=e.center();return[rotated({x:t.x,y:t.y},o,r),rotated({x:t.x+t.w,y:t.y},o,r),rotated({x:t.x+t.w,y:t.y+t.h},o,r),rotated({x:t.x,y:t.y+t.h},o,r)]}});function coordinates(e,t,r){var o=t.positioner(e,t),l=o.vx,h=o.vy;if(!l&&!h)return{x:o.x,y:o.y};var y=r.w,D=r.h,O=t.rotation,F=Math.abs(y/2*Math.cos(O))+Math.abs(D/2*Math.sin(O)),R=Math.abs(y/2*Math.sin(O))+Math.abs(D/2*Math.cos(O)),B=1/Math.max(Math.abs(l),Math.abs(h));return F*=l*B,R*=h*B,F+=t.offset*l,R+=t.offset*h,{x:o.x+F,y:o.y+R}}function collide(e,t){var r,o,l,h;for(r=e.length-1;r>=0;--r)for(l=e[r].$layout,o=r-1;o>=0&&l._visible;--o)h=e[o].$layout,h._visible&&l._box.intersects(h._box)&&t(l,h);return e}function compute(e){var t,r,o,l,h,y,D;for(t=0,r=e.length;t<r;++t)o=e[t],l=o.$layout,l._visible&&(D=new Proxy(o._el,{get:(O,F)=>O.getProps([F],!0)[F]}),h=o.geometry(),y=coordinates(D,o.model(),h),l._box.update(y,h,o.rotation()));return collide(e,function(O,F){var R=O._hidable,B=F._hidable;R&&B||B?F._visible=!1:R&&(O._visible=!1)})}var layout={prepare:function(e){var t=[],r,o,l,h,y;for(r=0,l=e.length;r<l;++r)for(o=0,h=e[r].length;o<h;++o)y=e[r][o],t.push(y),y.$layout={_box:new HitBox,_hidable:!1,_visible:!0,_set:r,_idx:o};return t.sort(function(D,O){var F=D.$layout,R=O.$layout;return F._idx===R._idx?R._set-F._set:R._idx-F._idx}),this.update(t),t},update:function(e){var t=!1,r,o,l,h,y;for(r=0,o=e.length;r<o;++r)l=e[r],h=l.model(),y=l.$layout,y._hidable=h&&h.display==="auto",y._visible=l.visible(),t|=y._hidable;t&&compute(e)},lookup:function(e,t){var r,o;for(r=e.length-1;r>=0;--r)if(o=e[r].$layout,o&&o._visible&&o._box.contains(t))return e[r];return null},draw:function(e,t){var r,o,l,h,y,D;for(r=0,o=t.length;r<o;++r)l=t[r],h=l.$layout,h._visible&&(y=l.geometry(),D=coordinates(l._el,l.model(),y),h._box.update(D,y,l.rotation()),l.draw(e,D))}},formatter=function(e){if(isNullOrUndef(e))return null;var t=e,r,o,l;if(isObject(e))if(!isNullOrUndef(e.label))t=e.label;else if(!isNullOrUndef(e.r))t=e.r;else for(t="",r=Object.keys(e),l=0,o=r.length;l<o;++l)t+=(l!==0?", ":"")+r[l]+": "+e[r[l]];return""+t},defaults={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},EXPANDO_KEY="$datalabels",DEFAULT_KEY="$default";function configure(e,t){var r=e.datalabels,o={},l=[],h,y;return r===!1?null:(r===!0&&(r={}),t=merge({},[t,r]),h=t.labels||{},y=Object.keys(h),delete t.labels,y.length?y.forEach(function(D){h[D]&&l.push(merge({},[t,h[D],{_key:D}]))}):l.push(t),o=l.reduce(function(D,O){return each(O.listeners||{},function(F,R){D[R]=D[R]||{},D[R][O._key||DEFAULT_KEY]=F}),delete O.listeners,D},{}),{labels:l,listeners:o})}function dispatchEvent(e,t,r){if(!!t){var o=r.$context,l=r.$groups,h;!t[l._set]||(h=t[l._set][l._key],!!h&&callback(h,[o])===!0&&(e[EXPANDO_KEY]._dirty=!0,r.update(o)))}}function dispatchMoveEvents(e,t,r,o){var l,h;!r&&!o||(r?o?r!==o&&(h=l=!0):h=!0:l=!0,h&&dispatchEvent(e,t.leave,r),l&&dispatchEvent(e,t.enter,o))}function handleMoveEvents(e,t){var r=e[EXPANDO_KEY],o=r._listeners,l,h;if(!(!o.enter&&!o.leave)){if(t.type==="mousemove")h=layout.lookup(r._labels,t);else if(t.type!=="mouseout")return;l=r._hovered,r._hovered=h,dispatchMoveEvents(e,o,l,h)}}function handleClickEvents(e,t){var r=e[EXPANDO_KEY],o=r._listeners.click,l=o&&layout.lookup(r._labels,t);l&&dispatchEvent(e,o,l)}var plugin={id:"datalabels",defaults,beforeInit:function(e){e[EXPANDO_KEY]={_actives:[]}},beforeUpdate:function(e){var t=e[EXPANDO_KEY];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,r){var o=t.index,l=e[EXPANDO_KEY],h=l._datasets[o]=[],y=e.isDatasetVisible(o),D=e.data.datasets[o],O=configure(D,r),F=t.meta.data||[],R=e.ctx,B,j,q,U,W,G,Y,X;for(R.save(),B=0,q=F.length;B<q;++B)if(Y=F[B],Y[EXPANDO_KEY]=[],y&&Y&&e.getDataVisibility(B)&&!Y.skip)for(j=0,U=O.labels.length;j<U;++j)W=O.labels[j],G=W._key,X=new Label(W,R,Y,B),X.$groups={_set:o,_key:G||DEFAULT_KEY},X.$context={active:!1,chart:e,dataIndex:B,dataset:D,datasetIndex:o},X.update(X.$context),Y[EXPANDO_KEY].push(X),h.push(X);R.restore(),merge(l._listeners,O.listeners,{merger:function(K,Q,J){Q[K]=Q[K]||{},Q[K][t.index]=J[K],l._listened=!0}})},afterUpdate:function(e,t){e[EXPANDO_KEY]._labels=layout.prepare(e[EXPANDO_KEY]._datasets,t)},afterDatasetsDraw:function(e){layout.draw(e,e[EXPANDO_KEY]._labels)},beforeEvent:function(e,t){if(e[EXPANDO_KEY]._listened){var r=t.event;switch(r.type){case"mousemove":case"mouseout":handleMoveEvents(e,r);break;case"click":handleClickEvents(e,r);break}}},afterEvent:function(e){var t=e[EXPANDO_KEY],r=t._actives,o=t._actives=e.getActiveElements(),l=utils.arrayDiff(r,o),h,y,D,O,F,R,B;for(h=0,y=l.length;h<y;++h)if(F=l[h],F[1])for(B=F[0].element[EXPANDO_KEY]||[],D=0,O=B.length;D<O;++D)R=B[D],R.$context.active=F[1]===1,R.update(R.$context);(t._dirty||l.length)&&(layout.update(t._labels),e.render()),delete t._dirty}},commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),t}var noop={value:function(){}};function dispatch$1(){for(var e=0,t=arguments.length,r={},o;e<t;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new Dispatch(r)}function Dispatch(e){this._=e}function parseTypenames(e,t){return e.trim().split(/^|\s+/).map(function(r){var o="",l=r.indexOf(".");if(l>=0&&(o=r.slice(l+1),r=r.slice(0,l)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}Dispatch.prototype=dispatch$1.prototype={constructor:Dispatch,on:function(e,t){var r=this._,o=parseTypenames(e+"",r),l,h=-1,y=o.length;if(arguments.length<2){for(;++h<y;)if((l=(e=o[h]).type)&&(l=get(r[l],e.name)))return l;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++h<y;)if(l=(e=o[h]).type)r[l]=set(r[l],e.name,t);else if(t==null)for(l in r)r[l]=set(r[l],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Dispatch(e)},call:function(e,t){if((l=arguments.length-2)>0)for(var r=new Array(l),o=0,l,h;o<l;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(h=this._[e],o=0,l=h.length;o<l;++o)h[o].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],l=0,h=o.length;l<h;++l)o[l].value.apply(t,r)}};function get(e,t){for(var r=0,o=e.length,l;r<o;++r)if((l=e[r]).name===t)return l.value}function set(e,t,r){for(var o=0,l=e.length;o<l;++o)if(e[o].name===t){e[o]=noop,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:t,value:r}),e}var src=Object.freeze(Object.defineProperty({__proto__:null,dispatch:dispatch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(src),dispatch=require$$0.dispatch,cloudRadians=Math.PI/180,cw=1<<11>>5,ch=1<<11,d3Cloud=function(){var e=[256,256],t=cloudText,r=cloudFont,o=cloudFontSize,l=cloudFontNormal,h=cloudFontNormal,y=cloudRotate,D=cloudPadding,O=archimedeanSpiral,F=[],R=1/0,B=dispatch("word","end"),j=null,q=Math.random,U={},W=cloudCanvas;U.canvas=function(X){return arguments.length?(W=functor(X),U):W},U.start=function(){var X=G(W()),K=zeroArray((e[0]>>5)*e[1]),Q=null,J=F.length,et=-1,nt=[],Z=F.map(function(rt,tt){return rt.text=t.call(this,rt,tt),rt.font=r.call(this,rt,tt),rt.style=l.call(this,rt,tt),rt.weight=h.call(this,rt,tt),rt.rotate=y.call(this,rt,tt),rt.size=~~o.call(this,rt,tt),rt.padding=D.call(this,rt,tt),rt}).sort(function(rt,tt){return tt.size-rt.size});return j&&clearInterval(j),j=setInterval(it,0),it(),U;function it(){for(var rt=Date.now();Date.now()-rt<R&&++et<J&&j;){var tt=Z[et];tt.x=e[0]*(q()+.5)>>1,tt.y=e[1]*(q()+.5)>>1,cloudSprite(X,tt,Z,et),tt.hasText&&Y(K,tt,Q)&&(nt.push(tt),B.call("word",U,tt),Q?cloudBounds(Q,tt):Q=[{x:tt.x+tt.x0,y:tt.y+tt.y0},{x:tt.x+tt.x1,y:tt.y+tt.y1}],tt.x-=e[0]>>1,tt.y-=e[1]>>1)}et>=J&&(U.stop(),B.call("end",U,nt,Q))}},U.stop=function(){return j&&(clearInterval(j),j=null),U};function G(X){X.width=X.height=1;var K=Math.sqrt(X.getContext("2d").getImageData(0,0,1,1).data.length>>2);X.width=(cw<<5)/K,X.height=ch/K;var Q=X.getContext("2d");return Q.fillStyle=Q.strokeStyle="red",Q.textAlign="center",{context:Q,ratio:K}}function Y(X,K,Q){e[0],e[1];for(var J=K.x,et=K.y,nt=Math.sqrt(e[0]*e[0]+e[1]*e[1]),Z=O(e),it=q()<.5?1:-1,rt=-it,tt,st,ht;(tt=Z(rt+=it))&&(st=~~tt[0],ht=~~tt[1],!(Math.min(Math.abs(st),Math.abs(ht))>=nt));)if(K.x=J+st,K.y=et+ht,!(K.x+K.x0<0||K.y+K.y0<0||K.x+K.x1>e[0]||K.y+K.y1>e[1])&&(!Q||!cloudCollide(K,X,e[0]))&&(!Q||collideRects(K,Q))){for(var ct=K.sprite,lt=K.width>>5,ut=e[0]>>5,ot=K.x-(lt<<4),at=ot&127,dt=32-at,ft=K.y1-K.y0,mt=(K.y+K.y0)*ut+(ot>>5),bt,xt=0;xt<ft;xt++){bt=0;for(var yt=0;yt<=lt;yt++)X[mt+yt]|=bt<<dt|(yt<lt?(bt=ct[xt*lt+yt])>>>at:0);mt+=ut}return delete K.sprite,!0}return!1}return U.timeInterval=function(X){return arguments.length?(R=X==null?1/0:X,U):R},U.words=function(X){return arguments.length?(F=X,U):F},U.size=function(X){return arguments.length?(e=[+X[0],+X[1]],U):e},U.font=function(X){return arguments.length?(r=functor(X),U):r},U.fontStyle=function(X){return arguments.length?(l=functor(X),U):l},U.fontWeight=function(X){return arguments.length?(h=functor(X),U):h},U.rotate=function(X){return arguments.length?(y=functor(X),U):y},U.text=function(X){return arguments.length?(t=functor(X),U):t},U.spiral=function(X){return arguments.length?(O=spirals[X]||X,U):O},U.fontSize=function(X){return arguments.length?(o=functor(X),U):o},U.padding=function(X){return arguments.length?(D=functor(X),U):D},U.random=function(X){return arguments.length?(q=X,U):q},U.on=function(){var X=B.on.apply(B,arguments);return X===B?U:X},U};function cloudText(e){return e.text}function cloudFont(){return"serif"}function cloudFontNormal(){return"normal"}function cloudFontSize(e){return Math.sqrt(e.value)}function cloudRotate(){return(~~(Math.random()*6)-3)*30}function cloudPadding(){return 1}function cloudSprite(e,t,r,o){if(!t.sprite){var l=e.context,h=e.ratio;l.clearRect(0,0,(cw<<5)/h,ch/h);var y=0,D=0,O=0,F=r.length;for(--o;++o<F;){t=r[o],l.save(),l.font=t.style+" "+t.weight+" "+~~((t.size+1)/h)+"px "+t.font;var R=l.measureText(t.text+"m").width*h,B=t.size<<1;if(t.rotate){var j=Math.sin(t.rotate*cloudRadians),q=Math.cos(t.rotate*cloudRadians),U=R*q,W=R*j,G=B*q,Y=B*j;R=Math.max(Math.abs(U+Y),Math.abs(U-Y))+31>>5<<5,B=~~Math.max(Math.abs(W+G),Math.abs(W-G))}else R=R+31>>5<<5;if(B>O&&(O=B),y+R>=cw<<5&&(y=0,D+=O,O=0),D+B>=ch)break;l.translate((y+(R>>1))/h,(D+(B>>1))/h),t.rotate&&l.rotate(t.rotate*cloudRadians),l.fillText(t.text,0,0),t.padding&&(l.lineWidth=2*t.padding,l.strokeText(t.text,0,0)),l.restore(),t.width=R,t.height=B,t.xoff=y,t.yoff=D,t.x1=R>>1,t.y1=B>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,y+=R}for(var X=l.getImageData(0,0,(cw<<5)/h,ch/h).data,K=[];--o>=0;)if(t=r[o],!!t.hasText){for(var R=t.width,Q=R>>5,B=t.y1-t.y0,J=0;J<B*Q;J++)K[J]=0;if(y=t.xoff,y==null)return;D=t.yoff;for(var et=0,nt=-1,Z=0;Z<B;Z++){for(var J=0;J<R;J++){var it=Q*Z+(J>>5),rt=X[(D+Z)*(cw<<5)+(y+J)<<2]?1<<31-J%32:0;K[it]|=rt,et|=rt}et?nt=Z:(t.y0++,B--,Z--,D++)}t.y1=t.y0+nt,t.sprite=K.slice(0,(t.y1-t.y0)*Q)}}}function cloudCollide(e,t,r){r>>=5;for(var o=e.sprite,l=e.width>>5,h=e.x-(l<<4),y=h&127,D=32-y,O=e.y1-e.y0,F=(e.y+e.y0)*r+(h>>5),R,B=0;B<O;B++){R=0;for(var j=0;j<=l;j++)if((R<<D|(j<l?(R=o[B*l+j])>>>y:0))&t[F+j])return!0;F+=r}return!1}function cloudBounds(e,t){var r=e[0],o=e[1];t.x+t.x0<r.x&&(r.x=t.x+t.x0),t.y+t.y0<r.y&&(r.y=t.y+t.y0),t.x+t.x1>o.x&&(o.x=t.x+t.x1),t.y+t.y1>o.y&&(o.y=t.y+t.y1)}function collideRects(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function archimedeanSpiral(e){var t=e[0]/e[1];return function(r){return[t*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function rectangularSpiral(e){var t=4,r=t*e[0]/e[1],o=0,l=0;return function(h){var y=h<0?-1:1;switch(Math.sqrt(1+4*y*h)-y&3){case 0:o+=r;break;case 1:l+=t;break;case 2:o-=r;break;default:l-=t;break}return[o,l]}}function zeroArray(e){for(var t=[],r=-1;++r<e;)t[r]=0;return t}function cloudCanvas(){return document.createElement("canvas")}function functor(e){return typeof e=="function"?e:function(){return e}}var spirals={archimedean:archimedeanSpiral,rectangular:rectangularSpiral};class WordElement extends Element{static computeRotation(t,r){if(t.rotationSteps<=1)return 0;if(t.minRotation===t.maxRotation)return t.minRotation;const o=Math.min(t.rotationSteps,Math.floor(r()*t.rotationSteps))/(t.rotationSteps-1),l=t.maxRotation-t.minRotation;return t.minRotation+o*l}inRange(t,r){const o=this.getProps(["x","y","width","height","scale"]);if(o.scale<=0)return!1;const l=Number.isNaN(t)?o.x:t,h=Number.isNaN(r)?o.y:r;return l>=o.x-o.width/2&&l<=o.x+o.width/2&&h>=o.y-o.height/2&&h<=o.y+o.height/2}inXRange(t){return this.inRange(t,Number.NaN)}inYRange(t){return this.inRange(Number.NaN,t)}getCenterPoint(){return this.getProps(["x","y"])}tooltipPosition(){return this.getCenterPoint()}draw(t){const{options:r}=this,o=this.getProps(["x","y","width","height","text","scale"]);if(o.scale<=0)return;t.save();const l=toFont(Vt($t({},r),{size:r.size*o.scale}));t.font=l.string,t.fillStyle=r.color,t.textAlign="center",t.translate(o.x,o.y),t.rotate(r.rotate/180*Math.PI),r.strokeStyle&&(t.strokeStyle=r.strokeStyle,t.strokeText(o.text,0,0)),t.fillText(o.text,0,0),t.restore()}}WordElement.id="word";WordElement.defaults={minRotation:-90,maxRotation:0,rotationSteps:2,padding:1,strokeStyle:void 0,size:e=>e.parsed.y,hoverColor:"#ababab"};WordElement.defaultRoutes={color:"color",family:"font.family",style:"font.style",weight:"font.weight",lineHeight:"font.lineHeight"};function patchController(e,t,r,o=[],l=[]){registry.addControllers(r),Array.isArray(o)?registry.addElements(...o):registry.addElements(o),Array.isArray(l)?registry.addScales(...l):registry.addScales(l);const h=t;return h.type=e,h}function rnd(e=Date.now()){let t=typeof e=="number"?e:Array.from(e).reduce((r,o)=>r+o.charCodeAt(0),0);return()=>(t=(t*9301+49297)%233280,t/233280)}class WordCloudController extends DatasetController{constructor(){super(...arguments),this.wordLayout=d3Cloud().text(t=>t.text).padding(t=>t.options.padding).rotate(t=>t.options.rotate).font(t=>t.options.family).fontSize(t=>t.options.size).fontStyle(t=>t.options.style).fontWeight(t=>{var r;return(r=t.options.weight)!==null&&r!==void 0?r:1}),this.rand=Math.random}update(t){super.update(t),this.rand=rnd(this.chart.id);const o=this._cachedMeta.data||[];this.updateElements(o,0,o.length,t)}updateElements(t,r,o,l){var h,y,D,O;this.wordLayout.stop();const F=this._cachedMeta.xScale,R=this._cachedMeta.yScale,B=F.right-F.left,j=R.bottom-R.top,q=this.chart.data.labels,U=[];for(let G=r;G<r+o;G+=1){const Y=this.resolveDataElementOptions(G,l);Y.rotate==null&&(Y.rotate=WordElement.computeRotation(Y,this.rand));const X={options:$t($t({},toFont(Y)),Y),x:(y=(h=this._cachedMeta.xScale)===null||h===void 0?void 0:h.getPixelForDecimal(.5))!==null&&y!==void 0?y:0,y:(O=(D=this._cachedMeta.yScale)===null||D===void 0?void 0:D.getPixelForDecimal(.5))!==null&&O!==void 0?O:0,width:10,height:10,scale:1,index:G,text:q[G]};U.push(X)}if(l==="reset"){U.forEach(G=>{this.updateElement(t[G.index],G.index,G,l)});return}this.wordLayout.random(this.rand).words(U);const W=(G=1,Y=3)=>{this.wordLayout.size([B*G,j*G]).on("end",(X,K)=>{if(X.length<q.length){if(Y>0){W(G*1.2,Y-1);return}console.warn("cannot fit all text elements in three tries")}const Q=K[1].x-K[0].x,J=K[1].y-K[0].y,nt=this.options.fit?Math.min(B/Q,j/J):1,Z=new Set(q.map((it,rt)=>rt));X.forEach(it=>{Z.delete(it.index),this.updateElement(t[it.index],it.index,{options:it.options,scale:nt,x:F.left+nt*it.x+B/2,y:R.top+nt*it.y+j/2,width:nt*it.width,height:nt*it.height,text:it.text},l)}),Z.forEach(it=>this.updateElement(t[it],it,{scale:0},l))}).start()};W()}draw(){const t=this._cachedMeta.data,{ctx:r}=this.chart;t.forEach(o=>o.draw(r))}getLabelAndValue(t){const r=super.getLabelAndValue(t),o=this.chart.data.labels;return r.label=o[t],r}}WordCloudController.id="wordCloud";WordCloudController.defaults={datasets:{fit:!0,animation:{colors:{properties:["color","strokeStyle"]},numbers:{properties:["x","y","size","rotate"]}}},maintainAspectRatio:!1,dataElementType:WordElement.id};WordCloudController.overrides={scales:{x:{type:"linear",min:-1,max:1,display:!1},y:{type:"linear",min:-1,max:1,display:!1}}};class WordCloudChart extends Chart{constructor(t,r){super(t,patchController("wordCloud",r,WordCloudController,WordElement))}}WordCloudChart.id=WordCloudController.id;function toInteger(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function requiredArgs(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function toDate(e){requiredArgs(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console!="undefined"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function addDays(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toInteger(t);return isNaN(o)?new Date(NaN):(o&&r.setDate(r.getDate()+o),r)}function addMonths(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toInteger(t);if(isNaN(o))return new Date(NaN);if(!o)return r;var l=r.getDate(),h=new Date(r.getTime());h.setMonth(r.getMonth()+o+1,0);var y=h.getDate();return l>=y?h:(r.setFullYear(h.getFullYear(),h.getMonth(),l),r)}function addMilliseconds(e,t){requiredArgs(2,arguments);var r=toDate(e).getTime(),o=toInteger(t);return new Date(r+o)}var MILLISECONDS_IN_HOUR$1=36e5;function addHours(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMilliseconds(e,r*MILLISECONDS_IN_HOUR$1)}function startOfWeek(e,t){requiredArgs(1,arguments);var r=t||{},o=r.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=r.weekStartsOn==null?h:toInteger(r.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(e),O=D.getDay(),F=(O<y?7:0)+O-y;return D.setDate(D.getDate()-F),D.setHours(0,0,0,0),D}function getTimezoneOffsetInMilliseconds(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function startOfDay(e){requiredArgs(1,arguments);var t=toDate(e);return t.setHours(0,0,0,0),t}var MILLISECONDS_IN_DAY$1=864e5;function differenceInCalendarDays(e,t){requiredArgs(2,arguments);var r=startOfDay(e),o=startOfDay(t),l=r.getTime()-getTimezoneOffsetInMilliseconds(r),h=o.getTime()-getTimezoneOffsetInMilliseconds(o);return Math.round((l-h)/MILLISECONDS_IN_DAY$1)}var MILLISECONDS_IN_MINUTE$1=6e4;function addMinutes(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMilliseconds(e,r*MILLISECONDS_IN_MINUTE$1)}function addQuarters(e,t){requiredArgs(2,arguments);var r=toInteger(t),o=r*3;return addMonths(e,o)}function addSeconds(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMilliseconds(e,r*1e3)}function addWeeks(e,t){requiredArgs(2,arguments);var r=toInteger(t),o=r*7;return addDays(e,o)}function addYears(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMonths(e,r*12)}function compareAsc(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=r.getTime()-o.getTime();return l<0?-1:l>0?1:l}var millisecondsInMinute=6e4,millisecondsInHour=36e5;function isDate(e){return requiredArgs(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function isValid(e){if(requiredArgs(1,arguments),!isDate(e)&&typeof e!="number")return!1;var t=toDate(e);return!isNaN(Number(t))}function differenceInCalendarMonths(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=r.getFullYear()-o.getFullYear(),h=r.getMonth()-o.getMonth();return l*12+h}function differenceInCalendarYears(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t);return r.getFullYear()-o.getFullYear()}function compareLocalAsc(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function differenceInDays(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=compareLocalAsc(r,o),h=Math.abs(differenceInCalendarDays(r,o));r.setDate(r.getDate()-l*h);var y=Number(compareLocalAsc(r,o)===-l),D=l*(h-y);return D===0?0:D}function differenceInMilliseconds(e,t){return requiredArgs(2,arguments),toDate(e).getTime()-toDate(t).getTime()}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},defaultRoundingMethod="trunc";function getRoundingMethod(e){return e?roundingMap[e]:roundingMap[defaultRoundingMethod]}function differenceInHours(e,t,r){requiredArgs(2,arguments);var o=differenceInMilliseconds(e,t)/millisecondsInHour;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInMinutes(e,t,r){requiredArgs(2,arguments);var o=differenceInMilliseconds(e,t)/millisecondsInMinute;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function endOfDay(e){requiredArgs(1,arguments);var t=toDate(e);return t.setHours(23,59,59,999),t}function endOfMonth(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function isLastDayOfMonth(e){requiredArgs(1,arguments);var t=toDate(e);return endOfDay(t).getTime()===endOfMonth(t).getTime()}function differenceInMonths(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=compareAsc(r,o),h=Math.abs(differenceInCalendarMonths(r,o)),y;if(h<1)y=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-l*h);var D=compareAsc(r,o)===-l;isLastDayOfMonth(toDate(e))&&h===1&&compareAsc(e,o)===1&&(D=!1),y=l*(h-Number(D))}return y===0?0:y}function differenceInQuarters(e,t,r){requiredArgs(2,arguments);var o=differenceInMonths(e,t)/3;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInSeconds(e,t,r){requiredArgs(2,arguments);var o=differenceInMilliseconds(e,t)/1e3;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInWeeks(e,t,r){requiredArgs(2,arguments);var o=differenceInDays(e,t)/7;return getRoundingMethod(r==null?void 0:r.roundingMethod)(o)}function differenceInYears(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toDate(t),l=compareAsc(r,o),h=Math.abs(differenceInCalendarYears(r,o));r.setFullYear(1584),o.setFullYear(1584);var y=compareAsc(r,o)===-l,D=l*(h-Number(y));return D===0?0:D}function startOfMinute(e){requiredArgs(1,arguments);var t=toDate(e);return t.setSeconds(0,0),t}function startOfQuarter(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getMonth(),o=r-r%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t}function startOfMonth(e){requiredArgs(1,arguments);var t=toDate(e);return t.setDate(1),t.setHours(0,0,0,0),t}function startOfYear(e){requiredArgs(1,arguments);var t=toDate(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function endOfYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function endOfHour(e){requiredArgs(1,arguments);var t=toDate(e);return t.setMinutes(59,59,999),t}function endOfWeek(e,t){requiredArgs(1,arguments);var r=t||{},o=r.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=r.weekStartsOn==null?h:toInteger(r.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(e),O=D.getDay(),F=(O<y?-7:0)+6-(O-y);return D.setDate(D.getDate()+F),D.setHours(23,59,59,999),D}function endOfMinute(e){requiredArgs(1,arguments);var t=toDate(e);return t.setSeconds(59,999),t}function endOfQuarter(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getMonth(),o=r-r%3+3;return t.setMonth(o,0),t.setHours(23,59,59,999),t}function endOfSecond(e){requiredArgs(1,arguments);var t=toDate(e);return t.setMilliseconds(999),t}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(e,t,r){var o,l=formatDistanceLocale[e];return typeof l=="string"?o=l:t===1?o=l.one:o=l.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o},formatDistance$1=formatDistance;function buildFormatLongFn(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,o=e.formats[r]||e.formats[e.defaultWidth];return o}}var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatLong$1=formatLong,formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(e,t,r,o){return formatRelativeLocale[e]},formatRelative$1=formatRelative;function buildLocalizeFn(e){return function(t,r){var o=r||{},l=o.context?String(o.context):"standalone",h;if(l==="formatting"&&e.formattingValues){var y=e.defaultFormattingWidth||e.defaultWidth,D=o.width?String(o.width):y;h=e.formattingValues[D]||e.formattingValues[y]}else{var O=e.defaultWidth,F=o.width?String(o.width):e.defaultWidth;h=e.values[F]||e.values[O]}var R=e.argumentCallback?e.argumentCallback(t):t;return h[R]}}var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(e,t){var r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},localize$1=localize;function buildMatchFn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.width,l=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],h=t.match(l);if(!h)return null;var y=h[0],D=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],O=Array.isArray(D)?findIndex(D,function(B){return B.test(y)}):findKey(D,function(B){return B.test(y)}),F;F=e.valueCallback?e.valueCallback(O):O,F=r.valueCallback?r.valueCallback(F):F;var R=t.slice(y.length);return{value:F,rest:R}}}function findKey(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function findIndex(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function buildMatchPatternFn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.match(e.matchPattern);if(!o)return null;var l=o[0],h=t.match(e.parsePattern);if(!h)return null;var y=e.valueCallback?e.valueCallback(h[0]):h[0];y=r.valueCallback?r.valueCallback(y):y;var D=t.slice(l.length);return{value:y,rest:D}}}var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(e){return parseInt(e,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},match$1=match,locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}},defaultLocale=locale;function subMilliseconds(e,t){requiredArgs(2,arguments);var r=toInteger(t);return addMilliseconds(e,-r)}var MILLISECONDS_IN_DAY=864e5;function getUTCDayOfYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var o=t.getTime(),l=r-o;return Math.floor(l/MILLISECONDS_IN_DAY)+1}function startOfUTCISOWeek(e){requiredArgs(1,arguments);var t=1,r=toDate(e),o=r.getUTCDay(),l=(o<t?7:0)+o-t;return r.setUTCDate(r.getUTCDate()-l),r.setUTCHours(0,0,0,0),r}function getUTCISOWeekYear(e){requiredArgs(1,arguments);var t=toDate(e),r=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(r+1,0,4),o.setUTCHours(0,0,0,0);var l=startOfUTCISOWeek(o),h=new Date(0);h.setUTCFullYear(r,0,4),h.setUTCHours(0,0,0,0);var y=startOfUTCISOWeek(h);return t.getTime()>=l.getTime()?r+1:t.getTime()>=y.getTime()?r:r-1}function startOfUTCISOWeekYear(e){requiredArgs(1,arguments);var t=getUTCISOWeekYear(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var o=startOfUTCISOWeek(r);return o}var MILLISECONDS_IN_WEEK$1=6048e5;function getUTCISOWeek(e){requiredArgs(1,arguments);var t=toDate(e),r=startOfUTCISOWeek(t).getTime()-startOfUTCISOWeekYear(t).getTime();return Math.round(r/MILLISECONDS_IN_WEEK$1)+1}function startOfUTCWeek(e,t){requiredArgs(1,arguments);var r=t||{},o=r.locale,l=o&&o.options&&o.options.weekStartsOn,h=l==null?0:toInteger(l),y=r.weekStartsOn==null?h:toInteger(r.weekStartsOn);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=toDate(e),O=D.getUTCDay(),F=(O<y?7:0)+O-y;return D.setUTCDate(D.getUTCDate()-F),D.setUTCHours(0,0,0,0),D}function getUTCWeekYear(e,t){requiredArgs(1,arguments);var r=toDate(e),o=r.getUTCFullYear(),l=t||{},h=l.locale,y=h&&h.options&&h.options.firstWeekContainsDate,D=y==null?1:toInteger(y),O=l.firstWeekContainsDate==null?D:toInteger(l.firstWeekContainsDate);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=new Date(0);F.setUTCFullYear(o+1,0,O),F.setUTCHours(0,0,0,0);var R=startOfUTCWeek(F,t),B=new Date(0);B.setUTCFullYear(o,0,O),B.setUTCHours(0,0,0,0);var j=startOfUTCWeek(B,t);return r.getTime()>=R.getTime()?o+1:r.getTime()>=j.getTime()?o:o-1}function startOfUTCWeekYear(e,t){requiredArgs(1,arguments);var r=t||{},o=r.locale,l=o&&o.options&&o.options.firstWeekContainsDate,h=l==null?1:toInteger(l),y=r.firstWeekContainsDate==null?h:toInteger(r.firstWeekContainsDate),D=getUTCWeekYear(e,t),O=new Date(0);O.setUTCFullYear(D,0,y),O.setUTCHours(0,0,0,0);var F=startOfUTCWeek(O,t);return F}var MILLISECONDS_IN_WEEK=6048e5;function getUTCWeek(e,t){requiredArgs(1,arguments);var r=toDate(e),o=startOfUTCWeek(r,t).getTime()-startOfUTCWeekYear(r,t).getTime();return Math.round(o/MILLISECONDS_IN_WEEK)+1}function addLeadingZeros(e,t){for(var r=e<0?"-":"",o=Math.abs(e).toString();o.length<t;)o="0"+o;return r+o}var formatters$2={y:function(e,t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return addLeadingZeros(t==="yy"?o%100:o,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):addLeadingZeros(r+1,2)},d:function(e,t){return addLeadingZeros(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return addLeadingZeros(e.getUTCHours()%12||12,t.length)},H:function(e,t){return addLeadingZeros(e.getUTCHours(),t.length)},m:function(e,t){return addLeadingZeros(e.getUTCMinutes(),t.length)},s:function(e,t){return addLeadingZeros(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,o=e.getUTCMilliseconds(),l=Math.floor(o*Math.pow(10,r-3));return addLeadingZeros(l,t.length)}},formatters$3=formatters$2,dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(e,t,r){var o=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var o=e.getUTCFullYear(),l=o>0?o:1-o;return r.ordinalNumber(l,{unit:"year"})}return formatters$3.y(e,t)},Y:function(e,t,r,o){var l=getUTCWeekYear(e,o),h=l>0?l:1-l;if(t==="YY"){var y=h%100;return addLeadingZeros(y,2)}return t==="Yo"?r.ordinalNumber(h,{unit:"year"}):addLeadingZeros(h,t.length)},R:function(e,t){var r=getUTCISOWeekYear(e);return addLeadingZeros(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return addLeadingZeros(r,t.length)},Q:function(e,t,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return addLeadingZeros(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return addLeadingZeros(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,r){var o=e.getUTCMonth();switch(t){case"M":case"MM":return formatters$3.M(e,t);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,r){var o=e.getUTCMonth();switch(t){case"L":return String(o+1);case"LL":return addLeadingZeros(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,r,o){var l=getUTCWeek(e,o);return t==="wo"?r.ordinalNumber(l,{unit:"week"}):addLeadingZeros(l,t.length)},I:function(e,t,r){var o=getUTCISOWeek(e);return t==="Io"?r.ordinalNumber(o,{unit:"week"}):addLeadingZeros(o,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):formatters$3.d(e,t)},D:function(e,t,r){var o=getUTCDayOfYear(e);return t==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):addLeadingZeros(o,t.length)},E:function(e,t,r){var o=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,r,o){var l=e.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(h);case"ee":return addLeadingZeros(h,2);case"eo":return r.ordinalNumber(h,{unit:"day"});case"eee":return r.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(l,{width:"short",context:"formatting"});case"eeee":default:return r.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,r,o){var l=e.getUTCDay(),h=(l-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(h);case"cc":return addLeadingZeros(h,t.length);case"co":return r.ordinalNumber(h,{unit:"day"});case"ccc":return r.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(l,{width:"narrow",context:"standalone"});case"cccccc":return r.day(l,{width:"short",context:"standalone"});case"cccc":default:return r.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,r){var o=e.getUTCDay(),l=o===0?7:o;switch(t){case"i":return String(l);case"ii":return addLeadingZeros(l,t.length);case"io":return r.ordinalNumber(l,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,r){var o=e.getUTCHours(),l=o/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,r){var o=e.getUTCHours(),l;switch(o===12?l=dayPeriodEnum.noon:o===0?l=dayPeriodEnum.midnight:l=o/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,r){var o=e.getUTCHours(),l;switch(o>=17?l=dayPeriodEnum.evening:o>=12?l=dayPeriodEnum.afternoon:o>=4?l=dayPeriodEnum.morning:l=dayPeriodEnum.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var o=e.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return formatters$3.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):formatters$3.H(e,t)},K:function(e,t,r){var o=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,t.length)},k:function(e,t,r){var o=e.getUTCHours();return o===0&&(o=24),t==="ko"?r.ordinalNumber(o,{unit:"hour"}):addLeadingZeros(o,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):formatters$3.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):formatters$3.s(e,t)},S:function(e,t){return formatters$3.S(e,t)},X:function(e,t,r,o){var l=o._originalDate||e,h=l.getTimezoneOffset();if(h===0)return"Z";switch(t){case"X":return formatTimezoneWithOptionalMinutes(h);case"XXXX":case"XX":return formatTimezone(h);case"XXXXX":case"XXX":default:return formatTimezone(h,":")}},x:function(e,t,r,o){var l=o._originalDate||e,h=l.getTimezoneOffset();switch(t){case"x":return formatTimezoneWithOptionalMinutes(h);case"xxxx":case"xx":return formatTimezone(h);case"xxxxx":case"xxx":default:return formatTimezone(h,":")}},O:function(e,t,r,o){var l=o._originalDate||e,h=l.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(h,":");case"OOOO":default:return"GMT"+formatTimezone(h,":")}},z:function(e,t,r,o){var l=o._originalDate||e,h=l.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(h,":");case"zzzz":default:return"GMT"+formatTimezone(h,":")}},t:function(e,t,r,o){var l=o._originalDate||e,h=Math.floor(l.getTime()/1e3);return addLeadingZeros(h,t.length)},T:function(e,t,r,o){var l=o._originalDate||e,h=l.getTime();return addLeadingZeros(h,t.length)}};function formatTimezoneShort(e,t){var r=e>0?"-":"+",o=Math.abs(e),l=Math.floor(o/60),h=o%60;if(h===0)return r+String(l);var y=t||"";return r+String(l)+y+addLeadingZeros(h,2)}function formatTimezoneWithOptionalMinutes(e,t){if(e%60===0){var r=e>0?"-":"+";return r+addLeadingZeros(Math.abs(e)/60,2)}return formatTimezone(e,t)}function formatTimezone(e,t){var r=t||"",o=e>0?"-":"+",l=Math.abs(e),h=addLeadingZeros(Math.floor(l/60),2),y=addLeadingZeros(l%60,2);return o+h+r+y}var formatters$1=formatters;function dateLongFormatter(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function timeLongFormatter(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function dateTimeLongFormatter(e,t){var r=e.match(/(P+)(p+)?/)||[],o=r[1],l=r[2];if(!l)return dateLongFormatter(e,t);var h;switch(o){case"P":h=t.dateTime({width:"short"});break;case"PP":h=t.dateTime({width:"medium"});break;case"PPP":h=t.dateTime({width:"long"});break;case"PPPP":default:h=t.dateTime({width:"full"});break}return h.replace("{{date}}",dateLongFormatter(o,t)).replace("{{time}}",timeLongFormatter(l,t))}var longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},longFormatters$1=longFormatters,protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(e){return protectedDayOfYearTokens.indexOf(e)!==-1}function isProtectedWeekYearToken(e){return protectedWeekYearTokens.indexOf(e)!==-1}function throwProtectedError(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(e,t,r){requiredArgs(2,arguments);var o=String(t),l=r||{},h=l.locale||defaultLocale,y=h.options&&h.options.firstWeekContainsDate,D=y==null?1:toInteger(y),O=l.firstWeekContainsDate==null?D:toInteger(l.firstWeekContainsDate);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=h.options&&h.options.weekStartsOn,R=F==null?0:toInteger(F),B=l.weekStartsOn==null?R:toInteger(l.weekStartsOn);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!h.localize)throw new RangeError("locale must contain localize property");if(!h.formatLong)throw new RangeError("locale must contain formatLong property");var j=toDate(e);if(!isValid(j))throw new RangeError("Invalid time value");var q=getTimezoneOffsetInMilliseconds(j),U=subMilliseconds(j,q),W={firstWeekContainsDate:O,weekStartsOn:B,locale:h,_originalDate:j},G=o.match(longFormattingTokensRegExp$1).map(function(Y){var X=Y[0];if(X==="p"||X==="P"){var K=longFormatters$1[X];return K(Y,h.formatLong,W)}return Y}).join("").match(formattingTokensRegExp$1).map(function(Y){if(Y==="''")return"'";var X=Y[0];if(X==="'")return cleanEscapedString$1(Y);var K=formatters$1[X];if(K)return!l.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(Y)&&throwProtectedError(Y,t,e),!l.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(Y)&&throwProtectedError(Y,t,e),K(U,Y,h.localize,W);if(X.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return Y}).join("");return G}function cleanEscapedString$1(e){return e.match(escapedStringRegExp$1)[1].replace(doubleQuoteRegExp$1,"'")}function assign(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");t=t||{};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function setUTCDay(e,t,r){requiredArgs(2,arguments);var o=r||{},l=o.locale,h=l&&l.options&&l.options.weekStartsOn,y=h==null?0:toInteger(h),D=o.weekStartsOn==null?y:toInteger(o.weekStartsOn);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=toDate(e),F=toInteger(t),R=O.getUTCDay(),B=F%7,j=(B+7)%7,q=(j<D?7:0)+F-R;return O.setUTCDate(O.getUTCDate()+q),O}function setUTCISODay(e,t){requiredArgs(2,arguments);var r=toInteger(t);r%7===0&&(r=r-7);var o=1,l=toDate(e),h=l.getUTCDay(),y=r%7,D=(y+7)%7,O=(D<o?7:0)+r-h;return l.setUTCDate(l.getUTCDate()+O),l}function setUTCISOWeek(e,t){requiredArgs(2,arguments);var r=toDate(e),o=toInteger(t),l=getUTCISOWeek(r)-o;return r.setUTCDate(r.getUTCDate()-l*7),r}function setUTCWeek(e,t,r){requiredArgs(2,arguments);var o=toDate(e),l=toInteger(t),h=getUTCWeek(o,r)-l;return o.setUTCDate(o.getUTCDate()-h*7),o}var MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_SECOND=1e3,numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function parseNumericPattern(e,t,r){var o=t.match(e);if(!o)return null;var l=parseInt(o[0],10);return{value:r?r(l):l,rest:t.slice(o[0].length)}}function parseTimezonePattern(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var o=r[1]==="+"?1:-1,l=r[2]?parseInt(r[2],10):0,h=r[3]?parseInt(r[3],10):0,y=r[5]?parseInt(r[5],10):0;return{value:o*(l*MILLISECONDS_IN_HOUR+h*MILLISECONDS_IN_MINUTE+y*MILLISECONDS_IN_SECOND),rest:t.slice(r[0].length)}}function parseAnyDigitsSigned(e,t){return parseNumericPattern(numericPatterns.anyDigitsSigned,e,t)}function parseNDigits(e,t,r){switch(e){case 1:return parseNumericPattern(numericPatterns.singleDigit,t,r);case 2:return parseNumericPattern(numericPatterns.twoDigits,t,r);case 3:return parseNumericPattern(numericPatterns.threeDigits,t,r);case 4:return parseNumericPattern(numericPatterns.fourDigits,t,r);default:return parseNumericPattern(new RegExp("^\\d{1,"+e+"}"),t,r)}}function parseNDigitsSigned(e,t,r){switch(e){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,t,r);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,t,r);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,t,r);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,t,r);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+e+"}"),t,r)}}function dayPeriodEnumToHours(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(e,t){var r=t>0,o=r?t:1-t,l;if(o<=50)l=e||100;else{var h=o+50,y=Math.floor(h/100)*100,D=e>=h%100;l=e+y-(D?100:0)}return r?l:1-l}var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex$1(e){return e%400===0||e%4===0&&e%100!==0}var parsers={G:{priority:140,parse:function(e,t,r,o){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}},set:function(e,t,r,o){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,r,o){var l=function(h){return{year:h,isTwoDigitYear:t==="yy"}};switch(t){case"y":return parseNDigits(4,e,l);case"yo":return r.ordinalNumber(e,{unit:"year",valueCallback:l});default:return parseNDigits(t.length,e,l)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,o){var l=e.getUTCFullYear();if(r.isTwoDigitYear){var h=normalizeTwoDigitYear(r.year,l);return e.setUTCFullYear(h,0,1),e.setUTCHours(0,0,0,0),e}var y=!("era"in t)||t.era===1?r.year:1-r.year;return e.setUTCFullYear(y,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,r,o){var l=function(h){return{year:h,isTwoDigitYear:t==="YY"}};switch(t){case"Y":return parseNDigits(4,e,l);case"Yo":return r.ordinalNumber(e,{unit:"year",valueCallback:l});default:return parseNDigits(t.length,e,l)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,o){var l=getUTCWeekYear(e,o);if(r.isTwoDigitYear){var h=normalizeTwoDigitYear(r.year,l);return e.setUTCFullYear(h,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),startOfUTCWeek(e,o)}var y=!("era"in t)||t.era===1?r.year:1-r.year;return e.setUTCFullYear(y,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),startOfUTCWeek(e,o)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,r,o){return parseNDigitsSigned(t==="R"?4:t.length,e)},set:function(e,t,r,o){var l=new Date(0);return l.setUTCFullYear(r,0,4),l.setUTCHours(0,0,0,0),startOfUTCISOWeek(l)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,r,o){return parseNDigitsSigned(t==="u"?4:t.length,e)},set:function(e,t,r,o){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,r,o){switch(t){case"Q":case"QQ":return parseNDigits(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,o){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,r,o){switch(t){case"q":case"qq":return parseNDigits(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,o){return e.setUTCMonth((r-1)*3,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,r,o){var l=function(h){return h-1};switch(t){case"M":return parseNumericPattern(numericPatterns.month,e,l);case"MM":return parseNDigits(2,e,l);case"Mo":return r.ordinalNumber(e,{unit:"month",valueCallback:l});case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,o){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,r,o){var l=function(h){return h-1};switch(t){case"L":return parseNumericPattern(numericPatterns.month,e,l);case"LL":return parseNDigits(2,e,l);case"Lo":return r.ordinalNumber(e,{unit:"month",valueCallback:l});case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,o){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,r,o){switch(t){case"w":return parseNumericPattern(numericPatterns.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,o){return startOfUTCWeek(setUTCWeek(e,r,o),o)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,r,o){switch(t){case"I":return parseNumericPattern(numericPatterns.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,o){return startOfUTCISOWeek(setUTCISOWeek(e,r,o),o)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,r,o){switch(t){case"d":return parseNumericPattern(numericPatterns.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){var o=e.getUTCFullYear(),l=isLeapYearIndex$1(o),h=e.getUTCMonth();return l?t>=1&&t<=DAYS_IN_MONTH_LEAP_YEAR[h]:t>=1&&t<=DAYS_IN_MONTH[h]},set:function(e,t,r,o){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,r,o){switch(t){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){var o=e.getUTCFullYear(),l=isLeapYearIndex$1(o);return l?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,r,o){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,r,o){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,o){return e=setUTCDay(e,r,o),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,r,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(t){case"e":case"ee":return parseNDigits(t.length,e,l);case"eo":return r.ordinalNumber(e,{unit:"day",valueCallback:l});case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,o){return e=setUTCDay(e,r,o),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,r,o){var l=function(h){var y=Math.floor((h-1)/7)*7;return(h+o.weekStartsOn+6)%7+y};switch(t){case"c":case"cc":return parseNDigits(t.length,e,l);case"co":return r.ordinalNumber(e,{unit:"day",valueCallback:l});case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,o){return e=setUTCDay(e,r,o),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,r,o){var l=function(h){return h===0?7:h};switch(t){case"i":case"ii":return parseNDigits(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return r.day(e,{width:"abbreviated",context:"formatting",valueCallback:l})||r.day(e,{width:"short",context:"formatting",valueCallback:l})||r.day(e,{width:"narrow",context:"formatting",valueCallback:l});case"iiiii":return r.day(e,{width:"narrow",context:"formatting",valueCallback:l});case"iiiiii":return r.day(e,{width:"short",context:"formatting",valueCallback:l})||r.day(e,{width:"narrow",context:"formatting",valueCallback:l});case"iiii":default:return r.day(e,{width:"wide",context:"formatting",valueCallback:l})||r.day(e,{width:"abbreviated",context:"formatting",valueCallback:l})||r.day(e,{width:"short",context:"formatting",valueCallback:l})||r.day(e,{width:"narrow",context:"formatting",valueCallback:l})}},validate:function(e,t,r){return t>=1&&t<=7},set:function(e,t,r,o){return e=setUTCISODay(e,r,o),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,r,o){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,o){return e.setUTCHours(dayPeriodEnumToHours(r),0,0,0),e},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(e,t,r,o){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,o){return e.setUTCHours(dayPeriodEnumToHours(r),0,0,0),e},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(e,t,r,o){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,o){return e.setUTCHours(dayPeriodEnumToHours(r),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,r,o){switch(t){case"h":return parseNumericPattern(numericPatterns.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=12},set:function(e,t,r,o){var l=e.getUTCHours()>=12;return l&&r<12?e.setUTCHours(r+12,0,0,0):!l&&r===12?e.setUTCHours(0,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,r,o){switch(t){case"H":return parseNumericPattern(numericPatterns.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=23},set:function(e,t,r,o){return e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,r,o){switch(t){case"K":return parseNumericPattern(numericPatterns.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,o){var l=e.getUTCHours()>=12;return l&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(e,t,r,o){switch(t){case"k":return parseNumericPattern(numericPatterns.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=24},set:function(e,t,r,o){var l=r<=24?r%24:r;return e.setUTCHours(l,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,r,o){switch(t){case"m":return parseNumericPattern(numericPatterns.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,o){return e.setUTCMinutes(r,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,r,o){switch(t){case"s":return parseNumericPattern(numericPatterns.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return parseNDigits(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,o){return e.setUTCSeconds(r,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,r,o){var l=function(h){return Math.floor(h*Math.pow(10,-t.length+3))};return parseNDigits(t.length,e,l)},set:function(e,t,r,o){return e.setUTCMilliseconds(r),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,r,o){switch(t){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,e);case"XX":return parseTimezonePattern(timezonePatterns.basic,e);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,e);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,e);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,e)}},set:function(e,t,r,o){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,r,o){switch(t){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,e);case"xx":return parseTimezonePattern(timezonePatterns.basic,e);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,e);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,e);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,e)}},set:function(e,t,r,o){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,r,o){return parseAnyDigitsSigned(e)},set:function(e,t,r,o){return[new Date(r*1e3),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,r,o){return parseAnyDigitsSigned(e)},set:function(e,t,r,o){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}},parsers$1=parsers,TIMEZONE_UNIT_PRIORITY=10,formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(e,t,r,o){requiredArgs(3,arguments);var l=String(e),h=String(t),y=o||{},D=y.locale||defaultLocale;if(!D.match)throw new RangeError("locale must contain match property");var O=D.options&&D.options.firstWeekContainsDate,F=O==null?1:toInteger(O),R=y.firstWeekContainsDate==null?F:toInteger(y.firstWeekContainsDate);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=D.options&&D.options.weekStartsOn,j=B==null?0:toInteger(B),q=y.weekStartsOn==null?j:toInteger(y.weekStartsOn);if(!(q>=0&&q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(h==="")return l===""?toDate(r):new Date(NaN);var U={firstWeekContainsDate:R,weekStartsOn:q,locale:D},W=[{priority:TIMEZONE_UNIT_PRIORITY,subPriority:-1,set:dateToSystemTimezone,index:0}],G,Y=h.match(longFormattingTokensRegExp).map(function(ot){var at=ot[0];if(at==="p"||at==="P"){var dt=longFormatters$1[at];return dt(ot,D.formatLong,U)}return ot}).join("").match(formattingTokensRegExp),X=[];for(G=0;G<Y.length;G++){var K=Y[G];!y.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(K)&&throwProtectedError(K,h,e),!y.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(K)&&throwProtectedError(K,h,e);var Q=K[0],J=parsers$1[Q];if(J){var et=J.incompatibleTokens;if(Array.isArray(et)){for(var nt=void 0,Z=0;Z<X.length;Z++){var it=X[Z].token;if(et.indexOf(it)!==-1||it===Q){nt=X[Z];break}}if(nt)throw new RangeError("The format string mustn't contain `".concat(nt.fullToken,"` and `").concat(K,"` at the same time"))}else if(J.incompatibleTokens==="*"&&X.length)throw new RangeError("The format string mustn't contain `".concat(K,"` and any other token at the same time"));X.push({token:Q,fullToken:K});var rt=J.parse(l,K,D.match,U);if(!rt)return new Date(NaN);W.push({priority:J.priority,subPriority:J.subPriority||0,set:J.set,validate:J.validate,value:rt.value,index:W.length}),l=rt.rest}else{if(Q.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");if(K==="''"?K="'":Q==="'"&&(K=cleanEscapedString(K)),l.indexOf(K)===0)l=l.slice(K.length);else return new Date(NaN)}}if(l.length>0&&notWhitespaceRegExp.test(l))return new Date(NaN);var tt=W.map(function(ot){return ot.priority}).sort(function(ot,at){return at-ot}).filter(function(ot,at,dt){return dt.indexOf(ot)===at}).map(function(ot){return W.filter(function(at){return at.priority===ot}).sort(function(at,dt){return dt.subPriority-at.subPriority})}).map(function(ot){return ot[0]}),st=toDate(r);if(isNaN(st))return new Date(NaN);var ht=subMilliseconds(st,getTimezoneOffsetInMilliseconds(st)),ct={};for(G=0;G<tt.length;G++){var lt=tt[G];if(lt.validate&&!lt.validate(ht,lt.value,U))return new Date(NaN);var ut=lt.set(ht,ct,lt.value,U);ut[0]?(ht=ut[0],assign(ct,ut[1])):ht=ut}return ht}function dateToSystemTimezone(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}function cleanEscapedString(e){return e.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function startOfHour(e){requiredArgs(1,arguments);var t=toDate(e);return t.setMinutes(0,0,0),t}function startOfSecond(e){requiredArgs(1,arguments);var t=toDate(e);return t.setMilliseconds(0),t}function parseISO(e,t){requiredArgs(1,arguments);var r=t||{},o=r.additionalDigits==null?2:toInteger(r.additionalDigits);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var l=splitDateString(e),h;if(l.date){var y=parseYear(l.date,o);h=parseDate(y.restDateString,y.year)}if(!h||isNaN(h.getTime()))return new Date(NaN);var D=h.getTime(),O=0,F;if(l.time&&(O=parseTime(l.time),isNaN(O)))return new Date(NaN);if(l.timezone){if(F=parseTimezone(l.timezone),isNaN(F))return new Date(NaN)}else{var R=new Date(D+O),B=new Date(0);return B.setFullYear(R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate()),B.setHours(R.getUTCHours(),R.getUTCMinutes(),R.getUTCSeconds(),R.getUTCMilliseconds()),B}return new Date(D+O+F)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(e){var t={},r=e.split(patterns.dateTimeDelimiter),o;if(r.length>2)return t;if(/:/.test(r[0])?o=r[0]:(t.date=r[0],o=r[1],patterns.timeZoneDelimiter.test(t.date)&&(t.date=e.split(patterns.timeZoneDelimiter)[0],o=e.substr(t.date.length,e.length))),o){var l=patterns.timezone.exec(o);l?(t.time=o.replace(l[1],""),t.timezone=l[1]):t.time=o}return t}function parseYear(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(r);if(!o)return{year:NaN,restDateString:""};var l=o[1]?parseInt(o[1]):null,h=o[2]?parseInt(o[2]):null;return{year:h===null?l:h*100,restDateString:e.slice((o[1]||o[2]).length)}}function parseDate(e,t){if(t===null)return new Date(NaN);var r=e.match(dateRegex);if(!r)return new Date(NaN);var o=!!r[4],l=parseDateUnit(r[1]),h=parseDateUnit(r[2])-1,y=parseDateUnit(r[3]),D=parseDateUnit(r[4]),O=parseDateUnit(r[5])-1;if(o)return validateWeekDate(t,D,O)?dayOfISOWeekYear(t,D,O):new Date(NaN);var F=new Date(0);return!validateDate(t,h,y)||!validateDayOfYearDate(t,l)?new Date(NaN):(F.setUTCFullYear(t,h,Math.max(l,y)),F)}function parseDateUnit(e){return e?parseInt(e):1}function parseTime(e){var t=e.match(timeRegex);if(!t)return NaN;var r=parseTimeUnit(t[1]),o=parseTimeUnit(t[2]),l=parseTimeUnit(t[3]);return validateTime(r,o,l)?r*millisecondsInHour+o*millisecondsInMinute+l*1e3:NaN}function parseTimeUnit(e){return e&&parseFloat(e.replace(",","."))||0}function parseTimezone(e){if(e==="Z")return 0;var t=e.match(timezoneRegex);if(!t)return 0;var r=t[1]==="+"?-1:1,o=parseInt(t[2]),l=t[3]&&parseInt(t[3])||0;return validateTimezone(o,l)?r*(o*millisecondsInHour+l*millisecondsInMinute):NaN}function dayOfISOWeekYear(e,t,r){var o=new Date(0);o.setUTCFullYear(e,0,4);var l=o.getUTCDay()||7,h=(t-1)*7+r+1-l;return o.setUTCDate(o.getUTCDate()+h),o}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(e){return e%400===0||e%4===0&&e%100!==0}function validateDate(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(daysInMonths[t]||(isLeapYearIndex(e)?29:28))}function validateDayOfYearDate(e,t){return t>=1&&t<=(isLeapYearIndex(e)?366:365)}function validateWeekDate(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function validateTime(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function validateTimezone(e,t){return t>=0&&t<=59}/*!
 * chartjs-adapter-date-fns v1.1.0-beta.1
 * https://www.chartjs.org
 * (c) 2021 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const FORMATS={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};adapters._date.override({_id:"date-fns",formats:function(){return FORMATS},parse:function(e,t){if(e===null||typeof e=="undefined")return null;const r=typeof e;return r==="number"||e instanceof Date?e=toDate(e):r==="string"&&(typeof t=="string"?e=parse(e,t,new Date,this.options):e=parseISO(e,this.options)),isValid(e)?e.getTime():null},format:function(e,t){return format(e,t,this.options)},add:function(e,t,r){switch(r){case"millisecond":return addMilliseconds(e,t);case"second":return addSeconds(e,t);case"minute":return addMinutes(e,t);case"hour":return addHours(e,t);case"day":return addDays(e,t);case"week":return addWeeks(e,t);case"month":return addMonths(e,t);case"quarter":return addQuarters(e,t);case"year":return addYears(e,t);default:return e}},diff:function(e,t,r){switch(r){case"millisecond":return differenceInMilliseconds(e,t);case"second":return differenceInSeconds(e,t);case"minute":return differenceInMinutes(e,t);case"hour":return differenceInHours(e,t);case"day":return differenceInDays(e,t);case"week":return differenceInWeeks(e,t);case"month":return differenceInMonths(e,t);case"quarter":return differenceInQuarters(e,t);case"year":return differenceInYears(e,t);default:return 0}},startOf:function(e,t,r){switch(t){case"second":return startOfSecond(e);case"minute":return startOfMinute(e);case"hour":return startOfHour(e);case"day":return startOfDay(e);case"week":return startOfWeek(e);case"isoWeek":return startOfWeek(e,{weekStartsOn:+r});case"month":return startOfMonth(e);case"quarter":return startOfQuarter(e);case"year":return startOfYear(e);default:return e}},endOf:function(e,t){switch(t){case"second":return endOfSecond(e);case"minute":return endOfMinute(e);case"hour":return endOfHour(e);case"day":return endOfDay(e);case"week":return endOfWeek(e);case"month":return endOfMonth(e);case"quarter":return endOfQuarter(e);case"year":return endOfYear(e);default:return e}}});var aos$1={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(commonjsGlobal,function(){return function(r){function o(h){if(l[h])return l[h].exports;var y=l[h]={exports:{},id:h,loaded:!1};return r[h].call(y.exports,y,y.exports,o),y.loaded=!0,y.exports}var l={};return o.m=r,o.c=l,o.p="dist/",o(0)}([function(r,o,l){function h(ct){return ct&&ct.__esModule?ct:{default:ct}}var y=Object.assign||function(ct){for(var lt=1;lt<arguments.length;lt++){var ut=arguments[lt];for(var ot in ut)Object.prototype.hasOwnProperty.call(ut,ot)&&(ct[ot]=ut[ot])}return ct},D=l(1),O=(h(D),l(6)),F=h(O),R=l(7),B=h(R),j=l(8),q=h(j),U=l(9),W=h(U),G=l(10),Y=h(G),X=l(11),K=h(X),Q=l(14),J=h(Q),et=[],nt=!1,Z={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},it=function(){var ct=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ct&&(nt=!0),nt)return et=(0,K.default)(et,Z),(0,Y.default)(et,Z.once),et},rt=function(){et=(0,J.default)(),it()},tt=function(){et.forEach(function(ct,lt){ct.node.removeAttribute("data-aos"),ct.node.removeAttribute("data-aos-easing"),ct.node.removeAttribute("data-aos-duration"),ct.node.removeAttribute("data-aos-delay")})},st=function(ct){return ct===!0||ct==="mobile"&&W.default.mobile()||ct==="phone"&&W.default.phone()||ct==="tablet"&&W.default.tablet()||typeof ct=="function"&&ct()===!0},ht=function(ct){Z=y(Z,ct),et=(0,J.default)();var lt=document.all&&!window.atob;return st(Z.disable)||lt?tt():(Z.disableMutationObserver||q.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),Z.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Z.easing),document.querySelector("body").setAttribute("data-aos-duration",Z.duration),document.querySelector("body").setAttribute("data-aos-delay",Z.delay),Z.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?it(!0):Z.startEvent==="load"?window.addEventListener(Z.startEvent,function(){it(!0)}):document.addEventListener(Z.startEvent,function(){it(!0)}),window.addEventListener("resize",(0,B.default)(it,Z.debounceDelay,!0)),window.addEventListener("orientationchange",(0,B.default)(it,Z.debounceDelay,!0)),window.addEventListener("scroll",(0,F.default)(function(){(0,Y.default)(et,Z.once)},Z.throttleDelay)),Z.disableMutationObserver||q.default.ready("[data-aos]",rt),et)};r.exports={init:ht,refresh:it,refreshHard:rt}},function(r,o){},,,,,function(r,o){(function(l){function h(st,ht,ct){function lt(_t){var kt=yt,Mt=vt;return yt=vt=void 0,Tt=_t,wt=st.apply(Mt,kt)}function ut(_t){return Tt=_t,gt=setTimeout(dt,ht),Et?lt(_t):wt}function ot(_t){var kt=_t-Ct,Mt=_t-Tt,zt=ht-kt;return Pt?rt(zt,St-Mt):zt}function at(_t){var kt=_t-Ct,Mt=_t-Tt;return Ct===void 0||kt>=ht||kt<0||Pt&&Mt>=St}function dt(){var _t=tt();return at(_t)?ft(_t):void(gt=setTimeout(dt,ot(_t)))}function ft(_t){return gt=void 0,pt&&yt?lt(_t):(yt=vt=void 0,wt)}function mt(){gt!==void 0&&clearTimeout(gt),Tt=0,yt=Ct=vt=gt=void 0}function bt(){return gt===void 0?wt:ft(tt())}function xt(){var _t=tt(),kt=at(_t);if(yt=arguments,vt=this,Ct=_t,kt){if(gt===void 0)return ut(Ct);if(Pt)return gt=setTimeout(dt,ht),lt(Ct)}return gt===void 0&&(gt=setTimeout(dt,ht)),wt}var yt,vt,St,wt,gt,Ct,Tt=0,Et=!1,Pt=!1,pt=!0;if(typeof st!="function")throw new TypeError(j);return ht=R(ht)||0,D(ct)&&(Et=!!ct.leading,Pt="maxWait"in ct,St=Pt?it(R(ct.maxWait)||0,ht):St,pt="trailing"in ct?!!ct.trailing:pt),xt.cancel=mt,xt.flush=bt,xt}function y(st,ht,ct){var lt=!0,ut=!0;if(typeof st!="function")throw new TypeError(j);return D(ct)&&(lt="leading"in ct?!!ct.leading:lt,ut="trailing"in ct?!!ct.trailing:ut),h(st,ht,{leading:lt,maxWait:ht,trailing:ut})}function D(st){var ht=typeof st=="undefined"?"undefined":B(st);return!!st&&(ht=="object"||ht=="function")}function O(st){return!!st&&(typeof st=="undefined"?"undefined":B(st))=="object"}function F(st){return(typeof st=="undefined"?"undefined":B(st))=="symbol"||O(st)&&Z.call(st)==U}function R(st){if(typeof st=="number")return st;if(F(st))return q;if(D(st)){var ht=typeof st.valueOf=="function"?st.valueOf():st;st=D(ht)?ht+"":ht}if(typeof st!="string")return st===0?st:+st;st=st.replace(W,"");var ct=Y.test(st);return ct||X.test(st)?K(st.slice(2),ct?2:8):G.test(st)?q:+st}var B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(st){return typeof st}:function(st){return st&&typeof Symbol=="function"&&st.constructor===Symbol&&st!==Symbol.prototype?"symbol":typeof st},j="Expected a function",q=NaN,U="[object Symbol]",W=/^\s+|\s+$/g,G=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,X=/^0o[0-7]+$/i,K=parseInt,Q=(typeof l=="undefined"?"undefined":B(l))=="object"&&l&&l.Object===Object&&l,J=(typeof self=="undefined"?"undefined":B(self))=="object"&&self&&self.Object===Object&&self,et=Q||J||Function("return this")(),nt=Object.prototype,Z=nt.toString,it=Math.max,rt=Math.min,tt=function(){return et.Date.now()};r.exports=y}).call(o,function(){return this}())},function(r,o){(function(l){function h(tt,st,ht){function ct(pt){var _t=xt,kt=yt;return xt=yt=void 0,Ct=pt,St=tt.apply(kt,_t)}function lt(pt){return Ct=pt,wt=setTimeout(at,st),Tt?ct(pt):St}function ut(pt){var _t=pt-gt,kt=pt-Ct,Mt=st-_t;return Et?it(Mt,vt-kt):Mt}function ot(pt){var _t=pt-gt,kt=pt-Ct;return gt===void 0||_t>=st||_t<0||Et&&kt>=vt}function at(){var pt=rt();return ot(pt)?dt(pt):void(wt=setTimeout(at,ut(pt)))}function dt(pt){return wt=void 0,Pt&&xt?ct(pt):(xt=yt=void 0,St)}function ft(){wt!==void 0&&clearTimeout(wt),Ct=0,xt=gt=yt=wt=void 0}function mt(){return wt===void 0?St:dt(rt())}function bt(){var pt=rt(),_t=ot(pt);if(xt=arguments,yt=this,gt=pt,_t){if(wt===void 0)return lt(gt);if(Et)return wt=setTimeout(at,st),ct(gt)}return wt===void 0&&(wt=setTimeout(at,st)),St}var xt,yt,vt,St,wt,gt,Ct=0,Tt=!1,Et=!1,Pt=!0;if(typeof tt!="function")throw new TypeError(B);return st=F(st)||0,y(ht)&&(Tt=!!ht.leading,Et="maxWait"in ht,vt=Et?Z(F(ht.maxWait)||0,st):vt,Pt="trailing"in ht?!!ht.trailing:Pt),bt.cancel=ft,bt.flush=mt,bt}function y(tt){var st=typeof tt=="undefined"?"undefined":R(tt);return!!tt&&(st=="object"||st=="function")}function D(tt){return!!tt&&(typeof tt=="undefined"?"undefined":R(tt))=="object"}function O(tt){return(typeof tt=="undefined"?"undefined":R(tt))=="symbol"||D(tt)&&nt.call(tt)==q}function F(tt){if(typeof tt=="number")return tt;if(O(tt))return j;if(y(tt)){var st=typeof tt.valueOf=="function"?tt.valueOf():tt;tt=y(st)?st+"":st}if(typeof tt!="string")return tt===0?tt:+tt;tt=tt.replace(U,"");var ht=G.test(tt);return ht||Y.test(tt)?X(tt.slice(2),ht?2:8):W.test(tt)?j:+tt}var R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},B="Expected a function",j=NaN,q="[object Symbol]",U=/^\s+|\s+$/g,W=/^[-+]0x[0-9a-f]+$/i,G=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,X=parseInt,K=(typeof l=="undefined"?"undefined":R(l))=="object"&&l&&l.Object===Object&&l,Q=(typeof self=="undefined"?"undefined":R(self))=="object"&&self&&self.Object===Object&&self,J=K||Q||Function("return this")(),et=Object.prototype,nt=et.toString,Z=Math.max,it=Math.min,rt=function(){return J.Date.now()};r.exports=h}).call(o,function(){return this}())},function(r,o){function l(R){var B=void 0,j=void 0;for(B=0;B<R.length;B+=1)if(j=R[B],j.dataset&&j.dataset.aos||j.children&&l(j.children))return!0;return!1}function h(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function y(){return!!h()}function D(R,B){var j=window.document,q=h(),U=new q(O);F=B,U.observe(j.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function O(R){R&&R.forEach(function(B){var j=Array.prototype.slice.call(B.addedNodes),q=Array.prototype.slice.call(B.removedNodes),U=j.concat(q);if(l(U))return F()})}Object.defineProperty(o,"__esModule",{value:!0});var F=function(){};o.default={isSupported:y,ready:D}},function(r,o){function l(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")}function h(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(o,"__esModule",{value:!0});var y=function(){function j(q,U){for(var W=0;W<U.length;W++){var G=U[W];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(q,G.key,G)}}return function(q,U,W){return U&&j(q.prototype,U),W&&j(q,W),q}}(),D=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,O=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,F=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,R=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,B=function(){function j(){l(this,j)}return y(j,[{key:"phone",value:function(){var q=h();return!(!D.test(q)&&!O.test(q.substr(0,4)))}},{key:"mobile",value:function(){var q=h();return!(!F.test(q)&&!R.test(q.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),j}();o.default=new B},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(y,D,O){var F=y.node.getAttribute("data-aos-once");D>y.position?y.node.classList.add("aos-animate"):typeof F!="undefined"&&(F==="false"||!O&&F!=="true")&&y.node.classList.remove("aos-animate")},h=function(y,D){var O=window.pageYOffset,F=window.innerHeight;y.forEach(function(R,B){l(R,F+O,D)})};o.default=h},function(r,o,l){function h(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(12),D=h(y),O=function(F,R){return F.forEach(function(B,j){B.node.classList.add("aos-init"),B.position=(0,D.default)(B.node,R.offset)}),F};o.default=O},function(r,o,l){function h(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(o,"__esModule",{value:!0});var y=l(13),D=h(y),O=function(F,R){var B=0,j=0,q=window.innerHeight,U={offset:F.getAttribute("data-aos-offset"),anchor:F.getAttribute("data-aos-anchor"),anchorPlacement:F.getAttribute("data-aos-anchor-placement")};switch(U.offset&&!isNaN(U.offset)&&(j=parseInt(U.offset)),U.anchor&&document.querySelectorAll(U.anchor)&&(F=document.querySelectorAll(U.anchor)[0]),B=(0,D.default)(F).top,U.anchorPlacement){case"top-bottom":break;case"center-bottom":B+=F.offsetHeight/2;break;case"bottom-bottom":B+=F.offsetHeight;break;case"top-center":B+=q/2;break;case"bottom-center":B+=q/2+F.offsetHeight;break;case"center-center":B+=q/2+F.offsetHeight/2;break;case"top-top":B+=q;break;case"bottom-top":B+=F.offsetHeight+q;break;case"center-top":B+=F.offsetHeight/2+q}return U.anchorPlacement||U.offset||isNaN(R)||(j=R),B+j};o.default=O},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){for(var y=0,D=0;h&&!isNaN(h.offsetLeft)&&!isNaN(h.offsetTop);)y+=h.offsetLeft-(h.tagName!="BODY"?h.scrollLeft:0),D+=h.offsetTop-(h.tagName!="BODY"?h.scrollTop:0),h=h.offsetParent;return{top:D,left:y}};o.default=l},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var l=function(h){return h=h||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(h,function(y){return{node:y}})};o.default=l}])})})(aos$1);var AOS=getDefaultExportFromCjs(aos$1.exports),aos="",projectView_svelte_svelte_type_style_lang="";const{document:document_1$1}=globals;function create_catch_block$5(e){return{c:noop$2,m:noop$2,p:noop$2,d:noop$2}}function create_then_block$5(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X,K,Q,J,et,nt,Z,it,rt,tt,st,ht,ct,lt,ut,ot,at,dt,ft,mt,bt,xt,yt,vt,St,wt;return{c(){t=element("div"),r=element("div"),o=element("div"),l=element("h4"),l.textContent="Filtre des donn\xE9es",h=space(),y=element("div"),D=element("div"),D.textContent="1.",O=space(),F=element("select"),R=element("option"),R.textContent="D\xE9sactiv\xE9",B=space(),j=element("select"),q=element("option"),q.textContent="\xE9gal \xE0",U=element("option"),U.textContent="sup\xE9rieur ou \xE9gal \xE0",W=element("option"),W.textContent="inf\xE9rieur ou \xE9gal \xE0",G=space(),Y=element("span"),Y.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',X=space(),K=element("div"),Q=element("div"),Q.textContent="2.",J=space(),et=element("select"),nt=element("option"),nt.textContent="D\xE9sactiv\xE9",Z=space(),it=element("select"),rt=element("option"),rt.textContent="\xE9gal \xE0",tt=element("option"),tt.textContent="sup\xE9rieur ou \xE9gal \xE0",st=element("option"),st.textContent="inf\xE9rieur ou \xE9gal \xE0",ht=space(),ct=element("span"),ct.innerHTML='<select class="rtnFilterSelect" disabled=""></select>',lt=space(),ut=element("div"),ot=element("button"),ot.innerHTML='<i class="bx bx-filter-alt pr-1"></i>Filtrer',at=space(),dt=element("div"),ft=element("div"),mt=element("button"),mt.innerHTML='<i class="bx bx-export pr-1"></i>Exporter les donn\xE9es',bt=space(),xt=element("button"),xt.innerHTML='<i class="bx bx-trash pr-1"></i>Supprimer le sondage',yt=space(),vt=element("span"),attr(l,"class","mb-3"),set_style(D,"font-size","1.2rem"),attr(D,"class","mr-3"),R.__value="dis",R.value=R.__value,attr(F,"class","rtnFilterSelect"),q.__value="==",q.value=q.__value,U.__value=">=",U.value=U.__value,W.__value="<=",W.value=W.__value,attr(j,"class","rtnFilterSelect"),j.disabled=!0,attr(y,"class","align-items-center d-flex justify-content-center p-2"),set_style(Q,"font-size","1.2rem"),attr(Q,"class","mr-3"),nt.__value="dis",nt.value=nt.__value,attr(et,"class","rtnFilterSelect"),rt.__value="==",rt.value=rt.__value,tt.__value=">=",tt.value=tt.__value,st.__value="<=",st.value=st.__value,attr(it,"class","rtnFilterSelect"),it.disabled=!0,attr(K,"class","align-items-center d-flex justify-content-center p-2"),set_style(ot,"min-width","100px"),set_style(ot,"border-radius","10px"),set_style(ot,"border-width","0px"),set_style(ot,"padding","8px 15px"),attr(ut,"class","mt-3"),attr(o,"class","neuProjetSimple p-4 text-center h-100 m-0 svelte-lgzmbl"),set_style(o,"color","white"),set_style(o,"background-color","#6219d8"),attr(r,"id","filtreZone"),attr(r,"class","col-12 col-lg-8 p-3 m-0"),set_style(mt,"background-color","#23be6e4d"),attr(mt,"class","btnDash hvr-float"),set_style(xt,"background-color","#db54614d"),attr(xt,"class","btnDash hvr-float"),attr(ft,"class","align-items-stretch d-flex flex-lg-column flex-row h-100 justify-content-lg-between justify-content-around"),attr(dt,"class","col-12 col-lg-4 p-3 m-0"),attr(t,"id","mesResultats"),attr(t,"class","row p-0 p-md-1 mx-auto w-100"),set_style(t,"max-width","1100px")},m(gt,Ct){insert(gt,t,Ct),append(t,r),append(r,o),append(o,l),append(o,h),append(o,y),append(y,D),append(y,O),append(y,F),append(F,R),append(y,B),append(y,j),append(j,q),append(j,U),append(j,W),append(y,G),append(y,Y),append(o,X),append(o,K),append(K,Q),append(K,J),append(K,et),append(et,nt),append(K,Z),append(K,it),append(it,rt),append(it,tt),append(it,st),append(K,ht),append(K,ct),append(o,lt),append(o,ut),append(ut,ot),append(t,at),append(t,dt),append(dt,ft),append(ft,mt),append(ft,bt),append(ft,xt),insert(gt,yt,Ct),insert(gt,vt,Ct),St||(wt=[listen(ot,"click",e[5]),listen(mt,"click",e[6]),listen(xt,"click",e[7]),action_destroyer(e[3].call(null,vt,e[14]))],St=!0)},p(gt,Ct){e=gt},d(gt){gt&&detach(t),gt&&detach(yt),gt&&detach(vt),St=!1,run_all(wt)}}}function create_pending_block$5(e){let t;return{c(){t=element("div"),t.textContent="Chargement..."},m(r,o){insert(r,t,o)},p:noop$2,d(r){r&&detach(t)}}}function create_fragment$c(e){let t,r,o,l,h,y,D,O,F,R=e[0].nom_proj+"",B,j,q,U,W,G,Y,X={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block$5,then:create_then_block$5,catch:create_catch_block$5,value:14};return handle_promise(e[1],X),{c(){t=element("link"),r=element("script"),l=element("script"),y=element("script"),O=space(),F=element("h1"),B=text(R),j=space(),q=element("div"),q.textContent="\u{1F534} Donn\xE9es en direct",U=space(),W=element("div"),G=space(),Y=empty(),X.block.c(),attr(t,"rel","stylesheet"),attr(t,"href","assets/graphs.css"),src_url_equal(r.src,o="assets/scripts/svg-gauge.min.js")||attr(r,"src",o),src_url_equal(l.src,h="assets/scripts/graphFunctions.js")||attr(l,"src",h),src_url_equal(y.src,D="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js")||attr(y,"src",D),attr(y,"integrity","sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="),attr(y,"crossorigin","anonymous"),attr(y,"referrerpolicy","no-referrer"),attr(F,"class","py-2 mb-3 text-center"),attr(q,"class","liveBtn svelte-lgzmbl"),attr(W,"id","headerBar"),attr(W,"class","text-center w-100 py-2 mb-3 mt-5")},m(K,Q){append(document_1$1.head,t),append(document_1$1.head,r),append(document_1$1.head,l),append(document_1$1.head,y),insert(K,O,Q),insert(K,F,Q),append(F,B),insert(K,j,Q),insert(K,q,Q),insert(K,U,Q),insert(K,W,Q),insert(K,G,Q),insert(K,Y,Q),X.block.m(K,X.anchor=Q),X.mount=()=>Y.parentNode,X.anchor=Y},p(K,[Q]){e=K,Q&1&&R!==(R=e[0].nom_proj+"")&&set_data(B,R),update_await_block_branch(X,e,Q)},i:noop$2,o:noop$2,d(K){detach(t),detach(r),detach(l),detach(y),K&&detach(O),K&&detach(F),K&&detach(j),K&&detach(q),K&&detach(U),K&&detach(W),K&&detach(G),K&&detach(Y),X.block.d(K),X.token=null,X=null}}}function instance$b(e,t,r){let{activePage:o}=t,{projData:l}=t,h;var y=[];let D=`<div class="neuProjetSimple p-4 text-center" data-aos="fade-up" data-aos-delay="100">
      <div>
          <h5>##TTRQUEST##</h5>
          <div class="nbRepGraph">\u{1F9CD} ##REPS## r\xE9pondants</div>
          <div class="canvContain"></div>
      </div>
      <div class="d-flex align-itemps-center justify-content-between">
        <button class="screenBtn" onclick="copyGraph(this.parentElement.previousSibling.previousSibling)">\u{1F4C4} Copier le graphique</button>
      </div>
    </div>`;async function O(G={fltr1:"",fltr2:""}){var Y=new Headers;Y.append("Authorization","Token "+xxgc("rtnt")),Y.append("Content-Type","application/json");var X={method:"POST",headers:Y,redirect:"follow",body:JSON.stringify(G)};return fetch(`https://retinereq.jetevois.fr:8000/reps/${l.id}/`,X).then(K=>K.text()).then(K=>JSON.parse(K)).catch(K=>K)}let F=O();const R=async(G={fltr1:"",fltr2:""})=>{let Y=await O(G);Y.data=Object.values(Y.data),console.log(Y);let X=Object.keys(y);if(Y.time.length==0)alert("Aucune donn\xE9es \xE0 afficher.");else{h(Y.time);for(var K=0;K<X.length;K++)y[X[K]](Y.data[X[K]])}},B=()=>{let G,Y;document.querySelectorAll(".rtnFilterSelect")[0].value!="dis"?G=[document.querySelectorAll(".rtnFilterSelect")[0].value,document.querySelectorAll(".rtnFilterSelect")[1].value,document.querySelectorAll(".rtnFilterSelect")[2].value]:G="",document.querySelectorAll(".rtnFilterSelect")[3].value!="dis"?Y=[document.querySelectorAll(".rtnFilterSelect")[3].value,document.querySelectorAll(".rtnFilterSelect")[4].value,document.querySelectorAll(".rtnFilterSelect")[5].value]:Y="",R({fltr1:G,fltr2:Y})};function j(G,Y){if(Y.time.length==0)return;console.log(Y);let X=l,K=JSON.parse(X.jsonContent),Q=document.querySelector("#mesResultats"),J=document.createElement("div"),et;J.id="timeRepGraph",J.classList.add("col-12","col-lg-12","p-3"),J.innerHTML=D,J.querySelector(".canvContain").innerHTML="<canvas></canvas>",Q.insertAdjacentElement("afterbegin",J),h=Z=>{let it=document.querySelector("#timeRepGraph");it.querySelector("h5").innerHTML="Evolution du nombre de r\xE9ponses",it.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Z.length.toString()+" r\xE9pondants",Z=Z.map(tt=>new Date(Date.parse(tt)).toISOString().split("T")[0]);let rt=getDaysArray(Z[0],Z.at(-1)).map(tt=>tt.toISOString().slice(0,10));typeof et=="undefined"?et=new Chart(it.querySelector("canvas"),{plugins:[plugin],type:"bar",data:{labels:rt,datasets:[{data:rt.map(tt=>countOccurrences(Z,tt)),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}}):(et.data.labels=rt,et.data.datasets[0].data=rt.map(tt=>countOccurrences(Z,tt)),et.update())},h(Y.time);const nt=Z=>{Z.srcElement.value=="dis"?(Z.srcElement.nextElementSibling.disabled=!0,Z.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0):(Z.srcElement.nextElementSibling.disabled=!1,Z.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!1,["num"].includes(Y.data[Z.srcElement.value].t)?(Z.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',Z.srcElement.nextElementSibling.nextElementSibling.innerHTML='<input class="rtnFilterSelect" type="number" style="width:100px;">'):["mc","1c"].includes(Y.data[Z.srcElement.value].t)?(Z.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=" disabled>sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=" disabled>inf\xE9rieur ou \xE9gal \xE0</option>',Z.srcElement.nextElementSibling.nextElementSibling.innerHTML=`<select class="rtnFilterSelect" >
        ${Object.keys(Y.data[Z.srcElement.value].d).map(it=>`<option value="${it}">${it}</option>`).join("")}</select>`):["5s"].includes(Y.data[Z.srcElement.value].t)?(Z.srcElement.nextElementSibling.innerHTML='<option value="==">\xE9gal \xE0</option> <option value=">=">sup\xE9rieur ou \xE9gal \xE0</option> <option value="<=">inf\xE9rieur ou \xE9gal \xE0</option>',Z.srcElement.nextElementSibling.nextElementSibling.innerHTML='<select class="rtnFilterSelect"><option value="1">\u2B50</option><option value="2">\u2B50\u2B50</option><option value="3">\u2B50\u2B50\u2B50</option><option value="4">\u2B50\u2B50\u2B50\u2B50</option><option value="5">\u2B50\u2B50\u2B50\u2B50\u2B50</option></select>'):(Z.srcElement.nextElementSibling.disabled=!0,Z.srcElement.nextElementSibling.nextElementSibling.firstChild.disabled=!0))};document.querySelectorAll(".rtnFilterSelect")[0].addEventListener("change",nt),document.querySelectorAll(".rtnFilterSelect")[3].addEventListener("change",nt),Y.data=Object.values(Y.data);for(let Z in Y.data)if(!(K[Z].a.type=="1c"&&K[Z].a.a.length==1)){document.querySelectorAll(".rtnFilterSelect")[0].insertAdjacentHTML("beforeend",`<option value='${Z}'>Question ${Z}</option`),document.querySelectorAll(".rtnFilterSelect")[3].insertAdjacentHTML("beforeend",`<option value='${Z}'>Question ${Z}</option`);let it=document.createElement("div");if(it.classList.add("col-12","col-lg-6","p-3"),it.innerHTML=D.replace("##TTRQUEST##",Z.toString()+". "+K[Z].q),it.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+Y.data[Z].nbrep.toString()+" r\xE9pondants",["mc","1c"].includes(Y.data[Z].t)){let rt=Y.data[Z];it.querySelector(".canvContain").insertAdjacentHTML("afterbegin","<canvas></canvas>");let tt=new Chart(it.querySelector("canvas"),{plugins:[plugin],type:"doughnut",data:{labels:Object.keys(rt.d),datasets:[{data:Object.values(rt.d),backgroundColor:chartColors}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"black",formatter:(st,ht)=>{let ct=0;return ht.chart.data.datasets[0].data.map(ot=>{ct+=ot}),ht.chart.data.labels[ht.dataIndex]+`
`+(st*100/ct).toFixed(1)+"%"},textAlign:"center"},deferred:deferredConfig}}});y[Z.toString()]=st=>{tt.data.labels=Object.keys(st.d),tt.data.datasets[0].data=Object.values(st.d),tt.update(),it.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+st.nbrep.toString()+" r\xE9pondants"}}else if(["cl"].includes(Y.data[Z].t)){let rt=Z,tt=`<canvas id="realCanvCont"></canvas>
          <div id="realScoreCont">
              <div id="gauge2" class="mx-auto w-100 gauge-container three" style="max-width: 200px;"><span class="label"></span></div>
              <div class="starContain py-2 px-3 text-left m-auto" style="font-size: 0.8rem; opacity: 0.9; border-radius: 10px;">
                  \u{1F4A1} Score de sentiment moyen calcul\xE9 par R\xE9tine \xE0 l'aide d'intelligences artificielles. (0 = tr\xE8s n\xE9gatif, 100 = tr\xE8s positif).
              </div>
          </div>`;it.querySelector(".canvContain").insertAdjacentHTML("afterbegin",tt);let st=Y.data[Z];setTimeout(()=>{let ht=Gauge(it.querySelector("#gauge2"),{max:100,value:0,color(ot){return ot<60?"#6219D8":ot<25?"#E74C3C":"#2FCC72"},label(ot){if(ot<10)return`\u{1F621}
`+Math.round(ot);if(ot<25)return`\u{1F615}
`+Math.round(ot);if(ot<50)return`\u{1F610}
`+Math.round(ot);if(ot<75)return`\u{1F642}
`+Math.round(ot);if(ot<=100)return`\u{1F603}
`+Math.round(ot)}});setTimeout(()=>{ht.setValueAnimated(st.d.sentMoy*100,1.5)},100);let ct=new WordCloudChart(it.querySelector("canvas").getContext("2d"),{type:"wordCloud",data:{labels:Object.keys(st.d.nuage),datasets:[{label:"",color:"#6219D8",data:Object.values(st.d.nuage).map(ot=>15+ot*Math.min(125/Object.values(st.d.nuage).length,8))}]},options:{plugins:{legend:{display:!1},tooltips:{mode:"label",callbacks:{label(ot,at){var dt=ot.index;return at.labels[dt]+": "+at.datasets[0].data[dt]}}},deferred:deferredConfig}}});y[rt.toString()]=ot=>{ht.setValueAnimated(ot.d.sentMoy*100,1.5),ct.data.labels=Object.keys(ot.d.nuage),ct.data.datasets[0].data=Object.values(ot.d.nuage).map(at=>15+at*Math.min(125/Object.values(ot.d.nuage).length,8)),it.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+ot.nbrep.toString()+" r\xE9pondants",ct.update()};const lt=ot=>{if(ot.target.dataset.state=="simple"){document.getElementById("realScoreCont").style.display="",document.getElementById("realCanvCont").style.display="none";let at=ht.getValue();ht.setValue(0),ht.setValueAnimated(at),ot.target.dataset.state="detail"}else document.getElementById("realScoreCont").style.display="none",document.getElementById("realCanvCont").style.display="",ct.reset(),ct.update(),ot.target.dataset.state="simple"};let ut=document.createElement("button");ut.innerHTML="\u2795 D\xE9tails",ut.className="screenBtn",ut.dataset.state="simple",ut.addEventListener("click",lt,!1),it.querySelector(".screenBtn").insertAdjacentElement("afterend",ut),ut.click()},1)}else if(["5s"].includes(Y.data[Z].t)){let rt=["\u2B50\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50\u2B50","\u2B50\u2B50\u2B50","\u2B50\u2B50","\u2B50"],tt=Y.data[Z],st='<canvas id ="realCanvCont" style="display:none;"></canvas><div class="starContain py-5"></div>',ht=`<div class="mb-3">Note moyenne de ##STARS##</div>
          <div class="stars">
            <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg> <svg viewBox="0 0 576 512" width="50" title="star"> <path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"/> </svg>
            <div class="cover" style="width: ##PERCENT##%;"></div>
          </div>`;it.querySelector(".canvContain").innerHTML=st,it.querySelector(".starContain").innerHTML=ht.replace("##PERCENT##",(100-tt.d.main*100/5).toString()).replace("##STARS##",tt.d.main);let ct=new Chart(it.querySelector("#realCanvCont"),{plugins:[plugin],type:"bar",data:{labels:rt,datasets:[{data:[tt.d.detail[5],tt.d.detail[4],tt.d.detail[3],tt.d.detail[2],tt.d.detail[1]],backgroundColor:"#6219D8",borderRadius:5}]},options:{indexAxis:"y",scales:scaleParam,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,reversed:!0},datalabels:{color:"white"}}}});y[Z.toString()]=ot=>{it.querySelector(".starContain").innerHTML=ht.replace("##PERCENT##",(100-ot.d.main*100/5).toString()).replace("##STARS##",ot.d.main),ct.data.datasets[0].data=[ot.d.detail[5],ot.d.detail[4],ot.d.detail[3],ot.d.detail[2],ot.d.detail[1]],ct.update(),it.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+ot.nbrep.toString()+" r\xE9pondants"};const lt=ot=>{ot.target.dataset.state=="simple"?(it.querySelector(".starContain").style.display="",it.querySelector("canvas").style.display="none",ot.target.dataset.state="detail"):(it.querySelector(".starContain").style.display="none",it.querySelector("canvas").style.display="",ct.reset(),ct.update(),ot.target.dataset.state="simple")};let ut=document.createElement("button");ut.innerHTML="\u2795 D\xE9tails",ut.className="screenBtn",ut.dataset.state="yes",ut.addEventListener("click",lt,!1),it.querySelector(".screenBtn").insertAdjacentElement("afterend",ut)}else if(["num"].includes(Y.data[Z].t)){let rt=Y.data[Z].d;it.querySelector(".canvContain").innerHTML="<canvas></canvas>",it.querySelector("h5").insertAdjacentHTML("beforeend","<span style='font-size:1rem;opacity:.6;'>(en "+K[Z].a.a[2]+")</span>");let tt=new Chart(it.querySelector("canvas"),{plugins:[plugin],type:"bar",data:{labels:Object.keys(rt.detail).map(st=>st.replaceAll(".0","")),datasets:[{label:"R\xE9partition",data:Object.values(rt.detail),backgroundColor:"#6219D8",borderRadius:5,datalabels:{display:!0,color:"white",formatter(st,ht){return st==0?"":st}}},{label:"Moyenne",data:[{x:rt.main,y:Math.max.apply(Math,Object.values(rt.detail))+1}],backgroundColor:"#2FCC72",type:"bar",xAxisID:"x1",maxBarThickness:8,datalabels:{display:!0,color:"black",textAlign:"center",formatter(st,ht){return`Moyenne
`+ht.dataset.data[0].x.toString()}}}]},options:{scales:{y:{display:!1,grid:{drawOnChartArea:!1}},x:{display:!0,position:"bottom",grid:{drawOnChartArea:!1}},x1:{type:"linear",display:!1,position:"bottom",min:parseInt(Object.keys(rt.detail).at(0).split(",").at(0).replace(".0","").replace(/\D/g,"")),max:parseInt(Object.keys(rt.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),grid:{drawOnChartArea:!1}}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,labels:{padding:10}},tooltip:{filter(st){return st.datasetIndex===0}},datalabels:{display:!1},deferred:deferredConfig}}});y[Z.toString()]=st=>{tt.data.labels=Object.keys(st.d.detail).map(ht=>ht.replaceAll(".0","")),tt.data.datasets[0].data=Object.values(st.d.detail),tt.data.datasets[1].data=[{x:st.d.main,y:Math.max.apply(Math,Object.values(st.d.detail))+1}],tt.options.scales.x1.min=parseInt(Object.keys(st.d.detail).at(0).split(",").at(0).replace(".0","").replace(/\D/g,"")),tt.options.scales.x1.max=parseInt(Object.keys(st.d.detail).at(-1).split(",").at(-1).replace(".0","").replace(/\D/g,"")),tt.update(),it.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+st.nbrep.toString()+" r\xE9pondants"}}else if(["cal"].includes(Y.data[Z].t)){let rt=Y.data[Z].d;it.querySelector(".canvContain").innerHTML="<canvas></canvas>";let tt=new Chart(it.querySelector("canvas"),{plugins:[plugin],type:"bar",data:{labels:Object.keys(rt.dates).map(st=>new Date(Date.parse(st))),datasets:[{data:Object.values(rt.dates),tension:.2,backgroundColor:"#6219D8",borderRadius:5}]},options:{scales:{x:{type:"time",time:{displayFormats:{hour:"HH:mm"}},grid:{display:!1},ticks:{stepSize:1,beginAtZero:!0}},y:{display:!1}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},datalabels:{color:"white"},deferred:deferredConfig}}});y[Z.toString()]=st=>{tt.data.labels=Object.keys(st.d.dates).map(ht=>new Date(Date.parse(ht))),tt.data.datasets[0].data=Object.values(st.d.dates),tt.update(),it.querySelector(".nbRepGraph").innerHTML="\u{1F9CD} "+st.nbrep.toString()+" r\xE9pondants"}}Q.insertAdjacentElement("beforeend",it)}}AOS.init();const q=()=>B(),U=()=>dlData(l.id),W=()=>delSondRtn(l.id);return e.$$set=G=>{"activePage"in G&&r(4,o=G.activePage),"projData"in G&&r(0,l=G.projData)},[l,F,B,j,o,q,U,W]}class ProjectView extends SvelteComponent{constructor(t){super(),init(this,t,instance$b,create_fragment$c,safe_not_equal,{activePage:4,projData:0})}}const exitBeforeEnter=writable(!1),transitioning=writable(null),modals=writable([]),action=writable(null);function closeModals(e=1){if(get_store_value(transitioning))return;const t=get_store_value(modals).length;get_store_value(exitBeforeEnter)&&t>0&&transitioning.set(!0),exitBeforeEnter.set(!1),action.set("pop"),pop(e)}function closeModal(){return closeModals(1)}function openModal(e,t,r){get_store_value(transitioning)||(action.set("push"),get_store_value(exitBeforeEnter)&&get_store_value(modals).length&&transitioning.set(!0),exitBeforeEnter.set(!1),r!=null&&r.replace?modals.update(o=>[...o.slice(0,o.length-1),{component:e,props:t}]):modals.update(o=>[...o,{component:e,props:t}]))}function pop(e=1){modals.update(t=>t.slice(0,Math.max(0,t.length-e)))}function get_each_context$4(e,t,r){const o=e.slice();return o[9]=t[r],o[11]=r,o}const get_loading_slot_changes=e=>({}),get_loading_slot_context=e=>({}),get_backdrop_slot_changes=e=>({}),get_backdrop_slot_context=e=>({});function create_if_block_1$4(e){let t;const r=e[4].backdrop,o=create_slot(r,e,e[3],get_backdrop_slot_context);return{c(){o&&o.c()},m(l,h){o&&o.m(l,h),t=!0},p(l,h){o&&o.p&&(!t||h&8)&&update_slot_base(o,r,l,l[3],t?get_slot_changes(r,l[3],h,get_backdrop_slot_changes):get_all_dirty_from_scope(l[3]),get_backdrop_slot_context)},i(l){t||(transition_in(o,l),t=!0)},o(l){transition_out(o,l),t=!1},d(l){o&&o.d(l)}}}function create_else_block$3(e){let t,r,o;const l=[{isOpen:e[11]===e[0].length-1&&!e[1]},e[9].props];var h=e[9].component;function y(D){let O={};for(let F=0;F<l.length;F+=1)O=assign$1(O,l[F]);return{props:O}}return h&&(t=new h(y()),t.$on("introstart",e[7]),t.$on("outroend",e[8])),{c(){t&&create_component(t.$$.fragment),r=empty()},m(D,O){t&&mount_component(t,D,O),insert(D,r,O),o=!0},p(D,O){const F=O&3?get_spread_update(l,[{isOpen:D[11]===D[0].length-1&&!D[1]},O&1&&get_spread_object(D[9].props)]):{};if(h!==(h=D[9].component)){if(t){group_outros();const R=t;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}h?(t=new h(y()),t.$on("introstart",D[7]),t.$on("outroend",D[8]),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else h&&t.$set(F)},i(D){o||(t&&transition_in(t.$$.fragment,D),o=!0)},o(D){t&&transition_out(t.$$.fragment,D),o=!1},d(D){D&&detach(r),t&&destroy_component(t,D)}}}function create_if_block$5(e){let t,r,o,l={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block$4,then:create_then_block$4,catch:create_catch_block$4,value:12,blocks:[,,,]};return handle_promise(r=getComponent(e[9].component),l),{c(){t=empty(),l.block.c()},m(h,y){insert(h,t,y),l.block.m(h,l.anchor=y),l.mount=()=>t.parentNode,l.anchor=t,o=!0},p(h,y){e=h,l.ctx=e,y&1&&r!==(r=getComponent(e[9].component))&&handle_promise(r,l)||update_await_block_branch(l,e,y)},i(h){o||(transition_in(l.block),o=!0)},o(h){for(let y=0;y<3;y+=1){const D=l.blocks[y];transition_out(D)}o=!1},d(h){h&&detach(t),l.block.d(h),l.token=null,l=null}}}function create_catch_block$4(e){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block$4(e){let t,r,o;const l=[{isOpen:e[11]===e[0].length-1&&!e[1]},e[9].props];var h=e[12];function y(D){let O={};for(let F=0;F<l.length;F+=1)O=assign$1(O,l[F]);return{props:O}}return h&&(t=new h(y()),t.$on("introstart",e[5]),t.$on("outroend",e[6])),{c(){t&&create_component(t.$$.fragment),r=space()},m(D,O){t&&mount_component(t,D,O),insert(D,r,O),o=!0},p(D,O){const F=O&3?get_spread_update(l,[{isOpen:D[11]===D[0].length-1&&!D[1]},O&1&&get_spread_object(D[9].props)]):{};if(h!==(h=D[12])){if(t){group_outros();const R=t;transition_out(R.$$.fragment,1,0,()=>{destroy_component(R,1)}),check_outros()}h?(t=new h(y()),t.$on("introstart",D[5]),t.$on("outroend",D[6]),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else h&&t.$set(F)},i(D){o||(t&&transition_in(t.$$.fragment,D),o=!0)},o(D){t&&transition_out(t.$$.fragment,D),o=!1},d(D){t&&destroy_component(t,D),D&&detach(r)}}}function create_pending_block$4(e){let t,r;const o=e[4].loading,l=create_slot(o,e,e[3],get_loading_slot_context);return{c(){l&&l.c(),t=space()},m(h,y){l&&l.m(h,y),insert(h,t,y),r=!0},p(h,y){l&&l.p&&(!r||y&8)&&update_slot_base(l,o,h,h[3],r?get_slot_changes(o,h[3],y,get_loading_slot_changes):get_all_dirty_from_scope(h[3]),get_loading_slot_context)},i(h){r||(transition_in(l,h),r=!0)},o(h){transition_out(l,h),r=!1},d(h){l&&l.d(h),h&&detach(t)}}}function create_each_block$4(e,t){let r,o,l,h,y,D;const O=[create_if_block$5,create_else_block$3],F=[];function R(B,j){return j&1&&(o=null),o==null&&(o=!!isLazyModal(B[9].component)),o?0:1}return l=R(t,-1),h=F[l]=O[l](t),{key:e,first:null,c(){r=empty(),h.c(),y=empty(),this.first=r},m(B,j){insert(B,r,j),F[l].m(B,j),insert(B,y,j),D=!0},p(B,j){t=B;let q=l;l=R(t,j),l===q?F[l].p(t,j):(group_outros(),transition_out(F[q],1,1,()=>{F[q]=null}),check_outros(),h=F[l],h?h.p(t,j):(h=F[l]=O[l](t),h.c()),transition_in(h,1),h.m(y.parentNode,y))},i(B){D||(transition_in(h),D=!0)},o(B){transition_out(h),D=!1},d(B){B&&detach(r),F[l].d(B),B&&detach(y)}}}function fallback_block(e){let t=[],r=new Map,o,l,h=e[0];const y=D=>D[11];for(let D=0;D<h.length;D+=1){let O=get_each_context$4(e,h,D),F=y(O);r.set(F,t[D]=create_each_block$4(F,O))}return{c(){for(let D=0;D<t.length;D+=1)t[D].c();o=empty()},m(D,O){for(let F=0;F<t.length;F+=1)t[F].m(D,O);insert(D,o,O),l=!0},p(D,O){O&15&&(h=D[0],group_outros(),t=update_keyed_each(t,O,y,1,D,h,r,o.parentNode,outro_and_destroy_block,create_each_block$4,o,get_each_context$4),check_outros())},i(D){if(!l){for(let O=0;O<h.length;O+=1)transition_in(t[O]);l=!0}},o(D){for(let O=0;O<t.length;O+=1)transition_out(t[O]);l=!1},d(D){for(let O=0;O<t.length;O+=1)t[O].d(D);D&&detach(o)}}}function create_fragment$b(e){let t,r,o=e[0].length>0&&create_if_block_1$4(e);const l=e[4].default,h=create_slot(l,e,e[3],null),y=h||fallback_block(e);return{c(){o&&o.c(),t=space(),y&&y.c()},m(D,O){o&&o.m(D,O),insert(D,t,O),y&&y.m(D,O),r=!0},p(D,[O]){D[0].length>0?o?(o.p(D,O),O&1&&transition_in(o,1)):(o=create_if_block_1$4(D),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros()),h?h.p&&(!r||O&8)&&update_slot_base(h,l,D,D[3],r?get_slot_changes(l,D[3],O,null):get_all_dirty_from_scope(D[3]),null):y&&y.p&&(!r||O&15)&&y.p(D,r?O:-1)},i(D){r||(transition_in(o),transition_in(y,D),r=!0)},o(D){transition_out(o),transition_out(y,D),r=!1},d(D){o&&o.d(D),D&&detach(t),y&&y.d(D)}}}function isLazyModal(e){return typeof e.prototype=="undefined"}async function getComponent(e){return e().then(t=>t.default)}function instance$a(e,t,r){let o,l,h;component_subscribe(e,modals,j=>r(0,o=j)),component_subscribe(e,transitioning,j=>r(1,l=j)),component_subscribe(e,exitBeforeEnter,j=>r(2,h=j));let{$$slots:y={},$$scope:D}=t;const O=()=>{set_store_value(exitBeforeEnter,h=!0,h)},F=()=>{set_store_value(transitioning,l=!1,l)},R=()=>{set_store_value(exitBeforeEnter,h=!0,h)},B=()=>{set_store_value(transitioning,l=!1,l)};return e.$$set=j=>{"$$scope"in j&&r(3,D=j.$$scope)},[o,l,h,D,y,O,F,R,B]}class Modals extends SvelteComponent{constructor(t){super(),init(this,t,instance$a,create_fragment$b,safe_not_equal,{})}}function firstSave(e){var t=new Headers;let r=JSON.stringify(e.jsonContent);t.append("Authorization","Token "+xxgc("rtnt")),t.append("Content-Type","application/json");var o=JSON.stringify({nom_proj:e.nom_proj,color:e.color,jsonContent:r,priv:!0});return new Promise((l,h)=>{fetch("https://retinereq.jetevois.fr:8000/sondages/edit/",{method:"POST",headers:t,body:o,redirect:"follow"}).then(y=>y.text()).then(y=>{let D=JSON.parse(y).id;l(D)}).catch(y=>h(y))})}function updateSave(e,t){var r=new Headers;let o=JSON.stringify(e.jsonContent);r.append("Authorization","Token "+xxgc("rtnt")),r.append("Content-Type","application/json");var l=JSON.stringify({nom_proj:e.nom_proj,color:e.color,jsonContent:o,priv:!0});return new Promise((h,y)=>{fetch(`https://retinereq.jetevois.fr:8000/sondages/edit/${t}/`,{method:"PUT",headers:r,body:l,redirect:"follow"}).then(D=>D.text()).then(D=>{new Date().toLocaleString(),h("saved")}).catch(D=>{y(D)})})}const validateSondage=(e,t,r)=>{Swal.fire({title:"Publier le sondage ?",text:"Vous ne pourrez plus effectuer de modifications.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2FCC72",cancelButtonColor:"grey",confirmButtonText:"Publier le sondage",cancelButtonText:"Annuler"}).then(o=>{if(o.isConfirmed){var l=new Headers;let y=JSON.stringify(e.jsonContent);l.append("Authorization","Token "+xxgc("rtnt")),l.append("Content-Type","application/json");var h=JSON.stringify({nom_proj:e.nom_proj,color:e.color,jsonContent:y,priv:!1});return fetch(`https://retinereq.jetevois.fr:8000/sondages/edit/${t}/`,{method:"PUT",headers:l,body:h,redirect:"follow"}).then(D=>D.text()).then(D=>{console.log(D),Swal.fire("Le sondage est publi\xE9!","retine.io/sondage#"+t,"success")}).catch(D=>console.log("error",D))}})};function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,o)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(o){_defineProperty(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function asyncGeneratorStep(e,t,r,o,l,h,y){try{var D=e[h](y),O=D.value}catch(F){return void r(F)}D.done?t(O):Promise.resolve(O).then(o,l)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,l){var h=e.apply(t,r);function y(O){asyncGeneratorStep(h,o,l,y,D,"next",O)}function D(O){asyncGeneratorStep(h,o,l,y,D,"throw",O)}y(void 0)})}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function __decorate(e,t,r,o){var l,h=arguments.length,y=h<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(e,t,r,o);else for(var D=e.length-1;D>=0;D--)(l=e[D])&&(y=(h<3?l(y):h>3?l(t,r,y):l(t,r))||y);return h>3&&y&&Object.defineProperty(t,r,y),y}var t$3=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$8=Symbol(),n$5=new Map;class s$3{constructor(t,r){if(this._$cssResult$=!0,r!==e$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){var t=n$5.get(this.cssText);return t$3&&t===void 0&&(n$5.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}var o$5=e=>new s$3(typeof e=="string"?e:e+"",e$8),r$3=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var l=e.length===1?e[0]:r.reduce((h,y,D)=>h+(O=>{if(O._$cssResult$===!0)return O.cssText;if(typeof O=="number")return O;throw Error("Value passed to 'css' function must be a 'css' function result: "+O+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(y)+e[D+1],e[0]);return new s$3(l,e$8)},i$3=(e,t)=>{t$3?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{var o=document.createElement("style"),l=window.litNonce;l!==void 0&&o.setAttribute("nonce",l),o.textContent=r.cssText,e.appendChild(o)})},S$1=t$3?e=>e:e=>e instanceof CSSStyleSheet?(t=>{var r="";for(var o of t.cssRules)r+=o.cssText;return o$5(r)})(e):e,s$2,e$7=window.trustedTypes,r$2=e$7?e$7.emptyScript:"",h$2=window.reactiveElementPolyfillSupport,o$4={toAttribute(e,t){switch(t){case Boolean:e=e?r$2:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){var r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},n$4=(e,t)=>t!==e&&(t==t||e==e),l$3={attribute:!0,type:String,converter:o$4,reflect:!1,hasChanged:n$4},t$2;class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var r;(r=this.l)!==null&&r!==void 0||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();var t=[];return this.elementProperties.forEach((r,o)=>{var l=this._$Eh(o,r);l!==void 0&&(this._$Eu.set(l,o),t.push(l))}),t}static createProperty(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l$3;if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(t,r),!r.noAccessor&&!this.prototype.hasOwnProperty(t)){var o=typeof t=="symbol"?Symbol():"__"+t,l=this.getPropertyDescriptor(t,o,r);l!==void 0&&Object.defineProperty(this.prototype,t,l)}}static getPropertyDescriptor(t,r,o){return{get(){return this[r]},set(l){var h=this[t];this[r]=l,this.requestUpdate(t,h,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var r=this.properties,o=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(var l of o)this.createProperty(l,r[l])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){var r=[];if(Array.isArray(t)){var o=new Set(t.flat(1/0).reverse());for(var l of o)r.unshift(S$1(l))}else t!==void 0&&r.push(S$1(t));return r}static _$Eh(t,r){var o=r.attribute;return o===!1?void 0:typeof o=="string"?o:typeof t=="string"?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Em(),this.requestUpdate(),(t=this.constructor.l)===null||t===void 0||t.forEach(r=>r(this))}addController(t){var r,o;((r=this._$Eg)!==null&&r!==void 0?r:this._$Eg=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((o=t.hostConnected)===null||o===void 0||o.call(t))}removeController(t){var r;(r=this._$Eg)===null||r===void 0||r.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((t,r)=>{this.hasOwnProperty(r)&&(this._$Et.set(r,this[r]),delete this[r])})}createRenderRoot(){var t,r=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return i$3(r,this.constructor.elementStyles),r}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$Eg)===null||t===void 0||t.forEach(r=>{var o;return(o=r.hostConnected)===null||o===void 0?void 0:o.call(r)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$Eg)===null||t===void 0||t.forEach(r=>{var o;return(o=r.hostDisconnected)===null||o===void 0?void 0:o.call(r)})}attributeChangedCallback(t,r,o){this._$AK(t,o)}_$ES(t,r){var o,l,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l$3,y=this.constructor._$Eh(t,h);if(y!==void 0&&h.reflect===!0){var D=((l=(o=h.converter)===null||o===void 0?void 0:o.toAttribute)!==null&&l!==void 0?l:o$4.toAttribute)(r,h.type);this._$Ei=t,D==null?this.removeAttribute(y):this.setAttribute(y,D),this._$Ei=null}}_$AK(t,r){var o,l,h,y=this.constructor,D=y._$Eu.get(t);if(D!==void 0&&this._$Ei!==D){var O=y.getPropertyOptions(D),F=O.converter,R=(h=(l=(o=F)===null||o===void 0?void 0:o.fromAttribute)!==null&&l!==void 0?l:typeof F=="function"?F:null)!==null&&h!==void 0?h:o$4.fromAttribute;this._$Ei=D,this[D]=R(r,O.type),this._$Ei=null}}requestUpdate(t,r,o){var l=!0;t!==void 0&&(((o=o||this.constructor.getPropertyOptions(t)).hasChanged||n$4)(this[t],r)?(this._$AL.has(t)||this._$AL.set(t,r),o.reflect===!0&&this._$Ei!==t&&(this._$E_===void 0&&(this._$E_=new Map),this._$E_.set(t,o))):l=!1),!this.isUpdatePending&&l&&(this._$Ep=this._$EC())}_$EC(){var t=this;return _asyncToGenerator(function*(){t.isUpdatePending=!0;try{yield t._$Ep}catch(o){Promise.reject(o)}var r=t.scheduleUpdate();return r!=null&&(yield r),!t.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((l,h)=>this[h]=l),this._$Et=void 0);var r=!1,o=this._$AL;try{(r=this.shouldUpdate(o))?(this.willUpdate(o),(t=this._$Eg)===null||t===void 0||t.forEach(l=>{var h;return(h=l.hostUpdate)===null||h===void 0?void 0:h.call(l)}),this.update(o)):this._$EU()}catch(l){throw r=!1,this._$EU(),l}r&&this._$AE(o)}}willUpdate(t){}_$AE(t){var r;(r=this._$Eg)===null||r===void 0||r.forEach(o=>{var l;return(l=o.hostUpdated)===null||l===void 0?void 0:l.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){this._$E_!==void 0&&(this._$E_.forEach((r,o)=>this._$ES(o,this[o],r)),this._$E_=void 0),this._$EU()}updated(t){}firstUpdated(t){}}a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},h$2==null||h$2({ReactiveElement:a$1}),((s$2=globalThis.reactiveElementVersions)!==null&&s$2!==void 0?s$2:globalThis.reactiveElementVersions=[]).push("1.2.1");var i$2=globalThis.trustedTypes,s$1=i$2?i$2.createPolicy("lit-html",{createHTML:e=>e}):void 0,e$6="lit$".concat((Math.random()+"").slice(9),"$"),o$3="?"+e$6,n$3="<".concat(o$3,">"),l$2=document,h$1=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return l$2.createComment(e)},r$1=e=>e===null||typeof e!="object"&&typeof e!="function",d=Array.isArray,u=e=>{var t;return d(e)||typeof((t=e)===null||t===void 0?void 0:t[Symbol.iterator])=="function"},c=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m=/"/g,g=/^(?:script|style|textarea)$/i,p=e=>function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];return{_$litType$:e,strings:t,values:o}},$=p(1),b=Symbol.for("lit-noChange"),w=Symbol.for("lit-nothing"),T=new WeakMap,x=(e,t,r)=>{var o,l,h=(o=r==null?void 0:r.renderBefore)!==null&&o!==void 0?o:t,y=h._$litPart$;if(y===void 0){var D=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;h._$litPart$=y=new N(t.insertBefore(h$1(),D),D,void 0,r!=null?r:{})}return y._$AI(e),y},A=l$2.createTreeWalker(l$2,129,null,!1),C=(e,t)=>{for(var r,o=e.length-1,l=[],h=t===2?"<svg>":"",y=c,D=0;D<o;D++){for(var O=e[D],F=void 0,R=void 0,B=-1,j=0;j<O.length&&(y.lastIndex=j,(R=y.exec(O))!==null);)j=y.lastIndex,y===c?R[1]==="!--"?y=v:R[1]!==void 0?y=a:R[2]!==void 0?(g.test(R[2])&&(r=RegExp("</"+R[2],"g")),y=f):R[3]!==void 0&&(y=f):y===f?R[0]===">"?(y=r!=null?r:c,B=-1):R[1]===void 0?B=-2:(B=y.lastIndex-R[2].length,F=R[1],y=R[3]===void 0?f:R[3]==='"'?m:_):y===m||y===_?y=f:y===v||y===a?y=c:(y=f,r=void 0);var q=y===f&&e[D+1].startsWith("/>")?" ":"";h+=y===c?O+n$3:B>=0?(l.push(F),O.slice(0,B)+"$lit$"+O.slice(B)+e$6+q):O+e$6+(B===-2?(l.push(void 0),D):q)}var U=h+(e[o]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[s$1!==void 0?s$1.createHTML(U):U,l]};class E{constructor(t,r){var o,{strings:l,_$litType$:h}=t;this.parts=[];var y=0,D=0,O=l.length-1,F=this.parts,[R,B]=C(l,h);if(this.el=E.createElement(R,r),A.currentNode=this.el.content,h===2){var j=this.el.content,q=j.firstChild;q.remove(),j.append(...q.childNodes)}for(;(o=A.nextNode())!==null&&F.length<O;){if(o.nodeType===1){if(o.hasAttributes()){var U=[];for(var W of o.getAttributeNames())if(W.endsWith("$lit$")||W.startsWith(e$6)){var G=B[D++];if(U.push(W),G!==void 0){var Y=o.getAttribute(G.toLowerCase()+"$lit$").split(e$6),X=/([.?@])?(.*)/.exec(G);F.push({type:1,index:y,name:X[2],strings:Y,ctor:X[1]==="."?M:X[1]==="?"?H:X[1]==="@"?I:S})}else F.push({type:6,index:y})}for(var K of U)o.removeAttribute(K)}if(g.test(o.tagName)){var Q=o.textContent.split(e$6),J=Q.length-1;if(J>0){o.textContent=i$2?i$2.emptyScript:"";for(var et=0;et<J;et++)o.append(Q[et],h$1()),A.nextNode(),F.push({type:2,index:++y});o.append(Q[J],h$1())}}}else if(o.nodeType===8)if(o.data===o$3)F.push({type:2,index:y});else for(var nt=-1;(nt=o.data.indexOf(e$6,nt+1))!==-1;)F.push({type:7,index:y}),nt+=e$6.length-1;y++}}static createElement(t,r){var o=l$2.createElement("template");return o.innerHTML=t,o}}function P(e,t){var r,o,l,h,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,D=arguments.length>3?arguments[3]:void 0;if(t===b)return t;var O=D!==void 0?(r=y._$Cl)===null||r===void 0?void 0:r[D]:y._$Cu,F=r$1(t)?void 0:t._$litDirective$;return(O==null?void 0:O.constructor)!==F&&((o=O==null?void 0:O._$AO)===null||o===void 0||o.call(O,!1),F===void 0?O=void 0:(O=new F(e))._$AT(e,y,D),D!==void 0?((l=(h=y)._$Cl)!==null&&l!==void 0?l:h._$Cl=[])[D]=O:y._$Cu=O),O!==void 0&&(t=P(e,O._$AS(e,t.values),O,D)),t}class V{constructor(t,r){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var r,{el:{content:o},parts:l}=this._$AD,h=((r=t==null?void 0:t.creationScope)!==null&&r!==void 0?r:l$2).importNode(o,!0);A.currentNode=h;for(var y=A.nextNode(),D=0,O=0,F=l[0];F!==void 0;){if(D===F.index){var R=void 0;F.type===2?R=new N(y,y.nextSibling,this,t):F.type===1?R=new F.ctor(y,F.name,F.strings,this,t):F.type===6&&(R=new L(y,this,t)),this.v.push(R),F=l[++O]}D!==(F==null?void 0:F.index)&&(y=A.nextNode(),D++)}return h}m(t){var r=0;for(var o of this.v)o!==void 0&&(o.strings!==void 0?(o._$AI(t,o,r),r+=o.strings.length-2):o._$AI(t[r])),r++}}class N{constructor(t,r,o,l){var h;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=o,this.options=l,this._$Cg=(h=l==null?void 0:l.isConnected)===null||h===void 0||h}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cg}get parentNode(){var t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&t.nodeType===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t){t=P(this,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),r$1(t)?t===w||t==null||t===""?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):t._$litType$!==void 0?this.T(t):t.nodeType!==void 0?this.S(t):u(t)?this.A(t):this.$(t)}M(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,r)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==w&&r$1(this._$AH)?this._$AA.nextSibling.data=t:this.S(l$2.createTextNode(t)),this._$AH=t}T(t){var r,{values:o,_$litType$:l}=t,h=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=E.createElement(l.h,this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===h)this._$AH.m(o);else{var y=new V(h,this),D=y.p(this.options);y.m(o),this.S(D),this._$AH=y}}_$AC(t){var r=T.get(t.strings);return r===void 0&&T.set(t.strings,r=new E(t)),r}A(t){d(this._$AH)||(this._$AH=[],this._$AR());var r,o=this._$AH,l=0;for(var h of t)l===o.length?o.push(r=new N(this.M(h$1()),this.M(h$1()),this,this.options)):r=o[l],r._$AI(h),l++;l<o.length&&(this._$AR(r&&r._$AB.nextSibling,l),o.length=l)}_$AR(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0;for((t=this._$AP)===null||t===void 0||t.call(this,!1,!0,o);r&&r!==this._$AB;){var l=r.nextSibling;r.remove(),r=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cg=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}}class S{constructor(t,r,o,l,h){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=r,this._$AM=l,this.options=h,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,h=this.strings,y=!1;if(h===void 0)t=P(this,t,r,0),(y=!r$1(t)||t!==this._$AH&&t!==b)&&(this._$AH=t);else{var D,O,F=t;for(t=h[0],D=0;D<h.length-1;D++)(O=P(this,F[o+D],r,D))===b&&(O=this._$AH[D]),y||(y=!r$1(O)||O!==this._$AH[D]),O===w?t=w:t!==w&&(t+=(O!=null?O:"")+h[D+1]),this._$AH[D]=O}y&&!l&&this.k(t)}k(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t!=null?t:"")}}class M extends S{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===w?void 0:t}}var k=i$2?i$2.emptyScript:"";class H extends S{constructor(){super(...arguments),this.type=4}k(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(t,r,o,l,h){super(t,r,o,l,h),this.type=5}_$AI(t){var r;if((t=(r=P(this,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&r!==void 0?r:w)!==b){var o=this._$AH,l=t===w&&o!==w||t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive,h=t!==w&&(o===w||l);l&&this.element.removeEventListener(this.name,this,o),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}}handleEvent(t){var r,o;typeof this._$AH=="function"?this._$AH.call((o=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&o!==void 0?o:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,r,o){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}var z=window.litHtmlPolyfillSupport,l$1,o$2;z==null||z(E,N),((t$2=globalThis.litHtmlVersions)!==null&&t$2!==void 0?t$2:globalThis.litHtmlVersions=[]).push("2.1.2");class s extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,r,o=super.createRenderRoot();return(t=(r=this.renderOptions).renderBefore)!==null&&t!==void 0||(r.renderBefore=o.firstChild),o}update(t){var r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=x(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Dt)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Dt)===null||t===void 0||t.setConnected(!1)}render(){return b}}s.finalized=!0,s._$litElement$=!0,(l$1=globalThis.litElementHydrateSupport)===null||l$1===void 0||l$1.call(globalThis,{LitElement:s});var n$2=globalThis.litElementPolyfillSupport;n$2==null||n$2({LitElement:s});((o$2=globalThis.litElementVersions)!==null&&o$2!==void 0?o$2:globalThis.litElementVersions=[]).push("3.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n$1=e=>t=>typeof t=="function"?((r,o)=>(window.customElements.define(r,o),o))(e,t):((r,o)=>{var{kind:l,elements:h}=o;return{kind:l,elements:h,finisher(y){window.customElements.define(r,y)}}})(e,t),i$1=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?_objectSpread2(_objectSpread2({},t),{},{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}};function e$5(e){return(t,r)=>r!==void 0?((o,l,h)=>{l.constructor.createProperty(h,o)})(e,t,r):i$1(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$1=e=>{var{finisher:t,descriptor:r}=e;return(o,l)=>{var h;if(l===void 0){var y=(h=o.originalKey)!==null&&h!==void 0?h:o.key,D=r!=null?{kind:"method",placement:"prototype",key:y,descriptor:r(o.key)}:_objectSpread2(_objectSpread2({},o),{},{key:y});return t!=null&&(D.finisher=function(F){t(F,y)}),D}var O=o.constructor;r!==void 0&&Object.defineProperty(o,l,r(l)),t==null||t(O,l)}},n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function i(e,t){return o$1({descriptor:r=>{var o={get(){var h,y;return(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(e))!==null&&y!==void 0?y:null},enumerable:!0,configurable:!0};if(t){var l=typeof r=="symbol"?Symbol():"__"+r;o.get=function(){var h,y;return this[l]===void 0&&(this[l]=(y=(h=this.renderRoot)===null||h===void 0?void 0:h.querySelector(e))!==null&&y!==void 0?y:null),this[l]}}return o}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */((n=window.HTMLSlotElement)===null||n===void 0?void 0:n.prototype.assignedElements)!=null;var lottie$1={exports:{}};(function(module){var root,factory;typeof navigator!="undefined"&&(root=window||{},factory=function(window){var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}(function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(e){if(typeof e=="object"&&e.length){var t,r=createSizedArray(e.length),o=e.length;for(t=0;t<o;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,o){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=o<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,o){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=o<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=(_count=0,function(){return idPrefix+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(e,t,r){var o,l,h,y,D,O,F,R;switch(O=r*(1-t),F=r*(1-(D=6*e-(y=Math.floor(6*e)))*t),R=r*(1-(1-D)*t),y%6){case 0:o=r,l=R,h=O;break;case 1:o=F,l=r,h=O;break;case 2:o=O,l=r,h=R;break;case 3:o=O,l=F,h=r;break;case 4:o=R,l=O,h=r;break;case 5:o=r,l=O,h=F}return[o,l,h]}function RGBtoHSV(e,t,r){var o,l=Math.max(e,t,r),h=Math.min(e,t,r),y=l-h,D=l===0?0:y/l,O=l/255;switch(l){case h:o=0;break;case e:o=t-r+y*(t<r?6:0),o/=6*y;break;case t:o=r-e+2*y,o/=6*y;break;case r:o=e-t+4*y,o/=6*y}return[o,D,O]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=t.length===1?"0"+t:t;return function(o,l,h){return o<0&&(o=0),l<0&&(l=0),h<0&&(h=0),"#"+r[o]+r[l]+r[h]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],o=0;o<r.length;o+=1)r[o](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,o=this._cbs[e].length;r<o;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,o-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var createTypedArray=function(){function e(t,r){var o,l=0,h=[];switch(t){case"int16":case"uint8c":o=1;break;default:o=1.1}for(l=0;l<r;l+=1)h.push(o);return h}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(t,r){return t==="float32"?new Float32Array(r):t==="int16"?new Int16Array(r):t==="uint8c"?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function createNS(e){return document.createElementNS(svgNS,e)}function createTag(e){return document.createElement(e)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return blendModeEnums[e]||""}),blendModeEnums,lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"},Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,o=Math.round;function l(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function h(ot){if(ot===0)return this;var at=e(ot),dt=t(ot);return this._t(at,-dt,0,0,dt,at,0,0,0,0,1,0,0,0,0,1)}function y(ot){if(ot===0)return this;var at=e(ot),dt=t(ot);return this._t(1,0,0,0,0,at,-dt,0,0,dt,at,0,0,0,0,1)}function D(ot){if(ot===0)return this;var at=e(ot),dt=t(ot);return this._t(at,0,dt,0,0,1,0,0,-dt,0,at,0,0,0,0,1)}function O(ot){if(ot===0)return this;var at=e(ot),dt=t(ot);return this._t(at,-dt,0,0,dt,at,0,0,0,0,1,0,0,0,0,1)}function F(ot,at){return this._t(1,at,ot,1,0,0)}function R(ot,at){return this.shear(r(ot),r(at))}function B(ot,at){var dt=e(at),ft=t(at);return this._t(dt,ft,0,0,-ft,dt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(ot),1,0,0,0,0,1,0,0,0,0,1)._t(dt,-ft,0,0,ft,dt,0,0,0,0,1,0,0,0,0,1)}function j(ot,at,dt){return dt||dt===0||(dt=1),ot===1&&at===1&&dt===1?this:this._t(ot,0,0,0,0,at,0,0,0,0,dt,0,0,0,0,1)}function q(ot,at,dt,ft,mt,bt,xt,yt,vt,St,wt,gt,Ct,Tt,Et,Pt){return this.props[0]=ot,this.props[1]=at,this.props[2]=dt,this.props[3]=ft,this.props[4]=mt,this.props[5]=bt,this.props[6]=xt,this.props[7]=yt,this.props[8]=vt,this.props[9]=St,this.props[10]=wt,this.props[11]=gt,this.props[12]=Ct,this.props[13]=Tt,this.props[14]=Et,this.props[15]=Pt,this}function U(ot,at,dt){return dt=dt||0,ot!==0||at!==0||dt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,ot,at,dt,1):this}function W(ot,at,dt,ft,mt,bt,xt,yt,vt,St,wt,gt,Ct,Tt,Et,Pt){var pt=this.props;if(ot===1&&at===0&&dt===0&&ft===0&&mt===0&&bt===1&&xt===0&&yt===0&&vt===0&&St===0&&wt===1&&gt===0)return pt[12]=pt[12]*ot+pt[15]*Ct,pt[13]=pt[13]*bt+pt[15]*Tt,pt[14]=pt[14]*wt+pt[15]*Et,pt[15]*=Pt,this._identityCalculated=!1,this;var _t=pt[0],kt=pt[1],Mt=pt[2],zt=pt[3],It=pt[4],Lt=pt[5],At=pt[6],Nt=pt[7],Rt=pt[8],Ot=pt[9],Ft=pt[10],Dt=pt[11],Bt=pt[12],jt=pt[13],Ht=pt[14],Ut=pt[15];return pt[0]=_t*ot+kt*mt+Mt*vt+zt*Ct,pt[1]=_t*at+kt*bt+Mt*St+zt*Tt,pt[2]=_t*dt+kt*xt+Mt*wt+zt*Et,pt[3]=_t*ft+kt*yt+Mt*gt+zt*Pt,pt[4]=It*ot+Lt*mt+At*vt+Nt*Ct,pt[5]=It*at+Lt*bt+At*St+Nt*Tt,pt[6]=It*dt+Lt*xt+At*wt+Nt*Et,pt[7]=It*ft+Lt*yt+At*gt+Nt*Pt,pt[8]=Rt*ot+Ot*mt+Ft*vt+Dt*Ct,pt[9]=Rt*at+Ot*bt+Ft*St+Dt*Tt,pt[10]=Rt*dt+Ot*xt+Ft*wt+Dt*Et,pt[11]=Rt*ft+Ot*yt+Ft*gt+Dt*Pt,pt[12]=Bt*ot+jt*mt+Ht*vt+Ut*Ct,pt[13]=Bt*at+jt*bt+Ht*St+Ut*Tt,pt[14]=Bt*dt+jt*xt+Ht*wt+Ut*Et,pt[15]=Bt*ft+jt*yt+Ht*gt+Ut*Pt,this._identityCalculated=!1,this}function G(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Y(ot){for(var at=0;at<16;){if(ot.props[at]!==this.props[at])return!1;at+=1}return!0}function X(ot){var at;for(at=0;at<16;at+=1)ot.props[at]=this.props[at];return ot}function K(ot){var at;for(at=0;at<16;at+=1)this.props[at]=ot[at]}function Q(ot,at,dt){return{x:ot*this.props[0]+at*this.props[4]+dt*this.props[8]+this.props[12],y:ot*this.props[1]+at*this.props[5]+dt*this.props[9]+this.props[13],z:ot*this.props[2]+at*this.props[6]+dt*this.props[10]+this.props[14]}}function J(ot,at,dt){return ot*this.props[0]+at*this.props[4]+dt*this.props[8]+this.props[12]}function et(ot,at,dt){return ot*this.props[1]+at*this.props[5]+dt*this.props[9]+this.props[13]}function nt(ot,at,dt){return ot*this.props[2]+at*this.props[6]+dt*this.props[10]+this.props[14]}function Z(){var ot=this.props[0]*this.props[5]-this.props[1]*this.props[4],at=this.props[5]/ot,dt=-this.props[1]/ot,ft=-this.props[4]/ot,mt=this.props[0]/ot,bt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/ot,xt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/ot,yt=new Matrix;return yt.props[0]=at,yt.props[1]=dt,yt.props[4]=ft,yt.props[5]=mt,yt.props[12]=bt,yt.props[13]=xt,yt}function it(ot){return this.getInverseMatrix().applyToPointArray(ot[0],ot[1],ot[2]||0)}function rt(ot){var at,dt=ot.length,ft=[];for(at=0;at<dt;at+=1)ft[at]=it(ot[at]);return ft}function tt(ot,at,dt){var ft=createTypedArray("float32",6);if(this.isIdentity())ft[0]=ot[0],ft[1]=ot[1],ft[2]=at[0],ft[3]=at[1],ft[4]=dt[0],ft[5]=dt[1];else{var mt=this.props[0],bt=this.props[1],xt=this.props[4],yt=this.props[5],vt=this.props[12],St=this.props[13];ft[0]=ot[0]*mt+ot[1]*xt+vt,ft[1]=ot[0]*bt+ot[1]*yt+St,ft[2]=at[0]*mt+at[1]*xt+vt,ft[3]=at[0]*bt+at[1]*yt+St,ft[4]=dt[0]*mt+dt[1]*xt+vt,ft[5]=dt[0]*bt+dt[1]*yt+St}return ft}function st(ot,at,dt){return this.isIdentity()?[ot,at,dt]:[ot*this.props[0]+at*this.props[4]+dt*this.props[8]+this.props[12],ot*this.props[1]+at*this.props[5]+dt*this.props[9]+this.props[13],ot*this.props[2]+at*this.props[6]+dt*this.props[10]+this.props[14]]}function ht(ot,at){if(this.isIdentity())return ot+","+at;var dt=this.props;return Math.round(100*(ot*dt[0]+at*dt[4]+dt[12]))/100+","+Math.round(100*(ot*dt[1]+at*dt[5]+dt[13]))/100}function ct(){for(var ot=0,at=this.props,dt="matrix3d(";ot<16;)dt+=o(1e4*at[ot])/1e4,dt+=ot===15?")":",",ot+=1;return dt}function lt(ot){return ot<1e-6&&ot>0||ot>-1e-6&&ot<0?o(1e4*ot)/1e4:ot}function ut(){var ot=this.props;return"matrix("+lt(ot[0])+","+lt(ot[1])+","+lt(ot[4])+","+lt(ot[5])+","+lt(ot[12])+","+lt(ot[13])+")"}return function(){this.reset=l,this.rotate=h,this.rotateX=y,this.rotateY=D,this.rotateZ=O,this.skew=R,this.skewFromAxis=B,this.shear=F,this.scale=j,this.setTransform=q,this.translate=U,this.transform=W,this.applyToPoint=Q,this.applyToX=J,this.applyToY=et,this.applyToZ=nt,this.applyToPointArray=st,this.applyToTriplePoints=tt,this.applyToPointStringified=ht,this.toCSS=ct,this.to2dCSS=ut,this.clone=X,this.cloneFromProps=K,this.equals=Y,this.inversePoints=rt,this.inversePoint=it,this.getInverseMatrix=Z,this._t=this.transform,this.isIdentity=G,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();(function(e,t){var r=this,o=256,l=t.pow(o,6),h=t.pow(2,52),y=2*h,D=255;function O(q){var U,W=q.length,G=this,Y=0,X=G.i=G.j=0,K=G.S=[];for(W||(q=[W++]);Y<o;)K[Y]=Y++;for(Y=0;Y<o;Y++)K[Y]=K[X=D&X+q[Y%W]+(U=K[Y])],K[X]=U;G.g=function(Q){for(var J,et=0,nt=G.i,Z=G.j,it=G.S;Q--;)J=it[nt=D&nt+1],et=et*o+it[D&(it[nt]=it[Z=D&Z+J])+(it[Z]=J)];return G.i=nt,G.j=Z,et}}function F(q,U){return U.i=q.i,U.j=q.j,U.S=q.S.slice(),U}function R(q,U){var W,G=[],Y=typeof q;if(U&&Y=="object")for(W in q)try{G.push(R(q[W],U-1))}catch{}return G.length?G:Y=="string"?q:q+"\0"}function B(q,U){for(var W,G=q+"",Y=0;Y<G.length;)U[D&Y]=D&(W^=19*U[D&Y])+G.charCodeAt(Y++);return j(U)}function j(q){return String.fromCharCode.apply(0,q)}t.seedrandom=function(q,U,W){var G=[],Y=B(R((U=U===!0?{entropy:!0}:U||{}).entropy?[q,j(e)]:q===null?function(){try{var Q=new Uint8Array(o);return(r.crypto||r.msCrypto).getRandomValues(Q),j(Q)}catch{var J=r.navigator,et=J&&J.plugins;return[+new Date,r,et,r.screen,j(e)]}}():q,3),G),X=new O(G),K=function(){for(var Q=X.g(6),J=l,et=0;Q<h;)Q=(Q+et)*o,J*=o,et=X.g(1);for(;Q>=y;)Q/=2,J/=2,et>>>=1;return(Q+et)/J};return K.int32=function(){return 0|X.g(4)},K.quick=function(){return X.g(4)/4294967296},K.double=K,B(j(X.S),e),(U.pass||W||function(Q,J,et,nt){return nt&&(nt.S&&F(nt,X),Q.state=function(){return F(X,{})}),et?(t.random=Q,J):Q})(K,Y,"global"in U?U.global:this==t,U.state)},B(t.random(),e)})([],BMMath);var BezierFactory=function(){var e={getBezierEasing:function(R,B,j,q,U){var W=U||("bez_"+R+"_"+B+"_"+j+"_"+q).replace(/\./g,"p");if(t[W])return t[W];var G=new F([R,B,j,q]);return t[W]=G,G}},t={},r=.1,o=typeof Float32Array=="function";function l(R,B){return 1-3*B+3*R}function h(R,B){return 3*B-6*R}function y(R){return 3*R}function D(R,B,j){return((l(B,j)*R+h(B,j))*R+y(B))*R}function O(R,B,j){return 3*l(B,j)*R*R+2*h(B,j)*R+y(B)}function F(R){this._p=R,this._mSampleValues=o?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return F.prototype={get:function(R){var B=this._p[0],j=this._p[1],q=this._p[2],U=this._p[3];return this._precomputed||this._precompute(),B===j&&q===U?R:R===0?0:R===1?1:D(this._getTForX(R),j,U)},_precompute:function(){var R=this._p[0],B=this._p[1],j=this._p[2],q=this._p[3];this._precomputed=!0,R===B&&j===q||this._calcSampleValues()},_calcSampleValues:function(){for(var R=this._p[0],B=this._p[2],j=0;j<11;++j)this._mSampleValues[j]=D(j*r,R,B)},_getTForX:function(R){for(var B=this._p[0],j=this._p[2],q=this._mSampleValues,U=0,W=1;W!==10&&q[W]<=R;++W)U+=r;var G=U+(R-q[--W])/(q[W+1]-q[W])*r,Y=O(G,B,j);return Y>=.001?function(X,K,Q,J){for(var et=0;et<4;++et){var nt=O(K,Q,J);if(nt===0)return K;K-=(D(K,Q,J)-X)/nt}return K}(R,G,B,j):Y===0?G:function(X,K,Q,J,et){var nt,Z,it=0;do(nt=D(Z=K+(Q-K)/2,J,et)-X)>0?Q=Z:K=Z;while(Math.abs(nt)>1e-7&&++it<10);return Z}(R,U,U+r,B,j)}},e}();function extendPrototype(e,t){var r,o,l=e.length;for(r=0;r<l;r+=1)for(var h in o=e[r].prototype)Object.prototype.hasOwnProperty.call(o,h)&&(t.prototype[h]=o[h])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}function bezFunction(){var e=Math;function t(F,R,B,j,q,U){var W=F*j+R*q+B*U-q*j-U*F-B*R;return W>-.001&&W<.001}var r=function(F,R,B,j){var q,U,W,G,Y,X,K=defaultCurveSegments,Q=0,J=[],et=[],nt=bezierLengthPool.newElement();for(W=B.length,q=0;q<K;q+=1){for(Y=q/(K-1),X=0,U=0;U<W;U+=1)G=bmPow(1-Y,3)*F[U]+3*bmPow(1-Y,2)*Y*B[U]+3*(1-Y)*bmPow(Y,2)*j[U]+bmPow(Y,3)*R[U],J[U]=G,et[U]!==null&&(X+=bmPow(J[U]-et[U],2)),et[U]=J[U];X&&(Q+=X=bmSqrt(X)),nt.percents[q]=Y,nt.lengths[q]=Q}return nt.addedLength=Q,nt};function o(F){this.segmentLength=0,this.points=new Array(F)}function l(F,R){this.partialLength=F,this.point=R}var h,y=(h={},function(F,R,B,j){var q=(F[0]+"_"+F[1]+"_"+R[0]+"_"+R[1]+"_"+B[0]+"_"+B[1]+"_"+j[0]+"_"+j[1]).replace(/\./g,"p");if(!h[q]){var U,W,G,Y,X,K,Q,J=defaultCurveSegments,et=0,nt=null;F.length===2&&(F[0]!==R[0]||F[1]!==R[1])&&t(F[0],F[1],R[0],R[1],F[0]+B[0],F[1]+B[1])&&t(F[0],F[1],R[0],R[1],R[0]+j[0],R[1]+j[1])&&(J=2);var Z=new o(J);for(G=B.length,U=0;U<J;U+=1){for(Q=createSizedArray(G),X=U/(J-1),K=0,W=0;W<G;W+=1)Y=bmPow(1-X,3)*F[W]+3*bmPow(1-X,2)*X*(F[W]+B[W])+3*(1-X)*bmPow(X,2)*(R[W]+j[W])+bmPow(X,3)*R[W],Q[W]=Y,nt!==null&&(K+=bmPow(Q[W]-nt[W],2));et+=K=bmSqrt(K),Z.points[U]=new l(K,Q),nt=Q}Z.segmentLength=et,h[q]=Z}return h[q]});function D(F,R){var B=R.percents,j=R.lengths,q=B.length,U=bmFloor((q-1)*F),W=F*R.addedLength,G=0;if(U===q-1||U===0||W===j[U])return B[U];for(var Y=j[U]>W?-1:1,X=!0;X;)if(j[U]<=W&&j[U+1]>W?(G=(W-j[U])/(j[U+1]-j[U]),X=!1):U+=Y,U<0||U>=q-1){if(U===q-1)return B[U];X=!1}return B[U]+(B[U+1]-B[U])*G}var O=createTypedArray("float32",8);return{getSegmentsLength:function(F){var R,B=segmentsLengthPool.newElement(),j=F.c,q=F.v,U=F.o,W=F.i,G=F._length,Y=B.lengths,X=0;for(R=0;R<G-1;R+=1)Y[R]=r(q[R],q[R+1],U[R],W[R+1]),X+=Y[R].addedLength;return j&&G&&(Y[R]=r(q[R],q[0],U[R],W[0]),X+=Y[R].addedLength),B.totalLength=X,B},getNewSegment:function(F,R,B,j,q,U,W){q<0?q=0:q>1&&(q=1);var G,Y=D(q,W),X=D(U=U>1?1:U,W),K=F.length,Q=1-Y,J=1-X,et=Q*Q*Q,nt=Y*Q*Q*3,Z=Y*Y*Q*3,it=Y*Y*Y,rt=Q*Q*J,tt=Y*Q*J+Q*Y*J+Q*Q*X,st=Y*Y*J+Q*Y*X+Y*Q*X,ht=Y*Y*X,ct=Q*J*J,lt=Y*J*J+Q*X*J+Q*J*X,ut=Y*X*J+Q*X*X+Y*J*X,ot=Y*X*X,at=J*J*J,dt=X*J*J+J*X*J+J*J*X,ft=X*X*J+J*X*X+X*J*X,mt=X*X*X;for(G=0;G<K;G+=1)O[4*G]=e.round(1e3*(et*F[G]+nt*B[G]+Z*j[G]+it*R[G]))/1e3,O[4*G+1]=e.round(1e3*(rt*F[G]+tt*B[G]+st*j[G]+ht*R[G]))/1e3,O[4*G+2]=e.round(1e3*(ct*F[G]+lt*B[G]+ut*j[G]+ot*R[G]))/1e3,O[4*G+3]=e.round(1e3*(at*F[G]+dt*B[G]+ft*j[G]+mt*R[G]))/1e3;return O},getPointInSegment:function(F,R,B,j,q,U){var W=D(q,U),G=1-W;return[e.round(1e3*(G*G*G*F[0]+(W*G*G+G*W*G+G*G*W)*B[0]+(W*W*G+G*W*W+W*G*W)*j[0]+W*W*W*R[0]))/1e3,e.round(1e3*(G*G*G*F[1]+(W*G*G+G*W*G+G*G*W)*B[1]+(W*W*G+G*W*W+W*G*W)*j[1]+W*W*W*R[1]))/1e3]},buildBezierData:y,pointOnLine2D:t,pointOnLine3D:function(F,R,B,j,q,U,W,G,Y){if(B===0&&U===0&&Y===0)return t(F,R,j,q,W,G);var X,K=e.sqrt(e.pow(j-F,2)+e.pow(q-R,2)+e.pow(U-B,2)),Q=e.sqrt(e.pow(W-F,2)+e.pow(G-R,2)+e.pow(Y-B,2)),J=e.sqrt(e.pow(W-j,2)+e.pow(G-q,2)+e.pow(Y-U,2));return(X=K>Q?K>J?K-Q-J:J-Q-K:J>Q?J-Q-K:Q-K-J)>-1e-4&&X<1e-4}}}(function(){for(var e=0,t=["ms","moz","webkit","o"],r=0;r<t.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[t[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(o){var l=new Date().getTime(),h=Math.max(0,16-(l-e)),y=setTimeout(function(){o(l+h)},h);return e=l+h,y}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(o){clearTimeout(o)})})();var bez=bezFunction(),dataManager=function(){var e,t,r=1,o=[],l={onmessage:function(){},postMessage:function(O){e({data:O})}},h={postMessage:function(O){l.onmessage({data:O})}};function y(){t||(t=function(O){if(window.Worker&&window.Blob&&_useWebWorker){var F=new Blob(["var _workerSelf = self; self.onmessage = ",O.toString()],{type:"text/javascript"}),R=URL.createObjectURL(F);return new Worker(R)}return e=O,l}(function(O){if(h.dataManager||(h.dataManager=function(){function R(nt,Z){var it,rt,tt,st,ht,ct,lt=nt.length;for(rt=0;rt<lt;rt+=1)if("ks"in(it=nt[rt])&&!it.completed){if(it.completed=!0,it.tt&&(nt[rt-1].td=it.tt),it.hasMask){var ut=it.masksProperties;for(st=ut.length,tt=0;tt<st;tt+=1)if(ut[tt].pt.k.i)q(ut[tt].pt.k);else for(ct=ut[tt].pt.k.length,ht=0;ht<ct;ht+=1)ut[tt].pt.k[ht].s&&q(ut[tt].pt.k[ht].s[0]),ut[tt].pt.k[ht].e&&q(ut[tt].pt.k[ht].e[0])}it.ty===0?(it.layers=B(it.refId,Z),R(it.layers,Z)):it.ty===4?j(it.shapes):it.ty===5&&J(it)}}function B(nt,Z){for(var it=0,rt=Z.length;it<rt;){if(Z[it].id===nt)return Z[it].layers.__used?JSON.parse(JSON.stringify(Z[it].layers)):(Z[it].layers.__used=!0,Z[it].layers);it+=1}return null}function j(nt){var Z,it,rt;for(Z=nt.length-1;Z>=0;Z-=1)if(nt[Z].ty==="sh")if(nt[Z].ks.k.i)q(nt[Z].ks.k);else for(rt=nt[Z].ks.k.length,it=0;it<rt;it+=1)nt[Z].ks.k[it].s&&q(nt[Z].ks.k[it].s[0]),nt[Z].ks.k[it].e&&q(nt[Z].ks.k[it].e[0]);else nt[Z].ty==="gr"&&j(nt[Z].it)}function q(nt){var Z,it=nt.i.length;for(Z=0;Z<it;Z+=1)nt.i[Z][0]+=nt.v[Z][0],nt.i[Z][1]+=nt.v[Z][1],nt.o[Z][0]+=nt.v[Z][0],nt.o[Z][1]+=nt.v[Z][1]}function U(nt,Z){var it=Z?Z.split("."):[100,100,100];return nt[0]>it[0]||!(it[0]>nt[0])&&(nt[1]>it[1]||!(it[1]>nt[1])&&(nt[2]>it[2]||!(it[2]>nt[2])&&null))}var W,G=function(){var nt=[4,4,14];function Z(it){var rt,tt,st,ht=it.length;for(rt=0;rt<ht;rt+=1)it[rt].ty===5&&(st=void 0,st=(tt=it[rt]).t.d,tt.t.d={k:[{s:st,t:0}]})}return function(it){if(U(nt,it.v)&&(Z(it.layers),it.assets)){var rt,tt=it.assets.length;for(rt=0;rt<tt;rt+=1)it.assets[rt].layers&&Z(it.assets[rt].layers)}}}(),Y=(W=[4,7,99],function(nt){if(nt.chars&&!U(W,nt.v)){var Z,it,rt,tt,st,ht=nt.chars.length;for(Z=0;Z<ht;Z+=1)if(nt.chars[Z].data&&nt.chars[Z].data.shapes)for(rt=(st=nt.chars[Z].data.shapes[0].it).length,it=0;it<rt;it+=1)(tt=st[it].ks.k).__converted||(q(st[it].ks.k),tt.__converted=!0)}}),X=function(){var nt=[5,7,15];function Z(it){var rt,tt,st=it.length;for(rt=0;rt<st;rt+=1)it[rt].ty===5&&(tt=void 0,typeof(tt=it[rt].t.p).a=="number"&&(tt.a={a:0,k:tt.a}),typeof tt.p=="number"&&(tt.p={a:0,k:tt.p}),typeof tt.r=="number"&&(tt.r={a:0,k:tt.r}))}return function(it){if(U(nt,it.v)&&(Z(it.layers),it.assets)){var rt,tt=it.assets.length;for(rt=0;rt<tt;rt+=1)it.assets[rt].layers&&Z(it.assets[rt].layers)}}}(),K=function(){var nt=[4,1,9];function Z(rt){var tt,st,ht,ct=rt.length;for(tt=0;tt<ct;tt+=1)if(rt[tt].ty==="gr")Z(rt[tt].it);else if(rt[tt].ty==="fl"||rt[tt].ty==="st")if(rt[tt].c.k&&rt[tt].c.k[0].i)for(ht=rt[tt].c.k.length,st=0;st<ht;st+=1)rt[tt].c.k[st].s&&(rt[tt].c.k[st].s[0]/=255,rt[tt].c.k[st].s[1]/=255,rt[tt].c.k[st].s[2]/=255,rt[tt].c.k[st].s[3]/=255),rt[tt].c.k[st].e&&(rt[tt].c.k[st].e[0]/=255,rt[tt].c.k[st].e[1]/=255,rt[tt].c.k[st].e[2]/=255,rt[tt].c.k[st].e[3]/=255);else rt[tt].c.k[0]/=255,rt[tt].c.k[1]/=255,rt[tt].c.k[2]/=255,rt[tt].c.k[3]/=255}function it(rt){var tt,st=rt.length;for(tt=0;tt<st;tt+=1)rt[tt].ty===4&&Z(rt[tt].shapes)}return function(rt){if(U(nt,rt.v)&&(it(rt.layers),rt.assets)){var tt,st=rt.assets.length;for(tt=0;tt<st;tt+=1)rt.assets[tt].layers&&it(rt.assets[tt].layers)}}}(),Q=function(){var nt=[4,4,18];function Z(rt){var tt,st,ht;for(tt=rt.length-1;tt>=0;tt-=1)if(rt[tt].ty==="sh")if(rt[tt].ks.k.i)rt[tt].ks.k.c=rt[tt].closed;else for(ht=rt[tt].ks.k.length,st=0;st<ht;st+=1)rt[tt].ks.k[st].s&&(rt[tt].ks.k[st].s[0].c=rt[tt].closed),rt[tt].ks.k[st].e&&(rt[tt].ks.k[st].e[0].c=rt[tt].closed);else rt[tt].ty==="gr"&&Z(rt[tt].it)}function it(rt){var tt,st,ht,ct,lt,ut,ot=rt.length;for(st=0;st<ot;st+=1){if((tt=rt[st]).hasMask){var at=tt.masksProperties;for(ct=at.length,ht=0;ht<ct;ht+=1)if(at[ht].pt.k.i)at[ht].pt.k.c=at[ht].cl;else for(ut=at[ht].pt.k.length,lt=0;lt<ut;lt+=1)at[ht].pt.k[lt].s&&(at[ht].pt.k[lt].s[0].c=at[ht].cl),at[ht].pt.k[lt].e&&(at[ht].pt.k[lt].e[0].c=at[ht].cl)}tt.ty===4&&Z(tt.shapes)}}return function(rt){if(U(nt,rt.v)&&(it(rt.layers),rt.assets)){var tt,st=rt.assets.length;for(tt=0;tt<st;tt+=1)rt.assets[tt].layers&&it(rt.assets[tt].layers)}}}();function J(nt){nt.t.a.length!==0||"m"in nt.t.p||(nt.singleShape=!0)}var et={completeData:function(nt){nt.__complete||(K(nt),G(nt),Y(nt),X(nt),Q(nt),R(nt.layers,nt.assets),nt.__complete=!0)}};return et.checkColors=K,et.checkChars=Y,et.checkPathProperties=X,et.checkShapes=Q,et.completeLayers=R,et}()),h.assetLoader||(h.assetLoader=function(){function R(B){var j=B.getResponseHeader("content-type");return j&&B.responseType==="json"&&j.indexOf("json")!==-1||B.response&&typeof B.response=="object"?B.response:B.response&&typeof B.response=="string"?JSON.parse(B.response):B.responseText?JSON.parse(B.responseText):null}return{load:function(B,j,q,U){var W,G=new XMLHttpRequest;try{G.responseType="json"}catch{}G.onreadystatechange=function(){if(G.readyState===4)if(G.status===200)W=R(G),q(W);else try{W=R(G),q(W)}catch(Y){U&&U(Y)}};try{G.open("GET",B,!0)}catch{G.open("GET",j+"/"+B,!0)}G.send()}}}()),O.data.type==="loadAnimation")h.assetLoader.load(O.data.path,O.data.fullPath,function(R){h.dataManager.completeData(R),h.postMessage({id:O.data.id,payload:R,status:"success"})},function(){h.postMessage({id:O.data.id,status:"error"})});else if(O.data.type==="complete"){var F=O.data.animation;h.dataManager.completeData(F),h.postMessage({id:O.data.id,payload:F,status:"success"})}else O.data.type==="loadData"&&h.assetLoader.load(O.data.path,O.data.fullPath,function(R){h.postMessage({id:O.data.id,payload:R,status:"success"})},function(){h.postMessage({id:O.data.id,status:"error"})})}),t.onmessage=function(O){var F=O.data,R=F.id,B=o[R];o[R]=null,F.status==="success"?B.onComplete(F.payload):B.onError&&B.onError()})}function D(O,F){var R="processId_"+(r+=1);return o[R]={onComplete:O,onError:F},R}return{loadAnimation:function(O,F,R){y();var B=D(F,R);t.postMessage({type:"loadAnimation",path:O,fullPath:window.location.origin+window.location.pathname,id:B})},loadData:function(O,F,R){y();var B=D(F,R);t.postMessage({type:"loadData",path:O,fullPath:window.location.origin+window.location.pathname,id:B})},completeAnimation:function(O,F,R){y();var B=D(F,R);t.postMessage({type:"complete",animation:O,id:B})}}}();function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",o="normal",l=t.length,h=0;h<l;h+=1)switch(t[h].toLowerCase()){case"italic":o="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:o,weight:e.fWeight||r}}var FontManager=function(){var e={w:0,size:0,shapes:[]},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],o=[65039,8205];function l(O,F){var R=createTag("span");R.setAttribute("aria-hidden",!0),R.style.fontFamily=F;var B=createTag("span");B.innerText="giItT1WQy@!-/#",R.style.position="absolute",R.style.left="-10000px",R.style.top="-10000px",R.style.fontSize="300px",R.style.fontVariant="normal",R.style.fontStyle="normal",R.style.fontWeight="normal",R.style.letterSpacing="0",R.appendChild(B),document.body.appendChild(R);var j=B.offsetWidth;return B.style.fontFamily=function(q){var U,W=q.split(","),G=W.length,Y=[];for(U=0;U<G;U+=1)W[U]!=="sans-serif"&&W[U]!=="monospace"&&Y.push(W[U]);return Y.join(",")}(O)+", "+F,{node:B,w:j,parent:R}}function h(O,F){var R=createNS("text");R.style.fontSize="100px";var B=getFontProperties(F);return R.setAttribute("font-family",F.fFamily),R.setAttribute("font-style",B.style),R.setAttribute("font-weight",B.weight),R.textContent="1",F.fClass?(R.style.fontFamily="inherit",R.setAttribute("class",F.fClass)):R.style.fontFamily=F.fFamily,O.appendChild(R),createTag("canvas").getContext("2d").font=F.fWeight+" "+F.fStyle+" 100px "+F.fFamily,R}var y=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};y.isModifier=function(O,F){var R=O.toString(16)+F.toString(16);return r.indexOf(R)!==-1},y.isZeroWidthJoiner=function(O,F){return F?O===o[0]&&F===o[1]:O===o[1]},y.isCombinedCharacter=function(O){return t.indexOf(O)!==-1};var D={addChars:function(O){if(O){var F;this.chars||(this.chars=[]);var R,B,j=O.length,q=this.chars.length;for(F=0;F<j;F+=1){for(R=0,B=!1;R<q;)this.chars[R].style===O[F].style&&this.chars[R].fFamily===O[F].fFamily&&this.chars[R].ch===O[F].ch&&(B=!0),R+=1;B||(this.chars.push(O[F]),q+=1)}}},addFonts:function(O,F){if(O){if(this.chars)return this.isLoaded=!0,void(this.fonts=O.list);var R,B=O.list,j=B.length,q=j;for(R=0;R<j;R+=1){var U,W,G=!0;if(B[R].loaded=!1,B[R].monoCase=l(B[R].fFamily,"monospace"),B[R].sansCase=l(B[R].fFamily,"sans-serif"),B[R].fPath){if(B[R].fOrigin==="p"||B[R].origin===3){if((U=document.querySelectorAll('style[f-forigin="p"][f-family="'+B[R].fFamily+'"], style[f-origin="3"][f-family="'+B[R].fFamily+'"]')).length>0&&(G=!1),G){var Y=createTag("style");Y.setAttribute("f-forigin",B[R].fOrigin),Y.setAttribute("f-origin",B[R].origin),Y.setAttribute("f-family",B[R].fFamily),Y.type="text/css",Y.innerText="@font-face {font-family: "+B[R].fFamily+"; font-style: normal; src: url('"+B[R].fPath+"');}",F.appendChild(Y)}}else if(B[R].fOrigin==="g"||B[R].origin===1){for(U=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),W=0;W<U.length;W+=1)U[W].href.indexOf(B[R].fPath)!==-1&&(G=!1);if(G){var X=createTag("link");X.setAttribute("f-forigin",B[R].fOrigin),X.setAttribute("f-origin",B[R].origin),X.type="text/css",X.rel="stylesheet",X.href=B[R].fPath,document.body.appendChild(X)}}else if(B[R].fOrigin==="t"||B[R].origin===2){for(U=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),W=0;W<U.length;W+=1)B[R].fPath===U[W].src&&(G=!1);if(G){var K=createTag("link");K.setAttribute("f-forigin",B[R].fOrigin),K.setAttribute("f-origin",B[R].origin),K.setAttribute("rel","stylesheet"),K.setAttribute("href",B[R].fPath),F.appendChild(K)}}}else B[R].loaded=!0,q-=1;B[R].helper=h(F,B[R]),B[R].cache={},this.fonts.push(B[R])}q===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(O,F,R){for(var B=0,j=this.chars.length;B<j;){if(this.chars[B].ch===O&&this.chars[B].style===F&&this.chars[B].fFamily===R)return this.chars[B];B+=1}return(typeof O=="string"&&O.charCodeAt(0)!==13||!O)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",O,F,R)),e},getFontByName:function(O){for(var F=0,R=this.fonts.length;F<R;){if(this.fonts[F].fName===O)return this.fonts[F];F+=1}return this.fonts[0]},measureText:function(O,F,R){var B=this.getFontByName(F),j=O.charCodeAt(0);if(!B.cache[j+1]){var q=B.helper;if(O===" "){q.textContent="|"+O+"|";var U=q.getComputedTextLength();q.textContent="||";var W=q.getComputedTextLength();B.cache[j+1]=(U-W)/100}else q.textContent=O,B.cache[j+1]=q.getComputedTextLength()/100}return B.cache[j+1]*R},checkLoadedFonts:function(){var O,F,R,B=this.fonts.length,j=B;for(O=0;O<B;O+=1)this.fonts[O].loaded?j-=1:this.fonts[O].fOrigin==="n"||this.fonts[O].origin===0?this.fonts[O].loaded=!0:(F=this.fonts[O].monoCase.node,R=this.fonts[O].monoCase.w,F.offsetWidth!==R?(j-=1,this.fonts[O].loaded=!0):(F=this.fonts[O].sansCase.node,R=this.fonts[O].sansCase.w,F.offsetWidth!==R&&(j-=1,this.fonts[O].loaded=!0)),this.fonts[O].loaded&&(this.fonts[O].sansCase.parent.parentNode.removeChild(this.fonts[O].sansCase.parent),this.fonts[O].monoCase.parent.parentNode.removeChild(this.fonts[O].monoCase.parent)));j!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return y.prototype=D,y}(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function r(q,U){var W,G=this.offsetTime;this.propType==="multidimensional"&&(W=createTypedArray("float32",this.pv.length));for(var Y,X,K,Q,J,et,nt,Z,it,rt=U.lastIndex,tt=rt,st=this.keyframes.length-1,ht=!0;ht;){if(Y=this.keyframes[tt],X=this.keyframes[tt+1],tt===st-1&&q>=X.t-G){Y.h&&(Y=X),rt=0;break}if(X.t-G>q){rt=tt;break}tt<st-1?tt+=1:(rt=0,ht=!1)}K=this.keyframesMetadata[tt]||{};var ct,lt,ut,ot,at,dt,ft,mt,bt,xt,yt=X.t-G,vt=Y.t-G;if(Y.to){K.bezierData||(K.bezierData=bez.buildBezierData(Y.s,X.s||Y.e,Y.to,Y.ti));var St=K.bezierData;if(q>=yt||q<vt){var wt=q>=yt?St.points.length-1:0;for(J=St.points[wt].point.length,Q=0;Q<J;Q+=1)W[Q]=St.points[wt].point[Q]}else{K.__fnct?it=K.__fnct:(it=BezierFactory.getBezierEasing(Y.o.x,Y.o.y,Y.i.x,Y.i.y,Y.n).get,K.__fnct=it),et=it((q-vt)/(yt-vt));var gt,Ct=St.segmentLength*et,Tt=U.lastFrame<q&&U._lastKeyframeIndex===tt?U._lastAddedLength:0;for(Z=U.lastFrame<q&&U._lastKeyframeIndex===tt?U._lastPoint:0,ht=!0,nt=St.points.length;ht;){if(Tt+=St.points[Z].partialLength,Ct===0||et===0||Z===St.points.length-1){for(J=St.points[Z].point.length,Q=0;Q<J;Q+=1)W[Q]=St.points[Z].point[Q];break}if(Ct>=Tt&&Ct<Tt+St.points[Z+1].partialLength){for(gt=(Ct-Tt)/St.points[Z+1].partialLength,J=St.points[Z].point.length,Q=0;Q<J;Q+=1)W[Q]=St.points[Z].point[Q]+(St.points[Z+1].point[Q]-St.points[Z].point[Q])*gt;break}Z<nt-1?Z+=1:ht=!1}U._lastPoint=Z,U._lastAddedLength=Tt-St.points[Z].partialLength,U._lastKeyframeIndex=tt}}else{var Et,Pt,pt,_t,kt;if(st=Y.s.length,ct=X.s||Y.e,this.sh&&Y.h!==1)if(q>=yt)W[0]=ct[0],W[1]=ct[1],W[2]=ct[2];else if(q<=vt)W[0]=Y.s[0],W[1]=Y.s[1],W[2]=Y.s[2];else{var Mt=o(Y.s),zt=o(ct);lt=W,ut=function(It,Lt,At){var Nt,Rt,Ot,Ft,Dt,Bt=[],jt=It[0],Ht=It[1],Ut=It[2],Xt=It[3],qt=Lt[0],Wt=Lt[1],Gt=Lt[2],Yt=Lt[3];return(Rt=jt*qt+Ht*Wt+Ut*Gt+Xt*Yt)<0&&(Rt=-Rt,qt=-qt,Wt=-Wt,Gt=-Gt,Yt=-Yt),1-Rt>1e-6?(Nt=Math.acos(Rt),Ot=Math.sin(Nt),Ft=Math.sin((1-At)*Nt)/Ot,Dt=Math.sin(At*Nt)/Ot):(Ft=1-At,Dt=At),Bt[0]=Ft*jt+Dt*qt,Bt[1]=Ft*Ht+Dt*Wt,Bt[2]=Ft*Ut+Dt*Gt,Bt[3]=Ft*Xt+Dt*Yt,Bt}(Mt,zt,(q-vt)/(yt-vt)),ot=ut[0],at=ut[1],dt=ut[2],ft=ut[3],mt=Math.atan2(2*at*ft-2*ot*dt,1-2*at*at-2*dt*dt),bt=Math.asin(2*ot*at+2*dt*ft),xt=Math.atan2(2*ot*ft-2*at*dt,1-2*ot*ot-2*dt*dt),lt[0]=mt/degToRads,lt[1]=bt/degToRads,lt[2]=xt/degToRads}else for(tt=0;tt<st;tt+=1)Y.h!==1&&(q>=yt?et=1:q<vt?et=0:(Y.o.x.constructor===Array?(K.__fnct||(K.__fnct=[]),K.__fnct[tt]?it=K.__fnct[tt]:(Et=Y.o.x[tt]===void 0?Y.o.x[0]:Y.o.x[tt],Pt=Y.o.y[tt]===void 0?Y.o.y[0]:Y.o.y[tt],pt=Y.i.x[tt]===void 0?Y.i.x[0]:Y.i.x[tt],_t=Y.i.y[tt]===void 0?Y.i.y[0]:Y.i.y[tt],it=BezierFactory.getBezierEasing(Et,Pt,pt,_t).get,K.__fnct[tt]=it)):K.__fnct?it=K.__fnct:(Et=Y.o.x,Pt=Y.o.y,pt=Y.i.x,_t=Y.i.y,it=BezierFactory.getBezierEasing(Et,Pt,pt,_t).get,Y.keyframeMetadata=it),et=it((q-vt)/(yt-vt)))),ct=X.s||Y.e,kt=Y.h===1?Y.s[tt]:Y.s[tt]+(ct[tt]-Y.s[tt])*et,this.propType==="multidimensional"?W[tt]=kt:W=kt}return U.lastIndex=rt,W}function o(q){var U=q[0]*degToRads,W=q[1]*degToRads,G=q[2]*degToRads,Y=Math.cos(U/2),X=Math.cos(W/2),K=Math.cos(G/2),Q=Math.sin(U/2),J=Math.sin(W/2),et=Math.sin(G/2);return[Q*J*K+Y*X*et,Q*X*K+Y*J*et,Y*J*K-Q*X*et,Y*X*K-Q*J*et]}function l(){var q=this.comp.renderedFrame-this.offsetTime,U=this.keyframes[0].t-this.offsetTime,W=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(q===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=W&&q>=W||this._caching.lastFrame<U&&q<U))){this._caching.lastFrame>=q&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var G=this.interpolateValue(q,this._caching);this.pv=G}return this._caching.lastFrame=q,this.pv}function h(q){var U;if(this.propType==="unidimensional")U=q*this.mult,t(this.v-U)>1e-5&&(this.v=U,this._mdf=!0);else for(var W=0,G=this.v.length;W<G;)U=q[W]*this.mult,t(this.v[W]-U)>1e-5&&(this.v[W]=U,this._mdf=!0),W+=1}function y(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var q;this.lock=!0,this._mdf=this._isFirstFrame;var U=this.effectsSequence.length,W=this.kf?this.pv:this.data.k;for(q=0;q<U;q+=1)W=this.effectsSequence[q](W);this.setVValue(W),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function D(q){this.effectsSequence.push(q),this.container.addDynamicProperty(this)}function O(q,U,W,G){this.propType="unidimensional",this.mult=W||1,this.data=U,this.v=W?U.k*W:U.k,this.pv=U.k,this._mdf=!1,this.elem=q,this.container=G,this.comp=q.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.addEffect=D}function F(q,U,W,G){var Y;this.propType="multidimensional",this.mult=W||1,this.data=U,this._mdf=!1,this.elem=q,this.container=G,this.comp=q.comp,this.k=!1,this.kf=!1,this.frameId=-1;var X=U.k.length;for(this.v=createTypedArray("float32",X),this.pv=createTypedArray("float32",X),this.vel=createTypedArray("float32",X),Y=0;Y<X;Y+=1)this.v[Y]=U.k[Y]*this.mult,this.pv[Y]=U.k[Y];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=y,this.setVValue=h,this.addEffect=D}function R(q,U,W,G){this.propType="unidimensional",this.keyframes=U.k,this.keyframesMetadata=[],this.offsetTime=q.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=U,this.mult=W||1,this.elem=q,this.container=G,this.comp=q.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=y,this.setVValue=h,this.interpolateValue=r,this.effectsSequence=[l.bind(this)],this.addEffect=D}function B(q,U,W,G){var Y;this.propType="multidimensional";var X,K,Q,J,et=U.k.length;for(Y=0;Y<et-1;Y+=1)U.k[Y].to&&U.k[Y].s&&U.k[Y+1]&&U.k[Y+1].s&&(X=U.k[Y].s,K=U.k[Y+1].s,Q=U.k[Y].to,J=U.k[Y].ti,(X.length===2&&(X[0]!==K[0]||X[1]!==K[1])&&bez.pointOnLine2D(X[0],X[1],K[0],K[1],X[0]+Q[0],X[1]+Q[1])&&bez.pointOnLine2D(X[0],X[1],K[0],K[1],K[0]+J[0],K[1]+J[1])||X.length===3&&(X[0]!==K[0]||X[1]!==K[1]||X[2]!==K[2])&&bez.pointOnLine3D(X[0],X[1],X[2],K[0],K[1],K[2],X[0]+Q[0],X[1]+Q[1],X[2]+Q[2])&&bez.pointOnLine3D(X[0],X[1],X[2],K[0],K[1],K[2],K[0]+J[0],K[1]+J[1],K[2]+J[2]))&&(U.k[Y].to=null,U.k[Y].ti=null),X[0]===K[0]&&X[1]===K[1]&&Q[0]===0&&Q[1]===0&&J[0]===0&&J[1]===0&&(X.length===2||X[2]===K[2]&&Q[2]===0&&J[2]===0)&&(U.k[Y].to=null,U.k[Y].ti=null));this.effectsSequence=[l.bind(this)],this.data=U,this.keyframes=U.k,this.keyframesMetadata=[],this.offsetTime=q.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=W||1,this.elem=q,this.container=G,this.comp=q.comp,this.getValue=y,this.setVValue=h,this.interpolateValue=r,this.frameId=-1;var nt=U.k[0].s.length;for(this.v=createTypedArray("float32",nt),this.pv=createTypedArray("float32",nt),Y=0;Y<nt;Y+=1)this.v[Y]=e,this.pv[Y]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",nt)},this.addEffect=D}var j={getProp:function(q,U,W,G,Y){var X;if(U.k.length)if(typeof U.k[0]=="number")X=new F(q,U,G,Y);else switch(W){case 0:X=new R(q,U,G,Y);break;case 1:X=new B(q,U,G,Y)}else X=new O(q,U,G,Y);return X.effectsSequence.length&&Y.addDynamicProperty(X),X}};return j}(),TransformPropertyFactory=function(){var e=[0,0];function t(r,o,l){if(this.elem=r,this.frameId=-1,this.propType="transform",this.data=o,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(l||r),o.p&&o.p.s?(this.px=PropertyFactory.getProp(r,o.p.x,0,0,this),this.py=PropertyFactory.getProp(r,o.p.y,0,0,this),o.p.z&&(this.pz=PropertyFactory.getProp(r,o.p.z,0,0,this))):this.p=PropertyFactory.getProp(r,o.p||{k:[0,0,0]},1,0,this),o.rx){if(this.rx=PropertyFactory.getProp(r,o.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(r,o.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(r,o.rz,0,degToRads,this),o.or.k[0].ti){var h,y=o.or.k.length;for(h=0;h<y;h+=1)o.or.k[h].to=null,o.or.k[h].ti=null}this.or=PropertyFactory.getProp(r,o.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(r,o.r||{k:0},0,degToRads,this);o.sk&&(this.sk=PropertyFactory.getProp(r,o.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(r,o.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(r,o.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(r,o.s||{k:[100,100,100]},1,.01,this),o.o?this.o=PropertyFactory.getProp(r,o.o,0,.01,r):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(r){var o=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||o,this.a&&r.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&r.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&r.skewFromAxis(-this.sk.v,this.sa.v),this.r?r.rotate(-this.r.v):r.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?r.translate(this.px.v,this.py.v,-this.pz.v):r.translate(this.px.v,this.py.v,0):r.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(r){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||r){var o;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var l,h;if(o=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(l=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/o,0),h=this.p.getValueAtTime(this.p.keyframes[0].t/o,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(l=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/o,0),h=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/o,0)):(l=this.p.pv,h=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/o,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){l=[],h=[];var y=this.px,D=this.py;y._caching.lastFrame+y.offsetTime<=y.keyframes[0].t?(l[0]=y.getValueAtTime((y.keyframes[0].t+.01)/o,0),l[1]=D.getValueAtTime((D.keyframes[0].t+.01)/o,0),h[0]=y.getValueAtTime(y.keyframes[0].t/o,0),h[1]=D.getValueAtTime(D.keyframes[0].t/o,0)):y._caching.lastFrame+y.offsetTime>=y.keyframes[y.keyframes.length-1].t?(l[0]=y.getValueAtTime(y.keyframes[y.keyframes.length-1].t/o,0),l[1]=D.getValueAtTime(D.keyframes[D.keyframes.length-1].t/o,0),h[0]=y.getValueAtTime((y.keyframes[y.keyframes.length-1].t-.01)/o,0),h[1]=D.getValueAtTime((D.keyframes[D.keyframes.length-1].t-.01)/o,0)):(l=[y.pv,D.pv],h[0]=y.getValueAtTime((y._caching.lastFrame+y.offsetTime-.01)/o,y.offsetTime),h[1]=D.getValueAtTime((D._caching.lastFrame+D.offsetTime-.01)/o,D.offsetTime))}else l=h=e;this.v.rotate(-Math.atan2(l[1]-h[1],l[0]-h[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(r){this._addDynamicProperty(r),this.elem.addDynamicProperty(r),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(r,o,l){return new t(r,o,l)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,o,l){var h;switch(this._length=Math.max(this._length,o+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":h=this.v;break;case"i":h=this.i;break;case"o":h=this.o;break;default:h=[]}(!h[o]||h[o]&&!l)&&(h[o]=pointPool.newElement()),h[o][0]=e,h[o][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,o,l,h,y,D){this.setXYAt(e,t,"v",y,D),this.setXYAt(r,o,"o",y,D),this.setXYAt(l,h,"i",y,D)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,o=this.i,l=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],o[0][0],o[0][1],r[0][0],r[0][1],0,!1),l=1);var h,y=this._length-1,D=this._length;for(h=l;h<D;h+=1)e.setTripleAt(t[y][0],t[y][1],o[y][0],o[y][1],r[y][0],r[y][1],h,!1),y-=1;return e};var ShapePropertyFactory=function(){var e=-999999;function t(q,U,W){var G,Y,X,K,Q,J,et,nt,Z,it=W.lastIndex,rt=this.keyframes;if(q<rt[0].t-this.offsetTime)G=rt[0].s[0],X=!0,it=0;else if(q>=rt[rt.length-1].t-this.offsetTime)G=rt[rt.length-1].s?rt[rt.length-1].s[0]:rt[rt.length-2].e[0],X=!0;else{for(var tt,st,ht,ct=it,lt=rt.length-1,ut=!0;ut&&(tt=rt[ct],!((st=rt[ct+1]).t-this.offsetTime>q));)ct<lt-1?ct+=1:ut=!1;if(ht=this.keyframesMetadata[ct]||{},it=ct,!(X=tt.h===1)){if(q>=st.t-this.offsetTime)nt=1;else if(q<tt.t-this.offsetTime)nt=0;else{var ot;ht.__fnct?ot=ht.__fnct:(ot=BezierFactory.getBezierEasing(tt.o.x,tt.o.y,tt.i.x,tt.i.y).get,ht.__fnct=ot),nt=ot((q-(tt.t-this.offsetTime))/(st.t-this.offsetTime-(tt.t-this.offsetTime)))}Y=st.s?st.s[0]:tt.e[0]}G=tt.s[0]}for(J=U._length,et=G.i[0].length,W.lastIndex=it,K=0;K<J;K+=1)for(Q=0;Q<et;Q+=1)Z=X?G.i[K][Q]:G.i[K][Q]+(Y.i[K][Q]-G.i[K][Q])*nt,U.i[K][Q]=Z,Z=X?G.o[K][Q]:G.o[K][Q]+(Y.o[K][Q]-G.o[K][Q])*nt,U.o[K][Q]=Z,Z=X?G.v[K][Q]:G.v[K][Q]+(Y.v[K][Q]-G.v[K][Q])*nt,U.v[K][Q]=Z}function r(){var q=this.comp.renderedFrame-this.offsetTime,U=this.keyframes[0].t-this.offsetTime,W=this.keyframes[this.keyframes.length-1].t-this.offsetTime,G=this._caching.lastFrame;return G!==e&&(G<U&&q<U||G>W&&q>W)||(this._caching.lastIndex=G<q?this._caching.lastIndex:0,this.interpolateShape(q,this.pv,this._caching)),this._caching.lastFrame=q,this.pv}function o(){this.paths=this.localShapeCollection}function l(q){(function(U,W){if(U._length!==W._length||U.c!==W.c)return!1;var G,Y=U._length;for(G=0;G<Y;G+=1)if(U.v[G][0]!==W.v[G][0]||U.v[G][1]!==W.v[G][1]||U.o[G][0]!==W.o[G][0]||U.o[G][1]!==W.o[G][1]||U.i[G][0]!==W.i[G][0]||U.i[G][1]!==W.i[G][1])return!1;return!0})(this.v,q)||(this.v=shapePool.clone(q),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function h(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var q,U;this.lock=!0,this._mdf=!1,q=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var W=this.effectsSequence.length;for(U=0;U<W;U+=1)q=this.effectsSequence[U](q);this.setVValue(q),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function y(q,U,W){this.propType="shape",this.comp=q.comp,this.container=q,this.elem=q,this.data=U,this.k=!1,this.kf=!1,this._mdf=!1;var G=W===3?U.pt.k:U.ks.k;this.v=shapePool.clone(G),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=o,this.effectsSequence=[]}function D(q){this.effectsSequence.push(q),this.container.addDynamicProperty(this)}function O(q,U,W){this.propType="shape",this.comp=q.comp,this.elem=q,this.container=q,this.offsetTime=q.data.st,this.keyframes=W===3?U.pt.k:U.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var G=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,G),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=o,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}y.prototype.interpolateShape=t,y.prototype.getValue=h,y.prototype.setVValue=l,y.prototype.addEffect=D,O.prototype.getValue=h,O.prototype.interpolateShape=t,O.prototype.setVValue=l,O.prototype.addEffect=D;var F=function(){var q=roundCorner;function U(W,G){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=G.d,this.elem=W,this.comp=W.comp,this.frameId=-1,this.initDynamicPropertyContainer(W),this.p=PropertyFactory.getProp(W,G.p,1,0,this),this.s=PropertyFactory.getProp(W,G.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return U.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var W=this.p.v[0],G=this.p.v[1],Y=this.s.v[0]/2,X=this.s.v[1]/2,K=this.d!==3,Q=this.v;Q.v[0][0]=W,Q.v[0][1]=G-X,Q.v[1][0]=K?W+Y:W-Y,Q.v[1][1]=G,Q.v[2][0]=W,Q.v[2][1]=G+X,Q.v[3][0]=K?W-Y:W+Y,Q.v[3][1]=G,Q.i[0][0]=K?W-Y*q:W+Y*q,Q.i[0][1]=G-X,Q.i[1][0]=K?W+Y:W-Y,Q.i[1][1]=G-X*q,Q.i[2][0]=K?W+Y*q:W-Y*q,Q.i[2][1]=G+X,Q.i[3][0]=K?W-Y:W+Y,Q.i[3][1]=G+X*q,Q.o[0][0]=K?W+Y*q:W-Y*q,Q.o[0][1]=G-X,Q.o[1][0]=K?W+Y:W-Y,Q.o[1][1]=G+X*q,Q.o[2][0]=K?W-Y*q:W+Y*q,Q.o[2][1]=G+X,Q.o[3][0]=K?W-Y:W+Y,Q.o[3][1]=G-X*q}},extendPrototype([DynamicPropertyContainer],U),U}(),R=function(){function q(U,W){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=U,this.comp=U.comp,this.data=W,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(U),W.sy===1?(this.ir=PropertyFactory.getProp(U,W.ir,0,0,this),this.is=PropertyFactory.getProp(U,W.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(U,W.pt,0,0,this),this.p=PropertyFactory.getProp(U,W.p,1,0,this),this.r=PropertyFactory.getProp(U,W.r,0,degToRads,this),this.or=PropertyFactory.getProp(U,W.or,0,0,this),this.os=PropertyFactory.getProp(U,W.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return q.prototype={reset:o,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var U,W,G,Y,X=2*Math.floor(this.pt.v),K=2*Math.PI/X,Q=!0,J=this.or.v,et=this.ir.v,nt=this.os.v,Z=this.is.v,it=2*Math.PI*J/(2*X),rt=2*Math.PI*et/(2*X),tt=-Math.PI/2;tt+=this.r.v;var st=this.data.d===3?-1:1;for(this.v._length=0,U=0;U<X;U+=1){G=Q?nt:Z,Y=Q?it:rt;var ht=(W=Q?J:et)*Math.cos(tt),ct=W*Math.sin(tt),lt=ht===0&&ct===0?0:ct/Math.sqrt(ht*ht+ct*ct),ut=ht===0&&ct===0?0:-ht/Math.sqrt(ht*ht+ct*ct);ht+=+this.p.v[0],ct+=+this.p.v[1],this.v.setTripleAt(ht,ct,ht-lt*Y*G*st,ct-ut*Y*G*st,ht+lt*Y*G*st,ct+ut*Y*G*st,U,!0),Q=!Q,tt+=K*st}},convertPolygonToPath:function(){var U,W=Math.floor(this.pt.v),G=2*Math.PI/W,Y=this.or.v,X=this.os.v,K=2*Math.PI*Y/(4*W),Q=.5*-Math.PI,J=this.data.d===3?-1:1;for(Q+=this.r.v,this.v._length=0,U=0;U<W;U+=1){var et=Y*Math.cos(Q),nt=Y*Math.sin(Q),Z=et===0&&nt===0?0:nt/Math.sqrt(et*et+nt*nt),it=et===0&&nt===0?0:-et/Math.sqrt(et*et+nt*nt);et+=+this.p.v[0],nt+=+this.p.v[1],this.v.setTripleAt(et,nt,et-Z*K*X*J,nt-it*K*X*J,et+Z*K*X*J,nt+it*K*X*J,U,!0),Q+=G*J}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],q),q}(),B=function(){function q(U,W){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=U,this.comp=U.comp,this.frameId=-1,this.d=W.d,this.initDynamicPropertyContainer(U),this.p=PropertyFactory.getProp(U,W.p,1,0,this),this.s=PropertyFactory.getProp(U,W.s,1,0,this),this.r=PropertyFactory.getProp(U,W.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return q.prototype={convertRectToPath:function(){var U=this.p.v[0],W=this.p.v[1],G=this.s.v[0]/2,Y=this.s.v[1]/2,X=bmMin(G,Y,this.r.v),K=X*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(U+G,W-Y+X,U+G,W-Y+X,U+G,W-Y+K,0,!0),this.v.setTripleAt(U+G,W+Y-X,U+G,W+Y-K,U+G,W+Y-X,1,!0),X!==0?(this.v.setTripleAt(U+G-X,W+Y,U+G-X,W+Y,U+G-K,W+Y,2,!0),this.v.setTripleAt(U-G+X,W+Y,U-G+K,W+Y,U-G+X,W+Y,3,!0),this.v.setTripleAt(U-G,W+Y-X,U-G,W+Y-X,U-G,W+Y-K,4,!0),this.v.setTripleAt(U-G,W-Y+X,U-G,W-Y+K,U-G,W-Y+X,5,!0),this.v.setTripleAt(U-G+X,W-Y,U-G+X,W-Y,U-G+K,W-Y,6,!0),this.v.setTripleAt(U+G-X,W-Y,U+G-K,W-Y,U+G-X,W-Y,7,!0)):(this.v.setTripleAt(U-G,W+Y,U-G+K,W+Y,U-G,W+Y,2),this.v.setTripleAt(U-G,W-Y,U-G,W-Y+K,U-G,W-Y,3))):(this.v.setTripleAt(U+G,W-Y+X,U+G,W-Y+K,U+G,W-Y+X,0,!0),X!==0?(this.v.setTripleAt(U+G-X,W-Y,U+G-X,W-Y,U+G-K,W-Y,1,!0),this.v.setTripleAt(U-G+X,W-Y,U-G+K,W-Y,U-G+X,W-Y,2,!0),this.v.setTripleAt(U-G,W-Y+X,U-G,W-Y+X,U-G,W-Y+K,3,!0),this.v.setTripleAt(U-G,W+Y-X,U-G,W+Y-K,U-G,W+Y-X,4,!0),this.v.setTripleAt(U-G+X,W+Y,U-G+X,W+Y,U-G+K,W+Y,5,!0),this.v.setTripleAt(U+G-X,W+Y,U+G-K,W+Y,U+G-X,W+Y,6,!0),this.v.setTripleAt(U+G,W+Y-X,U+G,W+Y-X,U+G,W+Y-K,7,!0)):(this.v.setTripleAt(U-G,W-Y,U-G+K,W-Y,U-G,W-Y,1,!0),this.v.setTripleAt(U-G,W+Y,U-G,W+Y-K,U-G,W+Y,2,!0),this.v.setTripleAt(U+G,W+Y,U+G-K,W+Y,U+G,W+Y,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:o},extendPrototype([DynamicPropertyContainer],q),q}(),j={getShapeProp:function(q,U,W){var G;return W===3||W===4?G=(W===3?U.pt:U.ks).k.length?new O(q,U,W):new y(q,U,W):W===5?G=new B(q,U):W===6?G=new F(q,U):W===7&&(G=new R(q,U)),G.k&&q.addDynamicProperty(G),G},getConstructorFunction:function(){return y},getKeyframedConstructorFunction:function(){return O}};return j}(),ShapeModifiers=(ob={},modifiers={},ob.registerModifier=function(e,t){modifiers[e]||(modifiers[e]=t)},ob.getModifier=function(e,t,r){return new modifiers[e](t,r)},ob),ob,modifiers;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(e,t,r,o){var l;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(o);var h,y=t.length||0;for(l=0;l<y;l+=1)h=PropertyFactory.getProp(e,t[l].v,0,0,this),this.k=h.k||this.k,this.dataProps[l]={n:t[l].n,p:h};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var o=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",o),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=o,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,o,l){var h=[];t<=1?h.push({s:e,e:t}):e>=1?h.push({s:e-1,e:t-1}):(h.push({s:e,e:1}),h.push({s:0,e:t-1}));var y,D,O=[],F=h.length;for(y=0;y<F;y+=1){var R,B;(D=h[y]).e*l<o||D.s*l>o+r||(R=D.s*l<=o?0:(D.s*l-o)/r,B=D.e*l>=o+r?1:(D.e*l-o)/r,O.push([R,B]))}return O.length||O.push([0,0]),O},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,o,l;if(this._mdf||e){var h=this.o.v%360/360;if(h<0&&(h+=1),(t=this.s.v>1?1+h:this.s.v<0?0+h:this.s.v+h)>(r=this.e.v>1?1+h:this.e.v<0?0+h:this.e.v+h)){var y=t;t=r,r=y}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var D,O,F,R,B,j=this.shapes.length,q=0;if(r===t)for(l=0;l<j;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(r===1&&t===0||r===0&&t===1){if(this._mdf)for(l=0;l<j;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var U,W,G=[];for(l=0;l<j;l+=1)if((U=this.shapes[l]).shape._mdf||this._mdf||e||this.m===2){if(O=(o=U.shape.paths)._length,B=0,!U.shape._mdf&&U.pathsData.length)B=U.totalShapeLength;else{for(F=this.releasePathsData(U.pathsData),D=0;D<O;D+=1)R=bez.getSegmentsLength(o.shapes[D]),F.push(R),B+=R.totalLength;U.totalShapeLength=B,U.pathsData=F}q+=B,U.shape._mdf=!0}else U.shape.paths=U.localShapeCollection;var Y,X=t,K=r,Q=0;for(l=j-1;l>=0;l-=1)if((U=this.shapes[l]).shape._mdf){for((W=U.localShapeCollection).releaseShapes(),this.m===2&&j>1?(Y=this.calculateShapeEdges(t,r,U.totalShapeLength,Q,q),Q+=U.totalShapeLength):Y=[[X,K]],O=Y.length,D=0;D<O;D+=1){X=Y[D][0],K=Y[D][1],G.length=0,K<=1?G.push({s:U.totalShapeLength*X,e:U.totalShapeLength*K}):X>=1?G.push({s:U.totalShapeLength*(X-1),e:U.totalShapeLength*(K-1)}):(G.push({s:U.totalShapeLength*X,e:U.totalShapeLength}),G.push({s:0,e:U.totalShapeLength*(K-1)}));var J=this.addShapes(U,G[0]);if(G[0].s!==G[0].e){if(G.length>1)if(U.shape.paths.shapes[U.shape.paths._length-1].c){var et=J.pop();this.addPaths(J,W),J=this.addShapes(U,G[1],et)}else this.addPaths(J,W),J=this.addShapes(U,G[1]);this.addPaths(J,W)}}U.shape.paths=W}}},TrimModifier.prototype.addPaths=function(e,t){var r,o=e.length;for(r=0;r<o;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,o,l,h,y){l.setXYAt(t[0],t[1],"o",h),l.setXYAt(r[0],r[1],"i",h+1),y&&l.setXYAt(e[0],e[1],"v",h),l.setXYAt(o[0],o[1],"v",h+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,o){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),o&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var o,l,h,y,D,O,F,R,B=e.pathsData,j=e.shape.paths.shapes,q=e.shape.paths._length,U=0,W=[],G=!0;for(r?(D=r._length,R=r._length):(r=shapePool.newElement(),D=0,R=0),W.push(r),o=0;o<q;o+=1){for(O=B[o].lengths,r.c=j[o].c,h=j[o].c?O.length:O.length+1,l=1;l<h;l+=1)if(U+(y=O[l-1]).addedLength<t.s)U+=y.addedLength,r.c=!1;else{if(U>t.e){r.c=!1;break}t.s<=U&&t.e>=U+y.addedLength?(this.addSegment(j[o].v[l-1],j[o].o[l-1],j[o].i[l],j[o].v[l],r,D,G),G=!1):(F=bez.getNewSegment(j[o].v[l-1],j[o].v[l],j[o].o[l-1],j[o].i[l],(t.s-U)/y.addedLength,(t.e-U)/y.addedLength,O[l-1]),this.addSegmentFromArray(F,r,D,G),G=!1,r.c=!1),U+=y.addedLength,D+=1}if(j[o].c&&O.length){if(y=O[l-1],U<=t.e){var Y=O[l-1].addedLength;t.s<=U&&t.e>=U+Y?(this.addSegment(j[o].v[l-1],j[o].o[l-1],j[o].i[0],j[o].v[0],r,D,G),G=!1):(F=bez.getNewSegment(j[o].v[l-1],j[o].v[0],j[o].o[l-1],j[o].i[0],(t.s-U)/Y,(t.e-U)/Y,O[l-1]),this.addSegmentFromArray(F,r,D,G),G=!1,r.c=!1)}else r.c=!1;U+=y.addedLength,D+=1}if(r._length&&(r.setXYAt(r.v[R][0],r.v[R][1],"i",R),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),U>t.e)break;o<q-1&&(r=shapePool.newElement(),G=!0,W.push(r),D=0)}return W},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r,o=shapePool.newElement();o.c=e.c;var l,h,y,D,O,F,R,B,j,q,U,W,G=e._length,Y=0;for(r=0;r<G;r+=1)l=e.v[r],y=e.o[r],h=e.i[r],l[0]===y[0]&&l[1]===y[1]&&l[0]===h[0]&&l[1]===h[1]?r!==0&&r!==G-1||e.c?(D=r===0?e.v[G-1]:e.v[r-1],F=(O=Math.sqrt(Math.pow(l[0]-D[0],2)+Math.pow(l[1]-D[1],2)))?Math.min(O/2,t)/O:0,R=U=l[0]+(D[0]-l[0])*F,B=W=l[1]-(l[1]-D[1])*F,j=R-(R-l[0])*roundCorner,q=B-(B-l[1])*roundCorner,o.setTripleAt(R,B,j,q,U,W,Y),Y+=1,D=r===G-1?e.v[0]:e.v[r+1],F=(O=Math.sqrt(Math.pow(l[0]-D[0],2)+Math.pow(l[1]-D[1],2)))?Math.min(O/2,t)/O:0,R=j=l[0]+(D[0]-l[0])*F,B=q=l[1]+(D[1]-l[1])*F,U=R-(R-l[0])*roundCorner,W=B-(B-l[1])*roundCorner,o.setTripleAt(R,B,j,q,U,W,Y),Y+=1):(o.setTripleAt(l[0],l[1],y[0],y[1],h[0],h[1],Y),Y+=1):(o.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],Y),Y+=1);return o},RoundCornersModifier.prototype.processShapes=function(e){var t,r,o,l,h,y,D=this.shapes.length,O=this.rd.v;if(O!==0)for(r=0;r<D;r+=1){if(y=(h=this.shapes[r]).localShapeCollection,h.shape._mdf||this._mdf||e)for(y.releaseShapes(),h.shape._mdf=!0,t=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(t[o],O));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,o=[0,0],l=e._length,h=0;for(h=0;h<l;h+=1)o[0]+=e.v[h][0],o[1]+=e.v[h][1];o[0]/=l,o[1]/=l;var y,D,O,F,R,B,j=shapePool.newElement();for(j.c=e.c,h=0;h<l;h+=1)y=e.v[h][0]+(o[0]-e.v[h][0])*r,D=e.v[h][1]+(o[1]-e.v[h][1])*r,O=e.o[h][0]+(o[0]-e.o[h][0])*-r,F=e.o[h][1]+(o[1]-e.o[h][1])*-r,R=e.i[h][0]+(o[0]-e.i[h][0])*-r,B=e.i[h][1]+(o[1]-e.i[h][1])*-r,j.setTripleAt(y,D,O,F,R,B,h);return j},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,o,l,h,y,D=this.shapes.length,O=this.amount.v;if(O!==0)for(r=0;r<D;r+=1){if(y=(h=this.shapes[r]).localShapeCollection,h.shape._mdf||this._mdf||e)for(y.releaseShapes(),h.shape._mdf=!0,t=h.shape.paths.shapes,l=h.shape.paths._length,o=0;o<l;o+=1)y.addShape(this.processPath(t[o],O));h.shape.paths=h.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,o,l,h){var y=h?-1:1,D=o.s.v[0]+(1-o.s.v[0])*(1-l),O=o.s.v[1]+(1-o.s.v[1])*(1-l);e.translate(o.p.v[0]*y*l,o.p.v[1]*y*l,o.p.v[2]),t.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),t.rotate(-o.r.v*y*l),t.translate(o.a.v[0],o.a.v[1],o.a.v[2]),r.translate(-o.a.v[0],-o.a.v[1],o.a.v[2]),r.scale(h?1/D:D,h?1/O:O),r.translate(o.a.v[0],o.a.v[1],o.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,o){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=o,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,e[t].ty==="gr"&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,o=e.length;for(r=0;r<o;r+=1)e[r]._render=t,e[r].ty==="gr"&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,o,l,h,y=!1;if(this._mdf||e){var D,O=Math.ceil(this.c.v);if(this._groups.length<O){for(;this._groups.length<O;){var F={it:this.cloneElements(this._elements),ty:"gr"};F.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,F),this._groups.splice(0,0,F),this._currentCopies+=1}this.elem.reloadShapes(),y=!0}for(h=0,o=0;o<=this._groups.length-1;o+=1){if(D=h<O,this._groups[o]._render=D,this.changeGroupRender(this._groups[o].it,D),!D){var R=this.elemsData[o].it,B=R[R.length-1];B.transform.op.v!==0?(B.transform.op._mdf=!0,B.transform.op.v=0):B.transform.op._mdf=!1}h+=1}this._currentCopies=O;var j=this.o.v,q=j%1,U=j>0?Math.floor(j):Math.ceil(j),W=this.pMatrix.props,G=this.rMatrix.props,Y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var X,K,Q=0;if(j>0){for(;Q<U;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Q+=1;q&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,q,!1),Q+=q)}else if(j<0){for(;Q>U;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Q-=1;q&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-q,!0),Q-=q)}for(o=this.data.m===1?0:this._currentCopies-1,l=this.data.m===1?1:-1,h=this._currentCopies;h;){if(K=(r=(t=this.elemsData[o].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(o/(this._currentCopies-1)),Q!==0){for((o!==0&&l===1||o!==this._currentCopies-1&&l===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],G[8],G[9],G[10],G[11],G[12],G[13],G[14],G[15]),this.matrix.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],Y[8],Y[9],Y[10],Y[11],Y[12],Y[13],Y[14],Y[15]),this.matrix.transform(W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],W[8],W[9],W[10],W[11],W[12],W[13],W[14],W[15]),X=0;X<K;X+=1)r[X]=this.matrix.props[X];this.matrix.reset()}else for(this.matrix.reset(),X=0;X<K;X+=1)r[X]=this.matrix.props[X];Q+=1,h-=1,o+=l}}else for(h=this._currentCopies,o=0,l=1;h;)r=(t=this.elemsData[o].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,h-=1,o+=l;return y},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<r;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,o=this.o.length/2;r<o;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,o,l=4*this.data.p;for(t=0;t<l;t+=1)r=t%4==0?100:255,o=Math.round(this.prop.v[t]*r),this.c[t]!==o&&(this.c[t]=o,this._cmdf=!e);if(this.o.length)for(l=this.prop.v.length,t=4*this.data.p;t<l;t+=1)r=t%2==0?100:1,o=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==o&&(this.o[t-4*this.data.p]=o,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,r,o){if(t===0)return"";var l,h=e.o,y=e.i,D=e.v,O=" M"+o.applyToPointStringified(D[0][0],D[0][1]);for(l=1;l<t;l+=1)O+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[l][0],y[l][1])+" "+o.applyToPointStringified(D[l][0],D[l][1]);return r&&t&&(O+=" C"+o.applyToPointStringified(h[l-1][0],h[l-1][1])+" "+o.applyToPointStringified(y[0][0],y[0][1])+" "+o.applyToPointStringified(D[0][0],D[0][1]),O+="z"),O},audioControllerFactory=function(){function e(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].pause()},resume:function(){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].resume()},setRate:function(t){var r,o=this.audios.length;for(r=0;r<o;r+=1)this.audios[r].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),ImagePreloader=function(){var e=function(){var D=createTag("canvas");D.width=1,D.height=1;var O=D.getContext("2d");return O.fillStyle="rgba(0,0,0,0)",O.fillRect(0,0,1,1),D}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function o(D,O,F){var R="";if(D.e)R=D.p;else if(O){var B=D.p;B.indexOf("images/")!==-1&&(B=B.split("/")[1]),R=O+B}else R=F,R+=D.u?D.u:"",R+=D.p;return R}function l(D){var O=0,F=setInterval(function(){(D.getBBox().width||O>500)&&(this._imageLoaded(),clearInterval(F)),O+=1}.bind(this),50)}function h(D){var O={assetData:D},F=o(D,this.assetsPath,this.path);return dataManager.loadData(F,function(R){O.img=R,this._footageLoaded()}.bind(this),function(){O.img={},this._footageLoaded()}.bind(this)),O}function y(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=l.bind(this),this.createFootageData=h.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return y.prototype={loadAssets:function(D,O){var F;this.imagesLoadedCb=O;var R=D.length;for(F=0;F<R;F+=1)D[F].layers||(D[F].t&&D[F].t!=="seq"?D[F].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(D[F]))):(this.totalImages+=1,this.images.push(this._createImageData(D[F]))))},setAssetsPath:function(D){this.assetsPath=D||""},setPath:function(D){this.path=D||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(D){for(var O=0,F=this.images.length;O<F;){if(this.images[O].assetData===D)return this.images[O].img;O+=1}return null},createImgData:function(D){var O=o(D,this.assetsPath,this.path),F=createTag("img");F.crossOrigin="anonymous",F.addEventListener("load",this._imageLoaded,!1),F.addEventListener("error",function(){R.img=e,this._imageLoaded()}.bind(this),!1),F.src=O;var R={img:F,assetData:D};return R},createImageData:function(D){var O=o(D,this.assetsPath,this.path),F=createNS("image");isSafari?this.testImageLoaded(F):F.addEventListener("load",this._imageLoaded,!1),F.addEventListener("error",function(){R.img=e,this._imageLoaded()}.bind(this),!1),F.setAttributeNS("http://www.w3.org/1999/xlink","href",O),this._elementHelper.append?this._elementHelper.append(F):this._elementHelper.appendChild(F);var R={img:F,assetData:D};return R},imageLoaded:t,footageLoaded:r,setCacheType:function(D,O){D==="svg"?(this._elementHelper=O,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},y}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),filtersFactory=function(){var e={createFilter:function(t,r){var o=createNS("filter");return o.setAttribute("id",t),r!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o},createAlphaToLuminanceFilter:function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}};return e}();function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(e,t,r){var o={propType:!1},l=PropertyFactory.getProp,h=t.a;this.a={r:h.r?l(e,h.r,0,degToRads,r):o,rx:h.rx?l(e,h.rx,0,degToRads,r):o,ry:h.ry?l(e,h.ry,0,degToRads,r):o,sk:h.sk?l(e,h.sk,0,degToRads,r):o,sa:h.sa?l(e,h.sa,0,degToRads,r):o,s:h.s?l(e,h.s,1,.01,r):o,a:h.a?l(e,h.a,1,0,r):o,o:h.o?l(e,h.o,0,.01,r):o,p:h.p?l(e,h.p,1,0,r):o,sw:h.sw?l(e,h.sw,0,0,r):o,sc:h.sc?l(e,h.sc,1,0,r):o,fc:h.fc?l(e,h.fc,1,0,r):o,fh:h.fh?l(e,h.fh,0,0,r):o,fs:h.fs?l(e,h.fs,0,.01,r):o,fb:h.fb?l(e,h.fb,0,.01,r):o,t:h.t?l(e,h.t,0,0,r):o},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function LetterProps(e,t,r,o,l,h){this.o=e,this.sw=t,this.sc=r,this.fc=o,this.m=l,this.p=h,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!o,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,o=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:o(this._elem,this._textData.p.a,0,0,this),f:o(this._elem,this._textData.p.f,0,0,this),l:o(this._elem,this._textData.p.l,0,0,this),r:o(this._elem,this._textData.p.r,0,0,this),p:o(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=o(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X,K,Q,J=this._moreOptions.alignment.v,et=this._animatorsData,nt=this._textData,Z=this.mHelper,it=this._renderType,rt=this.renderedLetters.length,tt=e.l;if(this._hasMaskedPath){if(Q=this._pathData.m,!this._pathData.n||this._pathData._mdf){var st,ht=Q.v;for(this._pathData.r.v&&(ht=ht.reverse()),y={tLength:0,segments:[]},h=ht._length-1,Y=0,l=0;l<h;l+=1)st=bez.buildBezierData(ht.v[l],ht.v[l+1],[ht.o[l][0]-ht.v[l][0],ht.o[l][1]-ht.v[l][1]],[ht.i[l+1][0]-ht.v[l+1][0],ht.i[l+1][1]-ht.v[l+1][1]]),y.tLength+=st.segmentLength,y.segments.push(st),Y+=st.segmentLength;l=h,Q.v.c&&(st=bez.buildBezierData(ht.v[l],ht.v[0],[ht.o[l][0]-ht.v[l][0],ht.o[l][1]-ht.v[l][1]],[ht.i[0][0]-ht.v[0][0],ht.i[0][1]-ht.v[0][1]]),y.tLength+=st.segmentLength,y.segments.push(st),Y+=st.segmentLength),this._pathData.pi=y}if(y=this._pathData.pi,D=this._pathData.f.v,j=0,B=1,F=0,R=!0,W=y.segments,D<0&&Q.v.c)for(y.tLength<Math.abs(D)&&(D=-Math.abs(D)%y.tLength),B=(U=W[j=W.length-1].points).length-1;D<0;)D+=U[B].partialLength,(B-=1)<0&&(B=(U=W[j-=1].points).length-1);q=(U=W[j].points)[B-1],G=(O=U[B]).partialLength}h=tt.length,r=0,o=0;var ct,lt,ut,ot,at,dt=1.2*e.finalSize*.714,ft=!0;ut=et.length;var mt,bt,xt,yt,vt,St,wt,gt,Ct,Tt,Et,Pt,pt=-1,_t=D,kt=j,Mt=B,zt=-1,It="",Lt=this.defaultPropsArray;if(e.j===2||e.j===1){var At=0,Nt=0,Rt=e.j===2?-.5:-1,Ot=0,Ft=!0;for(l=0;l<h;l+=1)if(tt[l].n){for(At&&(At+=Nt);Ot<l;)tt[Ot].animatorJustifyOffset=At,Ot+=1;At=0,Ft=!0}else{for(lt=0;lt<ut;lt+=1)(ct=et[lt].a).t.propType&&(Ft&&e.j===2&&(Nt+=ct.t.v*Rt),(at=et[lt].s.getMult(tt[l].anIndexes[lt],nt.a[lt].s.totalChars)).length?At+=ct.t.v*at[0]*Rt:At+=ct.t.v*at*Rt);Ft=!1}for(At&&(At+=Nt);Ot<l;)tt[Ot].animatorJustifyOffset=At,Ot+=1}for(l=0;l<h;l+=1){if(Z.reset(),yt=1,tt[l].n)r=0,o+=e.yOffset,o+=ft?1:0,D=_t,ft=!1,this._hasMaskedPath&&(B=Mt,q=(U=W[j=kt].points)[B-1],G=(O=U[B]).partialLength,F=0),It="",Et="",Ct="",Pt="",Lt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(zt!==tt[l].line){switch(e.j){case 1:D+=Y-e.lineWidths[tt[l].line];break;case 2:D+=(Y-e.lineWidths[tt[l].line])/2}zt=tt[l].line}pt!==tt[l].ind&&(tt[pt]&&(D+=tt[pt].extra),D+=tt[l].an/2,pt=tt[l].ind),D+=J[0]*tt[l].an*.005;var Dt=0;for(lt=0;lt<ut;lt+=1)(ct=et[lt].a).p.propType&&((at=et[lt].s.getMult(tt[l].anIndexes[lt],nt.a[lt].s.totalChars)).length?Dt+=ct.p.v[0]*at[0]:Dt+=ct.p.v[0]*at),ct.a.propType&&((at=et[lt].s.getMult(tt[l].anIndexes[lt],nt.a[lt].s.totalChars)).length?Dt+=ct.a.v[0]*at[0]:Dt+=ct.a.v[0]*at);for(R=!0,this._pathData.a.v&&(D=.5*tt[0].an+(Y-this._pathData.f.v-.5*tt[0].an-.5*tt[tt.length-1].an)*pt/(h-1),D+=this._pathData.f.v);R;)F+G>=D+Dt||!U?(X=(D+Dt-F)/O.partialLength,bt=q.point[0]+(O.point[0]-q.point[0])*X,xt=q.point[1]+(O.point[1]-q.point[1])*X,Z.translate(-J[0]*tt[l].an*.005,-J[1]*dt*.01),R=!1):U&&(F+=O.partialLength,(B+=1)>=U.length&&(B=0,W[j+=1]?U=W[j].points:Q.v.c?(B=0,U=W[j=0].points):(F-=O.partialLength,U=null)),U&&(q=O,G=(O=U[B]).partialLength));mt=tt[l].an/2-tt[l].add,Z.translate(-mt,0,0)}else mt=tt[l].an/2-tt[l].add,Z.translate(-mt,0,0),Z.translate(-J[0]*tt[l].an*.005,-J[1]*dt*.01,0);for(lt=0;lt<ut;lt+=1)(ct=et[lt].a).t.propType&&(at=et[lt].s.getMult(tt[l].anIndexes[lt],nt.a[lt].s.totalChars),r===0&&e.j===0||(this._hasMaskedPath?at.length?D+=ct.t.v*at[0]:D+=ct.t.v*at:at.length?r+=ct.t.v*at[0]:r+=ct.t.v*at));for(e.strokeWidthAnim&&(St=e.sw||0),e.strokeColorAnim&&(vt=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(wt=[e.fc[0],e.fc[1],e.fc[2]]),lt=0;lt<ut;lt+=1)(ct=et[lt].a).a.propType&&((at=et[lt].s.getMult(tt[l].anIndexes[lt],nt.a[lt].s.totalChars)).length?Z.translate(-ct.a.v[0]*at[0],-ct.a.v[1]*at[1],ct.a.v[2]*at[2]):Z.translate(-ct.a.v[0]*at,-ct.a.v[1]*at,ct.a.v[2]*at));for(lt=0;lt<ut;lt+=1)(ct=et[lt].a).s.propType&&((at=et[lt].s.getMult(tt[l].anIndexes[lt],nt.a[lt].s.totalChars)).length?Z.scale(1+(ct.s.v[0]-1)*at[0],1+(ct.s.v[1]-1)*at[1],1):Z.scale(1+(ct.s.v[0]-1)*at,1+(ct.s.v[1]-1)*at,1));for(lt=0;lt<ut;lt+=1){if(ct=et[lt].a,at=et[lt].s.getMult(tt[l].anIndexes[lt],nt.a[lt].s.totalChars),ct.sk.propType&&(at.length?Z.skewFromAxis(-ct.sk.v*at[0],ct.sa.v*at[1]):Z.skewFromAxis(-ct.sk.v*at,ct.sa.v*at)),ct.r.propType&&(at.length?Z.rotateZ(-ct.r.v*at[2]):Z.rotateZ(-ct.r.v*at)),ct.ry.propType&&(at.length?Z.rotateY(ct.ry.v*at[1]):Z.rotateY(ct.ry.v*at)),ct.rx.propType&&(at.length?Z.rotateX(ct.rx.v*at[0]):Z.rotateX(ct.rx.v*at)),ct.o.propType&&(at.length?yt+=(ct.o.v*at[0]-yt)*at[0]:yt+=(ct.o.v*at-yt)*at),e.strokeWidthAnim&&ct.sw.propType&&(at.length?St+=ct.sw.v*at[0]:St+=ct.sw.v*at),e.strokeColorAnim&&ct.sc.propType)for(gt=0;gt<3;gt+=1)at.length?vt[gt]+=(ct.sc.v[gt]-vt[gt])*at[0]:vt[gt]+=(ct.sc.v[gt]-vt[gt])*at;if(e.fillColorAnim&&e.fc){if(ct.fc.propType)for(gt=0;gt<3;gt+=1)at.length?wt[gt]+=(ct.fc.v[gt]-wt[gt])*at[0]:wt[gt]+=(ct.fc.v[gt]-wt[gt])*at;ct.fh.propType&&(wt=at.length?addHueToRGB(wt,ct.fh.v*at[0]):addHueToRGB(wt,ct.fh.v*at)),ct.fs.propType&&(wt=at.length?addSaturationToRGB(wt,ct.fs.v*at[0]):addSaturationToRGB(wt,ct.fs.v*at)),ct.fb.propType&&(wt=at.length?addBrightnessToRGB(wt,ct.fb.v*at[0]):addBrightnessToRGB(wt,ct.fb.v*at))}}for(lt=0;lt<ut;lt+=1)(ct=et[lt].a).p.propType&&(at=et[lt].s.getMult(tt[l].anIndexes[lt],nt.a[lt].s.totalChars),this._hasMaskedPath?at.length?Z.translate(0,ct.p.v[1]*at[0],-ct.p.v[2]*at[1]):Z.translate(0,ct.p.v[1]*at,-ct.p.v[2]*at):at.length?Z.translate(ct.p.v[0]*at[0],ct.p.v[1]*at[1],-ct.p.v[2]*at[2]):Z.translate(ct.p.v[0]*at,ct.p.v[1]*at,-ct.p.v[2]*at));if(e.strokeWidthAnim&&(Ct=St<0?0:St),e.strokeColorAnim&&(Tt="rgb("+Math.round(255*vt[0])+","+Math.round(255*vt[1])+","+Math.round(255*vt[2])+")"),e.fillColorAnim&&e.fc&&(Et="rgb("+Math.round(255*wt[0])+","+Math.round(255*wt[1])+","+Math.round(255*wt[2])+")"),this._hasMaskedPath){if(Z.translate(0,-e.ls),Z.translate(0,J[1]*dt*.01+o,0),this._pathData.p.v){K=(O.point[1]-q.point[1])/(O.point[0]-q.point[0]);var Bt=180*Math.atan(K)/Math.PI;O.point[0]<q.point[0]&&(Bt+=180),Z.rotate(-Bt*Math.PI/180)}Z.translate(bt,xt,0),D-=J[0]*tt[l].an*.005,tt[l+1]&&pt!==tt[l+1].ind&&(D+=tt[l].an/2,D+=.001*e.tr*e.finalSize)}else{switch(Z.translate(r,o,0),e.ps&&Z.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:Z.translate(tt[l].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[tt[l].line]),0,0);break;case 2:Z.translate(tt[l].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[tt[l].line])/2,0,0)}Z.translate(0,-e.ls),Z.translate(mt,0,0),Z.translate(J[0]*tt[l].an*.005,J[1]*dt*.01,0),r+=tt[l].l+.001*e.tr*e.finalSize}it==="html"?It=Z.toCSS():it==="svg"?It=Z.to2dCSS():Lt=[Z.props[0],Z.props[1],Z.props[2],Z.props[3],Z.props[4],Z.props[5],Z.props[6],Z.props[7],Z.props[8],Z.props[9],Z.props[10],Z.props[11],Z.props[12],Z.props[13],Z.props[14],Z.props[15]],Pt=yt}rt<=l?(ot=new LetterProps(Pt,Ct,Tt,Et,It,Lt),this.renderedLetters.push(ot),rt+=1,this.lettersChangedFlag=!0):(ot=this.renderedLetters[l],this.lettersChangedFlag=ot.update(Pt,Ct,Tt,Et,It,Lt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,r,o,l,h){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var y=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,y=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,y=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,y=!0),this.fc!==o&&(this.fc=o,this._mdf.fc=!0,y=!0),this.m!==l&&(this.m=l,this._mdf.m=!0,y=!0),!h.length||this.p[0]===h[0]&&this.p[1]===h[1]&&this.p[4]===h[4]&&this.p[5]===h[5]&&this.p[12]===h[12]&&this.p[13]===h[13]||(this.p=h,this._mdf.p=!0,y=!0),y},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var o;this.lock=!0,this._mdf=!1;var l=this.effectsSequence.length,h=e||this.data.d.k[this.keysIndex].s;for(o=0;o<l;o+=1)h=r!==this.keysIndex?this.effectsSequence[o](h,h.t):this.effectsSequence[o](this.currentData,h.t);t!==h&&this.setCurrentData(h),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,o=e.length;r<=o-1&&!(r===o-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,o=[],l=0,h=e.length,y=!1;l<h;)t=e.charCodeAt(l),FontManager.isCombinedCharacter(t)?o[o.length-1]+=e.charAt(l):t>=55296&&t<=56319?(r=e.charCodeAt(l+1))>=56320&&r<=57343?(y||FontManager.isModifier(t,r)?(o[o.length-1]+=e.substr(l,2),y=!1):o.push(e.substr(l,2)),l+=1):o.push(e.charAt(l)):t>56319?(r=e.charCodeAt(l+1),FontManager.isZeroWidthJoiner(t,r)?(y=!0,o[o.length-1]+=e.substr(l,2),l+=1):o.push(e.charAt(l))):FontManager.isZeroWidthJoiner(t)?(o[o.length-1]+=e.charAt(l),y=!0):o.push(e.charAt(l)),l+=1;return o},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,o,l,h,y,D,O=this.elem.globalData.fontManager,F=this.data,R=[],B=0,j=F.m.g,q=0,U=0,W=0,G=[],Y=0,X=0,K=O.getFontByName(e.f),Q=0,J=getFontProperties(K);e.fWeight=J.weight,e.fStyle=J.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var et,nt=e.tr/1e3*e.finalSize;if(e.sz)for(var Z,it,rt=!0,tt=e.sz[0],st=e.sz[1];rt;){Z=0,Y=0,r=(it=this.buildFinalText(e.t)).length,nt=e.tr/1e3*e.finalSize;var ht=-1;for(t=0;t<r;t+=1)et=it[t].charCodeAt(0),o=!1,it[t]===" "?ht=t:et!==13&&et!==3||(Y=0,o=!0,Z+=e.finalLineHeight||1.2*e.finalSize),O.chars?(D=O.getCharData(it[t],K.fStyle,K.fFamily),Q=o?0:D.w*e.finalSize/100):Q=O.measureText(it[t],e.f,e.finalSize),Y+Q>tt&&it[t]!==" "?(ht===-1?r+=1:t=ht,Z+=e.finalLineHeight||1.2*e.finalSize,it.splice(t,ht===t?1:0,"\r"),ht=-1,Y=0):(Y+=Q,Y+=nt);Z+=K.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&st<Z?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=it,r=e.finalText.length,rt=!1)}Y=-nt,Q=0;var ct,lt=0;for(t=0;t<r;t+=1)if(o=!1,(et=(ct=e.finalText[t]).charCodeAt(0))===13||et===3?(lt=0,G.push(Y),X=Y>X?Y:X,Y=-2*nt,l="",o=!0,W+=1):l=ct,O.chars?(D=O.getCharData(ct,K.fStyle,O.getFontByName(e.f).fFamily),Q=o?0:D.w*e.finalSize/100):Q=O.measureText(l,e.f,e.finalSize),ct===" "?lt+=Q+nt:(Y+=Q+nt+lt,lt=0),R.push({l:Q,an:Q,add:q,n:o,anIndexes:[],val:l,line:W,animatorJustifyOffset:0}),j==2){if(q+=Q,l===""||l===" "||t===r-1){for(l!==""&&l!==" "||(q-=Q);U<=t;)R[U].an=q,R[U].ind=B,R[U].extra=Q,U+=1;B+=1,q=0}}else if(j==3){if(q+=Q,l===""||t===r-1){for(l===""&&(q-=Q);U<=t;)R[U].an=q,R[U].ind=B,R[U].extra=Q,U+=1;q=0,B+=1}}else R[B].ind=B,R[B].extra=0,B+=1;if(e.l=R,X=Y>X?Y:X,G.push(Y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=X,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=G;var ut,ot,at,dt,ft=F.a;y=ft.length;var mt=[];for(h=0;h<y;h+=1){for((ut=ft[h]).a.sc&&(e.strokeColorAnim=!0),ut.a.sw&&(e.strokeWidthAnim=!0),(ut.a.fc||ut.a.fh||ut.a.fs||ut.a.fb)&&(e.fillColorAnim=!0),dt=0,at=ut.s.b,t=0;t<r;t+=1)(ot=R[t]).anIndexes[h]=dt,(at==1&&ot.val!==""||at==2&&ot.val!==""&&ot.val!==" "||at==3&&(ot.n||ot.val==" "||t==r-1)||at==4&&(ot.n||t==r-1))&&(ut.s.rn===1&&mt.push(dt),dt+=1);F.a[h].s.totalChars=dt;var bt,xt=-1;if(ut.s.rn===1)for(t=0;t<r;t+=1)xt!=(ot=R[t]).anIndexes[h]&&(xt=ot.anIndexes[h],bt=mt.splice(Math.floor(Math.random()*mt.length),1)[0]),ot.anIndexes[h]=bt}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=K.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=t===void 0?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function o(l,h){this._currentTextLength=-1,this.k=!1,this.data=h,this.elem=l,this.comp=l.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(l),this.s=PropertyFactory.getProp(l,h.s||{k:0},0,0,this),this.e="e"in h?PropertyFactory.getProp(l,h.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(l,h.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(l,h.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(l,h.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(l,h.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(l,h.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return o.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var h=0,y=0,D=1,O=1;this.ne.v>0?h=this.ne.v/100:y=-this.ne.v/100,this.xe.v>0?D=1-this.xe.v/100:O=1+this.xe.v/100;var F=BezierFactory.getBezierEasing(h,y,D,O).get,R=0,B=this.finalS,j=this.finalE,q=this.data.sh;if(q===2)R=F(R=j===B?l>=j?1:0:e(0,t(.5/(j-B)+(l-B)/(j-B),1)));else if(q===3)R=F(R=j===B?l>=j?0:1:1-e(0,t(.5/(j-B)+(l-B)/(j-B),1)));else if(q===4)j===B?R=0:(R=e(0,t(.5/(j-B)+(l-B)/(j-B),1)))<.5?R*=2:R=1-2*(R-.5),R=F(R);else if(q===5){if(j===B)R=0;else{var U=j-B,W=-U/2+(l=t(e(0,l+.5-B),j-B)),G=U/2;R=Math.sqrt(1-W*W/(G*G))}R=F(R)}else q===6?(j===B?R=0:(l=t(e(0,l+.5-B),j-B),R=(1+Math.cos(Math.PI+2*Math.PI*l/(j-B)))/2),R=F(R)):(l>=r(B)&&(R=e(0,t(l-B<0?t(j,1)-(B-l):j-l,1))),R=F(R));if(this.sm.v!==100){var Y=.01*this.sm.v;Y===0&&(Y=1e-8);var X=.5-.5*Y;R<X?R=0:(R=(R-X)/Y)>1&&(R=1)}return R*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var h=this.data.r===2?1:100/this.data.totalChars,y=this.o.v/h,D=this.s.v/h+y,O=this.e.v/h+y;if(D>O){var F=D;D=O,O=F}this.finalS=D,this.finalE=O}},extendPrototype([DynamicPropertyContainer],o),{getTextSelectorProp:function(l,h,y){return new o(l,h)}}}(),poolFactory=function(e,t,r){var o=0,l=e,h=createSizedArray(l);return{newElement:function(){return o?h[o-=1]:t()},release:function(y){o===l&&(h=pooling.double(h),l*=2),r&&r(y),h[o]=y,o+=1}}},pooling={double:function(e){return e.concat(createSizedArray(e.length))}},pointPool=poolFactory(8,function(){return createTypedArray("float32",2)}),shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1}),factory.clone=function(e){var t,r=factory.newElement(),o=e._length===void 0?e.v.length:e._length;for(r.setLength(o),r.c=e.c,t=0;t<o;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},factory),factory,shapeCollectionPool=function(){var e={newShapeCollection:function(){return t?o[t-=1]:new ShapeCollection},release:function(l){var h,y=l._length;for(h=0;h<y;h+=1)shapePool.release(l.shapes[h]);l._length=0,t===r&&(o=pooling.double(o),r*=2),o[t]=l,t+=1}},t=0,r=4,o=createSizedArray(r);return e}(),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),markerParser=function(){function e(t){for(var r,o=t.split(`\r
`),l={},h=0,y=0;y<o.length;y+=1)(r=o[y].split(":")).length===2&&(l[r[0]]=r[1].trim(),h+=1);if(h===0)throw new Error;return l}return function(t){for(var r=[],o=0;o<t.length;o+=1){var l=t[o],h={time:l.tm,duration:l.dr};try{h.payload=JSON.parse(t[o].cm)}catch{try{h.payload=e(t[o].cm)}catch{h.payload={name:t[o]}}}r.push(h)}return r}}();function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var o=createNS("title"),l=createElementID();o.setAttribute("id",l),o.textContent=t.title,this.svgElement.appendChild(o),r+=l}if(t&&t.description){var h=createNS("desc"),y=createElementID();h.setAttribute("id",y),h.textContent=t.description,this.svgElement.appendChild(h),r+=" "+y}r&&this.svgElement.setAttribute("aria-labelledby",r);var D=createNS("defs");this.svgElement.appendChild(D);var O=createNS("g");this.svgElement.appendChild(O),this.layerElement=O,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:D,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||t.clearCanvas===void 0||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var o,l,h=this.globalData.defs,y=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(y),this.solidPath="";var D,O,F,R,B,j,q=this.masksProperties,U=0,W=[],G=createElementID(),Y="clipPath",X="clip-path";for(o=0;o<y;o+=1)if((q[o].mode!=="a"&&q[o].mode!=="n"||q[o].inv||q[o].o.k!==100||q[o].o.x)&&(Y="mask",X="mask"),q[o].mode!=="s"&&q[o].mode!=="i"||U!==0?F=null:((F=createNS("rect")).setAttribute("fill","#ffffff"),F.setAttribute("width",this.element.comp.data.w||0),F.setAttribute("height",this.element.comp.data.h||0),W.push(F)),l=createNS("path"),q[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,q[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,q[o],3),elem:l,lastPath:""},h.appendChild(l);else{var K;if(U+=1,l.setAttribute("fill",q[o].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero"),q[o].x.k!==0?(Y="mask",X="mask",j=PropertyFactory.getProp(this.element,q[o].x,0,null,this.element),K=createElementID(),(R=createNS("filter")).setAttribute("id",K),(B=createNS("feMorphology")).setAttribute("operator","erode"),B.setAttribute("in","SourceGraphic"),B.setAttribute("radius","0"),R.appendChild(B),h.appendChild(R),l.setAttribute("stroke",q[o].mode==="s"?"#000000":"#ffffff")):(B=null,j=null),this.storedData[o]={elem:l,x:j,expan:B,lastPath:"",lastOperator:"",filterId:K,lastRadius:0},q[o].mode==="i"){O=W.length;var Q=createNS("g");for(D=0;D<O;D+=1)Q.appendChild(W[D]);var J=createNS("mask");J.setAttribute("mask-type","alpha"),J.setAttribute("id",G+"_"+U),J.appendChild(l),h.appendChild(J),Q.setAttribute("mask","url("+locationHref+"#"+G+"_"+U+")"),W.length=0,W.push(Q)}else W.push(l);q[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,q[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,q[o],3),invRect:F},this.viewData[o].prop.k||this.drawPath(q[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(Y),y=W.length,o=0;o<y;o+=1)this.maskElement.appendChild(W[o]);U>0&&(this.maskElement.setAttribute("id",G),this.element.maskedElement.setAttribute(X,"url("+locationHref+"#"+G+")"),h.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){this.elem=e,this.pos=t}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var o=0,l=e.length;o<l;){if(e[o].mProps.dynamicProperties.length){this._isAnimated=!0;break}o+=1}}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(e){var t,r,o=this.layers.length;for(this.completeLayers=!0,t=o-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var r,o=e.length,l=this.layers.length;for(t=0;t<o;t+=1)for(r=0;r<l;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var o=this.elements,l=this.layers,h=0,y=l.length;h<y;)l[h].ind==t&&(o[h]&&o[h]!==!0?(r.push(o[h]),o[h].setAsParent(),l[h].parent!==void 0?this.buildElementParenting(e,l[h].parent,r):e.setHierarchy(r)):(this.buildItem(h),this.addPendingElement(e))),h+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var o=this.createComp(e[t]);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),o=createNS("rect");o.setAttribute("width",e.w),o.setAttribute("height",e.h),o.setAttribute("x",0),o.setAttribute("y",0);var l=createElementID();r.setAttribute("id",l),r.appendChild(o),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+l+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRenderer.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&this.layers[e].ty!==99){t[e]=!0;var r=this.createItem(this.layers[e]);t[e]=r,expressionsPlugin&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt&&(this.elements[e-1]&&this.elements[e-1]!==!0?r.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(r)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var o,l=0;l<t;)this.elements[l]&&this.elements[l]!==!0&&this.elements[l].getBaseElement()&&(o=this.elements[l].getBaseElement()),l+=1;o?this.layerElement.insertBefore(r,o):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(e){if(e[0]!==1||e[1]!==0||e[4]!==0||e[5]!==1||e[12]!==0||e[13]!==0)if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var r=this.contextData.cTr.props;this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRenderer.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t,r=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var o=this.contextData.saved[this.contextData.cArrPos];for(t=0;t<16;t+=1)o[t]=r[t];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,r=this.contextData.saved[this.contextData.cArrPos],o=this.contextData.cTr.props;for(t=0;t<16;t+=1)o[t]=r[t];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,r,o;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var l=this.renderConfig.preserveAspectRatio.split(" "),h=l[1]||"meet",y=l[0]||"xMidYMid",D=y.substr(0,4),O=y.substr(4);r=e/t,(o=this.transformCanvas.w/this.transformCanvas.h)>r&&h==="meet"||o<r&&h==="slice"?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=D==="xMid"&&(o<r&&h==="meet"||o>r&&h==="slice")?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:D==="xMax"&&(o<r&&h==="meet"||o>r&&h==="slice")?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=O==="YMid"&&(o>r&&h==="meet"||o<r&&h==="slice")?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:O==="YMax"&&(o>r&&h==="meet"||o<r&&h==="slice")?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||this.renderConfig.clearCanvas!==!0||t)&&!this.destroyed&&e!==-1){var r;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var o=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=0;r<o;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=o-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&this.layers[e].ty!==99){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var o=this.layers[t];if(o.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var l,h,y=0;y<t;)this.elements[y]&&this.elements[y]!==!0&&this.elements[y].getBaseElement&&(h=this.elements[y],l=(this.layers[y].ddd?this.getThreeDContainerByPos(y):h.getBaseElement())||l),y+=1;l?o.ddd&&this.supports3d||this.layerElement.insertBefore(r,l):o.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(e,t){var r,o,l=createTag("div");styleDiv(l);var h=createTag("div");if(styleDiv(h),t==="3d"){(r=l.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var y="50% 50%";r.webkitTransformOrigin=y,r.mozTransformOrigin=y,r.transformOrigin=y;var D="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(o=h.style).transform=D,o.webkitTransform=D}l.appendChild(h);var O={container:h,perspectiveElem:l,startPos:e,endPos:e,type:t};return this.threeDElements.push(O),O},HybridRenderer.prototype.build3dContainers=function(){var e,t,r=this.layers.length,o="";for(e=0;e<r;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(o!=="3d"&&(o="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):(o!=="2d"&&(o="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var r=0,o=this.threeDElements.length;r<o;){if(t<=this.threeDElements[r].endPos){for(var l,h=this.threeDElements[r].startPos;h<t;)this.elements[h]&&this.elements[h].getBaseElement&&(l=this.elements[h].getBaseElement()),h+=1;l?this.threeDElements[r].container.insertBefore(e,l):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,o=t.style;o.width=e.w+"px",o.height=e.h+"px",this.resizerElem=t,styleDiv(t),o.transformStyle="flat",o.mozTransformStyle="flat",o.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),o.overflow="hidden";var l=createNS("svg");l.setAttribute("width","1"),l.setAttribute("height","1"),styleDiv(l),this.resizerElem.appendChild(l);var h=createNS("defs");l.appendChild(h),this.data=e,this.setupGlobalData(e,l),this.globalData.defs=h,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,r,o,l=this.animationItem.wrapper.offsetWidth,h=this.animationItem.wrapper.offsetHeight,y=l/h;this.globalData.compSize.w/this.globalData.compSize.h>y?(e=l/this.globalData.compSize.w,t=l/this.globalData.compSize.w,r=0,o=(h-this.globalData.compSize.h*(l/this.globalData.compSize.w))/2):(e=h/this.globalData.compSize.h,t=h/this.globalData.compSize.h,r=(l-this.globalData.compSize.w*(h/this.globalData.compSize.h))/2,o=0);var D=this.resizerElem.style;D.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+o+",0,1)",D.transform=D.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,o=this.threeDElements.length;for(e=0;e<o;e+=1){var l=this.threeDElements[e].perspectiveElem.style;l.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",l.perspective=l.webkitPerspective}}},HybridRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length,o=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var l=this.createComp(e[t],o,this.globalData.comp,null);l.initExpressions(),this.globalData.projectInterface.registerComposition(l)}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,o=this.masksProperties.length;for(t=0;t<o;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),this.masksProperties[t].mode!=="n"&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var l=this.storedData[t].expan;this.storedData[t].x.v<0?(this.storedData[t].lastOperator!=="erode"&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),l.setAttribute("radius",-this.storedData[t].x.v)):(this.storedData[t].lastOperator!=="dilate"&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var o,l,h=" M"+t.v[0][0]+","+t.v[0][1];for(l=t._length,o=1;o<l;o+=1)h+=" C"+t.o[o-1][0]+","+t.o[o-1][1]+" "+t.i[o][0]+","+t.i[o][1]+" "+t.v[o][0]+","+t.v[o][1];if(t.c&&l>1&&(h+=" C"+t.o[o-1][0]+","+t.o[o-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==h){var y="";r.elem&&(t.c&&(y=e.inv?this.solidPath+h:h),r.elem.setAttribute("d",y)),r.lastPath=h}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,o=this.dynamicProperties.length;for(r=0;r<o;r+=1)(t||this._isParent&&this.dynamicProperties[r].propType==="transform")&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<o;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<o;r+=1)e=this.hierarchy[r].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r,o=!0,l=this.comp;o;)l.finalTransform?(l.data.hasMask&&t.splice(0,0,l.finalTransform),l=l.comp):o=!1;var h,y=t.length;for(r=0;r<y;r+=1)h=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-h[0],e[1]-h[1],0];return e},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),o=createNS(t.t===1?"linearGradient":"radialGradient");o.setAttribute("id",r),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l,h,y,D=[];for(y=4*t.g.p,h=0;h<y;h+=4)l=createNS("stop"),o.appendChild(l),D.push(l);e.setAttribute(t.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+r+")"),this.gf=o,this.cst=D},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,o,l,h=createNS("mask"),y=createNS("path");h.appendChild(y);var D=createElementID(),O=createElementID();h.setAttribute("id",O);var F=createNS(e.t===1?"linearGradient":"radialGradient");F.setAttribute("id",D),F.setAttribute("spreadMethod","pad"),F.setAttribute("gradientUnits","userSpaceOnUse"),l=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var R=this.stops;for(o=4*e.g.p;o<l;o+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),F.appendChild(r),R.push(r);y.setAttribute(e.ty==="gf"?"fill":"stroke","url("+locationHref+"#"+D+")"),e.ty==="gs"&&(y.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),y.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&y.setAttribute("stroke-miterlimit",e.ml)),this.of=F,this.ms=h,this.ost=R,this.maskId=O,t.msElem=y}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(O,F,R){(R||F.transform.op._mdf)&&F.transform.container.setAttribute("opacity",F.transform.op.v),(R||F.transform.mProps._mdf)&&F.transform.container.setAttribute("transform",F.transform.mProps.v.to2dCSS())}function o(O,F,R){var B,j,q,U,W,G,Y,X,K,Q,J,et=F.styles.length,nt=F.lvl;for(G=0;G<et;G+=1){if(U=F.sh._mdf||R,F.styles[G].lvl<nt){for(X=t.reset(),Q=nt-F.styles[G].lvl,J=F.transformers.length-1;!U&&Q>0;)U=F.transformers[J].mProps._mdf||U,Q-=1,J-=1;if(U)for(Q=nt-F.styles[G].lvl,J=F.transformers.length-1;Q>0;)K=F.transformers[J].mProps.v.props,X.transform(K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8],K[9],K[10],K[11],K[12],K[13],K[14],K[15]),Q-=1,J-=1}else X=e;if(j=(Y=F.sh.paths)._length,U){for(q="",B=0;B<j;B+=1)(W=Y.shapes[B])&&W._length&&(q+=buildShapeString(W,W._length,W.c,X));F.caches[G]=q}else q=F.caches[G];F.styles[G].d+=O.hd===!0?"":q,F.styles[G]._mdf=U||F.styles[G]._mdf}}function l(O,F,R){var B=F.style;(F.c._mdf||R)&&B.pElem.setAttribute("fill","rgb("+bmFloor(F.c.v[0])+","+bmFloor(F.c.v[1])+","+bmFloor(F.c.v[2])+")"),(F.o._mdf||R)&&B.pElem.setAttribute("fill-opacity",F.o.v)}function h(O,F,R){y(O,F,R),D(0,F,R)}function y(O,F,R){var B,j,q,U,W,G=F.gf,Y=F.g._hasOpacity,X=F.s.v,K=F.e.v;if(F.o._mdf||R){var Q=O.ty==="gf"?"fill-opacity":"stroke-opacity";F.style.pElem.setAttribute(Q,F.o.v)}if(F.s._mdf||R){var J=O.t===1?"x1":"cx",et=J==="x1"?"y1":"cy";G.setAttribute(J,X[0]),G.setAttribute(et,X[1]),Y&&!F.g._collapsable&&(F.of.setAttribute(J,X[0]),F.of.setAttribute(et,X[1]))}if(F.g._cmdf||R){B=F.cst;var nt=F.g.c;for(q=B.length,j=0;j<q;j+=1)(U=B[j]).setAttribute("offset",nt[4*j]+"%"),U.setAttribute("stop-color","rgb("+nt[4*j+1]+","+nt[4*j+2]+","+nt[4*j+3]+")")}if(Y&&(F.g._omdf||R)){var Z=F.g.o;for(q=(B=F.g._collapsable?F.cst:F.ost).length,j=0;j<q;j+=1)U=B[j],F.g._collapsable||U.setAttribute("offset",Z[2*j]+"%"),U.setAttribute("stop-opacity",Z[2*j+1])}if(O.t===1)(F.e._mdf||R)&&(G.setAttribute("x2",K[0]),G.setAttribute("y2",K[1]),Y&&!F.g._collapsable&&(F.of.setAttribute("x2",K[0]),F.of.setAttribute("y2",K[1])));else if((F.s._mdf||F.e._mdf||R)&&(W=Math.sqrt(Math.pow(X[0]-K[0],2)+Math.pow(X[1]-K[1],2)),G.setAttribute("r",W),Y&&!F.g._collapsable&&F.of.setAttribute("r",W)),F.e._mdf||F.h._mdf||F.a._mdf||R){W||(W=Math.sqrt(Math.pow(X[0]-K[0],2)+Math.pow(X[1]-K[1],2)));var it=Math.atan2(K[1]-X[1],K[0]-X[0]),rt=F.h.v;rt>=1?rt=.99:rt<=-1&&(rt=-.99);var tt=W*rt,st=Math.cos(it+F.a.v)*tt+X[0],ht=Math.sin(it+F.a.v)*tt+X[1];G.setAttribute("fx",st),G.setAttribute("fy",ht),Y&&!F.g._collapsable&&(F.of.setAttribute("fx",st),F.of.setAttribute("fy",ht))}}function D(O,F,R){var B=F.style,j=F.d;j&&(j._mdf||R)&&j.dashStr&&(B.pElem.setAttribute("stroke-dasharray",j.dashStr),B.pElem.setAttribute("stroke-dashoffset",j.dashoffset[0])),F.c&&(F.c._mdf||R)&&B.pElem.setAttribute("stroke","rgb("+bmFloor(F.c.v[0])+","+bmFloor(F.c.v[1])+","+bmFloor(F.c.v[2])+")"),(F.o._mdf||R)&&B.pElem.setAttribute("stroke-opacity",F.o.v),(F.w._mdf||R)&&(B.pElem.setAttribute("stroke-width",F.w.v),B.msElem&&B.msElem.setAttribute("stroke-width",F.w.v))}return{createRenderFunction:function(O){switch(O.ty){case"fl":return l;case"gf":return y;case"gs":return h;case"st":return D;case"sh":case"el":case"rc":case"sr":return o;case"tr":return r;default:return null}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(e,t,r,o){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var l,h=4;t.ty==="rc"?h=5:t.ty==="el"?h=6:t.ty==="sr"&&(h=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,h,e);var y,D=r.length;for(l=0;l<D;l+=1)r[l].closed||(y={transforms:o.addTransformSequence(r[l].transforms),trNodes:[]},this.styledShapes.push(y),r[l].elements.push(y))}function BaseElement(){}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(e,t,r){this.initElement(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var o=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(o),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function SVGTintFilter(e,t){this.filterManager=t;var r=createNS("feColorMatrix");if(r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),e.appendChild(r),(r=createNS("feColorMatrix")).setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),r.setAttribute("result","f2"),e.appendChild(r),this.matrixFilter=r,t.effectElements[2].p.v!==100||t.effectElements[2].p.k){var o,l=createNS("feMerge");e.appendChild(l),(o=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),l.appendChild(o),(o=createNS("feMergeNode")).setAttribute("in","f2"),l.appendChild(o)}}function SVGFillFilter(e,t){this.filterManager=t;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(r),this.matrixFilter=r}function SVGGaussianBlurEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var r=createNS("feGaussianBlur");e.appendChild(r),this.feGaussianBlur=r}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),e.appendChild(r);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(o),this.matrixFilter=o;var l=createNS("feFuncR");l.setAttribute("type","table"),o.appendChild(l),this.feFuncR=l;var h=createNS("feFuncG");h.setAttribute("type","table"),o.appendChild(h),this.feFuncG=h;var y=createNS("feFuncB");y.setAttribute("type","table"),o.appendChild(y),this.feFuncB=y}function SVGProLevelsFilter(e,t){this.filterManager=t;var r=this.filterManager.effectElements,o=createNS("feComponentTransfer");(r[10].p.k||r[10].p.v!==0||r[11].p.k||r[11].p.v!==1||r[12].p.k||r[12].p.v!==1||r[13].p.k||r[13].p.v!==0||r[14].p.k||r[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(r[17].p.k||r[17].p.v!==0||r[18].p.k||r[18].p.v!==1||r[19].p.k||r[19].p.v!==1||r[20].p.k||r[20].p.v!==0||r[21].p.k||r[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(r[24].p.k||r[24].p.v!==0||r[25].p.k||r[25].p.v!==1||r[26].p.k||r[26].p.v!==1||r[27].p.k||r[27].p.v!==0||r[28].p.k||r[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(r[31].p.k||r[31].p.v!==0||r[32].p.k||r[32].p.v!==1||r[33].p.k||r[33].p.v!==1||r[34].p.k||r[34].p.v!==0||r[35].p.k||r[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(o),o=createNS("feComponentTransfer")),(r[3].p.k||r[3].p.v!==0||r[4].p.k||r[4].p.v!==1||r[5].p.k||r[5].p.v!==1||r[6].p.k||r[6].p.v!==0||r[7].p.k||r[7].p.v!==1)&&(o.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}function SVGDropShadowEffect(e,t){var r=t.container.globalData.renderConfig.filterSize;e.setAttribute("x",r.x),e.setAttribute("y",r.y),e.setAttribute("width",r.width),e.setAttribute("height",r.height),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result","drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,e.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in","drop_shadow_1"),l.setAttribute("result","drop_shadow_2"),this.feOffset=l,e.appendChild(l);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result","drop_shadow_3"),this.feFlood=h,e.appendChild(h);var y=createNS("feComposite");y.setAttribute("in","drop_shadow_3"),y.setAttribute("in2","drop_shadow_2"),y.setAttribute("operator","in"),y.setAttribute("result","drop_shadow_4"),e.appendChild(y);var D,O=createNS("feMerge");e.appendChild(O),D=createNS("feMergeNode"),O.appendChild(D),(D=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=D,this.feMerge=O,this.originalNodeAdded=!1,O.appendChild(D)}ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,o="_";for(t=0;t<r;t+=1)o+=e[t].transform.key+"_";var l=this.sequences[o];return l||(l={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=l,this.sequenceList.push(l)),l},processSequence:function(e,t){for(var r,o=0,l=e.transforms.length,h=t;o<l&&!t;){if(e.transforms[o].transform.mProps._mdf){h=!0;break}o+=1}if(h)for(e.finalTransform.reset(),o=l-1;o>=0;o-=1)r=e.transforms[o].transform.mProps.v.props,e.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);e._mdf=h},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,r,o=null;if(this.data.td){if(this.data.td==3||this.data.td==1){var l=createNS("mask");l.setAttribute("id",this.layerId),l.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),l.appendChild(this.layerElement),o=l,this.globalData.defs.appendChild(l),featureSupport.maskType||this.data.td!=1||(l.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),o=r,l.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(this.data.td==2){var h=createNS("mask");h.setAttribute("id",this.layerId),h.setAttribute("mask-type","alpha");var y=createNS("g");h.appendChild(y),e=createElementID(),t=filtersFactory.createFilter(e);var D=createNS("feComponentTransfer");D.setAttribute("in","SourceGraphic"),t.appendChild(D);var O=createNS("feFuncA");O.setAttribute("type","table"),O.setAttribute("tableValues","1.0 0.0"),D.appendChild(O),this.globalData.defs.appendChild(t);var F=createNS("rect");F.setAttribute("width",this.comp.data.w),F.setAttribute("height",this.comp.data.h),F.setAttribute("x","0"),F.setAttribute("y","0"),F.setAttribute("fill","#ffffff"),F.setAttribute("opacity","0"),y.setAttribute("filter","url("+locationHref+"#"+e+")"),y.appendChild(F),y.appendChild(this.layerElement),o=y,featureSupport.maskType||(h.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),y.appendChild(F),r.appendChild(this.layerElement),o=r,y.appendChild(r)),this.globalData.defs.appendChild(h)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),o=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var R=createNS("clipPath"),B=createNS("path");B.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var j=createElementID();if(R.setAttribute("id",j),R.appendChild(B),this.globalData.defs.appendChild(R),this.checkMasks()){var q=createNS("g");q.setAttribute("clip-path","url("+locationHref+"#"+j+")"),q.appendChild(this.layerElement),this.transformedElement=q,o?o.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+j+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")}},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,o=t.length;r<o;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,o=r.length;o;)if(r[o-=1].elem===e)return void(r[o].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var r,o,l=t.length,h="";for(r=0;r<l;r+=1)o=t[r].ks.k,h+=buildShapeString(o,o.i.length,!0,e);return h},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,o,l){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(o,l,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,o=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=o-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this.audio.volume(e)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,o=[],l="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(o.push(l),l=""):l+=e[t],t+=1;return o.push(l),o},SVGTextLottieElement.prototype.buildNewText=function(){var e,t,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var o=this.globalData.fontManager.getFontByName(r.f);if(o.fClass)this.layerElement.setAttribute("class",o.fClass);else{this.layerElement.setAttribute("font-family",o.fFamily);var l=r.fWeight,h=r.fStyle;this.layerElement.setAttribute("font-style",h),this.layerElement.setAttribute("font-weight",l)}this.layerElement.setAttribute("aria-label",r.t);var y,D=r.l||[],O=!!this.globalData.fontManager.chars;t=D.length;var F,R=this.mHelper,B="",j=this.data.singleShape,q=0,U=0,W=!0,G=.001*r.tr*r.finalSize;if(!j||O||r.sz){var Y,X,K=this.textSpans.length;for(e=0;e<t;e+=1)O&&j&&e!==0||(y=K>e?this.textSpans[e]:createNS(O?"path":"text"),K<=e&&(y.setAttribute("stroke-linecap","butt"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=y,this.layerElement.appendChild(y)),y.style.display="inherit"),R.reset(),R.scale(r.finalSize/100,r.finalSize/100),j&&(D[e].n&&(q=-G,U+=r.yOffset,U+=W?1:0,W=!1),this.applyTextPropertiesToMatrix(r,R,D[e].line,q,U),q+=D[e].l||0,q+=G),O?(F=(Y=(X=this.globalData.fontManager.getCharData(r.finalText[e],o.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily))&&X.data||{}).shapes?Y.shapes[0].it:[],j?B+=this.createPathShape(R,F):y.setAttribute("d",this.createPathShape(R,F))):(j&&y.setAttribute("transform","translate("+R.props[12]+","+R.props[13]+")"),y.textContent=D[e].val,y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));j&&y&&y.setAttribute("d",B)}else{var Q=this.textContainer,J="start";switch(r.j){case 1:J="end";break;case 2:J="middle";break;default:J="start"}Q.setAttribute("text-anchor",J),Q.setAttribute("letter-spacing",G);var et=this.buildTextContents(r.finalText);for(t=et.length,U=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(y=this.textSpans[e]||createNS("tspan")).textContent=et[e],y.setAttribute("x",0),y.setAttribute("y",U),y.style.display="inherit",Q.appendChild(y),this.textSpans[e]=y,U+=r.finalLineHeight;this.layerElement.appendChild(Q)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var r,o,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(t=h.length,e=0;e<t;e+=1)h[e].n||(r=l[e],o=this.textSpans[e],r._mdf.m&&o.setAttribute("transform",r.m),r._mdf.o&&o.setAttribute("opacity",r.o),r._mdf.sw&&o.setAttribute("stroke-width",r.sw),r._mdf.sc&&o.setAttribute("stroke",r.sc),r._mdf.fc&&o.setAttribute("fill",r.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,o,l=this.shapes.length,h=this.stylesList.length,y=[],D=!1;for(r=0;r<h;r+=1){for(o=this.stylesList[r],D=!1,y.length=0,e=0;e<l;e+=1)(t=this.shapes[e]).styles.indexOf(o)!==-1&&(y.push(t),D=t._isAnimated||D);y.length>1&&D&&this.setShapesAsAnimated(y)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,o=new SVGStyleData(e,t),l=o.pElem;return e.ty==="st"?r=new SVGStrokeStyleData(this,e,o):e.ty==="fl"?r=new SVGFillStyleData(this,e,o):e.ty!=="gf"&&e.ty!=="gs"||(r=new(e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,o),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),l.setAttribute("mask","url("+locationHref+"#"+r.maskId+")"))),e.ty!=="st"&&e.ty!=="gs"||(l.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),l.setAttribute("fill-opacity","0"),e.lj===1&&l.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&l.setAttribute("fill-rule","evenodd"),e.ln&&l.setAttribute("id",e.ln),e.cl&&l.setAttribute("class",e.cl),e.bm&&(l.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(o),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),o=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,o),o},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var o=4;e.ty==="rc"?o=5:e.ty==="el"?o=6:e.ty==="sr"&&(o=7);var l=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,o,this));return this.shapes.push(l),this.addShapeToModifiers(l),this.addToAnimatedContents(e,l),l},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,o=this.animatedContents.length;r<o;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,o=this.stylesList.length;for(t=0;t<o;t+=1)this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,o,l,h,y){var D,O,F,R,B,j,q=[].concat(h),U=e.length-1,W=[],G=[];for(D=U;D>=0;D-=1){if((j=this.searchProcessedElement(e[D]))?t[D]=r[j-1]:e[D]._render=y,e[D].ty==="fl"||e[D].ty==="st"||e[D].ty==="gf"||e[D].ty==="gs")j?t[D].style.closed=!1:t[D]=this.createStyleElement(e[D],l),e[D]._render&&t[D].style.pElem.parentNode!==o&&o.appendChild(t[D].style.pElem),W.push(t[D].style);else if(e[D].ty==="gr"){if(j)for(F=t[D].it.length,O=0;O<F;O+=1)t[D].prevViewData[O]=t[D].it[O];else t[D]=this.createGroupElement(e[D]);this.searchShapes(e[D].it,t[D].it,t[D].prevViewData,t[D].gr,l+1,q,y),e[D]._render&&t[D].gr.parentNode!==o&&o.appendChild(t[D].gr)}else e[D].ty==="tr"?(j||(t[D]=this.createTransformElement(e[D],o)),R=t[D].transform,q.push(R)):e[D].ty==="sh"||e[D].ty==="rc"||e[D].ty==="el"||e[D].ty==="sr"?(j||(t[D]=this.createShapeElement(e[D],q,l)),this.setElementStyles(t[D])):e[D].ty==="tm"||e[D].ty==="rd"||e[D].ty==="ms"||e[D].ty==="pb"?(j?(B=t[D]).closed=!1:((B=ShapeModifiers.getModifier(e[D].ty)).init(this,e[D]),t[D]=B,this.shapeModifiers.push(B)),G.push(B)):e[D].ty==="rp"&&(j?(B=t[D]).closed=!0:(B=ShapeModifiers.getModifier(e[D].ty),t[D]=B,B.init(this,e,D,t),this.shapeModifiers.push(B),y=!1),G.push(B));this.addProcessedElement(e[D],D+1)}for(U=W.length,D=0;D<U;D+=1)W[D].closed=!0;for(U=G.length,D=0;D<U;D+=1)G[D].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&t.data!==!0&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+o+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,o=r==3?0:t,l=r==2?0:t;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+l);var h=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",h)}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,o,l=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,r=0):o=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<o;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(this.filterManager.effectElements[10].p.v===3){var h=createNS("mask"),y=createElementID();h.setAttribute("id",y),h.setAttribute("mask-type","alpha"),h.appendChild(t),this.elem.globalData.defs.appendChild(h);var D=createNS("g");for(D.setAttribute("mask","url("+locationHref+"#"+y+")");l[0];)D.appendChild(l[0]);this.elem.layerElement.appendChild(D),this.masker=h,t.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(l=this.elem.layerElement.children||this.elem.layerElement.childNodes;l.length;)this.elem.layerElement.removeChild(l[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var r,o,l=this.paths.length;for(t=0;t<l;t+=1)if(this.paths[t].m!==-1&&(r=this.elem.maskManager.viewData[this.paths[t].m],o=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&o.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var h;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var y=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),D=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),O=o.getTotalLength();h="0 0 0 "+O*y+" ";var F,R=O*(D-y),B=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,j=Math.floor(R/B);for(F=0;F<j;F+=1)h+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";h+="0 "+10*O+" 0 0"}else h="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",h)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var q=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*q[0])+","+bmFloor(255*q[1])+","+bmFloor(255*q[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,o=this.filterManager.effectElements[2].p.v,l=o[0]+" "+r[0]+" "+t[0],h=o[1]+" "+r[1]+" "+t[1],y=o[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",l),this.feFuncG.setAttribute("tableValues",h),this.feFuncB.setAttribute("tableValues",y)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,o,l){for(var h,y,D=0,O=Math.min(e,t),F=Math.max(e,t),R=Array.call(null,{length:256}),B=0,j=l-o,q=t-e;D<=256;)y=(h=D/256)<=O?q<0?l:o:h>=F?q<0?o:l:o+j*Math.pow((h-e)/q,1/r),R[B]=y,B+=1,D+=256/255;return R.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,o=(this.filterManager.effectElements[2].p.v-90)*degToRads,l=r*Math.cos(o),h=r*Math.sin(o);this.feOffset.setAttribute("dx",l),this.feOffset.setAttribute("dy",h)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(e){var t,r,o=e.data.ef?e.data.ef.length:0,l=createElementID(),h=filtersFactory.createFilter(l,!0),y=0;for(this.filters=[],t=0;t<o;t+=1)r=null,e.data.ef[t].ty===20?(y+=1,r=new SVGTintFilter(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===21?(y+=1,r=new SVGFillFilter(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===22?r=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):e.data.ef[t].ty===23?(y+=1,r=new SVGTritoneFilter(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===24?(y+=1,r=new SVGProLevelsFilter(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===25?(y+=1,r=new SVGDropShadowEffect(h,e.effectsManager.effectElements[t])):e.data.ef[t].ty===28?r=new SVGMatte3Effect(h,e.effectsManager.effectElements[t],e):e.data.ef[t].ty===29&&(y+=1,r=new SVGGaussianBlurEffect(h,e.effectsManager.effectElements[t])),r&&this.filters.push(r);y&&(e.globalData.defs.appendChild(h),e.layerElement.setAttribute("filter","url("+locationHref+"#"+l+")")),this.filters.length&&e.addRenderableComponent(this)}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CVMaskElement(e,t){var r;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var o=this.masksProperties.length,l=!1;for(r=0;r<o;r+=1)this.masksProperties[r].mode!=="n"&&(l=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=l,l&&this.element.addRenderableComponent(this)}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVEffects(){}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var o=PropertyFactory.getProp;if(this.pe=o(this,e.pe,0,0,this),e.ks.p.s?(this.px=o(this,e.ks.p.x,1,0,this),this.py=o(this,e.ks.p.y,1,0,this),this.pz=o(this,e.ks.p.z,1,0,this)):this.p=o(this,e.ks.p,1,0,this),e.ks.a&&(this.a=o(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var l,h=e.ks.or.k.length;for(l=0;l<h;l+=1)e.ks.or.k[l].to=null,e.ks.or.k[l].ti=null}this.or=o(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=o(this,e.ks.rx,0,degToRads,this),this.ry=o(this,e.ks.ry,0,degToRads,this),this.rz=o(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var o,l=r.children,h=0,y=l.length;h<y&&l[h]!==e.layerElement;)h+=1;h<=y-2&&(o=l[h+1]);var D=createNS("use");D.setAttribute("href","#"+t),o?r.insertBefore(D,o):r.appendChild(D)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),o=createNS("mask");o.setAttribute("id",t.layerId),o.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var l=e.globalData.defs;l.appendChild(o);var h=createNS("symbol");h.setAttribute("id",r),this.replaceInParent(t,r),h.appendChild(t.layerElement),l.appendChild(h);var y=createNS("use");y.setAttribute("href","#"+r),o.appendChild(y),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,o=t.length;r<o;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var r=0;for(r=this._length;r<e;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=this.data.ty===0;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,o=e.getContext("2d"),l=this.img.width,h=this.img.height,y=l/h,D=this.assetData.w/this.assetData.h,O=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;y>D&&O==="xMidYMid slice"||y<D&&O!=="xMidYMid slice"?t=(r=h)*D:r=(t=l)/D,o.drawImage(this.img,(l-t)/2,(h-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,o,l=this.element.finalTransform.mat,h=this.element.canvasContext,y=this.masksProperties.length;for(h.beginPath(),e=0;e<y;e+=1)if(this.masksProperties[e].mode!=="n"){var D;this.masksProperties[e].inv&&(h.moveTo(0,0),h.lineTo(this.element.globalData.compSize.w,0),h.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),h.lineTo(0,this.element.globalData.compSize.h),h.lineTo(0,0)),o=this.viewData[e].v,t=l.applyToPointArray(o.v[0][0],o.v[0][1],0),h.moveTo(t[0],t[1]);var O=o._length;for(D=1;D<O;D+=1)r=l.applyToTriplePoints(o.o[D-1],o.i[D],o.v[D]),h.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=l.applyToTriplePoints(o.o[D-1],o.i[0],o.v[0]),h.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),h.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:e.hd===!0},o={};if(e.ty==="fl"||e.ty==="st"?(o.c=PropertyFactory.getProp(this,e.c,1,255,this),o.c.k||(r.co="rgb("+bmFloor(o.c.v[0])+","+bmFloor(o.c.v[1])+","+bmFloor(o.c.v[2])+")")):e.ty!=="gf"&&e.ty!=="gs"||(o.s=PropertyFactory.getProp(this,e.s,1,null,this),o.e=PropertyFactory.getProp(this,e.e,1,null,this),o.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),o.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),o.g=new GradientProperty(this,e.g,this)),o.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],e.lj==1&&(r.ml=e.ml),o.w=PropertyFactory.getProp(this,e.w,0,null,this),o.w.k||(r.wi=o.w.v),e.d){var l=new DashProperty(this,e.d,"canvas",this);o.d=l,o.d.k||(r.da=o.d.dashArray,r.do=o.d.dashoffset[0])}}else r.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(r),o.style=r,o},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,o,l){var h,y,D,O,F,R,B=e.length-1,j=[],q=[],U=[].concat(l);for(h=B;h>=0;h-=1){if((O=this.searchProcessedElement(e[h]))?t[h]=r[O-1]:e[h]._shouldRender=o,e[h].ty==="fl"||e[h].ty==="st"||e[h].ty==="gf"||e[h].ty==="gs")O?t[h].style.closed=!1:t[h]=this.createStyleElement(e[h],U),j.push(t[h].style);else if(e[h].ty==="gr"){if(O)for(D=t[h].it.length,y=0;y<D;y+=1)t[h].prevViewData[y]=t[h].it[y];else t[h]=this.createGroupElement(e[h]);this.searchShapes(e[h].it,t[h].it,t[h].prevViewData,o,U)}else e[h].ty==="tr"?(O||(R=this.createTransformElement(e[h]),t[h]=R),U.push(t[h]),this.addTransformToStyleList(t[h])):e[h].ty==="sh"||e[h].ty==="rc"||e[h].ty==="el"||e[h].ty==="sr"?O||(t[h]=this.createShapeElement(e[h])):e[h].ty==="tm"||e[h].ty==="rd"||e[h].ty==="pb"?(O?(F=t[h]).closed=!1:((F=ShapeModifiers.getModifier(e[h].ty)).init(this,e[h]),t[h]=F,this.shapeModifiers.push(F)),q.push(F)):e[h].ty==="rp"&&(O?(F=t[h]).closed=!0:(F=ShapeModifiers.getModifier(e[h].ty),t[h]=F,F.init(this,e,h,t),this.shapeModifiers.push(F),o=!1),q.push(F));this.addProcessedElement(e[h],h+1)}for(this.removeTransformFromStyleList(),this.closeStyles(j),B=q.length,h=0;h<B;h+=1)q[h].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,o,l,h,y,D,O,F=this.stylesList.length,R=this.globalData.renderer,B=this.globalData.canvasContext;for(e=0;e<F;e+=1)if(((D=(O=this.stylesList[e]).type)!=="st"&&D!=="gs"||O.wi!==0)&&O.data._shouldRender&&O.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(R.save(),h=O.elements,D==="st"||D==="gs"?(B.strokeStyle=D==="st"?O.co:O.grd,B.lineWidth=O.wi,B.lineCap=O.lc,B.lineJoin=O.lj,B.miterLimit=O.ml||0):B.fillStyle=D==="fl"?O.co:O.grd,R.ctxOpacity(O.coOp),D!=="st"&&D!=="gs"&&B.beginPath(),R.ctxTransform(O.preTransforms.finalTransform.props),r=h.length,t=0;t<r;t+=1){for(D!=="st"&&D!=="gs"||(B.beginPath(),O.da&&(B.setLineDash(O.da),B.lineDashOffset=O.do)),l=(y=h[t].trNodes).length,o=0;o<l;o+=1)y[o].t==="m"?B.moveTo(y[o].p[0],y[o].p[1]):y[o].t==="c"?B.bezierCurveTo(y[o].pts[0],y[o].pts[1],y[o].pts[2],y[o].pts[3],y[o].pts[4],y[o].pts[5]):B.closePath();D!=="st"&&D!=="gs"||(B.stroke(),O.da&&B.setLineDash(this.dashResetter))}D!=="st"&&D!=="gs"&&B.fill(O.r),R.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,o){var l,h;for(h=e,l=t.length-1;l>=0;l-=1)t[l].ty==="tr"?(h=r[l].transform,this.renderShapeTransform(e,h)):t[l].ty==="sh"||t[l].ty==="el"||t[l].ty==="rc"||t[l].ty==="sr"?this.renderPath(t[l],r[l]):t[l].ty==="fl"?this.renderFill(t[l],r[l],h):t[l].ty==="st"?this.renderStroke(t[l],r[l],h):t[l].ty==="gf"||t[l].ty==="gs"?this.renderGradientFill(t[l],r[l],h):t[l].ty==="gr"?this.renderShape(h,t[l].it,r[l].it):t[l].ty;o&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,o,l,h=e.trNodes,y=t.paths,D=y._length;h.length=0;var O=e.transforms.finalTransform;for(l=0;l<D;l+=1){var F=y.shapes[l];if(F&&F.v){for(o=F._length,r=1;r<o;r+=1)r===1&&h.push({t:"m",p:O.applyToPointArray(F.v[0][0],F.v[0][1],0)}),h.push({t:"c",pts:O.applyToTriplePoints(F.o[r-1],F.i[r],F.v[r])});o===1&&h.push({t:"m",p:O.applyToPointArray(F.v[0][0],F.v[0][1],0)}),F.c&&o&&(h.push({t:"c",pts:O.applyToTriplePoints(F.o[r-1],F.i[0],F.v[0])}),h.push({t:"z"}))}}e.trNodes=h}},CVShapeElement.prototype.renderPath=function(e,t){if(e.hd!==!0&&e._shouldRender){var r,o=t.styledShapes.length;for(r=0;r<o;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var o=t.style;(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var o,l=t.style;if(!l.grd||t.g._mdf||t.s._mdf||t.e._mdf||e.t!==1&&(t.h._mdf||t.a._mdf)){var h,y=this.globalData.canvasContext,D=t.s.v,O=t.e.v;if(e.t===1)o=y.createLinearGradient(D[0],D[1],O[0],O[1]);else{var F=Math.sqrt(Math.pow(D[0]-O[0],2)+Math.pow(D[1]-O[1],2)),R=Math.atan2(O[1]-D[1],O[0]-D[0]),B=t.h.v;B>=1?B=.99:B<=-1&&(B=-.99);var j=F*B,q=Math.cos(R+t.a.v)*j+D[0],U=Math.sin(R+t.a.v)*j+D[1];o=y.createRadialGradient(q,U,0,D[0],D[1],F)}var W=e.g.p,G=t.g.c,Y=1;for(h=0;h<W;h+=1)t.g._hasOpacity&&t.g._collapsable&&(Y=t.g.o[2*h+1]),o.addColorStop(G[4*h]/100,"rgba("+G[4*h+1]+","+G[4*h+2]+","+G[4*h+3]+","+Y+")");l.grd=o}l.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var o=t.style,l=t.d;l&&(l._mdf||this._isFirstFrame)&&(o.da=l.dashArray,o.do=l.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(o.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(o.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(o.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var o,l,h,y,D,O,F,R,B,j,q,U,W=this.globalData.fontManager.getFontByName(e.f),G=e.l,Y=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,l=e.finalText.length;var X=this.data.singleShape,K=.001*e.tr*e.finalSize,Q=0,J=0,et=!0,nt=0;for(o=0;o<l;o+=1){for(y=(h=this.globalData.fontManager.getCharData(e.finalText[o],W.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&h.data||{},Y.reset(),X&&G[o].n&&(Q=-K,J+=e.yOffset,J+=et?1:0,et=!1),B=(F=y.shapes?y.shapes[0].it:[]).length,Y.scale(e.finalSize/100,e.finalSize/100),X&&this.applyTextPropertiesToMatrix(e,Y,G[o].line,Q,J),q=createSizedArray(B),R=0;R<B;R+=1){for(O=F[R].ks.k.i.length,j=F[R].ks.k,U=[],D=1;D<O;D+=1)D===1&&U.push(Y.applyToX(j.v[0][0],j.v[0][1],0),Y.applyToY(j.v[0][0],j.v[0][1],0)),U.push(Y.applyToX(j.o[D-1][0],j.o[D-1][1],0),Y.applyToY(j.o[D-1][0],j.o[D-1][1],0),Y.applyToX(j.i[D][0],j.i[D][1],0),Y.applyToY(j.i[D][0],j.i[D][1],0),Y.applyToX(j.v[D][0],j.v[D][1],0),Y.applyToY(j.v[D][0],j.v[D][1],0));U.push(Y.applyToX(j.o[D-1][0],j.o[D-1][1],0),Y.applyToY(j.o[D-1][0],j.o[D-1][1],0),Y.applyToX(j.i[0][0],j.i[0][1],0),Y.applyToY(j.i[0][0],j.i[0][1],0),Y.applyToX(j.v[0][0],j.v[0][1],0),Y.applyToY(j.v[0][0],j.v[0][1],0)),q[R]=U}X&&(Q+=G[o].l,Q+=K),this.textSpans[nt]?this.textSpans[nt].elem=q:this.textSpans[nt]={elem:q},nt+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,o,l,h,y=this.canvasContext;y.font=this.values.fValue,y.lineCap="butt",y.lineJoin="miter",y.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var D,O=this.textAnimator.renderedLetters,F=this.textProperty.currentData.l;t=F.length;var R,B,j=null,q=null,U=null;for(e=0;e<t;e+=1)if(!F[e].n){if((D=O[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(D.p),this.globalData.renderer.ctxOpacity(D.o)),this.fill){for(D&&D.fc?j!==D.fc&&(j=D.fc,y.fillStyle=D.fc):j!==this.values.fill&&(j=this.values.fill,y.fillStyle=this.values.fill),o=(R=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<o;r+=1)for(h=(B=R[r]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(B[l],B[l+1],B[l+2],B[l+3],B[l+4],B[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(D&&D.sw?U!==D.sw&&(U=D.sw,y.lineWidth=D.sw):U!==this.values.sWidth&&(U=this.values.sWidth,y.lineWidth=this.values.sWidth),D&&D.sc?q!==D.sc&&(q=D.sc,y.strokeStyle=D.sc):q!==this.values.stroke&&(q=this.values.stroke,y.strokeStyle=this.values.stroke),o=(R=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<o;r+=1)for(h=(B=R[r]).length,this.globalData.canvasContext.moveTo(B[0],B[1]),l=2;l<h;l+=6)this.globalData.canvasContext.bezierCurveTo(B[l],B[l+1],B[l+2],B[l+3],B[l+4],B[l+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}D&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects,this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,o=0;o<t;)this.elements[o]&&this.elements[o].getBaseElement&&(r=this.elements[o].getBaseElement()),o+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,o=e.length;for(r=0;r<o;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,o,l,h,y,D=e.sh.v,O=e.transformers,F=D._length;if(!(F<=1)){for(r=0;r<F-1;r+=1)o=this.getTransformedPoint(O,D.v[r]),l=this.getTransformedPoint(O,D.o[r]),h=this.getTransformedPoint(O,D.i[r+1]),y=this.getTransformedPoint(O,D.v[r+1]),this.checkBounds(o,l,h,y,t);D.c&&(o=this.getTransformedPoint(O,D.v[r]),l=this.getTransformedPoint(O,D.o[r]),h=this.getTransformedPoint(O,D.i[0]),y=this.getTransformedPoint(O,D.v[0]),this.checkBounds(o,l,h,y,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,o,l){this.getBoundsOfCurve(e,t,r,o);var h=this.shapeBoundingBox;l.x=bmMin(h.left,l.x),l.xMax=bmMax(h.right,l.xMax),l.y=bmMin(h.top,l.y),l.yMax=bmMax(h.bottom,l.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,o){for(var l,h,y,D,O,F,R,B=[[e[0],o[0]],[e[1],o[1]]],j=0;j<2;++j)h=6*e[j]-12*t[j]+6*r[j],l=-3*e[j]+9*t[j]-9*r[j]+3*o[j],y=3*t[j]-3*e[j],h|=0,y|=0,(l|=0)==0&&h===0||(l===0?(D=-y/h)>0&&D<1&&B[j].push(this.calculateF(D,e,t,r,o,j)):(O=h*h-4*y*l)>=0&&((F=(-h+bmSqrt(O))/(2*l))>0&&F<1&&B[j].push(this.calculateF(F,e,t,r,o,j)),(R=(-h-bmSqrt(O))/(2*l))>0&&R<1&&B[j].push(this.calculateF(R,e,t,r,o,j))));this.shapeBoundingBox.left=bmMin.apply(null,B[0]),this.shapeBoundingBox.top=bmMin.apply(null,B[1]),this.shapeBoundingBox.right=bmMax.apply(null,B[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,B[1])},HShapeElement.prototype.calculateF=function(e,t,r,o,l,h){return bmPow(1-e,3)*t[h]+3*bmPow(1-e,2)*e*r[h]+3*(1-e)*bmPow(e,2)*o[h]+bmPow(e,3)*l[h]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,o=e.length;for(r=0;r<o;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it&&this.calculateBoundingBox(e[r].it,t)},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var o=this.shapeCont.style,l="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=l,o.webkitTransform=l}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var o,l,h=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",h.fClass)this.innerElem.className=h.fClass;else{t.fontFamily=h.fFamily;var y=e.fWeight,D=e.fStyle;t.fontStyle=D,t.fontWeight=y}var O,F,R,B=e.l;l=B.length;var j,q=this.mHelper,U="",W=0;for(o=0;o<l;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[W]?O=this.textPaths[W]:((O=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),O.setAttribute("stroke-linejoin",lineJoinEnum[2]),O.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[W]?R=(F=this.textSpans[W]).children[0]:((F=createTag("div")).style.lineHeight=0,(R=createNS("svg")).appendChild(O),styleDiv(F)))):this.isMasked?O=this.textPaths[W]?this.textPaths[W]:createNS("text"):this.textSpans[W]?(F=this.textSpans[W],O=this.textPaths[W]):(styleDiv(F=createTag("span")),styleDiv(O=createTag("span")),F.appendChild(O)),this.globalData.fontManager.chars){var G,Y=this.globalData.fontManager.getCharData(e.finalText[o],h.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(G=Y?Y.data:null,q.reset(),G&&G.shapes&&(j=G.shapes[0].it,q.scale(e.finalSize/100,e.finalSize/100),U=this.createPathShape(q,j),O.setAttribute("d",U)),this.isMasked)this.innerElem.appendChild(O);else{if(this.innerElem.appendChild(F),G&&G.shapes){document.body.appendChild(R);var X=R.getBBox();R.setAttribute("width",X.width+2),R.setAttribute("height",X.height+2),R.setAttribute("viewBox",X.x-1+" "+(X.y-1)+" "+(X.width+2)+" "+(X.height+2));var K=R.style,Q="translate("+(X.x-1)+"px,"+(X.y-1)+"px)";K.transform=Q,K.webkitTransform=Q,B[o].yOffset=X.y-1}else R.setAttribute("width",1),R.setAttribute("height",1);F.appendChild(R)}}else if(O.textContent=B[o].val,O.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(O);else{this.innerElem.appendChild(F);var J=O.style,et="translate3d(0,"+-e.finalSize/1.2+"px,0)";J.transform=et,J.webkitTransform=et}this.isMasked?this.textSpans[W]=O:this.textSpans[W]=F,this.textSpans[W].style.display="block",this.textPaths[W]=O,W+=1}for(;W<this.textSpans.length;)this.textSpans[W].style.display="none",W+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,o,l,h,y,D=0,O=this.textAnimator.renderedLetters,F=this.textProperty.currentData.l;for(o=F.length,r=0;r<o;r+=1)F[r].n?D+=1:(h=this.textSpans[r],y=this.textPaths[r],l=O[D],D+=1,l._mdf.m&&(this.isMasked?h.setAttribute("transform",l.m):(h.style.webkitTransform=l.m,h.style.transform=l.m)),h.style.opacity=l.o,l.sw&&l._mdf.sw&&y.setAttribute("stroke-width",l.sw),l.sc&&l._mdf.sc&&y.setAttribute("stroke",l.sc),l.fc&&l._mdf.fc&&(y.setAttribute("fill",l.fc),y.style.color=l.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var R=this.innerElem.getBBox();if(this.currentBBox.w!==R.width&&(this.currentBBox.w=R.width,this.svgElement.setAttribute("width",R.width)),this.currentBBox.h!==R.height&&(this.currentBBox.h=R.height,this.svgElement.setAttribute("height",R.height)),this.currentBBox.w!==R.width+2||this.currentBBox.h!==R.height+2||this.currentBBox.x!==R.x-1||this.currentBBox.y!==R.y-1){this.currentBBox.w=R.width+2,this.currentBBox.h=R.height+2,this.currentBBox.x=R.x-1,this.currentBBox.y=R.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var B="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=B,e.webkitTransform=B}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,o,l=this.comp.threeDElements.length;for(e=0;e<l;e+=1)if((t=this.comp.threeDElements[e]).type==="3d"){r=t.perspectiveElem.style,o=t.container.style;var h=this.pe.v+"px",y="0px 0px 0px",D="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=h,r.webkitPerspective=h,o.transformOrigin=y,o.mozTransformOrigin=y,o.webkitTransformOrigin=y,r.transform=D,r.webkitTransform=D}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var o=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-o.p.v[0],-o.p.v[1],o.p.v[2]),this.mat.rotateX(-o.or.v[0]).rotateY(-o.or.v[1]).rotateZ(o.or.v[2]),this.mat.rotateX(-o.rx.v).rotateY(-o.ry.v).rotateZ(o.rz.v),this.mat.scale(1/o.s.v[0],1/o.s.v[1],1/o.s.v[2]),this.mat.translate(o.a.v[0],o.a.v[1],o.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var l;l=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var h=Math.sqrt(Math.pow(l[0],2)+Math.pow(l[1],2)+Math.pow(l[2],2)),y=[l[0]/h,l[1]/h,l[2]/h],D=Math.sqrt(y[2]*y[2]+y[0]*y[0]),O=Math.atan2(y[1],D),F=Math.atan2(y[0],-y[2]);this.mat.rotateY(F).rotateX(-O)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var R=!this._prevMat.equals(this.mat);if((R||this.pe._mdf)&&this.comp.threeDElements){var B,j,q;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if((B=this.comp.threeDElements[e]).type==="3d"){if(R){var U=this.mat.toCSS();(q=B.container.style).transform=U,q.webkitTransform=U}this.pe._mdf&&((j=B.perspectiveElem.style).perspective=this.pe.v+"px",j.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};var animationManager=function(){var e={},t=[],r=0,o=0,l=0,h=!0,y=!1;function D(W){for(var G=0,Y=W.target;G<o;)t[G].animation===Y&&(t.splice(G,1),G-=1,o-=1,Y.isPaused||R()),G+=1}function O(W,G){if(!W)return null;for(var Y=0;Y<o;){if(t[Y].elem===W&&t[Y].elem!==null)return t[Y].animation;Y+=1}var X=new AnimationItem;return B(X,W),X.setData(W,G),X}function F(){l+=1,U()}function R(){l-=1}function B(W,G){W.addEventListener("destroy",D),W.addEventListener("_active",F),W.addEventListener("_idle",R),t.push({elem:G,animation:W}),o+=1}function j(W){var G,Y=W-r;for(G=0;G<o;G+=1)t[G].animation.advanceTime(Y);r=W,l&&!y?window.requestAnimationFrame(j):h=!0}function q(W){r=W,window.requestAnimationFrame(j)}function U(){!y&&l&&h&&(window.requestAnimationFrame(q),h=!1)}return e.registerAnimation=O,e.loadAnimation=function(W){var G=new AnimationItem;return B(G,null),G.setParams(W),G},e.setSpeed=function(W,G){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.setSpeed(W,G)},e.setDirection=function(W,G){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.setDirection(W,G)},e.play=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.play(W)},e.pause=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.pause(W)},e.stop=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.stop(W)},e.togglePause=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.togglePause(W)},e.searchAnimations=function(W,G,Y){var X,K=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Q=K.length;for(X=0;X<Q;X+=1)Y&&K[X].setAttribute("data-bm-type",Y),O(K[X],W);if(G&&Q===0){Y||(Y="svg");var J=document.getElementsByTagName("body")[0];J.innerText="";var et=createTag("div");et.style.width="100%",et.style.height="100%",et.setAttribute("data-bm-type",Y),J.appendChild(et),O(et,W)}},e.resize=function(){var W;for(W=0;W<o;W+=1)t[W].animation.resize()},e.goToAndStop=function(W,G,Y){var X;for(X=0;X<o;X+=1)t[X].animation.goToAndStop(W,G,Y)},e.destroy=function(W){var G;for(G=o-1;G>=0;G-=1)t[G].animation.destroy(W)},e.freeze=function(){y=!0},e.unfreeze=function(){y=!1,U()},e.setVolume=function(W,G){var Y;for(Y=0;Y<o;Y+=1)t[Y].animation.setVolume(W,G)},e.mute=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.mute(W)},e.unmute=function(W){var G;for(G=0;G<o;G+=1)t[G].animation.unmute(W)},e.getRegisteredAnimations=function(){var W,G=t.length,Y=[];for(W=0;W<G;W+=1)Y.push(t[W].animation);return Y},e}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";switch(e.animType?t=e.animType:e.renderer&&(t=e.renderer),t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&typeof t!="object"&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},o=e.attributes;r.path=o.getNamedItem("data-animation-path")?o.getNamedItem("data-animation-path").value:o.getNamedItem("data-bm-path")?o.getNamedItem("data-bm-path").value:o.getNamedItem("bm-path")?o.getNamedItem("bm-path").value:"",r.animType=o.getNamedItem("data-anim-type")?o.getNamedItem("data-anim-type").value:o.getNamedItem("data-bm-type")?o.getNamedItem("data-bm-type").value:o.getNamedItem("bm-type")?o.getNamedItem("bm-type").value:o.getNamedItem("data-bm-renderer")?o.getNamedItem("data-bm-renderer").value:o.getNamedItem("bm-renderer")?o.getNamedItem("bm-renderer").value:"canvas";var l=o.getNamedItem("data-anim-loop")?o.getNamedItem("data-anim-loop").value:o.getNamedItem("data-bm-loop")?o.getNamedItem("data-bm-loop").value:o.getNamedItem("bm-loop")?o.getNamedItem("bm-loop").value:"";l==="false"?r.loop=!1:l==="true"?r.loop=!0:l!==""&&(r.loop=parseInt(l,10));var h=o.getNamedItem("data-anim-autoplay")?o.getNamedItem("data-anim-autoplay").value:o.getNamedItem("data-bm-autoplay")?o.getNamedItem("data-bm-autoplay").value:!o.getNamedItem("bm-autoplay")||o.getNamedItem("bm-autoplay").value;r.autoplay=h!=="false",r.name=o.getNamedItem("data-name")?o.getNamedItem("data-name").value:o.getNamedItem("data-bm-name")?o.getNamedItem("data-bm-name").value:o.getNamedItem("bm-name")?o.getNamedItem("bm-name").value:"",(o.getNamedItem("data-anim-prerender")?o.getNamedItem("data-anim-prerender").value:o.getNamedItem("data-bm-prerender")?o.getNamedItem("data-bm-prerender").value:o.getNamedItem("bm-prerender")?o.getNamedItem("bm-prerender").value:"")==="false"&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,o=this.animationData.layers,l=o.length,h=e.layers,y=h.length;for(r=0;r<y;r+=1)for(t=0;t<l;){if(o[t].id===h[r].id){o[t]=h[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(l=e.assets.length,t=0;t<l;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var o=Number(e);if(isNaN(o)){var l=this.getMarkerData(e);l&&this.goToAndStop(l.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var o=Number(e);if(isNaN(o)){var l=this.getMarkerData(e);l&&(l.duration?this.playSegments([l.time,l.time+l.duration],!0):this.goToAndStop(l.time,!0))}else this.goToAndStop(o,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(this.isPaused!==!0&&this.isLoaded!==!1){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),typeof e[0]=="object"){var r,o=e.length;for(r=0;r<o;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":case"drawnFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=function(){var e={initExpressions:function(t){var r=0,o=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){r+=1},t.renderer.globalData.popExpression=function(){(r-=1)==0&&function(){var l,h=o.length;for(l=0;l<h;l+=1)o[l].release();o.length=0}()},t.renderer.globalData.registerExpressionProperty=function(l){o.indexOf(l)===-1&&o.push(l)}}};return e}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath;BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0,elem.data.ip/elem.comp.globalData.frameRate,elem.data.op/elem.comp.globalData.frameRate,elem.data.sw&&elem.data.sw,elem.data.sh&&elem.data.sh,elem.data.nm;var loopIn,loopOut,fromComp,thisLayer,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0];property.kf&&data.k.length,!this.data||this.data.hd,function(e,t){var r,o,l=this.pv.length?this.pv.length:1,h=createTypedArray("float32",l),y=Math.floor(5*time);for(r=0,o=0;r<y;){for(o=0;o<l;o+=1)h[o]+=-t+2*t*BMMath.random();r+=1}var D=5*time,O=D-Math.floor(D),F=createTypedArray("float32",l);if(l>1){for(o=0;o<l;o+=1)F[o]=this.pv[o]+h[o]+(-t+2*t*BMMath.random())*O;return F}return this.pv+h[0]+(-t+2*t*BMMath.random())*O}.bind(this),thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty)),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty)),thisProperty.smooth&&thisProperty.smooth.bind(thisProperty),this.getValueAtTime&&this.getValueAtTime.bind(this),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this)),elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);var time,value;function seedRandom(e){BMMath.seedrandom(randSeed+e)}elem.data.ind,!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random());elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&this.selectorValue,thisLayer||(elem.layerInterface.text,thisLayer=elem.layerInterface,elem.comp.compInterface,thisLayer.toWorld.bind(thisLayer),thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),thisLayer.toComp.bind(thisLayer),thisLayer.mask&&thisLayer.mask.bind(thisLayer)),transform||(transform=elem.layerInterface("ADBE Transform Group"),transform&&transform.anchorPoint),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&velocityAtTime(time),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt.propType,scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),o=0;if(t.length){var l;for(l=0;l<t.length;l+=1)o+=Math.pow(r[l]-t[l],2);o=100*Math.sqrt(o)}else o=0;return o},getVelocityAtTime:function(e){if(this.vel!==void 0)return this.vel;var t,r,o=-.001,l=this.getValueAtTime(e),h=this.getValueAtTime(e+o);if(l.length)for(t=createTypedArray("float32",l.length),r=0;r<l.length;r+=1)t[r]=(h[r]-l[r])/o;else t=(h-l)/o;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};(function(){function e(B,j,q){if(!this.k||!this.keyframes)return this.pv;B=B?B.toLowerCase():"";var U,W,G,Y,X,K=this.comp.renderedFrame,Q=this.keyframes,J=Q[Q.length-1].t;if(K<=J)return this.pv;if(q?W=J-(U=j?Math.abs(J-this.elem.comp.globalData.frameRate*j):Math.max(0,J-this.elem.data.ip)):((!j||j>Q.length-1)&&(j=Q.length-1),U=J-(W=Q[Q.length-1-j].t)),B==="pingpong"){if(Math.floor((K-W)/U)%2!=0)return this.getValueAtTime((U-(K-W)%U+W)/this.comp.globalData.frameRate,0)}else{if(B==="offset"){var et=this.getValueAtTime(W/this.comp.globalData.frameRate,0),nt=this.getValueAtTime(J/this.comp.globalData.frameRate,0),Z=this.getValueAtTime(((K-W)%U+W)/this.comp.globalData.frameRate,0),it=Math.floor((K-W)/U);if(this.pv.length){for(Y=(X=new Array(et.length)).length,G=0;G<Y;G+=1)X[G]=(nt[G]-et[G])*it+Z[G];return X}return(nt-et)*it+Z}if(B==="continue"){var rt=this.getValueAtTime(J/this.comp.globalData.frameRate,0),tt=this.getValueAtTime((J-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=(X=new Array(rt.length)).length,G=0;G<Y;G+=1)X[G]=rt[G]+(rt[G]-tt[G])*((K-J)/this.comp.globalData.frameRate)/5e-4;return X}return rt+(K-J)/.001*(rt-tt)}}return this.getValueAtTime(((K-W)%U+W)/this.comp.globalData.frameRate,0)}function t(B,j,q){if(!this.k)return this.pv;B=B?B.toLowerCase():"";var U,W,G,Y,X,K=this.comp.renderedFrame,Q=this.keyframes,J=Q[0].t;if(K>=J)return this.pv;if(q?W=J+(U=j?Math.abs(this.elem.comp.globalData.frameRate*j):Math.max(0,this.elem.data.op-J)):((!j||j>Q.length-1)&&(j=Q.length-1),U=(W=Q[j].t)-J),B==="pingpong"){if(Math.floor((J-K)/U)%2==0)return this.getValueAtTime(((J-K)%U+J)/this.comp.globalData.frameRate,0)}else{if(B==="offset"){var et=this.getValueAtTime(J/this.comp.globalData.frameRate,0),nt=this.getValueAtTime(W/this.comp.globalData.frameRate,0),Z=this.getValueAtTime((U-(J-K)%U+J)/this.comp.globalData.frameRate,0),it=Math.floor((J-K)/U)+1;if(this.pv.length){for(Y=(X=new Array(et.length)).length,G=0;G<Y;G+=1)X[G]=Z[G]-(nt[G]-et[G])*it;return X}return Z-(nt-et)*it}if(B==="continue"){var rt=this.getValueAtTime(J/this.comp.globalData.frameRate,0),tt=this.getValueAtTime((J+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Y=(X=new Array(rt.length)).length,G=0;G<Y;G+=1)X[G]=rt[G]+(rt[G]-tt[G])*(J-K)/.001;return X}return rt+(rt-tt)*(J-K)/.001}}return this.getValueAtTime((U-((J-K)%U+J))/this.comp.globalData.frameRate,0)}function r(B,j){if(!this.k)return this.pv;if(B=.5*(B||.4),(j=Math.floor(j||5))<=1)return this.pv;var q,U,W=this.comp.renderedFrame/this.comp.globalData.frameRate,G=W-B,Y=j>1?(W+B-G)/(j-1):1,X=0,K=0;for(q=this.pv.length?createTypedArray("float32",this.pv.length):0;X<j;){if(U=this.getValueAtTime(G+X*Y),this.pv.length)for(K=0;K<this.pv.length;K+=1)q[K]+=U[K];else q+=U;X+=1}if(this.pv.length)for(K=0;K<this.pv.length;K+=1)q[K]/=j;else q/=j;return q}function o(B){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var j=this._transformCachingAtTime.v;if(j.cloneFromProps(this.pre.props),this.appliedTransformations<1){var q=this.a.getValueAtTime(B);j.translate(-q[0]*this.a.mult,-q[1]*this.a.mult,q[2]*this.a.mult)}if(this.appliedTransformations<2){var U=this.s.getValueAtTime(B);j.scale(U[0]*this.s.mult,U[1]*this.s.mult,U[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var W=this.sk.getValueAtTime(B),G=this.sa.getValueAtTime(B);j.skewFromAxis(-W*this.sk.mult,G*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Y=this.r.getValueAtTime(B);j.rotate(-Y*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var X=this.rz.getValueAtTime(B),K=this.ry.getValueAtTime(B),Q=this.rx.getValueAtTime(B),J=this.or.getValueAtTime(B);j.rotateZ(-X*this.rz.mult).rotateY(K*this.ry.mult).rotateX(Q*this.rx.mult).rotateZ(-J[2]*this.or.mult).rotateY(J[1]*this.or.mult).rotateX(J[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var et=this.px.getValueAtTime(B),nt=this.py.getValueAtTime(B);if(this.data.p.z){var Z=this.pz.getValueAtTime(B);j.translate(et*this.px.mult,nt*this.py.mult,-Z*this.pz.mult)}else j.translate(et*this.px.mult,nt*this.py.mult,0)}else{var it=this.p.getValueAtTime(B);j.translate(it[0]*this.p.mult,it[1]*this.p.mult,-it[2]*this.p.mult)}return j}function l(){return this.v.clone(new Matrix)}var h=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(B,j,q){var U=h(B,j,q);return U.dynamicProperties.length?U.getValueAtTime=o.bind(U):U.getValueAtTime=l.bind(U),U.setGroupProperty=expressionHelpers.setGroupProperty,U};var y=PropertyFactory.getProp;PropertyFactory.getProp=function(B,j,q,U,W){var G=y(B,j,q,U,W);G.kf?G.getValueAtTime=expressionHelpers.getValueAtTime.bind(G):G.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(G),G.setGroupProperty=expressionHelpers.setGroupProperty,G.loopOut=e,G.loopIn=t,G.smooth=r,G.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(G),G.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(G),G.numKeys=j.a===1?j.k.length:0,G.propertyIndex=j.ix;var Y=0;return q!==0&&(Y=createTypedArray("float32",j.a===1?j.k[0].s.length:j.k.length)),G._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Y},expressionHelpers.searchExpressions(B,j,G),G.k&&W.addDynamicProperty(G),G};var D=ShapePropertyFactory.getConstructorFunction(),O=ShapePropertyFactory.getKeyframedConstructorFunction();function F(){}F.prototype={vertices:function(B,j){this.k&&this.getValue();var q,U=this.v;j!==void 0&&(U=this.getValueAtTime(j,0));var W=U._length,G=U[B],Y=U.v,X=createSizedArray(W);for(q=0;q<W;q+=1)X[q]=B==="i"||B==="o"?[G[q][0]-Y[q][0],G[q][1]-Y[q][1]]:[G[q][0],G[q][1]];return X},points:function(B){return this.vertices("v",B)},inTangents:function(B){return this.vertices("i",B)},outTangents:function(B){return this.vertices("o",B)},isClosed:function(){return this.v.c},pointOnPath:function(B,j){var q=this.v;j!==void 0&&(q=this.getValueAtTime(j,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(q));for(var U,W=this._segmentsLength,G=W.lengths,Y=W.totalLength*B,X=0,K=G.length,Q=0;X<K;){if(Q+G[X].addedLength>Y){var J=X,et=q.c&&X===K-1?0:X+1,nt=(Y-Q)/G[X].addedLength;U=bez.getPointInSegment(q.v[J],q.v[et],q.o[J],q.i[et],nt,G[X]);break}Q+=G[X].addedLength,X+=1}return U||(U=q.c?[q.v[0][0],q.v[0][1]]:[q.v[q._length-1][0],q.v[q._length-1][1]]),U},vectorOnPath:function(B,j,q){B==1?B=this.v.c:B==0&&(B=.999);var U=this.pointOnPath(B,j),W=this.pointOnPath(B+.001,j),G=W[0]-U[0],Y=W[1]-U[1],X=Math.sqrt(Math.pow(G,2)+Math.pow(Y,2));return X===0?[0,0]:q==="tangent"?[G/X,Y/X]:[-Y/X,G/X]},tangentOnPath:function(B,j){return this.vectorOnPath(B,j,"tangent")},normalOnPath:function(B,j){return this.vectorOnPath(B,j,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([F],D),extendPrototype([F],O),O.prototype.getValueAtTime=function(B){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),B*=this.elem.globalData.frameRate,(B-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<B?this._caching.lastIndex:0,this._cachingAtTime.lastTime=B,this.interpolateShape(B,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},O.prototype.initiateExpression=ExpressionManager.initiateExpression;var R=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(B,j,q,U,W){var G=R(B,j,q,U,W);return G.propertyIndex=j.ix,G.lock=!1,q===3?expressionHelpers.searchExpressions(B,j.pt,G):q===4&&expressionHelpers.searchExpressions(B,j.ks,G),G.k&&B.addDynamicProperty(G),G}})(),TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var o={};return this.copyData(o,e),o.t=r.toString(),o.__complete=!1,o}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(e,t,r){var o=t.sh;function l(y){return y==="Shape"||y==="shape"||y==="Path"||y==="path"||y==="ADBE Vector Shape"||y===2?l.path:null}var h=propertyGroupFactory(l,r);return o.setGroupProperty(PropertyInterface("Path",h)),Object.defineProperties(l,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),l},propertyGroupFactory=function(e,t){return function(r){return(r=r===void 0?1:r)<=0?e:t(r-1)}},PropertyInterface=function(e,t){var r={_name:e};return function(o){return(o=o===void 0?1:o)<=0?r:t(o-1)}},ShapeExpressionInterface=function(){function e(j,q,U){var W,G=[],Y=j?j.length:0;for(W=0;W<Y;W+=1)j[W].ty==="gr"?G.push(t(j[W],q[W],U)):j[W].ty==="fl"?G.push(r(j[W],q[W],U)):j[W].ty==="st"?G.push(l(j[W],q[W],U)):j[W].ty==="tm"?G.push(h(j[W],q[W],U)):j[W].ty==="tr"||(j[W].ty==="el"?G.push(D(j[W],q[W],U)):j[W].ty==="sr"?G.push(O(j[W],q[W],U)):j[W].ty==="sh"?G.push(ShapePathInterface(j[W],q[W],U)):j[W].ty==="rc"?G.push(F(j[W],q[W],U)):j[W].ty==="rd"?G.push(R(j[W],q[W],U)):j[W].ty==="rp"?G.push(B(j[W],q[W],U)):j[W].ty==="gf"?G.push(o(j[W],q[W],U)):G.push((j[W],q[W],function(){return null})));return G}function t(j,q,U){var W=function(X){switch(X){case"ADBE Vectors Group":case"Contents":case 2:return W.content;default:return W.transform}};W.propertyGroup=propertyGroupFactory(W,U);var G=function(X,K,Q){var J,et=function(Z){for(var it=0,rt=J.length;it<rt;){if(J[it]._name===Z||J[it].mn===Z||J[it].propertyIndex===Z||J[it].ix===Z||J[it].ind===Z)return J[it];it+=1}return typeof Z=="number"?J[Z-1]:null};et.propertyGroup=propertyGroupFactory(et,Q),J=e(X.it,K.it,et.propertyGroup),et.numProperties=J.length;var nt=y(X.it[X.it.length-1],K.it[K.it.length-1],et.propertyGroup);return et.transform=nt,et.propertyIndex=X.cix,et._name=X.nm,et}(j,q,W.propertyGroup),Y=y(j.it[j.it.length-1],q.it[q.it.length-1],W.propertyGroup);return W.content=G,W.transform=Y,Object.defineProperty(W,"_name",{get:function(){return j.nm}}),W.numProperties=j.np,W.propertyIndex=j.ix,W.nm=j.nm,W.mn=j.mn,W}function r(j,q,U){function W(G){return G==="Color"||G==="color"?W.color:G==="Opacity"||G==="opacity"?W.opacity:null}return Object.defineProperties(W,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},_name:{value:j.nm},mn:{value:j.mn}}),q.c.setGroupProperty(PropertyInterface("Color",U)),q.o.setGroupProperty(PropertyInterface("Opacity",U)),W}function o(j,q,U){function W(G){return G==="Start Point"||G==="start point"?W.startPoint:G==="End Point"||G==="end point"?W.endPoint:G==="Opacity"||G==="opacity"?W.opacity:null}return Object.defineProperties(W,{startPoint:{get:ExpressionPropertyInterface(q.s)},endPoint:{get:ExpressionPropertyInterface(q.e)},opacity:{get:ExpressionPropertyInterface(q.o)},type:{get:function(){return"a"}},_name:{value:j.nm},mn:{value:j.mn}}),q.s.setGroupProperty(PropertyInterface("Start Point",U)),q.e.setGroupProperty(PropertyInterface("End Point",U)),q.o.setGroupProperty(PropertyInterface("Opacity",U)),W}function l(j,q,U){var W,G=propertyGroupFactory(J,U),Y=propertyGroupFactory(Q,G);function X(et){Object.defineProperty(Q,j.d[et].nm,{get:ExpressionPropertyInterface(q.d.dataProps[et].p)})}var K=j.d?j.d.length:0,Q={};for(W=0;W<K;W+=1)X(W),q.d.dataProps[W].p.setGroupProperty(Y);function J(et){return et==="Color"||et==="color"?J.color:et==="Opacity"||et==="opacity"?J.opacity:et==="Stroke Width"||et==="stroke width"?J.strokeWidth:null}return Object.defineProperties(J,{color:{get:ExpressionPropertyInterface(q.c)},opacity:{get:ExpressionPropertyInterface(q.o)},strokeWidth:{get:ExpressionPropertyInterface(q.w)},dash:{get:function(){return Q}},_name:{value:j.nm},mn:{value:j.mn}}),q.c.setGroupProperty(PropertyInterface("Color",G)),q.o.setGroupProperty(PropertyInterface("Opacity",G)),q.w.setGroupProperty(PropertyInterface("Stroke Width",G)),J}function h(j,q,U){function W(Y){return Y===j.e.ix||Y==="End"||Y==="end"?W.end:Y===j.s.ix?W.start:Y===j.o.ix?W.offset:null}var G=propertyGroupFactory(W,U);return W.propertyIndex=j.ix,q.s.setGroupProperty(PropertyInterface("Start",G)),q.e.setGroupProperty(PropertyInterface("End",G)),q.o.setGroupProperty(PropertyInterface("Offset",G)),W.propertyIndex=j.ix,W.propertyGroup=U,Object.defineProperties(W,{start:{get:ExpressionPropertyInterface(q.s)},end:{get:ExpressionPropertyInterface(q.e)},offset:{get:ExpressionPropertyInterface(q.o)},_name:{value:j.nm}}),W.mn=j.mn,W}function y(j,q,U){function W(Y){return j.a.ix===Y||Y==="Anchor Point"?W.anchorPoint:j.o.ix===Y||Y==="Opacity"?W.opacity:j.p.ix===Y||Y==="Position"?W.position:j.r.ix===Y||Y==="Rotation"||Y==="ADBE Vector Rotation"?W.rotation:j.s.ix===Y||Y==="Scale"?W.scale:j.sk&&j.sk.ix===Y||Y==="Skew"?W.skew:j.sa&&j.sa.ix===Y||Y==="Skew Axis"?W.skewAxis:null}var G=propertyGroupFactory(W,U);return q.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",G)),q.transform.mProps.p.setGroupProperty(PropertyInterface("Position",G)),q.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",G)),q.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",G)),q.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",G)),q.transform.mProps.sk&&(q.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",G)),q.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",G))),q.transform.op.setGroupProperty(PropertyInterface("Opacity",G)),Object.defineProperties(W,{opacity:{get:ExpressionPropertyInterface(q.transform.mProps.o)},position:{get:ExpressionPropertyInterface(q.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(q.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(q.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(q.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(q.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(q.transform.mProps.sa)},_name:{value:j.nm}}),W.ty="tr",W.mn=j.mn,W.propertyGroup=U,W}function D(j,q,U){function W(X){return j.p.ix===X?W.position:j.s.ix===X?W.size:null}var G=propertyGroupFactory(W,U);W.propertyIndex=j.ix;var Y=q.sh.ty==="tm"?q.sh.prop:q.sh;return Y.s.setGroupProperty(PropertyInterface("Size",G)),Y.p.setGroupProperty(PropertyInterface("Position",G)),Object.defineProperties(W,{size:{get:ExpressionPropertyInterface(Y.s)},position:{get:ExpressionPropertyInterface(Y.p)},_name:{value:j.nm}}),W.mn=j.mn,W}function O(j,q,U){function W(X){return j.p.ix===X?W.position:j.r.ix===X?W.rotation:j.pt.ix===X?W.points:j.or.ix===X||X==="ADBE Vector Star Outer Radius"?W.outerRadius:j.os.ix===X?W.outerRoundness:!j.ir||j.ir.ix!==X&&X!=="ADBE Vector Star Inner Radius"?j.is&&j.is.ix===X?W.innerRoundness:null:W.innerRadius}var G=propertyGroupFactory(W,U),Y=q.sh.ty==="tm"?q.sh.prop:q.sh;return W.propertyIndex=j.ix,Y.or.setGroupProperty(PropertyInterface("Outer Radius",G)),Y.os.setGroupProperty(PropertyInterface("Outer Roundness",G)),Y.pt.setGroupProperty(PropertyInterface("Points",G)),Y.p.setGroupProperty(PropertyInterface("Position",G)),Y.r.setGroupProperty(PropertyInterface("Rotation",G)),j.ir&&(Y.ir.setGroupProperty(PropertyInterface("Inner Radius",G)),Y.is.setGroupProperty(PropertyInterface("Inner Roundness",G))),Object.defineProperties(W,{position:{get:ExpressionPropertyInterface(Y.p)},rotation:{get:ExpressionPropertyInterface(Y.r)},points:{get:ExpressionPropertyInterface(Y.pt)},outerRadius:{get:ExpressionPropertyInterface(Y.or)},outerRoundness:{get:ExpressionPropertyInterface(Y.os)},innerRadius:{get:ExpressionPropertyInterface(Y.ir)},innerRoundness:{get:ExpressionPropertyInterface(Y.is)},_name:{value:j.nm}}),W.mn=j.mn,W}function F(j,q,U){function W(X){return j.p.ix===X?W.position:j.r.ix===X?W.roundness:j.s.ix===X||X==="Size"||X==="ADBE Vector Rect Size"?W.size:null}var G=propertyGroupFactory(W,U),Y=q.sh.ty==="tm"?q.sh.prop:q.sh;return W.propertyIndex=j.ix,Y.p.setGroupProperty(PropertyInterface("Position",G)),Y.s.setGroupProperty(PropertyInterface("Size",G)),Y.r.setGroupProperty(PropertyInterface("Rotation",G)),Object.defineProperties(W,{position:{get:ExpressionPropertyInterface(Y.p)},roundness:{get:ExpressionPropertyInterface(Y.r)},size:{get:ExpressionPropertyInterface(Y.s)},_name:{value:j.nm}}),W.mn=j.mn,W}function R(j,q,U){function W(X){return j.r.ix===X||X==="Round Corners 1"?W.radius:null}var G=propertyGroupFactory(W,U),Y=q;return W.propertyIndex=j.ix,Y.rd.setGroupProperty(PropertyInterface("Radius",G)),Object.defineProperties(W,{radius:{get:ExpressionPropertyInterface(Y.rd)},_name:{value:j.nm}}),W.mn=j.mn,W}function B(j,q,U){function W(X){return j.c.ix===X||X==="Copies"?W.copies:j.o.ix===X||X==="Offset"?W.offset:null}var G=propertyGroupFactory(W,U),Y=q;return W.propertyIndex=j.ix,Y.c.setGroupProperty(PropertyInterface("Copies",G)),Y.o.setGroupProperty(PropertyInterface("Offset",G)),Object.defineProperties(W,{copies:{get:ExpressionPropertyInterface(Y.c)},offset:{get:ExpressionPropertyInterface(Y.o)},_name:{value:j.nm}}),W.mn=j.mn,W}return function(j,q,U){var W;function G(Y){if(typeof Y=="number")return(Y=Y===void 0?1:Y)===0?U:W[Y-1];for(var X=0,K=W.length;X<K;){if(W[X]._name===Y)return W[X];X+=1}return null}return G.propertyGroup=propertyGroupFactory(G,function(){return U}),W=e(j,q,G.propertyGroup),G.numProperties=W.length,G._name="Contents",G}}(),TextExpressionInterface=function(e){var t,r;function o(l){return l==="ADBE Text Document"?o.sourceText:null}return Object.defineProperty(o,"sourceText",{get:function(){e.textProperty.getValue();var l=e.textProperty.currentData.t;return l!==t&&(e.textProperty.currentData.t=t,(r=new String(l)).value=l||new String(l)),r}}),o},LayerExpressionInterface=function(){function e(F){var R=new Matrix;return F!==void 0?this._elem.finalTransform.mProp.getValueAtTime(F).clone(R):this._elem.finalTransform.mProp.applyToMatrix(R),R}function t(F,R){var B=this.getMatrix(R);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.applyPoint(B,F)}function r(F,R){var B=this.getMatrix(R);return this.applyPoint(B,F)}function o(F,R){var B=this.getMatrix(R);return B.props[12]=0,B.props[13]=0,B.props[14]=0,this.invertPoint(B,F)}function l(F,R){var B=this.getMatrix(R);return this.invertPoint(B,F)}function h(F,R){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(F)}return F.applyToPointArray(R[0],R[1],R[2]||0)}function y(F,R){if(this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(F)}return F.inversePoint(R)}function D(F){var R=new Matrix;if(R.reset(),this._elem.finalTransform.mProp.applyToMatrix(R),this._elem.hierarchy&&this._elem.hierarchy.length){var B,j=this._elem.hierarchy.length;for(B=0;B<j;B+=1)this._elem.hierarchy[B].finalTransform.mProp.applyToMatrix(R);return R.inversePoint(F)}return R.inversePoint(F)}function O(){return[1,1,1,1]}return function(F){var R;function B(q){switch(q){case"ADBE Root Vectors Group":case"Contents":case 2:return B.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return R;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return B.effect;case"ADBE Text Properties":return B.textInterface;default:return null}}B.getMatrix=e,B.invertPoint=y,B.applyPoint=h,B.toWorld=r,B.toWorldVec=t,B.fromWorld=l,B.fromWorldVec=o,B.toComp=r,B.fromComp=D,B.sampleImage=O,B.sourceRectAtTime=F.sourceRectAtTime.bind(F),B._elem=F;var j=getDescriptor(R=TransformExpressionInterface(F.finalTransform.mProp),"anchorPoint");return Object.defineProperties(B,{hasParent:{get:function(){return F.hierarchy.length}},parent:{get:function(){return F.hierarchy[0].layerInterface}},rotation:getDescriptor(R,"rotation"),scale:getDescriptor(R,"scale"),position:getDescriptor(R,"position"),opacity:getDescriptor(R,"opacity"),anchorPoint:j,anchor_point:j,transform:{get:function(){return R}},active:{get:function(){return F.isInRange}}}),B.startTime=F.data.st,B.index=F.data.ind,B.source=F.data.refId,B.height=F.data.ty===0?F.data.h:100,B.width=F.data.ty===0?F.data.w:100,B.inPoint=F.data.ip/F.comp.globalData.frameRate,B.outPoint=F.data.op/F.comp.globalData.frameRate,B._name=F.data.nm,B.registerMaskInterface=function(q){B.mask=new MaskManagerInterface(q,F)},B.registerEffectsInterface=function(q){B.effect=q},B}}(),FootageInterface=(dataInterfaceFactory=function(e){function t(r){return r==="Outline"?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(r){var o="",l=r.getFootageData();function h(y){if(l[y])return o=y,typeof(l=l[y])=="object"?h:l;var D=y.indexOf(o);if(D!==-1){var O=parseInt(y.substr(D+o.length),10);return typeof(l=l[O])=="object"?h:l}return""}return function(){return o="",l=r.getFootageData(),h}}(e),t},function(e){function t(r){return r==="Data"?t.dataInterface:null}return t._name="Data",t.dataInterface=dataInterfaceFactory(e),t}),dataInterfaceFactory,CompExpressionInterface=function(e){function t(r){for(var o=0,l=e.layers.length;o<l;){if(e.layers[o].nm===r||e.layers[o].ind===r)return e.elements[o].layerInterface;o+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},TransformExpressionInterface=function(e){function t(y){switch(y){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,o,l,h;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?h=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),o=ExpressionPropertyInterface(e.py),e.pz&&(l=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?h():[r(),o(),l?l():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},ProjectInterface=function(){function e(t){this.compositions.push(t)}return function(){function t(r){for(var o=0,l=this.compositions.length;o<l;){if(this.compositions[o].data&&this.compositions[o].data.nm===r)return this.compositions[o].prepareFrame&&this.compositions[o].data.xt&&this.compositions[o].prepareFrame(this.currentFrame),this.compositions[o].compInterface;o+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),EffectsExpressionInterface=function(){var e={createEffectsInterface:function(o,l){if(o.effectsManager){var h,y=[],D=o.data.ef,O=o.effectsManager.effectElements.length;for(h=0;h<O;h+=1)y.push(t(D[h],o.effectsManager.effectElements[h],l,o));var F=o.data.ef||[],R=function(B){for(h=0,O=F.length;h<O;){if(B===F[h].nm||B===F[h].mn||B===F[h].ix)return y[h];h+=1}return null};return Object.defineProperty(R,"numProperties",{get:function(){return F.length}}),R}return null}};function t(o,l,h,y){function D(j){for(var q=o.ef,U=0,W=q.length;U<W;){if(j===q[U].nm||j===q[U].mn||j===q[U].ix)return q[U].ty===5?R[U]:R[U]();U+=1}throw new Error}var O,F=propertyGroupFactory(D,h),R=[],B=o.ef.length;for(O=0;O<B;O+=1)o.ef[O].ty===5?R.push(t(o.ef[O],l.effectElements[O],l.effectElements[O].propertyGroup,y)):R.push(r(l.effectElements[O],o.ef[O].ty,y,F));return o.mn==="ADBE Color Control"&&Object.defineProperty(D,"color",{get:function(){return R[0]()}}),Object.defineProperties(D,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:F}}),D.enabled=o.en!==0,D.active=D.enabled,D}function r(o,l,h,y){var D=ExpressionPropertyInterface(o.p);return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",y)),function(){return l===10?h.comp.compInterface(o.p.v):D()}}return e}(),MaskManagerInterface=function(){function e(t,r){this._mask=t,this._data=r}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,o=createSizedArray(t.viewData.length),l=t.viewData.length;for(r=0;r<l;r+=1)o[r]=new e(t.viewData[r],t.masksProperties[r]);return function(h){for(r=0;r<l;){if(t.masksProperties[r].nm===h)return o[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(l,h,y){Object.defineProperty(l,"velocity",{get:function(){return h.getVelocityAtTime(h.comp.currentFrame)}}),l.numKeys=h.keyframes?h.keyframes.length:0,l.key=function(D){if(!l.numKeys)return 0;var O="";O="s"in h.keyframes[D-1]?h.keyframes[D-1].s:"e"in h.keyframes[D-2]?h.keyframes[D-2].e:h.keyframes[D-2].s;var F=y==="unidimensional"?new Number(O):Object.assign({},O);return F.time=h.keyframes[D-1].t/h.elem.comp.globalData.frameRate,F.value=y==="unidimensional"?O[0]:O,F},l.valueAtTime=h.getValueAtTime,l.speedAtTime=h.getSpeedAtTime,l.velocityAtTime=h.getVelocityAtTime,l.propertyGroup=h.propertyGroup}function o(){return e}return function(l){return l?l.propType==="unidimensional"?function(h){h&&"pv"in h||(h=e);var y=1/h.mult,D=h.pv*y,O=new Number(D);return O.value=D,r(O,h,"unidimensional"),function(){return h.k&&h.getValue(),D=h.v*y,O.value!==D&&((O=new Number(D)).value=D,r(O,h,"unidimensional")),O}}(l):function(h){h&&"pv"in h||(h=t);var y=1/h.mult,D=h.data&&h.data.l||h.pv.length,O=createTypedArray("float32",D),F=createTypedArray("float32",D);return O.value=F,r(O,h,"multidimensional"),function(){h.k&&h.getValue();for(var R=0;R<D;R+=1)F[R]=h.v[R]*y,O[R]=F[R];return O}}(l):o}}(),TextExpressionSelectorPropFactory=function(){function e(t,r){return this.textIndex=t+1,this.textTotal=r,this.v=this.getValue()*this.mult,this.v}return function(t,r){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=r.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,r,this),this.getMult=e,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp;function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r,o=e.ef||[];this.effectElements=[];var l,h=o.length;for(r=0;r<h;r+=1)l=new GroupEffect(o[r],t),this.effectElements.push(l)}function GroupEffect(e,t){this.init(e,t)}TextSelectorProp.getTextSelectorProp=function(e,t,r){return t.t===1?new TextExpressionSelectorPropFactory(e,t,r):propertyGetTextProp(e,t,r)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var r;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var o,l=this.data.ef.length,h=this.data.ef;for(r=0;r<l;r+=1){switch(o=null,h[r].ty){case 0:o=new SliderEffect(h[r],t,this);break;case 1:o=new AngleEffect(h[r],t,this);break;case 2:o=new ColorEffect(h[r],t,this);break;case 3:o=new PointEffect(h[r],t,this);break;case 4:case 7:o=new CheckboxEffect(h[r],t,this);break;case 10:o=new LayerIndexEffect(h[r],t,this);break;case 11:o=new MaskIndexEffect(h[r],t,this);break;case 5:o=new EffectsManager(h[r],t);break;default:o=new NoValueEffect(h[r])}o&&this.effectElements.push(o)}};var lottie={};function setLocationHref(e){locationHref=e}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){subframeEnabled=e}function setIDPrefix(e){idPrefix=e}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&e>1&&(defaultCurveSegments=e)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(e,t){e==="expressions"&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var o=t[r].split("=");if(decodeURIComponent(o[0])==e)return decodeURIComponent(o[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(e){_useWebWorker=e},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.1";var queryString;{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie},module.exports?module.exports=factory(root):(root.lottie=factory(root),root.bodymovin=root.lottie))})(lottie$1);lottie$1.exports;var _templateObject$1,styles=r$3(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral([`
  * {
    box-sizing: border-box;
  }

  :host {
    --lottie-player-toolbar-height: 35px;
    --lottie-player-toolbar-background-color: transparent;
    --lottie-player-toolbar-icon-color: #999;
    --lottie-player-toolbar-icon-hover-color: #222;
    --lottie-player-toolbar-icon-active-color: #555;
    --lottie-player-seeker-track-color: #ccc;
    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);
    --lottie-player-seeker-display: block;

    display: block;
    width: 100%;
    height: 100%;
  }

  .main {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  .animation {
    width: 100%;
    height: 100%;
    display: flex;
  }
  .animation.controls {
    height: calc(100% - 35px);
  }

  .toolbar {
    display: flex;
    align-items: center;
    justify-items: center;
    background-color: var(--lottie-player-toolbar-background-color);
    margin: 0 5px;
    height: 35px;
  }

  .toolbar button {
    cursor: pointer;
    fill: var(--lottie-player-toolbar-icon-color);
    display: flex;
    background: none;
    border: 0;
    padding: 0;
    outline: none;
    height: 100%;
  }

  .toolbar button:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button.active {
    fill: var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button.active:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button:focus {
    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button svg {
  }

  .toolbar button.disabled svg {
    display: none;
  }

  .seeker {
    -webkit-appearance: none;
    width: 95%;
    outline: none;
    background-color: var(--lottie-player-toolbar-background-color);
    display: var(--lottie-player-seeker-display);
  }

  .seeker::-webkit-slider-runnable-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-webkit-slider-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
    -webkit-appearance: none;
    margin-top: -5px;
  }
  .seeker:focus::-webkit-slider-runnable-track {
    background: #999;
  }
  .seeker::-moz-range-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-moz-range-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker::-ms-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }
  .seeker::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-thumb {
    border: 0;
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker:focus::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
  }
  .seeker:focus::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
  }

  .error {
    display: flex;
    justify-content: center;
    height: 100%;
    align-items: center;
  }
`]))),_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,PlayerState,PlayMode,PlayerEvents;function parseSrc(e){if(typeof e=="object")return e;try{return JSON.parse(e)}catch{return new URL(e,window.location.href).toString()}}function isLottie(e){return["v","ip","op","layers","fr","w","h"].every(t=>Object.prototype.hasOwnProperty.call(e,t))}function fromURL(e){return _fromURL.apply(this,arguments)}function _fromURL(){return(_fromURL=_asyncToGenerator(function*(e){if(typeof e!="string")throw new Error("The url value must be a string");var t;try{var r=new URL(e),o=yield fetch(r.toString());t=yield o.json()}catch{throw new Error("An error occurred while trying to load the Lottie file from URL")}return t})).apply(this,arguments)}(function(e){e.Destroyed="destroyed",e.Error="error",e.Frozen="frozen",e.Loading="loading",e.Paused="paused",e.Playing="playing",e.Stopped="stopped"})(PlayerState||(PlayerState={})),function(e){e.Bounce="bounce",e.Normal="normal"}(PlayMode||(PlayMode={})),function(e){e.Complete="complete",e.Destroyed="destroyed",e.Error="error",e.Frame="frame",e.Freeze="freeze",e.Load="load",e.Loop="loop",e.Pause="pause",e.Play="play",e.Ready="ready",e.Rendered="rendered",e.Stop="stop"}(PlayerEvents||(PlayerEvents={}));var LottiePlayer=class extends s{constructor(){super(...arguments),this.autoplay=!1,this.background="transparent",this.controls=!1,this.currentState=PlayerState.Loading,this.description="Lottie animation",this.direction=1,this.hover=!1,this.intermission=1,this.loop=!1,this.mode=PlayMode.Normal,this.preserveAspectRatio="xMidYMid meet",this.renderer="svg",this.speed=1,this._io=void 0,this._counter=1}load(e){var t=this;return _asyncToGenerator(function*(){if(t.shadowRoot){var r={container:t.container,loop:!1,autoplay:!1,renderer:t.renderer,rendererSettings:{preserveAspectRatio:t.preserveAspectRatio,clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0}};try{var o=parseSrc(e),l={},h=typeof o=="string"?"path":"animationData";t._lottie&&t._lottie.destroy(),t.webworkers&&lottie$1.exports.useWebWorker(!0),t._lottie=lottie$1.exports.loadAnimation(Object.assign(Object.assign({},r),{[h]:o})),t._attachEventListeners(),h==="path"?(l=yield fromURL(o),h="animationData"):l=o,isLottie(l)||(t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error)))}catch{t.currentState=PlayerState.Error,t.dispatchEvent(new CustomEvent(PlayerEvents.Error))}}})()}getLottie(){return this._lottie}play(){this._lottie&&(this._lottie.play(),this.currentState=PlayerState.Playing,this.dispatchEvent(new CustomEvent(PlayerEvents.Play)))}pause(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Paused,this.dispatchEvent(new CustomEvent(PlayerEvents.Pause)))}stop(){this._lottie&&(this._counter=1,this._lottie.stop(),this.currentState=PlayerState.Stopped,this.dispatchEvent(new CustomEvent(PlayerEvents.Stop)))}destroy(){this._lottie&&(this._lottie.destroy(),this._lottie=null,this.currentState=PlayerState.Destroyed,this.dispatchEvent(new CustomEvent(PlayerEvents.Destroyed)),this.remove())}seek(e){if(this._lottie){var t=/^(\d+)(%?)$/.exec(e.toString());if(t){var r=t[2]==="%"?this._lottie.totalFrames*Number(t[1])/100:Number(t[1]);this.seeker=r,this.currentState===PlayerState.Playing?this._lottie.goToAndPlay(r,!0):(this._lottie.goToAndStop(r,!0),this._lottie.pause())}}}snapshot(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.shadowRoot){var t=this.shadowRoot.querySelector(".animation svg"),r=new XMLSerializer().serializeToString(t);if(e){var o=document.createElement("a");o.href="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(r)),o.download="download_".concat(this.seeker,".svg"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}return r}}setSpeed(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._lottie&&this._lottie.setSpeed(e)}setDirection(e){this._lottie&&this._lottie.setDirection(e)}setLooping(e){this._lottie&&(this.loop=e,this._lottie.loop=e)}togglePlay(){return this.currentState===PlayerState.Playing?this.pause():this.play()}toggleLooping(){this.setLooping(!this.loop)}resize(){this._lottie&&this._lottie.resize()}static get styles(){return styles}disconnectedCallback(){this.isConnected||(this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",()=>this._onVisibilityChange()),this.destroy())}render(){var e=this.controls?"main controls":"main",t=this.controls?"animation controls":"animation";return $(_templateObject||(_templateObject=_taggedTemplateLiteral([` <div
      id="animation-container"
      class=`,`
      lang="en"
      aria-label=`,`
      role="img"
    >
      <div
        id="animation"
        class=`,`
        style="background:`,`;"
      >
        `,`
      </div>
      `,`
    </div>`])),e,this.description,t,this.background,this.currentState===PlayerState.Error?$(_templateObject2||(_templateObject2=_taggedTemplateLiteral(['<div class="error">\u26A0\uFE0F</div>']))):void 0,this.controls?this.renderControls():void 0)}firstUpdated(){"IntersectionObserver"in window&&(this._io=new IntersectionObserver(e=>{e[0].isIntersecting?this.currentState===PlayerState.Frozen&&this.play():this.currentState===PlayerState.Playing&&this.freeze()}),this._io.observe(this.container)),document.hidden!==void 0&&document.addEventListener("visibilitychange",()=>this._onVisibilityChange()),this.src&&this.load(this.src),this.dispatchEvent(new CustomEvent(PlayerEvents.Rendered))}renderControls(){var e=this.currentState===PlayerState.Playing,t=this.currentState===PlayerState.Paused,r=this.currentState===PlayerState.Stopped;return $(_templateObject3||(_templateObject3=_taggedTemplateLiteral([`
      <div
        id="lottie-controls"
        aria-label="lottie-animation-controls"
        class="toolbar"
      >
        <button
          id="lottie-play-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="play-pause"
        >
          `,`
        </button>
        <button
          id="lottie-stop-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="stop"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path d="M6 6h12v12H6V6z" />
          </svg>
        </button>
        <input
          id="lottie-seeker-input"
          class="seeker"
          type="range"
          min="0"
          step="1"
          max="100"
          .value=`,`
          @input=`,`
          @mousedown=`,`
          @mouseup=`,`
          aria-valuemin="1"
          aria-valuemax="100"
          role="slider"
          aria-valuenow=`,`
          tabindex="0"
          aria-label="lottie-seek-input"
        />
        <button
          id="lottie-loop-toggle"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="loop-toggle"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path
              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"
            />
          </svg>
        </button>
      </div>
    `])),this.togglePlay,e||t?"active":"",$(e?_templateObject4||(_templateObject4=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path
                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"
                />
              </svg>`])):_templateObject5||(_templateObject5=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />
              </svg>`]))),this.stop,r?"active":"",this.seeker,this._handleSeekChange,()=>{this._prevState=this.currentState,this.freeze()},()=>{this._prevState===PlayerState.Playing&&this.play()},this.seeker,this.toggleLooping,this.loop?"active":"")}_onVisibilityChange(){document.hidden===!0&&this.currentState===PlayerState.Playing?this.freeze():this.currentState===PlayerState.Frozen&&this.play()}_handleSeekChange(e){if(this._lottie&&!isNaN(e.target.value)){var t=e.target.value/100*this._lottie.totalFrames;this.seek(t)}}_attachEventListeners(){this._lottie.addEventListener("enterFrame",()=>{this.seeker=this._lottie.currentFrame/this._lottie.totalFrames*100,this.dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:this._lottie.currentFrame,seeker:this.seeker}}))}),this._lottie.addEventListener("complete",()=>{if(this.currentState===PlayerState.Playing){if((!this.loop||this.count&&this._counter>=this.count)&&(this.dispatchEvent(new CustomEvent(PlayerEvents.Complete)),this.mode!==PlayMode.Bounce||this._lottie.currentFrame===0))return;this.mode===PlayMode.Bounce?(this.count&&(this._counter+=.5),setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this._lottie.setDirection(-1*this._lottie.playDirection),this._lottie.play())},this.intermission)):(this.count&&(this._counter+=1),window.setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this.direction===-1?(this.seek("99%"),this.play()):(this._lottie.stop(),this._lottie.play()))},this.intermission))}else this.dispatchEvent(new CustomEvent(PlayerEvents.Complete))}),this._lottie.addEventListener("DOMLoaded",()=>{this.setSpeed(this.speed),this.setDirection(this.direction),this.autoplay&&(this.direction===-1&&this.seek("100%"),this.play()),this.dispatchEvent(new CustomEvent(PlayerEvents.Ready))}),this._lottie.addEventListener("data_ready",()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Load))}),this._lottie.addEventListener("data_failed",()=>{this.currentState=PlayerState.Error,this.dispatchEvent(new CustomEvent(PlayerEvents.Error))}),this.container.addEventListener("mouseenter",()=>{this.hover&&this.currentState!==PlayerState.Playing&&this.play()}),this.container.addEventListener("mouseleave",()=>{this.hover&&this.currentState===PlayerState.Playing&&this.stop()})}freeze(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Frozen,this.dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))}};__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"autoplay",void 0),__decorate([e$5({type:String,reflect:!0})],LottiePlayer.prototype,"background",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"controls",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"count",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"currentState",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"description",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"direction",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"hover",void 0),__decorate([e$5()],LottiePlayer.prototype,"intermission",void 0),__decorate([e$5({type:Boolean,reflect:!0})],LottiePlayer.prototype,"loop",void 0),__decorate([e$5()],LottiePlayer.prototype,"mode",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"preserveAspectRatio",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"renderer",void 0),__decorate([e$5()],LottiePlayer.prototype,"seeker",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"speed",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"src",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"webworkers",void 0),__decorate([i(".animation")],LottiePlayer.prototype,"container",void 0),LottiePlayer=__decorate([n$1("lottie-player")],LottiePlayer);var chat_svelte_svelte_type_style_lang="";function get_each_context_1$3(e,t,r){const o=e.slice();return o[32]=t[r],o}function get_each_context$3(e,t,r){const o=e.slice();return o[32]=t[r],o}function get_each_context_2(e,t,r){const o=e.slice();return o[37]=t[r],o}function create_each_block_2(e,t){let r,o=t[37][0]+"",l,h,y,D;return{key:e,first:null,c(){r=element("div"),l=text(o),h=space(),attr(r,"class",y=null_to_empty(t[37][1]=="question"?"msgBot":"msgUser")+" svelte-1t31rwl"),this.first=r},m(O,F){insert(O,r,F),append(r,l),append(r,h)},p(O,F){t=O,F[0]&1&&o!==(o=t[37][0]+"")&&set_data(l,o),F[0]&1&&y!==(y=null_to_empty(t[37][1]=="question"?"msgBot":"msgUser")+" svelte-1t31rwl")&&attr(r,"class",y)},i(O){D||add_render_callback(()=>{D=create_in_transition(r,scale,{duration:200,start:.8,easing:quadIn}),D.start()})},o:noop$2,d(O){O&&detach(r)}}}function create_if_block_1$3(e){let t,r;function o(y,D){if(y[4].a.type=="1c")return create_if_block_2$3;if(y[4].a.type=="mc")return create_if_block_3$2;if(y[4].a.type=="num")return create_if_block_4$2;if(y[4].a.type=="cl")return create_if_block_5$2;if(y[4].a.type=="cal")return create_if_block_6$2;if(y[4].a.type=="5s")return create_if_block_7$1}let l=o(e),h=l&&l(e);return{c(){t=element("div"),h&&h.c()},m(y,D){insert(y,t,D),h&&h.m(t,null)},p(y,D){l===(l=o(y))&&h?h.p(y,D):(h&&h.d(1),h=l&&l(y),h&&(h.c(),h.m(t,null)))},i(y){r||add_render_callback(()=>{r=create_in_transition(t,fly,{y:20}),r.start()})},o:noop$2,d(y){y&&detach(t),h&&h.d()}}}function create_if_block_7$1(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X,K,Q,J,et,nt;return{c(){t=element("div"),r=element("div"),o=element("input"),l=space(),h=element("label"),h.textContent="5 stars",y=space(),D=element("input"),O=space(),F=element("label"),F.textContent="4 stars",R=space(),B=element("input"),j=space(),q=element("label"),q.textContent="3 stars",U=space(),W=element("input"),G=space(),Y=element("label"),Y.textContent="2 stars",X=space(),K=element("input"),Q=space(),J=element("label"),J.textContent="1 star",attr(o,"type","radio"),attr(o,"id","star5"),attr(o,"name","rate"),o.value="5",attr(o,"class","svelte-1t31rwl"),attr(h,"for","star5"),attr(h,"title","text"),attr(h,"class","svelte-1t31rwl"),attr(D,"type","radio"),attr(D,"id","star4"),attr(D,"name","rate"),D.value="4",attr(D,"class","svelte-1t31rwl"),attr(F,"for","star4"),attr(F,"title","text"),attr(F,"class","svelte-1t31rwl"),attr(B,"type","radio"),attr(B,"id","star3"),attr(B,"name","rate"),B.value="3",attr(B,"class","svelte-1t31rwl"),attr(q,"for","star3"),attr(q,"title","text"),attr(q,"class","svelte-1t31rwl"),attr(W,"type","radio"),attr(W,"id","star2"),attr(W,"name","rate"),W.value="2",attr(W,"class","svelte-1t31rwl"),attr(Y,"for","star2"),attr(Y,"title","text"),attr(Y,"class","svelte-1t31rwl"),attr(K,"type","radio"),attr(K,"id","star1"),attr(K,"name","rate"),K.value="1",attr(K,"class","svelte-1t31rwl"),attr(J,"for","star1"),attr(J,"title","text"),attr(J,"class","svelte-1t31rwl"),attr(r,"class","rate input svelte-1t31rwl"),attr(t,"class","d-flex align-items-center justify-content-center")},m(Z,it){insert(Z,t,it),append(t,r),append(r,o),append(r,l),append(r,h),append(r,y),append(r,D),append(r,O),append(r,F),append(r,R),append(r,B),append(r,j),append(r,q),append(r,U),append(r,W),append(r,G),append(r,Y),append(r,X),append(r,K),append(r,Q),append(r,J),et||(nt=[listen(o,"click",e[19]),listen(D,"click",e[20]),listen(B,"click",e[21]),listen(W,"click",e[22]),listen(K,"click",e[23])],et=!0)},p:noop$2,d(Z){Z&&detach(t),et=!1,run_all(nt)}}}function create_if_block_6$2(e){let t,r,o,l,h,y,D;return{c(){t=element("div"),r=element("input"),l=space(),h=element("div"),h.innerHTML='<img src="/assets/icons/send-circle.svg" style="height: 35px;" alt="bouton d&#39;envoi"/>',attr(r,"class","dateField svelte-1t31rwl"),attr(r,"id","dateTime"),attr(r,"type",o=e[4].a.a[0]&&e[4].a.a[1]?"datetime-local":e[4].a.a[0]&&!e[4].a.a[1]?"date":"time"),attr(h,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(t,"class","userBtnInput py-3 m-auto d-flex flex-row justify-content-around align-items-center svelte-1t31rwl")},m(O,F){insert(O,t,F),append(t,r),append(t,l),append(t,h),y||(D=[listen(r,"input",e[17]),listen(h,"click",e[18])],y=!0)},p(O,F){F[0]&16&&o!==(o=O[4].a.a[0]&&O[4].a.a[1]?"datetime-local":O[4].a.a[0]&&!O[4].a.a[1]?"date":"time")&&attr(r,"type",o)},d(O){O&&detach(t),y=!1,run_all(D)}}}function create_if_block_5$2(e){let t,r,o,l,h,y,D,O;return{c(){t=element("div"),r=element("div"),o=element("input"),h=space(),y=element("div"),y.innerHTML='<img src="/assets/icons/send-circle.svg" style="height: 35px;" alt="bouton d&#39;envoi"/>',attr(o,"id","inputUser"),attr(o,"maxlength",l=e[4].a.a[0]),attr(o,"class","w-100 userFieldInput svelte-1t31rwl"),attr(o,"type","text"),attr(o,"autocomplete","off"),attr(o,"placeholder","Dites nous tout..."),attr(r,"class","p-2"),set_style(r,"max-width","90%"),attr(y,"class","p-1 d-flex flex-column flex-align-center justify-content-center"),attr(t,"class","userBtnInput d-flex flex-row justify-content-around align-items-center p-2 m-auto svelte-1t31rwl")},m(F,R){insert(F,t,R),append(t,r),append(r,o),set_input_value(o,e[5]),append(t,h),append(t,y),D||(O=[listen(o,"input",e[15]),listen(y,"click",e[16])],D=!0)},p(F,R){R[0]&16&&l!==(l=F[4].a.a[0])&&attr(o,"maxlength",l),R[0]&32&&o.value!==F[5]&&set_input_value(o,F[5])},d(F){F&&detach(t),D=!1,run_all(O)}}}function create_if_block_4$2(e){let t,r,o,l,h,y,D=e[4].a.a[2]+"",O,F,R,B,j,q,U,W,G;return{c(){t=element("div"),r=element("input"),h=space(),y=element("div"),O=text(D),F=space(),R=element("input"),q=space(),U=element("div"),U.innerHTML='<img src="/assets/icons/send-circle.svg" style="min-height: 35px;" alt="bouton d&#39;envoi"/>',attr(r,"id","numRan"),attr(r,"class","userFieldInput svelte-1t31rwl"),set_style(r,"max-width","50%"),attr(r,"min",o=e[4].a.a[0]),attr(r,"max",l=e[4].a.a[1]),attr(r,"type","number"),attr(y,"class","ml-1 mr-2 text-left"),attr(R,"id","inputUser"),attr(R,"class","h-100 mx-1 flex-grow-1 userFieldInput form-range svelte-1t31rwl"),attr(R,"type","range"),attr(R,"min",B=e[4].a.a[0]),attr(R,"max",j=e[4].a.a[1]),attr(U,"class","p-1"),attr(t,"class","userBtnInput py-3 m-auto d-flex flex-wrap flex-row justify-content-around align-items-center svelte-1t31rwl")},m(Y,X){insert(Y,t,X),append(t,r),set_input_value(r,e[5]),append(t,h),append(t,y),append(y,O),append(t,F),append(t,R),set_input_value(R,e[5]),append(t,q),append(t,U),W||(G=[listen(r,"input",e[12]),listen(R,"change",e[13]),listen(R,"input",e[13]),listen(U,"click",e[14])],W=!0)},p(Y,X){X[0]&16&&o!==(o=Y[4].a.a[0])&&attr(r,"min",o),X[0]&16&&l!==(l=Y[4].a.a[1])&&attr(r,"max",l),X[0]&32&&to_number(r.value)!==Y[5]&&set_input_value(r,Y[5]),X[0]&16&&D!==(D=Y[4].a.a[2]+"")&&set_data(O,D),X[0]&16&&B!==(B=Y[4].a.a[0])&&attr(R,"min",B),X[0]&16&&j!==(j=Y[4].a.a[1])&&attr(R,"max",j),X[0]&32&&set_input_value(R,Y[5])},d(Y){Y&&detach(t),W=!1,run_all(G)}}}function create_if_block_3$2(e){let t,r=e[4].a.a,o=[];for(let l=0;l<r.length;l+=1)o[l]=create_each_block_1$3(get_each_context_1$3(e,r,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();t=empty()},m(l,h){for(let y=0;y<o.length;y+=1)o[y].m(l,h);insert(l,t,h)},p(l,h){if(h[0]&144){r=l[4].a.a;let y;for(y=0;y<r.length;y+=1){const D=get_each_context_1$3(l,r,y);o[y]?o[y].p(D,h):(o[y]=create_each_block_1$3(D),o[y].c(),o[y].m(t.parentNode,t))}for(;y<o.length;y+=1)o[y].d(1);o.length=r.length}},d(l){destroy_each(o,l),l&&detach(t)}}}function create_if_block_2$3(e){let t,r=e[4].a.a,o=[];for(let l=0;l<r.length;l+=1)o[l]=create_each_block$3(get_each_context$3(e,r,l));return{c(){for(let l=0;l<o.length;l+=1)o[l].c();t=empty()},m(l,h){for(let y=0;y<o.length;y+=1)o[y].m(l,h);insert(l,t,h)},p(l,h){if(h[0]&144){r=l[4].a.a;let y;for(y=0;y<r.length;y+=1){const D=get_each_context$3(l,r,y);o[y]?o[y].p(D,h):(o[y]=create_each_block$3(D),o[y].c(),o[y].m(t.parentNode,t))}for(;y<o.length;y+=1)o[y].d(1);o.length=r.length}},d(l){destroy_each(o,l),l&&detach(t)}}}function create_each_block_1$3(e){let t,r,o=e[32]+"",l,h,y,D;function O(){return e[11](e[32])}return{c(){t=element("div"),r=element("div"),l=text(o),h=space(),attr(r,"class","userBtnInput svelte-1t31rwl"),attr(t,"class","p-2")},m(F,R){insert(F,t,R),append(t,r),append(r,l),append(t,h),y||(D=listen(r,"click",O),y=!0)},p(F,R){e=F,R[0]&16&&o!==(o=e[32]+"")&&set_data(l,o)},d(F){F&&detach(t),y=!1,D()}}}function create_each_block$3(e){let t,r,o=e[32]+"",l,h,y,D;function O(){return e[10](e[32])}return{c(){t=element("div"),r=element("div"),l=text(o),h=space(),attr(r,"class","userBtnInput svelte-1t31rwl"),attr(t,"class","p-2")},m(F,R){insert(F,t,R),append(t,r),append(r,l),append(t,h),y||(D=listen(r,"click",O),y=!0)},p(F,R){e=F,R[0]&16&&o!==(o=e[32]+"")&&set_data(l,o)},d(F){F&&detach(t),y=!1,D()}}}function create_if_block$4(e){let t,r;return{c(){t=element("lottie-player"),src_url_equal(t.src,r="https://assets5.lottiefiles.com/packages/lf20_wsdetkrm.json")||set_custom_element_data(t,"src",r),set_custom_element_data(t,"background","transparent"),set_custom_element_data(t,"speed","1"),set_style(t,"height","150px"),set_style(t,"max-width","200px"),set_style(t,"margin","auto"),set_custom_element_data(t,"autoplay","")},m(o,l){insert(o,t,l)},d(o){o&&detach(t)}}}function create_fragment$a(e){let t,r,o,l,h,y,D,O,F,R,B,j,q=[],U=new Map,W,G,Y,X,K=e[0];const Q=nt=>nt[37][0];for(let nt=0;nt<K.length;nt+=1){let Z=get_each_context_2(e,K,nt),it=Q(Z);U.set(it,q[nt]=create_each_block_2(it,Z))}let J=e[2]&&create_if_block_1$3(e),et=e[3]&&create_if_block$4();return{c(){t=element("div"),r=element("div"),o=element("div"),l=element("div"),l.innerHTML='<img src="/assets/favicon.ico" style="height:30px;" alt="logo r\xE9tine"/> R\xE9tine',h=space(),y=element("div"),D=text(e[1]),O=text("%"),F=space(),R=element("div"),B=element("div"),j=element("div");for(let nt=0;nt<q.length;nt+=1)q[nt].c();W=space(),G=element("div"),Y=element("div"),J&&J.c(),X=space(),et&&et.c(),attr(l,"class","p-3"),set_style(l,"font-family","Lexend Deca"),set_style(l,"font-size","1.2rem"),set_style(l,"font-weight","600"),attr(y,"id","pourcentageAdv"),attr(y,"class","svelte-1t31rwl"),attr(o,"class","w-100 d-flex align-items-center justify-content-between"),set_style(o,"background-color","transparent"),attr(j,"id","messageFeed"),attr(j,"class","h-100 p-2 d-flex flex-column justify-content-start"),set_style(B,"background-color","transparent"),attr(Y,"id","inputZone"),attr(Y,"class","h-auto p-1 w-100 m-auto"),set_style(Y,"background-color","transparent"),set_style(Y,"min-height","100px"),attr(G,"class","w-100"),attr(R,"class","h-100 d-flex flex-column justify-content-between scrollbehavior svelte-1t31rwl"),set_style(R,"overflow-y","scroll"),set_style(R,"scroll-behavior","smooth"),attr(r,"class","h-100 w-100 d-flex flex-column justify-content-between m-auto"),attr(t,"class","d-flex align-content-center flex-column h-100 w-100"),set_style(t,"height","-webkit-fill-available")},m(nt,Z){insert(nt,t,Z),append(t,r),append(r,o),append(o,l),append(o,h),append(o,y),append(y,D),append(y,O),append(r,F),append(r,R),append(R,B),append(B,j);for(let it=0;it<q.length;it+=1)q[it].m(j,null);append(R,W),append(R,G),append(G,Y),J&&J.m(Y,null),append(Y,X),et&&et.m(Y,null),e[24](R)},p(nt,Z){Z[0]&2&&set_data(D,nt[1]),Z[0]&1&&(K=nt[0],q=update_keyed_each(q,Z,Q,1,nt,K,U,j,destroy_block,create_each_block_2,null,get_each_context_2)),nt[2]?J?(J.p(nt,Z),Z[0]&4&&transition_in(J,1)):(J=create_if_block_1$3(nt),J.c(),transition_in(J,1),J.m(Y,X)):J&&(J.d(1),J=null),nt[3]?et||(et=create_if_block$4(),et.c(),et.m(Y,null)):et&&(et.d(1),et=null)},i(nt){for(let Z=0;Z<K.length;Z+=1)transition_in(q[Z]);transition_in(J)},o:noop$2,d(nt){nt&&detach(t);for(let Z=0;Z<q.length;Z+=1)q[Z].d();J&&J.d(),et&&et.d(),e[24](null)}}}function instance$9(e,t,r){let{chatContent:o}=t,{scode:l="demo"}=t,h=[],y=0,D=[],O=!1,F=!1,R,B="",j;function q(){setTimeout(()=>{r(6,j.scrollTop=j.scrollHeight,j)},200)}function U(dt){r(5,B=""),r(4,R=o.jsonContent[dt]),r(0,h=[...h,[R.q,"question"]]),r(2,O=!0),q()}U(0);function W(dt,ft){r(2,O=!1),r(0,h=[...h,[dt,"reponse"]]);let mt=Math.round((parseInt(o.jsonContent.indexOf(ft))+1)/(o.jsonContent.length-1)*100);K(y,mt),D.push({n:ft.idr,t:ft.a.type,a:dt});let bt=o.jsonContent.indexOf(ft)+1;setTimeout(()=>{o.jsonContent[bt].idr=="end"&&G(),U(bt),j.scrollTo(0,j.scrollHeight)},700)}async function G(){if(l!="demo"){var dt=JSON.stringify({client_info:JSON.stringify(navigator.userAgent),jsonContent:JSON.stringify(D)}),ft=new Headers;return ft.append("Content-Type","application/json"),fetch(`https://retinereq.jetevois.fr:8000/rep/${l}/`,{method:"POST",headers:ft,body:dt,redirect:"follow"}).then(mt=>mt.text()).then(mt=>{console.log(mt),setTimeout(()=>{r(3,F=!0),q()},100)}).catch(mt=>{throw new Error(mt)})}r(3,F=!0),q()}const Y=Math.round(2e3/17),X=dt=>dt*(2-dt),K=(dt,ft)=>{let mt=dt;const bt=ft,xt=setInterval(()=>{mt++;const yt=X(mt/Y),vt=Math.round(bt*yt);ft+1!==vt&&vt>dt&&r(1,y=vt),mt===Y&&clearInterval(xt)},17)},Q=dt=>{W(dt,R)},J=dt=>{W(dt,R)};function et(){B=to_number(this.value),r(5,B)}function nt(){B=to_number(this.value),r(5,B)}const Z=()=>{B!=""&&W(B.toString(),R)};function it(){B=this.value,r(5,B)}const rt=()=>{B!=""&&W(B,R)},tt=dt=>{r(5,B=dt.target.value)},st=()=>{B!=""&&W(B,R)},ht=()=>W("\u2B50\u2B50\u2B50\u2B50\u2B50",R),ct=()=>W("\u2B50\u2B50\u2B50\u2B50",R),lt=()=>W("\u2B50\u2B50\u2B50",R),ut=()=>W("\u2B50\u2B50",R),ot=()=>W("\u2B50",R);function at(dt){binding_callbacks[dt?"unshift":"push"](()=>{j=dt,r(6,j)})}return e.$$set=dt=>{"chatContent"in dt&&r(8,o=dt.chatContent),"scode"in dt&&r(9,l=dt.scode)},[h,y,O,F,R,B,j,W,o,l,Q,J,et,nt,Z,it,rt,tt,st,ht,ct,lt,ut,ot,at]}class Chat extends SvelteComponent{constructor(t){super(),init(this,t,instance$9,create_fragment$a,safe_not_equal,{chatContent:8,scode:9},null,[-1,-1])}}var modalTemplateLoad_svelte_svelte_type_style_lang="";function get_each_context$2(e,t,r){const o=e.slice();return o[14]=t[r],o[16]=r,o}function get_each_context_1$2(e,t,r){const o=e.slice();return o[17]=t[r],o[19]=r,o}function create_catch_block$3(e){let t,r=e[20]+"",o;return{c(){t=element("div"),o=text(r)},m(l,h){insert(l,t,h),append(t,o)},p(l,h){h&1&&r!==(r=l[20]+"")&&set_data(o,r)},i:noop$2,o:noop$2,d(l){l&&detach(t)}}}function create_then_block$3(e){let t,r=[...new Set(e[13].map(func$1))],o=[];for(let l=0;l<r.length;l+=1)o[l]=create_each_block$2(get_each_context$2(e,r,l));return{c(){t=element("div");for(let l=0;l<o.length;l+=1)o[l].c();attr(t,"class","templateZone svelte-a7yor4")},m(l,h){insert(l,t,h);for(let y=0;y<o.length;y+=1)o[y].m(t,null)},p(l,h){if(h&5){r=[...new Set(l[13].map(func$1))];let y;for(y=0;y<r.length;y+=1){const D=get_each_context$2(l,r,y);o[y]?(o[y].p(D,h),transition_in(o[y],1)):(o[y]=create_each_block$2(D),o[y].c(),transition_in(o[y],1),o[y].m(t,null))}for(;y<o.length;y+=1)o[y].d(1);o.length=r.length}},i(l){for(let h=0;h<r.length;h+=1)transition_in(o[h])},o:noop$2,d(l){l&&detach(t),destroy_each(o,l)}}}function create_if_block$3(e){let t,r,o=e[14]+"",l;return{c(){t=element("div"),r=element("h5"),l=text(o),attr(t,"class","mb-1 mt-2 border-bottom")},m(h,y){insert(h,t,y),append(t,r),append(r,l)},p(h,y){y&1&&o!==(o=h[14]+"")&&set_data(l,o)},d(h){h&&detach(t)}}}function create_each_block_1$2(e){let t,r,o,l=e[17].nom_proj+"",h,y,D,O,F;function R(){return e[8](e[17])}return{c(){t=element("div"),r=element("div"),o=text("\u27A1\uFE0F "),h=text(l),y=space(),attr(r,"class","templateBtn svelte-a7yor4")},m(B,j){insert(B,t,j),append(t,r),append(r,o),append(r,h),append(t,y),O||(F=listen(r,"click",R),O=!0)},p(B,j){e=B,j&1&&l!==(l=e[17].nom_proj+"")&&set_data(h,l)},i(B){D||add_render_callback(()=>{D=create_in_transition(t,fly,{x:-20,delay:e[19]*100}),D.start()})},o:noop$2,d(B){B&&detach(t),O=!1,F()}}}function create_each_block$2(e){let t,r,o=e[14]!=null&&create_if_block$3(e);function l(...D){return e[7](e[14],...D)}let h=e[13].filter(l),y=[];for(let D=0;D<h.length;D+=1)y[D]=create_each_block_1$2(get_each_context_1$2(e,h,D));return{c(){o&&o.c(),t=space();for(let D=0;D<y.length;D+=1)y[D].c();r=empty()},m(D,O){o&&o.m(D,O),insert(D,t,O);for(let F=0;F<y.length;F+=1)y[F].m(D,O);insert(D,r,O)},p(D,O){if(e=D,e[14]!=null?o?o.p(e,O):(o=create_if_block$3(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),O&5){h=e[13].filter(l);let F;for(F=0;F<h.length;F+=1){const R=get_each_context_1$2(e,h,F);y[F]?(y[F].p(R,O),transition_in(y[F],1)):(y[F]=create_each_block_1$2(R),y[F].c(),transition_in(y[F],1),y[F].m(r.parentNode,r))}for(;F<y.length;F+=1)y[F].d(1);y.length=h.length}},i(D){for(let O=0;O<h.length;O+=1)transition_in(y[O])},o:noop$2,d(D){o&&o.d(D),D&&detach(t),destroy_each(y,D),D&&detach(r)}}}function create_pending_block$3(e){let t;return{c(){t=element("div"),t.textContent="Chargement des mod\xE8les...",attr(t,"class","d-flex justify-content-center align-items-center"),set_style(t,"min-height","400px")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_fragment$9(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$3,then:create_then_block$3,catch:create_catch_block$3,value:13,error:20};return handle_promise(R=e[0],X),{c(){t=element("div"),r=element("div"),o=element("h2"),o.textContent="\u{1F4DA} Mod\xE8les de sondage",l=space(),h=element("div"),y=element("div"),y.textContent="Mod\xE8les",D=space(),O=element("div"),O.textContent="Mes sondages",F=space(),X.block.c(),B=space(),j=element("div"),q=element("button"),q.textContent="Close",attr(o,"class","mb-4 svelte-a7yor4"),attr(y,"id","modelsBtn"),attr(y,"class","headerBtn active svelte-a7yor4"),attr(O,"id","sondagesBtn"),attr(O,"class","headerBtn svelte-a7yor4"),attr(h,"class","headerBtns svelte-a7yor4"),attr(q,"class","svelte-a7yor4"),attr(j,"class","actions svelte-a7yor4"),attr(r,"class","contents svelte-a7yor4"),attr(t,"role","dialog"),attr(t,"class","modal svelte-a7yor4")},m(K,Q){insert(K,t,Q),append(t,r),append(r,o),append(r,l),append(r,h),append(h,y),append(h,D),append(h,O),append(r,F),X.block.m(r,X.anchor=null),X.mount=()=>r,X.anchor=B,append(r,B),append(r,j),append(j,q),W=!0,G||(Y=[listen(y,"click",e[1]),listen(O,"click",e[1]),listen(q,"click",closeModal),listen(t,"introstart",e[5]),listen(t,"outroend",e[6])],G=!0)},p(K,[Q]){e=K,X.ctx=e,Q&1&&R!==(R=e[0])&&handle_promise(R,X)||update_await_block_branch(X,e,Q)},i(K){W||(transition_in(X.block),add_render_callback(()=>{U||(U=create_bidirectional_transition(t,fly,{y:50},!0)),U.run(1)}),W=!0)},o(K){U||(U=create_bidirectional_transition(t,fly,{y:50},!1)),U.run(0),W=!1},d(K){K&&detach(t),X.block.d(),X.token=null,X=null,K&&U&&U.end(),G=!1,run_all(Y)}}}const func$1=e=>e.category;function instance$8(e,t,r){let{sondageEnCreation:o}=t,{updateFun:l}=t,h=!0,y;async function D(){var G=new Headers;G.append("Authorization","Token "+xxgc("rtnt")),G.append("Content-Type","application/json");var Y={method:"GET",headers:G,redirect:"follow"};return fetch("https://retinereq.jetevois.fr:8000/templates/",Y).then(X=>X.text()).then(X=>JSON.parse(X)).catch(X=>X)}async function O(){var G=new Headers;G.append("Authorization","Token "+xxgc("rtnt")),G.append("Content-Type","application/json");var Y={method:"GET",headers:G,redirect:"follow"};return fetch("https://retinereq.jetevois.fr:8000/sondages/edit/",Y).then(X=>X.text()).then(X=>JSON.parse(X)).catch(X=>X)}let F=D();function R(G){G.target.classList.contains("active")||(document.querySelectorAll(".headerBtn").forEach(function(Y){Y.classList.remove("active")}),G.target.classList.add("active"),G.target.id=="modelsBtn"?(r(0,F=D()),h=!0):G.target.id=="sondagesBtn"&&(r(0,F=O()),F.then(Y=>{y=Y}),h=!1))}const B=async G=>{if(h){async function Y(){var K=new Headers;return K.append("Authorization","Token "+xxgc("rtnt")),K.append("Content-Type","application/json"),fetch(`https://retinereq.jetevois.fr:8000/templates/${G}/`,{method:"GET",headers:K,redirect:"follow"}).then(Q=>Q.text()).then(Q=>JSON.parse(Q)).catch(Q=>Q)}let X=await Y();X.jsonContent=JSON.parse(X.jsonContent),r(3,o=X)}else{let Y=y.find(X=>X.id==G);console.log(Y),Y.jsonContent=JSON.parse(Y.jsonContent),r(3,o=Y)}closeModal(),l()};function j(G){bubble.call(this,e,G)}function q(G){bubble.call(this,e,G)}const U=(G,Y)=>Y.category==G,W=G=>B(G.id);return e.$$set=G=>{"sondageEnCreation"in G&&r(3,o=G.sondageEnCreation),"updateFun"in G&&r(4,l=G.updateFun)},[F,R,B,o,l,j,q,U,W]}class ModalTemplateLoad extends SvelteComponent{constructor(t){super(),init(this,t,instance$8,create_fragment$9,safe_not_equal,{sondageEnCreation:3,updateFun:4})}}function flip(e,{from:t,to:r},o={}){const l=getComputedStyle(e),h=l.transform==="none"?"":l.transform,[y,D]=l.transformOrigin.split(" ").map(parseFloat),O=t.left+t.width*y/r.width-(r.left+y),F=t.top+t.height*D/r.height-(r.top+D),{delay:R=0,duration:B=q=>Math.sqrt(q)*120,easing:j=cubicOut}=o;return{delay:R,duration:is_function(B)?B(Math.sqrt(O*O+F*F)):B,easing:j,css:(q,U)=>{const W=U*O,G=U*F,Y=q+U*t.width/r.width,X=q+U*t.height/r.height;return`transform: ${h} translate(${W}px, ${G}px) scale(${Y}, ${X});`}}}var shortUniqueId={exports:{}};(function(e){var t=(()=>{var r=Object.defineProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,y=(G,Y,X)=>Y in G?r(G,Y,{enumerable:!0,configurable:!0,writable:!0,value:X}):G[Y]=X,D=(G,Y)=>{for(var X in Y||(Y={}))l.call(Y,X)&&y(G,X,Y[X]);if(o)for(var X of o(Y))h.call(Y,X)&&y(G,X,Y[X]);return G},O=G=>r(G,"__esModule",{value:!0}),F=(G,Y)=>{O(G);for(var X in Y)r(G,X,{get:Y[X],enumerable:!0})},R={};F(R,{DEFAULT_UUID_LENGTH:()=>j,default:()=>W});var B="4.4.4",j=6,q={dictionary:"alphanum",shuffle:!0,debug:!1,length:j},U=class extends Function{constructor(G={}){super(),this.dictIndex=0,this.dictRange=[],this.lowerBound=0,this.upperBound=0,this.dictLength=0,this._digit_first_ascii=48,this._digit_last_ascii=58,this._alpha_lower_first_ascii=97,this._alpha_lower_last_ascii=123,this._hex_last_ascii=103,this._alpha_upper_first_ascii=65,this._alpha_upper_last_ascii=91,this._number_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii]},this._alpha_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alpha_lower_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alpha_upper_dict_ranges={upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._alphanum_lower_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]},this._alphanum_upper_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]},this._hex_dict_ranges={decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]},this.log=(...J)=>{const et=[...J];if(et[0]=`[short-unique-id] ${J[0]}`,this.debug===!0&&typeof console!="undefined"&&console!==null)return console.log(...et)},this.setDictionary=(J,et)=>{let nt;if(J&&Array.isArray(J)&&J.length>1)nt=J;else{nt=[];let Z;this.dictIndex=Z=0;const it=`_${J}_dict_ranges`,rt=this[it];Object.keys(rt).forEach(tt=>{const st=tt;for(this.dictRange=rt[st],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=Z=this.lowerBound;this.lowerBound<=this.upperBound?Z<this.upperBound:Z>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?Z+=1:Z-=1)nt.push(String.fromCharCode(this.dictIndex))})}et&&(nt=nt.sort(()=>Math.random()-.5)),this.dict=nt,this.dictLength=this.dict.length,this.counter=0},this.seq=()=>this.sequentialUUID(),this.sequentialUUID=()=>{let J,et,nt="";J=this.counter;do et=J%this.dictLength,J=Math.trunc(J/this.dictLength),nt+=this.dict[et];while(J!==0);return this.counter+=1,nt},this.randomUUID=(J=this.uuidLength||j)=>{let et,nt,Z;if(J===null||typeof J=="undefined"||J<1)throw new Error("Invalid UUID Length Provided");for(et="",Z=0;Z<J;Z+=1)nt=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,et+=this.dict[nt];return et},this.availableUUIDs=(J=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,J).toFixed(0)),this.approxMaxBeforeCollision=(J=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*J).toFixed(20)),this.collisionProbability=(J=this.availableUUIDs(this.uuidLength),et=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(J)/this.availableUUIDs(et)).toFixed(20)),this.uniqueness=(J=this.availableUUIDs(this.uuidLength))=>{const et=parseFloat((1-this.approxMaxBeforeCollision(J)/J).toFixed(20));return et>1?1:et<0?0:et},this.getVersion=()=>this.version,this.stamp=J=>{if(typeof J!="number"||J<10)throw new Error("Param finalLength must be number greater than 10");const et=Math.floor(+new Date/1e3).toString(16),nt=J-9,Z=Math.round(Math.random()*(nt>15?15:nt)),it=this.randomUUID(nt);return`${it.substr(0,Z)}${et}${it.substr(Z)}${Z.toString(16)}`},this.parseStamp=J=>{if(J.length<10)throw new Error("Stamp length invalid");const et=parseInt(J.substr(J.length-1,1),16);return new Date(parseInt(J.substr(et,8),16)*1e3)};const Y=D(D({},q),G);this.counter=0,this.debug=!1,this.dict=[],this.version=B;const{dictionary:X,shuffle:K,length:Q}=Y;return this.uuidLength=Q,this.setDictionary(X,K),this.debug=Y.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength}`),new Proxy(this,{apply:(J,et,nt)=>this.randomUUID(...nt)})}},W=U;return W.default=U,R})();e.exports=t.default,typeof window!="undefined"&&(t=t.default)})(shortUniqueId);var ShortUniqueId=getDefaultExportFromCjs(shortUniqueId.exports),modalCellEdit_svelte_svelte_type_style_lang="";function get_each_context_1$1(e,t,r){const o=e.slice();return o[33]=t[r],o}function get_each_context$1(e,t,r){const o=e.slice();return o[33]=t[r],o}function create_if_block_1$2(e){let t,r,o,l,h;const y=[create_if_block_2$2,create_if_block_3$1,create_if_block_4$1,create_if_block_5$1,create_if_block_6$1,create_if_block_7,create_else_block$2],D=[];function O(F,R){return F[0].a.type=="1c"?0:F[0].a.type=="mc"?1:F[0].a.type=="cl"?2:F[0].a.type=="num"?3:F[0].a.type=="cal"?4:F[0].a.type=="5s"?5:6}return r=O(e),o=D[r]=y[r](e),{c(){t=element("div"),o.c(),attr(t,"id","ansWriteZone"),attr(t,"class","pt-2 svelte-1pzri9r")},m(F,R){insert(F,t,R),D[r].m(t,null),h=!0},p(F,R){let B=r;r=O(F),r===B?D[r].p(F,R):(group_outros(),transition_out(D[B],1,1,()=>{D[B]=null}),check_outros(),o=D[r],o?o.p(F,R):(o=D[r]=y[r](F),o.c()),transition_in(o,1),o.m(t,null))},i(F){h||(transition_in(o),l||add_render_callback(()=>{l=create_in_transition(t,fly,{y:20}),l.start()}),h=!0)},o(F){transition_out(o),h=!1},d(F){F&&detach(t),D[r].d()}}}function create_else_block$2(e){let t;return{c(){t=text("Error")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_if_block_7(e){let t,r,o,l,h,y;return{c(){t=element("span"),o=space(),l=element("div"),l.textContent="\u2B50 L'utilisateur pourra donner une note de 1 \xE0 5 \xE9toiles."},m(D,O){insert(D,t,O),insert(D,o,O),insert(D,l,O),h||(y=action_destroyer(r=e[5].call(null,t,e[0].a.type)),h=!0)},p(D,O){r&&is_function(r.update)&&O[0]&1&&r.update.call(null,D[0].a.type)},i:noop$2,o:noop$2,d(D){D&&detach(t),D&&detach(o),D&&detach(l),h=!1,y()}}}function create_if_block_6$1(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U;return{c(){t=element("span"),o=space(),l=element("div"),l.textContent="L'utilisateur devra saisir :",h=space(),y=element("input"),D=space(),O=element("label"),O.textContent="une date (format JJ/MM/AAAA)",F=element("br"),R=element("input"),B=space(),j=element("label"),j.textContent="une heure (format HH:MM)",attr(l,"class","my-2"),attr(y,"type","checkbox"),attr(y,"id","datee"),attr(O,"for","datee"),attr(R,"type","checkbox"),attr(R,"id","heuree"),attr(j,"for","heuree")},m(W,G){insert(W,t,G),insert(W,o,G),insert(W,l,G),insert(W,h,G),insert(W,y,G),y.checked=e[0].a.a[0],insert(W,D,G),insert(W,O,G),insert(W,F,G),insert(W,R,G),R.checked=e[0].a.a[1],insert(W,B,G),insert(W,j,G),q||(U=[action_destroyer(r=e[5].call(null,t,e[0].a.type)),listen(y,"change",e[28]),listen(R,"change",e[29])],q=!0)},p(W,G){r&&is_function(r.update)&&G[0]&1&&r.update.call(null,W[0].a.type),G[0]&1&&(y.checked=W[0].a.a[0]),G[0]&1&&(R.checked=W[0].a.a[1])},i:noop$2,o:noop$2,d(W){W&&detach(t),W&&detach(o),W&&detach(l),W&&detach(h),W&&detach(y),W&&detach(D),W&&detach(O),W&&detach(F),W&&detach(R),W&&detach(B),W&&detach(j),q=!1,run_all(U)}}}function create_if_block_5$1(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X;return{c(){t=element("span"),o=space(),l=element("label"),l.textContent="Minimum ",h=element("input"),y=element("br"),D=element("label"),D.textContent=`Maximum\r
            `,O=element("input"),F=element("br"),R=element("label"),R.textContent=`Unit\xE9e\r
            `,B=element("input"),j=element("datalist"),q=element("option"),U=element("option"),W=element("option"),G=element("option"),attr(l,"for","nbMin"),attr(h,"class","fieldQlilnum svelte-1pzri9r"),attr(h,"type","number"),attr(h,"id","nbMin"),attr(h,"name","nbMin"),attr(D,"for","nbMax"),attr(O,"class","fieldQlilnum svelte-1pzri9r"),attr(O,"type","number"),attr(O,"id","nbMax"),attr(O,"name","nbMax"),attr(R,"for","unitee"),attr(B,"class","fieldQlilnum svelte-1pzri9r"),attr(B,"list","unitees"),attr(B,"id","uniteeChoice"),attr(B,"name","choixUnitee"),attr(B,"maxlength","6"),q.__value="$",q.value=q.__value,U.__value="\u20AC",U.value=U.__value,W.__value="kg",W.value=W.__value,G.__value="g",G.value=G.__value,attr(j,"id","unitees")},m(K,Q){insert(K,t,Q),insert(K,o,Q),insert(K,l,Q),insert(K,h,Q),set_input_value(h,e[0].a.a[0]),insert(K,y,Q),insert(K,D,Q),insert(K,O,Q),set_input_value(O,e[0].a.a[1]),insert(K,F,Q),insert(K,R,Q),insert(K,B,Q),set_input_value(B,e[0].a.a[2]),insert(K,j,Q),append(j,q),append(j,U),append(j,W),append(j,G),Y||(X=[action_destroyer(r=e[5].call(null,t,e[0].a.type)),listen(h,"input",e[25]),listen(O,"input",e[26]),listen(B,"input",e[27])],Y=!0)},p(K,Q){r&&is_function(r.update)&&Q[0]&1&&r.update.call(null,K[0].a.type),Q[0]&1&&to_number(h.value)!==K[0].a.a[0]&&set_input_value(h,K[0].a.a[0]),Q[0]&1&&to_number(O.value)!==K[0].a.a[1]&&set_input_value(O,K[0].a.a[1]),Q[0]&1&&B.value!==K[0].a.a[2]&&set_input_value(B,K[0].a.a[2])},i:noop$2,o:noop$2,d(K){K&&detach(t),K&&detach(o),K&&detach(l),K&&detach(h),K&&detach(y),K&&detach(D),K&&detach(O),K&&detach(F),K&&detach(R),K&&detach(B),K&&detach(j),Y=!1,run_all(X)}}}function create_if_block_4$1(e){let t,r,o,l,h,y,D,O,F,R,B;return{c(){t=element("span"),o=space(),l=element("div"),h=element("label"),h.textContent="Limite de caract\xE8res",y=space(),D=element("input"),O=space(),F=element("div"),F.innerHTML=`<p style="text-align: left; font-size:.9rem" class="svelte-1pzri9r">\u{1F4A1} Une IA analysera automatiquement le sentiment d\xE9gag\xE9 par chacune des r\xE9ponses pour \xE9tablir des statistiques visibles sur votre dashboard des
                r\xE9sultats.</p>`,attr(h,"for","nbCaracLimit"),attr(D,"class","fieldQlilnum svelte-1pzri9r"),attr(D,"type","number"),attr(D,"id","nbCaracLimit"),attr(D,"name","nbCaracLimit"),attr(D,"min","1"),attr(D,"max","140")},m(j,q){insert(j,t,q),insert(j,o,q),insert(j,l,q),append(l,h),append(l,y),append(l,D),set_input_value(D,e[0].a.a[0]),insert(j,O,q),insert(j,F,q),R||(B=[action_destroyer(r=e[5].call(null,t,e[0].a.type)),listen(D,"input",e[24])],R=!0)},p(j,q){r&&is_function(r.update)&&q[0]&1&&r.update.call(null,j[0].a.type),q[0]&1&&to_number(D.value)!==j[0].a.a[0]&&set_input_value(D,j[0].a.a[0])},i:noop$2,o:noop$2,d(j){j&&detach(t),j&&detach(o),j&&detach(l),j&&detach(O),j&&detach(F),R=!1,run_all(B)}}}function create_if_block_3$1(e){let t,r,o,l,h=[],y=new Map,D,O,F,R,B=e[0].a.a;const j=q=>q[33];for(let q=0;q<B.length;q+=1){let U=get_each_context_1$1(e,B,q),W=j(U);y.set(W,h[q]=create_each_block_1$1(W,U))}return{c(){t=element("input"),r=space(),o=element("span"),o.textContent="\u2795",l=space();for(let q=0;q<h.length;q+=1)h[q].c();D=empty(),attr(t,"class","fieldQlil svelte-1pzri9r"),attr(t,"type","text"),attr(t,"placeholder","Choix..."),attr(t,"maxlength","30"),attr(o,"class","miniBtn svelte-1pzri9r")},m(q,U){insert(q,t,U),set_input_value(t,e[1]),insert(q,r,U),insert(q,o,U),insert(q,l,U);for(let W=0;W<h.length;W+=1)h[W].m(q,U);insert(q,D,U),O=!0,F||(R=[listen(t,"input",e[21]),listen(t,"keydown",e[22]),listen(o,"click",e[7])],F=!0)},p(q,U){if(U[0]&2&&t.value!==q[1]&&set_input_value(t,q[1]),U[0]&1){B=q[0].a.a,group_outros();for(let W=0;W<h.length;W+=1)h[W].r();h=update_keyed_each(h,U,j,1,q,B,y,D.parentNode,fix_and_outro_and_destroy_block,create_each_block_1$1,D,get_each_context_1$1);for(let W=0;W<h.length;W+=1)h[W].a();check_outros()}},i(q){if(!O){for(let U=0;U<B.length;U+=1)transition_in(h[U]);O=!0}},o(q){for(let U=0;U<h.length;U+=1)transition_out(h[U]);O=!1},d(q){q&&detach(t),q&&detach(r),q&&detach(o),q&&detach(l);for(let U=0;U<h.length;U+=1)h[U].d(q);q&&detach(D),F=!1,run_all(R)}}}function create_if_block_2$2(e){let t,r,o,l,h=[],y=new Map,D,O,F,R,B,j,q,U,W=e[0].a.a;const G=Y=>Y[33];for(let Y=0;Y<W.length;Y+=1){let X=get_each_context$1(e,W,Y),K=G(X);y.set(K,h[Y]=create_each_block$1(K,X))}return{c(){t=element("input"),r=space(),o=element("span"),o.textContent="\u2795",l=space();for(let Y=0;Y<h.length;Y+=1)h[Y].c();D=space(),O=element("div"),F=element("input"),R=space(),B=element("label"),B.textContent='Ajouter une case "autre"',attr(t,"class","fieldQlil svelte-1pzri9r"),attr(t,"type","text"),attr(t,"placeholder","Choix..."),attr(t,"maxlength","30"),attr(o,"class","miniBtn svelte-1pzri9r"),attr(F,"class","mr-2"),attr(F,"type","checkbox"),attr(F,"id","checkCaseAutre"),attr(B,"for","checkCaseAutre"),attr(O,"class","my-1 p-1")},m(Y,X){insert(Y,t,X),set_input_value(t,e[1]),insert(Y,r,X),insert(Y,o,X),insert(Y,l,X);for(let K=0;K<h.length;K+=1)h[K].m(Y,X);insert(Y,D,X),insert(Y,O,X),append(O,F),F.checked=e[0].a.o,append(O,R),append(O,B),j=!0,q||(U=[listen(t,"input",e[17]),listen(t,"keydown",e[18]),listen(o,"click",e[7]),listen(F,"change",e[20])],q=!0)},p(Y,X){if(X[0]&2&&t.value!==Y[1]&&set_input_value(t,Y[1]),X[0]&1){W=Y[0].a.a,group_outros();for(let K=0;K<h.length;K+=1)h[K].r();h=update_keyed_each(h,X,G,1,Y,W,y,D.parentNode,fix_and_outro_and_destroy_block,create_each_block$1,D,get_each_context$1);for(let K=0;K<h.length;K+=1)h[K].a();check_outros()}X[0]&1&&(F.checked=Y[0].a.o)},i(Y){if(!j){for(let X=0;X<W.length;X+=1)transition_in(h[X]);j=!0}},o(Y){for(let X=0;X<h.length;X+=1)transition_out(h[X]);j=!1},d(Y){Y&&detach(t),Y&&detach(r),Y&&detach(o),Y&&detach(l);for(let X=0;X<h.length;X+=1)h[X].d(Y);Y&&detach(D),Y&&detach(O),q=!1,run_all(U)}}}function create_each_block_1$1(e,t){let r,o=t[33]+"",l,h,y,D,O,F,R,B=noop$2,j,q,U;function W(){return t[23](t[33])}return{key:e,first:null,c(){r=element("div"),l=text(o),h=space(),y=element("span"),y.textContent="\u274C",D=space(),attr(y,"class","miniBtn svelte-1pzri9r"),attr(r,"class","textChoice svelte-1pzri9r"),this.first=r},m(G,Y){insert(G,r,Y),append(r,l),append(r,h),append(r,y),append(r,D),j=!0,q||(U=listen(y,"click",W),q=!0)},p(G,Y){t=G,(!j||Y[0]&1)&&o!==(o=t[33]+"")&&set_data(l,o)},r(){R=r.getBoundingClientRect()},f(){fix_position(r),B(),add_transform(r,R)},a(){B(),B=create_animation(r,R,flip,{duration:500})},i(G){j||(add_render_callback(()=>{F&&F.end(1),O=create_in_transition(r,fly,{x:20}),O.start()}),j=!0)},o(G){O&&O.invalidate(),F=create_out_transition(r,fly,{x:20}),j=!1},d(G){G&&detach(r),G&&F&&F.end(),q=!1,U()}}}function create_each_block$1(e,t){let r,o=t[33]+"",l,h,y,D,O,F,R=noop$2,B,j,q;function U(){return t[19](t[33])}return{key:e,first:null,c(){r=element("div"),l=text(o),h=space(),y=element("span"),y.textContent="\u274C",attr(y,"class","miniBtn svelte-1pzri9r"),attr(r,"class","textChoice svelte-1pzri9r"),this.first=r},m(W,G){insert(W,r,G),append(r,l),append(r,h),append(r,y),B=!0,j||(q=listen(y,"click",U),j=!0)},p(W,G){t=W,(!B||G[0]&1)&&o!==(o=t[33]+"")&&set_data(l,o)},r(){F=r.getBoundingClientRect()},f(){fix_position(r),R(),add_transform(r,F)},a(){R(),R=create_animation(r,F,flip,{duration:500})},i(W){B||(add_render_callback(()=>{O&&O.end(1),D=create_in_transition(r,fly,{x:20}),D.start()}),B=!0)},o(W){D&&D.invalidate(),O=create_out_transition(r,fly,{x:20}),B=!1},d(W){W&&detach(r),W&&O&&O.end(),j=!1,q()}}}function create_if_block$2(e){let t,r,o;return{c(){t=element("button"),t.textContent="Supprimer",attr(t,"class","svelte-1pzri9r")},m(l,h){insert(l,t,h),r||(o=listen(t,"click",e[8]),r=!0)},p:noop$2,d(l){l&&detach(t),r=!1,o()}}}function create_fragment$8(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X,K,Q,J,et,nt,Z,it,rt,tt,st,ht=e[0].a.type!=""&&!e[3]&&create_if_block_1$2(e),ct=!e[2]&&!e[3]&&create_if_block$2(e);return{c(){t=element("div"),r=element("div"),o=element("h2"),o.textContent=`${e[4]?"\u{1F4AB} Nouvelle question":"\u270F\uFE0F Modification"}`,l=space(),h=element("div"),y=element("textarea"),D=space(),O=element("h"),F=element("div"),R=element("select"),B=element("option"),B.textContent="Choisir un type de r\xE9ponse",j=element("option"),j.textContent="Choix Unique",q=element("option"),q.textContent="Choix Multiple",U=element("option"),U.textContent="Champs libre",W=element("option"),W.textContent="Num\xE9ro",G=element("option"),G.textContent="Date & heure",Y=element("option"),Y.textContent="Notation",X=space(),ht&&ht.c(),K=space(),Q=element("div"),J=element("button"),J.textContent="Fermer",et=space(),ct&&ct.c(),nt=space(),Z=element("button"),Z.textContent=`${e[4]?"Ajouter":"Modifier"}`,attr(o,"class","mb-4 svelte-1pzri9r"),attr(y,"id","outQuestion"),attr(y,"class","fieldQ svelte-1pzri9r"),attr(y,"placeholder","Comment est votre blanquette ?"),B.__value="",B.value=B.__value,B.selected=!0,B.disabled=!0,j.__value="1c",j.value=j.__value,q.__value="mc",q.value=q.__value,U.__value="cl",U.value=U.__value,W.__value="num",W.value=W.__value,G.__value="cal",G.value=G.__value,Y.__value="5s",Y.value=Y.__value,attr(R,"class","fieldQ svelte-1pzri9r"),attr(R,"name","qtype"),attr(R,"id","qtypefield"),R.disabled=e[3],e[0].a.type===void 0&&add_render_callback(()=>e[15].call(R)),attr(J,"class","svelte-1pzri9r"),set_style(Z,"background-color","#6219D8"),set_style(Z,"color","#fff"),attr(Z,"class","svelte-1pzri9r"),attr(Q,"class","actions svelte-1pzri9r"),attr(r,"class","contents svelte-1pzri9r"),attr(t,"role","dialog"),attr(t,"class","modal svelte-1pzri9r")},m(lt,ut){insert(lt,t,ut),append(t,r),append(r,o),append(r,l),append(r,h),append(h,y),set_input_value(y,e[0].q),append(r,D),append(r,O),append(O,F),append(F,R),append(R,B),append(R,j),append(R,q),append(R,U),append(R,W),append(R,G),append(R,Y),select_option(R,e[0].a.type),append(O,X),ht&&ht.m(O,null),append(O,K),append(O,Q),append(Q,J),append(Q,et),ct&&ct.m(Q,null),append(Q,nt),append(Q,Z),rt=!0,tt||(st=[listen(y,"input",e[14]),listen(R,"change",e[15]),listen(R,"change",e[16]),listen(J,"click",e[30]),listen(Z,"click",e[6]),listen(t,"introstart",e[12]),listen(t,"outroend",e[13])],tt=!0)},p(lt,ut){ut[0]&1&&set_input_value(y,lt[0].q),ut[0]&1&&select_option(R,lt[0].a.type),lt[0].a.type!=""&&!lt[3]?ht?(ht.p(lt,ut),ut[0]&1&&transition_in(ht,1)):(ht=create_if_block_1$2(lt),ht.c(),transition_in(ht,1),ht.m(O,K)):ht&&(group_outros(),transition_out(ht,1,1,()=>{ht=null}),check_outros()),!lt[2]&&!lt[3]&&ct.p(lt,ut)},i(lt){rt||(transition_in(ht),add_render_callback(()=>{it||(it=create_bidirectional_transition(t,fly,{y:50},!0)),it.run(1)}),rt=!0)},o(lt){transition_out(ht),it||(it=create_bidirectional_transition(t,fly,{y:50},!1)),it.run(0),rt=!1},d(lt){lt&&detach(t),ht&&ht.d(),ct&&ct.d(),lt&&it&&it.end(),tt=!1,run_all(st)}}}function instance$7(e,t,r){let{sondageEnCreation:o}=t,{id:l}=t,{majTree:h}=t,y=l=="start",D=l=="end",O=l=="new",F=o.jsonContent.indexOf(o.jsonContent.find(ft=>ft.idr==l)),R;const B=new ShortUniqueId({length:8});let{questionData:j={idr:O?"q-"+B().toString():l,q:"",a:{a:[],o:null,type:""}}}=t;function q(ft,mt){if(O){let bt={"1c":[],mc:[],cl:[50],num:[0,100," "],cal:[!0,!1],"5s":[]};j.a.a.splice(0,j.a.a.length),r(0,j.a.a=bt[mt],j)}}const U=()=>{if(j.q==""){alert("Veuillez saisir une question");return}else if(j.a.type==""){alert("Veuillez saisir un type de question");return}else if(j.a.type=="1c"||j.a.type=="mc"){if(j.a.a.length==0){alert("Veuillez saisir au moins un choix");return}}else if(j.a.type=="num"){if(j.a.a[0]>j.a.a[1]){alert("La valeur minimum doit \xEAtre inf\xE9rieure \xE0 la valeur maximum");return}}else if(j.a.type=="cal"&&j.a.a[0]==!1&&j.a.a[1]==!1){alert("Veuillez s\xE9l\xE9ctionner au moins une option");return}O?o.jsonContent.splice(o.jsonContent.length-1,0,j):o.jsonContent.splice(F,1,j),h(),closeModal()},W=()=>{j.a.a.includes(R)||(r(0,j.a.a=[...j.a.a,R],j),r(1,R=""))};function G(){o.jsonContent.splice(F,1),h(),closeModal()}function Y(ft){bubble.call(this,e,ft)}function X(ft){bubble.call(this,e,ft)}function K(){j.q=this.value,r(0,j)}function Q(){j.a.type=select_value(this),r(0,j)}const J=()=>j.a.a.splice(0,j.a.a.length);function et(){R=this.value,r(1,R)}const nt=ft=>{ft.key==="Enter"&&W()},Z=ft=>{r(0,j.a.a=j.a.a.filter(mt=>mt!=ft),j)};function it(){j.a.o=this.checked,r(0,j)}function rt(){R=this.value,r(1,R)}const tt=ft=>{ft.key==="Enter"&&W()},st=ft=>{r(0,j.a.a=j.a.a.filter(mt=>mt!=ft),j)};function ht(){j.a.a[0]=to_number(this.value),r(0,j)}function ct(){j.a.a[0]=to_number(this.value),r(0,j)}function lt(){j.a.a[1]=to_number(this.value),r(0,j)}function ut(){j.a.a[2]=this.value,r(0,j)}function ot(){j.a.a[0]=this.checked,r(0,j)}function at(){j.a.a[1]=this.checked,r(0,j)}const dt=()=>{closeModal()};return e.$$set=ft=>{"sondageEnCreation"in ft&&r(9,o=ft.sondageEnCreation),"id"in ft&&r(10,l=ft.id),"majTree"in ft&&r(11,h=ft.majTree),"questionData"in ft&&r(0,j=ft.questionData)},[j,R,y,D,O,q,U,W,G,o,l,h,Y,X,K,Q,J,et,nt,Z,it,rt,tt,st,ht,ct,lt,ut,ot,at,dt]}class ModalCellEdit extends SvelteComponent{constructor(t){super(),init(this,t,instance$7,create_fragment$8,safe_not_equal,{sondageEnCreation:9,id:10,majTree:11,questionData:0},null,[-1,-1])}}var editor_svelte_svelte_type_style_lang="";const{document:document_1}=globals;function create_if_block_2$1(e){let t,r,o,l;return{c(){t=element("div"),r=text("Enregistr\xE9 \xE0 "),o=text(e[6]),set_style(t,"position","absolute"),set_style(t,"top","10px"),set_style(t,"right","20px"),set_style(t,"opacity",".5")},m(h,y){insert(h,t,y),append(t,r),append(t,o)},p(h,y){y&64&&set_data(o,h[6])},i(h){l||add_render_callback(()=>{l=create_in_transition(t,fly,{x:50}),l.start()})},o:noop$2,d(h){h&&detach(t)}}}function create_else_block$1(e){let t;return{c(){t=element("i"),attr(t,"class","bx bx-collapse")},m(r,o){insert(r,t,o)},d(r){r&&detach(t)}}}function create_if_block_1$1(e){let t;return{c(){t=element("i"),attr(t,"class","bx bx-expand")},m(r,o){insert(r,t,o)},d(r){r&&detach(t)}}}function create_catch_block$2(e){return{c:noop$2,m:noop$2,p:noop$2,i:noop$2,o:noop$2,d:noop$2}}function create_then_block$2(e){let t,r,o,l,h;return r=new Chat({props:{chatContent:e[1]}}),{c(){t=element("div"),create_component(r.$$.fragment),attr(t,"class","w-100 h-100 d-flex align-items-center justify-content-center svelte-6xrw76"),set_style(t,"background-color","#faf7ff"),set_style(t,"border-radius","15px")},m(y,D){insert(y,t,D),mount_component(r,t,null),h=!0},p(y,D){const O={};D&2&&(O.chatContent=y[1]),r.$set(O)},i(y){h||(transition_in(r.$$.fragment,y),add_render_callback(()=>{l&&l.end(1),o=create_in_transition(t,blur,{duration:1e3}),o.start()}),h=!0)},o(y){transition_out(r.$$.fragment,y),o&&o.invalidate(),l=create_out_transition(t,blur,{duration:1e3}),h=!1},d(y){y&&detach(t),destroy_component(r),y&&l&&l.end()}}}function create_pending_block$2(e){let t;return{c(){t=element("div"),attr(t,"class","svelte-6xrw76")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_if_block$1(e){let t,r,o,l,h,y,D,O;const F=[e[7].props||{}];function R(q){e[20](q)}var B=e[7].component;function j(q){let U={};for(let W=0;W<F.length;W+=1)U=assign$1(U,F[W]);return q[1]!==void 0&&(U.sondageEnCreation=q[1]),{props:U}}return B&&(t=new B(j(e)),binding_callbacks.push(()=>bind(t,"sondageEnCreation",R))),{c(){t&&create_component(t.$$.fragment),o=space(),l=element("div"),attr(l,"class","backdrop svelte-6xrw76")},m(q,U){t&&mount_component(t,q,U),insert(q,o,U),insert(q,l,U),y=!0,D||(O=listen(l,"click",e[21]),D=!0)},p(q,U){const W=U&128?get_spread_update(F,[get_spread_object(q[7].props||{})]):{};if(!r&&U&2&&(r=!0,W.sondageEnCreation=q[1],add_flush_callback(()=>r=!1)),B!==(B=q[7].component)){if(t){group_outros();const G=t;transition_out(G.$$.fragment,1,0,()=>{destroy_component(G,1)}),check_outros()}B?(t=new B(j(q)),binding_callbacks.push(()=>bind(t,"sondageEnCreation",R)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,o.parentNode,o)):t=null}else B&&t.$set(W)},i(q){y||(t&&transition_in(t.$$.fragment,q),add_render_callback(()=>{h||(h=create_bidirectional_transition(l,fade,{},!0)),h.run(1)}),y=!0)},o(q){t&&transition_out(t.$$.fragment,q),h||(h=create_bidirectional_transition(l,fade,{},!1)),h.run(0),y=!1},d(q){t&&destroy_component(t,q),q&&detach(o),q&&detach(l),q&&h&&h.end(),D=!1,O()}}}function create_default_slot$1(e){let t,r,o=e[7]&&create_if_block$1(e);return{c(){o&&o.c(),t=empty()},m(l,h){o&&o.m(l,h),insert(l,t,h),r=!0},p(l,h){l[7]?o?(o.p(l,h),h&128&&transition_in(o,1)):(o=create_if_block$1(l),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros())},i(l){r||(transition_in(o),r=!0)},o(l){transition_out(o),r=!1},d(l){o&&o.d(l),l&&detach(t)}}}function create_fragment$7(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X,K,Q,J,et,nt,Z,it,rt,tt,st,ht,ct,lt,ut,ot,at,dt,ft,mt,bt,xt,yt,vt,St,wt,gt=e[6]!=""&&create_if_block_2$1(e);function Ct(pt,_t){return pt[3]?create_else_block$1:create_if_block_1$1}let Tt=Ct(e),Et=Tt(e),Pt={ctx:e,current:null,token:null,hasCatch:!1,pending:create_pending_block$2,then:create_then_block$2,catch:create_catch_block$2,blocks:[,,,]};return handle_promise(at=e[8](e[2]),Pt),yt=new Modals({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}}}),{c(){t=element("link"),r=space(),o=element("div"),gt&&gt.c(),l=space(),h=element("div"),y=element("input"),D=space(),O=element("div"),F=element("div"),R=element("div"),B=text("\u23F2\uFE0F Dur\xE9e estim\xE9e : "),j=text(e[4]),q=space(),U=element("div"),Et.c(),W=space(),G=element("figure"),Y=element("ul"),K=space(),Q=element("hr"),J=space(),et=element("div"),nt=element("div"),Z=element("div"),it=element("div"),it.textContent="\u{1F4DA} Charger un mod\xE8le...",rt=space(),tt=element("div"),st=element("div"),st.innerHTML=`<h3 class="m-0" style="line-height: 0.6;">Lancer<br/> 
            <span style="font-size: 0.9rem;">le sondage !</span></h3>`,ct=space(),lt=element("div"),ut=element("div"),ot=element("div"),Pt.block.c(),ft=space(),mt=element("div"),bt=element("button"),bt.textContent="\u267B\uFE0F R\xE9initialiser",xt=space(),create_component(yt.$$.fragment),attr(t,"rel","stylesheet"),attr(t,"href","assets/tree.css"),attr(y,"class","mx-auto svelte-6xrw76"),attr(y,"type","text"),attr(y,"id","titreSond"),attr(y,"placeholder","Nom du projet"),attr(y,"maxlength","100"),attr(h,"class","col-12 w-100 text-center py-3"),attr(R,"class","dureeEstim svelte-6xrw76"),attr(U,"class","expandBtn hvr-bounce-in svelte-6xrw76"),attr(Y,"class","tree mx-auto p-3"),attr(F,"class","cellZone w-100 pt-3 svelte-6xrw76"),attr(F,"style",X=e[3]?"max-height:80vh; min-height:60vh;":""),attr(Q,"class","w-75 mt-4"),attr(it,"class","templateBtn svelte-6xrw76"),attr(Z,"class","h-100 px-4 d-flex text-justify justify-content-center flex-column"),set_style(Z,"background-color","#dbd6e37d"),set_style(Z,"border-radius","10px"),set_style(Z,"color","#3c3c3c"),set_style(Z,"font-family","Lexend Deca"),attr(nt,"class","col-12 col-md-8 py-2 pr-1 pl-0 hvr-float"),set_style(nt,"height","100px"),attr(st,"class","h-100 d-flex align-items-center justify-content-center"),set_style(st,"background-color","#6219d8"),set_style(st,"border-radius","10px"),set_style(st,"color","white"),set_style(st,"cursor","pointer"),attr(tt,"class","col-12 col-md-4 py-2 pl-1 pr-0 hvr-float"),set_style(tt,"height","100px"),attr(et,"class","row"),attr(O,"class",ht=e[3]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"),attr(ot,"class","gridForAnimation svelte-6xrw76"),attr(ut,"class","iphone-x mx-auto my-4 svelte-6xrw76"),attr(bt,"class","screenBtn px-4 py-2 svelte-6xrw76"),attr(mt,"class","mt-4 text-center"),attr(lt,"id","creaUserView"),attr(lt,"class","col-12 col-lg-4 p-3 text-center"),attr(o,"id","studio"),attr(o,"class","row p-1 svelte-6xrw76")},m(pt,_t){append(document_1.head,t),insert(pt,r,_t),insert(pt,o,_t),gt&&gt.m(o,null),append(o,l),append(o,h),append(h,y),set_input_value(y,e[1].nom_proj),append(o,D),append(o,O),append(O,F),append(F,R),append(R,B),append(R,j),append(F,q),append(F,U),Et.m(U,null),append(F,W),append(F,G),append(G,Y),e[16](Y),append(O,K),append(O,Q),append(O,J),append(O,et),append(et,nt),append(nt,Z),append(Z,it),append(et,rt),append(et,tt),append(tt,st),append(o,ct),append(o,lt),append(lt,ut),append(ut,ot),Pt.block.m(ot,Pt.anchor=null),Pt.mount=()=>ot,Pt.anchor=null,append(lt,ft),append(lt,mt),append(mt,bt),insert(pt,xt,_t),mount_component(yt,pt,_t),vt=!0,St||(wt=[listen(y,"input",e[15]),listen(y,"change",e[11]),listen(U,"click",e[9]),listen(it,"click",e[17]),listen(st,"click",e[18]),listen(bt,"click",e[19])],St=!0)},p(pt,[_t]){e=pt,e[6]!=""?gt?(gt.p(e,_t),_t&64&&transition_in(gt,1)):(gt=create_if_block_2$1(e),gt.c(),transition_in(gt,1),gt.m(o,l)):gt&&(gt.d(1),gt=null),_t&2&&y.value!==e[1].nom_proj&&set_input_value(y,e[1].nom_proj),(!vt||_t&16)&&set_data(j,e[4]),Tt!==(Tt=Ct(e))&&(Et.d(1),Et=Tt(e),Et&&(Et.c(),Et.m(U,null))),(!vt||_t&8&&X!==(X=e[3]?"max-height:80vh; min-height:60vh;":""))&&attr(F,"style",X),(!vt||_t&8&&ht!==(ht=e[3]?"col-12 p-3 text-center d-flex flex-column justify-content-center":"col-12 col-lg-8 p-3 text-center d-flex flex-column justify-content-center"))&&attr(O,"class",ht),Pt.ctx=e,_t&4&&at!==(at=e[8](e[2]))&&handle_promise(at,Pt)||update_await_block_branch(Pt,e,_t);const kt={};_t&536871042&&(kt.$$scope={dirty:_t,ctx:e}),yt.$set(kt)},i(pt){vt||(transition_in(gt),transition_in(Pt.block),dt||add_render_callback(()=>{dt=create_in_transition(ut,fly,{y:50,duration:600,delay:100}),dt.start()}),transition_in(yt.$$.fragment,pt),vt=!0)},o(pt){for(let _t=0;_t<3;_t+=1){const kt=Pt.blocks[_t];transition_out(kt)}transition_out(yt.$$.fragment,pt),vt=!1},d(pt){detach(t),pt&&detach(r),pt&&detach(o),gt&&gt.d(),Et.d(),e[16](null),Pt.block.d(),Pt.token=null,Pt=null,pt&&detach(xt),destroy_component(yt,pt),St=!1,run_all(wt)}}}function instance$6(e,t,r){let o,l;component_subscribe(e,modals,lt=>r(14,l=lt));let{activePage:h}=t,{loadSondage:y}=t;const D=async lt=>{};let O=0,F=!1;function R(){F?r(3,F=!1):r(3,F=!0)}let B=["#6219D8","#7579F3","#8494FB","#734AE4","#B48CEC"],{idSondage:j=null}=t,{sondageEnCreation:q={v:1,nom_proj:"Brouillon",color:B[Math.floor(Math.random()*B.length)],jsonContent:[{idr:"start",q:"Bienvenue dans ce sondage ! \u{1F917} ",a:{type:"1c",a:["D\xE9marrer \u{1F680}"]}},{idr:"end",q:"Merci pour votre participation ! \u{1F389}",a:{type:"fin"}}]}}=t,U=JSON.stringify(q),W;function G(){let lt=q.jsonContent.length*8-10;lt>60?r(4,W=Math.floor(lt/60).toString()+" min, "+(lt%60).toString()+" sec"):r(4,W=lt.toString()+" secondes")}let Y;const X=()=>{for(console.log(q.jsonContent);Y.firstChild;)Y.removeChild(Y.firstChild);for(let lt=0;lt<q.jsonContent.length;lt++){const ut=document.createElement("li");let ot=document.createElement("code");ot.innerText=q.jsonContent[lt].q,ot.onclick=()=>nt(q.jsonContent[lt].idr),ut.appendChild(ot);let at=Y.querySelectorAll("ul");if(lt===0){ut.querySelector("code").classList.add("firstQ");let dt=document.createElement("ul");ut.appendChild(dt),Y.insertAdjacentElement("beforeend",ut)}else if(lt===q.jsonContent.length-1){ut.querySelector("code").classList.add("lastQ");let dt=document.createElement("code");dt.classList.add("outlineQ"),dt.innerText="\u2795 Nouvelle question",dt.onclick=()=>nt("new");let ft=document.createElement("li");ft.appendChild(dt);let mt=document.createElement("ul");mt.appendChild(ut),ft.appendChild(mt),at[at.length-1].appendChild(ft)}else{let dt=document.createElement("ul");ut.appendChild(dt),at[at.length-1].appendChild(ut)}}G(),r(2,O++,O),Q()};let K="";function Q(){U!=JSON.stringify(q)&&(j!=null?updateSave(q,j).then(lt=>{r(6,K=new Date().toLocaleString().split(", ")[1])}).catch(lt=>{alert(lt)}):firstSave(q).then(lt=>{r(0,j=lt),r(6,K=new Date().toLocaleString().split(", ")[1])}).catch(lt=>{alert(lt)}))}var J=null;const et=()=>{clearInterval(J),J=setInterval(function(){Q(),clearInterval(J)},1e3)};onMount(()=>{X()});const nt=lt=>{let ut={id:lt,sondageEnCreation:q,majTree:X};lt!="new"&&(ut.questionData=structuredClone(q.jsonContent.find(ot=>ot.idr==lt))),openModal(ModalCellEdit,ut)};function Z(){q.nom_proj=this.value,r(1,q)}function it(lt){binding_callbacks[lt?"unshift":"push"](()=>{Y=lt,r(5,Y)})}const rt=()=>openModal(ModalTemplateLoad,{sondageEnCreation:q,updateFun:X}),tt=()=>{j!=null?validateSondage(q,j):alert("Veuillez enregistrer votre sondage avant de le valider.")},st=()=>r(2,O++,O);function ht(lt){q=lt,r(1,q)}const ct=()=>{closeModal()};return e.$$set=lt=>{"activePage"in lt&&r(12,h=lt.activePage),"loadSondage"in lt&&r(13,y=lt.loadSondage),"idSondage"in lt&&r(0,j=lt.idSondage),"sondageEnCreation"in lt&&r(1,q=lt.sondageEnCreation)},e.$$.update=()=>{e.$$.dirty&16384&&r(7,o=l[l.length-1])},[j,q,O,F,W,Y,K,o,D,R,X,et,h,y,l,Z,it,rt,tt,st,ht,ct]}class Editor extends SvelteComponent{constructor(t){super(),init(this,t,instance$6,create_fragment$7,safe_not_equal,{activePage:12,loadSondage:13,idSondage:0,sondageEnCreation:1})}}var templateCard_svelte_svelte_type_style_lang="";function create_fragment$6(e){let t,r,o,l;return{c(){t=element("div"),r=text(e[0]),attr(t,"class","neuProjet d-flex align-items-center justify-content-center text-center svelte-11g250r")},m(h,y){insert(h,t,y),append(t,r),o||(l=listen(t,"click",e[1]),o=!0)},p(h,[y]){y&1&&set_data(r,h[0])},i:noop$2,o:noop$2,d(h){h&&detach(t),o=!1,l()}}}function instance$5(e,t,r){let{activePage:o}=t,{loadSondage:l}=t,{nom_proj:h}=t,{id:y}=t,{category:D}=t;async function O(){var R=new Headers;return R.append("Authorization","Token "+xxgc("rtnt")),R.append("Content-Type","application/json"),fetch(`https://retinereq.jetevois.fr:8000/templates/${y}/`,{method:"GET",headers:R,redirect:"follow"}).then(B=>B.text()).then(B=>JSON.parse(B)).catch(B=>B)}const F=async()=>{let R=await O();R.jsonContent=JSON.parse(R.jsonContent),l(R,null)};return e.$$set=R=>{"activePage"in R&&r(2,o=R.activePage),"loadSondage"in R&&r(3,l=R.loadSondage),"nom_proj"in R&&r(0,h=R.nom_proj),"id"in R&&r(4,y=R.id),"category"in R&&r(5,D=R.category)},[h,F,o,l,y,D]}class TemplateCard extends SvelteComponent{constructor(t){super(),init(this,t,instance$5,create_fragment$6,safe_not_equal,{activePage:2,loadSondage:3,nom_proj:0,id:4,category:5})}}function get_each_context(e,t,r){const o=e.slice();return o[6]=t[r],o[8]=r,o}function get_each_context_1(e,t,r){const o=e.slice();return o[9]=t[r],o[11]=r,o}function create_catch_block$1(e){let t,r=e[12]+"",o;return{c(){t=element("div"),o=text(r)},m(l,h){insert(l,t,h),append(t,o)},p:noop$2,i:noop$2,o:noop$2,d(l){l&&detach(t)}}}function create_then_block$1(e){let t,r,o=[...new Set(e[5].map(func))],l=[];for(let y=0;y<o.length;y+=1)l[y]=create_each_block(get_each_context(e,o,y));const h=y=>transition_out(l[y],1,1,()=>{l[y]=null});return{c(){for(let y=0;y<l.length;y+=1)l[y].c();t=empty()},m(y,D){for(let O=0;O<l.length;O+=1)l[O].m(y,D);insert(y,t,D),r=!0},p(y,D){if(D&7){o=[...new Set(y[5].map(func))];let O;for(O=0;O<o.length;O+=1){const F=get_each_context(y,o,O);l[O]?(l[O].p(F,D),transition_in(l[O],1)):(l[O]=create_each_block(F),l[O].c(),transition_in(l[O],1),l[O].m(t.parentNode,t))}for(group_outros(),O=o.length;O<l.length;O+=1)h(O);check_outros()}},i(y){if(!r){for(let D=0;D<o.length;D+=1)transition_in(l[D]);r=!0}},o(y){l=l.filter(Boolean);for(let D=0;D<l.length;D+=1)transition_out(l[D]);r=!1},d(y){destroy_each(l,y),y&&detach(t)}}}function create_each_block_1(e){let t,r,o,l,h;const y=[e[9],{loadSondage:e[1]},{activePage:e[0]}];let D={};for(let O=0;O<y.length;O+=1)D=assign$1(D,y[O]);return r=new TemplateCard({props:D}),{c(){t=element("div"),create_component(r.$$.fragment),o=space(),attr(t,"class","col-12 col-sm-6 col-lg-4 mb-5")},m(O,F){insert(O,t,F),mount_component(r,t,null),append(t,o),h=!0},p(O,F){const R=F&7?get_spread_update(y,[F&4&&get_spread_object(O[9]),F&2&&{loadSondage:O[1]},F&1&&{activePage:O[0]}]):{};r.$set(R)},i(O){h||(transition_in(r.$$.fragment,O),l||add_render_callback(()=>{l=create_in_transition(t,fly,{x:-20,delay:e[11]*200*e[8]}),l.start()}),h=!0)},o(O){transition_out(r.$$.fragment,O),h=!1},d(O){O&&detach(t),destroy_component(r)}}}function create_each_block(e){let t,r,o=e[6]+"",l,h,y,D;function O(...j){return e[3](e[6],...j)}let F=e[5].filter(O),R=[];for(let j=0;j<F.length;j+=1)R[j]=create_each_block_1(get_each_context_1(e,F,j));const B=j=>transition_out(R[j],1,1,()=>{R[j]=null});return{c(){t=element("div"),r=element("h2"),l=text(o),h=space();for(let j=0;j<R.length;j+=1)R[j].c();y=empty(),attr(t,"class","col-12 mb-4 border-bottom")},m(j,q){insert(j,t,q),append(t,r),append(r,l),insert(j,h,q);for(let U=0;U<R.length;U+=1)R[U].m(j,q);insert(j,y,q),D=!0},p(j,q){if(e=j,q&7){F=e[5].filter(O);let U;for(U=0;U<F.length;U+=1){const W=get_each_context_1(e,F,U);R[U]?(R[U].p(W,q),transition_in(R[U],1)):(R[U]=create_each_block_1(W),R[U].c(),transition_in(R[U],1),R[U].m(y.parentNode,y))}for(group_outros(),U=F.length;U<R.length;U+=1)B(U);check_outros()}},i(j){if(!D){for(let q=0;q<F.length;q+=1)transition_in(R[q]);D=!0}},o(j){R=R.filter(Boolean);for(let q=0;q<R.length;q+=1)transition_out(R[q]);D=!1},d(j){j&&detach(t),j&&detach(h),destroy_each(R,j),j&&detach(y)}}}function create_pending_block$1(e){let t;return{c(){t=element("div")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_fragment$5(e){let t,r,o,l,h,y,D={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$1,then:create_then_block$1,catch:create_catch_block$1,value:5,error:12,blocks:[,,,]};return handle_promise(e[2],D),{c(){t=element("h1"),t.textContent="Mod\xE8les de sondages",r=space(),o=element("div"),l=space(),h=element("div"),D.block.c(),attr(t,"class","py-2 mb-3 text-center"),attr(o,"class","d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3"),attr(h,"id","lesTemplates"),attr(h,"class","row p-3 w-100"),set_style(h,"max-width","1100px")},m(O,F){insert(O,t,F),insert(O,r,F),insert(O,o,F),insert(O,l,F),insert(O,h,F),D.block.m(h,D.anchor=null),D.mount=()=>h,D.anchor=null,y=!0},p(O,[F]){e=O,update_await_block_branch(D,e,F)},i(O){y||(transition_in(D.block),y=!0)},o(O){for(let F=0;F<3;F+=1){const R=D.blocks[F];transition_out(R)}y=!1},d(O){O&&detach(t),O&&detach(r),O&&detach(o),O&&detach(l),O&&detach(h),D.block.d(),D.token=null,D=null}}}const func=e=>e.category;function instance$4(e,t,r){let{activePage:o}=t,{loadSondage:l}=t;async function h(){var O=new Headers;O.append("Authorization","Token "+xxgc("rtnt")),O.append("Content-Type","application/json");var F={method:"GET",headers:O,redirect:"follow"};return fetch("https://retinereq.jetevois.fr:8000/templates/",F).then(R=>R.text()).then(R=>JSON.parse(R)).catch(R=>R)}let y=h();const D=(O,F)=>F.category==O;return e.$$set=O=>{"activePage"in O&&r(0,o=O.activePage),"loadSondage"in O&&r(1,l=O.loadSondage)},[o,l,y,D]}class Templates extends SvelteComponent{constructor(t){super(),init(this,t,instance$4,create_fragment$5,safe_not_equal,{activePage:0,loadSondage:1})}}function create_fragment$4(e){let t,r,o;return{c(){t=element("h1"),t.textContent="Contacts",r=space(),o=element("div"),o.innerHTML="<div>Fonctionnalit\xE9 en cours de construction.</div>",attr(t,"class","py-2 mb-3 text-center"),attr(o,"class","row p-3 w-100"),set_style(o,"max-width","1100px"),set_style(o,"height","300px")},m(l,h){insert(l,t,h),insert(l,r,h),insert(l,o,h)},p:noop$2,i:noop$2,o:noop$2,d(l){l&&detach(t),l&&detach(r),l&&detach(o)}}}function instance$3(e,t,r){let{activePage:o}=t;return e.$$set=l=>{"activePage"in l&&r(0,o=l.activePage)},[o]}class Contacts extends SvelteComponent{constructor(t){super(),init(this,t,instance$3,create_fragment$4,safe_not_equal,{activePage:0})}}function create_fragment$3(e){let t,r,o;return{c(){t=element("h1"),t.textContent="Account",r=space(),o=element("div"),attr(t,"class","py-2 mb-3 text-center"),attr(o,"id","mesSondages"),attr(o,"class","row p-3 w-100"),set_style(o,"max-width","1100px")},m(l,h){insert(l,t,h),insert(l,r,h),insert(l,o,h)},p:noop$2,i:noop$2,o:noop$2,d(l){l&&detach(t),l&&detach(r),l&&detach(o)}}}function instance$2(e,t,r){let{activePage:o}=t;return e.$$set=l=>{"activePage"in l&&r(0,o=l.activePage)},[o]}class Account extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$3,safe_not_equal,{activePage:0})}}var _dash_svelte_svelte_type_style_lang="";function create_if_block_6(e){let t,r,o;function l(y){e[16](y)}let h={};return e[0]!==void 0&&(h.activePage=e[0]),t=new Account({props:h}),binding_callbacks.push(()=>bind(t,"activePage",l)),{c(){create_component(t.$$.fragment)},m(y,D){mount_component(t,y,D),o=!0},p(y,D){const O={};!r&&D&1&&(r=!0,O.activePage=y[0],add_flush_callback(()=>r=!1)),t.$set(O)},i(y){o||(transition_in(t.$$.fragment,y),o=!0)},o(y){transition_out(t.$$.fragment,y),o=!1},d(y){destroy_component(t,y)}}}function create_if_block_5(e){let t,r,o;function l(y){e[15](y)}let h={};return e[0]!==void 0&&(h.activePage=e[0]),t=new Contacts({props:h}),binding_callbacks.push(()=>bind(t,"activePage",l)),{c(){create_component(t.$$.fragment)},m(y,D){mount_component(t,y,D),o=!0},p(y,D){const O={};!r&&D&1&&(r=!0,O.activePage=y[0],add_flush_callback(()=>r=!1)),t.$set(O)},i(y){o||(transition_in(t.$$.fragment,y),o=!0)},o(y){transition_out(t.$$.fragment,y),o=!1},d(y){destroy_component(t,y)}}}function create_if_block_4(e){let t,r,o;function l(y){e[14](y)}let h={loadSondage:e[3]};return e[0]!==void 0&&(h.activePage=e[0]),t=new Templates({props:h}),binding_callbacks.push(()=>bind(t,"activePage",l)),{c(){create_component(t.$$.fragment)},m(y,D){mount_component(t,y,D),o=!0},p(y,D){const O={};!r&&D&1&&(r=!0,O.activePage=y[0],add_flush_callback(()=>r=!1)),t.$set(O)},i(y){o||(transition_in(t.$$.fragment,y),o=!0)},o(y){transition_out(t.$$.fragment,y),o=!1},d(y){destroy_component(t,y)}}}function create_if_block_3(e){let t,r,o;function l(y){e[13](y)}let h={projData:e[2]};return e[0]!==void 0&&(h.activePage=e[0]),t=new ProjectView({props:h}),binding_callbacks.push(()=>bind(t,"activePage",l)),{c(){create_component(t.$$.fragment)},m(y,D){mount_component(t,y,D),o=!0},p(y,D){const O={};D&4&&(O.projData=y[2]),!r&&D&1&&(r=!0,O.activePage=y[0],add_flush_callback(()=>r=!1)),t.$set(O)},i(y){o||(transition_in(t.$$.fragment,y),o=!0)},o(y){transition_out(t.$$.fragment,y),o=!1},d(y){destroy_component(t,y)}}}function create_if_block_2(e){let t,r,o;function l(y){e[12](y)}let h={loadSondage:e[3],loadSView:e[4]};return e[0]!==void 0&&(h.activePage=e[0]),t=new ProjectsList({props:h}),binding_callbacks.push(()=>bind(t,"activePage",l)),{c(){create_component(t.$$.fragment)},m(y,D){mount_component(t,y,D),o=!0},p(y,D){const O={};!r&&D&1&&(r=!0,O.activePage=y[0],add_flush_callback(()=>r=!1)),t.$set(O)},i(y){o||(transition_in(t.$$.fragment,y),o=!0)},o(y){transition_out(t.$$.fragment,y),o=!1},d(y){destroy_component(t,y)}}}function create_if_block(e){let t,r,o,l;const h=[create_if_block_1,create_else_block],y=[];function D(O,F){return O[1].proj.jsonContent.length!=0?0:1}return t=D(e),r=y[t]=h[t](e),{c(){r.c(),o=empty()},m(O,F){y[t].m(O,F),insert(O,o,F),l=!0},p(O,F){let R=t;t=D(O),t===R?y[t].p(O,F):(group_outros(),transition_out(y[R],1,1,()=>{y[R]=null}),check_outros(),r=y[t],r?r.p(O,F):(r=y[t]=h[t](O),r.c()),transition_in(r,1),r.m(o.parentNode,o))},i(O){l||(transition_in(r),l=!0)},o(O){transition_out(r),l=!1},d(O){y[t].d(O),O&&detach(o)}}}function create_else_block(e){let t,r,o;function l(y){e[11](y)}let h={loadSondage:e[3]};return e[0]!==void 0&&(h.activePage=e[0]),t=new Editor({props:h}),binding_callbacks.push(()=>bind(t,"activePage",l)),{c(){create_component(t.$$.fragment)},m(y,D){mount_component(t,y,D),o=!0},p(y,D){const O={};!r&&D&1&&(r=!0,O.activePage=y[0],add_flush_callback(()=>r=!1)),t.$set(O)},i(y){o||(transition_in(t.$$.fragment,y),o=!0)},o(y){transition_out(t.$$.fragment,y),o=!1},d(y){destroy_component(t,y)}}}function create_if_block_1(e){let t,r,o;function l(y){e[10](y)}let h={sondageEnCreation:e[1].proj,idSondage:e[1].id,loadSondage:e[3]};return e[0]!==void 0&&(h.activePage=e[0]),t=new Editor({props:h}),binding_callbacks.push(()=>bind(t,"activePage",l)),{c(){create_component(t.$$.fragment)},m(y,D){mount_component(t,y,D),o=!0},p(y,D){const O={};D&2&&(O.sondageEnCreation=y[1].proj),D&2&&(O.idSondage=y[1].id),!r&&D&1&&(r=!0,O.activePage=y[0],add_flush_callback(()=>r=!1)),t.$set(O)},i(y){o||(transition_in(t.$$.fragment,y),o=!0)},o(y){transition_out(t.$$.fragment,y),o=!1},d(y){destroy_component(t,y)}}}function create_key_block(e){let t,r,o,l,h,y;const D=[create_if_block,create_if_block_2,create_if_block_3,create_if_block_4,create_if_block_5,create_if_block_6],O=[];function F(R,B){return R[0]==="editor"?0:R[0]==="projects"?1:R[0]==="projectView"?2:R[0]==="templates"?3:R[0]==="contacts"?4:R[0]==="account"?5:-1}return~(r=F(e))&&(o=O[r]=D[r](e)),{c(){t=element("div"),o&&o.c(),attr(t,"class","svelte-15d99qr")},m(R,B){insert(R,t,B),~r&&O[r].m(t,null),y=!0},p(R,B){let j=r;r=F(R),r===j?~r&&O[r].p(R,B):(o&&(group_outros(),transition_out(O[j],1,1,()=>{O[j]=null}),check_outros()),~r?(o=O[r],o?o.p(R,B):(o=O[r]=D[r](R),o.c()),transition_in(o,1),o.m(t,null)):o=null)},i(R){y||(transition_in(o),add_render_callback(()=>{h&&h.end(1),l=create_in_transition(t,fly,{x:-100}),l.start()}),y=!0)},o(R){transition_out(o),l&&l.invalidate(),h=create_out_transition(t,fly,{x:-50}),y=!1},d(R){R&&detach(t),~r&&O[r].d(),R&&h&&h.end()}}}function create_fragment$2(e){let t,r,o,l,h,y,D,O,F,R,B,j,q,U,W,G,Y,X,K,Q,J,et,nt,Z,it,rt,tt,st,ht,ct,lt,ut,ot,at,dt,ft,mt,bt,xt,yt,vt,St,wt,gt,Ct,Tt=e[0],Et,Pt,pt,_t=create_key_block(e);return{c(){t=element("link"),r=space(),o=element("div"),l=element("div"),h=element("nav"),y=element("div"),D=element("a"),D.innerHTML='<div class="p-2 mb-3 svelte-15d99qr" style="font-family: Lexend Deca; color: white; font-size: 1.2rem; font-weight: 600;"><img src="assets/faviconBlanc.ico" style="height:24px;" alt="Logo de r\xE9tine" class="svelte-15d99qr"/></div>',O=space(),F=element("div"),R=element("a"),B=element("i"),j=space(),q=element("span"),q.textContent="Cr\xE9er",W=space(),G=element("a"),Y=element("i"),X=space(),K=element("span"),K.textContent="Dashboard",J=space(),et=element("a"),nt=element("i"),Z=space(),it=element("span"),it.textContent="Templates",tt=space(),st=element("a"),ht=element("i"),ct=space(),lt=element("span"),lt.textContent="Contacts",ot=space(),at=element("div"),dt=element("a"),ft=element("i"),mt=space(),bt=element("span"),bt.textContent="Mon compte",yt=space(),vt=element("a"),vt.innerHTML='<i class="bx bx-log-out nav_icon svelte-15d99qr"></i>  <span class="nav_name svelte-15d99qr">D\xE9connexion</span>',St=space(),wt=element("div"),gt=element("main"),Ct=element("div"),_t.c(),attr(t,"rel","stylesheet"),attr(t,"href","https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"),attr(t,"class","svelte-15d99qr"),attr(D,"class","navbar-brand col-sm-3 col-md-2 mr-0 svelte-15d99qr"),attr(D,"href","#"),attr(B,"class","bx bx-paint nav_icon svelte-15d99qr"),attr(q,"class","nav_name svelte-15d99qr"),attr(R,"href","#"),attr(R,"id","creatorTabBtn"),attr(R,"class",U=null_to_empty(e[0]=="editor"?"nav_link active":"nav_link")+" svelte-15d99qr"),attr(Y,"class","bx bx-grid-alt nav_icon svelte-15d99qr"),attr(K,"class","nav_name svelte-15d99qr"),attr(G,"href","#"),attr(G,"class",Q=null_to_empty(e[0]=="projects"?"nav_link active":"nav_link")+" svelte-15d99qr"),attr(nt,"class","bx bx-library nav_icon svelte-15d99qr"),attr(it,"class","nav_name svelte-15d99qr"),attr(et,"href","#"),attr(et,"class",rt=null_to_empty(e[0]=="templates"?"nav_link active":"nav_link")+" svelte-15d99qr"),attr(ht,"class","bx bxs-contact nav_icon svelte-15d99qr"),attr(lt,"class","nav_name svelte-15d99qr"),attr(st,"href","#"),attr(st,"class",ut=null_to_empty(e[0]=="contacts"?"nav_link active":"nav_link")+" svelte-15d99qr"),attr(F,"class","nav_list svelte-15d99qr"),attr(y,"class","svelte-15d99qr"),attr(ft,"class","bx bxs-user-account nav_icon svelte-15d99qr"),attr(bt,"class","nav_name svelte-15d99qr"),attr(dt,"href","#"),attr(dt,"class",xt=null_to_empty(e[0]=="account"?"nav_link active":"nav_link")+" svelte-15d99qr"),attr(vt,"href","/"),attr(vt,"class","nav_link svelte-15d99qr"),attr(at,"class","svelte-15d99qr"),attr(h,"class","nav svelte-15d99qr"),attr(l,"class","l-navbar svelte-15d99qr"),attr(Ct,"class","gridForAnimation svelte-15d99qr"),attr(gt,"class","pt-3 px-1 mb-5 d-flex flex-column align-items-center svelte-15d99qr"),set_style(gt,"min-height","100vh"),attr(wt,"class","container-fluid px-0 px-md-1 svelte-15d99qr"),attr(o,"class","body-pd svelte-15d99qr")},m(kt,Mt){append(document.head,t),insert(kt,r,Mt),insert(kt,o,Mt),append(o,l),append(l,h),append(h,y),append(y,D),append(y,O),append(y,F),append(F,R),append(R,B),append(R,j),append(R,q),append(F,W),append(F,G),append(G,Y),append(G,X),append(G,K),append(F,J),append(F,et),append(et,nt),append(et,Z),append(et,it),append(F,tt),append(F,st),append(st,ht),append(st,ct),append(st,lt),append(h,ot),append(h,at),append(at,dt),append(dt,ft),append(dt,mt),append(dt,bt),append(at,yt),append(at,vt),append(o,St),append(o,wt),append(wt,gt),append(gt,Ct),_t.m(Ct,null),Et=!0,Pt||(pt=[listen(R,"click",e[5]),listen(G,"click",e[6]),listen(et,"click",e[7]),listen(st,"click",e[8]),listen(dt,"click",e[9])],Pt=!0)},p(kt,[Mt]){(!Et||Mt&1&&U!==(U=null_to_empty(kt[0]=="editor"?"nav_link active":"nav_link")+" svelte-15d99qr"))&&attr(R,"class",U),(!Et||Mt&1&&Q!==(Q=null_to_empty(kt[0]=="projects"?"nav_link active":"nav_link")+" svelte-15d99qr"))&&attr(G,"class",Q),(!Et||Mt&1&&rt!==(rt=null_to_empty(kt[0]=="templates"?"nav_link active":"nav_link")+" svelte-15d99qr"))&&attr(et,"class",rt),(!Et||Mt&1&&ut!==(ut=null_to_empty(kt[0]=="contacts"?"nav_link active":"nav_link")+" svelte-15d99qr"))&&attr(st,"class",ut),(!Et||Mt&1&&xt!==(xt=null_to_empty(kt[0]=="account"?"nav_link active":"nav_link")+" svelte-15d99qr"))&&attr(dt,"class",xt),Mt&1&&safe_not_equal(Tt,Tt=kt[0])?(group_outros(),transition_out(_t,1,1,noop$2),check_outros(),_t=create_key_block(kt),_t.c(),transition_in(_t,1),_t.m(Ct,null)):_t.p(kt,Mt)},i(kt){Et||(transition_in(_t),Et=!0)},o(kt){transition_out(_t),Et=!1},d(kt){detach(t),kt&&detach(r),kt&&detach(o),_t.d(kt),Pt=!1,run_all(pt)}}}function instance$1(e,t,r){let o="projects",l={proj:{nom_proj:"",color:"",jsonContent:[]},id:null};const h=(Q,J=null)=>{Q=="new"?r(1,l={proj:{nom_proj:"",color:"",jsonContent:[]},id:J}):r(1,l={proj:Q,id:J}),r(0,o="editor")};let y;const D=Q=>{r(2,y=Q),r(0,o="projectView")},O=()=>{h("new")},F=()=>r(0,o="projects"),R=()=>r(0,o="templates"),B=()=>r(0,o="contacts"),j=()=>r(0,o="account");function q(Q){o=Q,r(0,o)}function U(Q){o=Q,r(0,o)}function W(Q){o=Q,r(0,o)}function G(Q){o=Q,r(0,o)}function Y(Q){o=Q,r(0,o)}function X(Q){o=Q,r(0,o)}function K(Q){o=Q,r(0,o)}return[o,l,y,h,D,O,F,R,B,j,q,U,W,G,Y,X,K]}class Dash extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$2,safe_not_equal,{})}}var sondage_svelte_svelte_type_style_lang="";function create_catch_block(e){let t=e[5]+"",r;return{c(){r=text(t)},m(o,l){insert(o,r,l)},p:noop$2,i:noop$2,o:noop$2,d(o){o&&detach(r)}}}function create_then_block(e){let t,r;return t=new Chat({props:{chatContent:e[4],scode:e[0]}}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},p:noop$2,i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_pending_block(e){let t;return{c(){t=text("waiting")},m(r,o){insert(r,t,o)},p:noop$2,i:noop$2,o:noop$2,d(r){r&&detach(t)}}}function create_fragment$1(e){let t,r,o,l={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:4,error:5,blocks:[,,,]};return handle_promise(e[1],l),{c(){t=element("div"),r=element("div"),l.block.c(),attr(r,"class","container svelte-1kd2yfh"),attr(t,"class","body svelte-1kd2yfh")},m(h,y){insert(h,t,y),append(t,r),l.block.m(r,l.anchor=null),l.mount=()=>r,l.anchor=null,o=!0},p(h,[y]){e=h,update_await_block_branch(l,e,y)},i(h){o||(transition_in(l.block),o=!0)},o(h){for(let y=0;y<3;y+=1){const D=l.blocks[y];transition_out(D)}o=!1},d(h){h&&detach(t),l.block.d(),l.token=null,l=null}}}function instance(e){let t=window.location.href.split("#")[1];async function r(){var l=new Headers;return l.append("Content-Type","application/json"),fetch(`https://retinereq.jetevois.fr:8000/sondages/${t}/`,{method:"GET",headers:l,redirect:"follow"}).then(h=>h.text()).then(h=>{let y=JSON.parse(h);return y.jsonContent=JSON.parse(y.jsonContent),console.log(y),y}).catch(h=>{throw new Error(h)})}let o=r();return[t,o]}class Sondage extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment$1,safe_not_equal,{})}}function create_default_slot_3(e){let t,r;return t=new Home({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_default_slot_2(e){let t,r;return t=new Dash({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_default_slot_1(e){let t,r;return t=new Sondage({}),{c(){create_component(t.$$.fragment)},m(o,l){mount_component(t,o,l),r=!0},i(o){r||(transition_in(t.$$.fragment,o),r=!0)},o(o){transition_out(t.$$.fragment,o),r=!1},d(o){destroy_component(t,o)}}}function create_default_slot(e){let t,r,o,l,h,y;return t=new Route({props:{path:"/",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:e}}}),o=new Route({props:{path:"dashboard",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:e}}}),h=new Route({props:{path:"sondage",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),r=space(),create_component(o.$$.fragment),l=space(),create_component(h.$$.fragment)},m(D,O){mount_component(t,D,O),insert(D,r,O),mount_component(o,D,O),insert(D,l,O),mount_component(h,D,O),y=!0},p(D,O){const F={};O&1&&(F.$$scope={dirty:O,ctx:D}),t.$set(F);const R={};O&1&&(R.$$scope={dirty:O,ctx:D}),o.$set(R);const B={};O&1&&(B.$$scope={dirty:O,ctx:D}),h.$set(B)},i(D){y||(transition_in(t.$$.fragment,D),transition_in(o.$$.fragment,D),transition_in(h.$$.fragment,D),y=!0)},o(D){transition_out(t.$$.fragment,D),transition_out(o.$$.fragment,D),transition_out(h.$$.fragment,D),y=!1},d(D){destroy_component(t,D),D&&detach(r),destroy_component(o,D),D&&detach(l),destroy_component(h,D)}}}function create_fragment(e){let t,r,o,l,h,y,D,O,F,R,B;return R=new Router({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),{c(){t=element("link"),r=element("link"),o=text(`^\r
  `),l=element("link"),h=element("script"),D=element("link"),O=space(),F=element("main"),create_component(R.$$.fragment),attr(t,"href","https://fonts.googleapis.com/css2?family=Lexend&display=swap"),attr(t,"rel","stylesheet"),attr(r,"href","https://fonts.googleapis.com/css2?family=Raleway:wght@500&display=swap"),attr(r,"rel","stylesheet"),attr(l,"rel","stylesheet"),attr(l,"href","https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"),attr(l,"integrity","sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"),attr(l,"crossorigin","anonymous"),src_url_equal(h.src,y="https://cdn.jsdelivr.net/npm/sweetalert2@11")||attr(h,"src",y),attr(D,"rel","stylesheet"),attr(D,"href","assets/generalStyle.css")},m(j,q){append(document.head,t),append(document.head,r),append(document.head,o),append(document.head,l),append(document.head,h),append(document.head,D),insert(j,O,q),insert(j,F,q),mount_component(R,F,null),B=!0},p(j,[q]){const U={};q&1&&(U.$$scope={dirty:q,ctx:j}),R.$set(U)},i(j){B||(transition_in(R.$$.fragment,j),B=!0)},o(j){transition_out(R.$$.fragment,j),B=!1},d(j){detach(t),detach(r),detach(o),detach(l),detach(h),detach(D),j&&detach(O),j&&detach(F),destroy_component(R)}}}class App extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment,safe_not_equal,{})}}new App({target:document.getElementById("app")});
